import{a as M,m as x,b as A,c as H,o as i,d as r,r as g,e as n,f as v,F as f,g as E,S as V,h as D,i as X,l as p,V as U,j as R,G,T,k as Y,M as J,O as K,n as Q,t as Z,p as B,P as ee,q as j,w as S,v as w,s as c,u as I,x as $,y as F,z as te,A as ne,W as se,B as C,C as O,D as ae,E as oe,H as le,I as ie,J as re}from"./vendor-8862e422.js";window.axios=M;M.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const L={computed:{geoserverUrl(){return this.config.geoserver_base_url+"/geoserver/aurin/ows"}},methods:{getWfsFeatureInfo:function(e,t,s){const o=new URLSearchParams({service:"WFS",version:"2.0.0",featureId:s,request:"GetFeature",typeNames:e+":"+t,outputFormat:"application/json"});return this.geoserverUrl+"?"+o.toString()}}},_=(e,t)=>{const s=e.__vccOpts||e;for(const[o,a]of t)s[o]=a;return s},ue={mixins:[L],data(){return{}},computed:{...x({wetlands:"wetlandNames"}),...x(["selectedWetland"])},methods:{...A(["storeWetland"])},mounted(){let e=this,t={sourceId:"wetlands",templates:{item({item:s}){return s.name}},getItems({query:s}){return e.wetlands.filter(function(o){return o.name.match(new RegExp(s,"i"))})},getItemInputValue({item:s}){return s.name},onSelect({item:s}){if(!e.selectedWetland||e.selectedWetland.getId()!=="wetlands."+s.id){const o=e.getWfsFeatureInfo("aurin","wetlands",s.id);e.storeWetland(o)}}};H({container:"#wetland-search",placeholder:"Search by Wetland Name",getSources({query:s}){return[t]}})}},de={id:"wetland-search"};function ce(e,t,s,o,a,l){return i(),r("div",de)}const pe=_(ue,[["render",ce]]);function W(e,t){e.getView().fit(t,{padding:[50,50,50,50]})}function z(e){return e.getId().split(".")[1]}const he={methods:{zoomToFullExtent(e){return W(e,e.get("MAP_EXTENT"))},resetFilters(){this.$emit("reset:filters")}},components:{WetlandSearch:pe},props:["protectionStatus","landUse","map"],emits:["update:protectionStatus","update:landUse","reset:filters"],mounted(){}},me={class:"row justify-content-center align-items-center map-controls"},_e={class:"col-auto"},fe=n("i",{class:"bi bi-zoom-out",title:"View full map"},null,-1),ve=[fe],ge=n("i",{class:"bi bi-eraser",title:"Reset map filters"},null,-1),be=[ge],Se={class:"map-filters"},we={class:"row"},ye={class:"col"},Ce={class:"row justify-content-center align-items-center"},xe={class:"col-12 col-lg-7 offset-lg-5 col-xl-6 offset-xl-6 mb-1"},We={class:"form-floating"},Ae=["value"],Ie=E('<option value="Conservation Park">Conservation Park</option><option value="Heritage River">Heritage River</option><option value="Natural Catchment Area">Natural Catchment Area</option><option value="Nature Conservation Reserve">Nature Conservation Reserve</option><option value="Natural Features Reserve">Natural Features Reserve</option><option value="National Park">National Park</option><option value="Private Nature Reserve">Private Nature Reserve</option><option value="Ramsar">Ramsar Site</option><option value="Reference Area">Reference Area</option><option value="State Park">State Park</option><option value="Other">Other</option><option value="none">No protection</option><option value="any">Any protection</option><option value="all">No Filter</option>',14),$e=[Ie],Fe=n("label",{for:"protectionStatus"},"Filter by protection status",-1),Le={class:"col-12 col-lg-7 offset-lg-5 col-xl-6 offset-xl-6 mb-1"},Pe={class:"form-floating"},ke=["value"],Ne=E('<option value="Channel/aqueduct">Channel/aqueduct</option><option value="Cropping">Cropping</option><option value="Estuary/coastal waters">Estuary/coastal waters</option><option value="Grazing irrigated modified pastures">Grazing irrigated modified pastures </option><option value="Grazing modified pastures">Grazing modified pastures</option><option value="Grazing native vegetation">Grazing native vegetation</option><option value="Intensive animal production">Intensive animal production</option><option value="Intensive horticulture">Intensive horticulture</option><option value="Irrigated cropping">Irrigated cropping</option><option value="Irrigated land in transition">Irrigated land in transition</option><option value="Irrigated perennial horticulture">Irrigated perennial horticulture </option><option value="Irrigated plantation forests">Irrigated plantation forests</option><option value="Irrigated seasonal horticulture">Irrigated seasonal horticulture </option><option value="Lake">Lake</option><option value="Land in transition">Land in transition</option><option value="Managed resource protection">Managed resource protection</option><option value="Manufacturing and industrial">Manufacturing and industrial</option><option value="Marsh/wetland">Marsh/wetland</option><option value="Mining">Mining</option><option value="Nature conservation">Nature conservation</option><option value="Other minimal use">Other minimal use</option><option value="Perennial horticulture">Perennial horticulture</option><option value="Plantation forests">Plantation forests</option><option value="Production native forests">Production native forests</option><option value="Reservoir/dam">Reservoir/dam</option><option value="Residential and farm infrastructure">Residential and farm infrastructure</option><option value="River">River</option><option value="Seasonal horticulture">Seasonal horticulture</option><option value="Services">Services</option><option value="Transport and communication">Transport and communication</option><option value="Utilities">Utilities</option><option value="Waste treatment and disposal">Waste treatment and disposal</option><option value="all">No Filter</option>',33),Ue=[Ne],Re=n("label",{for:"landUse"},"Filter by land use",-1),Te={class:"col-12 col-lg-7 offset-lg-5 col-xl-6 offset-xl-6 mb-1"};function Me(e,t,s,o,a,l){const d=g("WetlandSearch");return i(),r(f,null,[n("div",me,[n("div",_e,[n("button",{class:"btn btn-sm btn-light d-block mt-3",title:"View full map",type:"button",onClick:t[0]||(t[0]=h=>l.zoomToFullExtent(s.map))},ve),n("button",{class:"btn btn-sm btn-light d-block",title:"Reset map filters",type:"button",onClick:t[1]||(t[1]=h=>l.resetFilters(s.map))},be)])]),n("div",Se,[n("form",null,[n("div",we,[n("div",ye,[n("div",Ce,[n("div",xe,[n("div",We,[n("select",{class:"form-select","aria-label":"Filter by protection status",name:"protection_status",id:"protectionStatus",value:s.protectionStatus,onInput:t[2]||(t[2]=h=>e.$emit("update:protectionStatus",h.target.value))},$e,40,Ae),Fe])]),n("div",Le,[n("div",Pe,[n("select",{class:"form-select","aria-label":"Filter by land use",name:"landuse",id:"landUse",value:s.landUse,onInput:t[3]||(t[3]=h=>e.$emit("update:landUse",h.target.value))},Ue,40,ke),Re])]),n("div",Te,[v(d)])])])])])])],64)}const Ee=_(he,[["render",Me]]),Ve=new V({stroke:new D({color:"#3f3f3f",width:2}),fill:new X({color:"rgba(255,184,0,0.6)"})}),De=[144.1168836932806,-38.56752038512003,146.16343402067832,-37.2082605301041],Ge={components:{MapControls:Ee},data(){return{sidebar:null,wetlandName:"",layers:{wetlands:null,selected:null},viewparams:{wetlands:{protection:"all",landuse:"all"}},map:null}},computed:{...x(["selectedWetland"])},mixins:[L],methods:{buildViewParams(e){return p.reduce(e,function(t,s,o){return t=(t!==""?t+";":t)+o+":"+s,t},"")},updateProtectionStatus(e){this.viewparams.wetlands.protection=e},updateLandUse(e){this.viewparams.wetlands.landuse=e},resetMapFilters(){this.viewparams.wetlands={protection:"all",landuse:"all"}},selectFeature(e){let t=this;const s=t.layers.wetlands.getSource().getFeatureInfoUrl(e.coordinate,t.map.getView().getResolution(),"EPSG:3857",{INFO_FORMAT:"application/json"});this.storeWetland(s)},renderSelectedFeature(e){let t=this;t.layers.selected.getSource().clear(),e&&(t.layers.selected.getSource().addFeature(e),W(t.map,e.getGeometry().getExtent()),t.pushWetlandInfoRoute(e))},pushWetlandInfoRoute(e){let t=z(e);t!==this.$route.params.id&&this.$router.push({name:"wetland-report",params:{id:t}})},pushHomeRoute(){this.$router.push({name:"intro"})},...A(["storeWetland"])},watch:{selectedWetland(e){e?this.pushWetlandInfoRoute(e):this.pushHomeRoute(),this.renderSelectedFeature(e)},"viewparams.wetlands":{deep:!0,handler:function(){let e=this.layers.wetlands.getSource();e.updateParams(p.merge(e.getParams(),{VIEWPARAMS:this.buildViewParams(this.viewparams.wetlands)}))}}},mounted(){let e=this;const t=new U({source:new R({url:e.geoserverUrl+"?service=WFS&version=1.1.0&request=GetFeature&typeName=aurin:mw_boundary_simplified&outputFormat=application/json",format:new G}),style:new V({stroke:new D({color:"#000",width:"1"})})});e.layers.wetlands=new T({source:new Y({url:e.geoserverUrl,params:{LAYERS:"aurin:wetlands",TILED:!0,VIEWPARAMS:this.buildViewParams(this.viewparams.wetlands)}})}),e.layers.selected=new U({source:new R({}),style:Ve}),e.map=new J({target:"map",layers:[new T({source:new K}),t,this.layers.wetlands,this.layers.selected],view:new Q({center:[0,0],zoom:2})}),e.map.set("MAP_EXTENT",Z(De,"EPSG:7844","EPSG:3857")),W(e.map,e.map.get("MAP_EXTENT")),e.map.on("singleclick",e.selectFeature)}},Be={class:"col-4 sidebar"},je={class:"col-8 viewport"},Oe={id:"viewport"},ze=n("div",{id:"map"},null,-1);function qe(e,t,s,o,a,l){const d=g("router-view"),h=g("MapControls");return i(),r(f,null,[n("div",Be,[(i(),B(d,{name:"sidebar",key:e.$route.path,feature:e.selectedWetland},null,8,["feature"]))]),n("div",je,[n("div",Oe,[v(h,{protectionStatus:this.viewparams.wetlands.protection,landUse:this.viewparams.wetlands.landuse,"onUpdate:protectionStatus":l.updateProtectionStatus,"onUpdate:landUse":l.updateLandUse,"onReset:filters":l.resetMapFilters,map:a.map},null,8,["protectionStatus","landUse","onUpdate:protectionStatus","onUpdate:landUse","onReset:filters","map"]),ze])])],64)}const He=_(Ge,[["render",qe]]),Xe={name:"SidebarXhrContent",data(){return{content:"Loading ..."}},watch:{},computed:{contentPath(){return this.$route.name?"/content/"+this.$route.name:null}},mounted(){const e=this;e.contentPath&&axios.get(e.contentPath).then(function(t){e.content=t.data}).then(function(){var t=[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'));t.map(function(s){return new ee(s)})})}},Ye=["innerHTML"];function Je(e,t,s,o,a,l){return i(),r("div",{innerHTML:a.content},null,8,Ye)}const b=_(Xe,[["render",Je]]);const Ke={props:["landUseData","index"],data(){return{showAllData:!1}},methods:{toggleTable(){this.showAllData=!this.showAllData},showDataRow(e){return e===0||this.showAllData}},mounted(){let e=[],t=this,s=t.landUseData;p.forEach(s.data,function(a){let l={name:a.usage,hoverinfo:"name",x:[],y:[s.label],type:"bar",orientation:"h"};l.x.push(a.percentage),e.push(l)});let o=t.$el.getElementsByClassName("landUseChart")[0];j.newPlot(o,e,{showlegend:!1,margin:{t:0,b:0,l:0,r:0,pad:0},barmode:"stack",height:20,yaxis:{zeroline:!1,showgrid:!1,visible:!1},xaxis:{visible:!1,range:[0,100]}},{displayModeBar:!1,responsive:!0})}},Qe=n("i",{class:"bi bi-clipboard-data"},null,-1),Ze=[Qe],et=n("div",{class:"landUseChart"},null,-1),tt={class:"landUseTable"},nt={class:"table"},st={class:"text-end"};function at(e,t,s,o,a,l){return i(),r("div",null,[S(n("button",{type:"button",class:"btn btn-sm float-end",onClick:t[0]||(t[0]=d=>l.toggleTable())},Ze,512),[[w,s.landUseData.data.length>1]]),n("h3",null,c(s.landUseData.label),1),et,n("div",tt,[n("table",nt,[(i(!0),r(f,null,I(s.landUseData.data,(d,h)=>S((i(),r("tr",null,[n("td",null,c(d.usage),1),n("td",st,c(d.percentage),1)],512)),[[w,l.showDataRow(h)]])),256))])])])}const ot=_(Ke,[["render",at]]);const lt={props:["seasonalCounts","showChart","index"],data(){return{chartTitle:"Latham's Snipe Project Counts By Season"}},methods:{drawSeasonalCountsChart(){let e=[],t=this,s={x:[],y:[],type:"bar",orientation:"v"};t.seasonalCounts.forEach(function(a){s.x.push(a.season),s.y.push(a.count)}),e.push(s);let o=t.$el.getElementsByClassName("seasonalCountChart")[0];j.newPlot(o,e,{showlegend:!1,margin:{t:0,l:20,r:30,pad:0},autosize:!0,height:400},{displayModeBar:!1,responsive:!0})}},mounted(){this.drawSeasonalCountsChart()}},it=e=>($("data-v-d4579635"),e=e(),F(),e),rt=it(()=>n("div",{class:"seasonalCountChart"},null,-1)),ut=[rt];function dt(e,t,s,o,a,l){return i(),r("div",null,ut)}const ct=_(lt,[["render",dt],["__scopeId","data-v-d4579635"]]);const pt={name:"SpeciesList",emits:["closed"],props:{visible:Boolean,speciesList:Array,title:String,id:String},data(){return{modal:null}},watch:{visible:function(){this.toggleModal()}},methods:{toggleModal(){this.visible?this.modal.show():this.modal.hide()},isThreatened(e){return p.isArray(e.conservation)?"No":"Yes"},commonNames(e){let t;return e.hasOwnProperty("common_names")?t=e.common_names.join(", "):t=e.common_name,t}},mounted(){const e=this;let t=document.getElementById(this.id);this.modal=new te(t),t.addEventListener("hide.bs.modal",function(s){e.$emit("closed")}),this.toggleModal()}},P=e=>($("data-v-ac390c36"),e=e(),F(),e),ht=["id"],mt={class:"modal-dialog modal-xl"},_t={class:"modal-content"},ft={class:"modal-header"},vt={class:"modal-title"},gt=P(()=>n("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),bt={class:"modal-body"},St={class:"table table-bordered"},wt=P(()=>n("tr",null,[n("th",null,"Scientific Name"),n("th",null,"Common names"),n("th",null,"Threatened?")],-1)),yt=["href"],Ct=["href"],xt=P(()=>n("i",{class:"bi bi-box-arrow-up-right"},null,-1)),Wt=[xt];function At(e,t,s,o,a,l){return i(),r("div",null,[n("div",{id:s.id,class:"modal",tabindex:"-1"},[n("div",mt,[n("div",_t,[n("div",ft,[n("h5",vt,c(s.title),1),gt]),n("div",bt,[n("table",St,[wt,(i(!0),r(f,null,I(s.speciesList,d=>(i(),r("tr",null,[n("td",null,[n("a",{href:"https://bie.ala.org.au/species/"+d.guid,target:"_blank"},c(d.scientific_name),9,yt),ne(),n("a",{href:"https://bie.ala.org.au/species/"+d.guid,target:"_blank"},Wt,8,Ct)]),n("td",null,c(l.commonNames(d)),1),n("td",null,c(l.isThreatened(d)),1)]))),256))])])])])],8,ht)])}const It=_(pt,[["render",At],["__scopeId","data-v-ac390c36"]]);const $t={name:"WetlandReport",components:{SpeciesList:It,SeasonalCountsChart:ct,LandUseChart:ot},props:["feature","id"],mixins:[L],data(){return{showWaterbirdList:!1,showFrogList:!1,landuseEndpointMap:{"Wetland in buffer (%)":"wetlands","Vicmap Planning Zones":"planning/zones","Vicmap Planning Overlays":"planning/overlays","VLUIS Property Classification":"vluis/property","VLUIS Land Use":"vluis/alum","VLUIS Land Cover":"vluis/landcover"},stateAbbreviations:{Victoria:"vic",Queensland:"qld","New South Wales":"nsw",Tasmania:"tas","Australian Capital Territory":"act","Northern Territory":"nt","Western Australia":"wa","South Australia":"sa"},content:"",alaWaterbirdSpecies:null,alaFrogSpecies:null,landuse:[],snipe:{seasonalCounts:[],alaSeasonalCounts:[]},showSeasonalCountChart:!1,showAlaSeasonalCountChart:!1}},watch:{feature(e){e&&this.renderWetlandInfo(e)}},computed:{wetlandName(){return this.feature.get("name")},protectionStatus(){return this.feature===null||!this.feature.get("protection_status")?"Unknown":this.feature.get("protection_status")[0]===null?"None":this.feature.get("protection_status").join(", ")},featureStateAbbreviations(){return p.values(p.pick(this.stateAbbreviations,this.feature.get("states")))},threatenedAlaWaterbirdSpecies(){let e=this;return e.alaWaterbirdSpecies?p.filter(e.alaWaterbirdSpecies,function(t){let s=["aus",...e.featureStateAbbreviations],o=Object.keys(t.conservation);return p.intersection(s,o).length>0}):null},threatenedAlaFrogSpecies(){let e=this;return e.alaFrogSpecies?p.filter(e.alaFrogSpecies,function(t){let s=["aus",...e.featureStateAbbreviations],o=Object.keys(t.conservation);return p.intersection(s,o).length>0}):null},maxSnipeSeasonCount(){return this.snipe.seasonalCounts.length>0?p.maxBy(this.snipe.seasonalCounts,e=>parseInt(e.count)):null},maxSnipeAlaSeasonCount(){return this.snipe.alaSeasonalCounts.length>0?p.maxBy(this.snipe.alaSeasonalCounts,e=>parseInt(e.count)):null},maxSnipeSeasonLabel(){let e="?";return this.snipe.seasonalCounts.length>0&&(e="No data",this.maxSnipeSeasonCount&&(e=this.maxSnipeSeasonCount.season+": "+this.maxSnipeSeasonCount.count)),e},maxSnipeAlaSeasonLabel(){let e="?";return this.snipe.alaSeasonalCounts.length>0&&(e="No data",this.maxSnipeAlaSeasonCount&&(e=this.maxSnipeAlaSeasonCount.season+": "+this.maxSnipeAlaSeasonCount.count)),e}},methods:{featureToWkt(e,t){let s={featureProjection:"EPSG:3857"};return typeof t<"u"&&(s.dataProjection="EPSG:"+t),new se().writeFeature(e,s)},fetchAlaWaterbirds(e){let t=this;e?axios.post("/app/area/ala-birds",{wkt:t.featureToWkt(e,7844)}).then(function(s){t.alaWaterbirdSpecies=s.data}):t.alaWaterbirdSpecies=null},fetchAlaFrogs(e){let t=this;e?axios.post("/app/area/ala-frogs",{wkt:t.featureToWkt(e,7844)}).then(function(s){t.alaFrogSpecies=s.data}):t.alaFrogSpecies=null},fetchLandUsage(e){let t=this;t.landuse.length=0,e&&p.forIn(t.landuseEndpointMap,(s,o)=>{t.fetchLandUsePercentage(e,o,s)})},async fetchLandUsePercentage(e,t,s){let o=this;await axios.get("/app/landuse/"+s,{params:{feature:e.getId().split(".").pop()}}).then(function(a){o.landUsePushAndSort({label:t,data:a.data})})},landUsePushAndSort(e){let t=this;t.landuse.push(e),t.landuse=p.sortBy(t.landuse,"label")},async fetchLathamsSnipeSeasonalCounts(e){let t=this;t.snipe.seasonalCounts.length=0,e&&(t.snipe.seasonalCounts=await axios.post("/app/snipe/seasonal-counts",{wkt:t.featureToWkt(e,7844)}).then(function(s){return s.data}))},async fetchSnipeAlaSeasonalCounts(e){let t=this;t.snipe.alaSeasonalCounts.length=0,e&&(t.snipe.alaSeasonalCounts=await axios.post("/app/snipe/ala-seasonal-counts",{wkt:t.featureToWkt(e,7844)}).then(function(s){return s.data}))},renderWetlandInfo(e){this.fetchAlaWaterbirds(e),this.fetchAlaFrogs(e),this.fetchLathamsSnipeSeasonalCounts(e),this.fetchSnipeAlaSeasonalCounts(e),this.fetchLandUsage(e)},...A(["storeWetland"])},mounted(){const e=this;if(e.feature&&z(e.feature)===e.id)e.renderWetlandInfo(e.feature);else{const t=e.getWfsFeatureInfo("aurin","wetlands",e.id);e.storeWetland(t)}}},u=e=>($("data-v-7ff7369d"),e=e(),F(),e),Ft=u(()=>n("h1",null,"Wetland Values Report",-1)),Lt=u(()=>n("p",null," The wetland values report tool provides a summary of the waterbird diversity at a selected wetland. Dominant land uses are reported within 350m of the wetland boundary. ",-1)),Pt={class:"table"},kt=u(()=>n("td",null,"Wetland name",-1)),Nt=u(()=>n("td",null,"Protection Status",-1)),Ut=u(()=>n("h2",null,"ALA Records",-1)),Rt={class:"table"},Tt=u(()=>n("tr",null,[n("th",{colspan:"3"},"Waterbirds")],-1)),Mt=u(()=>n("button",{class:"btn btn-light btn-sm",title:"View species listing/info"},[n("i",{class:"bi bi-list-columns"})],-1)),Et=[Mt],Vt=u(()=>n("tr",null,[n("th",{colspan:"3"},"Frogs")],-1)),Dt=u(()=>n("button",{class:"btn btn-light btn-sm",title:"View species listing/info"},[n("i",{class:"bi bi-list-columns"})],-1)),Gt=[Dt],Bt=u(()=>n("h2",null,"Latham's snipe data",-1)),jt=u(()=>n("p",null," Latham's Snipe is a mysterious migratory waterbird (shorebird) that is cryptic in its plumage and behaviour. This means it is often overlooked in monitoring and assessment. As a result, its wetland habitats are frequently threatened by land use change. ",-1)),Ot={class:"table"},zt=u(()=>n("td",null,"Maximum number of Latham's Snipe",-1)),qt=u(()=>n("i",{class:"bi bi-bar-chart"},null,-1)),Ht=[qt],Xt={key:0},Yt={colspan:"3"},Jt=u(()=>n("td",null,"Maximum number of Latham's Snipe (ALA)",-1)),Kt=u(()=>n("i",{class:"bi bi-bar-chart"},null,-1)),Qt=[Kt],Zt={key:1},en={colspan:"3"},tn=u(()=>n("h2",null,"Land use",-1)),nn=u(()=>n("p",null," The built environment surrounding a wetland will influence its value for biodiversity. A wetland surrounded by housing or industry may provide less habitat for wetland birds than a wetland located near other wetlands. But it may also provide a refuge for birds transiting through an urban landscape. ",-1)),sn={class:"table"},an={key:0},on=u(()=>n("td",null,"?",-1)),ln=[on],rn={key:1},un={colspan:"2"},dn={class:"w-100"},cn=u(()=>n("thead",null,[n("tr",null,[n("th",null,"Source / Primary classification"),n("th",null,"%")])],-1)),pn={colspan:"2"};function hn(e,t,s,o,a,l){const d=g("seasonal-counts-chart"),h=g("land-use-chart"),N=g("species-list");return i(),r(f,null,[Ft,Lt,s.feature?(i(),r(f,{key:0},[n("table",Pt,[n("tbody",null,[n("tr",null,[kt,n("td",null,c(l.wetlandName),1)]),n("tr",null,[Nt,n("td",null,c(l.protectionStatus),1)])])]),Ut,n("table",Rt,[n("tbody",null,[Tt,n("tr",null,[n("td",null,c(a.alaWaterbirdSpecies==null?"?":a.alaWaterbirdSpecies.length)+" species",1),n("td",null,c(l.threatenedAlaWaterbirdSpecies==null?"?":l.threatenedAlaWaterbirdSpecies.length)+" threatened ",1),n("td",{class:"text-end",onClick:t[0]||(t[0]=m=>a.showWaterbirdList=!0)},Et)]),Vt,n("tr",null,[n("td",null,c(a.alaFrogSpecies==null?"?":a.alaFrogSpecies.length)+" species",1),n("td",null,c(l.threatenedAlaFrogSpecies==null?"?":l.threatenedAlaFrogSpecies.length)+" threatened",1),n("td",{class:"text-end",onClick:t[1]||(t[1]=m=>a.showFrogList=!0)},Gt)])])]),Bt,jt,n("table",Ot,[n("tbody",null,[n("tr",null,[zt,n("td",null,c(l.maxSnipeSeasonLabel),1),n("td",null,[S(n("button",{type:"button",class:"btn btn-sm float-end",onClick:t[2]||(t[2]=m=>a.showSeasonalCountChart=!a.showSeasonalCountChart)},Ht,512),[[w,a.snipe.seasonalCounts.length&&l.maxSnipeSeasonCount]])])]),a.showSeasonalCountChart?(i(),r("tr",Xt,[n("td",Yt,[v(d,{"seasonal-counts":a.snipe.seasonalCounts,index:1},null,8,["seasonal-counts"])])])):C("",!0),n("tr",null,[Jt,n("td",null,c(l.maxSnipeAlaSeasonLabel),1),n("td",null,[S(n("button",{type:"button",class:"btn btn-sm float-end",onClick:t[3]||(t[3]=m=>a.showAlaSeasonalCountChart=!a.showAlaSeasonalCountChart)},Qt,512),[[w,a.snipe.alaSeasonalCounts.length&&l.maxSnipeAlaSeasonCount]])])]),a.showAlaSeasonalCountChart?(i(),r("tr",Zt,[n("td",en,[v(d,{"seasonal-counts":a.snipe.alaSeasonalCounts,index:2},null,8,["seasonal-counts"])])])):C("",!0)])]),tn,nn,n("table",sn,[n("tbody",null,[a.landuse.length?(i(),r("tr",rn,[n("td",un,[n("table",dn,[cn,(i(!0),r(f,null,I(a.landuse,(m,q)=>(i(),r("tbody",null,[n("tr",null,[n("td",pn,[(i(),B(h,{landUseData:m,key:m.label,index:q},null,8,["landUseData","index"]))])])]))),256))])])])):(i(),r("tr",an,ln))])]),v(N,{visible:a.showWaterbirdList,"species-list":a.alaWaterbirdSpecies,title:"Waterbirds",id:"list-waterbirds",onClosed:t[4]||(t[4]=m=>a.showWaterbirdList=!1)},null,8,["visible","species-list"]),v(N,{visible:a.showFrogList,"species-list":a.alaFrogSpecies,title:"Frogs",id:"list-frogs",onClosed:t[5]||(t[5]=m=>a.showFrogList=!1)},null,8,["visible","species-list"])],64)):C("",!0)],64)}const mn=_($t,[["render",hn],["__scopeId","data-v-7ff7369d"]]);O.defs("EPSG:7844","+proj=longlat +ellps=GRS80 +no_defs +type=crs");ae(O);const _n=oe({history:le(),routes:[{path:"/",name:"intro",components:{sidebar:b}},{path:"/about",name:"about",components:{sidebar:b}},{path:"/terms",name:"terms",components:{sidebar:b}},{path:"/contact",name:"contact",components:{sidebar:b}},{path:"/wetland/:id",name:"wetland-report",components:{sidebar:mn},props:!0}]}),k=ie({state(){return{selectedWetland:null,speciesInfo:null,wetlandNames:[]}},mutations:{storeWetlandNames(e,t){e.wetlandNames=t},selectWetland(e,t){let s=null;t!==null&&(["protection_status","states"].forEach(function(a){t.properties[a]=JSON.parse(t.properties[a])}),s=new G().readFeature(t)),e.selectedWetland=s},updateSpeciesInfo(e,t){e.speciesInfo=t}},actions:{async storeWetland(e,t){let s=await axios.get(t).then(function(o){let a=null;return o.data.features.length&&(a=o.data.features[0]),a});e.commit("selectWetland",s)}}});axios.get("/app/wetlands").then(function(e){k.commit("storeWetlandNames",e.data)});axios.get("/app/species-info").then(function(e){k.commit("updateSpeciesInfo",e.data)});const y=re({components:{"map-viewport":He}});y.config.globalProperties.config=await axios.get("/app/config").then(function(e){return e.data});y.use(k);y.use(_n);y.mount("#app");
