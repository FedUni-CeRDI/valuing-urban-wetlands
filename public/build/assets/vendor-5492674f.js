function mP(e,t){return function(){return e.apply(t,arguments)}}const{toString:YB}=Object.prototype,{getPrototypeOf:AE}=Object,mb=(e=>t=>{const n=YB.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),dc=e=>(e=e.toLowerCase(),t=>mb(t)===e),vb=e=>t=>typeof t===e,{isArray:b0}=Array,$m=vb("undefined");function WB(e){return e!==null&&!$m(e)&&e.constructor!==null&&!$m(e.constructor)&&Cl(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const vP=dc("ArrayBuffer");function $B(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&vP(e.buffer),t}const qB=vb("string"),Cl=vb("function"),yP=vb("number"),yb=e=>e!==null&&typeof e=="object",XB=e=>e===!0||e===!1,U1=e=>{if(mb(e)!=="object")return!1;const t=AE(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},KB=dc("Date"),ZB=dc("File"),JB=dc("Blob"),QB=dc("FileList"),tG=e=>yb(e)&&Cl(e.pipe),eG=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Cl(e.append)&&((t=mb(e))==="formdata"||t==="object"&&Cl(e.toString)&&e.toString()==="[object FormData]"))},nG=dc("URLSearchParams"),rG=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fy(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),b0(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const a=n?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let o;for(r=0;r<s;r++)o=a[r],t.call(null,e[o],o,e)}}function _P(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const xP=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),bP=e=>!$m(e)&&e!==xP;function j3(){const{caseless:e}=bP(this)&&this||{},t={},n=(r,i)=>{const a=e&&_P(t,i)||i;U1(t[a])&&U1(r)?t[a]=j3(t[a],r):U1(r)?t[a]=j3({},r):b0(r)?t[a]=r.slice():t[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&fy(arguments[r],n);return t}const iG=(e,t,n,{allOwnKeys:r}={})=>(fy(t,(i,a)=>{n&&Cl(i)?e[a]=mP(i,n):e[a]=i},{allOwnKeys:r}),e),aG=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),oG=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},sG=(e,t,n,r)=>{let i,a,s;const o={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],(!r||r(s,e,t))&&!o[s]&&(t[s]=e[s],o[s]=!0);e=n!==!1&&AE(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},lG=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},uG=e=>{if(!e)return null;if(b0(e))return e;let t=e.length;if(!yP(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},cG=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&AE(Uint8Array)),fG=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},hG=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},dG=dc("HTMLFormElement"),pG=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),PA=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),gG=dc("RegExp"),wP=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};fy(n,(i,a)=>{let s;(s=t(i,a,e))!==!1&&(r[a]=s||i)}),Object.defineProperties(e,r)},mG=e=>{wP(e,(t,n)=>{if(Cl(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Cl(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},vG=(e,t)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return b0(e)?r(e):r(String(e).split(t)),n},yG=()=>{},_G=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Uw="abcdefghijklmnopqrstuvwxyz",NA="0123456789",TP={DIGIT:NA,ALPHA:Uw,ALPHA_DIGIT:Uw+Uw.toUpperCase()+NA},xG=(e=16,t=TP.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function bG(e){return!!(e&&Cl(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const wG=e=>{const t=new Array(10),n=(r,i)=>{if(yb(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const a=b0(r)?[]:{};return fy(r,(s,o)=>{const l=n(s,i+1);!$m(l)&&(a[o]=l)}),t[i]=void 0,a}}return r};return n(e,0)},TG=dc("AsyncFunction"),EG=e=>e&&(yb(e)||Cl(e))&&Cl(e.then)&&Cl(e.catch),cn={isArray:b0,isArrayBuffer:vP,isBuffer:WB,isFormData:eG,isArrayBufferView:$B,isString:qB,isNumber:yP,isBoolean:XB,isObject:yb,isPlainObject:U1,isUndefined:$m,isDate:KB,isFile:ZB,isBlob:JB,isRegExp:gG,isFunction:Cl,isStream:tG,isURLSearchParams:nG,isTypedArray:cG,isFileList:QB,forEach:fy,merge:j3,extend:iG,trim:rG,stripBOM:aG,inherits:oG,toFlatObject:sG,kindOf:mb,kindOfTest:dc,endsWith:lG,toArray:uG,forEachEntry:fG,matchAll:hG,isHTMLForm:dG,hasOwnProperty:PA,hasOwnProp:PA,reduceDescriptors:wP,freezeMethods:mG,toObjectSet:vG,toCamelCase:pG,noop:yG,toFiniteNumber:_G,findKey:_P,global:xP,isContextDefined:bP,ALPHABET:TP,generateString:xG,isSpecCompliantForm:bG,toJSONObject:wG,isAsyncFn:TG,isThenable:EG};function Zr(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}cn.inherits(Zr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:cn.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const EP=Zr.prototype,MP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{MP[e]={value:e}});Object.defineProperties(Zr,MP);Object.defineProperty(EP,"isAxiosError",{value:!0});Zr.from=(e,t,n,r,i,a)=>{const s=Object.create(EP);return cn.toFlatObject(e,s,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),Zr.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const MG=null;function U3(e){return cn.isPlainObject(e)||cn.isArray(e)}function SP(e){return cn.endsWith(e,"[]")?e.slice(0,-2):e}function RA(e,t,n){return e?e.concat(t).map(function(i,a){return i=SP(i),!n&&a?"["+i+"]":i}).join(n?".":""):t}function SG(e){return cn.isArray(e)&&!e.some(U3)}const CG=cn.toFlatObject(cn,{},null,function(t){return/^is[A-Z]/.test(t)});function _b(e,t,n){if(!cn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=cn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,m){return!cn.isUndefined(m[g])});const r=n.metaTokens,i=n.visitor||u,a=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&cn.isSpecCompliantForm(t);if(!cn.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(cn.isDate(p))return p.toISOString();if(!l&&cn.isBlob(p))throw new Zr("Blob is not supported. Use a Buffer instead.");return cn.isArrayBuffer(p)||cn.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,g,m){let v=p;if(p&&!m&&typeof p=="object"){if(cn.endsWith(g,"{}"))g=r?g:g.slice(0,-2),p=JSON.stringify(p);else if(cn.isArray(p)&&SG(p)||(cn.isFileList(p)||cn.endsWith(g,"[]"))&&(v=cn.toArray(p)))return g=SP(g),v.forEach(function(_,b){!(cn.isUndefined(_)||_===null)&&t.append(s===!0?RA([g],b,a):s===null?g:g+"[]",c(_))}),!1}return U3(p)?!0:(t.append(RA(m,g,a),c(p)),!1)}const f=[],h=Object.assign(CG,{defaultVisitor:u,convertValue:c,isVisitable:U3});function d(p,g){if(!cn.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(p),cn.forEach(p,function(v,y){(!(cn.isUndefined(v)||v===null)&&i.call(t,v,cn.isString(y)?y.trim():y,g,h))===!0&&d(v,g?g.concat(y):[y])}),f.pop()}}if(!cn.isObject(e))throw new TypeError("data must be an object");return d(e),t}function DA(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function IE(e,t){this._pairs=[],e&&_b(e,this,t)}const CP=IE.prototype;CP.append=function(t,n){this._pairs.push([t,n])};CP.toString=function(t){const n=t?function(r){return t.call(this,r,DA)}:DA;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function AG(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function AP(e,t,n){if(!t)return e;const r=n&&n.encode||AG,i=n&&n.serialize;let a;if(i?a=i(t,n):a=cn.isURLSearchParams(t)?t.toString():new IE(t,n).toString(r),a){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class IG{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){cn.forEach(this.handlers,function(r){r!==null&&t(r)})}}const kA=IG,IP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},OG=typeof URLSearchParams<"u"?URLSearchParams:IE,LG=typeof FormData<"u"?FormData:null,PG=typeof Blob<"u"?Blob:null,NG=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),RG=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),lu={isBrowser:!0,classes:{URLSearchParams:OG,FormData:LG,Blob:PG},isStandardBrowserEnv:NG,isStandardBrowserWebWorkerEnv:RG,protocols:["http","https","file","blob","url","data"]};function DG(e,t){return _b(e,new lu.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,a){return lu.isNode&&cn.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function kG(e){return cn.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function FG(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}function OP(e){function t(n,r,i,a){let s=n[a++];const o=Number.isFinite(+s),l=a>=n.length;return s=!s&&cn.isArray(i)?i.length:s,l?(cn.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!o):((!i[s]||!cn.isObject(i[s]))&&(i[s]=[]),t(n,r,i[s],a)&&cn.isArray(i[s])&&(i[s]=FG(i[s])),!o)}if(cn.isFormData(e)&&cn.isFunction(e.entries)){const n={};return cn.forEachEntry(e,(r,i)=>{t(kG(r),i,n,0)}),n}return null}function zG(e,t,n){if(cn.isString(e))try{return(t||JSON.parse)(e),cn.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const OE={transitional:IP,adapter:lu.isNode?"http":"xhr",transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=cn.isObject(t);if(a&&cn.isHTMLForm(t)&&(t=new FormData(t)),cn.isFormData(t))return i&&i?JSON.stringify(OP(t)):t;if(cn.isArrayBuffer(t)||cn.isBuffer(t)||cn.isStream(t)||cn.isFile(t)||cn.isBlob(t))return t;if(cn.isArrayBufferView(t))return t.buffer;if(cn.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return DG(t,this.formSerializer).toString();if((o=cn.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return _b(o?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),zG(t)):t}],transformResponse:[function(t){const n=this.transitional||OE.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(t&&cn.isString(t)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(o){if(s)throw o.name==="SyntaxError"?Zr.from(o,Zr.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lu.classes.FormData,Blob:lu.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};cn.forEach(["delete","get","head","post","put","patch"],e=>{OE.headers[e]={}});const LE=OE,BG=cn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),GG=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||t[n]&&BG[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},FA=Symbol("internals");function sm(e){return e&&String(e).trim().toLowerCase()}function V1(e){return e===!1||e==null?e:cn.isArray(e)?e.map(V1):String(e)}function jG(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const UG=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Vw(e,t,n,r,i){if(cn.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!cn.isString(t)){if(cn.isString(r))return t.indexOf(r)!==-1;if(cn.isRegExp(r))return r.test(t)}}function VG(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function HG(e,t){const n=cn.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,a,s){return this[r].call(this,t,i,a,s)},configurable:!0})})}class xb{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function a(o,l,c){const u=sm(l);if(!u)throw new Error("header name must be a non-empty string");const f=cn.findKey(i,u);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||l]=V1(o))}const s=(o,l)=>cn.forEach(o,(c,u)=>a(c,u,l));return cn.isPlainObject(t)||t instanceof this.constructor?s(t,n):cn.isString(t)&&(t=t.trim())&&!UG(t)?s(GG(t),n):t!=null&&a(n,t,r),this}get(t,n){if(t=sm(t),t){const r=cn.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return jG(i);if(cn.isFunction(n))return n.call(this,i,r);if(cn.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=sm(t),t){const r=cn.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Vw(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function a(s){if(s=sm(s),s){const o=cn.findKey(r,s);o&&(!n||Vw(r,r[o],o,n))&&(delete r[o],i=!0)}}return cn.isArray(t)?t.forEach(a):a(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!t||Vw(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const n=this,r={};return cn.forEach(this,(i,a)=>{const s=cn.findKey(r,a);if(s){n[s]=V1(i),delete n[a];return}const o=t?VG(a):String(a).trim();o!==a&&delete n[a],n[o]=V1(i),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return cn.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&cn.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[FA]=this[FA]={accessors:{}}).accessors,i=this.prototype;function a(s){const o=sm(s);r[o]||(HG(i,s),r[o]=!0)}return cn.isArray(t)?t.forEach(a):a(t),this}}xb.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);cn.reduceDescriptors(xb.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});cn.freezeMethods(xb);const Uc=xb;function Hw(e,t){const n=this||LE,r=t||n,i=Uc.from(r.headers);let a=r.data;return cn.forEach(e,function(o){a=o.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function LP(e){return!!(e&&e.__CANCEL__)}function hy(e,t,n){Zr.call(this,e??"canceled",Zr.ERR_CANCELED,t,n),this.name="CanceledError"}cn.inherits(hy,Zr,{__CANCEL__:!0});function YG(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Zr("Request failed with status code "+n.status,[Zr.ERR_BAD_REQUEST,Zr.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const WG=lu.isStandardBrowserEnv?function(){return{write:function(n,r,i,a,s,o){const l=[];l.push(n+"="+encodeURIComponent(r)),cn.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),cn.isString(a)&&l.push("path="+a),cn.isString(s)&&l.push("domain="+s),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function $G(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function qG(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function PP(e,t){return e&&!$G(t)?qG(e,t):t}const XG=lu.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(a){let s=a;return t&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const o=cn.isString(s)?i(s):s;return o.protocol===r.protocol&&o.host===r.host}}():function(){return function(){return!0}}();function KG(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ZG(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,a=0,s;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=r[a];s||(s=c),n[i]=l,r[i]=c;let f=a,h=0;for(;f!==i;)h+=n[f++],f=f%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),c-s<t)return;const d=u&&c-u;return d?Math.round(h*1e3/d):void 0}}function zA(e,t){let n=0;const r=ZG(50,250);return i=>{const a=i.loaded,s=i.lengthComputable?i.total:void 0,o=a-n,l=r(o),c=a<=s;n=a;const u={loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&c?(s-a)/l:void 0,event:i};u[t?"download":"upload"]=!0,e(u)}}const JG=typeof XMLHttpRequest<"u",QG=JG&&function(e){return new Promise(function(n,r){let i=e.data;const a=Uc.from(e.headers).normalize(),s=e.responseType;let o;function l(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}cn.isFormData(i)&&(lu.isStandardBrowserEnv||lu.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(e.auth){const d=e.auth.username||"",p=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(d+":"+p))}const u=PP(e.baseURL,e.url);c.open(e.method.toUpperCase(),AP(u,e.params,e.paramsSerializer),!0),c.timeout=e.timeout;function f(){if(!c)return;const d=Uc.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),g={data:!s||s==="text"||s==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:d,config:e,request:c};YG(function(v){n(v),l()},function(v){r(v),l()},g),c=null}if("onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(f)},c.onabort=function(){c&&(r(new Zr("Request aborted",Zr.ECONNABORTED,e,c)),c=null)},c.onerror=function(){r(new Zr("Network Error",Zr.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let p=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const g=e.transitional||IP;e.timeoutErrorMessage&&(p=e.timeoutErrorMessage),r(new Zr(p,g.clarifyTimeoutError?Zr.ETIMEDOUT:Zr.ECONNABORTED,e,c)),c=null},lu.isStandardBrowserEnv){const d=(e.withCredentials||XG(u))&&e.xsrfCookieName&&WG.read(e.xsrfCookieName);d&&a.set(e.xsrfHeaderName,d)}i===void 0&&a.setContentType(null),"setRequestHeader"in c&&cn.forEach(a.toJSON(),function(p,g){c.setRequestHeader(g,p)}),cn.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),s&&s!=="json"&&(c.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&c.addEventListener("progress",zA(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",zA(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=d=>{c&&(r(!d||d.type?new hy(null,e,c):d),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const h=KG(u);if(h&&lu.protocols.indexOf(h)===-1){r(new Zr("Unsupported protocol "+h+":",Zr.ERR_BAD_REQUEST,e));return}c.send(i||null)})},H1={http:MG,xhr:QG};cn.forEach(H1,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const NP={getAdapter:e=>{e=cn.isArray(e)?e:[e];const{length:t}=e;let n,r;for(let i=0;i<t&&(n=e[i],!(r=cn.isString(n)?H1[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new Zr(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(cn.hasOwnProp(H1,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!cn.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:H1};function Yw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new hy(null,e)}function BA(e){return Yw(e),e.headers=Uc.from(e.headers),e.data=Hw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),NP.getAdapter(e.adapter||LE.adapter)(e).then(function(r){return Yw(e),r.data=Hw.call(e,e.transformResponse,r),r.headers=Uc.from(r.headers),r},function(r){return LP(r)||(Yw(e),r&&r.response&&(r.response.data=Hw.call(e,e.transformResponse,r.response),r.response.headers=Uc.from(r.response.headers))),Promise.reject(r)})}const GA=e=>e instanceof Uc?e.toJSON():e;function Cg(e,t){t=t||{};const n={};function r(c,u,f){return cn.isPlainObject(c)&&cn.isPlainObject(u)?cn.merge.call({caseless:f},c,u):cn.isPlainObject(u)?cn.merge({},u):cn.isArray(u)?u.slice():u}function i(c,u,f){if(cn.isUndefined(u)){if(!cn.isUndefined(c))return r(void 0,c,f)}else return r(c,u,f)}function a(c,u){if(!cn.isUndefined(u))return r(void 0,u)}function s(c,u){if(cn.isUndefined(u)){if(!cn.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function o(c,u,f){if(f in t)return r(c,u);if(f in e)return r(void 0,c)}const l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(c,u)=>i(GA(c),GA(u),!0)};return cn.forEach(Object.keys(Object.assign({},e,t)),function(u){const f=l[u]||i,h=f(e[u],t[u],u);cn.isUndefined(h)&&f!==o||(n[u]=h)}),n}const RP="1.5.0",PE={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{PE[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const jA={};PE.transitional=function(t,n,r){function i(a,s){return"[Axios v"+RP+"] Transitional option '"+a+"'"+s+(r?". "+r:"")}return(a,s,o)=>{if(t===!1)throw new Zr(i(s," has been removed"+(n?" in "+n:"")),Zr.ERR_DEPRECATED);return n&&!jA[s]&&(jA[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,s,o):!0}};function tj(e,t,n){if(typeof e!="object")throw new Zr("options must be an object",Zr.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=t[a];if(s){const o=e[a],l=o===void 0||s(o,a,e);if(l!==!0)throw new Zr("option "+a+" must be "+l,Zr.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Zr("Unknown option "+a,Zr.ERR_BAD_OPTION)}}const V3={assertOptions:tj,validators:PE},Of=V3.validators;class ux{constructor(t){this.defaults=t,this.interceptors={request:new kA,response:new kA}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Cg(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&V3.assertOptions(r,{silentJSONParsing:Of.transitional(Of.boolean),forcedJSONParsing:Of.transitional(Of.boolean),clarifyTimeoutError:Of.transitional(Of.boolean)},!1),i!=null&&(cn.isFunction(i)?n.paramsSerializer={serialize:i}:V3.assertOptions(i,{encode:Of.function,serialize:Of.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=a&&cn.merge(a.common,a[n.method]);a&&cn.forEach(["delete","get","head","post","put","patch","common"],p=>{delete a[p]}),n.headers=Uc.concat(s,a);const o=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,o.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,f=0,h;if(!l){const p=[BA.bind(this),void 0];for(p.unshift.apply(p,o),p.push.apply(p,c),h=p.length,u=Promise.resolve(n);f<h;)u=u.then(p[f++],p[f++]);return u}h=o.length;let d=n;for(f=0;f<h;){const p=o[f++],g=o[f++];try{d=p(d)}catch(m){g.call(this,m);break}}try{u=BA.call(this,d)}catch(p){return Promise.reject(p)}for(f=0,h=c.length;f<h;)u=u.then(c[f++],c[f++]);return u}getUri(t){t=Cg(this.defaults,t);const n=PP(t.baseURL,t.url);return AP(n,t.params,t.paramsSerializer)}}cn.forEach(["delete","get","head","options"],function(t){ux.prototype[t]=function(n,r){return this.request(Cg(r||{},{method:t,url:n,data:(r||{}).data}))}});cn.forEach(["post","put","patch"],function(t){function n(r){return function(a,s,o){return this.request(Cg(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}ux.prototype[t]=n(),ux.prototype[t+"Form"]=n(!0)});const Y1=ux;class NE{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(o=>{r.subscribe(o),a=o}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},t(function(a,s,o){r.reason||(r.reason=new hy(a,s,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new NE(function(i){t=i}),cancel:t}}}const ej=NE;function nj(e){return function(n){return e.apply(null,n)}}function rj(e){return cn.isObject(e)&&e.isAxiosError===!0}const H3={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(H3).forEach(([e,t])=>{H3[t]=e});const ij=H3;function DP(e){const t=new Y1(e),n=mP(Y1.prototype.request,t);return cn.extend(n,Y1.prototype,t,{allOwnKeys:!0}),cn.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return DP(Cg(e,i))},n}const La=DP(LE);La.Axios=Y1;La.CanceledError=hy;La.CancelToken=ej;La.isCancel=LP;La.VERSION=RP;La.toFormData=_b;La.AxiosError=Zr;La.Cancel=La.CanceledError;La.all=function(t){return Promise.all(t)};La.spread=nj;La.isAxiosError=rj;La.mergeConfig=Cg;La.AxiosHeaders=Uc;La.formToJSON=e=>OP(cn.isHTMLForm(e)?new FormData(e):e);La.getAdapter=NP.getAdapter;La.HttpStatusCode=ij;La.default=La;const ppt=La;var $o="top",Zs="bottom",Js="right",qo="left",bb="auto",w0=[$o,Zs,Js,qo],Ad="start",Ag="end",kP="clippingParents",RE="viewport",qp="popper",FP="reference",Y3=w0.reduce(function(e,t){return e.concat([t+"-"+Ad,t+"-"+Ag])},[]),DE=[].concat(w0,[bb]).reduce(function(e,t){return e.concat([t,t+"-"+Ad,t+"-"+Ag])},[]),zP="beforeRead",BP="read",GP="afterRead",jP="beforeMain",UP="main",VP="afterMain",HP="beforeWrite",YP="write",WP="afterWrite",$P=[zP,BP,GP,jP,UP,VP,HP,YP,WP];function rc(e){return e?(e.nodeName||"").toLowerCase():null}function Qs(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Id(e){var t=Qs(e).Element;return e instanceof t||e instanceof Element}function Al(e){var t=Qs(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function kE(e){if(typeof ShadowRoot>"u")return!1;var t=Qs(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function aj(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},a=t.elements[n];!Al(a)||!rc(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(s){var o=i[s];o===!1?a.removeAttribute(s):a.setAttribute(s,o===!0?"":o)}))})}function oj(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],a=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),o=s.reduce(function(l,c){return l[c]="",l},{});!Al(i)||!rc(i)||(Object.assign(i.style,o),Object.keys(a).forEach(function(l){i.removeAttribute(l)}))})}}const FE={name:"applyStyles",enabled:!0,phase:"write",fn:aj,effect:oj,requires:["computeStyles"]};function Xu(e){return e.split("-")[0]}var vd=Math.max,cx=Math.min,Ig=Math.round;function W3(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function qP(){return!/^((?!chrome|android).)*safari/i.test(W3())}function Og(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,a=1;t&&Al(e)&&(i=e.offsetWidth>0&&Ig(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Ig(r.height)/e.offsetHeight||1);var s=Id(e)?Qs(e):window,o=s.visualViewport,l=!qP()&&n,c=(r.left+(l&&o?o.offsetLeft:0))/i,u=(r.top+(l&&o?o.offsetTop:0))/a,f=r.width/i,h=r.height/a;return{width:f,height:h,top:u,right:c+f,bottom:u+h,left:c,x:c,y:u}}function zE(e){var t=Og(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function XP(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&kE(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Zc(e){return Qs(e).getComputedStyle(e)}function sj(e){return["table","td","th"].indexOf(rc(e))>=0}function Ah(e){return((Id(e)?e.ownerDocument:e.document)||window.document).documentElement}function wb(e){return rc(e)==="html"?e:e.assignedSlot||e.parentNode||(kE(e)?e.host:null)||Ah(e)}function UA(e){return!Al(e)||Zc(e).position==="fixed"?null:e.offsetParent}function lj(e){var t=/firefox/i.test(W3()),n=/Trident/i.test(W3());if(n&&Al(e)){var r=Zc(e);if(r.position==="fixed")return null}var i=wb(e);for(kE(i)&&(i=i.host);Al(i)&&["html","body"].indexOf(rc(i))<0;){var a=Zc(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function dy(e){for(var t=Qs(e),n=UA(e);n&&sj(n)&&Zc(n).position==="static";)n=UA(n);return n&&(rc(n)==="html"||rc(n)==="body"&&Zc(n).position==="static")?t:n||lj(e)||t}function BE(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Nm(e,t,n){return vd(e,cx(t,n))}function uj(e,t,n){var r=Nm(e,t,n);return r>n?n:r}function KP(){return{top:0,right:0,bottom:0,left:0}}function ZP(e){return Object.assign({},KP(),e)}function JP(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var cj=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,ZP(typeof t!="number"?t:JP(t,w0))};function fj(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,s=n.modifiersData.popperOffsets,o=Xu(n.placement),l=BE(o),c=[qo,Js].indexOf(o)>=0,u=c?"height":"width";if(!(!a||!s)){var f=cj(i.padding,n),h=zE(a),d=l==="y"?$o:qo,p=l==="y"?Zs:Js,g=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],m=s[l]-n.rects.reference[l],v=dy(a),y=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,_=g/2-m/2,b=f[d],w=y-h[u]-f[p],T=y/2-h[u]/2+_,M=Nm(b,T,w),S=l;n.modifiersData[r]=(t={},t[S]=M,t.centerOffset=M-T,t)}}function hj(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||XP(t.elements.popper,i)&&(t.elements.arrow=i))}const QP={name:"arrow",enabled:!0,phase:"main",fn:fj,effect:hj,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Lg(e){return e.split("-")[1]}var dj={top:"auto",right:"auto",bottom:"auto",left:"auto"};function pj(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Ig(n*i)/i||0,y:Ig(r*i)/i||0}}function VA(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,s=e.offsets,o=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,f=e.isFixed,h=s.x,d=h===void 0?0:h,p=s.y,g=p===void 0?0:p,m=typeof u=="function"?u({x:d,y:g}):{x:d,y:g};d=m.x,g=m.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),_=qo,b=$o,w=window;if(c){var T=dy(n),M="clientHeight",S="clientWidth";if(T===Qs(n)&&(T=Ah(n),Zc(T).position!=="static"&&o==="absolute"&&(M="scrollHeight",S="scrollWidth")),T=T,i===$o||(i===qo||i===Js)&&a===Ag){b=Zs;var E=f&&T===w&&w.visualViewport?w.visualViewport.height:T[M];g-=E-r.height,g*=l?1:-1}if(i===qo||(i===$o||i===Zs)&&a===Ag){_=Js;var A=f&&T===w&&w.visualViewport?w.visualViewport.width:T[S];d-=A-r.width,d*=l?1:-1}}var O=Object.assign({position:o},c&&dj),N=u===!0?pj({x:d,y:g},Qs(n)):{x:d,y:g};if(d=N.x,g=N.y,l){var F;return Object.assign({},O,(F={},F[b]=y?"0":"",F[_]=v?"0":"",F.transform=(w.devicePixelRatio||1)<=1?"translate("+d+"px, "+g+"px)":"translate3d("+d+"px, "+g+"px, 0)",F))}return Object.assign({},O,(t={},t[b]=y?g+"px":"",t[_]=v?d+"px":"",t.transform="",t))}function gj(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,a=n.adaptive,s=a===void 0?!0:a,o=n.roundOffsets,l=o===void 0?!0:o,c={placement:Xu(t.placement),variation:Lg(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,VA(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,VA(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const GE={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:gj,data:{}};var $_={passive:!0};function mj(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=i===void 0?!0:i,s=r.resize,o=s===void 0?!0:s,l=Qs(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach(function(u){u.addEventListener("scroll",n.update,$_)}),o&&l.addEventListener("resize",n.update,$_),function(){a&&c.forEach(function(u){u.removeEventListener("scroll",n.update,$_)}),o&&l.removeEventListener("resize",n.update,$_)}}const jE={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:mj,data:{}};var vj={left:"right",right:"left",bottom:"top",top:"bottom"};function W1(e){return e.replace(/left|right|bottom|top/g,function(t){return vj[t]})}var yj={start:"end",end:"start"};function HA(e){return e.replace(/start|end/g,function(t){return yj[t]})}function UE(e){var t=Qs(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function VE(e){return Og(Ah(e)).left+UE(e).scrollLeft}function _j(e,t){var n=Qs(e),r=Ah(e),i=n.visualViewport,a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;var c=qP();(c||!c&&t==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o+VE(e),y:l}}function xj(e){var t,n=Ah(e),r=UE(e),i=(t=e.ownerDocument)==null?void 0:t.body,a=vd(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=vd(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+VE(e),l=-r.scrollTop;return Zc(i||n).direction==="rtl"&&(o+=vd(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:o,y:l}}function HE(e){var t=Zc(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function t4(e){return["html","body","#document"].indexOf(rc(e))>=0?e.ownerDocument.body:Al(e)&&HE(e)?e:t4(wb(e))}function Rm(e,t){var n;t===void 0&&(t=[]);var r=t4(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),a=Qs(r),s=i?[a].concat(a.visualViewport||[],HE(r)?r:[]):r,o=t.concat(s);return i?o:o.concat(Rm(wb(s)))}function $3(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function bj(e,t){var n=Og(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function YA(e,t,n){return t===RE?$3(_j(e,n)):Id(t)?bj(t,n):$3(xj(Ah(e)))}function wj(e){var t=Rm(wb(e)),n=["absolute","fixed"].indexOf(Zc(e).position)>=0,r=n&&Al(e)?dy(e):e;return Id(r)?t.filter(function(i){return Id(i)&&XP(i,r)&&rc(i)!=="body"}):[]}function Tj(e,t,n,r){var i=t==="clippingParents"?wj(e):[].concat(t),a=[].concat(i,[n]),s=a[0],o=a.reduce(function(l,c){var u=YA(e,c,r);return l.top=vd(u.top,l.top),l.right=cx(u.right,l.right),l.bottom=cx(u.bottom,l.bottom),l.left=vd(u.left,l.left),l},YA(e,s,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function e4(e){var t=e.reference,n=e.element,r=e.placement,i=r?Xu(r):null,a=r?Lg(r):null,s=t.x+t.width/2-n.width/2,o=t.y+t.height/2-n.height/2,l;switch(i){case $o:l={x:s,y:t.y-n.height};break;case Zs:l={x:s,y:t.y+t.height};break;case Js:l={x:t.x+t.width,y:o};break;case qo:l={x:t.x-n.width,y:o};break;default:l={x:t.x,y:t.y}}var c=i?BE(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(a){case Ad:l[c]=l[c]-(t[u]/2-n[u]/2);break;case Ag:l[c]=l[c]+(t[u]/2-n[u]/2);break}}return l}function Pg(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,a=n.strategy,s=a===void 0?e.strategy:a,o=n.boundary,l=o===void 0?kP:o,c=n.rootBoundary,u=c===void 0?RE:c,f=n.elementContext,h=f===void 0?qp:f,d=n.altBoundary,p=d===void 0?!1:d,g=n.padding,m=g===void 0?0:g,v=ZP(typeof m!="number"?m:JP(m,w0)),y=h===qp?FP:qp,_=e.rects.popper,b=e.elements[p?y:h],w=Tj(Id(b)?b:b.contextElement||Ah(e.elements.popper),l,u,s),T=Og(e.elements.reference),M=e4({reference:T,element:_,strategy:"absolute",placement:i}),S=$3(Object.assign({},_,M)),E=h===qp?S:T,A={top:w.top-E.top+v.top,bottom:E.bottom-w.bottom+v.bottom,left:w.left-E.left+v.left,right:E.right-w.right+v.right},O=e.modifiersData.offset;if(h===qp&&O){var N=O[i];Object.keys(A).forEach(function(F){var P=[Js,Zs].indexOf(F)>=0?1:-1,R=[$o,Zs].indexOf(F)>=0?"y":"x";A[F]+=N[R]*P})}return A}function Ej(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,s=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?DE:l,u=Lg(r),f=u?o?Y3:Y3.filter(function(p){return Lg(p)===u}):w0,h=f.filter(function(p){return c.indexOf(p)>=0});h.length===0&&(h=f);var d=h.reduce(function(p,g){return p[g]=Pg(e,{placement:g,boundary:i,rootBoundary:a,padding:s})[Xu(g)],p},{});return Object.keys(d).sort(function(p,g){return d[p]-d[g]})}function Mj(e){if(Xu(e)===bb)return[];var t=W1(e);return[HA(e),t,HA(t)]}function Sj(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=i===void 0?!0:i,s=n.altAxis,o=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=d===void 0?!0:d,g=n.allowedAutoPlacements,m=t.options.placement,v=Xu(m),y=v===m,_=l||(y||!p?[W1(m)]:Mj(m)),b=[m].concat(_).reduce(function(nt,ct){return nt.concat(Xu(ct)===bb?Ej(t,{placement:ct,boundary:u,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:g}):ct)},[]),w=t.rects.reference,T=t.rects.popper,M=new Map,S=!0,E=b[0],A=0;A<b.length;A++){var O=b[A],N=Xu(O),F=Lg(O)===Ad,P=[$o,Zs].indexOf(N)>=0,R=P?"width":"height",k=Pg(t,{placement:O,boundary:u,rootBoundary:f,altBoundary:h,padding:c}),I=P?F?Js:qo:F?Zs:$o;w[R]>T[R]&&(I=W1(I));var j=W1(I),G=[];if(a&&G.push(k[N]<=0),o&&G.push(k[I]<=0,k[j]<=0),G.every(function(nt){return nt})){E=O,S=!1;break}M.set(O,G)}if(S)for(var q=p?3:1,et=function(ct){var z=b.find(function(W){var X=M.get(W);if(X)return X.slice(0,ct).every(function(it){return it})});if(z)return E=z,"break"},U=q;U>0;U--){var J=et(U);if(J==="break")break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}}const n4={name:"flip",enabled:!0,phase:"main",fn:Sj,requiresIfExists:["offset"],data:{_skip:!1}};function WA(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function $A(e){return[$o,Js,Zs,qo].some(function(t){return e[t]>=0})}function Cj(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,s=Pg(t,{elementContext:"reference"}),o=Pg(t,{altBoundary:!0}),l=WA(s,r),c=WA(o,i,a),u=$A(l),f=$A(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const r4={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Cj};function Aj(e,t,n){var r=Xu(e),i=[qo,$o].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=a[0],o=a[1];return s=s||0,o=(o||0)*i,[qo,Js].indexOf(r)>=0?{x:o,y:s}:{x:s,y:o}}function Ij(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=i===void 0?[0,0]:i,s=DE.reduce(function(u,f){return u[f]=Aj(f,t.rects,a),u},{}),o=s[t.placement],l=o.x,c=o.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}const i4={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ij};function Oj(e){var t=e.state,n=e.name;t.modifiersData[n]=e4({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const YE={name:"popperOffsets",enabled:!0,phase:"read",fn:Oj,data:{}};function Lj(e){return e==="x"?"y":"x"}function Pj(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=i===void 0?!0:i,s=n.altAxis,o=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,f=n.padding,h=n.tether,d=h===void 0?!0:h,p=n.tetherOffset,g=p===void 0?0:p,m=Pg(t,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),v=Xu(t.placement),y=Lg(t.placement),_=!y,b=BE(v),w=Lj(b),T=t.modifiersData.popperOffsets,M=t.rects.reference,S=t.rects.popper,E=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,A=typeof E=="number"?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),O=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if(T){if(a){var F,P=b==="y"?$o:qo,R=b==="y"?Zs:Js,k=b==="y"?"height":"width",I=T[b],j=I+m[P],G=I-m[R],q=d?-S[k]/2:0,et=y===Ad?M[k]:S[k],U=y===Ad?-S[k]:-M[k],J=t.elements.arrow,nt=d&&J?zE(J):{width:0,height:0},ct=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:KP(),z=ct[P],W=ct[R],X=Nm(0,M[k],nt[k]),it=_?M[k]/2-q-X-z-A.mainAxis:et-X-z-A.mainAxis,lt=_?-M[k]/2+q+X+W+A.mainAxis:U+X+W+A.mainAxis,pt=t.elements.arrow&&dy(t.elements.arrow),rt=pt?b==="y"?pt.clientTop||0:pt.clientLeft||0:0,V=(F=O?.[b])!=null?F:0,B=I+it-V-rt,H=I+lt-V,$=Nm(d?cx(j,B):j,I,d?vd(G,H):G);T[b]=$,N[b]=$-I}if(o){var Z,Q=b==="x"?$o:qo,ot=b==="x"?Zs:Js,st=T[w],dt=w==="y"?"height":"width",bt=st+m[Q],Pt=st-m[ot],It=[$o,qo].indexOf(v)!==-1,Dt=(Z=O?.[w])!=null?Z:0,gt=It?bt:st-M[dt]-S[dt]-Dt+A.altAxis,_t=It?st+M[dt]+S[dt]-Dt-A.altAxis:Pt,wt=d&&It?uj(gt,st,_t):Nm(d?gt:bt,st,d?_t:Pt);T[w]=wt,N[w]=wt-st}t.modifiersData[r]=N}}const a4={name:"preventOverflow",enabled:!0,phase:"main",fn:Pj,requiresIfExists:["offset"]};function Nj(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Rj(e){return e===Qs(e)||!Al(e)?UE(e):Nj(e)}function Dj(e){var t=e.getBoundingClientRect(),n=Ig(t.width)/e.offsetWidth||1,r=Ig(t.height)/e.offsetHeight||1;return n!==1||r!==1}function kj(e,t,n){n===void 0&&(n=!1);var r=Al(t),i=Al(t)&&Dj(t),a=Ah(t),s=Og(e,i,n),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((rc(t)!=="body"||HE(a))&&(o=Rj(t)),Al(t)?(l=Og(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=VE(a))),{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function Fj(e){var t=new Map,n=new Set,r=[];e.forEach(function(a){t.set(a.name,a)});function i(a){n.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(o){if(!n.has(o)){var l=t.get(o);l&&i(l)}}),r.push(a)}return e.forEach(function(a){n.has(a.name)||i(a)}),r}function zj(e){var t=Fj(e);return $P.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function Bj(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Gj(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var qA={placement:"bottom",modifiers:[],strategy:"absolute"};function XA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Tb(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,a=i===void 0?qA:i;return function(o,l,c){c===void 0&&(c=a);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},qA,a),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},f=[],h=!1,d={state:u,setOptions:function(v){var y=typeof v=="function"?v(u.options):v;g(),u.options=Object.assign({},a,u.options,y),u.scrollParents={reference:Id(o)?Rm(o):o.contextElement?Rm(o.contextElement):[],popper:Rm(l)};var _=zj(Gj([].concat(r,u.options.modifiers)));return u.orderedModifiers=_.filter(function(b){return b.enabled}),p(),d.update()},forceUpdate:function(){if(!h){var v=u.elements,y=v.reference,_=v.popper;if(XA(y,_)){u.rects={reference:kj(y,dy(_),u.options.strategy==="fixed"),popper:zE(_)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(A){return u.modifiersData[A.name]=Object.assign({},A.data)});for(var b=0;b<u.orderedModifiers.length;b++){if(u.reset===!0){u.reset=!1,b=-1;continue}var w=u.orderedModifiers[b],T=w.fn,M=w.options,S=M===void 0?{}:M,E=w.name;typeof T=="function"&&(u=T({state:u,options:S,name:E,instance:d})||u)}}}},update:Bj(function(){return new Promise(function(m){d.forceUpdate(),m(u)})}),destroy:function(){g(),h=!0}};if(!XA(o,l))return d;d.setOptions(c).then(function(m){!h&&c.onFirstUpdate&&c.onFirstUpdate(m)});function p(){u.orderedModifiers.forEach(function(m){var v=m.name,y=m.options,_=y===void 0?{}:y,b=m.effect;if(typeof b=="function"){var w=b({state:u,name:v,instance:d,options:_}),T=function(){};f.push(w||T)}})}function g(){f.forEach(function(m){return m()}),f=[]}return d}}var jj=Tb(),Uj=[jE,YE,GE,FE],Vj=Tb({defaultModifiers:Uj}),Hj=[jE,YE,GE,FE,i4,n4,a4,QP,r4],WE=Tb({defaultModifiers:Hj});const o4=Object.freeze(Object.defineProperty({__proto__:null,afterMain:VP,afterRead:GP,afterWrite:WP,applyStyles:FE,arrow:QP,auto:bb,basePlacements:w0,beforeMain:jP,beforeRead:zP,beforeWrite:HP,bottom:Zs,clippingParents:kP,computeStyles:GE,createPopper:WE,createPopperBase:jj,createPopperLite:Vj,detectOverflow:Pg,end:Ag,eventListeners:jE,flip:n4,hide:r4,left:qo,main:UP,modifierPhases:$P,offset:i4,placements:DE,popper:qp,popperGenerator:Tb,popperOffsets:YE,preventOverflow:a4,read:BP,reference:FP,right:Js,start:Ad,top:$o,variationPlacements:Y3,viewport:RE,write:YP},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.1 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Lf=new Map,Ww={set(e,t,n){Lf.has(e)||Lf.set(e,new Map);const r=Lf.get(e);if(!r.has(t)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(t,n)},get(e,t){return Lf.has(e)&&Lf.get(e).get(t)||null},remove(e,t){if(!Lf.has(e))return;const n=Lf.get(e);n.delete(t),n.size===0&&Lf.delete(e)}},Yj=1e6,Wj=1e3,q3="transitionend",s4=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(t,n)=>`#${CSS.escape(n)}`)),e),$j=e=>e==null?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),qj=e=>{do e+=Math.floor(Math.random()*Yj);while(document.getElementById(e));return e},Xj=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const r=Number.parseFloat(t),i=Number.parseFloat(n);return!r&&!i?0:(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*Wj)},l4=e=>{e.dispatchEvent(new Event(q3))},Vc=e=>!e||typeof e!="object"?!1:(typeof e.jquery<"u"&&(e=e[0]),typeof e.nodeType<"u"),oh=e=>Vc(e)?e.jquery?e[0]:e:typeof e=="string"&&e.length>0?document.querySelector(s4(e)):null,T0=e=>{if(!Vc(e)||e.getClientRects().length===0)return!1;const t=getComputedStyle(e).getPropertyValue("visibility")==="visible",n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const r=e.closest("summary");if(r&&r.parentNode!==n||r===null)return!1}return t},sh=e=>!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled")?!0:typeof e.disabled<"u"?e.disabled:e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false",u4=e=>{if(!document.documentElement.attachShadow)return null;if(typeof e.getRootNode=="function"){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?u4(e.parentNode):null},fx=()=>{},py=e=>{e.offsetHeight},c4=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,$w=[],Kj=e=>{document.readyState==="loading"?($w.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of $w)t()}),$w.push(e)):e()},Ll=()=>document.documentElement.dir==="rtl",Yl=e=>{Kj(()=>{const t=c4();if(t){const n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=r,e.jQueryInterface)}})},ms=(e,t=[],n=e)=>typeof e=="function"?e(...t):n,f4=(e,t,n=!0)=>{if(!n){ms(e);return}const r=5,i=Xj(t)+r;let a=!1;const s=({target:o})=>{o===t&&(a=!0,t.removeEventListener(q3,s),ms(e))};t.addEventListener(q3,s),setTimeout(()=>{a||l4(t)},i)},$E=(e,t,n,r)=>{const i=e.length;let a=e.indexOf(t);return a===-1?!n&&r?e[i-1]:e[0]:(a+=n?1:-1,r&&(a=(a+i)%i),e[Math.max(0,Math.min(a,i-1))])},Zj=/[^.]*(?=\..*)\.|.*/,Jj=/\..*/,Qj=/::\d+$/,qw={};let KA=1;const h4={mouseenter:"mouseover",mouseleave:"mouseout"},tU=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function d4(e,t){return t&&`${t}::${KA++}`||e.uidEvent||KA++}function p4(e){const t=d4(e);return e.uidEvent=t,qw[t]=qw[t]||{},qw[t]}function eU(e,t){return function n(r){return qE(r,{delegateTarget:e}),n.oneOff&&gn.off(e,r.type,t),t.apply(e,[r])}}function nU(e,t,n){return function r(i){const a=e.querySelectorAll(t);for(let{target:s}=i;s&&s!==this;s=s.parentNode)for(const o of a)if(o===s)return qE(i,{delegateTarget:s}),r.oneOff&&gn.off(e,i.type,t,n),n.apply(s,[i])}}function g4(e,t,n=null){return Object.values(e).find(r=>r.callable===t&&r.delegationSelector===n)}function m4(e,t,n){const r=typeof t=="string",i=r?n:t||n;let a=v4(e);return tU.has(a)||(a=e),[r,i,a]}function ZA(e,t,n,r,i){if(typeof t!="string"||!e)return;let[a,s,o]=m4(t,n,r);t in h4&&(s=(p=>function(g){if(!g.relatedTarget||g.relatedTarget!==g.delegateTarget&&!g.delegateTarget.contains(g.relatedTarget))return p.call(this,g)})(s));const l=p4(e),c=l[o]||(l[o]={}),u=g4(c,s,a?n:null);if(u){u.oneOff=u.oneOff&&i;return}const f=d4(s,t.replace(Zj,"")),h=a?nU(e,n,s):eU(e,s);h.delegationSelector=a?n:null,h.callable=s,h.oneOff=i,h.uidEvent=f,c[f]=h,e.addEventListener(o,h,a)}function X3(e,t,n,r,i){const a=g4(t[n],r,i);a&&(e.removeEventListener(n,a,!!i),delete t[n][a.uidEvent])}function rU(e,t,n,r){const i=t[n]||{};for(const[a,s]of Object.entries(i))a.includes(r)&&X3(e,t,n,s.callable,s.delegationSelector)}function v4(e){return e=e.replace(Jj,""),h4[e]||e}const gn={on(e,t,n,r){ZA(e,t,n,r,!1)},one(e,t,n,r){ZA(e,t,n,r,!0)},off(e,t,n,r){if(typeof t!="string"||!e)return;const[i,a,s]=m4(t,n,r),o=s!==t,l=p4(e),c=l[s]||{},u=t.startsWith(".");if(typeof a<"u"){if(!Object.keys(c).length)return;X3(e,l,s,a,i?n:null);return}if(u)for(const f of Object.keys(l))rU(e,l,f,t.slice(1));for(const[f,h]of Object.entries(c)){const d=f.replace(Qj,"");(!o||t.includes(d))&&X3(e,l,s,h.callable,h.delegationSelector)}},trigger(e,t,n){if(typeof t!="string"||!e)return null;const r=c4(),i=v4(t),a=t!==i;let s=null,o=!0,l=!0,c=!1;a&&r&&(s=r.Event(t,n),r(e).trigger(s),o=!s.isPropagationStopped(),l=!s.isImmediatePropagationStopped(),c=s.isDefaultPrevented());const u=qE(new Event(t,{bubbles:o,cancelable:!0}),n);return c&&u.preventDefault(),l&&e.dispatchEvent(u),u.defaultPrevented&&s&&s.preventDefault(),u}};function qE(e,t={}){for(const[n,r]of Object.entries(t))try{e[n]=r}catch{Object.defineProperty(e,n,{configurable:!0,get(){return r}})}return e}function JA(e){if(e==="true")return!0;if(e==="false")return!1;if(e===Number(e).toString())return Number(e);if(e===""||e==="null")return null;if(typeof e!="string")return e;try{return JSON.parse(decodeURIComponent(e))}catch{return e}}function Xw(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const Hc={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${Xw(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${Xw(t)}`)},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of n){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),t[i]=JA(e.dataset[r])}return t},getDataAttribute(e,t){return JA(e.getAttribute(`data-bs-${Xw(t)}`))}};class gy{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,n){const r=Vc(n)?Hc.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...Vc(n)?Hc.getDataAttributes(n):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,n=this.constructor.DefaultType){for(const[r,i]of Object.entries(n)){const a=t[r],s=Vc(a)?"element":$j(a);if(!new RegExp(i).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${s}" but expected type "${i}".`)}}}const iU="5.3.1";class Tu extends gy{constructor(t,n){super(),t=oh(t),t&&(this._element=t,this._config=this._getConfig(n),Ww.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Ww.remove(this._element,this.constructor.DATA_KEY),gn.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,n,r=!0){f4(t,n,r)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Ww.get(oh(t),this.DATA_KEY)}static getOrCreateInstance(t,n={}){return this.getInstance(t)||new this(t,typeof n=="object"?n:null)}static get VERSION(){return iU}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const Kw=e=>{let t=e.getAttribute("data-bs-target");if(!t||t==="#"){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&n!=="#"?n.trim():null}return s4(t)},tr={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(n=>n.matches(t))},parents(e,t){const n=[];let r=e.parentNode.closest(t);for(;r;)n.push(r),r=r.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(n=>!sh(n)&&T0(n))},getSelectorFromElement(e){const t=Kw(e);return t&&tr.findOne(t)?t:null},getElementFromSelector(e){const t=Kw(e);return t?tr.findOne(t):null},getMultipleElementsFromSelector(e){const t=Kw(e);return t?tr.find(t):[]}},Eb=(e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,r=e.NAME;gn.on(document,n,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),sh(this))return;const a=tr.getElementFromSelector(this)||this.closest(`.${r}`);e.getOrCreateInstance(a)[t]()})},aU="alert",oU="bs.alert",y4=`.${oU}`,sU=`close${y4}`,lU=`closed${y4}`,uU="fade",cU="show";class Mb extends Tu{static get NAME(){return aU}close(){if(gn.trigger(this._element,sU).defaultPrevented)return;this._element.classList.remove(cU);const n=this._element.classList.contains(uU);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),gn.trigger(this._element,lU),this.dispose()}static jQueryInterface(t){return this.each(function(){const n=Mb.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}Eb(Mb,"close");Yl(Mb);const fU="button",hU="bs.button",dU=`.${hU}`,pU=".data-api",gU="active",QA='[data-bs-toggle="button"]',mU=`click${dU}${pU}`;class Sb extends Tu{static get NAME(){return fU}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(gU))}static jQueryInterface(t){return this.each(function(){const n=Sb.getOrCreateInstance(this);t==="toggle"&&n[t]()})}}gn.on(document,mU,QA,e=>{e.preventDefault();const t=e.target.closest(QA);Sb.getOrCreateInstance(t).toggle()});Yl(Sb);const vU="swipe",E0=".bs.swipe",yU=`touchstart${E0}`,_U=`touchmove${E0}`,xU=`touchend${E0}`,bU=`pointerdown${E0}`,wU=`pointerup${E0}`,TU="touch",EU="pen",MU="pointer-event",SU=40,CU={endCallback:null,leftCallback:null,rightCallback:null},AU={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class hx extends gy{constructor(t,n){super(),this._element=t,!(!t||!hx.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return CU}static get DefaultType(){return AU}static get NAME(){return vU}dispose(){gn.off(this._element,E0)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),ms(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=SU)return;const n=t/this._deltaX;this._deltaX=0,n&&ms(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(gn.on(this._element,bU,t=>this._start(t)),gn.on(this._element,wU,t=>this._end(t)),this._element.classList.add(MU)):(gn.on(this._element,yU,t=>this._start(t)),gn.on(this._element,_U,t=>this._move(t)),gn.on(this._element,xU,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===EU||t.pointerType===TU)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const IU="carousel",OU="bs.carousel",Ih=`.${OU}`,_4=".data-api",LU="ArrowLeft",PU="ArrowRight",NU=500,lm="next",Dp="prev",Xp="left",$1="right",RU=`slide${Ih}`,Zw=`slid${Ih}`,DU=`keydown${Ih}`,kU=`mouseenter${Ih}`,FU=`mouseleave${Ih}`,zU=`dragstart${Ih}`,BU=`load${Ih}${_4}`,GU=`click${Ih}${_4}`,x4="carousel",q_="active",jU="slide",UU="carousel-item-end",VU="carousel-item-start",HU="carousel-item-next",YU="carousel-item-prev",b4=".active",w4=".carousel-item",WU=b4+w4,$U=".carousel-item img",qU=".carousel-indicators",XU="[data-bs-slide], [data-bs-slide-to]",KU='[data-bs-ride="carousel"]',ZU={[LU]:$1,[PU]:Xp},JU={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},QU={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class my extends Tu{constructor(t,n){super(t,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=tr.findOne(qU,this._element),this._addEventListeners(),this._config.ride===x4&&this.cycle()}static get Default(){return JU}static get DefaultType(){return QU}static get NAME(){return IU}next(){this._slide(lm)}nextWhenVisible(){!document.hidden&&T0(this._element)&&this.next()}prev(){this._slide(Dp)}pause(){this._isSliding&&l4(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){gn.one(this._element,Zw,()=>this.cycle());return}this.cycle()}}to(t){const n=this._getItems();if(t>n.length-1||t<0)return;if(this._isSliding){gn.one(this._element,Zw,()=>this.to(t));return}const r=this._getItemIndex(this._getActive());if(r===t)return;const i=t>r?lm:Dp;this._slide(i,n[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&gn.on(this._element,DU,t=>this._keydown(t)),this._config.pause==="hover"&&(gn.on(this._element,kU,()=>this.pause()),gn.on(this._element,FU,()=>this._maybeEnableCycle())),this._config.touch&&hx.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of tr.find($U,this._element))gn.on(r,zU,i=>i.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(Xp)),rightCallback:()=>this._slide(this._directionToOrder($1)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),NU+this._config.interval))}};this._swipeHelper=new hx(this._element,n)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const n=ZU[t.key];n&&(t.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const n=tr.findOne(b4,this._indicatorsElement);n.classList.remove(q_),n.removeAttribute("aria-current");const r=tr.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);r&&(r.classList.add(q_),r.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const n=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(t,n=null){if(this._isSliding)return;const r=this._getActive(),i=t===lm,a=n||$E(this._getItems(),r,i,this._config.wrap);if(a===r)return;const s=this._getItemIndex(a),o=d=>gn.trigger(this._element,d,{relatedTarget:a,direction:this._orderToDirection(t),from:this._getItemIndex(r),to:s});if(o(RU).defaultPrevented||!r||!a)return;const c=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=a;const u=i?VU:UU,f=i?HU:YU;a.classList.add(f),py(a),r.classList.add(u),a.classList.add(u);const h=()=>{a.classList.remove(u,f),a.classList.add(q_),r.classList.remove(q_,f,u),this._isSliding=!1,o(Zw)};this._queueCallback(h,r,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(jU)}_getActive(){return tr.findOne(WU,this._element)}_getItems(){return tr.find(w4,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return Ll()?t===Xp?Dp:lm:t===Xp?lm:Dp}_orderToDirection(t){return Ll()?t===Dp?Xp:$1:t===Dp?$1:Xp}static jQueryInterface(t){return this.each(function(){const n=my.getOrCreateInstance(this,t);if(typeof t=="number"){n.to(t);return}if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}gn.on(document,GU,XU,function(e){const t=tr.getElementFromSelector(this);if(!t||!t.classList.contains(x4))return;e.preventDefault();const n=my.getOrCreateInstance(t),r=this.getAttribute("data-bs-slide-to");if(r){n.to(r),n._maybeEnableCycle();return}if(Hc.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});gn.on(window,BU,()=>{const e=tr.find(KU);for(const t of e)my.getOrCreateInstance(t)});Yl(my);const tV="collapse",eV="bs.collapse",vy=`.${eV}`,nV=".data-api",rV=`show${vy}`,iV=`shown${vy}`,aV=`hide${vy}`,oV=`hidden${vy}`,sV=`click${vy}${nV}`,Jw="show",ig="collapse",X_="collapsing",lV="collapsed",uV=`:scope .${ig} .${ig}`,cV="collapse-horizontal",fV="width",hV="height",dV=".collapse.show, .collapse.collapsing",K3='[data-bs-toggle="collapse"]',pV={parent:null,toggle:!0},gV={parent:"(null|element)",toggle:"boolean"};class qm extends Tu{constructor(t,n){super(t,n),this._isTransitioning=!1,this._triggerArray=[];const r=tr.find(K3);for(const i of r){const a=tr.getSelectorFromElement(i),s=tr.find(a).filter(o=>o===this._element);a!==null&&s.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return pV}static get DefaultType(){return gV}static get NAME(){return tV}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(dV).filter(o=>o!==this._element).map(o=>qm.getOrCreateInstance(o,{toggle:!1}))),t.length&&t[0]._isTransitioning||gn.trigger(this._element,rV).defaultPrevented)return;for(const o of t)o.hide();const r=this._getDimension();this._element.classList.remove(ig),this._element.classList.add(X_),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(X_),this._element.classList.add(ig,Jw),this._element.style[r]="",gn.trigger(this._element,iV)},s=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown()||gn.trigger(this._element,aV).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,py(this._element),this._element.classList.add(X_),this._element.classList.remove(ig,Jw);for(const i of this._triggerArray){const a=tr.getElementFromSelector(i);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(X_),this._element.classList.add(ig),gn.trigger(this._element,oV)};this._element.style[n]="",this._queueCallback(r,this._element,!0)}_isShown(t=this._element){return t.classList.contains(Jw)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=oh(t.parent),t}_getDimension(){return this._element.classList.contains(cV)?fV:hV}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(K3);for(const n of t){const r=tr.getElementFromSelector(n);r&&this._addAriaAndCollapsedClass([n],this._isShown(r))}}_getFirstLevelChildren(t){const n=tr.find(uV,this._config.parent);return tr.find(t,this._config.parent).filter(r=>!n.includes(r))}_addAriaAndCollapsedClass(t,n){if(t.length)for(const r of t)r.classList.toggle(lV,!n),r.setAttribute("aria-expanded",n)}static jQueryInterface(t){const n={};return typeof t=="string"&&/show|hide/.test(t)&&(n.toggle=!1),this.each(function(){const r=qm.getOrCreateInstance(this,n);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t]()}})}}gn.on(document,sV,K3,function(e){(e.target.tagName==="A"||e.delegateTarget&&e.delegateTarget.tagName==="A")&&e.preventDefault();for(const t of tr.getMultipleElementsFromSelector(this))qm.getOrCreateInstance(t,{toggle:!1}).toggle()});Yl(qm);const tI="dropdown",mV="bs.dropdown",Jd=`.${mV}`,XE=".data-api",vV="Escape",eI="Tab",yV="ArrowUp",nI="ArrowDown",_V=2,xV=`hide${Jd}`,bV=`hidden${Jd}`,wV=`show${Jd}`,TV=`shown${Jd}`,T4=`click${Jd}${XE}`,E4=`keydown${Jd}${XE}`,EV=`keyup${Jd}${XE}`,Kp="show",MV="dropup",SV="dropend",CV="dropstart",AV="dropup-center",IV="dropdown-center",ud='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',OV=`${ud}.${Kp}`,q1=".dropdown-menu",LV=".navbar",PV=".navbar-nav",NV=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",RV=Ll()?"top-end":"top-start",DV=Ll()?"top-start":"top-end",kV=Ll()?"bottom-end":"bottom-start",FV=Ll()?"bottom-start":"bottom-end",zV=Ll()?"left-start":"right-start",BV=Ll()?"right-start":"left-start",GV="top",jV="bottom",UV={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},VV={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ku extends Tu{constructor(t,n){super(t,n),this._popper=null,this._parent=this._element.parentNode,this._menu=tr.next(this._element,q1)[0]||tr.prev(this._element,q1)[0]||tr.findOne(q1,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return UV}static get DefaultType(){return VV}static get NAME(){return tI}toggle(){return this._isShown()?this.hide():this.show()}show(){if(sh(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!gn.trigger(this._element,wV,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(PV))for(const r of[].concat(...document.body.children))gn.on(r,"mouseover",fx);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Kp),this._element.classList.add(Kp),gn.trigger(this._element,TV,t)}}hide(){if(sh(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!gn.trigger(this._element,xV,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))gn.off(r,"mouseover",fx);this._popper&&this._popper.destroy(),this._menu.classList.remove(Kp),this._element.classList.remove(Kp),this._element.setAttribute("aria-expanded","false"),Hc.removeDataAttribute(this._menu,"popper"),gn.trigger(this._element,bV,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!Vc(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${tI.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof o4>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:Vc(this._config.reference)?t=oh(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const n=this._getPopperConfig();this._popper=WE(t,this._menu,n)}_isShown(){return this._menu.classList.contains(Kp)}_getPlacement(){const t=this._parent;if(t.classList.contains(SV))return zV;if(t.classList.contains(CV))return BV;if(t.classList.contains(AV))return GV;if(t.classList.contains(IV))return jV;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(MV)?n?DV:RV:n?FV:kV}_detectNavbar(){return this._element.closest(LV)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Hc.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...ms(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:n}){const r=tr.find(NV,this._menu).filter(i=>T0(i));r.length&&$E(r,n,t===nI,!r.includes(n)).focus()}static jQueryInterface(t){return this.each(function(){const n=Ku.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}static clearMenus(t){if(t.button===_V||t.type==="keyup"&&t.key!==eI)return;const n=tr.find(OV);for(const r of n){const i=Ku.getInstance(r);if(!i||i._config.autoClose===!1)continue;const a=t.composedPath(),s=a.includes(i._menu);if(a.includes(i._element)||i._config.autoClose==="inside"&&!s||i._config.autoClose==="outside"&&s||i._menu.contains(t.target)&&(t.type==="keyup"&&t.key===eI||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const o={relatedTarget:i._element};t.type==="click"&&(o.clickEvent=t),i._completeHide(o)}}static dataApiKeydownHandler(t){const n=/input|textarea/i.test(t.target.tagName),r=t.key===vV,i=[yV,nI].includes(t.key);if(!i&&!r||n&&!r)return;t.preventDefault();const a=this.matches(ud)?this:tr.prev(this,ud)[0]||tr.next(this,ud)[0]||tr.findOne(ud,t.delegateTarget.parentNode),s=Ku.getOrCreateInstance(a);if(i){t.stopPropagation(),s.show(),s._selectMenuItem(t);return}s._isShown()&&(t.stopPropagation(),s.hide(),a.focus())}}gn.on(document,E4,ud,Ku.dataApiKeydownHandler);gn.on(document,E4,q1,Ku.dataApiKeydownHandler);gn.on(document,T4,Ku.clearMenus);gn.on(document,EV,Ku.clearMenus);gn.on(document,T4,ud,function(e){e.preventDefault(),Ku.getOrCreateInstance(this).toggle()});Yl(Ku);const M4="backdrop",HV="fade",rI="show",iI=`mousedown.bs.${M4}`,YV={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},WV={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class S4 extends gy{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return YV}static get DefaultType(){return WV}static get NAME(){return M4}show(t){if(!this._config.isVisible){ms(t);return}this._append();const n=this._getElement();this._config.isAnimated&&py(n),n.classList.add(rI),this._emulateAnimation(()=>{ms(t)})}hide(t){if(!this._config.isVisible){ms(t);return}this._getElement().classList.remove(rI),this._emulateAnimation(()=>{this.dispose(),ms(t)})}dispose(){this._isAppended&&(gn.off(this._element,iI),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(HV),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=oh(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),gn.on(t,iI,()=>{ms(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){f4(t,this._getElement(),this._config.isAnimated)}}const $V="focustrap",qV="bs.focustrap",dx=`.${qV}`,XV=`focusin${dx}`,KV=`keydown.tab${dx}`,ZV="Tab",JV="forward",aI="backward",QV={autofocus:!0,trapElement:null},tH={autofocus:"boolean",trapElement:"element"};class C4 extends gy{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return QV}static get DefaultType(){return tH}static get NAME(){return $V}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),gn.off(document,dx),gn.on(document,XV,t=>this._handleFocusin(t)),gn.on(document,KV,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,gn.off(document,dx))}_handleFocusin(t){const{trapElement:n}=this._config;if(t.target===document||t.target===n||n.contains(t.target))return;const r=tr.focusableChildren(n);r.length===0?n.focus():this._lastTabNavDirection===aI?r[r.length-1].focus():r[0].focus()}_handleKeydown(t){t.key===ZV&&(this._lastTabNavDirection=t.shiftKey?aI:JV)}}const oI=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",sI=".sticky-top",K_="padding-right",lI="margin-right";class Z3{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,K_,n=>n+t),this._setElementAttributes(oI,K_,n=>n+t),this._setElementAttributes(sI,lI,n=>n-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,K_),this._resetElementAttributes(oI,K_),this._resetElementAttributes(sI,lI)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,n,r){const i=this.getWidth(),a=s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+i)return;this._saveInitialAttribute(s,n);const o=window.getComputedStyle(s).getPropertyValue(n);s.style.setProperty(n,`${r(Number.parseFloat(o))}px`)};this._applyManipulationCallback(t,a)}_saveInitialAttribute(t,n){const r=t.style.getPropertyValue(n);r&&Hc.setDataAttribute(t,n,r)}_resetElementAttributes(t,n){const r=i=>{const a=Hc.getDataAttribute(i,n);if(a===null){i.style.removeProperty(n);return}Hc.removeDataAttribute(i,n),i.style.setProperty(n,a)};this._applyManipulationCallback(t,r)}_applyManipulationCallback(t,n){if(Vc(t)){n(t);return}for(const r of tr.find(t,this._element))n(r)}}const eH="modal",nH="bs.modal",Pl=`.${nH}`,rH=".data-api",iH="Escape",aH=`hide${Pl}`,oH=`hidePrevented${Pl}`,A4=`hidden${Pl}`,I4=`show${Pl}`,sH=`shown${Pl}`,lH=`resize${Pl}`,uH=`click.dismiss${Pl}`,cH=`mousedown.dismiss${Pl}`,fH=`keydown.dismiss${Pl}`,hH=`click${Pl}${rH}`,uI="modal-open",dH="fade",cI="show",Qw="modal-static",pH=".modal.show",gH=".modal-dialog",mH=".modal-body",vH='[data-bs-toggle="modal"]',yH={backdrop:!0,focus:!0,keyboard:!0},_H={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ng extends Tu{constructor(t,n){super(t,n),this._dialog=tr.findOne(gH,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Z3,this._addEventListeners()}static get Default(){return yH}static get DefaultType(){return _H}static get NAME(){return eH}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||gn.trigger(this._element,I4,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(uI),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||gn.trigger(this._element,aH).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(cI),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){gn.off(window,Pl),gn.off(this._dialog,Pl),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new S4({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new C4({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=tr.findOne(mH,this._dialog);n&&(n.scrollTop=0),py(this._element),this._element.classList.add(cI);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,gn.trigger(this._element,sH,{relatedTarget:t})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){gn.on(this._element,fH,t=>{if(t.key===iH){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),gn.on(window,lH,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),gn.on(this._element,cH,t=>{gn.one(this._element,uH,n=>{if(!(this._element!==t.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(uI),this._resetAdjustments(),this._scrollBar.reset(),gn.trigger(this._element,A4)})}_isAnimated(){return this._element.classList.contains(dH)}_triggerBackdropTransition(){if(gn.trigger(this._element,oH).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(Qw)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(Qw),this._queueCallback(()=>{this._element.classList.remove(Qw),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),r=n>0;if(r&&!t){const i=Ll()?"paddingLeft":"paddingRight";this._element.style[i]=`${n}px`}if(!r&&t){const i=Ll()?"paddingRight":"paddingLeft";this._element.style[i]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,n){return this.each(function(){const r=Ng.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t](n)}})}}gn.on(document,hH,vH,function(e){const t=tr.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),gn.one(t,I4,i=>{i.defaultPrevented||gn.one(t,A4,()=>{T0(this)&&this.focus()})});const n=tr.findOne(pH);n&&Ng.getInstance(n).hide(),Ng.getOrCreateInstance(t).toggle(this)});Eb(Ng);Yl(Ng);const xH="offcanvas",bH="bs.offcanvas",cf=`.${bH}`,O4=".data-api",wH=`load${cf}${O4}`,TH="Escape",fI="show",hI="showing",dI="hiding",EH="offcanvas-backdrop",L4=".offcanvas.show",MH=`show${cf}`,SH=`shown${cf}`,CH=`hide${cf}`,pI=`hidePrevented${cf}`,P4=`hidden${cf}`,AH=`resize${cf}`,IH=`click${cf}${O4}`,OH=`keydown.dismiss${cf}`,LH='[data-bs-toggle="offcanvas"]',PH={backdrop:!0,keyboard:!0,scroll:!1},NH={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class lh extends Tu{constructor(t,n){super(t,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return PH}static get DefaultType(){return NH}static get NAME(){return xH}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||gn.trigger(this._element,MH,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Z3().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(hI);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(fI),this._element.classList.remove(hI),gn.trigger(this._element,SH,{relatedTarget:t})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||gn.trigger(this._element,CH).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(dI),this._backdrop.hide();const n=()=>{this._element.classList.remove(fI,dI),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Z3().reset(),gn.trigger(this._element,P4)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){gn.trigger(this._element,pI);return}this.hide()},n=!!this._config.backdrop;return new S4({className:EH,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?t:null})}_initializeFocusTrap(){return new C4({trapElement:this._element})}_addEventListeners(){gn.on(this._element,OH,t=>{if(t.key===TH){if(this._config.keyboard){this.hide();return}gn.trigger(this._element,pI)}})}static jQueryInterface(t){return this.each(function(){const n=lh.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}gn.on(document,IH,LH,function(e){const t=tr.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),sh(this))return;gn.one(t,P4,()=>{T0(this)&&this.focus()});const n=tr.findOne(L4);n&&n!==t&&lh.getInstance(n).hide(),lh.getOrCreateInstance(t).toggle(this)});gn.on(window,wH,()=>{for(const e of tr.find(L4))lh.getOrCreateInstance(e).show()});gn.on(window,AH,()=>{for(const e of tr.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(e).position!=="fixed"&&lh.getOrCreateInstance(e).hide()});Eb(lh);Yl(lh);const RH=/^aria-[\w-]*$/i,N4={"*":["class","dir","id","lang","role",RH],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},DH=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),kH=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,FH=(e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?DH.has(n)?!!kH.test(e.nodeValue):!0:t.filter(r=>r instanceof RegExp).some(r=>r.test(n))};function zH(e,t,n){if(!e.length)return e;if(n&&typeof n=="function")return n(e);const i=new window.DOMParser().parseFromString(e,"text/html"),a=[].concat(...i.body.querySelectorAll("*"));for(const s of a){const o=s.nodeName.toLowerCase();if(!Object.keys(t).includes(o)){s.remove();continue}const l=[].concat(...s.attributes),c=[].concat(t["*"]||[],t[o]||[]);for(const u of l)FH(u,c)||s.removeAttribute(u.nodeName)}return i.body.innerHTML}const BH="TemplateFactory",GH={allowList:N4,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},jH={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},UH={entry:"(string|element|function|null)",selector:"(string|element)"};class VH extends gy{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return GH}static get DefaultType(){return jH}static get NAME(){return BH}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[i,a]of Object.entries(this._config.content))this._setContent(t,a,i);const n=t.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&n.classList.add(...r.split(" ")),n}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[n,r]of Object.entries(t))super._typeCheckConfig({selector:n,entry:r},UH)}_setContent(t,n,r){const i=tr.findOne(r,t);if(i){if(n=this._resolvePossibleFunction(n),!n){i.remove();return}if(Vc(n)){this._putElementInTemplate(oh(n),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(n);return}i.textContent=n}}_maybeSanitize(t){return this._config.sanitize?zH(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return ms(t,[this])}_putElementInTemplate(t,n){if(this._config.html){n.innerHTML="",n.append(t);return}n.textContent=t.textContent}}const HH="tooltip",YH=new Set(["sanitize","allowList","sanitizeFn"]),t3="fade",WH="modal",Z_="show",$H=".tooltip-inner",gI=`.${WH}`,mI="hide.bs.modal",um="hover",e3="focus",qH="click",XH="manual",KH="hide",ZH="hidden",JH="show",QH="shown",tY="inserted",eY="click",nY="focusin",rY="focusout",iY="mouseenter",aY="mouseleave",oY={AUTO:"auto",TOP:"top",RIGHT:Ll()?"left":"right",BOTTOM:"bottom",LEFT:Ll()?"right":"left"},sY={allowList:N4,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},lY={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class M0 extends Tu{constructor(t,n){if(typeof o4>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return sY}static get DefaultType(){return lY}static get NAME(){return HH}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),gn.off(this._element.closest(gI),mI,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=gn.trigger(this._element,this.constructor.eventName(JH)),r=(u4(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:a}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(i),gn.trigger(this._element,this.constructor.eventName(tY))),this._popper=this._createPopper(i),i.classList.add(Z_),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))gn.on(o,"mouseover",fx);const s=()=>{gn.trigger(this._element,this.constructor.eventName(QH)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(s,this.tip,this._isAnimated())}hide(){if(!this._isShown()||gn.trigger(this._element,this.constructor.eventName(KH)).defaultPrevented)return;if(this._getTipElement().classList.remove(Z_),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))gn.off(i,"mouseover",fx);this._activeTrigger[qH]=!1,this._activeTrigger[e3]=!1,this._activeTrigger[um]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),gn.trigger(this._element,this.constructor.eventName(ZH)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const n=this._getTemplateFactory(t).toHtml();if(!n)return null;n.classList.remove(t3,Z_),n.classList.add(`bs-${this.constructor.NAME}-auto`);const r=qj(this.constructor.NAME).toString();return n.setAttribute("id",r),this._isAnimated()&&n.classList.add(t3),n}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new VH({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[$H]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(t3)}_isShown(){return this.tip&&this.tip.classList.contains(Z_)}_createPopper(t){const n=ms(this._config.placement,[this,t,this._element]),r=oY[n.toUpperCase()];return WE(this._element,t,this._getPopperConfig(r))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_resolvePossibleFunction(t){return ms(t,[this._element])}_getPopperConfig(t){const n={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...n,...ms(this._config.popperConfig,[n])}}_setListeners(){const t=this._config.trigger.split(" ");for(const n of t)if(n==="click")gn.on(this._element,this.constructor.eventName(eY),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(n!==XH){const r=n===um?this.constructor.eventName(iY):this.constructor.eventName(nY),i=n===um?this.constructor.eventName(aY):this.constructor.eventName(rY);gn.on(this._element,r,this._config.selector,a=>{const s=this._initializeOnDelegatedTarget(a);s._activeTrigger[a.type==="focusin"?e3:um]=!0,s._enter()}),gn.on(this._element,i,this._config.selector,a=>{const s=this._initializeOnDelegatedTarget(a);s._activeTrigger[a.type==="focusout"?e3:um]=s._element.contains(a.relatedTarget),s._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},gn.on(this._element.closest(gI),mI,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,n){clearTimeout(this._timeout),this._timeout=setTimeout(t,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const n=Hc.getDataAttributes(this._element);for(const r of Object.keys(n))YH.has(r)&&delete n[r];return t={...n,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:oh(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[n,r]of Object.entries(this._config))this.constructor.Default[n]!==r&&(t[n]=r);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const n=M0.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}Yl(M0);const uY="popover",cY=".popover-header",fY=".popover-body",hY={...M0.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},dY={...M0.DefaultType,content:"(null|string|element|function)"};class KE extends M0{static get Default(){return hY}static get DefaultType(){return dY}static get NAME(){return uY}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[cY]:this._getTitle(),[fY]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const n=KE.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}Yl(KE);const pY="scrollspy",gY="bs.scrollspy",ZE=`.${gY}`,mY=".data-api",vY=`activate${ZE}`,vI=`click${ZE}`,yY=`load${ZE}${mY}`,_Y="dropdown-item",kp="active",xY='[data-bs-spy="scroll"]',n3="[href]",bY=".nav, .list-group",yI=".nav-link",wY=".nav-item",TY=".list-group-item",EY=`${yI}, ${wY} > ${yI}, ${TY}`,MY=".dropdown",SY=".dropdown-toggle",CY={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},AY={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Cb extends Tu{constructor(t,n){super(t,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return CY}static get DefaultType(){return AY}static get NAME(){return pY}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=oh(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(n=>Number.parseFloat(n))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(gn.off(this._config.target,vI),gn.on(this._config.target,vI,n3,t=>{const n=this._observableSections.get(t.target.hash);if(n){t.preventDefault();const r=this._rootElement||window,i=n.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),t)}_observerCallback(t){const n=s=>this._targetLinks.get(`#${s.target.id}`),r=s=>{this._previousScrollData.visibleEntryTop=s.target.offsetTop,this._process(n(s))},i=(this._rootElement||document.documentElement).scrollTop,a=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const s of t){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(s));continue}const o=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&o){if(r(s),!i)return;continue}!a&&!o&&r(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=tr.find(n3,this._config.target);for(const n of t){if(!n.hash||sh(n))continue;const r=tr.findOne(decodeURI(n.hash),this._element);T0(r)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,r))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(kp),this._activateParents(t),gn.trigger(this._element,vY,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(_Y)){tr.findOne(SY,t.closest(MY)).classList.add(kp);return}for(const n of tr.parents(t,bY))for(const r of tr.prev(n,EY))r.classList.add(kp)}_clearActiveClass(t){t.classList.remove(kp);const n=tr.find(`${n3}.${kp}`,t);for(const r of n)r.classList.remove(kp)}static jQueryInterface(t){return this.each(function(){const n=Cb.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}gn.on(window,yY,()=>{for(const e of tr.find(xY))Cb.getOrCreateInstance(e)});Yl(Cb);const IY="tab",OY="bs.tab",Qd=`.${OY}`,LY=`hide${Qd}`,PY=`hidden${Qd}`,NY=`show${Qd}`,RY=`shown${Qd}`,DY=`click${Qd}`,kY=`keydown${Qd}`,FY=`load${Qd}`,zY="ArrowLeft",_I="ArrowRight",BY="ArrowUp",xI="ArrowDown",r3="Home",bI="End",cd="active",wI="fade",i3="show",GY="dropdown",jY=".dropdown-toggle",UY=".dropdown-menu",a3=":not(.dropdown-toggle)",VY='.list-group, .nav, [role="tablist"]',HY=".nav-item, .list-group-item",YY=`.nav-link${a3}, .list-group-item${a3}, [role="tab"]${a3}`,R4='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',o3=`${YY}, ${R4}`,WY=`.${cd}[data-bs-toggle="tab"], .${cd}[data-bs-toggle="pill"], .${cd}[data-bs-toggle="list"]`;class Rg extends Tu{constructor(t){super(t),this._parent=this._element.closest(VY),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),gn.on(this._element,kY,n=>this._keydown(n)))}static get NAME(){return IY}show(){const t=this._element;if(this._elemIsActive(t))return;const n=this._getActiveElem(),r=n?gn.trigger(n,LY,{relatedTarget:t}):null;gn.trigger(t,NY,{relatedTarget:n}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(n,t),this._activate(t,n))}_activate(t,n){if(!t)return;t.classList.add(cd),this._activate(tr.getElementFromSelector(t));const r=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(i3);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),gn.trigger(t,RY,{relatedTarget:n})};this._queueCallback(r,t,t.classList.contains(wI))}_deactivate(t,n){if(!t)return;t.classList.remove(cd),t.blur(),this._deactivate(tr.getElementFromSelector(t));const r=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(i3);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),gn.trigger(t,PY,{relatedTarget:n})};this._queueCallback(r,t,t.classList.contains(wI))}_keydown(t){if(![zY,_I,BY,xI,r3,bI].includes(t.key))return;t.stopPropagation(),t.preventDefault();const n=this._getChildren().filter(i=>!sh(i));let r;if([r3,bI].includes(t.key))r=n[t.key===r3?0:n.length-1];else{const i=[_I,xI].includes(t.key);r=$E(n,t.target,i,!0)}r&&(r.focus({preventScroll:!0}),Rg.getOrCreateInstance(r).show())}_getChildren(){return tr.find(o3,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,n){this._setAttributeIfNotExists(t,"role","tablist");for(const r of n)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const n=this._elemIsActive(t),r=this._getOuterElement(t);t.setAttribute("aria-selected",n),r!==t&&this._setAttributeIfNotExists(r,"role","presentation"),n||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const n=tr.getElementFromSelector(t);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,n){const r=this._getOuterElement(t);if(!r.classList.contains(GY))return;const i=(a,s)=>{const o=tr.findOne(a,r);o&&o.classList.toggle(s,n)};i(jY,cd),i(UY,i3),r.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(t,n,r){t.hasAttribute(n)||t.setAttribute(n,r)}_elemIsActive(t){return t.classList.contains(cd)}_getInnerElement(t){return t.matches(o3)?t:tr.findOne(o3,t)}_getOuterElement(t){return t.closest(HY)||t}static jQueryInterface(t){return this.each(function(){const n=Rg.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}gn.on(document,DY,R4,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),!sh(this)&&Rg.getOrCreateInstance(this).show()});gn.on(window,FY,()=>{for(const e of tr.find(WY))Rg.getOrCreateInstance(e)});Yl(Rg);const $Y="toast",qY="bs.toast",Oh=`.${qY}`,XY=`mouseover${Oh}`,KY=`mouseout${Oh}`,ZY=`focusin${Oh}`,JY=`focusout${Oh}`,QY=`hide${Oh}`,tW=`hidden${Oh}`,eW=`show${Oh}`,nW=`shown${Oh}`,rW="fade",TI="hide",J_="show",Q_="showing",iW={animation:"boolean",autohide:"boolean",delay:"number"},aW={animation:!0,autohide:!0,delay:5e3};class Ab extends Tu{constructor(t,n){super(t,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return aW}static get DefaultType(){return iW}static get NAME(){return $Y}show(){if(gn.trigger(this._element,eW).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(rW);const n=()=>{this._element.classList.remove(Q_),gn.trigger(this._element,nW),this._maybeScheduleHide()};this._element.classList.remove(TI),py(this._element),this._element.classList.add(J_,Q_),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||gn.trigger(this._element,QY).defaultPrevented)return;const n=()=>{this._element.classList.add(TI),this._element.classList.remove(Q_,J_),gn.trigger(this._element,tW)};this._element.classList.add(Q_),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(J_),super.dispose()}isShown(){return this._element.classList.contains(J_)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,n){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const r=t.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){gn.on(this._element,XY,t=>this._onInteraction(t,!0)),gn.on(this._element,KY,t=>this._onInteraction(t,!1)),gn.on(this._element,ZY,t=>this._onInteraction(t,!0)),gn.on(this._element,JY,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const n=Ab.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}Eb(Ab);Yl(Ab);function As(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const yi={},gg=[],Xo=()=>{},X1=()=>!1,oW=/^on[^a-z]/,tp=e=>oW.test(e),JE=e=>e.startsWith("onUpdate:"),Vr=Object.assign,QE=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},sW=Object.prototype.hasOwnProperty,Kr=(e,t)=>sW.call(e,t),kn=Array.isArray,mg=e=>S0(e)==="[object Map]",ep=e=>S0(e)==="[object Set]",EI=e=>S0(e)==="[object Date]",lW=e=>S0(e)==="[object RegExp]",dr=e=>typeof e=="function",Tr=e=>typeof e=="string",uh=e=>typeof e=="symbol",_i=e=>e!==null&&typeof e=="object",tM=e=>_i(e)&&dr(e.then)&&dr(e.catch),D4=Object.prototype.toString,S0=e=>D4.call(e),uW=e=>S0(e).slice(8,-1),k4=e=>S0(e)==="[object Object]",eM=e=>Tr(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,yd=As(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cW=As("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Ib=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},fW=/-(\w)/g,Ia=Ib(e=>e.replace(fW,(t,n)=>n?n.toUpperCase():"")),hW=/\B([A-Z])/g,Ys=Ib(e=>e.replace(hW,"-$1").toLowerCase()),np=Ib(e=>e.charAt(0).toUpperCase()+e.slice(1)),vg=Ib(e=>e?`on${np(e)}`:""),Dg=(e,t)=>!Object.is(e,t),yg=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},px=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},gx=e=>{const t=parseFloat(e);return isNaN(t)?e:t},mx=e=>{const t=Tr(e)?Number(e):NaN;return isNaN(t)?e:t};let MI;const J3=()=>MI||(MI=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),dW="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",pW=As(dW);function yy(e){if(kn(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Tr(r)?F4(r):yy(r);if(i)for(const a in i)t[a]=i[a]}return t}else{if(Tr(e))return e;if(_i(e))return e}}const gW=/;(?![^(]*\))/g,mW=/:([^]+)/,vW=/\/\*[^]*?\*\//g;function F4(e){const t={};return e.replace(vW,"").split(gW).forEach(n=>{if(n){const r=n.split(mW);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function _y(e){let t="";if(Tr(e))t=e;else if(kn(e))for(let n=0;n<e.length;n++){const r=_y(e[n]);r&&(t+=r+" ")}else if(_i(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function yW(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Tr(t)&&(e.class=_y(t)),n&&(e.style=yy(n)),e}const _W="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",xW="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",bW="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",wW=As(_W),TW=As(xW),EW=As(bW),MW="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",SW=As(MW);function z4(e){return!!e||e===""}function CW(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=ch(e[r],t[r]);return n}function ch(e,t){if(e===t)return!0;let n=EI(e),r=EI(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=uh(e),r=uh(t),n||r)return e===t;if(n=kn(e),r=kn(t),n||r)return n&&r?CW(e,t):!1;if(n=_i(e),r=_i(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,a=Object.keys(t).length;if(i!==a)return!1;for(const s in e){const o=e.hasOwnProperty(s),l=t.hasOwnProperty(s);if(o&&!l||!o&&l||!ch(e[s],t[s]))return!1}}return String(e)===String(t)}function Ob(e,t){return e.findIndex(n=>ch(n,t))}const AW=e=>Tr(e)?e:e==null?"":kn(e)||_i(e)&&(e.toString===D4||!dr(e.toString))?JSON.stringify(e,B4,2):String(e),B4=(e,t)=>t&&t.__v_isRef?B4(e,t.value):mg(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:ep(t)?{[`Set(${t.size})`]:[...t.values()]}:_i(t)&&!kn(t)&&!k4(t)?String(t):t;let Us;class nM{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Us,!t&&Us&&(this.index=(Us.scopes||(Us.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Us;try{return Us=this,t()}finally{Us=n}}}on(){Us=this}off(){Us=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function G4(e){return new nM(e)}function j4(e,t=Us){t&&t.active&&t.effects.push(e)}function U4(){return Us}function IW(e){Us&&Us.cleanups.push(e)}const rM=e=>{const t=new Set(e);return t.w=0,t.n=0,t},V4=e=>(e.w&fh)>0,H4=e=>(e.n&fh)>0,OW=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=fh},LW=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];V4(i)&&!H4(i)?i.delete(e):t[n++]=i,i.w&=~fh,i.n&=~fh}t.length=n}},vx=new WeakMap;let wm=0,fh=1;const Q3=30;let au;const _d=Symbol(""),tT=Symbol("");class xy{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,j4(this,r)}run(){if(!this.active)return this.fn();let t=au,n=Qf;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=au,au=this,Qf=!0,fh=1<<++wm,wm<=Q3?OW(this):SI(this),this.fn()}finally{wm<=Q3&&LW(this),fh=1<<--wm,au=this.parent,Qf=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){au===this?this.deferStop=!0:this.active&&(SI(this),this.onStop&&this.onStop(),this.active=!1)}}function SI(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function PW(e,t){e.effect&&(e=e.effect.fn);const n=new xy(e);t&&(Vr(n,t),t.scope&&j4(n,t.scope)),(!t||!t.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function NW(e){e.effect.stop()}let Qf=!0;const Y4=[];function C0(){Y4.push(Qf),Qf=!1}function A0(){const e=Y4.pop();Qf=e===void 0?!0:e}function Es(e,t,n){if(Qf&&au){let r=vx.get(e);r||vx.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=rM()),W4(i)}}function W4(e,t){let n=!1;wm<=Q3?H4(e)||(e.n|=fh,n=!V4(e)):n=!e.has(au),n&&(e.add(au),au.deps.push(e))}function Jc(e,t,n,r,i,a){const s=vx.get(e);if(!s)return;let o=[];if(t==="clear")o=[...s.values()];else if(n==="length"&&kn(e)){const l=Number(r);s.forEach((c,u)=>{(u==="length"||u>=l)&&o.push(c)})}else switch(n!==void 0&&o.push(s.get(n)),t){case"add":kn(e)?eM(n)&&o.push(s.get("length")):(o.push(s.get(_d)),mg(e)&&o.push(s.get(tT)));break;case"delete":kn(e)||(o.push(s.get(_d)),mg(e)&&o.push(s.get(tT)));break;case"set":mg(e)&&o.push(s.get(_d));break}if(o.length===1)o[0]&&eT(o[0]);else{const l=[];for(const c of o)c&&l.push(...c);eT(rM(l))}}function eT(e,t){const n=kn(e)?e:[...e];for(const r of n)r.computed&&CI(r);for(const r of n)r.computed||CI(r)}function CI(e,t){(e!==au||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function RW(e,t){var n;return(n=vx.get(e))==null?void 0:n.get(t)}const DW=As("__proto__,__v_isRef,__isVue"),$4=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(uh)),kW=Lb(),FW=Lb(!1,!0),zW=Lb(!0),BW=Lb(!0,!0),AI=GW();function GW(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Hr(this);for(let a=0,s=this.length;a<s;a++)Es(r,"get",a+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(Hr)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){C0();const r=Hr(this)[t].apply(this,n);return A0(),r}}),e}function jW(e){const t=Hr(this);return Es(t,"has",e),t.hasOwnProperty(e)}function Lb(e=!1,t=!1){return function(r,i,a){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&a===(e?t?t6:Q4:t?J4:Z4).get(r))return r;const s=kn(r);if(!e){if(s&&Kr(AI,i))return Reflect.get(AI,i,a);if(i==="hasOwnProperty")return jW}const o=Reflect.get(r,i,a);return(uh(i)?$4.has(i):DW(i))||(e||Es(r,"get",i),t)?o:Ga(o)?s&&eM(i)?o:o.value:_i(o)?e?oM(o):I0(o):o}}const UW=q4(),VW=q4(!0);function q4(e=!1){return function(n,r,i,a){let s=n[r];if(Od(s)&&Ga(s)&&!Ga(i))return!1;if(!e&&(!Xm(i)&&!Od(i)&&(s=Hr(s),i=Hr(i)),!kn(n)&&Ga(s)&&!Ga(i)))return s.value=i,!0;const o=kn(n)&&eM(r)?Number(r)<n.length:Kr(n,r),l=Reflect.set(n,r,i,a);return n===Hr(a)&&(o?Dg(i,s)&&Jc(n,"set",r,i):Jc(n,"add",r,i)),l}}function HW(e,t){const n=Kr(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&Jc(e,"delete",t,void 0),r}function YW(e,t){const n=Reflect.has(e,t);return(!uh(t)||!$4.has(t))&&Es(e,"has",t),n}function WW(e){return Es(e,"iterate",kn(e)?"length":_d),Reflect.ownKeys(e)}const X4={get:kW,set:UW,deleteProperty:HW,has:YW,ownKeys:WW},K4={get:zW,set(e,t){return!0},deleteProperty(e,t){return!0}},$W=Vr({},X4,{get:FW,set:VW}),qW=Vr({},K4,{get:BW}),iM=e=>e,Pb=e=>Reflect.getPrototypeOf(e);function t1(e,t,n=!1,r=!1){e=e.__v_raw;const i=Hr(e),a=Hr(t);n||(t!==a&&Es(i,"get",t),Es(i,"get",a));const{has:s}=Pb(i),o=r?iM:n?uM:Km;if(s.call(i,t))return o(e.get(t));if(s.call(i,a))return o(e.get(a));e!==i&&e.get(t)}function e1(e,t=!1){const n=this.__v_raw,r=Hr(n),i=Hr(e);return t||(e!==i&&Es(r,"has",e),Es(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function n1(e,t=!1){return e=e.__v_raw,!t&&Es(Hr(e),"iterate",_d),Reflect.get(e,"size",e)}function II(e){e=Hr(e);const t=Hr(this);return Pb(t).has.call(t,e)||(t.add(e),Jc(t,"add",e,e)),this}function OI(e,t){t=Hr(t);const n=Hr(this),{has:r,get:i}=Pb(n);let a=r.call(n,e);a||(e=Hr(e),a=r.call(n,e));const s=i.call(n,e);return n.set(e,t),a?Dg(t,s)&&Jc(n,"set",e,t):Jc(n,"add",e,t),this}function LI(e){const t=Hr(this),{has:n,get:r}=Pb(t);let i=n.call(t,e);i||(e=Hr(e),i=n.call(t,e)),r&&r.call(t,e);const a=t.delete(e);return i&&Jc(t,"delete",e,void 0),a}function PI(){const e=Hr(this),t=e.size!==0,n=e.clear();return t&&Jc(e,"clear",void 0,void 0),n}function r1(e,t){return function(r,i){const a=this,s=a.__v_raw,o=Hr(s),l=t?iM:e?uM:Km;return!e&&Es(o,"iterate",_d),s.forEach((c,u)=>r.call(i,l(c),l(u),a))}}function i1(e,t,n){return function(...r){const i=this.__v_raw,a=Hr(i),s=mg(a),o=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,c=i[e](...r),u=n?iM:t?uM:Km;return!t&&Es(a,"iterate",l?tT:_d),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:o?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function Pf(e){return function(...t){return e==="delete"?!1:this}}function XW(){const e={get(a){return t1(this,a)},get size(){return n1(this)},has:e1,add:II,set:OI,delete:LI,clear:PI,forEach:r1(!1,!1)},t={get(a){return t1(this,a,!1,!0)},get size(){return n1(this)},has:e1,add:II,set:OI,delete:LI,clear:PI,forEach:r1(!1,!0)},n={get(a){return t1(this,a,!0)},get size(){return n1(this,!0)},has(a){return e1.call(this,a,!0)},add:Pf("add"),set:Pf("set"),delete:Pf("delete"),clear:Pf("clear"),forEach:r1(!0,!1)},r={get(a){return t1(this,a,!0,!0)},get size(){return n1(this,!0)},has(a){return e1.call(this,a,!0)},add:Pf("add"),set:Pf("set"),delete:Pf("delete"),clear:Pf("clear"),forEach:r1(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{e[a]=i1(a,!1,!1),n[a]=i1(a,!0,!1),t[a]=i1(a,!1,!0),r[a]=i1(a,!0,!0)}),[e,n,t,r]}const[KW,ZW,JW,QW]=XW();function Nb(e,t){const n=t?e?QW:JW:e?ZW:KW;return(r,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Kr(n,i)&&i in r?n:r,i,a)}const t$={get:Nb(!1,!1)},e$={get:Nb(!1,!0)},n$={get:Nb(!0,!1)},r$={get:Nb(!0,!0)},Z4=new WeakMap,J4=new WeakMap,Q4=new WeakMap,t6=new WeakMap;function i$(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function a$(e){return e.__v_skip||!Object.isExtensible(e)?0:i$(uW(e))}function I0(e){return Od(e)?e:Rb(e,!1,X4,t$,Z4)}function aM(e){return Rb(e,!1,$W,e$,J4)}function oM(e){return Rb(e,!0,K4,n$,Q4)}function o$(e){return Rb(e,!0,qW,r$,t6)}function Rb(e,t,n,r,i){if(!_i(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=i.get(e);if(a)return a;const s=a$(e);if(s===0)return e;const o=new Proxy(e,s===2?r:n);return i.set(e,o),o}function xd(e){return Od(e)?xd(e.__v_raw):!!(e&&e.__v_isReactive)}function Od(e){return!!(e&&e.__v_isReadonly)}function Xm(e){return!!(e&&e.__v_isShallow)}function sM(e){return xd(e)||Od(e)}function Hr(e){const t=e&&e.__v_raw;return t?Hr(t):e}function lM(e){return px(e,"__v_skip",!0),e}const Km=e=>_i(e)?I0(e):e,uM=e=>_i(e)?oM(e):e;function cM(e){Qf&&au&&(e=Hr(e),W4(e.dep||(e.dep=rM())))}function Db(e,t){e=Hr(e);const n=e.dep;n&&eT(n)}function Ga(e){return!!(e&&e.__v_isRef===!0)}function bd(e){return n6(e,!1)}function e6(e){return n6(e,!0)}function n6(e,t){return Ga(e)?e:new s$(e,t)}class s${constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Hr(t),this._value=n?t:Km(t)}get value(){return cM(this),this._value}set value(t){const n=this.__v_isShallow||Xm(t)||Od(t);t=n?t:Hr(t),Dg(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Km(t),Db(this))}}function l$(e){Db(e)}function th(e){return Ga(e)?e.value:e}function u$(e){return dr(e)?e():th(e)}const c$={get:(e,t,n)=>th(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Ga(i)&&!Ga(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function fM(e){return xd(e)?e:new Proxy(e,c$)}class f${constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=t(()=>cM(this),()=>Db(this));this._get=n,this._set=r}get value(){return this._get()}set value(t){this._set(t)}}function h$(e){return new f$(e)}function d$(e){const t=kn(e)?new Array(e.length):{};for(const n in e)t[n]=r6(e,n);return t}class p${constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return RW(Hr(this._object),this._key)}}class g${constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function m$(e,t,n){return Ga(e)?e:dr(e)?new g$(e):_i(e)&&arguments.length>1?r6(e,t,n):bd(e)}function r6(e,t,n){const r=e[t];return Ga(r)?r:new p$(e,t,n)}class v${constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new xy(t,()=>{this._dirty||(this._dirty=!0,Db(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=Hr(this);return cM(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function y$(e,t,n=!1){let r,i;const a=dr(e);return a?(r=e,i=Xo):(r=e.get,i=e.set),new v$(r,i,a||!i,n)}function _$(e,...t){}function x$(e,t){}function Yc(e,t,n,r){let i;try{i=r?e(...r):e()}catch(a){rp(a,t,n)}return i}function $s(e,t,n,r){if(dr(e)){const a=Yc(e,t,n,r);return a&&tM(a)&&a.catch(s=>{rp(s,t,n)}),a}const i=[];for(let a=0;a<e.length;a++)i.push($s(e[a],t,n,r));return i}function rp(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let a=t.parent;const s=t.proxy,o=n;for(;a;){const c=a.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,s,o)===!1)return}a=a.parent}const l=t.appContext.config.errorHandler;if(l){Yc(l,null,10,[e,s,o]);return}}b$(e,n,i,r)}function b$(e,t,n,r=!0){console.error(e)}let Zm=!1,nT=!1;const Mo=[];let Uu=0;const _g=[];let Fc=null,ad=0;const i6=Promise.resolve();let hM=null;function kb(e){const t=hM||i6;return e?t.then(this?e.bind(this):e):t}function w$(e){let t=Uu+1,n=Mo.length;for(;t<n;){const r=t+n>>>1;Jm(Mo[r])<e?t=r+1:n=r}return t}function Fb(e){(!Mo.length||!Mo.includes(e,Zm&&e.allowRecurse?Uu+1:Uu))&&(e.id==null?Mo.push(e):Mo.splice(w$(e.id),0,e),a6())}function a6(){!Zm&&!nT&&(nT=!0,hM=i6.then(o6))}function T$(e){const t=Mo.indexOf(e);t>Uu&&Mo.splice(t,1)}function dM(e){kn(e)?_g.push(...e):(!Fc||!Fc.includes(e,e.allowRecurse?ad+1:ad))&&_g.push(e),a6()}function NI(e,t=Zm?Uu+1:0){for(;t<Mo.length;t++){const n=Mo[t];n&&n.pre&&(Mo.splice(t,1),t--,n())}}function yx(e){if(_g.length){const t=[...new Set(_g)];if(_g.length=0,Fc){Fc.push(...t);return}for(Fc=t,Fc.sort((n,r)=>Jm(n)-Jm(r)),ad=0;ad<Fc.length;ad++)Fc[ad]();Fc=null,ad=0}}const Jm=e=>e.id==null?1/0:e.id,E$=(e,t)=>{const n=Jm(e)-Jm(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function o6(e){nT=!1,Zm=!0,Mo.sort(E$);const t=Xo;try{for(Uu=0;Uu<Mo.length;Uu++){const n=Mo[Uu];n&&n.active!==!1&&Yc(n,null,14)}}finally{Uu=0,Mo.length=0,yx(),Zm=!1,hM=null,(Mo.length||_g.length)&&o6()}}let Zp,a1=[];function s6(e,t){var n,r;Zp=e,Zp?(Zp.enabled=!0,a1.forEach(({event:i,args:a})=>Zp.emit(i,...a)),a1=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(a=>{s6(a,t)}),setTimeout(()=>{Zp||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,a1=[])},3e3)):a1=[]}function M$(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||yi;let i=n;const a=t.startsWith("update:"),s=a&&t.slice(7);if(s&&s in r){const u=`${s==="modelValue"?"model":s}Modifiers`,{number:f,trim:h}=r[u]||yi;h&&(i=n.map(d=>Tr(d)?d.trim():d)),f&&(i=n.map(gx))}let o,l=r[o=vg(t)]||r[o=vg(Ia(t))];!l&&a&&(l=r[o=vg(Ys(t))]),l&&$s(l,e,6,i);const c=r[o+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,$s(c,e,6,i)}}function l6(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const a=e.emits;let s={},o=!1;if(!dr(e)){const l=c=>{const u=l6(c,t,!0);u&&(o=!0,Vr(s,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!o?(_i(e)&&r.set(e,null),null):(kn(a)?a.forEach(l=>s[l]=null):Vr(s,a),_i(e)&&r.set(e,s),s)}function zb(e,t){return!e||!tp(t)?!1:(t=t.slice(2).replace(/Once$/,""),Kr(e,t[0].toLowerCase()+t.slice(1))||Kr(e,Ys(t))||Kr(e,t))}let Za=null,Bb=null;function Qm(e){const t=Za;return Za=e,Bb=e&&e.type.__scopeId||null,t}function S$(e){Bb=e}function C$(){Bb=null}const A$=e=>pM;function pM(e,t=Za,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&uT(-1);const a=Qm(t);let s;try{s=e(...i)}finally{Qm(a),r._d&&uT(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function K1(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:a,propsOptions:[s],slots:o,attrs:l,emit:c,render:u,renderCache:f,data:h,setupState:d,ctx:p,inheritAttrs:g}=e;let m,v;const y=Qm(e);try{if(n.shapeFlag&4){const b=i||r;m=Vs(u.call(b,b,f,a,d,h,p)),v=l}else{const b=t;m=Vs(b.length>1?b(a,{attrs:l,slots:o,emit:c}):b(a,null)),v=t.props?l:O$(l)}}catch(b){zm.length=0,rp(b,e,1),m=Di(Co)}let _=m;if(v&&g!==!1){const b=Object.keys(v),{shapeFlag:w}=_;b.length&&w&7&&(s&&b.some(JE)&&(v=L$(v,s)),_=ic(_,v))}return n.dirs&&(_=ic(_),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),m=_,Qm(y),m}function I$(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(hh(r)){if(r.type!==Co||r.children==="v-if"){if(t)return;t=r}}else return}return t}const O$=e=>{let t;for(const n in e)(n==="class"||n==="style"||tp(n))&&((t||(t={}))[n]=e[n]);return t},L$=(e,t)=>{const n={};for(const r in e)(!JE(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function P$(e,t,n){const{props:r,children:i,component:a}=e,{props:s,children:o,patchFlag:l}=t,c=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?RI(r,s,c):!!s;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(s[h]!==r[h]&&!zb(c,h))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:r===s?!1:r?s?RI(r,s,c):!0:!!s;return!1}function RI(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const a=r[i];if(t[a]!==e[a]&&!zb(n,a))return!0}return!1}function gM({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const u6=e=>e.__isSuspense,N$={name:"Suspense",__isSuspense:!0,process(e,t,n,r,i,a,s,o,l,c){e==null?D$(t,n,r,i,a,s,o,l,c):k$(e,t,n,r,i,s,o,l,c)},hydrate:F$,create:mM,normalize:z$},R$=N$;function tv(e,t){const n=e.props&&e.props[t];dr(n)&&n()}function D$(e,t,n,r,i,a,s,o,l){const{p:c,o:{createElement:u}}=l,f=u("div"),h=e.suspense=mM(e,i,r,t,f,n,a,s,o,l);c(null,h.pendingBranch=e.ssContent,f,null,r,h,a,s),h.deps>0?(tv(e,"onPending"),tv(e,"onFallback"),c(null,e.ssFallback,t,n,r,null,a,s),xg(h,e.ssFallback)):h.resolve(!1,!0)}function k$(e,t,n,r,i,a,s,o,{p:l,um:c,o:{createElement:u}}){const f=t.suspense=e.suspense;f.vnode=t,t.el=e.el;const h=t.ssContent,d=t.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:m,isHydrating:v}=f;if(g)f.pendingBranch=h,ou(h,g)?(l(g,h,f.hiddenContainer,null,i,f,a,s,o),f.deps<=0?f.resolve():m&&(l(p,d,n,r,i,null,a,s,o),xg(f,d))):(f.pendingId++,v?(f.isHydrating=!1,f.activeBranch=g):c(g,i,f),f.deps=0,f.effects.length=0,f.hiddenContainer=u("div"),m?(l(null,h,f.hiddenContainer,null,i,f,a,s,o),f.deps<=0?f.resolve():(l(p,d,n,r,i,null,a,s,o),xg(f,d))):p&&ou(h,p)?(l(p,h,n,r,i,f,a,s,o),f.resolve(!0)):(l(null,h,f.hiddenContainer,null,i,f,a,s,o),f.deps<=0&&f.resolve()));else if(p&&ou(h,p))l(p,h,n,r,i,f,a,s,o),xg(f,h);else if(tv(t,"onPending"),f.pendingBranch=h,f.pendingId++,l(null,h,f.hiddenContainer,null,i,f,a,s,o),f.deps<=0)f.resolve();else{const{timeout:y,pendingId:_}=f;y>0?setTimeout(()=>{f.pendingId===_&&f.fallback(d)},y):y===0&&f.fallback(d)}}function mM(e,t,n,r,i,a,s,o,l,c,u=!1){const{p:f,m:h,um:d,n:p,o:{parentNode:g,remove:m}}=c;let v;const y=B$(e);y&&t?.pendingBranch&&(v=t.pendingId,t.deps++);const _=e.props?mx(e.props.timeout):void 0,b={vnode:e,parent:t,parentComponent:n,isSVG:s,container:r,hiddenContainer:i,anchor:a,deps:0,pendingId:0,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:u,isUnmounted:!1,effects:[],resolve(w=!1,T=!1){const{vnode:M,activeBranch:S,pendingBranch:E,pendingId:A,effects:O,parentComponent:N,container:F}=b;if(b.isHydrating)b.isHydrating=!1;else if(!w){const k=S&&E.transition&&E.transition.mode==="out-in";k&&(S.transition.afterLeave=()=>{A===b.pendingId&&h(E,F,I,0)});let{anchor:I}=b;S&&(I=p(S),d(S,N,b,!0)),k||h(E,F,I,0)}xg(b,E),b.pendingBranch=null,b.isInFallback=!1;let P=b.parent,R=!1;for(;P;){if(P.pendingBranch){P.effects.push(...O),R=!0;break}P=P.parent}R||dM(O),b.effects=[],y&&t&&t.pendingBranch&&v===t.pendingId&&(t.deps--,t.deps===0&&!T&&t.resolve()),tv(M,"onResolve")},fallback(w){if(!b.pendingBranch)return;const{vnode:T,activeBranch:M,parentComponent:S,container:E,isSVG:A}=b;tv(T,"onFallback");const O=p(M),N=()=>{b.isInFallback&&(f(null,w,E,O,S,null,A,o,l),xg(b,w))},F=w.transition&&w.transition.mode==="out-in";F&&(M.transition.afterLeave=N),b.isInFallback=!0,d(M,S,null,!0),F||N()},move(w,T,M){b.activeBranch&&h(b.activeBranch,w,T,M),b.container=w},next(){return b.activeBranch&&p(b.activeBranch)},registerDep(w,T){const M=!!b.pendingBranch;M&&b.deps++;const S=w.vnode.el;w.asyncDep.catch(E=>{rp(E,w,0)}).then(E=>{if(w.isUnmounted||b.isUnmounted||b.pendingId!==w.suspenseId)return;w.asyncResolved=!0;const{vnode:A}=w;cT(w,E,!1),S&&(A.el=S);const O=!S&&w.subTree.el;T(w,A,g(S||w.subTree.el),S?null:p(w.subTree),b,s,l),O&&m(O),gM(w,A.el),M&&--b.deps===0&&b.resolve()})},unmount(w,T){b.isUnmounted=!0,b.activeBranch&&d(b.activeBranch,n,w,T),b.pendingBranch&&d(b.pendingBranch,n,w,T)}};return b}function F$(e,t,n,r,i,a,s,o,l){const c=t.suspense=mM(t,r,n,e.parentNode,document.createElement("div"),null,i,a,s,o,!0),u=l(e,c.pendingBranch=t.ssContent,n,c,a,s);return c.deps===0&&c.resolve(!1,!0),u}function z$(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=DI(r?n.default:n),e.ssFallback=r?DI(n.fallback):Di(Co)}function DI(e){let t;if(dr(e)){const n=Nd&&e._c;n&&(e._d=!1,Yb()),e=e(),n&&(e._d=!0,t=ys,z6())}return kn(e)&&(e=I$(e)),e=Vs(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function c6(e,t){t&&t.pendingBranch?kn(e)?t.effects.push(...e):t.effects.push(e):dM(e)}function xg(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e,i=n.el=t.el;r&&r.subTree===n&&(r.vnode.el=i,gM(r,i))}function B$(e){var t;return((t=e.props)==null?void 0:t.suspensible)!=null&&e.props.suspensible!==!1}function G$(e,t){return by(e,null,t)}function f6(e,t){return by(e,null,{flush:"post"})}function j$(e,t){return by(e,null,{flush:"sync"})}const o1={};function Zu(e,t,n){return by(e,t,n)}function by(e,t,{immediate:n,deep:r,flush:i,onTrack:a,onTrigger:s}=yi){var o;const l=U4()===((o=Sa)==null?void 0:o.scope)?Sa:null;let c,u=!1,f=!1;if(Ga(e)?(c=()=>e.value,u=Xm(e)):xd(e)?(c=()=>e,r=!0):kn(e)?(f=!0,u=e.some(b=>xd(b)||Xm(b)),c=()=>e.map(b=>{if(Ga(b))return b.value;if(xd(b))return fd(b);if(dr(b))return Yc(b,l,2)})):dr(e)?t?c=()=>Yc(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return h&&h(),$s(e,l,3,[d])}:c=Xo,t&&r){const b=c;c=()=>fd(b())}let h,d=b=>{h=y.onStop=()=>{Yc(b,l,4)}},p;if(Fg)if(d=Xo,t?n&&$s(t,l,3,[c(),f?[]:void 0,d]):c(),i==="sync"){const b=K6();p=b.__watcherHandles||(b.__watcherHandles=[])}else return Xo;let g=f?new Array(e.length).fill(o1):o1;const m=()=>{if(y.active)if(t){const b=y.run();(r||u||(f?b.some((w,T)=>Dg(w,g[T])):Dg(b,g)))&&(h&&h(),$s(t,l,3,[b,g===o1?void 0:f&&g[0]===o1?[]:g,d]),g=b)}else y.run()};m.allowRecurse=!!t;let v;i==="sync"?v=m:i==="post"?v=()=>fo(m,l&&l.suspense):(m.pre=!0,l&&(m.id=l.uid),v=()=>Fb(m));const y=new xy(c,v);t?n?m():g=y.run():i==="post"?fo(y.run.bind(y),l&&l.suspense):y.run();const _=()=>{y.stop(),l&&l.scope&&QE(l.scope.effects,y)};return p&&p.push(_),_}function U$(e,t,n){const r=this.proxy,i=Tr(e)?e.includes(".")?h6(r,e):()=>r[e]:e.bind(r,r);let a;dr(t)?a=t:(a=t.handler,n=t);const s=Sa;dh(this);const o=by(i,a.bind(r),n);return s?dh(s):eh(),o}function h6(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function fd(e,t){if(!_i(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ga(e))fd(e.value,t);else if(kn(e))for(let n=0;n<e.length;n++)fd(e[n],t);else if(ep(e)||mg(e))e.forEach(n=>{fd(n,t)});else if(k4(e))for(const n in e)fd(e[n],t);return e}function V$(e,t){const n=Za;if(n===null)return e;const r=$b(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[s,o,l,c=yi]=t[a];s&&(dr(s)&&(s={mounted:s,updated:s}),s.deep&&fd(o),i.push({dir:s,instance:r,value:o,oldValue:void 0,arg:l,modifiers:c}))}return e}function Gu(e,t,n,r){const i=e.dirs,a=t&&t.dirs;for(let s=0;s<i.length;s++){const o=i[s];a&&(o.oldValue=a[s].value);let l=o.dir[r];l&&(C0(),$s(l,n,8,[e.el,o,e,t]),A0())}}function vM(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ey(()=>{e.isMounted=!0}),Vb(()=>{e.isUnmounting=!0}),e}const yl=[Function,Array],yM={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:yl,onEnter:yl,onAfterEnter:yl,onEnterCancelled:yl,onBeforeLeave:yl,onLeave:yl,onAfterLeave:yl,onLeaveCancelled:yl,onBeforeAppear:yl,onAppear:yl,onAfterAppear:yl,onAppearCancelled:yl},H$={name:"BaseTransition",props:yM,setup(e,{slots:t}){const n=hf(),r=vM();let i;return()=>{const a=t.default&&Gb(t.default(),!0);if(!a||!a.length)return;let s=a[0];if(a.length>1){for(const g of a)if(g.type!==Co){s=g;break}}const o=Hr(e),{mode:l}=o;if(r.isLeaving)return s3(s);const c=kI(s);if(!c)return s3(s);const u=kg(c,o,r,n);Ld(c,u);const f=n.subTree,h=f&&kI(f);let d=!1;const{getTransitionKey:p}=c.type;if(p){const g=p();i===void 0?i=g:g!==i&&(i=g,d=!0)}if(h&&h.type!==Co&&(!ou(c,h)||d)){const g=kg(h,o,r,n);if(Ld(h,g),l==="out-in")return r.isLeaving=!0,g.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},s3(s);l==="in-out"&&c.type!==Co&&(g.delayLeave=(m,v,y)=>{const _=p6(r,h);_[String(h.key)]=h,m._leaveCb=()=>{v(),m._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=y})}return s}}},d6=H$;function p6(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function kg(e,t,n,r){const{appear:i,mode:a,persisted:s=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:f,onLeave:h,onAfterLeave:d,onLeaveCancelled:p,onBeforeAppear:g,onAppear:m,onAfterAppear:v,onAppearCancelled:y}=t,_=String(e.key),b=p6(n,e),w=(S,E)=>{S&&$s(S,r,9,E)},T=(S,E)=>{const A=E[1];w(S,E),kn(S)?S.every(O=>O.length<=1)&&A():S.length<=1&&A()},M={mode:a,persisted:s,beforeEnter(S){let E=o;if(!n.isMounted)if(i)E=g||o;else return;S._leaveCb&&S._leaveCb(!0);const A=b[_];A&&ou(e,A)&&A.el._leaveCb&&A.el._leaveCb(),w(E,[S])},enter(S){let E=l,A=c,O=u;if(!n.isMounted)if(i)E=m||l,A=v||c,O=y||u;else return;let N=!1;const F=S._enterCb=P=>{N||(N=!0,P?w(O,[S]):w(A,[S]),M.delayedLeave&&M.delayedLeave(),S._enterCb=void 0)};E?T(E,[S,F]):F()},leave(S,E){const A=String(e.key);if(S._enterCb&&S._enterCb(!0),n.isUnmounting)return E();w(f,[S]);let O=!1;const N=S._leaveCb=F=>{O||(O=!0,E(),F?w(p,[S]):w(d,[S]),S._leaveCb=void 0,b[A]===e&&delete b[A])};b[A]=e,h?T(h,[S,N]):N()},clone(S){return kg(S,t,n,r)}};return M}function s3(e){if(Ty(e))return e=ic(e),e.children=null,e}function kI(e){return Ty(e)?e.children?e.children[0]:void 0:e}function Ld(e,t){e.shapeFlag&6&&e.component?Ld(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Gb(e,t=!1,n){let r=[],i=0;for(let a=0;a<e.length;a++){let s=e[a];const o=n==null?s.key:String(n)+String(s.key!=null?s.key:a);s.type===go?(s.patchFlag&128&&i++,r=r.concat(Gb(s.children,t,o))):(t||s.type!==Co)&&r.push(o!=null?ic(s,{key:o}):s)}if(i>1)for(let a=0;a<r.length;a++)r[a].patchFlag=-2;return r}function wy(e,t){return dr(e)?(()=>Vr({name:e.name},t,{setup:e}))():e}const wd=e=>!!e.type.__asyncLoader;function Y$(e){dr(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:i=200,timeout:a,suspensible:s=!0,onError:o}=e;let l=null,c,u=0;const f=()=>(u++,l=null,h()),h=()=>{let d;return l||(d=l=t().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),o)return new Promise((g,m)=>{o(p,()=>g(f()),()=>m(p),u+1)});throw p}).then(p=>d!==l&&l?l:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),c=p,p)))};return wy({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return c},setup(){const d=Sa;if(c)return()=>l3(c,d);const p=y=>{l=null,rp(y,d,13,!r)};if(s&&d.suspense||Fg)return h().then(y=>()=>l3(y,d)).catch(y=>(p(y),()=>r?Di(r,{error:y}):null));const g=bd(!1),m=bd(),v=bd(!!i);return i&&setTimeout(()=>{v.value=!1},i),a!=null&&setTimeout(()=>{if(!g.value&&!m.value){const y=new Error(`Async component timed out after ${a}ms.`);p(y),m.value=y}},a),h().then(()=>{g.value=!0,d.parent&&Ty(d.parent.vnode)&&Fb(d.parent.update)}).catch(y=>{p(y),m.value=y}),()=>{if(g.value&&c)return l3(c,d);if(m.value&&r)return Di(r,{error:m.value});if(n&&!v.value)return Di(n)}}})}function l3(e,t){const{ref:n,props:r,children:i,ce:a}=t.vnode,s=Di(e,r,i);return s.ref=n,s.ce=a,delete t.vnode.ce,s}const Ty=e=>e.type.__isKeepAlive,W$={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=hf(),r=n.ctx;if(!r.renderer)return()=>{const y=t.default&&t.default();return y&&y.length===1?y[0]:y};const i=new Map,a=new Set;let s=null;const o=n.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:f}}}=r,h=f("div");r.activate=(y,_,b,w,T)=>{const M=y.component;c(y,_,b,0,o),l(M.vnode,y,_,b,M,o,w,y.slotScopeIds,T),fo(()=>{M.isDeactivated=!1,M.a&&yg(M.a);const S=y.props&&y.props.onVnodeMounted;S&&ds(S,M.parent,y)},o)},r.deactivate=y=>{const _=y.component;c(y,h,null,1,o),fo(()=>{_.da&&yg(_.da);const b=y.props&&y.props.onVnodeUnmounted;b&&ds(b,_.parent,y),_.isDeactivated=!0},o)};function d(y){u3(y),u(y,n,o,!0)}function p(y){i.forEach((_,b)=>{const w=hT(_.type);w&&(!y||!y(w))&&g(b)})}function g(y){const _=i.get(y);!s||!ou(_,s)?d(_):s&&u3(s),i.delete(y),a.delete(y)}Zu(()=>[e.include,e.exclude],([y,_])=>{y&&p(b=>Tm(y,b)),_&&p(b=>!Tm(_,b))},{flush:"post",deep:!0});let m=null;const v=()=>{m!=null&&i.set(m,c3(n.subTree))};return Ey(v),Ub(v),Vb(()=>{i.forEach(y=>{const{subTree:_,suspense:b}=n,w=c3(_);if(y.type===w.type&&y.key===w.key){u3(w);const T=w.component.da;T&&fo(T,b);return}d(y)})}),()=>{if(m=null,!t.default)return null;const y=t.default(),_=y[0];if(y.length>1)return s=null,y;if(!hh(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return s=null,_;let b=c3(_);const w=b.type,T=hT(wd(b)?b.type.__asyncResolved||{}:w),{include:M,exclude:S,max:E}=e;if(M&&(!T||!Tm(M,T))||S&&T&&Tm(S,T))return s=b,_;const A=b.key==null?w:b.key,O=i.get(A);return b.el&&(b=ic(b),_.shapeFlag&128&&(_.ssContent=b)),m=A,O?(b.el=O.el,b.component=O.component,b.transition&&Ld(b,b.transition),b.shapeFlag|=512,a.delete(A),a.add(A)):(a.add(A),E&&a.size>parseInt(E,10)&&g(a.values().next().value)),b.shapeFlag|=256,s=b,u6(_.type)?_:b}}},$$=W$;function Tm(e,t){return kn(e)?e.some(n=>Tm(n,t)):Tr(e)?e.split(",").includes(t):lW(e)?e.test(t):!1}function g6(e,t){v6(e,"a",t)}function m6(e,t){v6(e,"da",t)}function v6(e,t,n=Sa){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(jb(t,r,n),n){let i=n.parent;for(;i&&i.parent;)Ty(i.parent.vnode)&&q$(r,t,n,i),i=i.parent}}function q$(e,t,n,r){const i=jb(t,e,r,!0);Hb(()=>{QE(r[t],i)},n)}function u3(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function c3(e){return e.shapeFlag&128?e.ssContent:e}function jb(e,t,n=Sa,r=!1){if(n){const i=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...s)=>{if(n.isUnmounted)return;C0(),dh(n);const o=$s(t,n,e,s);return eh(),A0(),o});return r?i.unshift(a):i.push(a),a}}const ff=e=>(t,n=Sa)=>(!Fg||e==="sp")&&jb(e,(...r)=>t(...r),n),y6=ff("bm"),Ey=ff("m"),_6=ff("bu"),Ub=ff("u"),Vb=ff("bum"),Hb=ff("um"),x6=ff("sp"),b6=ff("rtg"),w6=ff("rtc");function T6(e,t=Sa){jb("ec",e,t)}const _M="components",X$="directives";function K$(e,t){return xM(_M,e,!0,t)||e}const E6=Symbol.for("v-ndc");function Z$(e){return Tr(e)?xM(_M,e,!1)||e:e||E6}function J$(e){return xM(X$,e)}function xM(e,t,n=!0,r=!1){const i=Za||Sa;if(i){const a=i.type;if(e===_M){const o=hT(a,!1);if(o&&(o===t||o===Ia(t)||o===np(Ia(t))))return a}const s=FI(i[e]||a[e],t)||FI(i.appContext[e],t);return!s&&r?a:s}}function FI(e,t){return e&&(e[t]||e[Ia(t)]||e[np(Ia(t))])}function Q$(e,t,n,r){let i;const a=n&&n[r];if(kn(e)||Tr(e)){i=new Array(e.length);for(let s=0,o=e.length;s<o;s++)i[s]=t(e[s],s,void 0,a&&a[s])}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,a&&a[s])}else if(_i(e))if(e[Symbol.iterator])i=Array.from(e,(s,o)=>t(s,o,void 0,a&&a[o]));else{const s=Object.keys(e);i=new Array(s.length);for(let o=0,l=s.length;o<l;o++){const c=s[o];i[o]=t(e[c],c,o,a&&a[o])}}else i=[];return n&&(n[r]=i),i}function tq(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(kn(r))for(let i=0;i<r.length;i++)e[r[i].name]=r[i].fn;else r&&(e[r.name]=r.key?(...i)=>{const a=r.fn(...i);return a&&(a.key=r.key),a}:r.fn)}return e}function eq(e,t,n={},r,i){if(Za.isCE||Za.parent&&wd(Za.parent)&&Za.parent.isCE)return t!=="default"&&(n.name=t),Di("slot",n,r&&r());let a=e[t];a&&a._c&&(a._d=!1),Yb();const s=a&&M6(a(n)),o=EM(go,{key:n.key||s&&s.key||`_${t}`},s||(r?r():[]),s&&e._===1?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),a&&a._c&&(a._d=!0),o}function M6(e){return e.some(t=>hh(t)?!(t.type===Co||t.type===go&&!M6(t.children)):!0)?e:null}function nq(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:vg(r)]=e[r];return n}const rT=e=>e?H6(e)?$b(e)||e.proxy:rT(e.parent):null,Dm=Vr(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>rT(e.parent),$root:e=>rT(e.root),$emit:e=>e.emit,$options:e=>bM(e),$forceUpdate:e=>e.f||(e.f=()=>Fb(e.update)),$nextTick:e=>e.n||(e.n=kb.bind(e.proxy)),$watch:e=>U$.bind(e)}),f3=(e,t)=>e!==yi&&!e.__isScriptSetup&&Kr(e,t),iT={get({_:e},t){const{ctx:n,setupState:r,data:i,props:a,accessCache:s,type:o,appContext:l}=e;let c;if(t[0]!=="$"){const d=s[t];if(d!==void 0)switch(d){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return a[t]}else{if(f3(r,t))return s[t]=1,r[t];if(i!==yi&&Kr(i,t))return s[t]=2,i[t];if((c=e.propsOptions[0])&&Kr(c,t))return s[t]=3,a[t];if(n!==yi&&Kr(n,t))return s[t]=4,n[t];aT&&(s[t]=0)}}const u=Dm[t];let f,h;if(u)return t==="$attrs"&&Es(e,"get",t),u(e);if((f=o.__cssModules)&&(f=f[t]))return f;if(n!==yi&&Kr(n,t))return s[t]=4,n[t];if(h=l.config.globalProperties,Kr(h,t))return h[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:a}=e;return f3(i,t)?(i[t]=n,!0):r!==yi&&Kr(r,t)?(r[t]=n,!0):Kr(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:a}},s){let o;return!!n[s]||e!==yi&&Kr(e,s)||f3(t,s)||(o=a[0])&&Kr(o,s)||Kr(r,s)||Kr(Dm,s)||Kr(i.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Kr(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},rq=Vr({},iT,{get(e,t){if(t!==Symbol.unscopables)return iT.get(e,t,e)},has(e,t){return t[0]!=="_"&&!pW(t)}});function iq(){return null}function aq(){return null}function oq(e){}function sq(e){}function lq(){return null}function uq(){}function cq(e,t){return null}function fq(){return S6().slots}function hq(){return S6().attrs}function dq(e,t,n){const r=hf();if(n&&n.local){const i=bd(e[t]);return Zu(()=>e[t],a=>i.value=a),Zu(i,a=>{a!==e[t]&&r.emit(`update:${t}`,a)}),i}else return{__v_isRef:!0,get value(){return e[t]},set value(i){r.emit(`update:${t}`,i)}}}function S6(){const e=hf();return e.setupContext||(e.setupContext=q6(e))}function ev(e){return kn(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function pq(e,t){const n=ev(e);for(const r in t){if(r.startsWith("__skip"))continue;let i=n[r];i?kn(i)||dr(i)?i=n[r]={type:i,default:t[r]}:i.default=t[r]:i===null&&(i=n[r]={default:t[r]}),i&&t[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function gq(e,t){return!e||!t?e||t:kn(e)&&kn(t)?e.concat(t):Vr({},ev(e),ev(t))}function mq(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function vq(e){const t=hf();let n=e();return eh(),tM(n)&&(n=n.catch(r=>{throw dh(t),r})),[n,()=>dh(t)]}let aT=!0;function yq(e){const t=bM(e),n=e.proxy,r=e.ctx;aT=!1,t.beforeCreate&&zI(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:s,watch:o,provide:l,inject:c,created:u,beforeMount:f,mounted:h,beforeUpdate:d,updated:p,activated:g,deactivated:m,beforeDestroy:v,beforeUnmount:y,destroyed:_,unmounted:b,render:w,renderTracked:T,renderTriggered:M,errorCaptured:S,serverPrefetch:E,expose:A,inheritAttrs:O,components:N,directives:F,filters:P}=t;if(c&&_q(c,r,null),s)for(const I in s){const j=s[I];dr(j)&&(r[I]=j.bind(n))}if(i){const I=i.call(n,n);_i(I)&&(e.data=I0(I))}if(aT=!0,a)for(const I in a){const j=a[I],G=dr(j)?j.bind(n,n):dr(j.get)?j.get.bind(n,n):Xo,q=!dr(j)&&dr(j.set)?j.set.bind(n):Xo,et=Ws({get:G,set:q});Object.defineProperty(r,I,{enumerable:!0,configurable:!0,get:()=>et.value,set:U=>et.value=U})}if(o)for(const I in o)C6(o[I],r,n,I);if(l){const I=dr(l)?l.call(n):l;Reflect.ownKeys(I).forEach(j=>{km(j,I[j])})}u&&zI(u,e,"c");function k(I,j){kn(j)?j.forEach(G=>I(G.bind(n))):j&&I(j.bind(n))}if(k(y6,f),k(Ey,h),k(_6,d),k(Ub,p),k(g6,g),k(m6,m),k(T6,S),k(w6,T),k(b6,M),k(Vb,y),k(Hb,b),k(x6,E),kn(A))if(A.length){const I=e.exposed||(e.exposed={});A.forEach(j=>{Object.defineProperty(I,j,{get:()=>n[j],set:G=>n[j]=G})})}else e.exposed||(e.exposed={});w&&e.render===Xo&&(e.render=w),O!=null&&(e.inheritAttrs=O),N&&(e.components=N),F&&(e.directives=F)}function _q(e,t,n=Xo){kn(e)&&(e=oT(e));for(const r in e){const i=e[r];let a;_i(i)?"default"in i?a=Ju(i.from||r,i.default,!0):a=Ju(i.from||r):a=Ju(i),Ga(a)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s}):t[r]=a}}function zI(e,t,n){$s(kn(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function C6(e,t,n,r){const i=r.includes(".")?h6(n,r):()=>n[r];if(Tr(e)){const a=t[e];dr(a)&&Zu(i,a)}else if(dr(e))Zu(i,e.bind(n));else if(_i(e))if(kn(e))e.forEach(a=>C6(a,t,n,r));else{const a=dr(e.handler)?e.handler.bind(n):t[e.handler];dr(a)&&Zu(i,a,e)}}function bM(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:s}}=e.appContext,o=a.get(t);let l;return o?l=o:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(c=>_x(l,c,s,!0)),_x(l,t,s)),_i(t)&&a.set(t,l),l}function _x(e,t,n,r=!1){const{mixins:i,extends:a}=t;a&&_x(e,a,n,!0),i&&i.forEach(s=>_x(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const o=xq[s]||n&&n[s];e[s]=o?o(e[s],t[s]):t[s]}return e}const xq={data:BI,props:GI,emits:GI,methods:Em,computed:Em,beforeCreate:Uo,created:Uo,beforeMount:Uo,mounted:Uo,beforeUpdate:Uo,updated:Uo,beforeDestroy:Uo,beforeUnmount:Uo,destroyed:Uo,unmounted:Uo,activated:Uo,deactivated:Uo,errorCaptured:Uo,serverPrefetch:Uo,components:Em,directives:Em,watch:wq,provide:BI,inject:bq};function BI(e,t){return t?e?function(){return Vr(dr(e)?e.call(this,this):e,dr(t)?t.call(this,this):t)}:t:e}function bq(e,t){return Em(oT(e),oT(t))}function oT(e){if(kn(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Uo(e,t){return e?[...new Set([].concat(e,t))]:t}function Em(e,t){return e?Vr(Object.create(null),e,t):t}function GI(e,t){return e?kn(e)&&kn(t)?[...new Set([...e,...t])]:Vr(Object.create(null),ev(e),ev(t??{})):t}function wq(e,t){if(!e)return t;if(!t)return e;const n=Vr(Object.create(null),e);for(const r in t)n[r]=Uo(e[r],t[r]);return n}function A6(){return{app:null,config:{isNativeTag:X1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Tq=0;function Eq(e,t){return function(r,i=null){dr(r)||(r=Vr({},r)),i!=null&&!_i(i)&&(i=null);const a=A6(),s=new Set;let o=!1;const l=a.app={_uid:Tq++,_component:r,_props:i,_container:null,_context:a,_instance:null,version:J6,get config(){return a.config},set config(c){},use(c,...u){return s.has(c)||(c&&dr(c.install)?(s.add(c),c.install(l,...u)):dr(c)&&(s.add(c),c(l,...u))),l},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),l},component(c,u){return u?(a.components[c]=u,l):a.components[c]},directive(c,u){return u?(a.directives[c]=u,l):a.directives[c]},mount(c,u,f){if(!o){const h=Di(r,i);return h.appContext=a,u&&t?t(h,c):e(h,c,f),o=!0,l._container=c,c.__vue_app__=l,$b(h.component)||h.component.proxy}},unmount(){o&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return a.provides[c]=u,l},runWithContext(c){nv=l;try{return c()}finally{nv=null}}};return l}}let nv=null;function km(e,t){if(Sa){let n=Sa.provides;const r=Sa.parent&&Sa.parent.provides;r===n&&(n=Sa.provides=Object.create(r)),n[e]=t}}function Ju(e,t,n=!1){const r=Sa||Za;if(r||nv){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:nv._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&dr(t)?t.call(r&&r.proxy):t}}function Mq(){return!!(Sa||Za||nv)}function Sq(e,t,n,r=!1){const i={},a={};px(a,Wb,1),e.propsDefaults=Object.create(null),I6(e,t,i,a);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=r?i:aM(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function Cq(e,t,n,r){const{props:i,attrs:a,vnode:{patchFlag:s}}=e,o=Hr(i),[l]=e.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(zb(e.emitsOptions,h))continue;const d=t[h];if(l)if(Kr(a,h))d!==a[h]&&(a[h]=d,c=!0);else{const p=Ia(h);i[p]=sT(l,o,p,d,e,!1)}else d!==a[h]&&(a[h]=d,c=!0)}}}else{I6(e,t,i,a)&&(c=!0);let u;for(const f in o)(!t||!Kr(t,f)&&((u=Ys(f))===f||!Kr(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(i[f]=sT(l,o,f,void 0,e,!0)):delete i[f]);if(a!==o)for(const f in a)(!t||!Kr(t,f))&&(delete a[f],c=!0)}c&&Jc(e,"set","$attrs")}function I6(e,t,n,r){const[i,a]=e.propsOptions;let s=!1,o;if(t)for(let l in t){if(yd(l))continue;const c=t[l];let u;i&&Kr(i,u=Ia(l))?!a||!a.includes(u)?n[u]=c:(o||(o={}))[u]=c:zb(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,s=!0)}if(a){const l=Hr(n),c=o||yi;for(let u=0;u<a.length;u++){const f=a[u];n[f]=sT(i,l,f,c[f],e,!Kr(c,f))}}return s}function sT(e,t,n,r,i,a){const s=e[n];if(s!=null){const o=Kr(s,"default");if(o&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&dr(l)){const{propsDefaults:c}=i;n in c?r=c[n]:(dh(i),r=c[n]=l.call(null,t),eh())}else r=l}s[0]&&(a&&!o?r=!1:s[1]&&(r===""||r===Ys(n))&&(r=!0))}return r}function O6(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const a=e.props,s={},o=[];let l=!1;if(!dr(e)){const u=f=>{l=!0;const[h,d]=O6(f,t,!0);Vr(s,h),d&&o.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!a&&!l)return _i(e)&&r.set(e,gg),gg;if(kn(a))for(let u=0;u<a.length;u++){const f=Ia(a[u]);jI(f)&&(s[f]=yi)}else if(a)for(const u in a){const f=Ia(u);if(jI(f)){const h=a[u],d=s[f]=kn(h)||dr(h)?{type:h}:Vr({},h);if(d){const p=HI(Boolean,d.type),g=HI(String,d.type);d[0]=p>-1,d[1]=g<0||p<g,(p>-1||Kr(d,"default"))&&o.push(f)}}}const c=[s,o];return _i(e)&&r.set(e,c),c}function jI(e){return e[0]!=="$"}function UI(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function VI(e,t){return UI(e)===UI(t)}function HI(e,t){return kn(t)?t.findIndex(n=>VI(n,e)):dr(t)&&VI(t,e)?0:-1}const L6=e=>e[0]==="_"||e==="$stable",wM=e=>kn(e)?e.map(Vs):[Vs(e)],Aq=(e,t,n)=>{if(t._n)return t;const r=pM((...i)=>wM(t(...i)),n);return r._c=!1,r},P6=(e,t,n)=>{const r=e._ctx;for(const i in e){if(L6(i))continue;const a=e[i];if(dr(a))t[i]=Aq(i,a,r);else if(a!=null){const s=wM(a);t[i]=()=>s}}},N6=(e,t)=>{const n=wM(t);e.slots.default=()=>n},Iq=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Hr(t),px(t,"_",n)):P6(t,e.slots={})}else e.slots={},t&&N6(e,t);px(e.slots,Wb,1)},Oq=(e,t,n)=>{const{vnode:r,slots:i}=e;let a=!0,s=yi;if(r.shapeFlag&32){const o=t._;o?n&&o===1?a=!1:(Vr(i,t),!n&&o===1&&delete i._):(a=!t.$stable,P6(t,i)),s=t}else t&&(N6(e,t),s={default:1});if(a)for(const o in i)!L6(o)&&!(o in s)&&delete i[o]};function xx(e,t,n,r,i=!1){if(kn(e)){e.forEach((h,d)=>xx(h,t&&(kn(t)?t[d]:t),n,r,i));return}if(wd(r)&&!i)return;const a=r.shapeFlag&4?$b(r.component)||r.component.proxy:r.el,s=i?null:a,{i:o,r:l}=e,c=t&&t.r,u=o.refs===yi?o.refs={}:o.refs,f=o.setupState;if(c!=null&&c!==l&&(Tr(c)?(u[c]=null,Kr(f,c)&&(f[c]=null)):Ga(c)&&(c.value=null)),dr(l))Yc(l,o,12,[s,u]);else{const h=Tr(l),d=Ga(l);if(h||d){const p=()=>{if(e.f){const g=h?Kr(f,l)?f[l]:u[l]:l.value;i?kn(g)&&QE(g,a):kn(g)?g.includes(a)||g.push(a):h?(u[l]=[a],Kr(f,l)&&(f[l]=u[l])):(l.value=[a],e.k&&(u[e.k]=l.value))}else h?(u[l]=s,Kr(f,l)&&(f[l]=s)):d&&(l.value=s,e.k&&(u[e.k]=s))};s?(p.id=-1,fo(p,n)):p()}}}let Nf=!1;const s1=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",l1=e=>e.nodeType===8;function Lq(e){const{mt:t,p:n,o:{patchProp:r,createText:i,nextSibling:a,parentNode:s,remove:o,insert:l,createComment:c}}=e,u=(v,y)=>{if(!y.hasChildNodes()){n(null,v,y),yx(),y._vnode=v;return}Nf=!1,f(y.firstChild,v,null,null,null),yx(),y._vnode=v,Nf&&console.error("Hydration completed but contains mismatches.")},f=(v,y,_,b,w,T=!1)=>{const M=l1(v)&&v.data==="[",S=()=>g(v,y,_,b,w,M),{type:E,ref:A,shapeFlag:O,patchFlag:N}=y;let F=v.nodeType;y.el=v,N===-2&&(T=!1,y.dynamicChildren=null);let P=null;switch(E){case Pd:F!==3?y.children===""?(l(y.el=i(""),s(v),v),P=v):P=S():(v.data!==y.children&&(Nf=!0,v.data=y.children),P=a(v));break;case Co:F!==8||M?P=S():P=a(v);break;case Td:if(M&&(v=a(v),F=v.nodeType),F===1||F===3){P=v;const R=!y.children.length;for(let k=0;k<y.staticCount;k++)R&&(y.children+=P.nodeType===1?P.outerHTML:P.data),k===y.staticCount-1&&(y.anchor=P),P=a(P);return M?a(P):P}else S();break;case go:M?P=p(v,y,_,b,w,T):P=S();break;default:if(O&1)F!==1||y.type.toLowerCase()!==v.tagName.toLowerCase()?P=S():P=h(v,y,_,b,w,T);else if(O&6){y.slotScopeIds=w;const R=s(v);if(t(y,R,null,_,b,s1(R),T),P=M?m(v):a(v),P&&l1(P)&&P.data==="teleport end"&&(P=a(P)),wd(y)){let k;M?(k=Di(go),k.anchor=P?P.previousSibling:R.lastChild):k=v.nodeType===3?SM(""):Di("div"),k.el=v,y.component.subTree=k}}else O&64?F!==8?P=S():P=y.type.hydrate(v,y,_,b,w,T,e,d):O&128&&(P=y.type.hydrate(v,y,_,b,s1(s(v)),w,T,e,f))}return A!=null&&xx(A,null,b,y),P},h=(v,y,_,b,w,T)=>{T=T||!!y.dynamicChildren;const{type:M,props:S,patchFlag:E,shapeFlag:A,dirs:O}=y,N=M==="input"&&O||M==="option";if(N||E!==-1){if(O&&Gu(y,null,_,"created"),S)if(N||!T||E&48)for(const P in S)(N&&P.endsWith("value")||tp(P)&&!yd(P))&&r(v,P,null,S[P],!1,void 0,_);else S.onClick&&r(v,"onClick",null,S.onClick,!1,void 0,_);let F;if((F=S&&S.onVnodeBeforeMount)&&ds(F,_,y),O&&Gu(y,null,_,"beforeMount"),((F=S&&S.onVnodeMounted)||O)&&c6(()=>{F&&ds(F,_,y),O&&Gu(y,null,_,"mounted")},b),A&16&&!(S&&(S.innerHTML||S.textContent))){let P=d(v.firstChild,y,v,_,b,w,T);for(;P;){Nf=!0;const R=P;P=P.nextSibling,o(R)}}else A&8&&v.textContent!==y.children&&(Nf=!0,v.textContent=y.children)}return v.nextSibling},d=(v,y,_,b,w,T,M)=>{M=M||!!y.dynamicChildren;const S=y.children,E=S.length;for(let A=0;A<E;A++){const O=M?S[A]:S[A]=Vs(S[A]);if(v)v=f(v,O,b,w,T,M);else{if(O.type===Pd&&!O.children)continue;Nf=!0,n(null,O,_,null,b,w,s1(_),T)}}return v},p=(v,y,_,b,w,T)=>{const{slotScopeIds:M}=y;M&&(w=w?w.concat(M):M);const S=s(v),E=d(a(v),y,S,_,b,w,T);return E&&l1(E)&&E.data==="]"?a(y.anchor=E):(Nf=!0,l(y.anchor=c("]"),S,E),E)},g=(v,y,_,b,w,T)=>{if(Nf=!0,y.el=null,T){const E=m(v);for(;;){const A=a(v);if(A&&A!==E)o(A);else break}}const M=a(v),S=s(v);return o(v),n(null,y,S,M,_,b,s1(S),w),M},m=v=>{let y=0;for(;v;)if(v=a(v),v&&l1(v)&&(v.data==="["&&y++,v.data==="]")){if(y===0)return a(v);y--}return v};return[u,f]}const fo=c6;function R6(e){return k6(e)}function D6(e){return k6(e,Lq)}function k6(e,t){const n=J3();n.__VUE__=!0;const{insert:r,remove:i,patchProp:a,createElement:s,createText:o,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:h,setScopeId:d=Xo,insertStaticContent:p}=e,g=(rt,V,B,H=null,$=null,Z=null,Q=!1,ot=null,st=!!V.dynamicChildren)=>{if(rt===V)return;rt&&!ou(rt,V)&&(H=W(rt),U(rt,$,Z,!0),rt=null),V.patchFlag===-2&&(st=!1,V.dynamicChildren=null);const{type:dt,ref:bt,shapeFlag:Pt}=V;switch(dt){case Pd:m(rt,V,B,H);break;case Co:v(rt,V,B,H);break;case Td:rt==null&&y(V,B,H,Q);break;case go:N(rt,V,B,H,$,Z,Q,ot,st);break;default:Pt&1?w(rt,V,B,H,$,Z,Q,ot,st):Pt&6?F(rt,V,B,H,$,Z,Q,ot,st):(Pt&64||Pt&128)&&dt.process(rt,V,B,H,$,Z,Q,ot,st,it)}bt!=null&&$&&xx(bt,rt&&rt.ref,Z,V||rt,!V)},m=(rt,V,B,H)=>{if(rt==null)r(V.el=o(V.children),B,H);else{const $=V.el=rt.el;V.children!==rt.children&&c($,V.children)}},v=(rt,V,B,H)=>{rt==null?r(V.el=l(V.children||""),B,H):V.el=rt.el},y=(rt,V,B,H)=>{[rt.el,rt.anchor]=p(rt.children,V,B,H,rt.el,rt.anchor)},_=({el:rt,anchor:V},B,H)=>{let $;for(;rt&&rt!==V;)$=h(rt),r(rt,B,H),rt=$;r(V,B,H)},b=({el:rt,anchor:V})=>{let B;for(;rt&&rt!==V;)B=h(rt),i(rt),rt=B;i(V)},w=(rt,V,B,H,$,Z,Q,ot,st)=>{Q=Q||V.type==="svg",rt==null?T(V,B,H,$,Z,Q,ot,st):E(rt,V,$,Z,Q,ot,st)},T=(rt,V,B,H,$,Z,Q,ot)=>{let st,dt;const{type:bt,props:Pt,shapeFlag:It,transition:Dt,dirs:gt}=rt;if(st=rt.el=s(rt.type,Z,Pt&&Pt.is,Pt),It&8?u(st,rt.children):It&16&&S(rt.children,st,null,H,$,Z&&bt!=="foreignObject",Q,ot),gt&&Gu(rt,null,H,"created"),M(st,rt,rt.scopeId,Q,H),Pt){for(const wt in Pt)wt!=="value"&&!yd(wt)&&a(st,wt,null,Pt[wt],Z,rt.children,H,$,z);"value"in Pt&&a(st,"value",null,Pt.value),(dt=Pt.onVnodeBeforeMount)&&ds(dt,H,rt)}gt&&Gu(rt,null,H,"beforeMount");const _t=(!$||$&&!$.pendingBranch)&&Dt&&!Dt.persisted;_t&&Dt.beforeEnter(st),r(st,V,B),((dt=Pt&&Pt.onVnodeMounted)||_t||gt)&&fo(()=>{dt&&ds(dt,H,rt),_t&&Dt.enter(st),gt&&Gu(rt,null,H,"mounted")},$)},M=(rt,V,B,H,$)=>{if(B&&d(rt,B),H)for(let Z=0;Z<H.length;Z++)d(rt,H[Z]);if($){let Z=$.subTree;if(V===Z){const Q=$.vnode;M(rt,Q,Q.scopeId,Q.slotScopeIds,$.parent)}}},S=(rt,V,B,H,$,Z,Q,ot,st=0)=>{for(let dt=st;dt<rt.length;dt++){const bt=rt[dt]=ot?$f(rt[dt]):Vs(rt[dt]);g(null,bt,V,B,H,$,Z,Q,ot)}},E=(rt,V,B,H,$,Z,Q)=>{const ot=V.el=rt.el;let{patchFlag:st,dynamicChildren:dt,dirs:bt}=V;st|=rt.patchFlag&16;const Pt=rt.props||yi,It=V.props||yi;let Dt;B&&Kh(B,!1),(Dt=It.onVnodeBeforeUpdate)&&ds(Dt,B,V,rt),bt&&Gu(V,rt,B,"beforeUpdate"),B&&Kh(B,!0);const gt=$&&V.type!=="foreignObject";if(dt?A(rt.dynamicChildren,dt,ot,B,H,gt,Z):Q||j(rt,V,ot,null,B,H,gt,Z,!1),st>0){if(st&16)O(ot,V,Pt,It,B,H,$);else if(st&2&&Pt.class!==It.class&&a(ot,"class",null,It.class,$),st&4&&a(ot,"style",Pt.style,It.style,$),st&8){const _t=V.dynamicProps;for(let wt=0;wt<_t.length;wt++){const Et=_t[wt],ht=Pt[Et],vt=It[Et];(vt!==ht||Et==="value")&&a(ot,Et,ht,vt,$,rt.children,B,H,z)}}st&1&&rt.children!==V.children&&u(ot,V.children)}else!Q&&dt==null&&O(ot,V,Pt,It,B,H,$);((Dt=It.onVnodeUpdated)||bt)&&fo(()=>{Dt&&ds(Dt,B,V,rt),bt&&Gu(V,rt,B,"updated")},H)},A=(rt,V,B,H,$,Z,Q)=>{for(let ot=0;ot<V.length;ot++){const st=rt[ot],dt=V[ot],bt=st.el&&(st.type===go||!ou(st,dt)||st.shapeFlag&70)?f(st.el):B;g(st,dt,bt,null,H,$,Z,Q,!0)}},O=(rt,V,B,H,$,Z,Q)=>{if(B!==H){if(B!==yi)for(const ot in B)!yd(ot)&&!(ot in H)&&a(rt,ot,B[ot],null,Q,V.children,$,Z,z);for(const ot in H){if(yd(ot))continue;const st=H[ot],dt=B[ot];st!==dt&&ot!=="value"&&a(rt,ot,dt,st,Q,V.children,$,Z,z)}"value"in H&&a(rt,"value",B.value,H.value)}},N=(rt,V,B,H,$,Z,Q,ot,st)=>{const dt=V.el=rt?rt.el:o(""),bt=V.anchor=rt?rt.anchor:o("");let{patchFlag:Pt,dynamicChildren:It,slotScopeIds:Dt}=V;Dt&&(ot=ot?ot.concat(Dt):Dt),rt==null?(r(dt,B,H),r(bt,B,H),S(V.children,B,bt,$,Z,Q,ot,st)):Pt>0&&Pt&64&&It&&rt.dynamicChildren?(A(rt.dynamicChildren,It,B,$,Z,Q,ot),(V.key!=null||$&&V===$.subTree)&&TM(rt,V,!0)):j(rt,V,B,bt,$,Z,Q,ot,st)},F=(rt,V,B,H,$,Z,Q,ot,st)=>{V.slotScopeIds=ot,rt==null?V.shapeFlag&512?$.ctx.activate(V,B,H,Q,st):P(V,B,H,$,Z,Q,st):R(rt,V,st)},P=(rt,V,B,H,$,Z,Q)=>{const ot=rt.component=V6(rt,H,$);if(Ty(rt)&&(ot.ctx.renderer=it),Y6(ot),ot.asyncDep){if($&&$.registerDep(ot,k),!rt.el){const st=ot.subTree=Di(Co);v(null,st,V,B)}return}k(ot,rt,V,B,$,Z,Q)},R=(rt,V,B)=>{const H=V.component=rt.component;if(P$(rt,V,B))if(H.asyncDep&&!H.asyncResolved){I(H,V,B);return}else H.next=V,T$(H.update),H.update();else V.el=rt.el,H.vnode=V},k=(rt,V,B,H,$,Z,Q)=>{const ot=()=>{if(rt.isMounted){let{next:bt,bu:Pt,u:It,parent:Dt,vnode:gt}=rt,_t=bt,wt;Kh(rt,!1),bt?(bt.el=gt.el,I(rt,bt,Q)):bt=gt,Pt&&yg(Pt),(wt=bt.props&&bt.props.onVnodeBeforeUpdate)&&ds(wt,Dt,bt,gt),Kh(rt,!0);const Et=K1(rt),ht=rt.subTree;rt.subTree=Et,g(ht,Et,f(ht.el),W(ht),rt,$,Z),bt.el=Et.el,_t===null&&gM(rt,Et.el),It&&fo(It,$),(wt=bt.props&&bt.props.onVnodeUpdated)&&fo(()=>ds(wt,Dt,bt,gt),$)}else{let bt;const{el:Pt,props:It}=V,{bm:Dt,m:gt,parent:_t}=rt,wt=wd(V);if(Kh(rt,!1),Dt&&yg(Dt),!wt&&(bt=It&&It.onVnodeBeforeMount)&&ds(bt,_t,V),Kh(rt,!0),Pt&&pt){const Et=()=>{rt.subTree=K1(rt),pt(Pt,rt.subTree,rt,$,null)};wt?V.type.__asyncLoader().then(()=>!rt.isUnmounted&&Et()):Et()}else{const Et=rt.subTree=K1(rt);g(null,Et,B,H,rt,$,Z),V.el=Et.el}if(gt&&fo(gt,$),!wt&&(bt=It&&It.onVnodeMounted)){const Et=V;fo(()=>ds(bt,_t,Et),$)}(V.shapeFlag&256||_t&&wd(_t.vnode)&&_t.vnode.shapeFlag&256)&&rt.a&&fo(rt.a,$),rt.isMounted=!0,V=B=H=null}},st=rt.effect=new xy(ot,()=>Fb(dt),rt.scope),dt=rt.update=()=>st.run();dt.id=rt.uid,Kh(rt,!0),dt()},I=(rt,V,B)=>{V.component=rt;const H=rt.vnode.props;rt.vnode=V,rt.next=null,Cq(rt,V.props,H,B),Oq(rt,V.children,B),C0(),NI(),A0()},j=(rt,V,B,H,$,Z,Q,ot,st=!1)=>{const dt=rt&&rt.children,bt=rt?rt.shapeFlag:0,Pt=V.children,{patchFlag:It,shapeFlag:Dt}=V;if(It>0){if(It&128){q(dt,Pt,B,H,$,Z,Q,ot,st);return}else if(It&256){G(dt,Pt,B,H,$,Z,Q,ot,st);return}}Dt&8?(bt&16&&z(dt,$,Z),Pt!==dt&&u(B,Pt)):bt&16?Dt&16?q(dt,Pt,B,H,$,Z,Q,ot,st):z(dt,$,Z,!0):(bt&8&&u(B,""),Dt&16&&S(Pt,B,H,$,Z,Q,ot,st))},G=(rt,V,B,H,$,Z,Q,ot,st)=>{rt=rt||gg,V=V||gg;const dt=rt.length,bt=V.length,Pt=Math.min(dt,bt);let It;for(It=0;It<Pt;It++){const Dt=V[It]=st?$f(V[It]):Vs(V[It]);g(rt[It],Dt,B,null,$,Z,Q,ot,st)}dt>bt?z(rt,$,Z,!0,!1,Pt):S(V,B,H,$,Z,Q,ot,st,Pt)},q=(rt,V,B,H,$,Z,Q,ot,st)=>{let dt=0;const bt=V.length;let Pt=rt.length-1,It=bt-1;for(;dt<=Pt&&dt<=It;){const Dt=rt[dt],gt=V[dt]=st?$f(V[dt]):Vs(V[dt]);if(ou(Dt,gt))g(Dt,gt,B,null,$,Z,Q,ot,st);else break;dt++}for(;dt<=Pt&&dt<=It;){const Dt=rt[Pt],gt=V[It]=st?$f(V[It]):Vs(V[It]);if(ou(Dt,gt))g(Dt,gt,B,null,$,Z,Q,ot,st);else break;Pt--,It--}if(dt>Pt){if(dt<=It){const Dt=It+1,gt=Dt<bt?V[Dt].el:H;for(;dt<=It;)g(null,V[dt]=st?$f(V[dt]):Vs(V[dt]),B,gt,$,Z,Q,ot,st),dt++}}else if(dt>It)for(;dt<=Pt;)U(rt[dt],$,Z,!0),dt++;else{const Dt=dt,gt=dt,_t=new Map;for(dt=gt;dt<=It;dt++){const Rt=V[dt]=st?$f(V[dt]):Vs(V[dt]);Rt.key!=null&&_t.set(Rt.key,dt)}let wt,Et=0;const ht=It-gt+1;let vt=!1,Ct=0;const Mt=new Array(ht);for(dt=0;dt<ht;dt++)Mt[dt]=0;for(dt=Dt;dt<=Pt;dt++){const Rt=rt[dt];if(Et>=ht){U(Rt,$,Z,!0);continue}let At;if(Rt.key!=null)At=_t.get(Rt.key);else for(wt=gt;wt<=It;wt++)if(Mt[wt-gt]===0&&ou(Rt,V[wt])){At=wt;break}At===void 0?U(Rt,$,Z,!0):(Mt[At-gt]=dt+1,At>=Ct?Ct=At:vt=!0,g(Rt,V[At],B,null,$,Z,Q,ot,st),Et++)}const Nt=vt?Pq(Mt):gg;for(wt=Nt.length-1,dt=ht-1;dt>=0;dt--){const Rt=gt+dt,At=V[Rt],kt=Rt+1<bt?V[Rt+1].el:H;Mt[dt]===0?g(null,At,B,kt,$,Z,Q,ot,st):vt&&(wt<0||dt!==Nt[wt]?et(At,B,kt,2):wt--)}}},et=(rt,V,B,H,$=null)=>{const{el:Z,type:Q,transition:ot,children:st,shapeFlag:dt}=rt;if(dt&6){et(rt.component.subTree,V,B,H);return}if(dt&128){rt.suspense.move(V,B,H);return}if(dt&64){Q.move(rt,V,B,it);return}if(Q===go){r(Z,V,B);for(let Pt=0;Pt<st.length;Pt++)et(st[Pt],V,B,H);r(rt.anchor,V,B);return}if(Q===Td){_(rt,V,B);return}if(H!==2&&dt&1&&ot)if(H===0)ot.beforeEnter(Z),r(Z,V,B),fo(()=>ot.enter(Z),$);else{const{leave:Pt,delayLeave:It,afterLeave:Dt}=ot,gt=()=>r(Z,V,B),_t=()=>{Pt(Z,()=>{gt(),Dt&&Dt()})};It?It(Z,gt,_t):_t()}else r(Z,V,B)},U=(rt,V,B,H=!1,$=!1)=>{const{type:Z,props:Q,ref:ot,children:st,dynamicChildren:dt,shapeFlag:bt,patchFlag:Pt,dirs:It}=rt;if(ot!=null&&xx(ot,null,B,rt,!0),bt&256){V.ctx.deactivate(rt);return}const Dt=bt&1&&It,gt=!wd(rt);let _t;if(gt&&(_t=Q&&Q.onVnodeBeforeUnmount)&&ds(_t,V,rt),bt&6)ct(rt.component,B,H);else{if(bt&128){rt.suspense.unmount(B,H);return}Dt&&Gu(rt,null,V,"beforeUnmount"),bt&64?rt.type.remove(rt,V,B,$,it,H):dt&&(Z!==go||Pt>0&&Pt&64)?z(dt,V,B,!1,!0):(Z===go&&Pt&384||!$&&bt&16)&&z(st,V,B),H&&J(rt)}(gt&&(_t=Q&&Q.onVnodeUnmounted)||Dt)&&fo(()=>{_t&&ds(_t,V,rt),Dt&&Gu(rt,null,V,"unmounted")},B)},J=rt=>{const{type:V,el:B,anchor:H,transition:$}=rt;if(V===go){nt(B,H);return}if(V===Td){b(rt);return}const Z=()=>{i(B),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(rt.shapeFlag&1&&$&&!$.persisted){const{leave:Q,delayLeave:ot}=$,st=()=>Q(B,Z);ot?ot(rt.el,Z,st):st()}else Z()},nt=(rt,V)=>{let B;for(;rt!==V;)B=h(rt),i(rt),rt=B;i(V)},ct=(rt,V,B)=>{const{bum:H,scope:$,update:Z,subTree:Q,um:ot}=rt;H&&yg(H),$.stop(),Z&&(Z.active=!1,U(Q,rt,V,B)),ot&&fo(ot,V),fo(()=>{rt.isUnmounted=!0},V),V&&V.pendingBranch&&!V.isUnmounted&&rt.asyncDep&&!rt.asyncResolved&&rt.suspenseId===V.pendingId&&(V.deps--,V.deps===0&&V.resolve())},z=(rt,V,B,H=!1,$=!1,Z=0)=>{for(let Q=Z;Q<rt.length;Q++)U(rt[Q],V,B,H,$)},W=rt=>rt.shapeFlag&6?W(rt.component.subTree):rt.shapeFlag&128?rt.suspense.next():h(rt.anchor||rt.el),X=(rt,V,B)=>{rt==null?V._vnode&&U(V._vnode,null,null,!0):g(V._vnode||null,rt,V,null,null,null,B),NI(),yx(),V._vnode=rt},it={p:g,um:U,m:et,r:J,mt:P,mc:S,pc:j,pbc:A,n:W,o:e};let lt,pt;return t&&([lt,pt]=t(it)),{render:X,hydrate:lt,createApp:Eq(X,lt)}}function Kh({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function TM(e,t,n=!1){const r=e.children,i=t.children;if(kn(r)&&kn(i))for(let a=0;a<r.length;a++){const s=r[a];let o=i[a];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[a]=$f(i[a]),o.el=s.el),n||TM(s,o)),o.type===Pd&&(o.el=s.el)}}function Pq(e){const t=e.slice(),n=[0];let r,i,a,s,o;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(a=0,s=n.length-1;a<s;)o=a+s>>1,e[n[o]]<c?a=o+1:s=o;c<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}for(a=n.length,s=n[a-1];a-- >0;)n[a]=s,s=t[s];return n}const Nq=e=>e.__isTeleport,Fm=e=>e&&(e.disabled||e.disabled===""),YI=e=>typeof SVGElement<"u"&&e instanceof SVGElement,lT=(e,t)=>{const n=e&&e.to;return Tr(n)?t?t(n):null:n},Rq={__isTeleport:!0,process(e,t,n,r,i,a,s,o,l,c){const{mc:u,pc:f,pbc:h,o:{insert:d,querySelector:p,createText:g,createComment:m}}=c,v=Fm(t.props);let{shapeFlag:y,children:_,dynamicChildren:b}=t;if(e==null){const w=t.el=g(""),T=t.anchor=g("");d(w,n,r),d(T,n,r);const M=t.target=lT(t.props,p),S=t.targetAnchor=g("");M&&(d(S,M),s=s||YI(M));const E=(A,O)=>{y&16&&u(_,A,O,i,a,s,o,l)};v?E(n,T):M&&E(M,S)}else{t.el=e.el;const w=t.anchor=e.anchor,T=t.target=e.target,M=t.targetAnchor=e.targetAnchor,S=Fm(e.props),E=S?n:T,A=S?w:M;if(s=s||YI(T),b?(h(e.dynamicChildren,b,E,i,a,s,o),TM(e,t,!0)):l||f(e,t,E,A,i,a,s,o,!1),v)S||u1(t,n,w,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const O=t.target=lT(t.props,p);O&&u1(t,O,null,c,0)}else S&&u1(t,T,M,c,1)}F6(t)},remove(e,t,n,r,{um:i,o:{remove:a}},s){const{shapeFlag:o,children:l,anchor:c,targetAnchor:u,target:f,props:h}=e;if(f&&a(u),(s||!Fm(h))&&(a(c),o&16))for(let d=0;d<l.length;d++){const p=l[d];i(p,t,n,!0,!!p.dynamicChildren)}},move:u1,hydrate:Dq};function u1(e,t,n,{o:{insert:r},m:i},a=2){a===0&&r(e.targetAnchor,t,n);const{el:s,anchor:o,shapeFlag:l,children:c,props:u}=e,f=a===2;if(f&&r(s,t,n),(!f||Fm(u))&&l&16)for(let h=0;h<c.length;h++)i(c[h],t,n,2);f&&r(o,t,n)}function Dq(e,t,n,r,i,a,{o:{nextSibling:s,parentNode:o,querySelector:l}},c){const u=t.target=lT(t.props,l);if(u){const f=u._lpa||u.firstChild;if(t.shapeFlag&16)if(Fm(t.props))t.anchor=c(s(e),t,o(e),n,r,i,a),t.targetAnchor=f;else{t.anchor=s(e);let h=f;for(;h;)if(h=s(h),h&&h.nodeType===8&&h.data==="teleport anchor"){t.targetAnchor=h,u._lpa=t.targetAnchor&&s(t.targetAnchor);break}c(f,t,u,n,r,i,a)}F6(t)}return t.anchor&&s(t.anchor)}const kq=Rq;function F6(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const go=Symbol.for("v-fgt"),Pd=Symbol.for("v-txt"),Co=Symbol.for("v-cmt"),Td=Symbol.for("v-stc"),zm=[];let ys=null;function Yb(e=!1){zm.push(ys=e?null:[])}function z6(){zm.pop(),ys=zm[zm.length-1]||null}let Nd=1;function uT(e){Nd+=e}function B6(e){return e.dynamicChildren=Nd>0?ys||gg:null,z6(),Nd>0&&ys&&ys.push(e),e}function Fq(e,t,n,r,i,a){return B6(MM(e,t,n,r,i,a,!0))}function EM(e,t,n,r,i){return B6(Di(e,t,n,r,i,!0))}function hh(e){return e?e.__v_isVNode===!0:!1}function ou(e,t){return e.type===t.type&&e.key===t.key}function zq(e){}const Wb="__vInternal",G6=({key:e})=>e??null,Z1=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Tr(e)||Ga(e)||dr(e)?{i:Za,r:e,k:t,f:!!n}:e:null);function MM(e,t=null,n=null,r=0,i=null,a=e===go?0:1,s=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&G6(t),ref:t&&Z1(t),scopeId:Bb,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Za};return o?(CM(l,n),a&128&&e.normalize(l)):n&&(l.shapeFlag|=Tr(n)?8:16),Nd>0&&!s&&ys&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&ys.push(l),l}const Di=Bq;function Bq(e,t=null,n=null,r=0,i=null,a=!1){if((!e||e===E6)&&(e=Co),hh(e)){const o=ic(e,t,!0);return n&&CM(o,n),Nd>0&&!a&&ys&&(o.shapeFlag&6?ys[ys.indexOf(e)]=o:ys.push(o)),o.patchFlag|=-2,o}if($q(e)&&(e=e.__vccOpts),t){t=j6(t);let{class:o,style:l}=t;o&&!Tr(o)&&(t.class=_y(o)),_i(l)&&(sM(l)&&!kn(l)&&(l=Vr({},l)),t.style=yy(l))}const s=Tr(e)?1:u6(e)?128:Nq(e)?64:_i(e)?4:dr(e)?2:0;return MM(e,t,n,r,i,s,a,!0)}function j6(e){return e?sM(e)||Wb in e?Vr({},e):e:null}function ic(e,t,n=!1){const{props:r,ref:i,patchFlag:a,children:s}=e,o=t?U6(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:o,key:o&&G6(o),ref:t&&t.ref?n&&i?kn(i)?i.concat(Z1(t)):[i,Z1(t)]:Z1(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==go?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ic(e.ssContent),ssFallback:e.ssFallback&&ic(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function SM(e=" ",t=0){return Di(Pd,null,e,t)}function Gq(e,t){const n=Di(Td,null,e);return n.staticCount=t,n}function jq(e="",t=!1){return t?(Yb(),EM(Co,null,e)):Di(Co,null,e)}function Vs(e){return e==null||typeof e=="boolean"?Di(Co):kn(e)?Di(go,null,e.slice()):typeof e=="object"?$f(e):Di(Pd,null,String(e))}function $f(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ic(e)}function CM(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(kn(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),CM(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(Wb in t)?t._ctx=Za:i===3&&Za&&(Za.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else dr(t)?(t={default:t,_ctx:Za},n=32):(t=String(t),r&64?(n=16,t=[SM(t)]):n=8);e.children=t,e.shapeFlag|=n}function U6(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=_y([t.class,r.class]));else if(i==="style")t.style=yy([t.style,r.style]);else if(tp(i)){const a=t[i],s=r[i];s&&a!==s&&!(kn(a)&&a.includes(s))&&(t[i]=a?[].concat(a,s):s)}else i!==""&&(t[i]=r[i])}return t}function ds(e,t,n,r=null){$s(e,t,7,[n,r])}const Uq=A6();let Vq=0;function V6(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||Uq,a={uid:Vq++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new nM(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:O6(r,i),emitsOptions:l6(r,i),emit:null,emitted:null,propsDefaults:yi,inheritAttrs:r.inheritAttrs,ctx:yi,data:yi,props:yi,attrs:yi,slots:yi,refs:yi,setupState:yi,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=M$.bind(null,a),e.ce&&e.ce(a),a}let Sa=null;const hf=()=>Sa||Za;let AM,Fp,WI="__VUE_INSTANCE_SETTERS__";(Fp=J3()[WI])||(Fp=J3()[WI]=[]),Fp.push(e=>Sa=e),AM=e=>{Fp.length>1?Fp.forEach(t=>t(e)):Fp[0](e)};const dh=e=>{AM(e),e.scope.on()},eh=()=>{Sa&&Sa.scope.off(),AM(null)};function H6(e){return e.vnode.shapeFlag&4}let Fg=!1;function Y6(e,t=!1){Fg=t;const{props:n,children:r}=e.vnode,i=H6(e);Sq(e,n,i,t),Iq(e,r);const a=i?Hq(e,t):void 0;return Fg=!1,a}function Hq(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=lM(new Proxy(e.ctx,iT));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?q6(e):null;dh(e),C0();const a=Yc(r,e,0,[e.props,i]);if(A0(),eh(),tM(a)){if(a.then(eh,eh),t)return a.then(s=>{cT(e,s,t)}).catch(s=>{rp(s,e,0)});e.asyncDep=a}else cT(e,a,t)}else $6(e,t)}function cT(e,t,n){dr(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:_i(t)&&(e.setupState=fM(t)),$6(e,n)}let bx,fT;function W6(e){bx=e,fT=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,rq))}}const Yq=()=>!bx;function $6(e,t,n){const r=e.type;if(!e.render){if(!t&&bx&&!r.render){const i=r.template||bM(e).template;if(i){const{isCustomElement:a,compilerOptions:s}=e.appContext.config,{delimiters:o,compilerOptions:l}=r,c=Vr(Vr({isCustomElement:a,delimiters:o},s),l);r.render=bx(i,c)}}e.render=r.render||Xo,fT&&fT(e)}dh(e),C0(),yq(e),A0(),eh()}function Wq(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Es(e,"get","$attrs"),t[n]}}))}function q6(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return Wq(e)},slots:e.slots,emit:e.emit,expose:t}}function $b(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(fM(lM(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Dm)return Dm[n](e)},has(t,n){return n in t||n in Dm}}))}function hT(e,t=!0){return dr(e)?e.displayName||e.name:e.name||t&&e.__name}function $q(e){return dr(e)&&"__vccOpts"in e}const Ws=(e,t)=>y$(e,t,Fg);function qb(e,t,n){const r=arguments.length;return r===2?_i(t)&&!kn(t)?hh(t)?Di(e,null,[t]):Di(e,t):Di(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&hh(n)&&(n=[n]),Di(e,t,n))}const X6=Symbol.for("v-scx"),K6=()=>Ju(X6);function qq(){}function Xq(e,t,n,r){const i=n[r];if(i&&Z6(i,e))return i;const a=t();return a.memo=e.slice(),n[r]=a}function Z6(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(Dg(n[r],t[r]))return!1;return Nd>0&&ys&&ys.push(e),!0}const J6="3.3.4",Kq={createComponentInstance:V6,setupComponent:Y6,renderComponentRoot:K1,setCurrentRenderingInstance:Qm,isVNode:hh,normalizeVNode:Vs},Zq=Kq,Jq=null,Qq=null,tX="http://www.w3.org/2000/svg",od=typeof document<"u"?document:null,$I=od&&od.createElement("template"),eX={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?od.createElementNS(tX,e):od.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>od.createTextNode(e),createComment:e=>od.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>od.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,a){const s=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===a||!(i=i.nextSibling)););else{$I.innerHTML=r?`<svg>${e}</svg>`:e;const o=$I.content;if(r){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}t.insertBefore(o,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function nX(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function rX(e,t,n){const r=e.style,i=Tr(n);if(n&&!i){if(t&&!Tr(t))for(const a in t)n[a]==null&&dT(r,a,"");for(const a in n)dT(r,a,n[a])}else{const a=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=a)}}const qI=/\s*!important$/;function dT(e,t,n){if(kn(n))n.forEach(r=>dT(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=iX(e,t);qI.test(n)?e.setProperty(Ys(r),n.replace(qI,""),"important"):e[r]=n}}const XI=["Webkit","Moz","ms"],h3={};function iX(e,t){const n=h3[t];if(n)return n;let r=Ia(t);if(r!=="filter"&&r in e)return h3[t]=r;r=np(r);for(let i=0;i<XI.length;i++){const a=XI[i]+r;if(a in e)return h3[t]=a}return t}const KI="http://www.w3.org/1999/xlink";function aX(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(KI,t.slice(6,t.length)):e.setAttributeNS(KI,t,n);else{const a=SW(t);n==null||a&&!z4(n)?e.removeAttribute(t):e.setAttribute(t,a?"":n)}}function oX(e,t,n,r,i,a,s){if(t==="innerHTML"||t==="textContent"){r&&s(r,i,a),e[t]=n??"";return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){e._value=n;const c=o==="OPTION"?e.getAttribute("value"):e.value,u=n??"";c!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=z4(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function zc(e,t,n,r){e.addEventListener(t,n,r)}function sX(e,t,n,r){e.removeEventListener(t,n,r)}function lX(e,t,n,r,i=null){const a=e._vei||(e._vei={}),s=a[t];if(r&&s)s.value=r;else{const[o,l]=uX(t);if(r){const c=a[t]=hX(r,i);zc(e,o,c,l)}else s&&(sX(e,o,s,l),a[t]=void 0)}}const ZI=/(?:Once|Passive|Capture)$/;function uX(e){let t;if(ZI.test(e)){t={};let r;for(;r=e.match(ZI);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ys(e.slice(2)),t]}let d3=0;const cX=Promise.resolve(),fX=()=>d3||(cX.then(()=>d3=0),d3=Date.now());function hX(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;$s(dX(r,n.value),t,5,[r])};return n.value=e,n.attached=fX(),n}function dX(e,t){if(kn(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const JI=/^on[a-z]/,pX=(e,t,n,r,i=!1,a,s,o,l)=>{t==="class"?nX(e,r,i):t==="style"?rX(e,n,r):tp(t)?JE(t)||lX(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):gX(e,t,r,i))?oX(e,t,r,a,s,o,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),aX(e,t,r,i))};function gX(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&JI.test(t)&&dr(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||JI.test(t)&&Tr(n)?!1:t in e}function Q6(e,t){const n=wy(e);class r extends Xb{constructor(a){super(n,a,t)}}return r.def=n,r}const mX=e=>Q6(e,gN),vX=typeof HTMLElement<"u"?HTMLElement:class{};class Xb extends vX{constructor(t,n={},r){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,kb(()=>{this._connected||(mT(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}).observe(this,{attributes:!0});const t=(r,i=!1)=>{const{props:a,styles:s}=r;let o;if(a&&!kn(a))for(const l in a){const c=a[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=mx(this._props[l])),(o||(o=Object.create(null)))[Ia(l)]=!0)}this._numberProps=o,i&&this._resolveProps(r),this._applyStyles(s),this._update()},n=this._def.__asyncLoader;n?n().then(r=>t(r,!0)):t(this._def)}_resolveProps(t){const{props:n}=t,r=kn(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(Ia))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(a){this._setProp(i,a)}})}_setAttr(t){let n=this.getAttribute(t);const r=Ia(t);this._numberProps&&this._numberProps[r]&&(n=mx(n)),this._setProp(r,n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,r=!0,i=!0){n!==this._props[t]&&(this._props[t]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(Ys(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Ys(t),n+""):n||this.removeAttribute(Ys(t))))}_update(){mT(this._createVNode(),this.shadowRoot)}_createVNode(){const t=Di(this._def,Vr({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0;const r=(a,s)=>{this.dispatchEvent(new CustomEvent(a,{detail:s}))};n.emit=(a,...s)=>{r(a,s),Ys(a)!==a&&r(Ys(a),s)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof Xb){n.parent=i._instance,n.provides=i._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function yX(e="$style"){{const t=hf();if(!t)return yi;const n=t.type.__cssModules;if(!n)return yi;const r=n[e];return r||yi}}function _X(e){const t=hf();if(!t)return;const n=t.ut=(i=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(a=>gT(a,i))},r=()=>{const i=e(t.proxy);pT(t.subTree,i),n(i)};f6(r),Ey(()=>{const i=new MutationObserver(r);i.observe(t.subTree.el.parentNode,{childList:!0}),Hb(()=>i.disconnect())})}function pT(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{pT(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)gT(e.el,t);else if(e.type===go)e.children.forEach(n=>pT(n,t));else if(e.type===Td){let{el:n,anchor:r}=e;for(;n&&(gT(n,t),n!==r);)n=n.nextSibling}}function gT(e,t){if(e.nodeType===1){const n=e.style;for(const r in t)n.setProperty(`--${r}`,t[r])}}const Rf="transition",cm="animation",IM=(e,{slots:t})=>qb(d6,eN(e),t);IM.displayName="Transition";const tN={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},xX=IM.props=Vr({},yM,tN),Zh=(e,t=[])=>{kn(e)?e.forEach(n=>n(...t)):e&&e(...t)},QI=e=>e?kn(e)?e.some(t=>t.length>1):e.length>1:!1;function eN(e){const t={};for(const N in e)N in tN||(t[N]=e[N]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:a=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=a,appearActiveClass:c=s,appearToClass:u=o,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=e,p=bX(i),g=p&&p[0],m=p&&p[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:_,onLeave:b,onLeaveCancelled:w,onBeforeAppear:T=v,onAppear:M=y,onAppearCancelled:S=_}=t,E=(N,F,P)=>{Hf(N,F?u:o),Hf(N,F?c:s),P&&P()},A=(N,F)=>{N._isLeaving=!1,Hf(N,f),Hf(N,d),Hf(N,h),F&&F()},O=N=>(F,P)=>{const R=N?M:y,k=()=>E(F,N,P);Zh(R,[F,k]),t5(()=>{Hf(F,N?l:a),Rc(F,N?u:o),QI(R)||e5(F,r,g,k)})};return Vr(t,{onBeforeEnter(N){Zh(v,[N]),Rc(N,a),Rc(N,s)},onBeforeAppear(N){Zh(T,[N]),Rc(N,l),Rc(N,c)},onEnter:O(!1),onAppear:O(!0),onLeave(N,F){N._isLeaving=!0;const P=()=>A(N,F);Rc(N,f),rN(),Rc(N,h),t5(()=>{N._isLeaving&&(Hf(N,f),Rc(N,d),QI(b)||e5(N,r,m,P))}),Zh(b,[N,P])},onEnterCancelled(N){E(N,!1),Zh(_,[N])},onAppearCancelled(N){E(N,!0),Zh(S,[N])},onLeaveCancelled(N){A(N),Zh(w,[N])}})}function bX(e){if(e==null)return null;if(_i(e))return[p3(e.enter),p3(e.leave)];{const t=p3(e);return[t,t]}}function p3(e){return mx(e)}function Rc(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Hf(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function t5(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let wX=0;function e5(e,t,n,r){const i=e._endId=++wX,a=()=>{i===e._endId&&r()};if(n)return setTimeout(a,n);const{type:s,timeout:o,propCount:l}=nN(e,t);if(!s)return r();const c=s+"end";let u=0;const f=()=>{e.removeEventListener(c,h),a()},h=d=>{d.target===e&&++u>=l&&f()};setTimeout(()=>{u<l&&f()},o+1),e.addEventListener(c,h)}function nN(e,t){const n=window.getComputedStyle(e),r=p=>(n[p]||"").split(", "),i=r(`${Rf}Delay`),a=r(`${Rf}Duration`),s=n5(i,a),o=r(`${cm}Delay`),l=r(`${cm}Duration`),c=n5(o,l);let u=null,f=0,h=0;t===Rf?s>0&&(u=Rf,f=s,h=a.length):t===cm?c>0&&(u=cm,f=c,h=l.length):(f=Math.max(s,c),u=f>0?s>c?Rf:cm:null,h=u?u===Rf?a.length:l.length:0);const d=u===Rf&&/\b(transform|all)(,|$)/.test(r(`${Rf}Property`).toString());return{type:u,timeout:f,propCount:h,hasTransform:d}}function n5(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>r5(n)+r5(e[r])))}function r5(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function rN(){return document.body.offsetHeight}const iN=new WeakMap,aN=new WeakMap,oN={name:"TransitionGroup",props:Vr({},xX,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=hf(),r=vM();let i,a;return Ub(()=>{if(!i.length)return;const s=e.moveClass||`${e.name||"v"}-move`;if(!AX(i[0].el,n.vnode.el,s))return;i.forEach(MX),i.forEach(SX);const o=i.filter(CX);rN(),o.forEach(l=>{const c=l.el,u=c.style;Rc(c,s),u.transform=u.webkitTransform=u.transitionDuration="";const f=c._moveCb=h=>{h&&h.target!==c||(!h||/transform$/.test(h.propertyName))&&(c.removeEventListener("transitionend",f),c._moveCb=null,Hf(c,s))};c.addEventListener("transitionend",f)})}),()=>{const s=Hr(e),o=eN(s);let l=s.tag||go;i=a,a=t.default?Gb(t.default()):[];for(let c=0;c<a.length;c++){const u=a[c];u.key!=null&&Ld(u,kg(u,o,r,n))}if(i)for(let c=0;c<i.length;c++){const u=i[c];Ld(u,kg(u,o,r,n)),iN.set(u,u.el.getBoundingClientRect())}return Di(l,null,a)}}},TX=e=>delete e.mode;oN.props;const EX=oN;function MX(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function SX(e){aN.set(e,e.el.getBoundingClientRect())}function CX(e){const t=iN.get(e),n=aN.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const a=e.el.style;return a.transform=a.webkitTransform=`translate(${r}px,${i}px)`,a.transitionDuration="0s",e}}function AX(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach(s=>{s.split(/\s+/).forEach(o=>o&&r.classList.remove(o))}),n.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(r);const{hasTransform:a}=nN(r);return i.removeChild(r),a}const ph=e=>{const t=e.props["onUpdate:modelValue"]||!1;return kn(t)?n=>yg(t,n):t};function IX(e){e.target.composing=!0}function i5(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const wx={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=ph(i);const a=r||i.props&&i.props.type==="number";zc(e,t?"change":"input",s=>{if(s.target.composing)return;let o=e.value;n&&(o=o.trim()),a&&(o=gx(o)),e._assign(o)}),n&&zc(e,"change",()=>{e.value=e.value.trim()}),t||(zc(e,"compositionstart",IX),zc(e,"compositionend",i5),zc(e,"change",i5))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},a){if(e._assign=ph(a),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(i||e.type==="number")&&gx(e.value)===t))return;const s=t??"";e.value!==s&&(e.value=s)}},OM={deep:!0,created(e,t,n){e._assign=ph(n),zc(e,"change",()=>{const r=e._modelValue,i=zg(e),a=e.checked,s=e._assign;if(kn(r)){const o=Ob(r,i),l=o!==-1;if(a&&!l)s(r.concat(i));else if(!a&&l){const c=[...r];c.splice(o,1),s(c)}}else if(ep(r)){const o=new Set(r);a?o.add(i):o.delete(i),s(o)}else s(lN(e,a))})},mounted:a5,beforeUpdate(e,t,n){e._assign=ph(n),a5(e,t,n)}};function a5(e,{value:t,oldValue:n},r){e._modelValue=t,kn(t)?e.checked=Ob(t,r.props.value)>-1:ep(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=ch(t,lN(e,!0)))}const LM={created(e,{value:t},n){e.checked=ch(t,n.props.value),e._assign=ph(n),zc(e,"change",()=>{e._assign(zg(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=ph(r),t!==n&&(e.checked=ch(t,r.props.value))}},sN={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=ep(t);zc(e,"change",()=>{const a=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>n?gx(zg(s)):zg(s));e._assign(e.multiple?i?new Set(a):a:a[0])}),e._assign=ph(r)},mounted(e,{value:t}){o5(e,t)},beforeUpdate(e,t,n){e._assign=ph(n)},updated(e,{value:t}){o5(e,t)}};function o5(e,t){const n=e.multiple;if(!(n&&!kn(t)&&!ep(t))){for(let r=0,i=e.options.length;r<i;r++){const a=e.options[r],s=zg(a);if(n)kn(t)?a.selected=Ob(t,s)>-1:a.selected=t.has(s);else if(ch(zg(a),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function zg(e){return"_value"in e?e._value:e.value}function lN(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const uN={created(e,t,n){c1(e,t,n,null,"created")},mounted(e,t,n){c1(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){c1(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){c1(e,t,n,r,"updated")}};function cN(e,t){switch(e){case"SELECT":return sN;case"TEXTAREA":return wx;default:switch(t){case"checkbox":return OM;case"radio":return LM;default:return wx}}}function c1(e,t,n,r,i){const s=cN(e.tagName,n.props&&n.props.type)[i];s&&s(e,t,n,r)}function OX(){wx.getSSRProps=({value:e})=>({value:e}),LM.getSSRProps=({value:e},t)=>{if(t.props&&ch(t.props.value,e))return{checked:!0}},OM.getSSRProps=({value:e},t)=>{if(kn(e)){if(t.props&&Ob(e,t.props.value)>-1)return{checked:!0}}else if(ep(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},uN.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=cN(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const LX=["ctrl","shift","alt","meta"],PX={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>LX.some(n=>e[`${n}Key`]&&!t.includes(n))},NX=(e,t)=>(n,...r)=>{for(let i=0;i<t.length;i++){const a=PX[t[i]];if(a&&a(n,t))return}return e(n,...r)},RX={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},DX=(e,t)=>n=>{if(!("key"in n))return;const r=Ys(n.key);if(t.some(i=>i===r||RX[i]===r))return e(n)},fN={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):fm(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),fm(e,!0),r.enter(e)):r.leave(e,()=>{fm(e,!1)}):fm(e,t))},beforeUnmount(e,{value:t}){fm(e,t)}};function fm(e,t){e.style.display=t?e._vod:"none"}function kX(){fN.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const hN=Vr({patchProp:pX},eX);let Bm,s5=!1;function dN(){return Bm||(Bm=R6(hN))}function pN(){return Bm=s5?Bm:D6(hN),s5=!0,Bm}const mT=(...e)=>{dN().render(...e)},gN=(...e)=>{pN().hydrate(...e)},FX=(...e)=>{const t=dN().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=mN(r);if(!i)return;const a=t._component;!dr(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t},zX=(...e)=>{const t=pN().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=mN(r);if(i)return n(i,!0,i instanceof SVGElement)},t};function mN(e){return Tr(e)?document.querySelector(e):e}let l5=!1;const BX=()=>{l5||(l5=!0,OX(),kX())},GX=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:d6,BaseTransitionPropsValidators:yM,Comment:Co,EffectScope:nM,Fragment:go,KeepAlive:$$,ReactiveEffect:xy,Static:Td,Suspense:R$,Teleport:kq,Text:Pd,Transition:IM,TransitionGroup:EX,VueElement:Xb,assertNumber:x$,callWithAsyncErrorHandling:$s,callWithErrorHandling:Yc,camelize:Ia,capitalize:np,cloneVNode:ic,compatUtils:Qq,computed:Ws,createApp:FX,createBlock:EM,createCommentVNode:jq,createElementBlock:Fq,createElementVNode:MM,createHydrationRenderer:D6,createPropsRestProxy:mq,createRenderer:R6,createSSRApp:zX,createSlots:tq,createStaticVNode:Gq,createTextVNode:SM,createVNode:Di,customRef:h$,defineAsyncComponent:Y$,defineComponent:wy,defineCustomElement:Q6,defineEmits:aq,defineExpose:oq,defineModel:uq,defineOptions:sq,defineProps:iq,defineSSRCustomElement:mX,defineSlots:lq,get devtools(){return Zp},effect:PW,effectScope:G4,getCurrentInstance:hf,getCurrentScope:U4,getTransitionRawChildren:Gb,guardReactiveProps:j6,h:qb,handleError:rp,hasInjectionContext:Mq,hydrate:gN,initCustomFormatter:qq,initDirectivesForSSR:BX,inject:Ju,isMemoSame:Z6,isProxy:sM,isReactive:xd,isReadonly:Od,isRef:Ga,isRuntimeOnly:Yq,isShallow:Xm,isVNode:hh,markRaw:lM,mergeDefaults:pq,mergeModels:gq,mergeProps:U6,nextTick:kb,normalizeClass:_y,normalizeProps:yW,normalizeStyle:yy,onActivated:g6,onBeforeMount:y6,onBeforeUnmount:Vb,onBeforeUpdate:_6,onDeactivated:m6,onErrorCaptured:T6,onMounted:Ey,onRenderTracked:w6,onRenderTriggered:b6,onScopeDispose:IW,onServerPrefetch:x6,onUnmounted:Hb,onUpdated:Ub,openBlock:Yb,popScopeId:C$,provide:km,proxyRefs:fM,pushScopeId:S$,queuePostFlushCb:dM,reactive:I0,readonly:oM,ref:bd,registerRuntimeCompiler:W6,render:mT,renderList:Q$,renderSlot:eq,resolveComponent:K$,resolveDirective:J$,resolveDynamicComponent:Z$,resolveFilter:Jq,resolveTransitionHooks:kg,setBlockTracking:uT,setDevtoolsHook:s6,setTransitionHooks:Ld,shallowReactive:aM,shallowReadonly:o$,shallowRef:e6,ssrContextKey:X6,ssrUtils:Zq,stop:NW,toDisplayString:AW,toHandlerKey:vg,toHandlers:nq,toRaw:Hr,toRef:m$,toRefs:d$,toValue:u$,transformVNodeArgs:zq,triggerRef:l$,unref:th,useAttrs:hq,useCssModule:yX,useCssVars:_X,useModel:dq,useSSRContext:K6,useSlots:fq,useTransitionState:vM,vModelCheckbox:OM,vModelDynamic:uN,vModelRadio:LM,vModelSelect:sN,vModelText:wx,vShow:fN,version:J6,warn:_$,watch:Zu,watchEffect:G$,watchPostEffect:f6,watchSyncEffect:j$,withAsyncContext:vq,withCtx:pM,withDefaults:cq,withDirectives:V$,withKeys:DX,withMemo:Xq,withModifiers:NX,withScopeId:A$},Symbol.toStringTag,{value:"Module"}));function PM(e){throw e}function vN(e){}function Yi(e,t,n,r){const i=e,a=new SyntaxError(String(i));return a.code=e,a.loc=t,a}const rv=Symbol(""),Gm=Symbol(""),NM=Symbol(""),Tx=Symbol(""),yN=Symbol(""),Rd=Symbol(""),_N=Symbol(""),xN=Symbol(""),RM=Symbol(""),DM=Symbol(""),My=Symbol(""),kM=Symbol(""),bN=Symbol(""),FM=Symbol(""),Ex=Symbol(""),zM=Symbol(""),BM=Symbol(""),GM=Symbol(""),jM=Symbol(""),wN=Symbol(""),TN=Symbol(""),Kb=Symbol(""),Mx=Symbol(""),UM=Symbol(""),VM=Symbol(""),iv=Symbol(""),Sy=Symbol(""),HM=Symbol(""),vT=Symbol(""),jX=Symbol(""),yT=Symbol(""),Sx=Symbol(""),UX=Symbol(""),VX=Symbol(""),YM=Symbol(""),HX=Symbol(""),YX=Symbol(""),WM=Symbol(""),EN=Symbol(""),Bg={[rv]:"Fragment",[Gm]:"Teleport",[NM]:"Suspense",[Tx]:"KeepAlive",[yN]:"BaseTransition",[Rd]:"openBlock",[_N]:"createBlock",[xN]:"createElementBlock",[RM]:"createVNode",[DM]:"createElementVNode",[My]:"createCommentVNode",[kM]:"createTextVNode",[bN]:"createStaticVNode",[FM]:"resolveComponent",[Ex]:"resolveDynamicComponent",[zM]:"resolveDirective",[BM]:"resolveFilter",[GM]:"withDirectives",[jM]:"renderList",[wN]:"renderSlot",[TN]:"createSlots",[Kb]:"toDisplayString",[Mx]:"mergeProps",[UM]:"normalizeClass",[VM]:"normalizeStyle",[iv]:"normalizeProps",[Sy]:"guardReactiveProps",[HM]:"toHandlers",[vT]:"camelize",[jX]:"capitalize",[yT]:"toHandlerKey",[Sx]:"setBlockTracking",[UX]:"pushScopeId",[VX]:"popScopeId",[YM]:"withCtx",[HX]:"unref",[YX]:"isRef",[WM]:"withMemo",[EN]:"isMemoSame"};function WX(e){Object.getOwnPropertySymbols(e).forEach(t=>{Bg[t]=e[t]})}const ll={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function $X(e,t=ll){return{type:0,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}function av(e,t,n,r,i,a,s,o=!1,l=!1,c=!1,u=ll){return e&&(o?(e.helper(Rd),e.helper(Ug(e.inSSR,c))):e.helper(jg(e.inSSR,c)),s&&e.helper(GM)),{type:13,tag:t,props:n,children:r,patchFlag:i,dynamicProps:a,directives:s,isBlock:o,disableTracking:l,isComponent:c,loc:u}}function Cy(e,t=ll){return{type:17,loc:t,elements:e}}function Ml(e,t=ll){return{type:15,loc:t,properties:e}}function ua(e,t){return{type:16,loc:ll,key:Tr(e)?Pr(e,!0):e,value:t}}function Pr(e,t=!1,n=ll,r=0){return{type:4,loc:n,content:e,isStatic:t,constType:t?3:r}}function uu(e,t=ll){return{type:8,loc:t,children:e}}function Ma(e,t=[],n=ll){return{type:14,loc:n,callee:e,arguments:t}}function Gg(e,t=void 0,n=!1,r=!1,i=ll){return{type:18,params:e,returns:t,newline:n,isSlot:r,loc:i}}function _T(e,t,n,r=!0){return{type:19,test:e,consequent:t,alternate:n,newline:r,loc:ll}}function qX(e,t,n=!1){return{type:20,index:e,value:t,isVNode:n,loc:ll}}function XX(e){return{type:21,body:e,loc:ll}}function jg(e,t){return e||t?RM:DM}function Ug(e,t){return e||t?_N:xN}function $M(e,{helper:t,removeHelper:n,inSSR:r}){e.isBlock||(e.isBlock=!0,n(jg(r,e.isComponent)),t(Rd),t(Ug(r,e.isComponent)))}const _s=e=>e.type===4&&e.isStatic,ag=(e,t)=>e===t||e===Ys(t);function MN(e){if(ag(e,"Teleport"))return Gm;if(ag(e,"Suspense"))return NM;if(ag(e,"KeepAlive"))return Tx;if(ag(e,"BaseTransition"))return yN}const KX=/^\d|[^\$\w]/,qM=e=>!KX.test(e),ZX=/[A-Za-z_$\xA0-\uFFFF]/,JX=/[\.\?\w$\xA0-\uFFFF]/,QX=/\s+[.[]\s*|\s*[.[]\s+/g,tK=e=>{e=e.trim().replace(QX,s=>s.trim());let t=0,n=[],r=0,i=0,a=null;for(let s=0;s<e.length;s++){const o=e.charAt(s);switch(t){case 0:if(o==="[")n.push(t),t=1,r++;else if(o==="(")n.push(t),t=2,i++;else if(!(s===0?ZX:JX).test(o))return!1;break;case 1:o==="'"||o==='"'||o==="`"?(n.push(t),t=3,a=o):o==="["?r++:o==="]"&&(--r||(t=n.pop()));break;case 2:if(o==="'"||o==='"'||o==="`")n.push(t),t=3,a=o;else if(o==="(")i++;else if(o===")"){if(s===e.length-1)return!1;--i||(t=n.pop())}break;case 3:o===a&&(t=n.pop(),a=null);break}}return!r&&!i},SN=tK;function CN(e,t,n){const i={source:e.source.slice(t,t+n),start:Cx(e.start,e.source,t),end:e.end};return n!=null&&(i.end=Cx(e.start,e.source,t+n)),i}function Cx(e,t,n=t.length){return Ax(Vr({},e),t,n)}function Ax(e,t,n=t.length){let r=0,i=-1;for(let a=0;a<n;a++)t.charCodeAt(a)===10&&(r++,i=a);return e.offset+=n,e.line+=r,e.column=i===-1?e.column+n:n-i,e}function Tl(e,t,n=!1){for(let r=0;r<e.props.length;r++){const i=e.props[r];if(i.type===7&&(n||i.exp)&&(Tr(t)?i.name===t:t.test(i.name)))return i}}function Zb(e,t,n=!1,r=!1){for(let i=0;i<e.props.length;i++){const a=e.props[i];if(a.type===6){if(n)continue;if(a.name===t&&(a.value||r))return a}else if(a.name==="bind"&&(a.exp||r)&&hd(a.arg,t))return a}}function hd(e,t){return!!(e&&_s(e)&&e.content===t)}function eK(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function g3(e){return e.type===5||e.type===2}function nK(e){return e.type===7&&e.name==="slot"}function Ix(e){return e.type===1&&e.tagType===3}function Ox(e){return e.type===1&&e.tagType===2}const rK=new Set([iv,Sy]);function AN(e,t=[]){if(e&&!Tr(e)&&e.type===14){const n=e.callee;if(!Tr(n)&&rK.has(n))return AN(e.arguments[0],t.concat(e))}return[e,t]}function Lx(e,t,n){let r,i=e.type===13?e.props:e.arguments[2],a=[],s;if(i&&!Tr(i)&&i.type===14){const o=AN(i);i=o[0],a=o[1],s=a[a.length-1]}if(i==null||Tr(i))r=Ml([t]);else if(i.type===14){const o=i.arguments[0];!Tr(o)&&o.type===15?u5(t,o)||o.properties.unshift(t):i.callee===HM?r=Ma(n.helper(Mx),[Ml([t]),i]):i.arguments.unshift(Ml([t])),!r&&(r=i)}else i.type===15?(u5(t,i)||i.properties.unshift(t),r=i):(r=Ma(n.helper(Mx),[Ml([t]),i]),s&&s.callee===Sy&&(s=a[a.length-2]));e.type===13?s?s.arguments[0]=r:e.props=r:s?s.arguments[0]=r:e.arguments[2]=r}function u5(e,t){let n=!1;if(e.key.type===4){const r=e.key.content;n=t.properties.some(i=>i.key.type===4&&i.key.content===r)}return n}function ov(e,t){return`_${t}_${e.replace(/[^\w]/g,(n,r)=>n==="-"?"_":e.charCodeAt(r).toString())}`}function iK(e){return e.type===14&&e.callee===WM?e.arguments[1].returns:e}function c5(e,t){const n=t.options?t.options.compatConfig:t.compatConfig,r=n&&n[e];return e==="MODE"?r||3:r}function Ed(e,t){const n=c5("MODE",t),r=c5(e,t);return n===3?r===!0:r!==!1}function sv(e,t,n,...r){return Ed(e,t)}const aK=/&(gt|lt|amp|apos|quot);/g,oK={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},f5={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:X1,isPreTag:X1,isCustomElement:X1,decodeEntities:e=>e.replace(aK,(t,n)=>oK[n]),onError:PM,onWarn:vN,comments:!1};function sK(e,t={}){const n=lK(e,t),r=qs(n);return $X(XM(n,0,[]),Nl(n,r))}function lK(e,t){const n=Vr({},f5);let r;for(r in t)n[r]=t[r]===void 0?f5[r]:t[r];return{options:n,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:n.onWarn}}function XM(e,t,n){const r=Jb(n),i=r?r.ns:0,a=[];for(;!vK(e,t,n);){const o=e.source;let l;if(t===0||t===1){if(!e.inVPre&&So(o,e.options.delimiters[0]))l=gK(e,t);else if(t===0&&o[0]==="<")if(o.length===1)vi(e,5,1);else if(o[1]==="!")So(o,"<!--")?l=cK(e):So(o,"<!DOCTYPE")?l=hm(e):So(o,"<![CDATA[")?i!==0?l=uK(e,n):(vi(e,1),l=hm(e)):(vi(e,11),l=hm(e));else if(o[1]==="/")if(o.length===2)vi(e,5,2);else if(o[2]===">"){vi(e,14,2),Ua(e,3);continue}else if(/[a-z]/i.test(o[2])){vi(e,23),xT(e,Px.End,r);continue}else vi(e,12,2),l=hm(e);else/[a-z]/i.test(o[1])?(l=fK(e,n),Ed("COMPILER_NATIVE_TEMPLATE",e)&&l&&l.tag==="template"&&!l.props.some(c=>c.type===7&&IN(c.name))&&(l=l.children)):o[1]==="?"?(vi(e,21,1),l=hm(e)):vi(e,12,1)}if(l||(l=mK(e,t)),kn(l))for(let c=0;c<l.length;c++)h5(a,l[c]);else h5(a,l)}let s=!1;if(t!==2&&t!==1){const o=e.options.whitespace!=="preserve";for(let l=0;l<a.length;l++){const c=a[l];if(c.type===2)if(e.inPre)c.content=c.content.replace(/\r\n/g,`
`);else if(/[^\t\r\n\f ]/.test(c.content))o&&(c.content=c.content.replace(/[\t\r\n\f ]+/g," "));else{const u=a[l-1],f=a[l+1];!u||!f||o&&(u.type===3&&f.type===3||u.type===3&&f.type===1||u.type===1&&f.type===3||u.type===1&&f.type===1&&/[\r\n]/.test(c.content))?(s=!0,a[l]=null):c.content=" "}else c.type===3&&!e.options.comments&&(s=!0,a[l]=null)}if(e.inPre&&r&&e.options.isPreTag(r.tag)){const l=a[0];l&&l.type===2&&(l.content=l.content.replace(/^\r?\n/,""))}}return s?a.filter(Boolean):a}function h5(e,t){if(t.type===2){const n=Jb(e);if(n&&n.type===2&&n.loc.end.offset===t.loc.start.offset){n.content+=t.content,n.loc.end=t.loc.end,n.loc.source+=t.loc.source;return}}e.push(t)}function uK(e,t){Ua(e,9);const n=XM(e,3,t);return e.source.length===0?vi(e,6):Ua(e,3),n}function cK(e){const t=qs(e);let n;const r=/--(\!)?>/.exec(e.source);if(!r)n=e.source.slice(4),Ua(e,e.source.length),vi(e,7);else{r.index<=3&&vi(e,0),r[1]&&vi(e,10),n=e.source.slice(4,r.index);const i=e.source.slice(0,r.index);let a=1,s=0;for(;(s=i.indexOf("<!--",a))!==-1;)Ua(e,s-a+1),s+4<i.length&&vi(e,16),a=s+1;Ua(e,r.index+r[0].length-a+1)}return{type:3,content:n,loc:Nl(e,t)}}function hm(e){const t=qs(e),n=e.source[1]==="?"?1:2;let r;const i=e.source.indexOf(">");return i===-1?(r=e.source.slice(n),Ua(e,e.source.length)):(r=e.source.slice(n,i),Ua(e,i+1)),{type:3,content:r,loc:Nl(e,t)}}function fK(e,t){const n=e.inPre,r=e.inVPre,i=Jb(t),a=xT(e,Px.Start,i),s=e.inPre&&!n,o=e.inVPre&&!r;if(a.isSelfClosing||e.options.isVoidTag(a.tag))return s&&(e.inPre=!1),o&&(e.inVPre=!1),a;t.push(a);const l=e.options.getTextMode(a,i),c=XM(e,l,t);t.pop();{const u=a.props.find(f=>f.type===6&&f.name==="inline-template");if(u&&sv("COMPILER_INLINE_TEMPLATE",e,u.loc)){const f=Nl(e,a.loc.end);u.value={type:2,content:f.source,loc:f}}}if(a.children=c,bT(e.source,a.tag))xT(e,Px.End,i);else if(vi(e,24,0,a.loc.start),e.source.length===0&&a.tag.toLowerCase()==="script"){const u=c[0];u&&So(u.loc.source,"<!--")&&vi(e,8)}return a.loc=Nl(e,a.loc.start),s&&(e.inPre=!1),o&&(e.inVPre=!1),a}var Px=(e=>(e[e.Start=0]="Start",e[e.End=1]="End",e))(Px||{});const IN=As("if,else,else-if,for,slot");function xT(e,t,n){const r=qs(e),i=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),a=i[1],s=e.options.getNamespace(a,n);Ua(e,i[0].length),lv(e);const o=qs(e),l=e.source;e.options.isPreTag(a)&&(e.inPre=!0);let c=d5(e,t);t===0&&!e.inVPre&&c.some(h=>h.type===7&&h.name==="pre")&&(e.inVPre=!0,Vr(e,o),e.source=l,c=d5(e,t).filter(h=>h.name!=="v-pre"));let u=!1;if(e.source.length===0?vi(e,9):(u=So(e.source,"/>"),t===1&&u&&vi(e,4),Ua(e,u?2:1)),t===1)return;let f=0;return e.inVPre||(a==="slot"?f=2:a==="template"?c.some(h=>h.type===7&&IN(h.name))&&(f=3):hK(a,c,e)&&(f=1)),{type:1,ns:s,tag:a,tagType:f,props:c,isSelfClosing:u,children:[],loc:Nl(e,r),codegenNode:void 0}}function hK(e,t,n){const r=n.options;if(r.isCustomElement(e))return!1;if(e==="component"||/^[A-Z]/.test(e)||MN(e)||r.isBuiltInComponent&&r.isBuiltInComponent(e)||r.isNativeTag&&!r.isNativeTag(e))return!0;for(let i=0;i<t.length;i++){const a=t[i];if(a.type===6){if(a.name==="is"&&a.value){if(a.value.content.startsWith("vue:"))return!0;if(sv("COMPILER_IS_ON_ELEMENT",n,a.loc))return!0}}else{if(a.name==="is")return!0;if(a.name==="bind"&&hd(a.arg,"is")&&sv("COMPILER_IS_ON_ELEMENT",n,a.loc))return!0}}}function d5(e,t){const n=[],r=new Set;for(;e.source.length>0&&!So(e.source,">")&&!So(e.source,"/>");){if(So(e.source,"/")){vi(e,22),Ua(e,1),lv(e);continue}t===1&&vi(e,3);const i=dK(e,r);i.type===6&&i.value&&i.name==="class"&&(i.value.content=i.value.content.replace(/\s+/g," ").trim()),t===0&&n.push(i),/^[^\t\r\n\f />]/.test(e.source)&&vi(e,15),lv(e)}return n}function dK(e,t){var n;const r=qs(e),a=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(a)&&vi(e,2),t.add(a),a[0]==="="&&vi(e,19);{const l=/["'<]/g;let c;for(;c=l.exec(a);)vi(e,17,c.index)}Ua(e,a.length);let s;/^[\t\r\n\f ]*=/.test(e.source)&&(lv(e),Ua(e,1),lv(e),s=pK(e),s||vi(e,13));const o=Nl(e,r);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(a)){const l=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(a);let c=So(a,"."),u=l[1]||(c||So(a,":")?"bind":So(a,"@")?"on":"slot"),f;if(l[2]){const d=u==="slot",p=a.lastIndexOf(l[2],a.length-(((n=l[3])==null?void 0:n.length)||0)),g=Nl(e,p5(e,r,p),p5(e,r,p+l[2].length+(d&&l[3]||"").length));let m=l[2],v=!0;m.startsWith("[")?(v=!1,m.endsWith("]")?m=m.slice(1,m.length-1):(vi(e,27),m=m.slice(1))):d&&(m+=l[3]||""),f={type:4,content:m,isStatic:v,constType:v?3:0,loc:g}}if(s&&s.isQuoted){const d=s.loc;d.start.offset++,d.start.column++,d.end=Cx(d.start,s.content),d.source=d.source.slice(1,-1)}const h=l[3]?l[3].slice(1).split("."):[];return c&&h.push("prop"),u==="bind"&&f&&h.includes("sync")&&sv("COMPILER_V_BIND_SYNC",e,o,f.loc.source)&&(u="model",h.splice(h.indexOf("sync"),1)),{type:7,name:u,exp:s&&{type:4,content:s.content,isStatic:!1,constType:0,loc:s.loc},arg:f,modifiers:h,loc:o}}return!e.inVPre&&So(a,"v-")&&vi(e,26),{type:6,name:a,value:s&&{type:2,content:s.content,loc:s.loc},loc:o}}function pK(e){const t=qs(e);let n;const r=e.source[0],i=r==='"'||r==="'";if(i){Ua(e,1);const a=e.source.indexOf(r);a===-1?n=jm(e,e.source.length,4):(n=jm(e,a,4),Ua(e,1))}else{const a=/^[^\t\r\n\f >]+/.exec(e.source);if(!a)return;const s=/["'<=`]/g;let o;for(;o=s.exec(a[0]);)vi(e,18,o.index);n=jm(e,a[0].length,4)}return{content:n,isQuoted:i,loc:Nl(e,t)}}function gK(e,t){const[n,r]=e.options.delimiters,i=e.source.indexOf(r,n.length);if(i===-1){vi(e,25);return}const a=qs(e);Ua(e,n.length);const s=qs(e),o=qs(e),l=i-n.length,c=e.source.slice(0,l),u=jm(e,l,t),f=u.trim(),h=u.indexOf(f);h>0&&Ax(s,c,h);const d=l-(u.length-f.length-h);return Ax(o,c,d),Ua(e,r.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:f,loc:Nl(e,s,o)},loc:Nl(e,a)}}function mK(e,t){const n=t===3?["]]>"]:["<",e.options.delimiters[0]];let r=e.source.length;for(let s=0;s<n.length;s++){const o=e.source.indexOf(n[s],1);o!==-1&&r>o&&(r=o)}const i=qs(e);return{type:2,content:jm(e,r,t),loc:Nl(e,i)}}function jm(e,t,n){const r=e.source.slice(0,t);return Ua(e,t),n===2||n===3||!r.includes("&")?r:e.options.decodeEntities(r,n===4)}function qs(e){const{column:t,line:n,offset:r}=e;return{column:t,line:n,offset:r}}function Nl(e,t,n){return n=n||qs(e),{start:t,end:n,source:e.originalSource.slice(t.offset,n.offset)}}function Jb(e){return e[e.length-1]}function So(e,t){return e.startsWith(t)}function Ua(e,t){const{source:n}=e;Ax(e,n,t),e.source=n.slice(t)}function lv(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&Ua(e,t[0].length)}function p5(e,t,n){return Cx(t,e.originalSource.slice(t.offset,n),n)}function vi(e,t,n,r=qs(e)){n&&(r.offset+=n,r.column+=n),e.options.onError(Yi(t,{start:r,end:r,source:""}))}function vK(e,t,n){const r=e.source;switch(t){case 0:if(So(r,"</")){for(let i=n.length-1;i>=0;--i)if(bT(r,n[i].tag))return!0}break;case 1:case 2:{const i=Jb(n);if(i&&bT(r,i.tag))return!0;break}case 3:if(So(r,"]]>"))return!0;break}return!r}function bT(e,t){return So(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function yK(e,t){J1(e,t,ON(e,e.children[0]))}function ON(e,t){const{children:n}=e;return n.length===1&&t.type===1&&!Ox(t)}function J1(e,t,n=!1){const{children:r}=e,i=r.length;let a=0;for(let s=0;s<r.length;s++){const o=r[s];if(o.type===1&&o.tagType===0){const l=n?0:Sl(o,t);if(l>0){if(l>=2){o.codegenNode.patchFlag="-1",o.codegenNode=t.hoist(o.codegenNode),a++;continue}}else{const c=o.codegenNode;if(c.type===13){const u=RN(c);if((!u||u===512||u===1)&&PN(o,t)>=2){const f=NN(o);f&&(c.props=t.hoist(f))}c.dynamicProps&&(c.dynamicProps=t.hoist(c.dynamicProps))}}}if(o.type===1){const l=o.tagType===1;l&&t.scopes.vSlot++,J1(o,t),l&&t.scopes.vSlot--}else if(o.type===11)J1(o,t,o.children.length===1);else if(o.type===9)for(let l=0;l<o.branches.length;l++)J1(o.branches[l],t,o.branches[l].children.length===1)}a&&t.transformHoist&&t.transformHoist(r,t,e),a&&a===i&&e.type===1&&e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&kn(e.codegenNode.children)&&(e.codegenNode.children=t.hoist(Cy(e.codegenNode.children)))}function Sl(e,t){const{constantCache:n}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const r=n.get(e);if(r!==void 0)return r;const i=e.codegenNode;if(i.type!==13||i.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject")return 0;if(RN(i))return n.set(e,0),0;{let o=3;const l=PN(e,t);if(l===0)return n.set(e,0),0;l<o&&(o=l);for(let c=0;c<e.children.length;c++){const u=Sl(e.children[c],t);if(u===0)return n.set(e,0),0;u<o&&(o=u)}if(o>1)for(let c=0;c<e.props.length;c++){const u=e.props[c];if(u.type===7&&u.name==="bind"&&u.exp){const f=Sl(u.exp,t);if(f===0)return n.set(e,0),0;f<o&&(o=f)}}if(i.isBlock){for(let c=0;c<e.props.length;c++)if(e.props[c].type===7)return n.set(e,0),0;t.removeHelper(Rd),t.removeHelper(Ug(t.inSSR,i.isComponent)),i.isBlock=!1,t.helper(jg(t.inSSR,i.isComponent))}return n.set(e,o),o}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Sl(e.content,t);case 4:return e.constType;case 8:let s=3;for(let o=0;o<e.children.length;o++){const l=e.children[o];if(Tr(l)||uh(l))continue;const c=Sl(l,t);if(c===0)return 0;c<s&&(s=c)}return s;default:return 0}}const _K=new Set([UM,VM,iv,Sy]);function LN(e,t){if(e.type===14&&!Tr(e.callee)&&_K.has(e.callee)){const n=e.arguments[0];if(n.type===4)return Sl(n,t);if(n.type===14)return LN(n,t)}return 0}function PN(e,t){let n=3;const r=NN(e);if(r&&r.type===15){const{properties:i}=r;for(let a=0;a<i.length;a++){const{key:s,value:o}=i[a],l=Sl(s,t);if(l===0)return l;l<n&&(n=l);let c;if(o.type===4?c=Sl(o,t):o.type===14?c=LN(o,t):c=0,c===0)return c;c<n&&(n=c)}}return n}function NN(e){const t=e.codegenNode;if(t.type===13)return t.props}function RN(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function xK(e,{filename:t="",prefixIdentifiers:n=!1,hoistStatic:r=!1,cacheHandlers:i=!1,nodeTransforms:a=[],directiveTransforms:s={},transformHoist:o=null,isBuiltInComponent:l=Xo,isCustomElement:c=Xo,expressionPlugins:u=[],scopeId:f=null,slotted:h=!0,ssr:d=!1,inSSR:p=!1,ssrCssVars:g="",bindingMetadata:m=yi,inline:v=!1,isTS:y=!1,onError:_=PM,onWarn:b=vN,compatConfig:w}){const T=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),M={selfName:T&&np(Ia(T[1])),prefixIdentifiers:n,hoistStatic:r,cacheHandlers:i,nodeTransforms:a,directiveTransforms:s,transformHoist:o,isBuiltInComponent:l,isCustomElement:c,expressionPlugins:u,scopeId:f,slotted:h,ssr:d,inSSR:p,ssrCssVars:g,bindingMetadata:m,inline:v,isTS:y,onError:_,onWarn:b,compatConfig:w,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(S){const E=M.helpers.get(S)||0;return M.helpers.set(S,E+1),S},removeHelper(S){const E=M.helpers.get(S);if(E){const A=E-1;A?M.helpers.set(S,A):M.helpers.delete(S)}},helperString(S){return`_${Bg[M.helper(S)]}`},replaceNode(S){M.parent.children[M.childIndex]=M.currentNode=S},removeNode(S){const E=M.parent.children,A=S?E.indexOf(S):M.currentNode?M.childIndex:-1;!S||S===M.currentNode?(M.currentNode=null,M.onNodeRemoved()):M.childIndex>A&&(M.childIndex--,M.onNodeRemoved()),M.parent.children.splice(A,1)},onNodeRemoved:()=>{},addIdentifiers(S){},removeIdentifiers(S){},hoist(S){Tr(S)&&(S=Pr(S)),M.hoists.push(S);const E=Pr(`_hoisted_${M.hoists.length}`,!1,S.loc,2);return E.hoisted=S,E},cache(S,E=!1){return qX(M.cached++,S,E)}};return M.filters=new Set,M}function bK(e,t){const n=xK(e,t);Qb(e,n),t.hoistStatic&&yK(e,n),t.ssr||wK(e,n),e.helpers=new Set([...n.helpers.keys()]),e.components=[...n.components],e.directives=[...n.directives],e.imports=n.imports,e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached,e.filters=[...n.filters]}function wK(e,t){const{helper:n}=t,{children:r}=e;if(r.length===1){const i=r[0];if(ON(e,i)&&i.codegenNode){const a=i.codegenNode;a.type===13&&$M(a,t),e.codegenNode=a}else e.codegenNode=i}else if(r.length>1){let i=64;e.codegenNode=av(t,n(rv),void 0,e.children,i+"",void 0,void 0,!0,void 0,!1)}}function TK(e,t){let n=0;const r=()=>{n--};for(;n<e.children.length;n++){const i=e.children[n];Tr(i)||(t.parent=e,t.childIndex=n,t.onNodeRemoved=r,Qb(i,t))}}function Qb(e,t){t.currentNode=e;const{nodeTransforms:n}=t,r=[];for(let a=0;a<n.length;a++){const s=n[a](e,t);if(s&&(kn(s)?r.push(...s):r.push(s)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(My);break;case 5:t.ssr||t.helper(Kb);break;case 9:for(let a=0;a<e.branches.length;a++)Qb(e.branches[a],t);break;case 10:case 11:case 1:case 0:TK(e,t);break}t.currentNode=e;let i=r.length;for(;i--;)r[i]()}function DN(e,t){const n=Tr(e)?r=>r===e:r=>e.test(r);return(r,i)=>{if(r.type===1){const{props:a}=r;if(r.tagType===3&&a.some(nK))return;const s=[];for(let o=0;o<a.length;o++){const l=a[o];if(l.type===7&&n(l.name)){a.splice(o,1),o--;const c=t(r,l,i);c&&s.push(c)}}return s}}}const t2="/*#__PURE__*/",kN=e=>`${Bg[e]}: _${Bg[e]}`;function g5(e,{mode:t="function",prefixIdentifiers:n=t==="module",sourceMap:r=!1,filename:i="template.vue.html",scopeId:a=null,optimizeImports:s=!1,runtimeGlobalName:o="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:u=!1,isTS:f=!1,inSSR:h=!1}){const d={mode:t,prefixIdentifiers:n,sourceMap:r,filename:i,scopeId:a,optimizeImports:s,runtimeGlobalName:o,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:u,isTS:f,inSSR:h,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(g){return`_${Bg[g]}`},push(g,m){d.code+=g},indent(){p(++d.indentLevel)},deindent(g=!1){g?--d.indentLevel:p(--d.indentLevel)},newline(){p(d.indentLevel)}};function p(g){d.push(`
`+"  ".repeat(g))}return d}function EK(e,t={}){const n=g5(e,t);t.onContextCreated&&t.onContextCreated(n);const{mode:r,push:i,prefixIdentifiers:a,indent:s,deindent:o,newline:l,scopeId:c,ssr:u}=n,f=Array.from(e.helpers),h=f.length>0,d=!a&&r!=="module",p=!1,g=p?g5(e,t):n;MK(e,g);const m=u?"ssrRender":"render",y=(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(i(`function ${m}(${y}) {`),s(),d&&(i("with (_ctx) {"),s(),h&&(i(`const { ${f.map(kN).join(", ")} } = _Vue`),i(`
`),l())),e.components.length&&(m3(e.components,"component",n),(e.directives.length||e.temps>0)&&l()),e.directives.length&&(m3(e.directives,"directive",n),e.temps>0&&l()),e.filters&&e.filters.length&&(l(),m3(e.filters,"filter",n),l()),e.temps>0){i("let ");for(let _=0;_<e.temps;_++)i(`${_>0?", ":""}_temp${_}`)}return(e.components.length||e.directives.length||e.temps)&&(i(`
`),l()),u||i("return "),e.codegenNode?Ao(e.codegenNode,n):i("null"),d&&(o(),i("}")),o(),i("}"),{ast:e,code:n.code,preamble:p?g.code:"",map:n.map?n.map.toJSON():void 0}}function MK(e,t){const{ssr:n,prefixIdentifiers:r,push:i,newline:a,runtimeModuleName:s,runtimeGlobalName:o,ssrRuntimeModuleName:l}=t,c=o,u=Array.from(e.helpers);if(u.length>0&&(i(`const _Vue = ${c}
`),e.hoists.length)){const f=[RM,DM,My,kM,bN].filter(h=>u.includes(h)).map(kN).join(", ");i(`const { ${f} } = _Vue
`)}SK(e.hoists,t),a(),i("return ")}function m3(e,t,{helper:n,push:r,newline:i,isTS:a}){const s=n(t==="filter"?BM:t==="component"?FM:zM);for(let o=0;o<e.length;o++){let l=e[o];const c=l.endsWith("__self");c&&(l=l.slice(0,-6)),r(`const ${ov(l,t)} = ${s}(${JSON.stringify(l)}${c?", true":""})${a?"!":""}`),o<e.length-1&&i()}}function SK(e,t){if(!e.length)return;t.pure=!0;const{push:n,newline:r,helper:i,scopeId:a,mode:s}=t;r();for(let o=0;o<e.length;o++){const l=e[o];l&&(n(`const _hoisted_${o+1} = `),Ao(l,t),r())}t.pure=!1}function KM(e,t){const n=e.length>3||!1;t.push("["),n&&t.indent(),Ay(e,t,n),n&&t.deindent(),t.push("]")}function Ay(e,t,n=!1,r=!0){const{push:i,newline:a}=t;for(let s=0;s<e.length;s++){const o=e[s];Tr(o)?i(o):kn(o)?KM(o,t):Ao(o,t),s<e.length-1&&(n?(r&&i(","),a()):r&&i(", "))}}function Ao(e,t){if(Tr(e)){t.push(e);return}if(uh(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:Ao(e.codegenNode,t);break;case 2:CK(e,t);break;case 4:FN(e,t);break;case 5:AK(e,t);break;case 12:Ao(e.codegenNode,t);break;case 8:zN(e,t);break;case 3:OK(e,t);break;case 13:LK(e,t);break;case 14:NK(e,t);break;case 15:RK(e,t);break;case 17:DK(e,t);break;case 18:kK(e,t);break;case 19:FK(e,t);break;case 20:zK(e,t);break;case 21:Ay(e.body,t,!0,!1);break}}function CK(e,t){t.push(JSON.stringify(e.content),e)}function FN(e,t){const{content:n,isStatic:r}=e;t.push(r?JSON.stringify(n):n,e)}function AK(e,t){const{push:n,helper:r,pure:i}=t;i&&n(t2),n(`${r(Kb)}(`),Ao(e.content,t),n(")")}function zN(e,t){for(let n=0;n<e.children.length;n++){const r=e.children[n];Tr(r)?t.push(r):Ao(r,t)}}function IK(e,t){const{push:n}=t;if(e.type===8)n("["),zN(e,t),n("]");else if(e.isStatic){const r=qM(e.content)?e.content:JSON.stringify(e.content);n(r,e)}else n(`[${e.content}]`,e)}function OK(e,t){const{push:n,helper:r,pure:i}=t;i&&n(t2),n(`${r(My)}(${JSON.stringify(e.content)})`,e)}function LK(e,t){const{push:n,helper:r,pure:i}=t,{tag:a,props:s,children:o,patchFlag:l,dynamicProps:c,directives:u,isBlock:f,disableTracking:h,isComponent:d}=e;u&&n(r(GM)+"("),f&&n(`(${r(Rd)}(${h?"true":""}), `),i&&n(t2);const p=f?Ug(t.inSSR,d):jg(t.inSSR,d);n(r(p)+"(",e),Ay(PK([a,s,o,l,c]),t),n(")"),f&&n(")"),u&&(n(", "),Ao(u,t),n(")"))}function PK(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(n=>n||"null")}function NK(e,t){const{push:n,helper:r,pure:i}=t,a=Tr(e.callee)?e.callee:r(e.callee);i&&n(t2),n(a+"(",e),Ay(e.arguments,t),n(")")}function RK(e,t){const{push:n,indent:r,deindent:i,newline:a}=t,{properties:s}=e;if(!s.length){n("{}",e);return}const o=s.length>1||!1;n(o?"{":"{ "),o&&r();for(let l=0;l<s.length;l++){const{key:c,value:u}=s[l];IK(c,t),n(": "),Ao(u,t),l<s.length-1&&(n(","),a())}o&&i(),n(o?"}":" }")}function DK(e,t){KM(e.elements,t)}function kK(e,t){const{push:n,indent:r,deindent:i}=t,{params:a,returns:s,body:o,newline:l,isSlot:c}=e;c&&n(`_${Bg[YM]}(`),n("(",e),kn(a)?Ay(a,t):a&&Ao(a,t),n(") => "),(l||o)&&(n("{"),r()),s?(l&&n("return "),kn(s)?KM(s,t):Ao(s,t)):o&&Ao(o,t),(l||o)&&(i(),n("}")),c&&(e.isNonScopedSlot&&n(", undefined, true"),n(")"))}function FK(e,t){const{test:n,consequent:r,alternate:i,newline:a}=e,{push:s,indent:o,deindent:l,newline:c}=t;if(n.type===4){const f=!qM(n.content);f&&s("("),FN(n,t),f&&s(")")}else s("("),Ao(n,t),s(")");a&&o(),t.indentLevel++,a||s(" "),s("? "),Ao(r,t),t.indentLevel--,a&&c(),a||s(" "),s(": ");const u=i.type===19;u||t.indentLevel++,Ao(i,t),u||t.indentLevel--,a&&l(!0)}function zK(e,t){const{push:n,helper:r,indent:i,deindent:a,newline:s}=t;n(`_cache[${e.index}] || (`),e.isVNode&&(i(),n(`${r(Sx)}(-1),`),s()),n(`_cache[${e.index}] = `),Ao(e.value,t),e.isVNode&&(n(","),s(),n(`${r(Sx)}(1),`),s(),n(`_cache[${e.index}]`),a()),n(")")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const BK=DN(/^(if|else|else-if)$/,(e,t,n)=>GK(e,t,n,(r,i,a)=>{const s=n.parent.children;let o=s.indexOf(r),l=0;for(;o-->=0;){const c=s[o];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(a)r.codegenNode=v5(i,l,n);else{const c=jK(r.codegenNode);c.alternate=v5(i,l+r.branches.length-1,n)}}}));function GK(e,t,n,r){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const i=t.exp?t.exp.loc:e.loc;n.onError(Yi(28,t.loc)),t.exp=Pr("true",!1,i)}if(t.name==="if"){const i=m5(e,t),a={type:9,loc:e.loc,branches:[i]};if(n.replaceNode(a),r)return r(a,i,!0)}else{const i=n.parent.children;let a=i.indexOf(e);for(;a-->=-1;){const s=i[a];if(s&&s.type===3){n.removeNode(s);continue}if(s&&s.type===2&&!s.content.trim().length){n.removeNode(s);continue}if(s&&s.type===9){t.name==="else-if"&&s.branches[s.branches.length-1].condition===void 0&&n.onError(Yi(30,e.loc)),n.removeNode();const o=m5(e,t);s.branches.push(o);const l=r&&r(s,o,!1);Qb(o,n),l&&l(),n.currentNode=null}else n.onError(Yi(30,e.loc));break}}}function m5(e,t){const n=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:n&&!Tl(e,"for")?e.children:[e],userKey:Zb(e,"key"),isTemplateIf:n}}function v5(e,t,n){return e.condition?_T(e.condition,y5(e,t,n),Ma(n.helper(My),['""',"true"])):y5(e,t,n)}function y5(e,t,n){const{helper:r}=n,i=ua("key",Pr(`${t}`,!1,ll,2)),{children:a}=e,s=a[0];if(a.length!==1||s.type!==1)if(a.length===1&&s.type===11){const l=s.codegenNode;return Lx(l,i,n),l}else{let l=64;return av(n,r(rv),Ml([i]),a,l+"",void 0,void 0,!0,!1,!1,e.loc)}else{const l=s.codegenNode,c=iK(l);return c.type===13&&$M(c,n),Lx(c,i,n),l}}function jK(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const UK=DN("for",(e,t,n)=>{const{helper:r,removeHelper:i}=n;return VK(e,t,n,a=>{const s=Ma(r(jM),[a.source]),o=Ix(e),l=Tl(e,"memo"),c=Zb(e,"key"),u=c&&(c.type===6?Pr(c.value.content,!0):c.exp),f=c?ua("key",u):null,h=a.source.type===4&&a.source.constType>0,d=h?64:c?128:256;return a.codegenNode=av(n,r(rv),void 0,s,d+"",void 0,void 0,!0,!h,!1,e.loc),()=>{let p;const{children:g}=a,m=g.length!==1||g[0].type!==1,v=Ox(e)?e:o&&e.children.length===1&&Ox(e.children[0])?e.children[0]:null;if(v?(p=v.codegenNode,o&&f&&Lx(p,f,n)):m?p=av(n,r(rv),f?Ml([f]):void 0,e.children,"64",void 0,void 0,!0,void 0,!1):(p=g[0].codegenNode,o&&f&&Lx(p,f,n),p.isBlock!==!h&&(p.isBlock?(i(Rd),i(Ug(n.inSSR,p.isComponent))):i(jg(n.inSSR,p.isComponent))),p.isBlock=!h,p.isBlock?(r(Rd),r(Ug(n.inSSR,p.isComponent))):r(jg(n.inSSR,p.isComponent))),l){const y=Gg(wT(a.parseResult,[Pr("_cached")]));y.body=XX([uu(["const _memo = (",l.exp,")"]),uu(["if (_cached",...u?[" && _cached.key === ",u]:[],` && ${n.helperString(EN)}(_cached, _memo)) return _cached`]),uu(["const _item = ",p]),Pr("_item.memo = _memo"),Pr("return _item")]),s.arguments.push(y,Pr("_cache"),Pr(String(n.cached++)))}else s.arguments.push(Gg(wT(a.parseResult),p,!0))}})});function VK(e,t,n,r){if(!t.exp){n.onError(Yi(31,t.loc));return}const i=BN(t.exp);if(!i){n.onError(Yi(32,t.loc));return}const{addIdentifiers:a,removeIdentifiers:s,scopes:o}=n,{source:l,value:c,key:u,index:f}=i,h={type:11,loc:t.loc,source:l,valueAlias:c,keyAlias:u,objectIndexAlias:f,parseResult:i,children:Ix(e)?e.children:[e]};n.replaceNode(h),o.vFor++;const d=r&&r(h);return()=>{o.vFor--,d&&d()}}const HK=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,_5=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,YK=/^\(|\)$/g;function BN(e,t){const n=e.loc,r=e.content,i=r.match(HK);if(!i)return;const[,a,s]=i,o={source:f1(n,s.trim(),r.indexOf(s,a.length)),value:void 0,key:void 0,index:void 0};let l=a.trim().replace(YK,"").trim();const c=a.indexOf(l),u=l.match(_5);if(u){l=l.replace(_5,"").trim();const f=u[1].trim();let h;if(f&&(h=r.indexOf(f,c+l.length),o.key=f1(n,f,h)),u[2]){const d=u[2].trim();d&&(o.index=f1(n,d,r.indexOf(d,o.key?h+f.length:c+l.length)))}}return l&&(o.value=f1(n,l,c)),o}function f1(e,t,n){return Pr(t,!1,CN(e,n,t.length))}function wT({value:e,key:t,index:n},r=[]){return WK([e,t,n,...r])}function WK(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((n,r)=>n||Pr("_".repeat(r+1),!1))}const x5=Pr("undefined",!1),$K=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const n=Tl(e,"slot");if(n)return n.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},qK=(e,t,n)=>Gg(e,t,!1,!0,t.length?t[0].loc:n);function XK(e,t,n=qK){t.helper(YM);const{children:r,loc:i}=e,a=[],s=[];let o=t.scopes.vSlot>0||t.scopes.vFor>0;const l=Tl(e,"slot",!0);if(l){const{arg:m,exp:v}=l;m&&!_s(m)&&(o=!0),a.push(ua(m||Pr("default",!0),n(v,r,i)))}let c=!1,u=!1;const f=[],h=new Set;let d=0;for(let m=0;m<r.length;m++){const v=r[m];let y;if(!Ix(v)||!(y=Tl(v,"slot",!0))){v.type!==3&&f.push(v);continue}if(l){t.onError(Yi(37,y.loc));break}c=!0;const{children:_,loc:b}=v,{arg:w=Pr("default",!0),exp:T,loc:M}=y;let S;_s(w)?S=w?w.content:"default":o=!0;const E=n(T,_,b);let A,O,N;if(A=Tl(v,"if"))o=!0,s.push(_T(A.exp,h1(w,E,d++),x5));else if(O=Tl(v,/^else(-if)?$/,!0)){let F=m,P;for(;F--&&(P=r[F],P.type===3););if(P&&Ix(P)&&Tl(P,"if")){r.splice(m,1),m--;let R=s[s.length-1];for(;R.alternate.type===19;)R=R.alternate;R.alternate=O.exp?_T(O.exp,h1(w,E,d++),x5):h1(w,E,d++)}else t.onError(Yi(30,O.loc))}else if(N=Tl(v,"for")){o=!0;const F=N.parseResult||BN(N.exp);F?s.push(Ma(t.helper(jM),[F.source,Gg(wT(F),h1(w,E),!0)])):t.onError(Yi(32,N.loc))}else{if(S){if(h.has(S)){t.onError(Yi(38,M));continue}h.add(S),S==="default"&&(u=!0)}a.push(ua(w,E))}}if(!l){const m=(v,y)=>{const _=n(v,y,i);return t.compatConfig&&(_.isNonScopedSlot=!0),ua("default",_)};c?f.length&&f.some(v=>GN(v))&&(u?t.onError(Yi(39,f[0].loc)):a.push(m(void 0,f))):a.push(m(void 0,r))}const p=o?2:Q1(e.children)?3:1;let g=Ml(a.concat(ua("_",Pr(p+"",!1))),i);return s.length&&(g=Ma(t.helper(TN),[g,Cy(s)])),{slots:g,hasDynamicSlots:o}}function h1(e,t,n){const r=[ua("name",e),ua("fn",t)];return n!=null&&r.push(ua("key",Pr(String(n),!0))),Ml(r)}function Q1(e){for(let t=0;t<e.length;t++){const n=e[t];switch(n.type){case 1:if(n.tagType===2||Q1(n.children))return!0;break;case 9:if(Q1(n.branches))return!0;break;case 10:case 11:if(Q1(n.children))return!0;break}}return!1}function GN(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():GN(e.content)}const jN=new WeakMap,KK=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:r,props:i}=e,a=e.tagType===1;let s=a?ZK(e,t):`"${r}"`;const o=_i(s)&&s.callee===Ex;let l,c,u,f=0,h,d,p,g=o||s===Gm||s===NM||!a&&(r==="svg"||r==="foreignObject");if(i.length>0){const m=UN(e,t,void 0,a,o);l=m.props,f=m.patchFlag,d=m.dynamicPropNames;const v=m.directives;p=v&&v.length?Cy(v.map(y=>QK(y,t))):void 0,m.shouldUseBlock&&(g=!0)}if(e.children.length>0)if(s===Tx&&(g=!0,f|=1024),a&&s!==Gm&&s!==Tx){const{slots:v,hasDynamicSlots:y}=XK(e,t);c=v,y&&(f|=1024)}else if(e.children.length===1&&s!==Gm){const v=e.children[0],y=v.type,_=y===5||y===8;_&&Sl(v,t)===0&&(f|=1),_||y===2?c=v:c=e.children}else c=e.children;f!==0&&(u=String(f),d&&d.length&&(h=tZ(d))),e.codegenNode=av(t,s,l,c,u,h,p,!!g,!1,a,e.loc)};function ZK(e,t,n=!1){let{tag:r}=e;const i=TT(r),a=Zb(e,"is");if(a)if(i||Ed("COMPILER_IS_ON_ELEMENT",t)){const l=a.type===6?a.value&&Pr(a.value.content,!0):a.exp;if(l)return Ma(t.helper(Ex),[l])}else a.type===6&&a.value.content.startsWith("vue:")&&(r=a.value.content.slice(4));const s=!i&&Tl(e,"is");if(s&&s.exp)return Ma(t.helper(Ex),[s.exp]);const o=MN(r)||t.isBuiltInComponent(r);return o?(n||t.helper(o),o):(t.helper(FM),t.components.add(r),ov(r,"component"))}function UN(e,t,n=e.props,r,i,a=!1){const{tag:s,loc:o,children:l}=e;let c=[];const u=[],f=[],h=l.length>0;let d=!1,p=0,g=!1,m=!1,v=!1,y=!1,_=!1,b=!1;const w=[],T=E=>{c.length&&(u.push(Ml(b5(c),o)),c=[]),E&&u.push(E)},M=({key:E,value:A})=>{if(_s(E)){const O=E.content,N=tp(O);if(N&&(!r||i)&&O.toLowerCase()!=="onclick"&&O!=="onUpdate:modelValue"&&!yd(O)&&(y=!0),N&&yd(O)&&(b=!0),A.type===20||(A.type===4||A.type===8)&&Sl(A,t)>0)return;O==="ref"?g=!0:O==="class"?m=!0:O==="style"?v=!0:O!=="key"&&!w.includes(O)&&w.push(O),r&&(O==="class"||O==="style")&&!w.includes(O)&&w.push(O)}else _=!0};for(let E=0;E<n.length;E++){const A=n[E];if(A.type===6){const{loc:O,name:N,value:F}=A;let P=!0;if(N==="ref"&&(g=!0,t.scopes.vFor>0&&c.push(ua(Pr("ref_for",!0),Pr("true")))),N==="is"&&(TT(s)||F&&F.content.startsWith("vue:")||Ed("COMPILER_IS_ON_ELEMENT",t)))continue;c.push(ua(Pr(N,!0,CN(O,0,N.length)),Pr(F?F.content:"",P,F?F.loc:O)))}else{const{name:O,arg:N,exp:F,loc:P}=A,R=O==="bind",k=O==="on";if(O==="slot"){r||t.onError(Yi(40,P));continue}if(O==="once"||O==="memo"||O==="is"||R&&hd(N,"is")&&(TT(s)||Ed("COMPILER_IS_ON_ELEMENT",t))||k&&a)continue;if((R&&hd(N,"key")||k&&h&&hd(N,"vue:before-update"))&&(d=!0),R&&hd(N,"ref")&&t.scopes.vFor>0&&c.push(ua(Pr("ref_for",!0),Pr("true"))),!N&&(R||k)){if(_=!0,F)if(R){if(T(),Ed("COMPILER_V_BIND_OBJECT_ORDER",t)){u.unshift(F);continue}u.push(F)}else T({type:14,loc:P,callee:t.helper(HM),arguments:r?[F]:[F,"true"]});else t.onError(Yi(R?34:35,P));continue}const I=t.directiveTransforms[O];if(I){const{props:j,needRuntime:G}=I(A,e,t);!a&&j.forEach(M),k&&N&&!_s(N)?T(Ml(j,o)):c.push(...j),G&&(f.push(A),uh(G)&&jN.set(A,G))}else cW(O)||(f.push(A),h&&(d=!0))}}let S;if(u.length?(T(),u.length>1?S=Ma(t.helper(Mx),u,o):S=u[0]):c.length&&(S=Ml(b5(c),o)),_?p|=16:(m&&!r&&(p|=2),v&&!r&&(p|=4),w.length&&(p|=8),y&&(p|=32)),!d&&(p===0||p===32)&&(g||b||f.length>0)&&(p|=512),!t.inSSR&&S)switch(S.type){case 15:let E=-1,A=-1,O=!1;for(let P=0;P<S.properties.length;P++){const R=S.properties[P].key;_s(R)?R.content==="class"?E=P:R.content==="style"&&(A=P):R.isHandlerKey||(O=!0)}const N=S.properties[E],F=S.properties[A];O?S=Ma(t.helper(iv),[S]):(N&&!_s(N.value)&&(N.value=Ma(t.helper(UM),[N.value])),F&&(v||F.value.type===4&&F.value.content.trim()[0]==="["||F.value.type===17)&&(F.value=Ma(t.helper(VM),[F.value])));break;case 14:break;default:S=Ma(t.helper(iv),[Ma(t.helper(Sy),[S])]);break}return{props:S,directives:f,patchFlag:p,dynamicPropNames:w,shouldUseBlock:d}}function b5(e){const t=new Map,n=[];for(let r=0;r<e.length;r++){const i=e[r];if(i.key.type===8||!i.key.isStatic){n.push(i);continue}const a=i.key.content,s=t.get(a);s?(a==="style"||a==="class"||tp(a))&&JK(s,i):(t.set(a,i),n.push(i))}return n}function JK(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=Cy([e.value,t.value],e.loc)}function QK(e,t){const n=[],r=jN.get(e);r?n.push(t.helperString(r)):(t.helper(zM),t.directives.add(e.name),n.push(ov(e.name,"directive")));const{loc:i}=e;if(e.exp&&n.push(e.exp),e.arg&&(e.exp||n.push("void 0"),n.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||n.push("void 0"),n.push("void 0"));const a=Pr("true",!1,i);n.push(Ml(e.modifiers.map(s=>ua(s,a)),i))}return Cy(n,e.loc)}function tZ(e){let t="[";for(let n=0,r=e.length;n<r;n++)t+=JSON.stringify(e[n]),n<r-1&&(t+=", ");return t+"]"}function TT(e){return e==="component"||e==="Component"}const eZ=(e,t)=>{if(Ox(e)){const{children:n,loc:r}=e,{slotName:i,slotProps:a}=nZ(e,t),s=[t.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let o=2;a&&(s[2]=a,o=3),n.length&&(s[3]=Gg([],n,!1,!1,r),o=4),t.scopeId&&!t.slotted&&(o=5),s.splice(o),e.codegenNode=Ma(t.helper(wN),s,r)}};function nZ(e,t){let n='"default"',r;const i=[];for(let a=0;a<e.props.length;a++){const s=e.props[a];s.type===6?s.value&&(s.name==="name"?n=JSON.stringify(s.value.content):(s.name=Ia(s.name),i.push(s))):s.name==="bind"&&hd(s.arg,"name")?s.exp&&(n=s.exp):(s.name==="bind"&&s.arg&&_s(s.arg)&&(s.arg.content=Ia(s.arg.content)),i.push(s))}if(i.length>0){const{props:a,directives:s}=UN(e,t,i,!1,!1);r=a,s.length&&t.onError(Yi(36,s[0].loc))}return{slotName:n,slotProps:r}}const rZ=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,VN=(e,t,n,r)=>{const{loc:i,modifiers:a,arg:s}=e;!e.exp&&!a.length&&n.onError(Yi(35,i));let o;if(s.type===4)if(s.isStatic){let f=s.content;f.startsWith("vue:")&&(f=`vnode-${f.slice(4)}`);const h=t.tagType!==0||f.startsWith("vnode")||!/[A-Z]/.test(f)?vg(Ia(f)):`on:${f}`;o=Pr(h,!0,s.loc)}else o=uu([`${n.helperString(yT)}(`,s,")"]);else o=s,o.children.unshift(`${n.helperString(yT)}(`),o.children.push(")");let l=e.exp;l&&!l.content.trim()&&(l=void 0);let c=n.cacheHandlers&&!l&&!n.inVOnce;if(l){const f=SN(l.content),h=!(f||rZ.test(l.content)),d=l.content.includes(";");(h||c&&f)&&(l=uu([`${h?"$event":"(...args)"} => ${d?"{":"("}`,l,d?"}":")"]))}let u={props:[ua(o,l||Pr("() => {}",!1,i))]};return r&&(u=r(u)),c&&(u.props[0].value=n.cache(u.props[0].value)),u.props.forEach(f=>f.key.isHandlerKey=!0),u},iZ=(e,t,n)=>{const{exp:r,modifiers:i,loc:a}=e,s=e.arg;return s.type!==4?(s.children.unshift("("),s.children.push(') || ""')):s.isStatic||(s.content=`${s.content} || ""`),i.includes("camel")&&(s.type===4?s.isStatic?s.content=Ia(s.content):s.content=`${n.helperString(vT)}(${s.content})`:(s.children.unshift(`${n.helperString(vT)}(`),s.children.push(")"))),n.inSSR||(i.includes("prop")&&w5(s,"."),i.includes("attr")&&w5(s,"^")),!r||r.type===4&&!r.content.trim()?(n.onError(Yi(34,a)),{props:[ua(s,Pr("",!0,a))]}):{props:[ua(s,r)]}},w5=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},aZ=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const n=e.children;let r,i=!1;for(let a=0;a<n.length;a++){const s=n[a];if(g3(s)){i=!0;for(let o=a+1;o<n.length;o++){const l=n[o];if(g3(l))r||(r=n[a]=uu([s],s.loc)),r.children.push(" + ",l),n.splice(o,1),o--;else{r=void 0;break}}}}if(!(!i||n.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(a=>a.type===7&&!t.directiveTransforms[a.name])&&e.tag!=="template")))for(let a=0;a<n.length;a++){const s=n[a];if(g3(s)||s.type===8){const o=[];(s.type!==2||s.content!==" ")&&o.push(s),!t.ssr&&Sl(s,t)===0&&o.push("1"),n[a]={type:12,content:s,loc:s.loc,codegenNode:Ma(t.helper(kM),o)}}}}},T5=new WeakSet,oZ=(e,t)=>{if(e.type===1&&Tl(e,"once",!0))return T5.has(e)||t.inVOnce||t.inSSR?void 0:(T5.add(e),t.inVOnce=!0,t.helper(Sx),()=>{t.inVOnce=!1;const n=t.currentNode;n.codegenNode&&(n.codegenNode=t.cache(n.codegenNode,!0))})},HN=(e,t,n)=>{const{exp:r,arg:i}=e;if(!r)return n.onError(Yi(41,e.loc)),d1();const a=r.loc.source,s=r.type===4?r.content:a,o=n.bindingMetadata[a];if(o==="props"||o==="props-aliased")return n.onError(Yi(44,r.loc)),d1();const l=!1;if(!s.trim()||!SN(s)&&!l)return n.onError(Yi(42,r.loc)),d1();const c=i||Pr("modelValue",!0),u=i?_s(i)?`onUpdate:${Ia(i.content)}`:uu(['"onUpdate:" + ',i]):"onUpdate:modelValue";let f;const h=n.isTS?"($event: any)":"$event";f=uu([`${h} => ((`,r,") = $event)"]);const d=[ua(c,e.exp),ua(u,f)];if(e.modifiers.length&&t.tagType===1){const p=e.modifiers.map(m=>(qM(m)?m:JSON.stringify(m))+": true").join(", "),g=i?_s(i)?`${i.content}Modifiers`:uu([i,' + "Modifiers"']):"modelModifiers";d.push(ua(g,Pr(`{ ${p} }`,!1,e.loc,2)))}return d1(d)};function d1(e=[]){return{props:e}}const sZ=/[\w).+\-_$\]]/,lZ=(e,t)=>{Ed("COMPILER_FILTER",t)&&(e.type===5&&Nx(e.content,t),e.type===1&&e.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&Nx(n.exp,t)}))};function Nx(e,t){if(e.type===4)E5(e,t);else for(let n=0;n<e.children.length;n++){const r=e.children[n];typeof r=="object"&&(r.type===4?E5(r,t):r.type===8?Nx(e,t):r.type===5&&Nx(r.content,t))}}function E5(e,t){const n=e.content;let r=!1,i=!1,a=!1,s=!1,o=0,l=0,c=0,u=0,f,h,d,p,g=[];for(d=0;d<n.length;d++)if(h=f,f=n.charCodeAt(d),r)f===39&&h!==92&&(r=!1);else if(i)f===34&&h!==92&&(i=!1);else if(a)f===96&&h!==92&&(a=!1);else if(s)f===47&&h!==92&&(s=!1);else if(f===124&&n.charCodeAt(d+1)!==124&&n.charCodeAt(d-1)!==124&&!o&&!l&&!c)p===void 0?(u=d+1,p=n.slice(0,d).trim()):m();else{switch(f){case 34:i=!0;break;case 39:r=!0;break;case 96:a=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:o++;break;case 125:o--;break}if(f===47){let v=d-1,y;for(;v>=0&&(y=n.charAt(v),y===" ");v--);(!y||!sZ.test(y))&&(s=!0)}}p===void 0?p=n.slice(0,d).trim():u!==0&&m();function m(){g.push(n.slice(u,d).trim()),u=d+1}if(g.length){for(d=0;d<g.length;d++)p=uZ(p,g[d],t);e.content=p}}function uZ(e,t,n){n.helper(BM);const r=t.indexOf("(");if(r<0)return n.filters.add(t),`${ov(t,"filter")}(${e})`;{const i=t.slice(0,r),a=t.slice(r+1);return n.filters.add(i),`${ov(i,"filter")}(${e}${a!==")"?","+a:a}`}}const M5=new WeakSet,cZ=(e,t)=>{if(e.type===1){const n=Tl(e,"memo");return!n||M5.has(e)?void 0:(M5.add(e),()=>{const r=e.codegenNode||t.currentNode.codegenNode;r&&r.type===13&&(e.tagType!==1&&$M(r,t),e.codegenNode=Ma(t.helper(WM),[n.exp,Gg(void 0,r),"_cache",String(t.cached++)]))})}};function fZ(e){return[[oZ,BK,cZ,UK,lZ,eZ,KK,$K,aZ],{on:VN,bind:iZ,model:HN}]}function hZ(e,t={}){const n=t.onError||PM,r=t.mode==="module";t.prefixIdentifiers===!0?n(Yi(47)):r&&n(Yi(48));const i=!1;t.cacheHandlers&&n(Yi(49)),t.scopeId&&!r&&n(Yi(50));const a=Tr(e)?sK(e,t):e,[s,o]=fZ();return bK(a,Vr({},t,{prefixIdentifiers:i,nodeTransforms:[...s,...t.nodeTransforms||[]],directiveTransforms:Vr({},o,t.directiveTransforms||{})})),EK(a,Vr({},t,{prefixIdentifiers:i}))}const dZ=()=>({props:[]}),YN=Symbol(""),WN=Symbol(""),$N=Symbol(""),qN=Symbol(""),ET=Symbol(""),XN=Symbol(""),KN=Symbol(""),ZN=Symbol(""),JN=Symbol(""),QN=Symbol("");WX({[YN]:"vModelRadio",[WN]:"vModelCheckbox",[$N]:"vModelText",[qN]:"vModelSelect",[ET]:"vModelDynamic",[XN]:"withModifiers",[KN]:"withKeys",[ZN]:"vShow",[JN]:"Transition",[QN]:"TransitionGroup"});let zp;function pZ(e,t=!1){return zp||(zp=document.createElement("div")),t?(zp.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,zp.children[0].getAttribute("foo")):(zp.innerHTML=e,zp.textContent)}const gZ=As("style,iframe,script,noscript",!0),mZ={isVoidTag:EW,isNativeTag:e=>wW(e)||TW(e),isPreTag:e=>e==="pre",decodeEntities:pZ,isBuiltInComponent:e=>{if(ag(e,"Transition"))return JN;if(ag(e,"TransitionGroup"))return QN},getNamespace(e,t){let n=t?t.ns:0;if(t&&n===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(r=>r.type===6&&r.name==="encoding"&&r.value!=null&&(r.value.content==="text/html"||r.value.content==="application/xhtml+xml"))&&(n=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(n=0);else t&&n===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(n=0);if(n===0){if(e==="svg")return 1;if(e==="math")return 2}return n},getTextMode({tag:e,ns:t}){if(t===0){if(e==="textarea"||e==="title")return 1;if(gZ(e))return 2}return 0}},vZ=e=>{e.type===1&&e.props.forEach((t,n)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[n]={type:7,name:"bind",arg:Pr("style",!0,t.loc),exp:yZ(t.value.content,t.loc),modifiers:[],loc:t.loc})})},yZ=(e,t)=>{const n=F4(e);return Pr(JSON.stringify(n),!1,t,3)};function nh(e,t){return Yi(e,t)}const _Z=(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(nh(53,i)),t.children.length&&(n.onError(nh(54,i)),t.children.length=0),{props:[ua(Pr("innerHTML",!0,i),r||Pr("",!0))]}},xZ=(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(nh(55,i)),t.children.length&&(n.onError(nh(56,i)),t.children.length=0),{props:[ua(Pr("textContent",!0),r?Sl(r,n)>0?r:Ma(n.helperString(Kb),[r],i):Pr("",!0))]}},bZ=(e,t,n)=>{const r=HN(e,t,n);if(!r.props.length||t.tagType===1)return r;e.arg&&n.onError(nh(58,e.arg.loc));const{tag:i}=t,a=n.isCustomElement(i);if(i==="input"||i==="textarea"||i==="select"||a){let s=$N,o=!1;if(i==="input"||a){const l=Zb(t,"type");if(l){if(l.type===7)s=ET;else if(l.value)switch(l.value.content){case"radio":s=YN;break;case"checkbox":s=WN;break;case"file":o=!0,n.onError(nh(59,e.loc));break}}else eK(t)&&(s=ET)}else i==="select"&&(s=qN);o||(r.needRuntime=n.helper(s))}else n.onError(nh(57,e.loc));return r.props=r.props.filter(s=>!(s.key.type===4&&s.key.content==="modelValue")),r},wZ=As("passive,once,capture"),TZ=As("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),EZ=As("left,right"),tR=As("onkeyup,onkeydown,onkeypress",!0),MZ=(e,t,n,r)=>{const i=[],a=[],s=[];for(let o=0;o<t.length;o++){const l=t[o];l==="native"&&sv("COMPILER_V_ON_NATIVE",n)||wZ(l)?s.push(l):EZ(l)?_s(e)?tR(e.content)?i.push(l):a.push(l):(i.push(l),a.push(l)):TZ(l)?a.push(l):i.push(l)}return{keyModifiers:i,nonKeyModifiers:a,eventOptionModifiers:s}},S5=(e,t)=>_s(e)&&e.content.toLowerCase()==="onclick"?Pr(t,!0):e.type!==4?uu(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,SZ=(e,t,n)=>VN(e,t,n,r=>{const{modifiers:i}=e;if(!i.length)return r;let{key:a,value:s}=r.props[0];const{keyModifiers:o,nonKeyModifiers:l,eventOptionModifiers:c}=MZ(a,i,n,e.loc);if(l.includes("right")&&(a=S5(a,"onContextmenu")),l.includes("middle")&&(a=S5(a,"onMouseup")),l.length&&(s=Ma(n.helper(XN),[s,JSON.stringify(l)])),o.length&&(!_s(a)||tR(a.content))&&(s=Ma(n.helper(KN),[s,JSON.stringify(o)])),c.length){const u=c.map(np).join("");a=_s(a)?Pr(`${a.content}${u}`,!0):uu(["(",a,`) + "${u}"`])}return{props:[ua(a,s)]}}),CZ=(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(nh(61,i)),{props:[],needRuntime:n.helper(ZN)}},AZ=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&t.removeNode()},IZ=[vZ],OZ={cloak:dZ,html:_Z,text:xZ,model:bZ,on:SZ,show:CZ};function LZ(e,t={}){return hZ(e,Vr({},mZ,t,{nodeTransforms:[AZ,...IZ,...t.nodeTransforms||[]],directiveTransforms:Vr({},OZ,t.directiveTransforms||{}),transformHoist:null}))}const C5=Object.create(null);function PZ(e,t){if(!Tr(e))if(e.nodeType)e=e.innerHTML;else return Xo;const n=e,r=C5[n];if(r)return r;if(e[0]==="#"){const o=document.querySelector(e);e=o?o.innerHTML:""}const i=Vr({hoistStatic:!0,onError:void 0,onWarn:Xo},t);!i.isCustomElement&&typeof customElements<"u"&&(i.isCustomElement=o=>!!customElements.get(o));const{code:a}=LZ(e,i),s=new Function("Vue",a)(GX);return s._rc=!0,C5[n]=s}W6(PZ);function NZ(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}var Dd=1,kd=2,bg=3,RZ=4,MT=5,A5=6378137,DZ=6356752314e-3,I5=.0066943799901413165,Um=484813681109536e-20,vn=Math.PI/2,kZ=.16666666666666666,FZ=.04722222222222222,zZ=.022156084656084655,Rn=1e-10,ho=.017453292519943295,Yu=57.29577951308232,ci=Math.PI/4,uv=Math.PI*2,ya=3.14159265359,Is={};Is.greenwich=0;Is.lisbon=-9.131906111111;Is.paris=2.337229166667;Is.bogota=-74.080916666667;Is.madrid=-3.687938888889;Is.rome=12.452333333333;Is.bern=7.439583333333;Is.jakarta=106.807719444444;Is.ferro=-17.666666666667;Is.brussels=4.367975;Is.stockholm=18.058277777778;Is.athens=23.7163375;Is.oslo=10.722916666667;const BZ={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var O5=/[\s_\-\/\(\)]/g;function gh(e,t){if(e[t])return e[t];for(var n=Object.keys(e),r=t.toLowerCase().replace(O5,""),i=-1,a,s;++i<n.length;)if(a=n[i],s=a.toLowerCase().replace(O5,""),s===r)return e[a]}function ST(e){var t={},n=e.split("+").map(function(o){return o.trim()}).filter(function(o){return o}).reduce(function(o,l){var c=l.split("=");return c.push(!0),o[c[0].toLowerCase()]=c[1],o},{}),r,i,a,s={proj:"projName",datum:"datumCode",rf:function(o){t.rf=parseFloat(o)},lat_0:function(o){t.lat0=o*ho},lat_1:function(o){t.lat1=o*ho},lat_2:function(o){t.lat2=o*ho},lat_ts:function(o){t.lat_ts=o*ho},lon_0:function(o){t.long0=o*ho},lon_1:function(o){t.long1=o*ho},lon_2:function(o){t.long2=o*ho},alpha:function(o){t.alpha=parseFloat(o)*ho},gamma:function(o){t.rectified_grid_angle=parseFloat(o)},lonc:function(o){t.longc=o*ho},x_0:function(o){t.x0=parseFloat(o)},y_0:function(o){t.y0=parseFloat(o)},k_0:function(o){t.k0=parseFloat(o)},k:function(o){t.k0=parseFloat(o)},a:function(o){t.a=parseFloat(o)},b:function(o){t.b=parseFloat(o)},r_a:function(){t.R_A=!0},zone:function(o){t.zone=parseInt(o,10)},south:function(){t.utmSouth=!0},towgs84:function(o){t.datum_params=o.split(",").map(function(l){return parseFloat(l)})},to_meter:function(o){t.to_meter=parseFloat(o)},units:function(o){t.units=o;var l=gh(BZ,o);l&&(t.to_meter=l.to_meter)},from_greenwich:function(o){t.from_greenwich=o*ho},pm:function(o){var l=gh(Is,o);t.from_greenwich=(l||parseFloat(o))*ho},nadgrids:function(o){o==="@null"?t.datumCode="none":t.nadgrids=o},axis:function(o){var l="ewnsud";o.length===3&&l.indexOf(o.substr(0,1))!==-1&&l.indexOf(o.substr(1,1))!==-1&&l.indexOf(o.substr(2,1))!==-1&&(t.axis=o)},approx:function(){t.approx=!0}};for(r in n)i=n[r],r in s?(a=s[r],typeof a=="function"?a(i):t[a]=i):t[r]=i;return typeof t.datumCode=="string"&&t.datumCode!=="WGS84"&&(t.datumCode=t.datumCode.toLowerCase()),t}var cv=1,eR=2,nR=3,Rx=4,rR=5,ZM=-1,GZ=/\s/,jZ=/[A-Za-z]/,UZ=/[A-Za-z84_]/,e2=/[,\]]/,iR=/[\d\.E\-\+]/;function df(e){if(typeof e!="string")throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=cv}df.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==Rx)for(;GZ.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case cv:return this.neutral(e);case eR:return this.keyword(e);case Rx:return this.quoted(e);case rR:return this.afterquote(e);case nR:return this.number(e);case ZM:return}};df.prototype.afterquote=function(e){if(e==='"'){this.word+='"',this.state=Rx;return}if(e2.test(e)){this.word=this.word.trim(),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in afterquote yet, index '+this.place)};df.prototype.afterItem=function(e){if(e===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=cv;return}if(e==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=cv,this.currentObject=this.stack.pop(),this.currentObject||(this.state=ZM);return}};df.prototype.number=function(e){if(iR.test(e)){this.word+=e;return}if(e2.test(e)){this.word=parseFloat(this.word),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in number yet, index '+this.place)};df.prototype.quoted=function(e){if(e==='"'){this.state=rR;return}this.word+=e};df.prototype.keyword=function(e){if(UZ.test(e)){this.word+=e;return}if(e==="["){var t=[];t.push(this.word),this.level++,this.root===null?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,this.state=cv;return}if(e2.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in keyword yet, index '+this.place)};df.prototype.neutral=function(e){if(jZ.test(e)){this.word=e,this.state=eR;return}if(e==='"'){this.word="",this.state=Rx;return}if(iR.test(e)){this.word=e,this.state=nR;return}if(e2.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in neutral yet, index '+this.place)};df.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===ZM)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function VZ(e){var t=new df(e);return t.output()}function L5(e,t,n){Array.isArray(t)&&(n.unshift(t),t=null);var r=t?{}:e,i=n.reduce(function(a,s){return og(s,a),a},r);t&&(e[t]=i)}function og(e,t){if(!Array.isArray(e)){t[e]=!0;return}var n=e.shift();if(n==="PARAMETER"&&(n=e.shift()),e.length===1){if(Array.isArray(e[0])){t[n]={},og(e[0],t[n]);return}t[n]=e[0];return}if(!e.length){t[n]=!0;return}if(n==="TOWGS84"){t[n]=e;return}if(n==="AXIS"){n in t||(t[n]=[]),t[n].push(e);return}Array.isArray(n)||(t[n]={});var r;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":t[n]={name:e[0].toLowerCase(),convert:e[1]},e.length===3&&og(e[2],t[n]);return;case"SPHEROID":case"ELLIPSOID":t[n]={name:e[0],a:e[1],rf:e[2]},e.length===4&&og(e[3],t[n]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":e[0]=["name",e[0]],L5(t,n,e);return;default:for(r=-1;++r<e.length;)if(!Array.isArray(e[r]))return og(e,t[n]);return L5(t,n,e)}}var HZ=.017453292519943295;function YZ(e,t){var n=t[0],r=t[1];!(n in e)&&r in e&&(e[n]=e[r],t.length===3&&(e[n]=t[2](e[n])))}function ku(e){return e*HZ}function WZ(e){if(e.type==="GEOGCS"?e.projName="longlat":e.type==="LOCAL_CS"?(e.projName="identity",e.local=!0):typeof e.PROJECTION=="object"?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var t="",n=0,r=e.AXIS.length;n<r;++n){var i=[e.AXIS[n][0].toLowerCase(),e.AXIS[n][1].toLowerCase()];i[0].indexOf("north")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="north"?t+="n":i[0].indexOf("south")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="south"?t+="s":i[0].indexOf("east")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="east"?t+="e":(i[0].indexOf("west")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="west")&&(t+="w")}t.length===2&&(t+="u"),t.length===3&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.UNIT.convert&&(e.type==="GEOGCS"?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var a=e.GEOGCS;e.type==="GEOGCS"&&(a=e),a&&(a.DATUM?e.datumCode=a.DATUM.name.toLowerCase():e.datumCode=a.name.toLowerCase(),e.datumCode.slice(0,2)==="d_"&&(e.datumCode=e.datumCode.slice(2)),(e.datumCode==="new_zealand_geodetic_datum_1949"||e.datumCode==="new_zealand_1949")&&(e.datumCode="nzgd49"),(e.datumCode==="wgs_1984"||e.datumCode==="world_geodetic_system_1984")&&(e.PROJECTION==="Mercator_Auxiliary_Sphere"&&(e.sphere=!0),e.datumCode="wgs84"),e.datumCode.slice(-6)==="_ferro"&&(e.datumCode=e.datumCode.slice(0,-6)),e.datumCode.slice(-8)==="_jakarta"&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),a.DATUM&&a.DATUM.SPHEROID&&(e.ellps=a.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),e.ellps.toLowerCase().slice(0,13)==="international"&&(e.ellps="intl"),e.a=a.DATUM.SPHEROID.a,e.rf=parseFloat(a.DATUM.SPHEROID.rf,10)),a.DATUM&&a.DATUM.TOWGS84&&(e.datum_params=a.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),e.datumCode==="ch1903+"&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a);function s(c){var u=e.to_meter||1;return c*u}var o=function(c){return YZ(e,c)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",ku],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",ku],["x0","false_easting",s],["y0","false_northing",s],["long0","central_meridian",ku],["lat0","latitude_of_origin",ku],["lat0","standard_parallel_1",ku],["lat1","standard_parallel_1",ku],["lat2","standard_parallel_2",ku],["azimuth","Azimuth"],["alpha","azimuth",ku],["srsCode","name"]];l.forEach(o),!e.long0&&e.longc&&(e.projName==="Albers_Conic_Equal_Area"||e.projName==="Lambert_Azimuthal_Equal_Area")&&(e.long0=e.longc),!e.lat_ts&&e.lat1&&(e.projName==="Stereographic_South_Pole"||e.projName==="Polar Stereographic (variant B)")?(e.lat0=ku(e.lat1>0?90:-90),e.lat_ts=e.lat1):!e.lat_ts&&e.lat0&&e.projName==="Polar_Stereographic"&&(e.lat_ts=e.lat0,e.lat0=ku(e.lat0>0?90:-90))}function aR(e){var t=VZ(e),n=t.shift(),r=t.shift();t.unshift(["name",r]),t.unshift(["type",n]);var i={};return og(t,i),WZ(i),i}function Ho(e){var t=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?Ho[e]=ST(arguments[1]):Ho[e]=aR(arguments[1]):Ho[e]=n}else if(arguments.length===1){if(Array.isArray(e))return e.map(function(r){Array.isArray(r)?Ho.apply(t,r):Ho(r)});if(typeof e=="string"){if(e in Ho)return Ho[e]}else"EPSG"in e?Ho["EPSG:"+e.EPSG]=e:"ESRI"in e?Ho["ESRI:"+e.ESRI]=e:"IAU2000"in e?Ho["IAU2000:"+e.IAU2000]=e:console.log(e);return}}NZ(Ho);function $Z(e){return typeof e=="string"}function qZ(e){return e in Ho}var XZ=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function KZ(e){return XZ.some(function(t){return e.indexOf(t)>-1})}var ZZ=["3857","900913","3785","102113"];function JZ(e){var t=gh(e,"authority");if(t){var n=gh(t,"epsg");return n&&ZZ.indexOf(n)>-1}}function QZ(e){var t=gh(e,"extension");if(t)return gh(t,"proj4")}function tJ(e){return e[0]==="+"}function eJ(e){if($Z(e)){if(qZ(e))return Ho[e];if(KZ(e)){var t=aR(e);if(JZ(t))return Ho["EPSG:3857"];var n=QZ(t);return n?ST(n):t}if(tJ(e))return ST(e)}else return e}function P5(e,t){e=e||{};var n,r;if(!t)return e;for(r in t)n=t[r],n!==void 0&&(e[r]=n);return e}function ac(e,t,n){var r=e*t;return n/Math.sqrt(1-r*r)}function Iy(e){return e<0?-1:1}function zn(e){return Math.abs(e)<=ya?e:e-Iy(e)*uv}function cu(e,t,n){var r=e*n,i=.5*e;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(vn-t))/r}function fv(e,t){for(var n=.5*e,r,i,a=vn-2*Math.atan(t),s=0;s<=15;s++)if(r=e*Math.sin(a),i=vn-2*Math.atan(t*Math.pow((1-r)/(1+r),n))-a,a+=i,Math.abs(i)<=1e-10)return a;return-9999}function nJ(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=ac(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function rJ(e){var t=e.x,n=e.y;if(n*Yu>90&&n*Yu<-90&&t*Yu>180&&t*Yu<-180)return null;var r,i;if(Math.abs(Math.abs(n)-vn)<=Rn)return null;if(this.sphere)r=this.x0+this.a*this.k0*zn(t-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(ci+.5*n));else{var a=Math.sin(n),s=cu(this.e,n,a);r=this.x0+this.a*this.k0*zn(t-this.long0),i=this.y0-this.a*this.k0*Math.log(s)}return e.x=r,e.y=i,e}function iJ(e){var t=e.x-this.x0,n=e.y-this.y0,r,i;if(this.sphere)i=vn-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var a=Math.exp(-n/(this.a*this.k0));if(i=fv(this.e,a),i===-9999)return null}return r=zn(this.long0+t/(this.a*this.k0)),e.x=r,e.y=i,e}var aJ=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const oJ={init:nJ,forward:rJ,inverse:iJ,names:aJ};function sJ(){}function N5(e){return e}var lJ=["longlat","identity"];const uJ={init:sJ,forward:N5,inverse:N5,names:lJ};var cJ=[oJ,uJ],tx={},Dx=[];function oR(e,t){var n=Dx.length;return e.names?(Dx[n]=e,e.names.forEach(function(r){tx[r.toLowerCase()]=n}),this):(console.log(t),!0)}function fJ(e){if(!e)return!1;var t=e.toLowerCase();if(typeof tx[t]<"u"&&Dx[tx[t]])return Dx[tx[t]]}function hJ(){cJ.forEach(oR)}const dJ={start:hJ,add:oR,get:fJ};var vr={};vr.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};vr.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};vr.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};vr.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};vr.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};vr.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};vr.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};vr.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};vr.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};vr.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};vr.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};vr.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};vr.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};vr.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};vr.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};vr.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};vr.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};vr.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};vr.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};vr.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};vr.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};vr.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};vr.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};vr.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};vr.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};vr.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};vr.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};vr.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};vr.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};vr.hough={a:6378270,rf:297,ellipseName:"Hough"};vr.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};vr.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};vr.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};vr.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};vr.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};vr.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};vr.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};vr.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};vr.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};vr.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};vr.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};vr.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var pJ=vr.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};vr.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function gJ(e,t,n,r){var i=e*e,a=t*t,s=(i-a)/i,o=0;r?(e*=1-s*(kZ+s*(FZ+s*zZ)),i=e*e,s=0):o=Math.sqrt(s);var l=(i-a)/a;return{es:s,e:o,ep2:l}}function mJ(e,t,n,r,i){if(!e){var a=gh(vr,r);a||(a=pJ),e=a.a,t=a.b,n=a.rf}return n&&!t&&(t=(1-1/n)*e),(n===0||Math.abs(e-t)<Rn)&&(i=!0,t=e),{a:e,b:t,rf:n,sphere:i}}var oo={};oo.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};oo.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};oo.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};oo.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};oo.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};oo.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};oo.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};oo.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};oo.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};oo.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};oo.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};oo.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};oo.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};oo.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};oo.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};oo.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};oo.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function vJ(e,t,n,r,i,a,s){var o={};return e===void 0||e==="none"?o.datum_type=MT:o.datum_type=RZ,t&&(o.datum_params=t.map(parseFloat),(o.datum_params[0]!==0||o.datum_params[1]!==0||o.datum_params[2]!==0)&&(o.datum_type=Dd),o.datum_params.length>3&&(o.datum_params[3]!==0||o.datum_params[4]!==0||o.datum_params[5]!==0||o.datum_params[6]!==0)&&(o.datum_type=kd,o.datum_params[3]*=Um,o.datum_params[4]*=Um,o.datum_params[5]*=Um,o.datum_params[6]=o.datum_params[6]/1e6+1)),s&&(o.datum_type=bg,o.grids=s),o.a=n,o.b=r,o.es=i,o.ep2=a,o}var sR={};function yJ(e,t){var n=new DataView(t),r=bJ(n),i=wJ(n,r);i.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var a=TJ(n,i,r),s={header:i,subgrids:a};return sR[e]=s,s}function _J(e){if(e===void 0)return null;var t=e.split(",");return t.map(xJ)}function xJ(e){if(e.length===0)return null;var t=e[0]==="@";return t&&(e=e.slice(1)),e==="null"?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:sR[e]||null,isNull:!1}}function sg(e){return e/3600*Math.PI/180}function bJ(e){var t=e.getInt32(8,!1);return t===11?!1:(t=e.getInt32(8,!0),t!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function wJ(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:CT(e,56,56+8).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}function CT(e,t,n){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,n)))}function TJ(e,t,n){for(var r=176,i=[],a=0;a<t.nSubgrids;a++){var s=MJ(e,r,n),o=SJ(e,r,s,n),l=Math.round(1+(s.upperLongitude-s.lowerLongitude)/s.longitudeInterval),c=Math.round(1+(s.upperLatitude-s.lowerLatitude)/s.latitudeInterval);i.push({ll:[sg(s.lowerLongitude),sg(s.lowerLatitude)],del:[sg(s.longitudeInterval),sg(s.latitudeInterval)],lim:[l,c],count:s.gridNodeCount,cvs:EJ(o)})}return i}function EJ(e){return e.map(function(t){return[sg(t.longitudeShift),sg(t.latitudeShift)]})}function MJ(e,t,n){return{name:CT(e,t+8,t+16).trim(),parent:CT(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,n),upperLatitude:e.getFloat64(t+88,n),lowerLongitude:e.getFloat64(t+104,n),upperLongitude:e.getFloat64(t+120,n),latitudeInterval:e.getFloat64(t+136,n),longitudeInterval:e.getFloat64(t+152,n),gridNodeCount:e.getInt32(t+168,n)}}function SJ(e,t,n,r){for(var i=t+176,a=16,s=[],o=0;o<n.gridNodeCount;o++){var l={latitudeShift:e.getFloat32(i+o*a,r),longitudeShift:e.getFloat32(i+o*a+4,r),latitudeAccuracy:e.getFloat32(i+o*a+8,r),longitudeAccuracy:e.getFloat32(i+o*a+12,r)};s.push(l)}return s}function Qu(e,t){if(!(this instanceof Qu))return new Qu(e);t=t||function(c){if(c)throw c};var n=eJ(e);if(typeof n!="object"){t(e);return}var r=Qu.projections.get(n.projName);if(!r){t(e);return}if(n.datumCode&&n.datumCode!=="none"){var i=gh(oo,n.datumCode);i&&(n.datum_params=n.datum_params||(i.towgs84?i.towgs84.split(","):null),n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var a=mJ(n.a,n.b,n.rf,n.ellps,n.sphere),s=gJ(a.a,a.b,a.rf,n.R_A),o=_J(n.nadgrids),l=n.datum||vJ(n.datumCode,n.datum_params,a.a,a.b,s.es,s.ep2,o);P5(this,n),P5(this,r),this.a=a.a,this.b=a.b,this.rf=a.rf,this.sphere=a.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=l,this.init(),t(null,this)}Qu.projections=dJ;Qu.projections.start();function CJ(e,t){return e.datum_type!==t.datum_type||e.a!==t.a||Math.abs(e.es-t.es)>5e-11?!1:e.datum_type===Dd?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type===kd?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6]:!0}function lR(e,t,n){var r=e.x,i=e.y,a=e.z?e.z:0,s,o,l,c;if(i<-vn&&i>-1.001*vn)i=-vn;else if(i>vn&&i<1.001*vn)i=vn;else{if(i<-vn)return{x:-1/0,y:-1/0,z:e.z};if(i>vn)return{x:1/0,y:1/0,z:e.z}}return r>Math.PI&&(r-=2*Math.PI),o=Math.sin(i),c=Math.cos(i),l=o*o,s=n/Math.sqrt(1-t*l),{x:(s+a)*c*Math.cos(r),y:(s+a)*c*Math.sin(r),z:(s*(1-t)+a)*o}}function uR(e,t,n,r){var i=1e-12,a=i*i,s=30,o,l,c,u,f,h,d,p,g,m,v,y,_,b=e.x,w=e.y,T=e.z?e.z:0,M,S,E;if(o=Math.sqrt(b*b+w*w),l=Math.sqrt(b*b+w*w+T*T),o/n<i){if(M=0,l/n<i)return S=vn,E=-r,{x:e.x,y:e.y,z:e.z}}else M=Math.atan2(w,b);c=T/l,u=o/l,f=1/Math.sqrt(1-t*(2-t)*u*u),p=u*(1-t)*f,g=c*f,_=0;do _++,d=n/Math.sqrt(1-t*g*g),E=o*p+T*g-d*(1-t*g*g),h=t*d/(d+E),f=1/Math.sqrt(1-h*(2-h)*u*u),m=u*(1-h)*f,v=c*f,y=v*p-m*g,p=m,g=v;while(y*y>a&&_<s);return S=Math.atan(v/Math.abs(m)),{x:M,y:S,z:E}}function AJ(e,t,n){if(t===Dd)return{x:e.x+n[0],y:e.y+n[1],z:e.z+n[2]};if(t===kd){var r=n[0],i=n[1],a=n[2],s=n[3],o=n[4],l=n[5],c=n[6];return{x:c*(e.x-l*e.y+o*e.z)+r,y:c*(l*e.x+e.y-s*e.z)+i,z:c*(-o*e.x+s*e.y+e.z)+a}}}function IJ(e,t,n){if(t===Dd)return{x:e.x-n[0],y:e.y-n[1],z:e.z-n[2]};if(t===kd){var r=n[0],i=n[1],a=n[2],s=n[3],o=n[4],l=n[5],c=n[6],u=(e.x-r)/c,f=(e.y-i)/c,h=(e.z-a)/c;return{x:u+l*f-o*h,y:-l*u+f+s*h,z:o*u-s*f+h}}}function p1(e){return e===Dd||e===kd}function OJ(e,t,n){if(CJ(e,t)||e.datum_type===MT||t.datum_type===MT)return n;var r=e.a,i=e.es;if(e.datum_type===bg){var a=R5(e,!1,n);if(a!==0)return;r=A5,i=I5}var s=t.a,o=t.b,l=t.es;if(t.datum_type===bg&&(s=A5,o=DZ,l=I5),i===l&&r===s&&!p1(e.datum_type)&&!p1(t.datum_type))return n;if(n=lR(n,i,r),p1(e.datum_type)&&(n=AJ(n,e.datum_type,e.datum_params)),p1(t.datum_type)&&(n=IJ(n,t.datum_type,t.datum_params)),n=uR(n,l,s,o),t.datum_type===bg){var c=R5(t,!0,n);if(c!==0)return}return n}function R5(e,t,n){if(e.grids===null||e.grids.length===0)return console.log("Grid shift grids not found"),-1;for(var r={x:-n.x,y:n.y},i={x:Number.NaN,y:Number.NaN},a=[],s=0;s<e.grids.length;s++){var o=e.grids[s];if(a.push(o.name),o.isNull){i=r;break}if(o.mandatory,o.grid===null){if(o.mandatory)return console.log("Unable to find mandatory grid '"+o.name+"'"),-1;continue}var l=o.grid.subgrids[0],c=(Math.abs(l.del[1])+Math.abs(l.del[0]))/1e4,u=l.ll[0]-c,f=l.ll[1]-c,h=l.ll[0]+(l.lim[0]-1)*l.del[0]+c,d=l.ll[1]+(l.lim[1]-1)*l.del[1]+c;if(!(f>r.y||u>r.x||d<r.y||h<r.x)&&(i=LJ(r,t,l),!isNaN(i.x)))break}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*Yu+" "+r.y*Yu+" tried: '"+a+"'"),-1):(n.x=-i.x,n.y=i.y,0)}function LJ(e,t,n){var r={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return r;var i={x:e.x,y:e.y};i.x-=n.ll[0],i.y-=n.ll[1],i.x=zn(i.x-Math.PI)+Math.PI;var a=D5(i,n);if(t){if(isNaN(a.x))return r;a.x=i.x-a.x,a.y=i.y-a.y;var s=9,o=1e-12,l,c;do{if(c=D5(a,n),isNaN(c.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:i.x-(c.x+a.x),y:i.y-(c.y+a.y)},a.x+=l.x,a.y+=l.y}while(s--&&Math.abs(l.x)>o&&Math.abs(l.y)>o);if(s<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=zn(a.x+n.ll[0]),r.y=a.y+n.ll[1]}else isNaN(a.x)||(r.x=e.x+a.x,r.y=e.y+a.y);return r}function D5(e,t){var n={x:e.x/t.del[0],y:e.y/t.del[1]},r={x:Math.floor(n.x),y:Math.floor(n.y)},i={x:n.x-1*r.x,y:n.y-1*r.y},a={x:Number.NaN,y:Number.NaN},s;if(r.x<0||r.x>=t.lim[0]||r.y<0||r.y>=t.lim[1])return a;s=r.y*t.lim[0]+r.x;var o={x:t.cvs[s][0],y:t.cvs[s][1]};s++;var l={x:t.cvs[s][0],y:t.cvs[s][1]};s+=t.lim[0];var c={x:t.cvs[s][0],y:t.cvs[s][1]};s--;var u={x:t.cvs[s][0],y:t.cvs[s][1]},f=i.x*i.y,h=i.x*(1-i.y),d=(1-i.x)*(1-i.y),p=(1-i.x)*i.y;return a.x=d*o.x+h*l.x+p*u.x+f*c.x,a.y=d*o.y+h*l.y+p*u.y+f*c.y,a}function k5(e,t,n){var r=n.x,i=n.y,a=n.z||0,s,o,l,c={};for(l=0;l<3;l++)if(!(t&&l===2&&n.z===void 0))switch(l===0?(s=r,"ew".indexOf(e.axis[l])!==-1?o="x":o="y"):l===1?(s=i,"ns".indexOf(e.axis[l])!==-1?o="y":o="x"):(s=a,o="z"),e.axis[l]){case"e":c[o]=s;break;case"w":c[o]=-s;break;case"n":c[o]=s;break;case"s":c[o]=-s;break;case"u":n[o]!==void 0&&(c.z=s);break;case"d":n[o]!==void 0&&(c.z=-s);break;default:return null}return c}function cR(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}function PJ(e){F5(e.x),F5(e.y)}function F5(e){if(typeof Number.isFinite=="function"){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if(typeof e!="number"||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function NJ(e,t){return(e.datum.datum_type===Dd||e.datum.datum_type===kd||e.datum.datum_type===bg)&&t.datumCode!=="WGS84"||(t.datum.datum_type===Dd||t.datum.datum_type===kd||t.datum.datum_type===bg)&&e.datumCode!=="WGS84"}function kx(e,t,n,r){var i;Array.isArray(n)?n=cR(n):n={x:n.x,y:n.y,z:n.z,m:n.m};var a=n.z!==void 0;if(PJ(n),e.datum&&t.datum&&NJ(e,t)&&(i=new Qu("WGS84"),n=kx(e,i,n,r),e=i),r&&e.axis!=="enu"&&(n=k5(e,!1,n)),e.projName==="longlat")n={x:n.x*ho,y:n.y*ho,z:n.z||0};else if(e.to_meter&&(n={x:n.x*e.to_meter,y:n.y*e.to_meter,z:n.z||0}),n=e.inverse(n),!n)return;if(e.from_greenwich&&(n.x+=e.from_greenwich),n=OJ(e.datum,t.datum,n),!!n)return t.from_greenwich&&(n={x:n.x-t.from_greenwich,y:n.y,z:n.z||0}),t.projName==="longlat"?n={x:n.x*Yu,y:n.y*Yu,z:n.z||0}:(n=t.forward(n),t.to_meter&&(n={x:n.x/t.to_meter,y:n.y/t.to_meter,z:n.z||0})),r&&t.axis!=="enu"?k5(t,!0,n):(a||delete n.z,n)}var z5=Qu("WGS84");function v3(e,t,n,r){var i,a,s;return Array.isArray(n)?(i=kx(e,t,n,r)||{x:NaN,y:NaN},n.length>2?typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(n.splice(3)):[i.x,i.y,n[2]].concat(n.splice(3)):[i.x,i.y].concat(n.splice(2)):[i.x,i.y]):(a=kx(e,t,n,r),s=Object.keys(n),s.length===2||s.forEach(function(o){if(typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"){if(o==="x"||o==="y"||o==="z")return}else if(o==="x"||o==="y")return;a[o]=n[o]}),a)}function B5(e){return e instanceof Qu?e:e.oProj?e.oProj:Qu(e)}function Rl(e,t,n){e=B5(e);var r=!1,i;return typeof t>"u"?(t=e,e=z5,r=!0):(typeof t.x<"u"||Array.isArray(t))&&(n=t,t=e,e=z5,r=!0),t=B5(t),n?v3(e,t,n):(i={forward:function(a,s){return v3(e,t,a,s)},inverse:function(a,s){return v3(t,e,a,s)}},r&&(i.oProj=t),i)}var G5=6,fR="AJSAJS",hR="AFAFAF",lg=65,hs=73,_l=79,Mm=86,Sm=90;const RJ={forward:dR,inverse:DJ,toPoint:pR};function dR(e,t){return t=t||5,zJ(kJ({lat:e[1],lon:e[0]}),t)}function DJ(e){var t=JM(mR(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function pR(e){var t=JM(mR(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function y3(e){return e*(Math.PI/180)}function j5(e){return 180*(e/Math.PI)}function kJ(e){var t=e.lat,n=e.lon,r=6378137,i=.00669438,a=.9996,s,o,l,c,u,f,h,d=y3(t),p=y3(n),g,m;m=Math.floor((n+180)/6)+1,n===180&&(m=60),t>=56&&t<64&&n>=3&&n<12&&(m=32),t>=72&&t<84&&(n>=0&&n<9?m=31:n>=9&&n<21?m=33:n>=21&&n<33?m=35:n>=33&&n<42&&(m=37)),s=(m-1)*6-180+3,g=y3(s),o=i/(1-i),l=r/Math.sqrt(1-i*Math.sin(d)*Math.sin(d)),c=Math.tan(d)*Math.tan(d),u=o*Math.cos(d)*Math.cos(d),f=Math.cos(d)*(p-g),h=r*((1-i/4-3*i*i/64-5*i*i*i/256)*d-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*d)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*d)-35*i*i*i/3072*Math.sin(6*d));var v=a*l*(f+(1-c+u)*f*f*f/6+(5-18*c+c*c+72*u-58*o)*f*f*f*f*f/120)+5e5,y=a*(h+l*Math.tan(d)*(f*f/2+(5-c+9*u+4*u*u)*f*f*f*f/24+(61-58*c+c*c+600*u-330*o)*f*f*f*f*f*f/720));return t<0&&(y+=1e7),{northing:Math.round(y),easting:Math.round(v),zoneNumber:m,zoneLetter:FJ(t)}}function JM(e){var t=e.northing,n=e.easting,r=e.zoneLetter,i=e.zoneNumber;if(i<0||i>60)return null;var a=.9996,s=6378137,o=.00669438,l,c=(1-Math.sqrt(1-o))/(1+Math.sqrt(1-o)),u,f,h,d,p,g,m,v,y,_=n-5e5,b=t;r<"N"&&(b-=1e7),m=(i-1)*6-180+3,l=o/(1-o),g=b/a,v=g/(s*(1-o/4-3*o*o/64-5*o*o*o/256)),y=v+(3*c/2-27*c*c*c/32)*Math.sin(2*v)+(21*c*c/16-55*c*c*c*c/32)*Math.sin(4*v)+151*c*c*c/96*Math.sin(6*v),u=s/Math.sqrt(1-o*Math.sin(y)*Math.sin(y)),f=Math.tan(y)*Math.tan(y),h=l*Math.cos(y)*Math.cos(y),d=s*(1-o)/Math.pow(1-o*Math.sin(y)*Math.sin(y),1.5),p=_/(u*a);var w=y-u*Math.tan(y)/d*(p*p/2-(5+3*f+10*h-4*h*h-9*l)*p*p*p*p/24+(61+90*f+298*h+45*f*f-252*l-3*h*h)*p*p*p*p*p*p/720);w=j5(w);var T=(p-(1+2*f+h)*p*p*p/6+(5-2*h+28*f-3*h*h+8*l+24*f*f)*p*p*p*p*p/120)/Math.cos(y);T=m+j5(T);var M;if(e.accuracy){var S=JM({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});M={top:S.lat,right:S.lon,bottom:w,left:T}}else M={lat:w,lon:T};return M}function FJ(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function zJ(e,t){var n="00000"+e.easting,r="00000"+e.northing;return e.zoneNumber+e.zoneLetter+BJ(e.easting,e.northing,e.zoneNumber)+n.substr(n.length-5,t)+r.substr(r.length-5,t)}function BJ(e,t,n){var r=gR(n),i=Math.floor(e/1e5),a=Math.floor(t/1e5)%20;return GJ(i,a,r)}function gR(e){var t=e%G5;return t===0&&(t=G5),t}function GJ(e,t,n){var r=n-1,i=fR.charCodeAt(r),a=hR.charCodeAt(r),s=i+e-1,o=a+t,l=!1;s>Sm&&(s=s-Sm+lg-1,l=!0),(s===hs||i<hs&&s>hs||(s>hs||i<hs)&&l)&&s++,(s===_l||i<_l&&s>_l||(s>_l||i<_l)&&l)&&(s++,s===hs&&s++),s>Sm&&(s=s-Sm+lg-1),o>Mm?(o=o-Mm+lg-1,l=!0):l=!1,(o===hs||a<hs&&o>hs||(o>hs||a<hs)&&l)&&o++,(o===_l||a<_l&&o>_l||(o>_l||a<_l)&&l)&&(o++,o===hs&&o++),o>Mm&&(o=o-Mm+lg-1);var c=String.fromCharCode(s)+String.fromCharCode(o);return c}function mR(e){if(e&&e.length===0)throw"MGRSPoint coverting from nothing";for(var t=e.length,n=null,r="",i,a=0;!/[A-Z]/.test(i=e.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+e;r+=i,a++}var s=parseInt(r,10);if(a===0||a+3>t)throw"MGRSPoint bad conversion from: "+e;var o=e.charAt(a++);if(o<="A"||o==="B"||o==="Y"||o>="Z"||o==="I"||o==="O")throw"MGRSPoint zone letter "+o+" not handled: "+e;n=e.substring(a,a+=2);for(var l=gR(s),c=jJ(n.charAt(0),l),u=UJ(n.charAt(1),l);u<VJ(o);)u+=2e6;var f=t-a;if(f%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+e;var h=f/2,d=0,p=0,g,m,v,y,_;return h>0&&(g=1e5/Math.pow(10,h),m=e.substring(a,a+h),d=parseFloat(m)*g,v=e.substring(a+h),p=parseFloat(v)*g),y=d+c,_=p+u,{easting:y,northing:_,zoneLetter:o,zoneNumber:s,accuracy:g}}function jJ(e,t){for(var n=fR.charCodeAt(t-1),r=1e5,i=!1;n!==e.charCodeAt(0);){if(n++,n===hs&&n++,n===_l&&n++,n>Sm){if(i)throw"Bad character: "+e;n=lg,i=!0}r+=1e5}return r}function UJ(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var n=hR.charCodeAt(t-1),r=0,i=!1;n!==e.charCodeAt(0);){if(n++,n===hs&&n++,n===_l&&n++,n>Mm){if(i)throw"Bad character: "+e;n=lg,i=!0}r+=1e5}return r}function VJ(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function Vg(e,t,n){if(!(this instanceof Vg))return new Vg(e,t,n);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if(typeof e=="object")this.x=e.x,this.y=e.y,this.z=e.z||0;else if(typeof e=="string"&&typeof t>"u"){var r=e.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=e,this.y=t,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Vg.fromMGRS=function(e){return new Vg(pR(e))};Vg.prototype.toMGRS=function(e){return dR([this.x,this.y],e)};var HJ=1,YJ=.25,U5=.046875,V5=.01953125,H5=.01068115234375,WJ=.75,$J=.46875,qJ=.013020833333333334,XJ=.007120768229166667,KJ=.3645833333333333,ZJ=.005696614583333333,JJ=.3076171875;function vR(e){var t=[];t[0]=HJ-e*(YJ+e*(U5+e*(V5+e*H5))),t[1]=e*(WJ-e*(U5+e*(V5+e*H5)));var n=e*e;return t[2]=n*($J-e*(qJ+e*XJ)),n*=e,t[3]=n*(KJ-e*ZJ),t[4]=n*e*JJ,t}function n2(e,t,n,r){return n*=t,t*=t,r[0]*e-n*(r[1]+t*(r[2]+t*(r[3]+t*r[4])))}var QJ=20;function yR(e,t,n){for(var r=1/(1-t),i=e,a=QJ;a;--a){var s=Math.sin(i),o=1-t*s*s;if(o=(n2(i,s,Math.cos(i),n)-e)*(o*Math.sqrt(o))*r,i-=o,Math.abs(o)<Rn)return i}return i}function tQ(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=vR(this.es),this.ml0=n2(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function eQ(e){var t=e.x,n=e.y,r=zn(t-this.long0),i,a,s,o=Math.sin(n),l=Math.cos(n);if(this.es){var u=l*r,f=Math.pow(u,2),h=this.ep2*Math.pow(l,2),d=Math.pow(h,2),p=Math.abs(l)>Rn?Math.tan(n):0,g=Math.pow(p,2),m=Math.pow(g,2);i=1-this.es*Math.pow(o,2),u=u/Math.sqrt(i);var v=n2(n,o,l,this.en);a=this.a*(this.k0*u*(1+f/6*(1-g+h+f/20*(5-18*g+m+14*h-58*g*h+f/42*(61+179*m-m*g-479*g)))))+this.x0,s=this.a*(this.k0*(v-this.ml0+o*r*u/2*(1+f/12*(5-g+9*h+4*d+f/30*(61+m-58*g+270*h-330*g*h+f/56*(1385+543*m-m*g-3111*g))))))+this.y0}else{var c=l*Math.sin(r);if(Math.abs(Math.abs(c)-1)<Rn)return 93;if(a=.5*this.a*this.k0*Math.log((1+c)/(1-c))+this.x0,s=l*Math.cos(r)/Math.sqrt(1-Math.pow(c,2)),c=Math.abs(s),c>=1){if(c-1>Rn)return 93;s=0}else s=Math.acos(s);n<0&&(s=-s),s=this.a*this.k0*(s-this.lat0)+this.y0}return e.x=a,e.y=s,e}function nQ(e){var t,n,r,i,a=(e.x-this.x0)*(1/this.a),s=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+s/this.k0,n=yR(t,this.es,this.en),Math.abs(n)<vn){var f=Math.sin(n),h=Math.cos(n),d=Math.abs(h)>Rn?Math.tan(n):0,p=this.ep2*Math.pow(h,2),g=Math.pow(p,2),m=Math.pow(d,2),v=Math.pow(m,2);t=1-this.es*Math.pow(f,2);var y=a*Math.sqrt(t)/this.k0,_=Math.pow(y,2);t=t*d,r=n-t*_/(1-this.es)*.5*(1-_/12*(5+3*m-9*p*m+p-4*g-_/30*(61+90*m-252*p*m+45*v+46*p-_/56*(1385+3633*m+4095*v+1574*v*m)))),i=zn(this.long0+y*(1-_/6*(1+2*m+p-_/20*(5+28*m+24*v+8*p*m+6*p-_/42*(61+662*m+1320*v+720*v*m))))/h)}else r=vn*Iy(s),i=0;else{var o=Math.exp(a/this.k0),l=.5*(o-1/o),c=this.lat0+s/this.k0,u=Math.cos(c);t=Math.sqrt((1-Math.pow(u,2))/(1+Math.pow(l,2))),r=Math.asin(t),s<0&&(r=-r),l===0&&u===0?i=0:i=zn(Math.atan2(l,u)+this.long0)}return e.x=i,e.y=r,e}var rQ=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const ex={init:tQ,forward:eQ,inverse:nQ,names:rQ};function _R(e){var t=Math.exp(e);return t=(t-1/t)/2,t}function su(e,t){e=Math.abs(e),t=Math.abs(t);var n=Math.max(e,t),r=Math.min(e,t)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}function iQ(e){var t=1+e,n=t-1;return n===0?e:e*Math.log(t)/n}function aQ(e){var t=Math.abs(e);return t=iQ(t*(1+t/(su(1,t)+1))),e<0?-t:t}function QM(e,t){for(var n=2*Math.cos(2*t),r=e.length-1,i=e[r],a=0,s;--r>=0;)s=-a+n*i+e[r],a=i,i=s;return t+s*Math.sin(2*t)}function oQ(e,t){for(var n=2*Math.cos(t),r=e.length-1,i=e[r],a=0,s;--r>=0;)s=-a+n*i+e[r],a=i,i=s;return Math.sin(t)*s}function sQ(e){var t=Math.exp(e);return t=(t+1/t)/2,t}function xR(e,t,n){for(var r=Math.sin(t),i=Math.cos(t),a=_R(n),s=sQ(n),o=2*i*s,l=-2*r*a,c=e.length-1,u=e[c],f=0,h=0,d=0,p,g;--c>=0;)p=h,g=f,h=u,f=d,u=-p+o*h-l*f+e[c],d=-g+l*h+o*f;return o=r*s,l=i*a,[o*u-l*d,o*d+l*u]}function lQ(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(ex.init.apply(this),this.forward=ex.forward,this.inverse=ex.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),n=t;this.cgb[0]=t*(2+t*(-2/3+t*(-2+t*(116/45+t*(26/45+t*(-2854/675)))))),this.cbg[0]=t*(-2+t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))),n=n*t,this.cgb[1]=n*(7/3+t*(-8/5+t*(-227/45+t*(2704/315+t*(2323/945))))),this.cbg[1]=n*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),n=n*t,this.cgb[2]=n*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=n*(-26/15+t*(34/21+t*(8/5+t*(-12686/2835)))),n=n*t,this.cgb[3]=n*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=n*(1237/630+t*(-12/5+t*(-24832/14175))),n=n*t,this.cgb[4]=n*(4174/315+t*(-144838/6237)),this.cbg[4]=n*(-734/315+t*(109598/31185)),n=n*t,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=t*(-.5+t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=n*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=n*(13/48+t*(-3/5+t*(557/1440+t*(281/630+t*(-1983433/1935360))))),n=n*t,this.utg[2]=n*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=n*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),n=n*t,this.utg[3]=n*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=n*(49561/161280+t*(-179/168+t*(6601661/7257600))),n=n*t,this.utg[4]=n*(-4583/161280+t*(108847/3991680)),this.gtu[4]=n*(34729/80640+t*(-3418889/1995840)),n=n*t,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*(212378941/319334400);var r=QM(this.cbg,this.lat0);this.Zb=-this.Qn*(r+oQ(this.gtu,2*r))}function uQ(e){var t=zn(e.x-this.long0),n=e.y;n=QM(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),a=Math.sin(t),s=Math.cos(t);n=Math.atan2(r,s*i),t=Math.atan2(a*i,su(r,i*s)),t=aQ(Math.tan(t));var o=xR(this.gtu,2*n,2*t);n=n+o[0],t=t+o[1];var l,c;return Math.abs(t)<=2.623395162778?(l=this.a*(this.Qn*t)+this.x0,c=this.a*(this.Qn*n+this.Zb)+this.y0):(l=1/0,c=1/0),e.x=l,e.y=c,e}function cQ(e){var t=(e.x-this.x0)*(1/this.a),n=(e.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,t=t/this.Qn;var r,i;if(Math.abs(t)<=2.623395162778){var a=xR(this.utg,2*n,2*t);n=n+a[0],t=t+a[1],t=Math.atan(_R(t));var s=Math.sin(n),o=Math.cos(n),l=Math.sin(t),c=Math.cos(t);n=Math.atan2(s*c,su(l,c*o)),t=Math.atan2(l,c*o),r=zn(t+this.long0),i=QM(this.cgb,n)}else r=1/0,i=1/0;return e.x=r,e.y=i,e}var fQ=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"];const nx={init:lQ,forward:uQ,inverse:cQ,names:fQ};function hQ(e,t){if(e===void 0){if(e=Math.floor((zn(t)+Math.PI)*30/Math.PI)+1,e<0)return 0;if(e>60)return 60}return e}var dQ="etmerc";function pQ(){var e=hQ(this.zone,this.long0);if(e===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*ho,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,nx.init.apply(this),this.forward=nx.forward,this.inverse=nx.inverse}var gQ=["Universal Transverse Mercator System","utm"];const mQ={init:pQ,names:gQ,dependsOn:dQ};function tS(e,t){return Math.pow((1-e)/(1+e),t)}var vQ=20;function yQ(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+ci)/(Math.pow(Math.tan(.5*this.lat0+ci),this.C)*tS(this.e*e,this.ratexp))}function _Q(e){var t=e.x,n=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+ci),this.C)*tS(this.e*Math.sin(n),this.ratexp))-vn,e.x=this.C*t,e}function xQ(e){for(var t=1e-14,n=e.x/this.C,r=e.y,i=Math.pow(Math.tan(.5*r+ci)/this.K,1/this.C),a=vQ;a>0&&(r=2*Math.atan(i*tS(this.e*Math.sin(e.y),-.5*this.e))-vn,!(Math.abs(r-e.y)<t));--a)e.y=r;return a?(e.x=n,e.y=r,e):null}var bQ=["gauss"];const eS={init:yQ,forward:_Q,inverse:xQ,names:bQ};function wQ(){eS.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function TQ(e){var t,n,r,i;return e.x=zn(e.x-this.long0),eS.forward.apply(this,[e]),t=Math.sin(e.y),n=Math.cos(e.y),r=Math.cos(e.x),i=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*n*r),e.x=i*n*Math.sin(e.x),e.y=i*(this.cosc0*t-this.sinc0*n*r),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function EQ(e){var t,n,r,i,a;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,a=Math.sqrt(e.x*e.x+e.y*e.y)){var s=2*Math.atan2(a,this.R2);t=Math.sin(s),n=Math.cos(s),i=Math.asin(n*this.sinc0+e.y*t*this.cosc0/a),r=Math.atan2(e.x*t,a*this.cosc0*n-e.y*this.sinc0*t)}else i=this.phic0,r=0;return e.x=r,e.y=i,eS.inverse.apply(this,[e]),e.x=zn(e.x+this.long0),e}var MQ=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const SQ={init:wQ,forward:TQ,inverse:EQ,names:MQ};function CQ(e,t,n){return t*=n,Math.tan(.5*(vn+e))*Math.pow((1-t)/(1+t),.5*n)}function AQ(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Rn&&(this.k0=.5*(1+Iy(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Rn&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Rn&&(this.k0=.5*this.cons*ac(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/cu(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=ac(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-vn,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function IQ(e){var t=e.x,n=e.y,r=Math.sin(n),i=Math.cos(n),a,s,o,l,c,u,f=zn(t-this.long0);return Math.abs(Math.abs(t-this.long0)-Math.PI)<=Rn&&Math.abs(n+this.lat0)<=Rn?(e.x=NaN,e.y=NaN,e):this.sphere?(a=2*this.k0/(1+this.sinlat0*r+this.coslat0*i*Math.cos(f)),e.x=this.a*a*i*Math.sin(f)+this.x0,e.y=this.a*a*(this.coslat0*r-this.sinlat0*i*Math.cos(f))+this.y0,e):(s=2*Math.atan(this.ssfn_(n,r,this.e))-vn,l=Math.cos(s),o=Math.sin(s),Math.abs(this.coslat0)<=Rn?(c=cu(this.e,n*this.con,this.con*r),u=2*this.a*this.k0*c/this.cons,e.x=this.x0+u*Math.sin(t-this.long0),e.y=this.y0-this.con*u*Math.cos(t-this.long0),e):(Math.abs(this.sinlat0)<Rn?(a=2*this.a*this.k0/(1+l*Math.cos(f)),e.y=a*o):(a=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*o+this.cosX0*l*Math.cos(f))),e.y=a*(this.cosX0*o-this.sinX0*l*Math.cos(f))+this.y0),e.x=a*l*Math.sin(f)+this.x0,e))}function OQ(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,a,s=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var o=2*Math.atan(s/(2*this.a*this.k0));return t=this.long0,n=this.lat0,s<=Rn?(e.x=t,e.y=n,e):(n=Math.asin(Math.cos(o)*this.sinlat0+e.y*Math.sin(o)*this.coslat0/s),Math.abs(this.coslat0)<Rn?this.lat0>0?t=zn(this.long0+Math.atan2(e.x,-1*e.y)):t=zn(this.long0+Math.atan2(e.x,e.y)):t=zn(this.long0+Math.atan2(e.x*Math.sin(o),s*this.coslat0*Math.cos(o)-e.y*this.sinlat0*Math.sin(o))),e.x=t,e.y=n,e)}else if(Math.abs(this.coslat0)<=Rn){if(s<=Rn)return n=this.lat0,t=this.long0,e.x=t,e.y=n,e;e.x*=this.con,e.y*=this.con,r=s*this.cons/(2*this.a*this.k0),n=this.con*fv(this.e,r),t=this.con*zn(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else i=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,s<=Rn?a=this.X0:(a=Math.asin(Math.cos(i)*this.sinX0+e.y*Math.sin(i)*this.cosX0/s),t=zn(this.long0+Math.atan2(e.x*Math.sin(i),s*this.cosX0*Math.cos(i)-e.y*this.sinX0*Math.sin(i)))),n=-1*fv(this.e,Math.tan(.5*(vn+a)));return e.x=t,e.y=n,e}var LQ=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"];const PQ={init:AQ,forward:IQ,inverse:OQ,names:LQ,ssfn_:CQ};function NQ(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),n=this.a,r=this.rf,i=1/r,a=2*i-Math.pow(i,2),s=this.e=Math.sqrt(a);this.R=this.k0*n*Math.sqrt(1-a)/(1-a*Math.pow(t,2)),this.alpha=Math.sqrt(1+a/(1-a)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var o=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+e/2)),c=Math.log((1+s*t)/(1-s*t));this.K=o-this.alpha*l+this.alpha*s/2*c}function RQ(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),r=-this.alpha*(t+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),a=this.alpha*(e.x-this.lambda0),s=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(a))),o=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(a));return e.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,e.x=this.R*s+this.x0,e}function DQ(e){for(var t=e.x-this.x0,n=e.y-this.y0,r=t/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),a=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),s=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),o=this.lambda0+s/this.alpha,l=0,c=a,u=-1e3,f=0;Math.abs(c-u)>1e-7;){if(++f>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),u=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=o,e.y=c,e}var kQ=["somerc"];const FQ={init:NQ,forward:RQ,inverse:DQ,names:kQ};var Jp=1e-7;function zQ(e){var t=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n=typeof e.PROJECTION=="object"?Object.keys(e.PROJECTION)[0]:e.PROJECTION;return"no_uoff"in e||"no_off"in e||t.indexOf(n)!==-1}function BQ(){var e,t,n,r,i,a,s,o,l,c,u=0,f,h=0,d=0,p=0,g=0,m=0,v=0;this.no_off=zQ(this),this.no_rot="no_rot"in this;var y=!1;"alpha"in this&&(y=!0);var _=!1;if("rectified_grid_angle"in this&&(_=!0),y&&(v=this.alpha),_&&(u=this.rectified_grid_angle*ho),y||_)h=this.longc;else if(d=this.long1,g=this.lat1,p=this.long2,m=this.lat2,Math.abs(g-m)<=Jp||(e=Math.abs(g))<=Jp||Math.abs(e-vn)<=Jp||Math.abs(Math.abs(this.lat0)-vn)<=Jp||Math.abs(Math.abs(m)-vn)<=Jp)throw new Error;var b=1-this.es;t=Math.sqrt(b),Math.abs(this.lat0)>Rn?(o=Math.sin(this.lat0),n=Math.cos(this.lat0),e=1-this.es*o*o,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/b),this.A=this.B*this.k0*t/e,r=this.B*t/(n*Math.sqrt(e)),i=r*r-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=r,this.E*=Math.pow(cu(this.e,this.lat0,o),this.B)):(this.B=1/t,this.A=this.k0,this.E=r=i=1),y||_?(y?(f=Math.asin(Math.sin(v)/r),_||(u=v)):(f=u,v=Math.asin(r*Math.sin(f))),this.lam0=h-Math.asin(.5*(i-1/i)*Math.tan(f))/this.B):(a=Math.pow(cu(this.e,g,Math.sin(g)),this.B),s=Math.pow(cu(this.e,m,Math.sin(m)),this.B),i=this.E/a,l=(s-a)/(s+a),c=this.E*this.E,c=(c-s*a)/(c+s*a),e=d-p,e<-Math.pi?p-=uv:e>Math.pi&&(p+=uv),this.lam0=zn(.5*(d+p)-Math.atan(c*Math.tan(.5*this.B*(d-p))/l)/this.B),f=Math.atan(2*Math.sin(this.B*zn(d-this.lam0))/(i-1/i)),u=v=Math.asin(r*Math.sin(f))),this.singam=Math.sin(f),this.cosgam=Math.cos(f),this.sinrot=Math.sin(u),this.cosrot=Math.cos(u),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(v))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*f,this.v_pole_n=this.ArB*Math.log(Math.tan(ci-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(ci+i))}function GQ(e){var t={},n,r,i,a,s,o,l,c;if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-vn)>Rn){if(s=this.E/Math.pow(cu(this.e,e.y,Math.sin(e.y)),this.B),o=1/s,n=.5*(s-o),r=.5*(s+o),a=Math.sin(this.B*e.x),i=(n*this.singam-a*this.cosgam)/r,Math.abs(Math.abs(i)-1)<Rn)throw new Error;c=.5*this.ArB*Math.log((1-i)/(1+i)),o=Math.cos(this.B*e.x),Math.abs(o)<Jp?l=this.A*e.x:l=this.ArB*Math.atan2(n*this.cosgam+a*this.singam,o)}else c=e.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*e.y;return this.no_rot?(t.x=l,t.y=c):(l-=this.u_0,t.x=c*this.cosrot+l*this.sinrot,t.y=l*this.cosrot-c*this.sinrot),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function jQ(e){var t,n,r,i,a,s,o,l={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(n=e.y,t=e.x):(n=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),r=Math.exp(-this.BrA*n),i=.5*(r-1/r),a=.5*(r+1/r),s=Math.sin(this.BrA*t),o=(s*this.cosgam+i*this.singam)/a,Math.abs(Math.abs(o)-1)<Rn)l.x=0,l.y=o<0?-vn:vn;else{if(l.y=this.E/Math.sqrt((1+o)/(1-o)),l.y=fv(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(i*this.cosgam-s*this.singam,Math.cos(this.BrA*t))}return l.x+=this.lam0,l}var UQ=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const VQ={init:BQ,forward:GQ,inverse:jQ,names:UQ};function HQ(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<Rn)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),n=Math.cos(this.lat1),r=ac(this.e,t,n),i=cu(this.e,this.lat1,t),a=Math.sin(this.lat2),s=Math.cos(this.lat2),o=ac(this.e,a,s),l=cu(this.e,this.lat2,a),c=cu(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>Rn?this.ns=Math.log(r/o)/Math.log(i/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function YQ(e){var t=e.x,n=e.y;Math.abs(2*Math.abs(n)-Math.PI)<=Rn&&(n=Iy(n)*(vn-2*Rn));var r=Math.abs(Math.abs(n)-vn),i,a;if(r>Rn)i=cu(this.e,n,Math.sin(n)),a=this.a*this.f0*Math.pow(i,this.ns);else{if(r=n*this.ns,r<=0)return null;a=0}var s=this.ns*zn(t-this.long0);return e.x=this.k0*(a*Math.sin(s))+this.x0,e.y=this.k0*(this.rh-a*Math.cos(s))+this.y0,e}function WQ(e){var t,n,r,i,a,s=(e.x-this.x0)/this.k0,o=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(s*s+o*o),n=1):(t=-Math.sqrt(s*s+o*o),n=-1);var l=0;if(t!==0&&(l=Math.atan2(n*s,n*o)),t!==0||this.ns>0){if(n=1/this.ns,r=Math.pow(t/(this.a*this.f0),n),i=fv(this.e,r),i===-9999)return null}else i=-vn;return a=zn(l/this.ns+this.long0),e.x=a,e.y=i,e}var $Q=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const qQ={init:HQ,forward:YQ,inverse:WQ,names:$Q};function XQ(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function KQ(e){var t,n,r,i,a,s,o,l=e.x,c=e.y,u=zn(l-this.long0);return t=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/t)-this.s45),r=-u*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),a=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),s=this.n*a,o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),e.y=o*Math.cos(s)/1,e.x=o*Math.sin(s)/1,this.czech||(e.y*=-1,e.x*=-1),e}function ZQ(e){var t,n,r,i,a,s,o,l,c=e.x;e.x=e.y,e.y=c,this.czech||(e.y*=-1,e.x*=-1),s=Math.sqrt(e.x*e.x+e.y*e.y),a=Math.atan2(e.y,e.x),i=a/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(t)),e.x=this.long0-n/this.alfa,o=t,l=0;var u=0;do e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(o))/(1-this.e*Math.sin(o)),this.e/2))-this.s45),Math.abs(o-e.y)<1e-10&&(l=1),o=e.y,u+=1;while(l===0&&u<15);return u>=15?null:e}var JQ=["Krovak","krovak"];const QQ={init:XQ,forward:KQ,inverse:ZQ,names:JQ};function Wo(e,t,n,r,i){return e*i-t*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}function Oy(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function Ly(e){return .375*e*(1+.25*e*(1+.46875*e))}function Py(e){return .05859375*e*e*(1+.75*e)}function Ny(e){return e*e*e*(35/3072)}function Hg(e,t,n){var r=t*n;return e/Math.sqrt(1-r*r)}function O0(e){return Math.abs(e)<vn?e:e-Iy(e)*Math.PI}function Fx(e,t,n,r,i){var a,s;a=e/t;for(var o=0;o<15;o++)if(s=(e-(t*a-n*Math.sin(2*a)+r*Math.sin(4*a)-i*Math.sin(6*a)))/(t-2*n*Math.cos(2*a)+4*r*Math.cos(4*a)-6*i*Math.cos(6*a)),a+=s,Math.abs(s)<=1e-10)return a;return NaN}function ttt(){this.sphere||(this.e0=Oy(this.es),this.e1=Ly(this.es),this.e2=Py(this.es),this.e3=Ny(this.es),this.ml0=this.a*Wo(this.e0,this.e1,this.e2,this.e3,this.lat0))}function ett(e){var t,n,r=e.x,i=e.y;if(r=zn(r-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var a=Math.sin(i),s=Math.cos(i),o=Hg(this.a,this.e,a),l=Math.tan(i)*Math.tan(i),c=r*Math.cos(i),u=c*c,f=this.es*s*s/(1-this.es),h=this.a*Wo(this.e0,this.e1,this.e2,this.e3,i);t=o*c*(1-u*l*(1/6-(8-l+8*f)*u/120)),n=h-this.ml0+o*a/s*u*(.5+(5-l+6*f)*u/24)}return e.x=t+this.x0,e.y=n+this.y0,e}function ntt(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,n=e.y/this.a,r,i;if(this.sphere){var a=n+this.lat0;r=Math.asin(Math.sin(a)*Math.cos(t)),i=Math.atan2(Math.tan(t),Math.cos(a))}else{var s=this.ml0/this.a+n,o=Fx(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(o)-vn)<=Rn)return e.x=this.long0,e.y=vn,n<0&&(e.y*=-1),e;var l=Hg(this.a,this.e,Math.sin(o)),c=l*l*l/this.a/this.a*(1-this.es),u=Math.pow(Math.tan(o),2),f=t*this.a/l,h=f*f;r=o-l*Math.tan(o)/c*f*f*(.5-(1+3*u)*f*f/24),i=f*(1-h*(u/3+(1+3*u)*u*h/15))/Math.cos(o)}return e.x=zn(i+this.long0),e.y=O0(r),e}var rtt=["Cassini","Cassini_Soldner","cass"];const itt={init:ttt,forward:ett,inverse:ntt,names:rtt};function rh(e,t){var n;return e>1e-7?(n=e*t,(1-e*e)*(t/(1-n*n)-.5/e*Math.log((1-n)/(1+n)))):2*t}var att=1,ott=2,stt=3,ltt=4;function utt(){var e=Math.abs(this.lat0);if(Math.abs(e-vn)<Rn?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<Rn?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var t;switch(this.qp=rh(this.e,1),this.mmf=.5/(1-this.es),this.apa=ytt(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=rh(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function ctt(e){var t,n,r,i,a,s,o,l,c,u,f=e.x,h=e.y;if(f=zn(f-this.long0),this.sphere){if(a=Math.sin(h),u=Math.cos(h),r=Math.cos(f),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+u*r:1+this.sinph0*a+this.cosph0*u*r,n<=Rn)return null;n=Math.sqrt(2/n),t=n*u*Math.sin(f),n*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*u*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(h+this.lat0)<Rn)return null;n=ci-h*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),t=n*Math.sin(f),n*=r}}else{switch(o=0,l=0,c=0,r=Math.cos(f),i=Math.sin(f),a=Math.sin(h),s=rh(this.e,a),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(o=s/this.qp,l=Math.sqrt(1-o*o)),this.mode){case this.OBLIQ:c=1+this.sinb1*o+this.cosb1*l*r;break;case this.EQUIT:c=1+l*r;break;case this.N_POLE:c=vn+h,s=this.qp-s;break;case this.S_POLE:c=h-vn,s=this.qp+s;break}if(Math.abs(c)<Rn)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),this.mode===this.OBLIQ?n=this.ymf*c*(this.cosb1*o-this.sinb1*l*r):n=(c=Math.sqrt(2/(1+l*r)))*o*this.ymf,t=this.xmf*c*l*i;break;case this.N_POLE:case this.S_POLE:s>=0?(t=(c=Math.sqrt(s))*i,n=r*(this.mode===this.S_POLE?c:-c)):t=n=0;break}}return e.x=this.a*t+this.x0,e.y=this.a*n+this.y0,e}function ftt(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,n=e.y/this.a,r,i,a,s,o,l,c;if(this.sphere){var u=0,f,h=0;if(f=Math.sqrt(t*t+n*n),i=f*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(h=Math.sin(i),u=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(f)<=Rn?0:Math.asin(n*h/f),t*=h,n=u*f;break;case this.OBLIQ:i=Math.abs(f)<=Rn?this.lat0:Math.asin(u*this.sinph0+n*h*this.cosph0/f),t*=h*this.cosph0,n=(u-Math.sin(i)*this.sinph0)*f;break;case this.N_POLE:n=-n,i=vn-i;break;case this.S_POLE:i-=vn;break}r=n===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(t,n)}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t/=this.dd,n*=this.dd,l=Math.sqrt(t*t+n*n),l<Rn)return e.x=this.long0,e.y=this.lat0,e;s=2*Math.asin(.5*l/this.rq),a=Math.cos(s),t*=s=Math.sin(s),this.mode===this.OBLIQ?(c=a*this.sinb1+n*s*this.cosb1/l,o=this.qp*c,n=l*this.cosb1*a-n*this.sinb1*s):(c=n*s/l,o=this.qp*c,n=l*a)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),o=t*t+n*n,!o)return e.x=this.long0,e.y=this.lat0,e;c=1-o/this.qp,this.mode===this.S_POLE&&(c=-c)}r=Math.atan2(t,n),i=_tt(Math.asin(c),this.apa)}return e.x=zn(this.long0+r),e.y=i,e}var htt=.3333333333333333,dtt=.17222222222222222,ptt=.10257936507936508,gtt=.06388888888888888,mtt=.0664021164021164,vtt=.016415012942191543;function ytt(e){var t,n=[];return n[0]=e*htt,t=e*e,n[0]+=t*dtt,n[1]=t*gtt,t*=e,n[0]+=t*ptt,n[1]+=t*mtt,n[2]=t*vtt,n}function _tt(e,t){var n=e+e;return e+t[0]*Math.sin(n)+t[1]*Math.sin(n+n)+t[2]*Math.sin(n+n+n)}var xtt=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const btt={init:utt,forward:ctt,inverse:ftt,names:xtt,S_POLE:att,N_POLE:ott,EQUIT:stt,OBLIQ:ltt};function mh(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}function wtt(){Math.abs(this.lat1+this.lat2)<Rn||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=ac(this.e3,this.sin_po,this.cos_po),this.qs1=rh(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=ac(this.e3,this.sin_po,this.cos_po),this.qs2=rh(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=rh(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>Rn?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Ttt(e){var t=e.x,n=e.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=rh(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,a=this.ns0*zn(t-this.long0),s=i*Math.sin(a)+this.x0,o=this.rh-i*Math.cos(a)+this.y0;return e.x=s,e.y=o,e}function Ett(e){var t,n,r,i,a,s;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),r=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),r=-1),i=0,t!==0&&(i=Math.atan2(r*e.x,r*e.y)),r=t*this.ns0/this.a,this.sphere?s=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,s=this.phi1z(this.e3,n)),a=zn(i/this.ns0+this.long0),e.x=a,e.y=s,e}function Mtt(e,t){var n,r,i,a,s,o=mh(.5*t);if(e<Rn)return o;for(var l=e*e,c=1;c<=25;c++)if(n=Math.sin(o),r=Math.cos(o),i=e*n,a=1-i*i,s=.5*a*a/r*(t/(1-l)-n/a+.5/e*Math.log((1-i)/(1+i))),o=o+s,Math.abs(s)<=1e-7)return o;return null}var Stt=["Albers_Conic_Equal_Area","Albers","aea"];const Ctt={init:wtt,forward:Ttt,inverse:Ett,names:Stt,phi1z:Mtt};function Att(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function Itt(e){var t,n,r,i,a,s,o,l,c=e.x,u=e.y;return r=zn(c-this.long0),t=Math.sin(u),n=Math.cos(u),i=Math.cos(r),s=this.sin_p14*t+this.cos_p14*n*i,a=1,s>0||Math.abs(s)<=Rn?(o=this.x0+this.a*a*n*Math.sin(r)/s,l=this.y0+this.a*a*(this.cos_p14*t-this.sin_p14*n*i)/s):(o=this.x0+this.infinity_dist*n*Math.sin(r),l=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*n*i)),e.x=o,e.y=l,e}function Ott(e){var t,n,r,i,a,s;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(i=Math.atan2(t,this.rc),n=Math.sin(i),r=Math.cos(i),s=mh(r*this.sin_p14+e.y*n*this.cos_p14/t),a=Math.atan2(e.x*n,t*this.cos_p14*r-e.y*this.sin_p14*n),a=zn(this.long0+a)):(s=this.phic0,a=0),e.x=a,e.y=s,e}var Ltt=["gnom"];const Ptt={init:Att,forward:Itt,inverse:Ott,names:Ltt};function Ntt(e,t){var n=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-n)<1e-6)return t<0?-1*vn:vn;for(var r=Math.asin(.5*t),i,a,s,o,l=0;l<30;l++)if(a=Math.sin(r),s=Math.cos(r),o=e*a,i=Math.pow(1-o*o,2)/(2*s)*(t/(1-e*e)-a/(1-o*o)+.5/e*Math.log((1-o)/(1+o))),r+=i,Math.abs(i)<=1e-10)return r;return NaN}function Rtt(){this.sphere||(this.k0=ac(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Dtt(e){var t=e.x,n=e.y,r,i,a=zn(t-this.long0);if(this.sphere)r=this.x0+this.a*a*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var s=rh(this.e,Math.sin(n));r=this.x0+this.a*this.k0*a,i=this.y0+this.a*s*.5/this.k0}return e.x=r,e.y=i,e}function ktt(e){e.x-=this.x0,e.y-=this.y0;var t,n;return this.sphere?(t=zn(this.long0+e.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(n=Ntt(this.e,2*e.y*this.k0/this.a),t=zn(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=n,e}var Ftt=["cea"];const ztt={init:Rtt,forward:Dtt,inverse:ktt,names:Ftt};function Btt(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function Gtt(e){var t=e.x,n=e.y,r=zn(t-this.long0),i=O0(n-this.lat0);return e.x=this.x0+this.a*r*this.rc,e.y=this.y0+this.a*i,e}function jtt(e){var t=e.x,n=e.y;return e.x=zn(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=O0(this.lat0+(n-this.y0)/this.a),e}var Utt=["Equirectangular","Equidistant_Cylindrical","eqc"];const Vtt={init:Btt,forward:Gtt,inverse:jtt,names:Utt};var Y5=20;function Htt(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Oy(this.es),this.e1=Ly(this.es),this.e2=Py(this.es),this.e3=Ny(this.es),this.ml0=this.a*Wo(this.e0,this.e1,this.e2,this.e3,this.lat0)}function Ytt(e){var t=e.x,n=e.y,r,i,a,s=zn(t-this.long0);if(a=s*Math.sin(n),this.sphere)Math.abs(n)<=Rn?(r=this.a*s,i=-1*this.a*this.lat0):(r=this.a*Math.sin(a)/Math.tan(n),i=this.a*(O0(n-this.lat0)+(1-Math.cos(a))/Math.tan(n)));else if(Math.abs(n)<=Rn)r=this.a*s,i=-1*this.ml0;else{var o=Hg(this.a,this.e,Math.sin(n))/Math.tan(n);r=o*Math.sin(a),i=this.a*Wo(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+o*(1-Math.cos(a))}return e.x=r+this.x0,e.y=i+this.y0,e}function Wtt(e){var t,n,r,i,a,s,o,l,c;if(r=e.x-this.x0,i=e.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=Rn)t=zn(r/this.a+this.long0),n=0;else{s=this.lat0+i/this.a,o=r*r/this.a/this.a+s*s,l=s;var u;for(a=Y5;a;--a)if(u=Math.tan(l),c=-1*(s*(l*u+1)-l-.5*(l*l+o)*u)/((l-s)/u-1),l+=c,Math.abs(c)<=Rn){n=l;break}t=zn(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=Rn)n=0,t=zn(this.long0+r/this.a);else{s=(this.ml0+i)/this.a,o=r*r/this.a/this.a+s*s,l=s;var f,h,d,p,g;for(a=Y5;a;--a)if(g=this.e*Math.sin(l),f=Math.sqrt(1-g*g)*Math.tan(l),h=this.a*Wo(this.e0,this.e1,this.e2,this.e3,l),d=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),p=h/this.a,c=(s*(f*p+1)-p-.5*f*(p*p+o))/(this.es*Math.sin(2*l)*(p*p+o-2*s*p)/(4*f)+(s-p)*(f*d-2/Math.sin(2*l))-d),l-=c,Math.abs(c)<=Rn){n=l;break}f=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),t=zn(this.long0+Math.asin(r*f/this.a)/Math.sin(n))}return e.x=t,e.y=n,e}var $tt=["Polyconic","poly"];const qtt={init:Htt,forward:Ytt,inverse:Wtt,names:$tt};function Xtt(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function Ktt(e){var t,n=e.x,r=e.y,i=r-this.lat0,a=n-this.long0,s=i/Um*1e-5,o=a,l=1,c=0;for(t=1;t<=10;t++)l=l*s,c=c+this.A[t]*l;var u=c,f=o,h=1,d=0,p,g,m=0,v=0;for(t=1;t<=6;t++)p=h*u-d*f,g=d*u+h*f,h=p,d=g,m=m+this.B_re[t]*h-this.B_im[t]*d,v=v+this.B_im[t]*h+this.B_re[t]*d;return e.x=v*this.a+this.x0,e.y=m*this.a+this.y0,e}function Ztt(e){var t,n=e.x,r=e.y,i=n-this.x0,a=r-this.y0,s=a/this.a,o=i/this.a,l=1,c=0,u,f,h=0,d=0;for(t=1;t<=6;t++)u=l*s-c*o,f=c*s+l*o,l=u,c=f,h=h+this.C_re[t]*l-this.C_im[t]*c,d=d+this.C_im[t]*l+this.C_re[t]*c;for(var p=0;p<this.iterations;p++){var g=h,m=d,v,y,_=s,b=o;for(t=2;t<=6;t++)v=g*h-m*d,y=m*h+g*d,g=v,m=y,_=_+(t-1)*(this.B_re[t]*g-this.B_im[t]*m),b=b+(t-1)*(this.B_im[t]*g+this.B_re[t]*m);g=1,m=0;var w=this.B_re[1],T=this.B_im[1];for(t=2;t<=6;t++)v=g*h-m*d,y=m*h+g*d,g=v,m=y,w=w+t*(this.B_re[t]*g-this.B_im[t]*m),T=T+t*(this.B_im[t]*g+this.B_re[t]*m);var M=w*w+T*T;h=(_*w+b*T)/M,d=(b*w-_*T)/M}var S=h,E=d,A=1,O=0;for(t=1;t<=9;t++)A=A*S,O=O+this.D[t]*A;var N=this.lat0+O*Um*1e5,F=this.long0+E;return e.x=F,e.y=N,e}var Jtt=["New_Zealand_Map_Grid","nzmg"];const Qtt={init:Xtt,forward:Ktt,inverse:Ztt,names:Jtt};function tet(){}function eet(e){var t=e.x,n=e.y,r=zn(t-this.long0),i=this.x0+this.a*r,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return e.x=i,e.y=a,e}function net(e){e.x-=this.x0,e.y-=this.y0;var t=zn(this.long0+e.x/this.a),n=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=n,e}var ret=["Miller_Cylindrical","mill"];const iet={init:tet,forward:eet,inverse:net,names:ret};var aet=20;function oet(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=vR(this.es)}function set(e){var t,n,r=e.x,i=e.y;if(r=zn(r-this.long0),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var a=this.n*Math.sin(i),s=aet;s;--s){var o=(this.m*i+Math.sin(i)-a)/(this.m+Math.cos(i));if(i-=o,Math.abs(o)<Rn)break}t=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var l=Math.sin(i),c=Math.cos(i);n=this.a*n2(i,l,c,this.en),t=this.a*r*c/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=n,e}function uet(e){var t,n,r,i;return e.x-=this.x0,r=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,r=r/(this.C_x*(this.m+Math.cos(t))),this.m?t=mh((this.m*t+Math.sin(t))/this.n):this.n!==1&&(t=mh(Math.sin(t)/this.n)),r=zn(r+this.long0),t=O0(t)):(t=yR(e.y/this.a,this.es,this.en),i=Math.abs(t),i<vn?(i=Math.sin(t),n=this.long0+e.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(t)),r=zn(n)):i-Rn<vn&&(r=this.long0)),e.x=r,e.y=t,e}var cet=["Sinusoidal","sinu"];const fet={init:oet,forward:set,inverse:uet,names:cet};function het(){}function det(e){for(var t=e.x,n=e.y,r=zn(t-this.long0),i=n,a=Math.PI*Math.sin(n);;){var s=-(i+Math.sin(i)-a)/(1+Math.cos(i));if(i+=s,Math.abs(s)<Rn)break}i/=2,Math.PI/2-Math.abs(n)<Rn&&(r=0);var o=.900316316158*this.a*r*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return e.x=o,e.y=l,e}function pet(e){var t,n;e.x-=this.x0,e.y-=this.y0,n=e.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),t=Math.asin(n);var r=zn(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*t+Math.sin(2*t))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return e.x=r,e.y=i,e}var get=["Mollweide","moll"];const met={init:het,forward:det,inverse:pet,names:get};function vet(){Math.abs(this.lat1+this.lat2)<Rn||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Oy(this.es),this.e1=Ly(this.es),this.e2=Py(this.es),this.e3=Ny(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=ac(this.e,this.sinphi,this.cosphi),this.ml1=Wo(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Rn?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=ac(this.e,this.sinphi,this.cosphi),this.ml2=Wo(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Wo(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function yet(e){var t=e.x,n=e.y,r;if(this.sphere)r=this.a*(this.g-n);else{var i=Wo(this.e0,this.e1,this.e2,this.e3,n);r=this.a*(this.g-i)}var a=this.ns*zn(t-this.long0),s=this.x0+r*Math.sin(a),o=this.y0+this.rh-r*Math.cos(a);return e.x=s,e.y=o,e}function _et(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,n,r,i;this.ns>=0?(n=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(n=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var a=0;if(n!==0&&(a=Math.atan2(t*e.x,t*e.y)),this.sphere)return i=zn(this.long0+a/this.ns),r=O0(this.g-n/this.a),e.x=i,e.y=r,e;var s=this.g-n/this.a;return r=Fx(s,this.e0,this.e1,this.e2,this.e3),i=zn(this.long0+a/this.ns),e.x=i,e.y=r,e}var xet=["Equidistant_Conic","eqdc"];const bet={init:vet,forward:yet,inverse:_et,names:xet};function wet(){this.R=this.a}function Tet(e){var t=e.x,n=e.y,r=zn(t-this.long0),i,a;Math.abs(n)<=Rn&&(i=this.x0+this.R*r,a=this.y0);var s=mh(2*Math.abs(n/Math.PI));(Math.abs(r)<=Rn||Math.abs(Math.abs(n)-vn)<=Rn)&&(i=this.x0,n>=0?a=this.y0+Math.PI*this.R*Math.tan(.5*s):a=this.y0+Math.PI*this.R*-Math.tan(.5*s));var o=.5*Math.abs(Math.PI/r-r/Math.PI),l=o*o,c=Math.sin(s),u=Math.cos(s),f=u/(c+u-1),h=f*f,d=f*(2/c-1),p=d*d,g=Math.PI*this.R*(o*(f-p)+Math.sqrt(l*(f-p)*(f-p)-(p+l)*(h-p)))/(p+l);r<0&&(g=-g),i=this.x0+g;var m=l+f;return g=Math.PI*this.R*(d*m-o*Math.sqrt((p+l)*(l+1)-m*m))/(p+l),n>=0?a=this.y0+g:a=this.y0-g,e.x=i,e.y=a,e}function Eet(e){var t,n,r,i,a,s,o,l,c,u,f,h,d;return e.x-=this.x0,e.y-=this.y0,f=Math.PI*this.R,r=e.x/f,i=e.y/f,a=r*r+i*i,s=-Math.abs(i)*(1+a),o=s-2*i*i+r*r,l=-2*s+1+2*i*i+a*a,d=i*i/l+(2*o*o*o/l/l/l-9*s*o/l/l)/27,c=(s-o*o/3/l)/l,u=2*Math.sqrt(-c/3),f=3*d/c/u,Math.abs(f)>1&&(f>=0?f=1:f=-1),h=Math.acos(f)/3,e.y>=0?n=(-u*Math.cos(h+Math.PI/3)-o/3/l)*Math.PI:n=-(-u*Math.cos(h+Math.PI/3)-o/3/l)*Math.PI,Math.abs(r)<Rn?t=this.long0:t=zn(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(r*r-i*i)+a*a))/2/r),e.x=t,e.y=n,e}var Met=["Van_der_Grinten_I","VanDerGrinten","vandg"];const Cet={init:wet,forward:Tet,inverse:Eet,names:Met};function Aet(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function Iet(e){var t=e.x,n=e.y,r=Math.sin(e.y),i=Math.cos(e.y),a=zn(t-this.long0),s,o,l,c,u,f,h,d,p,g,m,v,y,_,b,w,T,M,S,E,A,O,N;return this.sphere?Math.abs(this.sin_p12-1)<=Rn?(e.x=this.x0+this.a*(vn-n)*Math.sin(a),e.y=this.y0-this.a*(vn-n)*Math.cos(a),e):Math.abs(this.sin_p12+1)<=Rn?(e.x=this.x0+this.a*(vn+n)*Math.sin(a),e.y=this.y0+this.a*(vn+n)*Math.cos(a),e):(M=this.sin_p12*r+this.cos_p12*i*Math.cos(a),w=Math.acos(M),T=w?w/Math.sin(w):1,e.x=this.x0+this.a*T*i*Math.sin(a),e.y=this.y0+this.a*T*(this.cos_p12*r-this.sin_p12*i*Math.cos(a)),e):(s=Oy(this.es),o=Ly(this.es),l=Py(this.es),c=Ny(this.es),Math.abs(this.sin_p12-1)<=Rn?(u=this.a*Wo(s,o,l,c,vn),f=this.a*Wo(s,o,l,c,n),e.x=this.x0+(u-f)*Math.sin(a),e.y=this.y0-(u-f)*Math.cos(a),e):Math.abs(this.sin_p12+1)<=Rn?(u=this.a*Wo(s,o,l,c,vn),f=this.a*Wo(s,o,l,c,n),e.x=this.x0+(u+f)*Math.sin(a),e.y=this.y0+(u+f)*Math.cos(a),e):(h=r/i,d=Hg(this.a,this.e,this.sin_p12),p=Hg(this.a,this.e,r),g=Math.atan((1-this.es)*h+this.es*d*this.sin_p12/(p*i)),m=Math.atan2(Math.sin(a),this.cos_p12*Math.tan(g)-this.sin_p12*Math.cos(a)),m===0?S=Math.asin(this.cos_p12*Math.sin(g)-this.sin_p12*Math.cos(g)):Math.abs(Math.abs(m)-Math.PI)<=Rn?S=-Math.asin(this.cos_p12*Math.sin(g)-this.sin_p12*Math.cos(g)):S=Math.asin(Math.sin(a)*Math.cos(g)/Math.sin(m)),v=this.e*this.sin_p12/Math.sqrt(1-this.es),y=this.e*this.cos_p12*Math.cos(m)/Math.sqrt(1-this.es),_=v*y,b=y*y,E=S*S,A=E*S,O=A*S,N=O*S,w=d*S*(1-E*b*(1-b)/6+A/8*_*(1-2*b)+O/120*(b*(4-7*b)-3*v*v*(1-7*b))-N/48*_),e.x=this.x0+w*Math.sin(m),e.y=this.y0+w*Math.cos(m),e))}function Oet(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,a,s,o,l,c,u,f,h,d,p,g,m,v,y,_,b,w,T,M,S;return this.sphere?(t=Math.sqrt(e.x*e.x+e.y*e.y),t>2*vn*this.a?void 0:(n=t/this.a,r=Math.sin(n),i=Math.cos(n),a=this.long0,Math.abs(t)<=Rn?s=this.lat0:(s=mh(i*this.sin_p12+e.y*r*this.cos_p12/t),o=Math.abs(this.lat0)-vn,Math.abs(o)<=Rn?this.lat0>=0?a=zn(this.long0+Math.atan2(e.x,-e.y)):a=zn(this.long0-Math.atan2(-e.x,e.y)):a=zn(this.long0+Math.atan2(e.x*r,t*this.cos_p12*i-e.y*this.sin_p12*r))),e.x=a,e.y=s,e)):(l=Oy(this.es),c=Ly(this.es),u=Py(this.es),f=Ny(this.es),Math.abs(this.sin_p12-1)<=Rn?(h=this.a*Wo(l,c,u,f,vn),t=Math.sqrt(e.x*e.x+e.y*e.y),d=h-t,s=Fx(d/this.a,l,c,u,f),a=zn(this.long0+Math.atan2(e.x,-1*e.y)),e.x=a,e.y=s,e):Math.abs(this.sin_p12+1)<=Rn?(h=this.a*Wo(l,c,u,f,vn),t=Math.sqrt(e.x*e.x+e.y*e.y),d=t-h,s=Fx(d/this.a,l,c,u,f),a=zn(this.long0+Math.atan2(e.x,e.y)),e.x=a,e.y=s,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),m=Math.atan2(e.x,e.y),p=Hg(this.a,this.e,this.sin_p12),v=Math.cos(m),y=this.e*this.cos_p12*v,_=-y*y/(1-this.es),b=3*this.es*(1-_)*this.sin_p12*this.cos_p12*v/(1-this.es),w=t/p,T=w-_*(1+_)*Math.pow(w,3)/6-b*(1+3*_)*Math.pow(w,4)/24,M=1-_*T*T/2-w*T*T*T/6,g=Math.asin(this.sin_p12*Math.cos(T)+this.cos_p12*Math.sin(T)*v),a=zn(this.long0+Math.asin(Math.sin(m)*Math.sin(T)/Math.cos(g))),S=Math.sin(g),s=Math.atan2((S-this.es*M*this.sin_p12)*Math.tan(g),S*(1-this.es)),e.x=a,e.y=s,e))}var Let=["Azimuthal_Equidistant","aeqd"];const Pet={init:Aet,forward:Iet,inverse:Oet,names:Let};function Net(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function Ret(e){var t,n,r,i,a,s,o,l,c=e.x,u=e.y;return r=zn(c-this.long0),t=Math.sin(u),n=Math.cos(u),i=Math.cos(r),s=this.sin_p14*t+this.cos_p14*n*i,a=1,(s>0||Math.abs(s)<=Rn)&&(o=this.a*a*n*Math.sin(r),l=this.y0+this.a*a*(this.cos_p14*t-this.sin_p14*n*i)),e.x=o,e.y=l,e}function Det(e){var t,n,r,i,a,s,o;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),n=mh(t/this.a),r=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(t)<=Rn?(o=this.lat0,e.x=s,e.y=o,e):(o=mh(i*this.sin_p14+e.y*r*this.cos_p14/t),a=Math.abs(this.lat0)-vn,Math.abs(a)<=Rn?(this.lat0>=0?s=zn(this.long0+Math.atan2(e.x,-e.y)):s=zn(this.long0-Math.atan2(-e.x,e.y)),e.x=s,e.y=o,e):(s=zn(this.long0+Math.atan2(e.x*r,t*this.cos_p14*i-e.y*this.sin_p14*r)),e.x=s,e.y=o,e))}var ket=["ortho"];const Fet={init:Net,forward:Ret,inverse:Det,names:ket};var Zi={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},fi={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function zet(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=vn-ci/2?this.face=Zi.TOP:this.lat0<=-(vn-ci/2)?this.face=Zi.BOTTOM:Math.abs(this.long0)<=ci?this.face=Zi.FRONT:Math.abs(this.long0)<=vn+ci?this.face=this.long0>0?Zi.RIGHT:Zi.LEFT:this.face=Zi.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function Bet(e){var t={x:0,y:0},n,r,i,a,s,o,l={value:0};if(e.x-=this.long0,this.es!==0?n=Math.atan(this.one_minus_f_squared*Math.tan(e.y)):n=e.y,r=e.x,this.face===Zi.TOP)a=vn-n,r>=ci&&r<=vn+ci?(l.value=fi.AREA_0,i=r-vn):r>vn+ci||r<=-(vn+ci)?(l.value=fi.AREA_1,i=r>0?r-ya:r+ya):r>-(vn+ci)&&r<=-ci?(l.value=fi.AREA_2,i=r+vn):(l.value=fi.AREA_3,i=r);else if(this.face===Zi.BOTTOM)a=vn+n,r>=ci&&r<=vn+ci?(l.value=fi.AREA_0,i=-r+vn):r<ci&&r>=-ci?(l.value=fi.AREA_1,i=-r):r<-ci&&r>=-(vn+ci)?(l.value=fi.AREA_2,i=-r-vn):(l.value=fi.AREA_3,i=r>0?-r+ya:-r-ya);else{var c,u,f,h,d,p,g;this.face===Zi.RIGHT?r=wg(r,+vn):this.face===Zi.BACK?r=wg(r,+ya):this.face===Zi.LEFT&&(r=wg(r,-vn)),h=Math.sin(n),d=Math.cos(n),p=Math.sin(r),g=Math.cos(r),c=d*g,u=d*p,f=h,this.face===Zi.FRONT?(a=Math.acos(c),i=g1(a,f,u,l)):this.face===Zi.RIGHT?(a=Math.acos(u),i=g1(a,f,-c,l)):this.face===Zi.BACK?(a=Math.acos(-c),i=g1(a,f,-u,l)):this.face===Zi.LEFT?(a=Math.acos(-u),i=g1(a,f,c,l)):(a=i=0,l.value=fi.AREA_0)}return o=Math.atan(12/ya*(i+Math.acos(Math.sin(i)*Math.cos(ci))-vn)),s=Math.sqrt((1-Math.cos(a))/(Math.cos(o)*Math.cos(o))/(1-Math.cos(Math.atan(1/Math.cos(i))))),l.value===fi.AREA_1?o+=vn:l.value===fi.AREA_2?o+=ya:l.value===fi.AREA_3&&(o+=1.5*ya),t.x=s*Math.cos(o),t.y=s*Math.sin(o),t.x=t.x*this.a+this.x0,t.y=t.y*this.a+this.y0,e.x=t.x,e.y=t.y,e}function Get(e){var t={lam:0,phi:0},n,r,i,a,s,o,l,c,u,f={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,r=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),n=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?f.value=fi.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(f.value=fi.AREA_1,n-=vn):e.x<0&&-e.x>=Math.abs(e.y)?(f.value=fi.AREA_2,n=n<0?n+ya:n-ya):(f.value=fi.AREA_3,n+=vn),u=ya/12*Math.tan(n),s=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),o=Math.atan(s),i=Math.cos(n),a=Math.tan(r),l=1-i*i*a*a*(1-Math.cos(Math.atan(1/Math.cos(o)))),l<-1?l=-1:l>1&&(l=1),this.face===Zi.TOP)c=Math.acos(l),t.phi=vn-c,f.value===fi.AREA_0?t.lam=o+vn:f.value===fi.AREA_1?t.lam=o<0?o+ya:o-ya:f.value===fi.AREA_2?t.lam=o-vn:t.lam=o;else if(this.face===Zi.BOTTOM)c=Math.acos(l),t.phi=c-vn,f.value===fi.AREA_0?t.lam=-o+vn:f.value===fi.AREA_1?t.lam=-o:f.value===fi.AREA_2?t.lam=-o-vn:t.lam=o<0?-o-ya:-o+ya;else{var h,d,p;h=l,u=h*h,u>=1?p=0:p=Math.sqrt(1-u)*Math.sin(o),u+=p*p,u>=1?d=0:d=Math.sqrt(1-u),f.value===fi.AREA_1?(u=d,d=-p,p=u):f.value===fi.AREA_2?(d=-d,p=-p):f.value===fi.AREA_3&&(u=d,d=p,p=-u),this.face===Zi.RIGHT?(u=h,h=-d,d=u):this.face===Zi.BACK?(h=-h,d=-d):this.face===Zi.LEFT&&(u=h,h=d,d=-u),t.phi=Math.acos(-p)-vn,t.lam=Math.atan2(d,h),this.face===Zi.RIGHT?t.lam=wg(t.lam,-vn):this.face===Zi.BACK?t.lam=wg(t.lam,-ya):this.face===Zi.LEFT&&(t.lam=wg(t.lam,+vn))}if(this.es!==0){var g,m,v;g=t.phi<0?1:0,m=Math.tan(t.phi),v=this.b/Math.sqrt(m*m+this.one_minus_f_squared),t.phi=Math.atan(Math.sqrt(this.a*this.a-v*v)/(this.one_minus_f*v)),g&&(t.phi=-t.phi)}return t.lam+=this.long0,e.x=t.lam,e.y=t.phi,e}function g1(e,t,n,r){var i;return e<Rn?(r.value=fi.AREA_0,i=0):(i=Math.atan2(t,n),Math.abs(i)<=ci?r.value=fi.AREA_0:i>ci&&i<=vn+ci?(r.value=fi.AREA_1,i-=vn):i>vn+ci||i<=-(vn+ci)?(r.value=fi.AREA_2,i=i>=0?i-ya:i+ya):(r.value=fi.AREA_3,i+=vn)),i}function wg(e,t){var n=e+t;return n<-ya?n+=uv:n>+ya&&(n-=uv),n}var jet=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const Uet={init:zet,forward:Bet,inverse:Get,names:jet};var AT=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Cm=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],bR=.8487,wR=1.3523,TR=Yu/5,Vet=1/TR,ug=18,zx=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},Het=function(e,t){return e[1]+t*(2*e[2]+t*3*e[3])};function Yet(e,t,n,r){for(var i=t;r;--r){var a=e(i);if(i-=a,Math.abs(a)<n)break}return i}function Wet(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function $et(e){var t=zn(e.x-this.long0),n=Math.abs(e.y),r=Math.floor(n*TR);r<0?r=0:r>=ug&&(r=ug-1),n=Yu*(n-Vet*r);var i={x:zx(AT[r],n)*t,y:zx(Cm[r],n)};return e.y<0&&(i.y=-i.y),i.x=i.x*this.a*bR+this.x0,i.y=i.y*this.a*wR+this.y0,i}function qet(e){var t={x:(e.x-this.x0)/(this.a*bR),y:Math.abs(e.y-this.y0)/(this.a*wR)};if(t.y>=1)t.x/=AT[ug][0],t.y=e.y<0?-vn:vn;else{var n=Math.floor(t.y*ug);for(n<0?n=0:n>=ug&&(n=ug-1);;)if(Cm[n][0]>t.y)--n;else if(Cm[n+1][0]<=t.y)++n;else break;var r=Cm[n],i=5*(t.y-r[0])/(Cm[n+1][0]-r[0]);i=Yet(function(a){return(zx(r,a)-t.y)/Het(r,a)},i,Rn,100),t.x/=zx(AT[n],i),t.y=(5*n+i)*ho,e.y<0&&(t.y=-t.y)}return t.x=zn(t.x+this.long0),t}var Xet=["Robinson","robin"];const Ket={init:Wet,forward:$et,inverse:qet,names:Xet};function Zet(){this.name="geocent"}function Jet(e){var t=lR(e,this.es,this.a);return t}function Qet(e){var t=uR(e,this.es,this.a,this.b);return t}var tnt=["Geocentric","geocentric","geocent","Geocent"];const ent={init:Zet,forward:Jet,inverse:Qet,names:tnt};var To={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},dm={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function nnt(){if(Object.keys(dm).forEach(function(n){if(typeof this[n]>"u")this[n]=dm[n].def;else{if(dm[n].num&&isNaN(this[n]))throw new Error("Invalid parameter value, must be numeric "+n+" = "+this[n]);dm[n].num&&(this[n]=parseFloat(this[n]))}dm[n].degrees&&(this[n]=this[n]*ho)}.bind(this)),Math.abs(Math.abs(this.lat0)-vn)<Rn?this.mode=this.lat0<0?To.S_POLE:To.N_POLE:Math.abs(this.lat0)<Rn?this.mode=To.EQUIT:(this.mode=To.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)}function rnt(e){e.x-=this.long0;var t=Math.sin(e.y),n=Math.cos(e.y),r=Math.cos(e.x),i,a;switch(this.mode){case To.OBLIQ:a=this.sinph0*t+this.cosph0*n*r;break;case To.EQUIT:a=n*r;break;case To.S_POLE:a=-t;break;case To.N_POLE:a=t;break}switch(a=this.pn1/(this.p-a),i=a*n*Math.sin(e.x),this.mode){case To.OBLIQ:a*=this.cosph0*t-this.sinph0*n*r;break;case To.EQUIT:a*=t;break;case To.N_POLE:a*=-(n*r);break;case To.S_POLE:a*=n*r;break}var s,o;return s=a*this.cg+i*this.sg,o=1/(s*this.sw*this.h1+this.cw),i=(i*this.cg-a*this.sg)*this.cw*o,a=s*o,e.x=i*this.a,e.y=a*this.a,e}function int(e){e.x/=this.a,e.y/=this.a;var t={x:e.x,y:e.y},n,r,i;i=1/(this.pn1-e.y*this.sw),n=this.pn1*e.x*i,r=this.pn1*e.y*this.cw*i,e.x=n*this.cg+r*this.sg,e.y=r*this.cg-n*this.sg;var a=su(e.x,e.y);if(Math.abs(a)<Rn)t.x=0,t.y=e.y;else{var s,o;switch(o=1-a*a*this.pfact,o=(this.p-Math.sqrt(o))/(this.pn1/a+a/this.pn1),s=Math.sqrt(1-o*o),this.mode){case To.OBLIQ:t.y=Math.asin(s*this.sinph0+e.y*o*this.cosph0/a),e.y=(s-this.sinph0*Math.sin(t.y))*a,e.x*=o*this.cosph0;break;case To.EQUIT:t.y=Math.asin(e.y*o/a),e.y=s*a,e.x*=o;break;case To.N_POLE:t.y=Math.asin(s),e.y=-e.y;break;case To.S_POLE:t.y=-Math.asin(s);break}t.x=Math.atan2(e.x,e.y)}return e.x=t.x+this.long0,e.y=t.y,e}var ant=["Tilted_Perspective","tpers"];const ont={init:nnt,forward:rnt,inverse:int,names:ant};function snt(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function lnt(e){var t=e.x,n=e.y,r,i,a,s;if(t=t-this.long0,this.shape==="ellipse"){n=Math.atan(this.radius_p2*Math.tan(n));var o=this.radius_p/su(this.radius_p*Math.cos(n),Math.sin(n));if(i=o*Math.cos(t)*Math.cos(n),a=o*Math.sin(t)*Math.cos(n),s=o*Math.sin(n),(this.radius_g-i)*i-a*a-s*s*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;r=this.radius_g-i,this.flip_axis?(e.x=this.radius_g_1*Math.atan(a/su(s,r)),e.y=this.radius_g_1*Math.atan(s/r)):(e.x=this.radius_g_1*Math.atan(a/r),e.y=this.radius_g_1*Math.atan(s/su(a,r)))}else this.shape==="sphere"&&(r=Math.cos(n),i=Math.cos(t)*r,a=Math.sin(t)*r,s=Math.sin(n),r=this.radius_g-i,this.flip_axis?(e.x=this.radius_g_1*Math.atan(a/su(s,r)),e.y=this.radius_g_1*Math.atan(s/r)):(e.x=this.radius_g_1*Math.atan(a/r),e.y=this.radius_g_1*Math.atan(s/su(a,r))));return e.x=e.x*this.a,e.y=e.y*this.a,e}function unt(e){var t=-1,n=0,r=0,i,a,s,o;if(e.x=e.x/this.a,e.y=e.y/this.a,this.shape==="ellipse"){this.flip_axis?(r=Math.tan(e.y/this.radius_g_1),n=Math.tan(e.x/this.radius_g_1)*su(1,r)):(n=Math.tan(e.x/this.radius_g_1),r=Math.tan(e.y/this.radius_g_1)*su(1,n));var l=r/this.radius_p;if(i=n*n+l*l+t*t,a=2*this.radius_g*t,s=a*a-4*i*this.C,s<0)return e.x=Number.NaN,e.y=Number.NaN,e;o=(-a-Math.sqrt(s))/(2*i),t=this.radius_g+o*t,n*=o,r*=o,e.x=Math.atan2(n,t),e.y=Math.atan(r*Math.cos(e.x)/t),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if(this.shape==="sphere"){if(this.flip_axis?(r=Math.tan(e.y/this.radius_g_1),n=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+r*r)):(n=Math.tan(e.x/this.radius_g_1),r=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+n*n)),i=n*n+r*r+t*t,a=2*this.radius_g*t,s=a*a-4*i*this.C,s<0)return e.x=Number.NaN,e.y=Number.NaN,e;o=(-a-Math.sqrt(s))/(2*i),t=this.radius_g+o*t,n*=o,r*=o,e.x=Math.atan2(n,t),e.y=Math.atan(r*Math.cos(e.x)/t)}return e.x=e.x+this.long0,e}var cnt=["Geostationary Satellite View","Geostationary_Satellite","geos"];const fnt={init:snt,forward:lnt,inverse:unt,names:cnt};function hnt(e){e.Proj.projections.add(ex),e.Proj.projections.add(nx),e.Proj.projections.add(mQ),e.Proj.projections.add(SQ),e.Proj.projections.add(PQ),e.Proj.projections.add(FQ),e.Proj.projections.add(VQ),e.Proj.projections.add(qQ),e.Proj.projections.add(QQ),e.Proj.projections.add(itt),e.Proj.projections.add(btt),e.Proj.projections.add(Ctt),e.Proj.projections.add(Ptt),e.Proj.projections.add(ztt),e.Proj.projections.add(Vtt),e.Proj.projections.add(qtt),e.Proj.projections.add(Qtt),e.Proj.projections.add(iet),e.Proj.projections.add(fet),e.Proj.projections.add(met),e.Proj.projections.add(bet),e.Proj.projections.add(Cet),e.Proj.projections.add(Pet),e.Proj.projections.add(Fet),e.Proj.projections.add(Uet),e.Proj.projections.add(Ket),e.Proj.projections.add(ent),e.Proj.projections.add(ont),e.Proj.projections.add(fnt)}Rl.defaultDatum="WGS84";Rl.Proj=Qu;Rl.WGS84=new Rl.Proj("WGS84");Rl.Point=Vg;Rl.toPoint=cR;Rl.defs=Ho;Rl.nadgrid=yJ;Rl.transform=kx;Rl.mgrs=RJ;Rl.version="__VERSION__";hnt(Rl);const hv={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class dnt{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||hv[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const nS=dnt,Ry=6378137,cg=Math.PI*Ry,pnt=[-cg,-cg,cg,cg],gnt=[-180,-85,180,85],m1=Ry*Math.log(Math.tan(Math.PI/2));class Bp extends nS{constructor(t){super({code:t,units:"m",extent:pnt,global:!0,worldExtent:gnt,getPointResolution:function(n,r){return n/Math.cosh(r[1]/Ry)}})}}const W5=[new Bp("EPSG:3857"),new Bp("EPSG:102100"),new Bp("EPSG:102113"),new Bp("EPSG:900913"),new Bp("http://www.opengis.net/def/crs/EPSG/0/3857"),new Bp("http://www.opengis.net/gml/srs/epsg.xml#3857")];function mnt(e,t,n){const r=e.length;n=n>1?n:2,t===void 0&&(n>2?t=e.slice():t=new Array(r));for(let i=0;i<r;i+=n){t[i]=cg*e[i]/180;let a=Ry*Math.log(Math.tan(Math.PI*(+e[i+1]+90)/360));a>m1?a=m1:a<-m1&&(a=-m1),t[i+1]=a}return t}function vnt(e,t,n){const r=e.length;n=n>1?n:2,t===void 0&&(n>2?t=e.slice():t=new Array(r));for(let i=0;i<r;i+=n)t[i]=180*e[i]/cg,t[i+1]=360*Math.atan(Math.exp(e[i+1]/Ry))/Math.PI-90;return t}const ynt=6378137,$5=[-180,-90,180,90],_nt=Math.PI*ynt/180;class Jh extends nS{constructor(t,n){super({code:t,units:"degrees",extent:$5,axisOrientation:n,global:!0,metersPerUnit:_nt,worldExtent:$5})}}const q5=[new Jh("CRS:84"),new Jh("EPSG:4326","neu"),new Jh("urn:ogc:def:crs:OGC:1.3:CRS84"),new Jh("urn:ogc:def:crs:OGC:2:84"),new Jh("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Jh("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Jh("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let IT={};function xnt(e){return IT[e]||IT[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function bnt(e,t){IT[e]=t}function Dy(e){for(const t in e)delete e[t]}function Yg(e){let t;for(t in e)return!1;return!t}let Tg={};function Wg(e,t,n){const r=e.getCode(),i=t.getCode();r in Tg||(Tg[r]={}),Tg[r][i]=n}function ER(e,t){let n;return e in Tg&&t in Tg[e]&&(n=Tg[e][t]),n}const qa={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16},wnt={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};class Tnt extends Error{constructor(t){const n=wnt[t];super(n),this.code=t,this.name="AssertionError",this.message=n}}const MR=Tnt;function Nr(e,t){if(!e)throw new MR(t)}function X5(e){const t=tl();for(let n=0,r=e.length;n<r;++n)Vm(t,e[n]);return t}function Ent(e,t,n){const r=Math.min.apply(null,e),i=Math.min.apply(null,t),a=Math.max.apply(null,e),s=Math.max.apply(null,t);return Qc(r,i,a,s,n)}function dv(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function SR(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function ip(e,t,n){let r,i;return t<e[0]?r=e[0]-t:e[2]<t?r=t-e[2]:r=0,n<e[1]?i=e[1]-n:e[3]<n?i=n-e[3]:i=0,r*r+i*i}function r2(e,t){return rS(e,t[0],t[1])}function fg(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function rS(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function OT(e,t){const n=e[0],r=e[1],i=e[2],a=e[3],s=t[0],o=t[1];let l=qa.UNKNOWN;return s<n?l=l|qa.LEFT:s>i&&(l=l|qa.RIGHT),o<r?l=l|qa.BELOW:o>a&&(l=l|qa.ABOVE),l===qa.UNKNOWN&&(l=qa.INTERSECTING),l}function tl(){return[1/0,1/0,-1/0,-1/0]}function Qc(e,t,n,r,i){return i?(i[0]=e,i[1]=t,i[2]=n,i[3]=r,i):[e,t,n,r]}function L0(e){return Qc(1/0,1/0,-1/0,-1/0,e)}function Mnt(e,t){const n=e[0],r=e[1];return Qc(n,r,n,r,t)}function CR(e,t,n,r,i){const a=L0(i);return IR(a,e,t,n,r)}function pv(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function AR(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function Vm(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function IR(e,t,n,r,i){for(;n<r;n+=i)Snt(e,t[n],t[n+1]);return e}function Snt(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function OR(e,t){let n;return n=t(i2(e)),n||(n=t(a2(e)),n)||(n=t(o2(e)),n)||(n=t(ap(e)),n)?n:!1}function LT(e){let t=0;return ky(e)||(t=Ei(e)*oc(e)),t}function i2(e){return[e[0],e[1]]}function a2(e){return[e[2],e[1]]}function Fd(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function Cnt(e,t){let n;return t==="bottom-left"?n=i2(e):t==="bottom-right"?n=a2(e):t==="top-left"?n=ap(e):t==="top-right"?n=o2(e):Nr(!1,13),n}function PT(e,t,n,r,i){const[a,s,o,l,c,u,f,h]=NT(e,t,n,r);return Qc(Math.min(a,o,c,f),Math.min(s,l,u,h),Math.max(a,o,c,f),Math.max(s,l,u,h),i)}function NT(e,t,n,r){const i=t*r[0]/2,a=t*r[1]/2,s=Math.cos(n),o=Math.sin(n),l=i*s,c=i*o,u=a*s,f=a*o,h=e[0],d=e[1];return[h-l+f,d-c-u,h-l-f,d-c+u,h+l-f,d+c+u,h+l+f,d+c-u,h-l+f,d-c-u]}function oc(e){return e[3]-e[1]}function Hm(e,t,n){const r=n||tl();return vs(e,t)?(e[0]>t[0]?r[0]=e[0]:r[0]=t[0],e[1]>t[1]?r[1]=e[1]:r[1]=t[1],e[2]<t[2]?r[2]=e[2]:r[2]=t[2],e[3]<t[3]?r[3]=e[3]:r[3]=t[3]):L0(r),r}function ap(e){return[e[0],e[3]]}function o2(e){return[e[2],e[3]]}function Ei(e){return e[2]-e[0]}function vs(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function ky(e){return e[2]<e[0]||e[3]<e[1]}function Ant(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function Int(e,t,n){let r=!1;const i=OT(e,t),a=OT(e,n);if(i===qa.INTERSECTING||a===qa.INTERSECTING)r=!0;else{const s=e[0],o=e[1],l=e[2],c=e[3],u=t[0],f=t[1],h=n[0],d=n[1],p=(d-f)/(h-u);let g,m;a&qa.ABOVE&&!(i&qa.ABOVE)&&(g=h-(d-c)/p,r=g>=s&&g<=l),!r&&a&qa.RIGHT&&!(i&qa.RIGHT)&&(m=d-(h-l)*p,r=m>=o&&m<=c),!r&&a&qa.BELOW&&!(i&qa.BELOW)&&(g=h-(d-o)/p,r=g>=s&&g<=l),!r&&a&qa.LEFT&&!(i&qa.LEFT)&&(m=d-(h-s)*p,r=m>=o&&m<=c)}return r}function Ont(e,t,n,r){if(ky(e))return L0(n);let i=[];if(r>1){const o=e[2]-e[0],l=e[3]-e[1];for(let c=0;c<r;++c)i.push(e[0]+o*c/r,e[1],e[2],e[1]+l*c/r,e[2]-o*c/r,e[3],e[0],e[3]-l*c/r)}else i=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(i,i,2);const a=[],s=[];for(let o=0,l=i.length;o<l;o+=2)a.push(i[o]),s.push(i[o+1]);return Ent(a,s,n)}function LR(e,t){const n=t.getExtent(),r=Fd(e);if(t.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){const i=Ei(n),s=Math.floor((r[0]-n[0])/i)*i;e[0]-=s,e[2]-=s}return e}function Lnt(e,t){if(t.canWrapX()){const n=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[n[0],e[1],n[2],e[3]]];LR(e,t);const r=Ei(n);if(Ei(e)>r)return[[n[0],e[1],n[2],e[3]]];if(e[0]<n[0])return[[e[0]+r,e[1],n[2],e[3]],[n[0],e[1],e[2],e[3]]];if(e[2]>n[2])return[[e[0],e[1],n[2],e[3]],[n[0],e[1],e[2]-r,e[3]]]}return[e]}function ca(e,t,n){return Math.min(Math.max(e,t),n)}function Pnt(e,t,n,r,i,a){const s=i-n,o=a-r;if(s!==0||o!==0){const l=((e-n)*s+(t-r)*o)/(s*s+o*o);l>1?(n=i,r=a):l>0&&(n+=s*l,r+=o*l)}return Md(e,t,n,r)}function Md(e,t,n,r){const i=n-e,a=r-t;return i*i+a*a}function Nnt(e){const t=e.length;for(let r=0;r<t;r++){let i=r,a=Math.abs(e[r][r]);for(let o=r+1;o<t;o++){const l=Math.abs(e[o][r]);l>a&&(a=l,i=o)}if(a===0)return null;const s=e[i];e[i]=e[r],e[r]=s;for(let o=r+1;o<t;o++){const l=-e[o][r]/e[r][r];for(let c=r;c<t+1;c++)r==c?e[o][c]=0:e[o][c]+=l*e[r][c]}}const n=new Array(t);for(let r=t-1;r>=0;r--){n[r]=e[r][t]/e[r][r];for(let i=r-1;i>=0;i--)e[i][t]-=e[i][r]*n[r]}return n}function rx(e){return e*Math.PI/180}function Sd(e,t){const n=e%t;return n*t<0?n+t:n}function Hs(e,t,n){return e+n*(t-e)}function iS(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}function v1(e,t){return Math.floor(iS(e,t))}function y1(e,t){return Math.ceil(iS(e,t))}function Rnt(e,t){const n=(""+e).split("."),r=(""+t).split(".");for(let i=0;i<Math.max(n.length,r.length);i++){const a=parseInt(n[i]||"0",10),s=parseInt(r[i]||"0",10);if(a>s)return 1;if(s>a)return-1}return 0}function Dnt(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function Bx(e,t){let n=!0;for(let r=e.length-1;r>=0;--r)if(e[r]!=t[r]){n=!1;break}return n}function aS(e,t){const n=Math.cos(t),r=Math.sin(t),i=e[0]*n-e[1]*r,a=e[1]*n+e[0]*r;return e[0]=i,e[1]=a,e}function knt(e,t){return e[0]*=t,e[1]*=t,e}function PR(e,t){if(t.canWrapX()){const n=Ei(t.getExtent()),r=NR(e,t,n);r&&(e[0]-=r*n)}return e}function NR(e,t,n){const r=t.getExtent();let i=0;return t.canWrapX()&&(e[0]<r[0]||e[0]>r[2])&&(n=n||Ei(r),i=Math.floor((e[0]-r[0])/n)),i}const Fnt=63710088e-1;function K5(e,t,n){n=n||Fnt;const r=rx(e[1]),i=rx(t[1]),a=(i-r)/2,s=rx(t[0]-e[0])/2,o=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(r)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))}const RR={info:1,warn:2,error:3,none:4};let znt=RR.info;function DR(...e){znt>RR.warn||console.warn(...e)}let RT=!0;function Bnt(e){RT=!(e===void 0?!0:e)}function oS(e,t){if(t!==void 0){for(let n=0,r=e.length;n<r;++n)t[n]=e[n];t=t}else t=e.slice();return t}function kR(e,t){if(t!==void 0&&e!==t){for(let n=0,r=e.length;n<r;++n)t[n]=e[n];e=t}return e}function FR(e){bnt(e.getCode(),e),Wg(e,e,oS)}function Gnt(e){e.forEach(FR)}function ki(e){return typeof e=="string"?xnt(e):e||null}function Z5(e,t,n,r){e=ki(e);let i;const a=e.getPointResolutionFunc();if(a){if(i=a(t,n),r&&r!==e.getUnits()){const s=e.getMetersPerUnit();s&&(i=i*s/hv[r])}}else{const s=e.getUnits();if(s=="degrees"&&!r||r=="degrees")i=t;else{const o=lS(e,ki("EPSG:4326"));if(o===kR&&s!=="degrees")i=t*e.getMetersPerUnit();else{let c=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];c=o(c,c,2);const u=K5(c.slice(0,2),c.slice(2,4)),f=K5(c.slice(4,6),c.slice(6,8));i=(u+f)/2}const l=r?hv[r]:e.getMetersPerUnit();l!==void 0&&(i/=l)}}return i}function DT(e){Gnt(e),e.forEach(function(t){e.forEach(function(n){t!==n&&Wg(t,n,oS)})})}function jnt(e,t,n,r){e.forEach(function(i){t.forEach(function(a){Wg(i,a,n),Wg(a,i,r)})})}function sS(e,t){return e?typeof e=="string"?ki(e):e:ki(t)}function J5(e){return function(t,n,r){const i=t.length;r=r!==void 0?r:2,n=n!==void 0?n:new Array(i);for(let a=0;a<i;a+=r){const s=e(t.slice(a,a+r)),o=s.length;for(let l=0,c=r;l<c;++l)n[a+l]=l>=o?t[a+l]:s[l]}return n}}function Unt(e,t,n,r){const i=ki(e),a=ki(t);Wg(i,a,J5(n)),Wg(a,i,J5(r))}function sd(e,t){if(e===t)return!0;const n=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||lS(e,t)===oS)&&n}function lS(e,t){const n=e.getCode(),r=t.getCode();let i=ER(n,r);return i||(i=kR),i}function gv(e,t){const n=ki(e),r=ki(t);return lS(n,r)}function zR(e,t,n){return gv(t,n)(e,void 0,e.length)}function Vnt(e,t,n,r){const i=gv(t,n);return Ont(e,i,void 0,r)}function kT(e,t){return e}function Dc(e,t){return RT&&!Bx(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(RT=!1,DR("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e}function BR(e,t){return e}function dd(e,t){return e}function Q5(e,t,n){return function(r){let i,a;if(e.canWrapX()){const s=e.getExtent(),o=Ei(s);r=r.slice(0),a=NR(r,e,o),a&&(r[0]=r[0]-a*o),r[0]=ca(r[0],s[0],s[2]),r[1]=ca(r[1],s[1],s[3]),i=n(r)}else i=n(r);return a&&t.canWrapX()&&(i[0]+=a*Ei(t.getExtent())),i}}function Hnt(){DT(W5),DT(q5),jnt(q5,W5,mnt,vnt)}Hnt();let Ynt=null;function gpt(e){Ynt=e;const t=Object.keys(e.defs),n=t.length;let r,i;for(r=0;r<n;++r){const a=t[r];if(!ki(a)){const s=e.defs(a);let o=s.units;!o&&s.projName==="longlat"&&(o="degrees"),FR(new nS({code:a,axisOrientation:s.axis,metersPerUnit:s.to_meter,units:o}))}}for(r=0;r<n;++r){const a=t[r],s=ki(a);for(i=0;i<n;++i){const o=t[i],l=ki(o);if(!ER(a,o))if(e.defs[a]===e.defs[o])DT([s,l]);else{const c=e(a,o);Unt(s,l,Q5(s,l,c.forward),Q5(l,s,c.inverse))}}}}function Wnt(){return GR().__VUE_DEVTOOLS_GLOBAL_HOOK__}function GR(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const $nt=typeof Proxy=="function",qnt="devtools-plugin:setup",Xnt="plugin:settings:set";let Gp,FT;function Knt(){var e;return Gp!==void 0||(typeof window<"u"&&window.performance?(Gp=!0,FT=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?(Gp=!0,FT=global.perf_hooks.performance):Gp=!1),Gp}function Znt(){return Knt()?FT.now():Date.now()}class Jnt{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const s in t.settings){const o=t.settings[s];r[s]=o.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let a=Object.assign({},r);try{const s=localStorage.getItem(i),o=JSON.parse(s);Object.assign(a,o)}catch{}this.fallbacks={getSettings(){return a},setSettings(s){try{localStorage.setItem(i,JSON.stringify(s))}catch{}a=s},now(){return Znt()}},n&&n.on(Xnt,(s,o)=>{s===this.plugin.id&&this.fallbacks.setSettings(o)}),this.proxiedOn=new Proxy({},{get:(s,o)=>this.target?this.target.on[o]:(...l)=>{this.onQueue.push({method:o,args:l})}}),this.proxiedTarget=new Proxy({},{get:(s,o)=>this.target?this.target[o]:o==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(o)?(...l)=>(this.targetQueue.push({method:o,args:l,resolve:()=>{}}),this.fallbacks[o](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:o,args:l,resolve:c})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function Qnt(e,t){const n=e,r=GR(),i=Wnt(),a=$nt&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!a))i.emit(qnt,e,t);else{const s=a?new Jnt(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:s}),s&&t(s.proxiedTarget)}}/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Qp=typeof window<"u";function trt(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const mi=Object.assign;function _3(e,t){const n={};for(const r in t){const i=t[r];n[r]=du(i)?i.map(e):e(i)}return n}const Ym=()=>{},du=Array.isArray,ert=/\/$/,nrt=e=>e.replace(ert,"");function x3(e,t,n="/"){let r,i={},a="",s="";const o=t.indexOf("#");let l=t.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(r=t.slice(0,l),a=t.slice(l+1,o>-1?o:t.length),i=e(a)),o>-1&&(r=r||t.slice(0,o),s=t.slice(o,t.length)),r=ort(r??t,n),{fullPath:r+(a&&"?")+a+s,path:r,query:i,hash:s}}function rrt(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function tO(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function irt(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&$g(t.matched[r],n.matched[i])&&jR(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function $g(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function jR(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!art(e[n],t[n]))return!1;return!0}function art(e,t){return du(e)?eO(e,t):du(t)?eO(t,e):e===t}function eO(e,t){return du(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function ort(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let a=n.length-1,s,o;for(s=0;s<r.length;s++)if(o=r[s],o!==".")if(o==="..")a>1&&a--;else break;return n.slice(0,a).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var mv;(function(e){e.pop="pop",e.push="push"})(mv||(mv={}));var Wm;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Wm||(Wm={}));function srt(e){if(!e)if(Qp){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),nrt(e)}const lrt=/^[^#]+#/;function urt(e,t){return e.replace(lrt,"#")+t}function crt(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const s2=()=>({left:window.pageXOffset,top:window.pageYOffset});function frt(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=crt(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function nO(e,t){return(history.state?history.state.position-t:-1)+e}const zT=new Map;function hrt(e,t){zT.set(e,t)}function drt(e){const t=zT.get(e);return zT.delete(e),t}let prt=()=>location.protocol+"//"+location.host;function UR(e,t){const{pathname:n,search:r,hash:i}=t,a=e.indexOf("#");if(a>-1){let o=i.includes(e.slice(a))?e.slice(a).length:1,l=i.slice(o);return l[0]!=="/"&&(l="/"+l),tO(l,"")}return tO(n,e)+r+i}function grt(e,t,n,r){let i=[],a=[],s=null;const o=({state:h})=>{const d=UR(e,location),p=n.value,g=t.value;let m=0;if(h){if(n.value=d,t.value=h,s&&s===p){s=null;return}m=g?h.position-g.position:0}else r(d);i.forEach(v=>{v(n.value,p,{delta:m,type:mv.pop,direction:m?m>0?Wm.forward:Wm.back:Wm.unknown})})};function l(){s=n.value}function c(h){i.push(h);const d=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return a.push(d),d}function u(){const{history:h}=window;h.state&&h.replaceState(mi({},h.state,{scroll:s2()}),"")}function f(){for(const h of a)h();a=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function rO(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?s2():null}}function mrt(e){const{history:t,location:n}=window,r={value:UR(e,n)},i={value:t.state};i.value||a(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(l,c,u){const f=e.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:prt()+e+l;try{t[u?"replaceState":"pushState"](c,"",h),i.value=c}catch(d){console.error(d),n[u?"replace":"assign"](h)}}function s(l,c){const u=mi({},t.state,rO(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});a(l,u,!0),r.value=l}function o(l,c){const u=mi({},i.value,t.state,{forward:l,scroll:s2()});a(u.current,u,!0);const f=mi({},rO(r.value,l,null),{position:u.position+1},c);a(l,f,!1),r.value=l}return{location:r,state:i,push:o,replace:s}}function vrt(e){e=srt(e);const t=mrt(e),n=grt(e,t.state,t.location,t.replace);function r(a,s=!0){s||n.pauseListeners(),history.go(a)}const i=mi({location:"",base:e,go:r,createHref:urt.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function mpt(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),vrt(e)}function yrt(e){return typeof e=="string"||e&&typeof e=="object"}function VR(e){return typeof e=="string"||typeof e=="symbol"}const Df={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},HR=Symbol("");var iO;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(iO||(iO={}));function qg(e,t){return mi(new Error,{type:e,[HR]:!0},t)}function Lc(e,t){return e instanceof Error&&HR in e&&(t==null||!!(e.type&t))}const aO="[^/]+?",_rt={sensitive:!1,strict:!1,start:!0,end:!0},xrt=/[.+*?^${}()[\]/\\]/g;function brt(e,t){const n=mi({},_rt,t),r=[];let i=n.start?"^":"";const a=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let f=0;f<c.length;f++){const h=c[f];let d=40+(n.sensitive?.25:0);if(h.type===0)f||(i+="/"),i+=h.value.replace(xrt,"\\$&"),d+=40;else if(h.type===1){const{value:p,repeatable:g,optional:m,regexp:v}=h;a.push({name:p,repeatable:g,optional:m});const y=v||aO;if(y!==aO){d+=10;try{new RegExp(`(${y})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+b.message)}}let _=g?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;f||(_=m&&c.length<2?`(?:/${_})`:"/"+_),m&&(_+="?"),i+=_,d+=20,m&&(d+=-8),g&&(d+=-20),y===".*"&&(d+=-50)}u.push(d)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function o(c){const u=c.match(s),f={};if(!u)return null;for(let h=1;h<u.length;h++){const d=u[h]||"",p=a[h-1];f[p.name]=d&&p.repeatable?d.split("/"):d}return f}function l(c){let u="",f=!1;for(const h of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const d of h)if(d.type===0)u+=d.value;else if(d.type===1){const{value:p,repeatable:g,optional:m}=d,v=p in c?c[p]:"";if(du(v)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=du(v)?v.join("/"):v;if(!y)if(m)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);u+=y}}return u||"/"}return{re:s,score:r,keys:a,parse:o,stringify:l}}function wrt(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Trt(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const a=wrt(r[n],i[n]);if(a)return a;n++}if(Math.abs(i.length-r.length)===1){if(oO(r))return 1;if(oO(i))return-1}return i.length-r.length}function oO(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Ert={type:0,value:""},Mrt=/[a-zA-Z0-9_]/;function Srt(e){if(!e)return[[]];if(e==="/")return[[Ert]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(d){throw new Error(`ERR (${n})/"${c}": ${d}`)}let n=0,r=n;const i=[];let a;function s(){a&&i.push(a),a=[]}let o=0,l,c="",u="";function f(){c&&(n===0?a.push({type:0,value:c}):n===1||n===2||n===3?(a.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;o<e.length;){if(l=e[o++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),s()):l===":"?(f(),n=1):h();break;case 4:h(),n=r;break;case 1:l==="("?n=2:Mrt.test(l)?h():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),s(),i}function Crt(e,t,n){const r=brt(Srt(e.path),n),i=mi(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Art(e,t){const n=[],r=new Map;t=uO({strict:!1,end:!0,sensitive:!1},t);function i(u){return r.get(u)}function a(u,f,h){const d=!h,p=Irt(u);p.aliasOf=h&&h.record;const g=uO(t,u),m=[p];if("alias"in u){const _=typeof u.alias=="string"?[u.alias]:u.alias;for(const b of _)m.push(mi({},p,{components:h?h.record.components:p.components,path:b,aliasOf:h?h.record:p}))}let v,y;for(const _ of m){const{path:b}=_;if(f&&b[0]!=="/"){const w=f.record.path,T=w[w.length-1]==="/"?"":"/";_.path=f.record.path+(b&&T+b)}if(v=Crt(_,f,g),h?h.alias.push(v):(y=y||v,y!==v&&y.alias.push(v),d&&u.name&&!lO(v)&&s(u.name)),p.children){const w=p.children;for(let T=0;T<w.length;T++)a(w[T],v,h&&h.children[T])}h=h||v,(v.record.components&&Object.keys(v.record.components).length||v.record.name||v.record.redirect)&&l(v)}return y?()=>{s(y)}:Ym}function s(u){if(VR(u)){const f=r.get(u);f&&(r.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(s),f.alias.forEach(s))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&r.delete(u.record.name),u.children.forEach(s),u.alias.forEach(s))}}function o(){return n}function l(u){let f=0;for(;f<n.length&&Trt(u,n[f])>=0&&(u.record.path!==n[f].record.path||!YR(u,n[f]));)f++;n.splice(f,0,u),u.record.name&&!lO(u)&&r.set(u.record.name,u)}function c(u,f){let h,d={},p,g;if("name"in u&&u.name){if(h=r.get(u.name),!h)throw qg(1,{location:u});g=h.record.name,d=mi(sO(f.params,h.keys.filter(y=>!y.optional).map(y=>y.name)),u.params&&sO(u.params,h.keys.map(y=>y.name))),p=h.stringify(d)}else if("path"in u)p=u.path,h=n.find(y=>y.re.test(p)),h&&(d=h.parse(p),g=h.record.name);else{if(h=f.name?r.get(f.name):n.find(y=>y.re.test(f.path)),!h)throw qg(1,{location:u,currentLocation:f});g=h.record.name,d=mi({},f.params,u.params),p=h.stringify(d)}const m=[];let v=h;for(;v;)m.unshift(v.record),v=v.parent;return{name:g,path:p,params:d,matched:m,meta:Lrt(m)}}return e.forEach(u=>a(u)),{addRoute:a,resolve:c,removeRoute:s,getRoutes:o,getRecordMatcher:i}}function sO(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Irt(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Ort(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Ort(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function lO(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Lrt(e){return e.reduce((t,n)=>mi(t,n.meta),{})}function uO(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function YR(e,t){return t.children.some(n=>n===e||YR(e,n))}const WR=/#/g,Prt=/&/g,Nrt=/\//g,Rrt=/=/g,Drt=/\?/g,$R=/\+/g,krt=/%5B/g,Frt=/%5D/g,qR=/%5E/g,zrt=/%60/g,XR=/%7B/g,Brt=/%7C/g,KR=/%7D/g,Grt=/%20/g;function uS(e){return encodeURI(""+e).replace(Brt,"|").replace(krt,"[").replace(Frt,"]")}function jrt(e){return uS(e).replace(XR,"{").replace(KR,"}").replace(qR,"^")}function BT(e){return uS(e).replace($R,"%2B").replace(Grt,"+").replace(WR,"%23").replace(Prt,"%26").replace(zrt,"`").replace(XR,"{").replace(KR,"}").replace(qR,"^")}function Urt(e){return BT(e).replace(Rrt,"%3D")}function Vrt(e){return uS(e).replace(WR,"%23").replace(Drt,"%3F")}function Hrt(e){return e==null?"":Vrt(e).replace(Nrt,"%2F")}function Gx(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Yrt(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const a=r[i].replace($R," "),s=a.indexOf("="),o=Gx(s<0?a:a.slice(0,s)),l=s<0?null:Gx(a.slice(s+1));if(o in t){let c=t[o];du(c)||(c=t[o]=[c]),c.push(l)}else t[o]=l}return t}function cO(e){let t="";for(let n in e){const r=e[n];if(n=Urt(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(du(r)?r.map(a=>a&&BT(a)):[r&&BT(r)]).forEach(a=>{a!==void 0&&(t+=(t.length?"&":"")+n,a!=null&&(t+="="+a))})}return t}function Wrt(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=du(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const $rt=Symbol(""),fO=Symbol(""),cS=Symbol(""),ZR=Symbol(""),GT=Symbol("");function pm(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function qf(e,t,n,r,i){const a=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((s,o)=>{const l=f=>{f===!1?o(qg(4,{from:n,to:t})):f instanceof Error?o(f):yrt(f)?o(qg(2,{from:t,to:f})):(a&&r.enterCallbacks[i]===a&&typeof f=="function"&&a.push(f),s())},c=e.call(r&&r.instances[i],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch(f=>o(f))})}function b3(e,t,n,r){const i=[];for(const a of e)for(const s in a.components){let o=a.components[s];if(!(t!=="beforeRouteEnter"&&!a.instances[s]))if(qrt(o)){const c=(o.__vccOpts||o)[t];c&&i.push(qf(c,n,r,a,s))}else{let l=o();i.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${a.path}"`));const u=trt(c)?c.default:c;a.components[s]=u;const h=(u.__vccOpts||u)[t];return h&&qf(h,n,r,a,s)()}))}}return i}function qrt(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function hO(e){const t=Ju(cS),n=Ju(ZR),r=Ws(()=>t.resolve(th(e.to))),i=Ws(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const h=f.findIndex($g.bind(null,u));if(h>-1)return h;const d=dO(l[c-2]);return c>1&&dO(u)===d&&f[f.length-1].path!==d?f.findIndex($g.bind(null,l[c-2])):h}),a=Ws(()=>i.value>-1&&Jrt(n.params,r.value.params)),s=Ws(()=>i.value>-1&&i.value===n.matched.length-1&&jR(n.params,r.value.params));function o(l={}){return Zrt(l)?t[th(e.replace)?"replace":"push"](th(e.to)).catch(Ym):Promise.resolve()}return{route:r,href:Ws(()=>r.value.href),isActive:a,isExactActive:s,navigate:o}}const Xrt=wy({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:hO,setup(e,{slots:t}){const n=I0(hO(e)),{options:r}=Ju(cS),i=Ws(()=>({[pO(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[pO(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=t.default&&t.default(n);return e.custom?a:qb("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},a)}}}),Krt=Xrt;function Zrt(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Jrt(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!du(i)||i.length!==r.length||r.some((a,s)=>a!==i[s]))return!1}return!0}function dO(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const pO=(e,t,n)=>e??t??n,Qrt=wy({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Ju(GT),i=Ws(()=>e.route||r.value),a=Ju(fO,0),s=Ws(()=>{let c=th(a);const{matched:u}=i.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),o=Ws(()=>i.value.matched[s.value]);km(fO,Ws(()=>s.value+1)),km($rt,o),km(GT,i);const l=bd();return Zu(()=>[l.value,o.value,e.name],([c,u,f],[h,d,p])=>{u&&(u.instances[f]=c,d&&d!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),c&&u&&(!d||!$g(u,d)||!h)&&(u.enterCallbacks[f]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=i.value,u=e.name,f=o.value,h=f&&f.components[u];if(!h)return gO(n.default,{Component:h,route:c});const d=f.props[u],p=d?d===!0?c.params:typeof d=="function"?d(c):d:null,m=qb(h,mi({},p,t,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return gO(n.default,{Component:m,route:c})||m}}});function gO(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const tit=Qrt;function vpt(e){const t=Art(e.routes,e),n=e.parseQuery||Yrt,r=e.stringifyQuery||cO,i=e.history,a=pm(),s=pm(),o=pm(),l=e6(Df);let c=Df;Qp&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=_3.bind(null,W=>""+W),f=_3.bind(null,Hrt),h=_3.bind(null,Gx);function d(W,X){let it,lt;return VR(W)?(it=t.getRecordMatcher(W),lt=X):lt=W,t.addRoute(lt,it)}function p(W){const X=t.getRecordMatcher(W);X&&t.removeRoute(X)}function g(){return t.getRoutes().map(W=>W.record)}function m(W){return!!t.getRecordMatcher(W)}function v(W,X){if(X=mi({},X||l.value),typeof W=="string"){const B=x3(n,W,X.path),H=t.resolve({path:B.path},X),$=i.createHref(B.fullPath);return mi(B,H,{params:h(H.params),hash:Gx(B.hash),redirectedFrom:void 0,href:$})}let it;if("path"in W)it=mi({},W,{path:x3(n,W.path,X.path).path});else{const B=mi({},W.params);for(const H in B)B[H]==null&&delete B[H];it=mi({},W,{params:f(B)}),X.params=f(X.params)}const lt=t.resolve(it,X),pt=W.hash||"";lt.params=u(h(lt.params));const rt=rrt(r,mi({},W,{hash:jrt(pt),path:lt.path})),V=i.createHref(rt);return mi({fullPath:rt,hash:pt,query:r===cO?Wrt(W.query):W.query||{}},lt,{redirectedFrom:void 0,href:V})}function y(W){return typeof W=="string"?x3(n,W,l.value.path):mi({},W)}function _(W,X){if(c!==W)return qg(8,{from:X,to:W})}function b(W){return M(W)}function w(W){return b(mi(y(W),{replace:!0}))}function T(W){const X=W.matched[W.matched.length-1];if(X&&X.redirect){const{redirect:it}=X;let lt=typeof it=="function"?it(W):it;return typeof lt=="string"&&(lt=lt.includes("?")||lt.includes("#")?lt=y(lt):{path:lt},lt.params={}),mi({query:W.query,hash:W.hash,params:"path"in lt?{}:W.params},lt)}}function M(W,X){const it=c=v(W),lt=l.value,pt=W.state,rt=W.force,V=W.replace===!0,B=T(it);if(B)return M(mi(y(B),{state:typeof B=="object"?mi({},pt,B.state):pt,force:rt,replace:V}),X||it);const H=it;H.redirectedFrom=X;let $;return!rt&&irt(r,lt,it)&&($=qg(16,{to:H,from:lt}),et(lt,lt,!0,!1)),($?Promise.resolve($):A(H,lt)).catch(Z=>Lc(Z)?Lc(Z,2)?Z:q(Z):j(Z,H,lt)).then(Z=>{if(Z){if(Lc(Z,2))return M(mi({replace:V},y(Z.to),{state:typeof Z.to=="object"?mi({},pt,Z.to.state):pt,force:rt}),X||H)}else Z=N(H,lt,!0,V,pt);return O(H,lt,Z),Z})}function S(W,X){const it=_(W,X);return it?Promise.reject(it):Promise.resolve()}function E(W){const X=nt.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(W):W()}function A(W,X){let it;const[lt,pt,rt]=eit(W,X);it=b3(lt.reverse(),"beforeRouteLeave",W,X);for(const B of lt)B.leaveGuards.forEach(H=>{it.push(qf(H,W,X))});const V=S.bind(null,W,X);return it.push(V),z(it).then(()=>{it=[];for(const B of a.list())it.push(qf(B,W,X));return it.push(V),z(it)}).then(()=>{it=b3(pt,"beforeRouteUpdate",W,X);for(const B of pt)B.updateGuards.forEach(H=>{it.push(qf(H,W,X))});return it.push(V),z(it)}).then(()=>{it=[];for(const B of rt)if(B.beforeEnter)if(du(B.beforeEnter))for(const H of B.beforeEnter)it.push(qf(H,W,X));else it.push(qf(B.beforeEnter,W,X));return it.push(V),z(it)}).then(()=>(W.matched.forEach(B=>B.enterCallbacks={}),it=b3(rt,"beforeRouteEnter",W,X),it.push(V),z(it))).then(()=>{it=[];for(const B of s.list())it.push(qf(B,W,X));return it.push(V),z(it)}).catch(B=>Lc(B,8)?B:Promise.reject(B))}function O(W,X,it){o.list().forEach(lt=>E(()=>lt(W,X,it)))}function N(W,X,it,lt,pt){const rt=_(W,X);if(rt)return rt;const V=X===Df,B=Qp?history.state:{};it&&(lt||V?i.replace(W.fullPath,mi({scroll:V&&B&&B.scroll},pt)):i.push(W.fullPath,pt)),l.value=W,et(W,X,it,V),q()}let F;function P(){F||(F=i.listen((W,X,it)=>{if(!ct.listening)return;const lt=v(W),pt=T(lt);if(pt){M(mi(pt,{replace:!0}),lt).catch(Ym);return}c=lt;const rt=l.value;Qp&&hrt(nO(rt.fullPath,it.delta),s2()),A(lt,rt).catch(V=>Lc(V,12)?V:Lc(V,2)?(M(V.to,lt).then(B=>{Lc(B,20)&&!it.delta&&it.type===mv.pop&&i.go(-1,!1)}).catch(Ym),Promise.reject()):(it.delta&&i.go(-it.delta,!1),j(V,lt,rt))).then(V=>{V=V||N(lt,rt,!1),V&&(it.delta&&!Lc(V,8)?i.go(-it.delta,!1):it.type===mv.pop&&Lc(V,20)&&i.go(-1,!1)),O(lt,rt,V)}).catch(Ym)}))}let R=pm(),k=pm(),I;function j(W,X,it){q(W);const lt=k.list();return lt.length?lt.forEach(pt=>pt(W,X,it)):console.error(W),Promise.reject(W)}function G(){return I&&l.value!==Df?Promise.resolve():new Promise((W,X)=>{R.add([W,X])})}function q(W){return I||(I=!W,P(),R.list().forEach(([X,it])=>W?it(W):X()),R.reset()),W}function et(W,X,it,lt){const{scrollBehavior:pt}=e;if(!Qp||!pt)return Promise.resolve();const rt=!it&&drt(nO(W.fullPath,0))||(lt||!it)&&history.state&&history.state.scroll||null;return kb().then(()=>pt(W,X,rt)).then(V=>V&&frt(V)).catch(V=>j(V,W,X))}const U=W=>i.go(W);let J;const nt=new Set,ct={currentRoute:l,listening:!0,addRoute:d,removeRoute:p,hasRoute:m,getRoutes:g,resolve:v,options:e,push:b,replace:w,go:U,back:()=>U(-1),forward:()=>U(1),beforeEach:a.add,beforeResolve:s.add,afterEach:o.add,onError:k.add,isReady:G,install(W){const X=this;W.component("RouterLink",Krt),W.component("RouterView",tit),W.config.globalProperties.$router=X,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>th(l)}),Qp&&!J&&l.value===Df&&(J=!0,b(i.location).catch(pt=>{}));const it={};for(const pt in Df)Object.defineProperty(it,pt,{get:()=>l.value[pt],enumerable:!0});W.provide(cS,X),W.provide(ZR,aM(it)),W.provide(GT,l);const lt=W.unmount;nt.add(W),W.unmount=function(){nt.delete(W),nt.size<1&&(c=Df,F&&F(),F=null,l.value=Df,J=!1,I=!1),lt()}}};function z(W){return W.reduce((X,it)=>X.then(()=>E(it)),Promise.resolve())}return ct}function eit(e,t){const n=[],r=[],i=[],a=Math.max(t.matched.length,e.matched.length);for(let s=0;s<a;s++){const o=t.matched[s];o&&(e.matched.find(c=>$g(c,o))?r.push(o):n.push(o));const l=e.matched[s];l&&(t.matched.find(c=>$g(c,l))||i.push(l))}return[n,r,i]}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var nit="store";function P0(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function JR(e){return e!==null&&typeof e=="object"}function rit(e){return e&&typeof e.then=="function"}function iit(e,t){return function(){return e(t)}}function QR(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function t8(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;l2(e,n,[],e._modules.root,!0),fS(e,n,t)}function fS(e,t,n){var r=e._state,i=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var a=e._wrappedGetters,s={},o={},l=G4(!0);l.run(function(){P0(a,function(c,u){s[u]=iit(c,e),o[u]=Ws(function(){return s[u]()}),Object.defineProperty(e.getters,u,{get:function(){return o[u].value},enumerable:!0})})}),e._state=I0({data:t}),e._scope=l,e.strict&&uit(e),r&&n&&e._withCommit(function(){r.data=null}),i&&i.stop()}function l2(e,t,n,r,i){var a=!n.length,s=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=r),!a&&!i){var o=hS(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit(function(){o[l]=r.state})}var c=r.context=ait(e,s,n);r.forEachMutation(function(u,f){var h=s+f;oit(e,h,u,c)}),r.forEachAction(function(u,f){var h=u.root?f:s+f,d=u.handler||u;sit(e,h,d,c)}),r.forEachGetter(function(u,f){var h=s+f;lit(e,h,u,c)}),r.forEachChild(function(u,f){l2(e,t,n.concat(f),u,i)})}function ait(e,t,n){var r=t==="",i={dispatch:r?e.dispatch:function(a,s,o){var l=jx(a,s,o),c=l.payload,u=l.options,f=l.type;return(!u||!u.root)&&(f=t+f),e.dispatch(f,c)},commit:r?e.commit:function(a,s,o){var l=jx(a,s,o),c=l.payload,u=l.options,f=l.type;(!u||!u.root)&&(f=t+f),e.commit(f,c,u)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return e8(e,t)}},state:{get:function(){return hS(e.state,n)}}}),i}function e8(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,r)===t){var a=i.slice(r);Object.defineProperty(n,a,{get:function(){return e.getters[i]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function oit(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push(function(s){n.call(e,r.state,s)})}function sit(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push(function(s){var o=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},s);return rit(o)||(o=Promise.resolve(o)),e._devtoolHook?o.catch(function(l){throw e._devtoolHook.emit("vuex:error",l),l}):o})}function lit(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(a){return n(r.state,r.getters,a.state,a.getters)})}function uit(e){Zu(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function hS(e,t){return t.reduce(function(n,r){return n[r]},e)}function jx(e,t,n){return JR(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var cit="vuex bindings",mO="vuex:mutations",w3="vuex:actions",jp="vuex",fit=0;function hit(e,t){Qnt({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[cit]},function(n){n.addTimelineLayer({id:mO,label:"Vuex Mutations",color:vO}),n.addTimelineLayer({id:w3,label:"Vuex Actions",color:vO}),n.addInspector({id:jp,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===jp)if(r.filter){var i=[];a8(i,t._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[i8(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===jp){var i=r.nodeId;e8(t,i),r.state=git(vit(t._modules,i),i==="root"?t.getters:t._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===jp){var i=r.nodeId,a=r.path;i!=="root"&&(a=i.split("/").filter(Boolean).concat(a)),t._withCommit(function(){r.set(t._state.data,a,r.state.value)})}}),t.subscribe(function(r,i){var a={};r.payload&&(a.payload=r.payload),a.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(jp),n.sendInspectorState(jp),n.addTimelineEvent({layerId:mO,event:{time:Date.now(),title:r.type,data:a}})}),t.subscribeAction({before:function(r,i){var a={};r.payload&&(a.payload=r.payload),r._id=fit++,r._time=Date.now(),a.state=i,n.addTimelineEvent({layerId:w3,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:a}})},after:function(r,i){var a={},s=Date.now()-r._time;a.duration={_custom:{type:"duration",display:s+"ms",tooltip:"Action duration",value:s}},r.payload&&(a.payload=r.payload),a.state=i,n.addTimelineEvent({layerId:w3,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:a}})}})})}var vO=8702998,dit=6710886,pit=16777215,n8={label:"namespaced",textColor:pit,backgroundColor:dit};function r8(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function i8(e,t){return{id:t||"root",label:r8(t),tags:e.namespaced?[n8]:[],children:Object.keys(e._children).map(function(n){return i8(e._children[n],t+n+"/")})}}function a8(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[n8]:[]}),Object.keys(t._children).forEach(function(i){a8(e,t._children[i],n,r+i+"/")})}function git(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map(function(s){return{key:s,editable:!0,value:e.state[s]}})};if(r.length){var a=mit(t);i.getters=Object.keys(a).map(function(s){return{key:s.endsWith("/")?r8(s):s,editable:!1,value:jT(function(){return a[s]})}})}return i}function mit(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var i=t,a=r.pop();r.forEach(function(s){i[s]||(i[s]={_custom:{value:{},display:s,tooltip:"Module",abstract:!0}}),i=i[s]._custom.value}),i[a]=jT(function(){return e[n]})}else t[n]=jT(function(){return e[n]})}),t}function vit(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,i,a){var s=r[i];if(!s)throw new Error('Missing module "'+i+'" for path "'+t+'".');return a===n.length-1?s:s._children},t==="root"?e:e.root._children)}function jT(e){try{return e()}catch(t){return t}}var Eu=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},o8={namespaced:{configurable:!0}};o8.namespaced.get=function(){return!!this._rawModule.namespaced};Eu.prototype.addChild=function(t,n){this._children[t]=n};Eu.prototype.removeChild=function(t){delete this._children[t]};Eu.prototype.getChild=function(t){return this._children[t]};Eu.prototype.hasChild=function(t){return t in this._children};Eu.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Eu.prototype.forEachChild=function(t){P0(this._children,t)};Eu.prototype.forEachGetter=function(t){this._rawModule.getters&&P0(this._rawModule.getters,t)};Eu.prototype.forEachAction=function(t){this._rawModule.actions&&P0(this._rawModule.actions,t)};Eu.prototype.forEachMutation=function(t){this._rawModule.mutations&&P0(this._rawModule.mutations,t)};Object.defineProperties(Eu.prototype,o8);var op=function(t){this.register([],t,!1)};op.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};op.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};op.prototype.update=function(t){s8([],this.root,t)};op.prototype.register=function(t,n,r){var i=this;r===void 0&&(r=!0);var a=new Eu(n,r);if(t.length===0)this.root=a;else{var s=this.get(t.slice(0,-1));s.addChild(t[t.length-1],a)}n.modules&&P0(n.modules,function(o,l){i.register(t.concat(l),o,r)})};op.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};op.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function s8(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;s8(e.concat(r),t.getChild(r),n.modules[r])}}function ypt(e){return new Os(e)}var Os=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var i=t.strict;i===void 0&&(i=!1);var a=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new op(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=a;var s=this,o=this,l=o.dispatch,c=o.commit;this.dispatch=function(h,d){return l.call(s,h,d)},this.commit=function(h,d,p){return c.call(s,h,d,p)},this.strict=i;var u=this._modules.root.state;l2(this,u,[],this._modules.root),fS(this,u),r.forEach(function(f){return f(n)})},dS={state:{configurable:!0}};Os.prototype.install=function(t,n){t.provide(n||nit,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&hit(t,this)};dS.state.get=function(){return this._state.data};dS.state.set=function(e){};Os.prototype.commit=function(t,n,r){var i=this,a=jx(t,n,r),s=a.type,o=a.payload,l={type:s,payload:o},c=this._mutations[s];c&&(this._withCommit(function(){c.forEach(function(f){f(o)})}),this._subscribers.slice().forEach(function(u){return u(l,i.state)}))};Os.prototype.dispatch=function(t,n){var r=this,i=jx(t,n),a=i.type,s=i.payload,o={type:a,payload:s},l=this._actions[a];if(l){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(o,r.state)})}catch{}var c=l.length>1?Promise.all(l.map(function(u){return u(s)})):l[0](s);return new Promise(function(u,f){c.then(function(h){try{r._actionSubscribers.filter(function(d){return d.after}).forEach(function(d){return d.after(o,r.state)})}catch{}u(h)},function(h){try{r._actionSubscribers.filter(function(d){return d.error}).forEach(function(d){return d.error(o,r.state,h)})}catch{}f(h)})})}};Os.prototype.subscribe=function(t,n){return QR(t,this._subscribers,n)};Os.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return QR(r,this._actionSubscribers,n)};Os.prototype.watch=function(t,n,r){var i=this;return Zu(function(){return t(i.state,i.getters)},n,Object.assign({},r))};Os.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};Os.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),l2(this,this.state,t,this._modules.get(t),r.preserveState),fS(this,this.state)};Os.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=hS(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),t8(this)};Os.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};Os.prototype.hotUpdate=function(t){this._modules.update(t),t8(this,!0)};Os.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(Os.prototype,dS);var _pt=u8(function(e,t){var n={};return l8(t).forEach(function(r){var i=r.key,a=r.val;n[i]=function(){var o=this.$store.state,l=this.$store.getters;if(e){var c=c8(this.$store,"mapState",e);if(!c)return;o=c.context.state,l=c.context.getters}return typeof a=="function"?a.call(this,o,l):o[a]},n[i].vuex=!0}),n}),xpt=u8(function(e,t){var n={};return l8(t).forEach(function(r){var i=r.key,a=r.val;n[i]=function(){for(var o=[],l=arguments.length;l--;)o[l]=arguments[l];var c=this.$store.dispatch;if(e){var u=c8(this.$store,"mapActions",e);if(!u)return;c=u.context.dispatch}return typeof a=="function"?a.apply(this,[c].concat(o)):c.apply(this.$store,[a].concat(o))}}),n});function l8(e){return yit(e)?Array.isArray(e)?e.map(function(t){return{key:t,val:t}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}}):[]}function yit(e){return Array.isArray(e)||JR(e)}function u8(e){return function(t,n){return typeof t!="string"?(n=t,t=""):t.charAt(t.length-1)!=="/"&&(t+="/"),e(t,n)}}function c8(e,t,n){var r=e._modulesNamespaceMap[n];return r}class _it{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const pf=_it,Xg={PROPERTYCHANGE:"propertychange"};class xit{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}const pS=xit;function bit(e,t,n){let r,i;n=n||zd;let a=0,s=e.length,o=!1;for(;a<s;)r=a+(s-a>>1),i=+n(e[r],t),i<0?a=r+1:(s=r,o=!i);return o?a:~a}function zd(e,t){return e>t?1:e<t?-1:0}function gS(e,t,n){if(e[0]<=t)return 0;const r=e.length;if(t<=e[r-1])return r-1;if(typeof n=="function"){for(let i=1;i<r;++i){const a=e[i];if(a===t)return i;if(a<t)return n(t,e[i-1],a)>0?i-1:i}return r-1}if(n>0){for(let i=1;i<r;++i)if(e[i]<t)return i-1;return r-1}if(n<0){for(let i=1;i<r;++i)if(e[i]<=t)return i;return r-1}for(let i=1;i<r;++i){if(e[i]==t)return i;if(e[i]<t)return e[i-1]-t<t-e[i]?i-1:i}return r-1}function wit(e,t,n){for(;t<n;){const r=e[t];e[t]=e[n],e[n]=r,++t,--n}}function Wc(e,t){const n=Array.isArray(t)?t:[t],r=n.length;for(let i=0;i<r;i++)e[e.length]=n[i]}function Lh(e,t){const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Tit(e,t,n){const r=t||zd;return e.every(function(i,a){if(a===0)return!0;const s=r(e[a-1],i);return!(s>0||n&&s===0)})}function vv(){return!0}function u2(){return!1}function Kg(){}function Eit(e){let t=!1,n,r,i;return function(){const a=Array.prototype.slice.call(arguments);return(!t||this!==i||!Lh(a,r))&&(t=!0,i=this,r=a,n=e.apply(this,arguments)),n}}class Mit extends pS{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,n){if(!t||!n)return;const r=this.listeners_||(this.listeners_={}),i=r[t]||(r[t]=[]);i.includes(n)||i.push(n)}dispatchEvent(t){const n=typeof t=="string",r=n?t:t.type,i=this.listeners_&&this.listeners_[r];if(!i)return;const a=n?new pf(t):t;a.target||(a.target=this.eventTarget_||this);const s=this.dispatching_||(this.dispatching_={}),o=this.pendingRemovals_||(this.pendingRemovals_={});r in s||(s[r]=0,o[r]=0),++s[r];let l;for(let c=0,u=i.length;c<u;++c)if("handleEvent"in i[c]?l=i[c].handleEvent(a):l=i[c].call(this,a),l===!1||a.propagationStopped){l=!1;break}if(--s[r]===0){let c=o[r];for(delete o[r];c--;)this.removeEventListener(r,Kg);delete s[r]}return l}disposeInternal(){this.listeners_&&Dy(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,n){const r=this.listeners_&&this.listeners_[t];if(r){const i=r.indexOf(n);i!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(r[i]=Kg,++this.pendingRemovals_[t]):(r.splice(i,1),r.length===0&&delete this.listeners_[t]))}}}const c2=Mit,Sr={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Qr(e,t,n,r,i){if(r&&r!==e&&(n=n.bind(r)),i){const s=n;n=function(){e.removeEventListener(t,n),s.apply(this,arguments)}}const a={target:e,type:t,listener:n};return e.addEventListener(t,n),a}function Ux(e,t,n,r){return Qr(e,t,n,r,!0)}function Fi(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),Dy(e))}class f2 extends c2{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Sr.CHANGE)}getRevision(){return this.revision_}onInternal(t,n){if(Array.isArray(t)){const r=t.length,i=new Array(r);for(let a=0;a<r;++a)i[a]=Qr(this,t[a],n);return i}return Qr(this,t,n)}onceInternal(t,n){let r;if(Array.isArray(t)){const i=t.length;r=new Array(i);for(let a=0;a<i;++a)r[a]=Ux(this,t[a],n)}else r=Ux(this,t,n);return n.ol_key=r,r}unInternal(t,n){const r=n.ol_key;if(r)Sit(r);else if(Array.isArray(t))for(let i=0,a=t.length;i<a;++i)this.removeEventListener(t[i],n);else this.removeEventListener(t,n)}}f2.prototype.on;f2.prototype.once;f2.prototype.un;function Sit(e){if(Array.isArray(e))for(let t=0,n=e.length;t<n;++t)Fi(e[t]);else Fi(e)}const f8=f2;function Qn(){throw new Error("Unimplemented abstract method.")}let Cit=0;function si(e){return e.ol_uid||(e.ol_uid=String(++Cit))}class yO extends pf{constructor(t,n,r){super(t),this.key=n,this.oldValue=r}}class Ait extends f8{constructor(t){super(),this.on,this.once,this.un,si(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let n;return this.values_&&this.values_.hasOwnProperty(t)&&(n=this.values_[t]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(t,n){let r;r=`change:${t}`,this.hasListener(r)&&this.dispatchEvent(new yO(r,t,n)),r=Xg.PROPERTYCHANGE,this.hasListener(r)&&this.dispatchEvent(new yO(r,t,n))}addChangeListener(t,n){this.addEventListener(`change:${t}`,n)}removeChangeListener(t,n){this.removeEventListener(`change:${t}`,n)}set(t,n,r){const i=this.values_||(this.values_={});if(r)i[t]=n;else{const a=i[t];i[t]=n,a!==n&&this.notify(t,a)}}setProperties(t,n){for(const r in t)this.set(r,t[r],n)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,n){if(this.values_&&t in this.values_){const r=this.values_[t];delete this.values_[t],Yg(this.values_)&&(this.values_=null),n||this.notify(t,r)}}}const pc=Ait,ps={ADD:"add",REMOVE:"remove"},_O={LENGTH:"length"};class _1 extends pf{constructor(t,n,r){super(t),this.element=n,this.index=r}}let Iit=class extends pc{constructor(t,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=t||[],this.unique_)for(let r=0,i=this.array_.length;r<i;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let n=0,r=t.length;n<r;++n)this.push(t[n]);return this}forEach(t){const n=this.array_;for(let r=0,i=n.length;r<i;++r)t(n[r],r,n)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(_O.LENGTH)}insertAt(t,n){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n),this.array_.splice(t,0,n),this.updateLength_(),this.dispatchEvent(new _1(ps.ADD,n,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const n=this.getLength();return this.insertAt(n,t),this.getLength()}remove(t){const n=this.array_;for(let r=0,i=n.length;r<i;++r)if(n[r]===t)return this.removeAt(r)}removeAt(t){if(t<0||t>=this.getLength())return;const n=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new _1(ps.REMOVE,n,t)),n}setAt(t,n){const r=this.getLength();if(t>=r){this.insertAt(t,n);return}if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n,t);const i=this.array_[t];this.array_[t]=n,this.dispatchEvent(new _1(ps.REMOVE,i,t)),this.dispatchEvent(new _1(ps.ADD,n,t))}updateLength_(){this.set(_O.LENGTH,this.array_.length)}assertUnique_(t,n){for(let r=0,i=this.array_.length;r<i;++r)if(this.array_[r]===t&&r!==n)throw new MR(58)}};const Wu=Iit;class mS extends pc{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){const n=t;this.setGeometry(n)}else{const n=t;this.setProperties(n)}}clone(){const t=new mS(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&t.setGeometry(n.clone());const r=this.getStyle();return r&&t.setStyle(r),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Fi(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=Qr(t,Sr.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?Oit(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function Oit(e){if(typeof e=="function")return e;let t;return Array.isArray(e)?t=e:(Nr(typeof e.getZIndex=="function",41),t=[e]),function(){return t}}const UT=mS,vh=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",Lit=vh.includes("firefox"),Pit=vh.includes("safari")&&!vh.includes("chrom");Pit&&(vh.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(vh));const Nit=vh.includes("webkit")&&!vh.includes("edge"),h8=vh.includes("macintosh"),d8=typeof devicePixelRatio<"u"?devicePixelRatio:1,vS=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Rit=typeof Image<"u"&&Image.prototype.decode,p8=function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return e}();new Array(6);function tc(){return[1,0,0,1,0,0]}function Dit(e,t,n,r,i,a,s){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=s,e}function kit(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Xa(e,t){const n=t[0],r=t[1];return t[0]=e[0]*n+e[2]*r+e[4],t[1]=e[1]*n+e[3]*r+e[5],t}function Fit(e,t,n){return Dit(e,t,0,0,n,0,0)}function yh(e,t,n,r,i,a,s,o){const l=Math.sin(a),c=Math.cos(a);return e[0]=r*c,e[1]=i*l,e[2]=-r*l,e[3]=i*c,e[4]=s*r*c-o*r*l+t,e[5]=s*i*l+o*i*c+n,e}function yS(e,t){const n=zit(t);Nr(n!==0,32);const r=t[0],i=t[1],a=t[2],s=t[3],o=t[4],l=t[5];return e[0]=s/n,e[1]=-i/n,e[2]=-a/n,e[3]=r/n,e[4]=(a*l-s*o)/n,e[5]=-(r*l-i*o)/n,e}function zit(e){return e[0]*e[3]-e[1]*e[2]}let xO;function g8(e){const t="matrix("+e.join(", ")+")";if(vS)return t;const n=xO||(xO=document.createElement("div"));return n.style.transform=t,n.style.transform}function Cd(e,t,n,r,i,a){a=a||[];let s=0;for(let o=t;o<n;o+=r){const l=e[o],c=e[o+1];a[s++]=i[0]*l+i[2]*c+i[4],a[s++]=i[1]*l+i[3]*c+i[5]}return a&&a.length!=s&&(a.length=s),a}function m8(e,t,n,r,i,a,s){s=s||[];const o=Math.cos(i),l=Math.sin(i),c=a[0],u=a[1];let f=0;for(let h=t;h<n;h+=r){const d=e[h]-c,p=e[h+1]-u;s[f++]=c+d*o-p*l,s[f++]=u+d*l+p*o;for(let g=h+2;g<h+r;++g)s[f++]=e[g]}return s&&s.length!=f&&(s.length=f),s}function Bit(e,t,n,r,i,a,s,o){o=o||[];const l=s[0],c=s[1];let u=0;for(let f=t;f<n;f+=r){const h=e[f]-l,d=e[f+1]-c;o[u++]=l+i*h,o[u++]=c+a*d;for(let p=f+2;p<f+r;++p)o[u++]=e[p]}return o&&o.length!=u&&(o.length=u),o}function Git(e,t,n,r,i,a,s){s=s||[];let o=0;for(let l=t;l<n;l+=r){s[o++]=e[l]+i,s[o++]=e[l+1]+a;for(let c=l+2;c<l+r;++c)s[o++]=e[c]}return s&&s.length!=o&&(s.length=o),s}const bO=tc();let jit=class extends pc{constructor(){super(),this.extent_=tl(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Eit(function(t,n,r){if(!r)return this.getSimplifiedGeometry(n);const i=this.clone();return i.applyTransform(r),i.getSimplifiedGeometry(n)})}simplifyTransformed(t,n){return this.simplifyTransformedInternal(this.getRevision(),t,n)}clone(){return Qn()}closestPointXY(t,n,r,i){return Qn()}containsXY(t,n){const r=this.getClosestPoint([t,n]);return r[0]===t&&r[1]===n}getClosestPoint(t,n){return n=n||[NaN,NaN],this.closestPointXY(t[0],t[1],n,1/0),n}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return Qn()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&L0(n),this.extentRevision_=this.getRevision()}return Ant(this.extent_,t)}rotate(t,n){Qn()}scale(t,n,r){Qn()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return Qn()}getType(){return Qn()}applyTransform(t){Qn()}intersectsExtent(t){return Qn()}translate(t,n){Qn()}transform(t,n){const r=ki(t),i=r.getUnits()=="tile-pixels"?function(a,s,o){const l=r.getExtent(),c=r.getWorldExtent(),u=oc(c)/oc(l);return yh(bO,c[0],c[3],u,-u,0,0,0),Cd(a,0,a.length,o,bO,s),gv(r,n)(a,s,o)}:gv(r,n);return this.applyTransform(i),this}};const v8=jit;class Uit extends v8{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(t){return CR(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return Qn()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,n){this.stride=wO(t),this.layout=t,this.flatCoordinates=n}setCoordinates(t,n){Qn()}setLayout(t,n,r){let i;if(t)i=wO(t);else{for(let a=0;a<r;++a){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}i=n.length,t=Vit(i)}this.layout=t,this.stride=i}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(t,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();m8(r,0,r.length,i,t,n,r),this.changed()}}scale(t,n,r){n===void 0&&(n=t),r||(r=Fd(this.getExtent()));const i=this.getFlatCoordinates();if(i){const a=this.getStride();Bit(i,0,i.length,a,t,n,r,i),this.changed()}}translate(t,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();Git(r,0,r.length,i,t,n,r),this.changed()}}}function Vit(e){let t;return e==2?t="XY":e==3?t="XYZ":e==4&&(t="XYZM"),t}function wO(e){let t;return e=="XY"?t=2:e=="XYZ"||e=="XYM"?t=3:e=="XYZM"&&(t=4),t}function Hit(e,t,n){const r=e.getFlatCoordinates();if(!r)return null;const i=e.getStride();return Cd(r,0,r.length,i,t,n)}const sp=Uit;function TO(e,t,n,r,i,a,s){const o=e[t],l=e[t+1],c=e[n]-o,u=e[n+1]-l;let f;if(c===0&&u===0)f=t;else{const h=((i-o)*c+(a-l)*u)/(c*c+u*u);if(h>1)f=n;else if(h>0){for(let d=0;d<r;++d)s[d]=Hs(e[t+d],e[n+d],h);s.length=r;return}else f=t}for(let h=0;h<r;++h)s[h]=e[f+h];s.length=r}function _S(e,t,n,r,i){let a=e[t],s=e[t+1];for(t+=r;t<n;t+=r){const o=e[t],l=e[t+1],c=Md(a,s,o,l);c>i&&(i=c),a=o,s=l}return i}function xS(e,t,n,r,i){for(let a=0,s=n.length;a<s;++a){const o=n[a];i=_S(e,t,o,r,i),t=o}return i}function Yit(e,t,n,r,i){for(let a=0,s=n.length;a<s;++a){const o=n[a];i=xS(e,t,o,r,i),t=o[o.length-1]}return i}function bS(e,t,n,r,i,a,s,o,l,c,u){if(t==n)return c;let f,h;if(i===0){if(h=Md(s,o,e[t],e[t+1]),h<c){for(f=0;f<r;++f)l[f]=e[t+f];return l.length=r,h}return c}u=u||[NaN,NaN];let d=t+r;for(;d<n;)if(TO(e,d-r,d,r,s,o,u),h=Md(s,o,u[0],u[1]),h<c){for(c=h,f=0;f<r;++f)l[f]=u[f];l.length=r,d+=r}else d+=r*Math.max((Math.sqrt(h)-Math.sqrt(c))/i|0,1);if(a&&(TO(e,n-r,t,r,s,o,u),h=Md(s,o,u[0],u[1]),h<c)){for(c=h,f=0;f<r;++f)l[f]=u[f];l.length=r}return c}function wS(e,t,n,r,i,a,s,o,l,c,u){u=u||[NaN,NaN];for(let f=0,h=n.length;f<h;++f){const d=n[f];c=bS(e,t,d,r,i,a,s,o,l,c,u),t=d}return c}function Wit(e,t,n,r,i,a,s,o,l,c,u){u=u||[NaN,NaN];for(let f=0,h=n.length;f<h;++f){const d=n[f];c=wS(e,t,d,r,i,a,s,o,l,c,u),t=d[d.length-1]}return c}function $it(e,t,n,r){for(let i=0,a=n.length;i<a;++i)e[t++]=n[i];return t}function h2(e,t,n,r){for(let i=0,a=n.length;i<a;++i){const s=n[i];for(let o=0;o<r;++o)e[t++]=s[o]}return t}function TS(e,t,n,r,i){i=i||[];let a=0;for(let s=0,o=n.length;s<o;++s){const l=h2(e,t,n[s],r);i[a++]=l,t=l}return i.length=a,i}function qit(e,t,n,r,i){i=i||[];let a=0;for(let s=0,o=n.length;s<o;++s){const l=TS(e,t,n[s],r,i[a]);l.length===0&&(l[0]=t),i[a++]=l,t=l[l.length-1]}return i.length=a,i}function ES(e,t,n,r,i,a,s){const o=(n-t)/r;if(o<3){for(;t<n;t+=r)a[s++]=e[t],a[s++]=e[t+1];return s}const l=new Array(o);l[0]=1,l[o-1]=1;const c=[t,n-r];let u=0;for(;c.length>0;){const f=c.pop(),h=c.pop();let d=0;const p=e[h],g=e[h+1],m=e[f],v=e[f+1];for(let y=h+r;y<f;y+=r){const _=e[y],b=e[y+1],w=Pnt(_,b,p,g,m,v);w>d&&(u=y,d=w)}d>i&&(l[(u-t)/r]=1,h+r<u&&c.push(h,u),u+r<f&&c.push(u,f))}for(let f=0;f<o;++f)l[f]&&(a[s++]=e[t+f*r],a[s++]=e[t+f*r+1]);return s}function Xit(e,t,n,r,i,a,s,o){for(let l=0,c=n.length;l<c;++l){const u=n[l];s=ES(e,t,u,r,i,a,s),o.push(s),t=u}return s}function id(e,t){return t*Math.round(e/t)}function Kit(e,t,n,r,i,a,s){if(t==n)return s;let o=id(e[t],i),l=id(e[t+1],i);t+=r,a[s++]=o,a[s++]=l;let c,u;do if(c=id(e[t],i),u=id(e[t+1],i),t+=r,t==n)return a[s++]=c,a[s++]=u,s;while(c==o&&u==l);for(;t<n;){const f=id(e[t],i),h=id(e[t+1],i);if(t+=r,f==c&&h==u)continue;const d=c-o,p=u-l,g=f-o,m=h-l;if(d*m==p*g&&(d<0&&g<d||d==g||d>0&&g>d)&&(p<0&&m<p||p==m||p>0&&m>p)){c=f,u=h;continue}a[s++]=c,a[s++]=u,o=c,l=u,c=f,u=h}return a[s++]=c,a[s++]=u,s}function y8(e,t,n,r,i,a,s,o){for(let l=0,c=n.length;l<c;++l){const u=n[l];s=Kit(e,t,u,r,i,a,s),o.push(s),t=u}return s}function Zit(e,t,n,r,i,a,s,o){for(let l=0,c=n.length;l<c;++l){const u=n[l],f=[];s=y8(e,t,u,r,i,a,s,f),o.push(f),t=u[u.length-1]}return s}function Kf(e,t,n,r,i){i=i!==void 0?i:[];let a=0;for(let s=t;s<n;s+=r)i[a++]=e.slice(s,s+r);return i.length=a,i}function yv(e,t,n,r,i){i=i!==void 0?i:[];let a=0;for(let s=0,o=n.length;s<o;++s){const l=n[s];i[a++]=Kf(e,t,l,r,i[a]),t=l}return i.length=a,i}function VT(e,t,n,r,i){i=i!==void 0?i:[];let a=0;for(let s=0,o=n.length;s<o;++s){const l=n[s];i[a++]=l.length===1&&l[0]===t?[]:yv(e,t,l,r,i[a]),t=l[l.length-1]}return i.length=a,i}function _8(e,t,n,r){let i=0,a=e[n-r],s=e[n-r+1];for(;t<n;t+=r){const o=e[t],l=e[t+1];i+=s*o-a*l,a=o,s=l}return i/2}function x8(e,t,n,r){let i=0;for(let a=0,s=n.length;a<s;++a){const o=n[a];i+=_8(e,t,o,r),t=o}return i}function Jit(e,t,n,r){let i=0;for(let a=0,s=n.length;a<s;++a){const o=n[a];i+=x8(e,t,o,r),t=o[o.length-1]}return i}let Qit=class HT extends sp{constructor(t,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}clone(){return new HT(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,n,r,i){return i<ip(this.getExtent(),t,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(_S(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),bS(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,n,r,i))}getArea(){return _8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Kf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const n=[];return n.length=ES(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new HT(n,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=h2(this.flatCoordinates,0,t,this.stride),this.changed()}};const EO=Qit;let tat=class b8 extends sp{constructor(t,n){super(),this.setCoordinates(t,n)}clone(){const t=new b8(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,r,i){const a=this.flatCoordinates,s=Md(t,n,a[0],a[1]);if(s<i){const o=this.stride;for(let l=0;l<o;++l)r[l]=a[l];return r.length=o,s}return i}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(t){return Mnt(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return rS(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=$it(this.flatCoordinates,0,t,this.stride),this.changed()}};const _v=tat;function eat(e,t,n,r,i){return!OR(i,function(s){return!pd(e,t,n,r,s[0],s[1])})}function pd(e,t,n,r,i,a){let s=0,o=e[n-r],l=e[n-r+1];for(;t<n;t+=r){const c=e[t],u=e[t+1];l<=a?u>a&&(c-o)*(a-l)-(i-o)*(u-l)>0&&s++:u<=a&&(c-o)*(a-l)-(i-o)*(u-l)<0&&s--,o=c,l=u}return s!==0}function MS(e,t,n,r,i,a){if(n.length===0||!pd(e,t,n[0],r,i,a))return!1;for(let s=1,o=n.length;s<o;++s)if(pd(e,n[s-1],n[s],r,i,a))return!1;return!0}function nat(e,t,n,r,i,a){if(n.length===0)return!1;for(let s=0,o=n.length;s<o;++s){const l=n[s];if(MS(e,t,l,r,i,a))return!0;t=l[l.length-1]}return!1}function w8(e,t,n,r,i,a,s){let o,l,c,u,f,h,d;const p=i[a+1],g=[];for(let y=0,_=n.length;y<_;++y){const b=n[y];for(u=e[b-r],h=e[b-r+1],o=t;o<b;o+=r)f=e[o],d=e[o+1],(p<=h&&d<=p||h<=p&&p<=d)&&(c=(p-h)/(d-h)*(f-u)+u,g.push(c)),u=f,h=d}let m=NaN,v=-1/0;for(g.sort(zd),u=g[0],o=1,l=g.length;o<l;++o){f=g[o];const y=Math.abs(f-u);y>v&&(c=(u+f)/2,MS(e,t,n,r,c,p)&&(m=c,v=y)),u=f}return isNaN(m)&&(m=i[a]),s?(s.push(m,p,v),s):[m,p,v]}function rat(e,t,n,r,i){let a=[];for(let s=0,o=n.length;s<o;++s){const l=n[s];a=w8(e,t,l,r,i,2*s,a),t=l[l.length-1]}return a}function T8(e,t,n,r,i){let a;for(t+=r;t<n;t+=r)if(a=i(e.slice(t-r,t),e.slice(t,t+r)),a)return a;return!1}function d2(e,t,n,r,i){const a=IR(tl(),e,t,n,r);return vs(i,a)?fg(i,a)||a[0]>=i[0]&&a[2]<=i[2]||a[1]>=i[1]&&a[3]<=i[3]?!0:T8(e,t,n,r,function(s,o){return Int(i,s,o)}):!1}function iat(e,t,n,r,i){for(let a=0,s=n.length;a<s;++a){if(d2(e,t,n[a],r,i))return!0;t=n[a]}return!1}function E8(e,t,n,r,i){return!!(d2(e,t,n,r,i)||pd(e,t,n,r,i[0],i[1])||pd(e,t,n,r,i[0],i[3])||pd(e,t,n,r,i[2],i[1])||pd(e,t,n,r,i[2],i[3]))}function M8(e,t,n,r,i){if(!E8(e,t,n[0],r,i))return!1;if(n.length===1)return!0;for(let a=1,s=n.length;a<s;++a)if(eat(e,n[a-1],n[a],r,i)&&!d2(e,n[a-1],n[a],r,i))return!1;return!0}function aat(e,t,n,r,i){for(let a=0,s=n.length;a<s;++a){const o=n[a];if(M8(e,t,o,r,i))return!0;t=o[o.length-1]}return!1}function oat(e,t,n,r){for(;t<n-r;){for(let i=0;i<r;++i){const a=e[t+i];e[t+i]=e[n-r+i],e[n-r+i]=a}t+=r,n-=r}}function S8(e,t,n,r){let i=0,a=e[n-r],s=e[n-r+1];for(;t<n;t+=r){const o=e[t],l=e[t+1];i+=(o-a)*(l+s),a=o,s=l}return i===0?void 0:i>0}function C8(e,t,n,r,i){i=i!==void 0?i:!1;for(let a=0,s=n.length;a<s;++a){const o=n[a],l=S8(e,t,o,r);if(a===0){if(i&&l||!i&&!l)return!1}else if(i&&!l||!i&&l)return!1;t=o}return!0}function sat(e,t,n,r,i){for(let a=0,s=n.length;a<s;++a){const o=n[a];if(!C8(e,t,o,r,i))return!1;o.length&&(t=o[o.length-1])}return!0}function YT(e,t,n,r,i){i=i!==void 0?i:!1;for(let a=0,s=n.length;a<s;++a){const o=n[a],l=S8(e,t,o,r);(a===0?i&&l||!i&&!l:i&&!l||!i&&l)&&oat(e,t,o,r),t=o}return t}function MO(e,t,n,r,i){for(let a=0,s=n.length;a<s;++a)t=YT(e,t,n[a],r,i);return t}let A8=class WT extends sp{constructor(t,n,r){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&r?(this.setFlatCoordinates(n,t),this.ends_=r):this.setCoordinates(t,n)}appendLinearRing(t){this.flatCoordinates?Wc(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new WT(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,n,r,i){return i<ip(this.getExtent(),t,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(xS(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),wS(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,n,r,i))}containsXY(t,n){return MS(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,n)}getArea(){return x8(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),YT(n,0,this.ends_,this.stride,t)):n=this.flatCoordinates,yv(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=Fd(this.getExtent());this.flatInteriorPoint_=w8(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new _v(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new EO(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,n=this.flatCoordinates,r=this.ends_,i=[];let a=0;for(let s=0,o=r.length;s<o;++s){const l=r[s],c=new EO(n.slice(a,l),t);i.push(c),a=l}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;C8(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=YT(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const n=[],r=[];return n.length=y8(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,r),new WT(n,"XY",r)}getType(){return"Polygon"}intersectsExtent(t){return M8(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=TS(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}};const xv=A8;function SO(e){if(ky(e))throw new Error("Cannot create polygon from empty extent");const t=e[0],n=e[1],r=e[2],i=e[3],a=[t,n,t,i,r,i,r,n,t,n];return new A8(a,"XY",[a.length])}const ec={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class SS{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null}clone(){const t=this.getColor();return new SS({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){this.color_=t}}const CS=SS;function I8(e,t,n,r,i,a,s){let o,l;const c=(n-t)/r;if(c===1)o=t;else if(c===2)o=t,l=i;else if(c!==0){let u=e[t],f=e[t+1],h=0;const d=[0];for(let m=t+r;m<n;m+=r){const v=e[m],y=e[m+1];h+=Math.sqrt((v-u)*(v-u)+(y-f)*(y-f)),d.push(h),u=v,f=y}const p=i*h,g=bit(d,p);g<0?(l=(p-d[-g-2])/(d[-g-1]-d[-g-2]),o=t+(-g-2)*r):o=t+g*r}s=s>1?s:2,a=a||new Array(s);for(let u=0;u<s;++u)a[u]=o===void 0?NaN:l===void 0?e[o+u]:Hs(e[o+u],e[o+r+u],l);return a}function $T(e,t,n,r,i,a){if(n==t)return null;let s;if(i<e[t+r-1])return a?(s=e.slice(t,t+r),s[r-1]=i,s):null;if(e[n-1]<i)return a?(s=e.slice(n-r,n),s[r-1]=i,s):null;if(i==e[t+r-1])return e.slice(t,t+r);let o=t/r,l=n/r;for(;o<l;){const h=o+l>>1;i<e[(h+1)*r-1]?l=h:o=h+1}const c=e[o*r-1];if(i==c)return e.slice((o-1)*r,(o-1)*r+r);const u=e[(o+1)*r-1],f=(i-c)/(u-c);s=[];for(let h=0;h<r-1;++h)s.push(Hs(e[(o-1)*r+h],e[o*r+h],f));return s.push(i),s}function lat(e,t,n,r,i,a,s){if(s)return $T(e,t,n[n.length-1],r,i,a);let o;if(i<e[r-1])return a?(o=e.slice(0,r),o[r-1]=i,o):null;if(e[e.length-1]<i)return a?(o=e.slice(e.length-r),o[r-1]=i,o):null;for(let l=0,c=n.length;l<c;++l){const u=n[l];if(t!=u){if(i<e[t+r-1])return null;if(i<=e[u-1])return $T(e,t,u,r,i,!1);t=u}}return null}function O8(e,t,n,r){let i=e[t],a=e[t+1],s=0;for(let o=t+r;o<n;o+=r){const l=e[o],c=e[o+1];s+=Math.sqrt((l-i)*(l-i)+(c-a)*(c-a)),i=l,a=c}return s}let uat=class qT extends sp{constructor(t,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}appendCoordinate(t){this.flatCoordinates?Wc(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()}clone(){const t=new qT(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,r,i){return i<ip(this.getExtent(),t,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(_S(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),bS(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,n,r,i))}forEachSegment(t){return T8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0?n:!1,$T(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n))}getCoordinates(){return Kf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,n){return I8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,this.stride)}getLength(){return O8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(t){const n=[];return n.length=ES(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new qT(n,"XY")}getType(){return"LineString"}intersectsExtent(t){return d2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=h2(this.flatCoordinates,0,t,this.stride),this.changed()}};const Vx=uat;class AS{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new AS({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}const L8=AS,la={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function CO(e,t,n){return n===void 0&&(n=[0,0]),n[0]=e[0]+2*t,n[1]=e[1]+2*t,n}function AO(e){return e[0]>0&&e[1]>0}function P8(e,t,n){return n===void 0&&(n=[0,0]),n[0]=e[0]*t+.5|0,n[1]=e[1]*t+.5|0,n}function xs(e,t){return Array.isArray(e)?e:(t===void 0?t=[e,e]:(t[0]=e,t[1]=e),t)}class IS{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=xs(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new IS({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Qn()}getImage(t){return Qn()}getHitDetectionImage(){return Qn()}getPixelRatio(t){return 1}getImageState(){return Qn()}getImageSize(){return Qn()}getOrigin(){return Qn()}getSize(){return Qn()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=xs(t)}listenImageChange(t){Qn()}load(){Qn()}unlistenImageChange(t){Qn()}}const N8=IS,cat=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,fat=/^([a-z]*)$|^hsla?\(.*\)$/i;function R8(e){return typeof e=="string"?e:D8(e)}function hat(e){const t=document.createElement("div");if(t.style.color=e,t.style.color!==""){document.body.appendChild(t);const n=getComputedStyle(t).color;return document.body.removeChild(t),n}return""}const dat=function(){const t={};let n=0;return function(r){let i;if(t.hasOwnProperty(r))i=t[r];else{if(n>=1024){let a=0;for(const s in t)a++&3||(delete t[s],--n)}i=pat(r),t[r]=i,++n}return i}}();function Hx(e){return Array.isArray(e)?e:dat(e)}function pat(e){let t,n,r,i,a;if(fat.exec(e)&&(e=hat(e)),cat.exec(e)){const s=e.length-1;let o;s<=4?o=1:o=2;const l=s===4||s===8;t=parseInt(e.substr(1+0*o,o),16),n=parseInt(e.substr(1+1*o,o),16),r=parseInt(e.substr(1+2*o,o),16),l?i=parseInt(e.substr(1+3*o,o),16):i=255,o==1&&(t=(t<<4)+t,n=(n<<4)+n,r=(r<<4)+r,l&&(i=(i<<4)+i)),a=[t,n,r,i/255]}else e.startsWith("rgba(")?(a=e.slice(5,-1).split(",").map(Number),IO(a)):e.startsWith("rgb(")?(a=e.slice(4,-1).split(",").map(Number),a.push(1),IO(a)):Nr(!1,14);return a}function IO(e){return e[0]=ca(e[0]+.5|0,0,255),e[1]=ca(e[1]+.5|0,0,255),e[2]=ca(e[2]+.5|0,0,255),e[3]=ca(e[3],0,1),e}function D8(e){let t=e[0];t!=(t|0)&&(t=t+.5|0);let n=e[1];n!=(n|0)&&(n=n+.5|0);let r=e[2];r!=(r|0)&&(r=r+.5|0);const i=e[3]===void 0?1:Math.round(e[3]*100)/100;return"rgba("+t+","+n+","+r+","+i+")"}function $u(e){return Array.isArray(e)?D8(e):e}function Zo(e,t,n,r){let i;return n&&n.length?i=n.shift():vS?i=new OffscreenCanvas(e||300,t||300):i=document.createElement("canvas"),e&&(i.width=e),t&&(i.height=t),i.getContext("2d",r)}function p2(e){const t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function OO(e,t){const n=t.parentNode;n&&n.replaceChild(e,t)}function XT(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function gat(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function mat(e,t){const n=e.childNodes;for(let r=0;;++r){const i=n[r],a=t[r];if(!i&&!a)break;if(i!==a){if(!i){e.appendChild(a);continue}if(!a){e.removeChild(i),--r;continue}e.insertBefore(a,i)}}}const x1="ol-hidden",g2="ol-unselectable",OS="ol-control",LO="ol-collapsed",vat=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),PO=["style","variant","weight","size","lineHeight","family"],k8=function(e){const t=e.match(vat);if(!t)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let r=0,i=PO.length;r<i;++r){const a=t[r+1];a!==void 0&&(n[PO[r]]=a)}return n.families=n.family.split(/,\s?/),n},F8="10px sans-serif",gs="#000",Yx="round",$c=[],qc=0,Zg="round",bv=10,wv="#000",Tv="center",Wx="middle",gd=[0,0,0,0],Ev=1,kc=new pc;let tg=null,KT;const ZT={},yat=function(){const t="32px ",n=["monospace","serif"],r=n.length,i="wmytzilWMYTZIL@#/&?$%10";let a,s;function o(c,u,f){let h=!0;for(let d=0;d<r;++d){const p=n[d];if(s=$x(c+" "+u+" "+t+p,i),f!=p){const g=$x(c+" "+u+" "+t+f+","+p,i);h=h&&g!=s}}return!!h}function l(){let c=!0;const u=kc.getKeys();for(let f=0,h=u.length;f<h;++f){const d=u[f];kc.get(d)<100&&(o.apply(this,d.split(`
`))?(Dy(ZT),tg=null,KT=void 0,kc.set(d,100)):(kc.set(d,kc.get(d)+1,!0),c=!1))}c&&(clearInterval(a),a=void 0)}return function(c){const u=k8(c);if(!u)return;const f=u.families;for(let h=0,d=f.length;h<d;++h){const p=f[h],g=u.style+`
`+u.weight+`
`+p;kc.get(g)===void 0&&(kc.set(g,100,!0),o(u.style,u.weight,p)||(kc.set(g,0,!0),a===void 0&&(a=setInterval(l,32))))}}}(),_at=function(){let e;return function(t){let n=ZT[t];if(n==null){if(vS){const r=k8(t),i=z8(t,"g");n=(isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else e||(e=document.createElement("div"),e.innerHTML="M",e.style.minHeight="0",e.style.maxHeight="none",e.style.height="auto",e.style.padding="0",e.style.border="none",e.style.position="absolute",e.style.display="block",e.style.left="-99999px"),e.style.font=t,document.body.appendChild(e),n=e.offsetHeight,document.body.removeChild(e);ZT[t]=n}return n}}();function z8(e,t){return tg||(tg=Zo(1,1)),e!=KT&&(tg.font=e,KT=tg.font),tg.measureText(t)}function $x(e,t){return z8(e,t).width}function NO(e,t,n){if(t in n)return n[t];const r=t.split(`
`).reduce((i,a)=>Math.max(i,$x(e,a)),0);return n[t]=r,r}function xat(e,t){const n=[],r=[],i=[];let a=0,s=0,o=0,l=0;for(let c=0,u=t.length;c<=u;c+=2){const f=t[c];if(f===`
`||c===u){a=Math.max(a,s),i.push(s),s=0,o+=l;continue}const h=t[c+1]||e.font,d=$x(h,f);n.push(d),s+=d;const p=_at(h);r.push(p),l=Math.max(l,p)}return{width:a,height:o,widths:n,heights:r,lineWidths:i}}function bat(e,t,n,r,i,a,s,o,l,c,u){e.save(),n!==1&&(e.globalAlpha*=n),t&&e.setTransform.apply(e,t),r.contextInstructions?(e.translate(l,c),e.scale(u[0],u[1]),wat(r,e)):u[0]<0||u[1]<0?(e.translate(l,c),e.scale(u[0],u[1]),e.drawImage(r,i,a,s,o,0,0,s,o)):e.drawImage(r,i,a,s,o,l,c,s*u[0],o*u[1]),e.restore()}function wat(e,t){const n=e.contextInstructions;for(let r=0,i=n.length;r<i;r+=2)Array.isArray(n[r+1])?t[n[r]].apply(t,n[r+1]):t[n[r]]=n[r+1]}class LS extends N8{constructor(t){const n=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:1,rotateWithView:n,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode}),this.canvas_=void 0,this.hitDetectionCanvas_=null,this.fill_=t.fill!==void 0?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=t.radius!==void 0?t.radius:t.radius1,this.radius2_=t.radius2,this.angle_=t.angle!==void 0?t.angle:0,this.stroke_=t.stroke!==void 0?t.stroke:null,this.size_=null,this.renderOptions_=null,this.render()}clone(){const t=this.getScale(),n=new LS({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const t=this.size_;if(!t)return null;const n=this.getDisplacement(),r=this.getScaleArray();return[t[0]/2-n[0]/r[0],t[1]/2+n[1]/r[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}getImage(t){let n=this.canvas_[t];if(!n){const r=this.renderOptions_,i=Zo(r.size*t,r.size*t);this.draw_(r,i,t),n=i.canvas,this.canvas_[t]=n}return n}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return la.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,n,r){if(n===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return n;let i=this.radius_,a=this.radius2_===void 0?i:this.radius2_;if(i<a){const T=i;i=a,a=T}const s=this.radius2_===void 0?this.points_:this.points_*2,o=2*Math.PI/s,l=a*Math.sin(o),c=Math.sqrt(a*a-l*l),u=i-c,f=Math.sqrt(l*l+u*u),h=f/l;if(t==="miter"&&h<=r)return h*n;const d=n/2/h,p=n/2*(u/f),m=Math.sqrt((i+d)*(i+d)+p*p)-i;if(this.radius2_===void 0||t==="bevel")return m*2;const v=i*Math.sin(o),y=Math.sqrt(i*i-v*v),_=a-y,w=Math.sqrt(v*v+_*_)/v;if(w<=r){const T=w*n/2-a-i;return 2*Math.max(m,T)}return m*2}createRenderOptions(){let t=Zg,n=0,r=null,i=0,a,s=0;this.stroke_&&(a=this.stroke_.getColor(),a===null&&(a=wv),a=$u(a),s=this.stroke_.getWidth(),s===void 0&&(s=Ev),r=this.stroke_.getLineDash(),i=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),t===void 0&&(t=Zg),n=this.stroke_.getMiterLimit(),n===void 0&&(n=bv));const o=this.calculateLineJoinSize_(t,s,n),l=Math.max(this.radius_,this.radius2_||0),c=Math.ceil(2*l+o);return{strokeStyle:a,strokeWidth:s,size:c,lineDash:r,lineDashOffset:i,lineJoin:t,miterLimit:n}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]}draw_(t,n,r){if(n.scale(r,r),n.translate(t.size/2,t.size/2),this.createPath_(n),this.fill_){let i=this.fill_.getColor();i===null&&(i=gs),n.fillStyle=$u(i),n.fill()}this.stroke_&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}createHitDetectionCanvas_(t){if(this.fill_){let n=this.fill_.getColor(),r=0;if(typeof n=="string"&&(n=Hx(n)),n===null?r=1:Array.isArray(n)&&(r=n.length===4?n[3]:1),r===0){const i=Zo(t.size,t.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(t,i)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(t){let n=this.points_;const r=this.radius_;if(n===1/0)t.arc(0,0,r,0,2*Math.PI);else{const i=this.radius2_===void 0?r:this.radius2_;this.radius2_!==void 0&&(n*=2);const a=this.angle_-Math.PI/2,s=2*Math.PI/n;for(let o=0;o<n;o++){const l=a+o*s,c=o%2===0?r:i;t.lineTo(c*Math.cos(l),c*Math.sin(l))}t.closePath()}}drawHitDetectionCanvas_(t,n){n.translate(t.size/2,t.size/2),this.createPath_(n),n.fillStyle=gs,n.fill(),this.stroke_&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}}const B8=LS;class PS extends B8{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:t.scale!==void 0?t.scale:1,rotation:t.rotation!==void 0?t.rotation:0,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),n=new PS({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(t){this.radius_=t,this.render()}}const G8=PS;class m2{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=RO,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new m2({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(n){return n.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=RO,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function Tat(e){let t;if(typeof e=="function")t=e;else{let n;Array.isArray(e)?n=e:(Nr(typeof e.getZIndex=="function",41),n=[e]),t=function(){return n}}return t}let T3=null;function Eat(e,t){if(!T3){const n=new CS({color:"rgba(255,255,255,0.4)"}),r=new L8({color:"#3399CC",width:1.25});T3=[new m2({image:new G8({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return T3}function RO(e){return e.getGeometry()}const JT=m2,Mat="#333";class NS{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=xs(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new CS({color:Mat}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding}clone(){const t=this.getScale();return new NS({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=xs(t!==void 0?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}const Sat=NS,gi={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class Cat extends pc{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const n=Object.assign({},t);typeof t.properties=="object"&&(delete n.properties,Object.assign(n,t.properties)),n[gi.OPACITY]=t.opacity!==void 0?t.opacity:1,Nr(typeof n[gi.OPACITY]=="number",64),n[gi.VISIBLE]=t.visible!==void 0?t.visible:!0,n[gi.Z_INDEX]=t.zIndex,n[gi.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,n[gi.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,n[gi.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,n[gi.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const n=this.state_||{layer:this,managed:t===void 0?!0:t},r=this.getZIndex();return n.opacity=ca(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=r===void 0&&!n.managed?1/0:r,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(t){return Qn()}getLayerStatesArray(t){return Qn()}getExtent(){return this.get(gi.EXTENT)}getMaxResolution(){return this.get(gi.MAX_RESOLUTION)}getMinResolution(){return this.get(gi.MIN_RESOLUTION)}getMinZoom(){return this.get(gi.MIN_ZOOM)}getMaxZoom(){return this.get(gi.MAX_ZOOM)}getOpacity(){return this.get(gi.OPACITY)}getSourceState(){return Qn()}getVisible(){return this.get(gi.VISIBLE)}getZIndex(){return this.get(gi.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(gi.EXTENT,t)}setMaxResolution(t){this.set(gi.MAX_RESOLUTION,t)}setMinResolution(t){this.set(gi.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(gi.MAX_ZOOM,t)}setMinZoom(t){this.set(gi.MIN_ZOOM,t)}setOpacity(t){Nr(typeof t=="number",64),this.set(gi.OPACITY,t)}setVisible(t){this.set(gi.VISIBLE,t)}setZIndex(t){this.set(gi.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const j8=Cat,Eo={ANIMATING:0,INTERACTING:1},nu={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},Aat=42,RS=256;function DO(e,t,n){return function(r,i,a,s,o){if(!r)return;if(!i&&!t)return r;const l=t?0:a[0]*i,c=t?0:a[1]*i,u=o?o[0]:0,f=o?o[1]:0;let h=e[0]+l/2+u,d=e[2]-l/2+u,p=e[1]+c/2+f,g=e[3]-c/2+f;h>d&&(h=(d+h)/2,d=h),p>g&&(p=(g+p)/2,g=p);let m=ca(r[0],h,d),v=ca(r[1],p,g);if(s&&n&&i){const y=30*i;m+=-y*Math.log(1+Math.max(0,h-r[0])/y)+y*Math.log(1+Math.max(0,r[0]-d)/y),v+=-y*Math.log(1+Math.max(0,p-r[1])/y)+y*Math.log(1+Math.max(0,r[1]-g)/y)}return[m,v]}}function Iat(e){return e}function DS(e,t,n,r){const i=Ei(t)/n[0],a=oc(t)/n[1];return r?Math.min(e,Math.max(i,a)):Math.min(e,Math.min(i,a))}function kS(e,t,n){let r=Math.min(e,t);const i=50;return r*=Math.log(1+i*Math.max(0,e/t-1))/i+1,n&&(r=Math.max(r,n),r/=Math.log(1+i*Math.max(0,n/e-1))/i+1),ca(r,n/2,t*2)}function Oat(e,t,n,r){return t=t!==void 0?t:!0,function(i,a,s,o){if(i!==void 0){const l=e[0],c=e[e.length-1],u=n?DS(l,n,s,r):l;if(o)return t?kS(i,u,c):ca(i,c,u);const f=Math.min(u,i),h=Math.floor(gS(e,f,a));return e[h]>u&&h<e.length-1?e[h+1]:e[h]}}}function Lat(e,t,n,r,i,a){return r=r!==void 0?r:!0,n=n!==void 0?n:0,function(s,o,l,c){if(s!==void 0){const u=i?DS(t,i,l,a):t;if(c)return r?kS(s,u,n):ca(s,n,u);const f=1e-9,h=Math.ceil(Math.log(t/u)/Math.log(e)-f),d=-o*(.5-f)+.5,p=Math.min(u,s),g=Math.floor(Math.log(t/p)/Math.log(e)+d),m=Math.max(h,g),v=t/Math.pow(e,m);return ca(v,n,u)}}}function kO(e,t,n,r,i){return n=n!==void 0?n:!0,function(a,s,o,l){if(a!==void 0){const c=r?DS(e,r,o,i):e;return!n||!l?ca(a,t,c):kS(a,c,t)}}}function FS(e){if(e!==void 0)return 0}function FO(e){if(e!==void 0)return e}function Pat(e){const t=2*Math.PI/e;return function(n,r){if(r)return n;if(n!==void 0)return n=Math.floor(n/t+.5)*t,n}}function Nat(e){return e=e||rx(5),function(t,n){if(n)return t;if(t!==void 0)return Math.abs(t)<=e?0:t}}function U8(e){return Math.pow(e,3)}function N0(e){return 1-U8(1-e)}function Rat(e){return 3*e*e-2*e*e*e}function Dat(e){return e}const E3=0;class kat extends pc{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=sS(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&Bnt(),t.center&&(t.center=Dc(t.center,this.projection_)),t.extent&&(t.extent=dd(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const n=Object.assign({},t);for(const o in nu)delete n[o];this.setProperties(n,!0);const r=zat(t);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=r.minZoom;const i=Fat(t),a=r.constraint,s=Bat(t);this.constraints_={center:i,resolution:a,rotation:s},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let n=this.padding_;this.padding_=t;const r=this.getCenterInternal();if(r){const i=t||[0,0,0,0];n=n||[0,0,0,0];const a=this.getResolution(),s=a/2*(i[3]-n[3]+n[1]-i[1]),o=a/2*(i[0]-n[0]+n[2]-i[2]);this.setCenterInternal([r[0]+s,r[1]-o])}}getUpdatedOptions_(t){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let r=0;r<n.length;++r){let i=arguments[r];i.center&&(i=Object.assign({},i),i.center=Dc(i.center,this.getProjection())),i.anchor&&(i=Object.assign({},i),i.anchor=Dc(i.anchor,this.getProjection())),n[r]=i}this.animateInternal.apply(this,n)}animateInternal(t){let n=arguments.length,r;n>1&&typeof arguments[n-1]=="function"&&(r=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const u=arguments[i];u.center&&this.setCenterInternal(u.center),u.zoom!==void 0?this.setZoom(u.zoom):u.resolution&&this.setResolution(u.resolution),u.rotation!==void 0&&this.setRotation(u.rotation)}if(i===n){r&&b1(r,!0);return}let a=Date.now(),s=this.targetCenter_.slice(),o=this.targetResolution_,l=this.targetRotation_;const c=[];for(;i<n;++i){const u=arguments[i],f={start:a,complete:!1,anchor:u.anchor,duration:u.duration!==void 0?u.duration:1e3,easing:u.easing||Rat,callback:r};if(u.center&&(f.sourceCenter=s,f.targetCenter=u.center.slice(),s=f.targetCenter),u.zoom!==void 0?(f.sourceResolution=o,f.targetResolution=this.getResolutionForZoom(u.zoom),o=f.targetResolution):u.resolution&&(f.sourceResolution=o,f.targetResolution=u.resolution,o=f.targetResolution),u.rotation!==void 0){f.sourceRotation=l;const h=Sd(u.rotation-l+Math.PI,2*Math.PI)-Math.PI;f.targetRotation=l+h,l=f.targetRotation}Gat(f)?f.complete=!0:a+=f.duration,c.push(f)}this.animations_.push(c),this.setHint(Eo.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Eo.ANIMATING]>0}getInteracting(){return this.hints_[Eo.INTERACTING]>0}cancelAnimations(){this.setHint(Eo.ANIMATING,-this.hints_[Eo.ANIMATING]);let t;for(let n=0,r=this.animations_.length;n<r;++n){const i=this.animations_[n];if(i[0].callback&&b1(i[0].callback,!1),!t)for(let a=0,s=i.length;a<s;++a){const o=i[a];if(!o.complete){t=o.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let n=!1;for(let r=this.animations_.length-1;r>=0;--r){const i=this.animations_[r];let a=!0;for(let s=0,o=i.length;s<o;++s){const l=i[s];if(l.complete)continue;const c=t-l.start;let u=l.duration>0?c/l.duration:1;u>=1?(l.complete=!0,u=1):a=!1;const f=l.easing(u);if(l.sourceCenter){const h=l.sourceCenter[0],d=l.sourceCenter[1],p=l.targetCenter[0],g=l.targetCenter[1];this.nextCenter_=l.targetCenter;const m=h+f*(p-h),v=d+f*(g-d);this.targetCenter_=[m,v]}if(l.sourceResolution&&l.targetResolution){const h=f===1?l.targetResolution:l.sourceResolution+f*(l.targetResolution-l.sourceResolution);if(l.anchor){const d=this.getViewportSize_(this.getRotation()),p=this.constraints_.resolution(h,0,d,!0);this.targetCenter_=this.calculateCenterZoom(p,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=h,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){const h=f===1?Sd(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+f*(l.targetRotation-l.sourceRotation);if(l.anchor){const d=this.constraints_.rotation(h,!0);this.targetCenter_=this.calculateCenterRotate(d,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=h}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(a){this.animations_[r]=null,this.setHint(Eo.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const s=i[0].callback;s&&b1(s,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,n){let r;const i=this.getCenterInternal();return i!==void 0&&(r=[i[0]-n[0],i[1]-n[1]],aS(r,t-this.getRotation()),Dnt(r,n)),r}calculateCenterZoom(t,n){let r;const i=this.getCenterInternal(),a=this.getResolution();if(i!==void 0&&a!==void 0){const s=n[0]-t*(n[0]-i[0])/a,o=n[1]-t*(n[1]-i[1])/a;r=[s,o]}return r}getViewportSize_(t){const n=this.viewportSize_;if(t){const r=n[0],i=n[1];return[Math.abs(r*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(r*Math.sin(t))+Math.abs(i*Math.cos(t))]}return n}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t&&kT(t,this.getProjection())}getCenterInternal(){return this.get(nu.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const n=this.calculateExtentInternal(t);return BR(n,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();Nr(n,1);const r=this.getResolution();Nr(r!==void 0,2);const i=this.getRotation();return Nr(i!==void 0,3),PT(n,r,i,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(nu.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,n){return this.getResolutionForExtentInternal(dd(t,this.getProjection()),n)}getResolutionForExtentInternal(t,n){n=n||this.getViewportSizeMinusPadding_();const r=Ei(t)/n[0],i=oc(t)/n[1];return Math.max(r,i)}getResolutionForValueFunction(t){t=t||2;const n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/Math.log(t);return function(a){return n/Math.pow(t,a*i)}}getRotation(){return this.get(nu.ROTATION)}getValueForResolutionFunction(t){const n=Math.log(t||2),r=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,a=Math.log(r/i)/n;return function(s){return Math.log(r/s)/n/a}}getViewportSizeMinusPadding_(t){let n=this.getViewportSize_(t);const r=this.padding_;return r&&(n=[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n}getState(){const t=this.getProjection(),n=this.getResolution(),r=this.getRotation();let i=this.getCenterInternal();const a=this.padding_;if(a){const s=this.getViewportSizeMinusPadding_();i=M3(i,this.getViewportSize_(),[s[0]/2+a[3],s[1]/2+a[0]],n,r)}return{center:i.slice(0),projection:t!==void 0?t:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const n=this.getResolution();return n!==void 0&&(t=this.getZoomForResolution(n)),t}getZoomForResolution(t){let n=this.minZoom_||0,r,i;if(this.resolutions_){const a=gS(this.resolutions_,t,1);n=a,r=this.resolutions_[a],a==this.resolutions_.length-1?i=2:i=r/this.resolutions_[a+1]}else r=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(r/t)/Math.log(i)}getResolutionForZoom(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const n=ca(Math.floor(t),0,this.resolutions_.length-2),r=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(r,ca(t-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,n){let r;if(Nr(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function",24),Array.isArray(t)){Nr(!ky(t),25);const i=dd(t,this.getProjection());r=SO(i)}else if(t.getType()==="Circle"){const i=dd(t.getExtent(),this.getProjection());r=SO(i),r.rotate(this.getRotation(),Fd(i))}else r=t;this.fitInternal(r,n)}rotatedExtentForGeometry(t){const n=this.getRotation(),r=Math.cos(n),i=Math.sin(-n),a=t.getFlatCoordinates(),s=t.getStride();let o=1/0,l=1/0,c=-1/0,u=-1/0;for(let f=0,h=a.length;f<h;f+=s){const d=a[f]*r-a[f+1]*i,p=a[f]*i+a[f+1]*r;o=Math.min(o,d),l=Math.min(l,p),c=Math.max(c,d),u=Math.max(u,p)}return[o,l,c,u]}fitInternal(t,n){n=n||{};let r=n.size;r||(r=this.getViewportSizeMinusPadding_());const i=n.padding!==void 0?n.padding:[0,0,0,0],a=n.nearest!==void 0?n.nearest:!1;let s;n.minResolution!==void 0?s=n.minResolution:n.maxZoom!==void 0?s=this.getResolutionForZoom(n.maxZoom):s=0;const o=this.rotatedExtentForGeometry(t);let l=this.getResolutionForExtentInternal(o,[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]);l=isNaN(l)?s:Math.max(l,s),l=this.getConstrainedResolution(l,a?0:1);const c=this.getRotation(),u=Math.sin(c),f=Math.cos(c),h=Fd(o);h[0]+=(i[1]-i[3])/2*l,h[1]+=(i[0]-i[2])/2*l;const d=h[0]*f-h[1]*u,p=h[1]*f+h[0]*u,g=this.getConstrainedCenter([d,p],l),m=n.callback?n.callback:Kg;n.duration!==void 0?this.animateInternal({resolution:l,center:g,duration:n.duration,easing:n.easing},m):(this.targetResolution_=l,this.targetCenter_=g,this.applyTargetState_(!1,!0),b1(m,!0))}centerOn(t,n,r){this.centerOnInternal(Dc(t,this.getProjection()),n,r)}centerOnInternal(t,n,r){this.setCenterInternal(M3(t,n,r,this.getResolution(),this.getRotation()))}calculateCenterShift(t,n,r,i){let a;const s=this.padding_;if(s&&t){const o=this.getViewportSizeMinusPadding_(-r),l=M3(t,i,[o[0]/2+s[3],o[1]/2+s[0]],n,r);a=[t[0]-l[0],t[1]-l[1]]}return a}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(t){const n=kT(this.targetCenter_,this.getProjection());this.setCenter([n[0]+t[0],n[1]+t[1]])}adjustCenterInternal(t){const n=this.targetCenter_;this.setCenterInternal([n[0]+t[0],n[1]+t[1]])}adjustResolution(t,n){n=n&&Dc(n,this.getProjection()),this.adjustResolutionInternal(t,n)}adjustResolutionInternal(t,n){const r=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),a=this.constraints_.resolution(this.targetResolution_*t,0,i,r);n&&(this.targetCenter_=this.calculateCenterZoom(a,n)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,n){this.adjustResolution(Math.pow(this.zoomFactor_,-t),n)}adjustRotation(t,n){n&&(n=Dc(n,this.getProjection())),this.adjustRotationInternal(t,n)}adjustRotationInternal(t,n){const r=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,r);n&&(this.targetCenter_=this.calculateCenterRotate(i,n)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&Dc(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,n){return this.hints_[t]+=n,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,n){const r=this.getAnimating()||this.getInteracting()||n,i=this.constraints_.rotation(this.targetRotation_,r),a=this.getViewportSize_(i),s=this.constraints_.resolution(this.targetResolution_,0,a,r),o=this.constraints_.center(this.targetCenter_,s,a,r,this.calculateCenterShift(this.targetCenter_,s,i,a));this.get(nu.ROTATION)!==i&&this.set(nu.ROTATION,i),this.get(nu.RESOLUTION)!==s&&(this.set(nu.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!o||!this.get(nu.CENTER)||!Bx(this.get(nu.CENTER),o))&&this.set(nu.CENTER,o),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,n,r){t=t!==void 0?t:200;const i=n||0,a=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(a),o=this.constraints_.resolution(this.targetResolution_,i,s),l=this.constraints_.center(this.targetCenter_,o,s,!1,this.calculateCenterShift(this.targetCenter_,o,a,s));if(t===0&&!this.cancelAnchor_){this.targetResolution_=o,this.targetRotation_=a,this.targetCenter_=l,this.applyTargetState_();return}r=r||(t===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==o||this.getRotation()!==a||!this.getCenterInternal()||!Bx(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:a,center:l,resolution:o,duration:t,easing:N0,anchor:r}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Eo.INTERACTING,1)}endInteraction(t,n,r){r=r&&Dc(r,this.getProjection()),this.endInteractionInternal(t,n,r)}endInteractionInternal(t,n,r){this.getInteracting()&&(this.setHint(Eo.INTERACTING,-1),this.resolveConstraints(t,n,r))}getConstrainedCenter(t,n){const r=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,n||this.getResolution(),r)}getConstrainedZoom(t,n){const r=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(r,n))}getConstrainedResolution(t,n){n=n||0;const r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,r)}}function b1(e,t){setTimeout(function(){e(t)},0)}function Fat(e){if(e.extent!==void 0){const n=e.smoothExtentConstraint!==void 0?e.smoothExtentConstraint:!0;return DO(e.extent,e.constrainOnlyCenter,n)}const t=sS(e.projection,"EPSG:3857");if(e.multiWorld!==!0&&t.isGlobal()){const n=t.getExtent().slice();return n[0]=-1/0,n[2]=1/0,DO(n,!1,!1)}return Iat}function zat(e){let t,n,r,s=e.minZoom!==void 0?e.minZoom:E3,o=e.maxZoom!==void 0?e.maxZoom:28;const l=e.zoomFactor!==void 0?e.zoomFactor:2,c=e.multiWorld!==void 0?e.multiWorld:!1,u=e.smoothResolutionConstraint!==void 0?e.smoothResolutionConstraint:!0,f=e.showFullExtent!==void 0?e.showFullExtent:!1,h=sS(e.projection,"EPSG:3857"),d=h.getExtent();let p=e.constrainOnlyCenter,g=e.extent;if(!c&&!g&&h.isGlobal()&&(p=!1,g=d),e.resolutions!==void 0){const m=e.resolutions;n=m[s],r=m[o]!==void 0?m[o]:m[m.length-1],e.constrainResolution?t=Oat(m,u,!p&&g,f):t=kO(n,r,u,!p&&g,f)}else{const v=(d?Math.max(Ei(d),oc(d)):360*hv.degrees/h.getMetersPerUnit())/RS/Math.pow(2,E3),y=v/Math.pow(2,28-E3);n=e.maxResolution,n!==void 0?s=0:n=v/Math.pow(l,s),r=e.minResolution,r===void 0&&(e.maxZoom!==void 0?e.maxResolution!==void 0?r=n/Math.pow(l,o):r=v/Math.pow(l,o):r=y),o=s+Math.floor(Math.log(n/r)/Math.log(l)),r=n/Math.pow(l,o-s),e.constrainResolution?t=Lat(l,n,r,u,!p&&g,f):t=kO(n,r,u,!p&&g,f)}return{constraint:t,maxResolution:n,minResolution:r,minZoom:s,zoomFactor:l}}function Bat(e){if(e.enableRotation!==void 0?e.enableRotation:!0){const n=e.constrainRotation;return n===void 0||n===!0?Nat():n===!1?FO:typeof n=="number"?Pat(n):FO}return FS}function Gat(e){return!(e.sourceCenter&&e.targetCenter&&!Bx(e.sourceCenter,e.targetCenter)||e.sourceResolution!==e.targetResolution||e.sourceRotation!==e.targetRotation)}function M3(e,t,n,r,i){const a=Math.cos(-i);let s=Math.sin(-i),o=e[0]*a-e[1]*s,l=e[1]*a+e[0]*s;o+=(t[0]/2-n[0])*r,l+=(n[1]-t[1]/2)*r,s=-s;const c=o*a-l*s,u=l*a+o*s;return[c,u]}const Bc=kat;class jat extends j8{constructor(t){const n=Object.assign({},t);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(gi.SOURCE,this.handleSourcePropertyChange_);const r=t.source?t.source:null;this.setSource(r)}getLayersArray(t){return t=t||[],t.push(this),t}getLayerStatesArray(t){return t=t||[],t.push(this.getLayerState()),t}getSource(){return this.get(gi.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Fi(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=Qr(t,Sr.CHANGE,this.handleSourceChange_,this),t.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)}isVisible(t){let n;const r=this.getMapInternal();!t&&r&&(t=r.getView()),t instanceof Bc?n={viewState:t.getState(),extent:t.calculateExtent()}:n=t,!n.layerStatesArray&&r&&(n.layerStatesArray=r.getLayerGroup().getLayerStatesArray());let i;n.layerStatesArray?i=n.layerStatesArray.find(s=>s.layer===this):i=this.getLayerState();const a=this.getExtent();return zS(i,n.viewState)&&(!a||vs(a,n.extent))}getAttributions(t){if(!this.isVisible(t))return[];let n;const r=this.getSource();if(r&&(n=r.getAttributions()),!n)return[];const i=t instanceof Bc?t.getViewStateAndExtent():t;let a=n(i);return Array.isArray(a)||(a=[a]),a}render(t,n){const r=this.getRenderer();return r.prepareFrame(t)?(this.rendered=!0,r.renderFrame(t,n)):null}unrender(){this.rendered=!1}setMapInternal(t){t||this.unrender(),this.set(gi.MAP,t)}getMapInternal(){return this.get(gi.MAP)}setMap(t){this.mapPrecomposeKey_&&(Fi(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Fi(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Qr(t,ec.PRECOMPOSE,function(n){const i=n.frameState.layerStatesArray,a=this.getLayerState(!1);Nr(!i.some(function(s){return s.layer===a.layer}),67),i.push(a)},this),this.mapRenderKey_=Qr(this,Sr.CHANGE,t.render,t),this.changed())}setSource(t){this.set(gi.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function zS(e,t){if(!e.visible)return!1;const n=t.resolution;if(n<e.minResolution||n>=e.maxResolution)return!1;const r=t.zoom;return r>e.minZoom&&r<=e.maxZoom}const v2=jat;function Uat(e,t,n,r,i){V8(e,t,n||0,r||e.length-1,i||Vat)}function V8(e,t,n,r,i){for(;r>n;){if(r-n>600){var a=r-n+1,s=t-n+1,o=Math.log(a),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(a-l)/a)*(s-a/2<0?-1:1),u=Math.max(n,Math.floor(t-s*l/a+c)),f=Math.min(r,Math.floor(t+(a-s)*l/a+c));V8(e,t,u,f,i)}var h=e[t],d=n,p=r;for(gm(e,n,t),i(e[r],h)>0&&gm(e,n,r);d<p;){for(gm(e,d,p),d++,p--;i(e[d],h)<0;)d++;for(;i(e[p],h)>0;)p--}i(e[n],h)===0?gm(e,n,p):(p++,gm(e,p,r)),p<=t&&(n=p+1),t<=p&&(r=p-1)}}function gm(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Vat(e,t){return e<t?-1:e>t?1:0}let H8=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let n=this.data;const r=[];if(!T1(t,n))return r;const i=this.toBBox,a=[];for(;n;){for(let s=0;s<n.children.length;s++){const o=n.children[s],l=n.leaf?i(o):o;T1(t,l)&&(n.leaf?r.push(o):C3(t,l)?this._all(o,r):a.push(o))}n=a.pop()}return r}collides(t){let n=this.data;if(!T1(t,n))return!1;const r=[];for(;n;){for(let i=0;i<n.children.length;i++){const a=n.children[i],s=n.leaf?this.toBBox(a):a;if(T1(t,s)){if(n.leaf||C3(t,s))return!0;r.push(a)}}n=r.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let r=0;r<t.length;r++)this.insert(t[r]);return this}let n=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=eg([]),this}remove(t,n){if(!t)return this;let r=this.data;const i=this.toBBox(t),a=[],s=[];let o,l,c;for(;r||a.length;){if(r||(r=a.pop(),l=a[a.length-1],o=s.pop(),c=!0),r.leaf){const u=Hat(t,r.children,n);if(u!==-1)return r.children.splice(u,1),a.push(r),this._condense(a),this}!c&&!r.leaf&&C3(r,i)?(a.push(r),s.push(o),o=0,l=r,r=r.children[0]):l?(o++,r=l.children[o],c=!1):r=null}return this}toBBox(t){return t}compareMinX(t,n){return t.minX-n.minX}compareMinY(t,n){return t.minY-n.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,n){const r=[];for(;t;)t.leaf?n.push(...t.children):r.push(...t.children),t=r.pop();return n}_build(t,n,r,i){const a=r-n+1;let s=this._maxEntries,o;if(a<=s)return o=eg(t.slice(n,r+1)),Up(o,this.toBBox),o;i||(i=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,i-1))),o=eg([]),o.leaf=!1,o.height=i;const l=Math.ceil(a/s),c=l*Math.ceil(Math.sqrt(s));zO(t,n,r,c,this.compareMinX);for(let u=n;u<=r;u+=c){const f=Math.min(u+c-1,r);zO(t,u,f,l,this.compareMinY);for(let h=u;h<=f;h+=l){const d=Math.min(h+l-1,f);o.children.push(this._build(t,h,d,i-1))}}return Up(o,this.toBBox),o}_chooseSubtree(t,n,r,i){for(;i.push(n),!(n.leaf||i.length-1===r);){let a=1/0,s=1/0,o;for(let l=0;l<n.children.length;l++){const c=n.children[l],u=S3(c),f=$at(t,c)-u;f<s?(s=f,a=u<a?u:a,o=c):f===s&&u<a&&(a=u,o=c)}n=o||n.children[0]}return n}_insert(t,n,r){const i=r?t:this.toBBox(t),a=[],s=this._chooseSubtree(i,this.data,n,a);for(s.children.push(t),Im(s,i);n>=0&&a[n].children.length>this._maxEntries;)this._split(a,n),n--;this._adjustParentBBoxes(i,a,n)}_split(t,n){const r=t[n],i=r.children.length,a=this._minEntries;this._chooseSplitAxis(r,a,i);const s=this._chooseSplitIndex(r,a,i),o=eg(r.children.splice(s,r.children.length-s));o.height=r.height,o.leaf=r.leaf,Up(r,this.toBBox),Up(o,this.toBBox),n?t[n-1].children.push(o):this._splitRoot(r,o)}_splitRoot(t,n){this.data=eg([t,n]),this.data.height=t.height+1,this.data.leaf=!1,Up(this.data,this.toBBox)}_chooseSplitIndex(t,n,r){let i,a=1/0,s=1/0;for(let o=n;o<=r-n;o++){const l=Am(t,0,o,this.toBBox),c=Am(t,o,r,this.toBBox),u=qat(l,c),f=S3(l)+S3(c);u<a?(a=u,i=o,s=f<s?f:s):u===a&&f<s&&(s=f,i=o)}return i||r-n}_chooseSplitAxis(t,n,r){const i=t.leaf?this.compareMinX:Yat,a=t.leaf?this.compareMinY:Wat,s=this._allDistMargin(t,n,r,i),o=this._allDistMargin(t,n,r,a);s<o&&t.children.sort(i)}_allDistMargin(t,n,r,i){t.children.sort(i);const a=this.toBBox,s=Am(t,0,n,a),o=Am(t,r-n,r,a);let l=w1(s)+w1(o);for(let c=n;c<r-n;c++){const u=t.children[c];Im(s,t.leaf?a(u):u),l+=w1(s)}for(let c=r-n-1;c>=n;c--){const u=t.children[c];Im(o,t.leaf?a(u):u),l+=w1(o)}return l}_adjustParentBBoxes(t,n,r){for(let i=r;i>=0;i--)Im(n[i],t)}_condense(t){for(let n=t.length-1,r;n>=0;n--)t[n].children.length===0?n>0?(r=t[n-1].children,r.splice(r.indexOf(t[n]),1)):this.clear():Up(t[n],this.toBBox)}};function Hat(e,t,n){if(!n)return t.indexOf(e);for(let r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function Up(e,t){Am(e,0,e.children.length,t,e)}function Am(e,t,n,r,i){i||(i=eg(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let a=t;a<n;a++){const s=e.children[a];Im(i,e.leaf?r(s):s)}return i}function Im(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function Yat(e,t){return e.minX-t.minX}function Wat(e,t){return e.minY-t.minY}function S3(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function w1(e){return e.maxX-e.minX+(e.maxY-e.minY)}function $at(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function qat(e,t){const n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),a=Math.min(e.maxY,t.maxY);return Math.max(0,i-n)*Math.max(0,a-r)}function C3(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function T1(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function eg(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function zO(e,t,n,r,i){const a=[t,n];for(;a.length;){if(n=a.pop(),t=a.pop(),n-t<=r)continue;const s=t+Math.ceil((n-t)/r/2)*r;Uat(e,s,t,n,i),a.push(t,s,s,n)}}class Xat{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const n in this.cache_){const r=this.cache_[n];!(t++&3)&&!r.hasListener()&&(delete this.cache_[n],--this.cacheSize_)}}}get(t,n,r){const i=BO(t,n,r);return i in this.cache_?this.cache_[i]:null}set(t,n,r,i){const a=BO(t,n,r);this.cache_[a]=i,++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function BO(e,t,n){const r=n?R8(n):"null";return t+":"+e+":"+r}const qx=new Xat;function Y8(e,t,n){const r=e;let i=!0,a=!1,s=!1;const o=[Ux(r,Sr.LOAD,function(){s=!0,a||t()})];return r.src&&Rit?(a=!0,r.decode().then(function(){i&&t()}).catch(function(l){i&&(s?t():n())})):o.push(Ux(r,Sr.ERROR,n)),function(){i=!1,o.forEach(Fi)}}let mm=null;class Kat extends c2{constructor(t,n,r,i,a,s){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=i,this.canvas_={},this.color_=s,this.unlisten_=null,this.imageState_=a,this.size_=r,this.src_=n,this.tainted_}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===la.LOADED){mm||(mm=Zo(1,1,void 0,{willReadFrequently:!0})),mm.drawImage(this.image_,0,0);try{mm.getImageData(0,0,1,1),this.tainted_=!1}catch{mm=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Sr.CHANGE)}handleImageError_(){this.imageState_=la.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=la.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],n=this.size_[1],r=Zo(t,n);r.fillRect(0,0,t,n),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===la.IDLE){this.image_||this.initializeImage_(),this.imageState_=la.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=Y8(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==la.LOADED)return;const n=this.image_,r=document.createElement("canvas");r.width=Math.ceil(n.width*t),r.height=Math.ceil(n.height*t);const i=r.getContext("2d");i.scale(t,t),i.drawImage(n,0,0),i.globalCompositeOperation="multiply",i.fillStyle=R8(this.color_),i.fillRect(0,0,r.width/t,r.height/t),i.globalCompositeOperation="destination-in",i.drawImage(n,0,0),this.canvas_[t]=r}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function Zat(e,t,n,r,i,a){let s=qx.get(t,r,a);return s||(s=new Kat(e,t,n,r,i,a),qx.set(t,r,a,s)),s}function GO(e,t,n,r){return n!==void 0&&r!==void 0?[n/e,r/t]:n!==void 0?n/e:r!==void 0?r/t:1}class BS extends N8{constructor(t){t=t||{};const n=t.opacity!==void 0?t.opacity:1,r=t.rotation!==void 0?t.rotation:0,i=t.scale!==void 0?t.scale:1,a=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:n,rotation:r,scale:i,displacement:t.displacement!==void 0?t.displacement:[0,0],rotateWithView:a,declutterMode:t.declutterMode}),this.anchor_=t.anchor!==void 0?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin!==void 0?t.anchorOrigin:"top-left",this.anchorXUnits_=t.anchorXUnits!==void 0?t.anchorXUnits:"fraction",this.anchorYUnits_=t.anchorYUnits!==void 0?t.anchorYUnits:"fraction",this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;const s=t.img!==void 0?t.img:null;this.imgSize_=t.imgSize;let o=t.src;Nr(!(o!==void 0&&s),4),Nr(!s||s&&this.imgSize_,5),(o===void 0||o.length===0)&&s&&(o=s.src||si(s)),Nr(o!==void 0&&o.length>0,6),Nr(!((t.width!==void 0||t.height!==void 0)&&t.scale!==void 0),69);const l=t.src!==void 0?la.IDLE:la.LOADED;if(this.color_=t.color!==void 0?Hx(t.color):null,this.iconImage_=Zat(s,o,this.imgSize_!==void 0?this.imgSize_:null,this.crossOrigin_,l,this.color_),this.offset_=t.offset!==void 0?t.offset:[0,0],this.offsetOrigin_=t.offsetOrigin!==void 0?t.offsetOrigin:"top-left",this.origin_=null,this.size_=t.size!==void 0?t.size:null,t.width!==void 0||t.height!==void 0){let c,u;if(t.size)[c,u]=t.size;else{const f=this.getImage(1);if(f instanceof HTMLCanvasElement||f.src&&f.complete)c=f.width,u=f.height;else{this.initialOptions_=t;const h=()=>{if(this.unlistenImageChange(h),!this.initialOptions_)return;const d=this.iconImage_.getSize();this.setScale(GO(d[0],d[1],t.width,t.height))};this.listenImageChange(h);return}}c!==void 0&&this.setScale(GO(c,u,t.width,t.height))}}clone(){let t,n,r;return this.initialOptions_?(n=this.initialOptions_.width,r=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new BS({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:n,height:r,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const i=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!i)return null;t=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(t[0]*=i[0]),this.anchorYUnits_=="fraction"&&(t[1]*=i[1])}if(this.anchorOrigin_!="top-left"){if(!i)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(t[0]=-t[0]+i[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(t[1]=-t[1]+i[1])}this.normalizedAnchor_=t}const n=this.getDisplacement(),r=this.getScaleArray();return[t[0]-n[0]/r[0],t[1]+n[1]/r[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),r=this.iconImage_.getSize();if(!n||!r)return null;t=t.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(t[0]=r[0]-n[0]-t[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(t[1]=r[1]-n[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();if(this.size_)return this.size_[0]*t[0];if(this.iconImage_.getImageState()==la.LOADED)return this.iconImage_.getSize()[0]*t[0]}getHeight(){const t=this.getScaleArray();if(this.size_)return this.size_[1]*t[1];if(this.iconImage_.getImageState()==la.LOADED)return this.iconImage_.getSize()[1]*t[1]}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(Sr.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(Sr.CHANGE,t)}}const W8=BS;function jO(e){return new JT({fill:Mv(e,""),stroke:Sv(e,""),text:Jat(e),image:Qat(e)})}function Mv(e,t){const n=e[t+"fill-color"];if(n)return n==="none"?null:new CS({color:n})}function Sv(e,t){const n=e[t+"stroke-width"],r=e[t+"stroke-color"];if(!(!n&&!r))return new L8({width:n,color:r,lineCap:e[t+"stroke-line-cap"],lineJoin:e[t+"stroke-line-join"],lineDash:e[t+"stroke-line-dash"],lineDashOffset:e[t+"stroke-line-dash-offset"],miterLimit:e[t+"stroke-miter-limit"]})}function Jat(e){const t=e["text-value"];return t?new Sat({text:t,font:e["text-font"],maxAngle:e["text-max-angle"],offsetX:e["text-offset-x"],offsetY:e["text-offset-y"],overflow:e["text-overflow"],placement:e["text-placement"],repeat:e["text-repeat"],scale:e["text-scale"],rotateWithView:e["text-rotate-with-view"],rotation:e["text-rotation"],textAlign:e["text-align"],justify:e["text-justify"],textBaseline:e["text-baseline"],padding:e["text-padding"],fill:Mv(e,"text-"),backgroundFill:Mv(e,"text-background-"),stroke:Sv(e,"text-"),backgroundStroke:Sv(e,"text-background-")}):void 0}function Qat(e){const t=e["icon-src"],n=e["icon-img"];if(t||n)return new W8({src:t,img:n,imgSize:e["icon-img-size"],anchor:e["icon-anchor"],anchorOrigin:e["icon-anchor-origin"],anchorXUnits:e["icon-anchor-x-units"],anchorYUnits:e["icon-anchor-y-units"],color:e["icon-color"],crossOrigin:e["icon-cross-origin"],offset:e["icon-offset"],displacement:e["icon-displacement"],opacity:e["icon-opacity"],scale:e["icon-scale"],width:e["icon-width"],height:e["icon-height"],rotation:e["icon-rotation"],rotateWithView:e["icon-rotate-with-view"],size:e["icon-size"],declutterMode:e["icon-declutter-mode"]});const r=e["shape-points"];if(r){const a="shape-";return new B8({points:r,fill:Mv(e,a),stroke:Sv(e,a),radius:e["shape-radius"],radius1:e["shape-radius1"],radius2:e["shape-radius2"],angle:e["shape-angle"],displacement:e["shape-displacement"],rotation:e["shape-rotation"],rotateWithView:e["shape-rotate-with-view"],scale:e["shape-scale"],declutterMode:e["shape-declutter-mode"]})}const i=e["circle-radius"];if(i){const a="circle-";return new G8({radius:i,fill:Mv(e,a),stroke:Sv(e,a),displacement:e["circle-displacement"],scale:e["circle-scale"],rotation:e["circle-rotation"],rotateWithView:e["circle-rotate-with-view"],declutterMode:e["circle-declutter-mode"]})}}const UO={RENDER_ORDER:"renderOrder"};class tot extends v2{constructor(t){t=t||{};const n=Object.assign({},t);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=t.declutter!==void 0?t.declutter:!1,this.renderBuffer_=t.renderBuffer!==void 0?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0?t.updateWhileAnimating:!1,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(UO.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t){t.declutterTree||(t.declutterTree=new H8(9)),this.getRenderer().renderDeclutter(t)}setRenderOrder(t){this.set(UO.RENDER_ORDER,t)}setStyle(t){let n;if(t===void 0)n=Eat;else if(t===null)n=null;else if(typeof t=="function")n=t;else if(t instanceof JT)n=t;else if(Array.isArray(t)){const r=t.length,i=new Array(r);for(let a=0;a<r;++a){const s=t[a];s instanceof JT?i[a]=s:i[a]=jO(s)}n=i}else n=jO(t);this.style_=n,this.styleFunction_=t===null?void 0:Tat(this.style_),this.changed()}}const eot=tot,Fy={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},E1=[Fy.FILL],Zf=[Fy.STROKE],md=[Fy.BEGIN_PATH],VO=[Fy.CLOSE_PATH],cr=Fy;class not{drawCustom(t,n,r,i){}drawGeometry(t){}setStyle(t){}drawCircle(t,n){}drawFeature(t,n){}drawGeometryCollection(t,n){}drawLineString(t,n){}drawMultiLineString(t,n){}drawMultiPoint(t,n){}drawMultiPolygon(t,n){}drawPoint(t,n){}drawPolygon(t,n){}drawText(t,n){}setFillStrokeStyle(t,n){}setImageStyle(t,n){}setTextStyle(t,n){}}const $8=not;class rot extends $8{constructor(t,n,r,i){super(),this.tolerance=t,this.maxExtent=n,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=r,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const n=this.pixelRatio;return n==1?t:t.map(function(r){return r*n})}appendFlatPointCoordinates(t,n){const r=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,a=this.coordinates;let s=a.length;for(let o=0,l=t.length;o<l;o+=n)i[0]=t[o],i[1]=t[o+1],r2(r,i)&&(a[s++]=i[0],a[s++]=i[1]);return s}appendFlatLineCoordinates(t,n,r,i,a,s){const o=this.coordinates;let l=o.length;const c=this.getBufferedMaxExtent();s&&(n+=i);let u=t[n],f=t[n+1];const h=this.tmpCoordinate_;let d=!0,p,g,m;for(p=n+i;p<r;p+=i)h[0]=t[p],h[1]=t[p+1],m=OT(c,h),m!==g?(d&&(o[l++]=u,o[l++]=f,d=!1),o[l++]=h[0],o[l++]=h[1]):m===qa.INTERSECTING?(o[l++]=h[0],o[l++]=h[1],d=!1):d=!0,u=h[0],f=h[1],g=m;return(a&&d||p===n+i)&&(o[l++]=u,o[l++]=f),l}drawCustomCoordinates_(t,n,r,i,a){for(let s=0,o=r.length;s<o;++s){const l=r[s],c=this.appendFlatLineCoordinates(t,n,l,i,!1,!1);a.push(c),n=l}return n}drawCustom(t,n,r,i){this.beginGeometry(t,n);const a=t.getType(),s=t.getStride(),o=this.coordinates.length;let l,c,u,f,h;switch(a){case"MultiPolygon":l=t.getOrientedFlatCoordinates(),f=[];const d=t.getEndss();h=0;for(let p=0,g=d.length;p<g;++p){const m=[];h=this.drawCustomCoordinates_(l,h,d[p],s,m),f.push(m)}this.instructions.push([cr.CUSTOM,o,f,t,r,VT]),this.hitDetectionInstructions.push([cr.CUSTOM,o,f,t,i||r,VT]);break;case"Polygon":case"MultiLineString":u=[],l=a=="Polygon"?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),h=this.drawCustomCoordinates_(l,0,t.getEnds(),s,u),this.instructions.push([cr.CUSTOM,o,u,t,r,yv]),this.hitDetectionInstructions.push([cr.CUSTOM,o,u,t,i||r,yv]);break;case"LineString":case"Circle":l=t.getFlatCoordinates(),c=this.appendFlatLineCoordinates(l,0,l.length,s,!1,!1),this.instructions.push([cr.CUSTOM,o,c,t,r,Kf]),this.hitDetectionInstructions.push([cr.CUSTOM,o,c,t,i||r,Kf]);break;case"MultiPoint":l=t.getFlatCoordinates(),c=this.appendFlatPointCoordinates(l,s),c>o&&(this.instructions.push([cr.CUSTOM,o,c,t,r,Kf]),this.hitDetectionInstructions.push([cr.CUSTOM,o,c,t,i||r,Kf]));break;case"Point":l=t.getFlatCoordinates(),this.coordinates.push(l[0],l[1]),c=this.coordinates.length,this.instructions.push([cr.CUSTOM,o,c,t,r]),this.hitDetectionInstructions.push([cr.CUSTOM,o,c,t,i||r]);break}this.endGeometry(n)}beginGeometry(t,n){this.beginGeometryInstruction1_=[cr.BEGIN_GEOMETRY,n,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[cr.BEGIN_GEOMETRY,n,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;t.reverse();let n;const r=t.length;let i,a,s=-1;for(n=0;n<r;++n)i=t[n],a=i[0],a==cr.END_GEOMETRY?s=n:a==cr.BEGIN_GEOMETRY&&(i[2]=n,wit(this.hitDetectionInstructions,s,n),s=-1)}setFillStrokeStyle(t,n){const r=this.state;if(t){const i=t.getColor();r.fillStyle=$u(i||gs)}else r.fillStyle=void 0;if(n){const i=n.getColor();r.strokeStyle=$u(i||wv);const a=n.getLineCap();r.lineCap=a!==void 0?a:Yx;const s=n.getLineDash();r.lineDash=s?s.slice():$c;const o=n.getLineDashOffset();r.lineDashOffset=o||qc;const l=n.getLineJoin();r.lineJoin=l!==void 0?l:Zg;const c=n.getWidth();r.lineWidth=c!==void 0?c:Ev;const u=n.getMiterLimit();r.miterLimit=u!==void 0?u:bv,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0}createFill(t){const n=t.fillStyle,r=[cr.SET_FILL_STYLE,n];return typeof n!="string"&&r.push(!0),r}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[cr.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,n){const r=t.fillStyle;(typeof r!="string"||t.currentFillStyle!=r)&&(r!==void 0&&this.instructions.push(n.call(this,t)),t.currentFillStyle=r)}updateStrokeStyle(t,n){const r=t.strokeStyle,i=t.lineCap,a=t.lineDash,s=t.lineDashOffset,o=t.lineJoin,l=t.lineWidth,c=t.miterLimit;(t.currentStrokeStyle!=r||t.currentLineCap!=i||a!=t.currentLineDash&&!Lh(t.currentLineDash,a)||t.currentLineDashOffset!=s||t.currentLineJoin!=o||t.currentLineWidth!=l||t.currentMiterLimit!=c)&&(r!==void 0&&n.call(this,t),t.currentStrokeStyle=r,t.currentLineCap=i,t.currentLineDash=a,t.currentLineDashOffset=s,t.currentLineJoin=o,t.currentLineWidth=l,t.currentMiterLimit=c)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[cr.END_GEOMETRY,t];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=SR(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;dv(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}const zy=rot;class iot extends zy{constructor(t,n,r,i){super(t,n,r,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,n){if(!this.image_)return;this.beginGeometry(t,n);const r=t.getFlatCoordinates(),i=t.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(r,i);this.instructions.push([cr.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([cr.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(t,n){if(!this.image_)return;this.beginGeometry(t,n);const r=t.getFlatCoordinates(),i=t.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(r,i);this.instructions.push([cr.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([cr.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,n){const r=t.getAnchor(),i=t.getSize(),a=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=r[0],this.anchorY_=r[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=i[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}const aot=iot;class oot extends zy{constructor(t,n,r,i){super(t,n,r,i)}drawFlatCoordinates_(t,n,r,i){const a=this.coordinates.length,s=this.appendFlatLineCoordinates(t,n,r,i,!1,!1),o=[cr.MOVE_TO_LINE_TO,a,s];return this.instructions.push(o),this.hitDetectionInstructions.push(o),r}drawLineString(t,n){const r=this.state,i=r.strokeStyle,a=r.lineWidth;if(i===void 0||a===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,n),this.hitDetectionInstructions.push([cr.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,$c,qc],md);const s=t.getFlatCoordinates(),o=t.getStride();this.drawFlatCoordinates_(s,0,s.length,o),this.hitDetectionInstructions.push(Zf),this.endGeometry(n)}drawMultiLineString(t,n){const r=this.state,i=r.strokeStyle,a=r.lineWidth;if(i===void 0||a===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,n),this.hitDetectionInstructions.push([cr.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,$c,qc],md);const s=t.getEnds(),o=t.getFlatCoordinates(),l=t.getStride();let c=0;for(let u=0,f=s.length;u<f;++u)c=this.drawFlatCoordinates_(o,c,s[u],l);this.hitDetectionInstructions.push(Zf),this.endGeometry(n)}finish(){const t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(Zf),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(Zf),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(md)}}const sot=oot;class lot extends zy{constructor(t,n,r,i){super(t,n,r,i)}drawFlatCoordinatess_(t,n,r,i){const a=this.state,s=a.fillStyle!==void 0,o=a.strokeStyle!==void 0,l=r.length;this.instructions.push(md),this.hitDetectionInstructions.push(md);for(let c=0;c<l;++c){const u=r[c],f=this.coordinates.length,h=this.appendFlatLineCoordinates(t,n,u,i,!0,!o),d=[cr.MOVE_TO_LINE_TO,f,h];this.instructions.push(d),this.hitDetectionInstructions.push(d),o&&(this.instructions.push(VO),this.hitDetectionInstructions.push(VO)),n=u}return s&&(this.instructions.push(E1),this.hitDetectionInstructions.push(E1)),o&&(this.instructions.push(Zf),this.hitDetectionInstructions.push(Zf)),n}drawCircle(t,n){const r=this.state,i=r.fillStyle,a=r.strokeStyle;if(i===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([cr.SET_FILL_STYLE,gs]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([cr.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,$c,qc]);const s=t.getFlatCoordinates(),o=t.getStride(),l=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,o,!1,!1);const c=[cr.CIRCLE,l];this.instructions.push(md,c),this.hitDetectionInstructions.push(md,c),r.fillStyle!==void 0&&(this.instructions.push(E1),this.hitDetectionInstructions.push(E1)),r.strokeStyle!==void 0&&(this.instructions.push(Zf),this.hitDetectionInstructions.push(Zf)),this.endGeometry(n)}drawPolygon(t,n){const r=this.state,i=r.fillStyle,a=r.strokeStyle;if(i===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([cr.SET_FILL_STYLE,gs]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([cr.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,$c,qc]);const s=t.getEnds(),o=t.getOrientedFlatCoordinates(),l=t.getStride();this.drawFlatCoordinatess_(o,0,s,l),this.endGeometry(n)}drawMultiPolygon(t,n){const r=this.state,i=r.fillStyle,a=r.strokeStyle;if(i===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([cr.SET_FILL_STYLE,gs]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([cr.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,$c,qc]);const s=t.getEndss(),o=t.getOrientedFlatCoordinates(),l=t.getStride();let c=0;for(let u=0,f=s.length;u<f;++u)c=this.drawFlatCoordinatess_(o,c,s[u],l);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(t!==0){const n=this.coordinates;for(let r=0,i=n.length;r<i;++r)n[r]=id(n[r],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;t.fillStyle!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)}}const HO=lot;function uot(e,t,n,r,i){const a=[];let s=n,o=0,l=t.slice(n,2);for(;o<e&&s+i<r;){const[c,u]=l.slice(-2),f=t[s+i],h=t[s+i+1],d=Math.sqrt((f-c)*(f-c)+(h-u)*(h-u));if(o+=d,o>=e){const p=(e-o+d)/d,g=Hs(c,f,p),m=Hs(u,h,p);l.push(g,m),a.push(l),l=[g,m],o==e&&(s+=i),o=0}else if(o<e)l.push(t[s+i],t[s+i+1]),s+=i;else{const p=d-o,g=Hs(c,f,p/d),m=Hs(u,h,p/d);l.push(g,m),a.push(l),l=[g,m],o=0,s+=i}}return o>0&&a.push(l),a}function cot(e,t,n,r,i){let a=n,s=n,o=0,l=0,c=n,u,f,h,d,p,g,m,v,y,_;for(f=n;f<r;f+=i){const b=t[f],w=t[f+1];p!==void 0&&(y=b-p,_=w-g,d=Math.sqrt(y*y+_*_),m!==void 0&&(l+=h,u=Math.acos((m*y+v*_)/(h*d)),u>e&&(l>o&&(o=l,a=c,s=f),l=0,c=f-i)),h=d,m=y,v=_),p=b,g=w}return l+=d,l>o?[c,f]:[a,s]}const Xx={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class fot extends zy{constructor(t,n,r,i){super(t,n,r,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[gs]={fillStyle:gs},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,n){const r=this.textFillState_,i=this.textStrokeState_,a=this.textState_;if(this.text_===""||!a||!r&&!i)return;const s=this.coordinates;let o=s.length;const l=t.getType();let c=null,u=t.getStride();if(a.placement==="line"&&(l=="LineString"||l=="MultiLineString"||l=="Polygon"||l=="MultiPolygon")){if(!vs(this.getBufferedMaxExtent(),t.getExtent()))return;let f;if(c=t.getFlatCoordinates(),l=="LineString")f=[c.length];else if(l=="MultiLineString")f=t.getEnds();else if(l=="Polygon")f=t.getEnds().slice(0,1);else if(l=="MultiPolygon"){const g=t.getEndss();f=[];for(let m=0,v=g.length;m<v;++m)f.push(g[m][0])}this.beginGeometry(t,n);const h=a.repeat,d=h?void 0:a.textAlign;let p=0;for(let g=0,m=f.length;g<m;++g){let v;h?v=uot(h*this.resolution,c,p,f[g],u):v=[c.slice(p,f[g])];for(let y=0,_=v.length;y<_;++y){const b=v[y];let w=0,T=b.length;if(d==null){const S=cot(a.maxAngle,b,0,b.length,2);w=S[0],T=S[1]}for(let S=w;S<T;S+=u)s.push(b[S],b[S+1]);const M=s.length;p=f[g],this.drawChars_(o,M),o=M}}this.endGeometry(n)}else{let f=a.overflow?null:[];switch(l){case"Point":case"MultiPoint":c=t.getFlatCoordinates();break;case"LineString":c=t.getFlatMidpoint();break;case"Circle":c=t.getCenter();break;case"MultiLineString":c=t.getFlatMidpoints(),u=2;break;case"Polygon":c=t.getFlatInteriorPoint(),a.overflow||f.push(c[2]/this.resolution),u=3;break;case"MultiPolygon":const v=t.getFlatInteriorPoints();c=[];for(let y=0,_=v.length;y<_;y+=3)a.overflow||f.push(v[y+2]/this.resolution),c.push(v[y],v[y+1]);if(c.length===0)return;u=2;break}const h=this.appendFlatPointCoordinates(c,u);if(h===o)return;if(f&&(h-o)/2!==c.length/u){let v=o/2;f=f.filter((y,_)=>{const b=s[(v+_)*2]===c[_*u]&&s[(v+_)*2+1]===c[_*u+1];return b||--v,b})}this.saveTextStates_(),(a.backgroundFill||a.backgroundStroke)&&(this.setFillStrokeStyle(a.backgroundFill,a.backgroundStroke),a.backgroundFill&&this.updateFillStyle(this.state,this.createFill),a.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,n);let d=a.padding;if(d!=gd&&(a.scale[0]<0||a.scale[1]<0)){let v=a.padding[0],y=a.padding[1],_=a.padding[2],b=a.padding[3];a.scale[0]<0&&(y=-y,b=-b),a.scale[1]<0&&(v=-v,_=-_),d=[v,y,_,b]}const p=this.pixelRatio;this.instructions.push([cr.DRAW_IMAGE,o,h,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,d==gd?gd:d.map(function(v){return v*p}),!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]);const g=1/p,m=this.state.fillStyle;a.backgroundFill&&(this.state.fillStyle=gs,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([cr.DRAW_IMAGE,o,h,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[g,g],NaN,void 0,this.declutterImageWithText_,d,!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?gs:this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]),a.backgroundFill&&(this.state.fillStyle=m,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(n)}}saveTextStates_(){const t=this.textStrokeState_,n=this.textState_,r=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const a=this.textKey_;a in this.textStates||(this.textStates[a]={font:n.font,textAlign:n.textAlign||Tv,justify:n.justify,textBaseline:n.textBaseline||Wx,scale:n.scale});const s=this.fillKey_;r&&(s in this.fillStates||(this.fillStates[s]={fillStyle:r.fillStyle}))}drawChars_(t,n){const r=this.textStrokeState_,i=this.textState_,a=this.strokeKey_,s=this.textKey_,o=this.fillKey_;this.saveTextStates_();const l=this.pixelRatio,c=Xx[i.textBaseline],u=this.textOffsetY_*l,f=this.text_,h=r?r.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([cr.DRAW_CHARS,t,n,c,i.overflow,o,i.maxAngle,l,u,a,h*l,f,s,1]),this.hitDetectionInstructions.push([cr.DRAW_CHARS,t,n,c,i.overflow,o&&gs,i.maxAngle,1,u,a,h,f,s,1/l])}setTextStyle(t,n){let r,i,a;if(!t)this.text_="";else{const s=t.getFill();s?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=$u(s.getColor()||gs)):(i=null,this.textFillState_=i);const o=t.getStroke();if(!o)a=null,this.textStrokeState_=a;else{a=this.textStrokeState_,a||(a={},this.textStrokeState_=a);const p=o.getLineDash(),g=o.getLineDashOffset(),m=o.getWidth(),v=o.getMiterLimit();a.lineCap=o.getLineCap()||Yx,a.lineDash=p?p.slice():$c,a.lineDashOffset=g===void 0?qc:g,a.lineJoin=o.getLineJoin()||Zg,a.lineWidth=m===void 0?Ev:m,a.miterLimit=v===void 0?bv:v,a.strokeStyle=$u(o.getColor()||wv)}r=this.textState_;const l=t.getFont()||F8;yat(l);const c=t.getScaleArray();r.overflow=t.getOverflow(),r.font=l,r.maxAngle=t.getMaxAngle(),r.placement=t.getPlacement(),r.textAlign=t.getTextAlign(),r.repeat=t.getRepeat(),r.justify=t.getJustify(),r.textBaseline=t.getTextBaseline()||Wx,r.backgroundFill=t.getBackgroundFill(),r.backgroundStroke=t.getBackgroundStroke(),r.padding=t.getPadding()||gd,r.scale=c===void 0?[1,1]:c;const u=t.getOffsetX(),f=t.getOffsetY(),h=t.getRotateWithView(),d=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=u===void 0?0:u,this.textOffsetY_=f===void 0?0:f,this.textRotateWithView_=h===void 0?!1:h,this.textRotation_=d===void 0?0:d,this.strokeKey_=a?(typeof a.strokeStyle=="string"?a.strokeStyle:si(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.repeat||"?")+(r.justify||"?")+(r.textBaseline||"?"),this.fillKey_=i?typeof i.fillStyle=="string"?i.fillStyle:"|"+si(i.fillStyle):""}this.declutterImageWithText_=n}}const hot={Circle:HO,Default:zy,Image:aot,LineString:sot,Polygon:HO,Text:fot};class dot{constructor(t,n,r,i){this.tolerance_=t,this.maxExtent_=n,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}finish(){const t={};for(const n in this.buildersByZIndex_){t[n]=t[n]||{};const r=this.buildersByZIndex_[n];for(const i in r){const a=r[i].finish();t[n][i]=a}}return t}getBuilder(t,n){const r=t!==void 0?t.toString():"0";let i=this.buildersByZIndex_[r];i===void 0&&(i={},this.buildersByZIndex_[r]=i);let a=i[n];if(a===void 0){const s=hot[n];a=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[n]=a}return a}}const YO=dot;class pot extends f8{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.declutterExecutorGroup=null}getFeatures(t){return Qn()}getData(t){return null}prepareFrame(t){return Qn()}renderFrame(t,n){return Qn()}loadedTileCallback(t,n,r){t[n]||(t[n]={}),t[n][r.tileCoord.toString()]=r}createLoadedTileFinder(t,n,r){return(i,a)=>{const s=this.loadedTileCallback.bind(this,r,i);return t.forEachLoadedTile(n,i,a,s)}}forEachFeatureAtCoordinate(t,n,r,i,a){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const n=t.target;(n.getState()===la.LOADED||n.getState()===la.ERROR)&&this.renderIfReadyAndVisible()}loadImage(t){let n=t.getState();return n!=la.LOADED&&n!=la.ERROR&&t.addEventListener(Sr.CHANGE,this.boundHandleImageChange_),n==la.IDLE&&(t.load(),n=t.getState()),n==la.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}}const got=pot;class mot extends pf{constructor(t,n,r,i){super(t),this.inversePixelTransform=n,this.frameState=r,this.context=i}}const q8=mot,WO=[];let ng=null;function vot(){ng=Zo(1,1,void 0,{willReadFrequently:!0})}class yot extends got{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=tc(),this.pixelTransform=tc(),this.inversePixelTransform=tc(),this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(t,n,r){ng||vot(),ng.clearRect(0,0,1,1);let i;try{ng.drawImage(t,n,r,1,1,0,0,1,1),i=ng.getImageData(0,0,1,1).data}catch{return ng=null,null}return i}getBackground(t){let r=this.getLayer().getBackground();return typeof r=="function"&&(r=r(t.viewState.resolution)),r||void 0}useContainer(t,n,r){const i=this.getLayer().getClassName();let a,s;if(t&&t.className===i&&(!r||t&&t.style.backgroundColor&&Lh(Hx(t.style.backgroundColor),Hx(r)))){const o=t.firstElementChild;o instanceof HTMLCanvasElement&&(s=o.getContext("2d"))}if(s&&s.canvas.style.transform===n?(this.container=t,this.context=s,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){a=document.createElement("div"),a.className=i;let o=a.style;o.position="absolute",o.width="100%",o.height="100%",s=Zo();const l=s.canvas;a.appendChild(l),o=l.style,o.position="absolute",o.left="0",o.transformOrigin="top left",this.container=a,this.context=s}!this.containerReused&&r&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=r)}clipUnrotated(t,n,r){const i=ap(r),a=o2(r),s=a2(r),o=i2(r);Xa(n.coordinateToPixelTransform,i),Xa(n.coordinateToPixelTransform,a),Xa(n.coordinateToPixelTransform,s),Xa(n.coordinateToPixelTransform,o);const l=this.inversePixelTransform;Xa(l,i),Xa(l,a),Xa(l,s),Xa(l,o),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.clip()}dispatchRenderEvent_(t,n,r){const i=this.getLayer();if(i.hasListener(t)){const a=new q8(t,this.inversePixelTransform,r,n);i.dispatchEvent(a)}}preRender(t,n){this.frameState=n,this.dispatchRenderEvent_(ec.PRERENDER,t,n)}postRender(t,n){this.dispatchRenderEvent_(ec.POSTRENDER,t,n)}getRenderTransform(t,n,r,i,a,s,o){const l=a/2,c=s/2,u=i/n,f=-u,h=-t[0]+o,d=-t[1];return yh(this.tempTransform,l,c,u,f,-r,h,d)}disposeInternal(){delete this.frameState,super.disposeInternal()}}const X8=yot;function _ot(e,t,n,r,i,a,s,o,l,c,u,f){let h=e[t],d=e[t+1],p=0,g=0,m=0,v=0;function y(){p=h,g=d,t+=r,h=e[t],d=e[t+1],v+=m,m=Math.sqrt((h-p)*(h-p)+(d-g)*(d-g))}do y();while(t<n-r&&v+m<a);let _=m===0?0:(a-v)/m;const b=Hs(p,h,_),w=Hs(g,d,_),T=t-r,M=v,S=a+o*l(c,i,u);for(;t<n-r&&v+m<S;)y();_=m===0?0:(S-v)/m;const E=Hs(p,h,_),A=Hs(g,d,_);let O;if(f){const k=[b,w,E,A];m8(k,0,4,2,f,k,k),O=k[0]>k[2]}else O=b>E;const N=Math.PI,F=[],P=T+r===t;t=T,m=0,v=M,h=e[t],d=e[t+1];let R;if(P){y(),R=Math.atan2(d-g,h-p),O&&(R+=R>0?-N:N);const k=(E+b)/2,I=(A+w)/2;return F[0]=[k,I,(S-a)/2,R,i],F}i=i.replace(/\n/g," ");for(let k=0,I=i.length;k<I;){y();let j=Math.atan2(d-g,h-p);if(O&&(j+=j>0?-N:N),R!==void 0){let nt=j-R;if(nt+=nt>N?-2*N:nt<-N?2*N:0,Math.abs(nt)>s)return null}R=j;const G=k;let q=0;for(;k<I;++k){const nt=O?I-k-1:k,ct=o*l(c,i[nt],u);if(t+r<n&&v+m<a+q+ct/2)break;q+=ct}if(k===G)continue;const et=O?i.substring(I-G,I-k):i.substring(G,k);_=m===0?0:(a+q/2-v)/m;const U=Hs(p,h,_),J=Hs(g,d,_);F.push([U,J,q/2,j,et]),a+=q}return F}const Vp=tl(),kf=[],Pc=[],Nc=[],Ff=[];function $O(e){return e[3].declutterBox}const qO=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function A3(e,t){return t==="start"?t=qO.test(e)?"right":"left":t==="end"&&(t=qO.test(e)?"left":"right"),Xx[t]}function xot(e,t,n){return n>0&&e.push(`
`,""),e.push(t,""),e}class bot{constructor(t,n,r,i){this.overlaps=r,this.pixelRatio=n,this.resolution=t,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=tc(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}createLabel(t,n,r,i){const a=t+n+r+i;if(this.labels_[a])return this.labels_[a];const s=i?this.strokeStates[i]:null,o=r?this.fillStates[r]:null,l=this.textStates[n],c=this.pixelRatio,u=[l.scale[0]*c,l.scale[1]*c],f=Array.isArray(t),h=l.justify?Xx[l.justify]:A3(Array.isArray(t)?t[0]:t,l.textAlign||Tv),d=i&&s.lineWidth?s.lineWidth:0,p=f?t:t.split(`
`).reduce(xot,[]),{width:g,height:m,widths:v,heights:y,lineWidths:_}=xat(l,p),b=g+d,w=[],T=(b+2)*u[0],M=(m+d)*u[1],S={width:T<0?Math.floor(T):Math.ceil(T),height:M<0?Math.floor(M):Math.ceil(M),contextInstructions:w};(u[0]!=1||u[1]!=1)&&w.push("scale",u),i&&(w.push("strokeStyle",s.strokeStyle),w.push("lineWidth",d),w.push("lineCap",s.lineCap),w.push("lineJoin",s.lineJoin),w.push("miterLimit",s.miterLimit),w.push("setLineDash",[s.lineDash]),w.push("lineDashOffset",s.lineDashOffset)),r&&w.push("fillStyle",o.fillStyle),w.push("textBaseline","middle"),w.push("textAlign","center");const E=.5-h;let A=h*b+E*d;const O=[],N=[];let F=0,P=0,R=0,k=0,I;for(let j=0,G=p.length;j<G;j+=2){const q=p[j];if(q===`
`){P+=F,F=0,A=h*b+E*d,++k;continue}const et=p[j+1]||l.font;et!==I&&(i&&O.push("font",et),r&&N.push("font",et),I=et),F=Math.max(F,y[R]);const U=[q,A+E*v[R]+h*(v[R]-_[k]),.5*(d+F)+P];A+=v[R],i&&O.push("strokeText",U),r&&N.push("fillText",U),++R}return Array.prototype.push.apply(w,O),Array.prototype.push.apply(w,N),this.labels_[a]=S,S}replayTextBackground_(t,n,r,i,a,s,o){t.beginPath(),t.moveTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,i),t.lineTo.apply(t,a),t.lineTo.apply(t,n),s&&(this.alignFill_=s[2],this.fill_(t)),o&&(this.setStrokeStyle_(t,o),t.stroke())}calculateImageOrLabelDimensions_(t,n,r,i,a,s,o,l,c,u,f,h,d,p,g,m){o*=h[0],l*=h[1];let v=r-o,y=i-l;const _=a+c>t?t-c:a,b=s+u>n?n-u:s,w=p[3]+_*h[0]+p[1],T=p[0]+b*h[1]+p[2],M=v-p[3],S=y-p[0];(g||f!==0)&&(kf[0]=M,Ff[0]=M,kf[1]=S,Pc[1]=S,Pc[0]=M+w,Nc[0]=Pc[0],Nc[1]=S+T,Ff[1]=Nc[1]);let E;return f!==0?(E=yh(tc(),r,i,1,1,f,-r,-i),Xa(E,kf),Xa(E,Pc),Xa(E,Nc),Xa(E,Ff),Qc(Math.min(kf[0],Pc[0],Nc[0],Ff[0]),Math.min(kf[1],Pc[1],Nc[1],Ff[1]),Math.max(kf[0],Pc[0],Nc[0],Ff[0]),Math.max(kf[1],Pc[1],Nc[1],Ff[1]),Vp)):Qc(Math.min(M,M+w),Math.min(S,S+T),Math.max(M,M+w),Math.max(S,S+T),Vp),d&&(v=Math.round(v),y=Math.round(y)),{drawImageX:v,drawImageY:y,drawImageW:_,drawImageH:b,originX:c,originY:u,declutterBox:{minX:Vp[0],minY:Vp[1],maxX:Vp[2],maxY:Vp[3],value:m},canvasTransform:E,scale:h}}replayImageOrLabel_(t,n,r,i,a,s,o){const l=!!(s||o),c=i.declutterBox,u=t.canvas,f=o?o[2]*i.scale[0]/2:0;return c.minX-f<=u.width/n&&c.maxX+f>=0&&c.minY-f<=u.height/n&&c.maxY+f>=0&&(l&&this.replayTextBackground_(t,kf,Pc,Nc,Ff,s,o),bat(t,i.canvasTransform,a,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}fill_(t){if(this.alignFill_){const n=Xa(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;t.save(),t.translate(n[0]%r,n[1]%r),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()}setStrokeStyle_(t,n){t.strokeStyle=n[1],t.lineWidth=n[2],t.lineCap=n[3],t.lineJoin=n[4],t.miterLimit=n[5],t.lineDashOffset=n[7],t.setLineDash(n[6])}drawLabelWithPointPlacement_(t,n,r,i){const a=this.textStates[n],s=this.createLabel(t,n,i,r),o=this.strokeStates[r],l=this.pixelRatio,c=A3(Array.isArray(t)?t[0]:t,a.textAlign||Tv),u=Xx[a.textBaseline||Wx],f=o&&o.lineWidth?o.lineWidth:0,h=s.width/l-2*a.scale[0],d=c*h+2*(.5-c)*f,p=u*s.height/l+2*(.5-u)*f;return{label:s,anchorX:d,anchorY:p}}execute_(t,n,r,i,a,s,o,l){let c;this.pixelCoordinates_&&Lh(r,this.renderedTransform_)?c=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),c=Cd(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),kit(this.renderedTransform_,r));let u=0;const f=i.length;let h=0,d,p,g,m,v,y,_,b,w,T,M,S,E=0,A=0,O=null,N=null;const F=this.coordinateCache_,P=this.viewRotation_,R=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,k={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:P},I=this.instructions!=i||this.overlaps?0:200;let j,G,q,et;for(;u<f;){const U=i[u];switch(U[0]){case cr.BEGIN_GEOMETRY:j=U[1],et=U[3],j.getGeometry()?o!==void 0&&!vs(o,et.getExtent())?u=U[2]+1:++u:u=U[2];break;case cr.BEGIN_PATH:E>I&&(this.fill_(t),E=0),A>I&&(t.stroke(),A=0),!E&&!A&&(t.beginPath(),m=NaN,v=NaN),++u;break;case cr.CIRCLE:h=U[1];const nt=c[h],ct=c[h+1],z=c[h+2],W=c[h+3],X=z-nt,it=W-ct,lt=Math.sqrt(X*X+it*it);t.moveTo(nt+lt,ct),t.arc(nt,ct,lt,0,2*Math.PI,!0),++u;break;case cr.CLOSE_PATH:t.closePath(),++u;break;case cr.CUSTOM:h=U[1],d=U[2];const pt=U[3],rt=U[4],V=U.length==6?U[5]:void 0;k.geometry=pt,k.feature=j,u in F||(F[u]=[]);const B=F[u];V?V(c,h,d,2,B):(B[0]=c[h],B[1]=c[h+1],B.length=2),rt(B,k),++u;break;case cr.DRAW_IMAGE:h=U[1],d=U[2],b=U[3],p=U[4],g=U[5];let H=U[6];const $=U[7],Z=U[8],Q=U[9],ot=U[10];let st=U[11];const dt=U[12];let bt=U[13];const Pt=U[14],It=U[15];if(!b&&U.length>=20){w=U[19],T=U[20],M=U[21],S=U[22];const ae=this.drawLabelWithPointPlacement_(w,T,M,S);b=ae.label,U[3]=b;const ue=U[23];p=(ae.anchorX-ue)*this.pixelRatio,U[4]=p;const pe=U[24];g=(ae.anchorY-pe)*this.pixelRatio,U[5]=g,H=b.height,U[6]=H,bt=b.width,U[13]=bt}let Dt;U.length>25&&(Dt=U[25]);let gt,_t,wt;U.length>17?(gt=U[16],_t=U[17],wt=U[18]):(gt=gd,_t=!1,wt=!1),ot&&R?st+=P:!ot&&!R&&(st-=P);let Et=0;for(;h<d;h+=2){if(Dt&&Dt[Et++]<bt/this.pixelRatio)continue;const ae=this.calculateImageOrLabelDimensions_(b.width,b.height,c[h],c[h+1],bt,H,p,g,Z,Q,st,dt,a,gt,_t||wt,j),ue=[t,n,b,ae,$,_t?O:null,wt?N:null];if(l){if(Pt==="none")continue;if(Pt==="obstacle"){l.insert(ae.declutterBox);continue}else{let pe,be;if(It){const re=d-h;if(!It[re]){It[re]=ue;continue}if(pe=It[re],delete It[re],be=$O(pe),l.collides(be))continue}if(l.collides(ae.declutterBox))continue;pe&&(l.insert(be),this.replayImageOrLabel_.apply(this,pe)),l.insert(ae.declutterBox)}}this.replayImageOrLabel_.apply(this,ue)}++u;break;case cr.DRAW_CHARS:const ht=U[1],vt=U[2],Ct=U[3],Mt=U[4];S=U[5];const Nt=U[6],Rt=U[7],At=U[8];M=U[9];const kt=U[10];w=U[11],T=U[12];const Bt=[U[13],U[13]],Lt=this.textStates[T],zt=Lt.font,Gt=[Lt.scale[0]*Rt,Lt.scale[1]*Rt];let Ut;zt in this.widths_?Ut=this.widths_[zt]:(Ut={},this.widths_[zt]=Ut);const ne=O8(c,ht,vt,2),te=Math.abs(Gt[0])*NO(zt,w,Ut);if(Mt||te<=ne){const ae=this.textStates[T].textAlign,ue=(ne-te)*A3(w,ae),pe=_ot(c,ht,vt,2,w,ue,Nt,Math.abs(Gt[0]),NO,zt,Ut,R?0:this.viewRotation_);t:if(pe){const be=[];let re,jt,$t,Jt,qt;if(M)for(re=0,jt=pe.length;re<jt;++re){qt=pe[re],$t=qt[4],Jt=this.createLabel($t,T,"",M),p=qt[2]+(Gt[0]<0?-kt:kt),g=Ct*Jt.height+(.5-Ct)*2*kt*Gt[1]/Gt[0]-At;const Ce=this.calculateImageOrLabelDimensions_(Jt.width,Jt.height,qt[0],qt[1],Jt.width,Jt.height,p,g,0,0,qt[3],Bt,!1,gd,!1,j);if(l&&l.collides(Ce.declutterBox))break t;be.push([t,n,Jt,Ce,1,null,null])}if(S)for(re=0,jt=pe.length;re<jt;++re){qt=pe[re],$t=qt[4],Jt=this.createLabel($t,T,S,""),p=qt[2],g=Ct*Jt.height-At;const Ce=this.calculateImageOrLabelDimensions_(Jt.width,Jt.height,qt[0],qt[1],Jt.width,Jt.height,p,g,0,0,qt[3],Bt,!1,gd,!1,j);if(l&&l.collides(Ce.declutterBox))break t;be.push([t,n,Jt,Ce,1,null,null])}l&&l.load(be.map($O));for(let Ce=0,fe=be.length;Ce<fe;++Ce)this.replayImageOrLabel_.apply(this,be[Ce])}}++u;break;case cr.END_GEOMETRY:if(s!==void 0){j=U[1];const ae=s(j,et);if(ae)return ae}++u;break;case cr.FILL:I?E++:this.fill_(t),++u;break;case cr.MOVE_TO_LINE_TO:for(h=U[1],d=U[2],G=c[h],q=c[h+1],y=G+.5|0,_=q+.5|0,(y!==m||_!==v)&&(t.moveTo(G,q),m=y,v=_),h+=2;h<d;h+=2)G=c[h],q=c[h+1],y=G+.5|0,_=q+.5|0,(h==d-2||y!==m||_!==v)&&(t.lineTo(G,q),m=y,v=_);++u;break;case cr.SET_FILL_STYLE:O=U,this.alignFill_=U[2],E&&(this.fill_(t),E=0,A&&(t.stroke(),A=0)),t.fillStyle=U[1],++u;break;case cr.SET_STROKE_STYLE:N=U,A&&(t.stroke(),A=0),this.setStrokeStyle_(t,U),++u;break;case cr.STROKE:I?A++:t.stroke(),++u;break;default:++u;break}}E&&this.fill_(t),A&&t.stroke()}execute(t,n,r,i,a,s){this.viewRotation_=i,this.execute_(t,n,r,this.instructions,a,void 0,void 0,s)}executeHitDetection(t,n,r,i,a){return this.viewRotation_=r,this.execute_(t,1,n,this.hitDetectionInstructions,!0,i,a)}}const wot=bot,I3=["Polygon","Circle","LineString","Image","Text","Default"];class Tot{constructor(t,n,r,i,a,s){this.maxExtent_=t,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=n,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=tc(),this.createExecutors_(a)}clip(t,n){const r=this.getClipCoords(n);t.beginPath(),t.moveTo(r[0],r[1]),t.lineTo(r[2],r[3]),t.lineTo(r[4],r[5]),t.lineTo(r[6],r[7]),t.clip()}createExecutors_(t){for(const n in t){let r=this.executorsByZIndex_[n];r===void 0&&(r={},this.executorsByZIndex_[n]=r);const i=t[n];for(const a in i){const s=i[a];r[a]=new wot(this.resolution_,this.pixelRatio_,this.overlaps_,s)}}}hasExecutors(t){for(const n in this.executorsByZIndex_){const r=this.executorsByZIndex_[n];for(let i=0,a=t.length;i<a;++i)if(t[i]in r)return!0}return!1}forEachFeatureAtCoordinate(t,n,r,i,a,s){i=Math.round(i);const o=i*2+1,l=yh(this.hitDetectionTransform_,i+.5,i+.5,1/n,-1/n,-r,-t[0],-t[1]),c=!this.hitDetectionContext_;c&&(this.hitDetectionContext_=Zo(o,o,void 0,{willReadFrequently:!0}));const u=this.hitDetectionContext_;u.canvas.width!==o||u.canvas.height!==o?(u.canvas.width=o,u.canvas.height=o):c||u.clearRect(0,0,o,o);let f;this.renderBuffer_!==void 0&&(f=tl(),Vm(f,t),dv(f,n*(this.renderBuffer_+i),f));const h=Eot(i);let d;function p(w,T){const M=u.getImageData(0,0,o,o).data;for(let S=0,E=h.length;S<E;S++)if(M[h[S]]>0){if(!s||d!=="Image"&&d!=="Text"||s.includes(w)){const A=(h[S]-3)/4,O=i-A%o,N=i-(A/o|0),F=a(w,T,O*O+N*N);if(F)return F}u.clearRect(0,0,o,o);break}}const g=Object.keys(this.executorsByZIndex_).map(Number);g.sort(zd);let m,v,y,_,b;for(m=g.length-1;m>=0;--m){const w=g[m].toString();for(y=this.executorsByZIndex_[w],v=I3.length-1;v>=0;--v)if(d=I3[v],_=y[d],_!==void 0&&(b=_.executeHitDetection(u,l,r,p,f),b))return b}}getClipCoords(t){const n=this.maxExtent_;if(!n)return null;const r=n[0],i=n[1],a=n[2],s=n[3],o=[r,i,r,s,a,s,a,i];return Cd(o,0,8,2,t,o),o}isEmpty(){return Yg(this.executorsByZIndex_)}execute(t,n,r,i,a,s,o){const l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(zd),this.maxExtent_&&(t.save(),this.clip(t,r)),s=s||I3;let c,u,f,h,d,p;for(o&&l.reverse(),c=0,u=l.length;c<u;++c){const g=l[c].toString();for(d=this.executorsByZIndex_[g],f=0,h=s.length;f<h;++f){const m=s[f];p=d[m],p!==void 0&&p.execute(t,n,r,i,a,o)}}this.maxExtent_&&t.restore()}}const O3={};function Eot(e){if(O3[e]!==void 0)return O3[e];const t=e*2+1,n=e*e,r=new Array(n+1);for(let a=0;a<=e;++a)for(let s=0;s<=e;++s){const o=a*a+s*s;if(o>n)break;let l=r[o];l||(l=[],r[o]=l),l.push(((e+a)*t+(e+s))*4+3),a>0&&l.push(((e-a)*t+(e+s))*4+3),s>0&&(l.push(((e+a)*t+(e-s))*4+3),a>0&&l.push(((e-a)*t+(e-s))*4+3))}const i=[];for(let a=0,s=r.length;a<s;++a)r[a]&&i.push(...r[a]);return O3[e]=i,i}const XO=Tot;class Mot extends $8{constructor(t,n,r,i,a,s,o){super(),this.context_=t,this.pixelRatio_=n,this.extent_=r,this.transform_=i,this.transformRotation_=i?iS(Math.atan2(i[1],i[0]),10):0,this.viewRotation_=a,this.squaredTolerance_=s,this.userTransform_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=tc()}drawImages_(t,n,r,i){if(!this.image_)return;const a=Cd(t,n,r,i,this.transform_,this.pixelCoordinates_),s=this.context_,o=this.tmpLocalTransform_,l=s.globalAlpha;this.imageOpacity_!=1&&(s.globalAlpha=l*this.imageOpacity_);let c=this.imageRotation_;this.transformRotation_===0&&(c-=this.viewRotation_),this.imageRotateWithView_&&(c+=this.viewRotation_);for(let u=0,f=a.length;u<f;u+=2){const h=a[u]-this.imageAnchorX_,d=a[u+1]-this.imageAnchorY_;if(c!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const p=h+this.imageAnchorX_,g=d+this.imageAnchorY_;yh(o,p,g,1,1,c,-p,-g),s.setTransform.apply(s,o),s.translate(p,g),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,d,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(s.globalAlpha=l)}drawText_(t,n,r,i){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const a=Cd(t,n,r,i,this.transform_,this.pixelCoordinates_),s=this.context_;let o=this.textRotation_;for(this.transformRotation_===0&&(o-=this.viewRotation_),this.textRotateWithView_&&(o+=this.viewRotation_);n<r;n+=i){const l=a[n]+this.textOffsetX_,c=a[n+1]+this.textOffsetY_;o!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(s.translate(l-this.textOffsetX_,c-this.textOffsetY_),s.rotate(o),s.translate(this.textOffsetX_,this.textOffsetY_),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&s.strokeText(this.text_,l,c),this.textFillState_&&s.fillText(this.text_,l,c))}}moveToLineTo_(t,n,r,i,a){const s=this.context_,o=Cd(t,n,r,i,this.transform_,this.pixelCoordinates_);s.moveTo(o[0],o[1]);let l=o.length;a&&(l-=2);for(let c=2;c<l;c+=2)s.lineTo(o[c],o[c+1]);return a&&s.closePath(),r}drawRings_(t,n,r,i){for(let a=0,s=r.length;a<s;++a)n=this.moveToLineTo_(t,n,r[a],i,!0);return n}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!vs(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=Hit(t,this.transform_,this.pixelCoordinates_),r=n[2]-n[0],i=n[3]-n[1],a=Math.sqrt(r*r+i*i),s=this.context_;s.beginPath(),s.arc(n[0],n[1],a,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break}}drawFeature(t,n){const r=n.getGeometryFunction()(t);r&&(this.setStyle(n),this.drawGeometry(r))}drawGeometryCollection(t){const n=t.getGeometriesArray();for(let r=0,i=n.length;r<i;++r)this.drawGeometry(n[r])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),r=t.getStride();this.image_&&this.drawImages_(n,0,n.length,r),this.text_!==""&&this.drawText_(n,0,n.length,r)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),r=t.getStride();this.image_&&this.drawImages_(n,0,n.length,r),this.text_!==""&&this.drawText_(n,0,n.length,r)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!vs(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=t.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(r,0,r.length,t.getStride(),!1),n.stroke()}if(this.text_!==""){const n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getExtent();if(vs(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const r=this.context_,i=t.getFlatCoordinates();let a=0;const s=t.getEnds(),o=t.getStride();r.beginPath();for(let l=0,c=s.length;l<c;++l)a=this.moveToLineTo_(i,a,s[l],o,!1);r.stroke()}if(this.text_!==""){const r=t.getFlatMidpoints();this.drawText_(r,0,r.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!vs(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!vs(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=t.getOrientedFlatCoordinates();let i=0;const a=t.getEndss(),s=t.getStride();n.beginPath();for(let o=0,l=a.length;o<l;++o){const c=a[o];i=this.drawRings_(r,i,c,s)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(t){const n=this.context_,r=this.contextFillState_;r?r.fillStyle!=t.fillStyle&&(r.fillStyle=t.fillStyle,n.fillStyle=t.fillStyle):(n.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const n=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=t.lineCap&&(r.lineCap=t.lineCap,n.lineCap=t.lineCap),Lh(r.lineDash,t.lineDash)||n.setLineDash(r.lineDash=t.lineDash),r.lineDashOffset!=t.lineDashOffset&&(r.lineDashOffset=t.lineDashOffset,n.lineDashOffset=t.lineDashOffset),r.lineJoin!=t.lineJoin&&(r.lineJoin=t.lineJoin,n.lineJoin=t.lineJoin),r.lineWidth!=t.lineWidth&&(r.lineWidth=t.lineWidth,n.lineWidth=t.lineWidth),r.miterLimit!=t.miterLimit&&(r.miterLimit=t.miterLimit,n.miterLimit=t.miterLimit),r.strokeStyle!=t.strokeStyle&&(r.strokeStyle=t.strokeStyle,n.strokeStyle=t.strokeStyle)):(n.lineCap=t.lineCap,n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset,n.lineJoin=t.lineJoin,n.lineWidth=t.lineWidth,n.miterLimit=t.miterLimit,n.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const n=this.context_,r=this.contextTextState_,i=t.textAlign?t.textAlign:Tv;r?(r.font!=t.font&&(r.font=t.font,n.font=t.font),r.textAlign!=i&&(r.textAlign=i,n.textAlign=i),r.textBaseline!=t.textBaseline&&(r.textBaseline=t.textBaseline,n.textBaseline=t.textBaseline)):(n.font=t.font,n.textAlign=i,n.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})}setFillStrokeStyle(t,n){if(!t)this.fillState_=null;else{const r=t.getColor();this.fillState_={fillStyle:$u(r||gs)}}if(!n)this.strokeState_=null;else{const r=n.getColor(),i=n.getLineCap(),a=n.getLineDash(),s=n.getLineDashOffset(),o=n.getLineJoin(),l=n.getWidth(),c=n.getMiterLimit(),u=a||$c;this.strokeState_={lineCap:i!==void 0?i:Yx,lineDash:this.pixelRatio_===1?u:u.map(f=>f*this.pixelRatio_),lineDashOffset:(s||qc)*this.pixelRatio_,lineJoin:o!==void 0?o:Zg,lineWidth:(l!==void 0?l:Ev)*this.pixelRatio_,miterLimit:c!==void 0?c:bv,strokeStyle:$u(r||wv)}}}setImageStyle(t){let n;if(!t||!(n=t.getSize())){this.image_=null;return}const r=t.getPixelRatio(this.pixelRatio_),i=t.getAnchor(),a=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*r,this.imageAnchorY_=i[1]*r,this.imageHeight_=n[1]*r,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=a[0],this.imageOriginY_=a[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const s=t.getScaleArray();this.imageScale_=[s[0]*this.pixelRatio_/r,s[1]*this.pixelRatio_/r],this.imageWidth_=n[0]*r}setTextStyle(t){if(!t)this.text_="";else{const n=t.getFill();if(!n)this.textFillState_=null;else{const d=n.getColor();this.textFillState_={fillStyle:$u(d||gs)}}const r=t.getStroke();if(!r)this.textStrokeState_=null;else{const d=r.getColor(),p=r.getLineCap(),g=r.getLineDash(),m=r.getLineDashOffset(),v=r.getLineJoin(),y=r.getWidth(),_=r.getMiterLimit();this.textStrokeState_={lineCap:p!==void 0?p:Yx,lineDash:g||$c,lineDashOffset:m||qc,lineJoin:v!==void 0?v:Zg,lineWidth:y!==void 0?y:Ev,miterLimit:_!==void 0?_:bv,strokeStyle:$u(d||wv)}}const i=t.getFont(),a=t.getOffsetX(),s=t.getOffsetY(),o=t.getRotateWithView(),l=t.getRotation(),c=t.getScaleArray(),u=t.getText(),f=t.getTextAlign(),h=t.getTextBaseline();this.textState_={font:i!==void 0?i:F8,textAlign:f!==void 0?f:Tv,textBaseline:h!==void 0?h:Wx},this.text_=u!==void 0?Array.isArray(u)?u.reduce((d,p,g)=>d+=g%2?" ":p,""):u:"",this.textOffsetX_=a!==void 0?this.pixelRatio_*a:0,this.textOffsetY_=s!==void 0?this.pixelRatio_*s:0,this.textRotateWithView_=o!==void 0?o:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*c[0],this.pixelRatio_*c[1]]}}}const Sot=Mot,Vu=.5;function Cot(e,t,n,r,i,a,s){const o=e[0]*Vu,l=e[1]*Vu,c=Zo(o,l);c.imageSmoothingEnabled=!1;const u=c.canvas,f=new Sot(c,Vu,i,null,s),h=n.length,d=Math.floor((256*256*256-1)/h),p={};for(let m=1;m<=h;++m){const v=n[m-1],y=v.getStyleFunction()||r;if(!y)continue;let _=y(v,a);if(!_)continue;Array.isArray(_)||(_=[_]);const w=(m*d).toString(16).padStart(7,"#00000");for(let T=0,M=_.length;T<M;++T){const S=_[T],E=S.getGeometryFunction()(v);if(!E||!vs(i,E.getExtent()))continue;const A=S.clone(),O=A.getFill();O&&O.setColor(w);const N=A.getStroke();N&&(N.setColor(w),N.setLineDash(null)),A.setText(void 0);const F=S.getImage();if(F){const I=F.getImageSize();if(!I)continue;const j=Zo(I[0],I[1],void 0,{alpha:!1}),G=j.canvas;j.fillStyle=w,j.fillRect(0,0,G.width,G.height),A.setImage(new W8({img:G,imgSize:I,anchor:F.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:F.getOrigin(),opacity:1,size:F.getSize(),scale:F.getScale(),rotation:F.getRotation(),rotateWithView:F.getRotateWithView()}))}const P=A.getZIndex()||0;let R=p[P];R||(R={},p[P]=R,R.Polygon=[],R.Circle=[],R.LineString=[],R.Point=[]);const k=E.getType();if(k==="GeometryCollection"){const I=E.getGeometriesArrayRecursive();for(let j=0,G=I.length;j<G;++j){const q=I[j];R[q.getType().replace("Multi","")].push(q,A)}}else R[k.replace("Multi","")].push(E,A)}}const g=Object.keys(p).map(Number).sort(zd);for(let m=0,v=g.length;m<v;++m){const y=p[g[m]];for(const _ in y){const b=y[_];for(let w=0,T=b.length;w<T;w+=2){f.setStyle(b[w+1]);for(let M=0,S=t.length;M<S;++M)f.setTransform(t[M]),f.drawGeometry(b[w])}}}return c.getImageData(0,0,u.width,u.height)}function Aot(e,t,n){const r=[];if(n){const i=Math.floor(Math.round(e[0])*Vu),a=Math.floor(Math.round(e[1])*Vu),s=(ca(i,0,n.width-1)+ca(a,0,n.height-1)*n.width)*4,o=n.data[s],l=n.data[s+1],u=n.data[s+2]+256*(l+256*o),f=Math.floor((256*256*256-1)/t.length);u&&u%f===0&&r.push(t[u/f-1])}return r}const Iot=.5,K8={Point:zot,LineString:Dot,Polygon:Got,MultiPoint:Bot,MultiLineString:kot,MultiPolygon:Fot,GeometryCollection:Rot,Circle:Pot};function Oot(e,t){return parseInt(si(e),10)-parseInt(si(t),10)}function Lot(e,t){const n=QT(e,t);return n*n}function QT(e,t){return Iot*e/t}function Pot(e,t,n,r,i){const a=n.getFill(),s=n.getStroke();if(a||s){const l=e.getBuilder(n.getZIndex(),"Circle");l.setFillStrokeStyle(a,s),l.drawCircle(t,r)}const o=n.getText();if(o&&o.getText()){const l=(i||e).getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(t,r)}}function KO(e,t,n,r,i,a,s){let o=!1;const l=n.getImage();if(l){const c=l.getImageState();c==la.LOADED||c==la.ERROR?l.unlistenImageChange(i):(c==la.IDLE&&l.load(),l.listenImageChange(i),o=!0)}return Not(e,t,n,r,a,s),o}function Not(e,t,n,r,i,a){const s=n.getGeometryFunction()(t);if(!s)return;const o=s.simplifyTransformed(r,i);if(n.getRenderer())Z8(e,o,n,t);else{const c=K8[o.getType()];c(e,o,n,t,a)}}function Z8(e,t,n,r){if(t.getType()=="GeometryCollection"){const a=t.getGeometries();for(let s=0,o=a.length;s<o;++s)Z8(e,a[s],n,r);return}e.getBuilder(n.getZIndex(),"Default").drawCustom(t,r,n.getRenderer(),n.getHitDetectionRenderer())}function Rot(e,t,n,r,i){const a=t.getGeometriesArray();let s,o;for(s=0,o=a.length;s<o;++s){const l=K8[a[s].getType()];l(e,a[s],n,r,i)}}function Dot(e,t,n,r,i){const a=n.getStroke();if(a){const o=e.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,a),o.drawLineString(t,r)}const s=n.getText();if(s&&s.getText()){const o=(i||e).getBuilder(n.getZIndex(),"Text");o.setTextStyle(s),o.drawText(t,r)}}function kot(e,t,n,r,i){const a=n.getStroke();if(a){const o=e.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,a),o.drawMultiLineString(t,r)}const s=n.getText();if(s&&s.getText()){const o=(i||e).getBuilder(n.getZIndex(),"Text");o.setTextStyle(s),o.drawText(t,r)}}function Fot(e,t,n,r,i){const a=n.getFill(),s=n.getStroke();if(s||a){const l=e.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(a,s),l.drawMultiPolygon(t,r)}const o=n.getText();if(o&&o.getText()){const l=(i||e).getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(t,r)}}function zot(e,t,n,r,i){const a=n.getImage(),s=n.getText();let o;if(a){if(a.getImageState()!=la.LOADED)return;let l=e;if(i){const u=a.getDeclutterMode();if(u!=="none")if(l=i,u==="obstacle"){const f=e.getBuilder(n.getZIndex(),"Image");f.setImageStyle(a,o),f.drawPoint(t,r)}else s&&s.getText()&&(o={})}const c=l.getBuilder(n.getZIndex(),"Image");c.setImageStyle(a,o),c.drawPoint(t,r)}if(s&&s.getText()){let l=e;i&&(l=i);const c=l.getBuilder(n.getZIndex(),"Text");c.setTextStyle(s,o),c.drawText(t,r)}}function Bot(e,t,n,r,i){const a=n.getImage(),s=n.getText();let o;if(a){if(a.getImageState()!=la.LOADED)return;let l=e;if(i){const u=a.getDeclutterMode();if(u!=="none")if(l=i,u==="obstacle"){const f=e.getBuilder(n.getZIndex(),"Image");f.setImageStyle(a,o),f.drawMultiPoint(t,r)}else s&&s.getText()&&(o={})}const c=l.getBuilder(n.getZIndex(),"Image");c.setImageStyle(a,o),c.drawMultiPoint(t,r)}if(s&&s.getText()){let l=e;i&&(l=i);const c=l.getBuilder(n.getZIndex(),"Text");c.setTextStyle(s,o),c.drawText(t,r)}}function Got(e,t,n,r,i){const a=n.getFill(),s=n.getStroke();if(a||s){const l=e.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(a,s),l.drawPolygon(t,r)}const o=n.getText();if(o&&o.getText()){const l=(i||e).getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(t,r)}}class jot extends X8{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=tl(),this.wrappedRenderedExtent_=tl(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(t,n,r){const i=n.extent,a=n.viewState,s=a.center,o=a.resolution,l=a.projection,c=a.rotation,u=l.getExtent(),f=this.getLayer().getSource(),h=n.pixelRatio,d=n.viewHints,p=!(d[Eo.ANIMATING]||d[Eo.INTERACTING]),g=this.compositionContext_,m=Math.round(n.size[0]*h),v=Math.round(n.size[1]*h),y=f.getWrapX()&&l.canWrapX(),_=y?Ei(u):null,b=y?Math.ceil((i[2]-u[2])/_)+1:1;let w=y?Math.floor((i[0]-u[0])/_):0;do{const T=this.getRenderTransform(s,o,c,h,m,v,w*_);t.execute(g,1,T,c,p,void 0,r)}while(++w<b)}setupCompositionContext_(){if(this.opacity_!==1){const t=Zo(this.context.canvas.width,this.context.canvas.height,WO);this.compositionContext_=t}else this.compositionContext_=this.context}releaseCompositionContext_(){if(this.opacity_!==1){const t=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=t,p2(this.compositionContext_),WO.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(t){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree),this.releaseCompositionContext_())}renderFrame(t,n){const r=t.pixelRatio,i=t.layerStatesArray[t.layerIndex];Fit(this.pixelTransform,1/r,1/r),yS(this.inversePixelTransform,this.pixelTransform);const a=g8(this.pixelTransform);this.useContainer(n,a,this.getBackground(t));const s=this.context,o=s.canvas,l=this.replayGroup_,c=this.declutterExecutorGroup;let u=l&&!l.isEmpty()||c&&!c.isEmpty();if(!u&&!(this.getLayer().hasListener(ec.PRERENDER)||this.getLayer().hasListener(ec.POSTRENDER)))return null;const f=Math.round(t.size[0]*r),h=Math.round(t.size[1]*r);o.width!=f||o.height!=h?(o.width=f,o.height=h,o.style.transform!==a&&(o.style.transform=a)):this.containerReused||s.clearRect(0,0,f,h),this.preRender(s,t);const d=t.viewState;d.projection,this.opacity_=i.opacity,this.setupCompositionContext_();let p=!1;if(u&&i.extent&&this.clipping){const g=dd(i.extent);u=vs(g,t.extent),p=u&&!fg(g,t.extent),p&&this.clipUnrotated(this.compositionContext_,t,g)}return u&&this.renderWorlds(l,t),p&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(s,t),this.renderedRotation_!==d.rotation&&(this.renderedRotation_=d.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(t){return new Promise(n=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const r=[this.context.canvas.width,this.context.canvas.height];Xa(this.pixelTransform,r);const i=this.renderedCenter_,a=this.renderedResolution_,s=this.renderedRotation_,o=this.renderedProjection_,l=this.wrappedRenderedExtent_,c=this.getLayer(),u=[],f=r[0]*Vu,h=r[1]*Vu;u.push(this.getRenderTransform(i,a,s,Vu,f,h,0).slice());const d=c.getSource(),p=o.getExtent();if(d.getWrapX()&&o.canWrapX()&&!fg(p,l)){let g=l[0];const m=Ei(p);let v=0,y;for(;g<p[0];)--v,y=m*v,u.push(this.getRenderTransform(i,a,s,Vu,f,h,y).slice()),g+=m;for(v=0,g=l[2];g>p[2];)++v,y=m*v,u.push(this.getRenderTransform(i,a,s,Vu,f,h,y).slice()),g-=m}this.hitDetectionImageData_=Cot(r,u,this.renderedFeatures_,c.getStyleFunction(),l,a,s)}n(Aot(t,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(t,n,r,i,a){if(!this.replayGroup_)return;const s=n.viewState.resolution,o=n.viewState.rotation,l=this.getLayer(),c={},u=function(d,p,g){const m=si(d),v=c[m];if(v){if(v!==!0&&g<v.distanceSq){if(g===0)return c[m]=!0,a.splice(a.lastIndexOf(v),1),i(d,l,p);v.geometry=p,v.distanceSq=g}}else{if(g===0)return c[m]=!0,i(d,l,p);a.push(c[m]={feature:d,layer:l,geometry:p,distanceSq:g,callback:i})}};let f;const h=[this.replayGroup_];return this.declutterExecutorGroup&&h.push(this.declutterExecutorGroup),h.some(d=>f=d.forEachFeatureAtCoordinate(t,s,o,r,u,d===this.declutterExecutorGroup&&n.declutterTree?n.declutterTree.all().map(p=>p.value):null)),f}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const n=this.getLayer(),r=n.getSource();if(!r)return!1;const i=t.viewHints[Eo.ANIMATING],a=t.viewHints[Eo.INTERACTING],s=n.getUpdateWhileAnimating(),o=n.getUpdateWhileInteracting();if(this.ready&&!s&&i||!o&&a)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const l=t.extent,c=t.viewState,u=c.projection,f=c.resolution,h=t.pixelRatio,d=n.getRevision(),p=n.getRenderBuffer();let g=n.getRenderOrder();g===void 0&&(g=Oot);const m=c.center.slice(),v=dv(l,p*f),y=v.slice(),_=[v.slice()],b=u.getExtent();if(r.getWrapX()&&u.canWrapX()&&!fg(b,t.extent)){const R=Ei(b),k=Math.max(Ei(v)/2,R);v[0]=b[0]-k,v[2]=b[2]+k,PR(m,u);const I=LR(_[0],u);I[0]<b[0]&&I[2]<b[2]?_.push([I[0]+R,I[1],I[2]+R,I[3]]):I[0]>b[0]&&I[2]>b[2]&&_.push([I[0]-R,I[1],I[2]-R,I[3]])}if(this.ready&&this.renderedResolution_==f&&this.renderedRevision_==d&&this.renderedRenderOrder_==g&&fg(this.wrappedRenderedExtent_,v))return Lh(this.renderedExtent_,y)||(this.hitDetectionImageData_=null,this.renderedExtent_=y),this.renderedCenter_=m,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const w=new YO(QT(f,h),v,f,h);let T;this.getLayer().getDeclutter()&&(T=new YO(QT(f,h),v,f,h));let M;for(let R=0,k=_.length;R<k;++R)r.loadFeatures(_[R],f,u);const S=Lot(f,h);let E=!0;const A=R=>{let k;const I=R.getStyleFunction()||n.getStyleFunction();if(I&&(k=I(R,f)),k){const j=this.renderFeature(R,S,k,w,M,T);E=E&&!j}},O=BR(v),N=r.getFeaturesInExtent(O);g&&N.sort(g);for(let R=0,k=N.length;R<k;++R)A(N[R]);this.renderedFeatures_=N,this.ready=E;const F=w.finish(),P=new XO(v,f,h,r.getOverlaps(),F,n.getRenderBuffer());return T&&(this.declutterExecutorGroup=new XO(v,f,h,r.getOverlaps(),T.finish(),n.getRenderBuffer())),this.renderedResolution_=f,this.renderedRevision_=d,this.renderedRenderOrder_=g,this.renderedExtent_=y,this.wrappedRenderedExtent_=v,this.renderedCenter_=m,this.renderedProjection_=u,this.replayGroup_=P,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,n,r,i,a,s){if(!r)return!1;let o=!1;if(Array.isArray(r))for(let l=0,c=r.length;l<c;++l)o=KO(i,t,r[l],n,this.boundHandleStyleImageChange_,a,s)||o;else o=KO(i,t,r,n,this.boundHandleStyleImageChange_,a,s);return o}}const Uot=jot;class Vot extends eot{constructor(t){super(t)}createRenderer(){return new Uot(this)}}const Ept=Vot;class Hot{constructor(t){this.rbush_=new H8(t),this.items_={}}insert(t,n){const r={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:n};this.rbush_.insert(r),this.items_[si(n)]=r}load(t,n){const r=new Array(n.length);for(let i=0,a=n.length;i<a;i++){const s=t[i],o=n[i],l={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:o};r[i]=l,this.items_[si(o)]=l}this.rbush_.load(r)}remove(t){const n=si(t),r=this.items_[n];return delete this.items_[n],this.rbush_.remove(r)!==null}update(t,n){const r=this.items_[si(n)],i=[r.minX,r.minY,r.maxX,r.maxY];pv(i,t)||(this.remove(n),this.insert(t,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(t){const n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(n).map(function(i){return i.value})}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,n){return this.forEach_(this.getInExtent(t),n)}forEach_(t,n){let r;for(let i=0,a=t.length;i<a;i++)if(r=n(t[i]),r)return r;return r}isEmpty(){return Yg(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const n=this.rbush_.toJSON();return Qc(n.minX,n.minY,n.maxX,n.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const n in t.items_)this.items_[n]=t.items_[n]}}const ZO=Hot;class Yot extends pc{constructor(t){super(),this.projection=ki(t.projection),this.attributions_=JO(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,this.loading=!1,this.state_=t.state!==void 0?t.state:"ready",this.wrapX_=t.wrapX!==void 0?t.wrapX:!1,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(r,i){n.viewResolver=r,n.viewRejector=i})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=JO(t),this.changed()}setState(t){this.state_=t,this.changed()}}function JO(e){return e?Array.isArray(e)?function(t){return e}:typeof e=="function"?e:function(t){return[e]}:null}const J8=Yot,ru={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function Wot(e,t){return[[-1/0,-1/0,1/0,1/0]]}let $ot=!1;function qot(e,t,n,r,i,a,s){const o=new XMLHttpRequest;o.open("GET",typeof e=="function"?e(n,r,i):e,!0),t.getType()=="arraybuffer"&&(o.responseType="arraybuffer"),o.withCredentials=$ot,o.onload=function(l){if(!o.status||o.status>=200&&o.status<300){const c=t.getType();let u;c=="json"||c=="text"?u=o.responseText:c=="xml"?(u=o.responseXML,u||(u=new DOMParser().parseFromString(o.responseText,"application/xml"))):c=="arraybuffer"&&(u=o.response),u?a(t.readFeatures(u,{extent:n,featureProjection:i}),t.readProjection(u)):s()}else s()},o.onerror=s,o.send()}function QO(e,t){return function(n,r,i,a,s){const o=this;qot(e,t,n,r,i,function(l,c){o.addFeatures(l),a!==void 0&&a(l)},s||Kg)}}class zf extends pf{constructor(t,n,r){super(t),this.feature=n,this.features=r}}class Xot extends J8{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:t.wrapX!==void 0?t.wrapX:!0}),this.on,this.once,this.un,this.loader_=Kg,this.format_=t.format,this.overlaps_=t.overlaps===void 0?!0:t.overlaps,this.url_=t.url,t.loader!==void 0?this.loader_=t.loader:this.url_!==void 0&&(Nr(this.format_,7),this.loader_=QO(this.url_,this.format_)),this.strategy_=t.strategy!==void 0?t.strategy:Wot;const n=t.useSpatialIndex!==void 0?t.useSpatialIndex:!0;this.featuresRtree_=n?new ZO:null,this.loadedExtentsRtree_=new ZO,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let r,i;Array.isArray(t.features)?i=t.features:t.features&&(r=t.features,i=r.getArray()),!n&&r===void 0&&(r=new Wu(i)),i!==void 0&&this.addFeaturesInternal(i),r!==void 0&&this.bindFeaturesCollection_(r)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const n=si(t);if(!this.addToIndex_(n,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(n,t);const r=t.getGeometry();if(r){const i=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[n]=t;this.dispatchEvent(new zf(ru.ADDFEATURE,t))}setupChangeEvents_(t,n){this.featureChangeKeys_[t]=[Qr(n,Sr.CHANGE,this.handleFeatureChange_,this),Qr(n,Xg.PROPERTYCHANGE,this.handleFeatureChange_,this)]}addToIndex_(t,n){let r=!0;const i=n.getId();return i!==void 0&&(i.toString()in this.idIndex_?r=!1:this.idIndex_[i.toString()]=n),r&&(Nr(!(t in this.uidIndex_),30),this.uidIndex_[t]=n),r}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const n=[],r=[],i=[];for(let a=0,s=t.length;a<s;a++){const o=t[a],l=si(o);this.addToIndex_(l,o)&&r.push(o)}for(let a=0,s=r.length;a<s;a++){const o=r[a],l=si(o);this.setupChangeEvents_(l,o);const c=o.getGeometry();if(c){const u=c.getExtent();n.push(u),i.push(o)}else this.nullGeometryFeatures_[l]=o}if(this.featuresRtree_&&this.featuresRtree_.load(n,i),this.hasListener(ru.ADDFEATURE))for(let a=0,s=r.length;a<s;a++)this.dispatchEvent(new zf(ru.ADDFEATURE,r[a]))}bindFeaturesCollection_(t){let n=!1;this.addEventListener(ru.ADDFEATURE,function(r){n||(n=!0,t.push(r.feature),n=!1)}),this.addEventListener(ru.REMOVEFEATURE,function(r){n||(n=!0,t.remove(r.feature),n=!1)}),t.addEventListener(ps.ADD,r=>{n||(n=!0,this.addFeature(r.element),n=!1)}),t.addEventListener(ps.REMOVE,r=>{n||(n=!0,this.removeFeature(r.element),n=!1)}),this.featuresCollection_=t}clear(t){if(t){for(const r in this.featureChangeKeys_)this.featureChangeKeys_[r].forEach(Fi);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const r=i=>{this.removeFeatureInternal(i)};this.featuresRtree_.forEach(r);for(const i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new zf(ru.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,n){const r=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(r,function(i){if(i.getGeometry().intersectsCoordinate(t))return n(i)})}forEachFeatureInExtent(t,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(t,n){return this.forEachFeatureInExtent(t,function(r){if(r.getGeometry().intersectsExtent(t)){const a=n(r);if(a)return a}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Yg(this.nullGeometryFeatures_)||Wc(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const n=[];return this.forEachFeatureAtCoordinateDirect(t,function(r){n.push(r)}),n}getFeaturesInExtent(t,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const i=Lnt(t,n);return[].concat(...i.map(a=>this.featuresRtree_.getInExtent(a)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,n){const r=t[0],i=t[1];let a=null;const s=[NaN,NaN];let o=1/0;const l=[-1/0,-1/0,1/0,1/0];return n=n||vv,this.featuresRtree_.forEachInExtent(l,function(c){if(n(c)){const u=c.getGeometry(),f=o;if(o=u.closestPointXY(r,i,s,o),o<f){a=c;const h=Math.sqrt(o);l[0]=r-h,l[1]=i-h,l[2]=r+h,l[3]=i+h}}}),a}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const n=this.idIndex_[t.toString()];return n!==void 0?n:null}getFeatureByUid(t){const n=this.uidIndex_[t];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const n=t.target,r=si(n),i=n.getGeometry();if(!i)r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[r]=n);else{const s=i.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(s,n)):this.featuresRtree_&&this.featuresRtree_.update(s,n)}const a=n.getId();if(a!==void 0){const s=a.toString();this.idIndex_[s]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[s]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[r]=n;this.changed(),this.dispatchEvent(new zf(ru.CHANGEFEATURE,n))}hasFeature(t){const n=t.getId();return n!==void 0?n in this.idIndex_:si(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Yg(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(t,n,r){const i=this.loadedExtentsRtree_,a=this.strategy_(t,n,r);for(let s=0,o=a.length;s<o;++s){const l=a[s];i.forEachInExtent(l,function(u){return fg(u.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new zf(ru.FEATURESLOADSTART)),this.loader_.call(this,l,n,r,u=>{--this.loadingExtentsCount_,this.dispatchEvent(new zf(ru.FEATURESLOADEND,void 0,u))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new zf(ru.FEATURESLOADERROR))}),i.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const n=this.loadedExtentsRtree_;let r;n.forEachInExtent(t,function(i){if(pv(i.extent,t))return r=i,!0}),r&&n.remove(r)}removeFeature(t){if(!t)return;const n=si(t);n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const n=si(t),r=this.featureChangeKeys_[n];if(!r)return;r.forEach(Fi),delete this.featureChangeKeys_[n];const i=t.getId();return i!==void 0&&delete this.idIndex_[i.toString()],delete this.uidIndex_[n],this.dispatchEvent(new zf(ru.REMOVEFEATURE,t)),t}removeFromIdIndex_(t){let n=!1;for(const r in this.idIndex_)if(this.idIndex_[r]===t){delete this.idIndex_[r],n=!0;break}return n}setLoader(t){this.loader_=t}setUrl(t){Nr(this.format_,7),this.url_=t,this.setLoader(QO(t,this.format_))}}const Mpt=Xot,er={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class Kot extends c2{constructor(t,n,r){super(),r=r||{},this.tileCoord=t,this.state=n,this.interimTile=null,this.key="",this.transition_=r.transition===void 0?250:r.transition,this.transitionStarts_={},this.interpolate=!!r.interpolate}changed(){this.dispatchEvent(Sr.CHANGE)}release(){this.state===er.ERROR&&this.setState(er.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let t=this.interimTile;do{if(t.getState()==er.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this}refreshInterimChain(){if(!this.interimTile)return;let t=this.interimTile,n=this;do{if(t.getState()==er.LOADED){t.interimTile=null;break}else t.getState()==er.LOADING?n=t:t.getState()==er.IDLE?n.interimTile=t.interimTile:n=t;t=n.interimTile}while(t)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==er.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}load(){Qn()}getAlpha(t,n){if(!this.transition_)return 1;let r=this.transitionStarts_[t];if(!r)r=n,this.transitionStarts_[t]=r;else if(r===-1)return 1;const i=n-r+1e3/60;return i>=this.transition_?1:U8(i/this.transition_)}inTransition(t){return this.transition_?this.transitionStarts_[t]!==-1:!1}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}}const Q8=Kot;class Zot extends Q8{constructor(t,n,r,i,a,s){super(t,n,s),this.crossOrigin_=i,this.src_=r,this.key=r,this.image_=new Image,i!==null&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=a}getImage(){return this.image_}setImage(t){this.image_=t,this.state=er.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=er.ERROR,this.unlistenImage_(),this.image_=Jot(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=er.LOADED:this.state=er.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==er.ERROR&&(this.state=er.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==er.IDLE&&(this.state=er.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Y8(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function Jot(){const e=Zo(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}const t7=Zot;class Qot{constructor(t,n,r){this.decay_=t,this.minVelocity_=n,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,n){this.points_.push(t,n,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<t)return!1;let r=n-3;for(;r>0&&this.points_[r+2]>t;)r-=3;const i=this.points_[n+2]-this.points_[r+2];if(i<1e3/60)return!1;const a=this.points_[n]-this.points_[r],s=this.points_[n+1]-this.points_[r+1];return this.angle_=Math.atan2(s,a),this.initialVelocity_=Math.sqrt(a*a+s*s)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const tst=Qot;class est extends pS{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,n){Qn()}calculateMatrices2D(t){const n=t.viewState,r=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;yh(r,t.size[0]/2,t.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),yS(i,r)}forEachFeatureAtCoordinate(t,n,r,i,a,s,o,l){let c;const u=n.viewState;function f(b,w,T,M){return a.call(s,w,b?T:null,M)}const h=u.projection,d=PR(t.slice(),h),p=[[0,0]];if(h.canWrapX()&&i){const b=h.getExtent(),w=Ei(b);p.push([-w,0],[w,0])}const g=n.layerStatesArray,m=g.length,v=[],y=[];for(let b=0;b<p.length;b++)for(let w=m-1;w>=0;--w){const T=g[w],M=T.layer;if(M.hasRenderer()&&zS(T,u)&&o.call(l,M)){const S=M.getRenderer(),E=M.getSource();if(S&&E){const A=E.getWrapX()?d:t,O=f.bind(null,T.managed);y[0]=A[0]+p[b][0],y[1]=A[1]+p[b][1],c=S.forEachFeatureAtCoordinate(y,n,r,O,v)}if(c)return c}}if(v.length===0)return;const _=1/v.length;return v.forEach((b,w)=>b.distanceSq+=w*_),v.sort((b,w)=>b.distanceSq-w.distanceSq),v.some(b=>c=b.callback(b.feature,b.layer,b.geometry)),c}hasFeatureAtCoordinate(t,n,r,i,a,s){return this.forEachFeatureAtCoordinate(t,n,r,i,vv,this,a,s)!==void 0}getMap(){return this.map_}renderFrame(t){Qn()}flushDeclutterItems(t){}scheduleExpireIconCache(t){qx.canExpireCache()&&t.postRenderFunctions.push(nst)}}function nst(e,t){qx.expire()}const rst=est;class ist extends rst{constructor(t){super(t),this.fontChangeListenerKey_=Qr(kc,Xg.PROPERTYCHANGE,t.redrawText.bind(t)),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=g2+" ol-layers";const r=t.getViewport();r.insertBefore(this.element_,r.firstChild||null),this.children_=[],this.renderedVisible_=!0,this.declutterLayers_=[]}dispatchRenderEvent(t,n){const r=this.getMap();if(r.hasListener(t)){const i=new q8(t,void 0,n);r.dispatchEvent(i)}}disposeInternal(){Fi(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(ec.PRECOMPOSE,t);const n=t.layerStatesArray.sort(function(s,o){return s.zIndex-o.zIndex}),r=t.viewState;this.children_.length=0;const i=this.declutterLayers_;i.length=0;let a=null;for(let s=0,o=n.length;s<o;++s){const l=n[s];t.layerIndex=s;const c=l.layer,u=c.getSourceState();if(!zS(l,r)||u!="ready"&&u!="undefined"){c.unrender();continue}const f=c.render(t,a);f&&(f!==a&&(this.children_.push(f),a=f),"getDeclutter"in c&&i.push(c))}this.flushDeclutterItems(t),mat(this.element_,this.children_),this.dispatchRenderEvent(ec.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}flushDeclutterItems(t){const n=this.declutterLayers_;for(let r=n.length-1;r>=0;--r)n[r].renderDeclutter(t);n.length=0}}const ast=ist;class Xf extends pf{constructor(t,n){super(t),this.layer=n}}const L3={LAYERS:"layers"};class GS extends j8{constructor(t){t=t||{};const n=Object.assign({},t);delete n.layers;let r=t.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(L3.LAYERS,this.handleLayersChanged_),r?Array.isArray(r)?r=new Wu(r.slice(),{unique:!0}):Nr(typeof r.getArray=="function",43):r=new Wu(void 0,{unique:!0}),this.setLayers(r)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Fi),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(Qr(t,ps.ADD,this.handleLayersAdd_,this),Qr(t,ps.REMOVE,this.handleLayersRemove_,this));for(const r in this.listenerKeys_)this.listenerKeys_[r].forEach(Fi);Dy(this.listenerKeys_);const n=t.getArray();for(let r=0,i=n.length;r<i;r++){const a=n[r];this.registerLayerListeners_(a),this.dispatchEvent(new Xf("addlayer",a))}this.changed()}registerLayerListeners_(t){const n=[Qr(t,Xg.PROPERTYCHANGE,this.handleLayerChange_,this),Qr(t,Sr.CHANGE,this.handleLayerChange_,this)];t instanceof GS&&n.push(Qr(t,"addlayer",this.handleLayerGroupAdd_,this),Qr(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[si(t)]=n}handleLayerGroupAdd_(t){this.dispatchEvent(new Xf("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new Xf("removelayer",t.layer))}handleLayersAdd_(t){const n=t.element;this.registerLayerListeners_(n),this.dispatchEvent(new Xf("addlayer",n)),this.changed()}handleLayersRemove_(t){const n=t.element,r=si(n);this.listenerKeys_[r].forEach(Fi),delete this.listenerKeys_[r],this.dispatchEvent(new Xf("removelayer",n)),this.changed()}getLayers(){return this.get(L3.LAYERS)}setLayers(t){const n=this.getLayers();if(n){const r=n.getArray();for(let i=0,a=r.length;i<a;++i)this.dispatchEvent(new Xf("removelayer",r[i]))}this.set(L3.LAYERS,t)}getLayersArray(t){return t=t!==void 0?t:[],this.getLayers().forEach(function(n){n.getLayersArray(t)}),t}getLayerStatesArray(t){const n=t!==void 0?t:[],r=n.length;this.getLayers().forEach(function(s){s.getLayerStatesArray(n)});const i=this.getLayerState();let a=i.zIndex;!t&&i.zIndex===void 0&&(a=0);for(let s=r,o=n.length;s<o;s++){const l=n[s];l.opacity*=i.opacity,l.visible=l.visible&&i.visible,l.maxResolution=Math.min(l.maxResolution,i.maxResolution),l.minResolution=Math.max(l.minResolution,i.minResolution),l.minZoom=Math.max(l.minZoom,i.minZoom),l.maxZoom=Math.min(l.maxZoom,i.maxZoom),i.extent!==void 0&&(l.extent!==void 0?l.extent=Hm(l.extent,i.extent):l.extent=i.extent),l.zIndex===void 0&&(l.zIndex=a)}return n}getSourceState(){return"ready"}}const y2=GS;class ost extends pf{constructor(t,n,r){super(t),this.map=n,this.frameState=r!==void 0?r:null}}const rg=ost;class sst extends rg{constructor(t,n,r,i,a,s){super(t,n,a),this.originalEvent=r,this.pixel_=null,this.coordinate_=null,this.dragging=i!==void 0?i:!1,this.activePointers=s}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Yf=sst,sa={SINGLECLICK:"singleclick",CLICK:Sr.CLICK,DBLCLICK:Sr.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},tE={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class lst extends c2{constructor(t,n){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const r=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=r,this.pointerdownListenerKey_=Qr(r,tE.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Qr(r,tE.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Sr.TOUCHMOVE,this.boundHandleTouchMove_,p8?{passive:!1}:!1)}emulateClick_(t){let n=new Yf(sa.CLICK,this.map_,t);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new Yf(sa.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const r=new Yf(sa.SINGLECLICK,this.map_,t);this.dispatchEvent(r)},250)}updateActivePointers_(t){const n=t,r=n.pointerId;if(n.type==sa.POINTERUP||n.type==sa.POINTERCANCEL){delete this.trackedTouches_[r];for(const i in this.trackedTouches_)if(this.trackedTouches_[i].target!==n.target){delete this.trackedTouches_[i];break}}else(n.type==sa.POINTERDOWN||n.type==sa.POINTERMOVE)&&(this.trackedTouches_[r]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const n=new Yf(sa.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Fi),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return t.button===0}handlePointerDown_(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);const n=new Yf(sa.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),this.dragListenerKeys_.length===0){const r=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Qr(r,sa.POINTERMOVE,this.handlePointerMove_,this),Qr(r,sa.POINTERUP,this.handlePointerUp_,this),Qr(this.element_,sa.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push(Qr(this.element_.getRootNode(),sa.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const n=new Yf(sa.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const n=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new Yf(sa.POINTERMOVE,this.map_,t,n))}handleTouchMove_(t){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Fi(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Sr.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Fi(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Fi),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const ust=lst,Wf={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},wo={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Kx=1/0;let cst=class{constructor(t,n){this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Dy(this.queuedElements_)}dequeue(){const t=this.elements_,n=this.priorities_,r=t[0];t.length==1?(t.length=0,n.length=0):(t[0]=t.pop(),n[0]=n.pop(),this.siftUp_(0));const i=this.keyFunction_(r);return delete this.queuedElements_[i],r}enqueue(t){Nr(!(this.keyFunction_(t)in this.queuedElements_),31);const n=this.priorityFunction_(t);return n!=Kx?(this.elements_.push(t),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(t){return t*2+1}getRightChildIndex_(t){return t*2+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return this.elements_.length===0}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const n=this.elements_,r=this.priorities_,i=n.length,a=n[t],s=r[t],o=t;for(;t<i>>1;){const l=this.getLeftChildIndex_(t),c=this.getRightChildIndex_(t),u=c<i&&r[c]<r[l]?c:l;n[t]=n[u],r[t]=r[u],t=u}n[t]=a,r[t]=s,this.siftDown_(o,t)}siftDown_(t,n){const r=this.elements_,i=this.priorities_,a=r[n],s=i[n];for(;n>t;){const o=this.getParentIndex_(n);if(i[o]>s)r[n]=r[o],i[n]=i[o],n=o;else break}r[n]=a,i[n]=s}reprioritize(){const t=this.priorityFunction_,n=this.elements_,r=this.priorities_;let i=0;const a=n.length;let s,o,l;for(o=0;o<a;++o)s=n[o],l=t(s),l==Kx?delete this.queuedElements_[this.keyFunction_(s)]:(r[i]=l,n[i++]=s);n.length=i,r.length=i,this.heapify_()}};const fst=cst;class hst extends fst{constructor(t,n){super(function(r){return t.apply(null,r)},function(r){return r[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const n=super.enqueue(t);return n&&t[0].addEventListener(Sr.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const n=t.target,r=n.getState();if(r===er.LOADED||r===er.ERROR||r===er.EMPTY){r!==er.ERROR&&n.removeEventListener(Sr.CHANGE,this.boundHandleTileChange_);const i=n.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,n){let r=0,i,a,s;for(;this.tilesLoading_<t&&r<n&&this.getCount()>0;)a=this.dequeue()[0],s=a.getKey(),i=a.getState(),i===er.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++r,a.load())}}const dst=hst;function pst(e,t,n,r,i){if(!e||!(n in e.wantedTiles)||!e.wantedTiles[n][t.getKey()])return Kx;const a=e.viewState.center,s=r[0]-a[0],o=r[1]-a[1];return 65536*Math.log(i)+Math.sqrt(s*s+o*o)/i}class gst extends pc{constructor(t){super();const n=t.element;n&&!t.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){XT(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&XT(this.element);for(let n=0,r=this.listenerKeys.length;n<r;++n)Fi(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=t,t&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Kg&&this.listenerKeys.push(Qr(t,Wf.POSTRENDER,this.render,this)),t.render())}render(t){}setTarget(t){this.target_=typeof t=="string"?document.getElementById(t):t}}const jS=gst;class mst extends jS{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=t.collapsed!==void 0?t.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=t.collapsible!==void 0,this.collapsible_=t.collapsible!==void 0?t.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const n=t.className!==void 0?t.className:"ol-attribution",r=t.tipLabel!==void 0?t.tipLabel:"Attributions",i=t.expandClassName!==void 0?t.expandClassName:n+"-expand",a=t.collapseLabel!==void 0?t.collapseLabel:"",s=t.collapseClassName!==void 0?t.collapseClassName:n+"-collapse";typeof a=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=a,this.collapseLabel_.className=s):this.collapseLabel_=a;const o=t.label!==void 0?t.label:"i";typeof o=="string"?(this.label_=document.createElement("span"),this.label_.textContent=o,this.label_.className=i):this.label_=o;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=r,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(Sr.CLICK,this.handleClick_.bind(this),!1);const c=n+" "+g2+" "+OS+(this.collapsed_&&this.collapsible_?" "+LO:"")+(this.collapsible_?"":" ol-uncollapsible"),u=this.element;u.className=c,u.appendChild(this.toggleButton_),u.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const n=Array.from(new Set(this.getMap().getAllLayers().flatMap(i=>i.getAttributions(t)))),r=!this.getMap().getAllLayers().some(i=>i.getSource()&&i.getSource().getAttributionsCollapsible()===!1);return this.overrideCollapsible_||this.setCollapsible(r),n}updateElement_(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=this.collectSourceAttributions_(t),r=n.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!Lh(n,this.renderedAttributions_)){gat(this.ulElement_);for(let i=0,a=n.length;i<a;++i){const s=document.createElement("li");s.innerHTML=n[i],this.ulElement_.appendChild(s)}this.renderedAttributions_=n}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(LO),this.collapsed_?OO(this.collapseLabel_,this.label_):OO(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}const vst=mst;class yst extends jS{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const n=t.className!==void 0?t.className:"ol-rotate",r=t.label!==void 0?t.label:"",i=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof r=="string"?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=r):(this.label_=r,this.label_.classList.add(i));const a=t.tipLabel?t.tipLabel:"Reset rotation",s=document.createElement("button");s.className=n+"-reset",s.setAttribute("type","button"),s.title=a,s.appendChild(this.label_),s.addEventListener(Sr.CLICK,this.handleClick_.bind(this),!1);const o=n+" "+g2+" "+OS,l=this.element;l.className=o,l.appendChild(s),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(x1)}handleClick_(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const r=n.getRotation();r!==void 0&&(this.duration_>0&&r%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:N0}):n.setRotation(0))}render(t){const n=t.frameState;if(!n)return;const r=n.viewState.rotation;if(r!=this.rotation_){const i="rotate("+r+"rad)";if(this.autoHide_){const a=this.element.classList.contains(x1);!a&&r===0?this.element.classList.add(x1):a&&r!==0&&this.element.classList.remove(x1)}this.label_.style.transform=i}this.rotation_=r}}const _st=yst;class xst extends jS{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const n=t.className!==void 0?t.className:"ol-zoom",r=t.delta!==void 0?t.delta:1,i=t.zoomInClassName!==void 0?t.zoomInClassName:n+"-in",a=t.zoomOutClassName!==void 0?t.zoomOutClassName:n+"-out",s=t.zoomInLabel!==void 0?t.zoomInLabel:"+",o=t.zoomOutLabel!==void 0?t.zoomOutLabel:"",l=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",c=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=i,u.setAttribute("type","button"),u.title=l,u.appendChild(typeof s=="string"?document.createTextNode(s):s),u.addEventListener(Sr.CLICK,this.handleClick_.bind(this,r),!1);const f=document.createElement("button");f.className=a,f.setAttribute("type","button"),f.title=c,f.appendChild(typeof o=="string"?document.createTextNode(o):o),f.addEventListener(Sr.CLICK,this.handleClick_.bind(this,-r),!1);const h=n+" "+g2+" "+OS,d=this.element;d.className=h,d.appendChild(u),d.appendChild(f),this.duration_=t.duration!==void 0?t.duration:250}handleClick_(t,n){n.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const r=this.getMap().getView();if(!r)return;const i=r.getZoom();if(i!==void 0){const a=r.getConstrainedZoom(i+t);this.duration_>0?(r.getAnimating()&&r.cancelAnimations(),r.animate({zoom:a,duration:this.duration_,easing:N0})):r.setZoom(a)}}}const bst=xst;function wst(e){e=e||{};const t=new Wu;return(e.zoom!==void 0?e.zoom:!0)&&t.push(new bst(e.zoomOptions)),(e.rotate!==void 0?e.rotate:!0)&&t.push(new _st(e.rotateOptions)),(e.attribution!==void 0?e.attribution:!0)&&t.push(new vst(e.attributionOptions)),t}const tL={ACTIVE:"active"};class Tst extends pc{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(tL.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(tL.ACTIVE,t)}setMap(t){this.map_=t}}function Est(e,t,n){const r=e.getCenterInternal();if(r){const i=[r[0]+t[0],r[1]+t[1]];e.animateInternal({duration:n!==void 0?n:250,easing:Dat,center:e.getConstrainedCenter(i)})}}function US(e,t,n,r){const i=e.getZoom();if(i===void 0)return;const a=e.getConstrainedZoom(i+t),s=e.getResolutionForZoom(a);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:s,anchor:n,duration:r!==void 0?r:250,easing:N0})}const By=Tst;class Mst extends By{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let n=!1;if(t.type==sa.DBLCLICK){const r=t.originalEvent,i=t.map,a=t.coordinate,s=r.shiftKey?-this.delta_:this.delta_,o=i.getView();US(o,s,a,this.duration_),r.preventDefault(),n=!0}return!n}}const Sst=Mst;class Cst extends By{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==sa.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==sa.POINTERUP){const r=this.handleUpEvent(t);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(t.type==sa.POINTERDOWN){const r=this.handleDownEvent(t);this.handlingDownUpSequence=r,n=this.stopDown(r)}else t.type==sa.POINTERMOVE&&this.handleMoveEvent(t);return!n}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}}function VS(e){const t=e.length;let n=0,r=0;for(let i=0;i<t;i++)n+=e[i].clientX,r+=e[i].clientY;return{clientX:n/t,clientY:r/t}}const Gy=Cst;function eE(e){const t=arguments;return function(n){let r=!0;for(let i=0,a=t.length;i<a&&(r=r&&t[i](n),!!r);++i);return r}}const Ast=function(e){const t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Ist=function(e){const t=e.map.getTargetElement(),n=e.map.getOwnerDocument().activeElement;return t.contains(n)},e7=function(e){return e.map.getTargetElement().hasAttribute("tabindex")?Ist(e):!0},Ost=vv,n7=function(e){const t=e.originalEvent;return t.button==0&&!(Nit&&h8&&t.ctrlKey)},r7=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},Lst=function(e){const t=e.originalEvent;return h8?t.metaKey:t.ctrlKey},Pst=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},i7=function(e){const t=e.originalEvent,n=t.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!t.target.isContentEditable},P3=function(e){const t=e.originalEvent;return Nr(t!==void 0,56),t.pointerType=="mouse"},Nst=function(e){const t=e.originalEvent;return Nr(t!==void 0,56),t.isPrimary&&t.button===0};class Rst extends Gy{constructor(t){super({stopDown:u2}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=t.condition?t.condition:eE(r7,Nst);this.condition_=t.onFocusOnly?eE(e7,n):n,this.noKinetic_=!1}handleDragEvent(t){const n=t.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const r=this.targetPointers,i=n.getEventPixel(VS(r));if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const a=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],o=t.map.getView();knt(a,o.getResolution()),aS(a,o.getRotation()),o.adjustCenterInternal(a)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,t.originalEvent.preventDefault()}handleUpEvent(t){const n=t.map,r=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const i=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),s=r.getCenterInternal(),o=n.getPixelFromCoordinateInternal(s),l=n.getCoordinateFromPixelInternal([o[0]-i*Math.cos(a),o[1]-i*Math.sin(a)]);r.animateInternal({center:r.getConstrainedCenter(l),duration:500,easing:N0})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const r=t.map.getView();return this.lastCentroid=null,r.getAnimating()&&r.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}const Dst=Rst;class kst extends Gy{constructor(t){t=t||{},super({stopDown:u2}),this.condition_=t.condition?t.condition:Ast,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){if(!P3(t))return;const n=t.map,r=n.getView();if(r.getConstraints().rotation===FS)return;const i=n.getSize(),a=t.pixel,s=Math.atan2(i[1]/2-a[1],a[0]-i[0]/2);if(this.lastAngle_!==void 0){const o=s-this.lastAngle_;r.adjustRotationInternal(-o)}this.lastAngle_=s}handleUpEvent(t){return P3(t)?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){return P3(t)&&n7(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}const Fst=kst;class zst extends pS{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,n=this.endPixel_,r="px",i=this.element_.style;i.left=Math.min(t[0],n[0])+r,i.top=Math.min(t[1],n[1])+r,i.width=Math.abs(n[0]-t[0])+r,i.height=Math.abs(n[1]-t[1])+r}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,n){this.startPixel_=t,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const t=this.startPixel_,n=this.endPixel_,i=[t,[t[0],n[1]],n,[n[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new xv([i])}getGeometry(){return this.geometry_}}const Bst=zst,M1={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class N3 extends pf{constructor(t,n,r){super(t),this.coordinate=n,this.mapBrowserEvent=r}}class Gst extends Gy{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.box_=new Bst(t.className||"ol-dragbox"),this.minArea_=t.minArea!==void 0?t.minArea:64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition?t.condition:n7,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(t,n,r){const i=r[0]-n[0],a=r[1]-n[1];return i*i+a*a>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new N3(M1.BOXDRAG,t.coordinate,t))}handleUpEvent(t){this.box_.setMap(null);const n=this.boxEndCondition_(t,this.startPixel_,t.pixel);return n&&this.onBoxEnd(t),this.dispatchEvent(new N3(n?M1.BOXEND:M1.BOXCANCEL,t.coordinate,t)),!1}handleDownEvent(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new N3(M1.BOXSTART,t.coordinate,t)),!0):!1}onBoxEnd(t){}}const jst=Gst;class Ust extends jst{constructor(t){t=t||{};const n=t.condition?t.condition:Pst;super({condition:n,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(t){const r=this.getMap().getView();let i=this.getGeometry();if(this.out_){const a=r.rotatedExtentForGeometry(i),s=r.getResolutionForExtentInternal(a),o=r.getResolution()/s;i=i.clone(),i.scale(o*o)}r.fitInternal(i,{duration:this.duration_,easing:N0})}}const Vst=Ust,Qh={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class Hst extends By{constructor(t){super(),t=t||{},this.defaultCondition_=function(n){return r7(n)&&i7(n)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(t){let n=!1;if(t.type==Sr.KEYDOWN){const r=t.originalEvent,i=r.key;if(this.condition_(t)&&(i==Qh.DOWN||i==Qh.LEFT||i==Qh.RIGHT||i==Qh.UP)){const s=t.map.getView(),o=s.getResolution()*this.pixelDelta_;let l=0,c=0;i==Qh.DOWN?c=-o:i==Qh.LEFT?l=-o:i==Qh.RIGHT?l=o:c=o;const u=[l,c];aS(u,s.getRotation()),Est(s,u,this.duration_),r.preventDefault(),n=!0}}return!n}}const Yst=Hst;class Wst extends By{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(n){return!Lst(n)&&i7(n)},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(t){let n=!1;if(t.type==Sr.KEYDOWN||t.type==Sr.KEYPRESS){const r=t.originalEvent,i=r.key;if(this.condition_(t)&&(i==="+"||i==="-")){const a=t.map,s=i==="+"?this.delta_:-this.delta_,o=a.getView();US(o,s,void 0,this.duration_),r.preventDefault(),n=!0}}return!n}}const $st=Wst;class qst extends By{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=t.maxDelta!==void 0?t.maxDelta:1,this.duration_=t.duration!==void 0?t.duration:250,this.timeout_=t.timeout!==void 0?t.timeout:80,this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t.constrainResolution:!1;const n=t.condition?t.condition:Ost;this.condition_=t.onFocusOnly?eE(e7,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(t){if(!this.condition_(t)||t.type!==Sr.WHEEL)return!0;const r=t.map,i=t.originalEvent;i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);let a;if(t.type==Sr.WHEEL&&(a=i.deltaY,Lit&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(a/=d8),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(a*=40)),a===0)return!1;this.lastDelta_=a;const s=Date.now();this.startTime_===void 0&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(a)<4?"trackpad":"wheel");const o=r.getView();if(this.mode_==="trackpad"&&!(o.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-a/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=a;const l=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),l),!1}handleWheelZoom_(t){const n=t.getView();n.getAnimating()&&n.cancelAnimations();let r=-ca(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),US(n,r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}const Xst=qst;class Kst extends Gy{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=u2),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){let n=0;const r=this.targetPointers[0],i=this.targetPointers[1],a=Math.atan2(i.clientY-r.clientY,i.clientX-r.clientX);if(this.lastAngle_!==void 0){const l=a-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=l}this.lastAngle_=a;const s=t.map,o=s.getView();o.getConstraints().rotation!==FS&&(this.anchor_=s.getCoordinateFromPixelInternal(s.getEventPixel(VS(this.targetPointers))),this.rotating_&&(s.render(),o.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(t){return this.targetPointers.length<2?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}const Zst=Kst;class Jst extends Gy{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=u2),super(n),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let n=1;const r=this.targetPointers[0],i=this.targetPointers[1],a=r.clientX-i.clientX,s=r.clientY-i.clientY,o=Math.sqrt(a*a+s*s);this.lastDistance_!==void 0&&(n=this.lastDistance_/o),this.lastDistance_=o;const l=t.map,c=l.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(VS(this.targetPointers))),l.render(),c.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const r=t.map.getView(),i=this.lastScaleDelta_>1?1:-1;return r.endInteraction(this.duration_,i),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}const Qst=Jst;function tlt(e){e=e||{};const t=new Wu,n=new tst(-.005,.05,100);return(e.altShiftDragRotate!==void 0?e.altShiftDragRotate:!0)&&t.push(new Fst),(e.doubleClickZoom!==void 0?e.doubleClickZoom:!0)&&t.push(new Sst({delta:e.zoomDelta,duration:e.zoomDuration})),(e.dragPan!==void 0?e.dragPan:!0)&&t.push(new Dst({onFocusOnly:e.onFocusOnly,kinetic:n})),(e.pinchRotate!==void 0?e.pinchRotate:!0)&&t.push(new Zst),(e.pinchZoom!==void 0?e.pinchZoom:!0)&&t.push(new Qst({duration:e.zoomDuration})),(e.keyboard!==void 0?e.keyboard:!0)&&(t.push(new Yst),t.push(new $st({delta:e.zoomDelta,duration:e.zoomDuration}))),(e.mouseWheelZoom!==void 0?e.mouseWheelZoom:!0)&&t.push(new Xst({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(e.shiftDragZoom!==void 0?e.shiftDragZoom:!0)&&t.push(new Vst({duration:e.zoomDuration})),t}function a7(e){if(e instanceof v2){e.setMapInternal(null);return}e instanceof y2&&e.getLayers().forEach(a7)}function o7(e,t){if(e instanceof v2){e.setMapInternal(t);return}if(e instanceof y2){const n=e.getLayers().getArray();for(let r=0,i=n.length;r<i;++r)o7(n[r],t)}}let elt=class extends pc{constructor(t){super(),t=t||{},this.on,this.once,this.un;const n=nlt(t);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:d8,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=tc(),this.pixelToCoordinateTransform_=tc(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||wst(),this.interactions=n.interactions||tlt({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new dst(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(wo.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(wo.VIEW,this.handleViewChanged_),this.addChangeListener(wo.SIZE,this.handleSizeChanged_),this.addChangeListener(wo.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const r=this;t.view&&!(t.view instanceof Bc)&&t.view.then(function(i){r.setView(new Bc(i))}),this.controls.addEventListener(ps.ADD,i=>{i.element.setMap(this)}),this.controls.addEventListener(ps.REMOVE,i=>{i.element.setMap(null)}),this.interactions.addEventListener(ps.ADD,i=>{i.element.setMap(this)}),this.interactions.addEventListener(ps.REMOVE,i=>{i.element.setMap(null)}),this.overlays_.addEventListener(ps.ADD,i=>{this.addOverlayInternal_(i.element)}),this.overlays_.addEventListener(ps.REMOVE,i=>{const a=i.element.getId();a!==void 0&&delete this.overlayIdIndex_[a.toString()],i.element.setMap(null)}),this.controls.forEach(i=>{i.setMap(this)}),this.interactions.forEach(i=>{i.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){o7(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const n=t.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,n,r){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(t);r=r!==void 0?r:{};const a=r.hitTolerance!==void 0?r.hitTolerance:0,s=r.layerFilter!==void 0?r.layerFilter:vv,o=r.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,a,o,n,null,s,null)}getFeaturesAtPixel(t,n){const r=[];return this.forEachFeatureAtPixel(t,function(i){r.push(i)},n),r}getAllLayers(){const t=[];function n(r){r.forEach(function(i){i instanceof y2?n(i.getLayers()):t.push(i)})}return n(this.getLayers()),t}hasFeatureAtPixel(t,n){if(!this.frameState_||!this.renderer_)return!1;const r=this.getCoordinateFromPixelInternal(t);n=n!==void 0?n:{};const i=n.layerFilter!==void 0?n.layerFilter:vv,a=n.hitTolerance!==void 0?n.hitTolerance:0,s=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,a,s,i,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const r=this.viewport_.getBoundingClientRect(),i=this.getSize(),a=r.width/i[0],s=r.height/i[1],o="changedTouches"in t?t.changedTouches[0]:t;return[(o.clientX-r.left)/a,(o.clientY-r.top)/s]}getTarget(){return this.get(wo.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return kT(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const n=this.frameState_;return n?Xa(n.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const n=this.overlayIdIndex_[t.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(wo.LAYERGROUP)}setLayers(t){const n=this.getLayerGroup();if(t instanceof Wu){n.setLayers(t);return}const r=n.getLayers();r.clear(),r.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=t.length;n<r;++n){const i=t[n];if(!i.visible)continue;const a=i.layer.getRenderer();if(a&&!a.ready)return!0;const s=i.layer.getSource();if(s&&s.loading)return!0}return!1}getPixelFromCoordinate(t){const n=Dc(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(t){const n=this.frameState_;return n?Xa(n.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(wo.SIZE)}getView(){return this.get(wo.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,n,r,i){return pst(this.frameState_,t,n,r,i)}handleBrowserEvent(t,n){n=n||t.type;const r=new Yf(n,this,t);this.handleMapBrowserEvent(r)}handleMapBrowserEvent(t){if(!this.frameState_)return;const n=t.originalEvent,r=n.type;if(r===tE.POINTERDOWN||r===Sr.WHEEL||r===Sr.KEYDOWN){const i=this.getOwnerDocument(),a=this.viewport_.getRootNode?this.viewport_.getRootNode():i,s=n.target;if(this.overlayContainerStopEvent_.contains(s)||!(a===i?i.documentElement:a).contains(s))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){const i=this.getInteractions().getArray().slice();for(let a=i.length-1;a>=0;a--){const s=i[a];if(s.getMap()!==this||!s.getActive()||!this.getTargetElement())continue;if(!s.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let i=this.maxTilesLoading_,a=i;if(t){const s=t.viewHints;if(s[Eo.ANIMATING]||s[Eo.INTERACTING]){const o=Date.now()-t.time>8;i=o?0:8,a=o?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,a))}t&&this.renderer_&&!t.animate&&(this.renderComplete_===!0?(this.hasListener(ec.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(ec.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new rg(Wf.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new rg(Wf.LOADSTART,this,t))));const r=this.postRenderFunctions_;for(let i=0,a=r.length;i<a;++i)r[i](this,t);r.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let r=0,i=this.targetChangeHandlerKeys_.length;r<i;++r)Fi(this.targetChangeHandlerKeys_[r]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Sr.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Sr.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,XT(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const r=this.targetElement_.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.unobserve(r.host),this.setSize(void 0)}const t=this.getTarget(),n=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new ast(this)),this.mapBrowserEventHandler_=new ust(this,this.moveTolerance_);for(const a in sa)this.mapBrowserEventHandler_.addEventListener(sa[a],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Sr.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Sr.WHEEL,this.boundHandleBrowserEvent_,p8?{passive:!1}:!1);const r=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[Qr(r,Sr.KEYDOWN,this.handleBrowserEvent,this),Qr(r,Sr.KEYPRESS,this.handleBrowserEvent,this)];const i=n.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Fi(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Fi(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Qr(t,Xg.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Qr(t,Sr.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Fi),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new Xf("addlayer",t)),this.layerGroupPropertyListenerKeys_=[Qr(t,Xg.PROPERTYCHANGE,this.render,this),Qr(t,Sr.CHANGE,this.render,this),Qr(t,"addlayer",this.handleLayerAdd_,this),Qr(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=t.length;n<r;++n){const i=t[n].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}flushDeclutterItems(){const t=this.frameState_;t&&this.renderer_.flushDeclutterItems(t)}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){a7(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const n=this.getSize(),r=this.getView(),i=this.frameState_;let a=null;if(n!==void 0&&AO(n)&&r&&r.isDef()){const s=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),o=r.getState();if(a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:PT(o.center,o.resolution,o.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:o,viewHints:s,wantedTiles:{},mapId:si(this),renderTargets:{}},o.nextCenter&&o.nextResolution){const l=isNaN(o.nextRotation)?o.rotation:o.nextRotation;a.nextExtent=PT(o.nextCenter,o.nextResolution,l,n)}}this.frameState_=a,this.renderer_.renderFrame(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),i&&(!this.previousExtent_||!ky(this.previousExtent_)&&!pv(a.extent,this.previousExtent_))&&(this.dispatchEvent(new rg(Wf.MOVESTART,this,i)),this.previousExtent_=L0(this.previousExtent_)),this.previousExtent_&&!a.viewHints[Eo.ANIMATING]&&!a.viewHints[Eo.INTERACTING]&&!pv(a.extent,this.previousExtent_)&&(this.dispatchEvent(new rg(Wf.MOVEEND,this,a)),SR(a.extent,this.previousExtent_))),this.dispatchEvent(new rg(Wf.POSTRENDER,this,a)),this.renderComplete_=this.hasListener(Wf.LOADSTART)||this.hasListener(Wf.LOADEND)||this.hasListener(ec.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new Xf("removelayer",n)),this.set(wo.LAYERGROUP,t)}setSize(t){this.set(wo.SIZE,t)}setTarget(t){this.set(wo.TARGET,t)}setView(t){if(!t||t instanceof Bc){this.set(wo.VIEW,t);return}this.set(wo.VIEW,new Bc);const n=this;t.then(function(r){n.setView(new Bc(r))})}updateSize(){const t=this.getTargetElement();let n;if(t){const i=getComputedStyle(t),a=t.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),s=t.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(a)&&!isNaN(s)&&(n=[a,s],!AO(n)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&DR("No map visible because the map container's width or height are 0."))}const r=this.getSize();n&&(!r||!Lh(n,r))&&(this.setSize(n),this.updateViewportSize_())}updateViewportSize_(){const t=this.getView();if(t){let n;const r=getComputedStyle(this.viewport_);r.width&&r.height&&(n=[parseInt(r.width,10),parseInt(r.height,10)]),t.setViewportSize(n)}}};function nlt(e){let t=null;e.keyboardEventTarget!==void 0&&(t=typeof e.keyboardEventTarget=="string"?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);const n={},r=e.layers&&typeof e.layers.getLayers=="function"?e.layers:new y2({layers:e.layers});n[wo.LAYERGROUP]=r,n[wo.TARGET]=e.target,n[wo.VIEW]=e.view instanceof Bc?e.view:new Bc;let i;e.controls!==void 0&&(Array.isArray(e.controls)?i=new Wu(e.controls.slice()):(Nr(typeof e.controls.getArray=="function",47),i=e.controls));let a;e.interactions!==void 0&&(Array.isArray(e.interactions)?a=new Wu(e.interactions.slice()):(Nr(typeof e.interactions.getArray=="function",48),a=e.interactions));let s;return e.overlays!==void 0?Array.isArray(e.overlays)?s=new Wu(e.overlays.slice()):(Nr(typeof e.overlays.getArray=="function",49),s=e.overlays):s=new Wu,{controls:i,interactions:a,keyboardEventTarget:t,overlays:s,values:n}}const Apt=elt;class rlt{constructor(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let n=this.oldest_;for(;n;)t(n.value_,n.key_,this),n=n.newer}get(t,n){const r=this.entries_[t];return Nr(r!==void 0,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_}remove(t){const n=this.entries_[t];return Nr(n!==void 0,15),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[t],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let n=0,r;for(r=this.newest_;r;r=r.older)t[n++]=r.key_;return t}getValues(){const t=new Array(this.count_);let n=0,r;for(r=this.newest_;r;r=r.older)t[n++]=r.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){if(this.containsKey(t))return this.entries_[t].value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,n){this.get(t),this.entries_[t].value_=n}set(t,n){Nr(!(t in this.entries_),16);const r={key_:t,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[t]=r,++this.count_}setSize(t){this.highWaterMark=t}}const ilt=rlt;function eL(e,t,n,r){return r!==void 0?(r[0]=e,r[1]=t,r[2]=n,r):[e,t,n]}function _2(e,t,n){return e+"/"+t+"/"+n}function s7(e){return _2(e[0],e[1],e[2])}function alt(e){return e.split("/").map(Number)}function l7(e){return(e[1]<<e[0])+e[2]}function olt(e,t){const n=e[0],r=e[1],i=e[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;const a=t.getFullTileRange(n);return a?a.containsXY(r,i):!0}class slt extends ilt{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const t=this.peekFirstKey(),r=alt(t)[0];this.forEach(i=>{i.tileCoord[0]!==r&&(this.remove(s7(i.tileCoord)),i.release())})}}const u7=slt;class c7{constructor(t,n,r,i){this.minX=t,this.maxX=n,this.minY=r,this.maxY=i}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,n){return this.minX<=t&&t<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function Hp(e,t,n,r,i){return i!==void 0?(i.minX=e,i.maxX=t,i.minY=n,i.maxY=r,i):new c7(e,t,n,r)}const f7=c7;class h7{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(t,n){if(n){let r=n.dataProjection?ki(n.dataProjection):this.readProjection(t);n.extent&&r&&r.getUnits()==="tile-pixels"&&(r=ki(r),r.setWorldExtent(n.extent)),n={dataProjection:r,featureProjection:n.featureProjection}}return this.adaptOptions(n)}adaptOptions(t){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)}getType(){return Qn()}readFeature(t,n){return Qn()}readFeatures(t,n){return Qn()}readGeometry(t,n){return Qn()}readProjection(t){return Qn()}writeFeature(t,n){return Qn()}writeFeatures(t,n){return Qn()}writeGeometry(t,n){return Qn()}}function Zx(e,t,n){const r=n?ki(n.featureProjection):null,i=n?ki(n.dataProjection):null;let a;if(r&&i&&!sd(r,i)?a=(t?e.clone():e).transform(t?r:i,t?i:r):a=e,t&&n&&n.decimals!==void 0){const s=Math.pow(10,n.decimals),o=function(l){for(let c=0,u=l.length;c<u;++c)l[c]=Math.round(l[c]*s)/s;return l};a===e&&(a=e.clone()),a.applyTransform(o)}return a}class llt extends h7{constructor(){super()}getType(){return"json"}readFeature(t,n){return this.readFeatureFromObject(S1(t),this.getReadOptions(t,n))}readFeatures(t,n){return this.readFeaturesFromObject(S1(t),this.getReadOptions(t,n))}readFeatureFromObject(t,n){return Qn()}readFeaturesFromObject(t,n){return Qn()}readGeometry(t,n){return this.readGeometryFromObject(S1(t),this.getReadOptions(t,n))}readGeometryFromObject(t,n){return Qn()}readProjection(t){return this.readProjectionFromObject(S1(t))}readProjectionFromObject(t){return Qn()}writeFeature(t,n){return JSON.stringify(this.writeFeatureObject(t,n))}writeFeatureObject(t,n){return Qn()}writeFeatures(t,n){return JSON.stringify(this.writeFeaturesObject(t,n))}writeFeaturesObject(t,n){return Qn()}writeGeometry(t,n){return JSON.stringify(this.writeGeometryObject(t,n))}writeGeometryObject(t,n){return Qn()}}function S1(e){if(typeof e=="string"){const t=JSON.parse(e);return t||null}return e!==null?e:null}const ult=llt;let clt=class nE extends sp{constructor(t,n,r){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(t[0]))this.setCoordinates(t,n);else if(n!==void 0&&r)this.setFlatCoordinates(n,t),this.ends_=r;else{let i=this.getLayout();const a=t,s=[],o=[];for(let l=0,c=a.length;l<c;++l){const u=a[l];l===0&&(i=u.getLayout()),Wc(s,u.getFlatCoordinates()),o.push(s.length)}this.setFlatCoordinates(i,s),this.ends_=o}}appendLineString(t){this.flatCoordinates?Wc(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new nE(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,n,r,i){return i<ip(this.getExtent(),t,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(xS(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),wS(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,n,r,i))}getCoordinateAtM(t,n,r){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(n=n!==void 0?n:!1,r=r!==void 0?r:!1,lat(this.flatCoordinates,0,this.ends_,this.stride,t,n,r))}getCoordinates(){return yv(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(t){return t<0||this.ends_.length<=t?null:new Vx(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLineStrings(){const t=this.flatCoordinates,n=this.ends_,r=this.layout,i=[];let a=0;for(let s=0,o=n.length;s<o;++s){const l=n[s],c=new Vx(t.slice(a,l),r);i.push(c),a=l}return i}getFlatMidpoints(){const t=[],n=this.flatCoordinates;let r=0;const i=this.ends_,a=this.stride;for(let s=0,o=i.length;s<o;++s){const l=i[s],c=I8(n,r,l,a,.5);Wc(t,c),r=l}return t}getSimplifiedGeometryInternal(t){const n=[],r=[];return n.length=Xit(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,r),new nE(n,"XY",r)}getType(){return"MultiLineString"}intersectsExtent(t){return iat(this.flatCoordinates,0,this.ends_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=TS(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}};const d7=clt;let flt=class p7 extends sp{constructor(t,n){super(),n&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}appendPoint(t){this.flatCoordinates?Wc(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()}clone(){const t=new p7(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,r,i){if(i<ip(this.getExtent(),t,n))return i;const a=this.flatCoordinates,s=this.stride;for(let o=0,l=a.length;o<l;o+=s){const c=Md(t,n,a[o],a[o+1]);if(c<i){i=c;for(let u=0;u<s;++u)r[u]=a[o+u];r.length=s}}return i}getCoordinates(){return Kf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(t){const n=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||n<=t?null:new _v(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)}getPoints(){const t=this.flatCoordinates,n=this.layout,r=this.stride,i=[];for(let a=0,s=t.length;a<s;a+=r){const o=new _v(t.slice(a,a+r),n);i.push(o)}return i}getType(){return"MultiPoint"}intersectsExtent(t){const n=this.flatCoordinates,r=this.stride;for(let i=0,a=n.length;i<a;i+=r){const s=n[i],o=n[i+1];if(rS(t,s,o))return!0}return!1}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=h2(this.flatCoordinates,0,t,this.stride),this.changed()}};const HS=flt;function hlt(e,t,n,r){const i=[];let a=tl();for(let s=0,o=n.length;s<o;++s){const l=n[s];a=CR(e,t,l[0],r),i.push((a[0]+a[2])/2,(a[1]+a[3])/2),t=l[l.length-1]}return i}let dlt=class rE extends sp{constructor(t,n,r){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!r&&!Array.isArray(t[0])){let i=this.getLayout();const a=t,s=[],o=[];for(let l=0,c=a.length;l<c;++l){const u=a[l];l===0&&(i=u.getLayout());const f=s.length,h=u.getEnds();for(let d=0,p=h.length;d<p;++d)h[d]+=f;Wc(s,u.getFlatCoordinates()),o.push(h)}n=i,t=s,r=o}n!==void 0&&r?(this.setFlatCoordinates(n,t),this.endss_=r):this.setCoordinates(t,n)}appendPolygon(t){let n;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),n=t.getEnds().slice(),this.endss_.push();else{const r=this.flatCoordinates.length;Wc(this.flatCoordinates,t.getFlatCoordinates()),n=t.getEnds().slice();for(let i=0,a=n.length;i<a;++i)n[i]+=r}this.endss_.push(n),this.changed()}clone(){const t=this.endss_.length,n=new Array(t);for(let i=0;i<t;++i)n[i]=this.endss_[i].slice();const r=new rE(this.flatCoordinates.slice(),this.layout,n);return r.applyProperties(this),r}closestPointXY(t,n,r,i){return i<ip(this.getExtent(),t,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Yit(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Wit(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,n,r,i))}containsXY(t,n){return nat(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,n)}getArea(){return Jit(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(t){let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),MO(n,0,this.endss_,this.stride,t)):n=this.flatCoordinates,VT(n,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const t=hlt(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=rat(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new HS(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;sat(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=MO(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const n=[],r=[];return n.length=Zit(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,r),new rE(n,"XY",r)}getPolygon(t){if(t<0||this.endss_.length<=t)return null;let n;if(t===0)n=0;else{const a=this.endss_[t-1];n=a[a.length-1]}const r=this.endss_[t].slice(),i=r[r.length-1];if(n!==0)for(let a=0,s=r.length;a<s;++a)r[a]-=n;return new xv(this.flatCoordinates.slice(n,i),this.layout,r)}getPolygons(){const t=this.layout,n=this.flatCoordinates,r=this.endss_,i=[];let a=0;for(let s=0,o=r.length;s<o;++s){const l=r[s].slice(),c=l[l.length-1];if(a!==0)for(let f=0,h=l.length;f<h;++f)l[f]-=a;const u=new xv(n.slice(a,c),t,l);i.push(u),a=c}return i}getType(){return"MultiPolygon"}intersectsExtent(t){return aat(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,3),this.flatCoordinates||(this.flatCoordinates=[]);const r=qit(this.flatCoordinates,0,t,this.stride,this.endss_);if(r.length===0)this.flatCoordinates.length=0;else{const i=r[r.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()}};const g7=dlt;let plt=class iE extends v8{constructor(t){super(),this.geometries_=t||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(Fi),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let t=0,n=this.geometries_.length;t<n;++t)this.changeEventsKeys_.push(Qr(this.geometries_[t],Sr.CHANGE,this.changed,this))}clone(){const t=new iE(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t}closestPointXY(t,n,r,i){if(i<ip(this.getExtent(),t,n))return i;const a=this.geometries_;for(let s=0,o=a.length;s<o;++s)i=a[s].closestPointXY(t,n,r,i);return i}containsXY(t,n){const r=this.geometries_;for(let i=0,a=r.length;i<a;++i)if(r[i].containsXY(t,n))return!0;return!1}computeExtent(t){L0(t);const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)AR(t,n[r].getExtent());return t}getGeometries(){return nL(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let t=[];const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].getType()===this.getType()?t=t.concat(n[r].getGeometriesArrayRecursive()):t.push(n[r]);return t}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=[],r=this.geometries_;let i=!1;for(let a=0,s=r.length;a<s;++a){const o=r[a],l=o.getSimplifiedGeometry(t);n.push(l),l!==o&&(i=!0)}if(i){const a=new iE(null);return a.setGeometriesArray(n),a}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this}getType(){return"GeometryCollection"}intersectsExtent(t){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)if(n[r].intersectsExtent(t))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(t,n){const r=this.geometries_;for(let i=0,a=r.length;i<a;++i)r[i].rotate(t,n);this.changed()}scale(t,n,r){r||(r=Fd(this.getExtent()));const i=this.geometries_;for(let a=0,s=i.length;a<s;++a)i[a].scale(t,n,r);this.changed()}setGeometries(t){this.setGeometriesArray(nL(t))}setGeometriesArray(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()}applyTransform(t){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].applyTransform(t);this.changed()}translate(t,n){const r=this.geometries_;for(let i=0,a=r.length;i<a;++i)r[i].translate(t,n);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}};function nL(e){const t=[];for(let n=0,r=e.length;n<r;++n)t.push(e[n].clone());return t}const Jx=plt;class glt extends ult{constructor(t){t=t||{},super(),this.dataProjection=ki(t.dataProjection?t.dataProjection:"EPSG:4326"),t.featureProjection&&(this.defaultFeatureProjection=ki(t.featureProjection)),this.geometryName_=t.geometryName,this.extractGeometryName_=t.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(t,n){let r=null;t.type==="Feature"?r=t:r={type:"Feature",geometry:t,properties:null};const i=aE(r.geometry,n),a=new UT;return this.geometryName_?a.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in r!==void 0&&a.setGeometryName(r.geometry_name),a.setGeometry(i),"id"in r&&a.setId(r.id),r.properties&&a.setProperties(r.properties,!0),a}readFeaturesFromObject(t,n){const r=t;let i=null;if(r.type==="FeatureCollection"){const a=t;i=[];const s=a.features;for(let o=0,l=s.length;o<l;++o)i.push(this.readFeatureFromObject(s[o],n))}else i=[this.readFeatureFromObject(t,n)];return i}readGeometryFromObject(t,n){return aE(t,n)}readProjectionFromObject(t){const n=t.crs;let r;return n?n.type=="name"?r=ki(n.properties.name):n.type==="EPSG"?r=ki("EPSG:"+n.properties.code):Nr(!1,36):r=this.dataProjection,r}writeFeatureObject(t,n){n=this.adaptOptions(n);const r={type:"Feature",geometry:null,properties:null},i=t.getId();if(i!==void 0&&(r.id=i),!t.hasProperties())return r;const a=t.getProperties(),s=t.getGeometry();return s&&(r.geometry=oE(s,n),delete a[t.getGeometryName()]),Yg(a)||(r.properties=a),r}writeFeaturesObject(t,n){n=this.adaptOptions(n);const r=[];for(let i=0,a=t.length;i<a;++i)r.push(this.writeFeatureObject(t[i],n));return{type:"FeatureCollection",features:r}}writeGeometryObject(t,n){return oE(t,this.adaptOptions(n))}}function aE(e,t){if(!e)return null;let n;switch(e.type){case"Point":{n=vlt(e);break}case"LineString":{n=ylt(e);break}case"Polygon":{n=wlt(e);break}case"MultiPoint":{n=xlt(e);break}case"MultiLineString":{n=_lt(e);break}case"MultiPolygon":{n=blt(e);break}case"GeometryCollection":{n=mlt(e);break}default:throw new Error("Unsupported GeoJSON type: "+e.type)}return Zx(n,!1,t)}function mlt(e,t){const n=e.geometries.map(function(r){return aE(r,t)});return new Jx(n)}function vlt(e){return new _v(e.coordinates)}function ylt(e){return new Vx(e.coordinates)}function _lt(e){return new d7(e.coordinates)}function xlt(e){return new HS(e.coordinates)}function blt(e){return new g7(e.coordinates)}function wlt(e){return new xv(e.coordinates)}function oE(e,t){e=Zx(e,!0,t);const n=e.getType();let r;switch(n){case"Point":{r=Alt(e);break}case"LineString":{r=Elt(e);break}case"Polygon":{r=Ilt(e,t);break}case"MultiPoint":{r=Slt(e);break}case"MultiLineString":{r=Mlt(e);break}case"MultiPolygon":{r=Clt(e,t);break}case"GeometryCollection":{r=Tlt(e,t);break}case"Circle":{r={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+n)}return r}function Tlt(e,t){return t=Object.assign({},t),delete t.featureProjection,{type:"GeometryCollection",geometries:e.getGeometriesArray().map(function(r){return oE(r,t)})}}function Elt(e,t){return{type:"LineString",coordinates:e.getCoordinates()}}function Mlt(e,t){return{type:"MultiLineString",coordinates:e.getCoordinates()}}function Slt(e,t){return{type:"MultiPoint",coordinates:e.getCoordinates()}}function Clt(e,t){let n;return t&&(n=t.rightHanded),{type:"MultiPolygon",coordinates:e.getCoordinates(n)}}function Alt(e,t){return{type:"Point",coordinates:e.getCoordinates()}}function Ilt(e,t){let n;return t&&(n=t.rightHanded),{type:"Polygon",coordinates:e.getCoordinates(n)}}const Ipt=glt;class Olt extends h7{constructor(){super()}getType(){return"text"}readFeature(t,n){return this.readFeatureFromText(C1(t),this.adaptOptions(n))}readFeatureFromText(t,n){return Qn()}readFeatures(t,n){return this.readFeaturesFromText(C1(t),this.adaptOptions(n))}readFeaturesFromText(t,n){return Qn()}readGeometry(t,n){return this.readGeometryFromText(C1(t),this.adaptOptions(n))}readGeometryFromText(t,n){return Qn()}readProjection(t){return this.readProjectionFromText(C1(t))}readProjectionFromText(t){return this.dataProjection}writeFeature(t,n){return this.writeFeatureText(t,this.adaptOptions(n))}writeFeatureText(t,n){return Qn()}writeFeatures(t,n){return this.writeFeaturesText(t,this.adaptOptions(n))}writeFeaturesText(t,n){return Qn()}writeGeometry(t,n){return this.writeGeometryText(t,this.adaptOptions(n))}writeGeometryText(t,n){return Qn()}}function C1(e){return typeof e=="string"?e:""}const Llt=Olt;var vm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Plt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const Nlt={POINT:_v,LINESTRING:Vx,POLYGON:xv,MULTIPOINT:HS,MULTILINESTRING:d7,MULTIPOLYGON:g7},m7="EMPTY",v7="Z",y7="M",Rlt="ZM",ai={START:0,TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6},Dlt={Point:"POINT",LineString:"LINESTRING",Polygon:"POLYGON",MultiPoint:"MULTIPOINT",MultiLineString:"MULTILINESTRING",MultiPolygon:"MULTIPOLYGON",GeometryCollection:"GEOMETRYCOLLECTION",Circle:"CIRCLE"};class klt{constructor(t){this.wkt=t,this.index_=-1}isAlpha_(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"}isNumeric_(t,n){return n=n!==void 0?n:!1,t>="0"&&t<="9"||t=="."&&!n}isWhiteSpace_(t){return t==" "||t=="	"||t=="\r"||t==`
`}nextChar_(){return this.wkt.charAt(++this.index_)}nextToken(){const t=this.nextChar_(),n=this.index_;let r=t,i;if(t=="(")i=ai.LEFT_PAREN;else if(t==",")i=ai.COMMA;else if(t==")")i=ai.RIGHT_PAREN;else if(this.isNumeric_(t)||t=="-")i=ai.NUMBER,r=this.readNumber_();else if(this.isAlpha_(t))i=ai.TEXT,r=this.readText_();else{if(this.isWhiteSpace_(t))return this.nextToken();if(t==="")i=ai.EOF;else throw new Error("Unexpected character: "+t)}return{position:n,value:r,type:i}}readNumber_(){let t;const n=this.index_;let r=!1,i=!1;do t=="."?r=!0:(t=="e"||t=="E")&&(i=!0),t=this.nextChar_();while(this.isNumeric_(t,r)||!i&&(t=="e"||t=="E")||i&&(t=="-"||t=="+"));return parseFloat(this.wkt.substring(n,this.index_--))}readText_(){let t;const n=this.index_;do t=this.nextChar_();while(this.isAlpha_(t));return this.wkt.substring(n,this.index_--).toUpperCase()}}class Flt{constructor(t){this.lexer_=t,this.token_={position:0,type:ai.START},this.layout_="XY"}consume_(){this.token_=this.lexer_.nextToken()}isTokenType(t){return this.token_.type==t}match(t){const n=this.isTokenType(t);return n&&this.consume_(),n}parse(){return this.consume_(),this.parseGeometry_()}parseGeometryLayout_(){let t="XY";const n=this.token_;if(this.isTokenType(ai.TEXT)){const r=n.value;r===v7?t="XYZ":r===y7?t="XYM":r===Rlt&&(t="XYZM"),t!=="XY"&&this.consume_()}return t}parseGeometryCollectionText_(){if(this.match(ai.LEFT_PAREN)){const t=[];do t.push(this.parseGeometry_());while(this.match(ai.COMMA));if(this.match(ai.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())}parsePointText_(){if(this.match(ai.LEFT_PAREN)){const t=this.parsePoint_();if(this.match(ai.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())}parseLineStringText_(){if(this.match(ai.LEFT_PAREN)){const t=this.parsePointList_();if(this.match(ai.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())}parsePolygonText_(){if(this.match(ai.LEFT_PAREN)){const t=this.parseLineStringTextList_();if(this.match(ai.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())}parseMultiPointText_(){if(this.match(ai.LEFT_PAREN)){let t;if(this.token_.type==ai.LEFT_PAREN?t=this.parsePointTextList_():t=this.parsePointList_(),this.match(ai.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())}parseMultiLineStringText_(){if(this.match(ai.LEFT_PAREN)){const t=this.parseLineStringTextList_();if(this.match(ai.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())}parseMultiPolygonText_(){if(this.match(ai.LEFT_PAREN)){const t=this.parsePolygonTextList_();if(this.match(ai.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())}parsePoint_(){const t=[],n=this.layout_.length;for(let r=0;r<n;++r){const i=this.token_;if(this.match(ai.NUMBER))t.push(i.value);else break}if(t.length==n)return t;throw new Error(this.formatErrorMessage_())}parsePointList_(){const t=[this.parsePoint_()];for(;this.match(ai.COMMA);)t.push(this.parsePoint_());return t}parsePointTextList_(){const t=[this.parsePointText_()];for(;this.match(ai.COMMA);)t.push(this.parsePointText_());return t}parseLineStringTextList_(){const t=[this.parseLineStringText_()];for(;this.match(ai.COMMA);)t.push(this.parseLineStringText_());return t}parsePolygonTextList_(){const t=[this.parsePolygonText_()];for(;this.match(ai.COMMA);)t.push(this.parsePolygonText_());return t}isEmptyGeometry_(){const t=this.isTokenType(ai.TEXT)&&this.token_.value==m7;return t&&this.consume_(),t}formatErrorMessage_(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}parseGeometry_(){const t=this.token_;if(this.match(ai.TEXT)){const n=t.value;this.layout_=this.parseGeometryLayout_();const r=this.isEmptyGeometry_();if(n=="GEOMETRYCOLLECTION"){if(r)return new Jx([]);const s=this.parseGeometryCollectionText_();return new Jx(s)}const i=Nlt[n];if(!i)throw new Error("Invalid geometry type: "+n);let a;if(r)n=="POINT"?a=[NaN,NaN]:a=[];else switch(n){case"POINT":{a=this.parsePointText_();break}case"LINESTRING":{a=this.parseLineStringText_();break}case"POLYGON":{a=this.parsePolygonText_();break}case"MULTIPOINT":{a=this.parseMultiPointText_();break}case"MULTILINESTRING":{a=this.parseMultiLineStringText_();break}case"MULTIPOLYGON":{a=this.parseMultiPolygonText_();break}}return new i(a,this.layout_)}throw new Error(this.formatErrorMessage_())}}class zlt extends Llt{constructor(t){super(),t=t||{},this.splitCollection_=t.splitCollection!==void 0?t.splitCollection:!1}parse_(t){const n=new klt(t);return new Flt(n).parse()}readFeatureFromText(t,n){const r=this.readGeometryFromText(t,n),i=new UT;return i.setGeometry(r),i}readFeaturesFromText(t,n){let r=[];const i=this.readGeometryFromText(t,n);this.splitCollection_&&i.getType()=="GeometryCollection"?r=i.getGeometriesArray():r=[i];const a=[];for(let s=0,o=r.length;s<o;++s){const l=new UT;l.setGeometry(r[s]),a.push(l)}return a}readGeometryFromText(t,n){const r=this.parse_(t);return Zx(r,!1,n)}writeFeatureText(t,n){const r=t.getGeometry();return r?this.writeGeometryText(r,n):""}writeFeaturesText(t,n){if(t.length==1)return this.writeFeatureText(t[0],n);const r=[];for(let a=0,s=t.length;a<s;++a)r.push(t[a].getGeometry());const i=new Jx(r);return this.writeGeometryText(i,n)}writeGeometryText(t,n){return b7(Zx(t,!0,n))}}function _7(e){const t=e.getCoordinates();return t.length===0?"":t.join(" ")}function Blt(e){const t=[],n=e.getPoints();for(let r=0,i=n.length;r<i;++r)t.push("("+_7(n[r])+")");return t.join(",")}function Glt(e){const t=[],n=e.getGeometries();for(let r=0,i=n.length;r<i;++r)t.push(b7(n[r]));return t.join(",")}function YS(e){const t=e.getCoordinates(),n=[];for(let r=0,i=t.length;r<i;++r)n.push(t[r].join(" "));return n.join(",")}function jlt(e){const t=[],n=e.getLineStrings();for(let r=0,i=n.length;r<i;++r)t.push("("+YS(n[r])+")");return t.join(",")}function x7(e){const t=[],n=e.getLinearRings();for(let r=0,i=n.length;r<i;++r)t.push("("+YS(n[r])+")");return t.join(",")}function Ult(e){const t=[],n=e.getPolygons();for(let r=0,i=n.length;r<i;++r)t.push("("+x7(n[r])+")");return t.join(",")}function Vlt(e){const t=e.getLayout();let n="";return(t==="XYZ"||t==="XYZM")&&(n+=v7),(t==="XYM"||t==="XYZM")&&(n+=y7),n}const Hlt={Point:_7,LineString:YS,Polygon:x7,MultiPoint:Blt,MultiLineString:jlt,MultiPolygon:Ult,GeometryCollection:Glt};function b7(e){const t=e.getType(),n=Hlt[t],r=n(e);let i=Dlt[t];if(typeof e.getFlatCoordinates=="function"){const a=Vlt(e);a.length>0&&(i+=" "+a)}return r.length===0?i+" "+m7:i+"("+r+")"}const Opt=zlt,A1={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class Ylt extends v2{constructor(t){t=t||{};const n=Object.assign({},t);delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.setPreload(t.preload!==void 0?t.preload:0),this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0)}getPreload(){return this.get(A1.PRELOAD)}setPreload(t){this.set(A1.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(A1.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(A1.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}const Wlt=Ylt,$lt=.5,qlt=10,rL=.25;class Xlt{constructor(t,n,r,i,a,s){this.sourceProj_=t,this.targetProj_=n;let o={};const l=gv(this.targetProj_,this.sourceProj_);this.transformInv_=function(y){const _=y[0]+"/"+y[1];return o[_]||(o[_]=l(y)),o[_]},this.maxSourceExtent_=i,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Ei(i)>=Ei(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Ei(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Ei(this.targetProj_.getExtent()):null;const c=ap(r),u=o2(r),f=a2(r),h=i2(r),d=this.transformInv_(c),p=this.transformInv_(u),g=this.transformInv_(f),m=this.transformInv_(h),v=qlt+(s?Math.max(0,Math.ceil(Math.log2(LT(r)/(s*s*256*256)))):0);if(this.addQuad_(c,u,f,h,d,p,g,m,v),this.wrapsXInSource_){let y=1/0;this.triangles_.forEach(function(_,b,w){y=Math.min(y,_.source[0][0],_.source[1][0],_.source[2][0])}),this.triangles_.forEach(_=>{if(Math.max(_.source[0][0],_.source[1][0],_.source[2][0])-y>this.sourceWorldWidth_/2){const b=[[_.source[0][0],_.source[0][1]],[_.source[1][0],_.source[1][1]],[_.source[2][0],_.source[2][1]]];b[0][0]-y>this.sourceWorldWidth_/2&&(b[0][0]-=this.sourceWorldWidth_),b[1][0]-y>this.sourceWorldWidth_/2&&(b[1][0]-=this.sourceWorldWidth_),b[2][0]-y>this.sourceWorldWidth_/2&&(b[2][0]-=this.sourceWorldWidth_);const w=Math.min(b[0][0],b[1][0],b[2][0]);Math.max(b[0][0],b[1][0],b[2][0])-w<this.sourceWorldWidth_/2&&(_.source=b)}})}o={}}addTriangle_(t,n,r,i,a,s){this.triangles_.push({source:[i,a,s],target:[t,n,r]})}addQuad_(t,n,r,i,a,s,o,l,c){const u=X5([a,s,o,l]),f=this.sourceWorldWidth_?Ei(u)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&f>.5&&f<1;let p=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const m=X5([t,n,r,i]);p=Ei(m)/this.targetWorldWidth_>rL||p}!d&&this.sourceProj_.isGlobal()&&f&&(p=f>rL||p)}if(!p&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!vs(u,this.maxSourceExtent_))return;let g=0;if(!p&&(!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(l[0])||!isFinite(l[1]))){if(c>0)p=!0;else if(g=(!isFinite(a[0])||!isFinite(a[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(o[0])||!isFinite(o[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),g!=1&&g!=2&&g!=4&&g!=8)return}if(c>0){if(!p){const m=[(t[0]+r[0])/2,(t[1]+r[1])/2],v=this.transformInv_(m);let y;d?y=(Sd(a[0],h)+Sd(o[0],h))/2-Sd(v[0],h):y=(a[0]+o[0])/2-v[0];const _=(a[1]+o[1])/2-v[1];p=y*y+_*_>this.errorThresholdSquared_}if(p){if(Math.abs(t[0]-r[0])<=Math.abs(t[1]-r[1])){const m=[(n[0]+r[0])/2,(n[1]+r[1])/2],v=this.transformInv_(m),y=[(i[0]+t[0])/2,(i[1]+t[1])/2],_=this.transformInv_(y);this.addQuad_(t,n,m,y,a,s,v,_,c-1),this.addQuad_(y,m,r,i,_,v,o,l,c-1)}else{const m=[(t[0]+n[0])/2,(t[1]+n[1])/2],v=this.transformInv_(m),y=[(r[0]+i[0])/2,(r[1]+i[1])/2],_=this.transformInv_(y);this.addQuad_(t,m,y,i,a,v,_,l,c-1),this.addQuad_(m,n,r,y,v,s,o,_,c-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}g&11||this.addTriangle_(t,r,i,a,o,l),g&14||this.addTriangle_(t,r,n,a,o,s),g&&(g&13||this.addTriangle_(n,i,t,s,l,a),g&7||this.addTriangle_(n,i,r,s,l,o))}calculateSourceExtent(){const t=tl();return this.triangles_.forEach(function(n,r,i){const a=n.source;Vm(t,a[0]),Vm(t,a[1]),Vm(t,a[2])}),t}getTriangles(){return this.triangles_}}const Klt=Xlt;let R3;const Eg=[];function iL(e,t,n,r,i){e.beginPath(),e.moveTo(0,0),e.lineTo(t,n),e.lineTo(r,i),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,r)+1,Math.max(n,i)),e.restore()}function D3(e,t){return Math.abs(e[t*4]-210)>2||Math.abs(e[t*4+3]-.75*255)>2}function Zlt(){if(R3===void 0){const e=Zo(6,6,Eg);e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",iL(e,4,5,4,0),iL(e,4,5,0,5);const t=e.getImageData(0,0,3,3).data;R3=D3(t,0)||D3(t,4)||D3(t,8),p2(e),Eg.push(e.canvas)}return R3}function sE(e,t,n,r){const i=zR(n,t,e);let a=Z5(t,r,n);const s=t.getMetersPerUnit();s!==void 0&&(a*=s);const o=e.getMetersPerUnit();o!==void 0&&(a/=o);const l=e.getExtent();if(!l||r2(l,i)){const c=Z5(e,a,i)/a;isFinite(c)&&c>0&&(a/=c)}return a}function Jlt(e,t,n,r){const i=Fd(n);let a=sE(e,t,i,r);return(!isFinite(a)||a<=0)&&OR(n,function(s){return a=sE(e,t,s,r),isFinite(a)&&a>0}),a}function Qlt(e,t,n,r,i,a,s,o,l,c,u,f){const h=Zo(Math.round(n*e),Math.round(n*t),Eg);if(f||(h.imageSmoothingEnabled=!1),l.length===0)return h.canvas;h.scale(n,n);function d(b){return Math.round(b*n)/n}h.globalCompositeOperation="lighter";const p=tl();l.forEach(function(b,w,T){AR(p,b.extent)});const g=Ei(p),m=oc(p),v=Zo(Math.round(n*g/r),Math.round(n*m/r),Eg);f||(v.imageSmoothingEnabled=!1);const y=n/r;l.forEach(function(b,w,T){const M=b.extent[0]-p[0],S=-(b.extent[3]-p[3]),E=Ei(b.extent),A=oc(b.extent);b.image.width>0&&b.image.height>0&&v.drawImage(b.image,c,c,b.image.width-2*c,b.image.height-2*c,M*y,S*y,E*y,A*y)});const _=ap(s);return o.getTriangles().forEach(function(b,w,T){const M=b.source,S=b.target;let E=M[0][0],A=M[0][1],O=M[1][0],N=M[1][1],F=M[2][0],P=M[2][1];const R=d((S[0][0]-_[0])/a),k=d(-(S[0][1]-_[1])/a),I=d((S[1][0]-_[0])/a),j=d(-(S[1][1]-_[1])/a),G=d((S[2][0]-_[0])/a),q=d(-(S[2][1]-_[1])/a),et=E,U=A;E=0,A=0,O-=et,N-=U,F-=et,P-=U;const J=[[O,N,0,0,I-R],[F,P,0,0,G-R],[0,0,O,N,j-k],[0,0,F,P,q-k]],nt=Nnt(J);if(nt){if(h.save(),h.beginPath(),Zlt()||!f){h.moveTo(I,j);const ct=4,z=R-I,W=k-j;for(let X=0;X<ct;X++)h.lineTo(I+d((X+1)*z/ct),j+d(X*W/(ct-1))),X!=ct-1&&h.lineTo(I+d((X+1)*z/ct),j+d((X+1)*W/(ct-1)));h.lineTo(G,q)}else h.moveTo(I,j),h.lineTo(R,k),h.lineTo(G,q);h.clip(),h.transform(nt[0],nt[2],nt[1],nt[3],R,k),h.translate(p[0]-et,p[3]-U),h.scale(r/n,-r/n),h.drawImage(v.canvas,0,0),h.restore()}}),p2(v),Eg.push(v.canvas),u&&(h.save(),h.globalCompositeOperation="source-over",h.strokeStyle="black",h.lineWidth=1,o.getTriangles().forEach(function(b,w,T){const M=b.target,S=(M[0][0]-_[0])/a,E=-(M[0][1]-_[1])/a,A=(M[1][0]-_[0])/a,O=-(M[1][1]-_[1])/a,N=(M[2][0]-_[0])/a,F=-(M[2][1]-_[1])/a;h.beginPath(),h.moveTo(A,O),h.lineTo(S,E),h.lineTo(N,F),h.closePath(),h.stroke()}),h.restore()),h.canvas}class tut extends Q8{constructor(t,n,r,i,a,s,o,l,c,u,f,h){super(a,er.IDLE,{interpolate:!!h}),this.renderEdges_=f!==void 0?f:!1,this.pixelRatio_=o,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=i,this.wrappedTileCoord_=s||a,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const d=i.getTileCoordExtent(this.wrappedTileCoord_),p=this.targetTileGrid_.getExtent();let g=this.sourceTileGrid_.getExtent();const m=p?Hm(d,p):d;if(LT(m)===0){this.state=er.EMPTY;return}const v=t.getExtent();v&&(g?g=Hm(g,v):g=v);const y=i.getResolution(this.wrappedTileCoord_[0]),_=Jlt(t,r,m,y);if(!isFinite(_)||_<=0){this.state=er.EMPTY;return}const b=u!==void 0?u:$lt;if(this.triangulation_=new Klt(t,r,m,g,_*b,y),this.triangulation_.getTriangles().length===0){this.state=er.EMPTY;return}this.sourceZ_=n.getZForResolution(_);let w=this.triangulation_.calculateSourceExtent();if(g&&(t.canWrapX()?(w[1]=ca(w[1],g[1],g[3]),w[3]=ca(w[3],g[1],g[3])):w=Hm(w,g)),!LT(w))this.state=er.EMPTY;else{const T=n.getTileRangeForExtentAndZ(w,this.sourceZ_);for(let M=T.minX;M<=T.maxX;M++)for(let S=T.minY;S<=T.maxY;S++){const E=c(this.sourceZ_,M,S,o);E&&this.sourceTiles_.push(E)}this.sourceTiles_.length===0&&(this.state=er.EMPTY)}}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach(n=>{n&&n.getState()==er.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(n.tileCoord),image:n.getImage()})}),this.sourceTiles_.length=0,t.length===0)this.state=er.ERROR;else{const n=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(n),i=typeof r=="number"?r:r[0],a=typeof r=="number"?r:r[1],s=this.targetTileGrid_.getResolution(n),o=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Qlt(i,a,this.pixelRatio_,o,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=er.LOADED}this.changed()}load(){if(this.state==er.IDLE){this.state=er.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(n=>{const r=n.getState();if(r==er.IDLE||r==er.LOADING){t++;const i=Qr(n,Sr.CHANGE,function(a){const s=n.getState();(s==er.LOADED||s==er.ERROR||s==er.EMPTY)&&(Fi(i),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(i)}}),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(n,r,i){n.getState()==er.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Fi),this.sourcesListenerKeys_=null}release(){this.canvas_&&(p2(this.canvas_.getContext("2d")),Eg.push(this.canvas_),this.canvas_=null),super.release()}}const lE=tut;class eut extends X8{constructor(t){super(t),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=tl(),this.tmpTileRange_=new f7(0,0,0,0)}isDrawableTile(t){const n=this.getLayer(),r=t.getState(),i=n.getUseInterimTilesOnError();return r==er.LOADED||r==er.EMPTY||r==er.ERROR&&!i}getTile(t,n,r,i){const a=i.pixelRatio,s=i.viewState.projection,o=this.getLayer();let c=o.getSource().getTile(t,n,r,a,s);return c.getState()==er.ERROR&&o.getUseInterimTilesOnError()&&o.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(c)||(c=c.getInterimTile()),c}getData(t){const n=this.frameState;if(!n)return null;const r=this.getLayer(),i=Xa(n.pixelToCoordinateTransform,t.slice()),a=r.getExtent();if(a&&!r2(a,i))return null;const s=n.pixelRatio,o=n.viewState.projection,l=n.viewState,c=r.getRenderSource(),u=c.getTileGridForProjection(l.projection),f=c.getTilePixelRatio(n.pixelRatio);for(let h=u.getZForResolution(l.resolution);h>=u.getMinZoom();--h){const d=u.getTileCoordForCoordAndZ(i,h),p=c.getTile(h,d[1],d[2],s,o);if(!(p instanceof t7||p instanceof lE)||p instanceof lE&&p.getState()===er.EMPTY)return null;if(p.getState()!==er.LOADED)continue;const g=u.getOrigin(h),m=xs(u.getTileSize(h)),v=u.getResolution(h),y=Math.floor(f*((i[0]-g[0])/v-d[1]*m[0])),_=Math.floor(f*((g[1]-i[1])/v-d[2]*m[1])),b=Math.round(f*c.getGutterForProjection(l.projection));return this.getImageData(p.getImage(),y+b,_+b)}return null}loadedTileCallback(t,n,r){return this.isDrawableTile(r)?super.loadedTileCallback(t,n,r):!1}prepareFrame(t){return!!this.getLayer().getSource()}renderFrame(t,n){const r=t.layerStatesArray[t.layerIndex],i=t.viewState,a=i.projection,s=i.resolution,o=i.center,l=i.rotation,c=t.pixelRatio,u=this.getLayer(),f=u.getSource(),h=f.getRevision(),d=f.getTileGridForProjection(a),p=d.getZForResolution(s,f.zDirection),g=d.getResolution(p);let m=t.extent;const v=t.viewState.resolution,y=f.getTilePixelRatio(c),_=Math.round(Ei(m)/v*c),b=Math.round(oc(m)/v*c),w=r.extent&&dd(r.extent);w&&(m=Hm(m,dd(r.extent)));const T=g*_/2/y,M=g*b/2/y,S=[o[0]-T,o[1]-M,o[0]+T,o[1]+M],E=d.getTileRangeForExtentAndZ(m,p),A={};A[p]={};const O=this.createLoadedTileFinder(f,a,A),N=this.tmpExtent,F=this.tmpTileRange_;this.newTiles_=!1;const P=l?NT(i.center,v,l,t.size):void 0;for(let J=E.minX;J<=E.maxX;++J)for(let nt=E.minY;nt<=E.maxY;++nt){if(l&&!d.tileCoordIntersectsViewport([p,J,nt],P))continue;const ct=this.getTile(p,J,nt,t);if(this.isDrawableTile(ct)){const X=si(this);if(ct.getState()==er.LOADED){A[p][ct.tileCoord.toString()]=ct;let it=ct.inTransition(X);it&&r.opacity!==1&&(ct.endTransition(X),it=!1),!this.newTiles_&&(it||!this.renderedTiles.includes(ct))&&(this.newTiles_=!0)}if(ct.getAlpha(X,t.time)===1)continue}const z=d.getTileCoordChildTileRange(ct.tileCoord,F,N);let W=!1;z&&(W=O(p+1,z)),W||d.forEachTileCoordParentTileRange(ct.tileCoord,O,F,N)}const R=g/s*c/y;yh(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/c,1/c,l,-_/2,-b/2);const k=g8(this.pixelTransform);this.useContainer(n,k,this.getBackground(t));const I=this.context,j=I.canvas;yS(this.inversePixelTransform,this.pixelTransform),yh(this.tempTransform,_/2,b/2,R,R,0,-_/2,-b/2),j.width!=_||j.height!=b?(j.width=_,j.height=b):this.containerReused||I.clearRect(0,0,_,b),w&&this.clipUnrotated(I,t,w),f.getInterpolate()||(I.imageSmoothingEnabled=!1),this.preRender(I,t),this.renderedTiles.length=0;let G=Object.keys(A).map(Number);G.sort(zd);let q,et,U;r.opacity===1&&(!this.containerReused||f.getOpaque(t.viewState.projection))?G=G.reverse():(q=[],et=[]);for(let J=G.length-1;J>=0;--J){const nt=G[J],ct=f.getTilePixelSize(nt,c,a),W=d.getResolution(nt)/g,X=ct[0]*W*R,it=ct[1]*W*R,lt=d.getTileCoordForCoordAndZ(ap(S),nt),pt=d.getTileCoordExtent(lt),rt=Xa(this.tempTransform,[y*(pt[0]-S[0])/g,y*(S[3]-pt[3])/g]),V=y*f.getGutterForProjection(a),B=A[nt];for(const H in B){const $=B[H],Z=$.tileCoord,Q=lt[1]-Z[1],ot=Math.round(rt[0]-(Q-1)*X),st=lt[2]-Z[2],dt=Math.round(rt[1]-(st-1)*it),bt=Math.round(rt[0]-Q*X),Pt=Math.round(rt[1]-st*it),It=ot-bt,Dt=dt-Pt,gt=p===nt,_t=gt&&$.getAlpha(si(this),t.time)!==1;let wt=!1;if(!_t)if(q){U=[bt,Pt,bt+It,Pt,bt+It,Pt+Dt,bt,Pt+Dt];for(let Et=0,ht=q.length;Et<ht;++Et)if(p!==nt&&nt<et[Et]){const vt=q[Et];vs([bt,Pt,bt+It,Pt+Dt],[vt[0],vt[3],vt[4],vt[7]])&&(wt||(I.save(),wt=!0),I.beginPath(),I.moveTo(U[0],U[1]),I.lineTo(U[2],U[3]),I.lineTo(U[4],U[5]),I.lineTo(U[6],U[7]),I.moveTo(vt[6],vt[7]),I.lineTo(vt[4],vt[5]),I.lineTo(vt[2],vt[3]),I.lineTo(vt[0],vt[1]),I.clip())}q.push(U),et.push(nt)}else I.clearRect(bt,Pt,It,Dt);this.drawTileImage($,t,bt,Pt,It,Dt,V,gt),q&&!_t?(wt&&I.restore(),this.renderedTiles.unshift($)):this.renderedTiles.push($),this.updateUsedTiles(t.usedTiles,f,$)}}return this.renderedRevision=h,this.renderedResolution=g,this.extentChanged=!this.renderedExtent_||!pv(this.renderedExtent_,S),this.renderedExtent_=S,this.renderedPixelRatio=c,this.renderedProjection=a,this.manageTilePyramid(t,f,d,c,a,m,p,u.getPreload()),this.scheduleExpireCache(t,f),this.postRender(I,t),r.extent&&I.restore(),I.imageSmoothingEnabled=!0,k!==j.style.transform&&(j.style.transform=k),this.container}drawTileImage(t,n,r,i,a,s,o,l){const c=this.getTileImage(t);if(!c)return;const u=si(this),f=n.layerStatesArray[n.layerIndex],h=f.opacity*(l?t.getAlpha(u,n.time):1),d=h!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=h),this.context.drawImage(c,o,o,c.width-2*o,c.height-2*o,r,i,a,s),d&&this.context.restore(),h!==f.opacity?n.animate=!0:l&&t.endTransition(u)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}scheduleExpireCache(t,n){if(n.canExpireCache()){const r=function(i,a,s){const o=si(i);o in s.usedTiles&&i.expireCache(s.viewState.projection,s.usedTiles[o])}.bind(null,n);t.postRenderFunctions.push(r)}}updateUsedTiles(t,n,r){const i=si(n);i in t||(t[i]={}),t[i][r.getKey()]=!0}manageTilePyramid(t,n,r,i,a,s,o,l,c){const u=si(n);u in t.wantedTiles||(t.wantedTiles[u]={});const f=t.wantedTiles[u],h=t.tileQueue,d=r.getMinZoom(),p=t.viewState.rotation,g=p?NT(t.viewState.center,t.viewState.resolution,p,t.size):void 0;let m=0,v,y,_,b,w,T;for(T=d;T<=o;++T)for(y=r.getTileRangeForExtentAndZ(s,T,y),_=r.getResolution(T),b=y.minX;b<=y.maxX;++b)for(w=y.minY;w<=y.maxY;++w)p&&!r.tileCoordIntersectsViewport([T,b,w],g)||(o-T<=l?(++m,v=n.getTile(T,b,w,i,a),v.getState()==er.IDLE&&(f[v.getKey()]=!0,h.isKeyQueued(v.getKey())||h.enqueue([v,u,r.getTileCoordCenter(v.tileCoord),_])),c!==void 0&&c(v)):n.useTile(T,b,w,a));n.updateCacheSize(m,a)}}const nut=eut;class rut extends Wlt{constructor(t){super(t)}createRenderer(){return new nut(this)}}const Lpt=rut,k3={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},Yp=[0,0,0],Bf=5;class iut{constructor(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,Nr(Tit(this.resolutions_,function(i,a){return a-i},!0),17);let n;if(!t.origins){for(let i=0,a=this.resolutions_.length-1;i<a;++i)if(!n)n=this.resolutions_[i]/this.resolutions_[i+1];else if(this.resolutions_[i]/this.resolutions_[i+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,Nr(this.origins_.length==this.resolutions_.length,20));const r=t.extent;r!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=ap(r)),Nr(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,Nr(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:RS,Nr(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=r!==void 0?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map(function(i,a){const s=new f7(Math.min(0,i[0]),Math.max(i[0]-1,-1),Math.min(0,i[1]),Math.max(i[1]-1,-1));if(r){const o=this.getTileRangeForExtentAndZ(r,a);s.minX=Math.max(o.minX,s.minX),s.maxX=Math.min(o.maxX,s.maxX),s.minY=Math.max(o.minY,s.minY),s.maxY=Math.min(o.maxY,s.maxY)}return s},this):r&&this.calculateTileRanges_(r)}forEachTileCoord(t,n,r){const i=this.getTileRangeForExtentAndZ(t,n);for(let a=i.minX,s=i.maxX;a<=s;++a)for(let o=i.minY,l=i.maxY;o<=l;++o)r([n,a,o])}forEachTileCoordParentTileRange(t,n,r,i){let a,s,o,l=null,c=t[0]-1;for(this.zoomFactor_===2?(s=t[1],o=t[2]):l=this.getTileCoordExtent(t,i);c>=this.minZoom;){if(this.zoomFactor_===2?(s=Math.floor(s/2),o=Math.floor(o/2),a=Hp(s,s,o,o,r)):a=this.getTileRangeForExtentAndZ(l,c,r),n(c,a))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,n,r){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){const a=t[1]*2,s=t[2]*2;return Hp(a,a+1,s,s+1,n)}const i=this.getTileCoordExtent(t,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,t[0]+1,n)}return null}getTileRangeForTileCoordAndZ(t,n,r){if(n>this.maxZoom||n<this.minZoom)return null;const i=t[0],a=t[1],s=t[2];if(n===i)return Hp(a,s,a,s,r);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,n-i),c=Math.floor(a*l),u=Math.floor(s*l);if(n<i)return Hp(c,c,u,u,r);const f=Math.floor(l*(a+1))-1,h=Math.floor(l*(s+1))-1;return Hp(c,f,u,h,r)}const o=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,n,r)}getTileRangeForExtentAndZ(t,n,r){this.getTileCoordForXYAndZ_(t[0],t[3],n,!1,Yp);const i=Yp[1],a=Yp[2];this.getTileCoordForXYAndZ_(t[2],t[1],n,!0,Yp);const s=Yp[1],o=Yp[2];return Hp(i,s,a,o,r)}getTileCoordCenter(t){const n=this.getOrigin(t[0]),r=this.getResolution(t[0]),i=xs(this.getTileSize(t[0]),this.tmpSize_);return[n[0]+(t[1]+.5)*i[0]*r,n[1]-(t[2]+.5)*i[1]*r]}getTileCoordExtent(t,n){const r=this.getOrigin(t[0]),i=this.getResolution(t[0]),a=xs(this.getTileSize(t[0]),this.tmpSize_),s=r[0]+t[1]*a[0]*i,o=r[1]-(t[2]+1)*a[1]*i,l=s+a[0]*i,c=o+a[1]*i;return Qc(s,o,l,c,n)}getTileCoordForCoordAndResolution(t,n,r){return this.getTileCoordForXYAndResolution_(t[0],t[1],n,!1,r)}getTileCoordForXYAndResolution_(t,n,r,i,a){const s=this.getZForResolution(r),o=r/this.getResolution(s),l=this.getOrigin(s),c=xs(this.getTileSize(s),this.tmpSize_);let u=o*(t-l[0])/r/c[0],f=o*(l[1]-n)/r/c[1];return i?(u=y1(u,Bf)-1,f=y1(f,Bf)-1):(u=v1(u,Bf),f=v1(f,Bf)),eL(s,u,f,a)}getTileCoordForXYAndZ_(t,n,r,i,a){const s=this.getOrigin(r),o=this.getResolution(r),l=xs(this.getTileSize(r),this.tmpSize_);let c=(t-s[0])/o/l[0],u=(s[1]-n)/o/l[1];return i?(c=y1(c,Bf)-1,u=y1(u,Bf)-1):(c=v1(c,Bf),u=v1(u,Bf)),eL(r,c,u,a)}getTileCoordForCoordAndZ(t,n,r){return this.getTileCoordForXYAndZ_(t[0],t[1],n,!1,r)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,n){const r=gS(this.resolutions_,t,n||0);return ca(r,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,n){return E8(n,0,n.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const n=this.resolutions_.length,r=new Array(n);for(let i=this.minZoom;i<n;++i)r[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=r}}const w7=iut;function T7(e){let t=e.getDefaultTileGrid();return t||(t=lut(e),e.setDefaultTileGrid(t)),t}function aut(e,t,n){const r=t[0],i=e.getTileCoordCenter(t),a=WS(n);if(!r2(a,i)){const s=Ei(a),o=Math.ceil((a[0]-i[0])/s);return i[0]+=s*o,e.getTileCoordForCoordAndZ(i,r)}return t}function out(e,t,n,r){r=r!==void 0?r:"top-left";const i=E7(e,t,n);return new w7({extent:e,origin:Cnt(e,r),resolutions:i,tileSize:n})}function sut(e){const t=e||{},n=t.extent||ki("EPSG:3857").getExtent(),r={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:E7(n,t.maxZoom,t.tileSize,t.maxResolution)};return new w7(r)}function E7(e,t,n,r){t=t!==void 0?t:Aat,n=xs(n!==void 0?n:RS);const i=oc(e),a=Ei(e);r=r>0?r:Math.max(a/n[0],i/n[1]);const s=t+1,o=new Array(s);for(let l=0;l<s;++l)o[l]=r/Math.pow(2,l);return o}function lut(e,t,n,r){const i=WS(e);return out(i,t,n,r)}function WS(e){e=ki(e);let t=e.getExtent();if(!t){const n=180*hv.degrees/e.getMetersPerUnit();t=Qc(-n,-n,n,n)}return t}class uut extends J8{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.opaque_=t.opaque!==void 0?t.opaque:!1,this.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,this.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;const n=[256,256];this.tileGrid&&xs(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tileCache=new u7(t.cacheSize||0),this.tmpSize=[0,0],this.key_=t.key||"",this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(t,n){const r=this.getTileCacheForProjection(t);r&&r.expireCache(n)}forEachLoadedTile(t,n,r,i){const a=this.getTileCacheForProjection(t);if(!a)return!1;let s=!0,o,l,c;for(let u=r.minX;u<=r.maxX;++u)for(let f=r.minY;f<=r.maxY;++f)l=_2(n,u,f),c=!1,a.containsKey(l)&&(o=a.get(l),c=o.getState()===er.LOADED,c&&(c=i(o)!==!1)),c||(s=!1);return s}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getOpaque(t){return this.opaque_}getResolutions(t){const n=t?this.getTileGridForProjection(t):this.tileGrid;return n?n.getResolutions():null}getTile(t,n,r,i,a){return Qn()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:T7(t)}getTileCacheForProjection(t){const n=this.getProjection();return Nr(n===null||sd(n,t),68),this.tileCache}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,n,r){const i=this.getTileGridForProjection(r),a=this.getTilePixelRatio(n),s=xs(i.getTileSize(t),this.tmpSize);return a==1?s:P8(s,a,this.tmpSize)}getTileCoordForTileUrlFunction(t,n){n=n!==void 0?n:this.getProjection();const r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=aut(r,t,n)),olt(t,r)?t:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(t,n){const r=this.getTileCacheForProjection(n);t>r.highWaterMark&&(r.highWaterMark=t)}useTile(t,n,r,i){}}class cut extends pf{constructor(t,n){super(t),this.tile=n}}const fut=uut;function hut(e,t){const n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,a=/\{-y\}/g;return function(s,o,l){if(s)return e.replace(n,s[0].toString()).replace(r,s[1].toString()).replace(i,s[2].toString()).replace(a,function(){const c=s[0],u=t.getFullTileRange(c);return Nr(u,55),(u.getHeight()-s[2]-1).toString()})}}function dut(e,t){const n=e.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=hut(e[i],t);return put(r)}function put(e){return e.length===1?e[0]:function(t,n,r){if(!t)return;const i=l7(t),a=Sd(i,e.length);return e[a](t,n,r)}}function gut(e){const t=[];let n=/\{([a-z])-([a-z])\}/.exec(e);if(n){const r=n[1].charCodeAt(0),i=n[2].charCodeAt(0);let a;for(a=r;a<=i;++a)t.push(e.replace(n[0],String.fromCharCode(a)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e),n){const r=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=r;i++)t.push(e.replace(n[0],i.toString()));return t}return t.push(e),t}class $S extends fut{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===$S.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const n=t.target,r=si(n),i=n.getState();let a;i==er.LOADING?(this.tileLoadingKeys_[r]=!0,a=k3.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],a=i==er.ERROR?k3.TILELOADERROR:i==er.LOADED?k3.TILELOADEND:void 0),a!=null&&this.dispatchEvent(new cut(a,n))}setTileLoadFunction(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,n){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof n<"u"?this.setKey(n):this.changed()}setUrl(t){const n=gut(t);this.urls=n,this.setUrls(n)}setUrls(t){this.urls=t;const n=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(dut(t,this.tileGrid),n):this.setKey(n)}tileUrlFunction(t,n,r){}useTile(t,n,r){const i=_2(t,n,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}const mut=$S;class vut extends mut{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:yut,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate!==void 0?t.interpolate:!0,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,this.tileClass=t.tileClass!==void 0?t.tileClass:t7,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1}expireCache(t,n){const r=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==r?n:{});for(const i in this.tileCacheForProjection){const a=this.tileCacheForProjection[i];a.expireCache(a==r?n:{})}}getGutterForProjection(t){return this.getProjection()&&t&&!sd(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getOpaque(t){return this.getProjection()&&t&&!sd(this.getProjection(),t)?!1:super.getOpaque(t)}getTileGridForProjection(t){const n=this.getProjection();if(this.tileGrid&&(!n||sd(n,t)))return this.tileGrid;const r=si(t);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=T7(t)),this.tileGridForProjection[r]}getTileCacheForProjection(t){const n=this.getProjection();if(!n||sd(n,t))return this.tileCache;const r=si(t);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new u7(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]}createTile_(t,n,r,i,a,s){const o=[t,n,r],l=this.getTileCoordForTileUrlFunction(o,a),c=l?this.tileUrlFunction(l,i,a):void 0,u=new this.tileClass(o,c!==void 0?er.IDLE:er.EMPTY,c!==void 0?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=s,u.addEventListener(Sr.CHANGE,this.handleTileChange.bind(this)),u}getTile(t,n,r,i,a){const s=this.getProjection();if(!s||!a||sd(s,a))return this.getTileInternal(t,n,r,i,s||a);const o=this.getTileCacheForProjection(a),l=[t,n,r];let c;const u=s7(l);o.containsKey(u)&&(c=o.get(u));const f=this.getKey();if(c&&c.key==f)return c;const h=this.getTileGridForProjection(s),d=this.getTileGridForProjection(a),p=this.getTileCoordForTileUrlFunction(l,a),g=new lE(s,h,a,d,l,p,this.getTilePixelRatio(i),this.getGutter(),(m,v,y,_)=>this.getTileInternal(m,v,y,_,s),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return g.key=f,c?(g.interimTile=c,g.refreshInterimChain(),o.replace(u,g)):o.set(u,g),g}getTileInternal(t,n,r,i,a){let s=null;const o=_2(t,n,r),l=this.getKey();if(!this.tileCache.containsKey(o))s=this.createTile_(t,n,r,i,a,l),this.tileCache.set(o,s);else if(s=this.tileCache.get(o),s.key!=l){const c=s;s=this.createTile_(t,n,r,i,a,l),c.getState()==er.IDLE?s.interimTile=c.interimTile:s.interimTile=c,s.refreshInterimChain(),this.tileCache.replace(o,s)}return s}setRenderReprojectionEdges(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(const n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}}setTileGridForProjection(t,n){const r=ki(t);if(r){const i=si(r);i in this.tileGridForProjection||(this.tileGridForProjection[i]=n)}}clear(){super.clear();for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear()}}function yut(e,t){e.getImage().src=t}const M7=vut;class _ut extends M7{constructor(t){t=t||{};const n=t.projection!==void 0?t.projection:"EPSG:3857",r=t.tileGrid!==void 0?t.tileGrid:sut({extent:WS(n),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,opaque:t.opaque,projection:n,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0}getGutter(){return this.gutter_}}const xut=_ut,but='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class wut extends xut{constructor(t){t=t||{};let n;t.attributions!==void 0?n=t.attributions:n=[but];const r=t.crossOrigin!==void 0?t.crossOrigin:"anonymous",i=t.url!==void 0?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:r,interpolate:t.interpolate,maxZoom:t.maxZoom!==void 0?t.maxZoom:19,opaque:t.opaque!==void 0?t.opaque:!0,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:i,wrapX:t.wrapX,zDirection:t.zDirection})}}const Ppt=wut,I1="1.3.0";function aL(e,t){const n=[];Object.keys(t).forEach(function(i){t[i]!==null&&t[i]!==void 0&&n.push(i+"="+encodeURIComponent(t[i]))});const r=n.join("&");return e=e.replace(/[?&]$/,""),e+=e.includes("?")?"&":"?",e+r}class Tut extends M7{constructor(t){t=t||{};const n=Object.assign({},t.params),r="TRANSPARENT"in n?n.TRANSPARENT:!0;super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,opaque:!r,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0,this.params_=n,this.v13_=!0,this.serverType_=t.serverType,this.hidpi_=t.hidpi!==void 0?t.hidpi:!0,this.tmpExtent_=tl(),this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(t,n,r,i){const a=ki(r),s=this.getProjection();let o=this.getTileGrid();o||(o=this.getTileGridForProjection(a));const l=o.getZForResolution(n,this.zDirection),c=o.getTileCoordForCoordAndZ(t,l);if(o.getResolutions().length<=c[0])return;let u=o.getResolution(c[0]),f=o.getTileCoordExtent(c,this.tmpExtent_),h=xs(o.getTileSize(c[0]),this.tmpSize);const d=this.gutter_;d!==0&&(h=CO(h,d,this.tmpSize),f=dv(f,u*d,f)),s&&s!==a&&(u=sE(s,a,t,u),f=Vnt(f,a,s),t=zR(t,a,s));const p={SERVICE:"WMS",VERSION:I1,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object.assign(p,this.params_,i);const g=Math.floor((t[0]-f[0])/u),m=Math.floor((f[3]-t[1])/u);return p[this.v13_?"I":"X"]=g,p[this.v13_?"J":"Y"]=m,this.getRequestUrl_(c,h,f,1,s||a,p)}getLegendUrl(t,n){if(this.urls[0]===void 0)return;const r={SERVICE:"WMS",VERSION:I1,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(n===void 0||n.LAYER===void 0){const i=this.params_.LAYERS;if(!(!Array.isArray(i)||i.length===1))return;r.LAYER=i}if(t!==void 0){const i=this.getProjection()?this.getProjection().getMetersPerUnit():1,a=28e-5;r.SCALE=t*i/a}return Object.assign(r,n),aL(this.urls[0],r)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(t,n,r,i,a,s){const o=this.urls;if(!o)return;if(s.WIDTH=n[0],s.HEIGHT=n[1],s[this.v13_?"CRS":"SRS"]=a.getCode(),"STYLES"in this.params_||(s.STYLES=""),i!=1)switch(this.serverType_){case"geoserver":const f=90*i+.5|0;"FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+=";dpi:"+f:s.FORMAT_OPTIONS="dpi:"+f;break;case"mapserver":s.MAP_RESOLUTION=90*i;break;case"carmentaserver":case"qgis":s.DPI=90*i;break;default:Nr(!1,52);break}const l=a.getAxisOrientation(),c=r;if(this.v13_&&l.substr(0,2)=="ne"){let f;f=r[0],c[0]=r[1],c[1]=f,f=r[2],c[2]=r[3],c[3]=f}s.BBOX=c.join(",");let u;if(o.length==1)u=o[0];else{const f=Sd(l7(t),o.length);u=o[f]}return aL(u,s)}getTilePixelRatio(t){return!this.hidpi_||this.serverType_===void 0?1:t}getKeyForParams_(){let t=0;const n=[];for(const r in this.params_)n[t++]=r+"-"+this.params_[r];return n.join("/")}updateParams(t){Object.assign(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())}updateV13_(){const t=this.params_.VERSION||I1;this.v13_=Rnt(t,"1.3")>=0}tileUrlFunction(t,n,r){let i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(r)),i.getResolutions().length<=t[0])return;n!=1&&(!this.hidpi_||this.serverType_===void 0)&&(n=1);const a=i.getResolution(t[0]);let s=i.getTileCoordExtent(t,this.tmpExtent_),o=xs(i.getTileSize(t[0]),this.tmpSize);const l=this.gutter_;l!==0&&(o=CO(o,l,this.tmpSize),s=dv(s,a*l,s)),n!=1&&(o=P8(o,n,this.tmpSize));const c={SERVICE:"WMS",VERSION:I1,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object.assign(c,this.params_),this.getRequestUrl_(t,o,s,n,r,c)}}const Npt=Tut;function Om(e){return{current:e}}function Qx(e,t){var n=void 0;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];n&&clearTimeout(n),n=setTimeout(function(){return e.apply(void 0,i)},t)}}function Cv(e){return e.reduce(function(t,n){return t.concat(n)},[])}var Eut=0;function S7(){return"autocomplete-".concat(Eut++)}function tb(e,t){return t.reduce(function(n,r){return n&&n[r]},e)}function Av(e){return e.collections.length===0?0:e.collections.reduce(function(t,n){return t+n.items.length},0)}function oL(e){return e!==Object(e)}function C7(e,t){if(e===t)return!0;if(oL(e)||oL(t)||typeof e=="function"||typeof t=="function")return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(!(i in t)||!C7(e[i],t[i]))return!1}return!0}var eb=function(){};function Mut(e){if(typeof window<"u")return e({window})}var A7="1.11.0",Sut=[{segment:"autocomplete-core",version:A7}];function sL(e){var t=e.item,n=e.items,r=n===void 0?[]:n;return{index:t.__autocomplete_indexName,items:[t],positions:[1+r.findIndex(function(i){return i.objectID===t.objectID})],queryID:t.__autocomplete_queryID,algoliaSource:["autocomplete"]}}function Cut(e,t){return Lut(e)||Out(e,t)||Iut(e,t)||Aut()}function Aut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iut(e,t){if(e){if(typeof e=="string")return lL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lL(e,t)}}function lL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Out(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function Lut(e){if(Array.isArray(e))return e}function Put(e){var t=(e.version||"").split(".").map(Number),n=Cut(t,2),r=n[0],i=n[1],a=r>=3,s=r===2&&i>=4,o=r===1&&i>=10;return a||s||o}var Nut=["items"],Rut=["items"];function Iv(e){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iv(e)}function O1(e){return zut(e)||Fut(e)||kut(e)||Dut()}function Dut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kut(e,t){if(e){if(typeof e=="string")return uE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uE(e,t)}}function Fut(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zut(e){if(Array.isArray(e))return uE(e)}function uE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I7(e,t){if(e==null)return{};var n=But(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function But(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function uL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uL(Object(n),!0).forEach(function(r){Gut(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gut(e,t,n){return t=jut(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jut(e){var t=Uut(e,"string");return Iv(t)==="symbol"?t:String(t)}function Uut(e,t){if(Iv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Iv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vut(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,n=[],r=0;r<e.objectIDs.length;r+=t)n.push(Jg(Jg({},e),{},{objectIDs:e.objectIDs.slice(r,r+t)}));return n}function L1(e){return e.map(function(t){var n=t.items,r=I7(t,Nut);return Jg(Jg({},r),{},{objectIDs:n?.map(function(i){var a=i.objectID;return a})||r.objectIDs})})}function Hut(e){var t=Put(e);function n(r,i,a){if(t&&typeof a<"u"){var s=a[0].__autocomplete_algoliaCredentials,o=s.appId,l=s.apiKey,c={"X-Algolia-Application-Id":o,"X-Algolia-API-Key":l};e.apply(void 0,[r].concat(O1(i),[{headers:c}]))}else e.apply(void 0,[r].concat(O1(i)))}return{init:function(i,a){e("init",{appId:i,apiKey:a})},setUserToken:function(i){e("setUserToken",i)},clickedObjectIDsAfterSearch:function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];a.length>0&&n("clickedObjectIDsAfterSearch",L1(a),a[0].items)},clickedObjectIDs:function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];a.length>0&&n("clickedObjectIDs",L1(a),a[0].items)},clickedFilters:function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];a.length>0&&e.apply(void 0,["clickedFilters"].concat(a))},convertedObjectIDsAfterSearch:function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];a.length>0&&n("convertedObjectIDsAfterSearch",L1(a),a[0].items)},convertedObjectIDs:function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];a.length>0&&n("convertedObjectIDs",L1(a),a[0].items)},convertedFilters:function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];a.length>0&&e.apply(void 0,["convertedFilters"].concat(a))},viewedObjectIDs:function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];a.length>0&&a.reduce(function(o,l){var c=l.items,u=I7(l,Rut);return[].concat(O1(o),O1(Vut(Jg(Jg({},u),{},{objectIDs:c?.map(function(f){var h=f.objectID;return h})||u.objectIDs})).map(function(f){return{items:c,payload:f}})))},[]).forEach(function(o){var l=o.items,c=o.payload;return n("viewedObjectIDs",[c],l)})},viewedFilters:function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];a.length>0&&e.apply(void 0,["viewedFilters"].concat(a))}}}function Yut(e){var t=e.items,n=t.reduce(function(r,i){var a;return r[i.__autocomplete_indexName]=((a=r[i.__autocomplete_indexName])!==null&&a!==void 0?a:[]).concat(i),r},{});return Object.keys(n).map(function(r){var i=n[r];return{index:r,items:i,algoliaSource:["autocomplete"]}})}function ym(e){return e.objectID&&e.__autocomplete_indexName&&e.__autocomplete_queryID}function Ov(e){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ov(e)}function hg(e){return Xut(e)||qut(e)||$ut(e)||Wut()}function Wut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ut(e,t){if(e){if(typeof e=="string")return cE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cE(e,t)}}function qut(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xut(e){if(Array.isArray(e))return cE(e)}function cE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cL(Object(n),!0).forEach(function(r){Kut(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kut(e,t,n){return t=Zut(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zut(e){var t=Jut(e,"string");return Ov(t)==="symbol"?t:String(t)}function Jut(e,t){if(Ov(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ov(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qut=400,O7="2.6.0",tct="https://cdn.jsdelivr.net/npm/search-insights@".concat(O7,"/dist/search-insights.min.js"),ect=Qx(function(e){var t=e.onItemsChange,n=e.items,r=e.insights,i=e.state;t({insights:r,insightsEvents:Yut({items:n}).map(function(a){return Gc({eventName:"Items Viewed"},a)}),state:i})},Qut);function nct(e){var t=rct(e),n=t.insightsClient,r=t.onItemsChange,i=t.onSelect,a=t.onActive,s=n;n||Mut(function(u){var f=u.window,h=f.AlgoliaAnalyticsObject||"aa";typeof h=="string"&&(s=f[h]),s||(f.AlgoliaAnalyticsObject=h,f[h]||(f[h]=function(){f[h].queue||(f[h].queue=[]);for(var d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];f[h].queue.push(p)}),f[h].version=O7,s=f[h],ict(f))});var o=Hut(s),l=Om([]),c=Qx(function(u){var f=u.state;if(f.isOpen){var h=f.collections.reduce(function(d,p){return[].concat(hg(d),hg(p.items))},[]).filter(ym);C7(l.current.map(function(d){return d.objectID}),h.map(function(d){return d.objectID}))||(l.current=h,h.length>0&&ect({onItemsChange:r,items:h,insights:o,state:f}))}},0);return{name:"aa.algoliaInsightsPlugin",subscribe:function(f){var h=f.setContext,d=f.onSelect,p=f.onActive;function g(m){h({algoliaInsightsPlugin:{__algoliaSearchParameters:Gc({clickAnalytics:!0},m?{userToken:m}:{}),insights:o}})}s("addAlgoliaAgent","insights-plugin"),g(),s("onUserTokenChange",g),s("getUserToken",null,function(m,v){g(v)}),d(function(m){var v=m.item,y=m.state,_=m.event,b=m.source;ym(v)&&i({state:y,event:_,insights:o,item:v,insightsEvents:[Gc({eventName:"Item Selected"},sL({item:v,items:b.getItems().filter(ym)}))]})}),p(function(m){var v=m.item,y=m.source,_=m.state,b=m.event;ym(v)&&a({state:_,event:b,insights:o,item:v,insightsEvents:[Gc({eventName:"Item Active"},sL({item:v,items:y.getItems().filter(ym)}))]})})},onStateChange:function(f){var h=f.state;c({state:h})},__autocomplete_pluginOptions:e}}function rct(e){return Gc({onItemsChange:function(n){var r=n.insights,i=n.insightsEvents;r.viewedObjectIDs.apply(r,hg(i.map(function(a){return Gc(Gc({},a),{},{algoliaSource:[].concat(hg(a.algoliaSource||[]),["autocomplete-internal"])})})))},onSelect:function(n){var r=n.insights,i=n.insightsEvents;r.clickedObjectIDsAfterSearch.apply(r,hg(i.map(function(a){return Gc(Gc({},a),{},{algoliaSource:[].concat(hg(a.algoliaSource||[]),["autocomplete-internal"])})})))},onActive:eb},e)}function ict(e){var t="[Autocomplete]: Could not load search-insights.js. Please load it manually following https://alg.li/insights-autocomplete";try{var n=e.document.createElement("script");n.async=!0,n.src=tct,n.onerror=function(){console.error(t)},document.body.appendChild(n)}catch{console.error(t)}}function ix(e,t){var n=t;return{then:function(i,a){return ix(e.then(P1(i,n,e),P1(a,n,e)),n)},catch:function(i){return ix(e.catch(P1(i,n,e)),n)},finally:function(i){return i&&n.onCancelList.push(i),ix(e.finally(P1(i&&function(){return n.onCancelList=[],i()},n,e)),n)},cancel:function(){n.isCanceled=!0;var i=n.onCancelList;n.onCancelList=[],i.forEach(function(a){a()})},isCanceled:function(){return n.isCanceled===!0}}}function fL(e){return ix(e,{isCanceled:!1,onCancelList:[]})}function P1(e,t,n){return e?function(i){return t.isCanceled?i:e(i)}:n}function act(){var e=[];return{add:function(n){return e.push(n),n.finally(function(){e=e.filter(function(r){return r!==n})})},cancelAll:function(){e.forEach(function(n){return n.cancel()})},isEmpty:function(){return e.length===0}}}function oct(){var e=-1,t=-1,n=void 0;return function(i){e++;var a=e;return Promise.resolve(i).then(function(s){return n&&a<t?n:(t=a,n=s,s)})}}function hL(e,t,n,r){if(!n)return null;if(e<0&&(t===null||r!==null&&t===0))return n+e;var i=(t===null?-1:t)+e;return i<=-1||i>=n?r===null?null:0:i}function dL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dL(Object(n),!0).forEach(function(r){sct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sct(e,t,n){return t=lct(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lct(e){var t=uct(e,"string");return Lv(t)==="symbol"?t:String(t)}function uct(e,t){if(Lv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lv(e){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lv(e)}function cct(e,t){var n=[];return Promise.resolve(e(t)).then(function(r){return Promise.all(r.filter(function(i){return!!i}).map(function(i){if(i.sourceId,n.includes(i.sourceId))throw new Error("[Autocomplete] The `sourceId` ".concat(JSON.stringify(i.sourceId)," is not unique."));n.push(i.sourceId);var a={getItemInputValue:function(l){var c=l.state;return c.query},getItemUrl:function(){},onSelect:function(l){var c=l.setIsOpen;c(!1)},onActive:eb,onResolve:eb};Object.keys(a).forEach(function(o){a[o].__default=!0});var s=pL(pL({},a),i);return Promise.resolve(s)}))})}function fct(e){var t=e.collections.map(function(r){return r.items.length}).reduce(function(r,i,a){var s=r[a-1]||0,o=s+i;return r.push(o),r},[]),n=t.reduce(function(r,i){return i<=e.activeItemId?r+1:r},0);return e.collections[n]}function hct(e){for(var t=e.state,n=e.collection,r=!1,i=0,a=0;r===!1;){var s=t.collections[i];if(s===n){r=!0;break}a+=s.items.length,i++}return t.activeItemId-a}function Qg(e){var t=fct(e);if(!t)return null;var n=t.items[hct({state:e,collection:t})],r=t.source,i=r.getItemInputValue({item:n,state:e}),a=r.getItemUrl({item:n,state:e});return{item:n,itemInputValue:i,itemUrl:a,source:r}}function dct(e,t){return e===t||e.contains(t)}var pct=/((gt|sm)-|galaxy nexus)|samsung[- ]|samsungbrowser/i;function gct(e){return!!(e&&e.match(pct))}function mct(e){return{results:e,hits:e.map(function(t){return t.hits}).filter(Boolean),facetHits:e.map(function(t){var n;return(n=t.facetHits)===null||n===void 0?void 0:n.map(function(r){return{label:r.value,count:r.count,_highlightResult:{label:{value:r.highlighted}}}})}).filter(Boolean)}}function Pv(e){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pv(e)}function gL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vct(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gL(Object(n),!0).forEach(function(r){yct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yct(e,t,n){return t=_ct(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ct(e){var t=xct(e,"string");return Pv(t)==="symbol"?t:String(t)}function xct(e,t){if(Pv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Pv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bct(e,t,n){var r=t.initialState;return{getState:function(){return r},dispatch:function(a,s){var o=vct({},r);r=e(r,{type:a,props:t,payload:s}),n({state:r,prevState:o})},pendingRequests:act()}}function Nv(e){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nv(e)}function mL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function N1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mL(Object(n),!0).forEach(function(r){wct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wct(e,t,n){return t=Tct(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tct(e){var t=Ect(e,"string");return Nv(t)==="symbol"?t:String(t)}function Ect(e,t){if(Nv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Nv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mct(e){var t=e.store,n=function(c){t.dispatch("setActiveItemId",c)},r=function(c){t.dispatch("setQuery",c)},i=function(c){var u=0,f=c.map(function(h){return N1(N1({},h),{},{items:Cv(h.items).map(function(d){return N1(N1({},d),{},{__autocomplete_id:u++})})})});t.dispatch("setCollections",f)},a=function(c){t.dispatch("setIsOpen",c)},s=function(c){t.dispatch("setStatus",c)},o=function(c){t.dispatch("setContext",c)};return{setActiveItemId:n,setQuery:r,setCollections:i,setIsOpen:a,setStatus:s,setContext:o}}function Rv(e){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rv(e)}function Sct(e){return Oct(e)||Ict(e)||Act(e)||Cct()}function Cct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Act(e,t){if(e){if(typeof e=="string")return fE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fE(e,t)}}function Ict(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Oct(e){if(Array.isArray(e))return fE(e)}function fE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vL(Object(n),!0).forEach(function(r){Lct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lct(e,t,n){return t=Pct(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pct(e){var t=Nct(e,"string");return Rv(t)==="symbol"?t:String(t)}function Nct(e,t){if(Rv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rct(e,t){var n,r=typeof window<"u"?window:{},i=e.plugins||[];return Wp(Wp({debug:!1,openOnFocus:!1,enterKeyHint:void 0,placeholder:"",autoFocus:!1,defaultActiveItemId:null,stallThreshold:300,insights:!1,environment:r,shouldPanelOpen:function(s){var o=s.state;return Av(o)>0},reshape:function(s){var o=s.sources;return o}},e),{},{id:(n=e.id)!==null&&n!==void 0?n:S7(),plugins:i,initialState:Wp({activeItemId:null,query:"",completion:null,collections:[],isOpen:!1,status:"idle",context:{}},e.initialState),onStateChange:function(s){var o;(o=e.onStateChange)===null||o===void 0||o.call(e,s),i.forEach(function(l){var c;return(c=l.onStateChange)===null||c===void 0?void 0:c.call(l,s)})},onSubmit:function(s){var o;(o=e.onSubmit)===null||o===void 0||o.call(e,s),i.forEach(function(l){var c;return(c=l.onSubmit)===null||c===void 0?void 0:c.call(l,s)})},onReset:function(s){var o;(o=e.onReset)===null||o===void 0||o.call(e,s),i.forEach(function(l){var c;return(c=l.onReset)===null||c===void 0?void 0:c.call(l,s)})},getSources:function(s){return Promise.all([].concat(Sct(i.map(function(o){return o.getSources})),[e.getSources]).filter(Boolean).map(function(o){return cct(o,s)})).then(function(o){return Cv(o)}).then(function(o){return o.map(function(l){return Wp(Wp({},l),{},{onSelect:function(u){l.onSelect(u),t.forEach(function(f){var h;return(h=f.onSelect)===null||h===void 0?void 0:h.call(f,u)})},onActive:function(u){l.onActive(u),t.forEach(function(f){var h;return(h=f.onActive)===null||h===void 0?void 0:h.call(f,u)})},onResolve:function(u){l.onResolve(u),t.forEach(function(f){var h;return(h=f.onResolve)===null||h===void 0?void 0:h.call(f,u)})}})})})},navigator:Wp({navigate:function(s){var o=s.itemUrl;r.location.assign(o)},navigateNewTab:function(s){var o=s.itemUrl,l=r.open(o,"_blank","noopener");l?.focus()},navigateNewWindow:function(s){var o=s.itemUrl;r.open(o,"_blank","noopener")}},e.navigator)})}function Dv(e){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dv(e)}function yL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function R1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yL(Object(n),!0).forEach(function(r){L7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L7(e,t,n){return t=Dct(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dct(e){var t=kct(e,"string");return Dv(t)==="symbol"?t:String(t)}function kct(e,t){if(Dv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Dv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fct(e){var t=e.collections,n=e.props,r=e.state,i=t.reduce(function(l,c){return R1(R1({},l),{},L7({},c.source.sourceId,R1(R1({},c.source),{},{getItems:function(){return Cv(c.items)}})))},{}),a=n.plugins.reduce(function(l,c){return c.reshape?c.reshape(l):l},{sourcesBySourceId:i,state:r}),s=a.sourcesBySourceId,o=n.reshape({sourcesBySourceId:s,sources:Object.values(s),state:r});return Cv(o).filter(Boolean).map(function(l){return{source:l,items:l.getItems()}})}function kv(e){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kv(e)}function _L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $p(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_L(Object(n),!0).forEach(function(r){zct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_L(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zct(e,t,n){return t=Bct(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bct(e){var t=Gct(e,"string");return kv(t)==="symbol"?t:String(t)}function Gct(e,t){if(kv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(kv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P7(e){return Hct(e)||Vct(e)||Uct(e)||jct()}function jct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uct(e,t){if(e){if(typeof e=="string")return hE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hE(e,t)}}function Vct(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hct(e){if(Array.isArray(e))return hE(e)}function hE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D1(e){return!!e.execute}function Yct(e){return!!e?.execute}function Wct(e,t,n){if(Yct(e)){var r=e.requesterId==="algolia"?Object.assign.apply(Object,[{}].concat(P7(Object.keys(n.context).map(function(i){var a;return(a=n.context[i])===null||a===void 0?void 0:a.__algoliaSearchParameters})))):{};return $p($p({},e),{},{requests:e.queries.map(function(i){return{query:e.requesterId==="algolia"?$p($p({},i),{},{params:$p($p({},r),i.params)}):i,sourceId:t,transformResponse:e.transformResponse}})})}return{items:e,sourceId:t}}function $ct(e){var t=e.reduce(function(r,i){if(!D1(i))return r.push(i),r;var a=i.searchClient,s=i.execute,o=i.requesterId,l=i.requests,c=r.find(function(h){return D1(i)&&D1(h)&&h.searchClient===a&&!!o&&h.requesterId===o});if(c){var u;(u=c.items).push.apply(u,P7(l))}else{var f={execute:s,requesterId:o,items:l,searchClient:a};r.push(f)}return r},[]),n=t.map(function(r){if(!D1(r))return Promise.resolve(r);var i=r,a=i.execute,s=i.items,o=i.searchClient;return a({searchClient:o,requests:s})});return Promise.all(n).then(function(r){return Cv(r)})}function qct(e,t,n){return t.map(function(r){var i=e.filter(function(l){return l.sourceId===r.sourceId}),a=i.map(function(l){var c=l.items;return c}),s=i[0].transformResponse,o=s?s(mct(a)):a;return r.onResolve({source:r,results:a,items:o,state:n.getState()}),o.every(Boolean),'The `getItems` function from source "'.concat(r.sourceId,'" must return an array of items but returned ').concat(JSON.stringify(void 0),`.

Did you forget to return items?

See: https://www.algolia.com/doc/ui-libraries/autocomplete/core-concepts/sources/#param-getitems`),{source:r,items:o}})}function Fv(e){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fv(e)}var Xct=["event","nextState","props","query","refresh","store"];function xL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _m(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xL(Object(n),!0).forEach(function(r){Kct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kct(e,t,n){return t=Zct(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zct(e){var t=Jct(e,"string");return Fv(t)==="symbol"?t:String(t)}function Jct(e,t){if(Fv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qct(e,t){if(e==null)return{};var n=tft(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tft(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var xm=null,bL=oct();function Mg(e){var t=e.event,n=e.nextState,r=n===void 0?{}:n,i=e.props,a=e.query,s=e.refresh,o=e.store,l=Qct(e,Xct);xm&&i.environment.clearTimeout(xm);var c=l.setCollections,u=l.setIsOpen,f=l.setQuery,h=l.setActiveItemId,d=l.setStatus;if(f(a),h(i.defaultActiveItemId),!a&&i.openOnFocus===!1){var p,g=o.getState().collections.map(function(y){return _m(_m({},y),{},{items:[]})});d("idle"),c(g),u((p=r.isOpen)!==null&&p!==void 0?p:i.shouldPanelOpen({state:o.getState()}));var m=fL(bL(g).then(function(){return Promise.resolve()}));return o.pendingRequests.add(m)}d("loading"),xm=i.environment.setTimeout(function(){d("stalled")},i.stallThreshold);var v=fL(bL(i.getSources(_m({query:a,refresh:s,state:o.getState()},l)).then(function(y){return Promise.all(y.map(function(_){return Promise.resolve(_.getItems(_m({query:a,refresh:s,state:o.getState()},l))).then(function(b){return Wct(b,_.sourceId,o.getState())})})).then($ct).then(function(_){return qct(_,y,o)}).then(function(_){return Fct({collections:_,props:i,state:o.getState()})})}))).then(function(y){var _;d("idle"),c(y);var b=i.shouldPanelOpen({state:o.getState()});u((_=r.isOpen)!==null&&_!==void 0?_:i.openOnFocus&&!a&&b||b);var w=Qg(o.getState());if(o.getState().activeItemId!==null&&w){var T=w.item,M=w.itemInputValue,S=w.itemUrl,E=w.source;E.onActive(_m({event:t,item:T,itemInputValue:M,itemUrl:S,refresh:s,source:E,state:o.getState()},l))}}).finally(function(){d("idle"),xm&&i.environment.clearTimeout(xm)});return o.pendingRequests.add(v)}function zv(e){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zv(e)}var eft=["event","props","refresh","store"];function wL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function td(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wL(Object(n),!0).forEach(function(r){nft(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nft(e,t,n){return t=rft(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rft(e){var t=ift(e,"string");return zv(t)==="symbol"?t:String(t)}function ift(e,t){if(zv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aft(e,t){if(e==null)return{};var n=oft(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oft(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function sft(e){var t=e.event,n=e.props,r=e.refresh,i=e.store,a=aft(e,eft);if(t.key==="ArrowUp"||t.key==="ArrowDown"){var s=function(){var p=n.environment.document.getElementById("".concat(n.id,"-item-").concat(i.getState().activeItemId));p&&(p.scrollIntoViewIfNeeded?p.scrollIntoViewIfNeeded(!1):p.scrollIntoView(!1))},o=function(){var p=Qg(i.getState());if(i.getState().activeItemId!==null&&p){var g=p.item,m=p.itemInputValue,v=p.itemUrl,y=p.source;y.onActive(td({event:t,item:g,itemInputValue:m,itemUrl:v,refresh:r,source:y,state:i.getState()},a))}};t.preventDefault(),i.getState().isOpen===!1&&(n.openOnFocus||i.getState().query)?Mg(td({event:t,props:n,query:i.getState().query,refresh:r,store:i},a)).then(function(){i.dispatch(t.key,{nextActiveItemId:n.defaultActiveItemId}),o(),setTimeout(s,0)}):(i.dispatch(t.key,{}),o(),s())}else if(t.key==="Escape")t.preventDefault(),i.dispatch(t.key,null),i.pendingRequests.cancelAll();else if(t.key==="Tab")i.dispatch("blur",null),i.pendingRequests.cancelAll();else if(t.key==="Enter"){if(i.getState().activeItemId===null||i.getState().collections.every(function(d){return d.items.length===0})){n.debug||i.pendingRequests.cancelAll();return}t.preventDefault();var l=Qg(i.getState()),c=l.item,u=l.itemInputValue,f=l.itemUrl,h=l.source;if(t.metaKey||t.ctrlKey)f!==void 0&&(h.onSelect(td({event:t,item:c,itemInputValue:u,itemUrl:f,refresh:r,source:h,state:i.getState()},a)),n.navigator.navigateNewTab({itemUrl:f,item:c,state:i.getState()}));else if(t.shiftKey)f!==void 0&&(h.onSelect(td({event:t,item:c,itemInputValue:u,itemUrl:f,refresh:r,source:h,state:i.getState()},a)),n.navigator.navigateNewWindow({itemUrl:f,item:c,state:i.getState()}));else if(!t.altKey){if(f!==void 0){h.onSelect(td({event:t,item:c,itemInputValue:u,itemUrl:f,refresh:r,source:h,state:i.getState()},a)),n.navigator.navigate({itemUrl:f,item:c,state:i.getState()});return}Mg(td({event:t,nextState:{isOpen:!1},props:n,query:u,refresh:r,store:i},a)).then(function(){h.onSelect(td({event:t,item:c,itemInputValue:u,itemUrl:f,refresh:r,source:h,state:i.getState()},a))})}}}function Bv(e){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bv(e)}var lft=["props","refresh","store"],uft=["inputElement","formElement","panelElement"],cft=["inputElement"],fft=["inputElement","maxLength"],hft=["sourceIndex"],dft=["sourceIndex"],pft=["item","source","sourceIndex"];function TL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TL(Object(n),!0).forEach(function(r){gft(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gft(e,t,n){return t=mft(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mft(e){var t=vft(e,"string");return Bv(t)==="symbol"?t:String(t)}function vft(e,t){if(Bv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ed(e,t){if(e==null)return{};var n=yft(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yft(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function _ft(e){var t=e.props,n=e.refresh,r=e.store,i=ed(e,lft),a=function(g){var m=g.inputElement,v=g.formElement,y=g.panelElement,_=ed(g,uft);function b(w){var T=r.getState().isOpen||!r.pendingRequests.isEmpty();if(!(!T||w.target===m)){var M=[v,y].some(function(S){return dct(S,w.target)});M===!1&&(r.dispatch("blur",null),t.debug||r.pendingRequests.cancelAll())}}return bo({onTouchStart:b,onMouseDown:b,onTouchMove:function(T){r.getState().isOpen===!1||m!==t.environment.document.activeElement||T.target===m||m.blur()}},_)},s=function(g){return bo({role:"combobox","aria-expanded":r.getState().isOpen,"aria-haspopup":"listbox","aria-owns":r.getState().isOpen?"".concat(t.id,"-list"):void 0,"aria-labelledby":"".concat(t.id,"-label")},g)},o=function(g){g.inputElement;var m=ed(g,cft);return bo({action:"",noValidate:!0,role:"search",onSubmit:function(y){var _;y.preventDefault(),t.onSubmit(bo({event:y,refresh:n,state:r.getState()},i)),r.dispatch("submit",null),(_=g.inputElement)===null||_===void 0||_.blur()},onReset:function(y){var _;y.preventDefault(),t.onReset(bo({event:y,refresh:n,state:r.getState()},i)),r.dispatch("reset",null),(_=g.inputElement)===null||_===void 0||_.focus()}},m)},l=function(g){var m;function v(A){(t.openOnFocus||r.getState().query)&&Mg(bo({event:A,props:t,query:r.getState().completion||r.getState().query,refresh:n,store:r},i)),r.dispatch("focus",null)}var y=g||{};y.inputElement;var _=y.maxLength,b=_===void 0?512:_,w=ed(y,fft),T=Qg(r.getState()),M=((m=t.environment.navigator)===null||m===void 0?void 0:m.userAgent)||"",S=gct(M),E=t.enterKeyHint||(T!=null&&T.itemUrl&&!S?"go":"search");return bo({"aria-autocomplete":"both","aria-activedescendant":r.getState().isOpen&&r.getState().activeItemId!==null?"".concat(t.id,"-item-").concat(r.getState().activeItemId):void 0,"aria-controls":r.getState().isOpen?"".concat(t.id,"-list"):void 0,"aria-labelledby":"".concat(t.id,"-label"),value:r.getState().completion||r.getState().query,id:"".concat(t.id,"-input"),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",enterKeyHint:E,spellCheck:"false",autoFocus:t.autoFocus,placeholder:t.placeholder,maxLength:b,type:"search",onChange:function(O){Mg(bo({event:O,props:t,query:O.currentTarget.value.slice(0,b),refresh:n,store:r},i))},onKeyDown:function(O){sft(bo({event:O,props:t,refresh:n,store:r},i))},onFocus:v,onBlur:eb,onClick:function(O){g.inputElement===t.environment.document.activeElement&&!r.getState().isOpen&&v(O)}},w)},c=function(g,m){return typeof m<"u"?"".concat(g,"-").concat(m):g},u=function(g){var m=g||{},v=m.sourceIndex,y=ed(m,hft);return bo({htmlFor:"".concat(c(t.id,v),"-input"),id:"".concat(c(t.id,v),"-label")},y)},f=function(g){var m=g||{},v=m.sourceIndex,y=ed(m,dft);return bo({role:"listbox","aria-labelledby":"".concat(c(t.id,v),"-label"),id:"".concat(c(t.id,v),"-list")},y)},h=function(g){return bo({onMouseDown:function(v){v.preventDefault()},onMouseLeave:function(){r.dispatch("mouseleave",null)}},g)},d=function(g){var m=g.item,v=g.source,y=g.sourceIndex,_=ed(g,pft);return bo({id:"".concat(c(t.id,y),"-item-").concat(m.__autocomplete_id),role:"option","aria-selected":r.getState().activeItemId===m.__autocomplete_id,onMouseMove:function(w){if(m.__autocomplete_id!==r.getState().activeItemId){r.dispatch("mousemove",m.__autocomplete_id);var T=Qg(r.getState());if(r.getState().activeItemId!==null&&T){var M=T.item,S=T.itemInputValue,E=T.itemUrl,A=T.source;A.onActive(bo({event:w,item:M,itemInputValue:S,itemUrl:E,refresh:n,source:A,state:r.getState()},i))}}},onMouseDown:function(w){w.preventDefault()},onClick:function(w){var T=v.getItemInputValue({item:m,state:r.getState()}),M=v.getItemUrl({item:m,state:r.getState()}),S=M?Promise.resolve():Mg(bo({event:w,nextState:{isOpen:!1},props:t,query:T,refresh:n,store:r},i));S.then(function(){v.onSelect(bo({event:w,item:m,itemInputValue:T,itemUrl:M,refresh:n,source:v,state:r.getState()},i))})}},_)};return{getEnvironmentProps:a,getRootProps:s,getFormProps:o,getLabelProps:u,getInputProps:l,getPanelProps:h,getListProps:f,getItemProps:d}}function Gv(e){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gv(e)}function EL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xft(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EL(Object(n),!0).forEach(function(r){N7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N7(e,t,n){return t=bft(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bft(e){var t=wft(e,"string");return Gv(t)==="symbol"?t:String(t)}function wft(e,t){if(Gv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tft(e){var t,n,r,i,a=e.plugins,s=e.options,o=(t=(((n=s.__autocomplete_metadata)===null||n===void 0?void 0:n.userAgents)||[])[0])===null||t===void 0?void 0:t.segment,l=o?N7({},o,Object.keys(((r=s.__autocomplete_metadata)===null||r===void 0?void 0:r.options)||{})):{};return{plugins:a.map(function(c){return{name:c.name,options:Object.keys(c.__autocomplete_pluginOptions||[])}}),options:xft({"autocomplete-core":Object.keys(s)},l),ua:Sut.concat(((i=s.__autocomplete_metadata)===null||i===void 0?void 0:i.userAgents)||[])}}function Eft(e){var t,n,r=e.metadata,i=e.environment,a=(t=i.navigator)===null||t===void 0||(n=t.userAgent)===null||n===void 0?void 0:n.includes("Algolia Crawler");if(a){var s=i.document.createElement("meta"),o=i.document.querySelector("head");s.name="algolia:metadata",setTimeout(function(){s.content=JSON.stringify(r),o.appendChild(s)},0)}}function ML(e){var t,n=e.state;return n.isOpen===!1||n.activeItemId===null?null:((t=Qg(n))===null||t===void 0?void 0:t.itemInputValue)||null}function jv(e){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jv(e)}function SL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SL(Object(n),!0).forEach(function(r){Mft(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mft(e,t,n){return t=Sft(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sft(e){var t=Cft(e,"string");return jv(t)==="symbol"?t:String(t)}function Cft(e,t){if(jv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(jv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aft=function(t,n){switch(n.type){case"setActiveItemId":return Dr(Dr({},t),{},{activeItemId:n.payload});case"setQuery":return Dr(Dr({},t),{},{query:n.payload,completion:null});case"setCollections":return Dr(Dr({},t),{},{collections:n.payload});case"setIsOpen":return Dr(Dr({},t),{},{isOpen:n.payload});case"setStatus":return Dr(Dr({},t),{},{status:n.payload});case"setContext":return Dr(Dr({},t),{},{context:Dr(Dr({},t.context),n.payload)});case"ArrowDown":{var r=Dr(Dr({},t),{},{activeItemId:n.payload.hasOwnProperty("nextActiveItemId")?n.payload.nextActiveItemId:hL(1,t.activeItemId,Av(t),n.props.defaultActiveItemId)});return Dr(Dr({},r),{},{completion:ML({state:r})})}case"ArrowUp":{var i=Dr(Dr({},t),{},{activeItemId:hL(-1,t.activeItemId,Av(t),n.props.defaultActiveItemId)});return Dr(Dr({},i),{},{completion:ML({state:i})})}case"Escape":return t.isOpen?Dr(Dr({},t),{},{activeItemId:null,isOpen:!1,completion:null}):Dr(Dr({},t),{},{activeItemId:null,query:"",status:"idle",collections:[]});case"submit":return Dr(Dr({},t),{},{activeItemId:null,isOpen:!1,status:"idle"});case"reset":return Dr(Dr({},t),{},{activeItemId:n.props.openOnFocus===!0?n.props.defaultActiveItemId:null,status:"idle",query:""});case"focus":return Dr(Dr({},t),{},{activeItemId:n.props.defaultActiveItemId,isOpen:(n.props.openOnFocus||!!t.query)&&n.props.shouldPanelOpen({state:t})});case"blur":return n.props.debug?t:Dr(Dr({},t),{},{isOpen:!1,activeItemId:null});case"mousemove":return Dr(Dr({},t),{},{activeItemId:n.payload});case"mouseleave":return Dr(Dr({},t),{},{activeItemId:n.props.defaultActiveItemId});default:return"The reducer action ".concat(JSON.stringify(n.type)," is not supported."),t}};function Uv(e){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uv(e)}function CL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CL(Object(n),!0).forEach(function(r){Ift(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ift(e,t,n){return t=Oft(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oft(e){var t=Lft(e,"string");return Uv(t)==="symbol"?t:String(t)}function Lft(e,t){if(Uv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Uv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pft(e){var t=[],n=Rct(e,t),r=bct(Aft,n,s),i=Mct({store:r}),a=_ft(nd({props:n,refresh:o,store:r,navigator:n.navigator},i));function s(c){var u=c.prevState,f=c.state;n.onStateChange(nd({prevState:u,state:f,refresh:o,navigator:n.navigator},i))}function o(){return Mg(nd({event:new Event("input"),nextState:{isOpen:r.getState().isOpen},props:n,navigator:n.navigator,query:r.getState().query,refresh:o,store:r},i))}if(e.insights&&!n.plugins.some(function(c){return c.name==="aa.algoliaInsightsPlugin"})){var l=typeof e.insights=="boolean"?{}:e.insights;n.plugins.push(nct(l))}return n.plugins.forEach(function(c){var u;return(u=c.subscribe)===null||u===void 0?void 0:u.call(c,nd(nd({},i),{},{navigator:n.navigator,refresh:o,onSelect:function(h){t.push({onSelect:h})},onActive:function(h){t.push({onActive:h})},onResolve:function(h){t.push({onResolve:h})}}))}),Eft({metadata:Tft({plugins:n.plugins,options:e}),environment:n.environment}),nd(nd({refresh:o,navigator:n.navigator},a),i)}var R7=function(e,t,n,r){var i;t[0]=0;for(var a=1;a<t.length;a++){var s=t[a++],o=t[a]?(t[0]|=s?1:2,n[t[a++]]):t[++a];s===3?r[0]=o:s===4?r[1]=Object.assign(r[1]||{},o):s===5?(r[1]=r[1]||{})[t[++a]]=o:s===6?r[1][t[++a]]+=o+"":s?(i=e.apply(o,R7(e,o,n,["",null])),r.push(i),o[0]?t[0]|=2:(t[a-2]=0,t[a]=i)):r.push(o)}return r},AL=new Map;function Nft(e){var t=AL.get(this);return t||(t=new Map,AL.set(this,t)),(t=R7(this,t.get(e)||(t.set(e,t=function(n){for(var r,i,a=1,s="",o="",l=[0],c=function(h){a===1&&(h||(s=s.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?l.push(0,h,s):a===3&&(h||s)?(l.push(3,h,s),a=2):a===2&&s==="..."&&h?l.push(4,h,0):a===2&&s&&!h?l.push(5,0,!0,s):a>=5&&((s||!h&&a===5)&&(l.push(a,0,s,i),a=6),h&&(l.push(a,h,0,i),a=6)),s=""},u=0;u<n.length;u++){u&&(a===1&&c(),c(u));for(var f=0;f<n[u].length;f++)r=n[u][f],a===1?r==="<"?(c(),l=[l],a=3):s+=r:a===4?s==="--"&&r===">"?(a=1,s=""):s=r+s[0]:o?r===o?o="":s+=r:r==='"'||r==="'"?o=r:r===">"?(c(),a=1):a&&(r==="="?(a=5,i=s,s=""):r==="/"&&(a<5||n[u][f+1]===">")?(c(),a===3&&(l=l[0]),a=l,(l=l[0]).push(2,0,a),a=0):r===" "||r==="	"||r===`
`||r==="\r"?(c(),a=2):s+=r),a===3&&s==="!--"&&(a=4,l=l[0])}return c(),l}(e)),t),arguments,[])).length>1?t:t[0]}var Rft=function(t){var n=t.environment,r=n.document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("class","aa-ClearIcon"),r.setAttribute("viewBox","0 0 24 24"),r.setAttribute("width","18"),r.setAttribute("height","18"),r.setAttribute("fill","currentColor");var i=n.document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d","M5.293 6.707l5.293 5.293-5.293 5.293c-0.391 0.391-0.391 1.024 0 1.414s1.024 0.391 1.414 0l5.293-5.293 5.293 5.293c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414l-5.293-5.293 5.293-5.293c0.391-0.391 0.391-1.024 0-1.414s-1.024-0.391-1.414 0l-5.293 5.293-5.293-5.293c-0.391-0.391-1.024-0.391-1.414 0s-0.391 1.024 0 1.414z"),r.appendChild(i),r};function IL(e,t){if(typeof t=="string"){var n=e.document.querySelector(t);return"The element ".concat(JSON.stringify(t)," is not in the document."),n}return t}function Dft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(r,i){return Object.keys(i).forEach(function(a){var s=r[a],o=i[a];s!==o&&(r[a]=[s,o].filter(Boolean).join(" "))}),r},{})}function kft(e){return Gft(e)||Bft(e)||zft(e)||Fft()}function Fft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zft(e,t){if(e){if(typeof e=="string")return dE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dE(e,t)}}function Bft(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gft(e){if(Array.isArray(e))return dE(e)}function dE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pE(e){"@babel/helpers - typeof";return pE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pE(e)}var OL=function(t){return t&&pE(t)==="object"&&Object.prototype.toString.call(t)==="[object Object]"};function D7(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(r,i){return Object.keys(i).forEach(function(a){var s=r[a],o=i[a];Array.isArray(s)&&Array.isArray(o)?r[a]=s.concat.apply(s,kft(o)):OL(s)&&OL(o)?r[a]=D7(s,o):r[a]=o}),r},{})}function Vv(e){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vv(e)}function LL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LL(Object(n),!0).forEach(function(r){k7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k7(e,t,n){return t=jft(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jft(e){var t=Uft(e,"string");return Vv(t)==="symbol"?t:String(t)}function Uft(e,t){if(Vv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vft(e,t){return $ft(e)||Wft(e,t)||Yft(e,t)||Hft()}function Hft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yft(e,t){if(e){if(typeof e=="string")return NL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NL(e,t)}}function NL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wft(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function $ft(e){if(Array.isArray(e))return e}function qft(e,t){return Object.entries(e).reduce(function(n,r){var i=Vft(r,2),a=i[0],s=i[1];return t({key:a,value:s})?PL(PL({},n),{},k7({},a,s)):n},{})}var Xft=["ontouchstart","ontouchend","ontouchmove","ontouchcancel"];function Kft(e,t,n){n===null?e[t]="":typeof n!="number"?e[t]=n:e[t]=n+"px"}function RL(e){this._listeners[e.type](e)}function F7(e,t,n){var r,i,a=e[t];if(t==="style")if(typeof n=="string")e.style=n;else if(n===null)e.style="";else for(t in n)(!a||n[t]!==a[t])&&Kft(e.style,t,n[t]);else t[0]==="o"&&t[1]==="n"?(r=t!==(t=t.replace(/Capture$/,"")),i=t.toLowerCase(),(i in e||Xft.includes(i))&&(t=i),t=t.slice(2),e._listeners||(e._listeners={}),e._listeners[t]=n,n?a||e.addEventListener(t,RL,r):e.removeEventListener(t,RL,r)):t!=="list"&&t!=="tagName"&&t!=="form"&&t!=="type"&&t!=="size"&&t!=="download"&&t!=="href"&&t in e?e[t]=n??"":typeof n!="function"&&t!=="dangerouslySetInnerHTML"&&(n==null||n===!1&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function z7(e){switch(e){case"onChange":return"onInput";default:return e}}function Hu(e,t){for(var n in t)F7(e,z7(n),t[n])}function DL(e,t){for(var n in t)n[0]==="o"&&n[1]==="n"||F7(e,z7(n),t[n])}var Zft=["children"];function Jft(e){return nht(e)||eht(e)||tht(e)||Qft()}function Qft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tht(e,t){if(e){if(typeof e=="string")return gE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gE(e,t)}}function eht(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nht(e){if(Array.isArray(e))return gE(e)}function gE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rht(e,t){if(e==null)return{};var n=iht(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function iht(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function B7(e){return function(n,r){var i=r.children,a=i===void 0?[]:i,s=rht(r,Zft),o=e.document.createElement(n);return Hu(o,s),o.append.apply(o,Jft(a)),o}}function Hv(e){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hv(e)}var aht=["autocompleteScopeApi","environment","classNames","getInputProps","getInputPropsCore","isDetached","state"];function kL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function F3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kL(Object(n),!0).forEach(function(r){oht(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oht(e,t,n){return t=sht(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sht(e){var t=lht(e,"string");return Hv(t)==="symbol"?t:String(t)}function lht(e,t){if(Hv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uht(e,t){if(e==null)return{};var n=cht(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cht(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var fht=function(t){var n=t.autocompleteScopeApi,r=t.environment;t.classNames;var i=t.getInputProps,a=t.getInputPropsCore,s=t.isDetached,o=t.state,l=uht(t,aht),c=B7(r),u=c("input",l),f=i(F3({state:o,props:a({inputElement:u}),inputElement:u},n));return Hu(u,F3(F3({},f),{},{onKeyDown:function(d){s&&d.key==="Tab"||f.onKeyDown(d)}})),u},hht=function(t){var n=t.environment,r=n.document.createElementNS("http://www.w3.org/2000/svg","svg");return r.setAttribute("class","aa-LoadingIcon"),r.setAttribute("viewBox","0 0 100 100"),r.setAttribute("width","20"),r.setAttribute("height","20"),r.innerHTML=`<circle
  cx="50"
  cy="50"
  fill="none"
  r="35"
  stroke="currentColor"
  stroke-dasharray="164.93361431346415 56.97787143782138"
  stroke-width="6"
>
  <animateTransform
    attributeName="transform"
    type="rotate"
    repeatCount="indefinite"
    dur="1s"
    values="0 50 50;90 50 50;180 50 50;360 50 50"
    keyTimes="0;0.40;0.65;1"
  />
</circle>`,r},FL=function(t){var n=t.environment,r=n.document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("class","aa-SubmitIcon"),r.setAttribute("viewBox","0 0 24 24"),r.setAttribute("width","20"),r.setAttribute("height","20"),r.setAttribute("fill","currentColor");var i=n.document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d","M16.041 15.856c-0.034 0.026-0.067 0.055-0.099 0.087s-0.060 0.064-0.087 0.099c-1.258 1.213-2.969 1.958-4.855 1.958-1.933 0-3.682-0.782-4.95-2.050s-2.050-3.017-2.050-4.95 0.782-3.682 2.050-4.95 3.017-2.050 4.95-2.050 3.682 0.782 4.95 2.050 2.050 3.017 2.050 4.95c0 1.886-0.745 3.597-1.959 4.856zM21.707 20.293l-3.675-3.675c1.231-1.54 1.968-3.493 1.968-5.618 0-2.485-1.008-4.736-2.636-6.364s-3.879-2.636-6.364-2.636-4.736 1.008-6.364 2.636-2.636 3.879-2.636 6.364 1.008 4.736 2.636 6.364 3.879 2.636 6.364 2.636c2.125 0 4.078-0.737 5.618-1.968l3.675 3.675c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414z"),r.appendChild(i),r};function Yv(e){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yv(e)}function zL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zL(Object(n),!0).forEach(function(r){dht(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dht(e,t,n){return t=pht(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pht(e){var t=ght(e,"string");return Yv(t)==="symbol"?t:String(t)}function ght(e,t){if(Yv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mht(e){var t=e.autocomplete,n=e.autocompleteScopeApi,r=e.classNames,i=e.environment,a=e.isDetached,s=e.placeholder,o=s===void 0?"Search":s,l=e.propGetters,c=e.setIsModalOpen,u=e.state,f=e.translations,h=B7(i),d=l.getRootProps(Gf({state:u,props:t.getRootProps({})},n)),p=h("div",Gf({class:r.root},d)),g=h("div",{class:r.detachedContainer,onMouseDown:function(et){et.stopPropagation()}}),m=h("div",{class:r.detachedOverlay,children:[g],onMouseDown:function(){c(!1),t.setIsOpen(!1)}}),v=l.getLabelProps(Gf({state:u,props:t.getLabelProps({})},n)),y=h("button",{class:r.submitButton,type:"submit",title:f.submitButtonTitle,children:[FL({environment:i})]}),_=h("label",Gf({class:r.label,children:[y]},v)),b=h("button",{class:r.clearButton,type:"reset",title:f.clearButtonTitle,children:[Rft({environment:i})]}),w=h("div",{class:r.loadingIndicator,children:[hht({environment:i})]}),T=fht({class:r.input,environment:i,state:u,getInputProps:l.getInputProps,getInputPropsCore:t.getInputProps,autocompleteScopeApi:n,isDetached:a}),M=h("div",{class:r.inputWrapperPrefix,children:[_,w]}),S=h("div",{class:r.inputWrapperSuffix,children:[b]}),E=h("div",{class:r.inputWrapper,children:[T]}),A=l.getFormProps(Gf({state:u,props:t.getFormProps({inputElement:T})},n)),O=h("form",Gf({class:r.form,children:[M,E,S]},A)),N=l.getPanelProps(Gf({state:u,props:t.getPanelProps({})},n)),F=h("div",Gf({class:r.panel},N)),P=h("div",{class:r.detachedSearchButtonQuery,textContent:u.query}),R=h("div",{class:r.detachedSearchButtonPlaceholder,hidden:!!u.query,textContent:o});if(a){var k=h("div",{class:r.detachedSearchButtonIcon,children:[FL({environment:i})]}),I=h("button",{type:"button",class:r.detachedSearchButton,onClick:function(){c(!0)},children:[k,R,P]}),j=h("button",{type:"button",class:r.detachedCancelButton,textContent:f.detachedCancelButtonText,onTouchStart:function(et){et.stopPropagation()},onClick:function(){t.setIsOpen(!1),c(!1)}}),G=h("div",{class:r.detachedFormContainer,children:[O,j]});g.appendChild(G),p.appendChild(I)}else p.appendChild(O);return{detachedContainer:g,detachedOverlay:m,detachedSearchButtonQuery:P,detachedSearchButtonPlaceholder:R,inputWrapper:E,input:T,root:p,form:O,label:_,submitButton:y,clearButton:b,loadingIndicator:w,panel:F}}function vht(){var e=[],t=[];function n(r){e.push(r);var i=r();t.push(i)}return{runEffect:n,cleanupEffects:function(){var i=t;t=[],i.forEach(function(a){a()})},runEffects:function(){var i=e;e=[],i.forEach(function(a){n(a)})}}}function yht(){var e=[];return{reactive:function(n){var r=n(),i={_fn:n,_ref:{current:r},get value(){return this._ref.current},set value(a){this._ref.current=a}};return e.push(i),i},runReactives:function(){e.forEach(function(n){n._ref.current=n._fn()})}}}var x2,fa,G7,ld,BL,j7,mE,Sg={},U7=[],_ht=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,qS=Array.isArray;function Jf(e,t){for(var n in t)e[n]=t[n];return e}function V7(e){var t=e.parentNode;t&&t.removeChild(e)}function H7(e,t,n){var r,i,a,s={};for(a in t)a=="key"?r=t[a]:a=="ref"?i=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?x2.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)s[a]===void 0&&(s[a]=e.defaultProps[a]);return ax(e,s,r,i,null)}function ax(e,t,n,r,i){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++G7};return i==null&&fa.vnode!=null&&fa.vnode(a),a}function jy(e){return e.children}function ox(e,t){this.props=e,this.context=t}function Wv(e,t){if(t==null)return e.__?Wv(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Wv(e):null}function Y7(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Y7(e)}}function GL(e){(!e.__d&&(e.__d=!0)&&ld.push(e)&&!nb.__r++||BL!==fa.debounceRendering)&&((BL=fa.debounceRendering)||j7)(nb)}function nb(){var e,t,n,r,i,a,s,o,l;for(ld.sort(mE);e=ld.shift();)e.__d&&(t=ld.length,r=void 0,i=void 0,a=void 0,o=(s=(n=e).__v).__e,(l=n.__P)&&(r=[],i=[],(a=Jf({},s)).__v=s.__v+1,XS(l,s,a,n.__n,l.ownerSVGElement!==void 0,s.__h!=null?[o]:null,r,o??Wv(s),s.__h,i),X7(r,s,i),s.__e!=o&&Y7(s)),ld.length>t&&ld.sort(mE));nb.__r=0}function W7(e,t,n,r,i,a,s,o,l,c,u){var f,h,d,p,g,m,v,y,_,b=0,w=r&&r.__k||U7,T=w.length,M=T,S=t.length;for(n.__k=[],f=0;f<S;f++)(p=n.__k[f]=(p=t[f])==null||typeof p=="boolean"||typeof p=="function"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?ax(null,p,null,null,p):qS(p)?ax(jy,{children:p},null,null,null):p.__b>0?ax(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null?(p.__=n,p.__b=n.__b+1,(y=xht(p,w,v=f+b,M))===-1?d=Sg:(d=w[y]||Sg,w[y]=void 0,M--),XS(e,p,d,i,a,s,o,l,c,u),g=p.__e,(h=p.ref)&&d.ref!=h&&(d.ref&&KS(d.ref,null,p),u.push(h,p.__c||g,p)),g!=null&&(m==null&&(m=g),(_=d===Sg||d.__v===null)?y==-1&&b--:y!==v&&(y===v+1?b++:y>v?M>S-v?b+=y-v:b--:b=y<v&&y==v-1?y-v:0),v=f+b,typeof p.type!="function"||y===v&&d.__k!==p.__k?typeof p.type=="function"||y===v&&!_?p.__d!==void 0?(l=p.__d,p.__d=void 0):l=g.nextSibling:l=q7(e,g,l):l=$7(p,l,e),typeof n.type=="function"&&(n.__d=l))):(d=w[f])&&d.key==null&&d.__e&&(d.__e==l&&(l=Wv(d)),vE(d,d,!1),w[f]=null);for(n.__e=m,f=T;f--;)w[f]!=null&&(typeof n.type=="function"&&w[f].__e!=null&&w[f].__e==n.__d&&(n.__d=w[f].__e.nextSibling),vE(w[f],w[f]))}function $7(e,t,n){for(var r,i=e.__k,a=0;i&&a<i.length;a++)(r=i[a])&&(r.__=e,t=typeof r.type=="function"?$7(r,t,n):q7(n,r.__e,t));return t}function q7(e,t,n){return n==null||n.parentNode!==e?e.insertBefore(t,null):t==n&&t.parentNode!=null||e.insertBefore(t,n),t.nextSibling}function xht(e,t,n,r){var i=e.key,a=e.type,s=n-1,o=n+1,l=t[n];if(l===null||l&&i==l.key&&a===l.type)return n;if(r>(l!=null?1:0))for(;s>=0||o<t.length;){if(s>=0){if((l=t[s])&&i==l.key&&a===l.type)return s;s--}if(o<t.length){if((l=t[o])&&i==l.key&&a===l.type)return o;o++}}return-1}function bht(e,t,n,r,i){var a;for(a in n)a==="children"||a==="key"||a in t||rb(e,a,null,n[a],r);for(a in t)i&&typeof t[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||n[a]===t[a]||rb(e,a,t[a],n[a],r)}function jL(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||_ht.test(t)?n:n+"px"}function rb(e,t,n,r,i){var a;t:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||jL(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||jL(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")a=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?r||e.addEventListener(t,a?VL:UL,a):e.removeEventListener(t,a?VL:UL,a);else if(t!=="dangerouslySetInnerHTML"){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t in e)try{e[t]=n??"";break t}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function UL(e){return this.l[e.type+!1](fa.event?fa.event(e):e)}function VL(e){return this.l[e.type+!0](fa.event?fa.event(e):e)}function XS(e,t,n,r,i,a,s,o,l,c){var u,f,h,d,p,g,m,v,y,_,b,w,T,M,S,E=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,o=t.__e=n.__e,t.__h=null,a=[o]),(u=fa.__b)&&u(t);t:if(typeof E=="function")try{if(v=t.props,y=(u=E.contextType)&&r[u.__c],_=u?y?y.props.value:u.__:r,n.__c?m=(f=t.__c=n.__c).__=f.__E:("prototype"in E&&E.prototype.render?t.__c=f=new E(v,_):(t.__c=f=new ox(v,_),f.constructor=E,f.render=Tht),y&&y.sub(f),f.props=v,f.state||(f.state={}),f.context=_,f.__n=r,h=f.__d=!0,f.__h=[],f._sb=[]),f.__s==null&&(f.__s=f.state),E.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=Jf({},f.__s)),Jf(f.__s,E.getDerivedStateFromProps(v,f.__s))),d=f.props,p=f.state,f.__v=t,h)E.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(E.getDerivedStateFromProps==null&&v!==d&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(v,_),!f.__e&&(f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(v,f.__s,_)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(f.props=v,f.state=f.__s,f.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(A){A&&(A.__=t)}),b=0;b<f._sb.length;b++)f.__h.push(f._sb[b]);f._sb=[],f.__h.length&&s.push(f);break t}f.componentWillUpdate!=null&&f.componentWillUpdate(v,f.__s,_),f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(d,p,g)})}if(f.context=_,f.props=v,f.__P=e,f.__e=!1,w=fa.__r,T=0,"prototype"in E&&E.prototype.render){for(f.state=f.__s,f.__d=!1,w&&w(t),u=f.render(f.props,f.state,f.context),M=0;M<f._sb.length;M++)f.__h.push(f._sb[M]);f._sb=[]}else do f.__d=!1,w&&w(t),u=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++T<25);f.state=f.__s,f.getChildContext!=null&&(r=Jf(Jf({},r),f.getChildContext())),h||f.getSnapshotBeforeUpdate==null||(g=f.getSnapshotBeforeUpdate(d,p)),W7(e,qS(S=u!=null&&u.type===jy&&u.key==null?u.props.children:u)?S:[S],t,n,r,i,a,s,o,l,c),f.base=t.__e,t.__h=null,f.__h.length&&s.push(f),m&&(f.__E=f.__=null)}catch(A){t.__v=null,(l||a!=null)&&(t.__e=o,t.__h=!!l,a[a.indexOf(o)]=null),fa.__e(A,t,n)}else a==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=wht(n.__e,t,n,r,i,a,s,l,c);(u=fa.diffed)&&u(t)}function X7(e,t,n){for(var r=0;r<n.length;r++)KS(n[r],n[++r],n[++r]);fa.__c&&fa.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(a){a.call(i)})}catch(a){fa.__e(a,i.__v)}})}function wht(e,t,n,r,i,a,s,o,l){var c,u,f,h=n.props,d=t.props,p=t.type,g=0;if(p==="svg"&&(i=!0),a!=null){for(;g<a.length;g++)if((c=a[g])&&"setAttribute"in c==!!p&&(p?c.localName===p:c.nodeType===3)){e=c,a[g]=null;break}}if(e==null){if(p===null)return document.createTextNode(d);e=i?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,d.is&&d),a=null,o=!1}if(p===null)h===d||o&&e.data===d||(e.data=d);else{if(a=a&&x2.call(e.childNodes),u=(h=n.props||Sg).dangerouslySetInnerHTML,f=d.dangerouslySetInnerHTML,!o){if(a!=null)for(h={},g=0;g<e.attributes.length;g++)h[e.attributes[g].name]=e.attributes[g].value;(f||u)&&(f&&(u&&f.__html==u.__html||f.__html===e.innerHTML)||(e.innerHTML=f&&f.__html||""))}if(bht(e,d,h,i,o),f)t.__k=[];else if(W7(e,qS(g=t.props.children)?g:[g],t,n,r,i&&p!=="foreignObject",a,s,a?a[0]:n.__k&&Wv(n,0),o,l),a!=null)for(g=a.length;g--;)a[g]!=null&&V7(a[g]);o||("value"in d&&(g=d.value)!==void 0&&(g!==e.value||p==="progress"&&!g||p==="option"&&g!==h.value)&&rb(e,"value",g,h.value,!1),"checked"in d&&(g=d.checked)!==void 0&&g!==e.checked&&rb(e,"checked",g,h.checked,!1))}return e}function KS(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){fa.__e(r,n)}}function vE(e,t,n){var r,i;if(fa.unmount&&fa.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||KS(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){fa.__e(a,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&vE(r[i],t,n||typeof e.type!="function");n||e.__e==null||V7(e.__e),e.__=e.__e=e.__d=void 0}function Tht(e,t,n){return this.constructor(e,n)}function Eht(e,t,n){var r,i,a,s;fa.__&&fa.__(e,t),i=(r=typeof n=="function")?null:n&&n.__k||t.__k,a=[],s=[],XS(t,e=(!r&&n||t).__k=H7(jy,null,[e]),i||Sg,Sg,t.ownerSVGElement!==void 0,!r&&n?[n]:i?null:t.firstChild?x2.call(t.childNodes):null,a,!r&&n?n:i?i.__e:t.firstChild,r,s),X7(a,e,s)}x2=U7.slice,fa={__e:function(e,t,n,r){for(var i,a,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(e)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),s=i.__d),s)return i.__E=i}catch(o){e=o}throw e}},G7=0,ox.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Jf({},this.state),typeof e=="function"&&(e=e(Jf({},n),this.props)),e&&Jf(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),GL(this))},ox.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),GL(this))},ox.prototype.render=jy,ld=[],j7=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,mE=function(e,t){return e.__v.__b-t.__v.__b},nb.__r=0;var Mht="__aa-highlight__",Sht="__/aa-highlight__";function Cht(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=e;return{get:function(){return t},add:function(r){var i=t[t.length-1];i?.isHighlighted===r.isHighlighted?t[t.length-1]={value:i.value+r.value,isHighlighted:i.isHighlighted}:t.push(r)}}}function K7(e){var t=e.highlightedValue,n=t.split(Mht),r=n.shift(),i=Cht(r?[{value:r,isHighlighted:!1}]:[]);return n.forEach(function(a){var s=a.split(Sht);i.add({value:s[0],isHighlighted:!0}),s[1]!==""&&i.add({value:s[1],isHighlighted:!1})}),i.get()}function Aht(e){return Pht(e)||Lht(e)||Oht(e)||Iht()}function Iht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oht(e,t){if(e){if(typeof e=="string")return yE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yE(e,t)}}function Lht(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pht(e){if(Array.isArray(e))return yE(e)}function yE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z7(e){var t=e.hit,n=e.attribute,r=Array.isArray(n)?n:[n],i=tb(t,["_highlightResult"].concat(Aht(r),["value"]));return typeof i!="string"&&(i=tb(t,r)||""),K7({highlightedValue:i})}var Nht={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Rht=new RegExp(/\w/i),J7=/&(amp|quot|lt|gt|#39);/g,Dht=RegExp(J7.source);function kht(e){return e&&Dht.test(e)?e.replace(J7,function(t){return Nht[t]}):e}function Fht(e,t){var n,r,i=e[t],a=((n=e[t+1])===null||n===void 0?void 0:n.isHighlighted)||!0,s=((r=e[t-1])===null||r===void 0?void 0:r.isHighlighted)||!0;return!Rht.test(kht(i.value))&&s===a?s:i.isHighlighted}function $v(e){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$v(e)}function HL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function k1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HL(Object(n),!0).forEach(function(r){zht(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zht(e,t,n){return t=Bht(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bht(e){var t=Ght(e,"string");return $v(t)==="symbol"?t:String(t)}function Ght(e,t){if($v(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($v(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q7(e){return e.some(function(t){return t.isHighlighted})?e.map(function(t,n){return k1(k1({},t),{},{isHighlighted:!Fht(e,n)})}):e.map(function(t){return k1(k1({},t),{},{isHighlighted:!1})})}function jht(e){return Q7(Z7(e))}function Uht(e){return Wht(e)||Yht(e)||Hht(e)||Vht()}function Vht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hht(e,t){if(e){if(typeof e=="string")return _E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _E(e,t)}}function Yht(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wht(e){if(Array.isArray(e))return _E(e)}function _E(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tD(e){var t=e.hit,n=e.attribute,r=Array.isArray(n)?n:[n],i=tb(t,["_snippetResult"].concat(Uht(r),["value"]));return typeof i!="string"&&(i=tb(t,r)||""),K7({highlightedValue:i})}function $ht(e){return Q7(tD(e))}function qht(e){var t=e.createElement,n=e.Fragment;function r(i){var a=i.hit,s=i.attribute,o=i.tagName,l=o===void 0?"mark":o;return t(n,{},Z7({hit:a,attribute:s}).map(function(c,u){return c.isHighlighted?t(l,{key:u},c.value):c.value}))}return r.__autocomplete_componentName="Highlight",r}function Xht(e){var t=e.createElement,n=e.Fragment;function r(i){var a=i.hit,s=i.attribute,o=i.tagName,l=o===void 0?"mark":o;return t(n,{},jht({hit:a,attribute:s}).map(function(c,u){return c.isHighlighted?t(l,{key:u},c.value):c.value}))}return r.__autocomplete_componentName="ReverseHighlight",r}function Kht(e){var t=e.createElement,n=e.Fragment;function r(i){var a=i.hit,s=i.attribute,o=i.tagName,l=o===void 0?"mark":o;return t(n,{},$ht({hit:a,attribute:s}).map(function(c,u){return c.isHighlighted?t(l,{key:u},c.value):c.value}))}return r.__autocomplete_componentName="ReverseSnippet",r}function Zht(e){var t=e.createElement,n=e.Fragment;function r(i){var a=i.hit,s=i.attribute,o=i.tagName,l=o===void 0?"mark":o;return t(n,{},tD({hit:a,attribute:s}).map(function(c,u){return c.isHighlighted?t(l,{key:u},c.value):c.value}))}return r.__autocomplete_componentName="Snippet",r}function qv(e){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qv(e)}var Jht=["classNames","container","getEnvironmentProps","getFormProps","getInputProps","getItemProps","getLabelProps","getListProps","getPanelProps","getRootProps","panelContainer","panelPlacement","render","renderNoResults","renderer","detachedMediaQuery","components","translations"];function YL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YL(Object(n),!0).forEach(function(r){Qht(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qht(e,t,n){return t=tdt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tdt(e){var t=edt(e,"string");return qv(t)==="symbol"?t:String(t)}function edt(e,t){if(qv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ndt(e,t){if(e==null)return{};var n=rdt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rdt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var idt={clearButton:"aa-ClearButton",detachedCancelButton:"aa-DetachedCancelButton",detachedContainer:"aa-DetachedContainer",detachedFormContainer:"aa-DetachedFormContainer",detachedOverlay:"aa-DetachedOverlay",detachedSearchButton:"aa-DetachedSearchButton",detachedSearchButtonIcon:"aa-DetachedSearchButtonIcon",detachedSearchButtonPlaceholder:"aa-DetachedSearchButtonPlaceholder",detachedSearchButtonQuery:"aa-DetachedSearchButtonQuery",form:"aa-Form",input:"aa-Input",inputWrapper:"aa-InputWrapper",inputWrapperPrefix:"aa-InputWrapperPrefix",inputWrapperSuffix:"aa-InputWrapperSuffix",item:"aa-Item",label:"aa-Label",list:"aa-List",loadingIndicator:"aa-LoadingIndicator",panel:"aa-Panel",panelLayout:"aa-PanelLayout aa-Panel--scrollable",root:"aa-Autocomplete",source:"aa-Source",sourceFooter:"aa-SourceFooter",sourceHeader:"aa-SourceHeader",sourceNoResults:"aa-SourceNoResults",submitButton:"aa-SubmitButton"},adt=function(t,n){var r=t.children,i=t.render;i(r,n)},odt={createElement:H7,Fragment:jy,render:Eht};function sdt(e){var t,n=e.classNames,r=e.container,i=e.getEnvironmentProps,a=e.getFormProps,s=e.getInputProps,o=e.getItemProps,l=e.getLabelProps,c=e.getListProps,u=e.getPanelProps,f=e.getRootProps,h=e.panelContainer,d=e.panelPlacement,p=e.render,g=e.renderNoResults,m=e.renderer,v=e.detachedMediaQuery,y=e.components,_=e.translations,b=ndt(e,Jht),w=typeof window<"u"?window:{},T=IL(w,r);T.tagName;var M=jf(jf({},odt),m),S={Highlight:qht(M),ReverseHighlight:Xht(M),ReverseSnippet:Kht(M),Snippet:Zht(M)},E={clearButtonTitle:"Clear",detachedCancelButtonText:"Cancel",submitButtonTitle:"Submit"};return{renderer:{classNames:Dft(idt,n??{}),container:T,getEnvironmentProps:i??function(A){var O=A.props;return O},getFormProps:a??function(A){var O=A.props;return O},getInputProps:s??function(A){var O=A.props;return O},getItemProps:o??function(A){var O=A.props;return O},getLabelProps:l??function(A){var O=A.props;return O},getListProps:c??function(A){var O=A.props;return O},getPanelProps:u??function(A){var O=A.props;return O},getRootProps:f??function(A){var O=A.props;return O},panelContainer:h?IL(w,h):w.document.body,panelPlacement:d??"input-wrapper-width",render:p??adt,renderNoResults:g,renderer:M,detachedMediaQuery:v??getComputedStyle(w.document.documentElement).getPropertyValue("--aa-detached-media-query"),components:jf(jf({},S),y),translations:jf(jf({},E),_)},core:jf(jf({},b),{},{id:(t=b.id)!==null&&t!==void 0?t:S7(),environment:w})}}function ldt(e){var t=e.panelPlacement,n=e.container,r=e.form,i=e.environment,a=n.getBoundingClientRect(),s=i.pageYOffset||i.document.documentElement.scrollTop||i.document.body.scrollTop||0,o=s+a.top+a.height;switch(t){case"start":return{top:o,left:a.left};case"end":return{top:o,right:i.document.documentElement.clientWidth-(a.left+a.width)};case"full-width":return{top:o,left:0,right:0,width:"unset",maxWidth:"unset"};case"input-wrapper-width":{var l=r.getBoundingClientRect();return{top:o,left:l.left,right:i.document.documentElement.clientWidth-(l.left+l.width),width:"unset",maxWidth:"unset"}}default:throw new Error("[Autocomplete] The `panelPlacement` value ".concat(JSON.stringify(t)," is not valid."))}}function Xv(e){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xv(e)}function ib(){return ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ib.apply(this,arguments)}function WL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WL(Object(n),!0).forEach(function(r){udt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function udt(e,t,n){return t=cdt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cdt(e){var t=fdt(e,"string");return Xv(t)==="symbol"?t:String(t)}function fdt(e,t){if(Xv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hdt(e){var t=e.autocomplete,n=e.autocompleteScopeApi,r=e.dom,i=e.propGetters,a=e.state;DL(r.root,i.getRootProps(dg({state:a,props:t.getRootProps({})},n))),DL(r.input,i.getInputProps(dg({state:a,props:t.getInputProps({inputElement:r.input}),inputElement:r.input},n))),Hu(r.label,{hidden:a.status==="stalled"}),Hu(r.loadingIndicator,{hidden:a.status!=="stalled"}),Hu(r.clearButton,{hidden:!a.query}),Hu(r.detachedSearchButtonQuery,{textContent:a.query}),Hu(r.detachedSearchButtonPlaceholder,{hidden:!!a.query})}function ddt(e,t){var n=t.autocomplete,r=t.autocompleteScopeApi,i=t.classNames,a=t.html,s=t.dom,o=t.panelContainer,l=t.propGetters,c=t.state,u=t.components,f=t.renderer;if(!c.isOpen){o.contains(s.panel)&&o.removeChild(s.panel);return}!o.contains(s.panel)&&c.status!=="loading"&&o.appendChild(s.panel),s.panel.classList.toggle("aa-Panel--stalled",c.status==="stalled");var h=c.collections.filter(function(g){var m=g.source,v=g.items;return m.templates.noResults||v.length>0}).map(function(g,m){var v=g.source,y=g.items;return f.createElement("section",{key:m,className:i.source,"data-autocomplete-source-id":v.sourceId},v.templates.header&&f.createElement("div",{className:i.sourceHeader},v.templates.header({components:u,createElement:f.createElement,Fragment:f.Fragment,items:y,source:v,state:c,html:a})),v.templates.noResults&&y.length===0?f.createElement("div",{className:i.sourceNoResults},v.templates.noResults({components:u,createElement:f.createElement,Fragment:f.Fragment,source:v,state:c,html:a})):f.createElement("ul",ib({className:i.list},l.getListProps(dg({state:c,props:n.getListProps({sourceIndex:m})},r))),y.map(function(_){var b=n.getItemProps({item:_,source:v,sourceIndex:m});return f.createElement("li",ib({key:b.id,className:i.item},l.getItemProps(dg({state:c,props:b},r))),v.templates.item({components:u,createElement:f.createElement,Fragment:f.Fragment,item:_,state:c,html:a}))})),v.templates.footer&&f.createElement("div",{className:i.sourceFooter},v.templates.footer({components:u,createElement:f.createElement,Fragment:f.Fragment,items:y,source:v,state:c,html:a})))}),d=f.createElement(f.Fragment,null,f.createElement("div",{className:i.panelLayout},h),f.createElement("div",{className:"aa-GradientBottom"})),p=h.reduce(function(g,m){return g[m.props["data-autocomplete-source-id"]]=m,g},{});e(dg(dg({children:d,state:c,sections:h,elements:p},f),{},{components:u,html:a},r),s.panel)}var pdt=[{segment:"autocomplete-js",version:A7}],gdt=["components"];function Kv(e){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kv(e)}function mdt(e,t){if(e==null)return{};var n=vdt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function vdt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function $L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$L(Object(n),!0).forEach(function(r){eD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$L(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eD(e,t,n){return t=ydt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ydt(e){var t=_dt(e,"string");return Kv(t)==="symbol"?t:String(t)}function _dt(e,t){if(Kv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Kv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rpt(e){var t=vht(),n=t.runEffect,r=t.cleanupEffects,i=t.runEffects,a=yht(),s=a.reactive,o=a.runReactives,l=Om(!1),c=Om(e),u=Om(void 0),f=s(function(){return sdt(c.current)}),h=s(function(){return f.value.core.environment.matchMedia(f.value.renderer.detachedMediaQuery).matches}),d=s(function(){return Pft(rd(rd({},f.value.core),{},{onStateChange:function(E){var A,O,N;l.current=E.state.collections.some(function(F){return F.source.templates.noResults}),(A=u.current)===null||A===void 0||A.call(u,E),(O=(N=f.value.core).onStateChange)===null||O===void 0||O.call(N,E)},shouldPanelOpen:c.current.shouldPanelOpen||function(S){var E=S.state;if(h.value)return!0;var A=Av(E)>0;if(!f.value.core.openOnFocus&&!E.query)return A;var O=!!(l.current||f.value.renderer.renderNoResults);return!A&&O||A},__autocomplete_metadata:{userAgents:pdt,options:e}}))}),p=Om(rd({collections:[],completion:null,context:{},isOpen:!1,query:"",activeItemId:null,status:"idle"},f.value.core.initialState)),g={getEnvironmentProps:f.value.renderer.getEnvironmentProps,getFormProps:f.value.renderer.getFormProps,getInputProps:f.value.renderer.getInputProps,getItemProps:f.value.renderer.getItemProps,getLabelProps:f.value.renderer.getLabelProps,getListProps:f.value.renderer.getListProps,getPanelProps:f.value.renderer.getPanelProps,getRootProps:f.value.renderer.getRootProps},m={setActiveItemId:d.value.setActiveItemId,setQuery:d.value.setQuery,setCollections:d.value.setCollections,setIsOpen:d.value.setIsOpen,setStatus:d.value.setStatus,setContext:d.value.setContext,refresh:d.value.refresh,navigator:d.value.navigator},v=s(function(){return Nft.bind(f.value.renderer.renderer.createElement)}),y=s(function(){return mht({autocomplete:d.value,autocompleteScopeApi:m,classNames:f.value.renderer.classNames,environment:f.value.core.environment,isDetached:h.value,placeholder:f.value.core.placeholder,propGetters:g,setIsModalOpen:M,state:p.current,translations:f.value.renderer.translations})});function _(){Hu(y.value.panel,{style:h.value?{}:ldt({panelPlacement:f.value.renderer.panelPlacement,container:y.value.root,form:y.value.form,environment:f.value.core.environment})})}function b(S){p.current=S;var E={autocomplete:d.value,autocompleteScopeApi:m,classNames:f.value.renderer.classNames,components:f.value.renderer.components,container:f.value.renderer.container,html:v.value,dom:y.value,panelContainer:h.value?y.value.detachedContainer:f.value.renderer.panelContainer,propGetters:g,state:p.current,renderer:f.value.renderer.renderer},A=!Av(S)&&!l.current&&f.value.renderer.renderNoResults||f.value.renderer.render;hdt(E),ddt(A,E)}n(function(){var S=d.value.getEnvironmentProps({formElement:y.value.form,panelElement:y.value.panel,inputElement:y.value.input});return Hu(f.value.core.environment,S),function(){Hu(f.value.core.environment,Object.keys(S).reduce(function(E,A){return rd(rd({},E),{},eD({},A,void 0))},{}))}}),n(function(){var S=h.value?f.value.core.environment.document.body:f.value.renderer.panelContainer,E=h.value?y.value.detachedOverlay:y.value.panel;return h.value&&p.current.isOpen&&M(!0),b(p.current),function(){S.contains(E)&&S.removeChild(E)}}),n(function(){var S=f.value.renderer.container;return S.appendChild(y.value.root),function(){S.removeChild(y.value.root)}}),n(function(){var S=Qx(function(E){var A=E.state;b(A)},0);return u.current=function(E){var A=E.state,O=E.prevState;if(h.value&&O.isOpen!==A.isOpen&&M(A.isOpen),!h.value&&A.isOpen&&!O.isOpen&&_(),A.query!==O.query){var N=f.value.core.environment.document.querySelectorAll(".aa-Panel--scrollable");N.forEach(function(F){F.scrollTop!==0&&(F.scrollTop=0)})}S({state:A})},function(){u.current=void 0}}),n(function(){var S=Qx(function(){var E=h.value;h.value=f.value.core.environment.matchMedia(f.value.renderer.detachedMediaQuery).matches,E!==h.value?T({}):requestAnimationFrame(_)},20);return f.value.core.environment.addEventListener("resize",S),function(){f.value.core.environment.removeEventListener("resize",S)}}),n(function(){if(!h.value)return function(){};function S(N){y.value.detachedContainer.classList.toggle("aa-DetachedContainer--modal",N)}function E(N){S(N.matches)}var A=f.value.core.environment.matchMedia(getComputedStyle(f.value.core.environment.document.documentElement).getPropertyValue("--aa-detached-modal-media-query"));S(A.matches);var O=!!A.addEventListener;return O?A.addEventListener("change",E):A.addListener(E),function(){O?A.removeEventListener("change",E):A.removeListener(E)}}),n(function(){return requestAnimationFrame(_),function(){}});function w(){r()}function T(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r();var E=f.value.renderer,A=E.components,O=mdt(E,gdt);c.current=D7(O,f.value.core,{components:qft(A,function(N){var F=N.value;return!F.hasOwnProperty("__autocomplete_componentName")}),initialState:p.current},S),o(),i(),d.value.refresh().then(function(){b(p.current)})}function M(S){requestAnimationFrame(function(){var E=f.value.core.environment.document.body.contains(y.value.detachedOverlay);S!==E&&(S?(f.value.core.environment.document.body.appendChild(y.value.detachedOverlay),f.value.core.environment.document.body.classList.add("aa-Detached"),y.value.input.focus()):(f.value.core.environment.document.body.removeChild(y.value.detachedOverlay),f.value.core.environment.document.body.classList.remove("aa-Detached")))})}return rd(rd({},m),{},{update:T,destroy:w})}var ab={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */ab.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",o="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,u="__lodash_placeholder__",f=1,h=2,d=4,p=1,g=2,m=1,v=2,y=4,_=8,b=16,w=32,T=64,M=128,S=256,E=512,A=30,O="...",N=800,F=16,P=1,R=2,k=3,I=1/0,j=9007199254740991,G=17976931348623157e292,q=0/0,et=4294967295,U=et-1,J=et>>>1,nt=[["ary",M],["bind",m],["bindKey",v],["curry",_],["curryRight",b],["flip",E],["partial",w],["partialRight",T],["rearg",S]],ct="[object Arguments]",z="[object Array]",W="[object AsyncFunction]",X="[object Boolean]",it="[object Date]",lt="[object DOMException]",pt="[object Error]",rt="[object Function]",V="[object GeneratorFunction]",B="[object Map]",H="[object Number]",$="[object Null]",Z="[object Object]",Q="[object Promise]",ot="[object Proxy]",st="[object RegExp]",dt="[object Set]",bt="[object String]",Pt="[object Symbol]",It="[object Undefined]",Dt="[object WeakMap]",gt="[object WeakSet]",_t="[object ArrayBuffer]",wt="[object DataView]",Et="[object Float32Array]",ht="[object Float64Array]",vt="[object Int8Array]",Ct="[object Int16Array]",Mt="[object Int32Array]",Nt="[object Uint8Array]",Rt="[object Uint8ClampedArray]",At="[object Uint16Array]",kt="[object Uint32Array]",Bt=/\b__p \+= '';/g,Lt=/\b(__p \+=) '' \+/g,zt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Gt=/&(?:amp|lt|gt|quot|#39);/g,Ut=/[&<>"']/g,ne=RegExp(Gt.source),te=RegExp(Ut.source),ae=/<%-([\s\S]+?)%>/g,ue=/<%([\s\S]+?)%>/g,pe=/<%=([\s\S]+?)%>/g,be=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,jt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$t=/[\\^$.*+?()[\]{}|]/g,Jt=RegExp($t.source),qt=/^\s+/,Ce=/\s/,fe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Me=/\{\n\/\* \[wrapped with (.+)\] \*/,Ee=/,? & /,He=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ae=/[()=,{}\[\]\/\s]/,$e=/\\(\\)?/g,Oe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ft=/\w*$/,mt=/^[-+]0x[0-9a-f]+$/i,Ht=/^0b[01]+$/i,Vt=/^\[object .+?Constructor\]$/,ee=/^0o[0-7]+$/i,Xt=/^(?:0|[1-9]\d*)$/,Qt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,se=/($^)/,he=/['\n\r\u2028\u2029\\]/g,ye="\\ud800-\\udfff",oe="\\u0300-\\u036f",Ue="\\ufe20-\\ufe2f",rn="\\u20d0-\\u20ff",Ne=oe+Ue+rn,Fe="\\u2700-\\u27bf",Be="a-z\\xdf-\\xf6\\xf8-\\xff",Se="\\xac\\xb1\\xd7\\xf7",Te="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",xe="\\u2000-\\u206f",Xe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ve="A-Z\\xc0-\\xd6\\xd8-\\xde",an="\\ufe0e\\ufe0f",ge=Se+Te+xe+Xe,Pe="[']",ke="["+ye+"]",Ye="["+ge+"]",je="["+Ne+"]",qe="\\d+",nn="["+Fe+"]",sn="["+Be+"]",Ze="[^"+ye+ge+qe+Fe+Be+Ve+"]",tn="\\ud83c[\\udffb-\\udfff]",Tn="(?:"+je+"|"+tn+")",An="[^"+ye+"]",Sn="(?:\\ud83c[\\udde6-\\uddff]){2}",bn="[\\ud800-\\udbff][\\udc00-\\udfff]",_n="["+Ve+"]",Hn="\\u200d",En="(?:"+sn+"|"+Ze+")",Dn="(?:"+_n+"|"+Ze+")",xn="(?:"+Pe+"(?:d|ll|m|re|s|t|ve))?",Kn="(?:"+Pe+"(?:D|LL|M|RE|S|T|VE))?",Yn=Tn+"?",hr="["+an+"]?",pr="(?:"+Hn+"(?:"+[An,Sn,bn].join("|")+")"+hr+Yn+")*",Zn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",br="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",bi=hr+Yn+pr,so="(?:"+[nn,Sn,bn].join("|")+")"+bi,wi="(?:"+[An+je+"?",je,Sn,bn,ke].join("|")+")",Da=RegExp(Pe,"g"),Ri=RegExp(je,"g"),qr=RegExp(tn+"(?="+tn+")|"+wi+bi,"g"),ka=RegExp([_n+"?"+sn+"+"+xn+"(?="+[Ye,_n,"$"].join("|")+")",Dn+"+"+Kn+"(?="+[Ye,_n+En,"$"].join("|")+")",_n+"?"+En+"+"+xn,_n+"+"+Kn,br,Zn,qe,so].join("|"),"g"),Ci=RegExp("["+Hn+ye+Ne+an+"]"),$n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],gr=-1,ur={};ur[Et]=ur[ht]=ur[vt]=ur[Ct]=ur[Mt]=ur[Nt]=ur[Rt]=ur[At]=ur[kt]=!0,ur[ct]=ur[z]=ur[_t]=ur[X]=ur[wt]=ur[it]=ur[pt]=ur[rt]=ur[B]=ur[H]=ur[Z]=ur[st]=ur[dt]=ur[bt]=ur[Dt]=!1;var Pn={};Pn[ct]=Pn[z]=Pn[_t]=Pn[wt]=Pn[X]=Pn[it]=Pn[Et]=Pn[ht]=Pn[vt]=Pn[Ct]=Pn[Mt]=Pn[B]=Pn[H]=Pn[Z]=Pn[st]=Pn[dt]=Pn[bt]=Pn[Pt]=Pn[Nt]=Pn[Rt]=Pn[At]=Pn[kt]=!0,Pn[pt]=Pn[rt]=Pn[Dt]=!1;var wr={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},rr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ni={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},hi={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ai=parseFloat,Ii=parseInt,Wa=typeof vm=="object"&&vm&&vm.Object===Object&&vm,Ro=typeof self=="object"&&self&&self.Object===Object&&self,jr=Wa||Ro||Function("return this")(),ra=t&&!t.nodeType&&t,jn=ra&&!0&&e&&!e.nodeType&&e,ha=jn&&jn.exports===ra,wa=ha&&Wa.process,Xr=function(){try{var De=jn&&jn.require&&jn.require("util").types;return De||wa&&wa.binding&&wa.binding("util")}catch{}}(),ql=Xr&&Xr.isArrayBuffer,Su=Xr&&Xr.isDate,Ns=Xr&&Xr.isMap,rs=Xr&&Xr.isRegExp,is=Xr&&Xr.isSet,vc=Xr&&Xr.isTypedArray;function Ta(De,on,en){switch(en.length){case 0:return De.call(on);case 1:return De.call(on,en[0]);case 2:return De.call(on,en[0],en[1]);case 3:return De.call(on,en[0],en[1],en[2])}return De.apply(on,en)}function dp(De,on,en,Fn){for(var mr=-1,$r=De==null?0:De.length;++mr<$r;){var pa=De[mr];on(Fn,pa,en(pa),De)}return Fn}function da(De,on){for(var en=-1,Fn=De==null?0:De.length;++en<Fn&&on(De[en],en,De)!==!1;);return De}function pp(De,on){for(var en=De==null?0:De.length;en--&&on(De[en],en,De)!==!1;);return De}function Xy(De,on){for(var en=-1,Fn=De==null?0:De.length;++en<Fn;)if(!on(De[en],en,De))return!1;return!0}function as(De,on){for(var en=-1,Fn=De==null?0:De.length,mr=0,$r=[];++en<Fn;){var pa=De[en];on(pa,en,De)&&($r[mr++]=pa)}return $r}function gf(De,on){var en=De==null?0:De.length;return!!en&&yc(De,on,0)>-1}function gp(De,on,en){for(var Fn=-1,mr=De==null?0:De.length;++Fn<mr;)if(en(on,De[Fn]))return!0;return!1}function Wr(De,on){for(var en=-1,Fn=De==null?0:De.length,mr=Array(Fn);++en<Fn;)mr[en]=on(De[en],en,De);return mr}function Xl(De,on){for(var en=-1,Fn=on.length,mr=De.length;++en<Fn;)De[mr+en]=on[en];return De}function Rh(De,on,en,Fn){var mr=-1,$r=De==null?0:De.length;for(Fn&&$r&&(en=De[++mr]);++mr<$r;)en=on(en,De[mr],mr,De);return en}function B0(De,on,en,Fn){var mr=De==null?0:De.length;for(Fn&&mr&&(en=De[--mr]);mr--;)en=on(en,De[mr],mr,De);return en}function Kl(De,on){for(var en=-1,Fn=De==null?0:De.length;++en<Fn;)if(on(De[en],en,De))return!0;return!1}var mp=G0("length");function Ky(De){return De.split("")}function N2(De){return De.match(He)||[]}function Zy(De,on,en){var Fn;return en(De,function(mr,$r,pa){if(on(mr,$r,pa))return Fn=$r,!1}),Fn}function Dh(De,on,en,Fn){for(var mr=De.length,$r=en+(Fn?1:-1);Fn?$r--:++$r<mr;)if(on(De[$r],$r,De))return $r;return-1}function yc(De,on,en){return on===on?j2(De,on,en):Dh(De,Jy,en)}function R2(De,on,en,Fn){for(var mr=en-1,$r=De.length;++mr<$r;)if(Fn(De[mr],on))return mr;return-1}function Jy(De){return De!==De}function Qy(De,on){var en=De==null?0:De.length;return en?vp(De,on)/en:q}function G0(De){return function(on){return on==null?n:on[De]}}function j0(De){return function(on){return De==null?n:De[on]}}function t_(De,on,en,Fn,mr){return mr(De,function($r,pa,di){en=Fn?(Fn=!1,$r):on(en,$r,pa,di)}),en}function D2(De,on){var en=De.length;for(De.sort(on);en--;)De[en]=De[en].value;return De}function vp(De,on){for(var en,Fn=-1,mr=De.length;++Fn<mr;){var $r=on(De[Fn]);$r!==n&&(en=en===n?$r:en+$r)}return en}function yp(De,on){for(var en=-1,Fn=Array(De);++en<De;)Fn[en]=on(en);return Fn}function e_(De,on){return Wr(on,function(en){return[en,De[en]]})}function U0(De){return De&&De.slice(0,H0(De)+1).replace(qt,"")}function Do(De){return function(on){return De(on)}}function Cu(De,on){return Wr(on,function(en){return De[en]})}function mf(De,on){return De.has(on)}function n_(De,on){for(var en=-1,Fn=De.length;++en<Fn&&yc(on,De[en],0)>-1;);return en}function r_(De,on){for(var en=De.length;en--&&yc(on,De[en],0)>-1;);return en}function k2(De,on){for(var en=De.length,Fn=0;en--;)De[en]===on&&++Fn;return Fn}var i_=j0(wr),F2=j0(rr);function z2(De){return"\\"+hi[De]}function B2(De,on){return De==null?n:De[on]}function vf(De){return Ci.test(De)}function a_(De){return $n.test(De)}function G2(De){for(var on,en=[];!(on=De.next()).done;)en.push(on.value);return en}function V0(De){var on=-1,en=Array(De.size);return De.forEach(function(Fn,mr){en[++on]=[mr,Fn]}),en}function o_(De,on){return function(en){return De(on(en))}}function os(De,on){for(var en=-1,Fn=De.length,mr=0,$r=[];++en<Fn;){var pa=De[en];(pa===on||pa===u)&&(De[en]=u,$r[mr++]=en)}return $r}function Au(De){var on=-1,en=Array(De.size);return De.forEach(function(Fn){en[++on]=Fn}),en}function fl(De){var on=-1,en=Array(De.size);return De.forEach(function(Fn){en[++on]=[Fn,Fn]}),en}function j2(De,on,en){for(var Fn=en-1,mr=De.length;++Fn<mr;)if(De[Fn]===on)return Fn;return-1}function U2(De,on,en){for(var Fn=en+1;Fn--;)if(De[Fn]===on)return Fn;return Fn}function yf(De){return vf(De)?H2(De):mp(De)}function Rs(De){return vf(De)?Y2(De):Ky(De)}function H0(De){for(var on=De.length;on--&&Ce.test(De.charAt(on)););return on}var V2=j0(ni);function H2(De){for(var on=qr.lastIndex=0;qr.test(De);)++on;return on}function Y2(De){return De.match(qr)||[]}function W2(De){return De.match(ka)||[]}var $2=function De(on){on=on==null?jr:Iu.defaults(jr.Object(),on,Iu.pick(jr,wn));var en=on.Array,Fn=on.Date,mr=on.Error,$r=on.Function,pa=on.Math,di=on.Object,kh=on.RegExp,s_=on.String,ko=on.TypeError,Fh=en.prototype,q2=$r.prototype,_f=di.prototype,zh=on["__core-js_shared__"],Bh=q2.toString,ti=_f.hasOwnProperty,Y0=0,_p=function(){var x=/[^.]+$/.exec(zh&&zh.keys&&zh.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""}(),xp=_f.toString,X2=Bh.call(di),l_=jr._,u_=kh("^"+Bh.call(ti).replace($t,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xf=ha?on.Buffer:n,Zl=on.Symbol,_c=on.Uint8Array,Gh=xf?xf.allocUnsafe:n,bp=o_(di.getPrototypeOf,di),wp=di.create,W0=_f.propertyIsEnumerable,Tp=Fh.splice,c_=Zl?Zl.isConcatSpreadable:n,bf=Zl?Zl.iterator:n,Ou=Zl?Zl.toStringTag:n,jh=function(){try{var x=$h(di,"defineProperty");return x({},"",{}),x}catch{}}(),$0=on.clearTimeout!==jr.clearTimeout&&on.clearTimeout,q0=Fn&&Fn.now!==jr.Date.now&&Fn.now,f_=on.setTimeout!==jr.setTimeout&&on.setTimeout,Ep=pa.ceil,Uh=pa.floor,wf=di.getOwnPropertySymbols,h_=xf?xf.isBuffer:n,d_=on.isFinite,K2=Fh.join,Z2=o_(di.keys,di),ga=pa.max,Fa=pa.min,p_=Fn.now,g_=on.parseInt,X0=pa.random,J2=Fh.reverse,Tf=$h(on,"DataView"),Vh=$h(on,"Map"),K0=$h(on,"Promise"),xc=$h(on,"Set"),Ef=$h(on,"WeakMap"),Hh=$h(di,"create"),bc=Ef&&new Ef,Jl={},m_=qh(Tf),v_=qh(Vh),Z0=qh(K0),Ds=qh(xc),y_=qh(Ef),Mf=Zl?Zl.prototype:n,wc=Mf?Mf.valueOf:n,Yh=Mf?Mf.toString:n;function Wt(x){if(oa(x)&&!xr(x)&&!(x instanceof Or)){if(x instanceof Fo)return x;if(ti.call(x,"__wrapped__"))return ZC(x)}return new Fo(x)}var Tc=function(){function x(){}return function(L){if(!Ki(L))return{};if(wp)return wp(L);x.prototype=L;var K=new x;return x.prototype=n,K}}();function lo(){}function Fo(x,L){this.__wrapped__=x,this.__actions__=[],this.__chain__=!!L,this.__index__=0,this.__values__=n}Wt.templateSettings={escape:ae,evaluate:ue,interpolate:pe,variable:"",imports:{_:Wt}},Wt.prototype=lo.prototype,Wt.prototype.constructor=Wt,Fo.prototype=Tc(lo.prototype),Fo.prototype.constructor=Fo;function Or(x){this.__wrapped__=x,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=et,this.__views__=[]}function Lu(){var x=new Or(this.__wrapped__);return x.__actions__=ls(this.__actions__),x.__dir__=this.__dir__,x.__filtered__=this.__filtered__,x.__iteratees__=ls(this.__iteratees__),x.__takeCount__=this.__takeCount__,x.__views__=ls(this.__views__),x}function J0(){if(this.__filtered__){var x=new Or(this);x.__dir__=-1,x.__filtered__=!0}else x=this.clone(),x.__dir__*=-1;return x}function Q0(){var x=this.__wrapped__.value(),L=this.__dir__,K=xr(x),xt=L<0,Ft=K?x.length:0,Zt=yk(0,Ft,this.__views__),ve=Zt.start,Le=Zt.end,Ge=Le-ve,un=xt?Le:ve-1,fn=this.__iteratees__,dn=fn.length,Nn=0,Vn=Fa(Ge,this.__takeCount__);if(!K||!xt&&Ft==Ge&&Vn==Ge)return xC(x,this.__actions__);var or=[];t:for(;Ge--&&Nn<Vn;){un+=L;for(var Ar=-1,sr=x[un];++Ar<dn;){var kr=fn[Ar],Ur=kr.iteratee,Gs=kr.type,jo=Ur(sr);if(Gs==R)sr=jo;else if(!jo){if(Gs==P)continue t;break t}}or[Nn++]=sr}return or}Or.prototype=Tc(lo.prototype),Or.prototype.constructor=Or;function Pu(x){var L=-1,K=x==null?0:x.length;for(this.clear();++L<K;){var xt=x[L];this.set(xt[0],xt[1])}}function __(){this.__data__=Hh?Hh(null):{},this.size=0}function x_(x){var L=this.has(x)&&delete this.__data__[x];return this.size-=L?1:0,L}function b_(x){var L=this.__data__;if(Hh){var K=L[x];return K===l?n:K}return ti.call(L,x)?L[x]:n}function Q2(x){var L=this.__data__;return Hh?L[x]!==n:ti.call(L,x)}function w_(x,L){var K=this.__data__;return this.size+=this.has(x)?0:1,K[x]=Hh&&L===n?l:L,this}Pu.prototype.clear=__,Pu.prototype.delete=x_,Pu.prototype.get=b_,Pu.prototype.has=Q2,Pu.prototype.set=w_;function Ql(x){var L=-1,K=x==null?0:x.length;for(this.clear();++L<K;){var xt=x[L];this.set(xt[0],xt[1])}}function tw(){this.__data__=[],this.size=0}function T_(x){var L=this.__data__,K=Y(L,x);if(K<0)return!1;var xt=L.length-1;return K==xt?L.pop():Tp.call(L,K,1),--this.size,!0}function E_(x){var L=this.__data__,K=Y(L,x);return K<0?n:L[K][1]}function Mp(x){return Y(this.__data__,x)>-1}function M_(x,L){var K=this.__data__,xt=Y(K,x);return xt<0?(++this.size,K.push([x,L])):K[xt][1]=L,this}Ql.prototype.clear=tw,Ql.prototype.delete=T_,Ql.prototype.get=E_,Ql.prototype.has=Mp,Ql.prototype.set=M_;function ss(x){var L=-1,K=x==null?0:x.length;for(this.clear();++L<K;){var xt=x[L];this.set(xt[0],xt[1])}}function S_(){this.size=0,this.__data__={hash:new Pu,map:new(Vh||Ql),string:new Pu}}function Wh(x){var L=F_(this,x).delete(x);return this.size-=L?1:0,L}function Ec(x){return F_(this,x).get(x)}function Sp(x){return F_(this,x).has(x)}function Xi(x,L){var K=F_(this,x),xt=K.size;return K.set(x,L),this.size+=K.size==xt?0:1,this}ss.prototype.clear=S_,ss.prototype.delete=Wh,ss.prototype.get=Ec,ss.prototype.has=Sp,ss.prototype.set=Xi;function Nu(x){var L=-1,K=x==null?0:x.length;for(this.__data__=new ss;++L<K;)this.add(x[L])}function tm(x){return this.__data__.set(x,l),this}function ew(x){return this.__data__.has(x)}Nu.prototype.add=Nu.prototype.push=tm,Nu.prototype.has=ew;function zo(x){var L=this.__data__=new Ql(x);this.size=L.size}function Cp(){this.__data__=new Ql,this.size=0}function C_(x){var L=this.__data__,K=L.delete(x);return this.size=L.size,K}function nw(x){return this.__data__.get(x)}function rw(x){return this.__data__.has(x)}function iw(x,L){var K=this.__data__;if(K instanceof Ql){var xt=K.__data__;if(!Vh||xt.length<i-1)return xt.push([x,L]),this.size=++K.size,this;K=this.__data__=new ss(xt)}return K.set(x,L),this.size=K.size,this}zo.prototype.clear=Cp,zo.prototype.delete=C_,zo.prototype.get=nw,zo.prototype.has=rw,zo.prototype.set=iw;function A_(x,L){var K=xr(x),xt=!K&&Xh(x),Ft=!K&&!xt&&If(x),Zt=!K&&!xt&&!Ft&&Np(x),ve=K||xt||Ft||Zt,Le=ve?yp(x.length,s_):[],Ge=Le.length;for(var un in x)(L||ti.call(x,un))&&!(ve&&(un=="length"||Ft&&(un=="offset"||un=="parent")||Zt&&(un=="buffer"||un=="byteLength"||un=="byteOffset")||Cc(un,Ge)))&&Le.push(un);return Le}function Ap(x){var L=x.length;return L?x[lw(0,L-1)]:n}function aw(x,L){return z_(ls(x),St(L,0,x.length))}function ow(x){return z_(ls(x))}function C(x,L,K){(K!==n&&!tu(x[L],K)||K===n&&!(L in x))&&yt(x,L,K)}function D(x,L,K){var xt=x[L];(!(ti.call(x,L)&&tu(xt,K))||K===n&&!(L in x))&&yt(x,L,K)}function Y(x,L){for(var K=x.length;K--;)if(tu(x[K][0],L))return K;return-1}function tt(x,L,K,xt){return Ie(x,function(Ft,Zt,ve){L(xt,Ft,K(Ft),ve)}),xt}function at(x,L){return x&&Ru(L,$a(L),x)}function ut(x,L){return x&&Ru(L,cs(L),x)}function yt(x,L,K){L=="__proto__"&&jh?jh(x,L,{configurable:!0,enumerable:!0,value:K,writable:!0}):x[L]=K}function Tt(x,L){for(var K=-1,xt=L.length,Ft=en(xt),Zt=x==null;++K<xt;)Ft[K]=Zt?n:Nw(x,L[K]);return Ft}function St(x,L,K){return x===x&&(K!==n&&(x=x<=K?x:K),L!==n&&(x=x>=L?x:L)),x}function Ot(x,L,K,xt,Ft,Zt){var ve,Le=L&f,Ge=L&h,un=L&d;if(K&&(ve=Ft?K(x,xt,Ft,Zt):K(x)),ve!==n)return ve;if(!Ki(x))return x;var fn=xr(x);if(fn){if(ve=xk(x),!Le)return ls(x,ve)}else{var dn=xo(x),Nn=dn==rt||dn==V;if(If(x))return TC(x,Le);if(dn==Z||dn==ct||Nn&&!Ft){if(ve=Ge||Nn?{}:UC(x),!Le)return Ge?uk(x,ut(ve,x)):lk(x,at(ve,x))}else{if(!Pn[dn])return Ft?x:{};ve=bk(x,dn,Le)}}Zt||(Zt=new zo);var Vn=Zt.get(x);if(Vn)return Vn;Zt.set(x,ve),vA(x)?x.forEach(function(sr){ve.add(Ot(sr,L,K,sr,x,Zt))}):gA(x)&&x.forEach(function(sr,kr){ve.set(kr,Ot(sr,L,K,kr,x,Zt))});var or=un?Ge?_w:yw:Ge?cs:$a,Ar=fn?n:or(x);return da(Ar||x,function(sr,kr){Ar&&(kr=sr,sr=x[kr]),D(ve,kr,Ot(sr,L,K,kr,x,Zt))}),ve}function Yt(x){var L=$a(x);return function(K){return Kt(K,x,L)}}function Kt(x,L,K){var xt=K.length;if(x==null)return!xt;for(x=di(x);xt--;){var Ft=K[xt],Zt=L[Ft],ve=x[Ft];if(ve===n&&!(Ft in x)||!Zt(ve))return!1}return!0}function ie(x,L,K){if(typeof x!="function")throw new ko(s);return am(function(){x.apply(n,K)},L)}function me(x,L,K,xt){var Ft=-1,Zt=gf,ve=!0,Le=x.length,Ge=[],un=L.length;if(!Le)return Ge;K&&(L=Wr(L,Do(K))),xt?(Zt=gp,ve=!1):L.length>=i&&(Zt=mf,ve=!1,L=new Nu(L));t:for(;++Ft<Le;){var fn=x[Ft],dn=K==null?fn:K(fn);if(fn=xt||fn!==0?fn:0,ve&&dn===dn){for(var Nn=un;Nn--;)if(L[Nn]===dn)continue t;Ge.push(fn)}else Zt(L,dn,xt)||Ge.push(fn)}return Ge}var Ie=AC(ln),de=AC(hn,!0);function _e(x,L){var K=!0;return Ie(x,function(xt,Ft,Zt){return K=!!L(xt,Ft,Zt),K}),K}function le(x,L,K){for(var xt=-1,Ft=x.length;++xt<Ft;){var Zt=x[xt],ve=L(Zt);if(ve!=null&&(Le===n?ve===ve&&!Bs(ve):K(ve,Le)))var Le=ve,Ge=Zt}return Ge}function Re(x,L,K,xt){var Ft=x.length;for(K=Mr(K),K<0&&(K=-K>Ft?0:Ft+K),xt=xt===n||xt>Ft?Ft:Mr(xt),xt<0&&(xt+=Ft),xt=K>xt?0:_A(xt);K<xt;)x[K++]=L;return x}function we(x,L){var K=[];return Ie(x,function(xt,Ft,Zt){L(xt,Ft,Zt)&&K.push(xt)}),K}function ce(x,L,K,xt,Ft){var Zt=-1,ve=x.length;for(K||(K=Tk),Ft||(Ft=[]);++Zt<ve;){var Le=x[Zt];L>0&&K(Le)?L>1?ce(Le,L-1,K,xt,Ft):Xl(Ft,Le):xt||(Ft[Ft.length]=Le)}return Ft}var Ke=IC(),Je=IC(!0);function ln(x,L){return x&&Ke(x,L,$a)}function hn(x,L){return x&&Je(x,L,$a)}function On(x,L){return as(L,function(K){return Ac(x[K])})}function Ln(x,L){L=Cf(L,x);for(var K=0,xt=L.length;x!=null&&K<xt;)x=x[Du(L[K++])];return K&&K==xt?x:n}function Un(x,L,K){var xt=L(x);return xr(x)?xt:Xl(xt,K(x))}function Mn(x){return x==null?x===n?It:$:Ou&&Ou in di(x)?vk(x):Ok(x)}function ar(x,L){return x>L}function Rr(x,L){return x!=null&&ti.call(x,L)}function pi(x,L){return x!=null&&L in di(x)}function mn(x,L,K){return x>=Fa(L,K)&&x<ga(L,K)}function In(x,L,K){for(var xt=K?gp:gf,Ft=x[0].length,Zt=x.length,ve=Zt,Le=en(Zt),Ge=1/0,un=[];ve--;){var fn=x[ve];ve&&L&&(fn=Wr(fn,Do(L))),Ge=Fa(fn.length,Ge),Le[ve]=!K&&(L||Ft>=120&&fn.length>=120)?new Nu(ve&&fn):n}fn=x[0];var dn=-1,Nn=Le[0];t:for(;++dn<Ft&&un.length<Ge;){var Vn=fn[dn],or=L?L(Vn):Vn;if(Vn=K||Vn!==0?Vn:0,!(Nn?mf(Nn,or):xt(un,or,K))){for(ve=Zt;--ve;){var Ar=Le[ve];if(!(Ar?mf(Ar,or):xt(x[ve],or,K)))continue t}Nn&&Nn.push(or),un.push(Vn)}}return un}function Jn(x,L,K,xt){return ln(x,function(Ft,Zt,ve){L(xt,K(Ft),Zt,ve)}),xt}function Xn(x,L,K){L=Cf(L,x),x=WC(x,L);var xt=x==null?x:x[Du(ml(L))];return xt==null?n:Ta(xt,x,K)}function Er(x){return oa(x)&&Mn(x)==ct}function ri(x){return oa(x)&&Mn(x)==_t}function Ui(x){return oa(x)&&Mn(x)==it}function li(x,L,K,xt,Ft){return x===L?!0:x==null||L==null||!oa(x)&&!oa(L)?x!==x&&L!==L:ia(x,L,K,xt,li,Ft)}function ia(x,L,K,xt,Ft,Zt){var ve=xr(x),Le=xr(L),Ge=ve?z:xo(x),un=Le?z:xo(L);Ge=Ge==ct?Z:Ge,un=un==ct?Z:un;var fn=Ge==Z,dn=un==Z,Nn=Ge==un;if(Nn&&If(x)){if(!If(L))return!1;ve=!0,fn=!1}if(Nn&&!fn)return Zt||(Zt=new zo),ve||Np(x)?BC(x,L,K,xt,Ft,Zt):gk(x,L,Ge,K,xt,Ft,Zt);if(!(K&p)){var Vn=fn&&ti.call(x,"__wrapped__"),or=dn&&ti.call(L,"__wrapped__");if(Vn||or){var Ar=Vn?x.value():x,sr=or?L.value():L;return Zt||(Zt=new zo),Ft(Ar,sr,K,xt,Zt)}}return Nn?(Zt||(Zt=new zo),mk(x,L,K,xt,Ft,Zt)):!1}function Vi(x){return oa(x)&&xo(x)==B}function Hi(x,L,K,xt){var Ft=K.length,Zt=Ft,ve=!xt;if(x==null)return!Zt;for(x=di(x);Ft--;){var Le=K[Ft];if(ve&&Le[2]?Le[1]!==x[Le[0]]:!(Le[0]in x))return!1}for(;++Ft<Zt;){Le=K[Ft];var Ge=Le[0],un=x[Ge],fn=Le[1];if(ve&&Le[2]){if(un===n&&!(Ge in x))return!1}else{var dn=new zo;if(xt)var Nn=xt(un,fn,Ge,x,L,dn);if(!(Nn===n?li(fn,un,p|g,xt,dn):Nn))return!1}}return!0}function za(x){if(!Ki(x)||Mk(x))return!1;var L=Ac(x)?u_:Vt;return L.test(qh(x))}function ks(x){return oa(x)&&Mn(x)==st}function hl(x){return oa(x)&&xo(x)==dt}function dl(x){return oa(x)&&H_(x.length)&&!!ur[Mn(x)]}function aa(x){return typeof x=="function"?x:x==null?fs:typeof x=="object"?xr(x)?pl(x[0],x[1]):Bo(x):OA(x)}function Oi(x){if(!im(x))return Z2(x);var L=[];for(var K in di(x))ti.call(x,K)&&K!="constructor"&&L.push(K);return L}function uo(x){if(!Ki(x))return Ik(x);var L=im(x),K=[];for(var xt in x)xt=="constructor"&&(L||!ti.call(x,xt))||K.push(xt);return K}function Ba(x,L){return x<L}function co(x,L){var K=-1,xt=us(x)?en(x.length):[];return Ie(x,function(Ft,Zt,ve){xt[++K]=L(Ft,Zt,ve)}),xt}function Bo(x){var L=bw(x);return L.length==1&&L[0][2]?HC(L[0][0],L[0][1]):function(K){return K===x||Hi(K,x,L)}}function pl(x,L){return Tw(x)&&VC(L)?HC(Du(x),L):function(K){var xt=Nw(K,x);return xt===n&&xt===L?Rw(K,x):li(L,xt,p|g)}}function Fs(x,L,K,xt,Ft){x!==L&&Ke(L,function(Zt,ve){if(Ft||(Ft=new zo),Ki(Zt))Ip(x,L,ve,K,Fs,xt,Ft);else{var Le=xt?xt(Mw(x,ve),Zt,ve+"",x,L,Ft):n;Le===n&&(Le=Zt),C(x,ve,Le)}},cs)}function Ip(x,L,K,xt,Ft,Zt,ve){var Le=Mw(x,K),Ge=Mw(L,K),un=ve.get(Ge);if(un){C(x,K,un);return}var fn=Zt?Zt(Le,Ge,K+"",x,L,ve):n,dn=fn===n;if(dn){var Nn=xr(Ge),Vn=!Nn&&If(Ge),or=!Nn&&!Vn&&Np(Ge);fn=Ge,Nn||Vn||or?xr(Le)?fn=Le:ma(Le)?fn=ls(Le):Vn?(dn=!1,fn=TC(Ge,!0)):or?(dn=!1,fn=EC(Ge,!0)):fn=[]:om(Ge)||Xh(Ge)?(fn=Le,Xh(Le)?fn=xA(Le):(!Ki(Le)||Ac(Le))&&(fn=UC(Ge))):dn=!1}dn&&(ve.set(Ge,fn),Ft(fn,Ge,xt,Zt,ve),ve.delete(Ge)),C(x,K,fn)}function em(x,L){var K=x.length;if(K)return L+=L<0?K:0,Cc(L,K)?x[L]:n}function dC(x,L,K){L.length?L=Wr(L,function(Zt){return xr(Zt)?function(ve){return Ln(ve,Zt.length===1?Zt[0]:Zt)}:Zt}):L=[fs];var xt=-1;L=Wr(L,Do(ir()));var Ft=co(x,function(Zt,ve,Le){var Ge=Wr(L,function(un){return un(Zt)});return{criteria:Ge,index:++xt,value:Zt}});return D2(Ft,function(Zt,ve){return sk(Zt,ve,K)})}function XD(x,L){return pC(x,L,function(K,xt){return Rw(x,xt)})}function pC(x,L,K){for(var xt=-1,Ft=L.length,Zt={};++xt<Ft;){var ve=L[xt],Le=Ln(x,ve);K(Le,ve)&&nm(Zt,Cf(ve,x),Le)}return Zt}function KD(x){return function(L){return Ln(L,x)}}function sw(x,L,K,xt){var Ft=xt?R2:yc,Zt=-1,ve=L.length,Le=x;for(x===L&&(L=ls(L)),K&&(Le=Wr(x,Do(K)));++Zt<ve;)for(var Ge=0,un=L[Zt],fn=K?K(un):un;(Ge=Ft(Le,fn,Ge,xt))>-1;)Le!==x&&Tp.call(Le,Ge,1),Tp.call(x,Ge,1);return x}function gC(x,L){for(var K=x?L.length:0,xt=K-1;K--;){var Ft=L[K];if(K==xt||Ft!==Zt){var Zt=Ft;Cc(Ft)?Tp.call(x,Ft,1):fw(x,Ft)}}return x}function lw(x,L){return x+Uh(X0()*(L-x+1))}function ZD(x,L,K,xt){for(var Ft=-1,Zt=ga(Ep((L-x)/(K||1)),0),ve=en(Zt);Zt--;)ve[xt?Zt:++Ft]=x,x+=K;return ve}function uw(x,L){var K="";if(!x||L<1||L>j)return K;do L%2&&(K+=x),L=Uh(L/2),L&&(x+=x);while(L);return K}function Lr(x,L){return Sw(YC(x,L,fs),x+"")}function JD(x){return Ap(Rp(x))}function QD(x,L){var K=Rp(x);return z_(K,St(L,0,K.length))}function nm(x,L,K,xt){if(!Ki(x))return x;L=Cf(L,x);for(var Ft=-1,Zt=L.length,ve=Zt-1,Le=x;Le!=null&&++Ft<Zt;){var Ge=Du(L[Ft]),un=K;if(Ge==="__proto__"||Ge==="constructor"||Ge==="prototype")return x;if(Ft!=ve){var fn=Le[Ge];un=xt?xt(fn,Ge,Le):n,un===n&&(un=Ki(fn)?fn:Cc(L[Ft+1])?[]:{})}D(Le,Ge,un),Le=Le[Ge]}return x}var mC=bc?function(x,L){return bc.set(x,L),x}:fs,tk=jh?function(x,L){return jh(x,"toString",{configurable:!0,enumerable:!1,value:kw(L),writable:!0})}:fs;function ek(x){return z_(Rp(x))}function gl(x,L,K){var xt=-1,Ft=x.length;L<0&&(L=-L>Ft?0:Ft+L),K=K>Ft?Ft:K,K<0&&(K+=Ft),Ft=L>K?0:K-L>>>0,L>>>=0;for(var Zt=en(Ft);++xt<Ft;)Zt[xt]=x[xt+L];return Zt}function nk(x,L){var K;return Ie(x,function(xt,Ft,Zt){return K=L(xt,Ft,Zt),!K}),!!K}function I_(x,L,K){var xt=0,Ft=x==null?xt:x.length;if(typeof L=="number"&&L===L&&Ft<=J){for(;xt<Ft;){var Zt=xt+Ft>>>1,ve=x[Zt];ve!==null&&!Bs(ve)&&(K?ve<=L:ve<L)?xt=Zt+1:Ft=Zt}return Ft}return cw(x,L,fs,K)}function cw(x,L,K,xt){var Ft=0,Zt=x==null?0:x.length;if(Zt===0)return 0;L=K(L);for(var ve=L!==L,Le=L===null,Ge=Bs(L),un=L===n;Ft<Zt;){var fn=Uh((Ft+Zt)/2),dn=K(x[fn]),Nn=dn!==n,Vn=dn===null,or=dn===dn,Ar=Bs(dn);if(ve)var sr=xt||or;else un?sr=or&&(xt||Nn):Le?sr=or&&Nn&&(xt||!Vn):Ge?sr=or&&Nn&&!Vn&&(xt||!Ar):Vn||Ar?sr=!1:sr=xt?dn<=L:dn<L;sr?Ft=fn+1:Zt=fn}return Fa(Zt,U)}function vC(x,L){for(var K=-1,xt=x.length,Ft=0,Zt=[];++K<xt;){var ve=x[K],Le=L?L(ve):ve;if(!K||!tu(Le,Ge)){var Ge=Le;Zt[Ft++]=ve===0?0:ve}}return Zt}function yC(x){return typeof x=="number"?x:Bs(x)?q:+x}function zs(x){if(typeof x=="string")return x;if(xr(x))return Wr(x,zs)+"";if(Bs(x))return Yh?Yh.call(x):"";var L=x+"";return L=="0"&&1/x==-I?"-0":L}function Sf(x,L,K){var xt=-1,Ft=gf,Zt=x.length,ve=!0,Le=[],Ge=Le;if(K)ve=!1,Ft=gp;else if(Zt>=i){var un=L?null:dk(x);if(un)return Au(un);ve=!1,Ft=mf,Ge=new Nu}else Ge=L?[]:Le;t:for(;++xt<Zt;){var fn=x[xt],dn=L?L(fn):fn;if(fn=K||fn!==0?fn:0,ve&&dn===dn){for(var Nn=Ge.length;Nn--;)if(Ge[Nn]===dn)continue t;L&&Ge.push(dn),Le.push(fn)}else Ft(Ge,dn,K)||(Ge!==Le&&Ge.push(dn),Le.push(fn))}return Le}function fw(x,L){return L=Cf(L,x),x=WC(x,L),x==null||delete x[Du(ml(L))]}function _C(x,L,K,xt){return nm(x,L,K(Ln(x,L)),xt)}function O_(x,L,K,xt){for(var Ft=x.length,Zt=xt?Ft:-1;(xt?Zt--:++Zt<Ft)&&L(x[Zt],Zt,x););return K?gl(x,xt?0:Zt,xt?Zt+1:Ft):gl(x,xt?Zt+1:0,xt?Ft:Zt)}function xC(x,L){var K=x;return K instanceof Or&&(K=K.value()),Rh(L,function(xt,Ft){return Ft.func.apply(Ft.thisArg,Xl([xt],Ft.args))},K)}function hw(x,L,K){var xt=x.length;if(xt<2)return xt?Sf(x[0]):[];for(var Ft=-1,Zt=en(xt);++Ft<xt;)for(var ve=x[Ft],Le=-1;++Le<xt;)Le!=Ft&&(Zt[Ft]=me(Zt[Ft]||ve,x[Le],L,K));return Sf(ce(Zt,1),L,K)}function bC(x,L,K){for(var xt=-1,Ft=x.length,Zt=L.length,ve={};++xt<Ft;){var Le=xt<Zt?L[xt]:n;K(ve,x[xt],Le)}return ve}function dw(x){return ma(x)?x:[]}function pw(x){return typeof x=="function"?x:fs}function Cf(x,L){return xr(x)?x:Tw(x,L)?[x]:KC(ui(x))}var rk=Lr;function Af(x,L,K){var xt=x.length;return K=K===n?xt:K,!L&&K>=xt?x:gl(x,L,K)}var wC=$0||function(x){return jr.clearTimeout(x)};function TC(x,L){if(L)return x.slice();var K=x.length,xt=Gh?Gh(K):new x.constructor(K);return x.copy(xt),xt}function gw(x){var L=new x.constructor(x.byteLength);return new _c(L).set(new _c(x)),L}function ik(x,L){var K=L?gw(x.buffer):x.buffer;return new x.constructor(K,x.byteOffset,x.byteLength)}function ak(x){var L=new x.constructor(x.source,ft.exec(x));return L.lastIndex=x.lastIndex,L}function ok(x){return wc?di(wc.call(x)):{}}function EC(x,L){var K=L?gw(x.buffer):x.buffer;return new x.constructor(K,x.byteOffset,x.length)}function MC(x,L){if(x!==L){var K=x!==n,xt=x===null,Ft=x===x,Zt=Bs(x),ve=L!==n,Le=L===null,Ge=L===L,un=Bs(L);if(!Le&&!un&&!Zt&&x>L||Zt&&ve&&Ge&&!Le&&!un||xt&&ve&&Ge||!K&&Ge||!Ft)return 1;if(!xt&&!Zt&&!un&&x<L||un&&K&&Ft&&!xt&&!Zt||Le&&K&&Ft||!ve&&Ft||!Ge)return-1}return 0}function sk(x,L,K){for(var xt=-1,Ft=x.criteria,Zt=L.criteria,ve=Ft.length,Le=K.length;++xt<ve;){var Ge=MC(Ft[xt],Zt[xt]);if(Ge){if(xt>=Le)return Ge;var un=K[xt];return Ge*(un=="desc"?-1:1)}}return x.index-L.index}function SC(x,L,K,xt){for(var Ft=-1,Zt=x.length,ve=K.length,Le=-1,Ge=L.length,un=ga(Zt-ve,0),fn=en(Ge+un),dn=!xt;++Le<Ge;)fn[Le]=L[Le];for(;++Ft<ve;)(dn||Ft<Zt)&&(fn[K[Ft]]=x[Ft]);for(;un--;)fn[Le++]=x[Ft++];return fn}function CC(x,L,K,xt){for(var Ft=-1,Zt=x.length,ve=-1,Le=K.length,Ge=-1,un=L.length,fn=ga(Zt-Le,0),dn=en(fn+un),Nn=!xt;++Ft<fn;)dn[Ft]=x[Ft];for(var Vn=Ft;++Ge<un;)dn[Vn+Ge]=L[Ge];for(;++ve<Le;)(Nn||Ft<Zt)&&(dn[Vn+K[ve]]=x[Ft++]);return dn}function ls(x,L){var K=-1,xt=x.length;for(L||(L=en(xt));++K<xt;)L[K]=x[K];return L}function Ru(x,L,K,xt){var Ft=!K;K||(K={});for(var Zt=-1,ve=L.length;++Zt<ve;){var Le=L[Zt],Ge=xt?xt(K[Le],x[Le],Le,K,x):n;Ge===n&&(Ge=x[Le]),Ft?yt(K,Le,Ge):D(K,Le,Ge)}return K}function lk(x,L){return Ru(x,ww(x),L)}function uk(x,L){return Ru(x,GC(x),L)}function L_(x,L){return function(K,xt){var Ft=xr(K)?dp:tt,Zt=L?L():{};return Ft(K,x,ir(xt,2),Zt)}}function Op(x){return Lr(function(L,K){var xt=-1,Ft=K.length,Zt=Ft>1?K[Ft-1]:n,ve=Ft>2?K[2]:n;for(Zt=x.length>3&&typeof Zt=="function"?(Ft--,Zt):n,ve&&Go(K[0],K[1],ve)&&(Zt=Ft<3?n:Zt,Ft=1),L=di(L);++xt<Ft;){var Le=K[xt];Le&&x(L,Le,xt,Zt)}return L})}function AC(x,L){return function(K,xt){if(K==null)return K;if(!us(K))return x(K,xt);for(var Ft=K.length,Zt=L?Ft:-1,ve=di(K);(L?Zt--:++Zt<Ft)&&xt(ve[Zt],Zt,ve)!==!1;);return K}}function IC(x){return function(L,K,xt){for(var Ft=-1,Zt=di(L),ve=xt(L),Le=ve.length;Le--;){var Ge=ve[x?Le:++Ft];if(K(Zt[Ge],Ge,Zt)===!1)break}return L}}function ck(x,L,K){var xt=L&m,Ft=rm(x);function Zt(){var ve=this&&this!==jr&&this instanceof Zt?Ft:x;return ve.apply(xt?K:this,arguments)}return Zt}function OC(x){return function(L){L=ui(L);var K=vf(L)?Rs(L):n,xt=K?K[0]:L.charAt(0),Ft=K?Af(K,1).join(""):L.slice(1);return xt[x]()+Ft}}function Lp(x){return function(L){return Rh(AA(CA(L).replace(Da,"")),x,"")}}function rm(x){return function(){var L=arguments;switch(L.length){case 0:return new x;case 1:return new x(L[0]);case 2:return new x(L[0],L[1]);case 3:return new x(L[0],L[1],L[2]);case 4:return new x(L[0],L[1],L[2],L[3]);case 5:return new x(L[0],L[1],L[2],L[3],L[4]);case 6:return new x(L[0],L[1],L[2],L[3],L[4],L[5]);case 7:return new x(L[0],L[1],L[2],L[3],L[4],L[5],L[6])}var K=Tc(x.prototype),xt=x.apply(K,L);return Ki(xt)?xt:K}}function fk(x,L,K){var xt=rm(x);function Ft(){for(var Zt=arguments.length,ve=en(Zt),Le=Zt,Ge=Pp(Ft);Le--;)ve[Le]=arguments[Le];var un=Zt<3&&ve[0]!==Ge&&ve[Zt-1]!==Ge?[]:os(ve,Ge);if(Zt-=un.length,Zt<K)return DC(x,L,P_,Ft.placeholder,n,ve,un,n,n,K-Zt);var fn=this&&this!==jr&&this instanceof Ft?xt:x;return Ta(fn,this,ve)}return Ft}function LC(x){return function(L,K,xt){var Ft=di(L);if(!us(L)){var Zt=ir(K,3);L=$a(L),K=function(Le){return Zt(Ft[Le],Le,Ft)}}var ve=x(L,K,xt);return ve>-1?Ft[Zt?L[ve]:ve]:n}}function PC(x){return Sc(function(L){var K=L.length,xt=K,Ft=Fo.prototype.thru;for(x&&L.reverse();xt--;){var Zt=L[xt];if(typeof Zt!="function")throw new ko(s);if(Ft&&!ve&&k_(Zt)=="wrapper")var ve=new Fo([],!0)}for(xt=ve?xt:K;++xt<K;){Zt=L[xt];var Le=k_(Zt),Ge=Le=="wrapper"?xw(Zt):n;Ge&&Ew(Ge[0])&&Ge[1]==(M|_|w|S)&&!Ge[4].length&&Ge[9]==1?ve=ve[k_(Ge[0])].apply(ve,Ge[3]):ve=Zt.length==1&&Ew(Zt)?ve[Le]():ve.thru(Zt)}return function(){var un=arguments,fn=un[0];if(ve&&un.length==1&&xr(fn))return ve.plant(fn).value();for(var dn=0,Nn=K?L[dn].apply(this,un):fn;++dn<K;)Nn=L[dn].call(this,Nn);return Nn}})}function P_(x,L,K,xt,Ft,Zt,ve,Le,Ge,un){var fn=L&M,dn=L&m,Nn=L&v,Vn=L&(_|b),or=L&E,Ar=Nn?n:rm(x);function sr(){for(var kr=arguments.length,Ur=en(kr),Gs=kr;Gs--;)Ur[Gs]=arguments[Gs];if(Vn)var jo=Pp(sr),js=k2(Ur,jo);if(xt&&(Ur=SC(Ur,xt,Ft,Vn)),Zt&&(Ur=CC(Ur,Zt,ve,Vn)),kr-=js,Vn&&kr<un){var va=os(Ur,jo);return DC(x,L,P_,sr.placeholder,K,Ur,va,Le,Ge,un-kr)}var eu=dn?K:this,Oc=Nn?eu[x]:x;return kr=Ur.length,Le?Ur=Lk(Ur,Le):or&&kr>1&&Ur.reverse(),fn&&Ge<kr&&(Ur.length=Ge),this&&this!==jr&&this instanceof sr&&(Oc=Ar||rm(Oc)),Oc.apply(eu,Ur)}return sr}function NC(x,L){return function(K,xt){return Jn(K,x,L(xt),{})}}function N_(x,L){return function(K,xt){var Ft;if(K===n&&xt===n)return L;if(K!==n&&(Ft=K),xt!==n){if(Ft===n)return xt;typeof K=="string"||typeof xt=="string"?(K=zs(K),xt=zs(xt)):(K=yC(K),xt=yC(xt)),Ft=x(K,xt)}return Ft}}function mw(x){return Sc(function(L){return L=Wr(L,Do(ir())),Lr(function(K){var xt=this;return x(L,function(Ft){return Ta(Ft,xt,K)})})})}function R_(x,L){L=L===n?" ":zs(L);var K=L.length;if(K<2)return K?uw(L,x):L;var xt=uw(L,Ep(x/yf(L)));return vf(L)?Af(Rs(xt),0,x).join(""):xt.slice(0,x)}function hk(x,L,K,xt){var Ft=L&m,Zt=rm(x);function ve(){for(var Le=-1,Ge=arguments.length,un=-1,fn=xt.length,dn=en(fn+Ge),Nn=this&&this!==jr&&this instanceof ve?Zt:x;++un<fn;)dn[un]=xt[un];for(;Ge--;)dn[un++]=arguments[++Le];return Ta(Nn,Ft?K:this,dn)}return ve}function RC(x){return function(L,K,xt){return xt&&typeof xt!="number"&&Go(L,K,xt)&&(K=xt=n),L=Ic(L),K===n?(K=L,L=0):K=Ic(K),xt=xt===n?L<K?1:-1:Ic(xt),ZD(L,K,xt,x)}}function D_(x){return function(L,K){return typeof L=="string"&&typeof K=="string"||(L=vl(L),K=vl(K)),x(L,K)}}function DC(x,L,K,xt,Ft,Zt,ve,Le,Ge,un){var fn=L&_,dn=fn?ve:n,Nn=fn?n:ve,Vn=fn?Zt:n,or=fn?n:Zt;L|=fn?w:T,L&=~(fn?T:w),L&y||(L&=~(m|v));var Ar=[x,L,Ft,Vn,dn,or,Nn,Le,Ge,un],sr=K.apply(n,Ar);return Ew(x)&&$C(sr,Ar),sr.placeholder=xt,qC(sr,x,L)}function vw(x){var L=pa[x];return function(K,xt){if(K=vl(K),xt=xt==null?0:Fa(Mr(xt),292),xt&&d_(K)){var Ft=(ui(K)+"e").split("e"),Zt=L(Ft[0]+"e"+(+Ft[1]+xt));return Ft=(ui(Zt)+"e").split("e"),+(Ft[0]+"e"+(+Ft[1]-xt))}return L(K)}}var dk=xc&&1/Au(new xc([,-0]))[1]==I?function(x){return new xc(x)}:Bw;function kC(x){return function(L){var K=xo(L);return K==B?V0(L):K==dt?fl(L):e_(L,x(L))}}function Mc(x,L,K,xt,Ft,Zt,ve,Le){var Ge=L&v;if(!Ge&&typeof x!="function")throw new ko(s);var un=xt?xt.length:0;if(un||(L&=~(w|T),xt=Ft=n),ve=ve===n?ve:ga(Mr(ve),0),Le=Le===n?Le:Mr(Le),un-=Ft?Ft.length:0,L&T){var fn=xt,dn=Ft;xt=Ft=n}var Nn=Ge?n:xw(x),Vn=[x,L,K,xt,Ft,fn,dn,Zt,ve,Le];if(Nn&&Ak(Vn,Nn),x=Vn[0],L=Vn[1],K=Vn[2],xt=Vn[3],Ft=Vn[4],Le=Vn[9]=Vn[9]===n?Ge?0:x.length:ga(Vn[9]-un,0),!Le&&L&(_|b)&&(L&=~(_|b)),!L||L==m)var or=ck(x,L,K);else L==_||L==b?or=fk(x,L,Le):(L==w||L==(m|w))&&!Ft.length?or=hk(x,L,K,xt):or=P_.apply(n,Vn);var Ar=Nn?mC:$C;return qC(Ar(or,Vn),x,L)}function FC(x,L,K,xt){return x===n||tu(x,_f[K])&&!ti.call(xt,K)?L:x}function zC(x,L,K,xt,Ft,Zt){return Ki(x)&&Ki(L)&&(Zt.set(L,x),Fs(x,L,n,zC,Zt),Zt.delete(L)),x}function pk(x){return om(x)?n:x}function BC(x,L,K,xt,Ft,Zt){var ve=K&p,Le=x.length,Ge=L.length;if(Le!=Ge&&!(ve&&Ge>Le))return!1;var un=Zt.get(x),fn=Zt.get(L);if(un&&fn)return un==L&&fn==x;var dn=-1,Nn=!0,Vn=K&g?new Nu:n;for(Zt.set(x,L),Zt.set(L,x);++dn<Le;){var or=x[dn],Ar=L[dn];if(xt)var sr=ve?xt(Ar,or,dn,L,x,Zt):xt(or,Ar,dn,x,L,Zt);if(sr!==n){if(sr)continue;Nn=!1;break}if(Vn){if(!Kl(L,function(kr,Ur){if(!mf(Vn,Ur)&&(or===kr||Ft(or,kr,K,xt,Zt)))return Vn.push(Ur)})){Nn=!1;break}}else if(!(or===Ar||Ft(or,Ar,K,xt,Zt))){Nn=!1;break}}return Zt.delete(x),Zt.delete(L),Nn}function gk(x,L,K,xt,Ft,Zt,ve){switch(K){case wt:if(x.byteLength!=L.byteLength||x.byteOffset!=L.byteOffset)return!1;x=x.buffer,L=L.buffer;case _t:return!(x.byteLength!=L.byteLength||!Zt(new _c(x),new _c(L)));case X:case it:case H:return tu(+x,+L);case pt:return x.name==L.name&&x.message==L.message;case st:case bt:return x==L+"";case B:var Le=V0;case dt:var Ge=xt&p;if(Le||(Le=Au),x.size!=L.size&&!Ge)return!1;var un=ve.get(x);if(un)return un==L;xt|=g,ve.set(x,L);var fn=BC(Le(x),Le(L),xt,Ft,Zt,ve);return ve.delete(x),fn;case Pt:if(wc)return wc.call(x)==wc.call(L)}return!1}function mk(x,L,K,xt,Ft,Zt){var ve=K&p,Le=yw(x),Ge=Le.length,un=yw(L),fn=un.length;if(Ge!=fn&&!ve)return!1;for(var dn=Ge;dn--;){var Nn=Le[dn];if(!(ve?Nn in L:ti.call(L,Nn)))return!1}var Vn=Zt.get(x),or=Zt.get(L);if(Vn&&or)return Vn==L&&or==x;var Ar=!0;Zt.set(x,L),Zt.set(L,x);for(var sr=ve;++dn<Ge;){Nn=Le[dn];var kr=x[Nn],Ur=L[Nn];if(xt)var Gs=ve?xt(Ur,kr,Nn,L,x,Zt):xt(kr,Ur,Nn,x,L,Zt);if(!(Gs===n?kr===Ur||Ft(kr,Ur,K,xt,Zt):Gs)){Ar=!1;break}sr||(sr=Nn=="constructor")}if(Ar&&!sr){var jo=x.constructor,js=L.constructor;jo!=js&&"constructor"in x&&"constructor"in L&&!(typeof jo=="function"&&jo instanceof jo&&typeof js=="function"&&js instanceof js)&&(Ar=!1)}return Zt.delete(x),Zt.delete(L),Ar}function Sc(x){return Sw(YC(x,n,tA),x+"")}function yw(x){return Un(x,$a,ww)}function _w(x){return Un(x,cs,GC)}var xw=bc?function(x){return bc.get(x)}:Bw;function k_(x){for(var L=x.name+"",K=Jl[L],xt=ti.call(Jl,L)?K.length:0;xt--;){var Ft=K[xt],Zt=Ft.func;if(Zt==null||Zt==x)return Ft.name}return L}function Pp(x){var L=ti.call(Wt,"placeholder")?Wt:x;return L.placeholder}function ir(){var x=Wt.iteratee||Fw;return x=x===Fw?aa:x,arguments.length?x(arguments[0],arguments[1]):x}function F_(x,L){var K=x.__data__;return Ek(L)?K[typeof L=="string"?"string":"hash"]:K.map}function bw(x){for(var L=$a(x),K=L.length;K--;){var xt=L[K],Ft=x[xt];L[K]=[xt,Ft,VC(Ft)]}return L}function $h(x,L){var K=B2(x,L);return za(K)?K:n}function vk(x){var L=ti.call(x,Ou),K=x[Ou];try{x[Ou]=n;var xt=!0}catch{}var Ft=xp.call(x);return xt&&(L?x[Ou]=K:delete x[Ou]),Ft}var ww=wf?function(x){return x==null?[]:(x=di(x),as(wf(x),function(L){return W0.call(x,L)}))}:Gw,GC=wf?function(x){for(var L=[];x;)Xl(L,ww(x)),x=bp(x);return L}:Gw,xo=Mn;(Tf&&xo(new Tf(new ArrayBuffer(1)))!=wt||Vh&&xo(new Vh)!=B||K0&&xo(K0.resolve())!=Q||xc&&xo(new xc)!=dt||Ef&&xo(new Ef)!=Dt)&&(xo=function(x){var L=Mn(x),K=L==Z?x.constructor:n,xt=K?qh(K):"";if(xt)switch(xt){case m_:return wt;case v_:return B;case Z0:return Q;case Ds:return dt;case y_:return Dt}return L});function yk(x,L,K){for(var xt=-1,Ft=K.length;++xt<Ft;){var Zt=K[xt],ve=Zt.size;switch(Zt.type){case"drop":x+=ve;break;case"dropRight":L-=ve;break;case"take":L=Fa(L,x+ve);break;case"takeRight":x=ga(x,L-ve);break}}return{start:x,end:L}}function _k(x){var L=x.match(Me);return L?L[1].split(Ee):[]}function jC(x,L,K){L=Cf(L,x);for(var xt=-1,Ft=L.length,Zt=!1;++xt<Ft;){var ve=Du(L[xt]);if(!(Zt=x!=null&&K(x,ve)))break;x=x[ve]}return Zt||++xt!=Ft?Zt:(Ft=x==null?0:x.length,!!Ft&&H_(Ft)&&Cc(ve,Ft)&&(xr(x)||Xh(x)))}function xk(x){var L=x.length,K=new x.constructor(L);return L&&typeof x[0]=="string"&&ti.call(x,"index")&&(K.index=x.index,K.input=x.input),K}function UC(x){return typeof x.constructor=="function"&&!im(x)?Tc(bp(x)):{}}function bk(x,L,K){var xt=x.constructor;switch(L){case _t:return gw(x);case X:case it:return new xt(+x);case wt:return ik(x,K);case Et:case ht:case vt:case Ct:case Mt:case Nt:case Rt:case At:case kt:return EC(x,K);case B:return new xt;case H:case bt:return new xt(x);case st:return ak(x);case dt:return new xt;case Pt:return ok(x)}}function wk(x,L){var K=L.length;if(!K)return x;var xt=K-1;return L[xt]=(K>1?"& ":"")+L[xt],L=L.join(K>2?", ":" "),x.replace(fe,`{
/* [wrapped with `+L+`] */
`)}function Tk(x){return xr(x)||Xh(x)||!!(c_&&x&&x[c_])}function Cc(x,L){var K=typeof x;return L=L??j,!!L&&(K=="number"||K!="symbol"&&Xt.test(x))&&x>-1&&x%1==0&&x<L}function Go(x,L,K){if(!Ki(K))return!1;var xt=typeof L;return(xt=="number"?us(K)&&Cc(L,K.length):xt=="string"&&L in K)?tu(K[L],x):!1}function Tw(x,L){if(xr(x))return!1;var K=typeof x;return K=="number"||K=="symbol"||K=="boolean"||x==null||Bs(x)?!0:re.test(x)||!be.test(x)||L!=null&&x in di(L)}function Ek(x){var L=typeof x;return L=="string"||L=="number"||L=="symbol"||L=="boolean"?x!=="__proto__":x===null}function Ew(x){var L=k_(x),K=Wt[L];if(typeof K!="function"||!(L in Or.prototype))return!1;if(x===K)return!0;var xt=xw(K);return!!xt&&x===xt[0]}function Mk(x){return!!_p&&_p in x}var Sk=zh?Ac:jw;function im(x){var L=x&&x.constructor,K=typeof L=="function"&&L.prototype||_f;return x===K}function VC(x){return x===x&&!Ki(x)}function HC(x,L){return function(K){return K==null?!1:K[x]===L&&(L!==n||x in di(K))}}function Ck(x){var L=U_(x,function(xt){return K.size===c&&K.clear(),xt}),K=L.cache;return L}function Ak(x,L){var K=x[1],xt=L[1],Ft=K|xt,Zt=Ft<(m|v|M),ve=xt==M&&K==_||xt==M&&K==S&&x[7].length<=L[8]||xt==(M|S)&&L[7].length<=L[8]&&K==_;if(!(Zt||ve))return x;xt&m&&(x[2]=L[2],Ft|=K&m?0:y);var Le=L[3];if(Le){var Ge=x[3];x[3]=Ge?SC(Ge,Le,L[4]):Le,x[4]=Ge?os(x[3],u):L[4]}return Le=L[5],Le&&(Ge=x[5],x[5]=Ge?CC(Ge,Le,L[6]):Le,x[6]=Ge?os(x[5],u):L[6]),Le=L[7],Le&&(x[7]=Le),xt&M&&(x[8]=x[8]==null?L[8]:Fa(x[8],L[8])),x[9]==null&&(x[9]=L[9]),x[0]=L[0],x[1]=Ft,x}function Ik(x){var L=[];if(x!=null)for(var K in di(x))L.push(K);return L}function Ok(x){return xp.call(x)}function YC(x,L,K){return L=ga(L===n?x.length-1:L,0),function(){for(var xt=arguments,Ft=-1,Zt=ga(xt.length-L,0),ve=en(Zt);++Ft<Zt;)ve[Ft]=xt[L+Ft];Ft=-1;for(var Le=en(L+1);++Ft<L;)Le[Ft]=xt[Ft];return Le[L]=K(ve),Ta(x,this,Le)}}function WC(x,L){return L.length<2?x:Ln(x,gl(L,0,-1))}function Lk(x,L){for(var K=x.length,xt=Fa(L.length,K),Ft=ls(x);xt--;){var Zt=L[xt];x[xt]=Cc(Zt,K)?Ft[Zt]:n}return x}function Mw(x,L){if(!(L==="constructor"&&typeof x[L]=="function")&&L!="__proto__")return x[L]}var $C=XC(mC),am=f_||function(x,L){return jr.setTimeout(x,L)},Sw=XC(tk);function qC(x,L,K){var xt=L+"";return Sw(x,wk(xt,Pk(_k(xt),K)))}function XC(x){var L=0,K=0;return function(){var xt=p_(),Ft=F-(xt-K);if(K=xt,Ft>0){if(++L>=N)return arguments[0]}else L=0;return x.apply(n,arguments)}}function z_(x,L){var K=-1,xt=x.length,Ft=xt-1;for(L=L===n?xt:L;++K<L;){var Zt=lw(K,Ft),ve=x[Zt];x[Zt]=x[K],x[K]=ve}return x.length=L,x}var KC=Ck(function(x){var L=[];return x.charCodeAt(0)===46&&L.push(""),x.replace(jt,function(K,xt,Ft,Zt){L.push(Ft?Zt.replace($e,"$1"):xt||K)}),L});function Du(x){if(typeof x=="string"||Bs(x))return x;var L=x+"";return L=="0"&&1/x==-I?"-0":L}function qh(x){if(x!=null){try{return Bh.call(x)}catch{}try{return x+""}catch{}}return""}function Pk(x,L){return da(nt,function(K){var xt="_."+K[0];L&K[1]&&!gf(x,xt)&&x.push(xt)}),x.sort()}function ZC(x){if(x instanceof Or)return x.clone();var L=new Fo(x.__wrapped__,x.__chain__);return L.__actions__=ls(x.__actions__),L.__index__=x.__index__,L.__values__=x.__values__,L}function Nk(x,L,K){(K?Go(x,L,K):L===n)?L=1:L=ga(Mr(L),0);var xt=x==null?0:x.length;if(!xt||L<1)return[];for(var Ft=0,Zt=0,ve=en(Ep(xt/L));Ft<xt;)ve[Zt++]=gl(x,Ft,Ft+=L);return ve}function Rk(x){for(var L=-1,K=x==null?0:x.length,xt=0,Ft=[];++L<K;){var Zt=x[L];Zt&&(Ft[xt++]=Zt)}return Ft}function Dk(){var x=arguments.length;if(!x)return[];for(var L=en(x-1),K=arguments[0],xt=x;xt--;)L[xt-1]=arguments[xt];return Xl(xr(K)?ls(K):[K],ce(L,1))}var kk=Lr(function(x,L){return ma(x)?me(x,ce(L,1,ma,!0)):[]}),Fk=Lr(function(x,L){var K=ml(L);return ma(K)&&(K=n),ma(x)?me(x,ce(L,1,ma,!0),ir(K,2)):[]}),zk=Lr(function(x,L){var K=ml(L);return ma(K)&&(K=n),ma(x)?me(x,ce(L,1,ma,!0),n,K):[]});function Bk(x,L,K){var xt=x==null?0:x.length;return xt?(L=K||L===n?1:Mr(L),gl(x,L<0?0:L,xt)):[]}function Gk(x,L,K){var xt=x==null?0:x.length;return xt?(L=K||L===n?1:Mr(L),L=xt-L,gl(x,0,L<0?0:L)):[]}function jk(x,L){return x&&x.length?O_(x,ir(L,3),!0,!0):[]}function Uk(x,L){return x&&x.length?O_(x,ir(L,3),!0):[]}function Vk(x,L,K,xt){var Ft=x==null?0:x.length;return Ft?(K&&typeof K!="number"&&Go(x,L,K)&&(K=0,xt=Ft),Re(x,L,K,xt)):[]}function JC(x,L,K){var xt=x==null?0:x.length;if(!xt)return-1;var Ft=K==null?0:Mr(K);return Ft<0&&(Ft=ga(xt+Ft,0)),Dh(x,ir(L,3),Ft)}function QC(x,L,K){var xt=x==null?0:x.length;if(!xt)return-1;var Ft=xt-1;return K!==n&&(Ft=Mr(K),Ft=K<0?ga(xt+Ft,0):Fa(Ft,xt-1)),Dh(x,ir(L,3),Ft,!0)}function tA(x){var L=x==null?0:x.length;return L?ce(x,1):[]}function Hk(x){var L=x==null?0:x.length;return L?ce(x,I):[]}function Yk(x,L){var K=x==null?0:x.length;return K?(L=L===n?1:Mr(L),ce(x,L)):[]}function Wk(x){for(var L=-1,K=x==null?0:x.length,xt={};++L<K;){var Ft=x[L];xt[Ft[0]]=Ft[1]}return xt}function eA(x){return x&&x.length?x[0]:n}function $k(x,L,K){var xt=x==null?0:x.length;if(!xt)return-1;var Ft=K==null?0:Mr(K);return Ft<0&&(Ft=ga(xt+Ft,0)),yc(x,L,Ft)}function qk(x){var L=x==null?0:x.length;return L?gl(x,0,-1):[]}var Xk=Lr(function(x){var L=Wr(x,dw);return L.length&&L[0]===x[0]?In(L):[]}),Kk=Lr(function(x){var L=ml(x),K=Wr(x,dw);return L===ml(K)?L=n:K.pop(),K.length&&K[0]===x[0]?In(K,ir(L,2)):[]}),Zk=Lr(function(x){var L=ml(x),K=Wr(x,dw);return L=typeof L=="function"?L:n,L&&K.pop(),K.length&&K[0]===x[0]?In(K,n,L):[]});function Jk(x,L){return x==null?"":K2.call(x,L)}function ml(x){var L=x==null?0:x.length;return L?x[L-1]:n}function Qk(x,L,K){var xt=x==null?0:x.length;if(!xt)return-1;var Ft=xt;return K!==n&&(Ft=Mr(K),Ft=Ft<0?ga(xt+Ft,0):Fa(Ft,xt-1)),L===L?U2(x,L,Ft):Dh(x,Jy,Ft,!0)}function t9(x,L){return x&&x.length?em(x,Mr(L)):n}var e9=Lr(nA);function nA(x,L){return x&&x.length&&L&&L.length?sw(x,L):x}function n9(x,L,K){return x&&x.length&&L&&L.length?sw(x,L,ir(K,2)):x}function r9(x,L,K){return x&&x.length&&L&&L.length?sw(x,L,n,K):x}var i9=Sc(function(x,L){var K=x==null?0:x.length,xt=Tt(x,L);return gC(x,Wr(L,function(Ft){return Cc(Ft,K)?+Ft:Ft}).sort(MC)),xt});function a9(x,L){var K=[];if(!(x&&x.length))return K;var xt=-1,Ft=[],Zt=x.length;for(L=ir(L,3);++xt<Zt;){var ve=x[xt];L(ve,xt,x)&&(K.push(ve),Ft.push(xt))}return gC(x,Ft),K}function Cw(x){return x==null?x:J2.call(x)}function o9(x,L,K){var xt=x==null?0:x.length;return xt?(K&&typeof K!="number"&&Go(x,L,K)?(L=0,K=xt):(L=L==null?0:Mr(L),K=K===n?xt:Mr(K)),gl(x,L,K)):[]}function s9(x,L){return I_(x,L)}function l9(x,L,K){return cw(x,L,ir(K,2))}function u9(x,L){var K=x==null?0:x.length;if(K){var xt=I_(x,L);if(xt<K&&tu(x[xt],L))return xt}return-1}function c9(x,L){return I_(x,L,!0)}function f9(x,L,K){return cw(x,L,ir(K,2),!0)}function h9(x,L){var K=x==null?0:x.length;if(K){var xt=I_(x,L,!0)-1;if(tu(x[xt],L))return xt}return-1}function d9(x){return x&&x.length?vC(x):[]}function p9(x,L){return x&&x.length?vC(x,ir(L,2)):[]}function g9(x){var L=x==null?0:x.length;return L?gl(x,1,L):[]}function m9(x,L,K){return x&&x.length?(L=K||L===n?1:Mr(L),gl(x,0,L<0?0:L)):[]}function v9(x,L,K){var xt=x==null?0:x.length;return xt?(L=K||L===n?1:Mr(L),L=xt-L,gl(x,L<0?0:L,xt)):[]}function y9(x,L){return x&&x.length?O_(x,ir(L,3),!1,!0):[]}function _9(x,L){return x&&x.length?O_(x,ir(L,3)):[]}var x9=Lr(function(x){return Sf(ce(x,1,ma,!0))}),b9=Lr(function(x){var L=ml(x);return ma(L)&&(L=n),Sf(ce(x,1,ma,!0),ir(L,2))}),w9=Lr(function(x){var L=ml(x);return L=typeof L=="function"?L:n,Sf(ce(x,1,ma,!0),n,L)});function T9(x){return x&&x.length?Sf(x):[]}function E9(x,L){return x&&x.length?Sf(x,ir(L,2)):[]}function M9(x,L){return L=typeof L=="function"?L:n,x&&x.length?Sf(x,n,L):[]}function Aw(x){if(!(x&&x.length))return[];var L=0;return x=as(x,function(K){if(ma(K))return L=ga(K.length,L),!0}),yp(L,function(K){return Wr(x,G0(K))})}function rA(x,L){if(!(x&&x.length))return[];var K=Aw(x);return L==null?K:Wr(K,function(xt){return Ta(L,n,xt)})}var S9=Lr(function(x,L){return ma(x)?me(x,L):[]}),C9=Lr(function(x){return hw(as(x,ma))}),A9=Lr(function(x){var L=ml(x);return ma(L)&&(L=n),hw(as(x,ma),ir(L,2))}),I9=Lr(function(x){var L=ml(x);return L=typeof L=="function"?L:n,hw(as(x,ma),n,L)}),O9=Lr(Aw);function L9(x,L){return bC(x||[],L||[],D)}function P9(x,L){return bC(x||[],L||[],nm)}var N9=Lr(function(x){var L=x.length,K=L>1?x[L-1]:n;return K=typeof K=="function"?(x.pop(),K):n,rA(x,K)});function iA(x){var L=Wt(x);return L.__chain__=!0,L}function R9(x,L){return L(x),x}function B_(x,L){return L(x)}var D9=Sc(function(x){var L=x.length,K=L?x[0]:0,xt=this.__wrapped__,Ft=function(Zt){return Tt(Zt,x)};return L>1||this.__actions__.length||!(xt instanceof Or)||!Cc(K)?this.thru(Ft):(xt=xt.slice(K,+K+(L?1:0)),xt.__actions__.push({func:B_,args:[Ft],thisArg:n}),new Fo(xt,this.__chain__).thru(function(Zt){return L&&!Zt.length&&Zt.push(n),Zt}))});function k9(){return iA(this)}function F9(){return new Fo(this.value(),this.__chain__)}function z9(){this.__values__===n&&(this.__values__=yA(this.value()));var x=this.__index__>=this.__values__.length,L=x?n:this.__values__[this.__index__++];return{done:x,value:L}}function B9(){return this}function G9(x){for(var L,K=this;K instanceof lo;){var xt=ZC(K);xt.__index__=0,xt.__values__=n,L?Ft.__wrapped__=xt:L=xt;var Ft=xt;K=K.__wrapped__}return Ft.__wrapped__=x,L}function j9(){var x=this.__wrapped__;if(x instanceof Or){var L=x;return this.__actions__.length&&(L=new Or(this)),L=L.reverse(),L.__actions__.push({func:B_,args:[Cw],thisArg:n}),new Fo(L,this.__chain__)}return this.thru(Cw)}function U9(){return xC(this.__wrapped__,this.__actions__)}var V9=L_(function(x,L,K){ti.call(x,K)?++x[K]:yt(x,K,1)});function H9(x,L,K){var xt=xr(x)?Xy:_e;return K&&Go(x,L,K)&&(L=n),xt(x,ir(L,3))}function Y9(x,L){var K=xr(x)?as:we;return K(x,ir(L,3))}var W9=LC(JC),$9=LC(QC);function q9(x,L){return ce(G_(x,L),1)}function X9(x,L){return ce(G_(x,L),I)}function K9(x,L,K){return K=K===n?1:Mr(K),ce(G_(x,L),K)}function aA(x,L){var K=xr(x)?da:Ie;return K(x,ir(L,3))}function oA(x,L){var K=xr(x)?pp:de;return K(x,ir(L,3))}var Z9=L_(function(x,L,K){ti.call(x,K)?x[K].push(L):yt(x,K,[L])});function J9(x,L,K,xt){x=us(x)?x:Rp(x),K=K&&!xt?Mr(K):0;var Ft=x.length;return K<0&&(K=ga(Ft+K,0)),Y_(x)?K<=Ft&&x.indexOf(L,K)>-1:!!Ft&&yc(x,L,K)>-1}var Q9=Lr(function(x,L,K){var xt=-1,Ft=typeof L=="function",Zt=us(x)?en(x.length):[];return Ie(x,function(ve){Zt[++xt]=Ft?Ta(L,ve,K):Xn(ve,L,K)}),Zt}),tF=L_(function(x,L,K){yt(x,K,L)});function G_(x,L){var K=xr(x)?Wr:co;return K(x,ir(L,3))}function eF(x,L,K,xt){return x==null?[]:(xr(L)||(L=L==null?[]:[L]),K=xt?n:K,xr(K)||(K=K==null?[]:[K]),dC(x,L,K))}var nF=L_(function(x,L,K){x[K?0:1].push(L)},function(){return[[],[]]});function rF(x,L,K){var xt=xr(x)?Rh:t_,Ft=arguments.length<3;return xt(x,ir(L,4),K,Ft,Ie)}function iF(x,L,K){var xt=xr(x)?B0:t_,Ft=arguments.length<3;return xt(x,ir(L,4),K,Ft,de)}function aF(x,L){var K=xr(x)?as:we;return K(x,V_(ir(L,3)))}function oF(x){var L=xr(x)?Ap:JD;return L(x)}function sF(x,L,K){(K?Go(x,L,K):L===n)?L=1:L=Mr(L);var xt=xr(x)?aw:QD;return xt(x,L)}function lF(x){var L=xr(x)?ow:ek;return L(x)}function uF(x){if(x==null)return 0;if(us(x))return Y_(x)?yf(x):x.length;var L=xo(x);return L==B||L==dt?x.size:Oi(x).length}function cF(x,L,K){var xt=xr(x)?Kl:nk;return K&&Go(x,L,K)&&(L=n),xt(x,ir(L,3))}var fF=Lr(function(x,L){if(x==null)return[];var K=L.length;return K>1&&Go(x,L[0],L[1])?L=[]:K>2&&Go(L[0],L[1],L[2])&&(L=[L[0]]),dC(x,ce(L,1),[])}),j_=q0||function(){return jr.Date.now()};function hF(x,L){if(typeof L!="function")throw new ko(s);return x=Mr(x),function(){if(--x<1)return L.apply(this,arguments)}}function sA(x,L,K){return L=K?n:L,L=x&&L==null?x.length:L,Mc(x,M,n,n,n,n,L)}function lA(x,L){var K;if(typeof L!="function")throw new ko(s);return x=Mr(x),function(){return--x>0&&(K=L.apply(this,arguments)),x<=1&&(L=n),K}}var Iw=Lr(function(x,L,K){var xt=m;if(K.length){var Ft=os(K,Pp(Iw));xt|=w}return Mc(x,xt,L,K,Ft)}),uA=Lr(function(x,L,K){var xt=m|v;if(K.length){var Ft=os(K,Pp(uA));xt|=w}return Mc(L,xt,x,K,Ft)});function cA(x,L,K){L=K?n:L;var xt=Mc(x,_,n,n,n,n,n,L);return xt.placeholder=cA.placeholder,xt}function fA(x,L,K){L=K?n:L;var xt=Mc(x,b,n,n,n,n,n,L);return xt.placeholder=fA.placeholder,xt}function hA(x,L,K){var xt,Ft,Zt,ve,Le,Ge,un=0,fn=!1,dn=!1,Nn=!0;if(typeof x!="function")throw new ko(s);L=vl(L)||0,Ki(K)&&(fn=!!K.leading,dn="maxWait"in K,Zt=dn?ga(vl(K.maxWait)||0,L):Zt,Nn="trailing"in K?!!K.trailing:Nn);function Vn(va){var eu=xt,Oc=Ft;return xt=Ft=n,un=va,ve=x.apply(Oc,eu),ve}function or(va){return un=va,Le=am(kr,L),fn?Vn(va):ve}function Ar(va){var eu=va-Ge,Oc=va-un,LA=L-eu;return dn?Fa(LA,Zt-Oc):LA}function sr(va){var eu=va-Ge,Oc=va-un;return Ge===n||eu>=L||eu<0||dn&&Oc>=Zt}function kr(){var va=j_();if(sr(va))return Ur(va);Le=am(kr,Ar(va))}function Ur(va){return Le=n,Nn&&xt?Vn(va):(xt=Ft=n,ve)}function Gs(){Le!==n&&wC(Le),un=0,xt=Ge=Ft=Le=n}function jo(){return Le===n?ve:Ur(j_())}function js(){var va=j_(),eu=sr(va);if(xt=arguments,Ft=this,Ge=va,eu){if(Le===n)return or(Ge);if(dn)return wC(Le),Le=am(kr,L),Vn(Ge)}return Le===n&&(Le=am(kr,L)),ve}return js.cancel=Gs,js.flush=jo,js}var dF=Lr(function(x,L){return ie(x,1,L)}),pF=Lr(function(x,L,K){return ie(x,vl(L)||0,K)});function gF(x){return Mc(x,E)}function U_(x,L){if(typeof x!="function"||L!=null&&typeof L!="function")throw new ko(s);var K=function(){var xt=arguments,Ft=L?L.apply(this,xt):xt[0],Zt=K.cache;if(Zt.has(Ft))return Zt.get(Ft);var ve=x.apply(this,xt);return K.cache=Zt.set(Ft,ve)||Zt,ve};return K.cache=new(U_.Cache||ss),K}U_.Cache=ss;function V_(x){if(typeof x!="function")throw new ko(s);return function(){var L=arguments;switch(L.length){case 0:return!x.call(this);case 1:return!x.call(this,L[0]);case 2:return!x.call(this,L[0],L[1]);case 3:return!x.call(this,L[0],L[1],L[2])}return!x.apply(this,L)}}function mF(x){return lA(2,x)}var vF=rk(function(x,L){L=L.length==1&&xr(L[0])?Wr(L[0],Do(ir())):Wr(ce(L,1),Do(ir()));var K=L.length;return Lr(function(xt){for(var Ft=-1,Zt=Fa(xt.length,K);++Ft<Zt;)xt[Ft]=L[Ft].call(this,xt[Ft]);return Ta(x,this,xt)})}),Ow=Lr(function(x,L){var K=os(L,Pp(Ow));return Mc(x,w,n,L,K)}),dA=Lr(function(x,L){var K=os(L,Pp(dA));return Mc(x,T,n,L,K)}),yF=Sc(function(x,L){return Mc(x,S,n,n,n,L)});function _F(x,L){if(typeof x!="function")throw new ko(s);return L=L===n?L:Mr(L),Lr(x,L)}function xF(x,L){if(typeof x!="function")throw new ko(s);return L=L==null?0:ga(Mr(L),0),Lr(function(K){var xt=K[L],Ft=Af(K,0,L);return xt&&Xl(Ft,xt),Ta(x,this,Ft)})}function bF(x,L,K){var xt=!0,Ft=!0;if(typeof x!="function")throw new ko(s);return Ki(K)&&(xt="leading"in K?!!K.leading:xt,Ft="trailing"in K?!!K.trailing:Ft),hA(x,L,{leading:xt,maxWait:L,trailing:Ft})}function wF(x){return sA(x,1)}function TF(x,L){return Ow(pw(L),x)}function EF(){if(!arguments.length)return[];var x=arguments[0];return xr(x)?x:[x]}function MF(x){return Ot(x,d)}function SF(x,L){return L=typeof L=="function"?L:n,Ot(x,d,L)}function CF(x){return Ot(x,f|d)}function AF(x,L){return L=typeof L=="function"?L:n,Ot(x,f|d,L)}function IF(x,L){return L==null||Kt(x,L,$a(L))}function tu(x,L){return x===L||x!==x&&L!==L}var OF=D_(ar),LF=D_(function(x,L){return x>=L}),Xh=Er(function(){return arguments}())?Er:function(x){return oa(x)&&ti.call(x,"callee")&&!W0.call(x,"callee")},xr=en.isArray,PF=ql?Do(ql):ri;function us(x){return x!=null&&H_(x.length)&&!Ac(x)}function ma(x){return oa(x)&&us(x)}function NF(x){return x===!0||x===!1||oa(x)&&Mn(x)==X}var If=h_||jw,RF=Su?Do(Su):Ui;function DF(x){return oa(x)&&x.nodeType===1&&!om(x)}function kF(x){if(x==null)return!0;if(us(x)&&(xr(x)||typeof x=="string"||typeof x.splice=="function"||If(x)||Np(x)||Xh(x)))return!x.length;var L=xo(x);if(L==B||L==dt)return!x.size;if(im(x))return!Oi(x).length;for(var K in x)if(ti.call(x,K))return!1;return!0}function FF(x,L){return li(x,L)}function zF(x,L,K){K=typeof K=="function"?K:n;var xt=K?K(x,L):n;return xt===n?li(x,L,n,K):!!xt}function Lw(x){if(!oa(x))return!1;var L=Mn(x);return L==pt||L==lt||typeof x.message=="string"&&typeof x.name=="string"&&!om(x)}function BF(x){return typeof x=="number"&&d_(x)}function Ac(x){if(!Ki(x))return!1;var L=Mn(x);return L==rt||L==V||L==W||L==ot}function pA(x){return typeof x=="number"&&x==Mr(x)}function H_(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=j}function Ki(x){var L=typeof x;return x!=null&&(L=="object"||L=="function")}function oa(x){return x!=null&&typeof x=="object"}var gA=Ns?Do(Ns):Vi;function GF(x,L){return x===L||Hi(x,L,bw(L))}function jF(x,L,K){return K=typeof K=="function"?K:n,Hi(x,L,bw(L),K)}function UF(x){return mA(x)&&x!=+x}function VF(x){if(Sk(x))throw new mr(a);return za(x)}function HF(x){return x===null}function YF(x){return x==null}function mA(x){return typeof x=="number"||oa(x)&&Mn(x)==H}function om(x){if(!oa(x)||Mn(x)!=Z)return!1;var L=bp(x);if(L===null)return!0;var K=ti.call(L,"constructor")&&L.constructor;return typeof K=="function"&&K instanceof K&&Bh.call(K)==X2}var Pw=rs?Do(rs):ks;function WF(x){return pA(x)&&x>=-j&&x<=j}var vA=is?Do(is):hl;function Y_(x){return typeof x=="string"||!xr(x)&&oa(x)&&Mn(x)==bt}function Bs(x){return typeof x=="symbol"||oa(x)&&Mn(x)==Pt}var Np=vc?Do(vc):dl;function $F(x){return x===n}function qF(x){return oa(x)&&xo(x)==Dt}function XF(x){return oa(x)&&Mn(x)==gt}var KF=D_(Ba),ZF=D_(function(x,L){return x<=L});function yA(x){if(!x)return[];if(us(x))return Y_(x)?Rs(x):ls(x);if(bf&&x[bf])return G2(x[bf]());var L=xo(x),K=L==B?V0:L==dt?Au:Rp;return K(x)}function Ic(x){if(!x)return x===0?x:0;if(x=vl(x),x===I||x===-I){var L=x<0?-1:1;return L*G}return x===x?x:0}function Mr(x){var L=Ic(x),K=L%1;return L===L?K?L-K:L:0}function _A(x){return x?St(Mr(x),0,et):0}function vl(x){if(typeof x=="number")return x;if(Bs(x))return q;if(Ki(x)){var L=typeof x.valueOf=="function"?x.valueOf():x;x=Ki(L)?L+"":L}if(typeof x!="string")return x===0?x:+x;x=U0(x);var K=Ht.test(x);return K||ee.test(x)?Ii(x.slice(2),K?2:8):mt.test(x)?q:+x}function xA(x){return Ru(x,cs(x))}function JF(x){return x?St(Mr(x),-j,j):x===0?x:0}function ui(x){return x==null?"":zs(x)}var QF=Op(function(x,L){if(im(L)||us(L)){Ru(L,$a(L),x);return}for(var K in L)ti.call(L,K)&&D(x,K,L[K])}),bA=Op(function(x,L){Ru(L,cs(L),x)}),W_=Op(function(x,L,K,xt){Ru(L,cs(L),x,xt)}),tz=Op(function(x,L,K,xt){Ru(L,$a(L),x,xt)}),ez=Sc(Tt);function nz(x,L){var K=Tc(x);return L==null?K:at(K,L)}var rz=Lr(function(x,L){x=di(x);var K=-1,xt=L.length,Ft=xt>2?L[2]:n;for(Ft&&Go(L[0],L[1],Ft)&&(xt=1);++K<xt;)for(var Zt=L[K],ve=cs(Zt),Le=-1,Ge=ve.length;++Le<Ge;){var un=ve[Le],fn=x[un];(fn===n||tu(fn,_f[un])&&!ti.call(x,un))&&(x[un]=Zt[un])}return x}),iz=Lr(function(x){return x.push(n,zC),Ta(wA,n,x)});function az(x,L){return Zy(x,ir(L,3),ln)}function oz(x,L){return Zy(x,ir(L,3),hn)}function sz(x,L){return x==null?x:Ke(x,ir(L,3),cs)}function lz(x,L){return x==null?x:Je(x,ir(L,3),cs)}function uz(x,L){return x&&ln(x,ir(L,3))}function cz(x,L){return x&&hn(x,ir(L,3))}function fz(x){return x==null?[]:On(x,$a(x))}function hz(x){return x==null?[]:On(x,cs(x))}function Nw(x,L,K){var xt=x==null?n:Ln(x,L);return xt===n?K:xt}function dz(x,L){return x!=null&&jC(x,L,Rr)}function Rw(x,L){return x!=null&&jC(x,L,pi)}var pz=NC(function(x,L,K){L!=null&&typeof L.toString!="function"&&(L=xp.call(L)),x[L]=K},kw(fs)),gz=NC(function(x,L,K){L!=null&&typeof L.toString!="function"&&(L=xp.call(L)),ti.call(x,L)?x[L].push(K):x[L]=[K]},ir),mz=Lr(Xn);function $a(x){return us(x)?A_(x):Oi(x)}function cs(x){return us(x)?A_(x,!0):uo(x)}function vz(x,L){var K={};return L=ir(L,3),ln(x,function(xt,Ft,Zt){yt(K,L(xt,Ft,Zt),xt)}),K}function yz(x,L){var K={};return L=ir(L,3),ln(x,function(xt,Ft,Zt){yt(K,Ft,L(xt,Ft,Zt))}),K}var _z=Op(function(x,L,K){Fs(x,L,K)}),wA=Op(function(x,L,K,xt){Fs(x,L,K,xt)}),xz=Sc(function(x,L){var K={};if(x==null)return K;var xt=!1;L=Wr(L,function(Zt){return Zt=Cf(Zt,x),xt||(xt=Zt.length>1),Zt}),Ru(x,_w(x),K),xt&&(K=Ot(K,f|h|d,pk));for(var Ft=L.length;Ft--;)fw(K,L[Ft]);return K});function bz(x,L){return TA(x,V_(ir(L)))}var wz=Sc(function(x,L){return x==null?{}:XD(x,L)});function TA(x,L){if(x==null)return{};var K=Wr(_w(x),function(xt){return[xt]});return L=ir(L),pC(x,K,function(xt,Ft){return L(xt,Ft[0])})}function Tz(x,L,K){L=Cf(L,x);var xt=-1,Ft=L.length;for(Ft||(Ft=1,x=n);++xt<Ft;){var Zt=x==null?n:x[Du(L[xt])];Zt===n&&(xt=Ft,Zt=K),x=Ac(Zt)?Zt.call(x):Zt}return x}function Ez(x,L,K){return x==null?x:nm(x,L,K)}function Mz(x,L,K,xt){return xt=typeof xt=="function"?xt:n,x==null?x:nm(x,L,K,xt)}var EA=kC($a),MA=kC(cs);function Sz(x,L,K){var xt=xr(x),Ft=xt||If(x)||Np(x);if(L=ir(L,4),K==null){var Zt=x&&x.constructor;Ft?K=xt?new Zt:[]:Ki(x)?K=Ac(Zt)?Tc(bp(x)):{}:K={}}return(Ft?da:ln)(x,function(ve,Le,Ge){return L(K,ve,Le,Ge)}),K}function Cz(x,L){return x==null?!0:fw(x,L)}function Az(x,L,K){return x==null?x:_C(x,L,pw(K))}function Iz(x,L,K,xt){return xt=typeof xt=="function"?xt:n,x==null?x:_C(x,L,pw(K),xt)}function Rp(x){return x==null?[]:Cu(x,$a(x))}function Oz(x){return x==null?[]:Cu(x,cs(x))}function Lz(x,L,K){return K===n&&(K=L,L=n),K!==n&&(K=vl(K),K=K===K?K:0),L!==n&&(L=vl(L),L=L===L?L:0),St(vl(x),L,K)}function Pz(x,L,K){return L=Ic(L),K===n?(K=L,L=0):K=Ic(K),x=vl(x),mn(x,L,K)}function Nz(x,L,K){if(K&&typeof K!="boolean"&&Go(x,L,K)&&(L=K=n),K===n&&(typeof L=="boolean"?(K=L,L=n):typeof x=="boolean"&&(K=x,x=n)),x===n&&L===n?(x=0,L=1):(x=Ic(x),L===n?(L=x,x=0):L=Ic(L)),x>L){var xt=x;x=L,L=xt}if(K||x%1||L%1){var Ft=X0();return Fa(x+Ft*(L-x+Ai("1e-"+((Ft+"").length-1))),L)}return lw(x,L)}var Rz=Lp(function(x,L,K){return L=L.toLowerCase(),x+(K?SA(L):L)});function SA(x){return Dw(ui(x).toLowerCase())}function CA(x){return x=ui(x),x&&x.replace(Qt,i_).replace(Ri,"")}function Dz(x,L,K){x=ui(x),L=zs(L);var xt=x.length;K=K===n?xt:St(Mr(K),0,xt);var Ft=K;return K-=L.length,K>=0&&x.slice(K,Ft)==L}function kz(x){return x=ui(x),x&&te.test(x)?x.replace(Ut,F2):x}function Fz(x){return x=ui(x),x&&Jt.test(x)?x.replace($t,"\\$&"):x}var zz=Lp(function(x,L,K){return x+(K?"-":"")+L.toLowerCase()}),Bz=Lp(function(x,L,K){return x+(K?" ":"")+L.toLowerCase()}),Gz=OC("toLowerCase");function jz(x,L,K){x=ui(x),L=Mr(L);var xt=L?yf(x):0;if(!L||xt>=L)return x;var Ft=(L-xt)/2;return R_(Uh(Ft),K)+x+R_(Ep(Ft),K)}function Uz(x,L,K){x=ui(x),L=Mr(L);var xt=L?yf(x):0;return L&&xt<L?x+R_(L-xt,K):x}function Vz(x,L,K){x=ui(x),L=Mr(L);var xt=L?yf(x):0;return L&&xt<L?R_(L-xt,K)+x:x}function Hz(x,L,K){return K||L==null?L=0:L&&(L=+L),g_(ui(x).replace(qt,""),L||0)}function Yz(x,L,K){return(K?Go(x,L,K):L===n)?L=1:L=Mr(L),uw(ui(x),L)}function Wz(){var x=arguments,L=ui(x[0]);return x.length<3?L:L.replace(x[1],x[2])}var $z=Lp(function(x,L,K){return x+(K?"_":"")+L.toLowerCase()});function qz(x,L,K){return K&&typeof K!="number"&&Go(x,L,K)&&(L=K=n),K=K===n?et:K>>>0,K?(x=ui(x),x&&(typeof L=="string"||L!=null&&!Pw(L))&&(L=zs(L),!L&&vf(x))?Af(Rs(x),0,K):x.split(L,K)):[]}var Xz=Lp(function(x,L,K){return x+(K?" ":"")+Dw(L)});function Kz(x,L,K){return x=ui(x),K=K==null?0:St(Mr(K),0,x.length),L=zs(L),x.slice(K,K+L.length)==L}function Zz(x,L,K){var xt=Wt.templateSettings;K&&Go(x,L,K)&&(L=n),x=ui(x),L=W_({},L,xt,FC);var Ft=W_({},L.imports,xt.imports,FC),Zt=$a(Ft),ve=Cu(Ft,Zt),Le,Ge,un=0,fn=L.interpolate||se,dn="__p += '",Nn=kh((L.escape||se).source+"|"+fn.source+"|"+(fn===pe?Oe:se).source+"|"+(L.evaluate||se).source+"|$","g"),Vn="//# sourceURL="+(ti.call(L,"sourceURL")?(L.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++gr+"]")+`
`;x.replace(Nn,function(sr,kr,Ur,Gs,jo,js){return Ur||(Ur=Gs),dn+=x.slice(un,js).replace(he,z2),kr&&(Le=!0,dn+=`' +
__e(`+kr+`) +
'`),jo&&(Ge=!0,dn+=`';
`+jo+`;
__p += '`),Ur&&(dn+=`' +
((__t = (`+Ur+`)) == null ? '' : __t) +
'`),un=js+sr.length,sr}),dn+=`';
`;var or=ti.call(L,"variable")&&L.variable;if(!or)dn=`with (obj) {
`+dn+`
}
`;else if(Ae.test(or))throw new mr(o);dn=(Ge?dn.replace(Bt,""):dn).replace(Lt,"$1").replace(zt,"$1;"),dn="function("+(or||"obj")+`) {
`+(or?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Le?", __e = _.escape":"")+(Ge?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+dn+`return __p
}`;var Ar=IA(function(){return $r(Zt,Vn+"return "+dn).apply(n,ve)});if(Ar.source=dn,Lw(Ar))throw Ar;return Ar}function Jz(x){return ui(x).toLowerCase()}function Qz(x){return ui(x).toUpperCase()}function tB(x,L,K){if(x=ui(x),x&&(K||L===n))return U0(x);if(!x||!(L=zs(L)))return x;var xt=Rs(x),Ft=Rs(L),Zt=n_(xt,Ft),ve=r_(xt,Ft)+1;return Af(xt,Zt,ve).join("")}function eB(x,L,K){if(x=ui(x),x&&(K||L===n))return x.slice(0,H0(x)+1);if(!x||!(L=zs(L)))return x;var xt=Rs(x),Ft=r_(xt,Rs(L))+1;return Af(xt,0,Ft).join("")}function nB(x,L,K){if(x=ui(x),x&&(K||L===n))return x.replace(qt,"");if(!x||!(L=zs(L)))return x;var xt=Rs(x),Ft=n_(xt,Rs(L));return Af(xt,Ft).join("")}function rB(x,L){var K=A,xt=O;if(Ki(L)){var Ft="separator"in L?L.separator:Ft;K="length"in L?Mr(L.length):K,xt="omission"in L?zs(L.omission):xt}x=ui(x);var Zt=x.length;if(vf(x)){var ve=Rs(x);Zt=ve.length}if(K>=Zt)return x;var Le=K-yf(xt);if(Le<1)return xt;var Ge=ve?Af(ve,0,Le).join(""):x.slice(0,Le);if(Ft===n)return Ge+xt;if(ve&&(Le+=Ge.length-Le),Pw(Ft)){if(x.slice(Le).search(Ft)){var un,fn=Ge;for(Ft.global||(Ft=kh(Ft.source,ui(ft.exec(Ft))+"g")),Ft.lastIndex=0;un=Ft.exec(fn);)var dn=un.index;Ge=Ge.slice(0,dn===n?Le:dn)}}else if(x.indexOf(zs(Ft),Le)!=Le){var Nn=Ge.lastIndexOf(Ft);Nn>-1&&(Ge=Ge.slice(0,Nn))}return Ge+xt}function iB(x){return x=ui(x),x&&ne.test(x)?x.replace(Gt,V2):x}var aB=Lp(function(x,L,K){return x+(K?" ":"")+L.toUpperCase()}),Dw=OC("toUpperCase");function AA(x,L,K){return x=ui(x),L=K?n:L,L===n?a_(x)?W2(x):N2(x):x.match(L)||[]}var IA=Lr(function(x,L){try{return Ta(x,n,L)}catch(K){return Lw(K)?K:new mr(K)}}),oB=Sc(function(x,L){return da(L,function(K){K=Du(K),yt(x,K,Iw(x[K],x))}),x});function sB(x){var L=x==null?0:x.length,K=ir();return x=L?Wr(x,function(xt){if(typeof xt[1]!="function")throw new ko(s);return[K(xt[0]),xt[1]]}):[],Lr(function(xt){for(var Ft=-1;++Ft<L;){var Zt=x[Ft];if(Ta(Zt[0],this,xt))return Ta(Zt[1],this,xt)}})}function lB(x){return Yt(Ot(x,f))}function kw(x){return function(){return x}}function uB(x,L){return x==null||x!==x?L:x}var cB=PC(),fB=PC(!0);function fs(x){return x}function Fw(x){return aa(typeof x=="function"?x:Ot(x,f))}function hB(x){return Bo(Ot(x,f))}function dB(x,L){return pl(x,Ot(L,f))}var pB=Lr(function(x,L){return function(K){return Xn(K,x,L)}}),gB=Lr(function(x,L){return function(K){return Xn(x,K,L)}});function zw(x,L,K){var xt=$a(L),Ft=On(L,xt);K==null&&!(Ki(L)&&(Ft.length||!xt.length))&&(K=L,L=x,x=this,Ft=On(L,$a(L)));var Zt=!(Ki(K)&&"chain"in K)||!!K.chain,ve=Ac(x);return da(Ft,function(Le){var Ge=L[Le];x[Le]=Ge,ve&&(x.prototype[Le]=function(){var un=this.__chain__;if(Zt||un){var fn=x(this.__wrapped__),dn=fn.__actions__=ls(this.__actions__);return dn.push({func:Ge,args:arguments,thisArg:x}),fn.__chain__=un,fn}return Ge.apply(x,Xl([this.value()],arguments))})}),x}function mB(){return jr._===this&&(jr._=l_),this}function Bw(){}function vB(x){return x=Mr(x),Lr(function(L){return em(L,x)})}var yB=mw(Wr),_B=mw(Xy),xB=mw(Kl);function OA(x){return Tw(x)?G0(Du(x)):KD(x)}function bB(x){return function(L){return x==null?n:Ln(x,L)}}var wB=RC(),TB=RC(!0);function Gw(){return[]}function jw(){return!1}function EB(){return{}}function MB(){return""}function SB(){return!0}function CB(x,L){if(x=Mr(x),x<1||x>j)return[];var K=et,xt=Fa(x,et);L=ir(L),x-=et;for(var Ft=yp(xt,L);++K<x;)L(K);return Ft}function AB(x){return xr(x)?Wr(x,Du):Bs(x)?[x]:ls(KC(ui(x)))}function IB(x){var L=++Y0;return ui(x)+L}var OB=N_(function(x,L){return x+L},0),LB=vw("ceil"),PB=N_(function(x,L){return x/L},1),NB=vw("floor");function RB(x){return x&&x.length?le(x,fs,ar):n}function DB(x,L){return x&&x.length?le(x,ir(L,2),ar):n}function kB(x){return Qy(x,fs)}function FB(x,L){return Qy(x,ir(L,2))}function zB(x){return x&&x.length?le(x,fs,Ba):n}function BB(x,L){return x&&x.length?le(x,ir(L,2),Ba):n}var GB=N_(function(x,L){return x*L},1),jB=vw("round"),UB=N_(function(x,L){return x-L},0);function VB(x){return x&&x.length?vp(x,fs):0}function HB(x,L){return x&&x.length?vp(x,ir(L,2)):0}return Wt.after=hF,Wt.ary=sA,Wt.assign=QF,Wt.assignIn=bA,Wt.assignInWith=W_,Wt.assignWith=tz,Wt.at=ez,Wt.before=lA,Wt.bind=Iw,Wt.bindAll=oB,Wt.bindKey=uA,Wt.castArray=EF,Wt.chain=iA,Wt.chunk=Nk,Wt.compact=Rk,Wt.concat=Dk,Wt.cond=sB,Wt.conforms=lB,Wt.constant=kw,Wt.countBy=V9,Wt.create=nz,Wt.curry=cA,Wt.curryRight=fA,Wt.debounce=hA,Wt.defaults=rz,Wt.defaultsDeep=iz,Wt.defer=dF,Wt.delay=pF,Wt.difference=kk,Wt.differenceBy=Fk,Wt.differenceWith=zk,Wt.drop=Bk,Wt.dropRight=Gk,Wt.dropRightWhile=jk,Wt.dropWhile=Uk,Wt.fill=Vk,Wt.filter=Y9,Wt.flatMap=q9,Wt.flatMapDeep=X9,Wt.flatMapDepth=K9,Wt.flatten=tA,Wt.flattenDeep=Hk,Wt.flattenDepth=Yk,Wt.flip=gF,Wt.flow=cB,Wt.flowRight=fB,Wt.fromPairs=Wk,Wt.functions=fz,Wt.functionsIn=hz,Wt.groupBy=Z9,Wt.initial=qk,Wt.intersection=Xk,Wt.intersectionBy=Kk,Wt.intersectionWith=Zk,Wt.invert=pz,Wt.invertBy=gz,Wt.invokeMap=Q9,Wt.iteratee=Fw,Wt.keyBy=tF,Wt.keys=$a,Wt.keysIn=cs,Wt.map=G_,Wt.mapKeys=vz,Wt.mapValues=yz,Wt.matches=hB,Wt.matchesProperty=dB,Wt.memoize=U_,Wt.merge=_z,Wt.mergeWith=wA,Wt.method=pB,Wt.methodOf=gB,Wt.mixin=zw,Wt.negate=V_,Wt.nthArg=vB,Wt.omit=xz,Wt.omitBy=bz,Wt.once=mF,Wt.orderBy=eF,Wt.over=yB,Wt.overArgs=vF,Wt.overEvery=_B,Wt.overSome=xB,Wt.partial=Ow,Wt.partialRight=dA,Wt.partition=nF,Wt.pick=wz,Wt.pickBy=TA,Wt.property=OA,Wt.propertyOf=bB,Wt.pull=e9,Wt.pullAll=nA,Wt.pullAllBy=n9,Wt.pullAllWith=r9,Wt.pullAt=i9,Wt.range=wB,Wt.rangeRight=TB,Wt.rearg=yF,Wt.reject=aF,Wt.remove=a9,Wt.rest=_F,Wt.reverse=Cw,Wt.sampleSize=sF,Wt.set=Ez,Wt.setWith=Mz,Wt.shuffle=lF,Wt.slice=o9,Wt.sortBy=fF,Wt.sortedUniq=d9,Wt.sortedUniqBy=p9,Wt.split=qz,Wt.spread=xF,Wt.tail=g9,Wt.take=m9,Wt.takeRight=v9,Wt.takeRightWhile=y9,Wt.takeWhile=_9,Wt.tap=R9,Wt.throttle=bF,Wt.thru=B_,Wt.toArray=yA,Wt.toPairs=EA,Wt.toPairsIn=MA,Wt.toPath=AB,Wt.toPlainObject=xA,Wt.transform=Sz,Wt.unary=wF,Wt.union=x9,Wt.unionBy=b9,Wt.unionWith=w9,Wt.uniq=T9,Wt.uniqBy=E9,Wt.uniqWith=M9,Wt.unset=Cz,Wt.unzip=Aw,Wt.unzipWith=rA,Wt.update=Az,Wt.updateWith=Iz,Wt.values=Rp,Wt.valuesIn=Oz,Wt.without=S9,Wt.words=AA,Wt.wrap=TF,Wt.xor=C9,Wt.xorBy=A9,Wt.xorWith=I9,Wt.zip=O9,Wt.zipObject=L9,Wt.zipObjectDeep=P9,Wt.zipWith=N9,Wt.entries=EA,Wt.entriesIn=MA,Wt.extend=bA,Wt.extendWith=W_,zw(Wt,Wt),Wt.add=OB,Wt.attempt=IA,Wt.camelCase=Rz,Wt.capitalize=SA,Wt.ceil=LB,Wt.clamp=Lz,Wt.clone=MF,Wt.cloneDeep=CF,Wt.cloneDeepWith=AF,Wt.cloneWith=SF,Wt.conformsTo=IF,Wt.deburr=CA,Wt.defaultTo=uB,Wt.divide=PB,Wt.endsWith=Dz,Wt.eq=tu,Wt.escape=kz,Wt.escapeRegExp=Fz,Wt.every=H9,Wt.find=W9,Wt.findIndex=JC,Wt.findKey=az,Wt.findLast=$9,Wt.findLastIndex=QC,Wt.findLastKey=oz,Wt.floor=NB,Wt.forEach=aA,Wt.forEachRight=oA,Wt.forIn=sz,Wt.forInRight=lz,Wt.forOwn=uz,Wt.forOwnRight=cz,Wt.get=Nw,Wt.gt=OF,Wt.gte=LF,Wt.has=dz,Wt.hasIn=Rw,Wt.head=eA,Wt.identity=fs,Wt.includes=J9,Wt.indexOf=$k,Wt.inRange=Pz,Wt.invoke=mz,Wt.isArguments=Xh,Wt.isArray=xr,Wt.isArrayBuffer=PF,Wt.isArrayLike=us,Wt.isArrayLikeObject=ma,Wt.isBoolean=NF,Wt.isBuffer=If,Wt.isDate=RF,Wt.isElement=DF,Wt.isEmpty=kF,Wt.isEqual=FF,Wt.isEqualWith=zF,Wt.isError=Lw,Wt.isFinite=BF,Wt.isFunction=Ac,Wt.isInteger=pA,Wt.isLength=H_,Wt.isMap=gA,Wt.isMatch=GF,Wt.isMatchWith=jF,Wt.isNaN=UF,Wt.isNative=VF,Wt.isNil=YF,Wt.isNull=HF,Wt.isNumber=mA,Wt.isObject=Ki,Wt.isObjectLike=oa,Wt.isPlainObject=om,Wt.isRegExp=Pw,Wt.isSafeInteger=WF,Wt.isSet=vA,Wt.isString=Y_,Wt.isSymbol=Bs,Wt.isTypedArray=Np,Wt.isUndefined=$F,Wt.isWeakMap=qF,Wt.isWeakSet=XF,Wt.join=Jk,Wt.kebabCase=zz,Wt.last=ml,Wt.lastIndexOf=Qk,Wt.lowerCase=Bz,Wt.lowerFirst=Gz,Wt.lt=KF,Wt.lte=ZF,Wt.max=RB,Wt.maxBy=DB,Wt.mean=kB,Wt.meanBy=FB,Wt.min=zB,Wt.minBy=BB,Wt.stubArray=Gw,Wt.stubFalse=jw,Wt.stubObject=EB,Wt.stubString=MB,Wt.stubTrue=SB,Wt.multiply=GB,Wt.nth=t9,Wt.noConflict=mB,Wt.noop=Bw,Wt.now=j_,Wt.pad=jz,Wt.padEnd=Uz,Wt.padStart=Vz,Wt.parseInt=Hz,Wt.random=Nz,Wt.reduce=rF,Wt.reduceRight=iF,Wt.repeat=Yz,Wt.replace=Wz,Wt.result=Tz,Wt.round=jB,Wt.runInContext=De,Wt.sample=oF,Wt.size=uF,Wt.snakeCase=$z,Wt.some=cF,Wt.sortedIndex=s9,Wt.sortedIndexBy=l9,Wt.sortedIndexOf=u9,Wt.sortedLastIndex=c9,Wt.sortedLastIndexBy=f9,Wt.sortedLastIndexOf=h9,Wt.startCase=Xz,Wt.startsWith=Kz,Wt.subtract=UB,Wt.sum=VB,Wt.sumBy=HB,Wt.template=Zz,Wt.times=CB,Wt.toFinite=Ic,Wt.toInteger=Mr,Wt.toLength=_A,Wt.toLower=Jz,Wt.toNumber=vl,Wt.toSafeInteger=JF,Wt.toString=ui,Wt.toUpper=Qz,Wt.trim=tB,Wt.trimEnd=eB,Wt.trimStart=nB,Wt.truncate=rB,Wt.unescape=iB,Wt.uniqueId=IB,Wt.upperCase=aB,Wt.upperFirst=Dw,Wt.each=aA,Wt.eachRight=oA,Wt.first=eA,zw(Wt,function(){var x={};return ln(Wt,function(L,K){ti.call(Wt.prototype,K)||(x[K]=L)}),x}(),{chain:!1}),Wt.VERSION=r,da(["bind","bindKey","curry","curryRight","partial","partialRight"],function(x){Wt[x].placeholder=Wt}),da(["drop","take"],function(x,L){Or.prototype[x]=function(K){K=K===n?1:ga(Mr(K),0);var xt=this.__filtered__&&!L?new Or(this):this.clone();return xt.__filtered__?xt.__takeCount__=Fa(K,xt.__takeCount__):xt.__views__.push({size:Fa(K,et),type:x+(xt.__dir__<0?"Right":"")}),xt},Or.prototype[x+"Right"]=function(K){return this.reverse()[x](K).reverse()}}),da(["filter","map","takeWhile"],function(x,L){var K=L+1,xt=K==P||K==k;Or.prototype[x]=function(Ft){var Zt=this.clone();return Zt.__iteratees__.push({iteratee:ir(Ft,3),type:K}),Zt.__filtered__=Zt.__filtered__||xt,Zt}}),da(["head","last"],function(x,L){var K="take"+(L?"Right":"");Or.prototype[x]=function(){return this[K](1).value()[0]}}),da(["initial","tail"],function(x,L){var K="drop"+(L?"":"Right");Or.prototype[x]=function(){return this.__filtered__?new Or(this):this[K](1)}}),Or.prototype.compact=function(){return this.filter(fs)},Or.prototype.find=function(x){return this.filter(x).head()},Or.prototype.findLast=function(x){return this.reverse().find(x)},Or.prototype.invokeMap=Lr(function(x,L){return typeof x=="function"?new Or(this):this.map(function(K){return Xn(K,x,L)})}),Or.prototype.reject=function(x){return this.filter(V_(ir(x)))},Or.prototype.slice=function(x,L){x=Mr(x);var K=this;return K.__filtered__&&(x>0||L<0)?new Or(K):(x<0?K=K.takeRight(-x):x&&(K=K.drop(x)),L!==n&&(L=Mr(L),K=L<0?K.dropRight(-L):K.take(L-x)),K)},Or.prototype.takeRightWhile=function(x){return this.reverse().takeWhile(x).reverse()},Or.prototype.toArray=function(){return this.take(et)},ln(Or.prototype,function(x,L){var K=/^(?:filter|find|map|reject)|While$/.test(L),xt=/^(?:head|last)$/.test(L),Ft=Wt[xt?"take"+(L=="last"?"Right":""):L],Zt=xt||/^find/.test(L);Ft&&(Wt.prototype[L]=function(){var ve=this.__wrapped__,Le=xt?[1]:arguments,Ge=ve instanceof Or,un=Le[0],fn=Ge||xr(ve),dn=function(kr){var Ur=Ft.apply(Wt,Xl([kr],Le));return xt&&Nn?Ur[0]:Ur};fn&&K&&typeof un=="function"&&un.length!=1&&(Ge=fn=!1);var Nn=this.__chain__,Vn=!!this.__actions__.length,or=Zt&&!Nn,Ar=Ge&&!Vn;if(!Zt&&fn){ve=Ar?ve:new Or(this);var sr=x.apply(ve,Le);return sr.__actions__.push({func:B_,args:[dn],thisArg:n}),new Fo(sr,Nn)}return or&&Ar?x.apply(this,Le):(sr=this.thru(dn),or?xt?sr.value()[0]:sr.value():sr)})}),da(["pop","push","shift","sort","splice","unshift"],function(x){var L=Fh[x],K=/^(?:push|sort|unshift)$/.test(x)?"tap":"thru",xt=/^(?:pop|shift)$/.test(x);Wt.prototype[x]=function(){var Ft=arguments;if(xt&&!this.__chain__){var Zt=this.value();return L.apply(xr(Zt)?Zt:[],Ft)}return this[K](function(ve){return L.apply(xr(ve)?ve:[],Ft)})}}),ln(Or.prototype,function(x,L){var K=Wt[L];if(K){var xt=K.name+"";ti.call(Jl,xt)||(Jl[xt]=[]),Jl[xt].push({name:L,func:K})}}),Jl[P_(n,v).name]=[{name:"wrapper",func:n}],Or.prototype.clone=Lu,Or.prototype.reverse=J0,Or.prototype.value=Q0,Wt.prototype.at=D9,Wt.prototype.chain=k9,Wt.prototype.commit=F9,Wt.prototype.next=z9,Wt.prototype.plant=G9,Wt.prototype.reverse=j9,Wt.prototype.toJSON=Wt.prototype.valueOf=Wt.prototype.value=U9,Wt.prototype.first=Wt.prototype.head,bf&&(Wt.prototype[bf]=B9),Wt},Iu=$2();jn?((jn.exports=Iu)._=Iu,ra._=Iu):jr._=Iu}).call(vm)})(ab,ab.exports);var Dpt=ab.exports,Vo=63710088e-1,nD={centimeters:Vo*100,centimetres:Vo*100,degrees:Vo/111325,feet:Vo*3.28084,inches:Vo*39.37,kilometers:Vo/1e3,kilometres:Vo/1e3,meters:Vo,metres:Vo,miles:Vo/1609.344,millimeters:Vo*1e3,millimetres:Vo*1e3,nauticalmiles:Vo/1852,radians:1,yards:Vo*1.0936};function rD(e,t,n){n===void 0&&(n={});var r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function xdt(e,t,n){if(n===void 0&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!qL(e[0])||!qL(e[1]))throw new Error("coordinates must contain numbers");var r={type:"Point",coordinates:e};return rD(r,t,n)}function xE(e,t){t===void 0&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function bdt(e,t){t===void 0&&(t="kilometers");var n=nD[t];if(!n)throw new Error(t+" units is invalid");return e*n}function wdt(e,t){t===void 0&&(t="kilometers");var n=nD[t];if(!n)throw new Error(t+" units is invalid");return e/n}function qL(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function iD(e,t,n){if(e!==null)for(var r,i,a,s,o,l,c,u=0,f=0,h,d=e.type,p=d==="FeatureCollection",g=d==="Feature",m=p?e.features.length:1,v=0;v<m;v++){c=p?e.features[v].geometry:g?e.geometry:e,h=c?c.type==="GeometryCollection":!1,o=h?c.geometries.length:1;for(var y=0;y<o;y++){var _=0,b=0;if(s=h?c.geometries[y]:c,s!==null){l=s.coordinates;var w=s.type;switch(u=n&&(w==="Polygon"||w==="MultiPolygon")?1:0,w){case null:break;case"Point":if(t(l,f,v,_,b)===!1)return!1;f++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<l.length;r++){if(t(l[r],f,v,_,b)===!1)return!1;f++,w==="MultiPoint"&&_++}w==="LineString"&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<l.length;r++){for(i=0;i<l[r].length-u;i++){if(t(l[r][i],f,v,_,b)===!1)return!1;f++}w==="MultiLineString"&&_++,w==="Polygon"&&b++}w==="Polygon"&&_++;break;case"MultiPolygon":for(r=0;r<l.length;r++){for(b=0,i=0;i<l[r].length;i++){for(a=0;a<l[r][i].length-u;a++){if(t(l[r][i][a],f,v,_,b)===!1)return!1;f++}b++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(iD(s.geometries[r],t,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function XL(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var n=0;n<e.features.length&&t(e.features[n],n)!==!1;n++);}function aD(e,t){var n,r,i,a,s,o,l,c,u,f,h=0,d=e.type==="FeatureCollection",p=e.type==="Feature",g=d?e.features.length:1;for(n=0;n<g;n++){for(o=d?e.features[n].geometry:p?e.geometry:e,c=d?e.features[n].properties:p?e.properties:{},u=d?e.features[n].bbox:p?e.bbox:void 0,f=d?e.features[n].id:p?e.id:void 0,l=o?o.type==="GeometryCollection":!1,s=l?o.geometries.length:1,i=0;i<s;i++){if(a=l?o.geometries[i]:o,a===null){if(t(null,h,c,u,f)===!1)return!1;continue}switch(a.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(a,h,c,u,f)===!1)return!1;break}case"GeometryCollection":{for(r=0;r<a.geometries.length;r++)if(t(a.geometries[r],h,c,u,f)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}h++}}function bE(e){var t=[1/0,1/0,-1/0,-1/0];return iD(e,function(n){t[0]>n[0]&&(t[0]=n[0]),t[1]>n[1]&&(t[1]=n[1]),t[2]<n[0]&&(t[2]=n[0]),t[3]<n[1]&&(t[3]=n[1])}),t}bE.default=bE;function Tdt(e,t){t===void 0&&(t={});var n=bE(e),r=(n[0]+n[2])/2,i=(n[1]+n[3])/2;return xdt([r,i],t.properties,t)}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(this===void 0||this===null)throw new TypeError(this+" is not an object");var n=Object(this),r=Math.max(Math.min(n.length,9007199254740991),0)||0,i=1 in arguments&&parseInt(Number(arguments[1]),10)||0;i=i<0?Math.max(r+i,0):Math.min(i,r);var a=2 in arguments&&arguments[2]!==void 0?parseInt(Number(arguments[2]),10)||0:r;for(a=a<0?Math.max(r+arguments[2],0):Math.min(a,r);i<a;)n[i]=t,++i;return n},writable:!0});Number.isFinite=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)};Number.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};Number.parseFloat=Number.parseFloat||parseFloat;Number.isNaN=Number.isNaN||function(e){return e!==e};Math.trunc=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};var Bd=function(){};Bd.prototype.interfaces_=function(){return[]};Bd.prototype.getClass=function(){return Bd};Bd.prototype.equalsWithTolerance=function(t,n,r){return Math.abs(t-n)<=r};var Ti=function(e){function t(n){e.call(this,n),this.name="IllegalArgumentException",this.message=n,this.stack=new e().stack}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),nr=function(){},oD={MAX_VALUE:{configurable:!0}};nr.isNaN=function(t){return Number.isNaN(t)};nr.doubleToLongBits=function(t){return t};nr.longBitsToDouble=function(t){return t};nr.isInfinite=function(t){return!Number.isFinite(t)};oD.MAX_VALUE.get=function(){return Number.MAX_VALUE};Object.defineProperties(nr,oD);var Ls=function(){},b2=function(){},t0=function(){};function Ps(){}var ze=function e(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)this.x=0,this.y=0,this.z=e.NULL_ORDINATE;else if(arguments.length===1){var t=arguments[0];this.x=t.x,this.y=t.y,this.z=t.z}else arguments.length===2?(this.x=arguments[0],this.y=arguments[1],this.z=e.NULL_ORDINATE):arguments.length===3&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},lp={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};ze.prototype.setOrdinate=function(t,n){switch(t){case ze.X:this.x=n;break;case ze.Y:this.y=n;break;case ze.Z:this.z=n;break;default:throw new Ti("Invalid ordinate index: "+t)}};ze.prototype.equals2D=function(){if(arguments.length===1){var t=arguments[0];return!(this.x!==t.x||this.y!==t.y)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return!(!Bd.equalsWithTolerance(this.x,n.x,r)||!Bd.equalsWithTolerance(this.y,n.y,r))}};ze.prototype.getOrdinate=function(t){switch(t){case ze.X:return this.x;case ze.Y:return this.y;case ze.Z:return this.z}throw new Ti("Invalid ordinate index: "+t)};ze.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||nr.isNaN(this.z))&&nr.isNaN(t.z)};ze.prototype.equals=function(t){return t instanceof ze?this.equals2D(t):!1};ze.prototype.equalInZ=function(t,n){return Bd.equalsWithTolerance(this.z,t.z,n)};ze.prototype.compareTo=function(t){var n=t;return this.x<n.x?-1:this.x>n.x?1:this.y<n.y?-1:this.y>n.y?1:0};ze.prototype.clone=function(){};ze.prototype.copy=function(){return new ze(this)};ze.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"};ze.prototype.distance3D=function(t){var n=this.x-t.x,r=this.y-t.y,i=this.z-t.z;return Math.sqrt(n*n+r*r+i*i)};ze.prototype.distance=function(t){var n=this.x-t.x,r=this.y-t.y;return Math.sqrt(n*n+r*r)};ze.prototype.hashCode=function(){var t=17;return t=37*t+ze.hashCode(this.x),t=37*t+ze.hashCode(this.y),t};ze.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z};ze.prototype.interfaces_=function(){return[Ls,b2,Ps]};ze.prototype.getClass=function(){return ze};ze.hashCode=function(){if(arguments.length===1){var t=arguments[0],n=nr.doubleToLongBits(t);return Math.trunc((n^n)>>>32)}};lp.DimensionalComparator.get=function(){return jc};lp.serialVersionUID.get=function(){return 6683108902428367e3};lp.NULL_ORDINATE.get=function(){return nr.NaN};lp.X.get=function(){return 0};lp.Y.get=function(){return 1};lp.Z.get=function(){return 2};Object.defineProperties(ze,lp);var jc=function(t){if(this._dimensionsToTest=2,arguments.length!==0){if(arguments.length===1){var n=arguments[0];if(n!==2&&n!==3)throw new Ti("only 2 or 3 dimensions may be specified");this._dimensionsToTest=n}}};jc.prototype.compare=function(t,n){var r=t,i=n,a=jc.compare(r.x,i.x);if(a!==0)return a;var s=jc.compare(r.y,i.y);if(s!==0)return s;if(this._dimensionsToTest<=2)return 0;var o=jc.compare(r.z,i.z);return o};jc.prototype.interfaces_=function(){return[t0]};jc.prototype.getClass=function(){return jc};jc.compare=function(t,n){return t<n?-1:t>n?1:nr.isNaN(t)?nr.isNaN(n)?0:-1:nr.isNaN(n)?1:0};var e0=function(){};e0.prototype.create=function(){};e0.prototype.interfaces_=function(){return[]};e0.prototype.getClass=function(){return e0};var We=function(){},Uy={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};We.prototype.interfaces_=function(){return[]};We.prototype.getClass=function(){return We};We.toLocationSymbol=function(t){switch(t){case We.EXTERIOR:return"e";case We.BOUNDARY:return"b";case We.INTERIOR:return"i";case We.NONE:return"-"}throw new Ti("Unknown location value: "+t)};Uy.INTERIOR.get=function(){return 0};Uy.BOUNDARY.get=function(){return 1};Uy.EXTERIOR.get=function(){return 2};Uy.NONE.get=function(){return-1};Object.defineProperties(We,Uy);var qn=function(e,t){return e.interfaces_&&e.interfaces_().indexOf(t)>-1},Jo=function(){},sD={LOG_10:{configurable:!0}};Jo.prototype.interfaces_=function(){return[]};Jo.prototype.getClass=function(){return Jo};Jo.log10=function(t){var n=Math.log(t);return nr.isInfinite(n)||nr.isNaN(n)?n:n/Jo.LOG_10};Jo.min=function(t,n,r,i){var a=t;return n<a&&(a=n),r<a&&(a=r),i<a&&(a=i),a};Jo.clamp=function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],n=arguments[1],r=arguments[2];return t<n?n:t>r?r:t}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],a=arguments[1],s=arguments[2];return i<a?a:i>s?s:i}};Jo.wrap=function(t,n){return t<0?n- -t%n:t%n};Jo.max=function(){if(arguments.length===3){var t=arguments[0],n=arguments[1],r=arguments[2],i=t;return n>i&&(i=n),r>i&&(i=r),i}else if(arguments.length===4){var a=arguments[0],s=arguments[1],o=arguments[2],l=arguments[3],c=a;return s>c&&(c=s),o>c&&(c=o),l>c&&(c=l),c}};Jo.average=function(t,n){return(t+n)/2};sD.LOG_10.get=function(){return Math.log(10)};Object.defineProperties(Jo,sD);var Wl=function(t){this.str=t};Wl.prototype.append=function(t){this.str+=t};Wl.prototype.setCharAt=function(t,n){this.str=this.str.substr(0,t)+n+this.str.substr(t+1)};Wl.prototype.toString=function(t){return this.str};var Dl=function(t){this.value=t};Dl.prototype.intValue=function(){return this.value};Dl.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0};Dl.isNaN=function(t){return Number.isNaN(t)};var Zv=function(){};Zv.isWhitespace=function(t){return t<=32&&t>=0||t===127};Zv.toUpperCase=function(t){return t.toUpperCase()};var Qe=function e(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}else if(typeof arguments[0]=="string"){var r=arguments[0];e.call(this,e.parse(r))}}else if(arguments.length===2){var i=arguments[0],a=arguments[1];this.init(i,a)}},ul={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};Qe.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo};Qe.prototype.extractSignificantDigits=function(t,n){var r=this.abs(),i=Qe.magnitude(r._hi),a=Qe.TEN.pow(i);r=r.divide(a),r.gt(Qe.TEN)?(r=r.divide(Qe.TEN),i+=1):r.lt(Qe.ONE)&&(r=r.multiply(Qe.TEN),i-=1);for(var s=i+1,o=new Wl,l=Qe.MAX_PRINT_DIGITS-1,c=0;c<=l;c++){t&&c===s&&o.append(".");var u=Math.trunc(r._hi);if(u<0)break;var f=!1,h=0;u>9?(f=!0,h="9"):h="0"+u,o.append(h),r=r.subtract(Qe.valueOf(u)).multiply(Qe.TEN),f&&r.selfAdd(Qe.TEN);var d=!0,p=Qe.magnitude(r._hi);if(p<0&&Math.abs(p)>=l-c&&(d=!1),!d)break}return n[0]=i,o.toString()};Qe.prototype.sqr=function(){return this.multiply(this)};Qe.prototype.doubleValue=function(){return this._hi+this._lo};Qe.prototype.subtract=function(){if(arguments[0]instanceof Qe){var t=arguments[0];return this.add(t.negate())}else if(typeof arguments[0]=="number"){var n=arguments[0];return this.add(-n)}};Qe.prototype.equals=function(){if(arguments.length===1){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}};Qe.prototype.isZero=function(){return this._hi===0&&this._lo===0};Qe.prototype.selfSubtract=function(){if(arguments[0]instanceof Qe){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}else if(typeof arguments[0]=="number"){var n=arguments[0];return this.isNaN()?this:this.selfAdd(-n,0)}};Qe.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null};Qe.prototype.min=function(t){return this.le(t)?this:t};Qe.prototype.selfDivide=function(){if(arguments.length===1){if(arguments[0]instanceof Qe){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}else if(typeof arguments[0]=="number"){var n=arguments[0];return this.selfDivide(n,0)}}else if(arguments.length===2){var r=arguments[0],i=arguments[1],a=null,s=null,o=null,l=null,c=null,u=null,f=null,h=null;return c=this._hi/r,u=Qe.SPLIT*c,a=u-c,h=Qe.SPLIT*r,a=u-a,s=c-a,o=h-r,f=c*r,o=h-o,l=r-o,h=a*o-f+a*l+s*o+s*l,u=(this._hi-f-h+this._lo-c*i)/r,h=c+u,this._hi=h,this._lo=c-h+u,this}};Qe.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"};Qe.prototype.divide=function(){if(arguments[0]instanceof Qe){var t=arguments[0],n=null,r=null,i=null,a=null,s=null,o=null,l=null,c=null;s=this._hi/t._hi,o=Qe.SPLIT*s,n=o-s,c=Qe.SPLIT*t._hi,n=o-n,r=s-n,i=c-t._hi,l=s*t._hi,i=c-i,a=t._hi-i,c=n*i-l+n*a+r*i+r*a,o=(this._hi-l-c+this._lo-s*t._lo)/t._hi,c=s+o;var u=c,f=s-c+o;return new Qe(u,f)}else if(typeof arguments[0]=="number"){var h=arguments[0];return nr.isNaN(h)?Qe.createNaN():Qe.copy(this).selfDivide(h,0)}};Qe.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo};Qe.prototype.pow=function(t){if(t===0)return Qe.valueOf(1);var n=new Qe(this),r=Qe.valueOf(1),i=Math.abs(t);if(i>1)for(;i>0;)i%2===1&&r.selfMultiply(n),i/=2,i>0&&(n=n.sqr());else r=n;return t<0?r.reciprocal():r};Qe.prototype.ceil=function(){if(this.isNaN())return Qe.NaN;var t=Math.ceil(this._hi),n=0;return t===this._hi&&(n=Math.ceil(this._lo)),new Qe(t,n)};Qe.prototype.compareTo=function(t){var n=t;return this._hi<n._hi?-1:this._hi>n._hi?1:this._lo<n._lo?-1:this._lo>n._lo?1:0};Qe.prototype.rint=function(){if(this.isNaN())return this;var t=this.add(.5);return t.floor()};Qe.prototype.setValue=function(){if(arguments[0]instanceof Qe){var t=arguments[0];return this.init(t),this}else if(typeof arguments[0]=="number"){var n=arguments[0];return this.init(n),this}};Qe.prototype.max=function(t){return this.ge(t)?this:t};Qe.prototype.sqrt=function(){if(this.isZero())return Qe.valueOf(0);if(this.isNegative())return Qe.NaN;var t=1/Math.sqrt(this._hi),n=this._hi*t,r=Qe.valueOf(n),i=this.subtract(r.sqr()),a=i._hi*(t*.5);return r.add(a)};Qe.prototype.selfAdd=function(){if(arguments.length===1){if(arguments[0]instanceof Qe){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}else if(typeof arguments[0]=="number"){var n=arguments[0],r=null,i=null,a=null,s=null,o=null,l=null;return a=this._hi+n,o=a-this._hi,s=a-o,s=n-o+(this._hi-s),l=s+this._lo,r=a+l,i=l+(a-r),this._hi=r+i,this._lo=i+(r-this._hi),this}}else if(arguments.length===2){var c=arguments[0],u=arguments[1],f=null,h=null,d=null,p=null,g=null,m=null,v=null,y=null;g=this._hi+c,d=this._lo+u,v=g-this._hi,y=d-this._lo,m=g-v,p=d-y,m=c-v+(this._hi-m),p=u-y+(this._lo-p),v=m+d,f=g+v,h=v+(g-f),v=p+h;var _=f+v,b=v+(f-_);return this._hi=_,this._lo=b,this}};Qe.prototype.selfMultiply=function(){if(arguments.length===1){if(arguments[0]instanceof Qe){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}else if(typeof arguments[0]=="number"){var n=arguments[0];return this.selfMultiply(n,0)}}else if(arguments.length===2){var r=arguments[0],i=arguments[1],a=null,s=null,o=null,l=null,c=null,u=null;c=Qe.SPLIT*this._hi,a=c-this._hi,u=Qe.SPLIT*r,a=c-a,s=this._hi-a,o=u-r,c=this._hi*r,o=u-o,l=r-o,u=a*o-c+a*l+s*o+s*l+(this._hi*i+this._lo*r);var f=c+u;a=c-f;var h=u+a;return this._hi=f,this._lo=h,this}};Qe.prototype.selfSqr=function(){return this.selfMultiply(this)};Qe.prototype.floor=function(){if(this.isNaN())return Qe.NaN;var t=Math.floor(this._hi),n=0;return t===this._hi&&(n=Math.floor(this._lo)),new Qe(t,n)};Qe.prototype.negate=function(){return this.isNaN()?this:new Qe(-this._hi,-this._lo)};Qe.prototype.clone=function(){};Qe.prototype.multiply=function(){if(arguments[0]instanceof Qe){var t=arguments[0];return t.isNaN()?Qe.createNaN():Qe.copy(this).selfMultiply(t)}else if(typeof arguments[0]=="number"){var n=arguments[0];return nr.isNaN(n)?Qe.createNaN():Qe.copy(this).selfMultiply(n,0)}};Qe.prototype.isNaN=function(){return nr.isNaN(this._hi)};Qe.prototype.intValue=function(){return Math.trunc(this._hi)};Qe.prototype.toString=function(){var t=Qe.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()};Qe.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(t!==null)return t;var n=new Array(1).fill(null),r=this.extractSignificantDigits(!0,n),i=n[0]+1,a=r;if(r.charAt(0)===".")a="0"+r;else if(i<0)a="0."+Qe.stringOfChar("0",-i)+r;else if(r.indexOf(".")===-1){var s=i-r.length,o=Qe.stringOfChar("0",s);a=r+o+".0"}return this.isNegative()?"-"+a:a};Qe.prototype.reciprocal=function(){var t=null,n=null,r=null,i=null,a=null,s=null,o=null,l=null;a=1/this._hi,s=Qe.SPLIT*a,t=s-a,l=Qe.SPLIT*this._hi,t=s-t,n=a-t,r=l-this._hi,o=a*this._hi,r=l-r,i=this._hi-r,l=t*r-o+t*i+n*r+n*i,s=(1-o-l-a*this._lo)/this._hi;var c=a+s,u=a-c+s;return new Qe(c,u)};Qe.prototype.toSciNotation=function(){if(this.isZero())return Qe.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(t!==null)return t;var n=new Array(1).fill(null),r=this.extractSignificantDigits(!1,n),i=Qe.SCI_NOT_EXPONENT_CHAR+n[0];if(r.charAt(0)==="0")throw new Error("Found leading zero: "+r);var a="";r.length>1&&(a=r.substring(1));var s=r.charAt(0)+"."+a;return this.isNegative()?"-"+s+i:s+i};Qe.prototype.abs=function(){return this.isNaN()?Qe.NaN:this.isNegative()?this.negate():new Qe(this)};Qe.prototype.isPositive=function(){return(this._hi>0||this._hi===0)&&this._lo>0};Qe.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo};Qe.prototype.add=function(){if(arguments[0]instanceof Qe){var t=arguments[0];return Qe.copy(this).selfAdd(t)}else if(typeof arguments[0]=="number"){var n=arguments[0];return Qe.copy(this).selfAdd(n)}};Qe.prototype.init=function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof Qe){var n=arguments[0];this._hi=n._hi,this._lo=n._lo}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];this._hi=r,this._lo=i}};Qe.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo};Qe.prototype.isNegative=function(){return(this._hi<0||this._hi===0)&&this._lo<0};Qe.prototype.trunc=function(){return this.isNaN()?Qe.NaN:this.isPositive()?this.floor():this.ceil()};Qe.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0};Qe.prototype.interfaces_=function(){return[Ps,Ls,b2]};Qe.prototype.getClass=function(){return Qe};Qe.sqr=function(t){return Qe.valueOf(t).selfMultiply(t)};Qe.valueOf=function(){if(typeof arguments[0]=="string"){var t=arguments[0];return Qe.parse(t)}else if(typeof arguments[0]=="number"){var n=arguments[0];return new Qe(n)}};Qe.sqrt=function(t){return Qe.valueOf(t).sqrt()};Qe.parse=function(t){for(var n=0,r=t.length;Zv.isWhitespace(t.charAt(n));)n++;var i=!1;if(n<r){var a=t.charAt(n);(a==="-"||a==="+")&&(n++,a==="-"&&(i=!0))}for(var s=new Qe,o=0,l=0,c=0;!(n>=r);){var u=t.charAt(n);if(n++,Zv.isDigit(u)){var f=u-"0";s.selfMultiply(Qe.TEN),s.selfAdd(f),o++;continue}if(u==="."){l=o;continue}if(u==="e"||u==="E"){var h=t.substring(n);try{c=Dl.parseInt(h)}catch(v){throw v instanceof Error?new Error("Invalid exponent "+h+" in string "+t):v}finally{}break}throw new Error("Unexpected character '"+u+"' at position "+n+" in string "+t)}var d=s,p=o-l-c;if(p===0)d=s;else if(p>0){var g=Qe.TEN.pow(p);d=s.divide(g)}else if(p<0){var m=Qe.TEN.pow(-p);d=s.multiply(m)}return i?d.negate():d};Qe.createNaN=function(){return new Qe(nr.NaN,nr.NaN)};Qe.copy=function(t){return new Qe(t)};Qe.magnitude=function(t){var n=Math.abs(t),r=Math.log(n)/Math.log(10),i=Math.trunc(Math.floor(r)),a=Math.pow(10,i);return a*10<=n&&(i+=1),i};Qe.stringOfChar=function(t,n){for(var r=new Wl,i=0;i<n;i++)r.append(t);return r.toString()};ul.PI.get=function(){return new Qe(3.141592653589793,12246467991473532e-32)};ul.TWO_PI.get=function(){return new Qe(6.283185307179586,24492935982947064e-32)};ul.PI_2.get=function(){return new Qe(1.5707963267948966,6123233995736766e-32)};ul.E.get=function(){return new Qe(2.718281828459045,14456468917292502e-32)};ul.NaN.get=function(){return new Qe(nr.NaN,nr.NaN)};ul.EPS.get=function(){return 123259516440783e-46};ul.SPLIT.get=function(){return 134217729};ul.MAX_PRINT_DIGITS.get=function(){return 32};ul.TEN.get=function(){return Qe.valueOf(10)};ul.ONE.get=function(){return Qe.valueOf(1)};ul.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"};ul.SCI_NOT_ZERO.get=function(){return"0.0E0"};Object.defineProperties(Qe,ul);var mo=function(){},lD={DP_SAFE_EPSILON:{configurable:!0}};mo.prototype.interfaces_=function(){return[]};mo.prototype.getClass=function(){return mo};mo.orientationIndex=function(t,n,r){var i=mo.orientationIndexFilter(t,n,r);if(i<=1)return i;var a=Qe.valueOf(n.x).selfAdd(-t.x),s=Qe.valueOf(n.y).selfAdd(-t.y),o=Qe.valueOf(r.x).selfAdd(-n.x),l=Qe.valueOf(r.y).selfAdd(-n.y);return a.selfMultiply(l).selfSubtract(s.selfMultiply(o)).signum()};mo.signOfDet2x2=function(t,n,r,i){var a=t.multiply(i).selfSubtract(n.multiply(r));return a.signum()};mo.intersection=function(t,n,r,i){var a=Qe.valueOf(i.y).selfSubtract(r.y).selfMultiply(Qe.valueOf(n.x).selfSubtract(t.x)),s=Qe.valueOf(i.x).selfSubtract(r.x).selfMultiply(Qe.valueOf(n.y).selfSubtract(t.y)),o=a.subtract(s),l=Qe.valueOf(i.x).selfSubtract(r.x).selfMultiply(Qe.valueOf(t.y).selfSubtract(r.y)),c=Qe.valueOf(i.y).selfSubtract(r.y).selfMultiply(Qe.valueOf(t.x).selfSubtract(r.x)),u=l.subtract(c),f=u.selfDivide(o).doubleValue(),h=Qe.valueOf(t.x).selfAdd(Qe.valueOf(n.x).selfSubtract(t.x).selfMultiply(f)).doubleValue(),d=Qe.valueOf(n.x).selfSubtract(t.x).selfMultiply(Qe.valueOf(t.y).selfSubtract(r.y)),p=Qe.valueOf(n.y).selfSubtract(t.y).selfMultiply(Qe.valueOf(t.x).selfSubtract(r.x)),g=d.subtract(p),m=g.selfDivide(o).doubleValue(),v=Qe.valueOf(r.y).selfAdd(Qe.valueOf(i.y).selfSubtract(r.y).selfMultiply(m)).doubleValue();return new ze(h,v)};mo.orientationIndexFilter=function(t,n,r){var i=null,a=(t.x-r.x)*(n.y-r.y),s=(t.y-r.y)*(n.x-r.x),o=a-s;if(a>0){if(s<=0)return mo.signum(o);i=a+s}else if(a<0){if(s>=0)return mo.signum(o);i=-a-s}else return mo.signum(o);var l=mo.DP_SAFE_EPSILON*i;return o>=l||-o>=l?mo.signum(o):2};mo.signum=function(t){return t>0?1:t<0?-1:0};lD.DP_SAFE_EPSILON.get=function(){return 1e-15};Object.defineProperties(mo,lD);var Ir=function(){},Vy={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Vy.X.get=function(){return 0};Vy.Y.get=function(){return 1};Vy.Z.get=function(){return 2};Vy.M.get=function(){return 3};Ir.prototype.setOrdinate=function(t,n,r){};Ir.prototype.size=function(){};Ir.prototype.getOrdinate=function(t,n){};Ir.prototype.getCoordinate=function(){};Ir.prototype.getCoordinateCopy=function(t){};Ir.prototype.getDimension=function(){};Ir.prototype.getX=function(t){};Ir.prototype.clone=function(){};Ir.prototype.expandEnvelope=function(t){};Ir.prototype.copy=function(){};Ir.prototype.getY=function(t){};Ir.prototype.toCoordinateArray=function(){};Ir.prototype.interfaces_=function(){return[b2]};Ir.prototype.getClass=function(){return Ir};Object.defineProperties(Ir,Vy);var uD=function(){},R0=function(e){function t(){e.call(this,"Projective point not representable on the Cartesian plane.")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(uD),Oa=function(){};Oa.arraycopy=function(t,n,r,i,a){for(var s=0,o=n;o<n+a;o++)r[i+s]=t[o],s++};Oa.getProperty=function(t){return{"line.separator":`
`}[t]};var Xs=function e(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof e&&arguments[1]instanceof e){var i=arguments[0],a=arguments[1];this.x=i.y*a.w-a.y*i.w,this.y=a.x*i.w-i.x*a.w,this.w=i.x*a.y-a.x*i.y}else if(arguments[0]instanceof ze&&arguments[1]instanceof ze){var s=arguments[0],o=arguments[1];this.x=s.y-o.y,this.y=o.x-s.x,this.w=s.x*o.y-o.x*s.y}}else if(arguments.length===3){var l=arguments[0],c=arguments[1],u=arguments[2];this.x=l,this.y=c,this.w=u}else if(arguments.length===4){var f=arguments[0],h=arguments[1],d=arguments[2],p=arguments[3],g=f.y-h.y,m=h.x-f.x,v=f.x*h.y-h.x*f.y,y=d.y-p.y,_=p.x-d.x,b=d.x*p.y-p.x*d.y;this.x=m*b-_*v,this.y=y*v-g*b,this.w=g*_-y*m}};Xs.prototype.getY=function(){var t=this.y/this.w;if(nr.isNaN(t)||nr.isInfinite(t))throw new R0;return t};Xs.prototype.getX=function(){var t=this.x/this.w;if(nr.isNaN(t)||nr.isInfinite(t))throw new R0;return t};Xs.prototype.getCoordinate=function(){var t=new ze;return t.x=this.getX(),t.y=this.getY(),t};Xs.prototype.interfaces_=function(){return[]};Xs.prototype.getClass=function(){return Xs};Xs.intersection=function(t,n,r,i){var a=t.y-n.y,s=n.x-t.x,o=t.x*n.y-n.x*t.y,l=r.y-i.y,c=i.x-r.x,u=r.x*i.y-i.x*r.y,f=s*u-c*o,h=l*o-a*u,d=a*c-l*s,p=f/d,g=h/d;if(nr.isNaN(p)||nr.isInfinite(p)||nr.isNaN(g)||nr.isInfinite(g))throw new R0;return new ze(p,g)};var Bn=function e(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof ze){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(arguments.length===4){var a=arguments[0],s=arguments[1],o=arguments[2],l=arguments[3];this.init(a,s,o,l)}},cD={serialVersionUID:{configurable:!0}};Bn.prototype.getArea=function(){return this.getWidth()*this.getHeight()};Bn.prototype.equals=function(t){if(!(t instanceof Bn))return!1;var n=t;return this.isNull()?n.isNull():this._maxx===n.getMaxX()&&this._maxy===n.getMaxY()&&this._minx===n.getMinX()&&this._miny===n.getMinY()};Bn.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new Bn;var n=this._minx>t._minx?this._minx:t._minx,r=this._miny>t._miny?this._miny:t._miny,i=this._maxx<t._maxx?this._maxx:t._maxx,a=this._maxy<t._maxy?this._maxy:t._maxy;return new Bn(n,i,r,a)};Bn.prototype.isNull=function(){return this._maxx<this._minx};Bn.prototype.getMaxX=function(){return this._maxx};Bn.prototype.covers=function(){if(arguments.length===1){if(arguments[0]instanceof ze){var t=arguments[0];return this.covers(t.x,t.y)}else if(arguments[0]instanceof Bn){var n=arguments[0];return this.isNull()||n.isNull()?!1:n.getMinX()>=this._minx&&n.getMaxX()<=this._maxx&&n.getMinY()>=this._miny&&n.getMaxY()<=this._maxy}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];return this.isNull()?!1:r>=this._minx&&r<=this._maxx&&i>=this._miny&&i<=this._maxy}};Bn.prototype.intersects=function(){if(arguments.length===1){if(arguments[0]instanceof Bn){var t=arguments[0];return this.isNull()||t.isNull()?!1:!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}else if(arguments[0]instanceof ze){var n=arguments[0];return this.intersects(n.x,n.y)}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];return this.isNull()?!1:!(r>this._maxx||r<this._minx||i>this._maxy||i<this._miny)}};Bn.prototype.getMinY=function(){return this._miny};Bn.prototype.getMinX=function(){return this._minx};Bn.prototype.expandToInclude=function(){if(arguments.length===1){if(arguments[0]instanceof ze){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof Bn){var n=arguments[0];if(n.isNull())return null;this.isNull()?(this._minx=n.getMinX(),this._maxx=n.getMaxX(),this._miny=n.getMinY(),this._maxy=n.getMaxY()):(n._minx<this._minx&&(this._minx=n._minx),n._maxx>this._maxx&&(this._maxx=n._maxx),n._miny<this._miny&&(this._miny=n._miny),n._maxy>this._maxy&&(this._maxy=n._maxy))}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];this.isNull()?(this._minx=r,this._maxx=r,this._miny=i,this._maxy=i):(r<this._minx&&(this._minx=r),r>this._maxx&&(this._maxx=r),i<this._miny&&(this._miny=i),i>this._maxy&&(this._maxy=i))}};Bn.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),n=this.getHeight();return t<n?t:n};Bn.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx};Bn.prototype.compareTo=function(t){var n=t;return this.isNull()?n.isNull()?0:-1:n.isNull()?1:this._minx<n._minx?-1:this._minx>n._minx?1:this._miny<n._miny?-1:this._miny>n._miny?1:this._maxx<n._maxx?-1:this._maxx>n._maxx?1:this._maxy<n._maxy?-1:this._maxy>n._maxy?1:0};Bn.prototype.translate=function(t,n){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+n,this.getMaxY()+n)};Bn.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"};Bn.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1};Bn.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny};Bn.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),n=this.getHeight();return t>n?t:n};Bn.prototype.expandBy=function(){if(arguments.length===1){var t=arguments[0];this.expandBy(t,t)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];if(this.isNull())return null;this._minx-=n,this._maxx+=n,this._miny-=r,this._maxy+=r,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}};Bn.prototype.contains=function(){if(arguments.length===1){if(arguments[0]instanceof Bn){var t=arguments[0];return this.covers(t)}else if(arguments[0]instanceof ze){var n=arguments[0];return this.covers(n)}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];return this.covers(r,i)}};Bn.prototype.centre=function(){return this.isNull()?null:new ze((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)};Bn.prototype.init=function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof ze){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof Bn){var n=arguments[0];this._minx=n._minx,this._maxx=n._maxx,this._miny=n._miny,this._maxy=n._maxy}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(arguments.length===4){var a=arguments[0],s=arguments[1],o=arguments[2],l=arguments[3];a<s?(this._minx=a,this._maxx=s):(this._minx=s,this._maxx=a),o<l?(this._miny=o,this._maxy=l):(this._miny=l,this._maxy=o)}};Bn.prototype.getMaxY=function(){return this._maxy};Bn.prototype.distance=function(t){if(this.intersects(t))return 0;var n=0;this._maxx<t._minx?n=t._minx-this._maxx:this._minx>t._maxx&&(n=this._minx-t._maxx);var r=0;return this._maxy<t._miny?r=t._miny-this._maxy:this._miny>t._maxy&&(r=this._miny-t._maxy),n===0?r:r===0?n:Math.sqrt(n*n+r*r)};Bn.prototype.hashCode=function(){var t=17;return t=37*t+ze.hashCode(this._minx),t=37*t+ze.hashCode(this._maxx),t=37*t+ze.hashCode(this._miny),t=37*t+ze.hashCode(this._maxy),t};Bn.prototype.interfaces_=function(){return[Ls,Ps]};Bn.prototype.getClass=function(){return Bn};Bn.intersects=function(){if(arguments.length===3){var t=arguments[0],n=arguments[1],r=arguments[2];return r.x>=(t.x<n.x?t.x:n.x)&&r.x<=(t.x>n.x?t.x:n.x)&&r.y>=(t.y<n.y?t.y:n.y)&&r.y<=(t.y>n.y?t.y:n.y)}else if(arguments.length===4){var i=arguments[0],a=arguments[1],s=arguments[2],o=arguments[3],l=Math.min(s.x,o.x),c=Math.max(s.x,o.x),u=Math.min(i.x,a.x),f=Math.max(i.x,a.x);return!(u>c||f<l||(l=Math.min(s.y,o.y),c=Math.max(s.y,o.y),u=Math.min(i.y,a.y),f=Math.max(i.y,a.y),u>c)||f<l)}};cD.serialVersionUID.get=function(){return 5873921885273102e3};Object.defineProperties(Bn,cD);var xl={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},w2=function(t){this.geometryFactory=t||new yr};w2.prototype.read=function(t){var n,r,i;t=t.replace(/[\n\r]/g," ");var a=xl.typeStr.exec(t);if(t.search("EMPTY")!==-1&&(a=xl.emptyTypeStr.exec(t),a[2]=void 0),a&&(r=a[1].toLowerCase(),i=a[2],pg[r]&&(n=pg[r].apply(this,[i]))),n===void 0)throw new Error("Could not parse WKT "+t);return n};w2.prototype.write=function(t){return this.extractGeometry(t)};w2.prototype.extractGeometry=function(t){var n=t.getGeometryType().toLowerCase();if(!zu[n])return null;var r=n.toUpperCase(),i;return t.isEmpty()?i=r+" EMPTY":i=r+"("+zu[n].apply(this,[t])+")",i};var zu={coordinate:function(t){return t.x+" "+t.y},point:function(t){return zu.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var n=this,r=[],i=0,a=t._geometries.length;i<a;++i)r.push("("+zu.point.apply(n,[t._geometries[i]])+")");return r.join(",")},linestring:function(t){for(var n=this,r=[],i=0,a=t._points._coordinates.length;i<a;++i)r.push(zu.coordinate.apply(n,[t._points._coordinates[i]]));return r.join(",")},linearring:function(t){for(var n=this,r=[],i=0,a=t._points._coordinates.length;i<a;++i)r.push(zu.coordinate.apply(n,[t._points._coordinates[i]]));return r.join(",")},multilinestring:function(t){for(var n=this,r=[],i=0,a=t._geometries.length;i<a;++i)r.push("("+zu.linestring.apply(n,[t._geometries[i]])+")");return r.join(",")},polygon:function(t){var n=this,r=[];r.push("("+zu.linestring.apply(this,[t._shell])+")");for(var i=0,a=t._holes.length;i<a;++i)r.push("("+zu.linestring.apply(n,[t._holes[i]])+")");return r.join(",")},multipolygon:function(t){for(var n=this,r=[],i=0,a=t._geometries.length;i<a;++i)r.push("("+zu.polygon.apply(n,[t._geometries[i]])+")");return r.join(",")},geometrycollection:function(t){for(var n=this,r=[],i=0,a=t._geometries.length;i<a;++i)r.push(n.extractGeometry(t._geometries[i]));return r.join(",")}},pg={point:function(t){if(t===void 0)return this.geometryFactory.createPoint();var n=t.trim().split(xl.spaces);return this.geometryFactory.createPoint(new ze(Number.parseFloat(n[0]),Number.parseFloat(n[1])))},multipoint:function(t){var n=this;if(t===void 0)return this.geometryFactory.createMultiPoint();for(var r,i=t.trim().split(","),a=[],s=0,o=i.length;s<o;++s)r=i[s].replace(xl.trimParens,"$1"),a.push(pg.point.apply(n,[r]));return this.geometryFactory.createMultiPoint(a)},linestring:function(t){if(t===void 0)return this.geometryFactory.createLineString();for(var n=t.trim().split(","),r=[],i,a=0,s=n.length;a<s;++a)i=n[a].trim().split(xl.spaces),r.push(new ze(Number.parseFloat(i[0]),Number.parseFloat(i[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(t===void 0)return this.geometryFactory.createLinearRing();for(var n=t.trim().split(","),r=[],i,a=0,s=n.length;a<s;++a)i=n[a].trim().split(xl.spaces),r.push(new ze(Number.parseFloat(i[0]),Number.parseFloat(i[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){var n=this;if(t===void 0)return this.geometryFactory.createMultiLineString();for(var r,i=t.trim().split(xl.parenComma),a=[],s=0,o=i.length;s<o;++s)r=i[s].replace(xl.trimParens,"$1"),a.push(pg.linestring.apply(n,[r]));return this.geometryFactory.createMultiLineString(a)},polygon:function(t){var n=this;if(t===void 0)return this.geometryFactory.createPolygon();for(var r,i,a,s=t.trim().split(xl.parenComma),o,l=[],c=0,u=s.length;c<u;++c)r=s[c].replace(xl.trimParens,"$1"),i=pg.linestring.apply(n,[r]),a=n.geometryFactory.createLinearRing(i._points),c===0?o=a:l.push(a);return this.geometryFactory.createPolygon(o,l)},multipolygon:function(t){var n=this;if(t===void 0)return this.geometryFactory.createMultiPolygon();for(var r,i=t.trim().split(xl.doubleParenComma),a=[],s=0,o=i.length;s<o;++s)r=i[s].replace(xl.trimParens,"$1"),a.push(pg.polygon.apply(n,[r]));return this.geometryFactory.createMultiPolygon(a)},geometrycollection:function(t){var n=this;if(t===void 0)return this.geometryFactory.createGeometryCollection();t=t.replace(/,\s*([A-Za-z])/g,"|$1");for(var r=t.trim().split("|"),i=[],a=0,s=r.length;a<s;++a)i.push(n.read(r[a]));return this.geometryFactory.createGeometryCollection(i)}},el=function(t){this.parser=new w2(t)};el.prototype.write=function(t){return this.parser.write(t)};el.toLineString=function(t,n){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+n.x+" "+n.y+" )"};var sc=function(e){function t(n){e.call(this,n),this.name="RuntimeException",this.message=n,this.stack=new e().stack}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),ob=function(e){function t(){if(e.call(this),arguments.length===0)e.call(this);else if(arguments.length===1){var n=arguments[0];e.call(this,n)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(sc),fr=function(){};fr.prototype.interfaces_=function(){return[]};fr.prototype.getClass=function(){return fr};fr.shouldNeverReachHere=function(){if(arguments.length===0)fr.shouldNeverReachHere(null);else if(arguments.length===1){var t=arguments[0];throw new ob("Should never reach here"+(t!==null?": "+t:""))}};fr.isTrue=function(){var t,n;if(arguments.length===1)t=arguments[0],fr.isTrue(t,null);else if(arguments.length===2&&(t=arguments[0],n=arguments[1],!t))throw n===null?new ob:new ob(n)};fr.equals=function(){var t,n,r;if(arguments.length===2)t=arguments[0],n=arguments[1],fr.equals(t,n,null);else if(arguments.length===3&&(t=arguments[0],n=arguments[1],r=arguments[2],!n.equals(t)))throw new ob("Expected "+t+" but encountered "+n+(r!==null?": "+r:""))};var Mi=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new ze,this._intPt[1]=new ze,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},up={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Mi.prototype.getIndexAlongSegment=function(t,n){return this.computeIntLineIndex(),this._intLineIndex[t][n]};Mi.prototype.getTopologySummary=function(){var t=new Wl;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()};Mi.prototype.computeIntersection=function(t,n,r,i){this._inputLines[0][0]=t,this._inputLines[0][1]=n,this._inputLines[1][0]=r,this._inputLines[1][1]=i,this._result=this.computeIntersect(t,n,r,i)};Mi.prototype.getIntersectionNum=function(){return this._result};Mi.prototype.computeIntLineIndex=function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var t=arguments[0],n=this.getEdgeDistance(t,0),r=this.getEdgeDistance(t,1);n>r?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}};Mi.prototype.isProper=function(){return this.hasIntersection()&&this._isProper};Mi.prototype.setPrecisionModel=function(t){this._precisionModel=t};Mi.prototype.isInteriorIntersection=function(){var t=this;if(arguments.length===0)return!!(this.isInteriorIntersection(0)||this.isInteriorIntersection(1));if(arguments.length===1){for(var n=arguments[0],r=0;r<this._result;r++)if(!(t._intPt[r].equals2D(t._inputLines[n][0])||t._intPt[r].equals2D(t._inputLines[n][1])))return!0;return!1}};Mi.prototype.getIntersection=function(t){return this._intPt[t]};Mi.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper};Mi.prototype.hasIntersection=function(){return this._result!==Mi.NO_INTERSECTION};Mi.prototype.getEdgeDistance=function(t,n){var r=Mi.computeEdgeDistance(this._intPt[n],this._inputLines[t][0],this._inputLines[t][1]);return r};Mi.prototype.isCollinear=function(){return this._result===Mi.COLLINEAR_INTERSECTION};Mi.prototype.toString=function(){return el.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+el.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()};Mi.prototype.getEndpoint=function(t,n){return this._inputLines[t][n]};Mi.prototype.isIntersection=function(t){for(var n=this,r=0;r<this._result;r++)if(n._intPt[r].equals2D(t))return!0;return!1};Mi.prototype.getIntersectionAlongSegment=function(t,n){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][n]]};Mi.prototype.interfaces_=function(){return[]};Mi.prototype.getClass=function(){return Mi};Mi.computeEdgeDistance=function(t,n,r){var i=Math.abs(r.x-n.x),a=Math.abs(r.y-n.y),s=-1;if(t.equals(n))s=0;else if(t.equals(r))i>a?s=i:s=a;else{var o=Math.abs(t.x-n.x),l=Math.abs(t.y-n.y);i>a?s=o:s=l,s===0&&!t.equals(n)&&(s=Math.max(o,l))}return fr.isTrue(!(s===0&&!t.equals(n)),"Bad distance calculation"),s};Mi.nonRobustComputeEdgeDistance=function(t,n,r){var i=t.x-n.x,a=t.y-n.y,s=Math.sqrt(i*i+a*a);return fr.isTrue(!(s===0&&!t.equals(n)),"Invalid distance calculation"),s};up.DONT_INTERSECT.get=function(){return 0};up.DO_INTERSECT.get=function(){return 1};up.COLLINEAR.get=function(){return 2};up.NO_INTERSECTION.get=function(){return 0};up.POINT_INTERSECTION.get=function(){return 1};up.COLLINEAR_INTERSECTION.get=function(){return 2};Object.defineProperties(Mi,up);var Ph=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isInSegmentEnvelopes=function(r){var i=new Bn(this._inputLines[0][0],this._inputLines[0][1]),a=new Bn(this._inputLines[1][0],this._inputLines[1][1]);return i.contains(r)&&a.contains(r)},t.prototype.computeIntersection=function(){if(arguments.length===3){var r=arguments[0],i=arguments[1],a=arguments[2];if(this._isProper=!1,Bn.intersects(i,a,r)&&Cn.orientationIndex(i,a,r)===0&&Cn.orientationIndex(a,i,r)===0)return this._isProper=!0,(r.equals(i)||r.equals(a))&&(this._isProper=!1),this._result=e.POINT_INTERSECTION,null;this._result=e.NO_INTERSECTION}else return e.prototype.computeIntersection.apply(this,arguments)},t.prototype.normalizeToMinimum=function(r,i,a,s,o){o.x=this.smallestInAbsValue(r.x,i.x,a.x,s.x),o.y=this.smallestInAbsValue(r.y,i.y,a.y,s.y),r.x-=o.x,r.y-=o.y,i.x-=o.x,i.y-=o.y,a.x-=o.x,a.y-=o.y,s.x-=o.x,s.y-=o.y},t.prototype.safeHCoordinateIntersection=function(r,i,a,s){var o=null;try{o=Xs.intersection(r,i,a,s)}catch(l){if(l instanceof R0)o=t.nearestEndpoint(r,i,a,s);else throw l}finally{}return o},t.prototype.intersection=function(r,i,a,s){var o=this.intersectionWithNormalization(r,i,a,s);return this.isInSegmentEnvelopes(o)||(o=new ze(t.nearestEndpoint(r,i,a,s))),this._precisionModel!==null&&this._precisionModel.makePrecise(o),o},t.prototype.smallestInAbsValue=function(r,i,a,s){var o=r,l=Math.abs(o);return Math.abs(i)<l&&(o=i,l=Math.abs(i)),Math.abs(a)<l&&(o=a,l=Math.abs(a)),Math.abs(s)<l&&(o=s),o},t.prototype.checkDD=function(r,i,a,s,o){var l=mo.intersection(r,i,a,s),c=this.isInSegmentEnvelopes(l);Oa.out.println("DD in env = "+c+"  --------------------- "+l),o.distance(l)>1e-4&&Oa.out.println("Distance = "+o.distance(l))},t.prototype.intersectionWithNormalization=function(r,i,a,s){var o=new ze(r),l=new ze(i),c=new ze(a),u=new ze(s),f=new ze;this.normalizeToEnvCentre(o,l,c,u,f);var h=this.safeHCoordinateIntersection(o,l,c,u);return h.x+=f.x,h.y+=f.y,h},t.prototype.computeCollinearIntersection=function(r,i,a,s){var o=Bn.intersects(r,i,a),l=Bn.intersects(r,i,s),c=Bn.intersects(a,s,r),u=Bn.intersects(a,s,i);return o&&l?(this._intPt[0]=a,this._intPt[1]=s,e.COLLINEAR_INTERSECTION):c&&u?(this._intPt[0]=r,this._intPt[1]=i,e.COLLINEAR_INTERSECTION):o&&c?(this._intPt[0]=a,this._intPt[1]=r,a.equals(r)&&!l&&!u?e.POINT_INTERSECTION:e.COLLINEAR_INTERSECTION):o&&u?(this._intPt[0]=a,this._intPt[1]=i,a.equals(i)&&!l&&!c?e.POINT_INTERSECTION:e.COLLINEAR_INTERSECTION):l&&c?(this._intPt[0]=s,this._intPt[1]=r,s.equals(r)&&!o&&!u?e.POINT_INTERSECTION:e.COLLINEAR_INTERSECTION):l&&u?(this._intPt[0]=s,this._intPt[1]=i,s.equals(i)&&!o&&!c?e.POINT_INTERSECTION:e.COLLINEAR_INTERSECTION):e.NO_INTERSECTION},t.prototype.normalizeToEnvCentre=function(r,i,a,s,o){var l=r.x<i.x?r.x:i.x,c=r.y<i.y?r.y:i.y,u=r.x>i.x?r.x:i.x,f=r.y>i.y?r.y:i.y,h=a.x<s.x?a.x:s.x,d=a.y<s.y?a.y:s.y,p=a.x>s.x?a.x:s.x,g=a.y>s.y?a.y:s.y,m=l>h?l:h,v=u<p?u:p,y=c>d?c:d,_=f<g?f:g,b=(m+v)/2,w=(y+_)/2;o.x=b,o.y=w,r.x-=o.x,r.y-=o.y,i.x-=o.x,i.y-=o.y,a.x-=o.x,a.y-=o.y,s.x-=o.x,s.y-=o.y},t.prototype.computeIntersect=function(r,i,a,s){if(this._isProper=!1,!Bn.intersects(r,i,a,s))return e.NO_INTERSECTION;var o=Cn.orientationIndex(r,i,a),l=Cn.orientationIndex(r,i,s);if(o>0&&l>0||o<0&&l<0)return e.NO_INTERSECTION;var c=Cn.orientationIndex(a,s,r),u=Cn.orientationIndex(a,s,i);if(c>0&&u>0||c<0&&u<0)return e.NO_INTERSECTION;var f=o===0&&l===0&&c===0&&u===0;return f?this.computeCollinearIntersection(r,i,a,s):(o===0||l===0||c===0||u===0?(this._isProper=!1,r.equals2D(a)||r.equals2D(s)?this._intPt[0]=r:i.equals2D(a)||i.equals2D(s)?this._intPt[0]=i:o===0?this._intPt[0]=new ze(a):l===0?this._intPt[0]=new ze(s):c===0?this._intPt[0]=new ze(r):u===0&&(this._intPt[0]=new ze(i))):(this._isProper=!0,this._intPt[0]=this.intersection(r,i,a,s)),e.POINT_INTERSECTION)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.nearestEndpoint=function(r,i,a,s){var o=r,l=Cn.distancePointLine(r,a,s),c=Cn.distancePointLine(i,a,s);return c<l&&(l=c,o=i),c=Cn.distancePointLine(a,r,i),c<l&&(l=c,o=a),c=Cn.distancePointLine(s,r,i),c<l&&(l=c,o=s),o},t}(Mi),Gd=function(){};Gd.prototype.interfaces_=function(){return[]};Gd.prototype.getClass=function(){return Gd};Gd.orientationIndex=function(t,n,r){var i=n.x-t.x,a=n.y-t.y,s=r.x-n.x,o=r.y-n.y;return Gd.signOfDet2x2(i,a,s,o)};Gd.signOfDet2x2=function(t,n,r,i){var a=null,s=null,o=null;if(a=1,t===0||i===0)return n===0||r===0?0:n>0?r>0?-a:a:r>0?a:-a;if(n===0||r===0)return i>0?t>0?a:-a:t>0?-a:a;if(n>0?i>0?n<=i||(a=-a,s=t,t=r,r=s,s=n,n=i,i=s):n<=-i?(a=-a,r=-r,i=-i):(s=t,t=-r,r=s,s=n,n=-i,i=s):i>0?-n<=i?(a=-a,t=-t,n=-n):(s=-t,t=r,r=s,s=-n,n=i,i=s):n>=i?(t=-t,n=-n,r=-r,i=-i):(a=-a,s=-t,t=-r,r=s,s=-n,n=-i,i=s),t>0)if(r>0){if(!(t<=r))return a}else return a;else{if(r>0)return-a;if(t>=r)a=-a,t=-t,r=-r;else return-a}for(;;){if(o=Math.floor(r/t),r=r-o*t,i=i-o*n,i<0)return-a;if(i>n)return a;if(t>r+r){if(n<i+i)return a}else{if(n>i+i)return-a;r=t-r,i=n-i,a=-a}if(i===0)return r===0?0:-a;if(r===0||(o=Math.floor(t/r),t=t-o*r,n=n-o*i,n<0))return a;if(n>i)return-a;if(r>t+t){if(i<n+n)return-a}else{if(i>n+n)return a;t=r-t,n=i-n,a=-a}if(n===0)return t===0?0:a;if(t===0)return-a}};var Il=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};Il.prototype.countSegment=function(t,n){if(t.x<this._p.x&&n.x<this._p.x)return null;if(this._p.x===n.x&&this._p.y===n.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&n.y===this._p.y){var r=t.x,i=n.x;return r>i&&(r=n.x,i=t.x),this._p.x>=r&&this._p.x<=i&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&n.y<=this._p.y||n.y>this._p.y&&t.y<=this._p.y){var a=t.x-this._p.x,s=t.y-this._p.y,o=n.x-this._p.x,l=n.y-this._p.y,c=Gd.signOfDet2x2(a,s,o,l);if(c===0)return this._isPointOnSegment=!0,null;l<s&&(c=-c),c>0&&this._crossingCount++}};Il.prototype.isPointInPolygon=function(){return this.getLocation()!==We.EXTERIOR};Il.prototype.getLocation=function(){return this._isPointOnSegment?We.BOUNDARY:this._crossingCount%2===1?We.INTERIOR:We.EXTERIOR};Il.prototype.isOnSegment=function(){return this._isPointOnSegment};Il.prototype.interfaces_=function(){return[]};Il.prototype.getClass=function(){return Il};Il.locatePointInRing=function(){if(arguments[0]instanceof ze&&qn(arguments[1],Ir)){for(var t=arguments[0],n=arguments[1],r=new Il(t),i=new ze,a=new ze,s=1;s<n.size();s++)if(n.getCoordinate(s,i),n.getCoordinate(s-1,a),r.countSegment(i,a),r.isOnSegment())return r.getLocation();return r.getLocation()}else if(arguments[0]instanceof ze&&arguments[1]instanceof Array){for(var o=arguments[0],l=arguments[1],c=new Il(o),u=1;u<l.length;u++){var f=l[u],h=l[u-1];if(c.countSegment(f,h),c.isOnSegment())return c.getLocation()}return c.getLocation()}};var Cn=function(){},cp={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};Cn.prototype.interfaces_=function(){return[]};Cn.prototype.getClass=function(){return Cn};Cn.orientationIndex=function(t,n,r){return mo.orientationIndex(t,n,r)};Cn.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var n=0,r=t[0].x,i=1;i<t.length-1;i++){var a=t[i].x-r,s=t[i+1].y,o=t[i-1].y;n+=a*(o-s)}return n/2}else if(qn(arguments[0],Ir)){var l=arguments[0],c=l.size();if(c<3)return 0;var u=new ze,f=new ze,h=new ze;l.getCoordinate(0,f),l.getCoordinate(1,h);var d=f.x;h.x-=d;for(var p=0,g=1;g<c-1;g++)u.y=f.y,f.x=h.x,f.y=h.y,l.getCoordinate(g+1,h),h.x-=d,p+=f.x*(u.y-h.y);return p/2}};Cn.distanceLineLine=function(t,n,r,i){if(t.equals(n))return Cn.distancePointLine(t,r,i);if(r.equals(i))return Cn.distancePointLine(i,t,n);var a=!1;if(!Bn.intersects(t,n,r,i))a=!0;else{var s=(n.x-t.x)*(i.y-r.y)-(n.y-t.y)*(i.x-r.x);if(s===0)a=!0;else{var o=(t.y-r.y)*(i.x-r.x)-(t.x-r.x)*(i.y-r.y),l=(t.y-r.y)*(n.x-t.x)-(t.x-r.x)*(n.y-t.y),c=l/s,u=o/s;(u<0||u>1||c<0||c>1)&&(a=!0)}}return a?Jo.min(Cn.distancePointLine(t,r,i),Cn.distancePointLine(n,r,i),Cn.distancePointLine(r,t,n),Cn.distancePointLine(i,t,n)):0};Cn.isPointInRing=function(t,n){return Cn.locatePointInRing(t,n)!==We.EXTERIOR};Cn.computeLength=function(t){var n=t.size();if(n<=1)return 0;var r=0,i=new ze;t.getCoordinate(0,i);for(var a=i.x,s=i.y,o=1;o<n;o++){t.getCoordinate(o,i);var l=i.x,c=i.y,u=l-a,f=c-s;r+=Math.sqrt(u*u+f*f),a=l,s=c}return r};Cn.isCCW=function(t){var n=t.length-1;if(n<3)throw new Ti("Ring has fewer than 4 points, so orientation cannot be determined");for(var r=t[0],i=0,a=1;a<=n;a++){var s=t[a];s.y>r.y&&(r=s,i=a)}var o=i;do o=o-1,o<0&&(o=n);while(t[o].equals2D(r)&&o!==i);var l=i;do l=(l+1)%n;while(t[l].equals2D(r)&&l!==i);var c=t[o],u=t[l];if(c.equals2D(r)||u.equals2D(r)||c.equals2D(u))return!1;var f=Cn.computeOrientation(c,r,u),h=!1;return f===0?h=c.x>u.x:h=f>0,h};Cn.locatePointInRing=function(t,n){return Il.locatePointInRing(t,n)};Cn.distancePointLinePerpendicular=function(t,n,r){var i=(r.x-n.x)*(r.x-n.x)+(r.y-n.y)*(r.y-n.y),a=((n.y-t.y)*(r.x-n.x)-(n.x-t.x)*(r.y-n.y))/i;return Math.abs(a)*Math.sqrt(i)};Cn.computeOrientation=function(t,n,r){return Cn.orientationIndex(t,n,r)};Cn.distancePointLine=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];if(n.length===0)throw new Ti("Line array must contain at least one vertex");for(var r=t.distance(n[0]),i=0;i<n.length-1;i++){var a=Cn.distancePointLine(t,n[i],n[i+1]);a<r&&(r=a)}return r}else if(arguments.length===3){var s=arguments[0],o=arguments[1],l=arguments[2];if(o.x===l.x&&o.y===l.y)return s.distance(o);var c=(l.x-o.x)*(l.x-o.x)+(l.y-o.y)*(l.y-o.y),u=((s.x-o.x)*(l.x-o.x)+(s.y-o.y)*(l.y-o.y))/c;if(u<=0)return s.distance(o);if(u>=1)return s.distance(l);var f=((o.y-s.y)*(l.x-o.x)-(o.x-s.x)*(l.y-o.y))/c;return Math.abs(f)*Math.sqrt(c)}};Cn.isOnLine=function(t,n){for(var r=new Ph,i=1;i<n.length;i++){var a=n[i-1],s=n[i];if(r.computeIntersection(t,a,s),r.hasIntersection())return!0}return!1};cp.CLOCKWISE.get=function(){return-1};cp.RIGHT.get=function(){return Cn.CLOCKWISE};cp.COUNTERCLOCKWISE.get=function(){return 1};cp.LEFT.get=function(){return Cn.COUNTERCLOCKWISE};cp.COLLINEAR.get=function(){return 0};cp.STRAIGHT.get=function(){return Cn.COLLINEAR};Object.defineProperties(Cn,cp);var lc=function(){};lc.prototype.filter=function(t){};lc.prototype.interfaces_=function(){return[]};lc.prototype.getClass=function(){return lc};var Wn=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},Mu={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Wn.prototype.isGeometryCollection=function(){return this.getSortIndex()===Wn.SORTINDEX_GEOMETRYCOLLECTION};Wn.prototype.getFactory=function(){return this._factory};Wn.prototype.getGeometryN=function(t){return this};Wn.prototype.getArea=function(){return 0};Wn.prototype.isRectangle=function(){return!1};Wn.prototype.equals=function(){if(arguments[0]instanceof Wn){var t=arguments[0];return t===null?!1:this.equalsTopo(t)}else if(arguments[0]instanceof Object){var n=arguments[0];if(!(n instanceof Wn))return!1;var r=n;return this.equalsExact(r)}};Wn.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)};Wn.prototype.geometryChanged=function(){this.apply(Wn.geometryChangedFilter)};Wn.prototype.geometryChangedAction=function(){this._envelope=null};Wn.prototype.equalsNorm=function(t){return t===null?!1:this.norm().equalsExact(t.norm())};Wn.prototype.getLength=function(){return 0};Wn.prototype.getNumGeometries=function(){return 1};Wn.prototype.compareTo=function(){if(arguments.length===1){var t=arguments[0],n=t;return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(t)}else if(arguments.length===2){var r=arguments[0],i=arguments[1];return this.getSortIndex()!==r.getSortIndex()?this.getSortIndex()-r.getSortIndex():this.isEmpty()&&r.isEmpty()?0:this.isEmpty()?-1:r.isEmpty()?1:this.compareToSameClass(r,i)}};Wn.prototype.getUserData=function(){return this._userData};Wn.prototype.getSRID=function(){return this._SRID};Wn.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())};Wn.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===Wn.SORTINDEX_GEOMETRYCOLLECTION)throw new Ti("This method does not support GeometryCollection arguments")};Wn.prototype.equal=function(t,n,r){return r===0?t.equals(n):t.distance(n)<=r};Wn.prototype.norm=function(){var t=this.copy();return t.normalize(),t};Wn.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()};Wn.prototype.getEnvelopeInternal=function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new Bn(this._envelope)};Wn.prototype.setSRID=function(t){this._SRID=t};Wn.prototype.setUserData=function(t){this._userData=t};Wn.prototype.compare=function(t,n){for(var r=t.iterator(),i=n.iterator();r.hasNext()&&i.hasNext();){var a=r.next(),s=i.next(),o=a.compareTo(s);if(o!==0)return o}return r.hasNext()?1:i.hasNext()?-1:0};Wn.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()};Wn.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Wn.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Wn.SORTINDEX_MULTIPOINT||this.getSortIndex()===Wn.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Wn.SORTINDEX_MULTIPOLYGON};Wn.prototype.interfaces_=function(){return[b2,Ls,Ps]};Wn.prototype.getClass=function(){return Wn};Wn.hasNonEmptyElements=function(t){for(var n=0;n<t.length;n++)if(!t[n].isEmpty())return!0;return!1};Wn.hasNullElements=function(t){for(var n=0;n<t.length;n++)if(t[n]===null)return!0;return!1};Mu.serialVersionUID.get=function(){return 8763622679187377e3};Mu.SORTINDEX_POINT.get=function(){return 0};Mu.SORTINDEX_MULTIPOINT.get=function(){return 1};Mu.SORTINDEX_LINESTRING.get=function(){return 2};Mu.SORTINDEX_LINEARRING.get=function(){return 3};Mu.SORTINDEX_MULTILINESTRING.get=function(){return 4};Mu.SORTINDEX_POLYGON.get=function(){return 5};Mu.SORTINDEX_MULTIPOLYGON.get=function(){return 6};Mu.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7};Mu.geometryChangedFilter.get=function(){return ZS};Object.defineProperties(Wn,Mu);var ZS=function(){};ZS.interfaces_=function(){return[lc]};ZS.filter=function(t){t.geometryChangedAction()};var pu=function(){};pu.prototype.filter=function(t){};pu.prototype.interfaces_=function(){return[]};pu.prototype.getClass=function(){return pu};var Ms=function(){},gc={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};Ms.prototype.isInBoundary=function(t){};Ms.prototype.interfaces_=function(){return[]};Ms.prototype.getClass=function(){return Ms};gc.Mod2BoundaryNodeRule.get=function(){return n0};gc.EndPointBoundaryNodeRule.get=function(){return r0};gc.MultiValentEndPointBoundaryNodeRule.get=function(){return i0};gc.MonoValentEndPointBoundaryNodeRule.get=function(){return a0};gc.MOD2_BOUNDARY_RULE.get=function(){return new n0};gc.ENDPOINT_BOUNDARY_RULE.get=function(){return new r0};gc.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new i0};gc.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new a0};gc.OGC_SFS_BOUNDARY_RULE.get=function(){return Ms.MOD2_BOUNDARY_RULE};Object.defineProperties(Ms,gc);var n0=function(){};n0.prototype.isInBoundary=function(t){return t%2===1};n0.prototype.interfaces_=function(){return[Ms]};n0.prototype.getClass=function(){return n0};var r0=function(){};r0.prototype.isInBoundary=function(t){return t>0};r0.prototype.interfaces_=function(){return[Ms]};r0.prototype.getClass=function(){return r0};var i0=function(){};i0.prototype.isInBoundary=function(t){return t>1};i0.prototype.interfaces_=function(){return[Ms]};i0.prototype.getClass=function(){return i0};var a0=function(){};a0.prototype.isInBoundary=function(t){return t===1};a0.prototype.interfaces_=function(){return[Ms]};a0.prototype.getClass=function(){return a0};var Ji=function(){};Ji.prototype.add=function(){};Ji.prototype.addAll=function(){};Ji.prototype.isEmpty=function(){};Ji.prototype.iterator=function(){};Ji.prototype.size=function(){};Ji.prototype.toArray=function(){};Ji.prototype.remove=function(){};function JS(e){this.message=e||""}JS.prototype=new Error;JS.prototype.name="IndexOutOfBoundsException";var D0=function(){};D0.prototype.hasNext=function(){};D0.prototype.next=function(){};D0.prototype.remove=function(){};var Ks=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(){},t.prototype.set=function(){},t.prototype.isEmpty=function(){},t}(Ji);function k0(e){this.message=e||""}k0.prototype=new Error;k0.prototype.name="NoSuchElementException";var yn=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof Ji&&this.addAll(arguments[0])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.ensureCapacity=function(){},t.prototype.interfaces_=function(){return[e,Ji]},t.prototype.add=function(r){return arguments.length===1?this.array_.push(r):this.array_.splice(arguments[0],arguments[1]),!0},t.prototype.clear=function(){this.array_=[]},t.prototype.addAll=function(r){for(var i=this,a=r.iterator();a.hasNext();)i.add(a.next());return!0},t.prototype.set=function(r,i){var a=this.array_[r];return this.array_[r]=i,a},t.prototype.iterator=function(){return new Edt(this)},t.prototype.get=function(r){if(r<0||r>=this.size())throw new JS;return this.array_[r]},t.prototype.isEmpty=function(){return this.array_.length===0},t.prototype.size=function(){return this.array_.length},t.prototype.toArray=function(){for(var r=this,i=[],a=0,s=this.array_.length;a<s;a++)i.push(r.array_[a]);return i},t.prototype.remove=function(r){for(var i=this,a=!1,s=0,o=this.array_.length;s<o;s++)if(i.array_[s]===r){i.array_.splice(s,1),a=!0;break}return a},t}(Ks),Edt=function(e){function t(n){e.call(this),this.arrayList_=n,this.position_=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new k0;return this.arrayList_.get(this.position_++)},t.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},t.prototype.set=function(r){return this.arrayList_.set(this.position_-1,r)},t.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},t}(D0),Hy=function(e){function t(){if(e.call(this),arguments.length!==0){if(arguments.length===1){var r=arguments[0];this.ensureCapacity(r.length),this.add(r,!0)}else if(arguments.length===2){var i=arguments[0],a=arguments[1];this.ensureCapacity(i.length),this.add(i,a)}}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},t.prototype.getCoordinate=function(i){return this.get(i)},t.prototype.addAll=function(){var i=this;if(arguments.length===2){for(var a=arguments[0],s=arguments[1],o=!1,l=a.iterator();l.hasNext();)i.add(l.next(),s),o=!0;return o}else return e.prototype.addAll.apply(this,arguments)},t.prototype.clone=function(){for(var i=this,a=e.prototype.clone.call(this),s=0;s<this.size();s++)a.add(s,i.get(s).copy());return a},t.prototype.toCoordinateArray=function(){return this.toArray(t.coordArrayType)},t.prototype.add=function(){var i=this;if(arguments.length===1){var a=arguments[0];e.prototype.add.call(this,a)}else if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var s=arguments[0],o=arguments[1];return this.add(s,o,!0),!0}else if(arguments[0]instanceof ze&&typeof arguments[1]=="boolean"){var l=arguments[0],c=arguments[1];if(!c&&this.size()>=1){var u=this.get(this.size()-1);if(u.equals2D(l))return null}e.prototype.add.call(this,l)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var f=arguments[0],h=arguments[1];return this.add(f,h),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var d=arguments[0],p=arguments[1],g=arguments[2];if(g)for(var m=0;m<d.length;m++)i.add(d[m],p);else for(var v=d.length-1;v>=0;v--)i.add(d[v],p);return!0}else if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof ze){var y=arguments[0],_=arguments[1],b=arguments[2];if(!b){var w=this.size();if(w>0){if(y>0){var T=this.get(y-1);if(T.equals2D(_))return null}if(y<w){var M=this.get(y);if(M.equals2D(_))return null}}}e.prototype.add.call(this,y,_)}}else if(arguments.length===4){var S=arguments[0],E=arguments[1],A=arguments[2],O=arguments[3],N=1;A>O&&(N=-1);for(var F=A;F!==O;F+=N)i.add(S[F],E);return!0}},t.prototype.closeRing=function(){this.size()>0&&this.add(new ze(this.get(0)),!1)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},Object.defineProperties(t,n),t}(yn),_r=function(){},T2={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};T2.ForwardComparator.get=function(){return Jv};T2.BidirectionalComparator.get=function(){return o0};T2.coordArrayType.get=function(){return new Array(0).fill(null)};_r.prototype.interfaces_=function(){return[]};_r.prototype.getClass=function(){return _r};_r.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))};_r.ptNotInList=function(t,n){for(var r=0;r<t.length;r++){var i=t[r];if(_r.indexOf(i,n)<0)return i}return null};_r.scroll=function(t,n){var r=_r.indexOf(n,t);if(r<0)return null;var i=new Array(t.length).fill(null);Oa.arraycopy(t,r,i,0,t.length-r),Oa.arraycopy(t,0,i,t.length-r,r),Oa.arraycopy(i,0,t,0,t.length)};_r.equals=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];if(t===n)return!0;if(t===null||n===null||t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!t[r].equals(n[r]))return!1;return!0}else if(arguments.length===3){var i=arguments[0],a=arguments[1],s=arguments[2];if(i===a)return!0;if(i===null||a===null||i.length!==a.length)return!1;for(var o=0;o<i.length;o++)if(s.compare(i[o],a[o])!==0)return!1;return!0}};_r.intersection=function(t,n){for(var r=new Hy,i=0;i<t.length;i++)n.intersects(t[i])&&r.add(t[i],!0);return r.toCoordinateArray()};_r.hasRepeatedPoints=function(t){for(var n=1;n<t.length;n++)if(t[n-1].equals(t[n]))return!0;return!1};_r.removeRepeatedPoints=function(t){if(!_r.hasRepeatedPoints(t))return t;var n=new Hy(t,!1);return n.toCoordinateArray()};_r.reverse=function(t){for(var n=t.length-1,r=Math.trunc(n/2),i=0;i<=r;i++){var a=t[i];t[i]=t[n-i],t[n-i]=a}};_r.removeNull=function(t){for(var n=0,r=0;r<t.length;r++)t[r]!==null&&n++;var i=new Array(n).fill(null);if(n===0)return i;for(var a=0,s=0;s<t.length;s++)t[s]!==null&&(i[a++]=t[s]);return i};_r.copyDeep=function(){if(arguments.length===1){for(var t=arguments[0],n=new Array(t.length).fill(null),r=0;r<t.length;r++)n[r]=new ze(t[r]);return n}else if(arguments.length===5)for(var i=arguments[0],a=arguments[1],s=arguments[2],o=arguments[3],l=arguments[4],c=0;c<l;c++)s[o+c]=new ze(i[a+c])};_r.isEqualReversed=function(t,n){for(var r=0;r<t.length;r++){var i=t[r],a=n[t.length-r-1];if(i.compareTo(a)!==0)return!1}return!0};_r.envelope=function(t){for(var n=new Bn,r=0;r<t.length;r++)n.expandToInclude(t[r]);return n};_r.toCoordinateArray=function(t){return t.toArray(_r.coordArrayType)};_r.atLeastNCoordinatesOrNothing=function(t,n){return n.length>=t?n:[]};_r.indexOf=function(t,n){for(var r=0;r<n.length;r++)if(t.equals(n[r]))return r;return-1};_r.increasingDirection=function(t){for(var n=0;n<Math.trunc(t.length/2);n++){var r=t.length-1-n,i=t[n].compareTo(t[r]);if(i!==0)return i}return 1};_r.compare=function(t,n){for(var r=0;r<t.length&&r<n.length;){var i=t[r].compareTo(n[r]);if(i!==0)return i;r++}return r<n.length?-1:r<t.length?1:0};_r.minCoordinate=function(t){for(var n=null,r=0;r<t.length;r++)(n===null||n.compareTo(t[r])>0)&&(n=t[r]);return n};_r.extract=function(t,n,r){n=Jo.clamp(n,0,t.length),r=Jo.clamp(r,-1,t.length);var i=r-n+1;r<0&&(i=0),n>=t.length&&(i=0),r<n&&(i=0);var a=new Array(i).fill(null);if(i===0)return a;for(var s=0,o=n;o<=r;o++)a[s++]=t[o];return a};Object.defineProperties(_r,T2);var Jv=function(){};Jv.prototype.compare=function(t,n){var r=t,i=n;return _r.compare(r,i)};Jv.prototype.interfaces_=function(){return[t0]};Jv.prototype.getClass=function(){return Jv};var o0=function(){};o0.prototype.compare=function(t,n){var r=t,i=n;if(r.length<i.length)return-1;if(r.length>i.length)return 1;if(r.length===0)return 0;var a=_r.compare(r,i),s=_r.isEqualReversed(r,i);return s?0:a};o0.prototype.OLDcompare=function(t,n){var r=t,i=n;if(r.length<i.length)return-1;if(r.length>i.length)return 1;if(r.length===0)return 0;for(var a=_r.increasingDirection(r),s=_r.increasingDirection(i),o=a>0?0:r.length-1,l=s>0?0:r.length-1,c=0;c<r.length;c++){var u=r[o].compareTo(i[l]);if(u!==0)return u;o+=a,l+=s}return 0};o0.prototype.interfaces_=function(){return[t0]};o0.prototype.getClass=function(){return o0};var fp=function(){};fp.prototype.get=function(){};fp.prototype.put=function(){};fp.prototype.size=function(){};fp.prototype.values=function(){};fp.prototype.entrySet=function(){};var Mdt=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(fp);function Yy(e){this.message=e||""}Yy.prototype=new Error;Yy.prototype.name="OperationNotSupported";function E2(){}E2.prototype=new Ji;E2.prototype.contains=function(){};var QS=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof Ji&&this.addAll(arguments[0])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contains=function(r){for(var i=this,a=0,s=this.array_.length;a<s;a++){var o=i.array_[a];if(o===r)return!0}return!1},t.prototype.add=function(r){return this.contains(r)?!1:(this.array_.push(r),!0)},t.prototype.addAll=function(r){for(var i=this,a=r.iterator();a.hasNext();)i.add(a.next());return!0},t.prototype.remove=function(r){throw new Error},t.prototype.size=function(){return this.array_.length},t.prototype.isEmpty=function(){return this.array_.length===0},t.prototype.toArray=function(){for(var r=this,i=[],a=0,s=this.array_.length;a<s;a++)i.push(r.array_[a]);return i},t.prototype.iterator=function(){return new Sdt(this)},t}(E2),Sdt=function(e){function t(n){e.call(this),this.hashSet_=n,this.position_=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new k0;return this.hashSet_.array_[this.position_++]},t.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},t.prototype.remove=function(){throw new Yy},t}(D0),ju=0,Uf=1;function KL(e){return e===null?ju:e.color}function ii(e){return e===null?null:e.parent}function Fu(e,t){e!==null&&(e.color=t)}function z3(e){return e===null?null:e.left}function ZL(e){return e===null?null:e.right}function Va(){this.root_=null,this.size_=0}Va.prototype=new Mdt;Va.prototype.get=function(e){for(var t=this.root_;t!==null;){var n=e.compareTo(t.key);if(n<0)t=t.left;else if(n>0)t=t.right;else return t.value}return null};Va.prototype.put=function(e,t){if(this.root_===null)return this.root_={key:e,value:t,left:null,right:null,parent:null,color:ju,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n=this.root_,r,i;do if(r=n,i=e.compareTo(n.key),i<0)n=n.left;else if(i>0)n=n.right;else{var a=n.value;return n.value=t,a}while(n!==null);var s={key:e,left:null,right:null,value:t,parent:r,color:ju,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?r.left=s:r.right=s,this.fixAfterInsertion(s),this.size_++,null};Va.prototype.fixAfterInsertion=function(e){var t=this;for(e.color=Uf;e!=null&&e!==this.root_&&e.parent.color===Uf;)if(ii(e)===z3(ii(ii(e)))){var n=ZL(ii(ii(e)));KL(n)===Uf?(Fu(ii(e),ju),Fu(n,ju),Fu(ii(ii(e)),Uf),e=ii(ii(e))):(e===ZL(ii(e))&&(e=ii(e),t.rotateLeft(e)),Fu(ii(e),ju),Fu(ii(ii(e)),Uf),t.rotateRight(ii(ii(e))))}else{var r=z3(ii(ii(e)));KL(r)===Uf?(Fu(ii(e),ju),Fu(r,ju),Fu(ii(ii(e)),Uf),e=ii(ii(e))):(e===z3(ii(e))&&(e=ii(e),t.rotateRight(e)),Fu(ii(e),ju),Fu(ii(ii(e)),Uf),t.rotateLeft(ii(ii(e))))}this.root_.color=ju};Va.prototype.values=function(){var e=new yn,t=this.getFirstEntry();if(t!==null)for(e.add(t.value);(t=Va.successor(t))!==null;)e.add(t.value);return e};Va.prototype.entrySet=function(){var e=new QS,t=this.getFirstEntry();if(t!==null)for(e.add(t);(t=Va.successor(t))!==null;)e.add(t);return e};Va.prototype.rotateLeft=function(e){if(e!=null){var t=e.right;e.right=t.left,t.left!=null&&(t.left.parent=e),t.parent=e.parent,e.parent===null?this.root_=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}};Va.prototype.rotateRight=function(e){if(e!=null){var t=e.left;e.left=t.right,t.right!=null&&(t.right.parent=e),t.parent=e.parent,e.parent===null?this.root_=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}};Va.prototype.getFirstEntry=function(){var e=this.root_;if(e!=null)for(;e.left!=null;)e=e.left;return e};Va.successor=function(e){if(e===null)return null;if(e.right!==null){for(var t=e.right;t.left!==null;)t=t.left;return t}else{for(var n=e.parent,r=e;n!==null&&r===n.right;)r=n,n=n.parent;return n}};Va.prototype.size=function(){return this.size_};var Qv=function(){};Qv.prototype.interfaces_=function(){return[]};Qv.prototype.getClass=function(){return Qv};function fD(){}fD.prototype=new E2;function kl(){this.array_=[],arguments[0]instanceof Ji&&this.addAll(arguments[0])}kl.prototype=new fD;kl.prototype.contains=function(e){for(var t=this,n=0,r=this.array_.length;n<r;n++){var i=t.array_[n];if(i.compareTo(e)===0)return!0}return!1};kl.prototype.add=function(e){var t=this;if(this.contains(e))return!1;for(var n=0,r=this.array_.length;n<r;n++){var i=t.array_[n];if(i.compareTo(e)===1)return t.array_.splice(n,0,e),!0}return this.array_.push(e),!0};kl.prototype.addAll=function(e){for(var t=this,n=e.iterator();n.hasNext();)t.add(n.next());return!0};kl.prototype.remove=function(e){throw new Yy};kl.prototype.size=function(){return this.array_.length};kl.prototype.isEmpty=function(){return this.array_.length===0};kl.prototype.toArray=function(){for(var e=this,t=[],n=0,r=this.array_.length;n<r;n++)t.push(e.array_[n]);return t};kl.prototype.iterator=function(){return new M2(this)};var M2=function(e){this.treeSet_=e,this.position_=0};M2.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new k0;return this.treeSet_.array_[this.position_++]};M2.prototype.hasNext=function(){return this.position_<this.treeSet_.size()};M2.prototype.remove=function(){throw new Yy};var ih=function(){};ih.sort=function(){var t=arguments[0],n,r,i,a;if(arguments.length===1)a=function(o,l){return o.compareTo(l)},t.sort(a);else if(arguments.length===2)i=arguments[1],a=function(o,l){return i.compare(o,l)},t.sort(a);else if(arguments.length===3){r=t.slice(arguments[1],arguments[2]),r.sort();var s=t.slice(0,arguments[1]).concat(r,t.slice(arguments[2],t.length));for(t.splice(0,t.length),n=0;n<s.length;n++)t.push(s[n])}else if(arguments.length===4)for(r=t.slice(arguments[1],arguments[2]),i=arguments[3],a=function(o,l){return i.compare(o,l)},r.sort(a),s=t.slice(0,arguments[1]).concat(r,t.slice(arguments[2],t.length)),t.splice(0,t.length),n=0;n<s.length;n++)t.push(s[n])};ih.asList=function(t){for(var n=new yn,r=0,i=t.length;r<i;r++)n.add(t[r]);return n};var Fr=function(){},cl={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};cl.P.get=function(){return 0};cl.L.get=function(){return 1};cl.A.get=function(){return 2};cl.FALSE.get=function(){return-1};cl.TRUE.get=function(){return-2};cl.DONTCARE.get=function(){return-3};cl.SYM_FALSE.get=function(){return"F"};cl.SYM_TRUE.get=function(){return"T"};cl.SYM_DONTCARE.get=function(){return"*"};cl.SYM_P.get=function(){return"0"};cl.SYM_L.get=function(){return"1"};cl.SYM_A.get=function(){return"2"};Fr.prototype.interfaces_=function(){return[]};Fr.prototype.getClass=function(){return Fr};Fr.toDimensionSymbol=function(t){switch(t){case Fr.FALSE:return Fr.SYM_FALSE;case Fr.TRUE:return Fr.SYM_TRUE;case Fr.DONTCARE:return Fr.SYM_DONTCARE;case Fr.P:return Fr.SYM_P;case Fr.L:return Fr.SYM_L;case Fr.A:return Fr.SYM_A}throw new Ti("Unknown dimension value: "+t)};Fr.toDimensionValue=function(t){switch(Zv.toUpperCase(t)){case Fr.SYM_FALSE:return Fr.FALSE;case Fr.SYM_TRUE:return Fr.TRUE;case Fr.SYM_DONTCARE:return Fr.DONTCARE;case Fr.SYM_P:return Fr.P;case Fr.SYM_L:return Fr.L;case Fr.SYM_A:return Fr.A}throw new Ti("Unknown dimension symbol: "+t)};Object.defineProperties(Fr,cl);var Fl=function(){};Fl.prototype.filter=function(t){};Fl.prototype.interfaces_=function(){return[]};Fl.prototype.getClass=function(){return Fl};var nl=function(){};nl.prototype.filter=function(t,n){};nl.prototype.isDone=function(){};nl.prototype.isGeometryChanged=function(){};nl.prototype.interfaces_=function(){return[]};nl.prototype.getClass=function(){return nl};var no=function(e){function t(r,i){if(e.call(this,i),this._geometries=r||[],e.hasNullElements(this._geometries))throw new Ti("geometries must not contain null elements")}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){for(var i=this,a=new Bn,s=0;s<this._geometries.length;s++)a.expandToInclude(i._geometries[s].getEnvelopeInternal());return a},t.prototype.getGeometryN=function(i){return this._geometries[i]},t.prototype.getSortIndex=function(){return e.SORTINDEX_GEOMETRYCOLLECTION},t.prototype.getCoordinates=function(){for(var i=this,a=new Array(this.getNumPoints()).fill(null),s=-1,o=0;o<this._geometries.length;o++)for(var l=i._geometries[o].getCoordinates(),c=0;c<l.length;c++)s++,a[s]=l[c];return a},t.prototype.getArea=function(){for(var i=this,a=0,s=0;s<this._geometries.length;s++)a+=i._geometries[s].getArea();return a},t.prototype.equalsExact=function(){var i=this;if(arguments.length===2){var a=arguments[0],s=arguments[1];if(!this.isEquivalentClass(a))return!1;var o=a;if(this._geometries.length!==o._geometries.length)return!1;for(var l=0;l<this._geometries.length;l++)if(!i._geometries[l].equalsExact(o._geometries[l],s))return!1;return!0}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var i=this,a=0;a<this._geometries.length;a++)i._geometries[a].normalize();ih.sort(this._geometries)},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},t.prototype.getBoundaryDimension=function(){for(var i=this,a=Fr.FALSE,s=0;s<this._geometries.length;s++)a=Math.max(a,i._geometries[s].getBoundaryDimension());return a},t.prototype.getDimension=function(){for(var i=this,a=Fr.FALSE,s=0;s<this._geometries.length;s++)a=Math.max(a,i._geometries[s].getDimension());return a},t.prototype.getLength=function(){for(var i=this,a=0,s=0;s<this._geometries.length;s++)a+=i._geometries[s].getLength();return a},t.prototype.getNumPoints=function(){for(var i=this,a=0,s=0;s<this._geometries.length;s++)a+=i._geometries[s].getNumPoints();return a},t.prototype.getNumGeometries=function(){return this._geometries.length},t.prototype.reverse=function(){for(var i=this,a=this._geometries.length,s=new Array(a).fill(null),o=0;o<this._geometries.length;o++)s[o]=i._geometries[o].reverse();return this.getFactory().createGeometryCollection(s)},t.prototype.compareToSameClass=function(){var i=this;if(arguments.length===1){var a=arguments[0],s=new kl(ih.asList(this._geometries)),o=new kl(ih.asList(a._geometries));return this.compare(s,o)}else if(arguments.length===2){for(var l=arguments[0],c=arguments[1],u=l,f=this.getNumGeometries(),h=u.getNumGeometries(),d=0;d<f&&d<h;){var p=i.getGeometryN(d),g=u.getGeometryN(d),m=p.compareToSameClass(g,c);if(m!==0)return m;d++}return d<f?1:d<h?-1:0}},t.prototype.apply=function(){var i=this;if(qn(arguments[0],pu))for(var a=arguments[0],s=0;s<this._geometries.length;s++)i._geometries[s].apply(a);else if(qn(arguments[0],nl)){var o=arguments[0];if(this._geometries.length===0)return null;for(var l=0;l<this._geometries.length&&(i._geometries[l].apply(o),!o.isDone());l++);o.isGeometryChanged()&&this.geometryChanged()}else if(qn(arguments[0],Fl)){var c=arguments[0];c.filter(this);for(var u=0;u<this._geometries.length;u++)i._geometries[u].apply(c)}else if(qn(arguments[0],lc)){var f=arguments[0];f.filter(this);for(var h=0;h<this._geometries.length;h++)i._geometries[h].apply(f)}},t.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),fr.shouldNeverReachHere(),null},t.prototype.clone=function(){var i=this,a=e.prototype.clone.call(this);a._geometries=new Array(this._geometries.length).fill(null);for(var s=0;s<this._geometries.length;s++)a._geometries[s]=i._geometries[s].clone();return a},t.prototype.getGeometryType=function(){return"GeometryCollection"},t.prototype.copy=function(){for(var i=this,a=new Array(this._geometries.length).fill(null),s=0;s<a.length;s++)a[s]=i._geometries[s].copy();return new t(a,this._factory)},t.prototype.isEmpty=function(){for(var i=this,a=0;a<this._geometries.length;a++)if(!i._geometries[a].isEmpty())return!1;return!0},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-5694727726395021e3},Object.defineProperties(t,n),t}(Wn),_h=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Wn.SORTINDEX_MULTILINESTRING},t.prototype.equalsExact=function(){if(arguments.length===2){var i=arguments[0],a=arguments[1];return this.isEquivalentClass(i)?e.prototype.equalsExact.call(this,i,a):!1}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?Fr.FALSE:0},t.prototype.isClosed=function(){var i=this;if(this.isEmpty())return!1;for(var a=0;a<this._geometries.length;a++)if(!i._geometries[a].isClosed())return!1;return!0},t.prototype.getDimension=function(){return 1},t.prototype.reverse=function(){for(var i=this,a=this._geometries.length,s=new Array(a).fill(null),o=0;o<this._geometries.length;o++)s[a-1-o]=i._geometries[o].reverse();return this.getFactory().createMultiLineString(s)},t.prototype.getBoundary=function(){return new bs(this).getBoundary()},t.prototype.getGeometryType=function(){return"MultiLineString"},t.prototype.copy=function(){for(var i=this,a=new Array(this._geometries.length).fill(null),s=0;s<a.length;s++)a[s]=i._geometries[s].copy();return new t(a,this._factory)},t.prototype.interfaces_=function(){return[Qv]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 8166665132445434e3},Object.defineProperties(t,n),t}(no),bs=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,arguments.length===1){var t=arguments[0],n=Ms.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=n}else if(arguments.length===2){var r=arguments[0],i=arguments[1];this._geom=r,this._geomFact=r.getFactory(),this._bnRule=i}};bs.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var n=this.computeBoundaryCoordinates(t);return n.length===1?this._geomFact.createPoint(n[0]):this._geomFact.createMultiPointFromCoords(n)};bs.prototype.getBoundary=function(){return this._geom instanceof Pi?this.boundaryLineString(this._geom):this._geom instanceof _h?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()};bs.prototype.boundaryLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();if(t.isClosed()){var n=this._bnRule.isInBoundary(2);return n?t.getStartPoint():this._geomFact.createMultiPoint()}return this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])};bs.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()};bs.prototype.computeBoundaryCoordinates=function(t){var n=this,r=new yn;this._endpointMap=new Va;for(var i=0;i<t.getNumGeometries();i++){var a=t.getGeometryN(i);a.getNumPoints()!==0&&(n.addEndpoint(a.getCoordinateN(0)),n.addEndpoint(a.getCoordinateN(a.getNumPoints()-1)))}for(var s=this._endpointMap.entrySet().iterator();s.hasNext();){var o=s.next(),l=o.getValue(),c=l.count;n._bnRule.isInBoundary(c)&&r.add(o.getKey())}return _r.toCoordinateArray(r)};bs.prototype.addEndpoint=function(t){var n=this._endpointMap.get(t);n===null&&(n=new sb,this._endpointMap.put(t,n)),n.count++};bs.prototype.interfaces_=function(){return[]};bs.prototype.getClass=function(){return bs};bs.getBoundary=function(){if(arguments.length===1){var t=arguments[0],n=new bs(t);return n.getBoundary()}else if(arguments.length===2){var r=arguments[0],i=arguments[1],a=new bs(r,i);return a.getBoundary()}};var sb=function(){this.count=null};sb.prototype.interfaces_=function(){return[]};sb.prototype.getClass=function(){return sb};function Cdt(){}function Adt(){}var Idt=function(){};function Odt(){}function Ldt(){}function Pdt(){}var ws=function(){},tC={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};ws.prototype.interfaces_=function(){return[]};ws.prototype.getClass=function(){return ws};ws.chars=function(t,n){for(var r=new Array(n).fill(null),i=0;i<n;i++)r[i]=t;return String(r)};ws.getStackTrace=function(){if(arguments.length===1){var t=arguments[0],n=new Odt,r=new Cdt;return t.printStackTrace(r),n.toString()}else if(arguments.length===2){var i=arguments[0],a=arguments[1],s="";new Adt(ws.getStackTrace(i));for(var o=new Pdt,l=0;l<a;l++)try{s+=o.readLine()+ws.NEWLINE}catch(c){if(c instanceof Ldt)fr.shouldNeverReachHere();else throw c}finally{}return s}};ws.split=function(t,n){for(var r=n.length,i=new yn,a=""+t,s=a.indexOf(n);s>=0;){var o=a.substring(0,s);i.add(o),a=a.substring(s+r),s=a.indexOf(n)}a.length>0&&i.add(a);for(var l=new Array(i.size()).fill(null),c=0;c<l.length;c++)l[c]=i.get(c);return l};ws.toString=function(){if(arguments.length===1){var t=arguments[0];return ws.SIMPLE_ORDINATE_FORMAT.format(t)}};ws.spaces=function(t){return ws.chars(" ",t)};tC.NEWLINE.get=function(){return Oa.getProperty("line.separator")};tC.SIMPLE_ORDINATE_FORMAT.get=function(){return new Idt};Object.defineProperties(ws,tC);var Gi=function(){};Gi.prototype.interfaces_=function(){return[]};Gi.prototype.getClass=function(){return Gi};Gi.copyCoord=function(t,n,r,i){for(var a=Math.min(t.getDimension(),r.getDimension()),s=0;s<a;s++)r.setOrdinate(i,s,t.getOrdinate(n,s))};Gi.isRing=function(t){var n=t.size();return n===0?!0:n<=3?!1:t.getOrdinate(0,Ir.X)===t.getOrdinate(n-1,Ir.X)&&t.getOrdinate(0,Ir.Y)===t.getOrdinate(n-1,Ir.Y)};Gi.isEqual=function(t,n){var r=t.size(),i=n.size();if(r!==i)return!1;for(var a=Math.min(t.getDimension(),n.getDimension()),s=0;s<r;s++)for(var o=0;o<a;o++){var l=t.getOrdinate(s,o),c=n.getOrdinate(s,o);if(t.getOrdinate(s,o)!==n.getOrdinate(s,o)&&!(nr.isNaN(l)&&nr.isNaN(c)))return!1}return!0};Gi.extend=function(t,n,r){var i=t.create(r,n.getDimension()),a=n.size();if(Gi.copy(n,0,i,0,a),a>0)for(var s=a;s<r;s++)Gi.copy(n,a-1,i,s,1);return i};Gi.reverse=function(t){for(var n=t.size()-1,r=Math.trunc(n/2),i=0;i<=r;i++)Gi.swap(t,i,n-i)};Gi.swap=function(t,n,r){if(n===r)return null;for(var i=0;i<t.getDimension();i++){var a=t.getOrdinate(n,i);t.setOrdinate(n,i,t.getOrdinate(r,i)),t.setOrdinate(r,i,a)}};Gi.copy=function(t,n,r,i,a){for(var s=0;s<a;s++)Gi.copyCoord(t,n+s,r,i+s)};Gi.toString=function(){if(arguments.length===1){var t=arguments[0],n=t.size();if(n===0)return"()";var r=t.getDimension(),i=new Wl;i.append("(");for(var a=0;a<n;a++){a>0&&i.append(" ");for(var s=0;s<r;s++)s>0&&i.append(","),i.append(ws.toString(t.getOrdinate(a,s)))}return i.append(")"),i.toString()}};Gi.ensureValidRing=function(t,n){var r=n.size();if(r===0)return n;if(r<=3)return Gi.createClosedRing(t,n,4);var i=n.getOrdinate(0,Ir.X)===n.getOrdinate(r-1,Ir.X)&&n.getOrdinate(0,Ir.Y)===n.getOrdinate(r-1,Ir.Y);return i?n:Gi.createClosedRing(t,n,r+1)};Gi.createClosedRing=function(t,n,r){var i=t.create(r,n.getDimension()),a=n.size();Gi.copy(n,0,i,0,a);for(var s=a;s<r;s++)Gi.copy(n,0,i,s,1);return i};var Pi=function(e){function t(r,i){e.call(this,i),this._points=null,this.init(r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Bn:this._points.expandEnvelope(new Bn)},t.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},t.prototype.getSortIndex=function(){return e.SORTINDEX_LINESTRING},t.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},t.prototype.equalsExact=function(){var i=this;if(arguments.length===2){var a=arguments[0],s=arguments[1];if(!this.isEquivalentClass(a))return!1;var o=a;if(this._points.size()!==o._points.size())return!1;for(var l=0;l<this._points.size();l++)if(!i.equal(i._points.getCoordinate(l),o._points.getCoordinate(l),s))return!1;return!0}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var i=this,a=0;a<Math.trunc(this._points.size()/2);a++){var s=i._points.size()-1-a;if(!i._points.getCoordinate(a).equals(i._points.getCoordinate(s)))return i._points.getCoordinate(a).compareTo(i._points.getCoordinate(s))>0&&Gi.reverse(i._points),null}},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?Fr.FALSE:0},t.prototype.isClosed=function(){return this.isEmpty()?!1:this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},t.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},t.prototype.getDimension=function(){return 1},t.prototype.getLength=function(){return Cn.computeLength(this._points)},t.prototype.getNumPoints=function(){return this._points.size()},t.prototype.reverse=function(){var i=this._points.copy();Gi.reverse(i);var a=this.getFactory().createLineString(i);return a},t.prototype.compareToSameClass=function(){var i=this;if(arguments.length===1){for(var a=arguments[0],s=a,o=0,l=0;o<this._points.size()&&l<s._points.size();){var c=i._points.getCoordinate(o).compareTo(s._points.getCoordinate(l));if(c!==0)return c;o++,l++}return o<this._points.size()?1:l<s._points.size()?-1:0}else if(arguments.length===2){var u=arguments[0],f=arguments[1],h=u;return f.compare(this._points,h._points)}},t.prototype.apply=function(){var i=this;if(qn(arguments[0],pu))for(var a=arguments[0],s=0;s<this._points.size();s++)a.filter(i._points.getCoordinate(s));else if(qn(arguments[0],nl)){var o=arguments[0];if(this._points.size()===0)return null;for(var l=0;l<this._points.size()&&(o.filter(i._points,l),!o.isDone());l++);o.isGeometryChanged()&&this.geometryChanged()}else if(qn(arguments[0],Fl)){var c=arguments[0];c.filter(this)}else if(qn(arguments[0],lc)){var u=arguments[0];u.filter(this)}},t.prototype.getBoundary=function(){return new bs(this).getBoundary()},t.prototype.isEquivalentClass=function(i){return i instanceof t},t.prototype.clone=function(){var i=e.prototype.clone.call(this);return i._points=this._points.clone(),i},t.prototype.getCoordinateN=function(i){return this._points.getCoordinate(i)},t.prototype.getGeometryType=function(){return"LineString"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._points},t.prototype.isEmpty=function(){return this._points.size()===0},t.prototype.init=function(i){if(i===null&&(i=this.getFactory().getCoordinateSequenceFactory().create([])),i.size()===1)throw new Ti("Invalid number of points in LineString (found "+i.size()+" - must be 0 or >= 2)");this._points=i},t.prototype.isCoordinate=function(i){for(var a=this,s=0;s<this._points.size();s++)if(a._points.getCoordinate(s).equals(i))return!0;return!1},t.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},t.prototype.getPointN=function(i){return this.getFactory().createPoint(this._points.getCoordinate(i))},t.prototype.interfaces_=function(){return[Qv]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(t,n),t}(Wn),ty=function(){};ty.prototype.interfaces_=function(){return[]};ty.prototype.getClass=function(){return ty};var Oo=function(e){function t(r,i){e.call(this,i),this._coordinates=r||null,this.init(this._coordinates)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Bn;var i=new Bn;return i.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),i},t.prototype.getSortIndex=function(){return e.SORTINDEX_POINT},t.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},t.prototype.equalsExact=function(){if(arguments.length===2){var i=arguments[0],a=arguments[1];return this.isEquivalentClass(i)?this.isEmpty()&&i.isEmpty()?!0:this.isEmpty()!==i.isEmpty()?!1:this.equal(i.getCoordinate(),this.getCoordinate(),a):!1}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){},t.prototype.getCoordinate=function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null},t.prototype.getBoundaryDimension=function(){return Fr.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getNumPoints=function(){return this.isEmpty()?0:1},t.prototype.reverse=function(){return this.copy()},t.prototype.getX=function(){if(this.getCoordinate()===null)throw new Error("getX called on empty Point");return this.getCoordinate().x},t.prototype.compareToSameClass=function(){if(arguments.length===1){var i=arguments[0],a=i;return this.getCoordinate().compareTo(a.getCoordinate())}else if(arguments.length===2){var s=arguments[0],o=arguments[1],l=s;return o.compare(this._coordinates,l._coordinates)}},t.prototype.apply=function(){if(qn(arguments[0],pu)){var i=arguments[0];if(this.isEmpty())return null;i.filter(this.getCoordinate())}else if(qn(arguments[0],nl)){var a=arguments[0];if(this.isEmpty())return null;a.filter(this._coordinates,0),a.isGeometryChanged()&&this.geometryChanged()}else if(qn(arguments[0],Fl)){var s=arguments[0];s.filter(this)}else if(qn(arguments[0],lc)){var o=arguments[0];o.filter(this)}},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.clone=function(){var i=e.prototype.clone.call(this);return i._coordinates=this._coordinates.clone(),i},t.prototype.getGeometryType=function(){return"Point"},t.prototype.copy=function(){return new t(this._coordinates.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._coordinates},t.prototype.getY=function(){if(this.getCoordinate()===null)throw new Error("getY called on empty Point");return this.getCoordinate().y},t.prototype.isEmpty=function(){return this._coordinates.size()===0},t.prototype.init=function(i){i===null&&(i=this.getFactory().getCoordinateSequenceFactory().create([])),fr.isTrue(i.size()<=1),this._coordinates=i},t.prototype.isSimple=function(){return!0},t.prototype.interfaces_=function(){return[ty]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 4902022702746615e3},Object.defineProperties(t,n),t}(Wn),tf=function(){};tf.prototype.interfaces_=function(){return[]};tf.prototype.getClass=function(){return tf};var na=function(e){function t(r,i,a){if(e.call(this,a),this._shell=null,this._holes=null,r===null&&(r=this.getFactory().createLinearRing()),i===null&&(i=[]),e.hasNullElements(i))throw new Ti("holes must not contain null elements");if(r.isEmpty()&&e.hasNonEmptyElements(i))throw new Ti("shell is empty but holes are not");this._shell=r,this._holes=i}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},t.prototype.getSortIndex=function(){return e.SORTINDEX_POLYGON},t.prototype.getCoordinates=function(){var i=this;if(this.isEmpty())return[];for(var a=new Array(this.getNumPoints()).fill(null),s=-1,o=this._shell.getCoordinates(),l=0;l<o.length;l++)s++,a[s]=o[l];for(var c=0;c<this._holes.length;c++)for(var u=i._holes[c].getCoordinates(),f=0;f<u.length;f++)s++,a[s]=u[f];return a},t.prototype.getArea=function(){var i=this,a=0;a+=Math.abs(Cn.signedArea(this._shell.getCoordinateSequence()));for(var s=0;s<this._holes.length;s++)a-=Math.abs(Cn.signedArea(i._holes[s].getCoordinateSequence()));return a},t.prototype.isRectangle=function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var i=this._shell.getCoordinateSequence(),a=this.getEnvelopeInternal(),s=0;s<5;s++){var o=i.getX(s);if(!(o===a.getMinX()||o===a.getMaxX()))return!1;var l=i.getY(s);if(!(l===a.getMinY()||l===a.getMaxY()))return!1}for(var c=i.getX(0),u=i.getY(0),f=1;f<=4;f++){var h=i.getX(f),d=i.getY(f),p=h!==c,g=d!==u;if(p===g)return!1;c=h,u=d}return!0},t.prototype.equalsExact=function(){var i=this;if(arguments.length===2){var a=arguments[0],s=arguments[1];if(!this.isEquivalentClass(a))return!1;var o=a,l=this._shell,c=o._shell;if(!l.equalsExact(c,s)||this._holes.length!==o._holes.length)return!1;for(var u=0;u<this._holes.length;u++)if(!i._holes[u].equalsExact(o._holes[u],s))return!1;return!0}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){var i=this;if(arguments.length===0){this.normalize(this._shell,!0);for(var a=0;a<this._holes.length;a++)i.normalize(i._holes[a],!1);ih.sort(this._holes)}else if(arguments.length===2){var s=arguments[0],o=arguments[1];if(s.isEmpty())return null;var l=new Array(s.getCoordinates().length-1).fill(null);Oa.arraycopy(s.getCoordinates(),0,l,0,l.length);var c=_r.minCoordinate(s.getCoordinates());_r.scroll(l,c),Oa.arraycopy(l,0,s.getCoordinates(),0,l.length),s.getCoordinates()[l.length]=l[0],Cn.isCCW(s.getCoordinates())===o&&_r.reverse(s.getCoordinates())}},t.prototype.getCoordinate=function(){return this._shell.getCoordinate()},t.prototype.getNumInteriorRing=function(){return this._holes.length},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.getLength=function(){var i=this,a=0;a+=this._shell.getLength();for(var s=0;s<this._holes.length;s++)a+=i._holes[s].getLength();return a},t.prototype.getNumPoints=function(){for(var i=this,a=this._shell.getNumPoints(),s=0;s<this._holes.length;s++)a+=i._holes[s].getNumPoints();return a},t.prototype.reverse=function(){var i=this,a=this.copy();a._shell=this._shell.copy().reverse(),a._holes=new Array(this._holes.length).fill(null);for(var s=0;s<this._holes.length;s++)a._holes[s]=i._holes[s].copy().reverse();return a},t.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},t.prototype.compareToSameClass=function(){var i=this;if(arguments.length===1){var a=arguments[0],s=this._shell,o=a._shell;return s.compareToSameClass(o)}else if(arguments.length===2){var l=arguments[0],c=arguments[1],u=l,f=this._shell,h=u._shell,d=f.compareToSameClass(h,c);if(d!==0)return d;for(var p=this.getNumInteriorRing(),g=u.getNumInteriorRing(),m=0;m<p&&m<g;){var v=i.getInteriorRingN(m),y=u.getInteriorRingN(m),_=v.compareToSameClass(y,c);if(_!==0)return _;m++}return m<p?1:m<g?-1:0}},t.prototype.apply=function(i){var a=this;if(qn(i,pu)){this._shell.apply(i);for(var s=0;s<this._holes.length;s++)a._holes[s].apply(i)}else if(qn(i,nl)){if(this._shell.apply(i),!i.isDone())for(var o=0;o<this._holes.length&&(a._holes[o].apply(i),!i.isDone());o++);i.isGeometryChanged()&&this.geometryChanged()}else if(qn(i,Fl))i.filter(this);else if(qn(i,lc)){i.filter(this),this._shell.apply(i);for(var l=0;l<this._holes.length;l++)a._holes[l].apply(i)}},t.prototype.getBoundary=function(){var i=this;if(this.isEmpty())return this.getFactory().createMultiLineString();var a=new Array(this._holes.length+1).fill(null);a[0]=this._shell;for(var s=0;s<this._holes.length;s++)a[s+1]=i._holes[s];return a.length<=1?this.getFactory().createLinearRing(a[0].getCoordinateSequence()):this.getFactory().createMultiLineString(a)},t.prototype.clone=function(){var i=this,a=e.prototype.clone.call(this);a._shell=this._shell.clone(),a._holes=new Array(this._holes.length).fill(null);for(var s=0;s<this._holes.length;s++)a._holes[s]=i._holes[s].clone();return a},t.prototype.getGeometryType=function(){return"Polygon"},t.prototype.copy=function(){for(var i=this,a=this._shell.copy(),s=new Array(this._holes.length).fill(null),o=0;o<s.length;o++)s[o]=i._holes[o].copy();return new t(a,s,this._factory)},t.prototype.getExteriorRing=function(){return this._shell},t.prototype.isEmpty=function(){return this._shell.isEmpty()},t.prototype.getInteriorRingN=function(i){return this._holes[i]},t.prototype.interfaces_=function(){return[tf]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(t,n),t}(Wn),s0=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Wn.SORTINDEX_MULTIPOINT},t.prototype.isValid=function(){return!0},t.prototype.equalsExact=function(){if(arguments.length===2){var i=arguments[0],a=arguments[1];return this.isEquivalentClass(i)?e.prototype.equalsExact.call(this,i,a):!1}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getCoordinate=function(){if(arguments.length===1){var i=arguments[0];return this._geometries[i].getCoordinate()}else return e.prototype.getCoordinate.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return Fr.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.getGeometryType=function(){return"MultiPoint"},t.prototype.copy=function(){for(var i=this,a=new Array(this._geometries.length).fill(null),s=0;s<a.length;s++)a[s]=i._geometries[s].copy();return new t(a,this._factory)},t.prototype.interfaces_=function(){return[ty]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-8048474874175356e3},Object.defineProperties(t,n),t}(no),gu=function(e){function t(r,i){r instanceof ze&&i instanceof yr&&(r=i.getCoordinateSequenceFactory().create(r)),e.call(this,r,i),this.validateConstruction()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Wn.SORTINDEX_LINEARRING},t.prototype.getBoundaryDimension=function(){return Fr.FALSE},t.prototype.isClosed=function(){return this.isEmpty()?!0:e.prototype.isClosed.call(this)},t.prototype.reverse=function(){var i=this._points.copy();Gi.reverse(i);var a=this.getFactory().createLinearRing(i);return a},t.prototype.validateConstruction=function(){if(!this.isEmpty()&&!e.prototype.isClosed.call(this))throw new Ti("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<t.MINIMUM_VALID_SIZE)throw new Ti("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},t.prototype.getGeometryType=function(){return"LinearRing"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(t,n),t}(Pi),fu=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Wn.SORTINDEX_MULTIPOLYGON},t.prototype.equalsExact=function(){if(arguments.length===2){var i=arguments[0],a=arguments[1];return this.isEquivalentClass(i)?e.prototype.equalsExact.call(this,i,a):!1}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.reverse=function(){for(var i=this,a=this._geometries.length,s=new Array(a).fill(null),o=0;o<this._geometries.length;o++)s[o]=i._geometries[o].reverse();return this.getFactory().createMultiPolygon(s)},t.prototype.getBoundary=function(){var i=this;if(this.isEmpty())return this.getFactory().createMultiLineString();for(var a=new yn,s=0;s<this._geometries.length;s++)for(var o=i._geometries[s],l=o.getBoundary(),c=0;c<l.getNumGeometries();c++)a.add(l.getGeometryN(c));var u=new Array(a.size()).fill(null);return this.getFactory().createMultiLineString(a.toArray(u))},t.prototype.getGeometryType=function(){return"MultiPolygon"},t.prototype.copy=function(){for(var i=this,a=new Array(this._geometries.length).fill(null),s=0;s<a.length;s++)a[s]=i._geometries[s].copy();return new t(a,this._factory)},t.prototype.interfaces_=function(){return[tf]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(t,n),t}(no),Ss=function(t){this._factory=t||null,this._isUserDataCopied=!1},S2={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Ss.prototype.setCopyUserData=function(t){this._isUserDataCopied=t};Ss.prototype.edit=function(t,n){if(t===null)return null;var r=this.editInternal(t,n);return this._isUserDataCopied&&r.setUserData(t.getUserData()),r};Ss.prototype.editInternal=function(t,n){return this._factory===null&&(this._factory=t.getFactory()),t instanceof no?this.editGeometryCollection(t,n):t instanceof na?this.editPolygon(t,n):t instanceof Oo?n.edit(t,this._factory):t instanceof Pi?n.edit(t,this._factory):(fr.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)};Ss.prototype.editGeometryCollection=function(t,n){for(var r=this,i=n.edit(t,this._factory),a=new yn,s=0;s<i.getNumGeometries();s++){var o=r.edit(i.getGeometryN(s),n);o===null||o.isEmpty()||a.add(o)}return i.getClass()===s0?this._factory.createMultiPoint(a.toArray([])):i.getClass()===_h?this._factory.createMultiLineString(a.toArray([])):i.getClass()===fu?this._factory.createMultiPolygon(a.toArray([])):this._factory.createGeometryCollection(a.toArray([]))};Ss.prototype.editPolygon=function(t,n){var r=this,i=n.edit(t,this._factory);if(i===null&&(i=this._factory.createPolygon(null)),i.isEmpty())return i;var a=this.edit(i.getExteriorRing(),n);if(a===null||a.isEmpty())return this._factory.createPolygon();for(var s=new yn,o=0;o<i.getNumInteriorRing();o++){var l=r.edit(i.getInteriorRingN(o),n);l===null||l.isEmpty()||s.add(l)}return this._factory.createPolygon(a,s.toArray([]))};Ss.prototype.interfaces_=function(){return[]};Ss.prototype.getClass=function(){return Ss};Ss.GeometryEditorOperation=function(){};S2.NoOpGeometryOperation.get=function(){return ey};S2.CoordinateOperation.get=function(){return ny};S2.CoordinateSequenceOperation.get=function(){return ry};Object.defineProperties(Ss,S2);var ey=function(){};ey.prototype.edit=function(t,n){return t};ey.prototype.interfaces_=function(){return[Ss.GeometryEditorOperation]};ey.prototype.getClass=function(){return ey};var ny=function(){};ny.prototype.edit=function(t,n){var r=this.editCoordinates(t.getCoordinates(),t);return r===null?t:t instanceof gu?n.createLinearRing(r):t instanceof Pi?n.createLineString(r):t instanceof Oo?r.length>0?n.createPoint(r[0]):n.createPoint():t};ny.prototype.interfaces_=function(){return[Ss.GeometryEditorOperation]};ny.prototype.getClass=function(){return ny};var ry=function(){};ry.prototype.edit=function(t,n){return t instanceof gu?n.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Pi?n.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Oo?n.createPoint(this.edit(t.getCoordinateSequence(),t)):t};ry.prototype.interfaces_=function(){return[Ss.GeometryEditorOperation]};ry.prototype.getClass=function(){return ry};var zi=function(){var t=this;if(this._dimension=3,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var n=arguments[0];this._coordinates=new Array(n).fill(null);for(var r=0;r<n;r++)t._coordinates[r]=new ze}else if(qn(arguments[0],Ir)){var i=arguments[0];if(i===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=i.getDimension(),this._coordinates=new Array(i.size()).fill(null);for(var a=0;a<this._coordinates.length;a++)t._coordinates[a]=i.getCoordinateCopy(a)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var s=arguments[0],o=arguments[1];this._coordinates=s,this._dimension=o,s===null&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var l=arguments[0],c=arguments[1];this._coordinates=new Array(l).fill(null),this._dimension=c;for(var u=0;u<l;u++)t._coordinates[u]=new ze}}},hD={serialVersionUID:{configurable:!0}};zi.prototype.setOrdinate=function(t,n,r){switch(n){case Ir.X:this._coordinates[t].x=r;break;case Ir.Y:this._coordinates[t].y=r;break;case Ir.Z:this._coordinates[t].z=r;break;default:throw new Ti("invalid ordinateIndex")}};zi.prototype.size=function(){return this._coordinates.length};zi.prototype.getOrdinate=function(t,n){switch(n){case Ir.X:return this._coordinates[t].x;case Ir.Y:return this._coordinates[t].y;case Ir.Z:return this._coordinates[t].z}return nr.NaN};zi.prototype.getCoordinate=function(){if(arguments.length===1){var t=arguments[0];return this._coordinates[t]}else if(arguments.length===2){var n=arguments[0],r=arguments[1];r.x=this._coordinates[n].x,r.y=this._coordinates[n].y,r.z=this._coordinates[n].z}};zi.prototype.getCoordinateCopy=function(t){return new ze(this._coordinates[t])};zi.prototype.getDimension=function(){return this._dimension};zi.prototype.getX=function(t){return this._coordinates[t].x};zi.prototype.clone=function(){for(var t=this,n=new Array(this.size()).fill(null),r=0;r<this._coordinates.length;r++)n[r]=t._coordinates[r].clone();return new zi(n,this._dimension)};zi.prototype.expandEnvelope=function(t){for(var n=this,r=0;r<this._coordinates.length;r++)t.expandToInclude(n._coordinates[r]);return t};zi.prototype.copy=function(){for(var t=this,n=new Array(this.size()).fill(null),r=0;r<this._coordinates.length;r++)n[r]=t._coordinates[r].copy();return new zi(n,this._dimension)};zi.prototype.toString=function(){var t=this;if(this._coordinates.length>0){var n=new Wl(17*this._coordinates.length);n.append("("),n.append(this._coordinates[0]);for(var r=1;r<this._coordinates.length;r++)n.append(", "),n.append(t._coordinates[r]);return n.append(")"),n.toString()}else return"()"};zi.prototype.getY=function(t){return this._coordinates[t].y};zi.prototype.toCoordinateArray=function(){return this._coordinates};zi.prototype.interfaces_=function(){return[Ir,Ps]};zi.prototype.getClass=function(){return zi};hD.serialVersionUID.get=function(){return-0xcb44a778db18e00};Object.defineProperties(zi,hD);var mu=function(){},eC={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};mu.prototype.readResolve=function(){return mu.instance()};mu.prototype.create=function(){if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return new zi(t)}else if(qn(arguments[0],Ir)){var n=arguments[0];return new zi(n)}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];return i>3&&(i=3),i<2?new zi(r):new zi(r,i)}};mu.prototype.interfaces_=function(){return[e0,Ps]};mu.prototype.getClass=function(){return mu};mu.instance=function(){return mu.instanceObject};eC.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00};eC.instanceObject.get=function(){return new mu};Object.defineProperties(mu,eC);var dD=function(e){function t(){e.call(this),this.map_=new Map}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r){return this.map_.get(r)||null},t.prototype.put=function(r,i){return this.map_.set(r,i),i},t.prototype.values=function(){for(var r=new yn,i=this.map_.values(),a=i.next();!a.done;)r.add(a.value),a=i.next();return r},t.prototype.entrySet=function(){var r=new QS;return this.map_.entries().forEach(function(i){return r.add(i)}),r},t.prototype.size=function(){return this.map_.size()},t}(fp),Br=function e(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=e.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof zl){var t=arguments[0];this._modelType=t,t===e.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var n=arguments[0];this._modelType=e.FIXED,this.setScale(n)}else if(arguments[0]instanceof e){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}}},nC={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Br.prototype.equals=function(t){if(!(t instanceof Br))return!1;var n=t;return this._modelType===n._modelType&&this._scale===n._scale};Br.prototype.compareTo=function(t){var n=t,r=this.getMaximumSignificantDigits(),i=n.getMaximumSignificantDigits();return new Dl(r).compareTo(new Dl(i))};Br.prototype.getScale=function(){return this._scale};Br.prototype.isFloating=function(){return this._modelType===Br.FLOATING||this._modelType===Br.FLOATING_SINGLE};Br.prototype.getType=function(){return this._modelType};Br.prototype.toString=function(){var t="UNKNOWN";return this._modelType===Br.FLOATING?t="Floating":this._modelType===Br.FLOATING_SINGLE?t="Floating-Single":this._modelType===Br.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t};Br.prototype.makePrecise=function(){if(typeof arguments[0]=="number"){var t=arguments[0];if(nr.isNaN(t))return t;if(this._modelType===Br.FLOATING_SINGLE){var n=t;return n}return this._modelType===Br.FIXED?Math.round(t*this._scale)/this._scale:t}else if(arguments[0]instanceof ze){var r=arguments[0];if(this._modelType===Br.FLOATING)return null;r.x=this.makePrecise(r.x),r.y=this.makePrecise(r.y)}};Br.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===Br.FLOATING?t=16:this._modelType===Br.FLOATING_SINGLE?t=6:this._modelType===Br.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t};Br.prototype.setScale=function(t){this._scale=Math.abs(t)};Br.prototype.interfaces_=function(){return[Ps,Ls]};Br.prototype.getClass=function(){return Br};Br.mostPrecise=function(t,n){return t.compareTo(n)>=0?t:n};nC.serialVersionUID.get=function(){return 7777263578777804e3};nC.maximumPreciseValue.get=function(){return 9007199254740992};Object.defineProperties(Br,nC);var zl=function e(t){this._name=t||null,e.nameToTypeMap.put(t,this)},rC={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};zl.prototype.readResolve=function(){return zl.nameToTypeMap.get(this._name)};zl.prototype.toString=function(){return this._name};zl.prototype.interfaces_=function(){return[Ps]};zl.prototype.getClass=function(){return zl};rC.serialVersionUID.get=function(){return-552860263173159e4};rC.nameToTypeMap.get=function(){return new dD};Object.defineProperties(zl,rC);Br.Type=zl;Br.FIXED=new zl("FIXED");Br.FLOATING=new zl("FLOATING");Br.FLOATING_SINGLE=new zl("FLOATING SINGLE");var yr=function e(){this._precisionModel=new Br,this._SRID=0,this._coordinateSequenceFactory=e.getDefaultCoordinateSequenceFactory(),arguments.length===0||(arguments.length===1?qn(arguments[0],e0)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Br&&(this._precisionModel=arguments[0]):arguments.length===2?(this._precisionModel=arguments[0],this._SRID=arguments[1]):arguments.length===3&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},pD={serialVersionUID:{configurable:!0}};yr.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new ze(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new ze(t.getMinX(),t.getMinY()),new ze(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new ze(t.getMinX(),t.getMinY()),new ze(t.getMinX(),t.getMaxY()),new ze(t.getMaxX(),t.getMaxY()),new ze(t.getMaxX(),t.getMinY()),new ze(t.getMinX(),t.getMinY())]),null)};yr.prototype.createLineString=function(t){if(t){if(t instanceof Array)return new Pi(this.getCoordinateSequenceFactory().create(t),this);if(qn(t,Ir))return new Pi(t,this)}else return new Pi(this.getCoordinateSequenceFactory().create([]),this)};yr.prototype.createMultiLineString=function(){if(arguments.length===0)return new _h(null,this);if(arguments.length===1){var t=arguments[0];return new _h(t,this)}};yr.prototype.buildGeometry=function(t){for(var n=null,r=!1,i=!1,a=t.iterator();a.hasNext();){var s=a.next(),o=s.getClass();n===null&&(n=o),o!==n&&(r=!0),s.isGeometryCollectionOrDerived()&&(i=!0)}if(n===null)return this.createGeometryCollection();if(r||i)return this.createGeometryCollection(yr.toGeometryArray(t));var l=t.iterator().next(),c=t.size()>1;if(c){if(l instanceof na)return this.createMultiPolygon(yr.toPolygonArray(t));if(l instanceof Pi)return this.createMultiLineString(yr.toLineStringArray(t));if(l instanceof Oo)return this.createMultiPoint(yr.toPointArray(t));fr.shouldNeverReachHere("Unhandled class: "+l.getClass().getName())}return l};yr.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(t!==null?this.getCoordinateSequenceFactory().create(t):null)};yr.prototype.createPoint=function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof ze){var t=arguments[0];return this.createPoint(t!==null?this.getCoordinateSequenceFactory().create([t]):null)}else if(qn(arguments[0],Ir)){var n=arguments[0];return new Oo(n,this)}}};yr.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory};yr.prototype.createPolygon=function(){if(arguments.length===0)return new na(null,null,this);if(arguments.length===1){if(qn(arguments[0],Ir)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}else if(arguments[0]instanceof Array){var n=arguments[0];return this.createPolygon(this.createLinearRing(n))}else if(arguments[0]instanceof gu){var r=arguments[0];return this.createPolygon(r,null)}}else if(arguments.length===2){var i=arguments[0],a=arguments[1];return new na(i,a,this)}};yr.prototype.getSRID=function(){return this._SRID};yr.prototype.createGeometryCollection=function(){if(arguments.length===0)return new no(null,this);if(arguments.length===1){var t=arguments[0];return new no(t,this)}};yr.prototype.createGeometry=function(t){var n=new Ss(this);return n.edit(t,{edit:function(){if(arguments.length===2){var r=arguments[0];return this._coordinateSequenceFactory.create(r)}}})};yr.prototype.getPrecisionModel=function(){return this._precisionModel};yr.prototype.createLinearRing=function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(t!==null?this.getCoordinateSequenceFactory().create(t):null)}else if(qn(arguments[0],Ir)){var n=arguments[0];return new gu(n,this)}}};yr.prototype.createMultiPolygon=function(){if(arguments.length===0)return new fu(null,this);if(arguments.length===1){var t=arguments[0];return new fu(t,this)}};yr.prototype.createMultiPoint=function(){var t=this;if(arguments.length===0)return new s0(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];return new s0(n,this)}else if(arguments[0]instanceof Array){var r=arguments[0];return this.createMultiPoint(r!==null?this.getCoordinateSequenceFactory().create(r):null)}else if(qn(arguments[0],Ir)){var i=arguments[0];if(i===null)return this.createMultiPoint(new Array(0).fill(null));for(var a=new Array(i.size()).fill(null),s=0;s<i.size();s++){var o=t.getCoordinateSequenceFactory().create(1,i.getDimension());Gi.copy(i,s,o,0,1),a[s]=t.createPoint(o)}return this.createMultiPoint(a)}}};yr.prototype.interfaces_=function(){return[Ps]};yr.prototype.getClass=function(){return yr};yr.toMultiPolygonArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)};yr.toGeometryArray=function(t){if(t===null)return null;var n=new Array(t.size()).fill(null);return t.toArray(n)};yr.getDefaultCoordinateSequenceFactory=function(){return mu.instance()};yr.toMultiLineStringArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)};yr.toLineStringArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)};yr.toMultiPointArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)};yr.toLinearRingArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)};yr.toPointArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)};yr.toPolygonArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)};yr.createPointFromInternalCoord=function(t,n){return n.getPrecisionModel().makePrecise(t),n.getFactory().createPoint(t)};pD.serialVersionUID.get=function(){return-6820524753094096e3};Object.defineProperties(yr,pD);var Ndt=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],C2=function(t){this.geometryFactory=t||new yr};C2.prototype.read=function(t){var n;typeof t=="string"?n=JSON.parse(t):n=t;var r=n.type;if(!wl[r])throw new Error("Unknown GeoJSON type: "+n.type);return Ndt.indexOf(r)!==-1?wl[r].apply(this,[n.coordinates]):r==="GeometryCollection"?wl[r].apply(this,[n.geometries]):wl[r].apply(this,[n])};C2.prototype.write=function(t){var n=t.getGeometryType();if(!Bu[n])throw new Error("Geometry is not supported");return Bu[n].apply(this,[t])};var wl={Feature:function(e){var t={};for(var n in e)t[n]=e[n];if(e.geometry){var r=e.geometry.type;if(!wl[r])throw new Error("Unknown GeoJSON type: "+e.type);t.geometry=this.read(e.geometry)}return e.bbox&&(t.bbox=wl.bbox.apply(this,[e.bbox])),t},FeatureCollection:function(e){var t=this,n={};if(e.features){n.features=[];for(var r=0;r<e.features.length;++r)n.features.push(t.read(e.features[r]))}return e.bbox&&(n.bbox=this.parse.bbox.apply(this,[e.bbox])),n},coordinates:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(new ze(r[0],r[1]))}return t},bbox:function(e){return this.geometryFactory.createLinearRing([new ze(e[0],e[1]),new ze(e[2],e[1]),new ze(e[2],e[3]),new ze(e[0],e[3]),new ze(e[0],e[1])])},Point:function(e){var t=new ze(e[0],e[1]);return this.geometryFactory.createPoint(t)},MultiPoint:function(e){for(var t=this,n=[],r=0;r<e.length;++r)n.push(wl.Point.apply(t,[e[r]]));return this.geometryFactory.createMultiPoint(n)},LineString:function(e){var t=wl.coordinates.apply(this,[e]);return this.geometryFactory.createLineString(t)},MultiLineString:function(e){for(var t=this,n=[],r=0;r<e.length;++r)n.push(wl.LineString.apply(t,[e[r]]));return this.geometryFactory.createMultiLineString(n)},Polygon:function(e){for(var t=this,n=wl.coordinates.apply(this,[e[0]]),r=this.geometryFactory.createLinearRing(n),i=[],a=1;a<e.length;++a){var s=e[a],o=wl.coordinates.apply(t,[s]),l=t.geometryFactory.createLinearRing(o);i.push(l)}return this.geometryFactory.createPolygon(r,i)},MultiPolygon:function(e){for(var t=this,n=[],r=0;r<e.length;++r){var i=e[r];n.push(wl.Polygon.apply(t,[i]))}return this.geometryFactory.createMultiPolygon(n)},GeometryCollection:function(e){for(var t=this,n=[],r=0;r<e.length;++r){var i=e[r];n.push(t.read(i))}return this.geometryFactory.createGeometryCollection(n)}},Bu={coordinate:function(e){return[e.x,e.y]},Point:function(e){var t=Bu.coordinate.apply(this,[e.getCoordinate()]);return{type:"Point",coordinates:t}},MultiPoint:function(e){for(var t=this,n=[],r=0;r<e._geometries.length;++r){var i=e._geometries[r],a=Bu.Point.apply(t,[i]);n.push(a.coordinates)}return{type:"MultiPoint",coordinates:n}},LineString:function(e){for(var t=this,n=[],r=e.getCoordinates(),i=0;i<r.length;++i){var a=r[i];n.push(Bu.coordinate.apply(t,[a]))}return{type:"LineString",coordinates:n}},MultiLineString:function(e){for(var t=this,n=[],r=0;r<e._geometries.length;++r){var i=e._geometries[r],a=Bu.LineString.apply(t,[i]);n.push(a.coordinates)}return{type:"MultiLineString",coordinates:n}},Polygon:function(e){var t=this,n=[],r=Bu.LineString.apply(this,[e._shell]);n.push(r.coordinates);for(var i=0;i<e._holes.length;++i){var a=e._holes[i],s=Bu.LineString.apply(t,[a]);n.push(s.coordinates)}return{type:"Polygon",coordinates:n}},MultiPolygon:function(e){for(var t=this,n=[],r=0;r<e._geometries.length;++r){var i=e._geometries[r],a=Bu.Polygon.apply(t,[i]);n.push(a.coordinates)}return{type:"MultiPolygon",coordinates:n}},GeometryCollection:function(e){for(var t=this,n=[],r=0;r<e._geometries.length;++r){var i=e._geometries[r],a=i.getGeometryType();n.push(Bu[a].apply(t,[i]))}return{type:"GeometryCollection",geometries:n}}},iC=function(t){this.geometryFactory=t||new yr,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new C2(this.geometryFactory)};iC.prototype.read=function(t){var n=this.parser.read(t);return this.precisionModel.getType()===Br.FIXED&&this.reducePrecision(n),n};iC.prototype.reducePrecision=function(t){var n=this,r,i;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(r=0,i=t.points.length;r<i;r++)n.precisionModel.makePrecise(t.points[r]);else if(t.geometries)for(r=0,i=t.geometries.length;r<i;r++)n.reducePrecision(t.geometries[r])};var gD=function(){this.parser=new C2(this.geometryFactory)};gD.prototype.write=function(t){return this.parser.write(t)};var pn=function(){},A2={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};pn.prototype.interfaces_=function(){return[]};pn.prototype.getClass=function(){return pn};pn.opposite=function(t){return t===pn.LEFT?pn.RIGHT:t===pn.RIGHT?pn.LEFT:t};A2.ON.get=function(){return 0};A2.LEFT.get=function(){return 1};A2.RIGHT.get=function(){return 2};Object.defineProperties(pn,A2);function I2(e){this.message=e||""}I2.prototype=new Error;I2.prototype.name="EmptyStackException";function $l(){this.array_=[]}$l.prototype=new Ks;$l.prototype.add=function(e){return this.array_.push(e),!0};$l.prototype.get=function(e){if(e<0||e>=this.size())throw new Error;return this.array_[e]};$l.prototype.push=function(e){return this.array_.push(e),e};$l.prototype.pop=function(e){if(this.array_.length===0)throw new I2;return this.array_.pop()};$l.prototype.peek=function(){if(this.array_.length===0)throw new I2;return this.array_[this.array_.length-1]};$l.prototype.empty=function(){return this.array_.length===0};$l.prototype.isEmpty=function(){return this.empty()};$l.prototype.search=function(e){return this.array_.indexOf(e)};$l.prototype.size=function(){return this.array_.length};$l.prototype.toArray=function(){for(var e=this,t=[],n=0,r=this.array_.length;n<r;n++)t.push(e.array_[n]);return t};var Bl=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Bl.prototype.getCoordinate=function(){return this._minCoord};Bl.prototype.getRightmostSide=function(t,n){var r=this.getRightmostSideOfSegment(t,n);return r<0&&(r=this.getRightmostSideOfSegment(t,n-1)),r<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),r};Bl.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();fr.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var n=t[this._minIndex-1],r=t[this._minIndex+1],i=Cn.computeOrientation(this._minCoord,r,n),a=!1;(n.y<this._minCoord.y&&r.y<this._minCoord.y&&i===Cn.COUNTERCLOCKWISE||n.y>this._minCoord.y&&r.y>this._minCoord.y&&i===Cn.CLOCKWISE)&&(a=!0),a&&(this._minIndex=this._minIndex-1)};Bl.prototype.getRightmostSideOfSegment=function(t,n){var r=t.getEdge(),i=r.getCoordinates();if(n<0||n+1>=i.length||i[n].y===i[n+1].y)return-1;var a=pn.LEFT;return i[n].y<i[n+1].y&&(a=pn.RIGHT),a};Bl.prototype.getEdge=function(){return this._orientedDe};Bl.prototype.checkForRightmostCoordinate=function(t){for(var n=this,r=t.getEdge().getCoordinates(),i=0;i<r.length-1;i++)(n._minCoord===null||r[i].x>n._minCoord.x)&&(n._minDe=t,n._minIndex=i,n._minCoord=r[i])};Bl.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode(),n=t.getEdges();this._minDe=n.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)};Bl.prototype.findEdge=function(t){for(var n=this,r=t.iterator();r.hasNext();){var i=r.next();i.isForward()&&n.checkForRightmostCoordinate(i)}fr.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe;var a=this.getRightmostSide(this._minDe,this._minIndex);a===pn.LEFT&&(this._orientedDe=this._minDe.getSym())};Bl.prototype.interfaces_=function(){return[]};Bl.prototype.getClass=function(){return Bl};var uc=function(e){function t(n,r){e.call(this,t.msgWithCoord(n,r)),this.pt=r?new ze(r):null,this.name="TopologyException"}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCoordinate=function(){return this.pt},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.msgWithCoord=function(r,i){return i?r:r+" [ "+i+" ]"},t}(sc),O2=function(){this.array_=[]};O2.prototype.addLast=function(t){this.array_.push(t)};O2.prototype.removeFirst=function(){return this.array_.shift()};O2.prototype.isEmpty=function(){return this.array_.length===0};var ro=function(){this._finder=null,this._dirEdgeList=new yn,this._nodes=new yn,this._rightMostCoord=null,this._env=null,this._finder=new Bl};ro.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var n=t.next();n.setVisited(!1)}};ro.prototype.getRightmostCoordinate=function(){return this._rightMostCoord};ro.prototype.computeNodeDepth=function(t){for(var n=this,r=null,i=t.getEdges().iterator();i.hasNext();){var a=i.next();if(a.isVisited()||a.getSym().isVisited()){r=a;break}}if(r===null)throw new uc("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(r);for(var s=t.getEdges().iterator();s.hasNext();){var o=s.next();o.setVisited(!0),n.copySymDepths(o)}};ro.prototype.computeDepth=function(t){this.clearVisitedEdges();var n=this._finder.getEdge();n.setEdgeDepths(pn.RIGHT,t),this.copySymDepths(n),this.computeDepths(n)};ro.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()};ro.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var n=t.next();n.getDepth(pn.RIGHT)>=1&&n.getDepth(pn.LEFT)<=0&&!n.isInteriorAreaEdge()&&n.setInResult(!0)}};ro.prototype.computeDepths=function(t){var n=this,r=new QS,i=new O2,a=t.getNode();for(i.addLast(a),r.add(a),t.setVisited(!0);!i.isEmpty();){var s=i.removeFirst();r.add(s),n.computeNodeDepth(s);for(var o=s.getEdges().iterator();o.hasNext();){var l=o.next(),c=l.getSym();if(!c.isVisited()){var u=c.getNode();r.contains(u)||(i.addLast(u),r.add(u))}}}};ro.prototype.compareTo=function(t){var n=t;return this._rightMostCoord.x<n._rightMostCoord.x?-1:this._rightMostCoord.x>n._rightMostCoord.x?1:0};ro.prototype.getEnvelope=function(){if(this._env===null){for(var t=new Bn,n=this._dirEdgeList.iterator();n.hasNext();)for(var r=n.next(),i=r.getEdge().getCoordinates(),a=0;a<i.length-1;a++)t.expandToInclude(i[a]);this._env=t}return this._env};ro.prototype.addReachable=function(t){var n=this,r=new $l;for(r.add(t);!r.empty();){var i=r.pop();n.add(i,r)}};ro.prototype.copySymDepths=function(t){var n=t.getSym();n.setDepth(pn.LEFT,t.getDepth(pn.RIGHT)),n.setDepth(pn.RIGHT,t.getDepth(pn.LEFT))};ro.prototype.add=function(t,n){var r=this;t.setVisited(!0),this._nodes.add(t);for(var i=t.getEdges().iterator();i.hasNext();){var a=i.next();r._dirEdgeList.add(a);var s=a.getSym(),o=s.getNode();o.isVisited()||n.push(o)}};ro.prototype.getNodes=function(){return this._nodes};ro.prototype.getDirectedEdges=function(){return this._dirEdgeList};ro.prototype.interfaces_=function(){return[Ls]};ro.prototype.getClass=function(){return ro};var oi=function e(){var t=this;if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];this.init(n.length)}else if(Number.isInteger(arguments[0])){var r=arguments[0];this.init(1),this.location[pn.ON]=r}else if(arguments[0]instanceof e){var i=arguments[0];if(this.init(i.location.length),i!==null)for(var a=0;a<this.location.length;a++)t.location[a]=i.location[a]}}else if(arguments.length===3){var s=arguments[0],o=arguments[1],l=arguments[2];this.init(3),this.location[pn.ON]=s,this.location[pn.LEFT]=o,this.location[pn.RIGHT]=l}};oi.prototype.setAllLocations=function(t){for(var n=this,r=0;r<this.location.length;r++)n.location[r]=t};oi.prototype.isNull=function(){for(var t=this,n=0;n<this.location.length;n++)if(t.location[n]!==We.NONE)return!1;return!0};oi.prototype.setAllLocationsIfNull=function(t){for(var n=this,r=0;r<this.location.length;r++)n.location[r]===We.NONE&&(n.location[r]=t)};oi.prototype.isLine=function(){return this.location.length===1};oi.prototype.merge=function(t){var n=this;if(t.location.length>this.location.length){var r=new Array(3).fill(null);r[pn.ON]=this.location[pn.ON],r[pn.LEFT]=We.NONE,r[pn.RIGHT]=We.NONE,this.location=r}for(var i=0;i<this.location.length;i++)n.location[i]===We.NONE&&i<t.location.length&&(n.location[i]=t.location[i])};oi.prototype.getLocations=function(){return this.location};oi.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[pn.LEFT];this.location[pn.LEFT]=this.location[pn.RIGHT],this.location[pn.RIGHT]=t};oi.prototype.toString=function(){var t=new Wl;return this.location.length>1&&t.append(We.toLocationSymbol(this.location[pn.LEFT])),t.append(We.toLocationSymbol(this.location[pn.ON])),this.location.length>1&&t.append(We.toLocationSymbol(this.location[pn.RIGHT])),t.toString()};oi.prototype.setLocations=function(t,n,r){this.location[pn.ON]=t,this.location[pn.LEFT]=n,this.location[pn.RIGHT]=r};oi.prototype.get=function(t){return t<this.location.length?this.location[t]:We.NONE};oi.prototype.isArea=function(){return this.location.length>1};oi.prototype.isAnyNull=function(){for(var t=this,n=0;n<this.location.length;n++)if(t.location[n]===We.NONE)return!0;return!1};oi.prototype.setLocation=function(){if(arguments.length===1){var t=arguments[0];this.setLocation(pn.ON,t)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.location[n]=r}};oi.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(We.NONE)};oi.prototype.isEqualOnSide=function(t,n){return this.location[n]===t.location[n]};oi.prototype.allPositionsEqual=function(t){for(var n=this,r=0;r<this.location.length;r++)if(n.location[r]!==t)return!1;return!0};oi.prototype.interfaces_=function(){return[]};oi.prototype.getClass=function(){return oi};var Yr=function e(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new oi(t),this.elt[1]=new oi(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.elt[0]=new oi(n.elt[0]),this.elt[1]=new oi(n.elt[1])}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];this.elt[0]=new oi(We.NONE),this.elt[1]=new oi(We.NONE),this.elt[r].setLocation(i)}else if(arguments.length===3){var a=arguments[0],s=arguments[1],o=arguments[2];this.elt[0]=new oi(a,s,o),this.elt[1]=new oi(a,s,o)}else if(arguments.length===4){var l=arguments[0],c=arguments[1],u=arguments[2],f=arguments[3];this.elt[0]=new oi(We.NONE,We.NONE,We.NONE),this.elt[1]=new oi(We.NONE,We.NONE,We.NONE),this.elt[l].setLocations(c,u,f)}};Yr.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t};Yr.prototype.setAllLocations=function(t,n){this.elt[t].setAllLocations(n)};Yr.prototype.isNull=function(t){return this.elt[t].isNull()};Yr.prototype.setAllLocationsIfNull=function(){if(arguments.length===1){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.elt[n].setAllLocationsIfNull(r)}};Yr.prototype.isLine=function(t){return this.elt[t].isLine()};Yr.prototype.merge=function(t){for(var n=this,r=0;r<2;r++)n.elt[r]===null&&t.elt[r]!==null?n.elt[r]=new oi(t.elt[r]):n.elt[r].merge(t.elt[r])};Yr.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()};Yr.prototype.getLocation=function(){if(arguments.length===1){var t=arguments[0];return this.elt[t].get(pn.ON)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return this.elt[n].get(r)}};Yr.prototype.toString=function(){var t=new Wl;return this.elt[0]!==null&&(t.append("A:"),t.append(this.elt[0].toString())),this.elt[1]!==null&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()};Yr.prototype.isArea=function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var t=arguments[0];return this.elt[t].isArea()}};Yr.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()};Yr.prototype.setLocation=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];this.elt[t].setLocation(pn.ON,n)}else if(arguments.length===3){var r=arguments[0],i=arguments[1],a=arguments[2];this.elt[r].setLocation(i,a)}};Yr.prototype.isEqualOnSide=function(t,n){return this.elt[0].isEqualOnSide(t.elt[0],n)&&this.elt[1].isEqualOnSide(t.elt[1],n)};Yr.prototype.allPositionsEqual=function(t,n){return this.elt[t].allPositionsEqual(n)};Yr.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new oi(this.elt[t].location[0]))};Yr.prototype.interfaces_=function(){return[]};Yr.prototype.getClass=function(){return Yr};Yr.toLineLabel=function(t){for(var n=new Yr(We.NONE),r=0;r<2;r++)n.setLocation(r,t.getLocation(r));return n};var qi=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new yn,this._pts=new yn,this._label=new Yr(We.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new yn,this._geometryFactory=null;var t=arguments[0],n=arguments[1];this._geometryFactory=n,this.computePoints(t),this.computeRing()};qi.prototype.computeRing=function(){var t=this;if(this._ring!==null)return null;for(var n=new Array(this._pts.size()).fill(null),r=0;r<this._pts.size();r++)n[r]=t._pts.get(r);this._ring=this._geometryFactory.createLinearRing(n),this._isHole=Cn.isCCW(this._ring.getCoordinates())};qi.prototype.isIsolated=function(){return this._label.getGeometryCount()===1};qi.prototype.computePoints=function(t){var n=this;this._startDe=t;var r=t,i=!0;do{if(r===null)throw new uc("Found null DirectedEdge");if(r.getEdgeRing()===n)throw new uc("Directed Edge visited twice during ring-building at "+r.getCoordinate());n._edges.add(r);var a=r.getLabel();fr.isTrue(a.isArea()),n.mergeLabel(a),n.addPoints(r.getEdge(),r.isForward(),i),i=!1,n.setEdgeRing(r,n),r=n.getNext(r)}while(r!==this._startDe)};qi.prototype.getLinearRing=function(){return this._ring};qi.prototype.getCoordinate=function(t){return this._pts.get(t)};qi.prototype.computeMaxNodeDegree=function(){var t=this;this._maxNodeDegree=0;var n=this._startDe;do{var r=n.getNode(),i=r.getEdges().getOutgoingDegree(t);i>t._maxNodeDegree&&(t._maxNodeDegree=i),n=t.getNext(n)}while(n!==this._startDe);this._maxNodeDegree*=2};qi.prototype.addPoints=function(t,n,r){var i=this,a=t.getCoordinates();if(n){var s=1;r&&(s=0);for(var o=s;o<a.length;o++)i._pts.add(a[o])}else{var l=a.length-2;r&&(l=a.length-1);for(var c=l;c>=0;c--)i._pts.add(a[c])}};qi.prototype.isHole=function(){return this._isHole};qi.prototype.setInResult=function(){var t=this._startDe;do t.getEdge().setInResult(!0),t=t.getNext();while(t!==this._startDe)};qi.prototype.containsPoint=function(t){var n=this.getLinearRing(),r=n.getEnvelopeInternal();if(!r.contains(t)||!Cn.isPointInRing(t,n.getCoordinates()))return!1;for(var i=this._holes.iterator();i.hasNext();){var a=i.next();if(a.containsPoint(t))return!1}return!0};qi.prototype.addHole=function(t){this._holes.add(t)};qi.prototype.isShell=function(){return this._shell===null};qi.prototype.getLabel=function(){return this._label};qi.prototype.getEdges=function(){return this._edges};qi.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree};qi.prototype.getShell=function(){return this._shell};qi.prototype.mergeLabel=function(){if(arguments.length===1){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(arguments.length===2){var n=arguments[0],r=arguments[1],i=n.getLocation(r,pn.RIGHT);if(i===We.NONE)return null;if(this._label.getLocation(r)===We.NONE)return this._label.setLocation(r,i),null}};qi.prototype.setShell=function(t){this._shell=t,t!==null&&t.addHole(this)};qi.prototype.toPolygon=function(t){for(var n=this,r=new Array(this._holes.size()).fill(null),i=0;i<this._holes.size();i++)r[i]=n._holes.get(i).getLinearRing();var a=t.createPolygon(this.getLinearRing(),r);return a};qi.prototype.interfaces_=function(){return[]};qi.prototype.getClass=function(){return qi};var Rdt=function(e){function t(){var n=arguments[0],r=arguments[1];e.call(this,n,r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setEdgeRing=function(r,i){r.setMinEdgeRing(i)},t.prototype.getNext=function(r){return r.getNextMin()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(qi),Ddt=function(e){function t(){var n=arguments[0],r=arguments[1];e.call(this,n,r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.buildMinimalRings=function(){var r=this,i=new yn,a=this._startDe;do{if(a.getMinEdgeRing()===null){var s=new Rdt(a,r._geometryFactory);i.add(s)}a=a.getNext()}while(a!==this._startDe);return i},t.prototype.setEdgeRing=function(r,i){r.setEdgeRing(i)},t.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var r=this,i=this._startDe;do{var a=i.getNode();a.getEdges().linkMinimalDirectedEdges(r),i=i.getNext()}while(i!==this._startDe)},t.prototype.getNext=function(r){return r.getNext()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(qi),Qo=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this._label=t}}};Qo.prototype.setVisited=function(t){this._isVisited=t};Qo.prototype.setInResult=function(t){this._isInResult=t};Qo.prototype.isCovered=function(){return this._isCovered};Qo.prototype.isCoveredSet=function(){return this._isCoveredSet};Qo.prototype.setLabel=function(t){this._label=t};Qo.prototype.getLabel=function(){return this._label};Qo.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0};Qo.prototype.updateIM=function(t){fr.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)};Qo.prototype.isInResult=function(){return this._isInResult};Qo.prototype.isVisited=function(){return this._isVisited};Qo.prototype.interfaces_=function(){return[]};Qo.prototype.getClass=function(){return Qo};var L2=function(e){function t(){e.call(this),this._coord=null,this._edges=null;var n=arguments[0],r=arguments[1];this._coord=n,this._edges=r,this._label=new Yr(0,We.NONE)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isIncidentEdgeInResult=function(){for(var r=this.getEdges().getEdges().iterator();r.hasNext();){var i=r.next();if(i.getEdge().isInResult())return!0}return!1},t.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},t.prototype.getCoordinate=function(){return this._coord},t.prototype.print=function(r){r.println("node "+this._coord+" lbl: "+this._label)},t.prototype.computeIM=function(r){},t.prototype.computeMergedLocation=function(r,i){var a=We.NONE;if(a=this._label.getLocation(i),!r.isNull(i)){var s=r.getLocation(i);a!==We.BOUNDARY&&(a=s)}return a},t.prototype.setLabel=function(){if(arguments.length===2){var r=arguments[0],i=arguments[1];this._label===null?this._label=new Yr(r,i):this._label.setLocation(r,i)}else return e.prototype.setLabel.apply(this,arguments)},t.prototype.getEdges=function(){return this._edges},t.prototype.mergeLabel=function(){var r=this;if(arguments[0]instanceof t){var i=arguments[0];this.mergeLabel(i._label)}else if(arguments[0]instanceof Yr)for(var a=arguments[0],s=0;s<2;s++){var o=r.computeMergedLocation(a,s),l=r._label.getLocation(s);l===We.NONE&&r._label.setLocation(s,o)}},t.prototype.add=function(r){this._edges.insert(r),r.setNode(this)},t.prototype.setLabelBoundary=function(r){if(this._label===null)return null;var i=We.NONE;this._label!==null&&(i=this._label.getLocation(r));var a=null;switch(i){case We.BOUNDARY:a=We.INTERIOR;break;case We.INTERIOR:a=We.BOUNDARY;break;default:a=We.BOUNDARY;break}this._label.setLocation(r,a)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Qo),Gl=function(){this.nodeMap=new Va,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};Gl.prototype.find=function(t){return this.nodeMap.get(t)};Gl.prototype.addNode=function(){if(arguments[0]instanceof ze){var t=arguments[0],n=this.nodeMap.get(t);return n===null&&(n=this.nodeFact.createNode(t),this.nodeMap.put(t,n)),n}else if(arguments[0]instanceof L2){var r=arguments[0],i=this.nodeMap.get(r.getCoordinate());return i===null?(this.nodeMap.put(r.getCoordinate(),r),r):(i.mergeLabel(r),i)}};Gl.prototype.print=function(t){for(var n=this.iterator();n.hasNext();){var r=n.next();r.print(t)}};Gl.prototype.iterator=function(){return this.nodeMap.values().iterator()};Gl.prototype.values=function(){return this.nodeMap.values()};Gl.prototype.getBoundaryNodes=function(t){for(var n=new yn,r=this.iterator();r.hasNext();){var i=r.next();i.getLabel().getLocation(t)===We.BOUNDARY&&n.add(i)}return n};Gl.prototype.add=function(t){var n=t.getCoordinate(),r=this.addNode(n);r.add(t)};Gl.prototype.interfaces_=function(){return[]};Gl.prototype.getClass=function(){return Gl};var Jr=function(){},Wy={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Jr.prototype.interfaces_=function(){return[]};Jr.prototype.getClass=function(){return Jr};Jr.isNorthern=function(t){return t===Jr.NE||t===Jr.NW};Jr.isOpposite=function(t,n){if(t===n)return!1;var r=(t-n+4)%4;return r===2};Jr.commonHalfPlane=function(t,n){if(t===n)return t;var r=(t-n+4)%4;if(r===2)return-1;var i=t<n?t:n,a=t>n?t:n;return i===0&&a===3?3:i};Jr.isInHalfPlane=function(t,n){return n===Jr.SE?t===Jr.SE||t===Jr.SW:t===n||t===n+1};Jr.quadrant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],n=arguments[1];if(t===0&&n===0)throw new Ti("Cannot compute the quadrant for point ( "+t+", "+n+" )");return t>=0?n>=0?Jr.NE:Jr.SE:n>=0?Jr.NW:Jr.SW}else if(arguments[0]instanceof ze&&arguments[1]instanceof ze){var r=arguments[0],i=arguments[1];if(i.x===r.x&&i.y===r.y)throw new Ti("Cannot compute the quadrant for two identical points "+r);return i.x>=r.x?i.y>=r.y?Jr.NE:Jr.SE:i.y>=r.y?Jr.NW:Jr.SW}};Wy.NE.get=function(){return 0};Wy.NW.get=function(){return 1};Wy.SW.get=function(){return 2};Wy.SE.get=function(){return 3};Object.defineProperties(Jr,Wy);var Ha=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var t=arguments[0];this._edge=t}else if(arguments.length===3){var n=arguments[0],r=arguments[1],i=arguments[2],a=null;this._edge=n,this.init(r,i),this._label=a}else if(arguments.length===4){var s=arguments[0],o=arguments[1],l=arguments[2],c=arguments[3];this._edge=s,this.init(o,l),this._label=c}};Ha.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:Cn.computeOrientation(t._p0,t._p1,this._p1)};Ha.prototype.getDy=function(){return this._dy};Ha.prototype.getCoordinate=function(){return this._p0};Ha.prototype.setNode=function(t){this._node=t};Ha.prototype.print=function(t){var n=Math.atan2(this._dy,this._dx),r=this.getClass().getName(),i=r.lastIndexOf("."),a=r.substring(i+1);t.print("  "+a+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+n+"   "+this._label)};Ha.prototype.compareTo=function(t){var n=t;return this.compareDirection(n)};Ha.prototype.getDirectedCoordinate=function(){return this._p1};Ha.prototype.getDx=function(){return this._dx};Ha.prototype.getLabel=function(){return this._label};Ha.prototype.getEdge=function(){return this._edge};Ha.prototype.getQuadrant=function(){return this._quadrant};Ha.prototype.getNode=function(){return this._node};Ha.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);return"  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label};Ha.prototype.computeLabel=function(t){};Ha.prototype.init=function(t,n){this._p0=t,this._p1=n,this._dx=n.x-t.x,this._dy=n.y-t.y,this._quadrant=Jr.quadrant(this._dx,this._dy),fr.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")};Ha.prototype.interfaces_=function(){return[Ls]};Ha.prototype.getClass=function(){return Ha};var wE=function(e){function t(){var n=arguments[0],r=arguments[1];if(e.call(this,n),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=r,r)this.init(n.getCoordinate(0),n.getCoordinate(1));else{var i=n.getNumPoints()-1;this.init(n.getCoordinate(i),n.getCoordinate(i-1))}this.computeDirectedLabel()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getNextMin=function(){return this._nextMin},t.prototype.getDepth=function(r){return this._depth[r]},t.prototype.setVisited=function(r){this._isVisited=r},t.prototype.computeDirectedLabel=function(){this._label=new Yr(this._edge.getLabel()),this._isForward||this._label.flip()},t.prototype.getNext=function(){return this._next},t.prototype.setDepth=function(r,i){if(this._depth[r]!==-999&&this._depth[r]!==i)throw new uc("assigned depths do not match",this.getCoordinate());this._depth[r]=i},t.prototype.isInteriorAreaEdge=function(){for(var r=this,i=!0,a=0;a<2;a++)r._label.isArea(a)&&r._label.getLocation(a,pn.LEFT)===We.INTERIOR&&r._label.getLocation(a,pn.RIGHT)===We.INTERIOR||(i=!1);return i},t.prototype.setNextMin=function(r){this._nextMin=r},t.prototype.print=function(r){e.prototype.print.call(this,r),r.print(" "+this._depth[pn.LEFT]+"/"+this._depth[pn.RIGHT]),r.print(" ("+this.getDepthDelta()+")"),this._isInResult&&r.print(" inResult")},t.prototype.setMinEdgeRing=function(r){this._minEdgeRing=r},t.prototype.isLineEdge=function(){var r=this._label.isLine(0)||this._label.isLine(1),i=!this._label.isArea(0)||this._label.allPositionsEqual(0,We.EXTERIOR),a=!this._label.isArea(1)||this._label.allPositionsEqual(1,We.EXTERIOR);return r&&i&&a},t.prototype.setEdgeRing=function(r){this._edgeRing=r},t.prototype.getMinEdgeRing=function(){return this._minEdgeRing},t.prototype.getDepthDelta=function(){var r=this._edge.getDepthDelta();return this._isForward||(r=-r),r},t.prototype.setInResult=function(r){this._isInResult=r},t.prototype.getSym=function(){return this._sym},t.prototype.isForward=function(){return this._isForward},t.prototype.getEdge=function(){return this._edge},t.prototype.printEdge=function(r){this.print(r),r.print(" "),this._isForward?this._edge.print(r):this._edge.printReverse(r)},t.prototype.setSym=function(r){this._sym=r},t.prototype.setVisitedEdge=function(r){this.setVisited(r),this._sym.setVisited(r)},t.prototype.setEdgeDepths=function(r,i){var a=this.getEdge().getDepthDelta();this._isForward||(a=-a);var s=1;r===pn.LEFT&&(s=-1);var o=pn.opposite(r),l=a*s,c=i+l;this.setDepth(r,i),this.setDepth(o,c)},t.prototype.getEdgeRing=function(){return this._edgeRing},t.prototype.isInResult=function(){return this._isInResult},t.prototype.setNext=function(r){this._next=r},t.prototype.isVisited=function(){return this._isVisited},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.depthFactor=function(r,i){return r===We.EXTERIOR&&i===We.INTERIOR?1:r===We.INTERIOR&&i===We.EXTERIOR?-1:0},t}(Ha),l0=function(){};l0.prototype.createNode=function(t){return new L2(t,null)};l0.prototype.interfaces_=function(){return[]};l0.prototype.getClass=function(){return l0};var Si=function(){if(this._edges=new yn,this._nodes=null,this._edgeEndList=new yn,arguments.length===0)this._nodes=new Gl(new l0);else if(arguments.length===1){var t=arguments[0];this._nodes=new Gl(t)}};Si.prototype.printEdges=function(t){var n=this;t.println("Edges:");for(var r=0;r<this._edges.size();r++){t.println("edge "+r+":");var i=n._edges.get(r);i.print(t),i.eiList.print(t)}};Si.prototype.find=function(t){return this._nodes.find(t)};Si.prototype.addNode=function(){if(arguments[0]instanceof L2){var t=arguments[0];return this._nodes.addNode(t)}else if(arguments[0]instanceof ze){var n=arguments[0];return this._nodes.addNode(n)}};Si.prototype.getNodeIterator=function(){return this._nodes.iterator()};Si.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();){var n=t.next();n.getEdges().linkResultDirectedEdges()}};Si.prototype.debugPrintln=function(t){Oa.out.println(t)};Si.prototype.isBoundaryNode=function(t,n){var r=this._nodes.find(n);if(r===null)return!1;var i=r.getLabel();return i!==null&&i.getLocation(t)===We.BOUNDARY};Si.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();){var n=t.next();n.getEdges().linkAllDirectedEdges()}};Si.prototype.matchInSameDirection=function(t,n,r,i){return t.equals(r)?Cn.computeOrientation(t,n,i)===Cn.COLLINEAR&&Jr.quadrant(t,n)===Jr.quadrant(r,i):!1};Si.prototype.getEdgeEnds=function(){return this._edgeEndList};Si.prototype.debugPrint=function(t){Oa.out.print(t)};Si.prototype.getEdgeIterator=function(){return this._edges.iterator()};Si.prototype.findEdgeInSameDirection=function(t,n){for(var r=this,i=0;i<this._edges.size();i++){var a=r._edges.get(i),s=a.getCoordinates();if(r.matchInSameDirection(t,n,s[0],s[1])||r.matchInSameDirection(t,n,s[s.length-1],s[s.length-2]))return a}return null};Si.prototype.insertEdge=function(t){this._edges.add(t)};Si.prototype.findEdgeEnd=function(t){for(var n=this.getEdgeEnds().iterator();n.hasNext();){var r=n.next();if(r.getEdge()===t)return r}return null};Si.prototype.addEdges=function(t){for(var n=this,r=t.iterator();r.hasNext();){var i=r.next();n._edges.add(i);var a=new wE(i,!0),s=new wE(i,!1);a.setSym(s),s.setSym(a),n.add(a),n.add(s)}};Si.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)};Si.prototype.getNodes=function(){return this._nodes.values()};Si.prototype.findEdge=function(t,n){for(var r=this,i=0;i<this._edges.size();i++){var a=r._edges.get(i),s=a.getCoordinates();if(t.equals(s[0])&&n.equals(s[1]))return a}return null};Si.prototype.interfaces_=function(){return[]};Si.prototype.getClass=function(){return Si};Si.linkResultDirectedEdges=function(t){for(var n=t.iterator();n.hasNext();){var r=n.next();r.getEdges().linkResultDirectedEdges()}};var Lo=function(){this._geometryFactory=null,this._shellList=new yn;var t=arguments[0];this._geometryFactory=t};Lo.prototype.sortShellsAndHoles=function(t,n,r){for(var i=t.iterator();i.hasNext();){var a=i.next();a.isHole()?r.add(a):n.add(a)}};Lo.prototype.computePolygons=function(t){for(var n=this,r=new yn,i=t.iterator();i.hasNext();){var a=i.next(),s=a.toPolygon(n._geometryFactory);r.add(s)}return r};Lo.prototype.placeFreeHoles=function(t,n){for(var r=this,i=n.iterator();i.hasNext();){var a=i.next();if(a.getShell()===null){var s=r.findEdgeRingContaining(a,t);if(s===null)throw new uc("unable to assign hole to a shell",a.getCoordinate(0));a.setShell(s)}}};Lo.prototype.buildMinimalEdgeRings=function(t,n,r){for(var i=this,a=new yn,s=t.iterator();s.hasNext();){var o=s.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var l=o.buildMinimalRings(),c=i.findShell(l);c!==null?(i.placePolygonHoles(c,l),n.add(c)):r.addAll(l)}else a.add(o)}return a};Lo.prototype.containsPoint=function(t){for(var n=this._shellList.iterator();n.hasNext();){var r=n.next();if(r.containsPoint(t))return!0}return!1};Lo.prototype.buildMaximalEdgeRings=function(t){for(var n=this,r=new yn,i=t.iterator();i.hasNext();){var a=i.next();if(a.isInResult()&&a.getLabel().isArea()&&a.getEdgeRing()===null){var s=new Ddt(a,n._geometryFactory);r.add(s),s.setInResult()}}return r};Lo.prototype.placePolygonHoles=function(t,n){for(var r=n.iterator();r.hasNext();){var i=r.next();i.isHole()&&i.setShell(t)}};Lo.prototype.getPolygons=function(){var t=this.computePolygons(this._shellList);return t};Lo.prototype.findEdgeRingContaining=function(t,n){for(var r=t.getLinearRing(),i=r.getEnvelopeInternal(),a=r.getCoordinateN(0),s=null,o=null,l=n.iterator();l.hasNext();){var c=l.next(),u=c.getLinearRing(),f=u.getEnvelopeInternal();s!==null&&(o=s.getLinearRing().getEnvelopeInternal());var h=!1;f.contains(i)&&Cn.isPointInRing(a,u.getCoordinates())&&(h=!0),h&&(s===null||o.contains(f))&&(s=c)}return s};Lo.prototype.findShell=function(t){for(var n=0,r=null,i=t.iterator();i.hasNext();){var a=i.next();a.isHole()||(r=a,n++)}return fr.isTrue(n<=1,"found two shells in MinimalEdgeRing list"),r};Lo.prototype.add=function(){if(arguments.length===1){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(arguments.length===2){var n=arguments[0],r=arguments[1];Si.linkResultDirectedEdges(r);var i=this.buildMaximalEdgeRings(n),a=new yn,s=this.buildMinimalEdgeRings(i,this._shellList,a);this.sortShellsAndHoles(s,this._shellList,a),this.placeFreeHoles(this._shellList,a)}};Lo.prototype.interfaces_=function(){return[]};Lo.prototype.getClass=function(){return Lo};var u0=function(){};u0.prototype.getBounds=function(){};u0.prototype.interfaces_=function(){return[]};u0.prototype.getClass=function(){return u0};var rl=function(){this._bounds=null,this._item=null;var t=arguments[0],n=arguments[1];this._bounds=t,this._item=n};rl.prototype.getItem=function(){return this._item};rl.prototype.getBounds=function(){return this._bounds};rl.prototype.interfaces_=function(){return[u0,Ps]};rl.prototype.getClass=function(){return rl};var cc=function(){this._size=null,this._items=null,this._size=0,this._items=new yn,this._items.add(null)};cc.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t};cc.prototype.size=function(){return this._size};cc.prototype.reorder=function(t){for(var n=this,r=null,i=this._items.get(t);t*2<=this._size&&(r=t*2,r!==n._size&&n._items.get(r+1).compareTo(n._items.get(r))<0&&r++,n._items.get(r).compareTo(i)<0);t=r)n._items.set(t,n._items.get(r));this._items.set(t,i)};cc.prototype.clear=function(){this._size=0,this._items.clear()};cc.prototype.isEmpty=function(){return this._size===0};cc.prototype.add=function(t){var n=this;this._items.add(null),this._size+=1;var r=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(r/2)))<0;r/=2)n._items.set(r,n._items.get(Math.trunc(r/2)));this._items.set(r,t)};cc.prototype.interfaces_=function(){return[]};cc.prototype.getClass=function(){return cc};var ef=function(){};ef.prototype.visitItem=function(t){};ef.prototype.interfaces_=function(){return[]};ef.prototype.getClass=function(){return ef};var jd=function(){};jd.prototype.insert=function(t,n){};jd.prototype.remove=function(t,n){};jd.prototype.query=function(){};jd.prototype.interfaces_=function(){return[]};jd.prototype.getClass=function(){return jd};var ea=function(){if(this._childBoundables=new yn,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this._level=t}}},mD={serialVersionUID:{configurable:!0}};ea.prototype.getLevel=function(){return this._level};ea.prototype.size=function(){return this._childBoundables.size()};ea.prototype.getChildBoundables=function(){return this._childBoundables};ea.prototype.addChildBoundable=function(t){fr.isTrue(this._bounds===null),this._childBoundables.add(t)};ea.prototype.isEmpty=function(){return this._childBoundables.isEmpty()};ea.prototype.getBounds=function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds};ea.prototype.interfaces_=function(){return[u0,Ps]};ea.prototype.getClass=function(){return ea};mD.serialVersionUID.get=function(){return 6493722185909574e3};Object.defineProperties(ea,mD);var il=function(){};il.reverseOrder=function(){return{compare:function(n,r){return r.compareTo(n)}}};il.min=function(t){return il.sort(t),t.get(0)};il.sort=function(t,n){var r=t.toArray();n?ih.sort(r,n):ih.sort(r);for(var i=t.iterator(),a=0,s=r.length;a<s;a++)i.next(),i.set(r[a])};il.singletonList=function(t){var n=new yn;return n.add(t),n};var Wi=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],n=arguments[1],r=arguments[2];this._boundable1=t,this._boundable2=n,this._itemDistance=r,this._distance=this.distance()};Wi.prototype.expandToQueue=function(t,n){var r=Wi.isComposite(this._boundable1),i=Wi.isComposite(this._boundable2);if(r&&i)return Wi.area(this._boundable1)>Wi.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,n),null):(this.expand(this._boundable2,this._boundable1,t,n),null);if(r)return this.expand(this._boundable1,this._boundable2,t,n),null;if(i)return this.expand(this._boundable2,this._boundable1,t,n),null;throw new Ti("neither boundable is composite")};Wi.prototype.isLeaves=function(){return!(Wi.isComposite(this._boundable1)||Wi.isComposite(this._boundable2))};Wi.prototype.compareTo=function(t){var n=t;return this._distance<n._distance?-1:this._distance>n._distance?1:0};Wi.prototype.expand=function(t,n,r,i){for(var a=this,s=t.getChildBoundables(),o=s.iterator();o.hasNext();){var l=o.next(),c=new Wi(l,n,a._itemDistance);c.getDistance()<i&&r.add(c)}};Wi.prototype.getBoundable=function(t){return t===0?this._boundable1:this._boundable2};Wi.prototype.getDistance=function(){return this._distance};Wi.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())};Wi.prototype.interfaces_=function(){return[Ls]};Wi.prototype.getClass=function(){return Wi};Wi.area=function(t){return t.getBounds().getArea()};Wi.isComposite=function(t){return t instanceof ea};var _a=function e(){if(this._root=null,this._built=!1,this._itemBoundables=new yn,this._nodeCapacity=null,arguments.length===0){var t=e.DEFAULT_NODE_CAPACITY;this._nodeCapacity=t}else if(arguments.length===1){var n=arguments[0];fr.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},P2={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};_a.prototype.getNodeCapacity=function(){return this._nodeCapacity};_a.prototype.lastNode=function(t){return t.get(t.size()-1)};_a.prototype.size=function(){var t=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var n=arguments[0],r=0,i=n.getChildBoundables().iterator();i.hasNext();){var a=i.next();a instanceof ea?r+=t.size(a):a instanceof rl&&(r+=1)}return r}};_a.prototype.removeItem=function(t,n){for(var r=null,i=t.getChildBoundables().iterator();i.hasNext();){var a=i.next();a instanceof rl&&a.getItem()===n&&(r=a)}return r!==null?(t.getChildBoundables().remove(r),!0):!1};_a.prototype.itemsTree=function(){var t=this;if(arguments.length===0){this.build();var n=this.itemsTree(this._root);return n===null?new yn:n}else if(arguments.length===1){for(var r=arguments[0],i=new yn,a=r.getChildBoundables().iterator();a.hasNext();){var s=a.next();if(s instanceof ea){var o=t.itemsTree(s);o!==null&&i.add(o)}else s instanceof rl?i.add(s.getItem()):fr.shouldNeverReachHere()}return i.size()<=0?null:i}};_a.prototype.insert=function(t,n){fr.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new rl(t,n))};_a.prototype.boundablesAtLevel=function(){var t=this;if(arguments.length===1){var n=arguments[0],r=new yn;return this.boundablesAtLevel(n,this._root,r),r}else if(arguments.length===3){var i=arguments[0],a=arguments[1],s=arguments[2];if(fr.isTrue(i>-2),a.getLevel()===i)return s.add(a),null;for(var o=a.getChildBoundables().iterator();o.hasNext();){var l=o.next();l instanceof ea?t.boundablesAtLevel(i,l,s):(fr.isTrue(l instanceof rl),i===-1&&s.add(l))}return null}};_a.prototype.query=function(){var t=this;if(arguments.length===1){var n=arguments[0];this.build();var r=new yn;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r),r}else if(arguments.length===2){var i=arguments[0],a=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),i)&&this.query(i,this._root,a)}else if(arguments.length===3){if(qn(arguments[2],ef)&&arguments[0]instanceof Object&&arguments[1]instanceof ea)for(var s=arguments[0],o=arguments[1],l=arguments[2],c=o.getChildBoundables(),u=0;u<c.size();u++){var f=c.get(u);t.getIntersectsOp().intersects(f.getBounds(),s)&&(f instanceof ea?t.query(s,f,l):f instanceof rl?l.visitItem(f.getItem()):fr.shouldNeverReachHere())}else if(qn(arguments[2],Ks)&&arguments[0]instanceof Object&&arguments[1]instanceof ea)for(var h=arguments[0],d=arguments[1],p=arguments[2],g=d.getChildBoundables(),m=0;m<g.size();m++){var v=g.get(m);t.getIntersectsOp().intersects(v.getBounds(),h)&&(v instanceof ea?t.query(h,v,p):v instanceof rl?p.add(v.getItem()):fr.shouldNeverReachHere())}}};_a.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0};_a.prototype.getRoot=function(){return this.build(),this._root};_a.prototype.remove=function(){var t=this;if(arguments.length===2){var n=arguments[0],r=arguments[1];return this.build(),this.getIntersectsOp().intersects(this._root.getBounds(),n)?this.remove(n,this._root,r):!1}else if(arguments.length===3){var i=arguments[0],a=arguments[1],s=arguments[2],o=this.removeItem(a,s);if(o)return!0;for(var l=null,c=a.getChildBoundables().iterator();c.hasNext();){var u=c.next();if(t.getIntersectsOp().intersects(u.getBounds(),i)&&u instanceof ea&&(o=t.remove(i,u,s),o)){l=u;break}}return l!==null&&l.getChildBoundables().isEmpty()&&a.getChildBoundables().remove(l),o}};_a.prototype.createHigherLevels=function(t,n){fr.isTrue(!t.isEmpty());var r=this.createParentBoundables(t,n+1);return r.size()===1?r.get(0):this.createHigherLevels(r,n+1)};_a.prototype.depth=function(){var t=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var n=arguments[0],r=0,i=n.getChildBoundables().iterator();i.hasNext();){var a=i.next();if(a instanceof ea){var s=t.depth(a);s>r&&(r=s)}}return r+1}};_a.prototype.createParentBoundables=function(t,n){var r=this;fr.isTrue(!t.isEmpty());var i=new yn;i.add(this.createNode(n));var a=new yn(t);il.sort(a,this.getComparator());for(var s=a.iterator();s.hasNext();){var o=s.next();r.lastNode(i).getChildBoundables().size()===r.getNodeCapacity()&&i.add(r.createNode(n)),r.lastNode(i).addChildBoundable(o)}return i};_a.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()};_a.prototype.interfaces_=function(){return[Ps]};_a.prototype.getClass=function(){return _a};_a.compareDoubles=function(t,n){return t>n?1:t<n?-1:0};P2.IntersectsOp.get=function(){return kdt};P2.serialVersionUID.get=function(){return-3886435814360241e3};P2.DEFAULT_NODE_CAPACITY.get=function(){return 10};Object.defineProperties(_a,P2);var kdt=function(){},c0=function(){};c0.prototype.distance=function(t,n){};c0.prototype.interfaces_=function(){return[]};c0.prototype.getClass=function(){return c0};var vD=function(e){function t(r){r=r||t.DEFAULT_NODE_CAPACITY,e.call(this,r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return t.prototype.createParentBoundablesFromVerticalSlices=function(i,a){var s=this;fr.isTrue(i.length>0);for(var o=new yn,l=0;l<i.length;l++)o.addAll(s.createParentBoundablesFromVerticalSlice(i[l],a));return o},t.prototype.createNode=function(i){return new JL(i)},t.prototype.size=function(){return arguments.length===0?e.prototype.size.call(this):e.prototype.size.apply(this,arguments)},t.prototype.insert=function(){if(arguments.length===2){var i=arguments[0],a=arguments[1];if(i.isNull())return null;e.prototype.insert.call(this,i,a)}else return e.prototype.insert.apply(this,arguments)},t.prototype.getIntersectsOp=function(){return t.intersectsOp},t.prototype.verticalSlices=function(i,a){for(var s=Math.trunc(Math.ceil(i.size()/a)),o=new Array(a).fill(null),l=i.iterator(),c=0;c<a;c++){o[c]=new yn;for(var u=0;l.hasNext()&&u<s;){var f=l.next();o[c].add(f),u++}}return o},t.prototype.query=function(){if(arguments.length===1){var i=arguments[0];return e.prototype.query.call(this,i)}else if(arguments.length===2){var a=arguments[0],s=arguments[1];e.prototype.query.call(this,a,s)}else if(arguments.length===3){if(qn(arguments[2],ef)&&arguments[0]instanceof Object&&arguments[1]instanceof ea){var o=arguments[0],l=arguments[1],c=arguments[2];e.prototype.query.call(this,o,l,c)}else if(qn(arguments[2],Ks)&&arguments[0]instanceof Object&&arguments[1]instanceof ea){var u=arguments[0],f=arguments[1],h=arguments[2];e.prototype.query.call(this,u,f,h)}}},t.prototype.getComparator=function(){return t.yComparator},t.prototype.createParentBoundablesFromVerticalSlice=function(i,a){return e.prototype.createParentBoundables.call(this,i,a)},t.prototype.remove=function(){if(arguments.length===2){var i=arguments[0],a=arguments[1];return e.prototype.remove.call(this,i,a)}else return e.prototype.remove.apply(this,arguments)},t.prototype.depth=function(){return arguments.length===0?e.prototype.depth.call(this):e.prototype.depth.apply(this,arguments)},t.prototype.createParentBoundables=function(i,a){fr.isTrue(!i.isEmpty());var s=Math.trunc(Math.ceil(i.size()/this.getNodeCapacity())),o=new yn(i);il.sort(o,t.xComparator);var l=this.verticalSlices(o,Math.trunc(Math.ceil(Math.sqrt(s))));return this.createParentBoundablesFromVerticalSlices(l,a)},t.prototype.nearestNeighbour=function(){if(arguments.length===1){if(qn(arguments[0],c0)){var i=arguments[0],a=new Wi(this.getRoot(),this.getRoot(),i);return this.nearestNeighbour(a)}else if(arguments[0]instanceof Wi){var s=arguments[0];return this.nearestNeighbour(s,nr.POSITIVE_INFINITY)}}else if(arguments.length===2){if(arguments[0]instanceof t&&qn(arguments[1],c0)){var o=arguments[0],l=arguments[1],c=new Wi(this.getRoot(),o.getRoot(),l);return this.nearestNeighbour(c)}else if(arguments[0]instanceof Wi&&typeof arguments[1]=="number"){var u=arguments[0],f=arguments[1],h=f,d=null,p=new cc;for(p.add(u);!p.isEmpty()&&h>0;){var g=p.poll(),m=g.getDistance();if(m>=h)break;g.isLeaves()?(h=m,d=g):g.expandToQueue(p,h)}return[d.getBoundable(0).getItem(),d.getBoundable(1).getItem()]}}else if(arguments.length===3){var v=arguments[0],y=arguments[1],_=arguments[2],b=new rl(v,y),w=new Wi(this.getRoot(),b,_);return this.nearestNeighbour(w)[0]}},t.prototype.interfaces_=function(){return[jd,Ps]},t.prototype.getClass=function(){return t},t.centreX=function(i){return t.avg(i.getMinX(),i.getMaxX())},t.avg=function(i,a){return(i+a)/2},t.centreY=function(i){return t.avg(i.getMinY(),i.getMaxY())},n.STRtreeNode.get=function(){return JL},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[t0]},compare:function(r,i){return e.compareDoubles(t.centreX(r.getBounds()),t.centreX(i.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[t0]},compare:function(r,i){return e.compareDoubles(t.centreY(r.getBounds()),t.centreY(i.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[e.IntersectsOp]},intersects:function(r,i){return r.intersects(i)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(t,n),t}(_a),JL=function(e){function t(){var n=arguments[0];e.call(this,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.computeBounds=function(){for(var r=null,i=this.getChildBoundables().iterator();i.hasNext();){var a=i.next();r===null?r=new Bn(a.getBounds()):r.expandToInclude(a.getBounds())}return r},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(ea),po=function(){};po.prototype.interfaces_=function(){return[]};po.prototype.getClass=function(){return po};po.relativeSign=function(t,n){return t<n?-1:t>n?1:0};po.compare=function(t,n,r){if(n.equals2D(r))return 0;var i=po.relativeSign(n.x,r.x),a=po.relativeSign(n.y,r.y);switch(t){case 0:return po.compareValue(i,a);case 1:return po.compareValue(a,i);case 2:return po.compareValue(a,-i);case 3:return po.compareValue(-i,a);case 4:return po.compareValue(-i,-a);case 5:return po.compareValue(-a,-i);case 6:return po.compareValue(-a,i);case 7:return po.compareValue(i,-a)}return fr.shouldNeverReachHere("invalid octant value"),0};po.compareValue=function(t,n){return t<0?-1:t>0?1:n<0?-1:n>0?1:0};var nf=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this._segString=t,this.coord=new ze(n),this.segmentIndex=r,this._segmentOctant=i,this._isInterior=!n.equals2D(t.getCoordinate(r))};nf.prototype.getCoordinate=function(){return this.coord};nf.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)};nf.prototype.compareTo=function(t){var n=t;return this.segmentIndex<n.segmentIndex?-1:this.segmentIndex>n.segmentIndex?1:this.coord.equals2D(n.coord)?0:po.compare(this._segmentOctant,this.coord,n.coord)};nf.prototype.isEndPoint=function(t){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===t};nf.prototype.isInterior=function(){return this._isInterior};nf.prototype.interfaces_=function(){return[Ls]};nf.prototype.getClass=function(){return nf};var io=function(){this._nodeMap=new Va,this._edge=null;var t=arguments[0];this._edge=t};io.prototype.getSplitCoordinates=function(){var t=this,n=new Hy;this.addEndpoints();for(var r=this.iterator(),i=r.next();r.hasNext();){var a=r.next();t.addEdgeCoordinates(i,a,n),i=a}return n.toCoordinateArray()};io.prototype.addCollapsedNodes=function(){var t=this,n=new yn;this.findCollapsesFromInsertedNodes(n),this.findCollapsesFromExistingVertices(n);for(var r=n.iterator();r.hasNext();){var i=r.next().intValue();t.add(t._edge.getCoordinate(i),i)}};io.prototype.print=function(t){t.println("Intersections:");for(var n=this.iterator();n.hasNext();){var r=n.next();r.print(t)}};io.prototype.findCollapsesFromExistingVertices=function(t){for(var n=this,r=0;r<this._edge.size()-2;r++){var i=n._edge.getCoordinate(r),a=n._edge.getCoordinate(r+2);i.equals2D(a)&&t.add(new Dl(r+1))}};io.prototype.addEdgeCoordinates=function(t,n,r){var i=this,a=this._edge.getCoordinate(n.segmentIndex),s=n.isInterior()||!n.coord.equals2D(a);r.add(new ze(t.coord),!1);for(var o=t.segmentIndex+1;o<=n.segmentIndex;o++)r.add(i._edge.getCoordinate(o));s&&r.add(new ze(n.coord))};io.prototype.iterator=function(){return this._nodeMap.values().iterator()};io.prototype.addSplitEdges=function(t){var n=this;this.addEndpoints(),this.addCollapsedNodes();for(var r=this.iterator(),i=r.next();r.hasNext();){var a=r.next(),s=n.createSplitEdge(i,a);t.add(s),i=a}};io.prototype.findCollapseIndex=function(t,n,r){if(!t.coord.equals2D(n.coord))return!1;var i=n.segmentIndex-t.segmentIndex;return n.isInterior()||i--,i===1?(r[0]=t.segmentIndex+1,!0):!1};io.prototype.findCollapsesFromInsertedNodes=function(t){for(var n=this,r=new Array(1).fill(null),i=this.iterator(),a=i.next();i.hasNext();){var s=i.next(),o=n.findCollapseIndex(a,s,r);o&&t.add(new Dl(r[0])),a=s}};io.prototype.getEdge=function(){return this._edge};io.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)};io.prototype.createSplitEdge=function(t,n){var r=this,i=n.segmentIndex-t.segmentIndex+2,a=this._edge.getCoordinate(n.segmentIndex),s=n.isInterior()||!n.coord.equals2D(a);s||i--;var o=new Array(i).fill(null),l=0;o[l++]=new ze(t.coord);for(var c=t.segmentIndex+1;c<=n.segmentIndex;c++)o[l++]=r._edge.getCoordinate(c);return s&&(o[l]=new ze(n.coord)),new ji(o,this._edge.getData())};io.prototype.add=function(t,n){var r=new nf(this._edge,t,n,this._edge.getSegmentOctant(n)),i=this._nodeMap.get(r);return i!==null?(fr.isTrue(i.coord.equals2D(t),"Found equal nodes with different coordinates"),i):(this._nodeMap.put(r,r),r)};io.prototype.checkSplitEdgesCorrectness=function(t){var n=this._edge.getCoordinates(),r=t.get(0),i=r.getCoordinate(0);if(!i.equals2D(n[0]))throw new sc("bad split edge start point at "+i);var a=t.get(t.size()-1),s=a.getCoordinates(),o=s[s.length-1];if(!o.equals2D(n[n.length-1]))throw new sc("bad split edge end point at "+o)};io.prototype.interfaces_=function(){return[]};io.prototype.getClass=function(){return io};var Ud=function(){};Ud.prototype.interfaces_=function(){return[]};Ud.prototype.getClass=function(){return Ud};Ud.octant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],n=arguments[1];if(t===0&&n===0)throw new Ti("Cannot compute the octant for point ( "+t+", "+n+" )");var r=Math.abs(t),i=Math.abs(n);return t>=0?n>=0?r>=i?0:1:r>=i?7:6:n>=0?r>=i?3:2:r>=i?4:5}else if(arguments[0]instanceof ze&&arguments[1]instanceof ze){var a=arguments[0],s=arguments[1],o=s.x-a.x,l=s.y-a.y;if(o===0&&l===0)throw new Ti("Cannot compute the octant for two identical points "+a);return Ud.octant(o,l)}};var vu=function(){};vu.prototype.getCoordinates=function(){};vu.prototype.size=function(){};vu.prototype.getCoordinate=function(t){};vu.prototype.isClosed=function(){};vu.prototype.setData=function(t){};vu.prototype.getData=function(){};vu.prototype.interfaces_=function(){return[]};vu.prototype.getClass=function(){return vu};var iy=function(){};iy.prototype.addIntersection=function(t,n){};iy.prototype.interfaces_=function(){return[vu]};iy.prototype.getClass=function(){return iy};var ji=function(){this._nodeList=new io(this),this._pts=null,this._data=null;var t=arguments[0],n=arguments[1];this._pts=t,this._data=n};ji.prototype.getCoordinates=function(){return this._pts};ji.prototype.size=function(){return this._pts.length};ji.prototype.getCoordinate=function(t){return this._pts[t]};ji.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])};ji.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))};ji.prototype.setData=function(t){this._data=t};ji.prototype.safeOctant=function(t,n){return t.equals2D(n)?0:Ud.octant(t,n)};ji.prototype.getData=function(){return this._data};ji.prototype.addIntersection=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];this.addIntersectionNode(t,n)}else if(arguments.length===4){var r=arguments[0],i=arguments[1],a=arguments[3],s=new ze(r.getIntersection(a));this.addIntersection(s,i)}};ji.prototype.toString=function(){return el.toLineString(new zi(this._pts))};ji.prototype.getNodeList=function(){return this._nodeList};ji.prototype.addIntersectionNode=function(t,n){var r=n,i=r+1;if(i<this._pts.length){var a=this._pts[i];t.equals2D(a)&&(r=i)}var s=this._nodeList.add(t,r);return s};ji.prototype.addIntersections=function(t,n,r){for(var i=this,a=0;a<t.getIntersectionNum();a++)i.addIntersection(t,n,r,a)};ji.prototype.interfaces_=function(){return[iy]};ji.prototype.getClass=function(){return ji};ji.getNodedSubstrings=function(){if(arguments.length===1){var t=arguments[0],n=new yn;return ji.getNodedSubstrings(t,n),n}else if(arguments.length===2)for(var r=arguments[0],i=arguments[1],a=r.iterator();a.hasNext();){var s=a.next();s.getNodeList().addSplitEdges(i)}};var Gn=function(){if(this.p0=null,this.p1=null,arguments.length===0)this.p0=new ze,this.p1=new ze;else if(arguments.length===1){var t=arguments[0];this.p0=new ze(t.p0),this.p1=new ze(t.p1)}else if(arguments.length===2)this.p0=arguments[0],this.p1=arguments[1];else if(arguments.length===4){var n=arguments[0],r=arguments[1],i=arguments[2],a=arguments[3];this.p0=new ze(n,r),this.p1=new ze(i,a)}},yD={serialVersionUID:{configurable:!0}};Gn.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)};Gn.prototype.orientationIndex=function(){if(arguments[0]instanceof Gn){var t=arguments[0],n=Cn.orientationIndex(this.p0,this.p1,t.p0),r=Cn.orientationIndex(this.p0,this.p1,t.p1);return n>=0&&r>=0||n<=0&&r<=0?Math.max(n,r):0}else if(arguments[0]instanceof ze){var i=arguments[0];return Cn.orientationIndex(this.p0,this.p1,i)}};Gn.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])};Gn.prototype.isVertical=function(){return this.p0.x===this.p1.x};Gn.prototype.equals=function(t){if(!(t instanceof Gn))return!1;var n=t;return this.p0.equals(n.p0)&&this.p1.equals(n.p1)};Gn.prototype.intersection=function(t){var n=new Ph;return n.computeIntersection(this.p0,this.p1,t.p0,t.p1),n.hasIntersection()?n.getIntersection(0):null};Gn.prototype.project=function(){if(arguments[0]instanceof ze){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new ze(t);var n=this.projectionFactor(t),r=new ze;return r.x=this.p0.x+n*(this.p1.x-this.p0.x),r.y=this.p0.y+n*(this.p1.y-this.p0.y),r}else if(arguments[0]instanceof Gn){var i=arguments[0],a=this.projectionFactor(i.p0),s=this.projectionFactor(i.p1);if(a>=1&&s>=1||a<=0&&s<=0)return null;var o=this.project(i.p0);a<0&&(o=this.p0),a>1&&(o=this.p1);var l=this.project(i.p1);return s<0&&(l=this.p0),s>1&&(l=this.p1),new Gn(o,l)}};Gn.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()};Gn.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)};Gn.prototype.getCoordinate=function(t){return t===0?this.p0:this.p1};Gn.prototype.distancePerpendicular=function(t){return Cn.distancePointLinePerpendicular(t,this.p0,this.p1)};Gn.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)};Gn.prototype.midPoint=function(){return Gn.midPoint(this.p0,this.p1)};Gn.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var n=this.p1.x-this.p0.x,r=this.p1.y-this.p0.y,i=n*n+r*r;if(i<=0)return nr.NaN;var a=((t.x-this.p0.x)*n+(t.y-this.p0.y)*r)/i;return a};Gn.prototype.closestPoints=function(t){var n=this.intersection(t);if(n!==null)return[n,n];var r=new Array(2).fill(null),i=nr.MAX_VALUE,a=null,s=this.closestPoint(t.p0);i=s.distance(t.p0),r[0]=s,r[1]=t.p0;var o=this.closestPoint(t.p1);a=o.distance(t.p1),a<i&&(i=a,r[0]=o,r[1]=t.p1);var l=t.closestPoint(this.p0);a=l.distance(this.p0),a<i&&(i=a,r[0]=this.p0,r[1]=l);var c=t.closestPoint(this.p1);return a=c.distance(this.p1),a<i&&(i=a,r[0]=this.p1,r[1]=c),r};Gn.prototype.closestPoint=function(t){var n=this.projectionFactor(t);if(n>0&&n<1)return this.project(t);var r=this.p0.distance(t),i=this.p1.distance(t);return r<i?this.p0:this.p1};Gn.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)};Gn.prototype.getLength=function(){return this.p0.distance(this.p1)};Gn.prototype.compareTo=function(t){var n=t,r=this.p0.compareTo(n.p0);return r!==0?r:this.p1.compareTo(n.p1)};Gn.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t};Gn.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)};Gn.prototype.lineIntersection=function(t){try{var n=Xs.intersection(this.p0,this.p1,t.p0,t.p1);return n}catch(r){if(!(r instanceof R0))throw r}finally{}return null};Gn.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)};Gn.prototype.pointAlongOffset=function(t,n){var r=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),a=this.p1.x-this.p0.x,s=this.p1.y-this.p0.y,o=Math.sqrt(a*a+s*s),l=0,c=0;if(n!==0){if(o<=0)throw new Error("Cannot compute offset from zero-length line segment");l=n*a/o,c=n*s/o}var u=r-c,f=i+l,h=new ze(u,f);return h};Gn.prototype.setCoordinates=function(){if(arguments.length===1){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.p0.x=n.x,this.p0.y=n.y,this.p1.x=r.x,this.p1.y=r.y}};Gn.prototype.segmentFraction=function(t){var n=this.projectionFactor(t);return n<0?n=0:(n>1||nr.isNaN(n))&&(n=1),n};Gn.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"};Gn.prototype.isHorizontal=function(){return this.p0.y===this.p1.y};Gn.prototype.distance=function(){if(arguments[0]instanceof Gn){var t=arguments[0];return Cn.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}else if(arguments[0]instanceof ze){var n=arguments[0];return Cn.distancePointLine(n,this.p0,this.p1)}};Gn.prototype.pointAlong=function(t){var n=new ze;return n.x=this.p0.x+t*(this.p1.x-this.p0.x),n.y=this.p0.y+t*(this.p1.y-this.p0.y),n};Gn.prototype.hashCode=function(){var t=nr.doubleToLongBits(this.p0.x);t^=nr.doubleToLongBits(this.p0.y)*31;var n=Math.trunc(t)^Math.trunc(t>>32),r=nr.doubleToLongBits(this.p1.x);r^=nr.doubleToLongBits(this.p1.y)*31;var i=Math.trunc(r)^Math.trunc(r>>32);return n^i};Gn.prototype.interfaces_=function(){return[Ls,Ps]};Gn.prototype.getClass=function(){return Gn};Gn.midPoint=function(t,n){return new ze((t.x+n.x)/2,(t.y+n.y)/2)};yD.serialVersionUID.get=function(){return 0x2d2172135f411c00};Object.defineProperties(Gn,yD);var ay=function(){this.tempEnv1=new Bn,this.tempEnv2=new Bn,this._overlapSeg1=new Gn,this._overlapSeg2=new Gn};ay.prototype.overlap=function(){if(arguments.length!==2){if(arguments.length===4){var t=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];t.getLineSegment(n,this._overlapSeg1),r.getLineSegment(i,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}};ay.prototype.interfaces_=function(){return[]};ay.prototype.getClass=function(){return ay};var Po=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this._pts=t,this._start=n,this._end=r,this._context=i};Po.prototype.getLineSegment=function(t,n){n.p0=this._pts[t],n.p1=this._pts[t+1]};Po.prototype.computeSelect=function(t,n,r,i){var a=this._pts[n],s=this._pts[r];if(i.tempEnv1.init(a,s),r-n===1)return i.select(this,n),null;if(!t.intersects(i.tempEnv1))return null;var o=Math.trunc((n+r)/2);n<o&&this.computeSelect(t,n,o,i),o<r&&this.computeSelect(t,o,r,i)};Po.prototype.getCoordinates=function(){for(var t=this,n=new Array(this._end-this._start+1).fill(null),r=0,i=this._start;i<=this._end;i++)n[r++]=t._pts[i];return n};Po.prototype.computeOverlaps=function(t,n){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,n)};Po.prototype.setId=function(t){this._id=t};Po.prototype.select=function(t,n){this.computeSelect(t,this._start,this._end,n)};Po.prototype.getEnvelope=function(){if(this._env===null){var t=this._pts[this._start],n=this._pts[this._end];this._env=new Bn(t,n)}return this._env};Po.prototype.getEndIndex=function(){return this._end};Po.prototype.getStartIndex=function(){return this._start};Po.prototype.getContext=function(){return this._context};Po.prototype.getId=function(){return this._id};Po.prototype.computeOverlapsInternal=function(t,n,r,i,a,s){var o=this._pts[t],l=this._pts[n],c=r._pts[i],u=r._pts[a];if(n-t===1&&a-i===1)return s.overlap(this,t,r,i),null;if(s.tempEnv1.init(o,l),s.tempEnv2.init(c,u),!s.tempEnv1.intersects(s.tempEnv2))return null;var f=Math.trunc((t+n)/2),h=Math.trunc((i+a)/2);t<f&&(i<h&&this.computeOverlapsInternal(t,f,r,i,h,s),h<a&&this.computeOverlapsInternal(t,f,r,h,a,s)),f<n&&(i<h&&this.computeOverlapsInternal(f,n,r,i,h,s),h<a&&this.computeOverlapsInternal(f,n,r,h,a,s))};Po.prototype.interfaces_=function(){return[]};Po.prototype.getClass=function(){return Po};var Ol=function(){};Ol.prototype.interfaces_=function(){return[]};Ol.prototype.getClass=function(){return Ol};Ol.getChainStartIndices=function(t){var n=0,r=new yn;r.add(new Dl(n));do{var i=Ol.findChainEnd(t,n);r.add(new Dl(i)),n=i}while(n<t.length-1);var a=Ol.toIntArray(r);return a};Ol.findChainEnd=function(t,n){for(var r=n;r<t.length-1&&t[r].equals2D(t[r+1]);)r++;if(r>=t.length-1)return t.length-1;for(var i=Jr.quadrant(t[r],t[r+1]),a=n+1;a<t.length;){if(!t[a-1].equals2D(t[a])){var s=Jr.quadrant(t[a-1],t[a]);if(s!==i)break}a++}return a-1};Ol.getChains=function(){if(arguments.length===1){var t=arguments[0];return Ol.getChains(t,null)}else if(arguments.length===2){for(var n=arguments[0],r=arguments[1],i=new yn,a=Ol.getChainStartIndices(n),s=0;s<a.length-1;s++){var o=new Po(n,a[s],a[s+1],r);i.add(o)}return i}};Ol.toIntArray=function(t){for(var n=new Array(t.size()).fill(null),r=0;r<n.length;r++)n[r]=t.get(r).intValue();return n};var xh=function(){};xh.prototype.computeNodes=function(t){};xh.prototype.getNodedSubstrings=function(){};xh.prototype.interfaces_=function(){return[]};xh.prototype.getClass=function(){return xh};var oy=function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this.setSegmentIntersector(t)}}};oy.prototype.setSegmentIntersector=function(t){this._segInt=t};oy.prototype.interfaces_=function(){return[xh]};oy.prototype.getClass=function(){return oy};var aC=function(e){function t(r){r?e.call(this,r):e.call(this),this._monoChains=new yn,this._index=new vD,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={SegmentOverlapAction:{configurable:!0}};return t.prototype.getMonotoneChains=function(){return this._monoChains},t.prototype.getNodedSubstrings=function(){return ji.getNodedSubstrings(this._nodedSegStrings)},t.prototype.getIndex=function(){return this._index},t.prototype.add=function(i){for(var a=this,s=Ol.getChains(i.getCoordinates(),i),o=s.iterator();o.hasNext();){var l=o.next();l.setId(a._idCounter++),a._index.insert(l.getEnvelope(),l),a._monoChains.add(l)}},t.prototype.computeNodes=function(i){var a=this;this._nodedSegStrings=i;for(var s=i.iterator();s.hasNext();)a.add(s.next());this.intersectChains()},t.prototype.intersectChains=function(){for(var i=this,a=new QL(this._segInt),s=this._monoChains.iterator();s.hasNext();)for(var o=s.next(),l=i._index.query(o.getEnvelope()),c=l.iterator();c.hasNext();){var u=c.next();if(u.getId()>o.getId()&&(o.computeOverlaps(u,a),i._nOverlaps++),i._segInt.isDone())return null}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.SegmentOverlapAction.get=function(){return QL},Object.defineProperties(t,n),t}(oy),QL=function(e){function t(){e.call(this),this._si=null;var n=arguments[0];this._si=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.overlap=function(){if(arguments.length===4){var r=arguments[0],i=arguments[1],a=arguments[2],s=arguments[3],o=r.getContext(),l=a.getContext();this._si.processIntersections(o,i,l,s)}else return e.prototype.overlap.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(ay),zr=function e(){if(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=e.CAP_ROUND,this._joinStyle=e.JOIN_ROUND,this._mitreLimit=e.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=e.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this.setQuadrantSegments(t)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(arguments.length===4){var i=arguments[0],a=arguments[1],s=arguments[2],o=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(a),this.setJoinStyle(s),this.setMitreLimit(o)}}},mc={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};zr.prototype.getEndCapStyle=function(){return this._endCapStyle};zr.prototype.isSingleSided=function(){return this._isSingleSided};zr.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,this._quadrantSegments===0&&(this._joinStyle=zr.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=zr.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==zr.JOIN_ROUND&&(this._quadrantSegments=zr.DEFAULT_QUADRANT_SEGMENTS)};zr.prototype.getJoinStyle=function(){return this._joinStyle};zr.prototype.setJoinStyle=function(t){this._joinStyle=t};zr.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t};zr.prototype.getSimplifyFactor=function(){return this._simplifyFactor};zr.prototype.getQuadrantSegments=function(){return this._quadrantSegments};zr.prototype.setEndCapStyle=function(t){this._endCapStyle=t};zr.prototype.getMitreLimit=function(){return this._mitreLimit};zr.prototype.setMitreLimit=function(t){this._mitreLimit=t};zr.prototype.setSingleSided=function(t){this._isSingleSided=t};zr.prototype.interfaces_=function(){return[]};zr.prototype.getClass=function(){return zr};zr.bufferDistanceError=function(t){var n=Math.PI/2/t;return 1-Math.cos(n/2)};mc.CAP_ROUND.get=function(){return 1};mc.CAP_FLAT.get=function(){return 2};mc.CAP_SQUARE.get=function(){return 3};mc.JOIN_ROUND.get=function(){return 1};mc.JOIN_MITRE.get=function(){return 2};mc.JOIN_BEVEL.get=function(){return 3};mc.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8};mc.DEFAULT_MITRE_LIMIT.get=function(){return 5};mc.DEFAULT_SIMPLIFY_FACTOR.get=function(){return .01};Object.defineProperties(zr,mc);var Ni=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Cn.COUNTERCLOCKWISE,this._inputLine=t||null},$y={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Ni.prototype.isDeletable=function(t,n,r,i){var a=this._inputLine[t],s=this._inputLine[n],o=this._inputLine[r];return!this.isConcave(a,s,o)||!this.isShallow(a,s,o,i)?!1:this.isShallowSampled(a,s,t,r,i)};Ni.prototype.deleteShallowConcavities=function(){for(var t=this,n=1,r=this.findNextNonDeletedIndex(n),i=this.findNextNonDeletedIndex(r),a=!1;i<this._inputLine.length;){var s=!1;t.isDeletable(n,r,i,t._distanceTol)&&(t._isDeleted[r]=Ni.DELETE,s=!0,a=!0),s?n=i:n=r,r=t.findNextNonDeletedIndex(n),i=t.findNextNonDeletedIndex(r)}return a};Ni.prototype.isShallowConcavity=function(t,n,r,i){var a=Cn.computeOrientation(t,n,r),s=a===this._angleOrientation;if(!s)return!1;var o=Cn.distancePointLine(n,t,r);return o<i};Ni.prototype.isShallowSampled=function(t,n,r,i,a){var s=this,o=Math.trunc((i-r)/Ni.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var l=r;l<i;l+=o)if(!s.isShallow(t,n,s._inputLine[l],a))return!1;return!0};Ni.prototype.isConcave=function(t,n,r){var i=Cn.computeOrientation(t,n,r),a=i===this._angleOrientation;return a};Ni.prototype.simplify=function(t){var n=this;this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=Cn.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var r=!1;do r=n.deleteShallowConcavities();while(r);return this.collapseLine()};Ni.prototype.findNextNonDeletedIndex=function(t){for(var n=t+1;n<this._inputLine.length&&this._isDeleted[n]===Ni.DELETE;)n++;return n};Ni.prototype.isShallow=function(t,n,r,i){var a=Cn.distancePointLine(n,t,r);return a<i};Ni.prototype.collapseLine=function(){for(var t=this,n=new Hy,r=0;r<this._inputLine.length;r++)t._isDeleted[r]!==Ni.DELETE&&n.add(t._inputLine[r]);return n.toCoordinateArray()};Ni.prototype.interfaces_=function(){return[]};Ni.prototype.getClass=function(){return Ni};Ni.simplify=function(t,n){var r=new Ni(t);return r.simplify(n)};$y.INIT.get=function(){return 0};$y.DELETE.get=function(){return 1};$y.KEEP.get=function(){return 1};$y.NUM_PTS_TO_CHECK.get=function(){return 10};Object.defineProperties(Ni,$y);var ts=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new yn},_D={COORDINATE_ARRAY_TYPE:{configurable:!0}};ts.prototype.getCoordinates=function(){var t=this._ptList.toArray(ts.COORDINATE_ARRAY_TYPE);return t};ts.prototype.setPrecisionModel=function(t){this._precisionModel=t};ts.prototype.addPt=function(t){var n=new ze(t);if(this._precisionModel.makePrecise(n),this.isRedundant(n))return null;this._ptList.add(n)};ts.prototype.revere=function(){};ts.prototype.addPts=function(t,n){var r=this;if(n)for(var i=0;i<t.length;i++)r.addPt(t[i]);else for(var a=t.length-1;a>=0;a--)r.addPt(t[a])};ts.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var n=this._ptList.get(this._ptList.size()-1),r=t.distance(n);return r<this._minimimVertexDistance};ts.prototype.toString=function(){var t=new yr,n=t.createLineString(this.getCoordinates());return n.toString()};ts.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new ze(this._ptList.get(0)),n=this._ptList.get(this._ptList.size()-1);if(t.equals(n))return null;this._ptList.add(t)};ts.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t};ts.prototype.interfaces_=function(){return[]};ts.prototype.getClass=function(){return ts};_D.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)};Object.defineProperties(ts,_D);var Cr=function(){},hp={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Cr.prototype.interfaces_=function(){return[]};Cr.prototype.getClass=function(){return Cr};Cr.toDegrees=function(t){return t*180/Math.PI};Cr.normalize=function(t){for(;t>Math.PI;)t-=Cr.PI_TIMES_2;for(;t<=-Math.PI;)t+=Cr.PI_TIMES_2;return t};Cr.angle=function(){if(arguments.length===1){var t=arguments[0];return Math.atan2(t.y,t.x)}else if(arguments.length===2){var n=arguments[0],r=arguments[1],i=r.x-n.x,a=r.y-n.y;return Math.atan2(a,i)}};Cr.isAcute=function(t,n,r){var i=t.x-n.x,a=t.y-n.y,s=r.x-n.x,o=r.y-n.y,l=i*s+a*o;return l>0};Cr.isObtuse=function(t,n,r){var i=t.x-n.x,a=t.y-n.y,s=r.x-n.x,o=r.y-n.y,l=i*s+a*o;return l<0};Cr.interiorAngle=function(t,n,r){var i=Cr.angle(n,t),a=Cr.angle(n,r);return Math.abs(a-i)};Cr.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Cr.PI_TIMES_2;t>=Cr.PI_TIMES_2&&(t=0)}else{for(;t>=Cr.PI_TIMES_2;)t-=Cr.PI_TIMES_2;t<0&&(t=0)}return t};Cr.angleBetween=function(t,n,r){var i=Cr.angle(n,t),a=Cr.angle(n,r);return Cr.diff(i,a)};Cr.diff=function(t,n){var r=null;return t<n?r=n-t:r=t-n,r>Math.PI&&(r=2*Math.PI-r),r};Cr.toRadians=function(t){return t*Math.PI/180};Cr.getTurn=function(t,n){var r=Math.sin(n-t);return r>0?Cr.COUNTERCLOCKWISE:r<0?Cr.CLOCKWISE:Cr.NONE};Cr.angleBetweenOriented=function(t,n,r){var i=Cr.angle(n,t),a=Cr.angle(n,r),s=a-i;return s<=-Math.PI?s+Cr.PI_TIMES_2:s>Math.PI?s-Cr.PI_TIMES_2:s};hp.PI_TIMES_2.get=function(){return 2*Math.PI};hp.PI_OVER_2.get=function(){return Math.PI/2};hp.PI_OVER_4.get=function(){return Math.PI/4};hp.COUNTERCLOCKWISE.get=function(){return Cn.COUNTERCLOCKWISE};hp.CLOCKWISE.get=function(){return Cn.CLOCKWISE};hp.NONE.get=function(){return Cn.COLLINEAR};Object.defineProperties(Cr,hp);var xi=function e(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Gn,this._seg1=new Gn,this._offset0=new Gn,this._offset1=new Gn,this._side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=t,this._bufParams=n,this._li=new Ph,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===zr.JOIN_ROUND&&(this._closingSegLengthFactor=e.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},qy={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};xi.prototype.addNextSegment=function(t,n){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var r=Cn.computeOrientation(this._s0,this._s1,this._s2),i=r===Cn.CLOCKWISE&&this._side===pn.LEFT||r===Cn.COUNTERCLOCKWISE&&this._side===pn.RIGHT;r===0?this.addCollinear(n):i?this.addOutsideTurn(r,n):this.addInsideTurn(r,n)};xi.prototype.addLineEndCap=function(t,n){var r=new Gn(t,n),i=new Gn;this.computeOffsetSegment(r,pn.LEFT,this._distance,i);var a=new Gn;this.computeOffsetSegment(r,pn.RIGHT,this._distance,a);var s=n.x-t.x,o=n.y-t.y,l=Math.atan2(o,s);switch(this._bufParams.getEndCapStyle()){case zr.CAP_ROUND:this._segList.addPt(i.p1),this.addFilletArc(n,l+Math.PI/2,l-Math.PI/2,Cn.CLOCKWISE,this._distance),this._segList.addPt(a.p1);break;case zr.CAP_FLAT:this._segList.addPt(i.p1),this._segList.addPt(a.p1);break;case zr.CAP_SQUARE:var c=new ze;c.x=Math.abs(this._distance)*Math.cos(l),c.y=Math.abs(this._distance)*Math.sin(l);var u=new ze(i.p1.x+c.x,i.p1.y+c.y),f=new ze(a.p1.x+c.x,a.p1.y+c.y);this._segList.addPt(u),this._segList.addPt(f);break}};xi.prototype.getCoordinates=function(){var t=this._segList.getCoordinates();return t};xi.prototype.addMitreJoin=function(t,n,r,i){var a=!0,s=null;try{s=Xs.intersection(n.p0,n.p1,r.p0,r.p1);var o=i<=0?1:s.distance(t)/Math.abs(i);o>this._bufParams.getMitreLimit()&&(a=!1)}catch(l){if(l instanceof R0)s=new ze(0,0),a=!1;else throw l}finally{}a?this._segList.addPt(s):this.addLimitedMitreJoin(n,r,i,this._bufParams.getMitreLimit())};xi.prototype.addFilletCorner=function(t,n,r,i,a){var s=n.x-t.x,o=n.y-t.y,l=Math.atan2(o,s),c=r.x-t.x,u=r.y-t.y,f=Math.atan2(u,c);i===Cn.CLOCKWISE?l<=f&&(l+=2*Math.PI):l>=f&&(l-=2*Math.PI),this._segList.addPt(n),this.addFilletArc(t,l,f,i,a),this._segList.addPt(r)};xi.prototype.addOutsideTurn=function(t,n){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*xi.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===zr.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===zr.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(n&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))};xi.prototype.createSquare=function(t){this._segList.addPt(new ze(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new ze(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new ze(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new ze(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()};xi.prototype.addSegments=function(t,n){this._segList.addPts(t,n)};xi.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)};xi.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)};xi.prototype.initSideSegments=function(t,n,r){this._s1=t,this._s2=n,this._side=r,this._seg1.setCoordinates(t,n),this.computeOffsetSegment(this._seg1,r,this._distance,this._offset1)};xi.prototype.addLimitedMitreJoin=function(t,n,r,i){var a=this._seg0.p1,s=Cr.angle(a,this._seg0.p0),o=Cr.angleBetweenOriented(this._seg0.p0,a,this._seg1.p1),l=o/2,c=Cr.normalize(s+l),u=Cr.normalize(c+Math.PI),f=i*r,h=f*Math.abs(Math.sin(l)),d=r-h,p=a.x+f*Math.cos(u),g=a.y+f*Math.sin(u),m=new ze(p,g),v=new Gn(a,m),y=v.pointAlongOffset(1,d),_=v.pointAlongOffset(1,-d);this._side===pn.LEFT?(this._segList.addPt(y),this._segList.addPt(_)):(this._segList.addPt(_),this._segList.addPt(y))};xi.prototype.computeOffsetSegment=function(t,n,r,i){var a=n===pn.LEFT?1:-1,s=t.p1.x-t.p0.x,o=t.p1.y-t.p0.y,l=Math.sqrt(s*s+o*o),c=a*r*s/l,u=a*r*o/l;i.p0.x=t.p0.x-u,i.p0.y=t.p0.y+c,i.p1.x=t.p1.x-u,i.p1.y=t.p1.y+c};xi.prototype.addFilletArc=function(t,n,r,i,a){var s=this,o=i===Cn.CLOCKWISE?-1:1,l=Math.abs(n-r),c=Math.trunc(l/this._filletAngleQuantum+.5);if(c<1)return null;for(var u=0,f=l/c,h=u,d=new ze;h<l;){var p=n+o*h;d.x=t.x+a*Math.cos(p),d.y=t.y+a*Math.sin(p),s._segList.addPt(d),h+=f}};xi.prototype.addInsideTurn=function(t,n){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*xi.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var r=new ze((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r);var i=new ze((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}};xi.prototype.createCircle=function(t){var n=new ze(t.x+this._distance,t.y);this._segList.addPt(n),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()};xi.prototype.addBevelJoin=function(t,n){this._segList.addPt(t.p1),this._segList.addPt(n.p0)};xi.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new ts,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*xi.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)};xi.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2);var n=this._li.getIntersectionNum();n>=2&&(this._bufParams.getJoinStyle()===zr.JOIN_BEVEL||this._bufParams.getJoinStyle()===zr.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,Cn.CLOCKWISE,this._distance))};xi.prototype.closeRing=function(){this._segList.closeRing()};xi.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle};xi.prototype.interfaces_=function(){return[]};xi.prototype.getClass=function(){return xi};qy.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return .001};qy.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return .001};qy.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6};qy.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80};Object.defineProperties(xi,qy);var vo=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],n=arguments[1];this._precisionModel=t,this._bufParams=n};vo.prototype.getOffsetCurve=function(t,n){if(this._distance=n,n===0)return null;var r=n<0,i=Math.abs(n),a=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],a):this.computeOffsetCurve(t,r,a);var s=a.getCoordinates();return r&&_r.reverse(s),s};vo.prototype.computeSingleSidedBufferCurve=function(t,n,r){var i=this.simplifyTolerance(this._distance);if(n){r.addSegments(t,!0);var a=Ni.simplify(t,-i),s=a.length-1;r.initSideSegments(a[s],a[s-1],pn.LEFT),r.addFirstSegment();for(var o=s-2;o>=0;o--)r.addNextSegment(a[o],!0)}else{r.addSegments(t,!1);var l=Ni.simplify(t,i),c=l.length-1;r.initSideSegments(l[0],l[1],pn.LEFT),r.addFirstSegment();for(var u=2;u<=c;u++)r.addNextSegment(l[u],!0)}r.addLastSegment(),r.closeRing()};vo.prototype.computeRingBufferCurve=function(t,n,r){var i=this.simplifyTolerance(this._distance);n===pn.RIGHT&&(i=-i);var a=Ni.simplify(t,i),s=a.length-1;r.initSideSegments(a[s-1],a[0],n);for(var o=1;o<=s;o++){var l=o!==1;r.addNextSegment(a[o],l)}r.closeRing()};vo.prototype.computeLineBufferCurve=function(t,n){var r=this.simplifyTolerance(this._distance),i=Ni.simplify(t,r),a=i.length-1;n.initSideSegments(i[0],i[1],pn.LEFT);for(var s=2;s<=a;s++)n.addNextSegment(i[s],!0);n.addLastSegment(),n.addLineEndCap(i[a-1],i[a]);var o=Ni.simplify(t,-r),l=o.length-1;n.initSideSegments(o[l],o[l-1],pn.LEFT);for(var c=l-2;c>=0;c--)n.addNextSegment(o[c],!0);n.addLastSegment(),n.addLineEndCap(o[1],o[0]),n.closeRing()};vo.prototype.computePointCurve=function(t,n){switch(this._bufParams.getEndCapStyle()){case zr.CAP_ROUND:n.createCircle(t);break;case zr.CAP_SQUARE:n.createSquare(t);break}};vo.prototype.getLineCurve=function(t,n){if(this._distance=n,n<0&&!this._bufParams.isSingleSided()||n===0)return null;var r=Math.abs(n),i=this.getSegGen(r);if(t.length<=1)this.computePointCurve(t[0],i);else if(this._bufParams.isSingleSided()){var a=n<0;this.computeSingleSidedBufferCurve(t,a,i)}else this.computeLineBufferCurve(t,i);var s=i.getCoordinates();return s};vo.prototype.getBufferParameters=function(){return this._bufParams};vo.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()};vo.prototype.getRingCurve=function(t,n,r){if(this._distance=r,t.length<=2)return this.getLineCurve(t,r);if(r===0)return vo.copyCoordinates(t);var i=this.getSegGen(r);return this.computeRingBufferCurve(t,n,i),i.getCoordinates()};vo.prototype.computeOffsetCurve=function(t,n,r){var i=this.simplifyTolerance(this._distance);if(n){var a=Ni.simplify(t,-i),s=a.length-1;r.initSideSegments(a[s],a[s-1],pn.LEFT),r.addFirstSegment();for(var o=s-2;o>=0;o--)r.addNextSegment(a[o],!0)}else{var l=Ni.simplify(t,i),c=l.length-1;r.initSideSegments(l[0],l[1],pn.LEFT),r.addFirstSegment();for(var u=2;u<=c;u++)r.addNextSegment(l[u],!0)}r.addLastSegment()};vo.prototype.getSegGen=function(t){return new xi(this._precisionModel,this._bufParams,t)};vo.prototype.interfaces_=function(){return[]};vo.prototype.getClass=function(){return vo};vo.copyCoordinates=function(t){for(var n=new Array(t.length).fill(null),r=0;r<n.length;r++)n[r]=new ze(t[r]);return n};var Vd=function(){this._subgraphs=null,this._seg=new Gn,this._cga=new Cn;var t=arguments[0];this._subgraphs=t},xD={DepthSegment:{configurable:!0}};Vd.prototype.findStabbedSegments=function(){var t=this;if(arguments.length===1){for(var n=arguments[0],r=new yn,i=this._subgraphs.iterator();i.hasNext();){var a=i.next(),s=a.getEnvelope();n.y<s.getMinY()||n.y>s.getMaxY()||t.findStabbedSegments(n,a.getDirectedEdges(),r)}return r}else if(arguments.length===3){if(qn(arguments[2],Ks)&&arguments[0]instanceof ze&&arguments[1]instanceof wE)for(var o=arguments[0],l=arguments[1],c=arguments[2],u=l.getEdge().getCoordinates(),f=0;f<u.length-1;f++){t._seg.p0=u[f],t._seg.p1=u[f+1],t._seg.p0.y>t._seg.p1.y&&t._seg.reverse();var h=Math.max(t._seg.p0.x,t._seg.p1.x);if(!(h<o.x)&&!t._seg.isHorizontal()&&!(o.y<t._seg.p0.y||o.y>t._seg.p1.y)&&Cn.computeOrientation(t._seg.p0,t._seg.p1,o)!==Cn.RIGHT){var d=l.getDepth(pn.LEFT);t._seg.p0.equals(u[f])||(d=l.getDepth(pn.RIGHT));var p=new bh(t._seg,d);c.add(p)}}else if(qn(arguments[2],Ks)&&arguments[0]instanceof ze&&qn(arguments[1],Ks))for(var g=arguments[0],m=arguments[1],v=arguments[2],y=m.iterator();y.hasNext();){var _=y.next();_.isForward()&&t.findStabbedSegments(g,_,v)}}};Vd.prototype.getDepth=function(t){var n=this.findStabbedSegments(t);if(n.size()===0)return 0;var r=il.min(n);return r._leftDepth};Vd.prototype.interfaces_=function(){return[]};Vd.prototype.getClass=function(){return Vd};xD.DepthSegment.get=function(){return bh};Object.defineProperties(Vd,xD);var bh=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],n=arguments[1];this._upwardSeg=new Gn(t),this._leftDepth=n};bh.prototype.compareTo=function(t){var n=t;if(this._upwardSeg.minX()>=n._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=n._upwardSeg.minX())return-1;var r=this._upwardSeg.orientationIndex(n._upwardSeg);return r!==0||(r=-1*n._upwardSeg.orientationIndex(this._upwardSeg),r!==0)?r:this._upwardSeg.compareTo(n._upwardSeg)};bh.prototype.compareX=function(t,n){var r=t.p0.compareTo(n.p0);return r!==0?r:t.p1.compareTo(n.p1)};bh.prototype.toString=function(){return this._upwardSeg.toString()};bh.prototype.interfaces_=function(){return[Ls]};bh.prototype.getClass=function(){return bh};var Gr=function(t,n,r){this.p0=t||null,this.p1=n||null,this.p2=r||null};Gr.prototype.area=function(){return Gr.area(this.p0,this.p1,this.p2)};Gr.prototype.signedArea=function(){return Gr.signedArea(this.p0,this.p1,this.p2)};Gr.prototype.interpolateZ=function(t){if(t===null)throw new Ti("Supplied point is null.");return Gr.interpolateZ(t,this.p0,this.p1,this.p2)};Gr.prototype.longestSideLength=function(){return Gr.longestSideLength(this.p0,this.p1,this.p2)};Gr.prototype.isAcute=function(){return Gr.isAcute(this.p0,this.p1,this.p2)};Gr.prototype.circumcentre=function(){return Gr.circumcentre(this.p0,this.p1,this.p2)};Gr.prototype.area3D=function(){return Gr.area3D(this.p0,this.p1,this.p2)};Gr.prototype.centroid=function(){return Gr.centroid(this.p0,this.p1,this.p2)};Gr.prototype.inCentre=function(){return Gr.inCentre(this.p0,this.p1,this.p2)};Gr.prototype.interfaces_=function(){return[]};Gr.prototype.getClass=function(){return Gr};Gr.area=function(t,n,r){return Math.abs(((r.x-t.x)*(n.y-t.y)-(n.x-t.x)*(r.y-t.y))/2)};Gr.signedArea=function(t,n,r){return((r.x-t.x)*(n.y-t.y)-(n.x-t.x)*(r.y-t.y))/2};Gr.det=function(t,n,r,i){return t*i-n*r};Gr.interpolateZ=function(t,n,r,i){var a=n.x,s=n.y,o=r.x-a,l=i.x-a,c=r.y-s,u=i.y-s,f=o*u-l*c,h=t.x-a,d=t.y-s,p=(u*h-l*d)/f,g=(-c*h+o*d)/f,m=n.z+p*(r.z-n.z)+g*(i.z-n.z);return m};Gr.longestSideLength=function(t,n,r){var i=t.distance(n),a=n.distance(r),s=r.distance(t),o=i;return a>o&&(o=a),s>o&&(o=s),o};Gr.isAcute=function(t,n,r){return!(!Cr.isAcute(t,n,r)||!Cr.isAcute(n,r,t)||!Cr.isAcute(r,t,n))};Gr.circumcentre=function(t,n,r){var i=r.x,a=r.y,s=t.x-i,o=t.y-a,l=n.x-i,c=n.y-a,u=2*Gr.det(s,o,l,c),f=Gr.det(o,s*s+o*o,c,l*l+c*c),h=Gr.det(s,s*s+o*o,l,l*l+c*c),d=i-f/u,p=a+h/u;return new ze(d,p)};Gr.perpendicularBisector=function(t,n){var r=n.x-t.x,i=n.y-t.y,a=new Xs(t.x+r/2,t.y+i/2,1),s=new Xs(t.x-i+r/2,t.y+r+i/2,1);return new Xs(a,s)};Gr.angleBisector=function(t,n,r){var i=n.distance(t),a=n.distance(r),s=i/(i+a),o=r.x-t.x,l=r.y-t.y,c=new ze(t.x+s*o,t.y+s*l);return c};Gr.area3D=function(t,n,r){var i=n.x-t.x,a=n.y-t.y,s=n.z-t.z,o=r.x-t.x,l=r.y-t.y,c=r.z-t.z,u=a*c-s*l,f=s*o-i*c,h=i*l-a*o,d=u*u+f*f+h*h,p=Math.sqrt(d)/2;return p};Gr.centroid=function(t,n,r){var i=(t.x+n.x+r.x)/3,a=(t.y+n.y+r.y)/3;return new ze(i,a)};Gr.inCentre=function(t,n,r){var i=n.distance(r),a=t.distance(r),s=t.distance(n),o=i+a+s,l=(i*t.x+a*n.x+s*r.x)/o,c=(i*t.y+a*n.y+s*r.y)/o;return new ze(l,c)};var Cs=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new yn;var t=arguments[0],n=arguments[1],r=arguments[2];this._inputGeom=t,this._distance=n,this._curveBuilder=r};Cs.prototype.addPoint=function(t){if(this._distance<=0)return null;var n=t.getCoordinates(),r=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(r,We.EXTERIOR,We.INTERIOR)};Cs.prototype.addPolygon=function(t){var n=this,r=this._distance,i=pn.LEFT;this._distance<0&&(r=-this._distance,i=pn.RIGHT);var a=t.getExteriorRing(),s=_r.removeRepeatedPoints(a.getCoordinates());if(this._distance<0&&this.isErodedCompletely(a,this._distance)||this._distance<=0&&s.length<3)return null;this.addPolygonRing(s,r,i,We.EXTERIOR,We.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var l=t.getInteriorRingN(o),c=_r.removeRepeatedPoints(l.getCoordinates());n._distance>0&&n.isErodedCompletely(l,-n._distance)||n.addPolygonRing(c,r,pn.opposite(i),We.INTERIOR,We.EXTERIOR)}};Cs.prototype.isTriangleErodedCompletely=function(t,n){var r=new Gr(t[0],t[1],t[2]),i=r.inCentre(),a=Cn.distancePointLine(i,r.p0,r.p1);return a<Math.abs(n)};Cs.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var n=_r.removeRepeatedPoints(t.getCoordinates()),r=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(r,We.EXTERIOR,We.INTERIOR)};Cs.prototype.addCurve=function(t,n,r){if(t===null||t.length<2)return null;var i=new ji(t,new Yr(0,We.BOUNDARY,n,r));this._curveList.add(i)};Cs.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList};Cs.prototype.addPolygonRing=function(t,n,r,i,a){if(n===0&&t.length<gu.MINIMUM_VALID_SIZE)return null;var s=i,o=a;t.length>=gu.MINIMUM_VALID_SIZE&&Cn.isCCW(t)&&(s=a,o=i,r=pn.opposite(r));var l=this._curveBuilder.getRingCurve(t,r,n);this.addCurve(l,s,o)};Cs.prototype.add=function(t){if(t.isEmpty())return null;t instanceof na?this.addPolygon(t):t instanceof Pi?this.addLineString(t):t instanceof Oo?this.addPoint(t):t instanceof s0?this.addCollection(t):t instanceof _h?this.addCollection(t):t instanceof fu?this.addCollection(t):t instanceof no&&this.addCollection(t)};Cs.prototype.isErodedCompletely=function(t,n){var r=t.getCoordinates();if(r.length<4)return n<0;if(r.length===4)return this.isTriangleErodedCompletely(r,n);var i=t.getEnvelopeInternal(),a=Math.min(i.getHeight(),i.getWidth());return n<0&&2*Math.abs(n)>a};Cs.prototype.addCollection=function(t){for(var n=this,r=0;r<t.getNumGeometries();r++){var i=t.getGeometryN(r);n.add(i)}};Cs.prototype.interfaces_=function(){return[]};Cs.prototype.getClass=function(){return Cs};var f0=function(){};f0.prototype.locate=function(t){};f0.prototype.interfaces_=function(){return[]};f0.prototype.getClass=function(){return f0};var hu=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};hu.prototype.next=function(){if(this._atStart)return this._atStart=!1,hu.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new k0;var t=this._parent.getGeometryN(this._index++);return t instanceof no?(this._subcollectionIterator=new hu(t),this._subcollectionIterator.next()):t};hu.prototype.remove=function(){throw new Error(this.getClass().getName())};hu.prototype.hasNext=function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)};hu.prototype.interfaces_=function(){return[D0]};hu.prototype.getClass=function(){return hu};hu.isAtomic=function(t){return!(t instanceof no)};var Ko=function(){this._geom=null;var t=arguments[0];this._geom=t};Ko.prototype.locate=function(t){return Ko.locate(t,this._geom)};Ko.prototype.interfaces_=function(){return[f0]};Ko.prototype.getClass=function(){return Ko};Ko.isPointInRing=function(t,n){return n.getEnvelopeInternal().intersects(t)?Cn.isPointInRing(t,n.getCoordinates()):!1};Ko.containsPointInPolygon=function(t,n){if(n.isEmpty())return!1;var r=n.getExteriorRing();if(!Ko.isPointInRing(t,r))return!1;for(var i=0;i<n.getNumInteriorRing();i++){var a=n.getInteriorRingN(i);if(Ko.isPointInRing(t,a))return!1}return!0};Ko.containsPoint=function(t,n){if(n instanceof na)return Ko.containsPointInPolygon(t,n);if(n instanceof no)for(var r=new hu(n);r.hasNext();){var i=r.next();if(i!==n&&Ko.containsPoint(t,i))return!0}return!1};Ko.locate=function(t,n){return n.isEmpty()?We.EXTERIOR:Ko.containsPoint(t,n)?We.INTERIOR:We.EXTERIOR};var Ya=function(){this._edgeMap=new Va,this._edgeList=null,this._ptInAreaLocation=[We.NONE,We.NONE]};Ya.prototype.getNextCW=function(t){this.getEdges();var n=this._edgeList.indexOf(t),r=n-1;return n===0&&(r=this._edgeList.size()-1),this._edgeList.get(r)};Ya.prototype.propagateSideLabels=function(t){for(var n=We.NONE,r=this.iterator();r.hasNext();){var i=r.next(),a=i.getLabel();a.isArea(t)&&a.getLocation(t,pn.LEFT)!==We.NONE&&(n=a.getLocation(t,pn.LEFT))}if(n===We.NONE)return null;for(var s=n,o=this.iterator();o.hasNext();){var l=o.next(),c=l.getLabel();if(c.getLocation(t,pn.ON)===We.NONE&&c.setLocation(t,pn.ON,s),c.isArea(t)){var u=c.getLocation(t,pn.LEFT),f=c.getLocation(t,pn.RIGHT);if(f!==We.NONE){if(f!==s)throw new uc("side location conflict",l.getCoordinate());u===We.NONE&&fr.shouldNeverReachHere("found single null side (at "+l.getCoordinate()+")"),s=u}else fr.isTrue(c.getLocation(t,pn.LEFT)===We.NONE,"found single null side"),c.setLocation(t,pn.RIGHT,s),c.setLocation(t,pn.LEFT,s)}}};Ya.prototype.getCoordinate=function(){var t=this.iterator();if(!t.hasNext())return null;var n=t.next();return n.getCoordinate()};Ya.prototype.print=function(t){Oa.out.println("EdgeEndStar:   "+this.getCoordinate());for(var n=this.iterator();n.hasNext();){var r=n.next();r.print(t)}};Ya.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)};Ya.prototype.checkAreaLabelsConsistent=function(t){var n=this.getEdges();if(n.size()<=0)return!0;var r=n.size()-1,i=n.get(r).getLabel(),a=i.getLocation(t,pn.LEFT);fr.isTrue(a!==We.NONE,"Found unlabelled area edge");for(var s=a,o=this.iterator();o.hasNext();){var l=o.next(),c=l.getLabel();fr.isTrue(c.isArea(t),"Found non-area edge");var u=c.getLocation(t,pn.LEFT),f=c.getLocation(t,pn.RIGHT);if(u===f||f!==s)return!1;s=u}return!0};Ya.prototype.findIndex=function(t){var n=this;this.iterator();for(var r=0;r<this._edgeList.size();r++){var i=n._edgeList.get(r);if(i===t)return r}return-1};Ya.prototype.iterator=function(){return this.getEdges().iterator()};Ya.prototype.getEdges=function(){return this._edgeList===null&&(this._edgeList=new yn(this._edgeMap.values())),this._edgeList};Ya.prototype.getLocation=function(t,n,r){return this._ptInAreaLocation[t]===We.NONE&&(this._ptInAreaLocation[t]=Ko.locate(n,r[t].getGeometry())),this._ptInAreaLocation[t]};Ya.prototype.toString=function(){var t=new Wl;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append(`
`);for(var n=this.iterator();n.hasNext();){var r=n.next();t.append(r),t.append(`
`)}return t.toString()};Ya.prototype.computeEdgeEndLabels=function(t){for(var n=this.iterator();n.hasNext();){var r=n.next();r.computeLabel(t)}};Ya.prototype.computeLabelling=function(t){var n=this;this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var r=[!1,!1],i=this.iterator();i.hasNext();)for(var a=i.next(),s=a.getLabel(),o=0;o<2;o++)s.isLine(o)&&s.getLocation(o)===We.BOUNDARY&&(r[o]=!0);for(var l=this.iterator();l.hasNext();)for(var c=l.next(),u=c.getLabel(),f=0;f<2;f++)if(u.isAnyNull(f)){var h=We.NONE;if(r[f])h=We.EXTERIOR;else{var d=c.getCoordinate();h=n.getLocation(f,d,t)}u.setAllLocationsIfNull(f,h)}};Ya.prototype.getDegree=function(){return this._edgeMap.size()};Ya.prototype.insertEdgeEnd=function(t,n){this._edgeMap.put(t,n),this._edgeList=null};Ya.prototype.interfaces_=function(){return[]};Ya.prototype.getClass=function(){return Ya};var Fdt=function(e){function t(){e.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.linkResultDirectedEdges=function(){var r=this;this.getResultAreaEdges();for(var i=null,a=null,s=this._SCANNING_FOR_INCOMING,o=0;o<this._resultAreaEdgeList.size();o++){var l=r._resultAreaEdgeList.get(o),c=l.getSym();if(l.getLabel().isArea())switch(i===null&&l.isInResult()&&(i=l),s){case r._SCANNING_FOR_INCOMING:if(!c.isInResult())continue;a=c,s=r._LINKING_TO_OUTGOING;break;case r._LINKING_TO_OUTGOING:if(!l.isInResult())continue;a.setNext(l),s=r._SCANNING_FOR_INCOMING;break}}if(s===this._LINKING_TO_OUTGOING){if(i===null)throw new uc("no outgoing dirEdge found",this.getCoordinate());fr.isTrue(i.isInResult(),"unable to link last incoming dirEdge"),a.setNext(i)}},t.prototype.insert=function(r){var i=r;this.insertEdgeEnd(i,i)},t.prototype.getRightmostEdge=function(){var r=this.getEdges(),i=r.size();if(i<1)return null;var a=r.get(0);if(i===1)return a;var s=r.get(i-1),o=a.getQuadrant(),l=s.getQuadrant();return Jr.isNorthern(o)&&Jr.isNorthern(l)?a:!Jr.isNorthern(o)&&!Jr.isNorthern(l)?s:a.getDy()!==0?a:s.getDy()!==0?s:(fr.shouldNeverReachHere("found two horizontal edges incident on node"),null)},t.prototype.print=function(r){Oa.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var i=this.iterator();i.hasNext();){var a=i.next();r.print("out "),a.print(r),r.println(),r.print("in "),a.getSym().print(r),r.println()}},t.prototype.getResultAreaEdges=function(){var r=this;if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new yn;for(var i=this.iterator();i.hasNext();){var a=i.next();(a.isInResult()||a.getSym().isInResult())&&r._resultAreaEdgeList.add(a)}return this._resultAreaEdgeList},t.prototype.updateLabelling=function(r){for(var i=this.iterator();i.hasNext();){var a=i.next(),s=a.getLabel();s.setAllLocationsIfNull(0,r.getLocation(0)),s.setAllLocationsIfNull(1,r.getLocation(1))}},t.prototype.linkAllDirectedEdges=function(){var r=this;this.getEdges();for(var i=null,a=null,s=this._edgeList.size()-1;s>=0;s--){var o=r._edgeList.get(s),l=o.getSym();a===null&&(a=l),i!==null&&l.setNext(i),i=o}a.setNext(i)},t.prototype.computeDepths=function(){var r=this;if(arguments.length===1){var i=arguments[0],a=this.findIndex(i),s=i.getDepth(pn.LEFT),o=i.getDepth(pn.RIGHT),l=this.computeDepths(a+1,this._edgeList.size(),s),c=this.computeDepths(0,a,l);if(c!==o)throw new uc("depth mismatch at "+i.getCoordinate())}else if(arguments.length===3){for(var u=arguments[0],f=arguments[1],h=arguments[2],d=h,p=u;p<f;p++){var g=r._edgeList.get(p);g.setEdgeDepths(pn.RIGHT,d),d=g.getDepth(pn.LEFT)}return d}},t.prototype.mergeSymLabels=function(){for(var r=this.iterator();r.hasNext();){var i=r.next(),a=i.getLabel();a.merge(i.getSym().getLabel())}},t.prototype.linkMinimalDirectedEdges=function(r){for(var i=this,a=null,s=null,o=this._SCANNING_FOR_INCOMING,l=this._resultAreaEdgeList.size()-1;l>=0;l--){var c=i._resultAreaEdgeList.get(l),u=c.getSym();switch(a===null&&c.getEdgeRing()===r&&(a=c),o){case i._SCANNING_FOR_INCOMING:if(u.getEdgeRing()!==r)continue;s=u,o=i._LINKING_TO_OUTGOING;break;case i._LINKING_TO_OUTGOING:if(c.getEdgeRing()!==r)continue;s.setNextMin(c),o=i._SCANNING_FOR_INCOMING;break}}o===this._LINKING_TO_OUTGOING&&(fr.isTrue(a!==null,"found null for first outgoing dirEdge"),fr.isTrue(a.getEdgeRing()===r,"unable to link last incoming dirEdge"),s.setNextMin(a))},t.prototype.getOutgoingDegree=function(){if(arguments.length===0){for(var r=0,i=this.iterator();i.hasNext();){var a=i.next();a.isInResult()&&r++}return r}else if(arguments.length===1){for(var s=arguments[0],o=0,l=this.iterator();l.hasNext();){var c=l.next();c.getEdgeRing()===s&&o++}return o}},t.prototype.getLabel=function(){return this._label},t.prototype.findCoveredLineEdges=function(){for(var r=We.NONE,i=this.iterator();i.hasNext();){var a=i.next(),s=a.getSym();if(!a.isLineEdge()){if(a.isInResult()){r=We.INTERIOR;break}if(s.isInResult()){r=We.EXTERIOR;break}}}if(r===We.NONE)return null;for(var o=r,l=this.iterator();l.hasNext();){var c=l.next(),u=c.getSym();c.isLineEdge()?c.getEdge().setCovered(o===We.INTERIOR):(c.isInResult()&&(o=We.EXTERIOR),u.isInResult()&&(o=We.INTERIOR))}},t.prototype.computeLabelling=function(r){var i=this;e.prototype.computeLabelling.call(this,r),this._label=new Yr(We.NONE);for(var a=this.iterator();a.hasNext();)for(var s=a.next(),o=s.getEdge(),l=o.getLabel(),c=0;c<2;c++){var u=l.getLocation(c);(u===We.INTERIOR||u===We.BOUNDARY)&&i._label.setLocation(c,We.INTERIOR)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Ya),bD=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createNode=function(r){return new L2(r,new Fdt)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(l0),rf=function e(){this._pts=null,this._orientation=null;var t=arguments[0];this._pts=t,this._orientation=e.orientation(t)};rf.prototype.compareTo=function(t){var n=t,r=rf.compareOriented(this._pts,this._orientation,n._pts,n._orientation);return r};rf.prototype.interfaces_=function(){return[Ls]};rf.prototype.getClass=function(){return rf};rf.orientation=function(t){return _r.increasingDirection(t)===1};rf.compareOriented=function(t,n,r,i){for(var a=n?1:-1,s=i?1:-1,o=n?t.length:-1,l=i?r.length:-1,c=n?0:t.length-1,u=i?0:r.length-1;;){var f=t[c].compareTo(r[u]);if(f!==0)return f;c+=a,u+=s;var h=c===o,d=u===l;if(h&&!d)return-1;if(!h&&d)return 1;if(h&&d)return 0}};var al=function(){this._edges=new yn,this._ocaMap=new Va};al.prototype.print=function(t){var n=this;t.print("MULTILINESTRING ( ");for(var r=0;r<this._edges.size();r++){var i=n._edges.get(r);r>0&&t.print(","),t.print("(");for(var a=i.getCoordinates(),s=0;s<a.length;s++)s>0&&t.print(","),t.print(a[s].x+" "+a[s].y);t.println(")")}t.print(")  ")};al.prototype.addAll=function(t){for(var n=this,r=t.iterator();r.hasNext();)n.add(r.next())};al.prototype.findEdgeIndex=function(t){for(var n=this,r=0;r<this._edges.size();r++)if(n._edges.get(r).equals(t))return r;return-1};al.prototype.iterator=function(){return this._edges.iterator()};al.prototype.getEdges=function(){return this._edges};al.prototype.get=function(t){return this._edges.get(t)};al.prototype.findEqualEdge=function(t){var n=new rf(t.getCoordinates()),r=this._ocaMap.get(n);return r};al.prototype.add=function(t){this._edges.add(t);var n=new rf(t.getCoordinates());this._ocaMap.put(n,t)};al.prototype.interfaces_=function(){return[]};al.prototype.getClass=function(){return al};var wh=function(){};wh.prototype.processIntersections=function(t,n,r,i){};wh.prototype.isDone=function(){};wh.prototype.interfaces_=function(){return[]};wh.prototype.getClass=function(){return wh};var es=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};es.prototype.isTrivialIntersection=function(t,n,r,i){if(t===r&&this._li.getIntersectionNum()===1){if(es.isAdjacentSegments(n,i))return!0;if(t.isClosed()){var a=t.size()-1;if(n===0&&i===a||i===0&&n===a)return!0}}return!1};es.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint};es.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior};es.prototype.getLineIntersector=function(){return this._li};es.prototype.hasProperIntersection=function(){return this._hasProper};es.prototype.processIntersections=function(t,n,r,i){if(t===r&&n===i)return null;this.numTests++;var a=t.getCoordinates()[n],s=t.getCoordinates()[n+1],o=r.getCoordinates()[i],l=r.getCoordinates()[i+1];this._li.computeIntersection(a,s,o,l),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,n,r,i)||(this._hasIntersection=!0,t.addIntersections(this._li,n,0),r.addIntersections(this._li,i,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))};es.prototype.hasIntersection=function(){return this._hasIntersection};es.prototype.isDone=function(){return!1};es.prototype.hasInteriorIntersection=function(){return this._hasInterior};es.prototype.interfaces_=function(){return[wh]};es.prototype.getClass=function(){return es};es.isAdjacentSegments=function(t,n){return Math.abs(t-n)===1};var jl=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],n=arguments[1],r=arguments[2];this.coord=new ze(t),this.segmentIndex=n,this.dist=r};jl.prototype.getSegmentIndex=function(){return this.segmentIndex};jl.prototype.getCoordinate=function(){return this.coord};jl.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)};jl.prototype.compareTo=function(t){var n=t;return this.compare(n.segmentIndex,n.dist)};jl.prototype.isEndPoint=function(t){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===t};jl.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist};jl.prototype.getDistance=function(){return this.dist};jl.prototype.compare=function(t,n){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<n?-1:this.dist>n?1:0};jl.prototype.interfaces_=function(){return[Ls]};jl.prototype.getClass=function(){return jl};var yu=function(){this._nodeMap=new Va,this.edge=null;var t=arguments[0];this.edge=t};yu.prototype.print=function(t){t.println("Intersections:");for(var n=this.iterator();n.hasNext();){var r=n.next();r.print(t)}};yu.prototype.iterator=function(){return this._nodeMap.values().iterator()};yu.prototype.addSplitEdges=function(t){var n=this;this.addEndpoints();for(var r=this.iterator(),i=r.next();r.hasNext();){var a=r.next(),s=n.createSplitEdge(i,a);t.add(s),i=a}};yu.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)};yu.prototype.createSplitEdge=function(t,n){var r=this,i=n.segmentIndex-t.segmentIndex+2,a=this.edge.pts[n.segmentIndex],s=n.dist>0||!n.coord.equals2D(a);s||i--;var o=new Array(i).fill(null),l=0;o[l++]=new ze(t.coord);for(var c=t.segmentIndex+1;c<=n.segmentIndex;c++)o[l++]=r.edge.pts[c];return s&&(o[l]=n.coord),new lb(o,new Yr(this.edge._label))};yu.prototype.add=function(t,n,r){var i=new jl(t,n,r),a=this._nodeMap.get(i);return a!==null?a:(this._nodeMap.put(i,i),i)};yu.prototype.isIntersection=function(t){for(var n=this.iterator();n.hasNext();){var r=n.next();if(r.coord.equals(t))return!0}return!1};yu.prototype.interfaces_=function(){return[]};yu.prototype.getClass=function(){return yu};var Th=function(){};Th.prototype.getChainStartIndices=function(t){var n=this,r=0,i=new yn;i.add(new Dl(r));do{var a=n.findChainEnd(t,r);i.add(new Dl(a)),r=a}while(r<t.length-1);var s=Th.toIntArray(i);return s};Th.prototype.findChainEnd=function(t,n){for(var r=Jr.quadrant(t[n],t[n+1]),i=n+1;i<t.length;){var a=Jr.quadrant(t[i-1],t[i]);if(a!==r)break;i++}return i-1};Th.prototype.interfaces_=function(){return[]};Th.prototype.getClass=function(){return Th};Th.toIntArray=function(t){for(var n=new Array(t.size()).fill(null),r=0;r<n.length;r++)n[r]=t.get(r).intValue();return n};var fc=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Bn,this.env2=new Bn;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var n=new Th;this.startIndex=n.getChainStartIndices(this.pts)};fc.prototype.getCoordinates=function(){return this.pts};fc.prototype.getMaxX=function(t){var n=this.pts[this.startIndex[t]].x,r=this.pts[this.startIndex[t+1]].x;return n>r?n:r};fc.prototype.getMinX=function(t){var n=this.pts[this.startIndex[t]].x,r=this.pts[this.startIndex[t+1]].x;return n<r?n:r};fc.prototype.computeIntersectsForChain=function(){if(arguments.length===4){var t=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],n,n.startIndex[r],n.startIndex[r+1],i)}else if(arguments.length===6){var a=arguments[0],s=arguments[1],o=arguments[2],l=arguments[3],c=arguments[4],u=arguments[5],f=this.pts[a],h=this.pts[s],d=o.pts[l],p=o.pts[c];if(s-a===1&&c-l===1)return u.addIntersections(this.e,a,o.e,l),null;if(this.env1.init(f,h),this.env2.init(d,p),!this.env1.intersects(this.env2))return null;var g=Math.trunc((a+s)/2),m=Math.trunc((l+c)/2);a<g&&(l<m&&this.computeIntersectsForChain(a,g,o,l,m,u),m<c&&this.computeIntersectsForChain(a,g,o,m,c,u)),g<s&&(l<m&&this.computeIntersectsForChain(g,s,o,l,m,u),m<c&&this.computeIntersectsForChain(g,s,o,m,c,u))}};fc.prototype.getStartIndexes=function(){return this.startIndex};fc.prototype.computeIntersects=function(t,n){for(var r=this,i=0;i<this.startIndex.length-1;i++)for(var a=0;a<t.startIndex.length-1;a++)r.computeIntersectsForChain(i,t,a,n)};fc.prototype.interfaces_=function(){return[]};fc.prototype.getClass=function(){return fc};var Aa=function e(){var t=this;this._depth=Array(2).fill().map(function(){return Array(3)});for(var n=0;n<2;n++)for(var r=0;r<3;r++)t._depth[n][r]=e.NULL_VALUE},wD={NULL_VALUE:{configurable:!0}};Aa.prototype.getDepth=function(t,n){return this._depth[t][n]};Aa.prototype.setDepth=function(t,n,r){this._depth[t][n]=r};Aa.prototype.isNull=function(){var t=this;if(arguments.length===0){for(var n=0;n<2;n++)for(var r=0;r<3;r++)if(t._depth[n][r]!==Aa.NULL_VALUE)return!1;return!0}else if(arguments.length===1){var i=arguments[0];return this._depth[i][1]===Aa.NULL_VALUE}else if(arguments.length===2){var a=arguments[0],s=arguments[1];return this._depth[a][s]===Aa.NULL_VALUE}};Aa.prototype.normalize=function(){for(var t=this,n=0;n<2;n++)if(!t.isNull(n)){var r=t._depth[n][1];t._depth[n][2]<r&&(r=t._depth[n][2]),r<0&&(r=0);for(var i=1;i<3;i++){var a=0;t._depth[n][i]>r&&(a=1),t._depth[n][i]=a}}};Aa.prototype.getDelta=function(t){return this._depth[t][pn.RIGHT]-this._depth[t][pn.LEFT]};Aa.prototype.getLocation=function(t,n){return this._depth[t][n]<=0?We.EXTERIOR:We.INTERIOR};Aa.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]};Aa.prototype.add=function(){var t=this;if(arguments.length===1)for(var n=arguments[0],r=0;r<2;r++)for(var i=1;i<3;i++){var a=n.getLocation(r,i);(a===We.EXTERIOR||a===We.INTERIOR)&&(t.isNull(r,i)?t._depth[r][i]=Aa.depthAtLocation(a):t._depth[r][i]+=Aa.depthAtLocation(a))}else if(arguments.length===3){var s=arguments[0],o=arguments[1],l=arguments[2];l===We.INTERIOR&&this._depth[s][o]++}};Aa.prototype.interfaces_=function(){return[]};Aa.prototype.getClass=function(){return Aa};Aa.depthAtLocation=function(t){return t===We.EXTERIOR?0:t===We.INTERIOR?1:Aa.NULL_VALUE};wD.NULL_VALUE.get=function(){return-1};Object.defineProperties(Aa,wD);var lb=function(e){function t(){if(e.call(this),this.pts=null,this._env=null,this.eiList=new yu(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Aa,this._depthDelta=0,arguments.length===1){var n=arguments[0];t.call(this,n,null)}else if(arguments.length===2){var r=arguments[0],i=arguments[1];this.pts=r,this._label=i}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDepth=function(){return this._depth},t.prototype.getCollapsedEdge=function(){var r=new Array(2).fill(null);r[0]=this.pts[0],r[1]=this.pts[1];var i=new t(r,Yr.toLineLabel(this._label));return i},t.prototype.isIsolated=function(){return this._isIsolated},t.prototype.getCoordinates=function(){return this.pts},t.prototype.setIsolated=function(r){this._isIsolated=r},t.prototype.setName=function(r){this._name=r},t.prototype.equals=function(r){var i=this;if(!(r instanceof t))return!1;var a=r;if(this.pts.length!==a.pts.length)return!1;for(var s=!0,o=!0,l=this.pts.length,c=0;c<this.pts.length;c++)if(i.pts[c].equals2D(a.pts[c])||(s=!1),i.pts[c].equals2D(a.pts[--l])||(o=!1),!s&&!o)return!1;return!0},t.prototype.getCoordinate=function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var r=arguments[0];return this.pts[r]}},t.prototype.print=function(r){var i=this;r.print("edge "+this._name+": "),r.print("LINESTRING (");for(var a=0;a<this.pts.length;a++)a>0&&r.print(","),r.print(i.pts[a].x+" "+i.pts[a].y);r.print(")  "+this._label+" "+this._depthDelta)},t.prototype.computeIM=function(r){t.updateIM(this._label,r)},t.prototype.isCollapsed=function(){return!this._label.isArea()||this.pts.length!==3?!1:!!this.pts[0].equals(this.pts[2])},t.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},t.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},t.prototype.getDepthDelta=function(){return this._depthDelta},t.prototype.getNumPoints=function(){return this.pts.length},t.prototype.printReverse=function(r){var i=this;r.print("edge "+this._name+": ");for(var a=this.pts.length-1;a>=0;a--)r.print(i.pts[a]+" ");r.println("")},t.prototype.getMonotoneChainEdge=function(){return this._mce===null&&(this._mce=new fc(this)),this._mce},t.prototype.getEnvelope=function(){var r=this;if(this._env===null){this._env=new Bn;for(var i=0;i<this.pts.length;i++)r._env.expandToInclude(r.pts[i])}return this._env},t.prototype.addIntersection=function(r,i,a,s){var o=new ze(r.getIntersection(s)),l=i,c=r.getEdgeDistance(a,s),u=l+1;if(u<this.pts.length){var f=this.pts[u];o.equals2D(f)&&(l=u,c=0)}this.eiList.add(o,l,c)},t.prototype.toString=function(){var r=this,i=new Wl;i.append("edge "+this._name+": "),i.append("LINESTRING (");for(var a=0;a<this.pts.length;a++)a>0&&i.append(","),i.append(r.pts[a].x+" "+r.pts[a].y);return i.append(")  "+this._label+" "+this._depthDelta),i.toString()},t.prototype.isPointwiseEqual=function(r){var i=this;if(this.pts.length!==r.pts.length)return!1;for(var a=0;a<this.pts.length;a++)if(!i.pts[a].equals2D(r.pts[a]))return!1;return!0},t.prototype.setDepthDelta=function(r){this._depthDelta=r},t.prototype.getEdgeIntersectionList=function(){return this.eiList},t.prototype.addIntersections=function(r,i,a){for(var s=this,o=0;o<r.getIntersectionNum();o++)s.addIntersection(r,i,a,o)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.updateIM=function(){if(arguments.length===2){var r=arguments[0],i=arguments[1];i.setAtLeastIfValid(r.getLocation(0,pn.ON),r.getLocation(1,pn.ON),1),r.isArea()&&(i.setAtLeastIfValid(r.getLocation(0,pn.LEFT),r.getLocation(1,pn.LEFT),2),i.setAtLeastIfValid(r.getLocation(0,pn.RIGHT),r.getLocation(1,pn.RIGHT),2))}else return e.prototype.updateIM.apply(this,arguments)},t}(Qo),eo=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new al,this._bufParams=t||null};eo.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t};eo.prototype.insertUniqueEdge=function(t){var n=this._edgeList.findEqualEdge(t);if(n!==null){var r=n.getLabel(),i=t.getLabel();n.isPointwiseEqual(t)||(i=new Yr(t.getLabel()),i.flip()),r.merge(i);var a=eo.depthDelta(i),s=n.getDepthDelta(),o=s+a;n.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(eo.depthDelta(t.getLabel()))};eo.prototype.buildSubgraphs=function(t,n){for(var r=new yn,i=t.iterator();i.hasNext();){var a=i.next(),s=a.getRightmostCoordinate(),o=new Vd(r),l=o.getDepth(s);a.computeDepth(l),a.findResultEdges(),r.add(a),n.add(a.getDirectedEdges(),a.getNodes())}};eo.prototype.createSubgraphs=function(t){for(var n=new yn,r=t.getNodes().iterator();r.hasNext();){var i=r.next();if(!i.isVisited()){var a=new ro;a.create(i),n.add(a)}}return il.sort(n,il.reverseOrder()),n};eo.prototype.createEmptyResultGeometry=function(){var t=this._geomFact.createPolygon();return t};eo.prototype.getNoder=function(t){if(this._workingNoder!==null)return this._workingNoder;var n=new aC,r=new Ph;return r.setPrecisionModel(t),n.setSegmentIntersector(new es(r)),n};eo.prototype.buffer=function(t,n){var r=this._workingPrecisionModel;r===null&&(r=t.getPrecisionModel()),this._geomFact=t.getFactory();var i=new vo(r,this._bufParams),a=new Cs(t,n,i),s=a.getCurves();if(s.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(s,r),this._graph=new Si(new bD),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),l=new Lo(this._geomFact);this.buildSubgraphs(o,l);var c=l.getPolygons();if(c.size()<=0)return this.createEmptyResultGeometry();var u=this._geomFact.buildGeometry(c);return u};eo.prototype.computeNodedEdges=function(t,n){var r=this,i=this.getNoder(n);i.computeNodes(t);for(var a=i.getNodedSubstrings(),s=a.iterator();s.hasNext();){var o=s.next(),l=o.getCoordinates();if(!(l.length===2&&l[0].equals2D(l[1]))){var c=o.getData(),u=new lb(o.getCoordinates(),new Yr(c));r.insertUniqueEdge(u)}}};eo.prototype.setNoder=function(t){this._workingNoder=t};eo.prototype.interfaces_=function(){return[]};eo.prototype.getClass=function(){return eo};eo.depthDelta=function(t){var n=t.getLocation(0,pn.LEFT),r=t.getLocation(0,pn.RIGHT);return n===We.INTERIOR&&r===We.EXTERIOR?1:n===We.EXTERIOR&&r===We.INTERIOR?-1:0};eo.convertSegStrings=function(t){for(var n=new yr,r=new yn;t.hasNext();){var i=t.next(),a=n.createLineString(i.getCoordinates());r.add(a)}return n.buildGeometry(r)};var af=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var t=arguments[0],n=arguments[1];this._noder=t,this._scaleFactor=n,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(arguments.length===4){var r=arguments[0],i=arguments[1],a=arguments[2],s=arguments[3];this._noder=r,this._scaleFactor=i,this._offsetX=a,this._offsetY=s,this._isScaled=!this.isIntegerPrecision()}};af.prototype.rescale=function(){var t=this;if(qn(arguments[0],Ji))for(var n=arguments[0],r=n.iterator();r.hasNext();){var i=r.next();t.rescale(i.getCoordinates())}else if(arguments[0]instanceof Array){for(var a=arguments[0],s=0;s<a.length;s++)a[s].x=a[s].x/t._scaleFactor+t._offsetX,a[s].y=a[s].y/t._scaleFactor+t._offsetY;a.length===2&&a[0].equals2D(a[1])&&Oa.out.println(a)}};af.prototype.scale=function(){var t=this;if(qn(arguments[0],Ji)){for(var n=arguments[0],r=new yn,i=n.iterator();i.hasNext();){var a=i.next();r.add(new ji(t.scale(a.getCoordinates()),a.getData()))}return r}else if(arguments[0]instanceof Array){for(var s=arguments[0],o=new Array(s.length).fill(null),l=0;l<s.length;l++)o[l]=new ze(Math.round((s[l].x-t._offsetX)*t._scaleFactor),Math.round((s[l].y-t._offsetY)*t._scaleFactor),s[l].z);var c=_r.removeRepeatedPoints(o);return c}};af.prototype.isIntegerPrecision=function(){return this._scaleFactor===1};af.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t};af.prototype.computeNodes=function(t){var n=t;this._isScaled&&(n=this.scale(t)),this._noder.computeNodes(n)};af.prototype.interfaces_=function(){return[xh]};af.prototype.getClass=function(){return af};var Ul=function(){this._li=new Ph,this._segStrings=null;var t=arguments[0];this._segStrings=t},TD={fact:{configurable:!0}};Ul.prototype.checkEndPtVertexIntersections=function(){var t=this;if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();){var r=n.next(),i=r.getCoordinates();t.checkEndPtVertexIntersections(i[0],t._segStrings),t.checkEndPtVertexIntersections(i[i.length-1],t._segStrings)}else if(arguments.length===2){for(var a=arguments[0],s=arguments[1],o=s.iterator();o.hasNext();)for(var l=o.next(),c=l.getCoordinates(),u=1;u<c.length-1;u++)if(c[u].equals(a))throw new sc("found endpt/interior pt intersection at index "+u+" :pt "+a)}};Ul.prototype.checkInteriorIntersections=function(){var t=this;if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();)for(var r=n.next(),i=this._segStrings.iterator();i.hasNext();){var a=i.next();t.checkInteriorIntersections(r,a)}else if(arguments.length===2)for(var s=arguments[0],o=arguments[1],l=s.getCoordinates(),c=o.getCoordinates(),u=0;u<l.length-1;u++)for(var f=0;f<c.length-1;f++)t.checkInteriorIntersections(s,u,o,f);else if(arguments.length===4){var h=arguments[0],d=arguments[1],p=arguments[2],g=arguments[3];if(h===p&&d===g)return null;var m=h.getCoordinates()[d],v=h.getCoordinates()[d+1],y=p.getCoordinates()[g],_=p.getCoordinates()[g+1];if(this._li.computeIntersection(m,v,y,_),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,m,v)||this.hasInteriorIntersection(this._li,y,_)))throw new sc("found non-noded intersection at "+m+"-"+v+" and "+y+"-"+_)}};Ul.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()};Ul.prototype.checkCollapses=function(){var t=this;if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();){var r=n.next();t.checkCollapses(r)}else if(arguments.length===1)for(var i=arguments[0],a=i.getCoordinates(),s=0;s<a.length-2;s++)t.checkCollapse(a[s],a[s+1],a[s+2])};Ul.prototype.hasInteriorIntersection=function(t,n,r){for(var i=0;i<t.getIntersectionNum();i++){var a=t.getIntersection(i);if(!(a.equals(n)||a.equals(r)))return!0}return!1};Ul.prototype.checkCollapse=function(t,n,r){if(t.equals(r))throw new sc("found non-noded collapse at "+Ul.fact.createLineString([t,n,r]))};Ul.prototype.interfaces_=function(){return[]};Ul.prototype.getClass=function(){return Ul};TD.fact.get=function(){return new yr};Object.defineProperties(Ul,TD);var yo=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],n=arguments[1],r=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=n,this._li=r,n<=0)throw new Ti("Scale factor must be non-zero");n!==1&&(this._pt=new ze(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new ze,this._p1Scaled=new ze),this.initCorners(this._pt)},ED={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};yo.prototype.intersectsScaled=function(t,n){var r=Math.min(t.x,n.x),i=Math.max(t.x,n.x),a=Math.min(t.y,n.y),s=Math.max(t.y,n.y),o=this._maxx<r||this._minx>i||this._maxy<a||this._miny>s;if(o)return!1;var l=this.intersectsToleranceSquare(t,n);return fr.isTrue(!(o&&l),"Found bad envelope test"),l};yo.prototype.initCorners=function(t){var n=.5;this._minx=t.x-n,this._maxx=t.x+n,this._miny=t.y-n,this._maxy=t.y+n,this._corner[0]=new ze(this._maxx,this._maxy),this._corner[1]=new ze(this._minx,this._maxy),this._corner[2]=new ze(this._minx,this._miny),this._corner[3]=new ze(this._maxx,this._miny)};yo.prototype.intersects=function(t,n){return this._scaleFactor===1?this.intersectsScaled(t,n):(this.copyScaled(t,this._p0Scaled),this.copyScaled(n,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))};yo.prototype.scale=function(t){return Math.round(t*this._scaleFactor)};yo.prototype.getCoordinate=function(){return this._originalPt};yo.prototype.copyScaled=function(t,n){n.x=this.scale(t.x),n.y=this.scale(t.y)};yo.prototype.getSafeEnvelope=function(){if(this._safeEnv===null){var t=yo.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Bn(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv};yo.prototype.intersectsPixelClosure=function(t,n){return this._li.computeIntersection(t,n,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,n,this._corner[1],this._corner[2]),this._li.hasIntersection())||(this._li.computeIntersection(t,n,this._corner[2],this._corner[3]),this._li.hasIntersection())||(this._li.computeIntersection(t,n,this._corner[3],this._corner[0]),this._li.hasIntersection()))};yo.prototype.intersectsToleranceSquare=function(t,n){var r=!1,i=!1;return this._li.computeIntersection(t,n,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,n,this._corner[1],this._corner[2]),this._li.isProper())||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,n,this._corner[2],this._corner[3]),this._li.isProper())||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,n,this._corner[3],this._corner[0]),this._li.isProper())||r&&i||t.equals(this._pt)||n.equals(this._pt))};yo.prototype.addSnappedNode=function(t,n){var r=t.getCoordinate(n),i=t.getCoordinate(n+1);return this.intersects(r,i)?(t.addIntersection(this.getCoordinate(),n),!0):!1};yo.prototype.interfaces_=function(){return[]};yo.prototype.getClass=function(){return yo};ED.SAFE_ENV_EXPANSION_FACTOR.get=function(){return .75};Object.defineProperties(yo,ED);var sy=function(){this.tempEnv1=new Bn,this.selectedSegment=new Gn};sy.prototype.select=function(){if(arguments.length!==1){if(arguments.length===2){var t=arguments[0],n=arguments[1];t.getLineSegment(n,this.selectedSegment),this.select(this.selectedSegment)}}};sy.prototype.interfaces_=function(){return[]};sy.prototype.getClass=function(){return sy};var h0=function(){this._index=null;var t=arguments[0];this._index=t},MD={HotPixelSnapAction:{configurable:!0}};h0.prototype.snap=function(){if(arguments.length===1){var t=arguments[0];return this.snap(t,null,-1)}else if(arguments.length===3){var n=arguments[0],r=arguments[1],i=arguments[2],a=n.getSafeEnvelope(),s=new SD(n,r,i);return this._index.query(a,{interfaces_:function(){return[ef]},visitItem:function(o){var l=o;l.select(a,s)}}),s.isNodeAdded()}};h0.prototype.interfaces_=function(){return[]};h0.prototype.getClass=function(){return h0};MD.HotPixelSnapAction.get=function(){return SD};Object.defineProperties(h0,MD);var SD=function(e){function t(){e.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var n=arguments[0],r=arguments[1],i=arguments[2];this._hotPixel=n,this._parentEdge=r,this._hotPixelVertexIndex=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isNodeAdded=function(){return this._isNodeAdded},t.prototype.select=function(){if(arguments.length===2){var r=arguments[0],i=arguments[1],a=r.getContext();if(this._parentEdge!==null&&a===this._parentEdge&&i===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(a,i)}else return e.prototype.select.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(sy),Hd=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new yn};Hd.prototype.processIntersections=function(t,n,r,i){var a=this;if(t===r&&n===i)return null;var s=t.getCoordinates()[n],o=t.getCoordinates()[n+1],l=r.getCoordinates()[i],c=r.getCoordinates()[i+1];if(this._li.computeIntersection(s,o,l,c),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)a._interiorIntersections.add(a._li.getIntersection(u));t.addIntersections(this._li,n,0),r.addIntersections(this._li,i,1)}};Hd.prototype.isDone=function(){return!1};Hd.prototype.getInteriorIntersections=function(){return this._interiorIntersections};Hd.prototype.interfaces_=function(){return[wh]};Hd.prototype.getClass=function(){return Hd};var _u=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new Ph,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};_u.prototype.checkCorrectness=function(t){var n=ji.getNodedSubstrings(t),r=new Ul(n);try{r.checkValid()}catch(i){if(i instanceof uD)i.printStackTrace();else throw i}finally{}};_u.prototype.getNodedSubstrings=function(){return ji.getNodedSubstrings(this._nodedSegStrings)};_u.prototype.snapRound=function(t,n){var r=this.findInteriorIntersections(t,n);this.computeIntersectionSnaps(r),this.computeVertexSnaps(t)};_u.prototype.findInteriorIntersections=function(t,n){var r=new Hd(n);return this._noder.setSegmentIntersector(r),this._noder.computeNodes(t),r.getInteriorIntersections()};_u.prototype.computeVertexSnaps=function(){var t=this;if(qn(arguments[0],Ji))for(var n=arguments[0],r=n.iterator();r.hasNext();){var i=r.next();t.computeVertexSnaps(i)}else if(arguments[0]instanceof ji)for(var a=arguments[0],s=a.getCoordinates(),o=0;o<s.length;o++){var l=new yo(s[o],t._scaleFactor,t._li),c=t._pointSnapper.snap(l,a,o);c&&a.addIntersection(s[o],o)}};_u.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new aC,this._pointSnapper=new h0(this._noder.getIndex()),this.snapRound(t,this._li)};_u.prototype.computeIntersectionSnaps=function(t){for(var n=this,r=t.iterator();r.hasNext();){var i=r.next(),a=new yo(i,n._scaleFactor,n._li);n._pointSnapper.snap(a)}};_u.prototype.interfaces_=function(){return[xh]};_u.prototype.getClass=function(){return _u};var Ca=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new zr,this._resultGeometry=null,this._saveException=null,arguments.length===1){var t=arguments[0];this._argGeom=t}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this._argGeom=n,this._bufParams=r}},F0={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Ca.prototype.bufferFixedPrecision=function(t){var n=new af(new _u(new Br(1)),t.getScale()),r=new eo(this._bufParams);r.setWorkingPrecisionModel(t),r.setNoder(n),this._resultGeometry=r.buffer(this._argGeom,this._distance)};Ca.prototype.bufferReducedPrecision=function(){var t=this;if(arguments.length===0){for(var n=Ca.MAX_PRECISION_DIGITS;n>=0;n--){try{t.bufferReducedPrecision(n)}catch(s){if(s instanceof uc)t._saveException=s;else throw s}finally{}if(t._resultGeometry!==null)return null}throw this._saveException}else if(arguments.length===1){var r=arguments[0],i=Ca.precisionScaleFactor(this._argGeom,this._distance,r),a=new Br(i);this.bufferFixedPrecision(a)}};Ca.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===Br.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()};Ca.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)};Ca.prototype.bufferOriginalPrecision=function(){try{var t=new eo(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(n){if(n instanceof sc)this._saveException=n;else throw n}finally{}};Ca.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry};Ca.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)};Ca.prototype.interfaces_=function(){return[]};Ca.prototype.getClass=function(){return Ca};Ca.bufferOp=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1],r=new Ca(t),i=r.getResultGeometry(n);return i}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Wn&&typeof arguments[1]=="number"){var a=arguments[0],s=arguments[1],o=arguments[2],l=new Ca(a);l.setQuadrantSegments(o);var c=l.getResultGeometry(s);return c}else if(arguments[2]instanceof zr&&arguments[0]instanceof Wn&&typeof arguments[1]=="number"){var u=arguments[0],f=arguments[1],h=arguments[2],d=new Ca(u,h),p=d.getResultGeometry(f);return p}}else if(arguments.length===4){var g=arguments[0],m=arguments[1],v=arguments[2],y=arguments[3],_=new Ca(g);_.setQuadrantSegments(v),_.setEndCapStyle(y);var b=_.getResultGeometry(m);return b}};Ca.precisionScaleFactor=function(t,n,r){var i=t.getEnvelopeInternal(),a=Jo.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY())),s=n>0?n:0,o=a+2*s,l=Math.trunc(Math.log(o)/Math.log(10)+1),c=r-l,u=Math.pow(10,c);return u};F0.CAP_ROUND.get=function(){return zr.CAP_ROUND};F0.CAP_BUTT.get=function(){return zr.CAP_FLAT};F0.CAP_FLAT.get=function(){return zr.CAP_FLAT};F0.CAP_SQUARE.get=function(){return zr.CAP_SQUARE};F0.MAX_PRECISION_DIGITS.get=function(){return 12};Object.defineProperties(Ca,F0);var Ja=function(){this._pt=[new ze,new ze],this._distance=nr.NaN,this._isNull=!0};Ja.prototype.getCoordinates=function(){return this._pt};Ja.prototype.getCoordinate=function(t){return this._pt[t]};Ja.prototype.setMinimum=function(){if(arguments.length===1){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(arguments.length===2){var n=arguments[0],r=arguments[1];if(this._isNull)return this.initialize(n,r),null;var i=n.distance(r);i<this._distance&&this.initialize(n,r,i)}};Ja.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var t=arguments[0],n=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(n),this._distance=t.distance(n),this._isNull=!1}else if(arguments.length===3){var r=arguments[0],i=arguments[1],a=arguments[2];this._pt[0].setCoordinate(r),this._pt[1].setCoordinate(i),this._distance=a,this._isNull=!1}};Ja.prototype.getDistance=function(){return this._distance};Ja.prototype.setMaximum=function(){if(arguments.length===1){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(arguments.length===2){var n=arguments[0],r=arguments[1];if(this._isNull)return this.initialize(n,r),null;var i=n.distance(r);i>this._distance&&this.initialize(n,r,i)}};Ja.prototype.interfaces_=function(){return[]};Ja.prototype.getClass=function(){return Ja};var iu=function(){};iu.prototype.interfaces_=function(){return[]};iu.prototype.getClass=function(){return iu};iu.computeDistance=function(){if(arguments[2]instanceof Ja&&arguments[0]instanceof Pi&&arguments[1]instanceof ze)for(var t=arguments[0],n=arguments[1],r=arguments[2],i=t.getCoordinates(),a=new Gn,s=0;s<i.length-1;s++){a.setCoordinates(i[s],i[s+1]);var o=a.closestPoint(n);r.setMinimum(o,n)}else if(arguments[2]instanceof Ja&&arguments[0]instanceof na&&arguments[1]instanceof ze){var l=arguments[0],c=arguments[1],u=arguments[2];iu.computeDistance(l.getExteriorRing(),c,u);for(var f=0;f<l.getNumInteriorRing();f++)iu.computeDistance(l.getInteriorRingN(f),c,u)}else if(arguments[2]instanceof Ja&&arguments[0]instanceof Wn&&arguments[1]instanceof ze){var h=arguments[0],d=arguments[1],p=arguments[2];if(h instanceof Pi)iu.computeDistance(h,d,p);else if(h instanceof na)iu.computeDistance(h,d,p);else if(h instanceof no)for(var g=h,m=0;m<g.getNumGeometries();m++){var v=g.getGeometryN(m);iu.computeDistance(v,d,p)}else p.setMinimum(h.getCoordinate(),d)}else if(arguments[2]instanceof Ja&&arguments[0]instanceof Gn&&arguments[1]instanceof ze){var y=arguments[0],_=arguments[1],b=arguments[2],w=y.closestPoint(_);b.setMinimum(w,_)}};var Eh=function(t){this._maxPtDist=new Ja,this._inputGeom=t||null},oC={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Eh.prototype.computeMaxMidpointDistance=function(t){var n=new of(this._inputGeom);t.apply(n),this._maxPtDist.setMaximum(n.getMaxPointDistance())};Eh.prototype.computeMaxVertexDistance=function(t){var n=new Yd(this._inputGeom);t.apply(n),this._maxPtDist.setMaximum(n.getMaxPointDistance())};Eh.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()};Eh.prototype.getDistancePoints=function(){return this._maxPtDist};Eh.prototype.interfaces_=function(){return[]};Eh.prototype.getClass=function(){return Eh};oC.MaxPointDistanceFilter.get=function(){return Yd};oC.MaxMidpointDistanceFilter.get=function(){return of};Object.defineProperties(Eh,oC);var Yd=function(t){this._maxPtDist=new Ja,this._minPtDist=new Ja,this._geom=t||null};Yd.prototype.filter=function(t){this._minPtDist.initialize(),iu.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)};Yd.prototype.getMaxPointDistance=function(){return this._maxPtDist};Yd.prototype.interfaces_=function(){return[pu]};Yd.prototype.getClass=function(){return Yd};var of=function(t){this._maxPtDist=new Ja,this._minPtDist=new Ja,this._geom=t||null};of.prototype.filter=function(t,n){if(n===0)return null;var r=t.getCoordinate(n-1),i=t.getCoordinate(n),a=new ze((r.x+i.x)/2,(r.y+i.y)/2);this._minPtDist.initialize(),iu.computeDistance(this._geom,a,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)};of.prototype.isDone=function(){return!1};of.prototype.isGeometryChanged=function(){return!1};of.prototype.getMaxPointDistance=function(){return this._maxPtDist};of.prototype.interfaces_=function(){return[nl]};of.prototype.getClass=function(){return of};var nc=function(t){this._comps=t||null};nc.prototype.filter=function(t){t instanceof na&&this._comps.add(t)};nc.prototype.interfaces_=function(){return[Fl]};nc.prototype.getClass=function(){return nc};nc.getPolygons=function(){if(arguments.length===1){var t=arguments[0];return nc.getPolygons(t,new yn)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return n instanceof na?r.add(n):n instanceof no&&n.apply(new nc(r)),r}};var Ea=function(){if(this._lines=null,this._isForcedToLineString=!1,arguments.length===1){var t=arguments[0];this._lines=t}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this._lines=n,this._isForcedToLineString=r}};Ea.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof gu){var n=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(n),null}t instanceof Pi&&this._lines.add(t)};Ea.prototype.setForceToLineString=function(t){this._isForcedToLineString=t};Ea.prototype.interfaces_=function(){return[lc]};Ea.prototype.getClass=function(){return Ea};Ea.getGeometry=function(){if(arguments.length===1){var t=arguments[0];return t.getFactory().buildGeometry(Ea.getLines(t))}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return n.getFactory().buildGeometry(Ea.getLines(n,r))}};Ea.getLines=function(){if(arguments.length===1){var t=arguments[0];return Ea.getLines(t,!1)}else if(arguments.length===2){if(qn(arguments[0],Ji)&&qn(arguments[1],Ji)){for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();){var a=i.next();Ea.getLines(a,r)}return r}else if(arguments[0]instanceof Wn&&typeof arguments[1]=="boolean"){var s=arguments[0],o=arguments[1],l=new yn;return s.apply(new Ea(l,o)),l}else if(arguments[0]instanceof Wn&&qn(arguments[1],Ji)){var c=arguments[0],u=arguments[1];return c instanceof Pi?u.add(c):c.apply(new Ea(u)),u}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&qn(arguments[0],Ji)&&qn(arguments[1],Ji)){for(var f=arguments[0],h=arguments[1],d=arguments[2],p=f.iterator();p.hasNext();){var g=p.next();Ea.getLines(g,h,d)}return h}else if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Wn&&qn(arguments[1],Ji)){var m=arguments[0],v=arguments[1],y=arguments[2];return m.apply(new Ea(v,y)),v}}};var ol=function(){if(this._boundaryRule=Ms.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];if(t===null)throw new Ti("Rule must be non-null");this._boundaryRule=t}}};ol.prototype.locateInternal=function(){var t=this;if(arguments[0]instanceof ze&&arguments[1]instanceof na){var n=arguments[0],r=arguments[1];if(r.isEmpty())return We.EXTERIOR;var i=r.getExteriorRing(),a=this.locateInPolygonRing(n,i);if(a===We.EXTERIOR)return We.EXTERIOR;if(a===We.BOUNDARY)return We.BOUNDARY;for(var s=0;s<r.getNumInteriorRing();s++){var o=r.getInteriorRingN(s),l=t.locateInPolygonRing(n,o);if(l===We.INTERIOR)return We.EXTERIOR;if(l===We.BOUNDARY)return We.BOUNDARY}return We.INTERIOR}else if(arguments[0]instanceof ze&&arguments[1]instanceof Pi){var c=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(c))return We.EXTERIOR;var f=u.getCoordinates();return!u.isClosed()&&(c.equals(f[0])||c.equals(f[f.length-1]))?We.BOUNDARY:Cn.isOnLine(c,f)?We.INTERIOR:We.EXTERIOR}else if(arguments[0]instanceof ze&&arguments[1]instanceof Oo){var h=arguments[0],d=arguments[1],p=d.getCoordinate();return p.equals2D(h)?We.INTERIOR:We.EXTERIOR}};ol.prototype.locateInPolygonRing=function(t,n){return n.getEnvelopeInternal().intersects(t)?Cn.locatePointInRing(t,n.getCoordinates()):We.EXTERIOR};ol.prototype.intersects=function(t,n){return this.locate(t,n)!==We.EXTERIOR};ol.prototype.updateLocationInfo=function(t){t===We.INTERIOR&&(this._isIn=!0),t===We.BOUNDARY&&this._numBoundaries++};ol.prototype.computeLocation=function(t,n){var r=this;if(n instanceof Oo&&this.updateLocationInfo(this.locateInternal(t,n)),n instanceof Pi)this.updateLocationInfo(this.locateInternal(t,n));else if(n instanceof na)this.updateLocationInfo(this.locateInternal(t,n));else if(n instanceof _h)for(var i=n,a=0;a<i.getNumGeometries();a++){var s=i.getGeometryN(a);r.updateLocationInfo(r.locateInternal(t,s))}else if(n instanceof fu)for(var o=n,l=0;l<o.getNumGeometries();l++){var c=o.getGeometryN(l);r.updateLocationInfo(r.locateInternal(t,c))}else if(n instanceof no)for(var u=new hu(n);u.hasNext();){var f=u.next();f!==n&&r.computeLocation(t,f)}};ol.prototype.locate=function(t,n){return n.isEmpty()?We.EXTERIOR:n instanceof Pi?this.locateInternal(t,n):n instanceof na?this.locateInternal(t,n):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,n),this._boundaryRule.isInBoundary(this._numBoundaries)?We.BOUNDARY:this._numBoundaries>0||this._isIn?We.INTERIOR:We.EXTERIOR)};ol.prototype.interfaces_=function(){return[]};ol.prototype.getClass=function(){return ol};var Qa=function e(){if(this._component=null,this._segIndex=null,this._pt=null,arguments.length===2){var t=arguments[0],n=arguments[1];e.call(this,t,e.INSIDE_AREA,n)}else if(arguments.length===3){var r=arguments[0],i=arguments[1],a=arguments[2];this._component=r,this._segIndex=i,this._pt=a}},CD={INSIDE_AREA:{configurable:!0}};Qa.prototype.isInsideArea=function(){return this._segIndex===Qa.INSIDE_AREA};Qa.prototype.getCoordinate=function(){return this._pt};Qa.prototype.getGeometryComponent=function(){return this._component};Qa.prototype.getSegmentIndex=function(){return this._segIndex};Qa.prototype.interfaces_=function(){return[]};Qa.prototype.getClass=function(){return Qa};CD.INSIDE_AREA.get=function(){return-1};Object.defineProperties(Qa,CD);var Xc=function(t){this._pts=t||null};Xc.prototype.filter=function(t){t instanceof Oo&&this._pts.add(t)};Xc.prototype.interfaces_=function(){return[Fl]};Xc.prototype.getClass=function(){return Xc};Xc.getPoints=function(){if(arguments.length===1){var t=arguments[0];return t instanceof Oo?il.singletonList(t):Xc.getPoints(t,new yn)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return n instanceof Oo?r.add(n):n instanceof no&&n.apply(new Xc(r)),r}};var Wd=function(){this._locations=null;var t=arguments[0];this._locations=t};Wd.prototype.filter=function(t){(t instanceof Oo||t instanceof Pi||t instanceof na)&&this._locations.add(new Qa(t,0,t.getCoordinate()))};Wd.prototype.interfaces_=function(){return[Fl]};Wd.prototype.getClass=function(){return Wd};Wd.getLocations=function(t){var n=new yn;return t.apply(new Wd(n)),n};var Pa=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new ol,this._minDistanceLocation=null,this._minDistance=nr.MAX_VALUE,arguments.length===2){var t=arguments[0],n=arguments[1];this._geom=[t,n],this._terminateDistance=0}else if(arguments.length===3){var r=arguments[0],i=arguments[1],a=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=r,this._geom[1]=i,this._terminateDistance=a}};Pa.prototype.computeContainmentDistance=function(){var t=this;if(arguments.length===0){var n=new Array(2).fill(null);if(this.computeContainmentDistance(0,n),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,n)}else if(arguments.length===2){var r=arguments[0],i=arguments[1],a=1-r,s=nc.getPolygons(this._geom[r]);if(s.size()>0){var o=Wd.getLocations(this._geom[a]);if(this.computeContainmentDistance(o,s,i),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[a]=i[0],this._minDistanceLocation[r]=i[1],null}}else if(arguments.length===3){if(arguments[2]instanceof Array&&qn(arguments[0],Ks)&&qn(arguments[1],Ks)){for(var l=arguments[0],c=arguments[1],u=arguments[2],f=0;f<l.size();f++)for(var h=l.get(f),d=0;d<c.size();d++)if(t.computeContainmentDistance(h,c.get(d),u),t._minDistance<=t._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Qa&&arguments[1]instanceof na){var p=arguments[0],g=arguments[1],m=arguments[2],v=p.getCoordinate();if(We.EXTERIOR!==this._ptLocator.locate(v,g))return this._minDistance=0,m[0]=p,m[1]=new Qa(g,v),null}}};Pa.prototype.computeMinDistanceLinesPoints=function(t,n,r){for(var i=this,a=0;a<t.size();a++)for(var s=t.get(a),o=0;o<n.size();o++){var l=n.get(o);if(i.computeMinDistance(s,l,r),i._minDistance<=i._terminateDistance)return null}};Pa.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),n=Ea.getLines(this._geom[0]),r=Ea.getLines(this._geom[1]),i=Xc.getPoints(this._geom[0]),a=Xc.getPoints(this._geom[1]);if(this.computeMinDistanceLines(n,r,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance||(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,a,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance)||(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(r,i,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance))return null;t[0]=null,t[1]=null,this.computeMinDistancePoints(i,a,t),this.updateMinDistance(t,!1)};Pa.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation};Pa.prototype.updateMinDistance=function(t,n){if(t[0]===null)return null;n?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])};Pa.prototype.nearestPoints=function(){this.computeMinDistance();var t=[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()];return t};Pa.prototype.computeMinDistance=function(){var t=this;if(arguments.length===0){if(this._minDistanceLocation!==null||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(arguments.length===3){if(arguments[2]instanceof Array&&arguments[0]instanceof Pi&&arguments[1]instanceof Oo){var n=arguments[0],r=arguments[1],i=arguments[2];if(n.getEnvelopeInternal().distance(r.getEnvelopeInternal())>this._minDistance)return null;for(var a=n.getCoordinates(),s=r.getCoordinate(),o=0;o<a.length-1;o++){var l=Cn.distancePointLine(s,a[o],a[o+1]);if(l<t._minDistance){t._minDistance=l;var c=new Gn(a[o],a[o+1]),u=c.closestPoint(s);i[0]=new Qa(n,o,u),i[1]=new Qa(r,0,s)}if(t._minDistance<=t._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Pi&&arguments[1]instanceof Pi){var f=arguments[0],h=arguments[1],d=arguments[2];if(f.getEnvelopeInternal().distance(h.getEnvelopeInternal())>this._minDistance)return null;for(var p=f.getCoordinates(),g=h.getCoordinates(),m=0;m<p.length-1;m++)for(var v=0;v<g.length-1;v++){var y=Cn.distanceLineLine(p[m],p[m+1],g[v],g[v+1]);if(y<t._minDistance){t._minDistance=y;var _=new Gn(p[m],p[m+1]),b=new Gn(g[v],g[v+1]),w=_.closestPoints(b);d[0]=new Qa(f,m,w[0]),d[1]=new Qa(h,v,w[1])}if(t._minDistance<=t._terminateDistance)return null}}}};Pa.prototype.computeMinDistancePoints=function(t,n,r){for(var i=this,a=0;a<t.size();a++)for(var s=t.get(a),o=0;o<n.size();o++){var l=n.get(o),c=s.getCoordinate().distance(l.getCoordinate());if(c<i._minDistance&&(i._minDistance=c,r[0]=new Qa(s,0,s.getCoordinate()),r[1]=new Qa(l,0,l.getCoordinate())),i._minDistance<=i._terminateDistance)return null}};Pa.prototype.distance=function(){if(this._geom[0]===null||this._geom[1]===null)throw new Ti("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)};Pa.prototype.computeMinDistanceLines=function(t,n,r){for(var i=this,a=0;a<t.size();a++)for(var s=t.get(a),o=0;o<n.size();o++){var l=n.get(o);if(i.computeMinDistance(s,l,r),i._minDistance<=i._terminateDistance)return null}};Pa.prototype.interfaces_=function(){return[]};Pa.prototype.getClass=function(){return Pa};Pa.distance=function(t,n){var r=new Pa(t,n);return r.distance()};Pa.isWithinDistance=function(t,n,r){var i=new Pa(t,n,r);return i.distance()<=r};Pa.nearestPoints=function(t,n){var r=new Pa(t,n);return r.nearestPoints()};var ja=function(){this._pt=[new ze,new ze],this._distance=nr.NaN,this._isNull=!0};ja.prototype.getCoordinates=function(){return this._pt};ja.prototype.getCoordinate=function(t){return this._pt[t]};ja.prototype.setMinimum=function(){if(arguments.length===1){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(arguments.length===2){var n=arguments[0],r=arguments[1];if(this._isNull)return this.initialize(n,r),null;var i=n.distance(r);i<this._distance&&this.initialize(n,r,i)}};ja.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var t=arguments[0],n=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(n),this._distance=t.distance(n),this._isNull=!1}else if(arguments.length===3){var r=arguments[0],i=arguments[1],a=arguments[2];this._pt[0].setCoordinate(r),this._pt[1].setCoordinate(i),this._distance=a,this._isNull=!1}};ja.prototype.toString=function(){return el.toLineString(this._pt[0],this._pt[1])};ja.prototype.getDistance=function(){return this._distance};ja.prototype.setMaximum=function(){if(arguments.length===1){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(arguments.length===2){var n=arguments[0],r=arguments[1];if(this._isNull)return this.initialize(n,r),null;var i=n.distance(r);i>this._distance&&this.initialize(n,r,i)}};ja.prototype.interfaces_=function(){return[]};ja.prototype.getClass=function(){return ja};var El=function(){};El.prototype.interfaces_=function(){return[]};El.prototype.getClass=function(){return El};El.computeDistance=function(){if(arguments[2]instanceof ja&&arguments[0]instanceof Pi&&arguments[1]instanceof ze)for(var t=arguments[0],n=arguments[1],r=arguments[2],i=new Gn,a=t.getCoordinates(),s=0;s<a.length-1;s++){i.setCoordinates(a[s],a[s+1]);var o=i.closestPoint(n);r.setMinimum(o,n)}else if(arguments[2]instanceof ja&&arguments[0]instanceof na&&arguments[1]instanceof ze){var l=arguments[0],c=arguments[1],u=arguments[2];El.computeDistance(l.getExteriorRing(),c,u);for(var f=0;f<l.getNumInteriorRing();f++)El.computeDistance(l.getInteriorRingN(f),c,u)}else if(arguments[2]instanceof ja&&arguments[0]instanceof Wn&&arguments[1]instanceof ze){var h=arguments[0],d=arguments[1],p=arguments[2];if(h instanceof Pi)El.computeDistance(h,d,p);else if(h instanceof na)El.computeDistance(h,d,p);else if(h instanceof no)for(var g=h,m=0;m<g.getNumGeometries();m++){var v=g.getGeometryN(m);El.computeDistance(v,d,p)}else p.setMinimum(h.getCoordinate(),d)}else if(arguments[2]instanceof ja&&arguments[0]instanceof Gn&&arguments[1]instanceof ze){var y=arguments[0],_=arguments[1],b=arguments[2],w=y.closestPoint(_);b.setMinimum(w,_)}};var Ts=function(){this._g0=null,this._g1=null,this._ptDist=new ja,this._densifyFrac=0;var t=arguments[0],n=arguments[1];this._g0=t,this._g1=n},sC={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Ts.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()};Ts.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new Ti("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t};Ts.prototype.compute=function(t,n){this.computeOrientedDistance(t,n,this._ptDist),this.computeOrientedDistance(n,t,this._ptDist)};Ts.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()};Ts.prototype.computeOrientedDistance=function(t,n,r){var i=new $d(n);if(t.apply(i),r.setMaximum(i.getMaxPointDistance()),this._densifyFrac>0){var a=new sf(n,this._densifyFrac);t.apply(a),r.setMaximum(a.getMaxPointDistance())}};Ts.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()};Ts.prototype.interfaces_=function(){return[]};Ts.prototype.getClass=function(){return Ts};Ts.distance=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1],r=new Ts(t,n);return r.distance()}else if(arguments.length===3){var i=arguments[0],a=arguments[1],s=arguments[2],o=new Ts(i,a);return o.setDensifyFraction(s),o.distance()}};sC.MaxPointDistanceFilter.get=function(){return $d};sC.MaxDensifiedByFractionDistanceFilter.get=function(){return sf};Object.defineProperties(Ts,sC);var $d=function(){this._maxPtDist=new ja,this._minPtDist=new ja,this._euclideanDist=new El,this._geom=null;var t=arguments[0];this._geom=t};$d.prototype.filter=function(t){this._minPtDist.initialize(),El.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)};$d.prototype.getMaxPointDistance=function(){return this._maxPtDist};$d.prototype.interfaces_=function(){return[pu]};$d.prototype.getClass=function(){return $d};var sf=function(){this._maxPtDist=new ja,this._minPtDist=new ja,this._geom=null,this._numSubSegs=0;var t=arguments[0],n=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/n))};sf.prototype.filter=function(t,n){var r=this;if(n===0)return null;for(var i=t.getCoordinate(n-1),a=t.getCoordinate(n),s=(a.x-i.x)/this._numSubSegs,o=(a.y-i.y)/this._numSubSegs,l=0;l<this._numSubSegs;l++){var c=i.x+l*s,u=i.y+l*o,f=new ze(c,u);r._minPtDist.initialize(),El.computeDistance(r._geom,f,r._minPtDist),r._maxPtDist.setMaximum(r._minPtDist)}};sf.prototype.isDone=function(){return!1};sf.prototype.isGeometryChanged=function(){return!1};sf.prototype.getMaxPointDistance=function(){return this._maxPtDist};sf.prototype.interfaces_=function(){return[nl]};sf.prototype.getClass=function(){return sf};var Io=function(t,n,r){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=n||null,this._result=r||null},lC={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Io.prototype.checkMaximumDistance=function(t,n,r){var i=new Ts(n,t);if(i.setDensifyFraction(.25),this._maxDistanceFound=i.orientedDistance(),this._maxDistanceFound>r){this._isValid=!1;var a=i.getCoordinates();this._errorLocation=a[1],this._errorIndicator=t.getFactory().createLineString(a),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+el.toLineString(a[0],a[1])+")"}};Io.prototype.isValid=function(){var t=Math.abs(this._bufDistance),n=Io.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-n,this._maxValidDistance=t+n,this._input.isEmpty()||this._result.isEmpty()?!0:(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Io.VERBOSE&&Oa.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)};Io.prototype.checkNegativeValid=function(){if(!(this._input instanceof na||this._input instanceof fu||this._input instanceof no))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)};Io.prototype.getErrorIndicator=function(){return this._errorIndicator};Io.prototype.checkMinimumDistance=function(t,n,r){var i=new Pa(t,n,r);if(this._minDistanceFound=i.distance(),this._minDistanceFound<r){this._isValid=!1;var a=i.nearestPoints();this._errorLocation=i.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(a),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+el.toLineString(a[0],a[1])+" )"}};Io.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)};Io.prototype.getErrorLocation=function(){return this._errorLocation};Io.prototype.getPolygonLines=function(t){for(var n=new yn,r=new Ea(n),i=nc.getPolygons(t),a=i.iterator();a.hasNext();){var s=a.next();s.apply(r)}return t.getFactory().buildGeometry(n)};Io.prototype.getErrorMessage=function(){return this._errMsg};Io.prototype.interfaces_=function(){return[]};Io.prototype.getClass=function(){return Io};lC.VERBOSE.get=function(){return!1};lC.MAX_DISTANCE_DIFF_FRAC.get=function(){return .012};Object.defineProperties(Io,lC);var Na=function(t,n,r){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=n||null,this._result=r||null},uC={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Na.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid};Na.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*Na.MAX_ENV_DIFF_FRAC;t===0&&(t=.001);var n=new Bn(this._input.getEnvelopeInternal());n.expandBy(this._distance);var r=new Bn(this._result.getEnvelopeInternal());r.expandBy(t),r.contains(n)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(r)),this.report("Envelope")};Na.prototype.checkDistance=function(){var t=new Io(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")};Na.prototype.checkArea=function(){var t=this._input.getArea(),n=this._result.getArea();this._distance>0&&t>n&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<n&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")};Na.prototype.checkPolygonal=function(){this._result instanceof na||this._result instanceof fu||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")};Na.prototype.getErrorIndicator=function(){return this._errorIndicator};Na.prototype.getErrorLocation=function(){return this._errorLocation};Na.prototype.checkExpectedEmpty=function(){if(this._input.getDimension()>=2||this._distance>0)return null;this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),this.report("ExpectedEmpty")};Na.prototype.report=function(t){if(!Na.VERBOSE)return null;Oa.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))};Na.prototype.getErrorMessage=function(){return this._errorMsg};Na.prototype.interfaces_=function(){return[]};Na.prototype.getClass=function(){return Na};Na.isValidMsg=function(t,n,r){var i=new Na(t,n,r);return i.isValid()?null:i.getErrorMessage()};Na.isValid=function(t,n,r){var i=new Na(t,n,r);return!!i.isValid()};uC.VERBOSE.get=function(){return!1};uC.MAX_ENV_DIFF_FRAC.get=function(){return .012};Object.defineProperties(Na,uC);var Vl=function(){this._pts=null,this._data=null;var t=arguments[0],n=arguments[1];this._pts=t,this._data=n};Vl.prototype.getCoordinates=function(){return this._pts};Vl.prototype.size=function(){return this._pts.length};Vl.prototype.getCoordinate=function(t){return this._pts[t]};Vl.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])};Vl.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:Ud.octant(this.getCoordinate(t),this.getCoordinate(t+1))};Vl.prototype.setData=function(t){this._data=t};Vl.prototype.getData=function(){return this._data};Vl.prototype.toString=function(){return el.toLineString(new zi(this._pts))};Vl.prototype.interfaces_=function(){return[vu]};Vl.prototype.getClass=function(){return Vl};var xa=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new yn,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};xa.prototype.getInteriorIntersection=function(){return this._interiorIntersection};xa.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t};xa.prototype.getIntersectionSegments=function(){return this._intSegments};xa.prototype.count=function(){return this._intersectionCount};xa.prototype.getIntersections=function(){return this._intersections};xa.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t};xa.prototype.setKeepIntersections=function(t){this._keepIntersections=t};xa.prototype.processIntersections=function(t,n,r,i){if(!this._findAllIntersections&&this.hasIntersection()||t===r&&n===i)return null;if(this._isCheckEndSegmentsOnly){var a=this.isEndSegment(t,n)||this.isEndSegment(r,i);if(!a)return null}var s=t.getCoordinates()[n],o=t.getCoordinates()[n+1],l=r.getCoordinates()[i],c=r.getCoordinates()[i+1];this._li.computeIntersection(s,o,l,c),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=s,this._intSegments[1]=o,this._intSegments[2]=l,this._intSegments[3]=c,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)};xa.prototype.isEndSegment=function(t,n){return n===0||n>=t.size()-2};xa.prototype.hasIntersection=function(){return this._interiorIntersection!==null};xa.prototype.isDone=function(){return this._findAllIntersections?!1:this._interiorIntersection!==null};xa.prototype.interfaces_=function(){return[wh]};xa.prototype.getClass=function(){return xa};xa.createAllIntersectionsFinder=function(t){var n=new xa(t);return n.setFindAllIntersections(!0),n};xa.createAnyIntersectionFinder=function(t){return new xa(t)};xa.createIntersectionCounter=function(t){var n=new xa(t);return n.setFindAllIntersections(!0),n.setKeepIntersections(!1),n};var sl=function(){this._li=new Ph,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};sl.prototype.execute=function(){if(this._segInt!==null)return null;this.checkInteriorIntersections()};sl.prototype.getIntersections=function(){return this._segInt.getIntersections()};sl.prototype.isValid=function(){return this.execute(),this._isValid};sl.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t};sl.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new xa(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new aC;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null};sl.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new uc(this.getErrorMessage(),this._segInt.getInteriorIntersection())};sl.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+el.toLineString(t[0],t[1])+" and "+el.toLineString(t[2],t[3])};sl.prototype.interfaces_=function(){return[]};sl.prototype.getClass=function(){return sl};sl.computeIntersections=function(t){var n=new sl(t);return n.setFindAllIntersections(!0),n.isValid(),n.getIntersections()};var Mh=function e(){this._nv=null;var t=arguments[0];this._nv=new sl(e.toSegmentStrings(t))};Mh.prototype.checkValid=function(){this._nv.checkValid()};Mh.prototype.interfaces_=function(){return[]};Mh.prototype.getClass=function(){return Mh};Mh.toSegmentStrings=function(t){for(var n=new yn,r=t.iterator();r.hasNext();){var i=r.next();n.add(new Vl(i.getCoordinates(),i))}return n};Mh.checkValid=function(t){var n=new Mh(t);n.checkValid()};var qd=function(t){this._mapOp=t};qd.prototype.map=function(t){for(var n=this,r=new yn,i=0;i<t.getNumGeometries();i++){var a=n._mapOp.map(t.getGeometryN(i));a.isEmpty()||r.add(a)}return t.getFactory().createGeometryCollection(yr.toGeometryArray(r))};qd.prototype.interfaces_=function(){return[]};qd.prototype.getClass=function(){return qd};qd.map=function(t,n){var r=new qd(n);return r.map(t)};var Hl=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new yn,this._resultLineList=new yn;var t=arguments[0],n=arguments[1],r=arguments[2];this._op=t,this._geometryFactory=n,this._ptLocator=r};Hl.prototype.collectLines=function(t){for(var n=this,r=this._op.getGraph().getEdgeEnds().iterator();r.hasNext();){var i=r.next();n.collectLineEdge(i,t,n._lineEdgesList),n.collectBoundaryTouchEdge(i,t,n._lineEdgesList)}};Hl.prototype.labelIsolatedLine=function(t,n){var r=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(n));t.getLabel().setLocation(n,r)};Hl.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList};Hl.prototype.collectLineEdge=function(t,n,r){var i=t.getLabel(),a=t.getEdge();t.isLineEdge()&&!t.isVisited()&&lr.isResultOfOp(i,n)&&!a.isCovered()&&(r.add(a),t.setVisitedEdge(!0))};Hl.prototype.findCoveredLineEdges=function(){for(var t=this,n=this._op.getGraph().getNodes().iterator();n.hasNext();){var r=n.next();r.getEdges().findCoveredLineEdges()}for(var i=this._op.getGraph().getEdgeEnds().iterator();i.hasNext();){var a=i.next(),s=a.getEdge();if(a.isLineEdge()&&!s.isCoveredSet()){var o=t._op.isCoveredByA(a.getCoordinate());s.setCovered(o)}}};Hl.prototype.labelIsolatedLines=function(t){for(var n=this,r=t.iterator();r.hasNext();){var i=r.next(),a=i.getLabel();i.isIsolated()&&(a.isNull(0)?n.labelIsolatedLine(i,0):n.labelIsolatedLine(i,1))}};Hl.prototype.buildLines=function(t){for(var n=this,r=this._lineEdgesList.iterator();r.hasNext();){var i=r.next(),a=n._geometryFactory.createLineString(i.getCoordinates());n._resultLineList.add(a),i.setInResult(!0)}};Hl.prototype.collectBoundaryTouchEdge=function(t,n,r){var i=t.getLabel();if(t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult())return null;fr.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),lr.isResultOfOp(i,n)&&n===lr.INTERSECTION&&(r.add(t.getEdge()),t.setVisitedEdge(!0))};Hl.prototype.interfaces_=function(){return[]};Hl.prototype.getClass=function(){return Hl};var Xd=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new yn;var t=arguments[0],n=arguments[1];this._op=t,this._geometryFactory=n};Xd.prototype.filterCoveredNodeToPoint=function(t){var n=t.getCoordinate();if(!this._op.isCoveredByLA(n)){var r=this._geometryFactory.createPoint(n);this._resultPointList.add(r)}};Xd.prototype.extractNonCoveredResultNodes=function(t){for(var n=this,r=this._op.getGraph().getNodes().iterator();r.hasNext();){var i=r.next();if(!i.isInResult()&&!i.isIncidentEdgeInResult()&&(i.getEdges().getDegree()===0||t===lr.INTERSECTION)){var a=i.getLabel();lr.isResultOfOp(a,t)&&n.filterCoveredNodeToPoint(i)}}};Xd.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList};Xd.prototype.interfaces_=function(){return[]};Xd.prototype.getClass=function(){return Xd};var _o=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};_o.prototype.transformPoint=function(t,n){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))};_o.prototype.transformPolygon=function(t,n){var r=this,i=!0,a=this.transformLinearRing(t.getExteriorRing(),t);(a===null||!(a instanceof gu)||a.isEmpty())&&(i=!1);for(var s=new yn,o=0;o<t.getNumInteriorRing();o++){var l=r.transformLinearRing(t.getInteriorRingN(o),t);l===null||l.isEmpty()||(l instanceof gu||(i=!1),s.add(l))}if(i)return this._factory.createPolygon(a,s.toArray([]));var c=new yn;return a!==null&&c.add(a),c.addAll(s),this._factory.buildGeometry(c)};_o.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)};_o.prototype.getInputGeometry=function(){return this._inputGeom};_o.prototype.transformMultiLineString=function(t,n){for(var r=this,i=new yn,a=0;a<t.getNumGeometries();a++){var s=r.transformLineString(t.getGeometryN(a),t);s!==null&&(s.isEmpty()||i.add(s))}return this._factory.buildGeometry(i)};_o.prototype.transformCoordinates=function(t,n){return this.copy(t)};_o.prototype.transformLineString=function(t,n){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))};_o.prototype.transformMultiPoint=function(t,n){for(var r=this,i=new yn,a=0;a<t.getNumGeometries();a++){var s=r.transformPoint(t.getGeometryN(a),t);s!==null&&(s.isEmpty()||i.add(s))}return this._factory.buildGeometry(i)};_o.prototype.transformMultiPolygon=function(t,n){for(var r=this,i=new yn,a=0;a<t.getNumGeometries();a++){var s=r.transformPolygon(t.getGeometryN(a),t);s!==null&&(s.isEmpty()||i.add(s))}return this._factory.buildGeometry(i)};_o.prototype.copy=function(t){return t.copy()};_o.prototype.transformGeometryCollection=function(t,n){for(var r=this,i=new yn,a=0;a<t.getNumGeometries();a++){var s=r.transform(t.getGeometryN(a));s!==null&&(r._pruneEmptyGeometry&&s.isEmpty()||i.add(s))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(yr.toGeometryArray(i)):this._factory.buildGeometry(i)};_o.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Oo)return this.transformPoint(t,null);if(t instanceof s0)return this.transformMultiPoint(t,null);if(t instanceof gu)return this.transformLinearRing(t,null);if(t instanceof Pi)return this.transformLineString(t,null);if(t instanceof _h)return this.transformMultiLineString(t,null);if(t instanceof na)return this.transformPolygon(t,null);if(t instanceof fu)return this.transformMultiPolygon(t,null);if(t instanceof no)return this.transformGeometryCollection(t,null);throw new Ti("Unknown Geometry subtype: "+t.getClass().getName())};_o.prototype.transformLinearRing=function(t,n){var r=this.transformCoordinates(t.getCoordinateSequence(),t);if(r===null)return this._factory.createLinearRing(null);var i=r.size();return i>0&&i<4&&!this._preserveType?this._factory.createLineString(r):this._factory.createLinearRing(r)};_o.prototype.interfaces_=function(){return[]};_o.prototype.getClass=function(){return _o};var xu=function e(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Gn,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Pi&&typeof arguments[1]=="number"){var t=arguments[0],n=arguments[1];e.call(this,t.getCoordinates(),n)}else if(arguments[0]instanceof Array&&typeof arguments[1]=="number"){var r=arguments[0],i=arguments[1];this._srcPts=r,this._isClosed=e.isClosed(r),this._snapTolerance=i}};xu.prototype.snapVertices=function(t,n){for(var r=this,i=this._isClosed?t.size()-1:t.size(),a=0;a<i;a++){var s=t.get(a),o=r.findSnapForVertex(s,n);o!==null&&(t.set(a,new ze(o)),a===0&&r._isClosed&&t.set(t.size()-1,new ze(o)))}};xu.prototype.findSnapForVertex=function(t,n){for(var r=this,i=0;i<n.length;i++){if(t.equals2D(n[i]))return null;if(t.distance(n[i])<r._snapTolerance)return n[i]}return null};xu.prototype.snapTo=function(t){var n=new Hy(this._srcPts);this.snapVertices(n,t),this.snapSegments(n,t);var r=n.toCoordinateArray();return r};xu.prototype.snapSegments=function(t,n){var r=this;if(n.length===0)return null;var i=n.length;n[0].equals2D(n[n.length-1])&&(i=n.length-1);for(var a=0;a<i;a++){var s=n[a],o=r.findSegmentIndexToSnap(s,t);o>=0&&t.add(o+1,new ze(s),!1)}};xu.prototype.findSegmentIndexToSnap=function(t,n){for(var r=this,i=nr.MAX_VALUE,a=-1,s=0;s<n.size()-1;s++){if(r._seg.p0=n.get(s),r._seg.p1=n.get(s+1),r._seg.p0.equals2D(t)||r._seg.p1.equals2D(t)){if(r._allowSnappingToSourceVertices)continue;return-1}var o=r._seg.distance(t);o<r._snapTolerance&&o<i&&(i=o,a=s)}return a};xu.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t};xu.prototype.interfaces_=function(){return[]};xu.prototype.getClass=function(){return xu};xu.isClosed=function(t){return t.length<=1?!1:t[0].equals2D(t[t.length-1])};var Bi=function(t){this._srcGeom=t||null},AD={SNAP_PRECISION_FACTOR:{configurable:!0}};Bi.prototype.snapTo=function(t,n){var r=this.extractTargetCoordinates(t),i=new ID(n,r);return i.transform(this._srcGeom)};Bi.prototype.snapToSelf=function(t,n){var r=this.extractTargetCoordinates(this._srcGeom),i=new ID(t,r,!0),a=i.transform(this._srcGeom),s=a;return n&&qn(s,tf)&&(s=a.buffer(0)),s};Bi.prototype.computeSnapTolerance=function(t){var n=this.computeMinimumSegmentLength(t),r=n/10;return r};Bi.prototype.extractTargetCoordinates=function(t){for(var n=new kl,r=t.getCoordinates(),i=0;i<r.length;i++)n.add(r[i]);return n.toArray(new Array(0).fill(null))};Bi.prototype.computeMinimumSegmentLength=function(t){for(var n=nr.MAX_VALUE,r=0;r<t.length-1;r++){var i=t[r].distance(t[r+1]);i<n&&(n=i)}return n};Bi.prototype.interfaces_=function(){return[]};Bi.prototype.getClass=function(){return Bi};Bi.snap=function(t,n,r){var i=new Array(2).fill(null),a=new Bi(t);i[0]=a.snapTo(n,r);var s=new Bi(n);return i[1]=s.snapTo(i[0],r),i};Bi.computeOverlaySnapTolerance=function(){if(arguments.length===1){var t=arguments[0],n=Bi.computeSizeBasedSnapTolerance(t),r=t.getPrecisionModel();if(r.getType()===Br.FIXED){var i=1/r.getScale()*2/1.415;i>n&&(n=i)}return n}else if(arguments.length===2){var a=arguments[0],s=arguments[1];return Math.min(Bi.computeOverlaySnapTolerance(a),Bi.computeOverlaySnapTolerance(s))}};Bi.computeSizeBasedSnapTolerance=function(t){var n=t.getEnvelopeInternal(),r=Math.min(n.getHeight(),n.getWidth()),i=r*Bi.SNAP_PRECISION_FACTOR;return i};Bi.snapToSelf=function(t,n,r){var i=new Bi(t);return i.snapToSelf(n,r)};AD.SNAP_PRECISION_FACTOR.get=function(){return 1e-9};Object.defineProperties(Bi,AD);var ID=function(e){function t(n,r,i){e.call(this),this._snapTolerance=n||null,this._snapPts=r||null,this._isSelfSnap=i!==void 0?i:!1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.snapLine=function(r,i){var a=new xu(r,this._snapTolerance);return a.setAllowSnappingToSourceVertices(this._isSelfSnap),a.snapTo(i)},t.prototype.transformCoordinates=function(r,i){var a=r.toCoordinateArray(),s=this.snapLine(a,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(s)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(_o),Ka=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Ka.prototype.getCommon=function(){return nr.longBitsToDouble(this._commonBits)};Ka.prototype.add=function(t){var n=nr.doubleToLongBits(t);if(this._isFirst)return this._commonBits=n,this._commonSignExp=Ka.signExpBits(this._commonBits),this._isFirst=!1,null;var r=Ka.signExpBits(n);if(r!==this._commonSignExp)return this._commonBits=0,null;this._commonMantissaBitsCount=Ka.numCommonMostSigMantissaBits(this._commonBits,n),this._commonBits=Ka.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))};Ka.prototype.toString=function(){if(arguments.length===1){var t=arguments[0],n=nr.longBitsToDouble(t),r=nr.toBinaryString(t),i="0000000000000000000000000000000000000000000000000000000000000000"+r,a=i.substring(i.length-64),s=a.substring(0,1)+"  "+a.substring(1,12)+"(exp) "+a.substring(12)+" [ "+n+" ]";return s}};Ka.prototype.interfaces_=function(){return[]};Ka.prototype.getClass=function(){return Ka};Ka.getBit=function(t,n){var r=1<<n;return t&r?1:0};Ka.signExpBits=function(t){return t>>52};Ka.zeroLowerBits=function(t,n){var r=(1<<n)-1,i=~r,a=t&i;return a};Ka.numCommonMostSigMantissaBits=function(t,n){for(var r=0,i=52;i>=0;i--){if(Ka.getBit(t,i)!==Ka.getBit(n,i))return r;r++}return 52};var lf=function(){this._commonCoord=null,this._ccFilter=new Kd},cC={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};lf.prototype.addCommonBits=function(t){var n=new uf(this._commonCoord);t.apply(n),t.geometryChanged()};lf.prototype.removeCommonBits=function(t){if(this._commonCoord.x===0&&this._commonCoord.y===0)return t;var n=new ze(this._commonCoord);n.x=-n.x,n.y=-n.y;var r=new uf(n);return t.apply(r),t.geometryChanged(),t};lf.prototype.getCommonCoordinate=function(){return this._commonCoord};lf.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()};lf.prototype.interfaces_=function(){return[]};lf.prototype.getClass=function(){return lf};cC.CommonCoordinateFilter.get=function(){return Kd};cC.Translater.get=function(){return uf};Object.defineProperties(lf,cC);var Kd=function(){this._commonBitsX=new Ka,this._commonBitsY=new Ka};Kd.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)};Kd.prototype.getCommonCoordinate=function(){return new ze(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())};Kd.prototype.interfaces_=function(){return[pu]};Kd.prototype.getClass=function(){return Kd};var uf=function(){this.trans=null;var t=arguments[0];this.trans=t};uf.prototype.filter=function(t,n){var r=t.getOrdinate(n,0)+this.trans.x,i=t.getOrdinate(n,1)+this.trans.y;t.setOrdinate(n,0,r),t.setOrdinate(n,1,i)};uf.prototype.isDone=function(){return!1};uf.prototype.isGeometryChanged=function(){return!0};uf.prototype.interfaces_=function(){return[nl]};uf.prototype.getClass=function(){return uf};var ba=function(t,n){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=n,this.computeSnapTolerance()};ba.prototype.selfSnap=function(t){var n=new Bi(t),r=n.snapTo(t,this._snapTolerance);return r};ba.prototype.removeCommonBits=function(t){this._cbr=new lf,this._cbr.add(t[0]),this._cbr.add(t[1]);var n=new Array(2).fill(null);return n[0]=this._cbr.removeCommonBits(t[0].copy()),n[1]=this._cbr.removeCommonBits(t[1].copy()),n};ba.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t};ba.prototype.getResultGeometry=function(t){var n=this.snap(this._geom),r=lr.overlayOp(n[0],n[1],t);return this.prepareResult(r)};ba.prototype.checkValid=function(t){t.isValid()||Oa.out.println("Snapped geometry is invalid")};ba.prototype.computeSnapTolerance=function(){this._snapTolerance=Bi.computeOverlaySnapTolerance(this._geom[0],this._geom[1])};ba.prototype.snap=function(t){var n=this.removeCommonBits(t),r=Bi.snap(n[0],n[1],this._snapTolerance);return r};ba.prototype.interfaces_=function(){return[]};ba.prototype.getClass=function(){return ba};ba.overlayOp=function(t,n,r){var i=new ba(t,n);return i.getResultGeometry(r)};ba.union=function(t,n){return ba.overlayOp(t,n,lr.UNION)};ba.intersection=function(t,n){return ba.overlayOp(t,n,lr.INTERSECTION)};ba.symDifference=function(t,n){return ba.overlayOp(t,n,lr.SYMDIFFERENCE)};ba.difference=function(t,n){return ba.overlayOp(t,n,lr.DIFFERENCE)};var ao=function(t,n){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=n};ao.prototype.getResultGeometry=function(t){var n=null,r=!1,i=null;try{n=lr.overlayOp(this._geom[0],this._geom[1],t);var a=!0;a&&(r=!0)}catch(s){if(s instanceof sc)i=s;else throw s}finally{}if(!r)try{n=ba.overlayOp(this._geom[0],this._geom[1],t)}catch(s){throw s instanceof sc?i:s}finally{}return n};ao.prototype.interfaces_=function(){return[]};ao.prototype.getClass=function(){return ao};ao.overlayOp=function(t,n,r){var i=new ao(t,n);return i.getResultGeometry(r)};ao.union=function(t,n){return ao.overlayOp(t,n,lr.UNION)};ao.intersection=function(t,n){return ao.overlayOp(t,n,lr.INTERSECTION)};ao.symDifference=function(t,n){return ao.overlayOp(t,n,lr.SYMDIFFERENCE)};ao.difference=function(t,n){return ao.overlayOp(t,n,lr.DIFFERENCE)};var ly=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],n=arguments[1];this.mce=t,this.chainIndex=n};ly.prototype.computeIntersections=function(t,n){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,n)};ly.prototype.interfaces_=function(){return[]};ly.prototype.getClass=function(){return ly};var No=function e(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,arguments.length===2){var t=arguments[0],n=arguments[1];this._eventType=e.DELETE,this._xValue=t,this._insertEvent=n}else if(arguments.length===3){var r=arguments[0],i=arguments[1],a=arguments[2];this._eventType=e.INSERT,this._label=r,this._xValue=i,this._obj=a}},fC={INSERT:{configurable:!0},DELETE:{configurable:!0}};No.prototype.isDelete=function(){return this._eventType===No.DELETE};No.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t};No.prototype.getObject=function(){return this._obj};No.prototype.compareTo=function(t){var n=t;return this._xValue<n._xValue?-1:this._xValue>n._xValue?1:this._eventType<n._eventType?-1:this._eventType>n._eventType?1:0};No.prototype.getInsertEvent=function(){return this._insertEvent};No.prototype.isInsert=function(){return this._eventType===No.INSERT};No.prototype.isSameLabel=function(t){return this._label===null?!1:this._label===t._label};No.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex};No.prototype.interfaces_=function(){return[Ls]};No.prototype.getClass=function(){return No};fC.INSERT.get=function(){return 1};fC.DELETE.get=function(){return 2};Object.defineProperties(No,fC);var ub=function(){};ub.prototype.interfaces_=function(){return[]};ub.prototype.getClass=function(){return ub};var Ra=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],n=arguments[1],r=arguments[2];this._li=t,this._includeProper=n,this._recordIsolated=r};Ra.prototype.isTrivialIntersection=function(t,n,r,i){if(t===r&&this._li.getIntersectionNum()===1){if(Ra.isAdjacentSegments(n,i))return!0;if(t.isClosed()){var a=t.getNumPoints()-1;if(n===0&&i===a||i===0&&n===a)return!0}}return!1};Ra.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint};Ra.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t};Ra.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior};Ra.prototype.isBoundaryPointInternal=function(t,n){for(var r=n.iterator();r.hasNext();){var i=r.next(),a=i.getCoordinate();if(t.isIntersection(a))return!0}return!1};Ra.prototype.hasProperIntersection=function(){return this._hasProper};Ra.prototype.hasIntersection=function(){return this._hasIntersection};Ra.prototype.isDone=function(){return this._isDone};Ra.prototype.isBoundaryPoint=function(t,n){return n===null?!1:!!(this.isBoundaryPointInternal(t,n[0])||this.isBoundaryPointInternal(t,n[1]))};Ra.prototype.setBoundaryNodes=function(t,n){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=n};Ra.prototype.addIntersections=function(t,n,r,i){if(t===r&&n===i)return null;this.numTests++;var a=t.getCoordinates()[n],s=t.getCoordinates()[n+1],o=r.getCoordinates()[i],l=r.getCoordinates()[i+1];this._li.computeIntersection(a,s,o,l),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),r.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,n,r,i)||(this._hasIntersection=!0,(this._includeProper||!this._li.isProper())&&(t.addIntersections(this._li,n,0),r.addIntersections(this._li,i,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))};Ra.prototype.interfaces_=function(){return[]};Ra.prototype.getClass=function(){return Ra};Ra.isAdjacentSegments=function(t,n){return Math.abs(t-n)===1};var zdt=function(e){function t(){e.call(this),this.events=new yn,this.nOverlaps=null}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.prepareEvents=function(){var r=this;il.sort(this.events);for(var i=0;i<this.events.size();i++){var a=r.events.get(i);a.isDelete()&&a.getInsertEvent().setDeleteEventIndex(i)}},t.prototype.computeIntersections=function(){var r=this;if(arguments.length===1){var i=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var a=0;a<this.events.size();a++){var s=r.events.get(a);if(s.isInsert()&&r.processOverlaps(a,s.getDeleteEventIndex(),s,i),i.isDone())break}}else if(arguments.length===3){if(arguments[2]instanceof Ra&&qn(arguments[0],Ks)&&qn(arguments[1],Ks)){var o=arguments[0],l=arguments[1],c=arguments[2];this.addEdges(o,o),this.addEdges(l,l),this.computeIntersections(c)}else if(typeof arguments[2]=="boolean"&&qn(arguments[0],Ks)&&arguments[1]instanceof Ra){var u=arguments[0],f=arguments[1],h=arguments[2];h?this.addEdges(u,null):this.addEdges(u),this.computeIntersections(f)}}},t.prototype.addEdge=function(r,i){for(var a=this,s=r.getMonotoneChainEdge(),o=s.getStartIndexes(),l=0;l<o.length-1;l++){var c=new ly(s,l),u=new No(i,s.getMinX(l),c);a.events.add(u),a.events.add(new No(s.getMaxX(l),u))}},t.prototype.processOverlaps=function(r,i,a,s){for(var o=this,l=a.getObject(),c=r;c<i;c++){var u=o.events.get(c);if(u.isInsert()){var f=u.getObject();a.isSameLabel(u)||(l.computeIntersections(f,s),o.nOverlaps++)}}},t.prototype.addEdges=function(){var r=this;if(arguments.length===1)for(var i=arguments[0],a=i.iterator();a.hasNext();){var s=a.next();r.addEdge(s,s)}else if(arguments.length===2)for(var o=arguments[0],l=arguments[1],c=o.iterator();c.hasNext();){var u=c.next();r.addEdge(u,l)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(ub),bu=function(){this._min=nr.POSITIVE_INFINITY,this._max=nr.NEGATIVE_INFINITY},OD={NodeComparator:{configurable:!0}};bu.prototype.getMin=function(){return this._min};bu.prototype.intersects=function(t,n){return!(this._min>n||this._max<t)};bu.prototype.getMax=function(){return this._max};bu.prototype.toString=function(){return el.toLineString(new ze(this._min,0),new ze(this._max,0))};bu.prototype.interfaces_=function(){return[]};bu.prototype.getClass=function(){return bu};OD.NodeComparator.get=function(){return uy};Object.defineProperties(bu,OD);var uy=function(){};uy.prototype.compare=function(t,n){var r=t,i=n,a=(r._min+r._max)/2,s=(i._min+i._max)/2;return a<s?-1:a>s?1:0};uy.prototype.interfaces_=function(){return[t0]};uy.prototype.getClass=function(){return uy};var Bdt=function(e){function t(){e.call(this),this._item=null;var n=arguments[0],r=arguments[1],i=arguments[2];this._min=n,this._max=r,this._item=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.query=function(r,i,a){if(!this.intersects(r,i))return null;a.visitItem(this._item)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(bu),Gdt=function(e){function t(){e.call(this),this._node1=null,this._node2=null;var n=arguments[0],r=arguments[1];this._node1=n,this._node2=r,this.buildExtent(this._node1,this._node2)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.buildExtent=function(r,i){this._min=Math.min(r._min,i._min),this._max=Math.max(r._max,i._max)},t.prototype.query=function(r,i,a){if(!this.intersects(r,i))return null;this._node1!==null&&this._node1.query(r,i,a),this._node2!==null&&this._node2.query(r,i,a)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(bu),wu=function(){this._leaves=new yn,this._root=null,this._level=0};wu.prototype.buildTree=function(){var t=this;il.sort(this._leaves,new bu.NodeComparator);for(var n=this._leaves,r=null,i=new yn;;){if(t.buildLevel(n,i),i.size()===1)return i.get(0);r=n,n=i,i=r}};wu.prototype.insert=function(t,n,r){if(this._root!==null)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Bdt(t,n,r))};wu.prototype.query=function(t,n,r){this.init(),this._root.query(t,n,r)};wu.prototype.buildRoot=function(){if(this._root!==null)return null;this._root=this.buildTree()};wu.prototype.printNode=function(t){Oa.out.println(el.toLineString(new ze(t._min,this._level),new ze(t._max,this._level)))};wu.prototype.init=function(){if(this._root!==null)return null;this.buildRoot()};wu.prototype.buildLevel=function(t,n){this._level++,n.clear();for(var r=0;r<t.size();r+=2){var i=t.get(r),a=r+1<t.size()?t.get(r):null;if(a===null)n.add(i);else{var s=new Gdt(t.get(r),t.get(r+1));n.add(s)}}};wu.prototype.interfaces_=function(){return[]};wu.prototype.getClass=function(){return wu};var d0=function(){this._items=new yn};d0.prototype.visitItem=function(t){this._items.add(t)};d0.prototype.getItems=function(){return this._items};d0.prototype.interfaces_=function(){return[ef]};d0.prototype.getClass=function(){return d0};var p0=function(){this._index=null;var t=arguments[0];if(!qn(t,tf))throw new Ti("Argument must be Polygonal");this._index=new Sh(t)},hC={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};p0.prototype.locate=function(t){var n=new Il(t),r=new g0(n);return this._index.query(t.y,t.y,r),n.getLocation()};p0.prototype.interfaces_=function(){return[f0]};p0.prototype.getClass=function(){return p0};hC.SegmentVisitor.get=function(){return g0};hC.IntervalIndexedGeometry.get=function(){return Sh};Object.defineProperties(p0,hC);var g0=function(){this._counter=null;var t=arguments[0];this._counter=t};g0.prototype.visitItem=function(t){var n=t;this._counter.countSegment(n.getCoordinate(0),n.getCoordinate(1))};g0.prototype.interfaces_=function(){return[ef]};g0.prototype.getClass=function(){return g0};var Sh=function(){this._index=new wu;var t=arguments[0];this.init(t)};Sh.prototype.init=function(t){for(var n=this,r=Ea.getLines(t),i=r.iterator();i.hasNext();){var a=i.next(),s=a.getCoordinates();n.addLine(s)}};Sh.prototype.addLine=function(t){for(var n=this,r=1;r<t.length;r++){var i=new Gn(t[r-1],t[r]),a=Math.min(i.p0.y,i.p1.y),s=Math.max(i.p0.y,i.p1.y);n._index.insert(a,s,i)}};Sh.prototype.query=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1],r=new d0;return this._index.query(t,n,r),r.getItems()}else if(arguments.length===3){var i=arguments[0],a=arguments[1],s=arguments[2];this._index.query(i,a,s)}};Sh.prototype.interfaces_=function(){return[]};Sh.prototype.getClass=function(){return Sh};var bm=function(e){function t(){if(e.call(this),this._parentGeom=null,this._lineEdgeMap=new dD,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new ol,arguments.length===2){var n=arguments[0],r=arguments[1],i=Ms.OGC_SFS_BOUNDARY_RULE;this._argIndex=n,this._parentGeom=r,this._boundaryNodeRule=i,r!==null&&this.add(r)}else if(arguments.length===3){var a=arguments[0],s=arguments[1],o=arguments[2];this._argIndex=a,this._parentGeom=s,this._boundaryNodeRule=o,s!==null&&this.add(s)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.insertBoundaryPoint=function(r,i){var a=this._nodes.addNode(i),s=a.getLabel(),o=1,l=We.NONE;l=s.getLocation(r,pn.ON),l===We.BOUNDARY&&o++;var c=t.determineBoundary(this._boundaryNodeRule,o);s.setLocation(r,c)},t.prototype.computeSelfNodes=function(){if(arguments.length===2){var r=arguments[0],i=arguments[1];return this.computeSelfNodes(r,i,!1)}else if(arguments.length===3){var a=arguments[0],s=arguments[1],o=arguments[2],l=new Ra(a,!0,!1);l.setIsDoneIfProperInt(o);var c=this.createEdgeSetIntersector(),u=this._parentGeom instanceof gu||this._parentGeom instanceof na||this._parentGeom instanceof fu,f=s||!u;return c.computeIntersections(this._edges,l,f),this.addSelfIntersectionNodes(this._argIndex),l}},t.prototype.computeSplitEdges=function(r){for(var i=this._edges.iterator();i.hasNext();){var a=i.next();a.eiList.addSplitEdges(r)}},t.prototype.computeEdgeIntersections=function(r,i,a){var s=new Ra(i,a,!0);s.setBoundaryNodes(this.getBoundaryNodes(),r.getBoundaryNodes());var o=this.createEdgeSetIntersector();return o.computeIntersections(this._edges,r._edges,s),s},t.prototype.getGeometry=function(){return this._parentGeom},t.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},t.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},t.prototype.addPoint=function(){if(arguments[0]instanceof Oo){var r=arguments[0],i=r.getCoordinate();this.insertPoint(this._argIndex,i,We.INTERIOR)}else if(arguments[0]instanceof ze){var a=arguments[0];this.insertPoint(this._argIndex,a,We.INTERIOR)}},t.prototype.addPolygon=function(r){var i=this;this.addPolygonRing(r.getExteriorRing(),We.EXTERIOR,We.INTERIOR);for(var a=0;a<r.getNumInteriorRing();a++){var s=r.getInteriorRingN(a);i.addPolygonRing(s,We.INTERIOR,We.EXTERIOR)}},t.prototype.addEdge=function(r){this.insertEdge(r);var i=r.getCoordinates();this.insertPoint(this._argIndex,i[0],We.BOUNDARY),this.insertPoint(this._argIndex,i[i.length-1],We.BOUNDARY)},t.prototype.addLineString=function(r){var i=_r.removeRepeatedPoints(r.getCoordinates());if(i.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=i[0],null;var a=new lb(i,new Yr(this._argIndex,We.INTERIOR));this._lineEdgeMap.put(r,a),this.insertEdge(a),fr.isTrue(i.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,i[0]),this.insertBoundaryPoint(this._argIndex,i[i.length-1])},t.prototype.getInvalidPoint=function(){return this._invalidPoint},t.prototype.getBoundaryPoints=function(){for(var r=this.getBoundaryNodes(),i=new Array(r.size()).fill(null),a=0,s=r.iterator();s.hasNext();){var o=s.next();i[a++]=o.getCoordinate().copy()}return i},t.prototype.getBoundaryNodes=function(){return this._boundaryNodes===null&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},t.prototype.addSelfIntersectionNode=function(r,i,a){if(this.isBoundaryNode(r,i))return null;a===We.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(r,i):this.insertPoint(r,i,a)},t.prototype.addPolygonRing=function(r,i,a){if(r.isEmpty())return null;var s=_r.removeRepeatedPoints(r.getCoordinates());if(s.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=s[0],null;var o=i,l=a;Cn.isCCW(s)&&(o=a,l=i);var c=new lb(s,new Yr(this._argIndex,We.BOUNDARY,o,l));this._lineEdgeMap.put(r,c),this.insertEdge(c),this.insertPoint(this._argIndex,s[0],We.BOUNDARY)},t.prototype.insertPoint=function(r,i,a){var s=this._nodes.addNode(i),o=s.getLabel();o===null?s._label=new Yr(r,a):o.setLocation(r,a)},t.prototype.createEdgeSetIntersector=function(){return new zdt},t.prototype.addSelfIntersectionNodes=function(r){for(var i=this,a=this._edges.iterator();a.hasNext();)for(var s=a.next(),o=s.getLabel().getLocation(r),l=s.eiList.iterator();l.hasNext();){var c=l.next();i.addSelfIntersectionNode(r,c.coord,o)}},t.prototype.add=function(){if(arguments.length===1){var r=arguments[0];if(r.isEmpty())return null;if(r instanceof fu&&(this._useBoundaryDeterminationRule=!1),r instanceof na)this.addPolygon(r);else if(r instanceof Pi)this.addLineString(r);else if(r instanceof Oo)this.addPoint(r);else if(r instanceof s0)this.addCollection(r);else if(r instanceof _h)this.addCollection(r);else if(r instanceof fu)this.addCollection(r);else if(r instanceof no)this.addCollection(r);else throw new Error(r.getClass().getName())}else return e.prototype.add.apply(this,arguments)},t.prototype.addCollection=function(r){for(var i=this,a=0;a<r.getNumGeometries();a++){var s=r.getGeometryN(a);i.add(s)}},t.prototype.locate=function(r){return qn(this._parentGeom,tf)&&this._parentGeom.getNumGeometries()>50?(this._areaPtLocator===null&&(this._areaPtLocator=new p0(this._parentGeom)),this._areaPtLocator.locate(r)):this._ptLocator.locate(r,this._parentGeom)},t.prototype.findEdge=function(){if(arguments.length===1){var r=arguments[0];return this._lineEdgeMap.get(r)}else return e.prototype.findEdge.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.determineBoundary=function(r,i){return r.isInBoundary(i)?We.BOUNDARY:We.INTERIOR},t}(Si),m0=function(){if(this._li=new Ph,this._resultPrecisionModel=null,this._arg=null,arguments.length===1){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new bm(0,t)}else if(arguments.length===2){var n=arguments[0],r=arguments[1],i=Ms.OGC_SFS_BOUNDARY_RULE;n.getPrecisionModel().compareTo(r.getPrecisionModel())>=0?this.setComputationPrecision(n.getPrecisionModel()):this.setComputationPrecision(r.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new bm(0,n,i),this._arg[1]=new bm(1,r,i)}else if(arguments.length===3){var a=arguments[0],s=arguments[1],o=arguments[2];a.getPrecisionModel().compareTo(s.getPrecisionModel())>=0?this.setComputationPrecision(a.getPrecisionModel()):this.setComputationPrecision(s.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new bm(0,a,o),this._arg[1]=new bm(1,s,o)}};m0.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()};m0.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)};m0.prototype.interfaces_=function(){return[]};m0.prototype.getClass=function(){return m0};var ah=function(){};ah.prototype.interfaces_=function(){return[]};ah.prototype.getClass=function(){return ah};ah.map=function(){if(arguments[0]instanceof Wn&&qn(arguments[1],ah.MapOp)){for(var t=arguments[0],n=arguments[1],r=new yn,i=0;i<t.getNumGeometries();i++){var a=n.map(t.getGeometryN(i));a!==null&&r.add(a)}return t.getFactory().buildGeometry(r)}else if(qn(arguments[0],Ji)&&qn(arguments[1],ah.MapOp)){for(var s=arguments[0],o=arguments[1],l=new yn,c=s.iterator();c.hasNext();){var u=c.next(),f=o.map(u);f!==null&&l.add(f)}return l}};ah.MapOp=function(){};var lr=function(e){function t(){var n=arguments[0],r=arguments[1];e.call(this,n,r),this._ptLocator=new ol,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new al,this._resultPolyList=new yn,this._resultLineList=new yn,this._resultPointList=new yn,this._graph=new Si(new bD),this._geomFact=n.getFactory()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.insertUniqueEdge=function(r){var i=this._edgeList.findEqualEdge(r);if(i!==null){var a=i.getLabel(),s=r.getLabel();i.isPointwiseEqual(r)||(s=new Yr(r.getLabel()),s.flip());var o=i.getDepth();o.isNull()&&o.add(a),o.add(s),a.merge(s)}else this._edgeList.add(r)},t.prototype.getGraph=function(){return this._graph},t.prototype.cancelDuplicateResultEdges=function(){for(var r=this._graph.getEdgeEnds().iterator();r.hasNext();){var i=r.next(),a=i.getSym();i.isInResult()&&a.isInResult()&&(i.setInResult(!1),a.setInResult(!1))}},t.prototype.isCoveredByLA=function(r){return!!(this.isCovered(r,this._resultLineList)||this.isCovered(r,this._resultPolyList))},t.prototype.computeGeometry=function(r,i,a,s){var o=new yn;return o.addAll(r),o.addAll(i),o.addAll(a),o.isEmpty()?t.createEmptyResult(s,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},t.prototype.mergeSymLabels=function(){for(var r=this._graph.getNodes().iterator();r.hasNext();){var i=r.next();i.getEdges().mergeSymLabels()}},t.prototype.isCovered=function(r,i){for(var a=this,s=i.iterator();s.hasNext();){var o=s.next(),l=a._ptLocator.locate(r,o);if(l!==We.EXTERIOR)return!0}return!1},t.prototype.replaceCollapsedEdges=function(){for(var r=new yn,i=this._edgeList.iterator();i.hasNext();){var a=i.next();a.isCollapsed()&&(i.remove(),r.add(a.getCollapsedEdge()))}this._edgeList.addAll(r)},t.prototype.updateNodeLabelling=function(){for(var r=this._graph.getNodes().iterator();r.hasNext();){var i=r.next(),a=i.getEdges().getLabel();i.getLabel().merge(a)}},t.prototype.getResultGeometry=function(r){return this.computeOverlay(r),this._resultGeom},t.prototype.insertUniqueEdges=function(r){for(var i=this,a=r.iterator();a.hasNext();){var s=a.next();i.insertUniqueEdge(s)}},t.prototype.computeOverlay=function(r){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var i=new yn;this._arg[0].computeSplitEdges(i),this._arg[1].computeSplitEdges(i),this.insertUniqueEdges(i),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Mh.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(r),this.cancelDuplicateResultEdges();var a=new Lo(this._geomFact);a.add(this._graph),this._resultPolyList=a.getPolygons();var s=new Hl(this,this._geomFact,this._ptLocator);this._resultLineList=s.build(r);var o=new Xd(this,this._geomFact,this._ptLocator);this._resultPointList=o.build(r),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,r)},t.prototype.labelIncompleteNode=function(r,i){var a=this._ptLocator.locate(r.getCoordinate(),this._arg[i].getGeometry());r.getLabel().setLocation(i,a)},t.prototype.copyPoints=function(r){for(var i=this,a=this._arg[r].getNodeIterator();a.hasNext();){var s=a.next(),o=i._graph.addNode(s.getCoordinate());o.setLabel(r,s.getLabel().getLocation(r))}},t.prototype.findResultAreaEdges=function(r){for(var i=this._graph.getEdgeEnds().iterator();i.hasNext();){var a=i.next(),s=a.getLabel();s.isArea()&&!a.isInteriorAreaEdge()&&t.isResultOfOp(s.getLocation(0,pn.RIGHT),s.getLocation(1,pn.RIGHT),r)&&a.setInResult(!0)}},t.prototype.computeLabelsFromDepths=function(){for(var r=this._edgeList.iterator();r.hasNext();){var i=r.next(),a=i.getLabel(),s=i.getDepth();if(!s.isNull()){s.normalize();for(var o=0;o<2;o++)!a.isNull(o)&&a.isArea()&&!s.isNull(o)&&(s.getDelta(o)===0?a.toLine(o):(fr.isTrue(!s.isNull(o,pn.LEFT),"depth of LEFT side has not been initialized"),a.setLocation(o,pn.LEFT,s.getLocation(o,pn.LEFT)),fr.isTrue(!s.isNull(o,pn.RIGHT),"depth of RIGHT side has not been initialized"),a.setLocation(o,pn.RIGHT,s.getLocation(o,pn.RIGHT))))}}},t.prototype.computeLabelling=function(){for(var r=this,i=this._graph.getNodes().iterator();i.hasNext();){var a=i.next();a.getEdges().computeLabelling(r._arg)}this.mergeSymLabels(),this.updateNodeLabelling()},t.prototype.labelIncompleteNodes=function(){for(var r=this,i=this._graph.getNodes().iterator();i.hasNext();){var a=i.next(),s=a.getLabel();a.isIsolated()&&(s.isNull(0)?r.labelIncompleteNode(a,0):r.labelIncompleteNode(a,1)),a.getEdges().updateLabelling(s)}},t.prototype.isCoveredByA=function(r){return!!this.isCovered(r,this._resultPolyList)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(m0);lr.overlayOp=function(e,t,n){var r=new lr(e,t),i=r.getResultGeometry(n);return i};lr.intersection=function(e,t){if(e.isEmpty()||t.isEmpty())return lr.createEmptyResult(lr.INTERSECTION,e,t,e.getFactory());if(e.isGeometryCollection()){var n=t;return qd.map(e,{interfaces_:function(){return[ah.MapOp]},map:function(r){return r.intersection(n)}})}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),ao.overlayOp(e,t,lr.INTERSECTION)};lr.symDifference=function(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return lr.createEmptyResult(lr.SYMDIFFERENCE,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),ao.overlayOp(e,t,lr.SYMDIFFERENCE)};lr.resultDimension=function(e,t,n){var r=t.getDimension(),i=n.getDimension(),a=-1;switch(e){case lr.INTERSECTION:a=Math.min(r,i);break;case lr.UNION:a=Math.max(r,i);break;case lr.DIFFERENCE:a=r;break;case lr.SYMDIFFERENCE:a=Math.max(r,i);break}return a};lr.createEmptyResult=function(e,t,n,r){var i=null;switch(lr.resultDimension(e,t,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon();break}return i};lr.difference=function(e,t){return e.isEmpty()?lr.createEmptyResult(lr.DIFFERENCE,e,t,e.getFactory()):t.isEmpty()?e.copy():(e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),ao.overlayOp(e,t,lr.DIFFERENCE))};lr.isResultOfOp=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1],n=e.getLocation(0),r=e.getLocation(1);return lr.isResultOfOp(n,r,t)}else if(arguments.length===3){var i=arguments[0],a=arguments[1],s=arguments[2];switch(i===We.BOUNDARY&&(i=We.INTERIOR),a===We.BOUNDARY&&(a=We.INTERIOR),s){case lr.INTERSECTION:return i===We.INTERIOR&&a===We.INTERIOR;case lr.UNION:return i===We.INTERIOR||a===We.INTERIOR;case lr.DIFFERENCE:return i===We.INTERIOR&&a!==We.INTERIOR;case lr.SYMDIFFERENCE:return i===We.INTERIOR&&a!==We.INTERIOR||i!==We.INTERIOR&&a===We.INTERIOR}return!1}};lr.INTERSECTION=1;lr.UNION=2;lr.DIFFERENCE=3;lr.SYMDIFFERENCE=4;var Kc=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new ol,this._seg=new Gn;var t=arguments[0],n=arguments[1];this._g=t,this._boundaryDistanceTolerance=n,this._linework=this.extractLinework(t)};Kc.prototype.isWithinToleranceOfBoundary=function(t){for(var n=this,r=0;r<this._linework.getNumGeometries();r++)for(var i=n._linework.getGeometryN(r),a=i.getCoordinateSequence(),s=0;s<a.size()-1;s++){a.getCoordinate(s,n._seg.p0),a.getCoordinate(s+1,n._seg.p1);var o=n._seg.distance(t);if(o<=n._boundaryDistanceTolerance)return!0}return!1};Kc.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?We.BOUNDARY:this._ptLocator.locate(t,this._g)};Kc.prototype.extractLinework=function(t){var n=new v0;t.apply(n);var r=n.getLinework(),i=yr.toLineStringArray(r);return t.getFactory().createMultiLineString(i)};Kc.prototype.interfaces_=function(){return[]};Kc.prototype.getClass=function(){return Kc};var v0=function(){this._linework=null,this._linework=new yn};v0.prototype.getLinework=function(){return this._linework};v0.prototype.filter=function(t){var n=this;if(t instanceof na){var r=t;this._linework.add(r.getExteriorRing());for(var i=0;i<r.getNumInteriorRing();i++)n._linework.add(r.getInteriorRingN(i))}};v0.prototype.interfaces_=function(){return[Fl]};v0.prototype.getClass=function(){return v0};var Ch=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};Ch.prototype.extractPoints=function(t,n,r){for(var i=this,a=t.getCoordinates(),s=0;s<a.length-1;s++)i.computeOffsetPoints(a[s],a[s+1],n,r)};Ch.prototype.setSidesToGenerate=function(t,n){this._doLeft=t,this._doRight=n};Ch.prototype.getPoints=function(t){for(var n=this,r=new yn,i=Ea.getLines(this._g),a=i.iterator();a.hasNext();){var s=a.next();n.extractPoints(s,t,r)}return r};Ch.prototype.computeOffsetPoints=function(t,n,r,i){var a=n.x-t.x,s=n.y-t.y,o=Math.sqrt(a*a+s*s),l=r*a/o,c=r*s/o,u=(n.x+t.x)/2,f=(n.y+t.y)/2;if(this._doLeft){var h=new ze(u-c,f+l);i.add(h)}if(this._doRight){var d=new ze(u+c,f-l);i.add(d)}};Ch.prototype.interfaces_=function(){return[]};Ch.prototype.getClass=function(){return Ch};var ns=function e(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=e.TOLERANCE,this._testCoords=new yn;var t=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=e.computeBoundaryDistanceTolerance(t,n),this._geom=[t,n,r],this._locFinder=[new Kc(this._geom[0],this._boundaryDistanceTolerance),new Kc(this._geom[1],this._boundaryDistanceTolerance),new Kc(this._geom[2],this._boundaryDistanceTolerance)]},LD={TOLERANCE:{configurable:!0}};ns.prototype.reportResult=function(t,n,r){Oa.out.println("Overlay result invalid - A:"+We.toLocationSymbol(n[0])+" B:"+We.toLocationSymbol(n[1])+" expected:"+(r?"i":"e")+" actual:"+We.toLocationSymbol(n[2]))};ns.prototype.isValid=function(t){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var n=this.checkValid(t);return n};ns.prototype.checkValid=function(){var t=this;if(arguments.length===1){for(var n=arguments[0],r=0;r<this._testCoords.size();r++){var i=t._testCoords.get(r);if(!t.checkValid(n,i))return t._invalidLocation=i,!1}return!0}else if(arguments.length===2){var a=arguments[0],s=arguments[1];return this._location[0]=this._locFinder[0].getLocation(s),this._location[1]=this._locFinder[1].getLocation(s),this._location[2]=this._locFinder[2].getLocation(s),ns.hasLocation(this._location,We.BOUNDARY)?!0:this.isValidResult(a,this._location)}};ns.prototype.addTestPts=function(t){var n=new Ch(t);this._testCoords.addAll(n.getPoints(5*this._boundaryDistanceTolerance))};ns.prototype.isValidResult=function(t,n){var r=lr.isResultOfOp(n[0],n[1],t),i=n[2]===We.INTERIOR,a=!(r^i);return a||this.reportResult(t,n,r),a};ns.prototype.getInvalidLocation=function(){return this._invalidLocation};ns.prototype.interfaces_=function(){return[]};ns.prototype.getClass=function(){return ns};ns.hasLocation=function(t,n){for(var r=0;r<3;r++)if(t[r]===n)return!0;return!1};ns.computeBoundaryDistanceTolerance=function(t,n){return Math.min(Bi.computeSizeBasedSnapTolerance(t),Bi.computeSizeBasedSnapTolerance(n))};ns.isValid=function(t,n,r,i){var a=new ns(t,n,i);return a.isValid(r)};LD.TOLERANCE.get=function(){return 1e-6};Object.defineProperties(ns,LD);var Yo=function e(t){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=e.extractFactory(t),this._inputGeoms=t};Yo.prototype.extractElements=function(t,n){var r=this;if(t===null)return null;for(var i=0;i<t.getNumGeometries();i++){var a=t.getGeometryN(i);r._skipEmpty&&a.isEmpty()||n.add(a)}};Yo.prototype.combine=function(){for(var t=this,n=new yn,r=this._inputGeoms.iterator();r.hasNext();){var i=r.next();t.extractElements(i,n)}return n.size()===0?this._geomFactory!==null?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(n)};Yo.prototype.interfaces_=function(){return[]};Yo.prototype.getClass=function(){return Yo};Yo.combine=function(){if(arguments.length===1){var t=arguments[0],n=new Yo(t);return n.combine()}else if(arguments.length===2){var r=arguments[0],i=arguments[1],a=new Yo(Yo.createList(r,i));return a.combine()}else if(arguments.length===3){var s=arguments[0],o=arguments[1],l=arguments[2],c=new Yo(Yo.createList(s,o,l));return c.combine()}};Yo.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()};Yo.createList=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1],r=new yn;return r.add(t),r.add(n),r}else if(arguments.length===3){var i=arguments[0],a=arguments[1],s=arguments[2],o=new yn;return o.add(i),o.add(a),o.add(s),o}};var $i=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,this._inputPolys===null&&(this._inputPolys=new yn)},PD={STRTREE_NODE_CAPACITY:{configurable:!0}};$i.prototype.reduceToGeometries=function(t){for(var n=this,r=new yn,i=t.iterator();i.hasNext();){var a=i.next(),s=null;qn(a,Ks)?s=n.unionTree(a):a instanceof Wn&&(s=a),r.add(s)}return r};$i.prototype.extractByEnvelope=function(t,n,r){for(var i=new yn,a=0;a<n.getNumGeometries();a++){var s=n.getGeometryN(a);s.getEnvelopeInternal().intersects(t)?i.add(s):r.add(s)}return this._geomFactory.buildGeometry(i)};$i.prototype.unionOptimized=function(t,n){var r=t.getEnvelopeInternal(),i=n.getEnvelopeInternal();if(!r.intersects(i)){var a=Yo.combine(t,n);return a}if(t.getNumGeometries()<=1&&n.getNumGeometries()<=1)return this.unionActual(t,n);var s=r.intersection(i);return this.unionUsingEnvelopeIntersection(t,n,s)};$i.prototype.union=function(){if(this._inputPolys===null)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new vD($i.STRTREE_NODE_CAPACITY),n=this._inputPolys.iterator();n.hasNext();){var r=n.next();t.insert(r.getEnvelopeInternal(),r)}this._inputPolys=null;var i=t.itemsTree(),a=this.unionTree(i);return a};$i.prototype.binaryUnion=function(){if(arguments.length===1){var t=arguments[0];return this.binaryUnion(t,0,t.size())}else if(arguments.length===3){var n=arguments[0],r=arguments[1],i=arguments[2];if(i-r<=1){var a=$i.getGeometry(n,r);return this.unionSafe(a,null)}else{if(i-r===2)return this.unionSafe($i.getGeometry(n,r),$i.getGeometry(n,r+1));var s=Math.trunc((i+r)/2),o=this.binaryUnion(n,r,s),l=this.binaryUnion(n,s,i);return this.unionSafe(o,l)}}};$i.prototype.repeatedUnion=function(t){for(var n=null,r=t.iterator();r.hasNext();){var i=r.next();n===null?n=i.copy():n=n.union(i)}return n};$i.prototype.unionSafe=function(t,n){return t===null&&n===null?null:t===null?n.copy():n===null?t.copy():this.unionOptimized(t,n)};$i.prototype.unionActual=function(t,n){return $i.restrictToPolygons(t.union(n))};$i.prototype.unionTree=function(t){var n=this.reduceToGeometries(t),r=this.binaryUnion(n);return r};$i.prototype.unionUsingEnvelopeIntersection=function(t,n,r){var i=new yn,a=this.extractByEnvelope(r,t,i),s=this.extractByEnvelope(r,n,i),o=this.unionActual(a,s);i.add(o);var l=Yo.combine(i);return l};$i.prototype.bufferUnion=function(){if(arguments.length===1){var t=arguments[0],n=t.get(0).getFactory(),r=n.buildGeometry(t),i=r.buffer(0);return i}else if(arguments.length===2){var a=arguments[0],s=arguments[1],o=a.getFactory(),l=o.createGeometryCollection([a,s]),c=l.buffer(0);return c}};$i.prototype.interfaces_=function(){return[]};$i.prototype.getClass=function(){return $i};$i.restrictToPolygons=function(t){if(qn(t,tf))return t;var n=nc.getPolygons(t);return n.size()===1?n.get(0):t.getFactory().createMultiPolygon(yr.toPolygonArray(n))};$i.getGeometry=function(t,n){return n>=t.size()?null:t.get(n)};$i.union=function(t){var n=new $i(t);return n.union()};PD.STRTREE_NODE_CAPACITY.get=function(){return 4};Object.defineProperties($i,PD);var cb=function(){};cb.prototype.interfaces_=function(){return[]};cb.prototype.getClass=function(){return cb};cb.union=function(t,n){if(t.isEmpty()||n.isEmpty()){if(t.isEmpty()&&n.isEmpty())return lr.createEmptyResult(lr.UNION,t,n,t.getFactory());if(t.isEmpty())return n.copy();if(n.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(n),ao.overlayOp(t,n,lr.UNION)};function Nh(){return new fb}function fb(){this.reset()}fb.prototype={constructor:fb,reset:function(){this.s=this.t=0},add:function(e){tP(F1,e,this.t),tP(this,F1.s,this.s),this.s?this.t+=F1.t:this.s=F1.t},valueOf:function(){return this.s}};var F1=new fb;function tP(e,t,n){var r=e.s=t+n,i=r-t,a=r-i;e.t=t-a+(n-i)}var Li=1e-6,ei=Math.PI,qu=ei/2,eP=ei/4,hc=ei*2,Vf=180/ei,bl=ei/180,to=Math.abs,jdt=Math.atan,y0=Math.atan2,Qi=Math.cos,ta=Math.sin,z0=Math.sqrt;function ND(e){return e>1?0:e<-1?ei:Math.acos(e)}function Zd(e){return e>1?qu:e<-1?-qu:Math.asin(e)}function Lm(){}function hb(e,t){e&&rP.hasOwnProperty(e.type)&&rP[e.type](e,t)}var nP={Feature:function(e,t){hb(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)hb(n[r].geometry,t)}},rP={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){TE(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)TE(n[r],t,0)},Polygon:function(e,t){iP(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)iP(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)hb(n[r],t)}};function TE(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function iP(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)TE(e[n],t,1);t.polygonEnd()}function Udt(e,t){e&&nP.hasOwnProperty(e.type)?nP[e.type](e,t):hb(e,t)}Nh();Nh();function EE(e){return[y0(e[1],e[0]),Zd(e[2])]}function _0(e){var t=e[0],n=e[1],r=Qi(n);return[r*Qi(t),r*ta(t),ta(n)]}function z1(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function db(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function B3(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function B1(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function ME(e){var t=z0(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}Nh();function RD(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function SE(e,t){return[e>ei?e-hc:e<-ei?e+hc:e,t]}SE.invert=SE;function Vdt(e,t,n){return(e%=hc)?t||n?RD(oP(e),sP(t,n)):oP(e):t||n?sP(t,n):SE}function aP(e){return function(t,n){return t+=e,[t>ei?t-hc:t<-ei?t+hc:t,n]}}function oP(e){var t=aP(e);return t.invert=aP(-e),t}function sP(e,t){var n=Qi(e),r=ta(e),i=Qi(t),a=ta(t);function s(o,l){var c=Qi(l),u=Qi(o)*c,f=ta(o)*c,h=ta(l),d=h*n+u*r;return[y0(f*i-d*a,u*n-h*r),Zd(d*i+f*a)]}return s.invert=function(o,l){var c=Qi(l),u=Qi(o)*c,f=ta(o)*c,h=ta(l),d=h*i-f*a;return[y0(f*i+h*a,u*n+d*r),Zd(d*n-u*r)]},s}function Hdt(e,t,n,r,i,a){if(n){var s=Qi(t),o=ta(t),l=r*n;i==null?(i=t+r*hc,a=t-l/2):(i=lP(s,i),a=lP(s,a),(r>0?i<a:i>a)&&(i+=r*hc));for(var c,u=i;r>0?u>a:u<a;u-=l)c=EE([s,-o*Qi(u),-o*ta(u)]),e.point(c[0],c[1])}}function lP(e,t){t=_0(t),t[0]-=e,ME(t);var n=ND(-t[1]);return((-t[2]<0?-n:n)+hc-Li)%hc}function DD(){var e=[],t;return{point:function(n,r){t.push([n,r])},lineStart:function(){e.push(t=[])},lineEnd:Lm,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Ydt(e,t,n,r,i,a){var s=e[0],o=e[1],l=t[0],c=t[1],u=0,f=1,h=l-s,d=c-o,p;if(p=n-s,!(!h&&p>0)){if(p/=h,h<0){if(p<u)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>u&&(u=p)}if(p=i-s,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>u&&(u=p)}else if(h>0){if(p<u)return;p<f&&(f=p)}if(p=r-o,!(!d&&p>0)){if(p/=d,d<0){if(p<u)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>u&&(u=p)}if(p=a-o,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>u&&(u=p)}else if(d>0){if(p<u)return;p<f&&(f=p)}return u>0&&(e[0]=s+u*h,e[1]=o+u*d),f<1&&(t[0]=s+f*h,t[1]=o+f*d),!0}}}}}function sx(e,t){return to(e[0]-t[0])<Li&&to(e[1]-t[1])<Li}function G1(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function kD(e,t,n,r,i){var a=[],s=[],o,l;if(e.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],v=p[g],y;if(sx(m,v)){for(i.lineStart(),o=0;o<g;++o)i.point((m=p[o])[0],m[1]);i.lineEnd();return}a.push(y=new G1(m,p,null,!0)),s.push(y.o=new G1(m,null,y,!1)),a.push(y=new G1(v,p,null,!1)),s.push(y.o=new G1(v,null,y,!0))}}),!!a.length){for(s.sort(t),uP(a),uP(s),o=0,l=s.length;o<l;++o)s[o].e=n=!n;for(var c=a[0],u,f;;){for(var h=c,d=!0;h.v;)if((h=h.n)===c)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,l=u.length;o<l;++o)i.point((f=u[o])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(u=h.p.z,o=u.length-1;o>=0;--o)i.point((f=u[o])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,d=!d}while(!h.v);i.lineEnd()}}}function uP(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function FD(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Wdt(e){return e.length===1&&(e=$dt(e)),{left:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}}function $dt(e){return function(t,n){return FD(e(t),n)}}Wdt(FD);function zD(e){for(var t=e.length,n,r=-1,i=0,a,s;++r<t;)i+=e[r].length;for(a=new Array(i);--t>=0;)for(s=e[t],n=s.length;--n>=0;)a[--i]=s[n];return a}var Pm=1e9,j1=-Pm;function qdt(e,t,n,r){function i(c,u){return e<=c&&c<=n&&t<=u&&u<=r}function a(c,u,f,h){var d=0,p=0;if(c==null||(d=s(c,f))!==(p=s(u,f))||l(c,u)<0^f>0)do h.point(d===0||d===3?e:n,d>1?r:t);while((d=(d+f+4)%4)!==p);else h.point(u[0],u[1])}function s(c,u){return to(c[0]-e)<Li?u>0?0:3:to(c[0]-n)<Li?u>0?2:1:to(c[1]-t)<Li?u>0?1:0:u>0?3:2}function o(c,u){return l(c.x,u.x)}function l(c,u){var f=s(c,1),h=s(u,1);return f!==h?f-h:f===0?u[1]-c[1]:f===1?c[0]-u[0]:f===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,f=DD(),h,d,p,g,m,v,y,_,b,w,T,M={point:S,lineStart:N,lineEnd:F,polygonStart:A,polygonEnd:O};function S(R,k){i(R,k)&&u.point(R,k)}function E(){for(var R=0,k=0,I=d.length;k<I;++k)for(var j=d[k],G=1,q=j.length,et=j[0],U,J,nt=et[0],ct=et[1];G<q;++G)U=nt,J=ct,et=j[G],nt=et[0],ct=et[1],J<=r?ct>r&&(nt-U)*(r-J)>(ct-J)*(e-U)&&++R:ct<=r&&(nt-U)*(r-J)<(ct-J)*(e-U)&&--R;return R}function A(){u=f,h=[],d=[],T=!0}function O(){var R=E(),k=T&&R,I=(h=zD(h)).length;(k||I)&&(c.polygonStart(),k&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),I&&kD(h,o,R,a,c),c.polygonEnd()),u=c,h=d=p=null}function N(){M.point=P,d&&d.push(p=[]),w=!0,b=!1,y=_=NaN}function F(){h&&(P(g,m),v&&b&&f.rejoin(),h.push(f.result())),M.point=S,b&&u.lineEnd()}function P(R,k){var I=i(R,k);if(d&&p.push([R,k]),w)g=R,m=k,v=I,w=!1,I&&(u.lineStart(),u.point(R,k));else if(I&&b)u.point(R,k);else{var j=[y=Math.max(j1,Math.min(Pm,y)),_=Math.max(j1,Math.min(Pm,_))],G=[R=Math.max(j1,Math.min(Pm,R)),k=Math.max(j1,Math.min(Pm,k))];Ydt(j,G,e,t,n,r)?(b||(u.lineStart(),u.point(j[0],j[1])),u.point(G[0],G[1]),I||u.lineEnd(),T=!1):I&&(u.lineStart(),u.point(R,k),T=!1)}y=R,_=k,b=I}return M}}var G3=Nh();function Xdt(e,t){var n=t[0],r=t[1],i=[ta(n),-Qi(n),0],a=0,s=0;G3.reset();for(var o=0,l=e.length;o<l;++o)if(u=(c=e[o]).length)for(var c,u,f=c[u-1],h=f[0],d=f[1]/2+eP,p=ta(d),g=Qi(d),m=0;m<u;++m,h=y,p=b,g=w,f=v){var v=c[m],y=v[0],_=v[1]/2+eP,b=ta(_),w=Qi(_),T=y-h,M=T>=0?1:-1,S=M*T,E=S>ei,A=p*b;if(G3.add(y0(A*M*ta(S),g*w+A*Qi(S))),a+=E?T+M*hc:T,E^h>=n^y>=n){var O=db(_0(f),_0(v));ME(O);var N=db(i,O);ME(N);var F=(E^T>=0?-1:1)*Zd(N[2]);(r>F||r===F&&(O[0]||O[1]))&&(s+=E^T>=0?1:-1)}}return(a<-Li||a<Li&&G3<-Li)^s&1}Nh();function cP(e){return e}Nh();Nh();var x0=1/0,pb=x0,cy=-x0,gb=cy,fP={point:Kdt,lineStart:Lm,lineEnd:Lm,polygonStart:Lm,polygonEnd:Lm,result:function(){var e=[[x0,pb],[cy,gb]];return cy=gb=-(pb=x0=1/0),e}};function Kdt(e,t){e<x0&&(x0=e),e>cy&&(cy=e),t<pb&&(pb=t),t>gb&&(gb=t)}Nh();function BD(e,t,n,r){return function(i,a){var s=t(a),o=i.invert(r[0],r[1]),l=DD(),c=t(l),u=!1,f,h,d,p={point:g,lineStart:v,lineEnd:y,polygonStart:function(){p.point=_,p.lineStart=b,p.lineEnd=w,h=[],f=[]},polygonEnd:function(){p.point=g,p.lineStart=v,p.lineEnd=y,h=zD(h);var T=Xdt(f,o);h.length?(u||(a.polygonStart(),u=!0),kD(h,Jdt,T,n,a)):T&&(u||(a.polygonStart(),u=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),u&&(a.polygonEnd(),u=!1),h=f=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function g(T,M){var S=i(T,M);e(T=S[0],M=S[1])&&a.point(T,M)}function m(T,M){var S=i(T,M);s.point(S[0],S[1])}function v(){p.point=m,s.lineStart()}function y(){p.point=g,s.lineEnd()}function _(T,M){d.push([T,M]);var S=i(T,M);c.point(S[0],S[1])}function b(){c.lineStart(),d=[]}function w(){_(d[0][0],d[0][1]),c.lineEnd();var T=c.clean(),M=l.result(),S,E=M.length,A,O,N;if(d.pop(),f.push(d),d=null,!!E){if(T&1){if(O=M[0],(A=O.length-1)>0){for(u||(a.polygonStart(),u=!0),a.lineStart(),S=0;S<A;++S)a.point((N=O[S])[0],N[1]);a.lineEnd()}return}E>1&&T&2&&M.push(M.pop().concat(M.shift())),h.push(M.filter(Zdt))}}return p}}function Zdt(e){return e.length>1}function Jdt(e,t){return((e=e.x)[0]<0?e[1]-qu-Li:qu-e[1])-((t=t.x)[0]<0?t[1]-qu-Li:qu-t[1])}const hP=BD(function(){return!0},Qdt,ept,[-ei,-qu]);function Qdt(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,s){var o=a>0?ei:-ei,l=to(a-t);to(l-ei)<Li?(e.point(t,n=(n+s)/2>0?qu:-qu),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),e.point(a,n),i=0):r!==o&&l>=ei&&(to(t-r)<Li&&(t-=r*Li),to(a-o)<Li&&(a-=o*Li),n=tpt(t,n,a,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),i=0),e.point(t=a,n=s),r=o},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function tpt(e,t,n,r){var i,a,s=ta(e-n);return to(s)>Li?jdt((ta(t)*(a=Qi(r))*ta(n)-ta(r)*(i=Qi(t))*ta(e))/(i*a*s)):(t+r)/2}function ept(e,t,n,r){var i;if(e==null)i=n*qu,r.point(-ei,i),r.point(0,i),r.point(ei,i),r.point(ei,0),r.point(ei,-i),r.point(0,-i),r.point(-ei,-i),r.point(-ei,0),r.point(-ei,i);else if(to(e[0]-t[0])>Li){var a=e[0]<t[0]?ei:-ei;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function npt(e,t){var n=Qi(e),r=n>0,i=to(n)>Li;function a(u,f,h,d){Hdt(d,e,t,h,u,f)}function s(u,f){return Qi(u)*Qi(f)>n}function o(u){var f,h,d,p,g;return{lineStart:function(){p=d=!1,g=1},point:function(m,v){var y=[m,v],_,b=s(m,v),w=r?b?0:c(m,v):b?c(m+(m<0?ei:-ei),v):0;if(!f&&(p=d=b)&&u.lineStart(),b!==d&&(_=l(f,y),(!_||sx(f,_)||sx(y,_))&&(y[0]+=Li,y[1]+=Li,b=s(y[0],y[1]))),b!==d)g=0,b?(u.lineStart(),_=l(y,f),u.point(_[0],_[1])):(_=l(f,y),u.point(_[0],_[1]),u.lineEnd()),f=_;else if(i&&f&&r^b){var T;!(w&h)&&(T=l(y,f,!0))&&(g=0,r?(u.lineStart(),u.point(T[0][0],T[0][1]),u.point(T[1][0],T[1][1]),u.lineEnd()):(u.point(T[1][0],T[1][1]),u.lineEnd(),u.lineStart(),u.point(T[0][0],T[0][1])))}b&&(!f||!sx(f,y))&&u.point(y[0],y[1]),f=y,d=b,h=w},lineEnd:function(){d&&u.lineEnd(),f=null},clean:function(){return g|(p&&d)<<1}}}function l(u,f,h){var d=_0(u),p=_0(f),g=[1,0,0],m=db(d,p),v=z1(m,m),y=m[0],_=v-y*y;if(!_)return!h&&u;var b=n*v/_,w=-n*y/_,T=db(g,m),M=B1(g,b),S=B1(m,w);B3(M,S);var E=T,A=z1(M,E),O=z1(E,E),N=A*A-O*(z1(M,M)-1);if(!(N<0)){var F=z0(N),P=B1(E,(-A-F)/O);if(B3(P,M),P=EE(P),!h)return P;var R=u[0],k=f[0],I=u[1],j=f[1],G;k<R&&(G=R,R=k,k=G);var q=k-R,et=to(q-ei)<Li,U=et||q<Li;if(!et&&j<I&&(G=I,I=j,j=G),U?et?I+j>0^P[1]<(to(P[0]-R)<Li?I:j):I<=P[1]&&P[1]<=j:q>ei^(R<=P[0]&&P[0]<=k)){var J=B1(E,(-A+F)/O);return B3(J,M),[P,EE(J)]}}}function c(u,f){var h=r?e:ei-e,d=0;return u<-h?d|=1:u>h&&(d|=2),f<-h?d|=4:f>h&&(d|=8),d}return BD(s,o,a,r?[0,-e]:[-ei,e-ei])}function GD(e){return function(t){var n=new CE;for(var r in e)n[r]=e[r];return n.stream=t,n}}function CE(){}CE.prototype={constructor:CE,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function jD(e,t,n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],a=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),a!=null&&e.clipExtent(null),Udt(n,e.stream(fP));var s=fP.result(),o=Math.min(r/(s[1][0]-s[0][0]),i/(s[1][1]-s[0][1])),l=+t[0][0]+(r-o*(s[1][0]+s[0][0]))/2,c=+t[0][1]+(i-o*(s[1][1]+s[0][1]))/2;return a!=null&&e.clipExtent(a),e.scale(o*150).translate([l,c])}function rpt(e,t,n){return jD(e,[[0,0],t],n)}var dP=16,ipt=Qi(30*bl);function pP(e,t){return+t?opt(e,t):apt(e)}function apt(e){return GD({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function opt(e,t){function n(r,i,a,s,o,l,c,u,f,h,d,p,g,m){var v=c-r,y=u-i,_=v*v+y*y;if(_>4*t&&g--){var b=s+h,w=o+d,T=l+p,M=z0(b*b+w*w+T*T),S=Zd(T/=M),E=to(to(T)-1)<Li||to(a-f)<Li?(a+f)/2:y0(w,b),A=e(E,S),O=A[0],N=A[1],F=O-r,P=N-i,R=y*F-v*P;(R*R/_>t||to((v*F+y*P)/_-.5)>.3||s*h+o*d+l*p<ipt)&&(n(r,i,a,s,o,l,O,N,E,b/=M,w/=M,T,g,m),m.point(O,N),n(O,N,E,b,w,T,c,u,f,h,d,p,g,m))}}return function(r){var i,a,s,o,l,c,u,f,h,d,p,g,m={point:v,lineStart:y,lineEnd:b,polygonStart:function(){r.polygonStart(),m.lineStart=w},polygonEnd:function(){r.polygonEnd(),m.lineStart=y}};function v(S,E){S=e(S,E),r.point(S[0],S[1])}function y(){f=NaN,m.point=_,r.lineStart()}function _(S,E){var A=_0([S,E]),O=e(S,E);n(f,h,u,d,p,g,f=O[0],h=O[1],u=S,d=A[0],p=A[1],g=A[2],dP,r),r.point(f,h)}function b(){m.point=v,r.lineEnd()}function w(){y(),m.point=T,m.lineEnd=M}function T(S,E){_(i=S,E),a=f,s=h,o=d,l=p,c=g,m.point=_}function M(){n(f,h,u,d,p,g,a,s,i,o,l,c,dP,r),m.lineEnd=b,b()}return m}}var spt=GD({point:function(e,t){this.stream.point(e*bl,t*bl)}});function lpt(e){return upt(function(){return e})()}function upt(e){var t,n=150,r=480,i=250,a,s,o=0,l=0,c=0,u=0,f=0,h,d,p=null,g=hP,m=null,v,y,_,b=cP,w=.5,T=pP(O,w),M,S;function E(P){return P=d(P[0]*bl,P[1]*bl),[P[0]*n+a,s-P[1]*n]}function A(P){return P=d.invert((P[0]-a)/n,(s-P[1])/n),P&&[P[0]*Vf,P[1]*Vf]}function O(P,R){return P=t(P,R),[P[0]*n+a,s-P[1]*n]}E.stream=function(P){return M&&S===P?M:M=spt(g(h,T(b(S=P))))},E.clipAngle=function(P){return arguments.length?(g=+P?npt(p=P*bl,6*bl):(p=null,hP),F()):p*Vf},E.clipExtent=function(P){return arguments.length?(b=P==null?(m=v=y=_=null,cP):qdt(m=+P[0][0],v=+P[0][1],y=+P[1][0],_=+P[1][1]),F()):m==null?null:[[m,v],[y,_]]},E.scale=function(P){return arguments.length?(n=+P,N()):n},E.translate=function(P){return arguments.length?(r=+P[0],i=+P[1],N()):[r,i]},E.center=function(P){return arguments.length?(o=P[0]%360*bl,l=P[1]%360*bl,N()):[o*Vf,l*Vf]},E.rotate=function(P){return arguments.length?(c=P[0]%360*bl,u=P[1]%360*bl,f=P.length>2?P[2]%360*bl:0,N()):[c*Vf,u*Vf,f*Vf]},E.precision=function(P){return arguments.length?(T=pP(O,w=P*P),F()):z0(w)},E.fitExtent=function(P,R){return jD(E,P,R)},E.fitSize=function(P,R){return rpt(E,P,R)};function N(){d=RD(h=Vdt(c,u,f),t);var P=t(o,l);return a=r-P[0]*n,s=i+P[1]*n,F()}function F(){return M=S=null,E}return function(){return t=e.apply(this,arguments),E.invert=t.invert&&A,N()}}function UD(e){return function(t,n){var r=Qi(t),i=Qi(n),a=e(r*i);return[a*i*ta(t),a*ta(n)]}}function VD(e){return function(t,n){var r=z0(t*t+n*n),i=e(r),a=ta(i),s=Qi(i);return[y0(t*a,r*s),Zd(r&&n*a/r)]}}var cpt=UD(function(e){return z0(2/(1+e))});cpt.invert=VD(function(e){return 2*Zd(e/2)});var HD=UD(function(e){return(e=ND(e))&&e/ta(e)});HD.invert=VD(function(e){return e});function fpt(){return lpt(HD).scale(79.4188).clipAngle(180-.001)}function gP(e,t){return[e,t]}gP.invert=gP;function kpt(e,t,n){n=n||{};var r=n.units||"kilometers",i=n.steps||8;if(!e)throw new Error("geojson is required");if(typeof n!="object")throw new Error("options must be an object");if(typeof i!="number")throw new Error("steps must be an number");if(t===void 0)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");var a=[];switch(e.type){case"GeometryCollection":return aD(e,function(s){var o=lx(s,t,r,i);o&&a.push(o)}),xE(a);case"FeatureCollection":return XL(e,function(s){var o=lx(s,t,r,i);o&&XL(o,function(l){l&&a.push(l)})}),xE(a)}return lx(e,t,r,i)}function lx(e,t,n,r){var i=e.properties||{},a=e.type==="Feature"?e.geometry:e;if(a.type==="GeometryCollection"){var s=[];return aD(e,function(g){var m=lx(g,t,n,r);m&&s.push(m)}),xE(s)}var o=hpt(a),l={type:a.type,coordinates:WD(a.coordinates,o)},c=new iC,u=c.read(l),f=bdt(wdt(t,n),"meters"),h=Ca.bufferOp(u,f,r),d=new gD;if(h=d.write(h),!YD(h.coordinates)){var p={type:h.type,coordinates:$D(h.coordinates,o)};return rD(p,i)}}function YD(e){return Array.isArray(e[0])?YD(e[0]):isNaN(e[0])}function WD(e,t){return typeof e[0]!="object"?t(e):e.map(function(n){return WD(n,t)})}function $D(e,t){return typeof e[0]!="object"?t.invert(e):e.map(function(n){return $D(n,t)})}function hpt(e){var t=Tdt(e).geometry.coordinates,n=[-t[0],-t[1]];return fpt().rotate(n).scale(Vo)}var qD={exports:{}};(function(e,t){/*! For license information please see plotly-basic.min.js.LICENSE.txt */(function(n,r){e.exports=r()})(self,function(){return function(){var n={8847:function(a,s,o){var l=o(1828),c={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var u in c){var f=u.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");l.addStyleRule(f,c[u])}},8222:function(a,s,o){a.exports=o(2887)},7206:function(a,s,o){a.exports=o(822)},9509:function(a,s,o){a.exports=o(2201)},9548:function(a,s,o){a.exports=o(8729)},1039:function(a,s,o){a.exports=o(4382)},4296:function(a,s,o){a.exports=o(3102)},2576:function(a,s,o){var l=o(9548);l.register([o(7206),o(4201),o(8222),o(1039),o(4296),o(6398),o(9509)]),a.exports=l},4201:function(a,s,o){a.exports=o(8810)},6398:function(a,s,o){a.exports=o(2275)},2884:function(a){a.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},215:function(a,s,o){var l=o(2884),c=o(1940),u=o(5555),f=o(4467).templatedArray;o(4695),a.exports=f("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:c({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:l.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:l.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",u.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",u.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",u.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",u.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:c({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(a,s,o){var l=o(1828),c=o(9298),u=o(2605).draw;function f(d){var p=d._fullLayout;l.filterVisible(p.annotations).forEach(function(g){var m=c.getFromId(d,g.xref),v=c.getFromId(d,g.yref),y=c.getRefType(g.xref),_=c.getRefType(g.yref);g._extremes={},y==="range"&&h(g,m),_==="range"&&h(g,v)})}function h(d,p){var g,m=p._id,v=m.charAt(0),y=d[v],_=d["a"+v],b=d[v+"ref"],w=d["a"+v+"ref"],T=d["_"+v+"padplus"],M=d["_"+v+"padminus"],S={x:1,y:-1}[v]*d[v+"shift"],E=3*d.arrowsize*d.arrowwidth||0,A=E+S,O=E-S,N=3*d.startarrowsize*d.arrowwidth||0,F=N+S,P=N-S;if(w===b){var R=c.findExtremes(p,[p.r2c(y)],{ppadplus:A,ppadminus:O}),k=c.findExtremes(p,[p.r2c(_)],{ppadplus:Math.max(T,F),ppadminus:Math.max(M,P)});g={min:[R.min[0],k.min[0]],max:[R.max[0],k.max[0]]}}else F=_?F+_:F,P=_?P-_:P,g=c.findExtremes(p,[p.r2c(y)],{ppadplus:Math.max(T,A,F),ppadminus:Math.max(M,O,P)});d._extremes[m]=g}a.exports=function(d){var p=d._fullLayout;if(l.filterVisible(p.annotations).length&&d._fullData.length)return l.syncOrAsync([u,f],d)}},4317:function(a,s,o){var l=o(1828),c=o(3972),u=o(4467).arrayEditor;function f(d,p){var g,m,v,y,_,b,w,T=d._fullLayout.annotations,M=[],S=[],E=[],A=(p||[]).length;for(g=0;g<T.length;g++)if(y=(v=T[g]).clicktoshow){for(m=0;m<A;m++)if(b=(_=p[m]).xaxis,w=_.yaxis,b._id===v.xref&&w._id===v.yref&&b.d2r(_.x)===h(v._xclick,b)&&w.d2r(_.y)===h(v._yclick,w)){(v.visible?y==="onout"?S:E:M).push(g);break}m===A&&v.visible&&y==="onout"&&S.push(g)}return{on:M,off:S,explicitOff:E}}function h(d,p){return p.type==="log"?p.l2r(d):p.d2r(d)}a.exports={hasClickToShow:function(d,p){var g=f(d,p);return g.on.length>0||g.explicitOff.length>0},onClick:function(d,p){var g,m,v=f(d,p),y=v.on,_=v.off.concat(v.explicitOff),b={},w=d._fullLayout.annotations;if(y.length||_.length){for(g=0;g<y.length;g++)(m=u(d.layout,"annotations",w[y[g]])).modifyItem("visible",!0),l.extendFlat(b,m.getUpdateObj());for(g=0;g<_.length;g++)(m=u(d.layout,"annotations",w[_[g]])).modifyItem("visible",!1),l.extendFlat(b,m.getUpdateObj());return c.call("update",d,{},b)}}}},5625:function(a,s,o){var l=o(1828),c=o(7901);a.exports=function(u,f,h,d){d("opacity");var p=d("bgcolor"),g=d("bordercolor"),m=c.opacity(g);d("borderpad");var v=d("borderwidth"),y=d("showarrow");if(d("text",y?" ":h._dfltTitle.annotation),d("textangle"),l.coerceFont(d,"font",h.font),d("width"),d("align"),d("height")&&d("valign"),y){var _,b,w=d("arrowside");w.indexOf("end")!==-1&&(_=d("arrowhead"),b=d("arrowsize")),w.indexOf("start")!==-1&&(d("startarrowhead",_),d("startarrowsize",b)),d("arrowcolor",m?f.bordercolor:c.defaultLine),d("arrowwidth",2*(m&&v||1)),d("standoff"),d("startstandoff")}var T=d("hovertext"),M=h.hoverlabel||{};if(T){var S=d("hoverlabel.bgcolor",M.bgcolor||(c.opacity(p)?c.rgb(p):c.defaultLine)),E=d("hoverlabel.bordercolor",M.bordercolor||c.contrast(S));l.coerceFont(d,"hoverlabel.font",{family:M.font.family,size:M.font.size,color:M.font.color||E})}d("captureevents",!!T)}},4128:function(a,s,o){var l=o(2770),c=o(8163);a.exports=function(u,f,h,d){f=f||{};var p=h==="log"&&f.type==="linear",g=h==="linear"&&f.type==="log";if(p||g)for(var m,v,y=u._fullLayout.annotations,_=f._id.charAt(0),b=0;b<y.length;b++)m=y[b],v="annotations["+b+"].",m[_+"ref"]===f._id&&w(_),m["a"+_+"ref"]===f._id&&w("a"+_);function w(T){var M=m[T],S=null;S=p?c(M,f.range):Math.pow(10,M),l(S)||(S=null),d(v+T,S)}}},4046:function(a,s,o){var l=o(1828),c=o(9298),u=o(5501),f=o(5625),h=o(215);function d(p,g,m){function v(k,I){return l.coerce(p,g,h,k,I)}var y=v("visible"),_=v("clicktoshow");if(y||_){f(p,g,m,v);for(var b=g.showarrow,w=["x","y"],T=[-10,-30],M={_fullLayout:m},S=0;S<2;S++){var E=w[S],A=c.coerceRef(p,g,M,E,"","paper");if(A!=="paper"&&c.getFromId(M,A)._annIndices.push(g._index),c.coercePosition(g,M,v,A,E,.5),b){var O="a"+E,N=c.coerceRef(p,g,M,O,"pixel",["pixel","paper"]);N!=="pixel"&&N!==A&&(N=g[O]="pixel");var F=N==="pixel"?T[S]:.4;c.coercePosition(g,M,v,N,O,F)}v(E+"anchor"),v(E+"shift")}if(l.noneOrAll(p,g,["x","y"]),b&&l.noneOrAll(p,g,["ax","ay"]),_){var P=v("xclick"),R=v("yclick");g._xclick=P===void 0?g.x:c.cleanPosition(P,M,g.xref),g._yclick=R===void 0?g.y:c.cleanPosition(R,M,g.yref)}}}a.exports=function(p,g){u(p,g,{name:"annotations",handleItemDefaults:d})}},2605:function(a,s,o){var l=o(9898),c=o(3972),u=o(4875),f=o(1828),h=f.strTranslate,d=o(9298),p=o(7901),g=o(1424),m=o(211),v=o(3893),y=o(6964),_=o(8569),b=o(4467).arrayEditor,w=o(3011);function T(E,A){var O=E._fullLayout.annotations[A]||{},N=d.getFromId(E,O.xref),F=d.getFromId(E,O.yref);N&&N.setScale(),F&&F.setScale(),S(E,O,A,!1,N,F)}function M(E,A,O,N,F){var P=F[O],R=F[O+"ref"],k=O.indexOf("y")!==-1,I=d.getRefType(R)==="domain",j=k?N.h:N.w;return E?I?P+(k?-A:A)/E._length:E.p2r(E.r2p(P)+A):P+(k?-A:A)/j}function S(E,A,O,N,F,P){var R,k,I=E._fullLayout,j=E._fullLayout._size,G=E._context.edits;N?(R="annotation-"+N,k=N+".annotations"):(R="annotation",k="annotations");var q=b(E.layout,k,A),et=q.modifyBase,U=q.modifyItem,J=q.getUpdateObj;I._infolayer.selectAll("."+R+'[data-index="'+O+'"]').remove();var nt="clip"+I._uid+"_ann"+O;if(A._input&&A.visible!==!1){var ct={x:{},y:{}},z=+A.textangle||0,W=I._infolayer.append("g").classed(R,!0).attr("data-index",String(O)).style("opacity",A.opacity),X=W.append("g").classed("annotation-text-g",!0),it=G[A.showarrow?"annotationTail":"annotationPosition"],lt=A.captureevents||G.annotationText||it,pt=X.append("g").style("pointer-events",lt?"all":null).call(y,"pointer").on("click",function(){E._dragging=!1,E.emit("plotly_clickannotation",dt(l.event))});A.hovertext&&pt.on("mouseover",function(){var It=A.hoverlabel,Dt=It.font,gt=this.getBoundingClientRect(),_t=E.getBoundingClientRect();m.loneHover({x0:gt.left-_t.left,x1:gt.right-_t.left,y:(gt.top+gt.bottom)/2-_t.top,text:A.hovertext,color:It.bgcolor,borderColor:It.bordercolor,fontFamily:Dt.family,fontSize:Dt.size,fontColor:Dt.color},{container:I._hoverlayer.node(),outerContainer:I._paper.node(),gd:E})}).on("mouseout",function(){m.loneUnhover(I._hoverlayer.node())});var rt=A.borderwidth,V=A.borderpad,B=rt+V,H=pt.append("rect").attr("class","bg").style("stroke-width",rt+"px").call(p.stroke,A.bordercolor).call(p.fill,A.bgcolor),$=A.width||A.height,Z=I._topclips.selectAll("#"+nt).data($?[0]:[]);Z.enter().append("clipPath").classed("annclip",!0).attr("id",nt).append("rect"),Z.exit().remove();var Q=A.font,ot=I._meta?f.templateString(A.text,I._meta):A.text,st=pt.append("text").classed("annotation-text",!0).text(ot);G.annotationText?st.call(v.makeEditable,{delegate:pt,gd:E}).call(bt).on("edit",function(It){A.text=It,this.call(bt),U("text",It),F&&F.autorange&&et(F._name+".autorange",!0),P&&P.autorange&&et(P._name+".autorange",!0),c.call("_guiRelayout",E,J())}):st.call(bt)}else l.selectAll("#"+nt).remove();function dt(It){var Dt={index:O,annotation:A._input,fullAnnotation:A,event:It};return N&&(Dt.subplotId=N),Dt}function bt(It){return It.call(g.font,Q).attr({"text-anchor":{left:"start",right:"end"}[A.align]||"middle"}),v.convertToTspans(It,E,Pt),It}function Pt(){var It=st.selectAll("a");It.size()===1&&It.text()===st.text()&&pt.insert("a",":first-child").attr({"xlink:xlink:href":It.attr("xlink:href"),"xlink:xlink:show":It.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(H.node());var Dt=pt.select(".annotation-text-math-group"),gt=!Dt.empty(),_t=g.bBox((gt?Dt:st).node()),wt=_t.width,Et=_t.height,ht=A.width||wt,vt=A.height||Et,Ct=Math.round(ht+2*B),Mt=Math.round(vt+2*B);function Nt(Qt,se){return se==="auto"&&(se=Qt<.3333333333333333?"left":Qt>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[se]}for(var Rt=!1,At=["x","y"],kt=0;kt<At.length;kt++){var Bt,Lt,zt,Gt,Ut,ne=At[kt],te=A[ne+"ref"]||ne,ae=A["a"+ne+"ref"],ue={x:F,y:P}[ne],pe=(z+(ne==="x"?0:-90))*Math.PI/180,be=Ct*Math.cos(pe),re=Mt*Math.sin(pe),jt=Math.abs(be)+Math.abs(re),$t=A[ne+"anchor"],Jt=A[ne+"shift"]*(ne==="x"?1:-1),qt=ct[ne],Ce=d.getRefType(te);if(ue&&Ce!=="domain"){var fe=ue.r2fraction(A[ne]);(fe<0||fe>1)&&(ae===te?((fe=ue.r2fraction(A["a"+ne]))<0||fe>1)&&(Rt=!0):Rt=!0),Bt=ue._offset+ue.r2p(A[ne]),Gt=.5}else{var Me=Ce==="domain";ne==="x"?(zt=A[ne],Bt=Me?ue._offset+ue._length*zt:Bt=j.l+j.w*zt):(zt=1-A[ne],Bt=Me?ue._offset+ue._length*zt:Bt=j.t+j.h*zt),Gt=A.showarrow?.5:zt}if(A.showarrow){qt.head=Bt;var Ee=A["a"+ne];if(Ut=be*Nt(.5,A.xanchor)-re*Nt(.5,A.yanchor),ae===te){var He=d.getRefType(ae);He==="domain"?(ne==="y"&&(Ee=1-Ee),qt.tail=ue._offset+ue._length*Ee):He==="paper"?ne==="y"?(Ee=1-Ee,qt.tail=j.t+j.h*Ee):qt.tail=j.l+j.w*Ee:qt.tail=ue._offset+ue.r2p(Ee),Lt=Ut}else qt.tail=Bt+Ee,Lt=Ut+Ee;qt.text=qt.tail+Ut;var Ae=I[ne==="x"?"width":"height"];if(te==="paper"&&(qt.head=f.constrain(qt.head,1,Ae-1)),ae==="pixel"){var $e=-Math.max(qt.tail-3,qt.text),Oe=Math.min(qt.tail+3,qt.text)-Ae;$e>0?(qt.tail+=$e,qt.text+=$e):Oe>0&&(qt.tail-=Oe,qt.text-=Oe)}qt.tail+=Jt,qt.head+=Jt}else Lt=Ut=jt*Nt(Gt,$t),qt.text=Bt+Ut;qt.text+=Jt,Ut+=Jt,Lt+=Jt,A["_"+ne+"padplus"]=jt/2+Lt,A["_"+ne+"padminus"]=jt/2-Lt,A["_"+ne+"size"]=jt,A["_"+ne+"shift"]=Ut}if(Rt)pt.remove();else{var ft=0,mt=0;if(A.align!=="left"&&(ft=(ht-wt)*(A.align==="center"?.5:1)),A.valign!=="top"&&(mt=(vt-Et)*(A.valign==="middle"?.5:1)),gt)Dt.select("svg").attr({x:B+ft-1,y:B+mt}).call(g.setClipUrl,$?nt:null,E);else{var Ht=B+mt-_t.top,Vt=B+ft-_t.left;st.call(v.positionText,Vt,Ht).call(g.setClipUrl,$?nt:null,E)}Z.select("rect").call(g.setRect,B,B,ht,vt),H.call(g.setRect,rt/2,rt/2,Ct-rt,Mt-rt),pt.call(g.setTranslate,Math.round(ct.x.text-Ct/2),Math.round(ct.y.text-Mt/2)),X.attr({transform:"rotate("+z+","+ct.x.text+","+ct.y.text+")"});var ee,Xt=function(Qt,se){W.selectAll(".annotation-arrow-g").remove();var he=ct.x.head,ye=ct.y.head,oe=ct.x.tail+Qt,Ue=ct.y.tail+se,rn=ct.x.text+Qt,Ne=ct.y.text+se,Fe=f.rotationXYMatrix(z,rn,Ne),Be=f.apply2DTransform(Fe),Se=f.apply2DTransform2(Fe),Te=+H.attr("width"),xe=+H.attr("height"),Xe=rn-.5*Te,Ve=Xe+Te,an=Ne-.5*xe,ge=an+xe,Pe=[[Xe,an,Xe,ge],[Xe,ge,Ve,ge],[Ve,ge,Ve,an],[Ve,an,Xe,an]].map(Se);if(!Pe.reduce(function(bn,_n){return bn^!!f.segmentsIntersect(he,ye,he+1e6,ye+1e6,_n[0],_n[1],_n[2],_n[3])},!1)){Pe.forEach(function(bn){var _n=f.segmentsIntersect(oe,Ue,he,ye,bn[0],bn[1],bn[2],bn[3]);_n&&(oe=_n.x,Ue=_n.y)});var ke=A.arrowwidth,Ye=A.arrowcolor,je=A.arrowside,qe=W.append("g").style({opacity:p.opacity(Ye)}).classed("annotation-arrow-g",!0),nn=qe.append("path").attr("d","M"+oe+","+Ue+"L"+he+","+ye).style("stroke-width",ke+"px").call(p.stroke,p.rgb(Ye));if(w(nn,je,A),G.annotationPosition&&nn.node().parentNode&&!N){var sn=he,Ze=ye;if(A.standoff){var tn=Math.sqrt(Math.pow(he-oe,2)+Math.pow(ye-Ue,2));sn+=A.standoff*(oe-he)/tn,Ze+=A.standoff*(Ue-ye)/tn}var Tn,An,Sn=qe.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(oe-sn)+","+(Ue-Ze),transform:h(sn,Ze)}).style("stroke-width",ke+6+"px").call(p.stroke,"rgba(0,0,0,0)").call(p.fill,"rgba(0,0,0,0)");_.init({element:Sn.node(),gd:E,prepFn:function(){var bn=g.getTranslate(pt);Tn=bn.x,An=bn.y,F&&F.autorange&&et(F._name+".autorange",!0),P&&P.autorange&&et(P._name+".autorange",!0)},moveFn:function(bn,_n){var Hn=Be(Tn,An),En=Hn[0]+bn,Dn=Hn[1]+_n;pt.call(g.setTranslate,En,Dn),U("x",M(F,bn,"x",j,A)),U("y",M(P,_n,"y",j,A)),A.axref===A.xref&&U("ax",M(F,bn,"ax",j,A)),A.ayref===A.yref&&U("ay",M(P,_n,"ay",j,A)),qe.attr("transform",h(bn,_n)),X.attr({transform:"rotate("+z+","+En+","+Dn+")"})},doneFn:function(){c.call("_guiRelayout",E,J());var bn=document.querySelector(".js-notes-box-panel");bn&&bn.redraw(bn.selectedObj)}})}}};A.showarrow&&Xt(0,0),it&&_.init({element:pt.node(),gd:E,prepFn:function(){ee=X.attr("transform")},moveFn:function(Qt,se){var he="pointer";if(A.showarrow)A.axref===A.xref?U("ax",M(F,Qt,"ax",j,A)):U("ax",A.ax+Qt),A.ayref===A.yref?U("ay",M(P,se,"ay",j.w,A)):U("ay",A.ay+se),Xt(Qt,se);else{if(N)return;var ye,oe;if(F)ye=M(F,Qt,"x",j,A);else{var Ue=A._xsize/j.w,rn=A.x+(A._xshift-A.xshift)/j.w-Ue/2;ye=_.align(rn+Qt/j.w,Ue,0,1,A.xanchor)}if(P)oe=M(P,se,"y",j,A);else{var Ne=A._ysize/j.h,Fe=A.y-(A._yshift+A.yshift)/j.h-Ne/2;oe=_.align(Fe-se/j.h,Ne,0,1,A.yanchor)}U("x",ye),U("y",oe),F&&P||(he=_.getCursor(F?.5:ye,P?.5:oe,A.xanchor,A.yanchor))}X.attr({transform:h(Qt,se)+ee}),y(pt,he)},clickFn:function(Qt,se){A.captureevents&&E.emit("plotly_clickannotation",dt(se))},doneFn:function(){y(pt),c.call("_guiRelayout",E,J());var Qt=document.querySelector(".js-notes-box-panel");Qt&&Qt.redraw(Qt.selectedObj)}})}}}a.exports={draw:function(E){var A=E._fullLayout;A._infolayer.selectAll(".annotation").remove();for(var O=0;O<A.annotations.length;O++)A.annotations[O].visible&&T(E,O);return u.previousPromises(E)},drawOne:T,drawRaw:S}},3011:function(a,s,o){var l=o(9898),c=o(7901),u=o(2884),f=o(1828),h=f.strScale,d=f.strRotate,p=f.strTranslate;a.exports=function(g,m,v){var y,_,b,w,T=g.node(),M=u[v.arrowhead||0],S=u[v.startarrowhead||0],E=(v.arrowwidth||1)*(v.arrowsize||1),A=(v.arrowwidth||1)*(v.startarrowsize||1),O=m.indexOf("start")>=0,N=m.indexOf("end")>=0,F=M.backoff*E+v.standoff,P=S.backoff*A+v.startstandoff;if(T.nodeName==="line"){y={x:+g.attr("x1"),y:+g.attr("y1")},_={x:+g.attr("x2"),y:+g.attr("y2")};var R=y.x-_.x,k=y.y-_.y;if(w=(b=Math.atan2(k,R))+Math.PI,F&&P&&F+P>Math.sqrt(R*R+k*k))return void W();if(F){if(F*F>R*R+k*k)return void W();var I=F*Math.cos(b),j=F*Math.sin(b);_.x+=I,_.y+=j,g.attr({x2:_.x,y2:_.y})}if(P){if(P*P>R*R+k*k)return void W();var G=P*Math.cos(b),q=P*Math.sin(b);y.x-=G,y.y-=q,g.attr({x1:y.x,y1:y.y})}}else if(T.nodeName==="path"){var et=T.getTotalLength(),U="";if(et<F+P)return void W();var J=T.getPointAtLength(0),nt=T.getPointAtLength(.1);b=Math.atan2(J.y-nt.y,J.x-nt.x),y=T.getPointAtLength(Math.min(P,et)),U="0px,"+P+"px,";var ct=T.getPointAtLength(et),z=T.getPointAtLength(et-.1);w=Math.atan2(ct.y-z.y,ct.x-z.x),_=T.getPointAtLength(Math.max(0,et-F)),U+=et-(U?P+F:F)+"px,"+et+"px",g.style("stroke-dasharray",U)}function W(){g.style("stroke-dasharray","0px,100px")}function X(it,lt,pt,rt){it.path&&(it.noRotate&&(pt=0),l.select(T.parentNode).append("path").attr({class:g.attr("class"),d:it.path,transform:p(lt.x,lt.y)+d(180*pt/Math.PI)+h(rt)}).style({fill:c.rgb(v.arrowcolor),"stroke-width":0}))}O&&X(S,y,b,A),N&&X(M,_,w,E)}},2745:function(a,s,o){var l=o(2605),c=o(4317);a.exports={moduleType:"component",name:"annotations",layoutAttributes:o(215),supplyLayoutDefaults:o(4046),includeBasePlot:o(6325)("annotations"),calcAutorange:o(3749),draw:l.draw,drawOne:l.drawOne,drawRaw:l.drawRaw,hasClickToShow:c.hasClickToShow,onClick:c.onClick,convertCoords:o(4128)}},6997:function(a,s,o){var l=o(215),c=o(962).overrideAll,u=o(4467).templatedArray;a.exports=c(u("annotation",{visible:l.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:l.xanchor,xshift:l.xshift,yanchor:l.yanchor,yshift:l.yshift,text:l.text,textangle:l.textangle,font:l.font,width:l.width,height:l.height,opacity:l.opacity,align:l.align,valign:l.valign,bgcolor:l.bgcolor,bordercolor:l.bordercolor,borderpad:l.borderpad,borderwidth:l.borderwidth,showarrow:l.showarrow,arrowcolor:l.arrowcolor,arrowhead:l.arrowhead,startarrowhead:l.startarrowhead,arrowside:l.arrowside,arrowsize:l.arrowsize,startarrowsize:l.startarrowsize,arrowwidth:l.arrowwidth,standoff:l.standoff,startstandoff:l.startstandoff,hovertext:l.hovertext,hoverlabel:l.hoverlabel,captureevents:l.captureevents}),"calc","from-root")},5485:function(a,s,o){var l=o(1828),c=o(9298);function u(f,h){var d=h.fullSceneLayout.domain,p=h.fullLayout._size,g={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};f._xa={},l.extendFlat(f._xa,g),c.setConvert(f._xa),f._xa._offset=p.l+d.x[0]*p.w,f._xa.l2p=function(){return .5*(1+f._pdata[0]/f._pdata[3])*p.w*(d.x[1]-d.x[0])},f._ya={},l.extendFlat(f._ya,g),c.setConvert(f._ya),f._ya._offset=p.t+(1-d.y[1])*p.h,f._ya.l2p=function(){return .5*(1-f._pdata[1]/f._pdata[3])*p.h*(d.y[1]-d.y[0])}}a.exports=function(f){for(var h=f.fullSceneLayout.annotations,d=0;d<h.length;d++)u(h[d],f);f.fullLayout._infolayer.selectAll(".annotation-"+f.id).remove()}},226:function(a,s,o){var l=o(1828),c=o(9298),u=o(5501),f=o(5625),h=o(6997);function d(p,g,m,v){function y(b,w){return l.coerce(p,g,h,b,w)}function _(b){var w=b+"axis",T={_fullLayout:{}};return T._fullLayout[w]=m[w],c.coercePosition(g,T,y,b,b,.5)}y("visible")&&(f(p,g,v.fullLayout,y),_("x"),_("y"),_("z"),l.noneOrAll(p,g,["x","y","z"]),g.xref="x",g.yref="y",g.zref="z",y("xanchor"),y("yanchor"),y("xshift"),y("yshift"),g.showarrow&&(g.axref="pixel",g.ayref="pixel",y("ax",-10),y("ay",-30),l.noneOrAll(p,g,["ax","ay"])))}a.exports=function(p,g,m){u(p,g,{name:"annotations",handleItemDefaults:d,fullLayout:m.fullLayout})}},2188:function(a,s,o){var l=o(2605).drawRaw,c=o(3538),u=["x","y","z"];a.exports=function(f){for(var h=f.fullSceneLayout,d=f.dataScale,p=h.annotations,g=0;g<p.length;g++){for(var m=p[g],v=!1,y=0;y<3;y++){var _=u[y],b=m[_],w=h[_+"axis"].r2fraction(b);if(w<0||w>1){v=!0;break}}v?f.fullLayout._infolayer.select(".annotation-"+f.id+'[data-index="'+g+'"]').remove():(m._pdata=c(f.glplot.cameraParams,[h.xaxis.r2l(m.x)*d[0],h.yaxis.r2l(m.y)*d[1],h.zaxis.r2l(m.z)*d[2]]),l(f.graphDiv,m,g,f.id,m._xa,m._ya))}}},2468:function(a,s,o){var l=o(3972),c=o(1828);a.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:o(6997)}}},layoutAttributes:o(6997),handleDefaults:o(226),includeBasePlot:function(u,f){var h=l.subplotsRegistry.gl3d;if(h)for(var d=h.attrRegex,p=Object.keys(u),g=0;g<p.length;g++){var m=p[g];d.test(m)&&(u[m].annotations||[]).length&&(c.pushUnique(f._basePlotModules,h),c.pushUnique(f._subplots.gl3d,m))}},convert:o(5485),draw:o(2188)}},7561:function(a,s,o){a.exports=o(3489),o(4338),o(3961),o(8751),o(6825),o(7715),o(9384),o(3805),o(8874),o(3290),o(9108),o(5422),o(4320),o(1320),o(1367),o(1457)},2201:function(a,s,o){var l=o(7561),c=o(1828),u=o(606),f=u.EPOCHJD,h=u.ONEDAY,d={valType:"enumerated",values:c.sortObjectKeys(l.calendars),editType:"calc",dflt:"gregorian"},p=function(E,A,O,N){var F={};return F[O]=d,c.coerce(E,A,F,O,N)},g="##",m={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:g,w:g,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},v={};function y(E){var A=v[E];return A||(v[E]=l.instance(E))}function _(E){return c.extendFlat({},d,{description:E})}function b(E){return"Sets the calendar system to use with `"+E+"` date data."}var w={xcalendar:_(b("x"))},T=c.extendFlat({},w,{ycalendar:_(b("y"))}),M=c.extendFlat({},T,{zcalendar:_(b("z"))}),S=_(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));a.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:T,bar:T,box:T,heatmap:T,contour:T,histogram:T,histogram2d:T,histogram2dcontour:T,scatter3d:M,surface:M,mesh3d:M,scattergl:T,ohlc:w,candlestick:w},layout:{calendar:_(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:S},yaxis:{calendar:S},scene:{xaxis:{calendar:S},yaxis:{calendar:S},zaxis:{calendar:S}},polar:{radialaxis:{calendar:S}}},transforms:{filter:{valuecalendar:_(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:_(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:d,handleDefaults:p,handleTraceDefaults:function(E,A,O,N){for(var F=0;F<O.length;F++)p(E,A,O[F]+"calendar",N.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:y,worldCalFmt:function(E,A,O){for(var N,F,P,R,k,I=Math.floor((A+.05)/h)+f,j=y(O).fromJD(I),G=0;(G=E.indexOf("%",G))!==-1;)(N=E.charAt(G+1))==="0"||N==="-"||N==="_"?(P=3,F=E.charAt(G+2),N==="_"&&(N="-")):(F=N,N="0",P=2),(R=m[F])?(k=R===g?g:j.formatDate(R[N]),E=E.substr(0,G)+k+E.substr(G+P),G+=k.length):G+=P;return E}}},2399:function(a,s){s.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],s.defaultLine="#444",s.lightLine="#eee",s.background="#fff",s.borderLine="#BEC8D9",s.lightFraction=90.9090909090909},7901:function(a,s,o){var l=o(4267),c=o(2770),u=o(3627).isTypedArray,f=a.exports={},h=o(2399);f.defaults=h.defaults;var d=f.defaultLine=h.defaultLine;f.lightLine=h.lightLine;var p=f.background=h.background;function g(m){if(c(m)||typeof m!="string")return m;var v=m.trim();if(v.substr(0,3)!=="rgb")return m;var y=v.match(/^rgba?\s*\(([^()]*)\)$/);if(!y)return m;var _=y[1].trim().split(/\s*[\s,]\s*/),b=v.charAt(3)==="a"&&_.length===4;if(!b&&_.length!==3)return m;for(var w=0;w<_.length;w++){if(!_[w].length||(_[w]=Number(_[w]),!(_[w]>=0)))return m;if(w===3)_[w]>1&&(_[w]=1);else if(_[w]>=1)return m}var T=Math.round(255*_[0])+", "+Math.round(255*_[1])+", "+Math.round(255*_[2]);return b?"rgba("+T+", "+_[3]+")":"rgb("+T+")"}f.tinyRGB=function(m){var v=m.toRgb();return"rgb("+Math.round(v.r)+", "+Math.round(v.g)+", "+Math.round(v.b)+")"},f.rgb=function(m){return f.tinyRGB(l(m))},f.opacity=function(m){return m?l(m).getAlpha():0},f.addOpacity=function(m,v){var y=l(m).toRgb();return"rgba("+Math.round(y.r)+", "+Math.round(y.g)+", "+Math.round(y.b)+", "+v+")"},f.combine=function(m,v){var y=l(m).toRgb();if(y.a===1)return l(m).toRgbString();var _=l(v||p).toRgb(),b=_.a===1?_:{r:255*(1-_.a)+_.r*_.a,g:255*(1-_.a)+_.g*_.a,b:255*(1-_.a)+_.b*_.a},w={r:b.r*(1-y.a)+y.r*y.a,g:b.g*(1-y.a)+y.g*y.a,b:b.b*(1-y.a)+y.b*y.a};return l(w).toRgbString()},f.contrast=function(m,v,y){var _=l(m);return _.getAlpha()!==1&&(_=l(f.combine(m,p))),(_.isDark()?v?_.lighten(v):p:y?_.darken(y):d).toString()},f.stroke=function(m,v){var y=l(v);m.style({stroke:f.tinyRGB(y),"stroke-opacity":y.getAlpha()})},f.fill=function(m,v){var y=l(v);m.style({fill:f.tinyRGB(y),"fill-opacity":y.getAlpha()})},f.clean=function(m){if(m&&typeof m=="object"){var v,y,_,b,w=Object.keys(m);for(v=0;v<w.length;v++)if(b=m[_=w[v]],_.substr(_.length-5)==="color")if(Array.isArray(b))for(y=0;y<b.length;y++)b[y]=g(b[y]);else m[_]=g(b);else if(_.substr(_.length-10)==="colorscale"&&Array.isArray(b))for(y=0;y<b.length;y++)Array.isArray(b[y])&&(b[y][1]=g(b[y][1]));else if(Array.isArray(b)){var T=b[0];if(!Array.isArray(T)&&T&&typeof T=="object")for(y=0;y<b.length;y++)f.clean(b[y])}else b&&typeof b=="object"&&!u(b)&&f.clean(b)}}},3583:function(a,s,o){var l=o(3838),c=o(1940),u=o(1426).extendFlat,f=o(962).overrideAll;a.exports=f({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:l.linecolor,outlinewidth:l.linewidth,bordercolor:l.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:l.minor.tickmode,nticks:l.nticks,tick0:l.tick0,dtick:l.dtick,tickvals:l.tickvals,ticktext:l.ticktext,ticks:u({},l.ticks,{dflt:""}),ticklabeloverflow:u({},l.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:l.ticklen,tickwidth:l.tickwidth,tickcolor:l.tickcolor,ticklabelstep:l.ticklabelstep,showticklabels:l.showticklabels,labelalias:l.labelalias,tickfont:c({}),tickangle:l.tickangle,tickformat:l.tickformat,tickformatstops:l.tickformatstops,tickprefix:l.tickprefix,showtickprefix:l.showtickprefix,ticksuffix:l.ticksuffix,showticksuffix:l.showticksuffix,separatethousands:l.separatethousands,exponentformat:l.exponentformat,minexponent:l.minexponent,showexponent:l.showexponent,title:{text:{valType:"string"},font:c({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:c({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},939:function(a){a.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},2499:function(a,s,o){var l=o(1828),c=o(4467),u=o(6218),f=o(8701),h=o(6115),d=o(9426),p=o(3583);a.exports=function(g,m,v){var y=c.newContainer(m,"colorbar"),_=g.colorbar||{};function b(U,J){return l.coerce(_,y,p,U,J)}var w=v.margin||{t:0,b:0,l:0,r:0},T=v.width-w.l-w.r,M=v.height-w.t-w.b,S=b("orientation")==="v",E=b("thicknessmode");b("thickness",E==="fraction"?30/(S?T:M):30);var A=b("lenmode");b("len",A==="fraction"?1:S?M:T);var O,N,F,P=b("yref")==="paper",R=b("xref")==="paper",k="left";S?(F="middle",k=R?"left":"right",O=R?1.02:1,N=.5):(F=P?"bottom":"top",k="center",O=.5,N=P?1.02:1),l.coerce(_,y,{x:{valType:"number",min:R?-2:0,max:R?3:1,dflt:O}},"x"),l.coerce(_,y,{y:{valType:"number",min:P?-2:0,max:P?3:1,dflt:N}},"y"),b("xanchor",k),b("xpad"),b("yanchor",F),b("ypad"),l.noneOrAll(_,y,["x","y"]),b("outlinecolor"),b("outlinewidth"),b("bordercolor"),b("borderwidth"),b("bgcolor");var I=l.coerce(_,y,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:S?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");b("ticklabeloverflow",I.indexOf("inside")!==-1?"hide past domain":"hide past div"),u(_,y,b,"linear");var j=v.font,G={outerTicks:!1,font:j};I.indexOf("inside")!==-1&&(G.bgColor="black"),d(_,y,b,"linear",G),h(_,y,b,"linear",G),f(_,y,b,"linear",G),b("title.text",v._dfltTitle.colorbar);var q=y.showticklabels?y.tickfont:j,et=l.extendFlat({},q,{color:j.color,size:l.bigFont(q.size)});l.coerceFont(b,"title.font",et),b("title.side",S?"top":"right")}},8981:function(a,s,o){var l=o(9898),c=o(4267),u=o(4875),f=o(3972),h=o(9298),d=o(8569),p=o(1828),g=p.strTranslate,m=o(1426).extendFlat,v=o(6964),y=o(1424),_=o(7901),b=o(2998),w=o(3893),T=o(2869).flipScale,M=o(1453),S=o(2830),E=o(3838),A=o(8783),O=A.LINE_SPACING,N=A.FROM_TL,F=A.FROM_BR,P=o(939).cn;a.exports={draw:function(R){var k=R._fullLayout._infolayer.selectAll("g."+P.colorbar).data(function(I){var j,G,q,et,U=I._fullLayout,J=I.calcdata,nt=[];function ct($){return m($,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function z(){typeof et.calc=="function"?et.calc(I,q,j):(j._fillgradient=G.reversescale?T(G.colorscale):G.colorscale,j._zrange=[G[et.min],G[et.max]])}for(var W=0;W<J.length;W++){var X=J[W];if((q=X[0].trace)._module){var it=q._module.colorbar;if(q.visible===!0&&it)for(var lt=Array.isArray(it),pt=lt?it:[it],rt=0;rt<pt.length;rt++){var V=(et=pt[rt]).container;(G=V?q[V]:q)&&G.showscale&&((j=ct(G.colorbar))._id="cb"+q.uid+(lt&&V?"-"+V:""),j._traceIndex=q.index,j._propPrefix=(V?V+".":"")+"colorbar.",j._meta=q._meta,z(),nt.push(j))}}}for(var B in U._colorAxes)if((G=U[B]).showscale){var H=U._colorAxes[B];(j=ct(G.colorbar))._id="cb"+B,j._propPrefix=B+".colorbar.",j._meta=U._meta,et={min:"cmin",max:"cmax"},H[0]!=="heatmap"&&(q=H[1],et.calc=q._module.colorbar.calc),z(),nt.push(j)}return nt}(R),function(I){return I._id});k.enter().append("g").attr("class",function(I){return I._id}).classed(P.colorbar,!0),k.each(function(I){var j=l.select(this);p.ensureSingle(j,"rect",P.cbbg),p.ensureSingle(j,"g",P.cbfills),p.ensureSingle(j,"g",P.cblines),p.ensureSingle(j,"g",P.cbaxis,function(q){q.classed(P.crisp,!0)}),p.ensureSingle(j,"g",P.cbtitleunshift,function(q){q.append("g").classed(P.cbtitle,!0)}),p.ensureSingle(j,"rect",P.cboutline);var G=function(q,et,U){var J=et.orientation==="v",nt=et.len,ct=et.lenmode,z=et.thickness,W=et.thicknessmode,X=et.outlinewidth,it=et.borderwidth,lt=et.bgcolor,pt=et.xanchor,rt=et.yanchor,V=et.xpad,B=et.ypad,H=et.x,$=J?et.y:1-et.y,Z=et.yref==="paper",Q=et.xref==="paper",ot=U._fullLayout,st=ot._size,dt=et._fillcolor,bt=et._line,Pt=et.title,It=Pt.side,Dt=et._zrange||l.extent((typeof dt=="function"?dt:bt.color).domain()),gt=typeof bt.color=="function"?bt.color:function(){return bt.color},_t=typeof dt=="function"?dt:function(){return dt},wt=et._levels,Et=function(He,Ae,$e){var Oe,ft,mt=Ae._levels,Ht=[],Vt=[],ee=mt.end+mt.size/100,Xt=mt.size,Qt=1.001*$e[0]-.001*$e[1],se=1.001*$e[1]-.001*$e[0];for(ft=0;ft<1e5&&(Oe=mt.start+ft*Xt,!(Xt>0?Oe>=ee:Oe<=ee));ft++)Oe>Qt&&Oe<se&&Ht.push(Oe);if(Ae._fillgradient)Vt=[0];else if(typeof Ae._fillcolor=="function"){var he=Ae._filllevels;if(he)for(ee=he.end+he.size/100,Xt=he.size,ft=0;ft<1e5&&(Oe=he.start+ft*Xt,!(Xt>0?Oe>=ee:Oe<=ee));ft++)Oe>$e[0]&&Oe<$e[1]&&Vt.push(Oe);else(Vt=Ht.map(function(ye){return ye-mt.size/2})).push(Vt[Vt.length-1]+mt.size)}else Ae._fillcolor&&typeof Ae._fillcolor=="string"&&(Vt=[0]);return mt.size<0&&(Ht.reverse(),Vt.reverse()),{line:Ht,fill:Vt}}(0,et,Dt),ht=Et.fill,vt=Et.line,Ct=Math.round(z*(W==="fraction"?J?st.w:st.h:1)),Mt=Ct/(J?st.w:st.h),Nt=Math.round(nt*(ct==="fraction"?J?st.h:st.w:1)),Rt=Nt/(J?st.h:st.w),At=Q?st.w:U._fullLayout.width,kt=Z?st.h:U._fullLayout.height,Bt=Math.round(J?H*At+V:$*kt+B),Lt={center:.5,right:1}[pt]||0,zt={top:1,middle:.5}[rt]||0,Gt=J?H-Lt*Mt:$-zt*Mt,Ut=J?$-zt*Rt:H-Lt*Rt,ne=Math.round(J?kt*(1-Ut):At*Ut);et._lenFrac=Rt,et._thickFrac=Mt,et._uFrac=Gt,et._vFrac=Ut;var te=et._axis=function(He,Ae,$e){var Oe=He._fullLayout,ft=Ae.orientation==="v",mt={type:"linear",range:$e,tickmode:Ae.tickmode,nticks:Ae.nticks,tick0:Ae.tick0,dtick:Ae.dtick,tickvals:Ae.tickvals,ticktext:Ae.ticktext,ticks:Ae.ticks,ticklen:Ae.ticklen,tickwidth:Ae.tickwidth,tickcolor:Ae.tickcolor,showticklabels:Ae.showticklabels,labelalias:Ae.labelalias,ticklabelposition:Ae.ticklabelposition,ticklabeloverflow:Ae.ticklabeloverflow,ticklabelstep:Ae.ticklabelstep,tickfont:Ae.tickfont,tickangle:Ae.tickangle,tickformat:Ae.tickformat,exponentformat:Ae.exponentformat,minexponent:Ae.minexponent,separatethousands:Ae.separatethousands,showexponent:Ae.showexponent,showtickprefix:Ae.showtickprefix,tickprefix:Ae.tickprefix,showticksuffix:Ae.showticksuffix,ticksuffix:Ae.ticksuffix,title:Ae.title,showline:!0,anchor:"free",side:ft?"right":"bottom",position:1},Ht=ft?"y":"x",Vt={type:"linear",_id:Ht+Ae._id},ee={letter:Ht,font:Oe.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:Oe.calendar};function Xt(Qt,se){return p.coerce(mt,Vt,E,Qt,se)}return M(mt,Vt,Xt,ee,Oe),S(mt,Vt,Xt,ee),Vt}(U,et,Dt);te.position=Mt+(J?H+V/st.w:$+B/st.h);var ae=["top","bottom"].indexOf(It)!==-1;if(J&&ae&&(te.title.side=It,te.titlex=H+V/st.w,te.titley=Ut+(Pt.side==="top"?Rt-B/st.h:B/st.h)),J||ae||(te.title.side=It,te.titley=$+B/st.h,te.titlex=Ut+V/st.w),bt.color&&et.tickmode==="auto"){te.tickmode="linear",te.tick0=wt.start;var ue=wt.size,pe=p.constrain(Nt/50,4,15)+1,be=(Dt[1]-Dt[0])/((et.nticks||pe)*ue);if(be>1){var re=Math.pow(10,Math.floor(Math.log(be)/Math.LN10));ue*=re*p.roundUp(be/re,[2,5,10]),(Math.abs(wt.start)/wt.size+1e-6)%1<2e-6&&(te.tick0=0)}te.dtick=ue}te.domain=J?[Ut+B/st.h,Ut+Rt-B/st.h]:[Ut+V/st.w,Ut+Rt-V/st.w],te.setScale(),q.attr("transform",g(Math.round(st.l),Math.round(st.t)));var jt,$t=q.select("."+P.cbtitleunshift).attr("transform",g(-Math.round(st.l),-Math.round(st.t))),Jt=te.ticklabelposition,qt=te.title.font.size,Ce=q.select("."+P.cbaxis),fe=0,Me=0;function Ee(He,Ae){var $e={propContainer:te,propName:et._propPrefix+"title",traceIndex:et._traceIndex,_meta:et._meta,placeholder:ot._dfltTitle.colorbar,containerGroup:q.select("."+P.cbtitle)},Oe=He.charAt(0)==="h"?He.substr(1):"h"+He;q.selectAll("."+Oe+",."+Oe+"-math-group").remove(),b.draw(U,He,m($e,Ae||{}))}return p.syncOrAsync([u.previousPromises,function(){var He,Ae;(J&&ae||!J&&!ae)&&(It==="top"&&(He=V+st.l+At*H,Ae=B+st.t+kt*(1-Ut-Rt)+3+.75*qt),It==="bottom"&&(He=V+st.l+At*H,Ae=B+st.t+kt*(1-Ut)-3-.25*qt),It==="right"&&(Ae=B+st.t+kt*$+3+.75*qt,He=V+st.l+At*Ut),Ee(te._id+"title",{attributes:{x:He,y:Ae,"text-anchor":J?"start":"middle"}}))},function(){if(!J&&!ae||J&&ae){var He,Ae=q.select("."+P.cbtitle),$e=Ae.select("text"),Oe=[-X/2,X/2],ft=Ae.select(".h"+te._id+"title-math-group").node(),mt=15.6;if($e.node()&&(mt=parseInt($e.node().style.fontSize,10)*O),ft?(He=y.bBox(ft),Me=He.width,(fe=He.height)>mt&&(Oe[1]-=(fe-mt)/2)):$e.node()&&!$e.classed(P.jsPlaceholder)&&(He=y.bBox($e.node()),Me=He.width,fe=He.height),J){if(fe){if(fe+=5,It==="top")te.domain[1]-=fe/st.h,Oe[1]*=-1;else{te.domain[0]+=fe/st.h;var Ht=w.lineCount($e);Oe[1]+=(1-Ht)*mt}Ae.attr("transform",g(Oe[0],Oe[1])),te.setScale()}}else Me&&(It==="right"&&(te.domain[0]+=(Me+qt/2)/st.w),Ae.attr("transform",g(Oe[0],Oe[1])),te.setScale())}q.selectAll("."+P.cbfills+",."+P.cblines).attr("transform",J?g(0,Math.round(st.h*(1-te.domain[1]))):g(Math.round(st.w*te.domain[0]),0)),Ce.attr("transform",J?g(0,Math.round(-st.t)):g(Math.round(-st.l),0));var Vt=q.select("."+P.cbfills).selectAll("rect."+P.cbfill).attr("style","").data(ht);Vt.enter().append("rect").classed(P.cbfill,!0).attr("style",""),Vt.exit().remove();var ee=Dt.map(te.c2p).map(Math.round).sort(function(ye,oe){return ye-oe});Vt.each(function(ye,oe){var Ue=[oe===0?Dt[0]:(ht[oe]+ht[oe-1])/2,oe===ht.length-1?Dt[1]:(ht[oe]+ht[oe+1])/2].map(te.c2p).map(Math.round);J&&(Ue[1]=p.constrain(Ue[1]+(Ue[1]>Ue[0])?1:-1,ee[0],ee[1]));var rn=l.select(this).attr(J?"x":"y",Bt).attr(J?"y":"x",l.min(Ue)).attr(J?"width":"height",Math.max(Ct,2)).attr(J?"height":"width",Math.max(l.max(Ue)-l.min(Ue),2));if(et._fillgradient)y.gradient(rn,U,et._id,J?"vertical":"horizontalreversed",et._fillgradient,"fill");else{var Ne=_t(ye).replace("e-","");rn.attr("fill",c(Ne).toHexString())}});var Xt=q.select("."+P.cblines).selectAll("path."+P.cbline).data(bt.color&&bt.width?vt:[]);Xt.enter().append("path").classed(P.cbline,!0),Xt.exit().remove(),Xt.each(function(ye){var oe=Bt,Ue=Math.round(te.c2p(ye))+bt.width/2%1;l.select(this).attr("d","M"+(J?oe+","+Ue:Ue+","+oe)+(J?"h":"v")+Ct).call(y.lineGroupStyle,bt.width,gt(ye),bt.dash)}),Ce.selectAll("g."+te._id+"tick,path").remove();var Qt=Bt+Ct+(X||0)/2-(et.ticks==="outside"?1:0),se=h.calcTicks(te),he=h.getTickSigns(te)[2];return h.drawTicks(U,te,{vals:te.ticks==="inside"?h.clipEnds(te,se):se,layer:Ce,path:h.makeTickPath(te,Qt,he),transFn:h.makeTransTickFn(te)}),h.drawLabels(U,te,{vals:se,layer:Ce,transFn:h.makeTransTickLabelFn(te),labelFns:h.makeLabelFns(te,Qt)})},function(){if(J&&!ae||!J&&ae){var He,Ae,$e=te.position||0,Oe=te._offset+te._length/2;if(It==="right")Ae=Oe,He=st.l+At*$e+10+qt*(te.showticklabels?1:.5);else if(He=Oe,It==="bottom"&&(Ae=st.t+kt*$e+10+(Jt.indexOf("inside")===-1?te.tickfont.size:0)+(te.ticks!=="intside"&&et.ticklen||0)),It==="top"){var ft=Pt.text.split("<br>").length;Ae=st.t+kt*$e+10-Ct-O*qt*ft}Ee((J?"h":"v")+te._id+"title",{avoid:{selection:l.select(U).selectAll("g."+te._id+"tick"),side:It,offsetTop:J?0:st.t,offsetLeft:J?st.l:0,maxShift:J?ot.width:ot.height},attributes:{x:He,y:Ae,"text-anchor":"middle"},transform:{rotate:J?-90:0,offset:0}})}},u.previousPromises,function(){var He,Ae=Ct+X/2;Jt.indexOf("inside")===-1&&(He=y.bBox(Ce.node()),Ae+=J?He.width:He.height),jt=$t.select("text");var $e=0,Oe=J&&It==="top",ft=!J&&It==="right",mt=0;if(jt.node()&&!jt.classed(P.jsPlaceholder)){var Ht,Vt=$t.select(".h"+te._id+"title-math-group").node();Vt&&(J&&ae||!J&&!ae)?($e=(He=y.bBox(Vt)).width,Ht=He.height):($e=(He=y.bBox($t.node())).right-st.l-(J?Bt:ne),Ht=He.bottom-st.t-(J?ne:Bt),J||It!=="top"||(Ae+=He.height,mt=He.height)),ft&&(jt.attr("transform",g($e/2+qt/2,0)),$e*=2),Ae=Math.max(Ae,J?$e:Ht)}var ee=2*(J?V:B)+Ae+it+X/2,Xt=0;!J&&Pt.text&&rt==="bottom"&&$<=0&&(ee+=Xt=ee/2,mt+=Xt),ot._hColorbarMoveTitle=Xt,ot._hColorbarMoveCBTitle=mt;var Qt=it+X,se=(J?Bt:ne)-Qt/2-(J?V:0),he=(J?ne:Bt)-(J?Nt:B+mt-Xt);q.select("."+P.cbbg).attr("x",se).attr("y",he).attr(J?"width":"height",Math.max(ee-Xt,2)).attr(J?"height":"width",Math.max(Nt+Qt,2)).call(_.fill,lt).call(_.stroke,et.bordercolor).style("stroke-width",it);var ye=ft?Math.max($e-10,0):0;q.selectAll("."+P.cboutline).attr("x",(J?Bt:ne+V)+ye).attr("y",(J?ne+B-Nt:Bt)+(Oe?fe:0)).attr(J?"width":"height",Math.max(Ct,2)).attr(J?"height":"width",Math.max(Nt-(J?2*B+fe:2*V+ye),2)).call(_.stroke,et.outlinecolor).style({fill:"none","stroke-width":X});var oe=J?Lt*ee:0,Ue=J?0:(1-zt)*ee-mt;if(oe=Q?st.l-oe:-oe,Ue=Z?st.t-Ue:-Ue,q.attr("transform",g(oe,Ue)),!J&&(it||c(lt).getAlpha()&&!c.equals(ot.paper_bgcolor,lt))){var rn=Ce.selectAll("text"),Ne=rn[0].length,Fe=q.select("."+P.cbbg).node(),Be=y.bBox(Fe),Se=y.getTranslate(q);rn.each(function(je,qe){var nn=Ne-1;if(qe===0||qe===nn){var sn,Ze=y.bBox(this),tn=y.getTranslate(this);if(qe===nn){var Tn=Ze.right+tn.x;(sn=Be.right+Se.x+ne-it-2+H-Tn)>0&&(sn=0)}else if(qe===0){var An=Ze.left+tn.x;(sn=Be.left+Se.x+ne+it+2-An)<0&&(sn=0)}sn&&(Ne<3?this.setAttribute("transform","translate("+sn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Te={},xe=N[pt],Xe=F[pt],Ve=N[rt],an=F[rt],ge=ee-Ct;J?(ct==="pixels"?(Te.y=$,Te.t=Nt*Ve,Te.b=Nt*an):(Te.t=Te.b=0,Te.yt=$+nt*Ve,Te.yb=$-nt*an),W==="pixels"?(Te.x=H,Te.l=ee*xe,Te.r=ee*Xe):(Te.l=ge*xe,Te.r=ge*Xe,Te.xl=H-z*xe,Te.xr=H+z*Xe)):(ct==="pixels"?(Te.x=H,Te.l=Nt*xe,Te.r=Nt*Xe):(Te.l=Te.r=0,Te.xl=H+nt*xe,Te.xr=H-nt*Xe),W==="pixels"?(Te.y=1-$,Te.t=ee*Ve,Te.b=ee*an):(Te.t=ge*Ve,Te.b=ge*an,Te.yt=$-z*Ve,Te.yb=$+z*an));var Pe=et.y<.5?"b":"t",ke=et.x<.5?"l":"r";U._fullLayout._reservedMargin[et._id]={};var Ye={r:ot.width-se-oe,l:se+Te.r,b:ot.height-he-Ue,t:he+Te.b};Q&&Z?u.autoMargin(U,et._id,Te):Q?U._fullLayout._reservedMargin[et._id][Pe]=Ye[Pe]:Z||J?U._fullLayout._reservedMargin[et._id][ke]=Ye[ke]:U._fullLayout._reservedMargin[et._id][Pe]=Ye[Pe]}],U)}(j,I,R);G&&G.then&&(R._promises||[]).push(G),R._context.edits.colorbarPosition&&function(q,et,U){var J,nt,ct,z=et.orientation==="v",W=U._fullLayout._size;d.init({element:q.node(),gd:U,prepFn:function(){J=q.attr("transform"),v(q)},moveFn:function(X,it){q.attr("transform",J+g(X,it)),nt=d.align((z?et._uFrac:et._vFrac)+X/W.w,z?et._thickFrac:et._lenFrac,0,1,et.xanchor),ct=d.align((z?et._vFrac:1-et._uFrac)-it/W.h,z?et._lenFrac:et._thickFrac,0,1,et.yanchor);var lt=d.getCursor(nt,ct,et.xanchor,et.yanchor);v(q,lt)},doneFn:function(){if(v(q),nt!==void 0&&ct!==void 0){var X={};X[et._propPrefix+"x"]=nt,X[et._propPrefix+"y"]=ct,et._traceIndex!==void 0?f.call("_guiRestyle",U,X,et._traceIndex):f.call("_guiRelayout",U,X)}}})}(j,I,R)}),k.exit().each(function(I){u.autoMargin(R,I._id)}).remove(),k.order()}}},6228:function(a,s,o){var l=o(1828);a.exports=function(c){return l.isPlainObject(c.colorbar)}},2311:function(a,s,o){a.exports={moduleType:"component",name:"colorbar",attributes:o(3583),supplyDefaults:o(2499),draw:o(8981).draw,hasColorbar:o(6228)}},693:function(a,s,o){var l=o(3583),c=o(587).counter,u=o(8607),f=o(3282).scales;function h(d){return"`"+d+"`"}u(f),a.exports=function(d,p){d=d||"";var g,m=(p=p||{}).cLetter||"c",v=("onlyIfNumerical"in p&&p.onlyIfNumerical,"noScale"in p?p.noScale:d==="marker.line"),y="showScaleDflt"in p?p.showScaleDflt:m==="z",_=typeof p.colorscaleDflt=="string"?f[p.colorscaleDflt]:null,b=p.editTypeOverride||"",w=d?d+".":"";"colorAttr"in p?(g=p.colorAttr,p.colorAttr):h(w+(g={z:"z",c:"color"}[m]));var T=m+"auto",M=m+"min",S=m+"max",E=m+"mid",A={};A[M]=A[S]=void 0;var O={};O[T]=!1;var N={};return g==="color"&&(N.color={valType:"color",arrayOk:!0,editType:b||"style"},p.anim&&(N.color.anim=!0)),N[T]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:A},N[M]={valType:"number",dflt:null,editType:b||"plot",impliedEdits:O},N[S]={valType:"number",dflt:null,editType:b||"plot",impliedEdits:O},N[E]={valType:"number",dflt:null,editType:"calc",impliedEdits:A},N.colorscale={valType:"colorscale",editType:"calc",dflt:_,impliedEdits:{autocolorscale:!1}},N.autocolorscale={valType:"boolean",dflt:p.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},N.reversescale={valType:"boolean",dflt:!1,editType:"plot"},v||(N.showscale={valType:"boolean",dflt:y,editType:"calc"},N.colorbar=l),p.noColorAxis||(N.coloraxis={valType:"subplotid",regex:c("coloraxis"),dflt:null,editType:"calc"}),N}},8803:function(a,s,o){var l=o(2770),c=o(1828),u=o(2869).extractOpts;a.exports=function(f,h,d){var p,g=f._fullLayout,m=d.vals,v=d.containerStr,y=v?c.nestedProperty(h,v).get():h,_=u(y),b=_.auto!==!1,w=_.min,T=_.max,M=_.mid,S=function(){return c.aggNums(Math.min,null,m)},E=function(){return c.aggNums(Math.max,null,m)};w===void 0?w=S():b&&(w=y._colorAx&&l(w)?Math.min(w,S()):S()),T===void 0?T=E():b&&(T=y._colorAx&&l(T)?Math.max(T,E()):E()),b&&M!==void 0&&(T-M>M-w?w=M-(T-M):T-M<M-w&&(T=M+(M-w))),w===T&&(w-=.5,T+=.5),_._sync("min",w),_._sync("max",T),_.autocolorscale&&(p=w*T<0?g.colorscale.diverging:w>=0?g.colorscale.sequential:g.colorscale.sequentialminus,_._sync("colorscale",p))}},3046:function(a,s,o){var l=o(1828),c=o(2869).hasColorscale,u=o(2869).extractOpts;a.exports=function(f,h){function d(b,w){var T=b["_"+w];T!==void 0&&(b[w]=T)}function p(b,w){var T=w.container?l.nestedProperty(b,w.container).get():b;if(T)if(T.coloraxis)T._colorAx=h[T.coloraxis];else{var M=u(T),S=M.auto;(S||M.min===void 0)&&d(T,w.min),(S||M.max===void 0)&&d(T,w.max),M.autocolorscale&&d(T,"colorscale")}}for(var g=0;g<f.length;g++){var m=f[g],v=m._module.colorbar;if(v)if(Array.isArray(v))for(var y=0;y<v.length;y++)p(m,v[y]);else p(m,v);c(m,"marker.line")&&p(m,{container:"marker.line",min:"cmin",max:"cmax"})}for(var _ in h._colorAxes)p(h[_],{min:"cmin",max:"cmax"})}},1586:function(a,s,o){var l=o(2770),c=o(1828),u=o(6228),f=o(2499),h=o(3282).isValid,d=o(3972).traceIs;function p(g,m){var v=m.slice(0,m.length-1);return m?c.nestedProperty(g,v).get()||{}:g}a.exports=function g(m,v,y,_,b){var w=b.prefix,T=b.cLetter,M="_module"in v,S=p(m,w),E=p(v,w),A=p(v._template||{},w)||{},O=function(){return delete m.coloraxis,delete v.coloraxis,g(m,v,y,_,b)};if(M){var N=y._colorAxes||{},F=_(w+"coloraxis");if(F){var P=d(v,"contour")&&c.nestedProperty(v,"contours.coloring").get()||"heatmap",R=N[F];return void(R?(R[2].push(O),R[0]!==P&&(R[0]=!1,c.warn(["Ignoring coloraxis:",F,"setting","as it is linked to incompatible colorscales."].join(" ")))):N[F]=[P,v,[O]])}}var k=S[T+"min"],I=S[T+"max"],j=l(k)&&l(I)&&k<I;_(w+T+"auto",!j)?_(w+T+"mid"):(_(w+T+"min"),_(w+T+"max"));var G,q,et=S.colorscale,U=A.colorscale;et!==void 0&&(G=!h(et)),U!==void 0&&(G=!h(U)),_(w+"autocolorscale",G),_(w+"colorscale"),_(w+"reversescale"),w!=="marker.line."&&(w&&M&&(q=u(S)),_(w+"showscale",q)&&(w&&A&&(E._template=A),f(S,E,y)))}},2869:function(a,s,o){var l=o(9898),c=o(4267),u=o(2770),f=o(1828),h=o(7901),d=o(3282).isValid,p=["showscale","autocolorscale","colorscale","reversescale","colorbar"],g=["min","max","mid","auto"];function m(w){var T,M,S,E=w._colorAx,A=E||w,O={};for(M=0;M<p.length;M++)O[S=p[M]]=A[S];if(E)for(T="c",M=0;M<g.length;M++)O[S=g[M]]=A["c"+S];else{var N;for(M=0;M<g.length;M++)((N="c"+(S=g[M]))in A||(N="z"+S)in A)&&(O[S]=A[N]);T=N.charAt(0)}return O._sync=function(F,P){var R=g.indexOf(F)!==-1?T+F:F;A[R]=A["_"+R]=P},O}function v(w){for(var T=m(w),M=T.min,S=T.max,E=T.reversescale?y(T.colorscale):T.colorscale,A=E.length,O=new Array(A),N=new Array(A),F=0;F<A;F++){var P=E[F];O[F]=M+P[0]*(S-M),N[F]=P[1]}return{domain:O,range:N}}function y(w){for(var T=w.length,M=new Array(T),S=T-1,E=0;S>=0;S--,E++){var A=w[S];M[E]=[1-A[0],A[1]]}return M}function _(w,T){T=T||{};for(var M=w.domain,S=w.range,E=S.length,A=new Array(E),O=0;O<E;O++){var N=c(S[O]).toRgb();A[O]=[N.r,N.g,N.b,N.a]}var F,P=l.scale.linear().domain(M).range(A).clamp(!0),R=T.noNumericCheck,k=T.returnArray;return(F=R&&k?P:R?function(I){return b(P(I))}:k?function(I){return u(I)?P(I):c(I).isValid()?I:h.defaultLine}:function(I){return u(I)?b(P(I)):c(I).isValid()?I:h.defaultLine}).domain=P.domain,F.range=function(){return S},F}function b(w){var T={r:w[0],g:w[1],b:w[2],a:w[3]};return c(T).toRgbString()}a.exports={hasColorscale:function(w,T,M){var S=T?f.nestedProperty(w,T).get()||{}:w,E=S[M||"color"],A=!1;if(f.isArrayOrTypedArray(E)){for(var O=0;O<E.length;O++)if(u(E[O])){A=!0;break}}return f.isPlainObject(S)&&(A||S.showscale===!0||u(S.cmin)&&u(S.cmax)||d(S.colorscale)||f.isPlainObject(S.colorbar))},extractOpts:m,extractScale:v,flipScale:y,makeColorScaleFunc:_,makeColorScaleFuncFromTrace:function(w,T){return _(v(w),T)}}},1081:function(a,s,o){var l=o(3282),c=o(2869);a.exports={moduleType:"component",name:"colorscale",attributes:o(693),layoutAttributes:o(2673),supplyLayoutDefaults:o(959),handleDefaults:o(1586),crossTraceDefaults:o(3046),calc:o(8803),scales:l.scales,defaultScale:l.defaultScale,getScale:l.get,isValidScale:l.isValid,hasColorscale:c.hasColorscale,extractOpts:c.extractOpts,extractScale:c.extractScale,flipScale:c.flipScale,makeColorScaleFunc:c.makeColorScaleFunc,makeColorScaleFuncFromTrace:c.makeColorScaleFuncFromTrace}},2673:function(a,s,o){var l=o(1426).extendFlat,c=o(693),u=o(3282).scales;a.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:u.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:u.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:u.RdBu,editType:"calc"}},coloraxis:l({_isSubplotObj:!0,editType:"calc"},c("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},959:function(a,s,o){var l=o(1828),c=o(4467),u=o(2673),f=o(1586);a.exports=function(h,d){function p(T,M){return l.coerce(h,d,u,T,M)}p("colorscale.sequential"),p("colorscale.sequentialminus"),p("colorscale.diverging");var g,m,v=d._colorAxes;function y(T,M){return l.coerce(g,m,u.coloraxis,T,M)}for(var _ in v){var b=v[_];if(b[0])g=h[_]||{},(m=c.newContainer(d,_,"coloraxis"))._name=_,f(g,m,d,y,{prefix:"",cLetter:"c"});else{for(var w=0;w<b[2].length;w++)b[2][w]();delete d._colorAxes[_]}}}},3282:function(a,s,o){var l=o(4267),c={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},u=c.RdBu;function f(h){var d=0;if(!Array.isArray(h)||h.length<2||!h[0]||!h[h.length-1]||+h[0][0]!=0||+h[h.length-1][0]!=1)return!1;for(var p=0;p<h.length;p++){var g=h[p];if(g.length!==2||+g[0]<d||!l(g[1]).isValid())return!1;d=+g[0]}return!0}a.exports={scales:c,defaultScale:u,get:function(h,d){if(d||(d=u),!h)return d;function p(){try{h=c[h]||JSON.parse(h)}catch{h=d}}return typeof h=="string"&&(p(),typeof h=="string"&&p()),f(h)?h:d},isValid:function(h){return c[h]!==void 0||f(h)}}},2807:function(a){a.exports=function(s,o,l,c,u){var f=(s-l)/(c-l),h=f+o/(c-l),d=(f+h)/2;return u==="left"||u==="bottom"?f:u==="center"||u==="middle"?d:u==="right"||u==="top"?h:f<.6666666666666666-d?f:h>1.3333333333333333-d?h:d}},461:function(a,s,o){var l=o(1828),c=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];a.exports=function(u,f,h,d){return u=h==="left"?0:h==="center"?1:h==="right"?2:l.constrain(Math.floor(3*u),0,2),f=d==="bottom"?0:d==="middle"?1:d==="top"?2:l.constrain(Math.floor(3*f),0,2),c[f][u]}},4505:function(a,s){s.selectMode=function(o){return o==="lasso"||o==="select"},s.drawMode=function(o){return o==="drawclosedpath"||o==="drawopenpath"||o==="drawline"||o==="drawrect"||o==="drawcircle"},s.openMode=function(o){return o==="drawline"||o==="drawopenpath"},s.rectMode=function(o){return o==="select"||o==="drawline"||o==="drawrect"||o==="drawcircle"},s.freeMode=function(o){return o==="lasso"||o==="drawclosedpath"||o==="drawopenpath"},s.selectingOrDrawing=function(o){return s.freeMode(o)||s.rectMode(o)}},8569:function(a,s,o){var l=o(8956),c=o(7035),u=o(8520),f=o(1828).removeElement,h=o(5555),d=a.exports={};d.align=o(2807),d.getCursor=o(461);var p=o(6041);function g(){var v=document.createElement("div");v.className="dragcover";var y=v.style;return y.position="fixed",y.left=0,y.right=0,y.top=0,y.bottom=0,y.zIndex=999999999,y.background="none",document.body.appendChild(v),v}function m(v){return l(v.changedTouches?v.changedTouches[0]:v,document.body)}d.unhover=p.wrapped,d.unhoverRaw=p.raw,d.init=function(v){var y,_,b,w,T,M,S,E,A=v.gd,O=1,N=A._context.doubleClickDelay,F=v.element;A._mouseDownTime||(A._mouseDownTime=0),F.style.pointerEvents="all",F.onmousedown=R,u?(F._ontouchstart&&F.removeEventListener("touchstart",F._ontouchstart),F._ontouchstart=R,F.addEventListener("touchstart",R,{passive:!1})):F.ontouchstart=R;var P=v.clampFn||function(j,G,q){return Math.abs(j)<q&&(j=0),Math.abs(G)<q&&(G=0),[j,G]};function R(j){A._dragged=!1,A._dragging=!0;var G=m(j);y=G[0],_=G[1],S=j.target,M=j,E=j.buttons===2||j.ctrlKey,j.clientX===void 0&&j.clientY===void 0&&(j.clientX=y,j.clientY=_),(b=new Date().getTime())-A._mouseDownTime<N?O+=1:(O=1,A._mouseDownTime=b),v.prepFn&&v.prepFn(j,y,_),c&&!E?(T=g()).style.cursor=window.getComputedStyle(F).cursor:c||(T=document,w=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(F).cursor),document.addEventListener("mouseup",I),document.addEventListener("touchend",I),v.dragmode!==!1&&(j.preventDefault(),document.addEventListener("mousemove",k),document.addEventListener("touchmove",k,{passive:!1}))}function k(j){j.preventDefault();var G=m(j),q=v.minDrag||h.MINDRAG,et=P(G[0]-y,G[1]-_,q),U=et[0],J=et[1];(U||J)&&(A._dragged=!0,d.unhover(A,j)),A._dragged&&v.moveFn&&!E&&(A._dragdata={element:F,dx:U,dy:J},v.moveFn(U,J))}function I(j){if(delete A._dragdata,v.dragmode!==!1&&(j.preventDefault(),document.removeEventListener("mousemove",k),document.removeEventListener("touchmove",k)),document.removeEventListener("mouseup",I),document.removeEventListener("touchend",I),c?f(T):w&&(T.documentElement.style.cursor=w,w=null),A._dragging){if(A._dragging=!1,new Date().getTime()-A._mouseDownTime>N&&(O=Math.max(O-1,1)),A._dragged)v.doneFn&&v.doneFn();else if(v.clickFn&&v.clickFn(O,M),!E){var G;try{G=new MouseEvent("click",j)}catch{var q=m(j);(G=document.createEvent("MouseEvents")).initMouseEvent("click",j.bubbles,j.cancelable,j.view,j.detail,j.screenX,j.screenY,q[0],q[1],j.ctrlKey,j.altKey,j.shiftKey,j.metaKey,j.button,j.relatedTarget)}S.dispatchEvent(G)}A._dragging=!1,A._dragged=!1}else A._dragged=!1}},d.coverSlip=g},6041:function(a,s,o){var l=o(1086),c=o(9990),u=o(4401).getGraphDiv,f=o(6675),h=a.exports={};h.wrapped=function(d,p,g){(d=u(d))._fullLayout&&c.clear(d._fullLayout._uid+f.HOVERID),h.raw(d,p,g)},h.raw=function(d,p){var g=d._fullLayout,m=d._hoverdata;p||(p={}),p.target&&!d._dragged&&l.triggerHandler(d,"plotly_beforehover",p)===!1||(g._hoverlayer.selectAll("g").remove(),g._hoverlayer.selectAll("line").remove(),g._hoverlayer.selectAll("circle").remove(),d._hoverdata=void 0,p.target&&m&&d.emit("plotly_unhover",{event:p,points:m}))}},9952:function(a,s){s.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},s.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},1424:function(a,s,o){var l=o(9898),c=o(1828),u=c.numberFormat,f=o(2770),h=o(4267),d=o(3972),p=o(7901),g=o(1081),m=c.strTranslate,v=o(3893),y=o(7922),_=o(8783).LINE_SPACING,b=o(7822).DESELECTDIM,w=o(4098),T=o(9984),M=o(3469).appendArrayPointValue,S=a.exports={};function E(gt,_t,wt){var Et=_t.fillpattern,ht=Et&&S.getPatternAttr(Et.shape,0,"");if(ht){var vt=S.getPatternAttr(Et.bgcolor,0,null),Ct=S.getPatternAttr(Et.fgcolor,0,null),Mt=Et.fgopacity,Nt=S.getPatternAttr(Et.size,0,8),Rt=S.getPatternAttr(Et.solidity,0,.3),At=_t.uid;S.pattern(gt,"point",wt,At,ht,Nt,Rt,void 0,Et.fillmode,vt,Ct,Mt)}else _t.fillcolor&&gt.call(p.fill,_t.fillcolor)}S.font=function(gt,_t,wt,Et){c.isPlainObject(_t)&&(Et=_t.color,wt=_t.size,_t=_t.family),_t&&gt.style("font-family",_t),wt+1&&gt.style("font-size",wt+"px"),Et&&gt.call(p.fill,Et)},S.setPosition=function(gt,_t,wt){gt.attr("x",_t).attr("y",wt)},S.setSize=function(gt,_t,wt){gt.attr("width",_t).attr("height",wt)},S.setRect=function(gt,_t,wt,Et,ht){gt.call(S.setPosition,_t,wt).call(S.setSize,Et,ht)},S.translatePoint=function(gt,_t,wt,Et){var ht=wt.c2p(gt.x),vt=Et.c2p(gt.y);return!!(f(ht)&&f(vt)&&_t.node())&&(_t.node().nodeName==="text"?_t.attr("x",ht).attr("y",vt):_t.attr("transform",m(ht,vt)),!0)},S.translatePoints=function(gt,_t,wt){gt.each(function(Et){var ht=l.select(this);S.translatePoint(Et,ht,_t,wt)})},S.hideOutsideRangePoint=function(gt,_t,wt,Et,ht,vt){_t.attr("display",wt.isPtWithinRange(gt,ht)&&Et.isPtWithinRange(gt,vt)?null:"none")},S.hideOutsideRangePoints=function(gt,_t){if(_t._hasClipOnAxisFalse){var wt=_t.xaxis,Et=_t.yaxis;gt.each(function(ht){var vt=ht[0].trace,Ct=vt.xcalendar,Mt=vt.ycalendar,Nt=d.traceIs(vt,"bar-like")?".bartext":".point,.textpoint";gt.selectAll(Nt).each(function(Rt){S.hideOutsideRangePoint(Rt,l.select(this),wt,Et,Ct,Mt)})})}},S.crispRound=function(gt,_t,wt){return _t&&f(_t)?gt._context.staticPlot?_t:_t<1?1:Math.round(_t):wt||0},S.singleLineStyle=function(gt,_t,wt,Et,ht){_t.style("fill","none");var vt=(((gt||[])[0]||{}).trace||{}).line||{},Ct=wt||vt.width||0,Mt=ht||vt.dash||"";p.stroke(_t,Et||vt.color),S.dashLine(_t,Mt,Ct)},S.lineGroupStyle=function(gt,_t,wt,Et){gt.style("fill","none").each(function(ht){var vt=(((ht||[])[0]||{}).trace||{}).line||{},Ct=_t||vt.width||0,Mt=Et||vt.dash||"";l.select(this).call(p.stroke,wt||vt.color).call(S.dashLine,Mt,Ct)})},S.dashLine=function(gt,_t,wt){wt=+wt||0,_t=S.dashStyle(_t,wt),gt.style({"stroke-dasharray":_t,"stroke-width":wt+"px"})},S.dashStyle=function(gt,_t){_t=+_t||1;var wt=Math.max(_t,3);return gt==="solid"?gt="":gt==="dot"?gt=wt+"px,"+wt+"px":gt==="dash"?gt=3*wt+"px,"+3*wt+"px":gt==="longdash"?gt=5*wt+"px,"+5*wt+"px":gt==="dashdot"?gt=3*wt+"px,"+wt+"px,"+wt+"px,"+wt+"px":gt==="longdashdot"&&(gt=5*wt+"px,"+2*wt+"px,"+wt+"px,"+2*wt+"px"),gt},S.singleFillStyle=function(gt,_t){var wt=l.select(gt.node());E(gt,((wt.data()[0]||[])[0]||{}).trace||{},_t)},S.fillGroupStyle=function(gt,_t){gt.style("stroke-width",0).each(function(wt){var Et=l.select(this);wt[0].trace&&E(Et,wt[0].trace,_t)})};var A=o(998);S.symbolNames=[],S.symbolFuncs=[],S.symbolBackOffs=[],S.symbolNeedLines={},S.symbolNoDot={},S.symbolNoFill={},S.symbolList=[],Object.keys(A).forEach(function(gt){var _t=A[gt],wt=_t.n;S.symbolList.push(wt,String(wt),gt,wt+100,String(wt+100),gt+"-open"),S.symbolNames[wt]=gt,S.symbolFuncs[wt]=_t.f,S.symbolBackOffs[wt]=_t.backoff||0,_t.needLine&&(S.symbolNeedLines[wt]=!0),_t.noDot?S.symbolNoDot[wt]=!0:S.symbolList.push(wt+200,String(wt+200),gt+"-dot",wt+300,String(wt+300),gt+"-open-dot"),_t.noFill&&(S.symbolNoFill[wt]=!0)});var O=S.symbolNames.length;function N(gt,_t,wt,Et){var ht=gt%100;return S.symbolFuncs[ht](_t,wt,Et)+(gt>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}S.symbolNumber=function(gt){if(f(gt))gt=+gt;else if(typeof gt=="string"){var _t=0;gt.indexOf("-open")>0&&(_t=100,gt=gt.replace("-open","")),gt.indexOf("-dot")>0&&(_t+=200,gt=gt.replace("-dot","")),(gt=S.symbolNames.indexOf(gt))>=0&&(gt+=_t)}return gt%100>=O||gt>=400?0:Math.floor(Math.max(gt,0))};var F={x1:1,x2:0,y1:0,y2:0},P={x1:0,x2:0,y1:1,y2:0},R=u("~f"),k={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:F},horizontalreversed:{node:"linearGradient",attrs:F,reversed:!0},vertical:{node:"linearGradient",attrs:P},verticalreversed:{node:"linearGradient",attrs:P,reversed:!0}};S.gradient=function(gt,_t,wt,Et,ht,vt){for(var Ct=ht.length,Mt=k[Et],Nt=new Array(Ct),Rt=0;Rt<Ct;Rt++)Mt.reversed?Nt[Ct-1-Rt]=[R(100*(1-ht[Rt][0])),ht[Rt][1]]:Nt[Rt]=[R(100*ht[Rt][0]),ht[Rt][1]];var At=_t._fullLayout,kt="g"+At._uid+"-"+wt,Bt=At._defs.select(".gradients").selectAll("#"+kt).data([Et+Nt.join(";")],c.identity);Bt.exit().remove(),Bt.enter().append(Mt.node).each(function(){var Lt=l.select(this);Mt.attrs&&Lt.attr(Mt.attrs),Lt.attr("id",kt);var zt=Lt.selectAll("stop").data(Nt);zt.exit().remove(),zt.enter().append("stop"),zt.each(function(Gt){var Ut=h(Gt[1]);l.select(this).attr({offset:Gt[0]+"%","stop-color":p.tinyRGB(Ut),"stop-opacity":Ut.getAlpha()})})}),gt.style(vt,pt(kt,_t)).style(vt+"-opacity",null),gt.classed("gradient_filled",!0)},S.pattern=function(gt,_t,wt,Et,ht,vt,Ct,Mt,Nt,Rt,At,kt){var Bt=_t==="legend";Mt&&(Nt==="overlay"?(Rt=Mt,At=p.contrast(Rt)):(Rt=void 0,At=Mt));var Lt,zt,Gt,Ut,ne,te,ae,ue,pe,be=wt._fullLayout,re="p"+be._uid+"-"+Et,jt={},$t=h(At),Jt=p.tinyRGB($t),qt=kt*$t.getAlpha();switch(ht){case"/":Lt=vt*Math.sqrt(2),zt=vt*Math.sqrt(2),te="path",jt={d:Gt="M-"+Lt/4+","+zt/4+"l"+Lt/2+",-"+zt/2+"M0,"+zt+"L"+Lt+",0M"+Lt/4*3+","+zt/4*5+"l"+Lt/2+",-"+zt/2,opacity:qt,stroke:Jt,"stroke-width":(Ut=Ct*vt)+"px"};break;case"\\":Lt=vt*Math.sqrt(2),zt=vt*Math.sqrt(2),te="path",jt={d:Gt="M"+Lt/4*3+",-"+zt/4+"l"+Lt/2+","+zt/2+"M0,0L"+Lt+","+zt+"M-"+Lt/4+","+zt/4*3+"l"+Lt/2+","+zt/2,opacity:qt,stroke:Jt,"stroke-width":(Ut=Ct*vt)+"px"};break;case"x":Lt=vt*Math.sqrt(2),zt=vt*Math.sqrt(2),Gt="M-"+Lt/4+","+zt/4+"l"+Lt/2+",-"+zt/2+"M0,"+zt+"L"+Lt+",0M"+Lt/4*3+","+zt/4*5+"l"+Lt/2+",-"+zt/2+"M"+Lt/4*3+",-"+zt/4+"l"+Lt/2+","+zt/2+"M0,0L"+Lt+","+zt+"M-"+Lt/4+","+zt/4*3+"l"+Lt/2+","+zt/2,Ut=vt-vt*Math.sqrt(1-Ct),te="path",jt={d:Gt,opacity:qt,stroke:Jt,"stroke-width":Ut+"px"};break;case"|":te="path",te="path",jt={d:Gt="M"+(Lt=vt)/2+",0L"+Lt/2+","+(zt=vt),opacity:qt,stroke:Jt,"stroke-width":(Ut=Ct*vt)+"px"};break;case"-":te="path",te="path",jt={d:Gt="M0,"+(zt=vt)/2+"L"+(Lt=vt)+","+zt/2,opacity:qt,stroke:Jt,"stroke-width":(Ut=Ct*vt)+"px"};break;case"+":te="path",Gt="M"+(Lt=vt)/2+",0L"+Lt/2+","+(zt=vt)+"M0,"+zt/2+"L"+Lt+","+zt/2,Ut=vt-vt*Math.sqrt(1-Ct),te="path",jt={d:Gt,opacity:qt,stroke:Jt,"stroke-width":Ut+"px"};break;case".":Lt=vt,zt=vt,Ct<Math.PI/4?ne=Math.sqrt(Ct*vt*vt/Math.PI):(ae=Ct,ue=Math.PI/4,ne=(pe=vt/2)+(vt/Math.sqrt(2)-pe)*(ae-ue)/(1-ue)),te="circle",jt={cx:Lt/2,cy:zt/2,r:ne,opacity:qt,fill:Jt}}var Ce=[ht||"noSh",Rt||"noBg",At||"noFg",vt,Ct].join(";"),fe=be._defs.select(".patterns").selectAll("#"+re).data([Ce],c.identity);fe.exit().remove(),fe.enter().append("pattern").each(function(){var Me=l.select(this);if(Me.attr({id:re,width:Lt+"px",height:zt+"px",patternUnits:"userSpaceOnUse",patternTransform:Bt?"scale(0.8)":""}),Rt){var Ee=h(Rt),He=p.tinyRGB(Ee),Ae=Ee.getAlpha(),$e=Me.selectAll("rect").data([0]);$e.exit().remove(),$e.enter().append("rect").attr({width:Lt+"px",height:zt+"px",fill:He,"fill-opacity":Ae})}var Oe=Me.selectAll(te).data([0]);Oe.exit().remove(),Oe.enter().append(te).attr(jt)}),gt.style("fill",pt(re,wt)).style("fill-opacity",null),gt.classed("pattern_filled",!0)},S.initGradients=function(gt){var _t=gt._fullLayout;c.ensureSingle(_t._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),l.select(gt).selectAll(".gradient_filled").classed("gradient_filled",!1)},S.initPatterns=function(gt){var _t=gt._fullLayout;c.ensureSingle(_t._defs,"g","patterns").selectAll("pattern").remove(),l.select(gt).selectAll(".pattern_filled").classed("pattern_filled",!1)},S.getPatternAttr=function(gt,_t,wt){return gt&&c.isArrayOrTypedArray(gt)?_t<gt.length?gt[_t]:wt:gt},S.pointStyle=function(gt,_t,wt,Et){if(gt.size()){var ht=S.makePointStyleFns(_t);gt.each(function(vt){S.singlePointStyle(vt,l.select(this),_t,ht,wt,Et)})}},S.singlePointStyle=function(gt,_t,wt,Et,ht,vt){var Ct=wt.marker,Mt=Ct.line;if(vt&&vt.i>=0&&gt.i===void 0&&(gt.i=vt.i),_t.style("opacity",Et.selectedOpacityFn?Et.selectedOpacityFn(gt):gt.mo===void 0?Ct.opacity:gt.mo),Et.ms2mrc){var Nt;Nt=gt.ms==="various"||Ct.size==="various"?3:Et.ms2mrc(gt.ms),gt.mrc=Nt,Et.selectedSizeFn&&(Nt=gt.mrc=Et.selectedSizeFn(gt));var Rt=S.symbolNumber(gt.mx||Ct.symbol)||0;gt.om=Rt%200>=100;var At=Dt(gt,wt),kt=B(gt,wt);_t.attr("d",N(Rt,Nt,At,kt))}var Bt,Lt,zt,Gt=!1;if(gt.so)zt=Mt.outlierwidth,Lt=Mt.outliercolor,Bt=Ct.outliercolor;else{var Ut=(Mt||{}).width;zt=(gt.mlw+1||Ut+1||(gt.trace?(gt.trace.marker.line||{}).width:0)+1)-1||0,Lt="mlc"in gt?gt.mlcc=Et.lineScale(gt.mlc):c.isArrayOrTypedArray(Mt.color)?p.defaultLine:Mt.color,c.isArrayOrTypedArray(Ct.color)&&(Bt=p.defaultLine,Gt=!0),Bt="mc"in gt?gt.mcc=Et.markerScale(gt.mc):Ct.color||Ct.colors||"rgba(0,0,0,0)",Et.selectedColorFn&&(Bt=Et.selectedColorFn(gt))}if(gt.om)_t.call(p.stroke,Bt).style({"stroke-width":(zt||1)+"px",fill:"none"});else{_t.style("stroke-width",(gt.isBlank?0:zt)+"px");var ne=Ct.gradient,te=gt.mgt;te?Gt=!0:te=ne&&ne.type,c.isArrayOrTypedArray(te)&&(te=te[0],k[te]||(te=0));var ae=Ct.pattern,ue=ae&&S.getPatternAttr(ae.shape,gt.i,"");if(te&&te!=="none"){var pe=gt.mgc;pe?Gt=!0:pe=ne.color;var be=wt.uid;Gt&&(be+="-"+gt.i),S.gradient(_t,ht,be,te,[[0,pe],[1,Bt]],"fill")}else if(ue){var re=!1,jt=ae.fgcolor;!jt&&vt&&vt.color&&(jt=vt.color,re=!0);var $t=S.getPatternAttr(jt,gt.i,vt&&vt.color||null),Jt=S.getPatternAttr(ae.bgcolor,gt.i,null),qt=ae.fgopacity,Ce=S.getPatternAttr(ae.size,gt.i,8),fe=S.getPatternAttr(ae.solidity,gt.i,.3);re=re||gt.mcc||c.isArrayOrTypedArray(ae.shape)||c.isArrayOrTypedArray(ae.bgcolor)||c.isArrayOrTypedArray(ae.fgcolor)||c.isArrayOrTypedArray(ae.size)||c.isArrayOrTypedArray(ae.solidity);var Me=wt.uid;re&&(Me+="-"+gt.i),S.pattern(_t,"point",ht,Me,ue,Ce,fe,gt.mcc,ae.fillmode,Jt,$t,qt)}else c.isArrayOrTypedArray(Bt)?p.fill(_t,Bt[gt.i]):p.fill(_t,Bt);zt&&p.stroke(_t,Lt)}},S.makePointStyleFns=function(gt){var _t={},wt=gt.marker;return _t.markerScale=S.tryColorscale(wt,""),_t.lineScale=S.tryColorscale(wt,"line"),d.traceIs(gt,"symbols")&&(_t.ms2mrc=w.isBubble(gt)?T(gt):function(){return(wt.size||6)/2}),gt.selectedpoints&&c.extendFlat(_t,S.makeSelectedPointStyleFns(gt)),_t},S.makeSelectedPointStyleFns=function(gt){var _t={},wt=gt.selected||{},Et=gt.unselected||{},ht=gt.marker||{},vt=wt.marker||{},Ct=Et.marker||{},Mt=ht.opacity,Nt=vt.opacity,Rt=Ct.opacity,At=Nt!==void 0,kt=Rt!==void 0;(c.isArrayOrTypedArray(Mt)||At||kt)&&(_t.selectedOpacityFn=function(ue){var pe=ue.mo===void 0?ht.opacity:ue.mo;return ue.selected?At?Nt:pe:kt?Rt:b*pe});var Bt=ht.color,Lt=vt.color,zt=Ct.color;(Lt||zt)&&(_t.selectedColorFn=function(ue){var pe=ue.mcc||Bt;return ue.selected?Lt||pe:zt||pe});var Gt=ht.size,Ut=vt.size,ne=Ct.size,te=Ut!==void 0,ae=ne!==void 0;return d.traceIs(gt,"symbols")&&(te||ae)&&(_t.selectedSizeFn=function(ue){var pe=ue.mrc||Gt/2;return ue.selected?te?Ut/2:pe:ae?ne/2:pe}),_t},S.makeSelectedTextStyleFns=function(gt){var _t={},wt=gt.selected||{},Et=gt.unselected||{},ht=gt.textfont||{},vt=wt.textfont||{},Ct=Et.textfont||{},Mt=ht.color,Nt=vt.color,Rt=Ct.color;return _t.selectedTextColorFn=function(At){var kt=At.tc||Mt;return At.selected?Nt||kt:Rt||(Nt?kt:p.addOpacity(kt,b))},_t},S.selectedPointStyle=function(gt,_t){if(gt.size()&&_t.selectedpoints){var wt=S.makeSelectedPointStyleFns(_t),Et=_t.marker||{},ht=[];wt.selectedOpacityFn&&ht.push(function(vt,Ct){vt.style("opacity",wt.selectedOpacityFn(Ct))}),wt.selectedColorFn&&ht.push(function(vt,Ct){p.fill(vt,wt.selectedColorFn(Ct))}),wt.selectedSizeFn&&ht.push(function(vt,Ct){var Mt=Ct.mx||Et.symbol||0,Nt=wt.selectedSizeFn(Ct);vt.attr("d",N(S.symbolNumber(Mt),Nt,Dt(Ct,_t),B(Ct,_t))),Ct.mrc2=Nt}),ht.length&&gt.each(function(vt){for(var Ct=l.select(this),Mt=0;Mt<ht.length;Mt++)ht[Mt](Ct,vt)})}},S.tryColorscale=function(gt,_t){var wt=_t?c.nestedProperty(gt,_t).get():gt;if(wt){var Et=wt.color;if((wt.colorscale||wt._colorAx)&&c.isArrayOrTypedArray(Et))return g.makeColorScaleFuncFromTrace(wt)}return c.identity};var I,j,G={start:1,end:-1,middle:0,bottom:1,top:-1};function q(gt,_t,wt,Et,ht){var vt=l.select(gt.node().parentNode),Ct=_t.indexOf("top")!==-1?"top":_t.indexOf("bottom")!==-1?"bottom":"middle",Mt=_t.indexOf("left")!==-1?"end":_t.indexOf("right")!==-1?"start":"middle",Nt=Et?Et/.8+1:0,Rt=(v.lineCount(gt)-1)*_+1,At=G[Mt]*Nt,kt=.75*wt+G[Ct]*Nt+(G[Ct]-1)*Rt*wt/2;gt.attr("text-anchor",Mt),ht||vt.attr("transform",m(At,kt))}function et(gt,_t){var wt=gt.ts||_t.textfont.size;return f(wt)&&wt>0?wt:0}function U(gt,_t,wt){return wt&&(gt=X(gt)),_t?nt(gt[1]):J(gt[0])}function J(gt){var _t=l.round(gt,2);return I=_t,_t}function nt(gt){var _t=l.round(gt,2);return j=_t,_t}function ct(gt,_t,wt,Et){var ht=gt[0]-_t[0],vt=gt[1]-_t[1],Ct=wt[0]-_t[0],Mt=wt[1]-_t[1],Nt=Math.pow(ht*ht+vt*vt,.25),Rt=Math.pow(Ct*Ct+Mt*Mt,.25),At=(Rt*Rt*ht-Nt*Nt*Ct)*Et,kt=(Rt*Rt*vt-Nt*Nt*Mt)*Et,Bt=3*Rt*(Nt+Rt),Lt=3*Nt*(Nt+Rt);return[[J(_t[0]+(Bt&&At/Bt)),nt(_t[1]+(Bt&&kt/Bt))],[J(_t[0]-(Lt&&At/Lt)),nt(_t[1]-(Lt&&kt/Lt))]]}S.textPointStyle=function(gt,_t,wt){if(gt.size()){var Et;if(_t.selectedpoints){var ht=S.makeSelectedTextStyleFns(_t);Et=ht.selectedTextColorFn}var vt=_t.texttemplate,Ct=wt._fullLayout;gt.each(function(Mt){var Nt=l.select(this),Rt=vt?c.extractOption(Mt,_t,"txt","texttemplate"):c.extractOption(Mt,_t,"tx","text");if(Rt||Rt===0){if(vt){var At=_t._module.formatLabels,kt=At?At(Mt,_t,Ct):{},Bt={};M(Bt,_t,Mt.i);var Lt=_t._meta||{};Rt=c.texttemplateString(Rt,kt,Ct._d3locale,Bt,Mt,Lt)}var zt=Mt.tp||_t.textposition,Gt=et(Mt,_t),Ut=Et?Et(Mt):Mt.tc||_t.textfont.color;Nt.call(S.font,Mt.tf||_t.textfont.family,Gt,Ut).text(Rt).call(v.convertToTspans,wt).call(q,zt,Gt,Mt.mrc)}else Nt.remove()})}},S.selectedTextStyle=function(gt,_t){if(gt.size()&&_t.selectedpoints){var wt=S.makeSelectedTextStyleFns(_t);gt.each(function(Et){var ht=l.select(this),vt=wt.selectedTextColorFn(Et),Ct=Et.tp||_t.textposition,Mt=et(Et,_t);p.fill(ht,vt);var Nt=d.traceIs(_t,"bar-like");q(ht,Ct,Mt,Et.mrc2||Et.mrc,Nt)})}},S.smoothopen=function(gt,_t){if(gt.length<3)return"M"+gt.join("L");var wt,Et="M"+gt[0],ht=[];for(wt=1;wt<gt.length-1;wt++)ht.push(ct(gt[wt-1],gt[wt],gt[wt+1],_t));for(Et+="Q"+ht[0][0]+" "+gt[1],wt=2;wt<gt.length-1;wt++)Et+="C"+ht[wt-2][1]+" "+ht[wt-1][0]+" "+gt[wt];return Et+"Q"+ht[gt.length-3][1]+" "+gt[gt.length-1]},S.smoothclosed=function(gt,_t){if(gt.length<3)return"M"+gt.join("L")+"Z";var wt,Et="M"+gt[0],ht=gt.length-1,vt=[ct(gt[ht],gt[0],gt[1],_t)];for(wt=1;wt<ht;wt++)vt.push(ct(gt[wt-1],gt[wt],gt[wt+1],_t));for(vt.push(ct(gt[ht-1],gt[ht],gt[0],_t)),wt=1;wt<=ht;wt++)Et+="C"+vt[wt-1][1]+" "+vt[wt][0]+" "+gt[wt];return Et+"C"+vt[ht][1]+" "+vt[0][0]+" "+gt[0]+"Z"};var z={hv:function(gt,_t,wt){return"H"+J(_t[0])+"V"+U(_t,1,wt)},vh:function(gt,_t,wt){return"V"+nt(_t[1])+"H"+U(_t,0,wt)},hvh:function(gt,_t,wt){return"H"+J((gt[0]+_t[0])/2)+"V"+nt(_t[1])+"H"+U(_t,0,wt)},vhv:function(gt,_t,wt){return"V"+nt((gt[1]+_t[1])/2)+"H"+J(_t[0])+"V"+U(_t,1,wt)}},W=function(gt,_t,wt){return"L"+U(_t,0,wt)+","+U(_t,1,wt)};function X(gt,_t){var wt=gt.backoff,Et=gt.trace,ht=gt.d,vt=gt.i;if(wt&&Et&&Et.marker&&Et.marker.angle%360==0&&Et.line&&Et.line.shape!=="spline"){var Ct=c.isArrayOrTypedArray(wt),Mt=gt,Nt=_t?_t[0]:I||0,Rt=_t?_t[1]:j||0,At=Mt[0],kt=Mt[1],Bt=At-Nt,Lt=kt-Rt,zt=Math.atan2(Lt,Bt),Gt=Ct?wt[vt]:wt;if(Gt==="auto"){var Ut=Mt.i;Et.type==="scatter"&&Ut--;var ne=Mt.marker,te=ne.symbol;c.isArrayOrTypedArray(te)&&(te=te[Ut]);var ae=ne.size;c.isArrayOrTypedArray(ae)&&(ae=ae[Ut]),Gt=ne?S.symbolBackOffs[S.symbolNumber(te)]*ae:0,Gt+=S.getMarkerStandoff(ht[Ut],Et)||0}var ue=At-Gt*Math.cos(zt),pe=kt-Gt*Math.sin(zt);(ue<=At&&ue>=Nt||ue>=At&&ue<=Nt)&&(pe<=kt&&pe>=Rt||pe>=kt&&pe<=Rt)&&(gt=[ue,pe])}return gt}S.steps=function(gt){var _t=z[gt]||W;return function(wt){for(var Et="M"+J(wt[0][0])+","+nt(wt[0][1]),ht=wt.length,vt=1;vt<ht;vt++)Et+=_t(wt[vt-1],wt[vt],vt===ht-1);return Et}},S.applyBackoff=X,S.makeTester=function(){var gt=c.ensureSingleById(l.select("body"),"svg","js-plotly-tester",function(wt){wt.attr(y.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),_t=c.ensureSingle(gt,"path","js-reference-point",function(wt){wt.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});S.tester=gt,S.testref=_t},S.savedBBoxes={};var it=0;function lt(gt){var _t=gt.getAttribute("data-unformatted");if(_t!==null)return _t+gt.getAttribute("data-math")+gt.getAttribute("text-anchor")+gt.getAttribute("style")}function pt(gt,_t){if(!gt)return null;var wt=_t._context,Et=wt._exportedPlot?"":wt._baseUrl||"";return Et?"url('"+Et+"#"+gt+"')":"url(#"+gt+")"}S.bBox=function(gt,_t,wt){var Et,ht,vt;if(wt||(wt=lt(gt)),wt){if(Et=S.savedBBoxes[wt])return c.extendFlat({},Et)}else if(gt.childNodes.length===1){var Ct=gt.childNodes[0];if(wt=lt(Ct)){var Mt=+Ct.getAttribute("x")||0,Nt=+Ct.getAttribute("y")||0,Rt=Ct.getAttribute("transform");if(!Rt){var At=S.bBox(Ct,!1,wt);return Mt&&(At.left+=Mt,At.right+=Mt),Nt&&(At.top+=Nt,At.bottom+=Nt),At}if(wt+="~"+Mt+"~"+Nt+"~"+Rt,Et=S.savedBBoxes[wt])return c.extendFlat({},Et)}}_t?ht=gt:(vt=S.tester.node(),ht=gt.cloneNode(!0),vt.appendChild(ht)),l.select(ht).attr("transform",null).call(v.positionText,0,0);var kt=ht.getBoundingClientRect(),Bt=S.testref.node().getBoundingClientRect();_t||vt.removeChild(ht);var Lt={height:kt.height,width:kt.width,left:kt.left-Bt.left,top:kt.top-Bt.top,right:kt.right-Bt.left,bottom:kt.bottom-Bt.top};return it>=1e4&&(S.savedBBoxes={},it=0),wt&&(S.savedBBoxes[wt]=Lt),it++,c.extendFlat({},Lt)},S.setClipUrl=function(gt,_t,wt){gt.attr("clip-path",pt(_t,wt))},S.getTranslate=function(gt){var _t=(gt[gt.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(wt,Et,ht){return[Et,ht].join(" ")}).split(" ");return{x:+_t[0]||0,y:+_t[1]||0}},S.setTranslate=function(gt,_t,wt){var Et=gt.attr?"attr":"getAttribute",ht=gt.attr?"attr":"setAttribute",vt=gt[Et]("transform")||"";return _t=_t||0,wt=wt||0,vt=vt.replace(/(\btranslate\(.*?\);?)/,"").trim(),vt=(vt+=m(_t,wt)).trim(),gt[ht]("transform",vt),vt},S.getScale=function(gt){var _t=(gt[gt.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(wt,Et,ht){return[Et,ht].join(" ")}).split(" ");return{x:+_t[0]||1,y:+_t[1]||1}},S.setScale=function(gt,_t,wt){var Et=gt.attr?"attr":"getAttribute",ht=gt.attr?"attr":"setAttribute",vt=gt[Et]("transform")||"";return _t=_t||1,wt=wt||1,vt=vt.replace(/(\bscale\(.*?\);?)/,"").trim(),vt=(vt+="scale("+_t+","+wt+")").trim(),gt[ht]("transform",vt),vt};var rt=/\s*sc.*/;S.setPointGroupScale=function(gt,_t,wt){if(_t=_t||1,wt=wt||1,gt){var Et=_t===1&&wt===1?"":"scale("+_t+","+wt+")";gt.each(function(){var ht=(this.getAttribute("transform")||"").replace(rt,"");ht=(ht+=Et).trim(),this.setAttribute("transform",ht)})}};var V=/translate\([^)]*\)\s*$/;function B(gt,_t){var wt;return gt&&(wt=gt.mf),wt===void 0&&(wt=_t.marker&&_t.marker.standoff||0),_t._geo||_t._xA?wt:-wt}S.setTextPointsScale=function(gt,_t,wt){gt&&gt.each(function(){var Et,ht=l.select(this),vt=ht.select("text");if(vt.node()){var Ct=parseFloat(vt.attr("x")||0),Mt=parseFloat(vt.attr("y")||0),Nt=(ht.attr("transform")||"").match(V);Et=_t===1&&wt===1?[]:[m(Ct,Mt),"scale("+_t+","+wt+")",m(-Ct,-Mt)],Nt&&Et.push(Nt),ht.attr("transform",Et.join(""))}})},S.getMarkerStandoff=B;var H,$,Z,Q,ot,st,dt=Math.atan2,bt=Math.cos,Pt=Math.sin;function It(gt,_t){var wt=_t[0],Et=_t[1];return[wt*bt(gt)-Et*Pt(gt),wt*Pt(gt)+Et*bt(gt)]}function Dt(gt,_t){var wt,Et,ht=gt.ma;ht===void 0&&(ht=_t.marker.angle||0);var vt=_t.marker.angleref;if(vt==="previous"||vt==="north"){if(_t._geo){var Ct=_t._geo.project(gt.lonlat);wt=Ct[0],Et=Ct[1]}else{var Mt=_t._xA,Nt=_t._yA;if(!Mt||!Nt)return 90;wt=Mt.c2p(gt.x),Et=Nt.c2p(gt.y)}if(_t._geo){var Rt,At=gt.lonlat[0],kt=gt.lonlat[1],Bt=_t._geo.project([At,kt+1e-5]),Lt=_t._geo.project([At+1e-5,kt]),zt=dt(Lt[1]-Et,Lt[0]-wt),Gt=dt(Bt[1]-Et,Bt[0]-wt);if(vt==="north")Rt=ht/180*Math.PI;else if(vt==="previous"){var Ut=At/180*Math.PI,ne=kt/180*Math.PI,te=H/180*Math.PI,ae=$/180*Math.PI,ue=te-Ut,pe=bt(ae)*Pt(ue),be=Pt(ae)*bt(ne)-bt(ae)*Pt(ne)*bt(ue);Rt=-dt(pe,be)-Math.PI,H=At,$=kt}var re=It(zt,[bt(Rt),0]),jt=It(Gt,[Pt(Rt),0]);ht=dt(re[1]+jt[1],re[0]+jt[0])/Math.PI*180,vt!=="previous"||st===_t.uid&&gt.i===ot+1||(ht=null)}if(vt==="previous"&&!_t._geo)if(st===_t.uid&&gt.i===ot+1&&f(wt)&&f(Et)){var $t=wt-Z,Jt=Et-Q,qt=_t.line&&_t.line.shape||"",Ce=qt.slice(qt.length-1);Ce==="h"&&(Jt=0),Ce==="v"&&($t=0),ht+=dt(Jt,$t)/Math.PI*180+90}else ht=null}return Z=wt,Q=Et,ot=gt.i,st=_t.uid,ht}S.getMarkerAngle=Dt},998:function(a,s,o){var l,c,u,f,h=o(5616),d=o(9898).round,p="M0,0Z",g=Math.sqrt(2),m=Math.sqrt(3),v=Math.PI,y=Math.cos,_=Math.sin;function b(T){return T===null}function w(T,M,S){if(!(T&&T%360!=0||M))return S;if(u===T&&f===M&&l===S)return c;function E(U,J){var nt=y(U),ct=_(U),z=J[0],W=J[1]+(M||0);return[z*nt-W*ct,z*ct+W*nt]}u=T,f=M,l=S;for(var A=T/180*v,O=0,N=0,F=h(S),P="",R=0;R<F.length;R++){var k=F[R],I=k[0],j=O,G=N;if(I==="M"||I==="L")O=+k[1],N=+k[2];else if(I==="m"||I==="l")O+=+k[1],N+=+k[2];else if(I==="H")O=+k[1];else if(I==="h")O+=+k[1];else if(I==="V")N=+k[1];else if(I==="v")N+=+k[1];else if(I==="A"){O=+k[1],N=+k[2];var q=E(A,[+k[6],+k[7]]);k[6]=q[0],k[7]=q[1],k[3]=+k[3]+T}I!=="H"&&I!=="V"||(I="L"),I!=="h"&&I!=="v"||(I="l"),I!=="m"&&I!=="l"||(O-=j,N-=G);var et=E(A,[O,N]);I!=="H"&&I!=="V"||(I="L"),I!=="M"&&I!=="L"&&I!=="m"&&I!=="l"||(k[1]=et[0],k[2]=et[1]),k[0]=I,P+=k[0]+k.slice(1).join(",")}return c=P,P}a.exports={circle:{n:0,f:function(T,M,S){if(b(M))return p;var E=d(T,2),A="M"+E+",0A"+E+","+E+" 0 1,1 0,-"+E+"A"+E+","+E+" 0 0,1 "+E+",0Z";return S?w(M,S,A):A}},square:{n:1,f:function(T,M,S){if(b(M))return p;var E=d(T,2);return w(M,S,"M"+E+","+E+"H-"+E+"V-"+E+"H"+E+"Z")}},diamond:{n:2,f:function(T,M,S){if(b(M))return p;var E=d(1.3*T,2);return w(M,S,"M"+E+",0L0,"+E+"L-"+E+",0L0,-"+E+"Z")}},cross:{n:3,f:function(T,M,S){if(b(M))return p;var E=d(.4*T,2),A=d(1.2*T,2);return w(M,S,"M"+A+","+E+"H"+E+"V"+A+"H-"+E+"V"+E+"H-"+A+"V-"+E+"H-"+E+"V-"+A+"H"+E+"V-"+E+"H"+A+"Z")}},x:{n:4,f:function(T,M,S){if(b(M))return p;var E=d(.8*T/g,2),A="l"+E+","+E,O="l"+E+",-"+E,N="l-"+E+",-"+E,F="l-"+E+","+E;return w(M,S,"M0,"+E+A+O+N+O+N+F+N+F+A+F+A+"Z")}},"triangle-up":{n:5,f:function(T,M,S){if(b(M))return p;var E=d(2*T/m,2);return w(M,S,"M-"+E+","+d(T/2,2)+"H"+E+"L0,-"+d(T,2)+"Z")}},"triangle-down":{n:6,f:function(T,M,S){if(b(M))return p;var E=d(2*T/m,2);return w(M,S,"M-"+E+",-"+d(T/2,2)+"H"+E+"L0,"+d(T,2)+"Z")}},"triangle-left":{n:7,f:function(T,M,S){if(b(M))return p;var E=d(2*T/m,2);return w(M,S,"M"+d(T/2,2)+",-"+E+"V"+E+"L-"+d(T,2)+",0Z")}},"triangle-right":{n:8,f:function(T,M,S){if(b(M))return p;var E=d(2*T/m,2);return w(M,S,"M-"+d(T/2,2)+",-"+E+"V"+E+"L"+d(T,2)+",0Z")}},"triangle-ne":{n:9,f:function(T,M,S){if(b(M))return p;var E=d(.6*T,2),A=d(1.2*T,2);return w(M,S,"M-"+A+",-"+E+"H"+E+"V"+A+"Z")}},"triangle-se":{n:10,f:function(T,M,S){if(b(M))return p;var E=d(.6*T,2),A=d(1.2*T,2);return w(M,S,"M"+E+",-"+A+"V"+E+"H-"+A+"Z")}},"triangle-sw":{n:11,f:function(T,M,S){if(b(M))return p;var E=d(.6*T,2),A=d(1.2*T,2);return w(M,S,"M"+A+","+E+"H-"+E+"V-"+A+"Z")}},"triangle-nw":{n:12,f:function(T,M,S){if(b(M))return p;var E=d(.6*T,2),A=d(1.2*T,2);return w(M,S,"M-"+E+","+A+"V-"+E+"H"+A+"Z")}},pentagon:{n:13,f:function(T,M,S){if(b(M))return p;var E=d(.951*T,2),A=d(.588*T,2),O=d(-T,2),N=d(-.309*T,2);return w(M,S,"M"+E+","+N+"L"+A+","+d(.809*T,2)+"H-"+A+"L-"+E+","+N+"L0,"+O+"Z")}},hexagon:{n:14,f:function(T,M,S){if(b(M))return p;var E=d(T,2),A=d(T/2,2),O=d(T*m/2,2);return w(M,S,"M"+O+",-"+A+"V"+A+"L0,"+E+"L-"+O+","+A+"V-"+A+"L0,-"+E+"Z")}},hexagon2:{n:15,f:function(T,M,S){if(b(M))return p;var E=d(T,2),A=d(T/2,2),O=d(T*m/2,2);return w(M,S,"M-"+A+","+O+"H"+A+"L"+E+",0L"+A+",-"+O+"H-"+A+"L-"+E+",0Z")}},octagon:{n:16,f:function(T,M,S){if(b(M))return p;var E=d(.924*T,2),A=d(.383*T,2);return w(M,S,"M-"+A+",-"+E+"H"+A+"L"+E+",-"+A+"V"+A+"L"+A+","+E+"H-"+A+"L-"+E+","+A+"V-"+A+"Z")}},star:{n:17,f:function(T,M,S){if(b(M))return p;var E=1.4*T,A=d(.225*E,2),O=d(.951*E,2),N=d(.363*E,2),F=d(.588*E,2),P=d(-E,2),R=d(-.309*E,2),k=d(.118*E,2),I=d(.809*E,2);return w(M,S,"M"+A+","+R+"H"+O+"L"+N+","+k+"L"+F+","+I+"L0,"+d(.382*E,2)+"L-"+F+","+I+"L-"+N+","+k+"L-"+O+","+R+"H-"+A+"L0,"+P+"Z")}},hexagram:{n:18,f:function(T,M,S){if(b(M))return p;var E=d(.66*T,2),A=d(.38*T,2),O=d(.76*T,2);return w(M,S,"M-"+O+",0l-"+A+",-"+E+"h"+O+"l"+A+",-"+E+"l"+A+","+E+"h"+O+"l-"+A+","+E+"l"+A+","+E+"h-"+O+"l-"+A+","+E+"l-"+A+",-"+E+"h-"+O+"Z")}},"star-triangle-up":{n:19,f:function(T,M,S){if(b(M))return p;var E=d(T*m*.8,2),A=d(.8*T,2),O=d(1.6*T,2),N=d(4*T,2),F="A "+N+","+N+" 0 0 1 ";return w(M,S,"M-"+E+","+A+F+E+","+A+F+"0,-"+O+F+"-"+E+","+A+"Z")}},"star-triangle-down":{n:20,f:function(T,M,S){if(b(M))return p;var E=d(T*m*.8,2),A=d(.8*T,2),O=d(1.6*T,2),N=d(4*T,2),F="A "+N+","+N+" 0 0 1 ";return w(M,S,"M"+E+",-"+A+F+"-"+E+",-"+A+F+"0,"+O+F+E+",-"+A+"Z")}},"star-square":{n:21,f:function(T,M,S){if(b(M))return p;var E=d(1.1*T,2),A=d(2*T,2),O="A "+A+","+A+" 0 0 1 ";return w(M,S,"M-"+E+",-"+E+O+"-"+E+","+E+O+E+","+E+O+E+",-"+E+O+"-"+E+",-"+E+"Z")}},"star-diamond":{n:22,f:function(T,M,S){if(b(M))return p;var E=d(1.4*T,2),A=d(1.9*T,2),O="A "+A+","+A+" 0 0 1 ";return w(M,S,"M-"+E+",0"+O+"0,"+E+O+E+",0"+O+"0,-"+E+O+"-"+E+",0Z")}},"diamond-tall":{n:23,f:function(T,M,S){if(b(M))return p;var E=d(.7*T,2),A=d(1.4*T,2);return w(M,S,"M0,"+A+"L"+E+",0L0,-"+A+"L-"+E+",0Z")}},"diamond-wide":{n:24,f:function(T,M,S){if(b(M))return p;var E=d(1.4*T,2),A=d(.7*T,2);return w(M,S,"M0,"+A+"L"+E+",0L0,-"+A+"L-"+E+",0Z")}},hourglass:{n:25,f:function(T,M,S){if(b(M))return p;var E=d(T,2);return w(M,S,"M"+E+","+E+"H-"+E+"L"+E+",-"+E+"H-"+E+"Z")},noDot:!0},bowtie:{n:26,f:function(T,M,S){if(b(M))return p;var E=d(T,2);return w(M,S,"M"+E+","+E+"V-"+E+"L-"+E+","+E+"V-"+E+"Z")},noDot:!0},"circle-cross":{n:27,f:function(T,M,S){if(b(M))return p;var E=d(T,2);return w(M,S,"M0,"+E+"V-"+E+"M"+E+",0H-"+E+"M"+E+",0A"+E+","+E+" 0 1,1 0,-"+E+"A"+E+","+E+" 0 0,1 "+E+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(T,M,S){if(b(M))return p;var E=d(T,2),A=d(T/g,2);return w(M,S,"M"+A+","+A+"L-"+A+",-"+A+"M"+A+",-"+A+"L-"+A+","+A+"M"+E+",0A"+E+","+E+" 0 1,1 0,-"+E+"A"+E+","+E+" 0 0,1 "+E+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(T,M,S){if(b(M))return p;var E=d(T,2);return w(M,S,"M0,"+E+"V-"+E+"M"+E+",0H-"+E+"M"+E+","+E+"H-"+E+"V-"+E+"H"+E+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(T,M,S){if(b(M))return p;var E=d(T,2);return w(M,S,"M"+E+","+E+"L-"+E+",-"+E+"M"+E+",-"+E+"L-"+E+","+E+"M"+E+","+E+"H-"+E+"V-"+E+"H"+E+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(T,M,S){if(b(M))return p;var E=d(1.3*T,2);return w(M,S,"M"+E+",0L0,"+E+"L-"+E+",0L0,-"+E+"ZM0,-"+E+"V"+E+"M-"+E+",0H"+E)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(T,M,S){if(b(M))return p;var E=d(1.3*T,2),A=d(.65*T,2);return w(M,S,"M"+E+",0L0,"+E+"L-"+E+",0L0,-"+E+"ZM-"+A+",-"+A+"L"+A+","+A+"M-"+A+","+A+"L"+A+",-"+A)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(T,M,S){if(b(M))return p;var E=d(1.4*T,2);return w(M,S,"M0,"+E+"V-"+E+"M"+E+",0H-"+E)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(T,M,S){if(b(M))return p;var E=d(T,2);return w(M,S,"M"+E+","+E+"L-"+E+",-"+E+"M"+E+",-"+E+"L-"+E+","+E)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(T,M,S){if(b(M))return p;var E=d(1.2*T,2),A=d(.85*T,2);return w(M,S,"M0,"+E+"V-"+E+"M"+E+",0H-"+E+"M"+A+","+A+"L-"+A+",-"+A+"M"+A+",-"+A+"L-"+A+","+A)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(T,M,S){if(b(M))return p;var E=d(T/2,2),A=d(T,2);return w(M,S,"M"+E+","+A+"V-"+A+"M"+(E-A)+",-"+A+"V"+A+"M"+A+","+E+"H-"+A+"M-"+A+","+(E-A)+"H"+A)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(T,M,S){if(b(M))return p;var E=d(1.2*T,2),A=d(1.6*T,2),O=d(.8*T,2);return w(M,S,"M-"+E+","+O+"L0,0M"+E+","+O+"L0,0M0,-"+A+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(T,M,S){if(b(M))return p;var E=d(1.2*T,2),A=d(1.6*T,2),O=d(.8*T,2);return w(M,S,"M-"+E+",-"+O+"L0,0M"+E+",-"+O+"L0,0M0,"+A+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(T,M,S){if(b(M))return p;var E=d(1.2*T,2),A=d(1.6*T,2),O=d(.8*T,2);return w(M,S,"M"+O+","+E+"L0,0M"+O+",-"+E+"L0,0M-"+A+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(T,M,S){if(b(M))return p;var E=d(1.2*T,2),A=d(1.6*T,2),O=d(.8*T,2);return w(M,S,"M-"+O+","+E+"L0,0M-"+O+",-"+E+"L0,0M"+A+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(T,M,S){if(b(M))return p;var E=d(1.4*T,2);return w(M,S,"M"+E+",0H-"+E)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(T,M,S){if(b(M))return p;var E=d(1.4*T,2);return w(M,S,"M0,"+E+"V-"+E)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(T,M,S){if(b(M))return p;var E=d(T,2);return w(M,S,"M"+E+",-"+E+"L-"+E+","+E)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(T,M,S){if(b(M))return p;var E=d(T,2);return w(M,S,"M"+E+","+E+"L-"+E+",-"+E)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(T,M,S){if(b(M))return p;var E=d(T,2);return w(M,S,"M0,0L-"+E+","+d(2*T,2)+"H"+E+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(T,M,S){if(b(M))return p;var E=d(T,2);return w(M,S,"M0,0L-"+E+",-"+d(2*T,2)+"H"+E+"Z")},noDot:!0},"arrow-left":{n:47,f:function(T,M,S){if(b(M))return p;var E=d(2*T,2),A=d(T,2);return w(M,S,"M0,0L"+E+",-"+A+"V"+A+"Z")},noDot:!0},"arrow-right":{n:48,f:function(T,M,S){if(b(M))return p;var E=d(2*T,2),A=d(T,2);return w(M,S,"M0,0L-"+E+",-"+A+"V"+A+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(T,M,S){if(b(M))return p;var E=d(T,2);return w(M,S,"M-"+E+",0H"+E+"M0,0L-"+E+","+d(2*T,2)+"H"+E+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(T,M,S){if(b(M))return p;var E=d(T,2);return w(M,S,"M-"+E+",0H"+E+"M0,0L-"+E+",-"+d(2*T,2)+"H"+E+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(T,M,S){if(b(M))return p;var E=d(2*T,2),A=d(T,2);return w(M,S,"M0,-"+A+"V"+A+"M0,0L"+E+",-"+A+"V"+A+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(T,M,S){if(b(M))return p;var E=d(2*T,2),A=d(T,2);return w(M,S,"M0,-"+A+"V"+A+"M0,0L-"+E+",-"+A+"V"+A+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(T,M,S){if(b(M))return p;var E=v/2.5,A=2*T*y(E),O=2*T*_(E);return w(M,S,"M0,0L"+-A+","+O+"L"+A+","+O+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(T,M,S){if(b(M))return p;var E=v/4,A=2*T*y(E),O=2*T*_(E);return w(M,S,"M0,0L"+-A+","+O+"A "+2*T+","+2*T+" 0 0 1 "+A+","+O+"Z")},backoff:.4,noDot:!0}}},5673:function(a){a.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},4532:function(a,s,o){var l=o(2770),c=o(3972),u=o(9298),f=o(1828),h=o(5827);function d(p,g,m,v){var y=g["error_"+v]||{},_=[];if(y.visible&&["linear","log"].indexOf(m.type)!==-1){for(var b=h(y),w=0;w<p.length;w++){var T=p[w],M=T.i;if(M===void 0)M=w;else if(M===null)continue;var S=T[v];if(l(m.c2l(S))){var E=b(S,M);if(l(E[0])&&l(E[1])){var A=T[v+"s"]=S-E[0],O=T[v+"h"]=S+E[1];_.push(A,O)}}}var N=m._id,F=g._extremes[N],P=u.findExtremes(m,_,f.extendFlat({tozero:F.opts.tozero},{padded:!0}));F.min=F.min.concat(P.min),F.max=F.max.concat(P.max)}}a.exports=function(p){for(var g=p.calcdata,m=0;m<g.length;m++){var v=g[m],y=v[0].trace;if(y.visible===!0&&c.traceIs(y,"errorBarsOK")){var _=u.getFromId(p,y.xaxis),b=u.getFromId(p,y.yaxis);d(v,y,_,"x"),d(v,y,b,"y")}}}},5827:function(a){function s(o,l){return o==="percent"?function(c){return Math.abs(c*l/100)}:o==="constant"?function(){return Math.abs(l)}:o==="sqrt"?function(c){return Math.sqrt(Math.abs(c))}:void 0}a.exports=function(o){var l=o.type,c=o.symmetric;if(l==="data"){var u=o.array||[];if(c)return function(p,g){var m=+u[g];return[m,m]};var f=o.arrayminus||[];return function(p,g){var m=+u[g],v=+f[g];return isNaN(m)&&isNaN(v)?[NaN,NaN]:[v||0,m||0]}}var h=s(l,o.value),d=s(l,o.valueminus);return c||o.valueminus===void 0?function(p){var g=h(p);return[g,g]}:function(p){return[d(p),h(p)]}}},7587:function(a,s,o){var l=o(2770),c=o(3972),u=o(1828),f=o(4467),h=o(5673);a.exports=function(d,p,g,m){var v="error_"+m.axis,y=f.newContainer(p,v),_=d[v]||{};function b(S,E){return u.coerce(_,y,h,S,E)}if(b("visible",_.array!==void 0||_.value!==void 0||_.type==="sqrt")!==!1){var w=b("type","array"in _?"data":"percent"),T=!0;w!=="sqrt"&&(T=b("symmetric",!((w==="data"?"arrayminus":"valueminus")in _))),w==="data"?(b("array"),b("traceref"),T||(b("arrayminus"),b("tracerefminus"))):w!=="percent"&&w!=="constant"||(b("value"),T||b("valueminus"));var M="copy_"+m.inherit+"style";m.inherit&&(p["error_"+m.inherit]||{}).visible&&b(M,!(_.color||l(_.thickness)||l(_.width))),m.inherit&&y[M]||(b("color",g),b("thickness"),b("width",c.traceIs(p,"gl3d")?0:4))}}},7369:function(a,s,o){var l=o(1828),c=o(962).overrideAll,u=o(5673),f={error_x:l.extendFlat({},u),error_y:l.extendFlat({},u)};delete f.error_x.copy_zstyle,delete f.error_y.copy_zstyle,delete f.error_y.copy_ystyle;var h={error_x:l.extendFlat({},u),error_y:l.extendFlat({},u),error_z:l.extendFlat({},u)};delete h.error_x.copy_ystyle,delete h.error_y.copy_ystyle,delete h.error_z.copy_ystyle,delete h.error_z.copy_zstyle,a.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:f,bar:f,histogram:f,scatter3d:c(h,"calc","nested"),scattergl:c(f,"calc","nested")}},supplyDefaults:o(7587),calc:o(4532),makeComputeError:o(5827),plot:o(9398),style:o(2662),hoverInfo:function(d,p,g){(p.error_y||{}).visible&&(g.yerr=d.yh-d.y,p.error_y.symmetric||(g.yerrneg=d.y-d.ys)),(p.error_x||{}).visible&&(g.xerr=d.xh-d.x,p.error_x.symmetric||(g.xerrneg=d.x-d.xs))}}},9398:function(a,s,o){var l=o(9898),c=o(2770),u=o(1424),f=o(4098);a.exports=function(h,d,p,g){var m=p.xaxis,v=p.yaxis,y=g&&g.duration>0,_=h._context.staticPlot;d.each(function(b){var w,T=b[0].trace,M=T.error_x||{},S=T.error_y||{};T.ids&&(w=function(N){return N.id});var E=f.hasMarkers(T)&&T.marker.maxdisplayed>0;S.visible||M.visible||(b=[]);var A=l.select(this).selectAll("g.errorbar").data(b,w);if(A.exit().remove(),b.length){M.visible||A.selectAll("path.xerror").remove(),S.visible||A.selectAll("path.yerror").remove(),A.style("opacity",1);var O=A.enter().append("g").classed("errorbar",!0);y&&O.style("opacity",0).transition().duration(g.duration).style("opacity",1),u.setClipUrl(A,p.layerClipId,h),A.each(function(N){var F=l.select(this),P=function(q,et,U){var J={x:et.c2p(q.x),y:U.c2p(q.y)};return q.yh!==void 0&&(J.yh=U.c2p(q.yh),J.ys=U.c2p(q.ys),c(J.ys)||(J.noYS=!0,J.ys=U.c2p(q.ys,!0))),q.xh!==void 0&&(J.xh=et.c2p(q.xh),J.xs=et.c2p(q.xs),c(J.xs)||(J.noXS=!0,J.xs=et.c2p(q.xs,!0))),J}(N,m,v);if(!E||N.vis){var R,k=F.select("path.yerror");if(S.visible&&c(P.x)&&c(P.yh)&&c(P.ys)){var I=S.width;R="M"+(P.x-I)+","+P.yh+"h"+2*I+"m-"+I+",0V"+P.ys,P.noYS||(R+="m-"+I+",0h"+2*I),k.size()?y&&(k=k.transition().duration(g.duration).ease(g.easing)):k=F.append("path").style("vector-effect",_?"none":"non-scaling-stroke").classed("yerror",!0),k.attr("d",R)}else k.remove();var j=F.select("path.xerror");if(M.visible&&c(P.y)&&c(P.xh)&&c(P.xs)){var G=(M.copy_ystyle?S:M).width;R="M"+P.xh+","+(P.y-G)+"v"+2*G+"m0,-"+G+"H"+P.xs,P.noXS||(R+="m0,-"+G+"v"+2*G),j.size()?y&&(j=j.transition().duration(g.duration).ease(g.easing)):j=F.append("path").style("vector-effect",_?"none":"non-scaling-stroke").classed("xerror",!0),j.attr("d",R)}else j.remove()}})}})}},2662:function(a,s,o){var l=o(9898),c=o(7901);a.exports=function(u){u.each(function(f){var h=f[0].trace,d=h.error_y||{},p=h.error_x||{},g=l.select(this);g.selectAll("path.yerror").style("stroke-width",d.thickness+"px").call(c.stroke,d.color),p.copy_ystyle&&(p=d),g.selectAll("path.xerror").style("stroke-width",p.thickness+"px").call(c.stroke,p.color)})}},7914:function(a,s,o){var l=o(1940),c=o(528).hoverlabel,u=o(1426).extendFlat;a.exports={hoverlabel:{bgcolor:u({},c.bgcolor,{arrayOk:!0}),bordercolor:u({},c.bordercolor,{arrayOk:!0}),font:l({arrayOk:!0,editType:"none"}),align:u({},c.align,{arrayOk:!0}),namelength:u({},c.namelength,{arrayOk:!0}),editType:"none"}}},732:function(a,s,o){var l=o(1828),c=o(3972);function u(f,h,d,p){p=p||l.identity,Array.isArray(f)&&(h[0][d]=p(f))}a.exports=function(f){var h=f.calcdata,d=f._fullLayout;function p(_){return function(b){return l.coerceHoverinfo({hoverinfo:b},{_module:_._module},d)}}for(var g=0;g<h.length;g++){var m=h[g],v=m[0].trace;if(!c.traceIs(v,"pie-like")){var y=c.traceIs(v,"2dMap")?u:l.fillArray;y(v.hoverinfo,m,"hi",p(v)),v.hovertemplate&&y(v.hovertemplate,m,"ht"),v.hoverlabel&&(y(v.hoverlabel.bgcolor,m,"hbg"),y(v.hoverlabel.bordercolor,m,"hbc"),y(v.hoverlabel.font.size,m,"hts"),y(v.hoverlabel.font.color,m,"htc"),y(v.hoverlabel.font.family,m,"htf"),y(v.hoverlabel.namelength,m,"hnl"),y(v.hoverlabel.align,m,"hta"))}}}},5914:function(a,s,o){var l=o(3972),c=o(8335).hover;a.exports=function(u,f,h){var d=l.getComponentMethod("annotations","onClick")(u,u._hoverdata);function p(){u.emit("plotly_click",{points:u._hoverdata,event:f})}h!==void 0&&c(u,f,h,!0),u._hoverdata&&f&&f.target&&(d&&d.then?d.then(p):p(),f.stopImmediatePropagation&&f.stopImmediatePropagation())}},6675:function(a){a.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},4268:function(a,s,o){var l=o(1828),c=o(7914),u=o(8048);a.exports=function(f,h,d,p){var g=l.extendFlat({},p.hoverlabel);h.hovertemplate&&(g.namelength=-1),u(f,h,function(m,v){return l.coerce(f,h,c,m,v)},g)}},3469:function(a,s,o){var l=o(1828);s.getSubplot=function(p){return p.subplot||p.xaxis+p.yaxis||p.geo},s.isTraceInSubplots=function(p,g){if(p.type==="splom"){for(var m=p.xaxes||[],v=p.yaxes||[],y=0;y<m.length;y++)for(var _=0;_<v.length;_++)if(g.indexOf(m[y]+v[_])!==-1)return!0;return!1}return g.indexOf(s.getSubplot(p))!==-1},s.flat=function(p,g){for(var m=new Array(p.length),v=0;v<p.length;v++)m[v]=g;return m},s.p2c=function(p,g){for(var m=new Array(p.length),v=0;v<p.length;v++)m[v]=p[v].p2c(g);return m},s.getDistanceFunction=function(p,g,m,v){return p==="closest"?v||s.quadrature(g,m):p.charAt(0)==="x"?g:m},s.getClosest=function(p,g,m){if(m.index!==!1)m.index>=0&&m.index<p.length?m.distance=0:m.index=!1;else for(var v=0;v<p.length;v++){var y=g(p[v]);y<=m.distance&&(m.index=v,m.distance=y)}return m},s.inbox=function(p,g,m){return p*g<0||p===0?m:1/0},s.quadrature=function(p,g){return function(m){var v=p(m),y=g(m);return Math.sqrt(v*v+y*y)}},s.makeEventData=function(p,g,m){var v="index"in p?p.index:p.pointNumber,y={data:g._input,fullData:g,curveNumber:g.index,pointNumber:v};if(g._indexToPoints){var _=g._indexToPoints[v];_.length===1?y.pointIndex=_[0]:y.pointIndices=_}else y.pointIndex=v;return g._module.eventData?y=g._module.eventData(y,p,g,m,v):("xVal"in p?y.x=p.xVal:"x"in p&&(y.x=p.x),"yVal"in p?y.y=p.yVal:"y"in p&&(y.y=p.y),p.xa&&(y.xaxis=p.xa),p.ya&&(y.yaxis=p.ya),p.zLabelVal!==void 0&&(y.z=p.zLabelVal)),s.appendArrayPointValue(y,g,v),y},s.appendArrayPointValue=function(p,g,m){var v=g._arrayAttrs;if(v)for(var y=0;y<v.length;y++){var _=v[y],b=u(_);if(p[b]===void 0){var w=f(l.nestedProperty(g,_).get(),m);w!==void 0&&(p[b]=w)}}},s.appendArrayMultiPointValues=function(p,g,m){var v=g._arrayAttrs;if(v)for(var y=0;y<v.length;y++){var _=v[y],b=u(_);if(p[b]===void 0){for(var w=l.nestedProperty(g,_).get(),T=new Array(m.length),M=0;M<m.length;M++)T[M]=f(w,m[M]);p[b]=T}}};var c={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function u(p){return c[p]||p}function f(p,g){return Array.isArray(g)?Array.isArray(p)&&Array.isArray(p[g[0]])?p[g[0]][g[1]]:void 0:p[g]}var h={x:!0,y:!0},d={"x unified":!0,"y unified":!0};s.isUnifiedHover=function(p){return typeof p=="string"&&!!d[p]},s.isXYhover=function(p){return typeof p=="string"&&!!h[p]}},8335:function(a,s,o){var l=o(9898),c=o(2770),u=o(4267),f=o(1828),h=f.strTranslate,d=f.strRotate,p=o(1086),g=o(3893),m=o(9918),v=o(1424),y=o(7901),_=o(8569),b=o(9298),w=o(3972),T=o(3469),M=o(6675),S=o(9017),E=o(3969),A=M.YANGLE,O=Math.PI*A/180,N=1/Math.sin(O),F=Math.cos(O),P=Math.sin(O),R=M.HOVERARROWSIZE,k=M.HOVERTEXTPAD,I={box:!0,ohlc:!0,violin:!0,candlestick:!0},j={scatter:!0,scattergl:!0,splom:!0};function G(V){return[V.trace.index,V.index,V.x0,V.y0,V.name,V.attr,V.xa?V.xa._id:"",V.ya?V.ya._id:""].join(",")}s.hover=function(V,B,H,$){V=f.getGraphDiv(V);var Z=B.target;f.throttle(V._fullLayout._uid+M.HOVERID,M.HOVERMINTIME,function(){(function(Q,ot,st,dt,bt){st||(st="xy");var Pt=Array.isArray(st)?st:[st],It=Q._fullLayout,Dt=It._plots||[],gt=Dt[st],_t=It._has("cartesian");if(gt){var wt=gt.overlays.map(function(En){return En.id});Pt=Pt.concat(wt)}for(var Et=Pt.length,ht=new Array(Et),vt=new Array(Et),Ct=!1,Mt=0;Mt<Et;Mt++){var Nt=Pt[Mt];if(Dt[Nt])Ct=!0,ht[Mt]=Dt[Nt].xaxis,vt[Mt]=Dt[Nt].yaxis;else{if(!It[Nt]||!It[Nt]._subplot)return void f.warn("Unrecognized subplot: "+Nt);var Rt=It[Nt]._subplot;ht[Mt]=Rt.xaxis,vt[Mt]=Rt.yaxis}}var At=ot.hovermode||It.hovermode;if(At&&!Ct&&(At="closest"),["x","y","closest","x unified","y unified"].indexOf(At)===-1||!Q.calcdata||Q.querySelector(".zoombox")||Q._dragging)return _.unhoverRaw(Q,ot);var kt=It.hoverdistance;kt===-1&&(kt=1/0);var Bt=It.spikedistance;Bt===-1&&(Bt=1/0);var Lt,zt,Gt,Ut,ne,te,ae,ue,pe,be,re,jt,$t,Jt=[],qt=[],Ce={hLinePoint:null,vLinePoint:null},fe=!1;if(Array.isArray(ot))for(At="array",Gt=0;Gt<ot.length;Gt++)(ne=Q.calcdata[ot[Gt].curveNumber||0])&&(te=ne[0].trace,ne[0].trace.hoverinfo!=="skip"&&(qt.push(ne),te.orientation==="h"&&(fe=!0)));else{for(Ut=0;Ut<Q.calcdata.length;Ut++)ne=Q.calcdata[Ut],(te=ne[0].trace).hoverinfo!=="skip"&&T.isTraceInSubplots(te,Pt)&&(qt.push(ne),te.orientation==="h"&&(fe=!0));var Me,Ee;if(bt){if(p.triggerHandler(Q,"plotly_beforehover",ot)===!1)return;var He=bt.getBoundingClientRect();Me=ot.clientX-He.left,Ee=ot.clientY-He.top,It._calcInverseTransform(Q);var Ae=f.apply3DTransform(It._invTransform)(Me,Ee);if(Me=Ae[0],Ee=Ae[1],Me<0||Me>ht[0]._length||Ee<0||Ee>vt[0]._length)return _.unhoverRaw(Q,ot)}else Me="xpx"in ot?ot.xpx:ht[0]._length/2,Ee="ypx"in ot?ot.ypx:vt[0]._length/2;if(ot.pointerX=Me+ht[0]._offset,ot.pointerY=Ee+vt[0]._offset,Lt="xval"in ot?T.flat(Pt,ot.xval):T.p2c(ht,Me),zt="yval"in ot?T.flat(Pt,ot.yval):T.p2c(vt,Ee),!c(Lt[0])||!c(zt[0]))return f.warn("Fx.hover failed",ot,Q),_.unhoverRaw(Q,ot)}var $e=1/0;function Oe(En,Dn){for(Ut=0;Ut<qt.length;Ut++)if((ne=qt[Ut])&&ne[0]&&ne[0].trace&&(te=ne[0].trace).visible===!0&&te._length!==0&&["carpet","contourcarpet"].indexOf(te._module.name)===-1){if(te.type==="splom"?ae=Pt[ue=0]:(ae=T.getSubplot(te),ue=Pt.indexOf(ae)),pe=At,T.isUnifiedHover(pe)&&(pe=pe.charAt(0)),jt={cd:ne,trace:te,xa:ht[ue],ya:vt[ue],maxHoverDistance:kt,maxSpikeDistance:Bt,index:!1,distance:Math.min($e,kt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:y.defaultLine,name:te.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},It[ae]&&(jt.subplot=It[ae]._subplot),It._splomScenes&&It._splomScenes[te.uid]&&(jt.scene=It._splomScenes[te.uid]),$t=Jt.length,pe==="array"){var xn=ot[Ut];"pointNumber"in xn?(jt.index=xn.pointNumber,pe="closest"):(pe="","xval"in xn&&(be=xn.xval,pe="x"),"yval"in xn&&(re=xn.yval,pe=pe?"closest":"y"))}else En!==void 0&&Dn!==void 0?(be=En,re=Dn):(be=Lt[ue],re=zt[ue]);if(kt!==0)if(te._module&&te._module.hoverPoints){var Kn=te._module.hoverPoints(jt,be,re,pe,{finiteRange:!0,hoverLayer:It._hoverlayer});if(Kn)for(var Yn,hr=0;hr<Kn.length;hr++)Yn=Kn[hr],c(Yn.x0)&&c(Yn.y0)&&Jt.push(ct(Yn,At))}else f.log("Unrecognized trace type in hover:",te);if(At==="closest"&&Jt.length>$t&&(Jt.splice(0,$t),$e=Jt[0].distance),_t&&Bt!==0&&Jt.length===0){jt.distance=Bt,jt.index=!1;var pr=te._module.hoverPoints(jt,be,re,"closest",{hoverLayer:It._hoverlayer});if(pr&&(pr=pr.filter(function(Da){return Da.spikeDistance<=Bt})),pr&&pr.length){var Zn,br=pr.filter(function(Da){return Da.xa.showspikes&&Da.xa.spikesnap!=="hovered data"});if(br.length){var bi=br[0];c(bi.x0)&&c(bi.y0)&&(Zn=mt(bi),(!Ce.vLinePoint||Ce.vLinePoint.spikeDistance>Zn.spikeDistance)&&(Ce.vLinePoint=Zn))}var so=pr.filter(function(Da){return Da.ya.showspikes&&Da.ya.spikesnap!=="hovered data"});if(so.length){var wi=so[0];c(wi.x0)&&c(wi.y0)&&(Zn=mt(wi),(!Ce.hLinePoint||Ce.hLinePoint.spikeDistance>Zn.spikeDistance)&&(Ce.hLinePoint=Zn))}}}}}function ft(En,Dn,xn){for(var Kn,Yn=null,hr=1/0,pr=0;pr<En.length;pr++)Kn=En[pr].spikeDistance,xn&&pr===0&&(Kn=-1/0),Kn<=hr&&Kn<=Dn&&(Yn=En[pr],hr=Kn);return Yn}function mt(En){return En?{xa:En.xa,ya:En.ya,x:En.xSpike!==void 0?En.xSpike:(En.x0+En.x1)/2,y:En.ySpike!==void 0?En.ySpike:(En.y0+En.y1)/2,distance:En.distance,spikeDistance:En.spikeDistance,curveNumber:En.trace.index,color:En.color,pointNumber:En.index}:null}Oe();var Ht={fullLayout:It,container:It._hoverlayer,event:ot},Vt=Q._spikepoints,ee={vLinePoint:Ce.vLinePoint,hLinePoint:Ce.hLinePoint};Q._spikepoints=ee;var Xt=function(){Jt.sort(function(En,Dn){return En.distance-Dn.distance}),Jt=function(En,Dn){for(var xn=Dn.charAt(0),Kn=[],Yn=[],hr=[],pr=0;pr<En.length;pr++){var Zn=En[pr];w.traceIs(Zn.trace,"bar-like")||w.traceIs(Zn.trace,"box-violin")?hr.push(Zn):Zn.trace[xn+"period"]?Yn.push(Zn):Kn.push(Zn)}return Kn.concat(Yn).concat(hr)}(Jt,At)};Xt();var Qt=At.charAt(0),se=(Qt==="x"||Qt==="y")&&Jt[0]&&j[Jt[0].trace.type];if(_t&&Bt!==0&&Jt.length!==0){var he=ft(Jt.filter(function(En){return En.ya.showspikes}),Bt,se);Ce.hLinePoint=mt(he);var ye=ft(Jt.filter(function(En){return En.xa.showspikes}),Bt,se);Ce.vLinePoint=mt(ye)}if(Jt.length===0){var oe=_.unhoverRaw(Q,ot);return!_t||Ce.hLinePoint===null&&Ce.vLinePoint===null||W(Vt)&&z(Q,Ce,Ht),oe}if(_t&&W(Vt)&&z(Q,Ce,Ht),T.isXYhover(pe)&&Jt[0].length!==0&&Jt[0].trace.type!=="splom"){var Ue=Jt[0],rn=(Jt=I[Ue.trace.type]?Jt.filter(function(En){return En.trace.index===Ue.trace.index}):[Ue]).length;Oe(it("x",Ue,It),it("y",Ue,It));var Ne,Fe=[],Be={},Se=0,Te=function(En){var Dn=I[En.trace.type]?G(En):En.trace.index;if(Be[Dn]){var xn=Be[Dn]-1,Kn=Fe[xn];xn>0&&Math.abs(En.distance)<Math.abs(Kn.distance)&&(Fe[xn]=En)}else Se++,Be[Dn]=Se,Fe.push(En)};for(Ne=0;Ne<rn;Ne++)Te(Jt[Ne]);for(Ne=Jt.length-1;Ne>rn-1;Ne--)Te(Jt[Ne]);Jt=Fe,Xt()}var xe=Q._hoverdata,Xe=[],Ve=lt(Q),an=pt(Q);for(Gt=0;Gt<Jt.length;Gt++){var ge=Jt[Gt],Pe=T.makeEventData(ge,ge.trace,ge.cd);if(ge.hovertemplate!==!1){var ke=!1;ge.cd[ge.index]&&ge.cd[ge.index].ht&&(ke=ge.cd[ge.index].ht),ge.hovertemplate=ke||ge.trace.hovertemplate||!1}if(ge.xa&&ge.ya){var Ye=ge.x0+ge.xa._offset,je=ge.x1+ge.xa._offset,qe=ge.y0+ge.ya._offset,nn=ge.y1+ge.ya._offset,sn=Math.min(Ye,je),Ze=Math.max(Ye,je),tn=Math.min(qe,nn),Tn=Math.max(qe,nn);Pe.bbox={x0:sn+an,x1:Ze+an,y0:tn+Ve,y1:Tn+Ve}}ge.eventData=[Pe],Xe.push(Pe)}Q._hoverdata=Xe;var An=At==="y"&&(qt.length>1||Jt.length>1)||At==="closest"&&fe&&Jt.length>1,Sn=y.combine(It.plot_bgcolor||y.background,It.paper_bgcolor),bn=et(Jt,{gd:Q,hovermode:At,rotateLabels:An,bgColor:Sn,container:It._hoverlayer,outerContainer:It._paper.node(),commonLabelOpts:It.hoverlabel,hoverdistance:It.hoverdistance}),_n=bn.hoverLabels;if(T.isUnifiedHover(At)||(function(En,Dn,xn,Kn){var Yn,hr,pr,Zn,br,bi,so,wi=Dn?"xa":"ya",Da=Dn?"ya":"xa",Ri=0,qr=1,ka=En.size(),Ci=new Array(ka),$n=0,wn=Kn.minX,gr=Kn.maxX,ur=Kn.minY,Pn=Kn.maxY,wr=function(jn){return jn*xn._invScaleX},rr=function(jn){return jn*xn._invScaleY};function ni(jn){var ha=jn[0],wa=jn[jn.length-1];if(hr=ha.pmin-ha.pos-ha.dp+ha.size,pr=wa.pos+wa.dp+wa.size-ha.pmax,hr>.01){for(br=jn.length-1;br>=0;br--)jn[br].dp+=hr;Yn=!1}if(!(pr<.01)){if(hr<-.01){for(br=jn.length-1;br>=0;br--)jn[br].dp-=pr;Yn=!1}if(Yn){var Xr=0;for(Zn=0;Zn<jn.length;Zn++)(bi=jn[Zn]).pos+bi.dp+bi.size>ha.pmax&&Xr++;for(Zn=jn.length-1;Zn>=0&&!(Xr<=0);Zn--)(bi=jn[Zn]).pos>ha.pmax-1&&(bi.del=!0,Xr--);for(Zn=0;Zn<jn.length&&!(Xr<=0);Zn++)if((bi=jn[Zn]).pos<ha.pmin+1)for(bi.del=!0,Xr--,pr=2*bi.size,br=jn.length-1;br>=0;br--)jn[br].dp-=pr;for(Zn=jn.length-1;Zn>=0&&!(Xr<=0);Zn--)(bi=jn[Zn]).pos+bi.dp+bi.size>ha.pmax&&(bi.del=!0,Xr--)}}}for(En.each(function(jn){var ha=jn[wi],wa=jn[Da],Xr=ha._id.charAt(0)==="x",ql=ha.range;$n===0&&ql&&ql[0]>ql[1]!==Xr&&(qr=-1);var Su=0,Ns=Xr?xn.width:xn.height;if(xn.hovermode==="x"||xn.hovermode==="y"){var rs,is,vc=J(jn,Dn),Ta=jn.anchor,dp=Ta==="end"?-1:1;if(Ta==="middle")is=(rs=jn.crossPos+(Xr?rr(vc.y-jn.by/2):wr(jn.bx/2+jn.tx2width/2)))+(Xr?rr(jn.by):wr(jn.bx));else if(Xr)is=(rs=jn.crossPos+rr(R+vc.y)-rr(jn.by/2-R))+rr(jn.by);else{var da=wr(dp*R+vc.x),pp=da+wr(dp*jn.bx);rs=jn.crossPos+Math.min(da,pp),is=jn.crossPos+Math.max(da,pp)}Xr?ur!==void 0&&Pn!==void 0&&Math.min(is,Pn)-Math.max(rs,ur)>1&&(wa.side==="left"?(Su=wa._mainLinePosition,Ns=xn.width):Ns=wa._mainLinePosition):wn!==void 0&&gr!==void 0&&Math.min(is,gr)-Math.max(rs,wn)>1&&(wa.side==="top"?(Su=wa._mainLinePosition,Ns=xn.height):Ns=wa._mainLinePosition)}Ci[$n++]=[{datum:jn,traceIndex:jn.trace.index,dp:0,pos:jn.pos,posref:jn.posref,size:jn.by*(Xr?N:1)/2,pmin:Su,pmax:Ns}]}),Ci.sort(function(jn,ha){return jn[0].posref-ha[0].posref||qr*(ha[0].traceIndex-jn[0].traceIndex)});!Yn&&Ri<=ka;){for(Ri++,Yn=!0,Zn=0;Zn<Ci.length-1;){var hi=Ci[Zn],Ai=Ci[Zn+1],Ii=hi[hi.length-1],Wa=Ai[0];if((hr=Ii.pos+Ii.dp+Ii.size-Wa.pos-Wa.dp+Wa.size)>.01&&Ii.pmin===Wa.pmin&&Ii.pmax===Wa.pmax){for(br=Ai.length-1;br>=0;br--)Ai[br].dp+=hr;for(hi.push.apply(hi,Ai),Ci.splice(Zn+1,1),so=0,br=hi.length-1;br>=0;br--)so+=hi[br].dp;for(pr=so/hi.length,br=hi.length-1;br>=0;br--)hi[br].dp-=pr;Yn=!1}else Zn++}Ci.forEach(ni)}for(Zn=Ci.length-1;Zn>=0;Zn--){var Ro=Ci[Zn];for(br=Ro.length-1;br>=0;br--){var jr=Ro[br],ra=jr.datum;ra.offset=jr.dp,ra.del=jr.del}}}(_n,An,It,bn.commonLabelBoundingBox),nt(_n,An,It._invScaleX,It._invScaleY)),bt&&bt.tagName){var Hn=w.getComponentMethod("annotations","hasClickToShow")(Q,Xe);m(l.select(bt),Hn?"pointer":"")}bt&&!dt&&function(En,Dn,xn){if(!xn||xn.length!==En._hoverdata.length)return!0;for(var Kn=xn.length-1;Kn>=0;Kn--){var Yn=xn[Kn],hr=En._hoverdata[Kn];if(Yn.curveNumber!==hr.curveNumber||String(Yn.pointNumber)!==String(hr.pointNumber)||String(Yn.pointNumbers)!==String(hr.pointNumbers))return!0}return!1}(Q,0,xe)&&(xe&&Q.emit("plotly_unhover",{event:ot,points:xe}),Q.emit("plotly_hover",{event:ot,points:Q._hoverdata,xaxes:ht,yaxes:vt,xvals:Lt,yvals:zt}))})(V,B,H,$,Z)})},s.loneHover=function(V,B){var H=!0;Array.isArray(V)||(H=!1,V=[V]);var $=B.gd,Z=lt($),Q=pt($),ot=et(V.map(function(bt){var Pt=bt._x0||bt.x0||bt.x||0,It=bt._x1||bt.x1||bt.x||0,Dt=bt._y0||bt.y0||bt.y||0,gt=bt._y1||bt.y1||bt.y||0,_t=bt.eventData;if(_t){var wt=Math.min(Pt,It),Et=Math.max(Pt,It),ht=Math.min(Dt,gt),vt=Math.max(Dt,gt),Ct=bt.trace;if(w.traceIs(Ct,"gl3d")){var Mt=$._fullLayout[Ct.scene]._scene.container,Nt=Mt.offsetLeft,Rt=Mt.offsetTop;wt+=Nt,Et+=Nt,ht+=Rt,vt+=Rt}_t.bbox={x0:wt+Q,x1:Et+Q,y0:ht+Z,y1:vt+Z},B.inOut_bbox&&B.inOut_bbox.push(_t.bbox)}else _t=!1;return{color:bt.color||y.defaultLine,x0:bt.x0||bt.x||0,x1:bt.x1||bt.x||0,y0:bt.y0||bt.y||0,y1:bt.y1||bt.y||0,xLabel:bt.xLabel,yLabel:bt.yLabel,zLabel:bt.zLabel,text:bt.text,name:bt.name,idealAlign:bt.idealAlign,borderColor:bt.borderColor,fontFamily:bt.fontFamily,fontSize:bt.fontSize,fontColor:bt.fontColor,nameLength:bt.nameLength,textAlign:bt.textAlign,trace:bt.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:bt.hovertemplate||!1,hovertemplateLabels:bt.hovertemplateLabels||!1,eventData:_t}}),{gd:$,hovermode:"closest",rotateLabels:!1,bgColor:B.bgColor||y.background,container:l.select(B.container),outerContainer:B.outerContainer||B.container}).hoverLabels,st=0,dt=0;return ot.sort(function(bt,Pt){return bt.y0-Pt.y0}).each(function(bt,Pt){var It=bt.y0-bt.by/2;bt.offset=It-5<st?st-It+5:0,st=It+bt.by+bt.offset,Pt===B.anchorIndex&&(dt=bt.offset)}).each(function(bt){bt.offset-=dt}),nt(ot,!1,$._fullLayout._invScaleX,$._fullLayout._invScaleY),H?ot:ot.node()};var q=/<extra>([\s\S]*)<\/extra>/;function et(V,B){var H=B.gd,$=H._fullLayout,Z=B.hovermode,Q=B.rotateLabels,ot=B.bgColor,st=B.container,dt=B.outerContainer,bt=B.commonLabelOpts||{};if(V.length===0)return[[]];var Pt=B.fontFamily||M.HOVERFONT,It=B.fontSize||M.HOVERFONTSIZE,Dt=V[0],gt=Dt.xa,_t=Dt.ya,wt=Z.charAt(0),Et=wt+"Label",ht=Dt[Et];if(ht===void 0&&gt.type==="multicategory")for(var vt=0;vt<V.length&&(ht=V[vt][Et])===void 0;vt++);var Ct=rt(H,dt),Mt=Ct.top,Nt=Ct.width,Rt=Ct.height,At=ht!==void 0&&Dt.distance<=B.hoverdistance&&(Z==="x"||Z==="y");if(At){var kt,Bt,Lt=!0;for(kt=0;kt<V.length;kt++)if(Lt&&V[kt].zLabel===void 0&&(Lt=!1),Bt=V[kt].hoverinfo||V[kt].trace.hoverinfo){var zt=Array.isArray(Bt)?Bt:Bt.split("+");if(zt.indexOf("all")===-1&&zt.indexOf(Z)===-1){At=!1;break}}Lt&&(At=!1)}var Gt=st.selectAll("g.axistext").data(At?[0]:[]);Gt.enter().append("g").classed("axistext",!0),Gt.exit().remove();var Ut={minX:0,maxX:0,minY:0,maxY:0};if(Gt.each(function(){var oe=l.select(this),Ue=f.ensureSingle(oe,"path","",function(tn){tn.style({"stroke-width":"1px"})}),rn=f.ensureSingle(oe,"text","",function(tn){tn.attr("data-notex",1)}),Ne=bt.bgcolor||y.defaultLine,Fe=bt.bordercolor||y.contrast(Ne),Be=y.contrast(Ne),Se={family:bt.font.family||Pt,size:bt.font.size||It,color:bt.font.color||Be};Ue.style({fill:Ne,stroke:Fe}),rn.text(ht).call(v.font,Se).call(g.positionText,0,0).call(g.convertToTspans,H),oe.attr("transform","");var Te,xe,Xe=rt(H,rn.node());if(Z==="x"){var Ve=gt.side==="top"?"-":"";rn.attr("text-anchor","middle").call(g.positionText,0,gt.side==="top"?Mt-Xe.bottom-R-k:Mt-Xe.top+R+k),Te=gt._offset+(Dt.x0+Dt.x1)/2,xe=_t._offset+(gt.side==="top"?0:_t._length);var an=Xe.width/2+k;Te<an?(Te=an,Ue.attr("d","M-"+(an-R)+",0L-"+(an-2*R)+","+Ve+R+"H"+an+"v"+Ve+(2*k+Xe.height)+"H-"+an+"V"+Ve+R+"Z")):Te>$.width-an?(Te=$.width-an,Ue.attr("d","M"+(an-R)+",0L"+an+","+Ve+R+"v"+Ve+(2*k+Xe.height)+"H-"+an+"V"+Ve+R+"H"+(an-2*R)+"Z")):Ue.attr("d","M0,0L"+R+","+Ve+R+"H"+an+"v"+Ve+(2*k+Xe.height)+"H-"+an+"V"+Ve+R+"H-"+R+"Z"),Ut.minX=Te-an,Ut.maxX=Te+an,gt.side==="top"?(Ut.minY=xe-(2*k+Xe.height),Ut.maxY=xe-k):(Ut.minY=xe+k,Ut.maxY=xe+(2*k+Xe.height))}else{var ge,Pe,ke;_t.side==="right"?(ge="start",Pe=1,ke="",Te=gt._offset+gt._length):(ge="end",Pe=-1,ke="-",Te=gt._offset),xe=_t._offset+(Dt.y0+Dt.y1)/2,rn.attr("text-anchor",ge),Ue.attr("d","M0,0L"+ke+R+","+R+"V"+(k+Xe.height/2)+"h"+ke+(2*k+Xe.width)+"V-"+(k+Xe.height/2)+"H"+ke+R+"V-"+R+"Z"),Ut.minY=xe-(k+Xe.height/2),Ut.maxY=xe+(k+Xe.height/2),_t.side==="right"?(Ut.minX=Te+R,Ut.maxX=Te+R+(2*k+Xe.width)):(Ut.minX=Te-R-(2*k+Xe.width),Ut.maxX=Te-R);var Ye,je=Xe.height/2,qe=Mt-Xe.top-je,nn="clip"+$._uid+"commonlabel"+_t._id;if(Te<Xe.width+2*k+R){Ye="M-"+(R+k)+"-"+je+"h-"+(Xe.width-k)+"V"+je+"h"+(Xe.width-k)+"Z";var sn=Xe.width-Te+k;g.positionText(rn,sn,qe),ge==="end"&&rn.selectAll("tspan").each(function(){var tn=l.select(this),Tn=v.tester.append("text").text(tn.text()).call(v.font,Se),An=rt(H,Tn.node());Math.round(An.width)<Math.round(Xe.width)&&tn.attr("x",sn-An.width),Tn.remove()})}else g.positionText(rn,Pe*(k+R),qe),Ye=null;var Ze=$._topclips.selectAll("#"+nn).data(Ye?[0]:[]);Ze.enter().append("clipPath").attr("id",nn).append("path"),Ze.exit().remove(),Ze.select("path").attr("d",Ye),v.setClipUrl(rn,Ye?nn:null,H)}oe.attr("transform",h(Te,xe))}),T.isUnifiedHover(Z)){st.selectAll("g.hovertext").remove();var ne=V.filter(function(oe){return oe.hoverinfo!=="none"});if(ne.length===0)return[];var te=$.hoverlabel,ae=te.font,ue={showlegend:!0,legend:{title:{text:ht,font:ae},font:ae,bgcolor:te.bgcolor,bordercolor:te.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:$.legend?$.legend.traceorder:void 0,orientation:"v"}},pe={font:ae};S(ue,pe,H._fullData);var be=pe.legend;be.entries=[];for(var re=0;re<ne.length;re++){var jt=ne[re];if(jt.hoverinfo!=="none"){var $t=U(jt,!0,Z,$,ht),Jt=$t[0],qt=$t[1];jt.name=qt,jt.text=qt!==""?qt+" : "+Jt:Jt;var Ce=jt.cd[jt.index];Ce&&(Ce.mc&&(jt.mc=Ce.mc),Ce.mcc&&(jt.mc=Ce.mcc),Ce.mlc&&(jt.mlc=Ce.mlc),Ce.mlcc&&(jt.mlc=Ce.mlcc),Ce.mlw&&(jt.mlw=Ce.mlw),Ce.mrc&&(jt.mrc=Ce.mrc),Ce.dir&&(jt.dir=Ce.dir)),jt._distinct=!0,be.entries.push([jt])}}be.entries.sort(function(oe,Ue){return oe[0].trace.index-Ue[0].trace.index}),be.layer=st,be._inHover=!0,be._groupTitleFont=te.grouptitlefont,E(H,be);var fe,Me,Ee,He,Ae=st.select("g.legend"),$e=rt(H,Ae.node()),Oe=$e.width+2*k,ft=$e.height+2*k,mt=ne[0],Ht=(mt.x0+mt.x1)/2,Vt=(mt.y0+mt.y1)/2,ee=!(w.traceIs(mt.trace,"bar-like")||w.traceIs(mt.trace,"box-violin"));wt==="y"?ee?(Me=Vt-k,fe=Vt+k):(Me=Math.min.apply(null,ne.map(function(oe){return Math.min(oe.y0,oe.y1)})),fe=Math.max.apply(null,ne.map(function(oe){return Math.max(oe.y0,oe.y1)}))):Me=fe=f.mean(ne.map(function(oe){return(oe.y0+oe.y1)/2}))-ft/2,wt==="x"?ee?(Ee=Ht+k,He=Ht-k):(Ee=Math.max.apply(null,ne.map(function(oe){return Math.max(oe.x0,oe.x1)})),He=Math.min.apply(null,ne.map(function(oe){return Math.min(oe.x0,oe.x1)}))):Ee=He=f.mean(ne.map(function(oe){return(oe.x0+oe.x1)/2}))-Oe/2;var Xt,Qt,se=gt._offset,he=_t._offset;return He+=se-Oe,Me+=he-ft,Xt=(Ee+=se)+Oe<Nt&&Ee>=0?Ee:He+Oe<Nt&&He>=0?He:se+Oe<Nt?se:Ee-Ht<Ht-He+Oe?Nt-Oe:0,Xt+=k,Qt=(fe+=he)+ft<Rt&&fe>=0?fe:Me+ft<Rt&&Me>=0?Me:he+ft<Rt?he:fe-Vt<Vt-Me+ft?Rt-ft:0,Qt+=k,Ae.attr("transform",h(Xt-1,Qt-1)),Ae}var ye=st.selectAll("g.hovertext").data(V,function(oe){return G(oe)});return ye.enter().append("g").classed("hovertext",!0).each(function(){var oe=l.select(this);oe.append("rect").call(y.fill,y.addOpacity(ot,.8)),oe.append("text").classed("name",!0),oe.append("path").style("stroke-width","1px"),oe.append("text").classed("nums",!0).call(v.font,Pt,It)}),ye.exit().remove(),ye.each(function(oe){var Ue=l.select(this).attr("transform",""),rn=oe.color;Array.isArray(rn)&&(rn=rn[oe.eventData[0].pointNumber]);var Ne=oe.bgcolor||rn,Fe=y.combine(y.opacity(Ne)?Ne:y.defaultLine,ot),Be=y.combine(y.opacity(rn)?rn:y.defaultLine,ot),Se=oe.borderColor||y.contrast(Fe),Te=U(oe,At,Z,$,ht,Ue),xe=Te[0],Xe=Te[1],Ve=Ue.select("text.nums").call(v.font,oe.fontFamily||Pt,oe.fontSize||It,oe.fontColor||Se).text(xe).attr("data-notex",1).call(g.positionText,0,0).call(g.convertToTspans,H),an=Ue.select("text.name"),ge=0,Pe=0;if(Xe&&Xe!==xe){an.call(v.font,oe.fontFamily||Pt,oe.fontSize||It,Be).text(Xe).attr("data-notex",1).call(g.positionText,0,0).call(g.convertToTspans,H);var ke=rt(H,an.node());ge=ke.width+2*k,Pe=ke.height+2*k}else an.remove(),Ue.select("rect").remove();Ue.select("path").style({fill:Fe,stroke:Se});var Ye=oe.xa._offset+(oe.x0+oe.x1)/2,je=oe.ya._offset+(oe.y0+oe.y1)/2,qe=Math.abs(oe.x1-oe.x0),nn=Math.abs(oe.y1-oe.y0),sn=rt(H,Ve.node()),Ze=sn.width/$._invScaleX,tn=sn.height/$._invScaleY;oe.ty0=(Mt-sn.top)/$._invScaleY,oe.bx=Ze+2*k,oe.by=Math.max(tn+2*k,Pe),oe.anchor="start",oe.txwidth=Ze,oe.tx2width=ge,oe.offset=0;var Tn,An,Sn=(Ze+R+k+ge)*$._invScaleX;if(Q)oe.pos=Ye,Tn=je+nn/2+Sn<=Rt,An=je-nn/2-Sn>=0,oe.idealAlign!=="top"&&Tn||!An?Tn?(je+=nn/2,oe.anchor="start"):oe.anchor="middle":(je-=nn/2,oe.anchor="end"),oe.crossPos=je;else{if(oe.pos=je,Tn=Ye+qe/2+Sn<=Nt,An=Ye-qe/2-Sn>=0,oe.idealAlign!=="left"&&Tn||!An)if(Tn)Ye+=qe/2,oe.anchor="start";else{oe.anchor="middle";var bn=Sn/2,_n=Ye+bn-Nt,Hn=Ye-bn;_n>0&&(Ye-=_n),Hn<0&&(Ye+=-Hn)}else Ye-=qe/2,oe.anchor="end";oe.crossPos=Ye}Ve.attr("text-anchor",oe.anchor),ge&&an.attr("text-anchor",oe.anchor),Ue.attr("transform",h(Ye,je)+(Q?d(A):""))}),{hoverLabels:ye,commonLabelBoundingBox:Ut}}function U(V,B,H,$,Z,Q){var ot="",st="";V.nameOverride!==void 0&&(V.name=V.nameOverride),V.name&&(V.trace._meta&&(V.name=f.templateString(V.name,V.trace._meta)),ot=X(V.name,V.nameLength));var dt=H.charAt(0),bt=dt==="x"?"y":"x";V.zLabel!==void 0?(V.xLabel!==void 0&&(st+="x: "+V.xLabel+"<br>"),V.yLabel!==void 0&&(st+="y: "+V.yLabel+"<br>"),V.trace.type!=="choropleth"&&V.trace.type!=="choroplethmapbox"&&(st+=(st?"z: ":"")+V.zLabel)):B&&V[dt+"Label"]===Z?st=V[bt+"Label"]||"":V.xLabel===void 0?V.yLabel!==void 0&&V.trace.type!=="scattercarpet"&&(st=V.yLabel):st=V.yLabel===void 0?V.xLabel:"("+V.xLabel+", "+V.yLabel+")",!V.text&&V.text!==0||Array.isArray(V.text)||(st+=(st?"<br>":"")+V.text),V.extraText!==void 0&&(st+=(st?"<br>":"")+V.extraText),Q&&st===""&&!V.hovertemplate&&(ot===""&&Q.remove(),st=ot);var Pt=V.hovertemplate||!1;if(Pt){var It=V.hovertemplateLabels||V;V[dt+"Label"]!==Z&&(It[dt+"other"]=It[dt+"Val"],It[dt+"otherLabel"]=It[dt+"Label"]),st=(st=f.hovertemplateString(Pt,It,$._d3locale,V.eventData[0]||{},V.trace._meta)).replace(q,function(Dt,gt){return ot=X(gt,V.nameLength),""})}return[st,ot]}function J(V,B){var H=0,$=V.offset;return B&&($*=-P,H=V.offset*F),{x:H,y:$}}function nt(V,B,H,$){var Z=function(ot){return ot*H},Q=function(ot){return ot*$};V.each(function(ot){var st=l.select(this);if(ot.del)return st.remove();var dt,bt,Pt,It,Dt=st.select("text.nums"),gt=ot.anchor,_t=gt==="end"?-1:1,wt=(It=(Pt=(bt={start:1,end:-1,middle:0}[(dt=ot).anchor])*(R+k))+bt*(dt.txwidth+k),dt.anchor==="middle"&&(Pt-=dt.tx2width/2,It+=dt.txwidth/2+k),{alignShift:bt,textShiftX:Pt,text2ShiftX:It}),Et=J(ot,B),ht=Et.x,vt=Et.y,Ct=gt==="middle";st.select("path").attr("d",Ct?"M-"+Z(ot.bx/2+ot.tx2width/2)+","+Q(vt-ot.by/2)+"h"+Z(ot.bx)+"v"+Q(ot.by)+"h-"+Z(ot.bx)+"Z":"M0,0L"+Z(_t*R+ht)+","+Q(R+vt)+"v"+Q(ot.by/2-R)+"h"+Z(_t*ot.bx)+"v-"+Q(ot.by)+"H"+Z(_t*R+ht)+"V"+Q(vt-R)+"Z");var Mt=ht+wt.textShiftX,Nt=vt+ot.ty0-ot.by/2+k,Rt=ot.textAlign||"auto";Rt!=="auto"&&(Rt==="left"&&gt!=="start"?(Dt.attr("text-anchor","start"),Mt=Ct?-ot.bx/2-ot.tx2width/2+k:-ot.bx-k):Rt==="right"&&gt!=="end"&&(Dt.attr("text-anchor","end"),Mt=Ct?ot.bx/2-ot.tx2width/2-k:ot.bx+k)),Dt.call(g.positionText,Z(Mt),Q(Nt)),ot.tx2width&&(st.select("text.name").call(g.positionText,Z(wt.text2ShiftX+wt.alignShift*k+ht),Q(vt+ot.ty0-ot.by/2+k)),st.select("rect").call(v.setRect,Z(wt.text2ShiftX+(wt.alignShift-1)*ot.tx2width/2+ht),Q(vt-ot.by/2-1),Z(ot.tx2width),Q(ot.by+2)))})}function ct(V,B){var H=V.index,$=V.trace||{},Z=V.cd[0],Q=V.cd[H]||{};function ot(Dt){return Dt||c(Dt)&&Dt===0}var st=Array.isArray(H)?function(Dt,gt){var _t=f.castOption(Z,H,Dt);return ot(_t)?_t:f.extractOption({},$,"",gt)}:function(Dt,gt){return f.extractOption(Q,$,Dt,gt)};function dt(Dt,gt,_t){var wt=st(gt,_t);ot(wt)&&(V[Dt]=wt)}if(dt("hoverinfo","hi","hoverinfo"),dt("bgcolor","hbg","hoverlabel.bgcolor"),dt("borderColor","hbc","hoverlabel.bordercolor"),dt("fontFamily","htf","hoverlabel.font.family"),dt("fontSize","hts","hoverlabel.font.size"),dt("fontColor","htc","hoverlabel.font.color"),dt("nameLength","hnl","hoverlabel.namelength"),dt("textAlign","hta","hoverlabel.align"),V.posref=B==="y"||B==="closest"&&$.orientation==="h"?V.xa._offset+(V.x0+V.x1)/2:V.ya._offset+(V.y0+V.y1)/2,V.x0=f.constrain(V.x0,0,V.xa._length),V.x1=f.constrain(V.x1,0,V.xa._length),V.y0=f.constrain(V.y0,0,V.ya._length),V.y1=f.constrain(V.y1,0,V.ya._length),V.xLabelVal!==void 0&&(V.xLabel="xLabel"in V?V.xLabel:b.hoverLabelText(V.xa,V.xLabelVal,$.xhoverformat),V.xVal=V.xa.c2d(V.xLabelVal)),V.yLabelVal!==void 0&&(V.yLabel="yLabel"in V?V.yLabel:b.hoverLabelText(V.ya,V.yLabelVal,$.yhoverformat),V.yVal=V.ya.c2d(V.yLabelVal)),V.zLabelVal!==void 0&&V.zLabel===void 0&&(V.zLabel=String(V.zLabelVal)),!(isNaN(V.xerr)||V.xa.type==="log"&&V.xerr<=0)){var bt=b.tickText(V.xa,V.xa.c2l(V.xerr),"hover").text;V.xerrneg!==void 0?V.xLabel+=" +"+bt+" / -"+b.tickText(V.xa,V.xa.c2l(V.xerrneg),"hover").text:V.xLabel+="  "+bt,B==="x"&&(V.distance+=1)}if(!(isNaN(V.yerr)||V.ya.type==="log"&&V.yerr<=0)){var Pt=b.tickText(V.ya,V.ya.c2l(V.yerr),"hover").text;V.yerrneg!==void 0?V.yLabel+=" +"+Pt+" / -"+b.tickText(V.ya,V.ya.c2l(V.yerrneg),"hover").text:V.yLabel+="  "+Pt,B==="y"&&(V.distance+=1)}var It=V.hoverinfo||V.trace.hoverinfo;return It&&It!=="all"&&((It=Array.isArray(It)?It:It.split("+")).indexOf("x")===-1&&(V.xLabel=void 0),It.indexOf("y")===-1&&(V.yLabel=void 0),It.indexOf("z")===-1&&(V.zLabel=void 0),It.indexOf("text")===-1&&(V.text=void 0),It.indexOf("name")===-1&&(V.name=void 0)),V}function z(V,B,H){var $,Z,Q=H.container,ot=H.fullLayout,st=ot._size,dt=H.event,bt=!!B.hLinePoint,Pt=!!B.vLinePoint;if(Q.selectAll(".spikeline").remove(),Pt||bt){var It=y.combine(ot.plot_bgcolor,ot.paper_bgcolor);if(bt){var Dt,gt,_t=B.hLinePoint;$=_t&&_t.xa,(Z=_t&&_t.ya).spikesnap==="cursor"?(Dt=dt.pointerX,gt=dt.pointerY):(Dt=$._offset+_t.x,gt=Z._offset+_t.y);var wt,Et,ht=u.readability(_t.color,It)<1.5?y.contrast(It):_t.color,vt=Z.spikemode,Ct=Z.spikethickness,Mt=Z.spikecolor||ht,Nt=b.getPxPosition(V,Z);if(vt.indexOf("toaxis")!==-1||vt.indexOf("across")!==-1){if(vt.indexOf("toaxis")!==-1&&(wt=Nt,Et=Dt),vt.indexOf("across")!==-1){var Rt=Z._counterDomainMin,At=Z._counterDomainMax;Z.anchor==="free"&&(Rt=Math.min(Rt,Z.position),At=Math.max(At,Z.position)),wt=st.l+Rt*st.w,Et=st.l+At*st.w}Q.insert("line",":first-child").attr({x1:wt,x2:Et,y1:gt,y2:gt,"stroke-width":Ct,stroke:Mt,"stroke-dasharray":v.dashStyle(Z.spikedash,Ct)}).classed("spikeline",!0).classed("crisp",!0),Q.insert("line",":first-child").attr({x1:wt,x2:Et,y1:gt,y2:gt,"stroke-width":Ct+2,stroke:It}).classed("spikeline",!0).classed("crisp",!0)}vt.indexOf("marker")!==-1&&Q.insert("circle",":first-child").attr({cx:Nt+(Z.side!=="right"?Ct:-Ct),cy:gt,r:Ct,fill:Mt}).classed("spikeline",!0)}if(Pt){var kt,Bt,Lt=B.vLinePoint;$=Lt&&Lt.xa,Z=Lt&&Lt.ya,$.spikesnap==="cursor"?(kt=dt.pointerX,Bt=dt.pointerY):(kt=$._offset+Lt.x,Bt=Z._offset+Lt.y);var zt,Gt,Ut=u.readability(Lt.color,It)<1.5?y.contrast(It):Lt.color,ne=$.spikemode,te=$.spikethickness,ae=$.spikecolor||Ut,ue=b.getPxPosition(V,$);if(ne.indexOf("toaxis")!==-1||ne.indexOf("across")!==-1){if(ne.indexOf("toaxis")!==-1&&(zt=ue,Gt=Bt),ne.indexOf("across")!==-1){var pe=$._counterDomainMin,be=$._counterDomainMax;$.anchor==="free"&&(pe=Math.min(pe,$.position),be=Math.max(be,$.position)),zt=st.t+(1-be)*st.h,Gt=st.t+(1-pe)*st.h}Q.insert("line",":first-child").attr({x1:kt,x2:kt,y1:zt,y2:Gt,"stroke-width":te,stroke:ae,"stroke-dasharray":v.dashStyle($.spikedash,te)}).classed("spikeline",!0).classed("crisp",!0),Q.insert("line",":first-child").attr({x1:kt,x2:kt,y1:zt,y2:Gt,"stroke-width":te+2,stroke:It}).classed("spikeline",!0).classed("crisp",!0)}ne.indexOf("marker")!==-1&&Q.insert("circle",":first-child").attr({cx:kt,cy:ue-($.side!=="top"?te:-te),r:te,fill:ae}).classed("spikeline",!0)}}}function W(V,B){return!B||B.vLinePoint!==V._spikepoints.vLinePoint||B.hLinePoint!==V._spikepoints.hLinePoint}function X(V,B){return g.plainText(V||"",{len:B,allowedTags:["br","sub","sup","b","i","em"]})}function it(V,B,H){var $=B[V+"a"],Z=B[V+"Val"],Q=B.cd[0];if($.type==="category"||$.type==="multicategory")Z=$._categoriesMap[Z];else if($.type==="date"){var ot=B.trace[V+"periodalignment"];if(ot){var st=B.cd[B.index],dt=st[V+"Start"];dt===void 0&&(dt=st[V]);var bt=st[V+"End"];bt===void 0&&(bt=st[V]);var Pt=bt-dt;ot==="end"?Z+=Pt:ot==="middle"&&(Z+=Pt/2)}Z=$.d2c(Z)}return Q&&Q.t&&Q.t.posLetter===$._id&&(H.boxmode!=="group"&&H.violinmode!=="group"||(Z+=Q.t.dPos)),Z}function lt(V){return V.offsetTop+V.clientTop}function pt(V){return V.offsetLeft+V.clientLeft}function rt(V,B){var H=V._fullLayout,$=B.getBoundingClientRect(),Z=$.left,Q=$.top,ot=Z+$.width,st=Q+$.height,dt=f.apply3DTransform(H._invTransform)(Z,Q),bt=f.apply3DTransform(H._invTransform)(ot,st),Pt=dt[0],It=dt[1],Dt=bt[0],gt=bt[1];return{x:Pt,y:It,width:Dt-Pt,height:gt-It,top:Math.min(It,gt),left:Math.min(Pt,Dt),right:Math.max(Pt,Dt),bottom:Math.max(It,gt)}}},8048:function(a,s,o){var l=o(1828),c=o(7901),u=o(3469).isUnifiedHover;a.exports=function(f,h,d,p){p=p||{};var g=h.legend;function m(v){p.font[v]||(p.font[v]=g?h.legend.font[v]:h.font[v])}h&&u(h.hovermode)&&(p.font||(p.font={}),m("size"),m("family"),m("color"),g?(p.bgcolor||(p.bgcolor=c.combine(h.legend.bgcolor,h.paper_bgcolor)),p.bordercolor||(p.bordercolor=h.legend.bordercolor)):p.bgcolor||(p.bgcolor=h.paper_bgcolor)),d("hoverlabel.bgcolor",p.bgcolor),d("hoverlabel.bordercolor",p.bordercolor),d("hoverlabel.namelength",p.namelength),l.coerceFont(d,"hoverlabel.font",p.font),d("hoverlabel.align",p.align)}},8212:function(a,s,o){var l=o(1828),c=o(528);a.exports=function(u,f){function h(d,p){return f[d]!==void 0?f[d]:l.coerce(u,f,c,d,p)}return h("clickmode"),h("hovermode")}},211:function(a,s,o){var l=o(9898),c=o(1828),u=o(8569),f=o(3469),h=o(528),d=o(8335);a.exports={moduleType:"component",name:"fx",constants:o(6675),schema:{layout:h},attributes:o(7914),layoutAttributes:h,supplyLayoutGlobalDefaults:o(2774),supplyDefaults:o(4268),supplyLayoutDefaults:o(4938),calc:o(732),getDistanceFunction:f.getDistanceFunction,getClosest:f.getClosest,inbox:f.inbox,quadrature:f.quadrature,appendArrayPointValue:f.appendArrayPointValue,castHoverOption:function(p,g,m){return c.castOption(p,g,"hoverlabel."+m)},castHoverinfo:function(p,g,m){return c.castOption(p,m,"hoverinfo",function(v){return c.coerceHoverinfo({hoverinfo:v},{_module:p._module},g)})},hover:d.hover,unhover:u.unhover,loneHover:d.loneHover,loneUnhover:function(p){var g=c.isD3Selection(p)?p:l.select(p);g.selectAll("g.hovertext").remove(),g.selectAll(".spikeline").remove()},click:o(5914)}},528:function(a,s,o){var l=o(6675),c=o(1940),u=c({editType:"none"});u.family.dflt=l.HOVERFONT,u.size.dflt=l.HOVERFONTSIZE,a.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:u,grouptitlefont:c({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},4938:function(a,s,o){var l=o(1828),c=o(528),u=o(8212),f=o(8048);a.exports=function(h,d){function p(y,_){return l.coerce(h,d,c,y,_)}u(h,d)&&(p("hoverdistance"),p("spikedistance")),p("dragmode")==="select"&&p("selectdirection");var g=d._has("mapbox"),m=d._has("geo"),v=d._basePlotModules.length;d.dragmode==="zoom"&&((g||m)&&v===1||g&&m&&v===2)&&(d.dragmode="pan"),f(h,d,p),l.coerceFont(p,"hoverlabel.grouptitlefont",d.hoverlabel.font)}},2774:function(a,s,o){var l=o(1828),c=o(8048),u=o(528);a.exports=function(f,h){c(f,h,function(d,p){return l.coerce(f,h,u,d,p)})}},3312:function(a,s,o){var l=o(1828),c=o(587).counter,u=o(7670).Y,f=o(5555).idRegex,h=o(4467),d={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[c("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[f.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[f.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:u({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function p(v,y,_){var b=y[_+"axes"],w=Object.keys((v._splomAxes||{})[_]||{});return Array.isArray(b)?b:w.length?w:void 0}function g(v,y,_,b,w,T){var M=y(v+"gap",_),S=y("domain."+v);y(v+"side",b);for(var E=new Array(w),A=S[0],O=(S[1]-A)/(w-M),N=O*(1-M),F=0;F<w;F++){var P=A+O*F;E[T?w-1-F:F]=[P,P+N]}return E}function m(v,y,_,b,w){var T,M=new Array(_);function S(E,A){y.indexOf(A)!==-1&&b[A]===void 0?(M[E]=A,b[A]=E):M[E]=""}if(Array.isArray(v))for(T=0;T<_;T++)S(T,v[T]);else for(S(0,w),T=1;T<_;T++)S(T,w+(T+1));return M}a.exports={moduleType:"component",name:"grid",schema:{layout:{grid:d}},layoutAttributes:d,sizeDefaults:function(v,y){var _=v.grid||{},b=p(y,_,"x"),w=p(y,_,"y");if(v.grid||b||w){var T,M,S=Array.isArray(_.subplots)&&Array.isArray(_.subplots[0]),E=Array.isArray(b),A=Array.isArray(w),O=E&&b!==_.xaxes&&A&&w!==_.yaxes;S?(T=_.subplots.length,M=_.subplots[0].length):(A&&(T=w.length),E&&(M=b.length));var N=h.newContainer(y,"grid"),F=q("rows",T),P=q("columns",M);if(F*P>1){S||E||A||q("pattern")==="independent"&&(S=!0),N._hasSubplotGrid=S;var R,k,I=q("roworder")==="top to bottom",j=S?.2:.1,G=S?.3:.1;O&&y._splomGridDflt&&(R=y._splomGridDflt.xside,k=y._splomGridDflt.yside),N._domains={x:g("x",q,j,R,P),y:g("y",q,G,k,F,I)}}else delete y.grid}function q(et,U){return l.coerce(_,N,d,et,U)}},contentDefaults:function(v,y){var _=y.grid;if(_&&_._domains){var b,w,T,M,S,E,A,O=v.grid||{},N=y._subplots,F=_._hasSubplotGrid,P=_.rows,R=_.columns,k=_.pattern==="independent",I=_._axisMap={};if(F){var j=O.subplots||[];E=_.subplots=new Array(P);var G=1;for(b=0;b<P;b++){var q=E[b]=new Array(R),et=j[b]||[];for(w=0;w<R;w++)if(k?(S=G===1?"xy":"x"+G+"y"+G,G++):S=et[w],q[w]="",N.cartesian.indexOf(S)!==-1){if(A=S.indexOf("y"),T=S.slice(0,A),M=S.slice(A),I[T]!==void 0&&I[T]!==w||I[M]!==void 0&&I[M]!==b)continue;q[w]=S,I[T]=w,I[M]=b}}}else{var U=p(y,O,"x"),J=p(y,O,"y");_.xaxes=m(U,N.xaxis,R,I,"x"),_.yaxes=m(J,N.yaxis,P,I,"y")}var nt=_._anchors={},ct=_.roworder==="top to bottom";for(var z in I){var W,X,it,lt=z.charAt(0),pt=_[lt+"side"];if(pt.length<8)nt[z]="free";else if(lt==="x"){if(pt.charAt(0)==="t"===ct?(W=0,X=1,it=P):(W=P-1,X=-1,it=-1),F){var rt=I[z];for(b=W;b!==it;b+=X)if((S=E[b][rt])&&(A=S.indexOf("y"),S.slice(0,A)===z)){nt[z]=S.slice(A);break}}else for(b=W;b!==it;b+=X)if(M=_.yaxes[b],N.cartesian.indexOf(z+M)!==-1){nt[z]=M;break}}else if(pt.charAt(0)==="l"?(W=0,X=1,it=R):(W=R-1,X=-1,it=-1),F){var V=I[z];for(b=W;b!==it;b+=X)if((S=E[V][b])&&(A=S.indexOf("y"),S.slice(A)===z)){nt[z]=S.slice(0,A);break}}else for(b=W;b!==it;b+=X)if(T=_.xaxes[b],N.cartesian.indexOf(T+z)!==-1){nt[z]=T;break}}}}}},9819:function(a,s,o){var l=o(5555),c=o(4467).templatedArray;o(4695),a.exports=c("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",l.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",l.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},5378:function(a,s,o){var l=o(2770),c=o(8163);a.exports=function(u,f,h,d){f=f||{};var p=h==="log"&&f.type==="linear",g=h==="linear"&&f.type==="log";if(p||g){for(var m,v,y=u._fullLayout.images,_=f._id.charAt(0),b=0;b<y.length;b++)if(v="images["+b+"].",(m=y[b])[_+"ref"]===f._id){var w=m[_],T=m["size"+_],M=null,S=null;if(p){M=c(w,f.range);var E=T/Math.pow(10,M)/2;S=2*Math.log(E+Math.sqrt(1+E*E))/Math.LN10}else S=(M=Math.pow(10,w))*(Math.pow(10,T/2)-Math.pow(10,-T/2));l(M)?l(S)||(S=null):(M=null,S=null),d(v+_,M),d(v+"size"+_,S)}}}},1603:function(a,s,o){var l=o(1828),c=o(9298),u=o(5501),f=o(9819);function h(d,p,g){function m(M,S){return l.coerce(d,p,f,M,S)}var v=m("source");if(!m("visible",!!v))return p;m("layer"),m("xanchor"),m("yanchor"),m("sizex"),m("sizey"),m("sizing"),m("opacity");for(var y={_fullLayout:g},_=["x","y"],b=0;b<2;b++){var w=_[b],T=c.coerceRef(d,p,y,w,"paper",void 0);T!=="paper"&&c.getFromId(y,T)._imgIndices.push(p._index),c.coercePosition(p,y,m,T,w,0)}return p}a.exports=function(d,p){u(d,p,{name:"images",handleItemDefaults:h})}},750:function(a,s,o){var l=o(9898),c=o(1424),u=o(9298),f=o(1675),h=o(7922);a.exports=function(d){var p,g,m=d._fullLayout,v=[],y={},_=[];for(g=0;g<m.images.length;g++){var b=m.images[g];if(b.visible)if(b.layer==="below"&&b.xref!=="paper"&&b.yref!=="paper"){p=f.ref2id(b.xref)+f.ref2id(b.yref);var w=m._plots[p];if(!w){_.push(b);continue}w.mainplot&&(p=w.mainplot.id),y[p]||(y[p]=[]),y[p].push(b)}else b.layer==="above"?v.push(b):_.push(b)}var T={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},M={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function S(R){var k=l.select(this);if(this._imgSrc!==R.source)if(k.attr("xmlns",h.svg),R.source&&R.source.slice(0,5)==="data:")k.attr("xlink:href",R.source),this._imgSrc=R.source;else{var I=new Promise(function(j){var G=new Image;function q(){k.remove(),j()}this.img=G,G.setAttribute("crossOrigin","anonymous"),G.onerror=q,G.onload=function(){var et=document.createElement("canvas");et.width=this.width,et.height=this.height,et.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var U=et.toDataURL("image/png");k.attr("xlink:href",U),j()},k.on("error",q),G.src=R.source,this._imgSrc=R.source}.bind(this));d._promises.push(I)}}function E(R){var k,I,j=l.select(this),G=u.getFromId(d,R.xref),q=u.getFromId(d,R.yref),et=u.getRefType(R.xref)==="domain",U=u.getRefType(R.yref)==="domain",J=m._size;k=G!==void 0?typeof R.xref=="string"&&et?G._length*R.sizex:Math.abs(G.l2p(R.sizex)-G.l2p(0)):R.sizex*J.w,I=q!==void 0?typeof R.yref=="string"&&U?q._length*R.sizey:Math.abs(q.l2p(R.sizey)-q.l2p(0)):R.sizey*J.h;var nt,ct,z=k*T[R.xanchor].offset,W=I*M[R.yanchor].offset,X=T[R.xanchor].sizing+M[R.yanchor].sizing;switch(nt=G!==void 0?typeof R.xref=="string"&&et?G._length*R.x+G._offset:G.r2p(R.x)+G._offset:R.x*J.w+J.l,nt+=z,ct=q!==void 0?typeof R.yref=="string"&&U?q._length*(1-R.y)+q._offset:q.r2p(R.y)+q._offset:J.h-R.y*J.h+J.t,ct+=W,R.sizing){case"fill":X+=" slice";break;case"stretch":X="none"}j.attr({x:nt,y:ct,width:k,height:I,preserveAspectRatio:X,opacity:R.opacity});var it=(G&&u.getRefType(R.xref)!=="domain"?G._id:"")+(q&&u.getRefType(R.yref)!=="domain"?q._id:"");c.setClipUrl(j,it?"clip"+m._uid+it:null,d)}var A=m._imageLowerLayer.selectAll("image").data(_),O=m._imageUpperLayer.selectAll("image").data(v);A.enter().append("image"),O.enter().append("image"),A.exit().remove(),O.exit().remove(),A.each(function(R){S.bind(this)(R),E.bind(this)(R)}),O.each(function(R){S.bind(this)(R),E.bind(this)(R)});var N=Object.keys(m._plots);for(g=0;g<N.length;g++){p=N[g];var F=m._plots[p];if(F.imagelayer){var P=F.imagelayer.selectAll("image").data(y[p]||[]);P.enter().append("image"),P.exit().remove(),P.each(function(R){S.bind(this)(R),E.bind(this)(R)})}}}},8804:function(a,s,o){a.exports={moduleType:"component",name:"images",layoutAttributes:o(9819),supplyLayoutDefaults:o(1603),includeBasePlot:o(6325)("images"),draw:o(750),convertCoords:o(5378)}},3030:function(a,s,o){var l=o(1940),c=o(2399);a.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:c.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:l({editType:"legend"}),grouptitlefont:l({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:l({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},4928:function(a){a.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},9017:function(a,s,o){var l=o(3972),c=o(1828),u=o(4467),f=o(9012),h=o(3030),d=o(820),p=o(130);function g(m,v,y,_){var b=v[m]||{},w=u.newContainer(y,m);function T(X,it){return c.coerce(b,w,h,X,it)}var M=c.coerceFont(T,"font",y.font);if(T("bgcolor",y.paper_bgcolor),T("bordercolor"),T("visible")){for(var S,E=function(X,it){var lt=S._input,pt=S;return c.coerce(lt,pt,f,X,it)},A=y.font||{},O=c.coerceFont(T,"grouptitlefont",c.extendFlat({},A,{size:Math.round(1.1*A.size)})),N=0,F=!1,P="normal",R=(y.shapes||[]).filter(function(X){return X.showlegend}),k=_.concat(R).filter(function(X){return m===(X.legend||"legend")}),I=0;I<k.length;I++)if((S=k[I]).visible){var j=S._isShape;(S.showlegend||S._dfltShowLegend&&!(S._module&&S._module.attributes&&S._module.attributes.showlegend&&S._module.attributes.showlegend.dflt===!1))&&(N++,S.showlegend&&(F=!0,(!j&&l.traceIs(S,"pie-like")||S._input.showlegend===!0)&&N++),c.coerceFont(E,"legendgrouptitle.font",O)),(!j&&l.traceIs(S,"bar")&&y.barmode==="stack"||["tonextx","tonexty"].indexOf(S.fill)!==-1)&&(P=p.isGrouped({traceorder:P})?"grouped+reversed":"reversed"),S.legendgroup!==void 0&&S.legendgroup!==""&&(P=p.isReversed({traceorder:P})?"reversed+grouped":"grouped")}var G=c.coerce(v,y,d,"showlegend",F&&N>(m==="legend"?1:0));if(G===!1&&(y[m]=void 0),(G!==!1||b.uirevision)&&(T("uirevision",y.uirevision),G!==!1)){T("borderwidth");var q,et,U,J=T("orientation")==="h",nt=T("yref")==="paper",ct=T("xref")==="paper",z="left";if(J?(q=0,l.getComponentMethod("rangeslider","isVisible")(v.xaxis)?nt?(et=1.1,U="bottom"):(et=1,U="top"):nt?(et=-.1,U="top"):(et=0,U="bottom")):(et=1,U="auto",ct?q=1.02:(q=1,z="right")),c.coerce(b,w,{x:{valType:"number",editType:"legend",min:ct?-2:0,max:ct?3:1,dflt:q}},"x"),c.coerce(b,w,{y:{valType:"number",editType:"legend",min:nt?-2:0,max:nt?3:1,dflt:et}},"y"),T("traceorder",P),p.isGrouped(y[m])&&T("tracegroupgap"),T("entrywidth"),T("entrywidthmode"),T("itemsizing"),T("itemwidth"),T("itemclick"),T("itemdoubleclick"),T("groupclick"),T("xanchor",z),T("yanchor",U),T("valign"),c.noneOrAll(b,w,["x","y"]),T("title.text")){T("title.side",J?"left":"top");var W=c.extendFlat({},M,{size:c.bigFont(M.size)});c.coerceFont(T,"title.font",W)}}}}a.exports=function(m,v,y){var _,b=y.slice(),w=v.shapes;if(w)for(_=0;_<w.length;_++){var T=w[_];if(T.showlegend){var M={_input:T._input,visible:T.visible,showlegend:T.showlegend,legend:T.legend};b.push(M)}}var S=["legend"];for(_=0;_<b.length;_++)c.pushUnique(S,b[_].legend);for(v._legends=[],_=0;_<S.length;_++){var E=S[_];g(E,m,v,b),v[E]&&v[E].visible&&(v[E]._id=E),v._legends.push(E)}}},3969:function(a,s,o){var l=o(9898),c=o(1828),u=o(4875),f=o(3972),h=o(1086),d=o(8569),p=o(1424),g=o(7901),m=o(3893),v=o(5167),y=o(4928),_=o(8783),b=_.LINE_SPACING,w=_.FROM_TL,T=_.FROM_BR,M=o(2424),S=o(3630),E=o(130),A=1,O=/^legend[0-9]*$/;function N(U,J){var nt,ct,z=J||{},W=U._fullLayout,X=et(z),it=z._inHover;if(it?(ct=z.layer,nt="hover"):(ct=W._infolayer,nt=X),ct){var lt;if(nt+=W._uid,U._legendMouseDownTime||(U._legendMouseDownTime=0),it){if(!z.entries)return;lt=M(z.entries,z)}else{for(var pt=(U.calcdata||[]).slice(),rt=W.shapes,V=0;V<rt.length;V++){var B=rt[V];if(B.showlegend){var H={_isShape:!0,_fullInput:B,index:B._index,name:B.name||B.label.text||"shape "+B._index,legend:B.legend,legendgroup:B.legendgroup,legendgrouptitle:B.legendgrouptitle,legendrank:B.legendrank,legendwidth:B.legendwidth,showlegend:B.showlegend,visible:B.visible,opacity:B.opacity,mode:B.type==="line"?"lines":"markers",line:B.line,marker:{line:B.line,color:B.fillcolor,size:12,symbol:B.type==="rect"?"square":B.type==="circle"?"circle":"hexagon2"}};pt.push([{trace:H}])}}lt=W.showlegend&&M(pt,z,W._legends.length>1)}var $=W.hiddenlabels||[];if(!(it||W.showlegend&&lt.length))return ct.selectAll("."+X).remove(),W._topdefs.select("#"+nt).remove(),u.autoMargin(U,X);var Z=c.ensureSingle(ct,"g",X,function(gt){it||gt.attr("pointer-events","all")}),Q=c.ensureSingleById(W._topdefs,"clipPath",nt,function(gt){gt.append("rect")}),ot=c.ensureSingle(Z,"rect","bg",function(gt){gt.attr("shape-rendering","crispEdges")});ot.call(g.stroke,z.bordercolor).call(g.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px");var st=c.ensureSingle(Z,"g","scrollbox"),dt=z.title;if(z._titleWidth=0,z._titleHeight=0,dt.text){var bt=c.ensureSingle(st,"text",X+"titletext");bt.attr("text-anchor","start").call(p.font,dt.font).text(dt.text),j(bt,st,U,z,A)}else st.selectAll("."+X+"titletext").remove();var Pt=c.ensureSingle(Z,"rect","scrollbar",function(gt){gt.attr(y.scrollBarEnterAttrs).call(g.fill,y.scrollBarColor)}),It=st.selectAll("g.groups").data(lt);It.enter().append("g").attr("class","groups"),It.exit().remove();var Dt=It.selectAll("g.traces").data(c.identity);Dt.enter().append("g").attr("class","traces"),Dt.exit().remove(),Dt.style("opacity",function(gt){var _t=gt[0].trace;return f.traceIs(_t,"pie-like")?$.indexOf(gt[0].label)!==-1?.5:1:_t.visible==="legendonly"?.5:1}).each(function(){l.select(this).call(R,U,z)}).call(S,U,z).each(function(){it||l.select(this).call(I,U,X)}),c.syncOrAsync([u.previousPromises,function(){return function(gt,_t,wt,Et){var ht=gt._fullLayout,vt=et(Et);Et||(Et=ht[vt]);var Ct=ht._size,Mt=E.isVertical(Et),Nt=E.isGrouped(Et),Rt=Et.entrywidthmode==="fraction",At=Et.borderwidth,kt=2*At,Bt=y.itemGap,Lt=Et.itemwidth+2*Bt,zt=2*(At+Bt),Gt=q(Et),Ut=Et.y<0||Et.y===0&&Gt==="top",ne=Et.y>1||Et.y===1&&Gt==="bottom",te=Et.tracegroupgap,ae={};Et._maxHeight=Math.max(Ut||ne?ht.height/2:Ct.h,30);var ue=0;Et._width=0,Et._height=0;var pe=function(Xt){var Qt=0,se=0,he=Xt.title.side;return he&&(he.indexOf("left")!==-1&&(Qt=Xt._titleWidth),he.indexOf("top")!==-1&&(se=Xt._titleHeight)),[Qt,se]}(Et);if(Mt)wt.each(function(Xt){var Qt=Xt[0].height;p.setTranslate(this,At+pe[0],At+pe[1]+Et._height+Qt/2+Bt),Et._height+=Qt,Et._width=Math.max(Et._width,Xt[0].width)}),ue=Lt+Et._width,Et._width+=Bt+Lt+kt,Et._height+=zt,Nt&&(_t.each(function(Xt,Qt){p.setTranslate(this,0,Qt*Et.tracegroupgap)}),Et._height+=(Et._lgroupsLength-1)*Et.tracegroupgap);else{var be=G(Et),re=Et.x<0||Et.x===0&&be==="right",jt=Et.x>1||Et.x===1&&be==="left",$t=ne||Ut,Jt=ht.width/2;Et._maxWidth=Math.max(re?$t&&be==="left"?Ct.l+Ct.w:Jt:jt?$t&&be==="right"?Ct.r+Ct.w:Jt:Ct.w,2*Lt);var qt=0,Ce=0;wt.each(function(Xt){var Qt=F(Xt,Et,Lt);qt=Math.max(qt,Qt),Ce+=Qt}),ue=null;var fe=0;if(Nt){var Me=0,Ee=0,He=0;_t.each(function(){var Xt=0,Qt=0;l.select(this).selectAll("g.traces").each(function(he){var ye=F(he,Et,Lt),oe=he[0].height;p.setTranslate(this,pe[0],pe[1]+At+Bt+oe/2+Qt),Qt+=oe,Xt=Math.max(Xt,ye),ae[he[0].trace.legendgroup]=Xt});var se=Xt+Bt;Ee>0&&se+At+Ee>Et._maxWidth?(fe=Math.max(fe,Ee),Ee=0,He+=Me+te,Me=Qt):Me=Math.max(Me,Qt),p.setTranslate(this,Ee,He),Ee+=se}),Et._width=Math.max(fe,Ee)+At,Et._height=He+Me+zt}else{var Ae=wt.size(),$e=Ce+kt+(Ae-1)*Bt<Et._maxWidth,Oe=0,ft=0,mt=0,Ht=0;wt.each(function(Xt){var Qt=Xt[0].height,se=F(Xt,Et,Lt),he=$e?se:qt;Rt||(he+=Bt),he+At+ft-Bt>=Et._maxWidth&&(fe=Math.max(fe,Ht),ft=0,mt+=Oe,Et._height+=Oe,Oe=0),p.setTranslate(this,pe[0]+At+ft,pe[1]+At+mt+Qt/2+Bt),Ht=ft+se+Bt,ft+=he,Oe=Math.max(Oe,Qt)}),$e?(Et._width=ft+kt,Et._height=Oe+zt):(Et._width=Math.max(fe,Ht)+kt,Et._height+=Oe+zt)}}Et._width=Math.ceil(Math.max(Et._width+pe[0],Et._titleWidth+2*(At+y.titlePad))),Et._height=Math.ceil(Math.max(Et._height+pe[1],Et._titleHeight+2*(At+y.itemGap))),Et._effHeight=Math.min(Et._height,Et._maxHeight);var Vt=gt._context.edits,ee=Vt.legendText||Vt.legendPosition;wt.each(function(Xt){var Qt=l.select(this).select("."+vt+"toggle"),se=Xt[0].height,he=Xt[0].trace.legendgroup,ye=F(Xt,Et,Lt);Nt&&he!==""&&(ye=ae[he]);var oe=ee?Lt:ue||ye;Mt||Rt||(oe+=Bt/2),p.setRect(Qt,0,-se/2,oe,se)})}(U,It,Dt,z)},function(){var gt,_t,wt,Et,ht=W._size,vt=z.borderwidth,Ct=z.xref==="paper",Mt=z.yref==="paper";if(!it){var Nt,Rt;Nt=Ct?ht.l+ht.w*z.x-w[G(z)]*z._width:W.width*z.x-w[G(z)]*z._width,Rt=Mt?ht.t+ht.h*(1-z.y)-w[q(z)]*z._effHeight:W.height*(1-z.y)-w[q(z)]*z._effHeight;var At=function($t,Jt,qt,Ce){var fe=$t._fullLayout,Me=fe[Jt],Ee=G(Me),He=q(Me),Ae=Me.xref==="paper",$e=Me.yref==="paper";$t._fullLayout._reservedMargin[Jt]={};var Oe=Me.y<.5?"b":"t",ft=Me.x<.5?"l":"r",mt={r:fe.width-qt,l:qt+Me._width,b:fe.height-Ce,t:Ce+Me._effHeight};if(Ae&&$e)return u.autoMargin($t,Jt,{x:Me.x,y:Me.y,l:Me._width*w[Ee],r:Me._width*T[Ee],b:Me._effHeight*T[He],t:Me._effHeight*w[He]});Ae?$t._fullLayout._reservedMargin[Jt][Oe]=mt[Oe]:$e||Me.orientation==="v"?$t._fullLayout._reservedMargin[Jt][ft]=mt[ft]:$t._fullLayout._reservedMargin[Jt][Oe]=mt[Oe]}(U,X,Nt,Rt);if(At)return;if(W.margin.autoexpand){var kt=Nt,Bt=Rt;Nt=Ct?c.constrain(Nt,0,W.width-z._width):kt,Rt=Mt?c.constrain(Rt,0,W.height-z._effHeight):Bt,Nt!==kt&&c.log("Constrain "+X+".x to make legend fit inside graph"),Rt!==Bt&&c.log("Constrain "+X+".y to make legend fit inside graph")}p.setTranslate(Z,Nt,Rt)}if(Pt.on(".drag",null),Z.on("wheel",null),it||z._height<=z._maxHeight||U._context.staticPlot){var Lt=z._effHeight;it&&(Lt=z._height),ot.attr({width:z._width-vt,height:Lt-vt,x:vt/2,y:vt/2}),p.setTranslate(st,0,0),Q.select("rect").attr({width:z._width-2*vt,height:Lt-2*vt,x:vt,y:vt}),p.setClipUrl(st,nt,U),p.setRect(Pt,0,0,0,0),delete z._scrollY}else{var zt,Gt,Ut,ne=Math.max(y.scrollBarMinHeight,z._effHeight*z._effHeight/z._height),te=z._effHeight-ne-2*y.scrollBarMargin,ae=z._height-z._effHeight,ue=te/ae,pe=Math.min(z._scrollY||0,ae);ot.attr({width:z._width-2*vt+y.scrollBarWidth+y.scrollBarMargin,height:z._effHeight-vt,x:vt/2,y:vt/2}),Q.select("rect").attr({width:z._width-2*vt+y.scrollBarWidth+y.scrollBarMargin,height:z._effHeight-2*vt,x:vt,y:vt+pe}),p.setClipUrl(st,nt,U),jt(pe,ne,ue),Z.on("wheel",function(){jt(pe=c.constrain(z._scrollY+l.event.deltaY/te*ae,0,ae),ne,ue),pe!==0&&pe!==ae&&l.event.preventDefault()});var be=l.behavior.drag().on("dragstart",function(){var $t=l.event.sourceEvent;zt=$t.type==="touchstart"?$t.changedTouches[0].clientY:$t.clientY,Ut=pe}).on("drag",function(){var $t=l.event.sourceEvent;$t.buttons===2||$t.ctrlKey||(Gt=$t.type==="touchmove"?$t.changedTouches[0].clientY:$t.clientY,pe=function(Jt,qt,Ce){var fe=(Ce-qt)/ue+Jt;return c.constrain(fe,0,ae)}(Ut,zt,Gt),jt(pe,ne,ue))});Pt.call(be);var re=l.behavior.drag().on("dragstart",function(){var $t=l.event.sourceEvent;$t.type==="touchstart"&&(zt=$t.changedTouches[0].clientY,Ut=pe)}).on("drag",function(){var $t=l.event.sourceEvent;$t.type==="touchmove"&&(Gt=$t.changedTouches[0].clientY,pe=function(Jt,qt,Ce){var fe=(qt-Ce)/ue+Jt;return c.constrain(fe,0,ae)}(Ut,zt,Gt),jt(pe,ne,ue))});st.call(re)}function jt($t,Jt,qt){z._scrollY=U._fullLayout[X]._scrollY=$t,p.setTranslate(st,0,-$t),p.setRect(Pt,z._width,y.scrollBarMargin+$t*qt,y.scrollBarWidth,Jt),Q.select("rect").attr("y",vt+$t)}U._context.edits.legendPosition&&(Z.classed("cursor-move",!0),d.init({element:Z.node(),gd:U,prepFn:function(){var $t=p.getTranslate(Z);wt=$t.x,Et=$t.y},moveFn:function($t,Jt){var qt=wt+$t,Ce=Et+Jt;p.setTranslate(Z,qt,Ce),gt=d.align(qt,z._width,ht.l,ht.l+ht.w,z.xanchor),_t=d.align(Ce+z._height,-z._height,ht.t+ht.h,ht.t,z.yanchor)},doneFn:function(){if(gt!==void 0&&_t!==void 0){var $t={};$t[X+".x"]=gt,$t[X+".y"]=_t,f.call("_guiRelayout",U,$t)}},clickFn:function($t,Jt){var qt=ct.selectAll("g.traces").filter(function(){var Ce=this.getBoundingClientRect();return Jt.clientX>=Ce.left&&Jt.clientX<=Ce.right&&Jt.clientY>=Ce.top&&Jt.clientY<=Ce.bottom});qt.size()>0&&P(U,Z,qt,$t,Jt)}}))}],U)}}function F(U,J,nt){var ct=U[0],z=ct.width,W=J.entrywidthmode,X=ct.trace.legendwidth||J.entrywidth;return W==="fraction"?J._maxWidth*X:nt+(X||z)}function P(U,J,nt,ct,z){var W=nt.data()[0][0].trace,X={event:z,node:nt.node(),curveNumber:W.index,expandedIndex:W._expandedIndex,data:U.data,layout:U.layout,frames:U._transitionData._frames,config:U._context,fullData:U._fullData,fullLayout:U._fullLayout};W._group&&(X.group=W._group),f.traceIs(W,"pie-like")&&(X.label=nt.datum()[0].label),h.triggerHandler(U,"plotly_legendclick",X)!==!1&&(ct===1?J._clickTimeout=setTimeout(function(){U._fullLayout&&v(nt,U,ct)},U._context.doubleClickDelay):ct===2&&(J._clickTimeout&&clearTimeout(J._clickTimeout),U._legendMouseDownTime=0,h.triggerHandler(U,"plotly_legenddoubleclick",X)!==!1&&v(nt,U,ct)))}function R(U,J,nt){var ct,z,W=et(nt),X=U.data()[0][0],it=X.trace,lt=f.traceIs(it,"pie-like"),pt=!nt._inHover&&J._context.edits.legendText&&!lt,rt=nt._maxNameLength;X.groupTitle?(ct=X.groupTitle.text,z=X.groupTitle.font):(z=nt.font,nt.entries?ct=X.text:(ct=lt?X.label:it.name,it._meta&&(ct=c.templateString(ct,it._meta))));var V=c.ensureSingle(U,"text",W+"text");V.attr("text-anchor","start").call(p.font,z).text(pt?k(ct,rt):ct);var B=nt.itemwidth+2*y.itemGap;m.positionText(V,B,0),pt?V.call(m.makeEditable,{gd:J,text:ct}).call(j,U,J,nt).on("edit",function(H){this.text(k(H,rt)).call(j,U,J,nt);var $=X.trace._fullInput||{},Z={};if(f.hasTransform($,"groupby")){var Q=f.getTransformIndices($,"groupby"),ot=Q[Q.length-1],st=c.keyedContainer($,"transforms["+ot+"].styles","target","value.name");st.set(X.trace._group,H),Z=st.constructUpdate()}else Z.name=H;return $._isShape?f.call("_guiRelayout",J,"shapes["+it.index+"].name",Z.name):f.call("_guiRestyle",J,Z,it.index)}):j(V,U,J,nt)}function k(U,J){var nt=Math.max(4,J);if(U&&U.trim().length>=nt/2)return U;for(var ct=nt-(U=U||"").length;ct>0;ct--)U+=" ";return U}function I(U,J,nt){var ct,z=J._context.doubleClickDelay,W=1,X=c.ensureSingle(U,"rect",nt+"toggle",function(it){J._context.staticPlot||it.style("cursor","pointer").attr("pointer-events","all"),it.call(g.fill,"rgba(0,0,0,0)")});J._context.staticPlot||(X.on("mousedown",function(){(ct=new Date().getTime())-J._legendMouseDownTime<z?W+=1:(W=1,J._legendMouseDownTime=ct)}),X.on("mouseup",function(){if(!J._dragged&&!J._editing){var it=J._fullLayout[nt];new Date().getTime()-J._legendMouseDownTime>z&&(W=Math.max(W-1,1)),P(J,it,U,W,l.event)}}))}function j(U,J,nt,ct,z){ct._inHover&&U.attr("data-notex",!0),m.convertToTspans(U,nt,function(){(function(W,X,it,lt){var pt=W.data()[0][0];if(it._inHover||!pt||pt.trace.showlegend){var rt=W.select("g[class*=math-group]"),V=rt.node(),B=et(it);it||(it=X._fullLayout[B]);var H,$,Z=it.borderwidth,Q=(lt===A?it.title.font:pt.groupTitle?pt.groupTitle.font:it.font).size*b;if(V){var ot=p.bBox(V);H=ot.height,$=ot.width,lt===A?p.setTranslate(rt,Z,Z+.75*H):p.setTranslate(rt,0,.25*H)}else{var st="."+B+(lt===A?"title":"")+"text",dt=W.select(st),bt=m.lineCount(dt),Pt=dt.node();if(H=Q*bt,$=Pt?p.bBox(Pt).width:0,lt===A){var It=0;it.title.side==="left"?$+=2*y.itemGap:it.title.side==="top center"?it._width&&(It=.5*(it._width-2*Z-2*y.titlePad-$)):it.title.side==="top right"&&it._width&&(It=it._width-2*Z-2*y.titlePad-$),m.positionText(dt,Z+y.titlePad+It,Z+Q)}else{var Dt=2*y.itemGap+it.itemwidth;pt.groupTitle&&(Dt=y.itemGap,$-=it.itemwidth),m.positionText(dt,Dt,-Q*((bt-1)/2-.3))}}lt===A?(it._titleWidth=$,it._titleHeight=H):(pt.lineHeight=Q,pt.height=Math.max(H,16)+3,pt.width=$)}else W.remove()})(J,nt,ct,z)})}function G(U){return c.isRightAnchor(U)?"right":c.isCenterAnchor(U)?"center":"left"}function q(U){return c.isBottomAnchor(U)?"bottom":c.isMiddleAnchor(U)?"middle":"top"}function et(U){return U._id||"legend"}a.exports=function(U,J){if(J)N(U,J);else{var nt=U._fullLayout,ct=nt._legends;nt._infolayer.selectAll('[class^="legend"]').each(function(){var X=l.select(this),it=X.attr("class").split(" ")[0];it.match(O)&&ct.indexOf(it)===-1&&X.remove()});for(var z=0;z<ct.length;z++){var W=ct[z];N(U,U._fullLayout[W])}}}},2424:function(a,s,o){var l=o(3972),c=o(130);a.exports=function(u,f,h){var d,p,g=f._inHover,m=c.isGrouped(f),v=c.isReversed(f),y={},_=[],b=!1,w={},T=0,M=0;function S(ct,z,W){if(f.visible!==!1&&(!h||ct===f._id))if(z!==""&&c.isGrouped(f))_.indexOf(z)===-1?(_.push(z),b=!0,y[z]=[W]):y[z].push(W);else{var X="~~i"+T;_.push(X),y[X]=[W],T++}}for(d=0;d<u.length;d++){var E=u[d],A=E[0],O=A.trace,N=O.legend,F=O.legendgroup;if(g||O.visible&&O.showlegend)if(l.traceIs(O,"pie-like"))for(w[F]||(w[F]={}),p=0;p<E.length;p++){var P=E[p].label;w[F][P]||(S(N,F,{label:P,color:E[p].color,i:E[p].i,trace:O,pts:E[p].pts}),w[F][P]=!0,M=Math.max(M,(P||"").length))}else S(N,F,A),M=Math.max(M,(O.name||"").length)}if(!_.length)return[];var R=!b||!m,k=[];for(d=0;d<_.length;d++){var I=y[_[d]];R?k.push(I[0]):k.push(I)}for(R&&(k=[k]),d=0;d<k.length;d++){var j=1/0;for(p=0;p<k[d].length;p++){var G=k[d][p].trace.legendrank;j>G&&(j=G)}k[d][0]._groupMinRank=j,k[d][0]._preGroupSort=d}var q=function(ct,z){return ct.trace.legendrank-z.trace.legendrank||ct._preSort-z._preSort};for(k.forEach(function(ct,z){ct[0]._preGroupSort=z}),k.sort(function(ct,z){return ct[0]._groupMinRank-z[0]._groupMinRank||ct[0]._preGroupSort-z[0]._preGroupSort}),d=0;d<k.length;d++){k[d].forEach(function(ct,z){ct._preSort=z}),k[d].sort(q);var et=k[d][0].trace,U=null;for(p=0;p<k[d].length;p++){var J=k[d][p].trace.legendgrouptitle;if(J&&J.text){U=J,g&&(J.font=f._groupTitleFont);break}}if(v&&k[d].reverse(),U){var nt=!1;for(p=0;p<k[d].length;p++)if(l.traceIs(k[d][p].trace,"pie-like")){nt=!0;break}k[d].unshift({i:-1,groupTitle:U,noClick:nt,trace:{showlegend:et.showlegend,legendgroup:et.legendgroup,visible:f.groupclick==="toggleitem"||et.visible}})}for(p=0;p<k[d].length;p++)k[d][p]=[k[d][p]]}return f._lgroupsLength=k.length,f._maxNameLength=M,k}},5167:function(a,s,o){var l=o(3972),c=o(1828),u=c.pushUnique,f=!0;a.exports=function(h,d,p){var g=d._fullLayout;if(!d._dragged&&!d._editing){var m,v=g.legend.itemclick,y=g.legend.itemdoubleclick,_=g.legend.groupclick;if(p===1&&v==="toggle"&&y==="toggleothers"&&f&&d.data&&d._context.showTips&&c.notifier(c._(d,"Double-click on legend to isolate one trace"),"long"),f=!1,p===1?m=v:p===2&&(m=y),m){var b=_==="togglegroup",w=g.hiddenlabels?g.hiddenlabels.slice():[],T=h.data()[0][0];if(!T.groupTitle||!T.noClick){var M=d._fullData,S=(g.shapes||[]).filter(function(_t){return _t.showlegend}),E=M.concat(S),A=T.trace;A._isShape&&(A=A._fullInput);var O,N,F,P,R,k=A.legendgroup,I={},j=[],G=[],q=[],et=(g.shapes||[]).map(function(_t){return _t._input}),U=!1,J=A.legend,nt=A._fullInput;if(nt&&nt._isShape||!l.traceIs(A,"pie-like")){var ct,z=k&&k.length,W=[];if(z)for(O=0;O<E.length;O++)(ct=E[O]).visible&&ct.legendgroup===k&&W.push(O);if(m==="toggle"){var X;switch(A.visible){case!0:X="legendonly";break;case!1:X=!1;break;case"legendonly":X=!0}if(z)if(b)for(O=0;O<E.length;O++){var it=E[O];it.visible!==!1&&it.legendgroup===k&&gt(it,X)}else gt(A,X);else gt(A,X)}else if(m==="toggleothers"){var lt,pt,rt,V,B=!0;for(O=0;O<E.length;O++)if(lt=(V=E[O])===A,pt=V.showlegend!==!0,!(lt||pt||z&&V.legendgroup===k||V.legend!==J||V.visible!==!0||l.traceIs(V,"notLegendIsolatable"))){B=!1;break}for(O=0;O<E.length;O++)if((V=E[O]).visible!==!1&&V.legend===J&&!l.traceIs(V,"notLegendIsolatable"))switch(A.visible){case"legendonly":gt(V,!0);break;case!0:rt=!!B||"legendonly",lt=V===A,pt=V.showlegend!==!0&&!V.legendgroup,gt(V,!!(lt||z&&V.legendgroup===k||pt)||rt)}}for(O=0;O<G.length;O++)if(F=G[O]){var H=F.constructUpdate(),$=Object.keys(H);for(N=0;N<$.length;N++)P=$[N],(I[P]=I[P]||[])[q[O]]=H[P]}for(R=Object.keys(I),O=0;O<R.length;O++)for(P=R[O],N=0;N<j.length;N++)I[P].hasOwnProperty(N)||(I[P][N]=void 0);U?l.call("_guiUpdate",d,I,{shapes:et},j):l.call("_guiRestyle",d,I,j)}else{var Z=T.label,Q=w.indexOf(Z);if(m==="toggle")Q===-1?w.push(Z):w.splice(Q,1);else if(m==="toggleothers"){var ot=Q!==-1,st=[];for(O=0;O<d.calcdata.length;O++){var dt=d.calcdata[O];for(N=0;N<dt.length;N++){var bt=dt[N].label;J===dt[0].trace.legend&&Z!==bt&&(w.indexOf(bt)===-1&&(ot=!0),u(w,bt),st.push(bt))}}if(!ot)for(var Pt=0;Pt<st.length;Pt++){var It=w.indexOf(st[Pt]);It!==-1&&w.splice(It,1)}}l.call("_guiRelayout",d,"hiddenlabels",w)}}}}function Dt(_t,wt){var Et=j.indexOf(_t),ht=I.visible;return ht||(ht=I.visible=[]),j.indexOf(_t)===-1&&(j.push(_t),Et=j.length-1),ht[Et]=wt,Et}function gt(_t,wt){if(!T.groupTitle||b){var Et,ht=_t._fullInput||_t,vt=ht._isShape,Ct=ht.index;if(Ct===void 0&&(Ct=ht._index),l.hasTransform(ht,"groupby")){var Mt=G[Ct];if(!Mt){var Nt=l.getTransformIndices(ht,"groupby"),Rt=Nt[Nt.length-1];Mt=c.keyedContainer(ht,"transforms["+Rt+"].styles","target","value.visible"),G[Ct]=Mt}var At=Mt.get(_t._group);At===void 0&&(At=!0),At!==!1&&Mt.set(_t._group,wt),q[Ct]=Dt(Ct,ht.visible!==!1)}else{var kt=ht.visible!==!1&&wt;vt?(Et=kt,et[Ct].visible=Et,U=!0):Dt(Ct,kt)}}}}},130:function(a,s){s.isGrouped=function(o){return(o.traceorder||"").indexOf("grouped")!==-1},s.isVertical=function(o){return o.orientation!=="h"},s.isReversed=function(o){return(o.traceorder||"").indexOf("reversed")!==-1}},2199:function(a,s,o){a.exports={moduleType:"component",name:"legend",layoutAttributes:o(3030),supplyLayoutDefaults:o(9017),draw:o(3969),style:o(3630)}},3630:function(a,s,o){var l=o(9898),c=o(3972),u=o(1828),f=u.strTranslate,h=o(1424),d=o(7901),p=o(2869).extractOpts,g=o(4098),m=o(3463),v=o(3581).castOption,y=o(4928);function _(T,M){return(M?"radial":"horizontal")+(T?"":"reversed")}function b(T){var M=T[0].trace,S=M.contours,E=g.hasLines(M),A=g.hasMarkers(M),O=M.visible&&M.fill&&M.fill!=="none",N=!1,F=!1;if(S){var P=S.coloring;P==="lines"?N=!0:E=P==="none"||P==="heatmap"||S.showlines,S.type==="constraint"?O=S._operation!=="=":P!=="fill"&&P!=="heatmap"||(F=!0)}return{showMarker:A,showLine:E,showFill:O,showGradientLine:N,showGradientFill:F,anyLine:E||N,anyFill:O||F}}function w(T,M,S){return T&&u.isArrayOrTypedArray(T)?M:T>S?S:T}a.exports=function(T,M,S){var E=M._fullLayout;S||(S=E.legend);var A=S.itemsizing==="constant",O=S.itemwidth,N=(O+2*y.itemGap)/2,F=f(N,0),P=function(I,j,G,q){var et;if(I+1)et=I;else{if(!(j&&j.width>0))return 0;et=j.width}return A?q:Math.min(et,G)};function R(I,j,G){var q=I[0].trace,et=q.marker||{},U=et.line||{},J=G?q.visible&&q.type===G:c.traceIs(q,"bar"),nt=l.select(j).select("g.legendpoints").selectAll("path.legend"+G).data(J?[I]:[]);nt.enter().append("path").classed("legend"+G,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",F),nt.exit().remove(),nt.each(function(ct){var z=l.select(this),W=ct[0],X=P(W.mlw,et.line,5,2);z.style("stroke-width",X+"px");var it=W.mcc;if(!S._inHover&&"mc"in W){var lt=p(et),pt=lt.mid;pt===void 0&&(pt=(lt.max+lt.min)/2),it=h.tryColorscale(et,"")(pt)}var rt=it||W.mc||et.color,V=et.pattern,B=V&&h.getPatternAttr(V.shape,0,"");if(B){var H=h.getPatternAttr(V.bgcolor,0,null),$=h.getPatternAttr(V.fgcolor,0,null),Z=V.fgopacity,Q=w(V.size,8,10),ot=w(V.solidity,.5,1),st="legend-"+q.uid;z.call(h.pattern,"legend",M,st,B,Q,ot,it,V.fillmode,H,$,Z)}else z.call(d.fill,rt);X&&d.stroke(z,W.mlc||U.color)})}function k(I,j,G){var q=I[0],et=q.trace,U=G?et.visible&&et.type===G:c.traceIs(et,G),J=l.select(j).select("g.legendpoints").selectAll("path.legend"+G).data(U?[I]:[]);if(J.enter().append("path").classed("legend"+G,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",F),J.exit().remove(),J.size()){var nt=et.marker||{},ct=P(v(nt.line.width,q.pts),nt.line,5,2),z="pieLike",W=u.minExtend(et,{marker:{line:{width:ct}}},z),X=u.minExtend(q,{trace:W},z);m(J,X,W,M)}}T.each(function(I){var j=l.select(this),G=u.ensureSingle(j,"g","layers");G.style("opacity",I[0].trace.opacity);var q=S.valign,et=I[0].lineHeight,U=I[0].height;if(q!=="middle"&&et&&U){var J={top:1,bottom:-1}[q]*(.5*(et-U+3));G.attr("transform",f(0,J))}else G.attr("transform",null);G.selectAll("g.legendfill").data([I]).enter().append("g").classed("legendfill",!0),G.selectAll("g.legendlines").data([I]).enter().append("g").classed("legendlines",!0);var nt=G.selectAll("g.legendsymbols").data([I]);nt.enter().append("g").classed("legendsymbols",!0),nt.selectAll("g.legendpoints").data([I]).enter().append("g").classed("legendpoints",!0)}).each(function(I){var j,G=I[0].trace,q=[];if(G.visible)switch(G.type){case"histogram2d":case"heatmap":q=[["M-15,-2V4H15V-2Z"]],j=!0;break;case"choropleth":case"choroplethmapbox":q=[["M-6,-6V6H6V-6Z"]],j=!0;break;case"densitymapbox":q=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],j="radial";break;case"cone":q=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],j=!1;break;case"streamtube":q=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],j=!1;break;case"surface":q=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],j=!0;break;case"mesh3d":q=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],j=!1;break;case"volume":q=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],j=!0;break;case"isosurface":q=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],j=!1}var et=l.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(q);et.enter().append("path").classed("legend3dandfriends",!0).attr("transform",F).style("stroke-miterlimit",1),et.exit().remove(),et.each(function(U,J){var nt,ct=l.select(this),z=p(G),W=z.colorscale,X=z.reversescale;if(W){if(!j){var it=W.length;nt=J===0?W[X?it-1:0][1]:J===1?W[X?0:it-1][1]:W[Math.floor((it-1)/2)][1]}}else{var lt=G.vertexcolor||G.facecolor||G.color;nt=u.isArrayOrTypedArray(lt)?lt[J]||lt[0]:lt}ct.attr("d",U[0]),nt?ct.call(d.fill,nt):ct.call(function(pt){if(pt.size()){var rt="legendfill-"+G.uid;h.gradient(pt,M,rt,_(X,j==="radial"),W,"fill")}})})}).each(function(I){var j=I[0].trace,G=j.type==="waterfall";if(I[0]._distinct&&G){var q=I[0].trace[I[0].dir].marker;return I[0].mc=q.color,I[0].mlw=q.line.width,I[0].mlc=q.line.color,R(I,this,"waterfall")}var et=[];j.visible&&G&&(et=I[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var U=l.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(et);U.enter().append("path").classed("legendwaterfall",!0).attr("transform",F).style("stroke-miterlimit",1),U.exit().remove(),U.each(function(J){var nt=l.select(this),ct=j[J[0]].marker,z=P(void 0,ct.line,5,2);nt.attr("d",J[1]).style("stroke-width",z+"px").call(d.fill,ct.color),z&&nt.call(d.stroke,ct.line.color)})}).each(function(I){R(I,this,"funnel")}).each(function(I){R(I,this)}).each(function(I){var j=I[0].trace,G=l.select(this).select("g.legendpoints").selectAll("path.legendbox").data(j.visible&&c.traceIs(j,"box-violin")?[I]:[]);G.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",F),G.exit().remove(),G.each(function(){var q=l.select(this);if(j.boxpoints!=="all"&&j.points!=="all"||d.opacity(j.fillcolor)!==0||d.opacity((j.line||{}).color)!==0){var et=P(void 0,j.line,5,2);q.style("stroke-width",et+"px").call(d.fill,j.fillcolor),et&&d.stroke(q,j.line.color)}else{var U=u.minExtend(j,{marker:{size:A?12:u.constrain(j.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});G.call(h.pointStyle,U,M)}})}).each(function(I){k(I,this,"funnelarea")}).each(function(I){k(I,this,"pie")}).each(function(I){var j,G,q=b(I),et=q.showFill,U=q.showLine,J=q.showGradientLine,nt=q.showGradientFill,ct=q.anyFill,z=q.anyLine,W=I[0],X=W.trace,it=p(X),lt=it.colorscale,pt=it.reversescale,rt=g.hasMarkers(X)||!ct?"M5,0":z?"M5,-2":"M5,-3",V=l.select(this),B=V.select(".legendfill").selectAll("path").data(et||nt?[I]:[]);if(B.enter().append("path").classed("js-fill",!0),B.exit().remove(),B.attr("d",rt+"h"+O+"v6h-"+O+"z").call(function(Z){if(Z.size())if(et)h.fillGroupStyle(Z,M);else{var Q="legendfill-"+X.uid;h.gradient(Z,M,Q,_(pt),lt,"fill")}}),U||J){var H=P(void 0,X.line,10,5);G=u.minExtend(X,{line:{width:H}}),j=[u.minExtend(W,{trace:G})]}var $=V.select(".legendlines").selectAll("path").data(U||J?[j]:[]);$.enter().append("path").classed("js-line",!0),$.exit().remove(),$.attr("d",rt+(J?"l"+O+",0.0001":"h"+O)).call(U?h.lineGroupStyle:function(Z){if(Z.size()){var Q="legendline-"+X.uid;h.lineGroupStyle(Z),h.gradient(Z,M,Q,_(pt),lt,"stroke")}})}).each(function(I){var j,G,q=b(I),et=q.anyFill,U=q.anyLine,J=q.showLine,nt=q.showMarker,ct=I[0],z=ct.trace,W=!nt&&!U&&!et&&g.hasText(z);function X($,Z,Q,ot){var st=u.nestedProperty(z,$).get(),dt=u.isArrayOrTypedArray(st)&&Z?Z(st):st;if(A&&dt&&ot!==void 0&&(dt=ot),Q){if(dt<Q[0])return Q[0];if(dt>Q[1])return Q[1]}return dt}function it($){return ct._distinct&&ct.index&&$[ct.index]?$[ct.index]:$[0]}if(nt||W||J){var lt={},pt={};if(nt){lt.mc=X("marker.color",it),lt.mx=X("marker.symbol",it),lt.mo=X("marker.opacity",u.mean,[.2,1]),lt.mlc=X("marker.line.color",it),lt.mlw=X("marker.line.width",u.mean,[0,5],2),pt.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var rt=X("marker.size",u.mean,[2,16],12);lt.ms=rt,pt.marker.size=rt}J&&(pt.line={width:X("line.width",it,[0,10],5)}),W&&(lt.tx="Aa",lt.tp=X("textposition",it),lt.ts=10,lt.tc=X("textfont.color",it),lt.tf=X("textfont.family",it)),j=[u.minExtend(ct,lt)],(G=u.minExtend(z,pt)).selectedpoints=null,G.texttemplate=null}var V=l.select(this).select("g.legendpoints"),B=V.selectAll("path.scatterpts").data(nt?j:[]);B.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",F),B.exit().remove(),B.call(h.pointStyle,G,M),nt&&(j[0].mrc=3);var H=V.selectAll("g.pointtext").data(W?j:[]);H.enter().append("g").classed("pointtext",!0).append("text").attr("transform",F),H.exit().remove(),H.selectAll("text").call(h.textPointStyle,G,M)}).each(function(I){var j=I[0].trace,G=l.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(j.visible&&j.type==="candlestick"?[I,I]:[]);G.enter().append("path").classed("legendcandle",!0).attr("d",function(q,et){return et?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",F).style("stroke-miterlimit",1),G.exit().remove(),G.each(function(q,et){var U=l.select(this),J=j[et?"increasing":"decreasing"],nt=P(void 0,J.line,5,2);U.style("stroke-width",nt+"px").call(d.fill,J.fillcolor),nt&&d.stroke(U,J.line.color)})}).each(function(I){var j=I[0].trace,G=l.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(j.visible&&j.type==="ohlc"?[I,I]:[]);G.enter().append("path").classed("legendohlc",!0).attr("d",function(q,et){return et?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",F).style("stroke-miterlimit",1),G.exit().remove(),G.each(function(q,et){var U=l.select(this),J=j[et?"increasing":"decreasing"],nt=P(void 0,J.line,5,2);U.style("fill","none").call(h.dashLine,J.line.dash,nt),nt&&d.stroke(U,J.line.color)})})}},2068:function(a,s,o){o(3348),a.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},6023:function(a,s,o){var l=o(3972),c=o(4875),u=o(1675),f=o(4255),h=o(4031).eraseActiveShape,d=o(1828),p=d._,g=a.exports={};function m(E,A){var O,N,F=A.currentTarget,P=F.getAttribute("data-attr"),R=F.getAttribute("data-val")||!0,k=E._fullLayout,I={},j=u.list(E,null,!0),G=k._cartesianSpikesEnabled;if(P==="zoom"){var q,et=R==="in"?.5:2,U=(1+et)/2,J=(1-et)/2;for(N=0;N<j.length;N++)if(!(O=j[N]).fixedrange)if(q=O._name,R==="auto")I[q+".autorange"]=!0;else if(R==="reset")O._rangeInitial0===void 0&&O._rangeInitial1===void 0?I[q+".autorange"]=!0:O._rangeInitial0===void 0?(I[q+".autorange"]=O._autorangeInitial,I[q+".range"]=[null,O._rangeInitial1]):O._rangeInitial1===void 0?(I[q+".range"]=[O._rangeInitial0,null],I[q+".autorange"]=O._autorangeInitial):I[q+".range"]=[O._rangeInitial0,O._rangeInitial1],O._showSpikeInitial!==void 0&&(I[q+".showspikes"]=O._showSpikeInitial,G!=="on"||O._showSpikeInitial||(G="off"));else{var nt=[O.r2l(O.range[0]),O.r2l(O.range[1])],ct=[U*nt[0]+J*nt[1],U*nt[1]+J*nt[0]];I[q+".range[0]"]=O.l2r(ct[0]),I[q+".range[1]"]=O.l2r(ct[1])}}else P!=="hovermode"||R!=="x"&&R!=="y"||(R=k._isHoriz?"y":"x",F.setAttribute("data-val",R)),I[P]=R;k._cartesianSpikesEnabled=G,l.call("_guiRelayout",E,I)}function v(E,A){for(var O=A.currentTarget,N=O.getAttribute("data-attr"),F=O.getAttribute("data-val")||!0,P=E._fullLayout._subplots.gl3d||[],R={},k=N.split("."),I=0;I<P.length;I++)R[P[I]+"."+k[1]]=F;var j=F==="pan"?F:"zoom";R.dragmode=j,l.call("_guiRelayout",E,R)}function y(E,A){for(var O=A.currentTarget.getAttribute("data-attr"),N=O==="resetLastSave",F=O==="resetDefault",P=E._fullLayout,R=P._subplots.gl3d||[],k={},I=0;I<R.length;I++){var j,G=R[I],q=G+".camera",et=G+".aspectratio",U=G+".aspectmode",J=P[G]._scene;N?(k[q+".up"]=J.viewInitial.up,k[q+".eye"]=J.viewInitial.eye,k[q+".center"]=J.viewInitial.center,j=!0):F&&(k[q+".up"]=null,k[q+".eye"]=null,k[q+".center"]=null,j=!0),j&&(k[et+".x"]=J.viewInitial.aspectratio.x,k[et+".y"]=J.viewInitial.aspectratio.y,k[et+".z"]=J.viewInitial.aspectratio.z,k[U]=J.viewInitial.aspectmode)}l.call("_guiRelayout",E,k)}function _(E,A){var O=A.currentTarget,N=O._previousVal,F=E._fullLayout,P=F._subplots.gl3d||[],R=["xaxis","yaxis","zaxis"],k={},I={};if(N)I=N,O._previousVal=null;else{for(var j=0;j<P.length;j++){var G=P[j],q=F[G],et=G+".hovermode";k[et]=q.hovermode,I[et]=!1;for(var U=0;U<3;U++){var J=R[U],nt=G+"."+J+".showspikes";I[nt]=!1,k[nt]=q[J].showspikes}}O._previousVal=k}return I}function b(E,A){for(var O=A.currentTarget,N=O.getAttribute("data-attr"),F=O.getAttribute("data-val")||!0,P=E._fullLayout,R=P._subplots.geo||[],k=0;k<R.length;k++){var I=R[k],j=P[I];if(N==="zoom"){var G=j.projection.scale,q=F==="in"?2*G:.5*G;l.call("_guiRelayout",E,I+".projection.scale",q)}}N==="reset"&&S(E,"geo")}function w(E){var A=E._fullLayout;return!A.hovermode&&(A._has("cartesian")?A._isHoriz?"y":"x":"closest")}function T(E){var A=w(E);l.call("_guiRelayout",E,"hovermode",A)}function M(E,A){for(var O=A.currentTarget.getAttribute("data-val"),N=E._fullLayout,F=N._subplots.mapbox||[],P={},R=0;R<F.length;R++){var k=F[R],I=N[k].zoom,j=O==="in"?1.05*I:I/1.05;P[k+".zoom"]=j}l.call("_guiRelayout",E,P)}function S(E,A){for(var O=E._fullLayout,N=O._subplots[A]||[],F={},P=0;P<N.length;P++)for(var R=N[P],k=O[R]._subplot.viewInitial,I=Object.keys(k),j=0;j<I.length;j++){var G=I[j];F[R+"."+G]=k[G]}l.call("_guiRelayout",E,F)}g.toImage={name:"toImage",title:function(E){var A=(E._context.toImageButtonOptions||{}).format||"png";return p(E,A==="png"?"Download plot as a png":"Download plot")},icon:f.camera,click:function(E){var A=E._context.toImageButtonOptions,O={format:A.format||"png"};d.notifier(p(E,"Taking snapshot - this may take a few seconds"),"long"),O.format!=="svg"&&d.isIE()&&(d.notifier(p(E,"IE only supports svg.  Changing format to svg."),"long"),O.format="svg"),["filename","width","height","scale"].forEach(function(N){N in A&&(O[N]=A[N])}),l.call("downloadImage",E,O).then(function(N){d.notifier(p(E,"Snapshot succeeded")+" - "+N,"long")}).catch(function(){d.notifier(p(E,"Sorry, there was a problem downloading your snapshot!"),"long")})}},g.sendDataToCloud={name:"sendDataToCloud",title:function(E){return p(E,"Edit in Chart Studio")},icon:f.disk,click:function(E){c.sendDataToCloud(E)}},g.editInChartStudio={name:"editInChartStudio",title:function(E){return p(E,"Edit in Chart Studio")},icon:f.pencil,click:function(E){c.sendDataToCloud(E)}},g.zoom2d={name:"zoom2d",_cat:"zoom",title:function(E){return p(E,"Zoom")},attr:"dragmode",val:"zoom",icon:f.zoombox,click:m},g.pan2d={name:"pan2d",_cat:"pan",title:function(E){return p(E,"Pan")},attr:"dragmode",val:"pan",icon:f.pan,click:m},g.select2d={name:"select2d",_cat:"select",title:function(E){return p(E,"Box Select")},attr:"dragmode",val:"select",icon:f.selectbox,click:m},g.lasso2d={name:"lasso2d",_cat:"lasso",title:function(E){return p(E,"Lasso Select")},attr:"dragmode",val:"lasso",icon:f.lasso,click:m},g.drawclosedpath={name:"drawclosedpath",title:function(E){return p(E,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:f.drawclosedpath,click:m},g.drawopenpath={name:"drawopenpath",title:function(E){return p(E,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:f.drawopenpath,click:m},g.drawline={name:"drawline",title:function(E){return p(E,"Draw line")},attr:"dragmode",val:"drawline",icon:f.drawline,click:m},g.drawrect={name:"drawrect",title:function(E){return p(E,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:f.drawrect,click:m},g.drawcircle={name:"drawcircle",title:function(E){return p(E,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:f.drawcircle,click:m},g.eraseshape={name:"eraseshape",title:function(E){return p(E,"Erase active shape")},icon:f.eraseshape,click:h},g.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(E){return p(E,"Zoom in")},attr:"zoom",val:"in",icon:f.zoom_plus,click:m},g.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(E){return p(E,"Zoom out")},attr:"zoom",val:"out",icon:f.zoom_minus,click:m},g.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(E){return p(E,"Autoscale")},attr:"zoom",val:"auto",icon:f.autoscale,click:m},g.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(E){return p(E,"Reset axes")},attr:"zoom",val:"reset",icon:f.home,click:m},g.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(E){return p(E,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:f.tooltip_basic,gravity:"ne",click:m},g.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(E){return p(E,"Compare data on hover")},attr:"hovermode",val:function(E){return E._fullLayout._isHoriz?"y":"x"},icon:f.tooltip_compare,gravity:"ne",click:m},g.zoom3d={name:"zoom3d",_cat:"zoom",title:function(E){return p(E,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:f.zoombox,click:v},g.pan3d={name:"pan3d",_cat:"pan",title:function(E){return p(E,"Pan")},attr:"scene.dragmode",val:"pan",icon:f.pan,click:v},g.orbitRotation={name:"orbitRotation",title:function(E){return p(E,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:f["3d_rotate"],click:v},g.tableRotation={name:"tableRotation",title:function(E){return p(E,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:f["z-axis"],click:v},g.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(E){return p(E,"Reset camera to default")},attr:"resetDefault",icon:f.home,click:y},g.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(E){return p(E,"Reset camera to last save")},attr:"resetLastSave",icon:f.movie,click:y},g.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(E){return p(E,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:f.tooltip_basic,gravity:"ne",click:function(E,A){var O=_(E,A);l.call("_guiRelayout",E,O)}},g.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(E){return p(E,"Zoom in")},attr:"zoom",val:"in",icon:f.zoom_plus,click:b},g.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(E){return p(E,"Zoom out")},attr:"zoom",val:"out",icon:f.zoom_minus,click:b},g.resetGeo={name:"resetGeo",_cat:"reset",title:function(E){return p(E,"Reset")},attr:"reset",val:null,icon:f.autoscale,click:b},g.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(E){return p(E,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:f.tooltip_basic,gravity:"ne",click:T},g.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(E){return p(E,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:f.tooltip_basic,gravity:"ne",click:T},g.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(E){return p(E,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:f.tooltip_basic,gravity:"ne",click:T},g.resetViewSankey={name:"resetSankeyGroup",title:function(E){return p(E,"Reset view")},icon:f.home,click:function(E){for(var A={"node.groups":[],"node.x":[],"node.y":[]},O=0;O<E._fullData.length;O++){var N=E._fullData[O]._viewInitial;A["node.groups"].push(N.node.groups.slice()),A["node.x"].push(N.node.x.slice()),A["node.y"].push(N.node.y.slice())}l.call("restyle",E,A)}},g.toggleHover={name:"toggleHover",title:function(E){return p(E,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:f.tooltip_basic,gravity:"ne",click:function(E,A){var O=_(E,A);O.hovermode=w(E),l.call("_guiRelayout",E,O)}},g.resetViews={name:"resetViews",title:function(E){return p(E,"Reset views")},icon:f.home,click:function(E,A){var O=A.currentTarget;O.setAttribute("data-attr","zoom"),O.setAttribute("data-val","reset"),m(E,A),O.setAttribute("data-attr","resetLastSave"),y(E,A),S(E,"geo"),S(E,"mapbox")}},g.toggleSpikelines={name:"toggleSpikelines",title:function(E){return p(E,"Toggle Spike Lines")},icon:f.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(E){var A=E._fullLayout,O=A._cartesianSpikesEnabled;A._cartesianSpikesEnabled=O==="on"?"off":"on",l.call("_guiRelayout",E,function(N){for(var F=N._fullLayout._cartesianSpikesEnabled==="on",P=u.list(N,null,!0),R={},k=0;k<P.length;k++){var I=P[k];R[I._name+".showspikes"]=!!F||I._showSpikeInitial}return R}(E))}},g.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(E){return p(E,"Reset view")},attr:"reset",icon:f.home,click:function(E){S(E,"mapbox")}},g.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(E){return p(E,"Zoom in")},attr:"zoom",val:"in",icon:f.zoom_plus,click:M},g.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(E){return p(E,"Zoom out")},attr:"zoom",val:"out",icon:f.zoom_minus,click:M}},3348:function(a,s,o){var l=o(6023),c=Object.keys(l),u=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],f=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(u),h=[];c.forEach(function(d){(function(p){if(f.indexOf(p._cat||p.name)===-1){var g=p.name,m=(p._cat||p.name).toLowerCase();h.indexOf(g)===-1&&h.push(g),h.indexOf(m)===-1&&h.push(m)}})(l[d])}),h.sort(),a.exports={DRAW_MODES:u,backButtons:f,foreButtons:h}},5750:function(a,s,o){var l=o(1828),c=o(7901),u=o(4467),f=o(2068);a.exports=function(h,d){var p=h.modebar||{},g=u.newContainer(d,"modebar");function m(y,_){return l.coerce(p,g,f,y,_)}m("orientation"),m("bgcolor",c.addOpacity(d.paper_bgcolor,.5));var v=c.contrast(c.rgb(d.modebar.bgcolor));m("color",c.addOpacity(v,.3)),m("activecolor",c.addOpacity(v,.7)),m("uirevision",d.uirevision),m("add"),m("remove")}},4168:function(a,s,o){a.exports={moduleType:"component",name:"modebar",layoutAttributes:o(2068),supplyLayoutDefaults:o(5750),manage:o(4192)}},4192:function(a,s,o){var l=o(1675),c=o(4098),u=o(3972),f=o(3469).isUnifiedHover,h=o(7676),d=o(6023),p=o(3348).DRAW_MODES,g=o(1828).extendDeep;a.exports=function(m){var v=m._fullLayout,y=m._context,_=v._modeBar;if(y.displayModeBar||y.watermark){if(!Array.isArray(y.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(y.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var b,w=y.modeBarButtons;b=Array.isArray(w)&&w.length?function(T){for(var M=g([],T),S=0;S<M.length;S++)for(var E=M[S],A=0;A<E.length;A++){var O=E[A];if(typeof O=="string"){if(d[O]===void 0)throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));M[S][A]=d[O]}}return M}(w):!y.displayModeBar&&y.watermark?[]:function(T){var M=T._fullLayout,S=T._fullData,E=T._context;function A(st,dt){if(typeof dt=="string"){if(dt.toLowerCase()===st.toLowerCase())return!0}else{var bt=dt.name,Pt=dt._cat||dt.name;if(bt===st||Pt===st.toLowerCase())return!0}return!1}var O=M.modebar.add;typeof O=="string"&&(O=[O]);var N=M.modebar.remove;typeof N=="string"&&(N=[N]);var F=E.modeBarButtonsToAdd.concat(O.filter(function(st){for(var dt=0;dt<E.modeBarButtonsToRemove.length;dt++)if(A(st,E.modeBarButtonsToRemove[dt]))return!1;return!0})),P=E.modeBarButtonsToRemove.concat(N.filter(function(st){for(var dt=0;dt<E.modeBarButtonsToAdd.length;dt++)if(A(st,E.modeBarButtonsToAdd[dt]))return!1;return!0})),R=M._has("cartesian"),k=M._has("gl3d"),I=M._has("geo"),j=M._has("pie"),G=M._has("funnelarea"),q=M._has("gl2d"),et=M._has("ternary"),U=M._has("mapbox"),J=M._has("polar"),nt=M._has("smith"),ct=M._has("sankey"),z=function(st){for(var dt=l.list({_fullLayout:st},null,!0),bt=0;bt<dt.length;bt++)if(!dt[bt].fixedrange)return!1;return!0}(M),W=f(M.hovermode),X=[];function it(st){if(st.length){for(var dt=[],bt=0;bt<st.length;bt++){for(var Pt=st[bt],It=d[Pt],Dt=It.name.toLowerCase(),gt=(It._cat||It.name).toLowerCase(),_t=!1,wt=0;wt<P.length;wt++){var Et=P[wt].toLowerCase();if(Et===Dt||Et===gt){_t=!0;break}}_t||dt.push(d[Pt])}X.push(dt)}}var lt=["toImage"];E.showEditInChartStudio?lt.push("editInChartStudio"):E.showSendToCloud&&lt.push("sendDataToCloud"),it(lt);var pt=[],rt=[],V=[],B=[];(R||q||j||G||et)+I+k+U+J+nt>1?(rt=["toggleHover"],V=["resetViews"]):I?(pt=["zoomInGeo","zoomOutGeo"],rt=["hoverClosestGeo"],V=["resetGeo"]):k?(rt=["hoverClosest3d"],V=["resetCameraDefault3d","resetCameraLastSave3d"]):U?(pt=["zoomInMapbox","zoomOutMapbox"],rt=["toggleHover"],V=["resetViewMapbox"]):q?rt=["hoverClosestGl2d"]:j?rt=["hoverClosestPie"]:ct?(rt=["hoverClosestCartesian","hoverCompareCartesian"],V=["resetViewSankey"]):rt=["toggleHover"],R&&(rt=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(st){for(var dt=0;dt<st.length;dt++)if(!u.traceIs(st[dt],"noHover"))return!1;return!0}(S)||W)&&(rt=[]),!R&&!q||z||(pt=["zoomIn2d","zoomOut2d","autoScale2d"],V[0]!=="resetViews"&&(V=["resetScale2d"])),k?B=["zoom3d","pan3d","orbitRotation","tableRotation"]:(R||q)&&!z||et?B=["zoom2d","pan2d"]:U||I?B=["pan2d"]:J&&(B=["zoom2d"]),function(st){for(var dt=!1,bt=0;bt<st.length&&!dt;bt++){var Pt=st[bt];Pt._module&&Pt._module.selectPoints&&(u.traceIs(Pt,"scatter-like")?(c.hasMarkers(Pt)||c.hasText(Pt))&&(dt=!0):u.traceIs(Pt,"box-violin")&&Pt.boxpoints!=="all"&&Pt.points!=="all"||(dt=!0))}return dt}(S)&&B.push("select2d","lasso2d");var H=[],$=function(st){H.indexOf(st)===-1&&rt.indexOf(st)!==-1&&H.push(st)};if(Array.isArray(F)){for(var Z=[],Q=0;Q<F.length;Q++){var ot=F[Q];typeof ot=="string"?(ot=ot.toLowerCase(),p.indexOf(ot)!==-1?(M._has("mapbox")||M._has("cartesian"))&&B.push(ot):ot==="togglespikelines"?$("toggleSpikelines"):ot==="togglehover"?$("toggleHover"):ot==="hovercompare"?$("hoverCompareCartesian"):ot==="hoverclosest"?($("hoverClosestCartesian"),$("hoverClosestGeo"),$("hoverClosest3d"),$("hoverClosestGl2d"),$("hoverClosestPie")):ot==="v1hovermode"&&($("toggleHover"),$("hoverClosestCartesian"),$("hoverCompareCartesian"),$("hoverClosestGeo"),$("hoverClosest3d"),$("hoverClosestGl2d"),$("hoverClosestPie"))):Z.push(ot)}F=Z}return it(B),it(pt.concat(V)),it(H),function(st,dt){if(dt.length)if(Array.isArray(dt[0]))for(var bt=0;bt<dt.length;bt++)st.push(dt[bt]);else st.push(dt);return st}(X,F)}(m),_?_.update(m,b):v._modeBar=h(m,b)}else _&&(_.destroy(),delete v._modeBar)}},7676:function(a,s,o){var l=o(9898),c=o(2770),u=o(1828),f=o(4255),h=o(1506).version,d=new DOMParser;function p(m){this.container=m.container,this.element=document.createElement("div"),this.update(m.graphInfo,m.buttons),this.container.appendChild(this.element)}var g=p.prototype;g.update=function(m,v){this.graphInfo=m;var y=this.graphInfo._context,_=this.graphInfo._fullLayout,b="modebar-"+_._uid;this.element.setAttribute("id",b),this._uid=b,this.element.className="modebar",y.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),_.modebar.orientation==="v"&&(this.element.className+=" vertical",v=v.reverse());var w=_.modebar,T=y.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";u.deleteRelatedStyleRule(b),u.addRelatedStyleRule(b,T+"#"+b+" .modebar-group","background-color: "+w.bgcolor),u.addRelatedStyleRule(b,"#"+b+" .modebar-btn .icon path","fill: "+w.color),u.addRelatedStyleRule(b,"#"+b+" .modebar-btn:hover .icon path","fill: "+w.activecolor),u.addRelatedStyleRule(b,"#"+b+" .modebar-btn.active .icon path","fill: "+w.activecolor);var M=!this.hasButtons(v),S=this.hasLogo!==y.displaylogo,E=this.locale!==y.locale;if(this.locale=y.locale,(M||S||E)&&(this.removeAllButtons(),this.updateButtons(v),y.watermark||y.displaylogo)){var A=this.getLogo();y.watermark&&(A.className=A.className+" watermark"),_.modebar.orientation==="v"?this.element.insertBefore(A,this.element.childNodes[0]):this.element.appendChild(A),this.hasLogo=!0}this.updateActiveButton()},g.updateButtons=function(m){var v=this;this.buttons=m,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(y){var _=v.createGroup();y.forEach(function(b){var w=b.name;if(!w)throw new Error("must provide button 'name' in button config");if(v.buttonsNames.indexOf(w)!==-1)throw new Error("button name '"+w+"' is taken");v.buttonsNames.push(w);var T=v.createButton(b);v.buttonElements.push(T),_.appendChild(T)}),v.element.appendChild(_)})},g.createGroup=function(){var m=document.createElement("div");return m.className="modebar-group",m},g.createButton=function(m){var v=this,y=document.createElement("a");y.setAttribute("rel","tooltip"),y.className="modebar-btn";var _=m.title;_===void 0?_=m.name:typeof _=="function"&&(_=_(this.graphInfo)),(_||_===0)&&y.setAttribute("data-title",_),m.attr!==void 0&&y.setAttribute("data-attr",m.attr);var b=m.val;if(b!==void 0&&(typeof b=="function"&&(b=b(this.graphInfo)),y.setAttribute("data-val",b)),typeof m.click!="function")throw new Error("must provide button 'click' function in button config");y.addEventListener("click",function(T){m.click(v.graphInfo,T),v.updateActiveButton(T.currentTarget)}),y.setAttribute("data-toggle",m.toggle||!1),m.toggle&&l.select(y).classed("active",!0);var w=m.icon;return typeof w=="function"?y.appendChild(w()):y.appendChild(this.createIcon(w||f.question)),y.setAttribute("data-gravity",m.gravity||"n"),y},g.createIcon=function(m){var v,y=c(m.height)?Number(m.height):m.ascent-m.descent,_="http://www.w3.org/2000/svg";if(m.path){(v=document.createElementNS(_,"svg")).setAttribute("viewBox",[0,0,m.width,y].join(" ")),v.setAttribute("class","icon");var b=document.createElementNS(_,"path");b.setAttribute("d",m.path),m.transform?b.setAttribute("transform",m.transform):m.ascent!==void 0&&b.setAttribute("transform","matrix(1 0 0 -1 0 "+m.ascent+")"),v.appendChild(b)}return m.svg&&(v=d.parseFromString(m.svg,"application/xml").childNodes[0]),v.setAttribute("height","1em"),v.setAttribute("width","1em"),v},g.updateActiveButton=function(m){var v=this.graphInfo._fullLayout,y=m!==void 0?m.getAttribute("data-attr"):null;this.buttonElements.forEach(function(_){var b=_.getAttribute("data-val")||!0,w=_.getAttribute("data-attr"),T=_.getAttribute("data-toggle")==="true",M=l.select(_);if(T)w===y&&M.classed("active",!M.classed("active"));else{var S=w===null?w:u.nestedProperty(v,w).get();M.classed("active",S===b)}})},g.hasButtons=function(m){var v=this.buttons;if(!v||m.length!==v.length)return!1;for(var y=0;y<m.length;++y){if(m[y].length!==v[y].length)return!1;for(var _=0;_<m[y].length;_++)if(m[y][_].name!==v[y][_].name)return!1}return!0},g.getLogo=function(){var m=this.createGroup(),v=document.createElement("a");return v.href="https://plotly.com/",v.target="_blank",v.setAttribute("data-title",u._(this.graphInfo,"Produced with Plotly.js")+" (v"+h+")"),v.className="modebar-btn plotlyjsicon modebar-btn--logo",v.appendChild(this.createIcon(f.newplotlylogo)),m.appendChild(v),m},g.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},g.destroy=function(){u.removeElement(this.container.querySelector(".modebar")),u.deleteRelatedStyleRule(this._uid)},a.exports=function(m,v){var y=m._fullLayout,_=new p({graphInfo:m,container:y._modebardiv.node(),buttons:v});return y._privateplot&&l.select(_.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),_}},7113:function(a,s,o){var l=o(1940),c=o(2399),u=(0,o(4467).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});a.exports={visible:{valType:"boolean",editType:"plot"},buttons:u,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:l({editType:"plot"}),bgcolor:{valType:"color",dflt:c.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:c.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},9573:function(a){a.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},8674:function(a,s,o){var l=o(1828),c=o(7901),u=o(4467),f=o(5501),h=o(7113),d=o(9573);function p(g,m,v,y){var _=y.calendar;function b(T,M){return l.coerce(g,m,h.buttons,T,M)}if(b("visible")){var w=b("step");w!=="all"&&(!_||_==="gregorian"||w!=="month"&&w!=="year"?b("stepmode"):m.stepmode="backward",b("count")),b("label")}}a.exports=function(g,m,v,y,_){var b=g.rangeselector||{},w=u.newContainer(m,"rangeselector");function T(E,A){return l.coerce(b,w,h,E,A)}if(T("visible",f(b,w,{name:"buttons",handleItemDefaults:p,calendar:_}).length>0)){var M=function(E,A,O){for(var N=O.filter(function(k){return A[k].anchor===E._id}),F=0,P=0;P<N.length;P++){var R=A[N[P]].domain;R&&(F=Math.max(R[1],F))}return[E.domain[0],F+d.yPad]}(m,v,y);T("x",M[0]),T("y",M[1]),l.noneOrAll(g,m,["x","y"]),T("xanchor"),T("yanchor"),l.coerceFont(T,"font",v.font);var S=T("bgcolor");T("activecolor",c.contrast(S,d.lightAmount,d.darkAmount)),T("bordercolor"),T("borderwidth")}}},1598:function(a,s,o){var l=o(9898),c=o(3972),u=o(4875),f=o(7901),h=o(1424),d=o(1828),p=d.strTranslate,g=o(3893),m=o(1675),v=o(8783),y=v.LINE_SPACING,_=v.FROM_TL,b=v.FROM_BR,w=o(9573),T=o(7917);function M(A){return A._id}function S(A,O,N){var F=d.ensureSingle(A,"rect","selector-rect",function(P){P.attr("shape-rendering","crispEdges")});F.attr({rx:w.rx,ry:w.ry}),F.call(f.stroke,O.bordercolor).call(f.fill,function(P,R){return R._isActive||R._isHovered?P.activecolor:P.bgcolor}(O,N)).style("stroke-width",O.borderwidth+"px")}function E(A,O,N,F){var P,R;d.ensureSingle(A,"text","selector-text",function(k){k.attr("text-anchor","middle")}).call(h.font,O.font).text((P=N,R=F._fullLayout._meta,P.label?R?d.templateString(P.label,R):P.label:P.step==="all"?"all":P.count+P.step.charAt(0))).call(function(k){g.convertToTspans(k,F)})}a.exports=function(A){var O=A._fullLayout._infolayer.selectAll(".rangeselector").data(function(N){for(var F=m.list(N,"x",!0),P=[],R=0;R<F.length;R++){var k=F[R];k.rangeselector&&k.rangeselector.visible&&P.push(k)}return P}(A),M);O.enter().append("g").classed("rangeselector",!0),O.exit().remove(),O.style({cursor:"pointer","pointer-events":"all"}),O.each(function(N){var F=l.select(this),P=N,R=P.rangeselector,k=F.selectAll("g.button").data(d.filterVisible(R.buttons));k.enter().append("g").classed("button",!0),k.exit().remove(),k.each(function(I){var j=l.select(this),G=T(P,I);I._isActive=function(q,et,U){if(et.step==="all")return q.autorange===!0;var J=Object.keys(U);return q.range[0]===U[J[0]]&&q.range[1]===U[J[1]]}(P,I,G),j.call(S,R,I),j.call(E,R,I,A),j.on("click",function(){A._dragged||c.call("_guiRelayout",A,G)}),j.on("mouseover",function(){I._isHovered=!0,j.call(S,R,I)}),j.on("mouseout",function(){I._isHovered=!1,j.call(S,R,I)})}),function(I,j,G,q,et){var U=0,J=0,nt=G.borderwidth;j.each(function(){var lt=l.select(this).select(".selector-text"),pt=G.font.size*y,rt=Math.max(pt*g.lineCount(lt),16)+3;J=Math.max(J,rt)}),j.each(function(){var lt=l.select(this),pt=lt.select(".selector-rect"),rt=lt.select(".selector-text"),V=rt.node()&&h.bBox(rt.node()).width,B=G.font.size*y,H=g.lineCount(rt),$=Math.max(V+10,w.minButtonWidth);lt.attr("transform",p(nt+U,nt)),pt.attr({x:0,y:0,width:$,height:J}),g.positionText(rt,$/2,J/2-(H-1)*B/2+3),U+=$+5});var ct=I._fullLayout._size,z=ct.l+ct.w*G.x,W=ct.t+ct.h*(1-G.y),X="left";d.isRightAnchor(G)&&(z-=U,X="right"),d.isCenterAnchor(G)&&(z-=U/2,X="center");var it="top";d.isBottomAnchor(G)&&(W-=J,it="bottom"),d.isMiddleAnchor(G)&&(W-=J/2,it="middle"),U=Math.ceil(U),J=Math.ceil(J),z=Math.round(z),W=Math.round(W),u.autoMargin(I,q+"-range-selector",{x:G.x,y:G.y,l:U*_[X],r:U*b[X],b:J*b[it],t:J*_[it]}),et.attr("transform",p(z,W))}(A,k,R,P._name,F)})}},7917:function(a,s,o){var l=o(1041),c=o(1828).titleCase;a.exports=function(u,f){var h=u._name,d={};if(f.step==="all")d[h+".autorange"]=!0;else{var p=function(g,m){var v,y=g.range,_=new Date(g.r2l(y[1])),b=m.step,w=l["utc"+c(b)],T=m.count;switch(m.stepmode){case"backward":v=g.l2r(+w.offset(_,-T));break;case"todate":var M=w.offset(_,-T);v=g.l2r(+w.ceil(M))}return[v,y[1]]}(u,f);d[h+".range[0]"]=p[0],d[h+".range[1]"]=p[1]}return d}},7218:function(a,s,o){a.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:o(7113)}}},layoutAttributes:o(7113),handleDefaults:o(8674),draw:o(1598)}},5148:function(a,s,o){var l=o(2399);a.exports={bgcolor:{valType:"color",dflt:l.background,editType:"plot"},bordercolor:{valType:"color",dflt:l.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},8443:function(a,s,o){var l=o(1675).list,c=o(1739).getAutoRange,u=o(3251);a.exports=function(f){for(var h=l(f,"x",!0),d=0;d<h.length;d++){var p=h[d],g=p[u.name];g&&g.visible&&g.autorange&&(g._input.autorange=!0,g._input.range=g.range=c(f,p))}}},3251:function(a){a.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},6377:function(a,s,o){var l=o(1828),c=o(4467),u=o(1675),f=o(5148),h=o(7850);a.exports=function(d,p,g){var m=d[g],v=p[g];if(m.rangeslider||p._requestRangeslider[v._id]){l.isPlainObject(m.rangeslider)||(m.rangeslider={});var y,_,b=m.rangeslider,w=c.newContainer(v,"rangeslider");if(F("visible")){F("bgcolor",p.plot_bgcolor),F("bordercolor"),F("borderwidth"),F("thickness"),F("autorange",!v.isValidRange(b.range)),F("range");var T=p._subplots;if(T)for(var M=T.cartesian.filter(function(R){return R.substr(0,R.indexOf("y"))===u.name2id(g)}).map(function(R){return R.substr(R.indexOf("y"),R.length)}),S=l.simpleMap(M,u.id2name),E=0;E<S.length;E++){var A=S[E];y=b[A]||{},_=c.newContainer(w,A,"yaxis");var O,N=p[A];y.range&&N.isValidRange(y.range)&&(O="fixed"),P("rangemode",O)!=="match"&&P("range",N.range.slice())}w._input=b}}function F(R,k){return l.coerce(b,w,f,R,k)}function P(R,k){return l.coerce(y,_,h,R,k)}}},2413:function(a,s,o){var l=o(9898),c=o(3972),u=o(4875),f=o(1828),h=f.strTranslate,d=o(1424),p=o(7901),g=o(2998),m=o(3612),v=o(1675),y=o(8569),_=o(6964),b=o(3251);function w(O,N,F,P){var R=f.ensureSingle(O,"rect",b.bgClassName,function(G){G.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),k=P.borderwidth%2==0?P.borderwidth:P.borderwidth-1,I=-P._offsetShift,j=d.crispRound(N,P.borderwidth);R.attr({width:P._width+k,height:P._height+k,transform:h(I,I),"stroke-width":j}).call(p.stroke,P.bordercolor).call(p.fill,P.bgcolor)}function T(O,N,F,P){var R=N._fullLayout;f.ensureSingleById(R._topdefs,"clipPath",P._clipId,function(k){k.append("rect").attr({x:0,y:0})}).select("rect").attr({width:P._width,height:P._height})}function M(O,N,F,P){var R,k=N.calcdata,I=O.selectAll("g."+b.rangePlotClassName).data(F._subplotsWith,f.identity);I.enter().append("g").attr("class",function(j){return b.rangePlotClassName+" "+j}).call(d.setClipUrl,P._clipId,N),I.order(),I.exit().remove(),I.each(function(j,G){var q=l.select(this),et=G===0,U=v.getFromId(N,j,"y"),J=U._name,nt=P[J],ct={data:[],layout:{xaxis:{type:F.type,domain:[0,1],range:P.range.slice(),calendar:F.calendar},width:P._width,height:P._height,margin:{t:0,b:0,l:0,r:0}},_context:N._context};F.rangebreaks&&(ct.layout.xaxis.rangebreaks=F.rangebreaks),ct.layout[J]={type:U.type,domain:[0,1],range:nt.rangemode!=="match"?nt.range.slice():U.range.slice(),calendar:U.calendar},U.rangebreaks&&(ct.layout[J].rangebreaks=U.rangebreaks),u.supplyDefaults(ct);var z=ct._fullLayout.xaxis,W=ct._fullLayout[J];z.clearCalc(),z.setScale(),W.clearCalc(),W.setScale();var X={id:j,plotgroup:q,xaxis:z,yaxis:W,isRangePlot:!0};et?R=X:(X.mainplot="xy",X.mainplotinfo=R),m.rangePlot(N,X,function(it,lt){for(var pt=[],rt=0;rt<it.length;rt++){var V=it[rt],B=V[0].trace;B.xaxis+B.yaxis===lt&&pt.push(V)}return pt}(k,j))})}function S(O,N,F,P,R){f.ensureSingle(O,"rect",b.maskMinClassName,function(k){k.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",P._height).call(p.fill,b.maskColor),f.ensureSingle(O,"rect",b.maskMaxClassName,function(k){k.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",P._height).call(p.fill,b.maskColor),R.rangemode!=="match"&&(f.ensureSingle(O,"rect",b.maskMinOppAxisClassName,function(k){k.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",P._width).call(p.fill,b.maskOppAxisColor),f.ensureSingle(O,"rect",b.maskMaxOppAxisClassName,function(k){k.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",P._width).style("border-top",b.maskOppBorder).call(p.fill,b.maskOppAxisColor))}function E(O,N,F,P){N._context.staticPlot||f.ensureSingle(O,"rect",b.slideBoxClassName,function(R){R.attr({y:0,cursor:b.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:P._height,fill:b.slideBoxFill})}function A(O,N,F,P){var R=f.ensureSingle(O,"g",b.grabberMinClassName),k=f.ensureSingle(O,"g",b.grabberMaxClassName),I={x:0,width:b.handleWidth,rx:b.handleRadius,fill:p.background,stroke:p.defaultLine,"stroke-width":b.handleStrokeWidth,"shape-rendering":"crispEdges"},j={y:Math.round(P._height/4),height:Math.round(P._height/2)};f.ensureSingle(R,"rect",b.handleMinClassName,function(q){q.attr(I)}).attr(j),f.ensureSingle(k,"rect",b.handleMaxClassName,function(q){q.attr(I)}).attr(j);var G={width:b.grabAreaWidth,x:0,y:0,fill:b.grabAreaFill,cursor:N._context.staticPlot?void 0:b.grabAreaCursor};f.ensureSingle(R,"rect",b.grabAreaMinClassName,function(q){q.attr(G)}).attr("height",P._height),f.ensureSingle(k,"rect",b.grabAreaMaxClassName,function(q){q.attr(G)}).attr("height",P._height)}a.exports=function(O){for(var N=O._fullLayout,F=N._rangeSliderData,P=0;P<F.length;P++){var R=F[P][b.name];R._clipId=R._id+"-"+N._uid}var k=N._infolayer.selectAll("g."+b.containerClassName).data(F,function(I){return I._name});k.exit().each(function(I){var j=I[b.name];N._topdefs.select("#"+j._clipId).remove()}).remove(),F.length!==0&&(k.enter().append("g").classed(b.containerClassName,!0).attr("pointer-events","all"),k.each(function(I){var j=l.select(this),G=I[b.name],q=N[v.id2name(I.anchor)],et=G[v.id2name(I.anchor)];if(G.range){var U,J=f.simpleMap(G.range,I.r2l),nt=f.simpleMap(I.range,I.r2l);U=nt[0]<nt[1]?[Math.min(J[0],nt[0]),Math.max(J[1],nt[1])]:[Math.max(J[0],nt[0]),Math.min(J[1],nt[1])],G.range=G._input.range=f.simpleMap(U,I.l2r)}I.cleanRange("rangeslider.range");var ct=N._size,z=I.domain;G._width=ct.w*(z[1]-z[0]);var W=Math.round(ct.l+ct.w*z[0]),X=Math.round(ct.t+ct.h*(1-I._counterDomainMin)+(I.side==="bottom"?I._depth:0)+G._offsetShift+b.extraPad);j.attr("transform",h(W,X)),G._rl=f.simpleMap(G.range,I.r2l);var it=G._rl[0],lt=G._rl[1],pt=lt-it;if(G.p2d=function(st){return st/G._width*pt+it},G.d2p=function(st){return(st-it)/pt*G._width},I.rangebreaks){var rt=I.locateBreaks(it,lt);if(rt.length){var V,B,H=0;for(V=0;V<rt.length;V++)H+=(B=rt[V]).max-B.min;var $=G._width/(lt-it-H),Z=[-$*it];for(V=0;V<rt.length;V++)B=rt[V],Z.push(Z[Z.length-1]-$*(B.max-B.min));for(G.d2p=function(st){for(var dt=Z[0],bt=0;bt<rt.length;bt++){var Pt=rt[bt];if(st>=Pt.max)dt=Z[bt+1];else if(st<Pt.min)break}return dt+$*st},V=0;V<rt.length;V++)(B=rt[V]).pmin=G.d2p(B.min),B.pmax=G.d2p(B.max);G.p2d=function(st){for(var dt=Z[0],bt=0;bt<rt.length;bt++){var Pt=rt[bt];if(st>=Pt.pmax)dt=Z[bt+1];else if(st<Pt.pmin)break}return(st-dt)/$}}}if(et.rangemode!=="match"){var Q=q.r2l(et.range[0]),ot=q.r2l(et.range[1])-Q;G.d2pOppAxis=function(st){return(st-Q)/ot*G._height}}j.call(w,O,I,G).call(T,O,I,G).call(M,O,I,G).call(S,O,I,G,et).call(E,O,I,G).call(A,O,I,G),function(st,dt,bt,Pt){if(!dt._context.staticPlot){var It=st.select("rect."+b.slideBoxClassName).node(),Dt=st.select("rect."+b.grabAreaMinClassName).node(),gt=st.select("rect."+b.grabAreaMaxClassName).node();st.on("mousedown",_t),st.on("touchstart",_t)}function _t(){var wt=l.event,Et=wt.target,ht=wt.clientX||wt.touches[0].clientX,vt=ht-st.node().getBoundingClientRect().left,Ct=Pt.d2p(bt._rl[0]),Mt=Pt.d2p(bt._rl[1]),Nt=y.coverSlip();function Rt(kt){var Bt,Lt,zt,Gt=+(kt.clientX||kt.touches[0].clientX)-ht;switch(Et){case It:if(zt="ew-resize",Ct+Gt>bt._length||Mt+Gt<0)return;Bt=Ct+Gt,Lt=Mt+Gt;break;case Dt:if(zt="col-resize",Ct+Gt>bt._length)return;Bt=Ct+Gt,Lt=Mt;break;case gt:if(zt="col-resize",Mt+Gt<0)return;Bt=Ct,Lt=Mt+Gt;break;default:zt="ew-resize",Bt=vt,Lt=vt+Gt}if(Lt<Bt){var Ut=Lt;Lt=Bt,Bt=Ut}Pt._pixelMin=Bt,Pt._pixelMax=Lt,_(l.select(Nt),zt),function(ne,te,ae,ue){function pe(jt){return ae.l2r(f.constrain(jt,ue._rl[0],ue._rl[1]))}var be=pe(ue.p2d(ue._pixelMin)),re=pe(ue.p2d(ue._pixelMax));window.requestAnimationFrame(function(){c.call("_guiRelayout",te,ae._name+".range",[be,re])})}(0,dt,bt,Pt)}function At(){Nt.removeEventListener("mousemove",Rt),Nt.removeEventListener("mouseup",At),this.removeEventListener("touchmove",Rt),this.removeEventListener("touchend",At),f.removeElement(Nt)}this.addEventListener("touchmove",Rt),this.addEventListener("touchend",At),Nt.addEventListener("mousemove",Rt),Nt.addEventListener("mouseup",At)}}(j,O,I,G),function(st,dt,bt,Pt,It,Dt){var gt=b.handleWidth/2;function _t(kt){return f.constrain(kt,0,Pt._width)}function wt(kt){return f.constrain(kt,0,Pt._height)}function Et(kt){return f.constrain(kt,-gt,Pt._width+gt)}var ht=_t(Pt.d2p(bt._rl[0])),vt=_t(Pt.d2p(bt._rl[1]));if(st.select("rect."+b.slideBoxClassName).attr("x",ht).attr("width",vt-ht),st.select("rect."+b.maskMinClassName).attr("width",ht),st.select("rect."+b.maskMaxClassName).attr("x",vt).attr("width",Pt._width-vt),Dt.rangemode!=="match"){var Ct=Pt._height-wt(Pt.d2pOppAxis(It._rl[1])),Mt=Pt._height-wt(Pt.d2pOppAxis(It._rl[0]));st.select("rect."+b.maskMinOppAxisClassName).attr("x",ht).attr("height",Ct).attr("width",vt-ht),st.select("rect."+b.maskMaxOppAxisClassName).attr("x",ht).attr("y",Mt).attr("height",Pt._height-Mt).attr("width",vt-ht),st.select("rect."+b.slideBoxClassName).attr("y",Ct).attr("height",Mt-Ct)}var Nt=.5,Rt=Math.round(Et(ht-gt))-Nt,At=Math.round(Et(vt-gt))+Nt;st.select("g."+b.grabberMinClassName).attr("transform",h(Rt,Nt)),st.select("g."+b.grabberMaxClassName).attr("transform",h(At,Nt))}(j,0,I,G,q,et),I.side==="bottom"&&g.draw(O,I._id+"title",{propContainer:I,propName:I._name+".title",placeholder:N._dfltTitle.x,attributes:{x:I._offset+I._length/2,y:X+G._height+G._offsetShift+10+1.5*I.title.font.size,"text-anchor":"middle"}})}))}},549:function(a,s,o){var l=o(1675),c=o(3893),u=o(3251),f=o(8783).LINE_SPACING,h=u.name;function d(p){var g=p&&p[h];return g&&g.visible}s.isVisible=d,s.makeData=function(p){var g=l.list({_fullLayout:p},"x",!0),m=p.margin,v=[];if(!p._has("gl2d"))for(var y=0;y<g.length;y++){var _=g[y];if(d(_)){v.push(_);var b=_[h];b._id=h+_._id,b._height=(p.height-m.b-m.t)*b.thickness,b._offsetShift=Math.floor(b.borderwidth/2)}}p._rangeSliderData=v},s.autoMarginOpts=function(p,g){var m=p._fullLayout,v=g[h],y=g._id.charAt(0),_=0,b=0;return g.side==="bottom"&&(_=g._depth,g.title.text!==m._dfltTitle[y]&&(b=1.5*g.title.font.size+10+v._offsetShift,b+=(g.title.text.match(c.BR_TAG_ALL)||[]).length*g.title.font.size*f)),{x:0,y:g._counterDomainMin,l:0,r:0,t:0,b:v._height+_+Math.max(m.margin.b,b),pad:u.extraPad+2*v._offsetShift}}},3137:function(a,s,o){var l=o(1828),c=o(5148),u=o(7850),f=o(549);a.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:l.extendFlat({},c,{yaxis:u})}}},layoutAttributes:o(5148),handleDefaults:o(6377),calcAutorange:o(8443),draw:o(2413),isVisible:f.isVisible,makeData:f.makeData,autoMarginOpts:f.autoMarginOpts}},7850:function(a){a.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(a,s,o){var l=o(215),c=o(2196).line,u=o(9952).P,f=o(1426).extendFlat,h=o(962).overrideAll,d=o(4467).templatedArray;o(4695),a.exports=h(d("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:f({},l.xref,{}),yref:f({},l.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:c.color,width:f({},c.width,{min:1,dflt:1}),dash:f({},u,{dflt:"dot"})}}),"arraydraw","from-root")},4122:function(a){a.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},9402:function(a,s,o){var l=o(1828),c=o(9298),u=o(5501),f=o(8389),h=o(477);function d(p,g,m){function v(j,G){return l.coerce(p,g,f,j,G)}var y=v("path"),_=v("type",y?"path":"rect")!=="path";_&&delete g.path,v("opacity"),v("line.color"),v("line.width"),v("line.dash");for(var b=["x","y"],w=0;w<2;w++){var T,M,S,E=b[w],A={_fullLayout:m},O=c.coerceRef(p,g,A,E);if((T=c.getFromId(A,O))._selectionIndices.push(g._index),S=h.rangeToShapePosition(T),M=h.shapePositionToRange(T),_){var N=E+"0",F=E+"1",P=p[N],R=p[F];p[N]=M(p[N],!0),p[F]=M(p[F],!0),c.coercePosition(g,A,v,O,N),c.coercePosition(g,A,v,O,F);var k=g[N],I=g[F];k!==void 0&&I!==void 0&&(g[N]=S(k),g[F]=S(I),p[N]=P,p[F]=R)}}_&&l.noneOrAll(p,g,["x0","x1","y0","y1"])}a.exports=function(p,g){u(p,g,{name:"selections",handleItemDefaults:d});for(var m=g.selections,v=0;v<m.length;v++){var y=m[v];y&&y.path===void 0&&(y.x0!==void 0&&y.x1!==void 0&&y.y0!==void 0&&y.y1!==void 0||(g.selections[v]=null))}}},2485:function(a,s,o){var l=o(165).readPaths,c=o(2359),u=o(1873).clearOutlineControllers,f=o(7901),h=o(1424),d=o(4467).arrayEditor,p=o(477),g=p.getPathString;function m(w){var T=w._fullLayout;for(var M in u(w),T._selectionLayer.selectAll("path").remove(),T._plots){var S=T._plots[M].selectionLayer;S&&S.selectAll("path").remove()}for(var E=0;E<T.selections.length;E++)y(w,E)}function v(w){return w._context.editSelection}function y(w,T){w._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+T+'"]').remove();var M=p.makeSelectionsOptionsAndPlotinfo(w,T),S=M.options,E=M.plotinfo;S._input&&function(A){var O=g(w,S),N={"data-index":T,"fill-rule":"evenodd",d:O},F=S.opacity,P="rgba(0,0,0,0)",R=S.line.color||f.contrast(w._fullLayout.plot_bgcolor),k=S.line.width,I=S.line.dash;k||(k=5,I="solid");var j=v(w)&&w._fullLayout._activeSelectionIndex===T;j&&(P=w._fullLayout.activeselection.fillcolor,F=w._fullLayout.activeselection.opacity);for(var G=[],q=1;q>=0;q--){var et=A.append("path").attr(N).style("opacity",q?.1:F).call(f.stroke,R).call(f.fill,P).call(h.dashLine,q?"solid":I,q?4+k:k);if(_(et,w,S),j){var U=d(w.layout,"selections",S);et.style({cursor:"move"});var J={element:et.node(),plotinfo:E,gd:w,editHelpers:U,isActiveSelection:!0},nt=l(O,w);c(nt,et,J)}else et.style("pointer-events",q?"all":"none");G[q]=et}var ct=G[0];G[1].node().addEventListener("click",function(){return function(z,W){if(v(z)){var X=+W.node().getAttribute("data-index");if(X>=0){if(X===z._fullLayout._activeSelectionIndex)return void b(z);z._fullLayout._activeSelectionIndex=X,z._fullLayout._deactivateSelection=b,m(z)}}}(w,ct)})}(w._fullLayout._selectionLayer)}function _(w,T,M){var S=M.xref+M.yref;h.setClipUrl(w,"clip"+T._fullLayout._uid+S,T)}function b(w){v(w)&&w._fullLayout._activeSelectionIndex>=0&&(u(w),delete w._fullLayout._activeSelectionIndex,m(w))}a.exports={draw:m,drawOne:y,activateLastSelection:function(w){if(v(w)){var T=w._fullLayout.selections.length-1;w._fullLayout._activeSelectionIndex=T,w._fullLayout._deactivateSelection=b,m(w)}}}},3777:function(a,s,o){var l=o(9952).P,c=o(1426).extendFlat;a.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:c({},l,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},849:function(a){a.exports=function(s,o,l){l("newselection.mode"),l("newselection.line.width")&&(l("newselection.line.color"),l("newselection.line.dash")),l("activeselection.fillcolor"),l("activeselection.opacity")}},5855:function(a,s,o){var l=o(4505).selectMode,c=o(1873).clearOutline,u=o(165),f=u.readPaths,h=u.writePaths,d=u.fixDatesForPaths;a.exports=function(p,g){if(p.length){var m=p[0][0];if(m){var v=m.getAttribute("d"),y=g.gd,_=y._fullLayout.newselection,b=g.plotinfo,w=b.xaxis,T=b.yaxis,M=g.isActiveSelection,S=g.dragmode,E=(y.layout||{}).selections||[];if(!l(S)&&M!==void 0){var A=y._fullLayout._activeSelectionIndex;if(A<E.length)switch(y._fullLayout.selections[A].type){case"rect":S="select";break;case"path":S="lasso"}}var O,N=f(v,y,b,M),F={xref:w._id,yref:T._id,opacity:_.opacity,line:{color:_.line.color,width:_.line.width,dash:_.line.dash}};N.length===1&&(O=N[0]),O&&O.length===5&&S==="select"?(F.type="rect",F.x0=O[0][1],F.y0=O[0][2],F.x1=O[2][1],F.y1=O[2][2]):(F.type="path",w&&T&&d(N,w,T),F.path=h(N),O=null),c(y);for(var P=g.editHelpers,R=(P||{}).modifyItem,k=[],I=0;I<E.length;I++){var j=y._fullLayout.selections[I];if(j){if(k[I]=j._input,M!==void 0&&I===y._fullLayout._activeSelectionIndex){var G=F;switch(j.type){case"rect":R("x0",G.x0),R("x1",G.x1),R("y0",G.y0),R("y1",G.y1);break;case"path":R("path",G.path)}}}else k[I]=j}return M===void 0?(k.push(F),k):P?P.getUpdateObj():{}}}}},5549:function(a,s,o){var l=o(1828).strTranslate;function c(u,f){switch(u.type){case"log":return u.p2d(f);case"date":return u.p2r(f,0,u.calendar);default:return u.p2r(f)}}a.exports={p2r:c,r2p:function(u,f){switch(u.type){case"log":return u.d2p(f);case"date":return u.r2p(f,0,u.calendar);default:return u.r2p(f)}},axValue:function(u){var f=u._id.charAt(0)==="y"?1:0;return function(h){return c(u,h[f])}},getTransform:function(u){return l(u.xaxis._offset,u.yaxis._offset)}}},7322:function(a,s,o){var l=o(2485),c=o(3937);a.exports={moduleType:"component",name:"selections",layoutAttributes:o(8389),supplyLayoutDefaults:o(9402),supplyDrawNewSelectionDefaults:o(849),includeBasePlot:o(6325)("selections"),draw:l.draw,drawOne:l.drawOne,reselect:c.reselect,prepSelect:c.prepSelect,clearOutline:c.clearOutline,clearSelectionsCache:c.clearSelectionsCache,selectOnClick:c.selectOnClick}},3937:function(a,s,o){var l=o(2142),c=o(8258),u=o(3972),f=o(1424).dashStyle,h=o(7901),d=o(211),p=o(3469).makeEventData,g=o(4505),m=g.freeMode,v=g.rectMode,y=g.drawMode,_=g.openMode,b=g.selectMode,w=o(477),T=o(1459),M=o(2359),S=o(1873).clearOutline,E=o(165),A=E.handleEllipse,O=E.readPaths,N=o(551).newShapes,F=o(5855),P=o(2485).activateLastSelection,R=o(1828),k=R.sorterAsc,I=o(1082),j=o(9990),G=o(1675).getFromId,q=o(3306),et=o(1549).redrawReglTraces,U=o(4122),J=U.MINSELECT,nt=I.filter,ct=I.tester,z=o(5549),W=z.p2r,X=z.axValue,it=z.getTransform;function lt(At){return At.subplot!==void 0}function pt(At,kt,Bt,Lt,zt,Gt,Ut){var ne,te,ae,ue,pe,be,re,jt,$t,Jt=kt._hoverdata,qt=kt._fullLayout.clickmode.indexOf("event")>-1,Ce=[];if(function(Ae){return Ae&&Array.isArray(Ae)&&Ae[0].hoverOnBox!==!0}(Jt)){H(At,kt,Gt);var fe=function(Ae,$e){var Oe,ft,mt=Ae[0],Ht=-1,Vt=[];for(ft=0;ft<$e.length;ft++)if(Oe=$e[ft],mt.fullData._expandedIndex===Oe.cd[0].trace._expandedIndex){if(mt.hoverOnBox===!0)break;mt.pointNumber!==void 0?Ht=mt.pointNumber:mt.binNumber!==void 0&&(Ht=mt.binNumber,Vt=mt.pointNumbers);break}return{pointNumber:Ht,pointNumbers:Vt,searchInfo:Oe}}(Jt,ne=Q(kt,Bt,Lt,zt));if(fe.pointNumbers.length>0?function(Ae,$e){var Oe,ft,mt,Ht=[];for(mt=0;mt<Ae.length;mt++)(Oe=Ae[mt]).cd[0].trace.selectedpoints&&Oe.cd[0].trace.selectedpoints.length>0&&Ht.push(Oe);if(Ht.length===1&&Ht[0]===$e.searchInfo&&(ft=$e.searchInfo.cd[0].trace).selectedpoints.length===$e.pointNumbers.length){for(mt=0;mt<$e.pointNumbers.length;mt++)if(ft.selectedpoints.indexOf($e.pointNumbers[mt])<0)return!1;return!0}return!1}(ne,fe):function(Ae){var $e,Oe,ft=0;for(Oe=0;Oe<Ae.length;Oe++)if(($e=Ae[Oe].cd[0].trace).selectedpoints&&($e.selectedpoints.length>1||(ft+=$e.selectedpoints.length)>1))return!1;return ft===1}(ne)&&(be=st(fe))){for(Ut&&Ut.remove(),$t=0;$t<ne.length;$t++)(te=ne[$t])._module.selectPoints(te,!1);dt(kt,ne),$(Gt),qt&&Rt(kt)}else{for(re=At.shiftKey&&(be!==void 0?be:st(fe)),ae=function(Ae,$e,Oe){return{pointNumber:Ae,searchInfo:$e,subtract:!!Oe}}(fe.pointNumber,fe.searchInfo,re),ue=B(Gt.selectionDefs.concat([ae])),$t=0;$t<ne.length;$t++)if(pe=Pt(ne[$t]._module.selectPoints(ne[$t],ue),ne[$t]),Ce.length)for(var Me=0;Me<pe.length;Me++)Ce.push(pe[Me]);else Ce=pe;if(dt(kt,ne,jt={points:Ce}),ae&&Gt&&Gt.selectionDefs.push(ae),Ut){var Ee=Gt.mergedPolygons,He=_(Gt.dragmode);M(It(Ee,He),Ut,Gt)}qt&&Nt(kt,jt)}}}function rt(At){return"pointNumber"in At&&"searchInfo"in At}function V(At){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(kt,Bt,Lt,zt){var Gt=At.searchInfo.cd[0].trace._expandedIndex;return zt.cd[0].trace._expandedIndex===Gt&&Lt===At.pointNumber},isRect:!1,degenerate:!1,subtract:!!At.subtract}}function B(At){if(At.length){for(var kt=[],Bt=rt(At[0])?0:At[0][0][0],Lt=Bt,zt=rt(At[0])?0:At[0][0][1],Gt=zt,Ut=0;Ut<At.length;Ut++)if(rt(At[Ut]))kt.push(V(At[Ut]));else{var ne=ct(At[Ut]);ne.subtract=!!At[Ut].subtract,kt.push(ne),Bt=Math.min(Bt,ne.xmin),Lt=Math.max(Lt,ne.xmax),zt=Math.min(zt,ne.ymin),Gt=Math.max(Gt,ne.ymax)}return{xmin:Bt,xmax:Lt,ymin:zt,ymax:Gt,pts:[],contains:function(te,ae,ue,pe){for(var be=!1,re=0;re<kt.length;re++)kt[re].contains(te,ae,ue,pe)&&(be=!kt[re].subtract);return be},isRect:!1,degenerate:!1}}}function H(At,kt,Bt){var Lt=kt._fullLayout,zt=Bt.plotinfo,Gt=Bt.dragmode,Ut=Lt._lastSelectedSubplot&&Lt._lastSelectedSubplot===zt.id,ne=(At.shiftKey||At.altKey)&&!(y(Gt)&&_(Gt));Ut&&ne&&zt.selection&&zt.selection.selectionDefs&&!Bt.selectionDefs?(Bt.selectionDefs=zt.selection.selectionDefs,Bt.mergedPolygons=zt.selection.mergedPolygons):ne&&zt.selection||$(Bt),Ut||(S(kt),Lt._lastSelectedSubplot=zt.id)}function $(At,kt){var Bt=At.dragmode,Lt=At.plotinfo,zt=At.gd;(function(pe){return pe._fullLayout._activeShapeIndex>=0})(zt)&&zt._fullLayout._deactivateShape(zt),function(pe){return pe._fullLayout._activeSelectionIndex>=0}(zt)&&zt._fullLayout._deactivateSelection(zt);var Gt=zt._fullLayout._zoomlayer,Ut=y(Bt),ne=b(Bt);if(Ut||ne){var te,ae,ue=Gt.selectAll(".select-outline-"+Lt.id);ue&&zt._fullLayout._outlining&&(Ut&&(te=N(ue,At)),te&&u.call("_guiRelayout",zt,{shapes:te}),ne&&!lt(At)&&(ae=F(ue,At)),ae&&(zt._fullLayout._noEmitSelectedAtStart=!0,u.call("_guiRelayout",zt,{selections:ae}).then(function(){kt&&P(zt)})),zt._fullLayout._outlining=!1)}Lt.selection={},Lt.selection.selectionDefs=At.selectionDefs=[],Lt.selection.mergedPolygons=At.mergedPolygons=[]}function Z(At){return At._id}function Q(At,kt,Bt,Lt){if(!At.calcdata)return[];var zt,Gt,Ut,ne=[],te=kt.map(Z),ae=Bt.map(Z);for(Ut=0;Ut<At.calcdata.length;Ut++)if((Gt=(zt=At.calcdata[Ut])[0].trace).visible===!0&&Gt._module&&Gt._module.selectPoints)if(!lt({subplot:Lt})||Gt.subplot!==Lt&&Gt.geo!==Lt)if(Gt.type==="splom"){if(Gt._xaxes[te[0]]&&Gt._yaxes[ae[0]]){var ue=ot(Gt._module,zt,kt[0],Bt[0]);ue.scene=At._fullLayout._splomScenes[Gt.uid],ne.push(ue)}}else if(Gt.type==="sankey"){var pe=ot(Gt._module,zt,kt[0],Bt[0]);ne.push(pe)}else{if(te.indexOf(Gt.xaxis)===-1||ae.indexOf(Gt.yaxis)===-1)continue;ne.push(ot(Gt._module,zt,G(At,Gt.xaxis),G(At,Gt.yaxis)))}else ne.push(ot(Gt._module,zt,kt[0],Bt[0]));return ne}function ot(At,kt,Bt,Lt){return{_module:At,cd:kt,xaxis:Bt,yaxis:Lt}}function st(At){var kt=At.searchInfo.cd[0].trace,Bt=At.pointNumber,Lt=At.pointNumbers,zt=Lt.length>0?Lt[0]:Bt;return!!kt.selectedpoints&&kt.selectedpoints.indexOf(zt)>-1}function dt(At,kt,Bt){var Lt,zt;for(Lt=0;Lt<kt.length;Lt++){var Gt=kt[Lt].cd[0].trace._fullInput,Ut=At._fullLayout._tracePreGUI[Gt.uid]||{};Ut.selectedpoints===void 0&&(Ut.selectedpoints=Gt._input.selectedpoints||null)}if(Bt){var ne=Bt.points||[];for(Lt=0;Lt<kt.length;Lt++)(zt=kt[Lt].cd[0].trace)._input.selectedpoints=zt._fullInput.selectedpoints=[],zt._fullInput!==zt&&(zt.selectedpoints=[]);for(var te=0;te<ne.length;te++){var ae=ne[te],ue=ae.data,pe=ae.fullData,be=ae.pointIndex,re=ae.pointIndices;re?([].push.apply(ue.selectedpoints,re),zt._fullInput!==zt&&[].push.apply(pe.selectedpoints,re)):(ue.selectedpoints.push(be),zt._fullInput!==zt&&pe.selectedpoints.push(be))}}else for(Lt=0;Lt<kt.length;Lt++)delete(zt=kt[Lt].cd[0].trace).selectedpoints,delete zt._input.selectedpoints,zt._fullInput!==zt&&delete zt._fullInput.selectedpoints;(function(jt,$t){for(var Jt=!1,qt=0;qt<$t.length;qt++){var Ce=$t[qt],fe=Ce.cd;u.traceIs(fe[0].trace,"regl")&&(Jt=!0);var Me=Ce._module,Ee=Me.styleOnSelect||Me.style;Ee&&(Ee(jt,fe,fe[0].node3),fe[0].nodeRangePlot3&&Ee(jt,fe,fe[0].nodeRangePlot3))}Jt&&(q(jt),et(jt))})(At,kt)}function bt(At,kt,Bt){for(var Lt=(Bt?l.difference:l.union)({regions:At},{regions:[kt]}).regions.reverse(),zt=0;zt<Lt.length;zt++){var Gt=Lt[zt];Gt.subtract=ht(Gt,Lt.slice(0,zt))}return Lt}function Pt(At,kt){if(Array.isArray(At))for(var Bt=kt.cd,Lt=kt.cd[0].trace,zt=0;zt<At.length;zt++)At[zt]=p(At[zt],Lt,Bt);return At}function It(At,kt){for(var Bt=[],Lt=0;Lt<At.length;Lt++){Bt[Lt]=[];for(var zt=0;zt<At[Lt].length;zt++){Bt[Lt][zt]=[],Bt[Lt][zt][0]=zt?"L":"M";for(var Gt=0;Gt<At[Lt][zt].length;Gt++)Bt[Lt][zt].push(At[Lt][zt][Gt])}kt||Bt[Lt].push(["Z",Bt[Lt][0][1],Bt[Lt][0][2]])}return Bt}function Dt(At,kt){for(var Bt,Lt,zt=[],Gt=[],Ut=0;Ut<kt.length;Ut++){var ne=kt[Ut];Lt=ne._module.selectPoints(ne,At),Gt.push(Lt),Bt=Pt(Lt,ne),zt=zt.concat(Bt)}return zt}function gt(At,kt,Bt,Lt,zt){var Gt,Ut,ne,te=!!Lt;zt&&(Gt=zt.plotinfo,Ut=zt.xaxes[0]._id,ne=zt.yaxes[0]._id);var ae=[],ue=[],pe=Et(At),be=At._fullLayout;if(Gt){var re=be._zoomlayer,jt=be.dragmode,$t=y(jt),Jt=b(jt);if($t||Jt){var qt=G(At,Ut,"x"),Ce=G(At,ne,"y");if(qt&&Ce){var fe=re.selectAll(".select-outline-"+Gt.id);if(fe&&At._fullLayout._outlining&&fe.length){for(var Me=fe[0][0].getAttribute("d"),Ee=O(Me,At,Gt),He=[],Ae=0;Ae<Ee.length;Ae++){for(var $e=Ee[Ae],Oe=[],ft=0;ft<$e.length;ft++)Oe.push([vt(qt,$e[ft][1]),vt(Ce,$e[ft][2])]);Oe.xref=Ut,Oe.yref=ne,Oe.subtract=ht(Oe,He),He.push(Oe)}pe=pe.concat(He)}}}}var mt=Ut&&ne?[Ut+ne]:be._subplots.cartesian;(function(nn){var sn=nn.calcdata;if(sn)for(var Ze=0;Ze<sn.length;Ze++){var tn=sn[Ze][0].trace,Tn=nn._fullLayout._splomScenes;if(Tn){var An=Tn[tn.uid];An&&(An.selectBatch=[])}}})(At);for(var Ht={},Vt=0;Vt<mt.length;Vt++){var ee=mt[Vt],Xt=ee.indexOf("y"),Qt=ee.slice(0,Xt),se=ee.slice(Xt),he=Ut&&ne?Bt:void 0;if(he=wt(pe,Qt,se,he)){var ye=Lt;if(!te){var oe=G(At,Qt,"x"),Ue=G(At,se,"y");ye=Q(At,[oe],[Ue],ee);for(var rn=0;rn<ye.length;rn++){var Ne=ye[rn],Fe=Ne.cd[0],Be=Fe.trace;if(Ne._module.name==="scattergl"&&!Fe.t.xpx){var Se=Be.x,Te=Be.y,xe=Be._length;Fe.t.xpx=[],Fe.t.ypx=[];for(var Xe=0;Xe<xe;Xe++)Fe.t.xpx[Xe]=oe.c2p(Se[Xe]),Fe.t.ypx[Xe]=Ue.c2p(Te[Xe])}Ne._module.name==="splom"&&(Ht[Be.uid]||(Ht[Be.uid]=!0))}}var Ve=Dt(he,ye);ae=ae.concat(Ve),ue=ue.concat(ye)}}var an={points:ae};dt(At,ue,an);var ge=be.clickmode.indexOf("event")>-1&&kt;if(!Gt&&kt){var Pe=Et(At,!0);if(Pe.length){var ke=Pe[0].xref,Ye=Pe[0].yref;if(ke&&Ye){var je=Ct(Pe);Mt([G(At,ke,"x"),G(At,Ye,"y")])(an,je)}}At._fullLayout._noEmitSelectedAtStart?At._fullLayout._noEmitSelectedAtStart=!1:ge&&Nt(At,an),be._reselect=!1}if(!Gt&&be._deselect){var qe=be._deselect;(function(nn,sn,Ze){for(var tn=0;tn<Ze.length;tn++){var Tn=Ze[tn];if(Tn.xaxis&&Tn.xaxis._id===nn&&Tn.yaxis&&Tn.yaxis._id===sn)return!0}return!1})(Ut=qe.xref,ne=qe.yref,ue)||_t(At,Ut,ne,Lt),ge&&(an.points.length?Nt(At,an):Rt(At)),be._deselect=!1}return{eventData:an,selectionTesters:Bt}}function _t(At,kt,Bt,Lt){Lt=Q(At,[G(At,kt,"x")],[G(At,Bt,"y")],kt+Bt);for(var zt=0;zt<Lt.length;zt++){var Gt=Lt[zt];Gt._module.selectPoints(Gt,!1)}dt(At,Lt)}function wt(At,kt,Bt,Lt){for(var zt,Gt=0;Gt<At.length;Gt++){var Ut=At[Gt];kt===Ut.xref&&Bt===Ut.yref&&(zt?Lt=B(zt=bt(zt,Ut,!!Ut.subtract)):(zt=[Ut],Lt=ct(Ut)))}return Lt}function Et(At,kt){for(var Bt=[],Lt=At._fullLayout,zt=Lt.selections,Gt=zt.length,Ut=0;Ut<Gt;Ut++)if(!kt||Ut===Lt._activeSelectionIndex){var ne=zt[Ut];if(ne){var te,ae,ue,pe,be,re=ne.xref,jt=ne.yref,$t=G(At,re,"x"),Jt=G(At,jt,"y");if(ne.type==="rect"){be=[];var qt=vt($t,ne.x0),Ce=vt($t,ne.x1),fe=vt(Jt,ne.y0),Me=vt(Jt,ne.y1);be=[[qt,fe],[qt,Me],[Ce,Me],[Ce,fe]],te=Math.min(qt,Ce),ae=Math.max(qt,Ce),ue=Math.min(fe,Me),pe=Math.max(fe,Me),be.xmin=te,be.xmax=ae,be.ymin=ue,be.ymax=pe,be.xref=re,be.yref=jt,be.subtract=!1,be.isRect=!0,Bt.push(be)}else if(ne.type==="path")for(var Ee=ne.path.split("Z"),He=[],Ae=0;Ae<Ee.length;Ae++){var $e=Ee[Ae];if($e){$e+="Z";var Oe=w.extractPathCoords($e,T.paramIsX,"raw"),ft=w.extractPathCoords($e,T.paramIsY,"raw");te=1/0,ae=-1/0,ue=1/0,pe=-1/0,be=[];for(var mt=0;mt<Oe.length;mt++){var Ht=vt($t,Oe[mt]),Vt=vt(Jt,ft[mt]);be.push([Ht,Vt]),te=Math.min(Ht,te),ae=Math.max(Ht,ae),ue=Math.min(Vt,ue),pe=Math.max(Vt,pe)}be.xmin=te,be.xmax=ae,be.ymin=ue,be.ymax=pe,be.xref=re,be.yref=jt,be.subtract=ht(be,He),He.push(be),Bt.push(be)}}}}return Bt}function ht(At,kt){for(var Bt=!1,Lt=0;Lt<kt.length;Lt++)for(var zt=kt[Lt],Gt=0;Gt<At.length;Gt++)if(c(At[Gt],zt)){Bt=!Bt;break}return Bt}function vt(At,kt){return At.type==="date"&&(kt=kt.replace("_"," ")),At.type==="log"?At.c2p(kt):At.r2p(kt,null,At.calendar)}function Ct(At){for(var kt=At.length,Bt=[],Lt=0;Lt<kt;Lt++){var zt=At[Lt];Bt=(Bt=Bt.concat(zt)).concat([zt[0]])}return(Gt=Bt).isRect=Gt.length===5&&Gt[0][0]===Gt[4][0]&&Gt[0][1]===Gt[4][1]&&Gt[0][0]===Gt[1][0]&&Gt[2][0]===Gt[3][0]&&Gt[0][1]===Gt[3][1]&&Gt[1][1]===Gt[2][1]||Gt[0][1]===Gt[1][1]&&Gt[2][1]===Gt[3][1]&&Gt[0][0]===Gt[3][0]&&Gt[1][0]===Gt[2][0],Gt.isRect&&(Gt.xmin=Math.min(Gt[0][0],Gt[2][0]),Gt.xmax=Math.max(Gt[0][0],Gt[2][0]),Gt.ymin=Math.min(Gt[0][1],Gt[2][1]),Gt.ymax=Math.max(Gt[0][1],Gt[2][1])),Gt;var Gt}function Mt(At){return function(kt,Bt){for(var Lt,zt,Gt=0;Gt<At.length;Gt++){var Ut=At[Gt],ne=Ut._id,te=ne.charAt(0);if(Bt.isRect){Lt||(Lt={});var ae=Bt[te+"min"],ue=Bt[te+"max"];ae!==void 0&&ue!==void 0&&(Lt[ne]=[W(Ut,ae),W(Ut,ue)].sort(k))}else zt||(zt={}),zt[ne]=Bt.map(X(Ut))}Lt&&(kt.range=Lt),zt&&(kt.lassoPoints=zt)}}function Nt(At,kt){kt&&(kt.selections=(At.layout||{}).selections||[]),At.emit("plotly_selected",kt)}function Rt(At){At.emit("plotly_deselect",null)}a.exports={reselect:gt,prepSelect:function(At,kt,Bt,Lt,zt){var Gt=!lt(Lt),Ut=m(zt),ne=v(zt),te=_(zt),ae=y(zt),ue=b(zt),pe=zt==="drawcircle",be=zt==="drawline"||pe,re=Lt.gd,jt=re._fullLayout,$t=ue&&jt.newselection.mode==="immediate"&&Gt,Jt=jt._zoomlayer,qt=Lt.element.getBoundingClientRect(),Ce=Lt.plotinfo,fe=it(Ce),Me=kt-qt.left,Ee=Bt-qt.top;jt._calcInverseTransform(re);var He=R.apply3DTransform(jt._invTransform)(Me,Ee);Me=He[0],Ee=He[1];var Ae,$e,Oe,ft,mt,Ht,Vt,ee=jt._invScaleX,Xt=jt._invScaleY,Qt=Me,se=Ee,he="M"+Me+","+Ee,ye=Lt.xaxes[0],oe=Lt.yaxes[0],Ue=ye._length,rn=oe._length,Ne=At.altKey&&!(y(zt)&&te);H(At,re,Lt),Ut&&(Ae=nt([[Me,Ee]],U.BENDPX));var Fe=Jt.selectAll("path.select-outline-"+Ce.id).data([1]),Be=ae?jt.newshape:jt.newselection;ae&&(Lt.hasText=Be.label.text||Be.label.texttemplate);var Se=ae&&!te?Be.fillcolor:"rgba(0,0,0,0)",Te=Be.line.color||(Gt?h.contrast(re._fullLayout.plot_bgcolor):"#7f7f7f");Fe.enter().append("path").attr("class","select-outline select-outline-"+Ce.id).style({opacity:ae?Be.opacity/2:1,"stroke-dasharray":f(Be.line.dash,Be.line.width),"stroke-width":Be.line.width+"px","shape-rendering":"crispEdges"}).call(h.stroke,Te).call(h.fill,Se).attr("fill-rule","evenodd").classed("cursor-move",!!ae).attr("transform",fe).attr("d",he+"Z");var xe=Jt.append("path").attr("class","zoombox-corners").style({fill:h.background,stroke:h.defaultLine,"stroke-width":1}).attr("transform",fe).attr("d","M0,0Z");if(ae&&Lt.hasText){var Xe=Jt.select(".label-temp");Xe.empty()&&(Xe=Jt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Ve=jt._uid+U.SELECTID,an=[],ge=Q(re,Lt.xaxes,Lt.yaxes,Lt.subplot);$t&&!At.shiftKey&&(Lt._clearSubplotSelections=function(){if(Gt){var ke=ye._id,Ye=oe._id;_t(re,ke,Ye,ge);for(var je=(re.layout||{}).selections||[],qe=[],nn=!1,sn=0;sn<je.length;sn++){var Ze=jt.selections[sn];Ze.xref!==ke||Ze.yref!==Ye?qe.push(je[sn]):nn=!0}nn&&(re._fullLayout._noEmitSelectedAtStart=!0,u.call("_guiRelayout",re,{selections:qe}))}});var Pe=function(ke){return ke.plotinfo.fillRangeItems||Mt(ke.xaxes.concat(ke.yaxes))}(Lt);Lt.moveFn=function(ke,Ye){Lt._clearSubplotSelections&&(Lt._clearSubplotSelections(),Lt._clearSubplotSelections=void 0),Qt=Math.max(0,Math.min(Ue,ee*ke+Me)),se=Math.max(0,Math.min(rn,Xt*Ye+Ee));var je=Math.abs(Qt-Me),qe=Math.abs(se-Ee);if(ne){var nn,sn,Ze;if(ue){var tn=jt.selectdirection;switch(nn=tn==="any"?qe<Math.min(.6*je,J)?"h":je<Math.min(.6*qe,J)?"v":"d":tn){case"h":sn=pe?rn/2:0,Ze=rn;break;case"v":sn=pe?Ue/2:0,Ze=Ue}}if(ae)switch(jt.newshape.drawdirection){case"vertical":nn="h",sn=pe?rn/2:0,Ze=rn;break;case"horizontal":nn="v",sn=pe?Ue/2:0,Ze=Ue;break;case"ortho":je<qe?(nn="h",sn=Ee,Ze=se):(nn="v",sn=Me,Ze=Qt);break;default:nn="d"}nn==="h"?((ft=be?A(pe,[Qt,sn],[Qt,Ze]):[[Me,sn],[Me,Ze],[Qt,Ze],[Qt,sn]]).xmin=be?Qt:Math.min(Me,Qt),ft.xmax=be?Qt:Math.max(Me,Qt),ft.ymin=Math.min(sn,Ze),ft.ymax=Math.max(sn,Ze),xe.attr("d","M"+ft.xmin+","+(Ee-J)+"h-4v"+2*J+"h4ZM"+(ft.xmax-1)+","+(Ee-J)+"h4v"+2*J+"h-4Z")):nn==="v"?((ft=be?A(pe,[sn,se],[Ze,se]):[[sn,Ee],[sn,se],[Ze,se],[Ze,Ee]]).xmin=Math.min(sn,Ze),ft.xmax=Math.max(sn,Ze),ft.ymin=be?se:Math.min(Ee,se),ft.ymax=be?se:Math.max(Ee,se),xe.attr("d","M"+(Me-J)+","+ft.ymin+"v-4h"+2*J+"v4ZM"+(Me-J)+","+(ft.ymax-1)+"v4h"+2*J+"v-4Z")):nn==="d"&&((ft=be?A(pe,[Me,Ee],[Qt,se]):[[Me,Ee],[Me,se],[Qt,se],[Qt,Ee]]).xmin=Math.min(Me,Qt),ft.xmax=Math.max(Me,Qt),ft.ymin=Math.min(Ee,se),ft.ymax=Math.max(Ee,se),xe.attr("d","M0,0Z"))}else Ut&&(Ae.addPt([Qt,se]),ft=Ae.filtered);if(Lt.selectionDefs&&Lt.selectionDefs.length?(Oe=bt(Lt.mergedPolygons,ft,Ne),ft.subtract=Ne,$e=B(Lt.selectionDefs.concat([ft]))):(Oe=[ft],$e=ct(ft)),M(It(Oe,te),Fe,Lt),ue){var Tn,An=gt(re,!1),Sn=An.eventData?An.eventData.points.slice():[];An=gt(re,!1,$e,ge,Lt),$e=An.selectionTesters,Vt=An.eventData,Tn=Ae?Ae.filtered:Ct(Oe),j.throttle(Ve,U.SELECTDELAY,function(){for(var bn=(an=Dt($e,ge)).slice(),_n=0;_n<Sn.length;_n++){for(var Hn=Sn[_n],En=!1,Dn=0;Dn<bn.length;Dn++)if(bn[Dn].curveNumber===Hn.curveNumber&&bn[Dn].pointNumber===Hn.pointNumber){En=!0;break}En||bn.push(Hn)}bn.length&&(Vt||(Vt={}),Vt.points=bn),Pe(Vt,Tn),function(xn,Kn){xn.emit("plotly_selecting",Kn)}(re,Vt)})}},Lt.clickFn=function(ke,Ye){if(xe.remove(),re._fullLayout._activeShapeIndex>=0)re._fullLayout._deactivateShape(re);else if(!ae){var je=jt.clickmode;j.done(Ve).then(function(){if(j.clear(Ve),ke===2){for(Fe.remove(),mt=0;mt<ge.length;mt++)(Ht=ge[mt])._module.selectPoints(Ht,!1);if(dt(re,ge),$(Lt),Rt(re),ge.length){var qe=ge[0].xaxis,nn=ge[0].yaxis;if(qe&&nn){for(var sn=[],Ze=re._fullLayout.selections,tn=0;tn<Ze.length;tn++){var Tn=Ze[tn];Tn&&(Tn.xref===qe._id&&Tn.yref===nn._id||sn.push(Tn))}sn.length<Ze.length&&(re._fullLayout._noEmitSelectedAtStart=!0,u.call("_guiRelayout",re,{selections:sn}))}}}else je.indexOf("select")>-1&&pt(Ye,re,Lt.xaxes,Lt.yaxes,Lt.subplot,Lt,Fe),je==="event"&&Nt(re,void 0);d.click(re,Ye)}).catch(R.error)}},Lt.doneFn=function(){xe.remove(),j.done(Ve).then(function(){j.clear(Ve),!$t&&ft&&Lt.selectionDefs&&(ft.subtract=Ne,Lt.selectionDefs.push(ft),Lt.mergedPolygons.length=0,[].push.apply(Lt.mergedPolygons,Oe)),($t||ae)&&$(Lt,$t),Lt.doneFnCompleted&&Lt.doneFnCompleted(an),ue&&Nt(re,Vt)}).catch(R.error)}},clearOutline:S,clearSelectionsCache:$,selectOnClick:pt}},9827:function(a,s,o){var l=o(215),c=o(1940),u=o(2196).line,f=o(9952).P,h=o(1426).extendFlat,d=o(4467).templatedArray,p=(o(4695),o(9012)),g=o(5386).R,m=o(7281);a.exports=d("shape",{visible:h({},p.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:h({},p.legend,{editType:"calc+arraydraw"}),legendgroup:h({},p.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:h({},p.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:c({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:h({},p.legendrank,{editType:"calc+arraydraw"}),legendwidth:h({},p.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:h({},l.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:h({},l.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:h({},u.color,{editType:"arraydraw"}),width:h({},u.width,{editType:"calc+arraydraw"}),dash:h({},f,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:g({},{keys:Object.keys(m)}),font:c({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(a,s,o){var l=o(1828),c=o(9298),u=o(1459),f=o(477);function h(m){return p(m.line.width,m.xsizemode,m.x0,m.x1,m.path,!1)}function d(m){return p(m.line.width,m.ysizemode,m.y0,m.y1,m.path,!0)}function p(m,v,y,_,b,w){var T=m/2,M=w;if(v==="pixel"){var S=b?f.extractPathCoords(b,w?u.paramIsY:u.paramIsX):[y,_],E=l.aggNums(Math.max,null,S),A=l.aggNums(Math.min,null,S),O=A<0?Math.abs(A)+T:T,N=E>0?E+T:T;return{ppad:T,ppadplus:M?O:N,ppadminus:M?N:O}}return{ppad:T}}function g(m,v,y,_,b){var w=m.type==="category"||m.type==="multicategory"?m.r2c:m.d2c;if(v!==void 0)return[w(v),w(y)];if(_){var T,M,S,E,A=1/0,O=-1/0,N=_.match(u.segmentRE);for(m.type==="date"&&(w=f.decodeDate(w)),T=0;T<N.length;T++)(M=b[N[T].charAt(0)].drawn)!==void 0&&(!(S=N[T].substr(1).match(u.paramRE))||S.length<M||((E=w(S[M]))<A&&(A=E),E>O&&(O=E)));return O>=A?[A,O]:void 0}}a.exports=function(m){var v=m._fullLayout,y=l.filterVisible(v.shapes);if(y.length&&m._fullData.length)for(var _=0;_<y.length;_++){var b,w,T=y[_];T._extremes={};var M=c.getRefType(T.xref),S=c.getRefType(T.yref);if(T.xref!=="paper"&&M!=="domain"){var E=T.xsizemode==="pixel"?T.xanchor:T.x0,A=T.xsizemode==="pixel"?T.xanchor:T.x1;(w=g(b=c.getFromId(m,T.xref),E,A,T.path,u.paramIsX))&&(T._extremes[b._id]=c.findExtremes(b,w,h(T)))}if(T.yref!=="paper"&&S!=="domain"){var O=T.ysizemode==="pixel"?T.yanchor:T.y0,N=T.ysizemode==="pixel"?T.yanchor:T.y1;(w=g(b=c.getFromId(m,T.yref),O,N,T.path,u.paramIsY))&&(T._extremes[b._id]=c.findExtremes(b,w,d(T)))}}}},1459:function(a){a.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},4726:function(a,s,o){var l=o(1828),c=o(9298),u=o(5501),f=o(9827),h=o(477);function d(p,g,m){function v(z,W){return l.coerce(p,g,f,z,W)}if(g._isShape=!0,v("visible")){v("showlegend")&&(v("legend"),v("legendwidth"),v("legendgroup"),v("legendgrouptitle.text"),l.coerceFont(v,"legendgrouptitle.font"),v("legendrank"));var y=v("path"),_=v("type",y?"path":"rect"),b=_!=="path";b&&delete g.path,v("editable"),v("layer"),v("opacity"),v("fillcolor"),v("fillrule"),v("line.width")&&(v("line.color"),v("line.dash"));for(var w=v("xsizemode"),T=v("ysizemode"),M=["x","y"],S=0;S<2;S++){var E,A,O,N=M[S],F=N+"anchor",P=N==="x"?w:T,R={_fullLayout:m},k=c.coerceRef(p,g,R,N,void 0,"paper");if(c.getRefType(k)==="range"?((E=c.getFromId(R,k))._shapeIndices.push(g._index),O=h.rangeToShapePosition(E),A=h.shapePositionToRange(E)):A=O=l.identity,b){var I=N+"0",j=N+"1",G=p[I],q=p[j];p[I]=A(p[I],!0),p[j]=A(p[j],!0),P==="pixel"?(v(I,0),v(j,10)):(c.coercePosition(g,R,v,k,I,.25),c.coercePosition(g,R,v,k,j,.75)),g[I]=O(g[I]),g[j]=O(g[j]),p[I]=G,p[j]=q}if(P==="pixel"){var et=p[F];p[F]=A(p[F],!0),c.coercePosition(g,R,v,k,F,.25),g[F]=O(g[F]),p[F]=et}}b&&l.noneOrAll(p,g,["x0","x1","y0","y1"]);var U,J,nt=_==="line";if(b&&(U=v("label.texttemplate")),U||(J=v("label.text")),J||U){v("label.textangle");var ct=v("label.textposition",nt?"middle":"middle center");v("label.xanchor"),v("label.yanchor",function(z,W){return z?"bottom":W.indexOf("top")!==-1?"top":W.indexOf("bottom")!==-1?"bottom":"middle"}(nt,ct)),v("label.padding"),l.coerceFont(v,"label.font",m.font)}}}a.exports=function(p,g){u(p,g,{name:"shapes",handleItemDefaults:d})}},8100:function(a,s,o){var l=o(1828),c=o(9298),u=o(3893),f=o(1424),h=o(165).readPaths,d=o(477),p=d.getPathString,g=o(7281),m=o(8783).FROM_TL;a.exports=function(v,y,_,b){if(b.selectAll(".shape-label").remove(),_.label.text||_.label.texttemplate){var w;if(_.label.texttemplate){var T={};if(_.type!=="path"){var M=c.getFromId(v,_.xref),S=c.getFromId(v,_.yref);for(var E in g){var A=g[E](_,M,S);A!==void 0&&(T[E]=A)}}w=l.texttemplateStringForShapes(_.label.texttemplate,{},v._fullLayout._d3locale,T)}else w=_.label.text;var O,N,F,P,R={"data-index":y},k=_.label.font,I=b.append("g").attr(R).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(w);if(_.path){var j=p(v,_),G=h(j,v);O=1/0,F=1/0,N=-1/0,P=-1/0;for(var q=0;q<G.length;q++)for(var et=0;et<G[q].length;et++)for(var U=G[q][et],J=1;J<U.length;J+=2){var nt=U[J],ct=U[J+1];O=Math.min(O,nt),N=Math.max(N,nt),F=Math.min(F,ct),P=Math.max(P,ct)}}else{var z=c.getFromId(v,_.xref),W=c.getRefType(_.xref),X=c.getFromId(v,_.yref),it=c.getRefType(_.yref),lt=d.getDataToPixel(v,z,!1,W),pt=d.getDataToPixel(v,X,!0,it);O=lt(_.x0),N=lt(_.x1),F=pt(_.y0),P=pt(_.y1)}var rt=_.label.textangle;rt==="auto"&&(rt=_.type==="line"?function(Z,Q,ot,st){var dt,bt;return bt=Math.abs(ot-Z),dt=ot>=Z?Q-st:st-Q,-180/Math.PI*Math.atan2(dt,bt)}(O,F,N,P):0),I.call(function(Z){return Z.call(f.font,k).attr({}),u.convertToTspans(Z,v),Z});var V=function(Z,Q,ot,st,dt,bt,Pt){var It,Dt,gt,_t,wt=dt.label.textposition,Et=dt.label.textangle,ht=dt.label.padding,vt=dt.type,Ct=Math.PI/180*bt,Mt=Math.sin(Ct),Nt=Math.cos(Ct),Rt=dt.label.xanchor,At=dt.label.yanchor;if(vt==="line"){wt==="start"?(It=Z,Dt=Q):wt==="end"?(It=ot,Dt=st):(It=(Z+ot)/2,Dt=(Q+st)/2),Rt==="auto"&&(Rt=wt==="start"?Et==="auto"?ot>Z?"left":ot<Z?"right":"center":ot>Z?"right":ot<Z?"left":"center":wt==="end"?Et==="auto"?ot>Z?"right":ot<Z?"left":"center":ot>Z?"left":ot<Z?"right":"center":"center");var kt={bottom:-1,middle:0,top:1};if(Et==="auto"){var Bt=kt[At];gt=-ht*Mt*Bt,_t=ht*Nt*Bt}else gt=ht*{left:1,center:0,right:-1}[Rt],_t=ht*kt[At];It+=gt,Dt+=_t}else gt=ht+3,wt.indexOf("right")!==-1?(It=Math.max(Z,ot)-gt,Rt==="auto"&&(Rt="right")):wt.indexOf("left")!==-1?(It=Math.min(Z,ot)+gt,Rt==="auto"&&(Rt="left")):(It=(Z+ot)/2,Rt==="auto"&&(Rt="center")),Dt=wt.indexOf("top")!==-1?Math.min(Q,st):wt.indexOf("bottom")!==-1?Math.max(Q,st):(Q+st)/2,_t=ht,At==="bottom"?Dt-=_t:At==="top"&&(Dt+=_t);var Lt=m[At],zt=dt.label.font.size,Gt=Pt.height;return{textx:It+(Gt*Lt-zt)*Mt,texty:Dt+-(Gt*Lt-zt)*Nt,xanchor:Rt}}(O,F,N,P,_,rt,f.bBox(I.node())),B=V.textx,H=V.texty,$=V.xanchor;I.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[$],y:H,x:B,transform:"rotate("+rt+","+B+","+H+")"}).call(u.positionText,B,H)}}},2359:function(a,s,o){var l=o(1828).strTranslate,c=o(8569),u=o(4505),f=u.drawMode,h=u.selectMode,d=o(3972),p=o(7901),g=o(9995),m=g.i000,v=g.i090,y=g.i180,_=g.i270,b=o(1873).clearOutlineControllers,w=o(165),T=w.pointsOnRectangle,M=w.pointsOnEllipse,S=w.writePaths,E=o(551).newShapes,A=o(551).createShapeObj,O=o(5855),N=o(8100);function F(P,R){var k,I,j,G=P[R][1],q=P[R][2],et=P.length;return I=P[k=(R+1)%et][1],j=P[k][2],I===G&&j===q&&(I=P[k=(R+2)%et][1],j=P[k][2]),[k,I,j]}a.exports=function P(R,k,I,j){j||(j=0);var G=I.gd;function q(){P(R,k,I,j++),(M(R[0])||I.hasText)&&et({redrawing:!0})}function et(dt){var bt={};I.isActiveShape!==void 0&&(I.isActiveShape=!1,bt=E(k,I)),I.isActiveSelection!==void 0&&(I.isActiveSelection=!1,bt=O(k,I),G._fullLayout._reselect=!0),Object.keys(bt).length&&d.call((dt||{}).redrawing?"relayout":"_guiRelayout",G,bt)}var U,J,nt,ct,z,W=G._fullLayout._zoomlayer,X=I.dragmode,it=f(X),lt=h(X);if((it||lt)&&(G._fullLayout._outlining=!0),b(G),k.attr("d",S(R)),j||!I.isActiveShape&&!I.isActiveSelection||(z=function(dt,bt){for(var Pt=0;Pt<bt.length;Pt++){var It=bt[Pt];dt[Pt]=[];for(var Dt=0;Dt<It.length;Dt++){dt[Pt][Dt]=[];for(var gt=0;gt<It[Dt].length;gt++)dt[Pt][Dt][gt]=It[Dt][gt]}}return dt}([],R),function(dt){U=[];for(var bt=0;bt<R.length;bt++){var Pt=R[bt],It=T(Pt),Dt=!It&&M(Pt);U[bt]=[];for(var gt=Pt.length,_t=0;_t<gt;_t++)if(Pt[_t][0]!=="Z"&&(!Dt||_t===m||_t===v||_t===y||_t===_)){var wt,Et=It&&I.isActiveSelection;Et&&(wt=F(Pt,_t));var ht=Pt[_t][1],vt=Pt[_t][2],Ct=dt.append(Et?"rect":"circle").attr("data-i",bt).attr("data-j",_t).style({fill:p.background,stroke:p.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(Et){var Mt=wt[1]-ht,Nt=wt[2]-vt,Rt=Nt?5:Math.max(Math.min(25,Math.abs(Mt)-5),5),At=Mt?5:Math.max(Math.min(25,Math.abs(Nt)-5),5);Ct.classed(Nt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Rt).attr("height",At).attr("x",ht-Rt/2).attr("y",vt-At/2).attr("transform",l(Mt/2,Nt/2))}else Ct.classed("cursor-grab",!0).attr("r",5).attr("cx",ht).attr("cy",vt);U[bt][_t]={element:Ct.node(),gd:G,prepFn:V,doneFn:H,clickFn:$},c.init(U[bt][_t])}}}(W.append("g").attr("class","outline-controllers")),function(){J=[],R.length&&(J[0]={element:k[0][0],gd:G,prepFn:Q,doneFn:ot,clickFn:st},c.init(J[0]))}()),it&&I.hasText){var pt=W.select(".label-temp"),rt=A(k,I,I.dragmode);N(G,"label-temp",rt,pt)}function V(dt){nt=+dt.srcElement.getAttribute("data-i"),ct=+dt.srcElement.getAttribute("data-j"),U[nt][ct].moveFn=B}function B(dt,bt){if(R.length){var Pt=z[nt][ct][1],It=z[nt][ct][2],Dt=R[nt],gt=Dt.length;if(T(Dt)){var _t=dt,wt=bt;I.isActiveSelection&&(F(Dt,ct)[1]===Dt[ct][1]?wt=0:_t=0);for(var Et=0;Et<gt;Et++)if(Et!==ct){var ht=Dt[Et];ht[1]===Dt[ct][1]&&(ht[1]=Pt+_t),ht[2]===Dt[ct][2]&&(ht[2]=It+wt)}if(Dt[ct][1]=Pt+_t,Dt[ct][2]=It+wt,!T(Dt))for(var vt=0;vt<gt;vt++)for(var Ct=0;Ct<Dt[vt].length;Ct++)Dt[vt][Ct]=z[nt][vt][Ct]}else Dt[ct][1]=Pt+dt,Dt[ct][2]=It+bt;q()}}function H(){et()}function $(dt,bt){if(dt===2){nt=+bt.srcElement.getAttribute("data-i"),ct=+bt.srcElement.getAttribute("data-j");var Pt=R[nt];T(Pt)||M(Pt)||function(){if(R.length&&R[nt]&&R[nt].length){for(var It=[],Dt=0;Dt<R[nt].length;Dt++)Dt!==ct&&It.push(R[nt][Dt]);It.length>1&&(It.length!==2||It[1][0]!=="Z")&&(ct===0&&(It[0][0]="M"),R[nt]=It,q(),et())}}()}}function Z(dt,bt){(function(Pt,It){if(R.length)for(var Dt=0;Dt<R.length;Dt++)for(var gt=0;gt<R[Dt].length;gt++)for(var _t=0;_t+2<R[Dt][gt].length;_t+=2)R[Dt][gt][_t+1]=z[Dt][gt][_t+1]+Pt,R[Dt][gt][_t+2]=z[Dt][gt][_t+2]+It})(dt,bt),q()}function Q(dt){(nt=+dt.srcElement.getAttribute("data-i"))||(nt=0),J[nt].moveFn=Z}function ot(){et()}function st(dt){dt===2&&function(bt){if(h(bt._fullLayout.dragmode)){b(bt);var Pt=bt._fullLayout._activeSelectionIndex,It=(bt.layout||{}).selections||[];if(Pt<It.length){for(var Dt=[],gt=0;gt<It.length;gt++)gt!==Pt&&Dt.push(It[gt]);delete bt._fullLayout._activeSelectionIndex;var _t=bt._fullLayout.selections[Pt];bt._fullLayout._deselect={xref:_t.xref,yref:_t.yref},d.call("_guiRelayout",bt,{selections:Dt})}}}(G)}}},4031:function(a,s,o){var l=o(9898),c=o(3972),u=o(1828),f=o(9298),h=o(165).readPaths,d=o(2359),p=o(8100),g=o(1873).clearOutlineControllers,m=o(7901),v=o(1424),y=o(4467).arrayEditor,_=o(8569),b=o(6964),w=o(1459),T=o(477),M=T.getPathString;function S(R){var k=R._fullLayout;for(var I in k._shapeUpperLayer.selectAll("path").remove(),k._shapeLowerLayer.selectAll("path").remove(),k._shapeUpperLayer.selectAll("text").remove(),k._shapeLowerLayer.selectAll("text").remove(),k._plots){var j=k._plots[I].shapelayer;j&&(j.selectAll("path").remove(),j.selectAll("text").remove())}for(var G=0;G<k.shapes.length;G++)k.shapes[G].visible===!0&&O(R,G)}function E(R){return!!R._fullLayout._outlining}function A(R){return!R._context.edits.shapePosition}function O(R,k){R._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+k+'"]').remove();var I=T.makeShapesOptionsAndPlotinfo(R,k),j=I.options,G=I.plotinfo;function q(et){var U=M(R,j),J={"data-index":k,"fill-rule":j.fillrule,d:U},nt=j.opacity,ct=j.fillcolor,z=j.line.width?j.line.color:"rgba(0,0,0,0)",W=j.line.width,X=j.line.dash;W||j.editable!==!0||(W=5,X="solid");var it=U[U.length-1]!=="Z",lt=A(R)&&j.editable&&R._fullLayout._activeShapeIndex===k;lt&&(ct=it?"rgba(0,0,0,0)":R._fullLayout.activeshape.fillcolor,nt=R._fullLayout.activeshape.opacity);var pt,rt=et.append("g").classed("shape-group",!0).attr({"data-index":k}),V=rt.append("path").attr(J).style("opacity",nt).call(m.stroke,z).call(m.fill,ct).call(v.dashLine,X,W);if(N(rt,R,j),p(R,k,j,rt),(lt||R._context.edits.shapePosition)&&(pt=y(R.layout,"shapes",j)),lt){V.style({cursor:"move"});var B={element:V.node(),plotinfo:G,gd:R,editHelpers:pt,hasText:j.label.text||j.label.texttemplate,isActiveShape:!0},H=h(U,R);d(H,V,B)}else R._context.edits.shapePosition?function($,Z,Q,ot,st,dt){var bt,Pt,It,Dt,gt,_t,wt,Et,ht,vt,Ct,Mt,Nt,Rt,At,kt,Bt=10,Lt=10,zt=Q.xsizemode==="pixel",Gt=Q.ysizemode==="pixel",Ut=Q.type==="line",ne=Q.type==="path",te=dt.modifyItem,ae=l.select(Z.node().parentNode),ue=f.getFromId($,Q.xref),pe=f.getRefType(Q.xref),be=f.getFromId($,Q.yref),re=f.getRefType(Q.yref),jt=T.getDataToPixel($,ue,!1,pe),$t=T.getDataToPixel($,be,!0,re),Jt=T.getPixelToData($,ue,!1,pe),qt=T.getPixelToData($,be,!0,re),Ce=Ut?function(){var Oe=10,ft=Math.max(Q.line.width,Oe),mt=st.append("g").attr("data-index",ot).attr("drag-helper",!0);mt.append("path").attr("d",Z.attr("d")).style({cursor:"move","stroke-width":ft,"stroke-opacity":"0"});var Ht={"fill-opacity":"0"},Vt=Math.max(ft/2,Oe);return mt.append("circle").attr({"data-line-point":"start-point",cx:zt?jt(Q.xanchor)+Q.x0:jt(Q.x0),cy:Gt?$t(Q.yanchor)-Q.y0:$t(Q.y0),r:Vt}).style(Ht).classed("cursor-grab",!0),mt.append("circle").attr({"data-line-point":"end-point",cx:zt?jt(Q.xanchor)+Q.x1:jt(Q.x1),cy:Gt?$t(Q.yanchor)-Q.y1:$t(Q.y1),r:Vt}).style(Ht).classed("cursor-grab",!0),mt}():Z,fe={element:Ce.node(),gd:$,prepFn:function(Oe){E($)||(zt&&(gt=jt(Q.xanchor)),Gt&&(_t=$t(Q.yanchor)),Q.type==="path"?At=Q.path:(bt=zt?Q.x0:jt(Q.x0),Pt=Gt?Q.y0:$t(Q.y0),It=zt?Q.x1:jt(Q.x1),Dt=Gt?Q.y1:$t(Q.y1)),bt<It?(ht=bt,Nt="x0",vt=It,Rt="x1"):(ht=It,Nt="x1",vt=bt,Rt="x0"),!Gt&&Pt<Dt||Gt&&Pt>Dt?(wt=Pt,Ct="y0",Et=Dt,Mt="y1"):(wt=Dt,Ct="y1",Et=Pt,Mt="y0"),Me(Oe),Ae(st,Q),function(ft,mt,Ht){var Vt=mt.xref,ee=mt.yref,Xt=f.getFromId(Ht,Vt),Qt=f.getFromId(Ht,ee),se="";Vt==="paper"||Xt.autorange||(se+=Vt),ee==="paper"||Qt.autorange||(se+=ee),v.setClipUrl(ft,se?"clip"+Ht._fullLayout._uid+se:null,Ht)}(Z,Q,$),fe.moveFn=kt==="move"?Ee:He,fe.altKey=Oe.altKey)},doneFn:function(){E($)||(b(Z),$e(st),N(Z,$,Q),c.call("_guiRelayout",$,dt.getUpdateObj()))},clickFn:function(){E($)||$e(st)}};function Me(Oe){if(E($))kt=null;else if(Ut)kt=Oe.target.tagName==="path"?"move":Oe.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var ft=fe.element.getBoundingClientRect(),mt=ft.right-ft.left,Ht=ft.bottom-ft.top,Vt=Oe.clientX-ft.left,ee=Oe.clientY-ft.top,Xt=!ne&&mt>Bt&&Ht>Lt&&!Oe.shiftKey?_.getCursor(Vt/mt,1-ee/Ht):"move";b(Z,Xt),kt=Xt.split("-")[0]}}function Ee(Oe,ft){if(Q.type==="path"){var mt=function(ee){return ee},Ht=mt,Vt=mt;zt?te("xanchor",Q.xanchor=Jt(gt+Oe)):(Ht=function(ee){return Jt(jt(ee)+Oe)},ue&&ue.type==="date"&&(Ht=T.encodeDate(Ht))),Gt?te("yanchor",Q.yanchor=qt(_t+ft)):(Vt=function(ee){return qt($t(ee)+ft)},be&&be.type==="date"&&(Vt=T.encodeDate(Vt))),te("path",Q.path=F(At,Ht,Vt))}else zt?te("xanchor",Q.xanchor=Jt(gt+Oe)):(te("x0",Q.x0=Jt(bt+Oe)),te("x1",Q.x1=Jt(It+Oe))),Gt?te("yanchor",Q.yanchor=qt(_t+ft)):(te("y0",Q.y0=qt(Pt+ft)),te("y1",Q.y1=qt(Dt+ft)));Z.attr("d",M($,Q)),Ae(st,Q),p($,ot,Q,ae)}function He(Oe,ft){if(ne){var mt=function(Te){return Te},Ht=mt,Vt=mt;zt?te("xanchor",Q.xanchor=Jt(gt+Oe)):(Ht=function(Te){return Jt(jt(Te)+Oe)},ue&&ue.type==="date"&&(Ht=T.encodeDate(Ht))),Gt?te("yanchor",Q.yanchor=qt(_t+ft)):(Vt=function(Te){return qt($t(Te)+ft)},be&&be.type==="date"&&(Vt=T.encodeDate(Vt))),te("path",Q.path=F(At,Ht,Vt))}else if(Ut){if(kt==="resize-over-start-point"){var ee=bt+Oe,Xt=Gt?Pt-ft:Pt+ft;te("x0",Q.x0=zt?ee:Jt(ee)),te("y0",Q.y0=Gt?Xt:qt(Xt))}else if(kt==="resize-over-end-point"){var Qt=It+Oe,se=Gt?Dt-ft:Dt+ft;te("x1",Q.x1=zt?Qt:Jt(Qt)),te("y1",Q.y1=Gt?se:qt(se))}}else{var he=function(Te){return kt.indexOf(Te)!==-1},ye=he("n"),oe=he("s"),Ue=he("w"),rn=he("e"),Ne=ye?wt+ft:wt,Fe=oe?Et+ft:Et,Be=Ue?ht+Oe:ht,Se=rn?vt+Oe:vt;Gt&&(ye&&(Ne=wt-ft),oe&&(Fe=Et-ft)),(!Gt&&Fe-Ne>Lt||Gt&&Ne-Fe>Lt)&&(te(Ct,Q[Ct]=Gt?Ne:qt(Ne)),te(Mt,Q[Mt]=Gt?Fe:qt(Fe))),Se-Be>Bt&&(te(Nt,Q[Nt]=zt?Be:Jt(Be)),te(Rt,Q[Rt]=zt?Se:Jt(Se)))}Z.attr("d",M($,Q)),Ae(st,Q),p($,ot,Q,ae)}function Ae(Oe,ft){(zt||Gt)&&function(){var mt=ft.type!=="path",Ht=Oe.selectAll(".visual-cue").data([0]);Ht.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var Vt=jt(zt?ft.xanchor:u.midRange(mt?[ft.x0,ft.x1]:T.extractPathCoords(ft.path,w.paramIsX))),ee=$t(Gt?ft.yanchor:u.midRange(mt?[ft.y0,ft.y1]:T.extractPathCoords(ft.path,w.paramIsY)));if(Vt=T.roundPositionForSharpStrokeRendering(Vt,1),ee=T.roundPositionForSharpStrokeRendering(ee,1),zt&&Gt){var Xt="M"+(Vt-1-1)+","+(ee-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Ht.attr("d",Xt)}else if(zt){var Qt="M"+(Vt-1-1)+","+(ee-9-1)+"v18 h2 v-18 Z";Ht.attr("d",Qt)}else{var se="M"+(Vt-9-1)+","+(ee-1-1)+"h18 v2 h-18 Z";Ht.attr("d",se)}}()}function $e(Oe){Oe.selectAll(".visual-cue").remove()}_.init(fe),Ce.node().onmousemove=Me}(R,V,j,k,et,pt):j.editable===!0&&V.style("pointer-events",it||m.opacity(ct)*nt<=.5?"stroke":"all");V.node().addEventListener("click",function(){return function($,Z){if(A($)){var Q=+Z.node().getAttribute("data-index");if(Q>=0){if(Q===$._fullLayout._activeShapeIndex)return void P($);$._fullLayout._activeShapeIndex=Q,$._fullLayout._deactivateShape=P,S($)}}}(R,V)})}j._input&&j.visible===!0&&(j.layer!=="below"?q(R._fullLayout._shapeUpperLayer):j.xref==="paper"||j.yref==="paper"?q(R._fullLayout._shapeLowerLayer):G._hadPlotinfo?q((G.mainplotinfo||G).shapelayer):q(R._fullLayout._shapeLowerLayer))}function N(R,k,I){var j=(I.xref+I.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");v.setClipUrl(R,j?"clip"+k._fullLayout._uid+j:null,k)}function F(R,k,I){return R.replace(w.segmentRE,function(j){var G=0,q=j.charAt(0),et=w.paramIsX[q],U=w.paramIsY[q],J=w.numParams[q];return q+j.substr(1).replace(w.paramRE,function(nt){return G>=J||(et[G]?nt=k(nt):U[G]&&(nt=I(nt)),G++),nt})})}function P(R){A(R)&&R._fullLayout._activeShapeIndex>=0&&(g(R),delete R._fullLayout._activeShapeIndex,S(R))}a.exports={draw:S,drawOne:O,eraseActiveShape:function(R){if(A(R)){g(R);var k=R._fullLayout._activeShapeIndex,I=(R.layout||{}).shapes||[];if(k<I.length){for(var j=[],G=0;G<I.length;G++)G!==k&&j.push(I[G]);return delete R._fullLayout._activeShapeIndex,c.call("_guiRelayout",R,{shapes:j})}}},drawLabel:p}},9241:function(a,s,o){var l=o(962).overrideAll,c=o(9012),u=o(1940),f=o(9952).P,h=o(1426).extendFlat,d=o(5386).R,p=o(7281);a.exports=l({newshape:{visible:h({},c.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:h({},c.legend,{}),legendgroup:h({},c.legendgroup,{}),legendgrouptitle:{text:h({},c.legendgrouptitle.text,{}),font:u({})},legendrank:h({},c.legendrank,{}),legendwidth:h({},c.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:h({},f,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:h({},c.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:d({newshape:!0},{keys:Object.keys(p)}),font:u({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},9995:function(a){a.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},5547:function(a,s,o){var l=o(7901),c=o(1828);a.exports=function(u,f,h){if(h("newshape.visible"),h("newshape.name"),h("newshape.showlegend"),h("newshape.legend"),h("newshape.legendwidth"),h("newshape.legendgroup"),h("newshape.legendgrouptitle.text"),c.coerceFont(h,"newshape.legendgrouptitle.font"),h("newshape.legendrank"),h("newshape.drawdirection"),h("newshape.layer"),h("newshape.fillcolor"),h("newshape.fillrule"),h("newshape.opacity"),h("newshape.line.width")){var d=(u||{}).plot_bgcolor||"#FFF";h("newshape.line.color",l.contrast(d)),h("newshape.line.dash")}var p=u.dragmode==="drawline",g=h("newshape.label.text"),m=h("newshape.label.texttemplate");if(g||m){h("newshape.label.textangle");var v=h("newshape.label.textposition",p?"middle":"middle center");h("newshape.label.xanchor"),h("newshape.label.yanchor",function(y,_){return y?"bottom":_.indexOf("top")!==-1?"top":_.indexOf("bottom")!==-1?"bottom":"middle"}(p,v)),h("newshape.label.padding"),c.coerceFont(h,"newshape.label.font",f.font)}h("activeshape.fillcolor"),h("activeshape.opacity")}},165:function(a,s,o){var l=o(5616),c=o(9995),u=c.CIRCLE_SIDES,f=c.SQRT2,h=o(5549),d=h.p2r,p=h.r2p,g=[0,3,4,5,6,1,2],m=[0,3,4,1,2];function v(_,b){return Math.abs(_-b)<=1e-6}function y(_,b){var w=b[1]-_[1],T=b[2]-_[2];return Math.sqrt(w*w+T*T)}s.writePaths=function(_){var b=_.length;if(!b)return"M0,0Z";for(var w="",T=0;T<b;T++)for(var M=_[T].length,S=0;S<M;S++){var E=_[T][S][0];if(E==="Z")w+="Z";else for(var A=_[T][S].length,O=0;O<A;O++){var N=O;E==="Q"||E==="S"?N=m[O]:E==="C"&&(N=g[O]),w+=_[T][S][N],O>0&&O<A-1&&(w+=",")}}return w},s.readPaths=function(_,b,w,T){var M,S,E,A=l(_),O=[],N=-1,F=0,P=0,R=function(){S=F,E=P};R();for(var k=0;k<A.length;k++){var I,j,G,q,et=[],U=A[k][0],J=U;switch(U){case"M":O[++N]=[],F=+A[k][1],P=+A[k][2],et.push([J,F,P]),R();break;case"Q":case"S":I=+A[k][1],G=+A[k][2],F=+A[k][3],P=+A[k][4],et.push([J,F,P,I,G]);break;case"C":I=+A[k][1],G=+A[k][2],j=+A[k][3],q=+A[k][4],F=+A[k][5],P=+A[k][6],et.push([J,F,P,I,G,j,q]);break;case"T":case"L":F=+A[k][1],P=+A[k][2],et.push([J,F,P]);break;case"H":J="L",F=+A[k][1],et.push([J,F,P]);break;case"V":J="L",P=+A[k][1],et.push([J,F,P]);break;case"A":J="L";var nt=+A[k][1],ct=+A[k][2];+A[k][4]||(nt=-nt,ct=-ct);var z=F-nt,W=P;for(M=1;M<=u/2;M++){var X=2*Math.PI*M/u;et.push([J,z+nt*Math.cos(X),W+ct*Math.sin(X)])}break;case"Z":F===S&&P===E||(F=S,P=E,et.push([J,F,P]))}for(var it=(w||{}).domain,lt=b._fullLayout._size,pt=w&&w.xsizemode==="pixel",rt=w&&w.ysizemode==="pixel",V=T===!1,B=0;B<et.length;B++){for(M=0;M+2<7;M+=2){var H=et[B][M+1],$=et[B][M+2];H!==void 0&&$!==void 0&&(F=H,P=$,w&&(w.xaxis&&w.xaxis.p2r?(V&&(H-=w.xaxis._offset),H=pt?p(w.xaxis,w.xanchor)+H:d(w.xaxis,H)):(V&&(H-=lt.l),it?H=it.x[0]+H/lt.w:H/=lt.w),w.yaxis&&w.yaxis.p2r?(V&&($-=w.yaxis._offset),$=rt?p(w.yaxis,w.yanchor)-$:d(w.yaxis,$)):(V&&($-=lt.t),$=it?it.y[1]-$/lt.h:1-$/lt.h)),et[B][M+1]=H,et[B][M+2]=$)}O[N].push(et[B].slice())}}return O},s.pointsOnRectangle=function(_){if(_.length!==5)return!1;for(var b=1;b<3;b++)if(!v(_[0][b]-_[1][b],_[3][b]-_[2][b])||!v(_[0][b]-_[3][b],_[1][b]-_[2][b]))return!1;return!(!v(_[0][1],_[1][1])&&!v(_[0][1],_[3][1])||!(y(_[0],_[1])*y(_[0],_[3])))},s.pointsOnEllipse=function(_){var b=_.length;if(b!==u+1)return!1;b=u;for(var w=0;w<b;w++){var T=(2*b-w)%b,M=(b/2+T)%b,S=(b/2+w)%b;if(!v(y(_[w],_[S]),y(_[T],_[M])))return!1}return!0},s.handleEllipse=function(_,b,w){if(!_)return[b,w];var T=s.ellipseOver({x0:b[0],y0:b[1],x1:w[0],y1:w[1]}),M=(T.x1+T.x0)/2,S=(T.y1+T.y0)/2,E=(T.x1-T.x0)/2,A=(T.y1-T.y0)/2;E||(E=A/=f),A||(A=E/=f);for(var O=[],N=0;N<u;N++){var F=2*N*Math.PI/u;O.push([M+E*Math.cos(F),S+A*Math.sin(F)])}return O},s.ellipseOver=function(_){var b=_.x0,w=_.y0,T=_.x1,M=_.y1,S=T-b,E=M-w,A=((b-=S)+T)/2,O=((w-=E)+M)/2;return{x0:A-(S*=f),y0:O-(E*=f),x1:A+S,y1:O+E}},s.fixDatesForPaths=function(_,b,w){var T=b.type==="date",M=w.type==="date";if(!T&&!M)return _;for(var S=0;S<_.length;S++)for(var E=0;E<_[S].length;E++)for(var A=0;A+2<_[S][E].length;A+=2)T&&(_[S][E][A+1]=_[S][E][A+1].replace(" ","_")),M&&(_[S][E][A+2]=_[S][E][A+2].replace(" ","_"));return _}},551:function(a,s,o){var l=o(4505),c=l.drawMode,u=l.openMode,f=o(9995),h=f.i000,d=f.i090,p=f.i180,g=f.i270,m=f.cos45,v=f.sin45,y=o(5549),_=y.p2r,b=y.r2p,w=o(1873).clearOutline,T=o(165),M=T.readPaths,S=T.writePaths,E=T.ellipseOver,A=T.fixDatesForPaths;function O(N,F,P){var R,k=N[0][0],I=F.gd,j=k.getAttribute("d"),G=I._fullLayout.newshape,q=F.plotinfo,et=F.isActiveShape,U=q.xaxis,J=q.yaxis,nt=!!q.domain||!q.xaxis,ct=!!q.domain||!q.yaxis,z=u(P),W=M(j,I,q,et),X={editable:!0,visible:G.visible,name:G.name,showlegend:G.showlegend,legend:G.legend,legendwidth:G.legendwidth,legendgroup:G.legendgroup,legendgrouptitle:{text:G.legendgrouptitle.text,font:G.legendgrouptitle.font},legendrank:G.legendrank,label:G.label,xref:nt?"paper":U._id,yref:ct?"paper":J._id,layer:G.layer,opacity:G.opacity,line:{color:G.line.color,width:G.line.width,dash:G.line.dash}};if(z||(X.fillcolor=G.fillcolor,X.fillrule=G.fillrule),W.length===1&&(R=W[0]),R&&R.length===5&&P==="drawrect")X.type="rect",X.x0=R[0][1],X.y0=R[0][2],X.x1=R[2][1],X.y1=R[2][2];else if(R&&P==="drawline")X.type="line",X.x0=R[0][1],X.y0=R[0][2],X.x1=R[1][1],X.y1=R[1][2];else if(R&&P==="drawcircle"){X.type="circle";var it=R[h][1],lt=R[d][1],pt=R[p][1],rt=R[g][1],V=R[h][2],B=R[d][2],H=R[p][2],$=R[g][2],Z=q.xaxis&&(q.xaxis.type==="date"||q.xaxis.type==="log"),Q=q.yaxis&&(q.yaxis.type==="date"||q.yaxis.type==="log");Z&&(it=b(q.xaxis,it),lt=b(q.xaxis,lt),pt=b(q.xaxis,pt),rt=b(q.xaxis,rt)),Q&&(V=b(q.yaxis,V),B=b(q.yaxis,B),H=b(q.yaxis,H),$=b(q.yaxis,$));var ot=(lt+rt)/2,st=(V+H)/2,dt=E({x0:ot,y0:st,x1:ot+(rt-lt+pt-it)/2*m,y1:st+($-B+H-V)/2*v});Z&&(dt.x0=_(q.xaxis,dt.x0),dt.x1=_(q.xaxis,dt.x1)),Q&&(dt.y0=_(q.yaxis,dt.y0),dt.y1=_(q.yaxis,dt.y1)),X.x0=dt.x0,X.y0=dt.y0,X.x1=dt.x1,X.y1=dt.y1}else X.type="path",U&&J&&A(W,U,J),X.path=S(W),R=null;return X}a.exports={newShapes:function(N,F){if(N.length&&N[0][0]){var P=F.gd,R=F.isActiveShape,k=F.dragmode,I=(P.layout||{}).shapes||[];if(!c(k)&&R!==void 0){var j=P._fullLayout._activeShapeIndex;if(j<I.length)switch(P._fullLayout.shapes[j].type){case"rect":k="drawrect";break;case"circle":k="drawcircle";break;case"line":k="drawline";break;case"path":var G=I[j].path||"";k=G[G.length-1]==="Z"?"drawclosedpath":"drawopenpath"}}var q=O(N,F,k);w(P);for(var et=F.editHelpers,U=(et||{}).modifyItem,J=[],nt=0;nt<I.length;nt++){var ct=P._fullLayout.shapes[nt];if(J[nt]=ct._input,R!==void 0&&nt===P._fullLayout._activeShapeIndex){var z=q;switch(ct.type){case"line":case"rect":case"circle":U("x0",z.x0),U("x1",z.x1),U("y0",z.y0),U("y1",z.y1);break;case"path":U("path",z.path)}}}return R===void 0?(J.push(q),J):et?et.getUpdateObj():{}}},createShapeObj:O}},1873:function(a){a.exports={clearOutlineControllers:function(s){var o=s._fullLayout._zoomlayer;o&&o.selectAll(".outline-controllers").remove()},clearOutline:function(s){var o=s._fullLayout._zoomlayer;o&&o.selectAll(".select-outline").remove(),s._fullLayout._outlining=!1}}},477:function(a,s,o){var l=o(1459),c=o(1828),u=o(9298);s.rangeToShapePosition=function(f){return f.type==="log"?f.r2d:function(h){return h}},s.shapePositionToRange=function(f){return f.type==="log"?f.d2r:function(h){return h}},s.decodeDate=function(f){return function(h){return h.replace&&(h=h.replace("_"," ")),f(h)}},s.encodeDate=function(f){return function(h){return f(h).replace(" ","_")}},s.extractPathCoords=function(f,h,d){var p=[];return f.match(l.segmentRE).forEach(function(g){var m=h[g.charAt(0)].drawn;if(m!==void 0){var v=g.substr(1).match(l.paramRE);if(v&&!(v.length<m)){var y=v[m],_=d?y:c.cleanNumber(y);p.push(_)}}}),p},s.getDataToPixel=function(f,h,d,p){var g,m=f._fullLayout._size;if(h)if(p==="domain")g=function(y){return h._length*(d?1-y:y)+h._offset};else{var v=s.shapePositionToRange(h);g=function(y){return h._offset+h.r2p(v(y,!0))},h.type==="date"&&(g=s.decodeDate(g))}else g=d?function(y){return m.t+m.h*(1-y)}:function(y){return m.l+m.w*y};return g},s.getPixelToData=function(f,h,d,p){var g,m=f._fullLayout._size;if(h)if(p==="domain")g=function(y){var _=(y-h._offset)/h._length;return d?1-_:_};else{var v=s.rangeToShapePosition(h);g=function(y){return v(h.p2r(y-h._offset))}}else g=d?function(y){return 1-(y-m.t)/m.h}:function(y){return(y-m.l)/m.w};return g},s.roundPositionForSharpStrokeRendering=function(f,h){var d=Math.round(h%2)===1,p=Math.round(f);return d?p+.5:p},s.makeShapesOptionsAndPlotinfo=function(f,h){var d=f._fullLayout.shapes[h]||{},p=f._fullLayout._plots[d.xref+d.yref];return p?p._hadPlotinfo=!0:(p={},d.xref&&d.xref!=="paper"&&(p.xaxis=f._fullLayout[d.xref+"axis"]),d.yref&&d.yref!=="paper"&&(p.yaxis=f._fullLayout[d.yref+"axis"])),p.xsizemode=d.xsizemode,p.ysizemode=d.ysizemode,p.xanchor=d.xanchor,p.yanchor=d.yanchor,{options:d,plotinfo:p}},s.makeSelectionsOptionsAndPlotinfo=function(f,h){var d=f._fullLayout.selections[h]||{},p=f._fullLayout._plots[d.xref+d.yref];return p?p._hadPlotinfo=!0:(p={},d.xref&&(p.xaxis=f._fullLayout[d.xref+"axis"]),d.yref&&(p.yaxis=f._fullLayout[d.yref+"axis"])),{options:d,plotinfo:p}},s.getPathString=function(f,h){var d,p,g,m,v,y,_,b,w=h.type,T=u.getRefType(h.xref),M=u.getRefType(h.yref),S=u.getFromId(f,h.xref),E=u.getFromId(f,h.yref),A=f._fullLayout._size;if(S?T==="domain"?p=function(G){return S._offset+S._length*G}:(d=s.shapePositionToRange(S),p=function(G){return S._offset+S.r2p(d(G,!0))}):p=function(G){return A.l+A.w*G},E?M==="domain"?m=function(G){return E._offset+E._length*(1-G)}:(g=s.shapePositionToRange(E),m=function(G){return E._offset+E.r2p(g(G,!0))}):m=function(G){return A.t+A.h*(1-G)},w==="path")return S&&S.type==="date"&&(p=s.decodeDate(p)),E&&E.type==="date"&&(m=s.decodeDate(m)),function(G,q,et){var U=G.path,J=G.xsizemode,nt=G.ysizemode,ct=G.xanchor,z=G.yanchor;return U.replace(l.segmentRE,function(W){var X=0,it=W.charAt(0),lt=l.paramIsX[it],pt=l.paramIsY[it],rt=l.numParams[it],V=W.substr(1).replace(l.paramRE,function(B){return lt[X]?B=J==="pixel"?q(ct)+Number(B):q(B):pt[X]&&(B=nt==="pixel"?et(z)-Number(B):et(B)),++X>rt&&(B="X"),B});return X>rt&&(V=V.replace(/[\s,]*X.*/,""),c.log("Ignoring extra params in segment "+W)),it+V})}(h,p,m);if(h.xsizemode==="pixel"){var O=p(h.xanchor);v=O+h.x0,y=O+h.x1}else v=p(h.x0),y=p(h.x1);if(h.ysizemode==="pixel"){var N=m(h.yanchor);_=N-h.y0,b=N-h.y1}else _=m(h.y0),b=m(h.y1);if(w==="line")return"M"+v+","+_+"L"+y+","+b;if(w==="rect")return"M"+v+","+_+"H"+y+"V"+b+"H"+v+"Z";var F=(v+y)/2,P=(_+b)/2,R=Math.abs(F-v),k=Math.abs(P-_),I="A"+R+","+k,j=F+R+","+P;return"M"+j+I+" 0 1,1 "+F+","+(P-k)+I+" 0 0,1 "+j+"Z"}},9853:function(a,s,o){var l=o(4031);a.exports={moduleType:"component",name:"shapes",layoutAttributes:o(9827),supplyLayoutDefaults:o(4726),supplyDrawNewShapeDefaults:o(5547),includeBasePlot:o(6325)("shapes"),calcAutorange:o(5627),draw:l.draw,drawOne:l.drawOne}},7281:function(a){function s(u,f){return f?f.d2l(u):u}function o(u,f){return f?f.l2d(u):u}function l(u,f){return s(u.x1,f)-s(u.x0,f)}function c(u,f,h){return s(u.y1,h)-s(u.y0,h)}a.exports={x0:function(u){return u.x0},x1:function(u){return u.x1},y0:function(u){return u.y0},y1:function(u){return u.y1},slope:function(u,f,h){return u.type!=="line"?void 0:c(u,0,h)/l(u,f)},dx:l,dy:c,width:function(u,f){return Math.abs(l(u,f))},height:function(u,f,h){return Math.abs(c(u,0,h))},length:function(u,f,h){return u.type!=="line"?void 0:Math.sqrt(Math.pow(l(u,f),2)+Math.pow(c(u,0,h),2))},xcenter:function(u,f){return o((s(u.x1,f)+s(u.x0,f))/2,f)},ycenter:function(u,f,h){return o((s(u.y1,h)+s(u.y0,h))/2,h)}}},5067:function(a,s,o){var l=o(1940),c=o(5025),u=o(1426).extendDeepAll,f=o(962).overrideAll,h=o(5594),d=o(4467).templatedArray,p=o(8292),g=d("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});a.exports=f(d("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:g,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:u(c({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:h.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:l({})},font:l({}),activebgcolor:{valType:"color",dflt:p.gripBgActiveColor},bgcolor:{valType:"color",dflt:p.railBgColor},bordercolor:{valType:"color",dflt:p.railBorderColor},borderwidth:{valType:"number",min:0,dflt:p.railBorderWidth},ticklen:{valType:"number",min:0,dflt:p.tickLength},tickcolor:{valType:"color",dflt:p.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:p.minorTickLength}}),"arraydraw","from-root")},8292:function(a){a.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},2343:function(a,s,o){var l=o(1828),c=o(5501),u=o(5067),f=o(8292).name,h=u.steps;function d(g,m,v){function y(M,S){return l.coerce(g,m,u,M,S)}for(var _=c(g,m,{name:"steps",handleItemDefaults:p}),b=0,w=0;w<_.length;w++)_[w].visible&&b++;if(b<2?m.visible=!1:y("visible")){m._stepCount=b;var T=m._visibleSteps=l.filterVisible(_);(_[y("active")]||{}).visible||(m.active=T[0]._index),y("x"),y("y"),l.noneOrAll(g,m,["x","y"]),y("xanchor"),y("yanchor"),y("len"),y("lenmode"),y("pad.t"),y("pad.r"),y("pad.b"),y("pad.l"),l.coerceFont(y,"font",v.font),y("currentvalue.visible")&&(y("currentvalue.xanchor"),y("currentvalue.prefix"),y("currentvalue.suffix"),y("currentvalue.offset"),l.coerceFont(y,"currentvalue.font",m.font)),y("transition.duration"),y("transition.easing"),y("bgcolor"),y("activebgcolor"),y("bordercolor"),y("borderwidth"),y("ticklen"),y("tickwidth"),y("tickcolor"),y("minorticklen")}}function p(g,m){function v(_,b){return l.coerce(g,m,h,_,b)}if(g.method==="skip"||Array.isArray(g.args)?v("visible"):m.visible=!1){v("method"),v("args");var y=v("label","step-"+m._index);v("value",y),v("execute")}}a.exports=function(g,m){c(g,m,{name:f,handleItemDefaults:d})}},4504:function(a,s,o){var l=o(9898),c=o(4875),u=o(7901),f=o(1424),h=o(1828),d=h.strTranslate,p=o(3893),g=o(4467).arrayEditor,m=o(8292),v=o(8783),y=v.LINE_SPACING,_=v.FROM_TL,b=v.FROM_BR;function w(et){return m.autoMarginIdRoot+et._index}function T(et){return et._index}function M(et,U){var J=f.tester.selectAll("g."+m.labelGroupClass).data(U._visibleSteps);J.enter().append("g").classed(m.labelGroupClass,!0);var nt=0,ct=0;J.each(function(B){var H=A(l.select(this),{step:B},U).node();if(H){var $=f.bBox(H);ct=Math.max(ct,$.height),nt=Math.max(nt,$.width)}}),J.remove();var z=U._dims={};z.inputAreaWidth=Math.max(m.railWidth,m.gripHeight);var W=et._fullLayout._size;z.lx=W.l+W.w*U.x,z.ly=W.t+W.h*(1-U.y),U.lenmode==="fraction"?z.outerLength=Math.round(W.w*U.len):z.outerLength=U.len,z.inputAreaStart=0,z.inputAreaLength=Math.round(z.outerLength-U.pad.l-U.pad.r);var X=(z.inputAreaLength-2*m.stepInset)/(U._stepCount-1),it=nt+m.labelPadding;if(z.labelStride=Math.max(1,Math.ceil(it/X)),z.labelHeight=ct,z.currentValueMaxWidth=0,z.currentValueHeight=0,z.currentValueTotalHeight=0,z.currentValueMaxLines=1,U.currentvalue.visible){var lt=f.tester.append("g");J.each(function(B){var H=S(lt,U,B.label),$=H.node()&&f.bBox(H.node())||{width:0,height:0},Z=p.lineCount(H);z.currentValueMaxWidth=Math.max(z.currentValueMaxWidth,Math.ceil($.width)),z.currentValueHeight=Math.max(z.currentValueHeight,Math.ceil($.height)),z.currentValueMaxLines=Math.max(z.currentValueMaxLines,Z)}),z.currentValueTotalHeight=z.currentValueHeight+U.currentvalue.offset,lt.remove()}z.height=z.currentValueTotalHeight+m.tickOffset+U.ticklen+m.labelOffset+z.labelHeight+U.pad.t+U.pad.b;var pt="left";h.isRightAnchor(U)&&(z.lx-=z.outerLength,pt="right"),h.isCenterAnchor(U)&&(z.lx-=z.outerLength/2,pt="center");var rt="top";h.isBottomAnchor(U)&&(z.ly-=z.height,rt="bottom"),h.isMiddleAnchor(U)&&(z.ly-=z.height/2,rt="middle"),z.outerLength=Math.ceil(z.outerLength),z.height=Math.ceil(z.height),z.lx=Math.round(z.lx),z.ly=Math.round(z.ly);var V={y:U.y,b:z.height*b[rt],t:z.height*_[rt]};U.lenmode==="fraction"?(V.l=0,V.xl=U.x-U.len*_[pt],V.r=0,V.xr=U.x+U.len*b[pt]):(V.x=U.x,V.l=z.outerLength*_[pt],V.r=z.outerLength*b[pt]),c.autoMargin(et,w(U),V)}function S(et,U,J){if(U.currentvalue.visible){var nt,ct,z=U._dims;switch(U.currentvalue.xanchor){case"right":nt=z.inputAreaLength-m.currentValueInset-z.currentValueMaxWidth,ct="left";break;case"center":nt=.5*z.inputAreaLength,ct="middle";break;default:nt=m.currentValueInset,ct="left"}var W=h.ensureSingle(et,"text",m.labelClass,function(V){V.attr({"text-anchor":ct,"data-notex":1})}),X=U.currentvalue.prefix?U.currentvalue.prefix:"";if(typeof J=="string")X+=J;else{var it=U.steps[U.active].label,lt=U._gd._fullLayout._meta;lt&&(it=h.templateString(it,lt)),X+=it}U.currentvalue.suffix&&(X+=U.currentvalue.suffix),W.call(f.font,U.currentvalue.font).text(X).call(p.convertToTspans,U._gd);var pt=p.lineCount(W),rt=(z.currentValueMaxLines+1-pt)*U.currentvalue.font.size*y;return p.positionText(W,nt,rt),W}}function E(et,U,J){h.ensureSingle(et,"rect",m.gripRectClass,function(nt){nt.call(P,U,et,J).style("pointer-events","all")}).attr({width:m.gripWidth,height:m.gripHeight,rx:m.gripRadius,ry:m.gripRadius}).call(u.stroke,J.bordercolor).call(u.fill,J.bgcolor).style("stroke-width",J.borderwidth+"px")}function A(et,U,J){var nt=h.ensureSingle(et,"text",m.labelClass,function(W){W.attr({"text-anchor":"middle","data-notex":1})}),ct=U.step.label,z=J._gd._fullLayout._meta;return z&&(ct=h.templateString(ct,z)),nt.call(f.font,J.font).text(ct).call(p.convertToTspans,J._gd),nt}function O(et,U){var J=h.ensureSingle(et,"g",m.labelsClass),nt=U._dims,ct=J.selectAll("g."+m.labelGroupClass).data(nt.labelSteps);ct.enter().append("g").classed(m.labelGroupClass,!0),ct.exit().remove(),ct.each(function(z){var W=l.select(this);W.call(A,z,U),f.setTranslate(W,I(U,z.fraction),m.tickOffset+U.ticklen+U.font.size*y+m.labelOffset+nt.currentValueTotalHeight)})}function N(et,U,J,nt,ct){var z=Math.round(nt*(J._stepCount-1)),W=J._visibleSteps[z]._index;W!==J.active&&F(et,U,J,W,!0,ct)}function F(et,U,J,nt,ct,z){var W=J.active;J.active=nt,g(et.layout,m.name,J).applyUpdate("active",nt);var X=J.steps[J.active];U.call(k,J,z),U.call(S,J),et.emit("plotly_sliderchange",{slider:J,step:J.steps[J.active],interaction:ct,previousActive:W}),X&&X.method&&ct&&(U._nextMethod?(U._nextMethod.step=X,U._nextMethod.doCallback=ct,U._nextMethod.doTransition=z):(U._nextMethod={step:X,doCallback:ct,doTransition:z},U._nextMethodRaf=window.requestAnimationFrame(function(){var it=U._nextMethod.step;it.method&&(it.execute&&c.executeAPICommand(et,it.method,it.args),U._nextMethod=null,U._nextMethodRaf=null)})))}function P(et,U,J){if(!U._context.staticPlot){var nt=J.node(),ct=l.select(U);et.on("mousedown",W),et.on("touchstart",W)}function z(){return J.data()[0]}function W(){var X=z();U.emit("plotly_sliderstart",{slider:X});var it=J.select("."+m.gripRectClass);l.event.stopPropagation(),l.event.preventDefault(),it.call(u.fill,X.activebgcolor);var lt=j(X,l.mouse(nt)[0]);function pt(){var V=z(),B=j(V,l.mouse(nt)[0]);N(U,J,V,B,!1)}function rt(){var V=z();V._dragging=!1,it.call(u.fill,V.bgcolor),ct.on("mouseup",null),ct.on("mousemove",null),ct.on("touchend",null),ct.on("touchmove",null),U.emit("plotly_sliderend",{slider:V,step:V.steps[V.active]})}N(U,J,X,lt,!0),X._dragging=!0,ct.on("mousemove",pt),ct.on("touchmove",pt),ct.on("mouseup",rt),ct.on("touchend",rt)}}function R(et,U){var J=et.selectAll("rect."+m.tickRectClass).data(U._visibleSteps),nt=U._dims;J.enter().append("rect").classed(m.tickRectClass,!0),J.exit().remove(),J.attr({width:U.tickwidth+"px","shape-rendering":"crispEdges"}),J.each(function(ct,z){var W=z%nt.labelStride==0,X=l.select(this);X.attr({height:W?U.ticklen:U.minorticklen}).call(u.fill,U.tickcolor),f.setTranslate(X,I(U,z/(U._stepCount-1))-.5*U.tickwidth,(W?m.tickOffset:m.minorTickOffset)+nt.currentValueTotalHeight)})}function k(et,U,J){for(var nt=et.select("rect."+m.gripRectClass),ct=0,z=0;z<U._stepCount;z++)if(U._visibleSteps[z]._index===U.active){ct=z;break}var W=I(U,ct/(U._stepCount-1));if(!U._invokingCommand){var X=nt;J&&U.transition.duration>0&&(X=X.transition().duration(U.transition.duration).ease(U.transition.easing)),X.attr("transform",d(W-.5*m.gripWidth,U._dims.currentValueTotalHeight))}}function I(et,U){var J=et._dims;return J.inputAreaStart+m.stepInset+(J.inputAreaLength-2*m.stepInset)*Math.min(1,Math.max(0,U))}function j(et,U){var J=et._dims;return Math.min(1,Math.max(0,(U-m.stepInset-J.inputAreaStart)/(J.inputAreaLength-2*m.stepInset-2*J.inputAreaStart)))}function G(et,U,J){var nt=J._dims,ct=h.ensureSingle(et,"rect",m.railTouchRectClass,function(z){z.call(P,U,et,J).style("pointer-events","all")});ct.attr({width:nt.inputAreaLength,height:Math.max(nt.inputAreaWidth,m.tickOffset+J.ticklen+nt.labelHeight)}).call(u.fill,J.bgcolor).attr("opacity",0),f.setTranslate(ct,0,nt.currentValueTotalHeight)}function q(et,U){var J=U._dims,nt=J.inputAreaLength-2*m.railInset,ct=h.ensureSingle(et,"rect",m.railRectClass);ct.attr({width:nt,height:m.railWidth,rx:m.railRadius,ry:m.railRadius,"shape-rendering":"crispEdges"}).call(u.stroke,U.bordercolor).call(u.fill,U.bgcolor).style("stroke-width",U.borderwidth+"px"),f.setTranslate(ct,m.railInset,.5*(J.inputAreaWidth-m.railWidth)+J.currentValueTotalHeight)}a.exports=function(et){var U=et._context.staticPlot,J=et._fullLayout,nt=function(lt,pt){for(var rt=lt[m.name],V=[],B=0;B<rt.length;B++){var H=rt[B];H.visible&&(H._gd=pt,V.push(H))}return V}(J,et),ct=J._infolayer.selectAll("g."+m.containerClassName).data(nt.length>0?[0]:[]);function z(lt){lt._commandObserver&&(lt._commandObserver.remove(),delete lt._commandObserver),c.autoMargin(et,w(lt))}if(ct.enter().append("g").classed(m.containerClassName,!0).style("cursor",U?null:"ew-resize"),ct.exit().each(function(){l.select(this).selectAll("g."+m.groupClassName).each(z)}).remove(),nt.length!==0){var W=ct.selectAll("g."+m.groupClassName).data(nt,T);W.enter().append("g").classed(m.groupClassName,!0),W.exit().each(z).remove();for(var X=0;X<nt.length;X++){var it=nt[X];M(et,it)}W.each(function(lt){var pt=l.select(this);(function(rt){var V=rt._dims;V.labelSteps=[];for(var B=rt._stepCount,H=0;H<B;H+=V.labelStride)V.labelSteps.push({fraction:H/(B-1),step:rt._visibleSteps[H]})})(lt),c.manageCommandObserver(et,lt,lt._visibleSteps,function(rt){var V=pt.data()[0];V.active!==rt.index&&(V._dragging||F(et,pt,V,rt.index,!1,!0))}),function(rt,V,B){(B.steps[B.active]||{}).visible||(B.active=B._visibleSteps[0]._index),V.call(S,B).call(q,B).call(O,B).call(R,B).call(G,rt,B).call(E,rt,B);var H=B._dims;f.setTranslate(V,H.lx+B.pad.l,H.ly+B.pad.t),V.call(k,B,!1),V.call(S,B)}(et,l.select(this),lt)})}}},3243:function(a,s,o){var l=o(8292);a.exports={moduleType:"component",name:l.name,layoutAttributes:o(5067),supplyLayoutDefaults:o(2343),draw:o(4504)}},2998:function(a,s,o){var l=o(9898),c=o(2770),u=o(4875),f=o(3972),h=o(1828),d=h.strTranslate,p=o(1424),g=o(7901),m=o(3893),v=o(7822),y=o(8783).OPPOSITE_SIDE,_=/ [XY][0-9]* /;a.exports={draw:function(b,w,T){var M,S=T.propContainer,E=T.propName,A=T.placeholder,O=T.traceIndex,N=T.avoid||{},F=T.attributes,P=T.transform,R=T.containerGroup,k=b._fullLayout,I=1,j=!1,G=S.title,q=(G&&G.text?G.text:"").trim(),et=G&&G.font?G.font:{},U=et.family,J=et.size,nt=et.color;E==="title.text"?M="titleText":E.indexOf("axis")!==-1?M="axisTitleText":E.indexOf(!0)&&(M="colorbarTitleText");var ct=b._context.edits[M];q===""?I=0:q.replace(_," % ")===A.replace(_," % ")&&(I=.2,j=!0,ct||(q="")),T._meta?q=h.templateString(q,T._meta):k._meta&&(q=h.templateString(q,k._meta));var z,W=q||ct;R||(R=h.ensureSingle(k._infolayer,"g","g-"+w),z=k._hColorbarMoveTitle);var X=R.selectAll("text").data(W?[0]:[]);if(X.enter().append("text"),X.text(q).attr("class",w),X.exit().remove(),!W)return R;function it(rt){h.syncOrAsync([lt,pt],rt)}function lt(rt){var V;return!P&&z&&(P={}),P?(V="",P.rotate&&(V+="rotate("+[P.rotate,F.x,F.y]+")"),(P.offset||z)&&(V+=d(0,(P.offset||0)-(z||0)))):V=null,rt.attr("transform",V),rt.style({"font-family":U,"font-size":l.round(J,2)+"px",fill:g.rgb(nt),opacity:I*g.opacity(nt),"font-weight":u.fontWeight}).attr(F).call(m.convertToTspans,b),u.previousPromises(b)}function pt(rt){var V=l.select(rt.node().parentNode);if(N&&N.selection&&N.side&&q){V.attr("transform",null);var B=y[N.side],H=N.side==="left"||N.side==="top"?-1:1,$=c(N.pad)?N.pad:2,Z=p.bBox(V.node()),Q={t:0,b:0,l:0,r:0},ot=b._fullLayout._reservedMargin;for(var st in ot)for(var dt in ot[st]){var bt=ot[st][dt];Q[dt]=Math.max(Q[dt],bt)}var Pt={left:Q.l,top:Q.t,right:k.width-Q.r,bottom:k.height-Q.b},It=N.maxShift||H*(Pt[N.side]-Z[N.side]),Dt=0;if(It<0)Dt=It;else{var gt=N.offsetLeft||0,_t=N.offsetTop||0;Z.left-=gt,Z.right-=gt,Z.top-=_t,Z.bottom-=_t,N.selection.each(function(){var Et=p.bBox(this);h.bBoxIntersect(Z,Et,$)&&(Dt=Math.max(Dt,H*(Et[N.side]-Z[B])+$))}),Dt=Math.min(It,Dt),S._titleScoot=Math.abs(Dt)}if(Dt>0||It<0){var wt={left:[-Dt,0],right:[Dt,0],top:[0,-Dt],bottom:[0,Dt]}[N.side];V.attr("transform",d(wt[0],wt[1]))}}}return X.call(it),ct&&(q?X.on(".opacity",null):(I=0,j=!0,X.text(A).on("mouseover.opacity",function(){l.select(this).transition().duration(v.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){l.select(this).transition().duration(v.HIDE_PLACEHOLDER).style("opacity",0)})),X.call(m.makeEditable,{gd:b}).on("edit",function(rt){O!==void 0?f.call("_guiRestyle",b,E,rt,O):f.call("_guiRelayout",b,E,rt)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(it)}).on("input",function(rt){this.text(rt||" ").call(m.positionText,F.x,F.y)})),X.classed("js-placeholder",j),R}}},7163:function(a,s,o){var l=o(1940),c=o(2399),u=o(1426).extendFlat,f=o(962).overrideAll,h=o(5025),d=o(4467).templatedArray,p=d("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});a.exports=f(d("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:p,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:u(h({editType:"arraydraw"}),{}),font:l({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:c.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},5909:function(a){a.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},4897:function(a,s,o){var l=o(1828),c=o(5501),u=o(7163),f=o(5909).name,h=u.buttons;function d(g,m,v){function y(_,b){return l.coerce(g,m,u,_,b)}y("visible",c(g,m,{name:"buttons",handleItemDefaults:p}).length>0)&&(y("active"),y("direction"),y("type"),y("showactive"),y("x"),y("y"),l.noneOrAll(g,m,["x","y"]),y("xanchor"),y("yanchor"),y("pad.t"),y("pad.r"),y("pad.b"),y("pad.l"),l.coerceFont(y,"font",v.font),y("bgcolor",v.paper_bgcolor),y("bordercolor"),y("borderwidth"))}function p(g,m){function v(y,_){return l.coerce(g,m,h,y,_)}v("visible",g.method==="skip"||Array.isArray(g.args))&&(v("method"),v("args"),v("args2"),v("label"),v("execute"))}a.exports=function(g,m){c(g,m,{name:f,handleItemDefaults:d})}},3689:function(a,s,o){var l=o(9898),c=o(4875),u=o(7901),f=o(1424),h=o(1828),d=o(3893),p=o(4467).arrayEditor,g=o(8783).LINE_SPACING,m=o(5909),v=o(5849);function y(I){return I._index}function _(I,j){return+I.attr(m.menuIndexAttrName)===j._index}function b(I,j,G,q,et,U,J,nt){j.active=J,p(I.layout,m.name,j).applyUpdate("active",J),j.type==="buttons"?T(I,q,null,null,j):j.type==="dropdown"&&(et.attr(m.menuIndexAttrName,"-1"),w(I,q,et,U,j),nt||T(I,q,et,U,j))}function w(I,j,G,q,et){var U=h.ensureSingle(j,"g",m.headerClassName,function(X){X.style("pointer-events","all")}),J=et._dims,nt=et.active,ct=et.buttons[nt]||m.blankHeaderOpts,z={y:et.pad.t,yPad:0,x:et.pad.l,xPad:0,index:0},W={width:J.headerWidth,height:J.headerHeight};U.call(M,et,ct,I).call(R,et,z,W),h.ensureSingle(j,"text",m.headerArrowClassName,function(X){X.attr("text-anchor","end").call(f.font,et.font).text(m.arrowSymbol[et.direction])}).attr({x:J.headerWidth-m.arrowOffsetX+et.pad.l,y:J.headerHeight/2+m.textOffsetY+et.pad.t}),U.on("click",function(){G.call(k,String(_(G,et)?-1:et._index)),T(I,j,G,q,et)}),U.on("mouseover",function(){U.call(O)}),U.on("mouseout",function(){U.call(N,et)}),f.setTranslate(j,J.lx,J.ly)}function T(I,j,G,q,et){G||(G=j).attr("pointer-events","all");var U=function(V){return+V.attr(m.menuIndexAttrName)==-1}(G)&&et.type!=="buttons"?[]:et.buttons,J=et.type==="dropdown"?m.dropdownButtonClassName:m.buttonClassName,nt=G.selectAll("g."+J).data(h.filterVisible(U)),ct=nt.enter().append("g").classed(J,!0),z=nt.exit();et.type==="dropdown"?(ct.attr("opacity","0").transition().attr("opacity","1"),z.transition().attr("opacity","0").remove()):z.remove();var W=0,X=0,it=et._dims,lt=["up","down"].indexOf(et.direction)!==-1;et.type==="dropdown"&&(lt?X=it.headerHeight+m.gapButtonHeader:W=it.headerWidth+m.gapButtonHeader),et.type==="dropdown"&&et.direction==="up"&&(X=-m.gapButtonHeader+m.gapButton-it.openHeight),et.type==="dropdown"&&et.direction==="left"&&(W=-m.gapButtonHeader+m.gapButton-it.openWidth);var pt={x:it.lx+W+et.pad.l,y:it.ly+X+et.pad.t,yPad:m.gapButton,xPad:m.gapButton,index:0},rt={l:pt.x+et.borderwidth,t:pt.y+et.borderwidth};nt.each(function(V,B){var H=l.select(this);H.call(M,et,V,I).call(R,et,pt),H.on("click",function(){l.event.defaultPrevented||(V.execute&&(V.args2&&et.active===B?(b(I,et,0,j,G,q,-1),c.executeAPICommand(I,V.method,V.args2)):(b(I,et,0,j,G,q,B),c.executeAPICommand(I,V.method,V.args))),I.emit("plotly_buttonclicked",{menu:et,button:V,active:et.active}))}),H.on("mouseover",function(){H.call(O)}),H.on("mouseout",function(){H.call(N,et),nt.call(A,et)})}),nt.call(A,et),lt?(rt.w=Math.max(it.openWidth,it.headerWidth),rt.h=pt.y-rt.t):(rt.w=pt.x-rt.l,rt.h=Math.max(it.openHeight,it.headerHeight)),rt.direction=et.direction,q&&(nt.size()?function(V,B,H,$,Z,Q){var ot,st,dt,bt=Z.direction,Pt=bt==="up"||bt==="down",It=Z._dims,Dt=Z.active;if(Pt)for(st=0,dt=0;dt<Dt;dt++)st+=It.heights[dt]+m.gapButton;else for(ot=0,dt=0;dt<Dt;dt++)ot+=It.widths[dt]+m.gapButton;$.enable(Q,ot,st),$.hbar&&$.hbar.attr("opacity","0").transition().attr("opacity","1"),$.vbar&&$.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,q,et,rt):function(V){var B=!!V.hbar,H=!!V.vbar;B&&V.hbar.transition().attr("opacity","0").each("end",function(){B=!1,H||V.disable()}),H&&V.vbar.transition().attr("opacity","0").each("end",function(){H=!1,B||V.disable()})}(q))}function M(I,j,G,q){I.call(S,j).call(E,j,G,q)}function S(I,j){h.ensureSingle(I,"rect",m.itemRectClassName,function(G){G.attr({rx:m.rx,ry:m.ry,"shape-rendering":"crispEdges"})}).call(u.stroke,j.bordercolor).call(u.fill,j.bgcolor).style("stroke-width",j.borderwidth+"px")}function E(I,j,G,q){var et=h.ensureSingle(I,"text",m.itemTextClassName,function(nt){nt.attr({"text-anchor":"start","data-notex":1})}),U=G.label,J=q._fullLayout._meta;J&&(U=h.templateString(U,J)),et.call(f.font,j.font).text(U).call(d.convertToTspans,q)}function A(I,j){var G=j.active;I.each(function(q,et){var U=l.select(this);et===G&&j.showactive&&U.select("rect."+m.itemRectClassName).call(u.fill,m.activeColor)})}function O(I){I.select("rect."+m.itemRectClassName).call(u.fill,m.hoverColor)}function N(I,j){I.select("rect."+m.itemRectClassName).call(u.fill,j.bgcolor)}function F(I,j){var G=j._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},q=f.tester.selectAll("g."+m.dropdownButtonClassName).data(h.filterVisible(j.buttons));q.enter().append("g").classed(m.dropdownButtonClassName,!0);var et=["up","down"].indexOf(j.direction)!==-1;q.each(function(W,X){var it=l.select(this);it.call(M,j,W,I);var lt=it.select("."+m.itemTextClassName),pt=lt.node()&&f.bBox(lt.node()).width,rt=Math.max(pt+m.textPadX,m.minWidth),V=j.font.size*g,B=d.lineCount(lt),H=Math.max(V*B,m.minHeight)+m.textOffsetY;H=Math.ceil(H),rt=Math.ceil(rt),G.widths[X]=rt,G.heights[X]=H,G.height1=Math.max(G.height1,H),G.width1=Math.max(G.width1,rt),et?(G.totalWidth=Math.max(G.totalWidth,rt),G.openWidth=G.totalWidth,G.totalHeight+=H+m.gapButton,G.openHeight+=H+m.gapButton):(G.totalWidth+=rt+m.gapButton,G.openWidth+=rt+m.gapButton,G.totalHeight=Math.max(G.totalHeight,H),G.openHeight=G.totalHeight)}),et?G.totalHeight-=m.gapButton:G.totalWidth-=m.gapButton,G.headerWidth=G.width1+m.arrowPadX,G.headerHeight=G.height1,j.type==="dropdown"&&(et?(G.width1+=m.arrowPadX,G.totalHeight=G.height1):G.totalWidth=G.width1,G.totalWidth+=m.arrowPadX),q.remove();var U=G.totalWidth+j.pad.l+j.pad.r,J=G.totalHeight+j.pad.t+j.pad.b,nt=I._fullLayout._size;G.lx=nt.l+nt.w*j.x,G.ly=nt.t+nt.h*(1-j.y);var ct="left";h.isRightAnchor(j)&&(G.lx-=U,ct="right"),h.isCenterAnchor(j)&&(G.lx-=U/2,ct="center");var z="top";h.isBottomAnchor(j)&&(G.ly-=J,z="bottom"),h.isMiddleAnchor(j)&&(G.ly-=J/2,z="middle"),G.totalWidth=Math.ceil(G.totalWidth),G.totalHeight=Math.ceil(G.totalHeight),G.lx=Math.round(G.lx),G.ly=Math.round(G.ly),c.autoMargin(I,P(j),{x:j.x,y:j.y,l:U*({right:1,center:.5}[ct]||0),r:U*({left:1,center:.5}[ct]||0),b:J*({top:1,middle:.5}[z]||0),t:J*({bottom:1,middle:.5}[z]||0)})}function P(I){return m.autoMarginIdRoot+I._index}function R(I,j,G,q){q=q||{};var et=I.select("."+m.itemRectClassName),U=I.select("."+m.itemTextClassName),J=j.borderwidth,nt=G.index,ct=j._dims;f.setTranslate(I,J+G.x,J+G.y);var z=["up","down"].indexOf(j.direction)!==-1,W=q.height||(z?ct.heights[nt]:ct.height1);et.attr({x:0,y:0,width:q.width||(z?ct.width1:ct.widths[nt]),height:W});var X=j.font.size*g,it=(d.lineCount(U)-1)*X/2;d.positionText(U,m.textOffsetX,W/2-it+m.textOffsetY),z?G.y+=ct.heights[nt]+G.yPad:G.x+=ct.widths[nt]+G.xPad,G.index++}function k(I,j){I.attr(m.menuIndexAttrName,j||"-1").selectAll("g."+m.dropdownButtonClassName).remove()}a.exports=function(I){var j=I._fullLayout,G=h.filterVisible(j[m.name]);function q(X){c.autoMargin(I,P(X))}var et=j._menulayer.selectAll("g."+m.containerClassName).data(G.length>0?[0]:[]);if(et.enter().append("g").classed(m.containerClassName,!0).style("cursor","pointer"),et.exit().each(function(){l.select(this).selectAll("g."+m.headerGroupClassName).each(q)}).remove(),G.length!==0){var U=et.selectAll("g."+m.headerGroupClassName).data(G,y);U.enter().append("g").classed(m.headerGroupClassName,!0);for(var J=h.ensureSingle(et,"g",m.dropdownButtonGroupClassName,function(X){X.style("pointer-events","all")}),nt=0;nt<G.length;nt++){var ct=G[nt];F(I,ct)}var z="updatemenus"+j._uid,W=new v(I,J,z);U.enter().size()&&(J.node().parentNode.appendChild(J.node()),J.call(k)),U.exit().each(function(X){J.call(k),q(X)}).remove(),U.each(function(X){var it=l.select(this),lt=X.type==="dropdown"?J:null;c.manageCommandObserver(I,X,X.buttons,function(pt){b(I,X,X.buttons[pt.index],it,lt,W,pt.index,!0)}),X.type==="dropdown"?(w(I,it,J,W,X),_(J,X)&&T(I,it,J,W,X)):T(I,it,null,null,X)})}}},763:function(a,s,o){var l=o(5909);a.exports={moduleType:"component",name:l.name,layoutAttributes:o(7163),supplyLayoutDefaults:o(4897),draw:o(3689)}},5849:function(a,s,o){a.exports=h;var l=o(9898),c=o(7901),u=o(1424),f=o(1828);function h(d,p,g){this.gd=d,this.container=p,this.id=g,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}h.barWidth=2,h.barLength=20,h.barRadius=2,h.barPad=1,h.barColor="#808BA4",h.prototype.enable=function(d,p,g){var m=this.gd._fullLayout,v=m.width,y=m.height;this.position=d;var _,b,w,T,M=this.position.l,S=this.position.w,E=this.position.t,A=this.position.h,O=this.position.direction,N=O==="down",F=O==="left",P=O==="up",R=S,k=A;N||F||O==="right"||P||(this.position.direction="down",N=!0),N||P?(b=(_=M)+R,N?(w=E,k=(T=Math.min(w+k,y))-w):k=(T=E+k)-(w=Math.max(T-k,0))):(T=(w=E)+k,F?R=(b=M+R)-(_=Math.max(b-R,0)):(_=M,R=(b=Math.min(_+R,v))-_)),this._box={l:_,t:w,w:R,h:k};var I=S>R,j=h.barLength+2*h.barPad,G=h.barWidth+2*h.barPad,q=M,et=E+A;et+G>y&&(et=y-G);var U=this.container.selectAll("rect.scrollbar-horizontal").data(I?[0]:[]);U.exit().on(".drag",null).remove(),U.enter().append("rect").classed("scrollbar-horizontal",!0).call(c.fill,h.barColor),I?(this.hbar=U.attr({rx:h.barRadius,ry:h.barRadius,x:q,y:et,width:j,height:G}),this._hbarXMin=q+j/2,this._hbarTranslateMax=R-j):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var J=A>k,nt=h.barWidth+2*h.barPad,ct=h.barLength+2*h.barPad,z=M+S,W=E;z+nt>v&&(z=v-nt);var X=this.container.selectAll("rect.scrollbar-vertical").data(J?[0]:[]);X.exit().on(".drag",null).remove(),X.enter().append("rect").classed("scrollbar-vertical",!0).call(c.fill,h.barColor),J?(this.vbar=X.attr({rx:h.barRadius,ry:h.barRadius,x:z,y:W,width:nt,height:ct}),this._vbarYMin=W+ct/2,this._vbarTranslateMax=k-ct):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var it=this.id,lt=_-.5,pt=J?b+nt+.5:b+.5,rt=w-.5,V=I?T+G+.5:T+.5,B=m._topdefs.selectAll("#"+it).data(I||J?[0]:[]);if(B.exit().remove(),B.enter().append("clipPath").attr("id",it).append("rect"),I||J?(this._clipRect=B.select("rect").attr({x:Math.floor(lt),y:Math.floor(rt),width:Math.ceil(pt)-Math.floor(lt),height:Math.ceil(V)-Math.floor(rt)}),this.container.call(u.setClipUrl,it,this.gd),this.bg.attr({x:M,y:E,width:S,height:A})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(u.setClipUrl,null),delete this._clipRect),I||J){var H=l.behavior.drag().on("dragstart",function(){l.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(H);var $=l.behavior.drag().on("dragstart",function(){l.event.sourceEvent.preventDefault(),l.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));I&&this.hbar.on(".drag",null).call($),J&&this.vbar.on(".drag",null).call($)}this.setTranslate(p,g)},h.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(u.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},h.prototype._onBoxDrag=function(){var d=this.translateX,p=this.translateY;this.hbar&&(d-=l.event.dx),this.vbar&&(p-=l.event.dy),this.setTranslate(d,p)},h.prototype._onBoxWheel=function(){var d=this.translateX,p=this.translateY;this.hbar&&(d+=l.event.deltaY),this.vbar&&(p+=l.event.deltaY),this.setTranslate(d,p)},h.prototype._onBarDrag=function(){var d=this.translateX,p=this.translateY;if(this.hbar){var g=d+this._hbarXMin,m=g+this._hbarTranslateMax;d=(f.constrain(l.event.x,g,m)-g)/(m-g)*(this.position.w-this._box.w)}if(this.vbar){var v=p+this._vbarYMin,y=v+this._vbarTranslateMax;p=(f.constrain(l.event.y,v,y)-v)/(y-v)*(this.position.h-this._box.h)}this.setTranslate(d,p)},h.prototype.setTranslate=function(d,p){var g=this.position.w-this._box.w,m=this.position.h-this._box.h;if(d=f.constrain(d||0,0,g),p=f.constrain(p||0,0,m),this.translateX=d,this.translateY=p,this.container.call(u.setTranslate,this._box.l-this.position.l-d,this._box.t-this.position.t-p),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+d-.5),y:Math.floor(this.position.t+p-.5)}),this.hbar){var v=d/g;this.hbar.call(u.setTranslate,d+v*this._hbarTranslateMax,p)}if(this.vbar){var y=p/m;this.vbar.call(u.setTranslate,d,p+y*this._vbarTranslateMax)}}},8783:function(a){a.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},4695:function(a){a.exports={axisRefDescription:function(s,o,l){return["If set to a",s,"axis id (e.g. *"+s+"* or","*"+s+"2*), the `"+s+"` position refers to a",s,"coordinate. If set to *paper*, the `"+s+"`","position refers to the distance from the",o,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",o,"("+l+"). If set to a",s,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",o,"of the domain of that axis: e.g.,","*"+s+"2 domain* refers to the domain of the second",s," axis and a",s,"position of 0.5 refers to the","point between the",o,"and the",l,"of the domain of the","second",s,"axis."].join(" ")}}},1562:function(a){a.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},4808:function(a){a.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},7822:function(a){a.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},606:function(a){a.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},7922:function(a,s){s.xmlns="http://www.w3.org/2000/xmlns/",s.svg="http://www.w3.org/2000/svg",s.xlink="http://www.w3.org/1999/xlink",s.svgAttrs={xmlns:s.svg,"xmlns:xlink":s.xlink}},8729:function(a,s,o){s.version=o(1506).version,o(7417),o(8847);for(var l=o(3972),c=s.register=l.register,u=o(641),f=Object.keys(u),h=0;h<f.length;h++){var d=f[h];d.charAt(0)!=="_"&&(s[d]=u[d]),c({moduleType:"apiMethod",name:d,fn:u[d]})}c(o(7368)),c([o(2745),o(2468),o(7322),o(9853),o(8804),o(763),o(3243),o(3137),o(7218),o(3312),o(7369),o(1081),o(2311),o(2199),o(211),o(4168)]),c([o(2177),o(7815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(c(window.PlotlyLocales),delete window.PlotlyLocales),s.Icons=o(4255);var p=o(211),g=o(4875);s.Plots={resize:g.resize,graphJson:g.graphJson,sendDataToCloud:g.sendDataToCloud},s.Fx={hover:p.hover,unhover:p.unhover,loneHover:p.loneHover,loneUnhover:p.loneUnhover},s.Snapshot=o(4511),s.PlotSchema=o(6281)},4255:function(a){a.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},9863:function(a,s){s.isLeftAnchor=function(o){return o.xanchor==="left"||o.xanchor==="auto"&&o.x<=.3333333333333333},s.isCenterAnchor=function(o){return o.xanchor==="center"||o.xanchor==="auto"&&o.x>.3333333333333333&&o.x<.6666666666666666},s.isRightAnchor=function(o){return o.xanchor==="right"||o.xanchor==="auto"&&o.x>=.6666666666666666},s.isTopAnchor=function(o){return o.yanchor==="top"||o.yanchor==="auto"&&o.y>=.6666666666666666},s.isMiddleAnchor=function(o){return o.yanchor==="middle"||o.yanchor==="auto"&&o.y>.3333333333333333&&o.y<.6666666666666666},s.isBottomAnchor=function(o){return o.yanchor==="bottom"||o.yanchor==="auto"&&o.y<=.3333333333333333}},6348:function(a,s,o){var l=o(4872),c=l.mod,u=l.modHalf,f=Math.PI,h=2*f;function d(v){return Math.abs(v[1]-v[0])>h-1e-14}function p(v,y){return u(y-v,h)}function g(v,y){if(d(y))return!0;var _,b;y[0]<y[1]?(_=y[0],b=y[1]):(_=y[1],b=y[0]),(_=c(_,h))>(b=c(b,h))&&(b+=h);var w=c(v,h),T=w+h;return w>=_&&w<=b||T>=_&&T<=b}function m(v,y,_,b,w,T,M){w=w||0,T=T||0;var S,E,A,O,N,F=d([_,b]);function P(j,G){return[j*Math.cos(G)+w,T-j*Math.sin(G)]}F?(S=0,E=f,A=h):_<b?(S=_,A=b):(S=b,A=_),v<y?(O=v,N=y):(O=y,N=v);var R,k=Math.abs(A-S)<=f?0:1;function I(j,G,q){return"A"+[j,j]+" "+[0,k,q]+" "+P(j,G)}return F?R=O===null?"M"+P(N,S)+I(N,E,0)+I(N,A,0)+"Z":"M"+P(O,S)+I(O,E,0)+I(O,A,0)+"ZM"+P(N,S)+I(N,E,1)+I(N,A,1)+"Z":O===null?(R="M"+P(N,S)+I(N,A,0),M&&(R+="L0,0Z")):R="M"+P(O,S)+"L"+P(N,S)+I(N,A,0)+"L"+P(O,A)+I(O,S,1)+"Z",R}a.exports={deg2rad:function(v){return v/180*f},rad2deg:function(v){return v/f*180},angleDelta:p,angleDist:function(v,y){return Math.abs(p(v,y))},isFullCircle:d,isAngleInsideSector:g,isPtInsideSector:function(v,y,_,b){return!!g(y,b)&&(_[0]<_[1]?(w=_[0],T=_[1]):(w=_[1],T=_[0]),v>=w&&v<=T);var w,T},pathArc:function(v,y,_,b,w){return m(null,v,y,_,b,w,0)},pathSector:function(v,y,_,b,w){return m(null,v,y,_,b,w,1)},pathAnnulus:function(v,y,_,b,w,T){return m(v,y,_,b,w,T,1)}}},3627:function(a,s){var o=Array.isArray,l=ArrayBuffer,c=DataView;function u(d){return l.isView(d)&&!(d instanceof c)}function f(d){return o(d)||u(d)}function h(d,p,g){if(f(d)){if(f(d[0])){for(var m=g,v=0;v<d.length;v++)m=p(m,d[v].length);return m}return d.length}return 0}s.isTypedArray=u,s.isArrayOrTypedArray=f,s.isArray1D=function(d){return!f(d[0])},s.ensureArray=function(d,p){return o(d)||(d=[]),d.length=p,d},s.concat=function(){var d,p,g,m,v,y,_,b,w=[],T=!0,M=0;for(g=0;g<arguments.length;g++)(y=(m=arguments[g]).length)&&(p?w.push(m):(p=m,v=y),o(m)?d=!1:(T=!1,M?d!==m.constructor&&(d=!1):d=m.constructor),M+=y);if(!M)return[];if(!w.length)return p;if(T)return p.concat.apply(p,w);if(d){for((_=new d(M)).set(p),g=0;g<w.length;g++)m=w[g],_.set(m,v),v+=m.length;return _}for(_=new Array(M),b=0;b<p.length;b++)_[b]=p[b];for(g=0;g<w.length;g++){for(m=w[g],b=0;b<m.length;b++)_[v+b]=m[b];v+=b}return _},s.maxRowLength=function(d){return h(d,Math.max,0)},s.minRowLength=function(d){return h(d,Math.min,1/0)}},5218:function(a,s,o){var l=o(2770),c=o(606).BADNUM,u=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;a.exports=function(f){return typeof f=="string"&&(f=f.replace(u,"")),l(f)?Number(f):c}},3306:function(a){a.exports=function(s){var o=s._fullLayout;o._glcanvas&&o._glcanvas.size()&&o._glcanvas.each(function(l){l.regl&&l.regl.clear({color:!0,depth:!0})})}},6367:function(a){a.exports=function(s){s._responsiveChartHandler&&(window.removeEventListener("resize",s._responsiveChartHandler),delete s._responsiveChartHandler)}},6554:function(a,s,o){var l=o(2770),c=o(4267),u=o(9012),f=o(3282),h=o(7901),d=o(7822).DESELECTDIM,p=o(5487),g=o(587).counter,m=o(4872).modHalf,v=o(3627).isArrayOrTypedArray;function y(_,b){var w=s.valObjectMeta[b.valType];if(b.arrayOk&&v(_))return!0;if(w.validateFunction)return w.validateFunction(_,b);var T={},M=T,S={set:function(E){M=E}};return w.coerceFunction(_,S,T,b),M!==T}s.valObjectMeta={data_array:{coerceFunction:function(_,b,w){v(_)?b.set(_):w!==void 0&&b.set(w)}},enumerated:{coerceFunction:function(_,b,w,T){T.coerceNumber&&(_=+_),T.values.indexOf(_)===-1?b.set(w):b.set(_)},validateFunction:function(_,b){b.coerceNumber&&(_=+_);for(var w=b.values,T=0;T<w.length;T++){var M=String(w[T]);if(M.charAt(0)==="/"&&M.charAt(M.length-1)==="/"){if(new RegExp(M.substr(1,M.length-2)).test(_))return!0}else if(_===w[T])return!0}return!1}},boolean:{coerceFunction:function(_,b,w){_===!0||_===!1?b.set(_):b.set(w)}},number:{coerceFunction:function(_,b,w,T){!l(_)||T.min!==void 0&&_<T.min||T.max!==void 0&&_>T.max?b.set(w):b.set(+_)}},integer:{coerceFunction:function(_,b,w,T){_%1||!l(_)||T.min!==void 0&&_<T.min||T.max!==void 0&&_>T.max?b.set(w):b.set(+_)}},string:{coerceFunction:function(_,b,w,T){if(typeof _!="string"){var M=typeof _=="number";T.strict!==!0&&M?b.set(String(_)):b.set(w)}else T.noBlank&&!_?b.set(w):b.set(_)}},color:{coerceFunction:function(_,b,w){c(_).isValid()?b.set(_):b.set(w)}},colorlist:{coerceFunction:function(_,b,w){Array.isArray(_)&&_.length&&_.every(function(T){return c(T).isValid()})?b.set(_):b.set(w)}},colorscale:{coerceFunction:function(_,b,w){b.set(f.get(_,w))}},angle:{coerceFunction:function(_,b,w){_==="auto"?b.set("auto"):l(_)?b.set(m(+_,360)):b.set(w)}},subplotid:{coerceFunction:function(_,b,w,T){var M=T.regex||g(w);typeof _=="string"&&M.test(_)?b.set(_):b.set(w)},validateFunction:function(_,b){var w=b.dflt;return _===w||typeof _=="string"&&!!g(w).test(_)}},flaglist:{coerceFunction:function(_,b,w,T){if((T.extras||[]).indexOf(_)===-1)if(typeof _=="string"){for(var M=_.split("+"),S=0;S<M.length;){var E=M[S];T.flags.indexOf(E)===-1||M.indexOf(E)<S?M.splice(S,1):S++}M.length?b.set(M.join("+")):b.set(w)}else b.set(w);else b.set(_)}},any:{coerceFunction:function(_,b,w){_===void 0?b.set(w):b.set(_)}},info_array:{coerceFunction:function(_,b,w,T){function M(et,U,J){var nt,ct={set:function(z){nt=z}};return J===void 0&&(J=U.dflt),s.valObjectMeta[U.valType].coerceFunction(et,ct,J,U),nt}var S=T.dimensions===2||T.dimensions==="1-2"&&Array.isArray(_)&&Array.isArray(_[0]);if(Array.isArray(_)){var E,A,O,N,F,P,R=T.items,k=[],I=Array.isArray(R),j=I&&S&&Array.isArray(R[0]),G=S&&I&&!j,q=I&&!G?R.length:_.length;if(w=Array.isArray(w)?w:[],S)for(E=0;E<q;E++)for(k[E]=[],O=Array.isArray(_[E])?_[E]:[],F=G?R.length:I?R[E].length:O.length,A=0;A<F;A++)N=G?R[A]:I?R[E][A]:R,(P=M(O[A],N,(w[E]||[])[A]))!==void 0&&(k[E][A]=P);else for(E=0;E<q;E++)(P=M(_[E],I?R[E]:R,w[E]))!==void 0&&(k[E]=P);b.set(k)}else b.set(w)},validateFunction:function(_,b){if(!Array.isArray(_))return!1;var w=b.items,T=Array.isArray(w),M=b.dimensions===2;if(!b.freeLength&&_.length!==w.length)return!1;for(var S=0;S<_.length;S++)if(M){if(!Array.isArray(_[S])||!b.freeLength&&_[S].length!==w[S].length)return!1;for(var E=0;E<_[S].length;E++)if(!y(_[S][E],T?w[S][E]:w))return!1}else if(!y(_[S],T?w[S]:w))return!1;return!0}}},s.coerce=function(_,b,w,T,M){var S=p(w,T).get(),E=p(_,T),A=p(b,T),O=E.get(),N=b._template;if(O===void 0&&N&&(O=p(N,T).get(),N=0),M===void 0&&(M=S.dflt),S.arrayOk&&v(O))return A.set(O),O;var F=s.valObjectMeta[S.valType].coerceFunction;F(O,A,M,S);var P=A.get();return N&&P===M&&!y(O,S)&&(F(O=p(N,T).get(),A,M,S),P=A.get()),P},s.coerce2=function(_,b,w,T,M){var S=p(_,T),E=s.coerce(_,b,w,T,M);return S.get()!=null&&E},s.coerceFont=function(_,b,w){var T={};return w=w||{},T.family=_(b+".family",w.family),T.size=_(b+".size",w.size),T.color=_(b+".color",w.color),T},s.coercePattern=function(_,b,w,T){if(_(b+".shape")){_(b+".solidity"),_(b+".size");var M=_(b+".fillmode")==="overlay";if(!T){var S=_(b+".bgcolor",M?w:void 0);_(b+".fgcolor",M?h.contrast(S):w)}_(b+".fgopacity",M?.5:1)}},s.coerceHoverinfo=function(_,b,w){var T,M=b._module.attributes,S=M.hoverinfo?M:u,E=S.hoverinfo;if(w._dataLength===1){var A=E.dflt==="all"?E.flags.slice():E.dflt.split("+");A.splice(A.indexOf("name"),1),T=A.join("+")}return s.coerce(_,b,S,"hoverinfo",T)},s.coerceSelectionMarkerOpacity=function(_,b){if(_.marker){var w,T,M=_.marker.opacity;M!==void 0&&(v(M)||_.selected||_.unselected||(w=M,T=d*M),b("selected.marker.opacity",w),b("unselected.marker.opacity",T))}},s.validate=y},1631:function(a,s,o){var l,c,u=o(4096).i$,f=o(2770),h=o(7769),d=o(4872).mod,p=o(606),g=p.BADNUM,m=p.ONEDAY,v=p.ONEHOUR,y=p.ONEMIN,_=p.ONESEC,b=p.EPOCHJD,w=o(3972),T=o(4096).g0,M=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,S=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,E=new Date().getFullYear()-70;function A(U){return U&&w.componentsRegistry.calendars&&typeof U=="string"&&U!=="gregorian"}function O(U,J){return String(U+Math.pow(10,J)).substr(1)}s.dateTick0=function(U,J){var nt=function(z,W){return A(z)?W?w.getComponentMethod("calendars","CANONICAL_SUNDAY")[z]:w.getComponentMethod("calendars","CANONICAL_TICK")[z]:W?"2000-01-02":"2000-01-01"}(U,!!J);if(J<2)return nt;var ct=s.dateTime2ms(nt,U);return ct+=m*(J-1),s.ms2DateTime(ct,0,U)},s.dfltRange=function(U){return A(U)?w.getComponentMethod("calendars","DFLTRANGE")[U]:["2000-01-01","2001-01-01"]},s.isJSDate=function(U){return typeof U=="object"&&U!==null&&typeof U.getTime=="function"},s.dateTime2ms=function(U,J){if(s.isJSDate(U)){var nt=U.getTimezoneOffset()*y,ct=(U.getUTCMinutes()-U.getMinutes())*y+(U.getUTCSeconds()-U.getSeconds())*_+(U.getUTCMilliseconds()-U.getMilliseconds());if(ct){var z=3*y;nt=nt-z/2+d(ct-nt+z/2,z)}return(U=Number(U)-nt)>=l&&U<=c?U:g}if(typeof U!="string"&&typeof U!="number")return g;U=String(U);var W=A(J),X=U.charAt(0);!W||X!=="G"&&X!=="g"||(U=U.substr(1),J="");var it=W&&J.substr(0,7)==="chinese",lt=U.match(it?S:M);if(!lt)return g;var pt=lt[1],rt=lt[3]||"1",V=Number(lt[5]||1),B=Number(lt[7]||0),H=Number(lt[9]||0),$=Number(lt[11]||0);if(W){if(pt.length===2)return g;var Z;pt=Number(pt);try{var Q=w.getComponentMethod("calendars","getCal")(J);if(it){var ot=rt.charAt(rt.length-1)==="i";rt=parseInt(rt,10),Z=Q.newDate(pt,Q.toMonthIndex(pt,rt,ot),V)}else Z=Q.newDate(pt,Number(rt),V)}catch{return g}return Z?(Z.toJD()-b)*m+B*v+H*y+$*_:g}pt=pt.length===2?(Number(pt)+2e3-E)%100+E:Number(pt),rt-=1;var st=new Date(Date.UTC(2e3,rt,V,B,H));return st.setUTCFullYear(pt),st.getUTCMonth()!==rt||st.getUTCDate()!==V?g:st.getTime()+$*_},l=s.MIN_MS=s.dateTime2ms("-9999"),c=s.MAX_MS=s.dateTime2ms("9999-12-31 23:59:59.9999"),s.isDateTime=function(U,J){return s.dateTime2ms(U,J)!==g};var N=90*m,F=3*v,P=5*y;function R(U,J,nt,ct,z){if((J||nt||ct||z)&&(U+=" "+O(J,2)+":"+O(nt,2),(ct||z)&&(U+=":"+O(ct,2),z))){for(var W=4;z%10==0;)W-=1,z/=10;U+="."+O(z,W)}return U}s.ms2DateTime=function(U,J,nt){if(typeof U!="number"||!(U>=l&&U<=c))return g;J||(J=0);var ct,z,W,X,it,lt,pt=Math.floor(10*d(U+.05,1)),rt=Math.round(U-pt/10);if(A(nt)){var V=Math.floor(rt/m)+b,B=Math.floor(d(U,m));try{ct=w.getComponentMethod("calendars","getCal")(nt).fromJD(V).formatDate("yyyy-mm-dd")}catch{ct=T("G%Y-%m-%d")(new Date(rt))}if(ct.charAt(0)==="-")for(;ct.length<11;)ct="-0"+ct.substr(1);else for(;ct.length<10;)ct="0"+ct;z=J<N?Math.floor(B/v):0,W=J<N?Math.floor(B%v/y):0,X=J<F?Math.floor(B%y/_):0,it=J<P?B%_*10+pt:0}else lt=new Date(rt),ct=T("%Y-%m-%d")(lt),z=J<N?lt.getUTCHours():0,W=J<N?lt.getUTCMinutes():0,X=J<F?lt.getUTCSeconds():0,it=J<P?10*lt.getUTCMilliseconds()+pt:0;return R(ct,z,W,X,it)},s.ms2DateTimeLocal=function(U){if(!(U>=l+m&&U<=c-m))return g;var J=Math.floor(10*d(U+.05,1)),nt=new Date(Math.round(U-J/10));return R(u("%Y-%m-%d")(nt),nt.getHours(),nt.getMinutes(),nt.getSeconds(),10*nt.getUTCMilliseconds()+J)},s.cleanDate=function(U,J,nt){if(U===g)return J;if(s.isJSDate(U)||typeof U=="number"&&isFinite(U)){if(A(nt))return h.error("JS Dates and milliseconds are incompatible with world calendars",U),J;if(!(U=s.ms2DateTimeLocal(+U))&&J!==void 0)return J}else if(!s.isDateTime(U,nt))return h.error("unrecognized date",U),J;return U};var k=/%\d?f/g,I=/%h/g,j={1:"1",2:"1",3:"2",4:"2"};function G(U,J,nt,ct){U=U.replace(k,function(W){var X=Math.min(+W.charAt(1)||6,6);return(J/1e3%1+2).toFixed(X).substr(2).replace(/0+$/,"")||"0"});var z=new Date(Math.floor(J+.05));if(U=U.replace(I,function(){return j[nt("%q")(z)]}),A(ct))try{U=w.getComponentMethod("calendars","worldCalFmt")(U,J,ct)}catch{return"Invalid"}return nt(U)(z)}var q=[59,59.9,59.99,59.999,59.9999];s.formatDate=function(U,J,nt,ct,z,W){if(z=A(z)&&z,!J)if(nt==="y")J=W.year;else if(nt==="m")J=W.month;else{if(nt!=="d")return function(X,it){var lt=d(X+.05,m),pt=O(Math.floor(lt/v),2)+":"+O(d(Math.floor(lt/y),60),2);if(it!=="M"){f(it)||(it=0);var rt=(100+Math.min(d(X/_,60),q[it])).toFixed(it).substr(1);it>0&&(rt=rt.replace(/0+$/,"").replace(/[\.]$/,"")),pt+=":"+rt}return pt}(U,nt)+`
`+G(W.dayMonthYear,U,ct,z);J=W.dayMonth+`
`+W.year}return G(J,U,ct,z)};var et=3*m;s.incrementMonth=function(U,J,nt){nt=A(nt)&&nt;var ct=d(U,m);if(U=Math.round(U-ct),nt)try{var z=Math.round(U/m)+b,W=w.getComponentMethod("calendars","getCal")(nt),X=W.fromJD(z);return J%12?W.add(X,J,"m"):W.add(X,J/12,"y"),(X.toJD()-b)*m+ct}catch{h.error("invalid ms "+U+" in calendar "+nt)}var it=new Date(U+et);return it.setUTCMonth(it.getUTCMonth()+J)+ct-et},s.findExactDates=function(U,J){for(var nt,ct,z=0,W=0,X=0,it=0,lt=A(J)&&w.getComponentMethod("calendars","getCal")(J),pt=0;pt<U.length;pt++)if(ct=U[pt],f(ct)){if(!(ct%m))if(lt)try{(nt=lt.fromJD(ct/m+b)).day()===1?nt.month()===1?z++:W++:X++}catch{}else(nt=new Date(ct)).getUTCDate()===1?nt.getUTCMonth()===0?z++:W++:X++}else it++;X+=W+=z;var rt=U.length-it;return{exactYears:z/rt,exactMonths:W/rt,exactDays:X/rt}}},4401:function(a,s,o){var l=o(9898),c=o(7769),u=o(5657),f=o(9576);function h(v){var y=v&&v.parentNode;y&&y.removeChild(v)}function d(v,y,_){var b="plotly.js-style-"+v,w=document.getElementById(b);w||((w=document.createElement("style")).setAttribute("id",b),w.appendChild(document.createTextNode("")),document.head.appendChild(w));var T=w.sheet;T.insertRule?T.insertRule(y+"{"+_+"}",0):T.addRule?T.addRule(y,_,0):c.warn("addStyleRule failed")}function p(v){var y=window.getComputedStyle(v,null),_=y.getPropertyValue("-webkit-transform")||y.getPropertyValue("-moz-transform")||y.getPropertyValue("-ms-transform")||y.getPropertyValue("-o-transform")||y.getPropertyValue("transform");return _==="none"?null:_.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(b){return+b})}function g(v){for(var y=[];m(v);)y.push(v),v=v.parentNode;return y}function m(v){return v&&(v instanceof Element||v instanceof HTMLElement)}a.exports={getGraphDiv:function(v){var y;if(typeof v=="string"){if((y=document.getElementById(v))===null)throw new Error("No DOM element with id '"+v+"' exists on the page.");return y}if(v==null)throw new Error("DOM element provided is null or undefined");return v},isPlotDiv:function(v){var y=l.select(v);return y.node()instanceof HTMLElement&&y.size()&&y.classed("js-plotly-plot")},removeElement:h,addStyleRule:function(v,y){d("global",v,y)},addRelatedStyleRule:d,deleteRelatedStyleRule:function(v){var y="plotly.js-style-"+v,_=document.getElementById(y);_&&h(_)},getFullTransformMatrix:function(v){var y=g(v),_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return y.forEach(function(b){var w=p(b);if(w){var T=u.convertCssMatrix(w);_=f.multiply(_,_,T)}}),_},getElementTransformMatrix:p,getElementAndAncestors:g,equalDomRects:function(v,y){return v&&y&&v.top===y.top&&v.left===y.left&&v.right===y.right&&v.bottom===y.bottom}}},1086:function(a,s,o){var l=o(5398).EventEmitter,c={init:function(u){if(u._ev instanceof l)return u;var f=new l,h=new l;return u._ev=f,u._internalEv=h,u.on=f.on.bind(f),u.once=f.once.bind(f),u.removeListener=f.removeListener.bind(f),u.removeAllListeners=f.removeAllListeners.bind(f),u._internalOn=h.on.bind(h),u._internalOnce=h.once.bind(h),u._removeInternalListener=h.removeListener.bind(h),u._removeAllInternalListeners=h.removeAllListeners.bind(h),u.emit=function(d,p){typeof jQuery<"u"&&jQuery(u).trigger(d,p),f.emit(d,p),h.emit(d,p)},u},triggerHandler:function(u,f,h){var d,p;typeof jQuery<"u"&&(d=jQuery(u).triggerHandler(f,h));var g=u._ev;if(!g)return d;var m,v=g._events[f];if(!v)return d;function y(_){return _.listener?(g.removeListener(f,_.listener),_.fired?void 0:(_.fired=!0,_.listener.apply(g,[h]))):_.apply(g,[h])}for(v=Array.isArray(v)?v:[v],m=0;m<v.length-1;m++)y(v[m]);return p=y(v[m]),d!==void 0?d:p},purge:function(u){return delete u._ev,delete u.on,delete u.once,delete u.removeListener,delete u.removeAllListeners,delete u.emit,delete u._ev,delete u._internalEv,delete u._internalOn,delete u._internalOnce,delete u._removeInternalListener,delete u._removeAllInternalListeners,u}};a.exports=c},1426:function(a,s,o){var l=o(1965),c=Array.isArray;function u(f,h,d,p){var g,m,v,y,_,b,w,T=f[0],M=f.length;if(M===2&&c(T)&&c(f[1])&&T.length===0){if(w=function(E,A){var O,N;for(O=0;O<E.length;O++){if((N=E[O])!==null&&typeof N=="object")return!1;N!==void 0&&(A[O]=N)}return!0}(f[1],T),w)return T;T.splice(0,T.length)}for(var S=1;S<M;S++)for(m in g=f[S])v=T[m],y=g[m],p&&c(y)?T[m]=y:h&&y&&(l(y)||(_=c(y)))?(_?(_=!1,b=v&&c(v)?v:[]):b=v&&l(v)?v:{},T[m]=u([b,y],h,d,p)):(y!==void 0||d)&&(T[m]=y);return T}s.extendFlat=function(){return u(arguments,!1,!1,!1)},s.extendDeep=function(){return u(arguments,!0,!1,!1)},s.extendDeepAll=function(){return u(arguments,!0,!0,!1)},s.extendDeepNoArrays=function(){return u(arguments,!0,!1,!0)}},5744:function(a){a.exports=function(s){for(var o={},l=[],c=0,u=0;u<s.length;u++){var f=s[u];o[f]!==1&&(o[f]=1,l[c++]=f)}return l}},6756:function(a){function s(l){return l.visible===!0}function o(l){var c=l[0].trace;return c.visible===!0&&c._length!==0}a.exports=function(l){for(var c,u=(c=l,Array.isArray(c)&&Array.isArray(c[0])&&c[0][0]&&c[0][0].trace?o:s),f=[],h=0;h<l.length;h++){var d=l[h];u(d)&&f.push(d)}return f}},7642:function(a,s,o){var l,c,u,f=o(4872).mod;function h(p,g,m,v,y,_,b,w){var T=m-p,M=y-p,S=b-y,E=v-g,A=_-g,O=w-_,N=T*O-S*E;if(N===0)return null;var F=(M*O-S*A)/N,P=(M*E-T*A)/N;return P<0||P>1||F<0||F>1?null:{x:p+T*F,y:g+E*F}}function d(p,g,m,v,y){var _=v*p+y*g;if(_<0)return v*v+y*y;if(_>m){var b=v-p,w=y-g;return b*b+w*w}var T=v*g-y*p;return T*T/m}s.segmentsIntersect=h,s.segmentDistance=function(p,g,m,v,y,_,b,w){if(h(p,g,m,v,y,_,b,w))return 0;var T=m-p,M=v-g,S=b-y,E=w-_,A=T*T+M*M,O=S*S+E*E,N=Math.min(d(T,M,A,y-p,_-g),d(T,M,A,b-p,w-g),d(S,E,O,p-y,g-_),d(S,E,O,m-y,v-_));return Math.sqrt(N)},s.getTextLocation=function(p,g,m,v){if(p===c&&v===u||(l={},c=p,u=v),l[m])return l[m];var y=p.getPointAtLength(f(m-v/2,g)),_=p.getPointAtLength(f(m+v/2,g)),b=Math.atan((_.y-y.y)/(_.x-y.x)),w=p.getPointAtLength(f(m,g)),T={x:(4*w.x+y.x+_.x)/6,y:(4*w.y+y.y+_.y)/6,theta:b};return l[m]=T,T},s.clearLocationCache=function(){c=null},s.getVisibleSegment=function(p,g,m){var v,y,_=g.left,b=g.right,w=g.top,T=g.bottom,M=0,S=p.getTotalLength(),E=S;function A(N){var F=p.getPointAtLength(N);N===0?v=F:N===S&&(y=F);var P=F.x<_?_-F.x:F.x>b?F.x-b:0,R=F.y<w?w-F.y:F.y>T?F.y-T:0;return Math.sqrt(P*P+R*R)}for(var O=A(M);O;){if((M+=O+m)>E)return;O=A(M)}for(O=A(E);O;){if(M>(E-=O+m))return;O=A(E)}return{min:M,max:E,len:E-M,total:S,isClosed:M===0&&E===S&&Math.abs(v.x-y.x)<.1&&Math.abs(v.y-y.y)<.1}},s.findPointOnPath=function(p,g,m,v){for(var y,_,b,w=(v=v||{}).pathLength||p.getTotalLength(),T=v.tolerance||.001,M=v.iterationLimit||30,S=p.getPointAtLength(0)[m]>p.getPointAtLength(w)[m]?-1:1,E=0,A=0,O=w;E<M;){if(y=(A+O)/2,b=(_=p.getPointAtLength(y))[m]-g,Math.abs(b)<T)return _;S*b>0?O=y:A=y,E++}return _}},3389:function(a){a.exports=function(s){return s}},9240:function(a){a.exports=function(s,o){if(!o)return s;var l=1/Math.abs(o),c=l>1?(l*s+l*o)/l:s+o,u=String(c).length;if(u>16){var f=String(o).length;if(u>=String(s).length+f){var h=parseFloat(c).toPrecision(12);h.indexOf("e+")===-1&&(c=+h)}}return c}},1828:function(a,s,o){var l=o(9898),c=o(4096).g0,u=o(721).WU,f=o(2770),h=o(606),d=h.FP_SAFE,p=-d,g=h.BADNUM,m=a.exports={};m.adjustFormat=function(B){return!B||/^\d[.]\df/.test(B)||/[.]\d%/.test(B)?B:B==="0.f"?"~f":/^\d%/.test(B)?"~%":/^\ds/.test(B)?"~s":!/^[~,.0$]/.test(B)&&/[&fps]/.test(B)?"~"+B:B};var v={};m.warnBadFormat=function(B){var H=String(B);v[H]||(v[H]=1,m.warn('encountered bad format: "'+H+'"'))},m.noFormat=function(B){return String(B)},m.numberFormat=function(B){var H;try{H=u(m.adjustFormat(B))}catch{return m.warnBadFormat(B),m.noFormat}return H},m.nestedProperty=o(5487),m.keyedContainer=o(6636),m.relativeAttr=o(6962),m.isPlainObject=o(1965),m.toLogRange=o(8163),m.relinkPrivateKeys=o(1332);var y=o(3627);m.isTypedArray=y.isTypedArray,m.isArrayOrTypedArray=y.isArrayOrTypedArray,m.isArray1D=y.isArray1D,m.ensureArray=y.ensureArray,m.concat=y.concat,m.maxRowLength=y.maxRowLength,m.minRowLength=y.minRowLength;var _=o(4872);m.mod=_.mod,m.modHalf=_.modHalf;var b=o(6554);m.valObjectMeta=b.valObjectMeta,m.coerce=b.coerce,m.coerce2=b.coerce2,m.coerceFont=b.coerceFont,m.coercePattern=b.coercePattern,m.coerceHoverinfo=b.coerceHoverinfo,m.coerceSelectionMarkerOpacity=b.coerceSelectionMarkerOpacity,m.validate=b.validate;var w=o(1631);m.dateTime2ms=w.dateTime2ms,m.isDateTime=w.isDateTime,m.ms2DateTime=w.ms2DateTime,m.ms2DateTimeLocal=w.ms2DateTimeLocal,m.cleanDate=w.cleanDate,m.isJSDate=w.isJSDate,m.formatDate=w.formatDate,m.incrementMonth=w.incrementMonth,m.dateTick0=w.dateTick0,m.dfltRange=w.dfltRange,m.findExactDates=w.findExactDates,m.MIN_MS=w.MIN_MS,m.MAX_MS=w.MAX_MS;var T=o(5888);m.findBin=T.findBin,m.sorterAsc=T.sorterAsc,m.sorterDes=T.sorterDes,m.distinctVals=T.distinctVals,m.roundUp=T.roundUp,m.sort=T.sort,m.findIndexOfMin=T.findIndexOfMin,m.sortObjectKeys=o(8607);var M=o(38);m.aggNums=M.aggNums,m.len=M.len,m.mean=M.mean,m.median=M.median,m.midRange=M.midRange,m.variance=M.variance,m.stdev=M.stdev,m.interp=M.interp;var S=o(5657);m.init2dArray=S.init2dArray,m.transposeRagged=S.transposeRagged,m.dot=S.dot,m.translationMatrix=S.translationMatrix,m.rotationMatrix=S.rotationMatrix,m.rotationXYMatrix=S.rotationXYMatrix,m.apply3DTransform=S.apply3DTransform,m.apply2DTransform=S.apply2DTransform,m.apply2DTransform2=S.apply2DTransform2,m.convertCssMatrix=S.convertCssMatrix,m.inverseTransformMatrix=S.inverseTransformMatrix;var E=o(6348);m.deg2rad=E.deg2rad,m.rad2deg=E.rad2deg,m.angleDelta=E.angleDelta,m.angleDist=E.angleDist,m.isFullCircle=E.isFullCircle,m.isAngleInsideSector=E.isAngleInsideSector,m.isPtInsideSector=E.isPtInsideSector,m.pathArc=E.pathArc,m.pathSector=E.pathSector,m.pathAnnulus=E.pathAnnulus;var A=o(9863);m.isLeftAnchor=A.isLeftAnchor,m.isCenterAnchor=A.isCenterAnchor,m.isRightAnchor=A.isRightAnchor,m.isTopAnchor=A.isTopAnchor,m.isMiddleAnchor=A.isMiddleAnchor,m.isBottomAnchor=A.isBottomAnchor;var O=o(7642);m.segmentsIntersect=O.segmentsIntersect,m.segmentDistance=O.segmentDistance,m.getTextLocation=O.getTextLocation,m.clearLocationCache=O.clearLocationCache,m.getVisibleSegment=O.getVisibleSegment,m.findPointOnPath=O.findPointOnPath;var N=o(1426);m.extendFlat=N.extendFlat,m.extendDeep=N.extendDeep,m.extendDeepAll=N.extendDeepAll,m.extendDeepNoArrays=N.extendDeepNoArrays;var F=o(7769);m.log=F.log,m.warn=F.warn,m.error=F.error;var P=o(587);m.counterRegex=P.counter;var R=o(9990);m.throttle=R.throttle,m.throttleDone=R.done,m.clearThrottle=R.clear;var k=o(4401);function I(B){var H={};for(var $ in B)for(var Z=B[$],Q=0;Q<Z.length;Q++)H[Z[Q]]=+$;return H}m.getGraphDiv=k.getGraphDiv,m.isPlotDiv=k.isPlotDiv,m.removeElement=k.removeElement,m.addStyleRule=k.addStyleRule,m.addRelatedStyleRule=k.addRelatedStyleRule,m.deleteRelatedStyleRule=k.deleteRelatedStyleRule,m.getFullTransformMatrix=k.getFullTransformMatrix,m.getElementTransformMatrix=k.getElementTransformMatrix,m.getElementAndAncestors=k.getElementAndAncestors,m.equalDomRects=k.equalDomRects,m.clearResponsive=o(6367),m.preserveDrawingBuffer=o(5142),m.makeTraceGroups=o(7310),m._=o(5867),m.notifier=o(5046),m.filterUnique=o(5744),m.filterVisible=o(6756),m.pushUnique=o(5138),m.increment=o(9240),m.cleanNumber=o(5218),m.ensureNumber=function(B){return f(B)?(B=Number(B))>d||B<p?g:B:g},m.isIndex=function(B,H){return!(H!==void 0&&B>=H)&&f(B)&&B>=0&&B%1==0},m.noop=o(4213),m.identity=o(3389),m.repeat=function(B,H){for(var $=new Array(H),Z=0;Z<H;Z++)$[Z]=B;return $},m.swapAttrs=function(B,H,$,Z){$||($="x"),Z||(Z="y");for(var Q=0;Q<H.length;Q++){var ot=H[Q],st=m.nestedProperty(B,ot.replace("?",$)),dt=m.nestedProperty(B,ot.replace("?",Z)),bt=st.get();st.set(dt.get()),dt.set(bt)}},m.raiseToTop=function(B){B.parentNode.appendChild(B)},m.cancelTransition=function(B){return B.transition().duration(0)},m.constrain=function(B,H,$){return H>$?Math.max($,Math.min(H,B)):Math.max(H,Math.min($,B))},m.bBoxIntersect=function(B,H,$){return $=$||0,B.left<=H.right+$&&H.left<=B.right+$&&B.top<=H.bottom+$&&H.top<=B.bottom+$},m.simpleMap=function(B,H,$,Z,Q){for(var ot=B.length,st=new Array(ot),dt=0;dt<ot;dt++)st[dt]=H(B[dt],$,Z,Q);return st},m.randstr=function B(H,$,Z,Q){if(Z||(Z=16),$===void 0&&($=24),$<=0)return"0";var ot,st,dt=Math.log(Math.pow(2,$))/Math.log(Z),bt="";for(ot=2;dt===1/0;ot*=2)dt=Math.log(Math.pow(2,$/ot))/Math.log(Z)*ot;var Pt=dt-Math.floor(dt);for(ot=0;ot<Math.floor(dt);ot++)bt=Math.floor(Math.random()*Z).toString(Z)+bt;Pt&&(st=Math.pow(Z,Pt),bt=Math.floor(Math.random()*st).toString(Z)+bt);var It=parseInt(bt,Z);return H&&H[bt]||It!==1/0&&It>=Math.pow(2,$)?Q>10?(m.warn("randstr failed uniqueness"),bt):B(H,$,Z,(Q||0)+1):bt},m.OptionControl=function(B,H){B||(B={}),H||(H="opt");var $={optionList:[],_newoption:function(Z){Z[H]=B,$[Z.name]=Z,$.optionList.push(Z)}};return $["_"+H]=B,$},m.smooth=function(B,H){if((H=Math.round(H)||0)<2)return B;var $,Z,Q,ot,st=B.length,dt=2*st,bt=2*H-1,Pt=new Array(bt),It=new Array(st);for($=0;$<bt;$++)Pt[$]=(1-Math.cos(Math.PI*($+1)/H))/(2*H);for($=0;$<st;$++){for(ot=0,Z=0;Z<bt;Z++)(Q=$+Z+1-H)<-st?Q-=dt*Math.round(Q/dt):Q>=dt&&(Q-=dt*Math.floor(Q/dt)),Q<0?Q=-1-Q:Q>=st&&(Q=dt-1-Q),ot+=B[Q]*Pt[Z];It[$]=ot}return It},m.syncOrAsync=function(B,H,$){var Z;function Q(){return m.syncOrAsync(B,H,$)}for(;B.length;)if((Z=(0,B.splice(0,1)[0])(H))&&Z.then)return Z.then(Q);return $&&$(H)},m.stripTrailingSlash=function(B){return B.substr(-1)==="/"?B.substr(0,B.length-1):B},m.noneOrAll=function(B,H,$){if(B){var Z,Q=!1,ot=!0;for(Z=0;Z<$.length;Z++)B[$[Z]]!=null?Q=!0:ot=!1;if(Q&&!ot)for(Z=0;Z<$.length;Z++)B[$[Z]]=H[$[Z]]}},m.mergeArray=function(B,H,$,Z){var Q=typeof Z=="function";if(m.isArrayOrTypedArray(B))for(var ot=Math.min(B.length,H.length),st=0;st<ot;st++){var dt=B[st];H[st][$]=Q?Z(dt):dt}},m.mergeArrayCastPositive=function(B,H,$){return m.mergeArray(B,H,$,function(Z){var Q=+Z;return isFinite(Q)&&Q>0?Q:0})},m.fillArray=function(B,H,$,Z){if(Z=Z||m.identity,m.isArrayOrTypedArray(B))for(var Q=0;Q<H.length;Q++)H[Q][$]=Z(B[Q])},m.castOption=function(B,H,$,Z){Z=Z||m.identity;var Q=m.nestedProperty(B,$).get();return m.isArrayOrTypedArray(Q)?Array.isArray(H)&&m.isArrayOrTypedArray(Q[H[0]])?Z(Q[H[0]][H[1]]):Z(Q[H]):Q},m.extractOption=function(B,H,$,Z){if($ in B)return B[$];var Q=m.nestedProperty(H,Z).get();return Array.isArray(Q)?void 0:Q},m.tagSelected=function(B,H,$){var Z,Q,ot=H.selectedpoints,st=H._indexToPoints;st&&(Z=I(st));for(var dt=0;dt<ot.length;dt++){var bt=ot[dt];if(m.isIndex(bt)||m.isArrayOrTypedArray(bt)&&m.isIndex(bt[0])&&m.isIndex(bt[1])){var Pt=Z?Z[bt]:bt,It=$?$[Pt]:Pt;(Q=It)!==void 0&&Q<B.length&&(B[It].selected=1)}}},m.selIndices2selPoints=function(B){var H=B.selectedpoints,$=B._indexToPoints;if($){for(var Z=I($),Q=[],ot=0;ot<H.length;ot++){var st=H[ot];if(m.isIndex(st)){var dt=Z[st];m.isIndex(dt)&&Q.push(dt)}}return Q}return H},m.getTargetArray=function(B,H){var $=H.target;if(typeof $=="string"&&$){var Z=m.nestedProperty(B,$).get();return!!Array.isArray(Z)&&Z}return!!Array.isArray($)&&$},m.minExtend=function B(H,$,Z){var Q={};typeof $!="object"&&($={});var ot,st,dt,bt=Z==="pieLike"?-1:3,Pt=Object.keys(H);for(ot=0;ot<Pt.length;ot++)dt=H[st=Pt[ot]],st.charAt(0)!=="_"&&typeof dt!="function"&&(st==="module"?Q[st]=dt:Array.isArray(dt)?Q[st]=st==="colorscale"||bt===-1?dt.slice():dt.slice(0,bt):m.isTypedArray(dt)?Q[st]=bt===-1?dt.subarray():dt.subarray(0,bt):Q[st]=dt&&typeof dt=="object"?B(H[st],$[st],Z):dt);for(Pt=Object.keys($),ot=0;ot<Pt.length;ot++)typeof(dt=$[st=Pt[ot]])=="object"&&st in Q&&typeof Q[st]=="object"||(Q[st]=dt);return Q},m.titleCase=function(B){return B.charAt(0).toUpperCase()+B.substr(1)},m.containsAny=function(B,H){for(var $=0;$<H.length;$++)if(B.indexOf(H[$])!==-1)return!0;return!1},m.isIE=function(){return window.navigator.msSaveBlob!==void 0};var j=/Version\/[\d\.]+.*Safari/;m.isSafari=function(){return j.test(window.navigator.userAgent)};var G=/iPad|iPhone|iPod/;m.isIOS=function(){return G.test(window.navigator.userAgent)};var q=/Firefox\/(\d+)\.\d+/;m.getFirefoxVersion=function(){var B=q.exec(window.navigator.userAgent);if(B&&B.length===2){var H=parseInt(B[1]);if(!isNaN(H))return H}return null},m.isD3Selection=function(B){return B instanceof l.selection},m.ensureSingle=function(B,H,$,Z){var Q=B.select(H+($?"."+$:""));if(Q.size())return Q;var ot=B.append(H);return $&&ot.classed($,!0),Z&&ot.call(Z),ot},m.ensureSingleById=function(B,H,$,Z){var Q=B.select(H+"#"+$);if(Q.size())return Q;var ot=B.append(H).attr("id",$);return Z&&ot.call(Z),ot},m.objectFromPath=function(B,H){for(var $,Z=B.split("."),Q=$={},ot=0;ot<Z.length;ot++){var st=Z[ot],dt=null,bt=Z[ot].match(/(.*)\[([0-9]+)\]/);bt?(st=bt[1],dt=bt[2],$=$[st]=[],ot===Z.length-1?$[dt]=H:$[dt]={},$=$[dt]):(ot===Z.length-1?$[st]=H:$[st]={},$=$[st])}return Q};var et=/^([^\[\.]+)\.(.+)?/,U=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function J(B){return B.slice(0,2)==="__"}m.expandObjectPaths=function(B){var H,$,Z,Q,ot,st,dt;if(typeof B=="object"&&!Array.isArray(B)){for($ in B)if(B.hasOwnProperty($))if(H=$.match(et)){if(Q=B[$],J(Z=H[1]))continue;delete B[$],B[Z]=m.extendDeepNoArrays(B[Z]||{},m.objectFromPath($,m.expandObjectPaths(Q))[Z])}else if(H=$.match(U)){if(Q=B[$],J(Z=H[1]))continue;if(ot=parseInt(H[2]),delete B[$],B[Z]=B[Z]||[],H[3]===".")dt=H[4],st=B[Z][ot]=B[Z][ot]||{},m.extendDeepNoArrays(st,m.objectFromPath(dt,m.expandObjectPaths(Q)));else{if(J(Z))continue;B[Z][ot]=m.expandObjectPaths(Q)}}else{if(J($))continue;B[$]=m.expandObjectPaths(B[$])}}return B},m.numSeparate=function(B,H,$){if($||($=!1),typeof H!="string"||H.length===0)throw new Error("Separator string required for formatting!");typeof B=="number"&&(B=String(B));var Z=/(\d+)(\d{3})/,Q=H.charAt(0),ot=H.charAt(1),st=B.split("."),dt=st[0],bt=st.length>1?Q+st[1]:"";if(ot&&(st.length>1||dt.length>4||$))for(;Z.test(dt);)dt=dt.replace(Z,"$1"+ot+"$2");return dt+bt},m.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var nt=/^\w*$/;m.templateString=function(B,H){var $={};return B.replace(m.TEMPLATE_STRING_REGEX,function(Z,Q){var ot;return nt.test(Q)?ot=H[Q]:($[Q]=$[Q]||m.nestedProperty(H,Q).get,ot=$[Q]()),m.isValidTextValue(ot)?ot:""})};var ct={max:10,count:0,name:"hovertemplate"};m.hovertemplateString=function(){return lt.apply(ct,arguments)};var z={max:10,count:0,name:"texttemplate"};m.texttemplateString=function(){return lt.apply(z,arguments)};var W=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/,X={max:10,count:0,name:"texttemplate",parseMultDiv:!0};m.texttemplateStringForShapes=function(){return lt.apply(X,arguments)};var it=/^[:|\|]/;function lt(B,H,$){var Z=this,Q=arguments;H||(H={});var ot={};return B.replace(m.TEMPLATE_STRING_REGEX,function(st,dt,bt){var Pt=dt==="_xother"||dt==="_yother",It=dt==="_xother_"||dt==="_yother_",Dt=dt==="xother_"||dt==="yother_",gt=dt==="xother"||dt==="yother"||Pt||Dt||It,_t=dt;(Pt||It)&&(_t=_t.substring(1)),(Dt||It)&&(_t=_t.substring(0,_t.length-1));var wt,Et,ht,vt=null,Ct=null;if(Z.parseMultDiv){var Mt=function(kt){var Bt=kt.match(W);return Bt?{key:Bt[1],op:Bt[2],number:Number(Bt[3])}:{key:kt,op:null,number:null}}(_t);_t=Mt.key,vt=Mt.op,Ct=Mt.number}if(gt){if((wt=H[_t])===void 0)return""}else for(ht=3;ht<Q.length;ht++)if(Et=Q[ht]){if(Et.hasOwnProperty(_t)){wt=Et[_t];break}if(nt.test(_t)||(wt=m.nestedProperty(Et,_t).get(),(wt=ot[_t]||m.nestedProperty(Et,_t).get())&&(ot[_t]=wt)),wt!==void 0)break}if(wt!==void 0&&(vt==="*"&&(wt*=Ct),vt==="/"&&(wt/=Ct)),wt===void 0&&Z)return Z.count<Z.max&&(m.warn("Variable '"+_t+"' in "+Z.name+" could not be found!"),wt=st),Z.count===Z.max&&m.warn("Too many "+Z.name+" warnings - additional warnings will be suppressed"),Z.count++,st;if(bt){var Nt;if(bt[0]===":"&&(wt=(Nt=$?$.numberFormat:m.numberFormat)(bt.replace(it,""))(wt)),bt[0]==="|"){Nt=$?$.timeFormat:c;var Rt=m.dateTime2ms(wt);wt=m.formatDate(Rt,bt.replace(it,""),!1,Nt)}}else{var At=_t+"Label";H.hasOwnProperty(At)&&(wt=H[At])}return gt&&(wt="("+wt+")",(Pt||It)&&(wt=" "+wt),(Dt||It)&&(wt+=" ")),wt})}m.subplotSort=function(B,H){for(var $=Math.min(B.length,H.length)+1,Z=0,Q=0,ot=0;ot<$;ot++){var st=B.charCodeAt(ot)||0,dt=H.charCodeAt(ot)||0,bt=st>=48&&st<=57,Pt=dt>=48&&dt<=57;if(bt&&(Z=10*Z+st-48),Pt&&(Q=10*Q+dt-48),!bt||!Pt){if(Z!==Q)return Z-Q;if(st!==dt)return st-dt}}return Q-Z};var pt=2e9;m.seedPseudoRandom=function(){pt=2e9},m.pseudoRandom=function(){var B=pt;return pt=(69069*pt+1)%4294967296,Math.abs(pt-B)<429496729?m.pseudoRandom():pt/4294967296},m.fillText=function(B,H,$){var Z=Array.isArray($)?function(st){$.push(st)}:function(st){$.text=st},Q=m.extractOption(B,H,"htx","hovertext");if(m.isValidTextValue(Q))return Z(Q);var ot=m.extractOption(B,H,"tx","text");return m.isValidTextValue(ot)?Z(ot):void 0},m.isValidTextValue=function(B){return B||B===0},m.formatPercent=function(B,H){H=H||0;for(var $=(Math.round(100*B*Math.pow(10,H))*Math.pow(.1,H)).toFixed(H)+"%",Z=0;Z<H;Z++)$.indexOf(".")!==-1&&($=($=$.replace("0%","%")).replace(".%","%"));return $},m.isHidden=function(B){var H=window.getComputedStyle(B).display;return!H||H==="none"},m.strTranslate=function(B,H){return B||H?"translate("+B+","+H+")":""},m.strRotate=function(B){return B?"rotate("+B+")":""},m.strScale=function(B){return B!==1?"scale("+B+")":""},m.getTextTransform=function(B){var H=B.noCenter,$=B.textX,Z=B.textY,Q=B.targetX,ot=B.targetY,st=B.anchorX||0,dt=B.anchorY||0,bt=B.rotate,Pt=B.scale;return Pt?Pt>1&&(Pt=1):Pt=0,m.strTranslate(Q-Pt*($+st),ot-Pt*(Z+dt))+m.strScale(Pt)+(bt?"rotate("+bt+(H?"":" "+$+" "+Z)+")":"")},m.setTransormAndDisplay=function(B,H){B.attr("transform",m.getTextTransform(H)),B.style("display",H.scale?null:"none")},m.ensureUniformFontSize=function(B,H){var $=m.extendFlat({},H);return $.size=Math.max(H.size,B._fullLayout.uniformtext.minsize||0),$},m.join2=function(B,H,$){var Z=B.length;return Z>1?B.slice(0,-1).join(H)+$+B[Z-1]:B.join(H)},m.bigFont=function(B){return Math.round(1.2*B)};var rt=m.getFirefoxVersion(),V=rt!==null&&rt<86;m.getPositionFromD3Event=function(){return V?[l.event.layerX,l.event.layerY]:[l.event.offsetX,l.event.offsetY]}},1965:function(a){a.exports=function(s){return window&&window.process&&window.process.versions?Object.prototype.toString.call(s)==="[object Object]":Object.prototype.toString.call(s)==="[object Object]"&&Object.getPrototypeOf(s).hasOwnProperty("hasOwnProperty")}},6636:function(a,s,o){var l=o(5487),c=/^\w*$/;a.exports=function(u,f,h,d){var p,g,m;h=h||"name",d=d||"value";var v={};f&&f.length?(m=l(u,f),g=m.get()):g=u,f=f||"";var y={};if(g)for(p=0;p<g.length;p++)y[g[p][h]]=p;var _=c.test(d),b={set:function(w,T){var M=T===null?4:0;if(!g){if(!m||M===4)return;g=[],m.set(g)}var S=y[w];if(S===void 0){if(M===4)return;M|=3,S=g.length,y[w]=S}else T!==(_?g[S][d]:l(g[S],d).get())&&(M|=2);var E=g[S]=g[S]||{};return E[h]=w,_?E[d]=T:l(E,d).set(T),T!==null&&(M&=-5),v[S]=v[S]|M,b},get:function(w){if(g){var T=y[w];return T===void 0?void 0:_?g[T][d]:l(g[T],d).get()}},rename:function(w,T){var M=y[w];return M===void 0||(v[M]=1|v[M],y[T]=M,delete y[w],g[M][h]=T),b},remove:function(w){var T=y[w];if(T===void 0)return b;var M=g[T];if(Object.keys(M).length>2)return v[T]=2|v[T],b.set(w,null);if(_){for(p=T;p<g.length;p++)v[p]=3|v[p];for(p=T;p<g.length;p++)y[g[p][h]]--;g.splice(T,1),delete y[w]}else l(M,d).set(null),v[T]=6|v[T];return b},constructUpdate:function(){for(var w,T,M={},S=Object.keys(v),E=0;E<S.length;E++)T=S[E],w=f+"["+T+"]",g[T]?(1&v[T]&&(M[w+"."+h]=g[T][h]),2&v[T]&&(M[w+"."+d]=_?4&v[T]?null:g[T][d]:4&v[T]?null:l(g[T],d).get())):M[w]=null;return M}};return b}},5867:function(a,s,o){var l=o(3972);a.exports=function(c,u){for(var f=c._context.locale,h=0;h<2;h++){for(var d=c._context.locales,p=0;p<2;p++){var g=(d[f]||{}).dictionary;if(g){var m=g[u];if(m)return m}d=l.localeRegistry}var v=f.split("-")[0];if(v===f)break;f=v}return u}},7769:function(a,s,o){var l=o(2075).dfltConfig,c=o(5046),u=a.exports={};u.log=function(){var f;if(l.logging>1){var h=["LOG:"];for(f=0;f<arguments.length;f++)h.push(arguments[f]);console.trace.apply(console,h)}if(l.notifyOnLogging>1){var d=[];for(f=0;f<arguments.length;f++)d.push(arguments[f]);c(d.join("<br>"),"long")}},u.warn=function(){var f;if(l.logging>0){var h=["WARN:"];for(f=0;f<arguments.length;f++)h.push(arguments[f]);console.trace.apply(console,h)}if(l.notifyOnLogging>0){var d=[];for(f=0;f<arguments.length;f++)d.push(arguments[f]);c(d.join("<br>"),"stick")}},u.error=function(){var f;if(l.logging>0){var h=["ERROR:"];for(f=0;f<arguments.length;f++)h.push(arguments[f]);console.error.apply(console,h)}if(l.notifyOnLogging>0){var d=[];for(f=0;f<arguments.length;f++)d.push(arguments[f]);c(d.join("<br>"),"stick")}}},7310:function(a,s,o){var l=o(9898);a.exports=function(c,u,f){var h=c.selectAll("g."+f.replace(/\s/g,".")).data(u,function(p){return p[0].trace.uid});h.exit().remove(),h.enter().append("g").attr("class",f),h.order();var d=c.classed("rangeplot")?"nodeRangePlot3":"node3";return h.each(function(p){p[0][d]=l.select(this)}),h}},5657:function(a,s,o){var l=o(9576);s.init2dArray=function(c,u){for(var f=new Array(c),h=0;h<c;h++)f[h]=new Array(u);return f},s.transposeRagged=function(c){var u,f,h=0,d=c.length;for(u=0;u<d;u++)h=Math.max(h,c[u].length);var p=new Array(h);for(u=0;u<h;u++)for(p[u]=new Array(d),f=0;f<d;f++)p[u][f]=c[f][u];return p},s.dot=function(c,u){if(!c.length||!u.length||c.length!==u.length)return null;var f,h,d=c.length;if(c[0].length)for(f=new Array(d),h=0;h<d;h++)f[h]=s.dot(c[h],u);else if(u[0].length){var p=s.transposeRagged(u);for(f=new Array(p.length),h=0;h<p.length;h++)f[h]=s.dot(c,p[h])}else for(f=0,h=0;h<d;h++)f+=c[h]*u[h];return f},s.translationMatrix=function(c,u){return[[1,0,c],[0,1,u],[0,0,1]]},s.rotationMatrix=function(c){var u=c*Math.PI/180;return[[Math.cos(u),-Math.sin(u),0],[Math.sin(u),Math.cos(u),0],[0,0,1]]},s.rotationXYMatrix=function(c,u,f){return s.dot(s.dot(s.translationMatrix(u,f),s.rotationMatrix(c)),s.translationMatrix(-u,-f))},s.apply3DTransform=function(c){return function(){var u=arguments,f=arguments.length===1?u[0]:[u[0],u[1],u[2]||0];return s.dot(c,[f[0],f[1],f[2],1]).slice(0,3)}},s.apply2DTransform=function(c){return function(){var u=arguments;u.length===3&&(u=u[0]);var f=arguments.length===1?u[0]:[u[0],u[1]];return s.dot(c,[f[0],f[1],1]).slice(0,2)}},s.apply2DTransform2=function(c){var u=s.apply2DTransform(c);return function(f){return u(f.slice(0,2)).concat(u(f.slice(2,4)))}},s.convertCssMatrix=function(c){if(c){var u=c.length;if(u===16)return c;if(u===6)return[c[0],c[1],0,0,c[2],c[3],0,0,0,0,1,0,c[4],c[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},s.inverseTransformMatrix=function(c){var u=[];return l.invert(u,c),[[u[0],u[1],u[2],u[3]],[u[4],u[5],u[6],u[7]],[u[8],u[9],u[10],u[11]],[u[12],u[13],u[14],u[15]]]}},4872:function(a){a.exports={mod:function(s,o){var l=s%o;return l<0?l+o:l},modHalf:function(s,o){return Math.abs(s)>o/2?s-Math.round(s/o)*o:s}}},5487:function(a,s,o){var l=o(2770),c=o(3627).isArrayOrTypedArray;function u(v,y){return function(){var _,b,w,T,M,S=v;for(T=0;T<y.length-1;T++){if((_=y[T])===-1){for(b=!0,w=[],M=0;M<S.length;M++)w[M]=u(S[M],y.slice(T+1))(),w[M]!==w[0]&&(b=!1);return b?w[0]:w}if(typeof _=="number"&&!c(S)||typeof(S=S[_])!="object"||S===null)return}if(typeof S=="object"&&S!==null&&(w=S[y[T]])!==null)return w}}a.exports=function(v,y){if(l(y))y=String(y);else if(typeof y!="string"||y.substr(y.length-4)==="[-1]")throw"bad property string";var _,b,w,T,M=y.split(".");for(T=0;T<M.length;T++)if(String(M[T]).slice(0,2)==="__")throw"bad property string";for(T=0;T<M.length;){if(_=String(M[T]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(_[1])M[T]=_[1];else{if(T!==0)throw"bad property string";M.splice(0,1)}for(b=_[2].substr(1,_[2].length-2).split("]["),w=0;w<b.length;w++)T++,M.splice(T,0,Number(b[w]))}T++}return typeof v!="object"?function(S,E,A){return{set:function(){throw"bad container"},get:function(){},astr:E,parts:A,obj:S}}(v,y,M):{set:d(v,M,y),get:u(v,M),astr:y,parts:M,obj:v}};var f=/(^|\.)args\[/;function h(v,y){return v===void 0||v===null&&!y.match(f)}function d(v,y,_){return function(b){var w,T,M=v,S="",E=h(b,_);for(T=0;T<y.length-1;T++){if(typeof(w=y[T])=="number"&&!c(M))throw"array index but container is not an array";if(w===-1){if(E=!g(M,y.slice(T+1),b,_))break;return}if(!m(M,w,y[T+1],E))break;if(typeof(M=M[w])!="object"||M===null)throw"container is not an object";S=p(S,w)}if(E){if(T===y.length-1&&(delete M[y[T]],Array.isArray(M)&&+y[T]==M.length-1))for(;M.length&&M[M.length-1]===void 0;)M.pop()}else M[y[T]]=b}}function p(v,y){var _=y;return l(y)?_="["+y+"]":v&&(_="."+y),v+_}function g(v,y,_,b){var w,T=c(_),M=!0,S=_,E=b.replace("-1",0),A=!T&&h(_,E),O=y[0];for(w=0;w<v.length;w++)E=b.replace("-1",w),T&&(A=h(S=_[w%_.length],E)),A&&(M=!1),m(v,w,O,A)&&d(v[w],y,b.replace("-1",w))(S);return M}function m(v,y,_,b){if(v[y]===void 0){if(b)return!1;v[y]=typeof _=="number"?[]:{}}return!0}},4213:function(a){a.exports=function(){}},5046:function(a,s,o){var l=o(9898),c=o(2770),u=[];a.exports=function(f,h){if(u.indexOf(f)===-1){u.push(f);var d=1e3;c(h)?d=h:h==="long"&&(d=3e3);var p=l.select("body").selectAll(".plotly-notifier").data([0]);p.enter().append("div").classed("plotly-notifier",!0),p.selectAll(".notifier-note").data(u).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(m){var v=l.select(this);v.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){v.transition().call(g)});for(var y=v.append("p"),_=m.split(/<br\s*\/?>/g),b=0;b<_.length;b++)b&&y.append("br"),y.append("span").text(_[b]);h==="stick"?v.transition().duration(350).style("opacity",1):v.transition().duration(700).style("opacity",1).transition().delay(d).call(g)})}function g(m){m.duration(700).style("opacity",0).each("end",function(v){var y=u.indexOf(v);y!==-1&&u.splice(y,1),l.select(this).remove()})}}},9918:function(a,s,o){var l=o(6964),c="data-savedcursor";a.exports=function(u,f){var h=u.attr(c);if(f){if(!h){for(var d=(u.attr("class")||"").split(" "),p=0;p<d.length;p++){var g=d[p];g.indexOf("cursor-")===0&&u.attr(c,g.substr(7)).classed(g,!1)}u.attr(c)||u.attr(c,"!!")}l(u,f)}else h&&(u.attr(c,null),h==="!!"?l(u):l(u,h))}},1082:function(a,s,o){var l=o(5657).dot,c=o(606).BADNUM,u=a.exports={};u.tester=function(f){var h,d=f.slice(),p=d[0][0],g=p,m=d[0][1],v=m;for(d[d.length-1][0]===d[0][0]&&d[d.length-1][1]===d[0][1]||d.push(d[0]),h=1;h<d.length;h++)p=Math.min(p,d[h][0]),g=Math.max(g,d[h][0]),m=Math.min(m,d[h][1]),v=Math.max(v,d[h][1]);var y,_=!1;d.length===5&&(d[0][0]===d[1][0]?d[2][0]===d[3][0]&&d[0][1]===d[3][1]&&d[1][1]===d[2][1]&&(_=!0,y=function(T){return T[0]===d[0][0]}):d[0][1]===d[1][1]&&d[2][1]===d[3][1]&&d[0][0]===d[3][0]&&d[1][0]===d[2][0]&&(_=!0,y=function(T){return T[1]===d[0][1]}));var b=!0,w=d[0];for(h=1;h<d.length;h++)if(w[0]!==d[h][0]||w[1]!==d[h][1]){b=!1;break}return{xmin:p,xmax:g,ymin:m,ymax:v,pts:d,contains:_?function(T,M){var S=T[0],E=T[1];return!(S===c||S<p||S>g||E===c||E<m||E>v||M&&y(T))}:function(T,M){var S=T[0],E=T[1];if(S===c||S<p||S>g||E===c||E<m||E>v)return!1;var A,O,N,F,P,R=d.length,k=d[0][0],I=d[0][1],j=0;for(A=1;A<R;A++)if(O=k,N=I,k=d[A][0],I=d[A][1],!(S<(F=Math.min(O,k))||S>Math.max(O,k)||E>Math.max(N,I)))if(E<Math.min(N,I))S!==F&&j++;else{if(E===(P=k===O?E:N+(S-O)*(I-N)/(k-O)))return A!==1||!M;E<=P&&S!==F&&j++}return j%2==1},isRect:_,degenerate:b}},u.isSegmentBent=function(f,h,d,p){var g,m,v,y=f[h],_=[f[d][0]-y[0],f[d][1]-y[1]],b=l(_,_),w=Math.sqrt(b),T=[-_[1]/w,_[0]/w];for(g=h+1;g<d;g++)if(m=[f[g][0]-y[0],f[g][1]-y[1]],(v=l(m,_))<0||v>b||Math.abs(l(m,T))>p)return!0;return!1},u.filter=function(f,h){var d=[f[0]],p=0,g=0;function m(v){f.push(v);var y=d.length,_=p;d.splice(g+1);for(var b=_+1;b<f.length;b++)(b===f.length-1||u.isSegmentBent(f,_,b+1,h))&&(d.push(f[b]),d.length<y-2&&(p=b,g=d.length-1),_=b)}return f.length>1&&m(f.pop()),{addPt:m,raw:f,filtered:d}}},5142:function(a,s,o){var l=o(2770),c=o(5791);a.exports=function(u){var f;if(typeof(f=u&&u.hasOwnProperty("userAgent")?u.userAgent:function(){var y;return typeof navigator<"u"&&(y=navigator.userAgent),y&&y.headers&&typeof y.headers["user-agent"]=="string"&&(y=y.headers["user-agent"]),y}())!="string")return!0;var h=c({ua:{headers:{"user-agent":f}},tablet:!0,featureDetect:!1});if(!h){for(var d=f.split(" "),p=1;p<d.length;p++)if(d[p].indexOf("Safari")!==-1)for(var g=p-1;g>-1;g--){var m=d[g];if(m.substr(0,8)==="Version/"){var v=m.substr(8).split(".")[0];if(l(v)&&(v=+v),v>=13)return!0}}}return h}},5138:function(a){a.exports=function(s,o){if(o instanceof RegExp){for(var l=o.toString(),c=0;c<s.length;c++)if(s[c]instanceof RegExp&&s[c].toString()===l)return s;s.push(o)}else!o&&o!==0||s.indexOf(o)!==-1||s.push(o);return s}},847:function(a,s,o){var l=o(1828),c=o(2075).dfltConfig,u={add:function(f,h,d,p,g){var m,v;f.undoQueue=f.undoQueue||{index:0,queue:[],sequence:!1},v=f.undoQueue.index,f.autoplay?f.undoQueue.inSequence||(f.autoplay=!1):(!f.undoQueue.sequence||f.undoQueue.beginSequence?(m={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},f.undoQueue.queue.splice(v,f.undoQueue.queue.length-v,m),f.undoQueue.index+=1):m=f.undoQueue.queue[v-1],f.undoQueue.beginSequence=!1,m&&(m.undo.calls.unshift(h),m.undo.args.unshift(d),m.redo.calls.push(p),m.redo.args.push(g)),f.undoQueue.queue.length>c.queueLength&&(f.undoQueue.queue.shift(),f.undoQueue.index--))},startSequence:function(f){f.undoQueue=f.undoQueue||{index:0,queue:[],sequence:!1},f.undoQueue.sequence=!0,f.undoQueue.beginSequence=!0},stopSequence:function(f){f.undoQueue=f.undoQueue||{index:0,queue:[],sequence:!1},f.undoQueue.sequence=!1,f.undoQueue.beginSequence=!1},undo:function(f){var h,d;if(!(f.undoQueue===void 0||isNaN(f.undoQueue.index)||f.undoQueue.index<=0)){for(f.undoQueue.index--,h=f.undoQueue.queue[f.undoQueue.index],f.undoQueue.inSequence=!0,d=0;d<h.undo.calls.length;d++)u.plotDo(f,h.undo.calls[d],h.undo.args[d]);f.undoQueue.inSequence=!1,f.autoplay=!1}},redo:function(f){var h,d;if(!(f.undoQueue===void 0||isNaN(f.undoQueue.index)||f.undoQueue.index>=f.undoQueue.queue.length)){for(h=f.undoQueue.queue[f.undoQueue.index],f.undoQueue.inSequence=!0,d=0;d<h.redo.calls.length;d++)u.plotDo(f,h.redo.calls[d],h.redo.args[d]);f.undoQueue.inSequence=!1,f.autoplay=!1,f.undoQueue.index++}},plotDo:function(f,h,d){f.autoplay=!0,d=function(p,g){for(var m,v=[],y=0;y<g.length;y++)m=g[y],v[y]=m===p?m:typeof m=="object"?Array.isArray(m)?l.extendDeep([],m):l.extendDeepAll({},m):m;return v}(f,d),h.apply(null,d)}};a.exports=u},587:function(a,s){s.counter=function(o,l,c,u){var f=(l||"")+(c?"":"$"),h=u===!1?"":"^";return o==="xy"?new RegExp(h+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+f):new RegExp(h+o+"([2-9]|[1-9][0-9]+)?"+f)}},6962:function(a){var s=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,o=/^[^\.\[\]]+$/;a.exports=function(l,c){for(;c;){var u=l.match(s);if(u)l=u[1];else{if(!l.match(o))throw new Error("bad relativeAttr call:"+[l,c]);l=""}if(c.charAt(0)!=="^")break;c=c.slice(1)}return l&&c.charAt(0)!=="["?l+"."+c:l+c}},1332:function(a,s,o){var l=o(3627).isArrayOrTypedArray,c=o(1965);a.exports=function u(f,h){for(var d in h){var p=h[d],g=f[d];if(g!==p)if(d.charAt(0)==="_"||typeof p=="function"){if(d in f)continue;f[d]=p}else if(l(p)&&l(g)&&c(p[0])){if(d==="customdata"||d==="ids")continue;for(var m=Math.min(p.length,g.length),v=0;v<m;v++)g[v]!==p[v]&&c(p[v])&&c(g[v])&&u(g[v],p[v])}else c(p)&&c(g)&&(u(g,p),Object.keys(g).length||delete f[d])}}},5888:function(a,s,o){var l=o(2770),c=o(7769),u=o(3389),f=o(606).BADNUM,h=1e-9;function d(v,y){return v<y}function p(v,y){return v<=y}function g(v,y){return v>y}function m(v,y){return v>=y}s.findBin=function(v,y,_){if(l(y.start))return _?Math.ceil((v-y.start)/y.size-h)-1:Math.floor((v-y.start)/y.size+h);var b,w,T=0,M=y.length,S=0,E=M>1?(y[M-1]-y[0])/(M-1):1;for(w=E>=0?_?d:p:_?m:g,v+=E*h*(_?-1:1)*(E>=0?1:-1);T<M&&S++<100;)w(y[b=Math.floor((T+M)/2)],v)?T=b+1:M=b;return S>90&&c.log("Long binary search..."),T-1},s.sorterAsc=function(v,y){return v-y},s.sorterDes=function(v,y){return y-v},s.distinctVals=function(v){var y,_=v.slice();for(_.sort(s.sorterAsc),y=_.length-1;y>-1&&_[y]===f;y--);for(var b,w=_[y]-_[0]||1,T=w/(y||1)/1e4,M=[],S=0;S<=y;S++){var E=_[S],A=E-b;b===void 0?(M.push(E),b=E):A>T&&(w=Math.min(w,A),M.push(E),b=E)}return{vals:M,minDiff:w}},s.roundUp=function(v,y,_){for(var b,w=0,T=y.length-1,M=0,S=_?0:1,E=_?1:0,A=_?Math.ceil:Math.floor;w<T&&M++<100;)y[b=A((w+T)/2)]<=v?w=b+S:T=b-E;return y[w]},s.sort=function(v,y){for(var _=0,b=0,w=1;w<v.length;w++){var T=y(v[w],v[w-1]);if(T<0?_=1:T>0&&(b=1),_&&b)return v.sort(y)}return b?v:v.reverse()},s.findIndexOfMin=function(v,y){y=y||u;for(var _,b=1/0,w=0;w<v.length;w++){var T=y(v[w]);T<b&&(b=T,_=w)}return _}},6964:function(a){a.exports=function(s,o){(s.attr("class")||"").split(" ").forEach(function(l){l.indexOf("cursor-")===0&&s.classed(l,!1)}),o&&s.classed("cursor-"+o,!0)}},8607:function(a){a.exports=function(s){return Object.keys(s).sort()}},38:function(a,s,o){var l=o(2770),c=o(3627).isArrayOrTypedArray;s.aggNums=function(u,f,h,d){var p,g;if((!d||d>h.length)&&(d=h.length),l(f)||(f=!1),c(h[0])){for(g=new Array(d),p=0;p<d;p++)g[p]=s.aggNums(u,f,h[p]);h=g}for(p=0;p<d;p++)l(f)?l(h[p])&&(f=u(+f,+h[p])):f=h[p];return f},s.len=function(u){return s.aggNums(function(f){return f+1},0,u)},s.mean=function(u,f){return f||(f=s.len(u)),s.aggNums(function(h,d){return h+d},0,u)/f},s.midRange=function(u){if(u!==void 0&&u.length!==0)return(s.aggNums(Math.max,null,u)+s.aggNums(Math.min,null,u))/2},s.variance=function(u,f,h){return f||(f=s.len(u)),l(h)||(h=s.mean(u,f)),s.aggNums(function(d,p){return d+Math.pow(p-h,2)},0,u)/f},s.stdev=function(u,f,h){return Math.sqrt(s.variance(u,f,h))},s.median=function(u){var f=u.slice().sort();return s.interp(f,.5)},s.interp=function(u,f){if(!l(f))throw"n should be a finite number";if((f=f*u.length-.5)<0)return u[0];if(f>u.length-1)return u[u.length-1];var h=f%1;return h*u[Math.ceil(f)]+(1-h)*u[Math.floor(f)]}},3893:function(a,s,o){var l=o(9898),c=o(1828),u=c.strTranslate,f=o(7922),h=o(8783).LINE_SPACING,d=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;s.convertToTspans=function(U,J,nt){var ct=U.text(),z=!U.attr("data-notex")&&J&&J._context.typesetMath&&typeof MathJax<"u"&&ct.match(d),W=l.select(U.node().parentNode);if(!W.empty()){var X=U.attr("class")?U.attr("class").split(" ")[0]:"text";return X+="-math",W.selectAll("svg."+X).remove(),W.selectAll("g."+X+"-group").remove(),U.style("display",null).attr({"data-unformatted":ct,"data-math":"N"}),z?(J&&J._promises||[]).push(new Promise(function(lt){U.style("display","none");var pt=parseInt(U.node().style.fontSize,10),rt={fontSize:pt};(function(V,B,H){var $,Z,Q,ot,st=parseInt((MathJax.version||"").split(".")[0]);if(st===2||st===3){var dt=function(){var Pt="math-output-"+c.randstr({},64),It=(ot=l.select("body").append("div").attr({id:Pt}).style({visibility:"hidden",position:"absolute","font-size":B.fontSize+"px"}).text(V.replace(p,"\\lt ").replace(g,"\\gt "))).node();return st===2?MathJax.Hub.Typeset(It):MathJax.typeset([It])},bt=function(){var Pt=ot.select(st===2?".MathJax_SVG":".MathJax"),It=!Pt.empty()&&ot.select("svg").node();if(It){var Dt,gt=It.getBoundingClientRect();Dt=st===2?l.select("body").select("#MathJax_SVG_glyphs"):Pt.select("defs"),H(Pt,Dt,gt)}else c.log("There was an error in the tex syntax.",V),H();ot.remove()};st===2?MathJax.Hub.Queue(function(){return Z=c.extendDeepAll({},MathJax.Hub.config),Q=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:m},displayAlign:"left"})},function(){if(($=MathJax.Hub.config.menuSettings.renderer)!=="SVG")return MathJax.Hub.setRenderer("SVG")},dt,bt,function(){if($!=="SVG")return MathJax.Hub.setRenderer($)},function(){return Q!==void 0&&(MathJax.Hub.processSectionDelay=Q),MathJax.Hub.Config(Z)}):st===3&&(Z=c.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=m,($=MathJax.config.startup.output)!=="svg"&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){dt(),bt(),$!=="svg"&&(MathJax.config.startup.output=$),MathJax.config=Z}))}else c.warn("No MathJax version:",MathJax.version)})(z[2],rt,function(V,B,H){W.selectAll("svg."+X).remove(),W.selectAll("g."+X+"-group").remove();var $=V&&V.select("svg");if(!$||!$.node())return it(),void lt();var Z=W.append("g").classed(X+"-group",!0).attr({"pointer-events":"none","data-unformatted":ct,"data-math":"Y"});Z.node().appendChild($.node()),B&&B.node()&&$.node().insertBefore(B.node().cloneNode(!0),$.node().firstChild);var Q=H.width,ot=H.height;$.attr({class:X,height:ot,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var st=U.node().style.fill||"black",dt=$.select("g");dt.attr({fill:st,stroke:st});var bt=dt.node().getBoundingClientRect(),Pt=bt.width,It=bt.height;(Pt>Q||It>ot)&&($.style("overflow","hidden"),Pt=(bt=$.node().getBoundingClientRect()).width,It=bt.height);var Dt=+U.attr("x"),gt=+U.attr("y"),_t=-(pt||U.node().getBoundingClientRect().height)/4;if(X[0]==="y")Z.attr({transform:"rotate("+[-90,Dt,gt]+")"+u(-Pt/2,_t-It/2)});else if(X[0]==="l")gt=_t-It/2;else if(X[0]==="a"&&X.indexOf("atitle")!==0)Dt=0,gt=_t;else{var wt=U.attr("text-anchor");Dt-=Pt*(wt==="middle"?.5:wt==="end"?1:0),gt=gt+_t-It/2}$.attr({x:Dt,y:gt}),nt&&nt.call(U,Z),lt(Z)})})):it(),U}function it(){W.empty()||(X=U.attr("class")+"-math",W.select("svg."+X).remove()),U.text("").style("white-space","pre");var lt=function(pt,rt){rt=rt.replace(T," ");var V,B=!1,H=[],$=-1;function Z(){$++;var Ct=document.createElementNS(f.svg,"tspan");l.select(Ct).attr({class:"line",dy:$*h+"em"}),pt.appendChild(Ct),V=Ct;var Mt=H;if(H=[{node:Ct}],Mt.length>1)for(var Nt=1;Nt<Mt.length;Nt++)Q(Mt[Nt])}function Q(Ct){var Mt,Nt=Ct.type,Rt={};if(Nt==="a"){Mt="a";var At=Ct.target,kt=Ct.href,Bt=Ct.popup;kt&&(Rt={"xlink:xlink:show":At==="_blank"||At.charAt(0)!=="_"?"new":"replace",target:At,"xlink:xlink:href":kt},Bt&&(Rt.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Bt+'");return false;'))}else Mt="tspan";Ct.style&&(Rt.style=Ct.style);var Lt=document.createElementNS(f.svg,Mt);if(Nt==="sup"||Nt==="sub"){ot(V,b),V.appendChild(Lt);var zt=document.createElementNS(f.svg,"tspan");ot(zt,b),l.select(zt).attr("dy",_[Nt]),Rt.dy=y[Nt],V.appendChild(Lt),V.appendChild(zt)}else V.appendChild(Lt);l.select(Lt).attr(Rt),V=Ct.node=Lt,H.push(Ct)}function ot(Ct,Mt){Ct.appendChild(document.createTextNode(Mt))}function st(Ct){if(H.length!==1){var Mt=H.pop();Ct!==Mt.type&&c.log("Start tag <"+Mt.type+"> doesnt match end tag <"+Ct+">. Pretending it did match.",rt),V=H[H.length-1].node}else c.log("Ignoring unexpected end tag </"+Ct+">.",rt)}E.test(rt)?Z():(V=pt,H=[{node:pt}]);for(var dt=rt.split(M),bt=0;bt<dt.length;bt++){var Pt=dt[bt],It=Pt.match(S),Dt=It&&It[2].toLowerCase(),gt=v[Dt];if(Dt==="br")Z();else if(gt===void 0)ot(V,j(Pt));else if(It[1])st(Dt);else{var _t=It[4],wt={type:Dt},Et=P(_t,A);if(Et?(Et=Et.replace(R,"$1 fill:"),gt&&(Et+=";"+gt)):gt&&(Et=gt),Et&&(wt.style=Et),Dt==="a"){B=!0;var ht=P(_t,O);if(ht){var vt=G(ht);vt&&(wt.href=vt,wt.target=P(_t,N)||"_blank",wt.popup=P(_t,F))}}Q(wt)}}return B}(U.node(),ct);lt&&U.style("pointer-events","all"),s.positionText(U),nt&&nt.call(U)}};var p=/(<|&lt;|&#60;)/g,g=/(>|&gt;|&#62;)/g,m=[["$","$"],["\\(","\\)"]],v={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},y={sub:"0.3em",sup:"-0.6em"},_={sub:"-0.21em",sup:"0.42em"},b="",w=["http:","https:","mailto:","",void 0,":"],T=s.NEWLINES=/(\r\n?|\n)/g,M=/(<[^<>]*>)/,S=/<(\/?)([^ >]*)(\s+(.*))?>/i,E=/<br(\s+.*)?>/i;s.BR_TAG_ALL=/<br(\s+.*)?>/gi;var A=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,O=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,N=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,F=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function P(U,J){if(!U)return null;var nt=U.match(J),ct=nt&&(nt[3]||nt[4]);return ct&&j(ct)}var R=/(^|;)\s*color:/;s.plainText=function(U,J){for(var nt=(J=J||{}).len!==void 0&&J.len!==-1?J.len:1/0,ct=J.allowedTags!==void 0?J.allowedTags:["br"],z=U.split(M),W=[],X="",it=0,lt=0;lt<z.length;lt++){var pt=z[lt],rt=pt.match(S),V=rt&&rt[2].toLowerCase();if(V)ct.indexOf(V)!==-1&&(W.push(pt),X=V);else{var B=pt.length;if(it+B<nt)W.push(pt),it+=B;else if(it<nt){var H=nt-it;X&&(X!=="br"||H<=3||B<=3)&&W.pop(),nt>3?W.push(pt.substr(0,H-3)+"..."):W.push(pt.substr(0,H));break}X=""}}return W.join("")};var k={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},I=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function j(U){return U.replace(I,function(J,nt){return(nt.charAt(0)==="#"?function(ct){if(!(ct>1114111)){var z=String.fromCodePoint;if(z)return z(ct);var W=String.fromCharCode;return ct<=65535?W(ct):W(55232+(ct>>10),ct%1024+56320)}}(nt.charAt(1)==="x"?parseInt(nt.substr(2),16):parseInt(nt.substr(1),10)):k[nt])||J})}function G(U){var J=encodeURI(decodeURI(U)),nt=document.createElement("a"),ct=document.createElement("a");nt.href=U,ct.href=J;var z=nt.protocol,W=ct.protocol;return w.indexOf(z)!==-1&&w.indexOf(W)!==-1?J:""}function q(U,J,nt){var ct,z,W,X=nt.horizontalAlign,it=nt.verticalAlign||"top",lt=U.node().getBoundingClientRect(),pt=J.node().getBoundingClientRect();return z=it==="bottom"?function(){return lt.bottom-ct.height}:it==="middle"?function(){return lt.top+(lt.height-ct.height)/2}:function(){return lt.top},W=X==="right"?function(){return lt.right-ct.width}:X==="center"?function(){return lt.left+(lt.width-ct.width)/2}:function(){return lt.left},function(){ct=this.node().getBoundingClientRect();var rt=W()-pt.left,V=z()-pt.top,B=nt.gd||{};if(nt.gd){B._fullLayout._calcInverseTransform(B);var H=c.apply3DTransform(B._fullLayout._invTransform)(rt,V);rt=H[0],V=H[1]}return this.style({top:V+"px",left:rt+"px","z-index":1e3}),this}}s.convertEntities=j,s.sanitizeHTML=function(U){U=U.replace(T," ");for(var J=document.createElement("p"),nt=J,ct=[],z=U.split(M),W=0;W<z.length;W++){var X=z[W],it=X.match(S),lt=it&&it[2].toLowerCase();if(lt in v)if(it[1])ct.length&&(nt=ct.pop());else{var pt=it[4],rt=P(pt,A),V=rt?{style:rt}:{};if(lt==="a"){var B=P(pt,O);if(B){var H=G(B);if(H){V.href=H;var $=P(pt,N);$&&(V.target=$)}}}var Z=document.createElement(lt);nt.appendChild(Z),l.select(Z).attr(V),nt=Z,ct.push(Z)}else nt.appendChild(document.createTextNode(j(X)))}return J.innerHTML},s.lineCount=function(U){return U.selectAll("tspan.line").size()||1},s.positionText=function(U,J,nt){return U.each(function(){var ct=l.select(this);function z(it,lt){return lt===void 0?(lt=ct.attr(it))===null&&(ct.attr(it,0),lt=0):ct.attr(it,lt),lt}var W=z("x",J),X=z("y",nt);this.nodeName==="text"&&ct.selectAll("tspan.line").attr({x:W,y:X})})};var et="1px ";s.makeTextShadow=function(U){return et+et+et+U+", -"+et+"-"+et+et+U+", "+et+"-"+et+et+U+", -"+et+et+et+U},s.makeEditable=function(U,J){var nt=J.gd,ct=J.delegate,z=l.dispatch("edit","input","cancel"),W=ct||U;if(U.style({"pointer-events":ct?"none":"all"}),U.size()!==1)throw new Error("boo");function X(){var lt,pt,rt,V,B;lt=l.select(nt).select(".svg-container"),pt=lt.append("div"),rt=U.node().style,V=parseFloat(rt.fontSize||12),(B=J.text)===void 0&&(B=U.attr("data-unformatted")),pt.classed("plugin-editable editable",!0).style({position:"absolute","font-family":rt.fontFamily||"Arial","font-size":V,color:J.fill||rt.fill||"black",opacity:1,"background-color":J.background||"transparent",outline:"#ffffff33 1px solid",margin:[-V/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(B).call(q(U,lt,J)).on("blur",function(){nt._editing=!1,U.text(this.textContent).style({opacity:1});var Z,Q=l.select(this).attr("class");(Z=Q?"."+Q.split(" ")[0]+"-math-group":"[class*=-math-group]")&&l.select(U.node().parentNode).select(Z).style({opacity:0});var ot=this.textContent;l.select(this).transition().duration(0).remove(),l.select(document).on("mouseup",null),z.edit.call(U,ot)}).on("focus",function(){var Z=this;nt._editing=!0,l.select(document).on("mouseup",function(){if(l.event.target===Z)return!1;document.activeElement===pt.node()&&pt.node().blur()})}).on("keyup",function(){l.event.which===27?(nt._editing=!1,U.style({opacity:1}),l.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),z.cancel.call(U,this.textContent)):(z.input.call(U,this.textContent),l.select(this).call(q(U,lt,J)))}).on("keydown",function(){l.event.which===13&&this.blur()}).call(it),U.style({opacity:0});var H,$=W.attr("class");(H=$?"."+$.split(" ")[0]+"-math-group":"[class*=-math-group]")&&l.select(U.node().parentNode).select(H).style({opacity:0})}function it(lt){var pt=lt.node(),rt=document.createRange();rt.selectNodeContents(pt);var V=window.getSelection();V.removeAllRanges(),V.addRange(rt),pt.focus()}return J.immediate?X():W.on("click",X),l.rebind(U,z,"on")}},9990:function(a,s){var o={};function l(c){c&&c.timer!==null&&(clearTimeout(c.timer),c.timer=null)}s.throttle=function(c,u,f){var h=o[c],d=Date.now();if(!h){for(var p in o)o[p].ts<d-6e4&&delete o[p];h=o[c]={ts:0,timer:null}}function g(){f(),h.ts=Date.now(),h.onDone&&(h.onDone(),h.onDone=null)}l(h),d>h.ts+u?g():h.timer=setTimeout(function(){g(),h.timer=null},u)},s.done=function(c){var u=o[c];return u&&u.timer?new Promise(function(f){var h=u.onDone;u.onDone=function(){h&&h(),f(),u.onDone=null}}):Promise.resolve()},s.clear=function(c){if(c)l(o[c]),delete o[c];else for(var u in o)s.clear(u)}},8163:function(a,s,o){var l=o(2770);a.exports=function(c,u){if(c>0)return Math.log(c)/Math.LN10;var f=Math.log(Math.min(u[0],u[1]))/Math.LN10;return l(f)||(f=Math.log(Math.max(u[0],u[1]))/Math.LN10-6),f}},7815:function(a){a.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},2177:function(a){a.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},4458:function(a,s,o){var l=o(3972);a.exports=function(c){for(var u,f,h=l.layoutArrayContainers,d=l.layoutArrayRegexes,p=c.split("[")[0],g=0;g<d.length;g++)if((f=c.match(d[g]))&&f.index===0){u=f[0];break}if(u||(u=h[h.indexOf(p)]),!u)return!1;var m=c.substr(u.length);return m?!!(f=m.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:u,index:Number(f[1]),property:f[3]||""}:{array:u,index:"",property:""}}},962:function(a,s,o){var l=o(1426).extendFlat,c=o(1965),u={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},f={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},h=u.flags.slice().concat(["fullReplot"]),d=f.flags.slice().concat("layoutReplot");function p(v){for(var y={},_=0;_<v.length;_++)y[v[_]]=!1;return y}function g(v,y,_){var b=l({},v);for(var w in b){var T=b[w];c(T)&&(b[w]=m(T,y,0,w))}return _==="from-root"&&(b.editType=y),b}function m(v,y,_,b){if(v.valType){var w=l({},v);if(w.editType=y,Array.isArray(v.items)){w.items=new Array(v.items.length);for(var T=0;T<v.items.length;T++)w.items[T]=m(v.items[T],y)}return w}return g(v,y,b.charAt(0)==="_"?"nested":"from-root")}a.exports={traces:u,layout:f,traceFlags:function(){return p(h)},layoutFlags:function(){return p(d)},update:function(v,y){var _=y.editType;if(_&&_!=="none")for(var b=_.split("+"),w=0;w<b.length;w++)v[b[w]]=!0},overrideAll:g}},8377:function(a,s,o){var l=o(2770),c=o(7812),u=o(3972),f=o(1828),h=o(4875),d=o(1675),p=o(7901),g=d.cleanId,m=d.getFromTrace,v=u.traceIs;function y(O,N){var F=O[N],P=N.charAt(0);F&&F!=="paper"&&(O[N]=g(F,P,!0))}function _(O){function N(F,P){var R=O[F],k=O.title&&O.title[P];R&&!k&&(O.title||(O.title={}),O.title[P]=O[F],delete O[F])}O&&(typeof O.title!="string"&&typeof O.title!="number"||(O.title={text:O.title}),N("titlefont","font"),N("titleposition","position"),N("titleside","side"),N("titleoffset","offset"))}function b(O){if(!f.isPlainObject(O))return!1;var N=O.name;return delete O.name,delete O.showlegend,(typeof N=="string"||typeof N=="number")&&String(N)}function w(O,N,F,P){if(F&&!P)return O;if(P&&!F||!O.trim())return N;if(!N.trim())return O;var R,k=Math.min(O.length,N.length);for(R=0;R<k&&O.charAt(R)===N.charAt(R);R++);return O.substr(0,R).trim()}function T(O){var N="middle",F="center";return typeof O=="string"&&(O.indexOf("top")!==-1?N="top":O.indexOf("bottom")!==-1&&(N="bottom"),O.indexOf("left")!==-1?F="left":O.indexOf("right")!==-1&&(F="right")),N+" "+F}function M(O,N){return N in O&&typeof O[N]=="object"&&Object.keys(O[N]).length===0}s.clearPromiseQueue=function(O){Array.isArray(O._promises)&&O._promises.length>0&&f.log("Clearing previous rejected promises from queue."),O._promises=[]},s.cleanLayout=function(O){var N,F;O||(O={}),O.xaxis1&&(O.xaxis||(O.xaxis=O.xaxis1),delete O.xaxis1),O.yaxis1&&(O.yaxis||(O.yaxis=O.yaxis1),delete O.yaxis1),O.scene1&&(O.scene||(O.scene=O.scene1),delete O.scene1);var P=(h.subplotsRegistry.cartesian||{}).attrRegex,R=(h.subplotsRegistry.polar||{}).attrRegex,k=(h.subplotsRegistry.ternary||{}).attrRegex,I=(h.subplotsRegistry.gl3d||{}).attrRegex,j=Object.keys(O);for(N=0;N<j.length;N++){var G=j[N];if(P&&P.test(G)){var q=O[G];q.anchor&&q.anchor!=="free"&&(q.anchor=g(q.anchor)),q.overlaying&&(q.overlaying=g(q.overlaying)),q.type||(q.isdate?q.type="date":q.islog?q.type="log":q.isdate===!1&&q.islog===!1&&(q.type="linear")),q.autorange!=="withzero"&&q.autorange!=="tozero"||(q.autorange=!0,q.rangemode="tozero"),delete q.islog,delete q.isdate,delete q.categories,M(q,"domain")&&delete q.domain,q.autotick!==void 0&&(q.tickmode===void 0&&(q.tickmode=q.autotick?"auto":"linear"),delete q.autotick),_(q)}else if(R&&R.test(G))_(O[G].radialaxis);else if(k&&k.test(G)){var et=O[G];_(et.aaxis),_(et.baxis),_(et.caxis)}else if(I&&I.test(G)){var U=O[G],J=U.cameraposition;if(Array.isArray(J)&&J[0].length===4){var nt=J[0],ct=J[1],z=J[2],W=c([],nt),X=[];for(F=0;F<3;++F)X[F]=ct[F]+z*W[2+4*F];U.camera={eye:{x:X[0],y:X[1],z:X[2]},center:{x:ct[0],y:ct[1],z:ct[2]},up:{x:0,y:0,z:1}},delete U.cameraposition}_(U.xaxis),_(U.yaxis),_(U.zaxis)}}var it=Array.isArray(O.annotations)?O.annotations.length:0;for(N=0;N<it;N++){var lt=O.annotations[N];f.isPlainObject(lt)&&(lt.ref&&(lt.ref==="paper"?(lt.xref="paper",lt.yref="paper"):lt.ref==="data"&&(lt.xref="x",lt.yref="y"),delete lt.ref),y(lt,"xref"),y(lt,"yref"))}var pt=Array.isArray(O.shapes)?O.shapes.length:0;for(N=0;N<pt;N++){var rt=O.shapes[N];f.isPlainObject(rt)&&(y(rt,"xref"),y(rt,"yref"))}var V=Array.isArray(O.images)?O.images.length:0;for(N=0;N<V;N++){var B=O.images[N];f.isPlainObject(B)&&(y(B,"xref"),y(B,"yref"))}var H=O.legend;return H&&(H.x>3?(H.x=1.02,H.xanchor="left"):H.x<-2&&(H.x=-.02,H.xanchor="right"),H.y>3?(H.y=1.02,H.yanchor="bottom"):H.y<-2&&(H.y=-.02,H.yanchor="top")),_(O),O.dragmode==="rotate"&&(O.dragmode="orbit"),p.clean(O),O.template&&O.template.layout&&s.cleanLayout(O.template.layout),O},s.cleanData=function(O){for(var N=0;N<O.length;N++){var F,P=O[N];if(P.type==="histogramy"&&"xbins"in P&&!("ybins"in P)&&(P.ybins=P.xbins,delete P.xbins),P.error_y&&"opacity"in P.error_y){var R=p.defaults,k=P.error_y.color||(v(P,"bar")?p.defaultLine:R[N%R.length]);P.error_y.color=p.addOpacity(p.rgb(k),p.opacity(k)*P.error_y.opacity),delete P.error_y.opacity}if("bardir"in P&&(P.bardir!=="h"||!v(P,"bar")&&P.type.substr(0,9)!=="histogram"||(P.orientation="h",s.swapXYData(P)),delete P.bardir),P.type==="histogramy"&&s.swapXYData(P),P.type!=="histogramx"&&P.type!=="histogramy"||(P.type="histogram"),"scl"in P&&!("colorscale"in P)&&(P.colorscale=P.scl,delete P.scl),"reversescl"in P&&!("reversescale"in P)&&(P.reversescale=P.reversescl,delete P.reversescl),P.xaxis&&(P.xaxis=g(P.xaxis,"x")),P.yaxis&&(P.yaxis=g(P.yaxis,"y")),v(P,"gl3d")&&P.scene&&(P.scene=h.subplotsRegistry.gl3d.cleanId(P.scene)),!v(P,"pie-like")&&!v(P,"bar-like"))if(Array.isArray(P.textposition))for(F=0;F<P.textposition.length;F++)P.textposition[F]=T(P.textposition[F]);else P.textposition&&(P.textposition=T(P.textposition));var I=u.getModule(P);if(I&&I.colorbar){var j=I.colorbar.container,G=j?P[j]:P;G&&G.colorscale&&(G.colorscale==="YIGnBu"&&(G.colorscale="YlGnBu"),G.colorscale==="YIOrRd"&&(G.colorscale="YlOrRd"))}if(P.type==="surface"&&f.isPlainObject(P.contours)){var q=["x","y","z"];for(F=0;F<q.length;F++){var et=P.contours[q[F]];f.isPlainObject(et)&&(et.highlightColor&&(et.highlightcolor=et.highlightColor,delete et.highlightColor),et.highlightWidth&&(et.highlightwidth=et.highlightWidth,delete et.highlightWidth))}}if(P.type==="candlestick"||P.type==="ohlc"){var U=(P.increasing||{}).showlegend!==!1,J=(P.decreasing||{}).showlegend!==!1,nt=b(P.increasing),ct=b(P.decreasing);if(nt!==!1&&ct!==!1){var z=w(nt,ct,U,J);z&&(P.name=z)}else!nt&&!ct||P.name||(P.name=nt||ct)}if(Array.isArray(P.transforms)){var W=P.transforms;for(F=0;F<W.length;F++){var X=W[F];if(f.isPlainObject(X))switch(X.type){case"filter":X.filtersrc&&(X.target=X.filtersrc,delete X.filtersrc),X.calendar&&(X.valuecalendar||(X.valuecalendar=X.calendar),delete X.calendar);break;case"groupby":if(X.styles=X.styles||X.style,X.styles&&!Array.isArray(X.styles)){var it=X.styles,lt=Object.keys(it);X.styles=[];for(var pt=0;pt<lt.length;pt++)X.styles.push({target:lt[pt],value:it[lt[pt]]})}}}}M(P,"line")&&delete P.line,"marker"in P&&(M(P.marker,"line")&&delete P.marker.line,M(P,"marker")&&delete P.marker),p.clean(P),P.autobinx&&(delete P.autobinx,delete P.xbins),P.autobiny&&(delete P.autobiny,delete P.ybins),_(P),P.colorbar&&_(P.colorbar),P.marker&&P.marker.colorbar&&_(P.marker.colorbar),P.line&&P.line.colorbar&&_(P.line.colorbar),P.aaxis&&_(P.aaxis),P.baxis&&_(P.baxis)}},s.swapXYData=function(O){var N;if(f.swapAttrs(O,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(O.z)&&Array.isArray(O.z[0])&&(O.transpose?delete O.transpose:O.transpose=!0),O.error_x&&O.error_y){var F=O.error_y,P="copy_ystyle"in F?F.copy_ystyle:!(F.color||F.thickness||F.width);f.swapAttrs(O,["error_?.copy_ystyle"]),P&&f.swapAttrs(O,["error_?.color","error_?.thickness","error_?.width"])}if(typeof O.hoverinfo=="string"){var R=O.hoverinfo.split("+");for(N=0;N<R.length;N++)R[N]==="x"?R[N]="y":R[N]==="y"&&(R[N]="x");O.hoverinfo=R.join("+")}},s.coerceTraceIndices=function(O,N){if(l(N))return[N];if(!Array.isArray(N)||!N.length)return O.data.map(function(R,k){return k});if(Array.isArray(N)){for(var F=[],P=0;P<N.length;P++)f.isIndex(N[P],O.data.length)?F.push(N[P]):f.warn("trace index (",N[P],") is not a number or is out of bounds");return F}return N},s.manageArrayContainers=function(O,N,F){var P=O.obj,R=O.parts,k=R.length,I=R[k-1],j=l(I);if(j&&N===null){var G=R.slice(0,k-1).join(".");f.nestedProperty(P,G).get().splice(I,1)}else j&&O.get()===void 0&&O.get()===void 0&&(F[O.astr]=null),O.set(N)};var S=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function E(O){var N=O.search(S);if(N>0)return O.substr(0,N)}s.hasParent=function(O,N){for(var F=E(N);F;){if(F in O)return!0;F=E(F)}return!1};var A=["x","y","z"];s.clearAxisTypes=function(O,N,F){for(var P=0;P<N.length;P++)for(var R=O._fullData[P],k=0;k<3;k++){var I=m(O,R,A[k]);if(I&&I.type!=="log"){var j=I._name,G=I._id.substr(1);if(G.substr(0,5)==="scene"){if(F[G]!==void 0)continue;j=G+"."+j}var q=j+".type";F[j]===void 0&&F[q]===void 0&&f.nestedProperty(O.layout,q).set(null)}}}},641:function(a,s,o){var l=o(2391);s._doPlot=l._doPlot,s.newPlot=l.newPlot,s.restyle=l.restyle,s.relayout=l.relayout,s.redraw=l.redraw,s.update=l.update,s._guiRestyle=l._guiRestyle,s._guiRelayout=l._guiRelayout,s._guiUpdate=l._guiUpdate,s._storeDirectGUIEdit=l._storeDirectGUIEdit,s.react=l.react,s.extendTraces=l.extendTraces,s.prependTraces=l.prependTraces,s.addTraces=l.addTraces,s.deleteTraces=l.deleteTraces,s.moveTraces=l.moveTraces,s.purge=l.purge,s.addFrames=l.addFrames,s.deleteFrames=l.deleteFrames,s.animate=l.animate,s.setPlotConfig=l.setPlotConfig;var c=o(4401).getGraphDiv,u=o(4031).eraseActiveShape;s.deleteActiveShape=function(h){return u(c(h))},s.toImage=o(403),s.validate=o(4936),s.downloadImage=o(7239);var f=o(6318);s.makeTemplate=f.makeTemplate,s.validateTemplate=f.validateTemplate},6611:function(a,s,o){var l=o(1965),c=o(4213),u=o(7769),f=o(5888).sorterAsc,h=o(3972);s.containerArrayMatch=o(4458);var d=s.isAddVal=function(g){return g==="add"||l(g)},p=s.isRemoveVal=function(g){return g===null||g==="remove"};s.applyContainerArrayChanges=function(g,m,v,y,_){var b=m.astr,w=h.getComponentMethod(b,"supplyLayoutDefaults"),T=h.getComponentMethod(b,"draw"),M=h.getComponentMethod(b,"drawOne"),S=y.replot||y.recalc||w===c||T===c,E=g.layout,A=g._fullLayout;if(v[""]){Object.keys(v).length>1&&u.warn("Full array edits are incompatible with other edits",b);var O=v[""][""];if(p(O))m.set(null);else{if(!Array.isArray(O))return u.warn("Unrecognized full array edit value",b,O),!0;m.set(O)}return!S&&(w(E,A),T(g),!0)}var N,F,P,R,k,I,j,G,q=Object.keys(v).map(Number).sort(f),et=m.get(),U=et||[],J=_(A,b).get(),nt=[],ct=-1,z=U.length;for(N=0;N<q.length;N++)if(R=v[P=q[N]],k=Object.keys(R),I=R[""],j=d(I),P<0||P>U.length-(j?0:1))u.warn("index out of range",b,P);else if(I!==void 0)k.length>1&&u.warn("Insertion & removal are incompatible with edits to the same index.",b,P),p(I)?nt.push(P):j?(I==="add"&&(I={}),U.splice(P,0,I),J&&J.splice(P,0,{})):u.warn("Unrecognized full object edit value",b,P,I),ct===-1&&(ct=P);else for(F=0;F<k.length;F++)G=b+"["+P+"].",_(U[P],k[F],G).set(R[k[F]]);for(N=nt.length-1;N>=0;N--)U.splice(nt[N],1),J&&J.splice(nt[N],1);if(U.length?et||m.set(U):m.set(null),S)return!1;if(w(E,A),M!==c){var W;if(ct===-1)W=q;else{for(z=Math.max(U.length,z),W=[],N=0;N<q.length&&!((P=q[N])>=ct);N++)W.push(P);for(N=ct;N<z;N++)W.push(N)}for(N=0;N<W.length;N++)M(g,W[N])}else T(g);return!0}},2391:function(a,s,o){var l=o(9898),c=o(2770),u=o(7035),f=o(1828),h=f.nestedProperty,d=o(1086),p=o(847),g=o(3972),m=o(6281),v=o(4875),y=o(9298),_=o(1424),b=o(7901),w=o(4305).initInteractions,T=o(7922),M=o(7322).clearOutline,S=o(2075).dfltConfig,E=o(6611),A=o(8377),O=o(1549),N=o(962),F=o(5555).AX_NAME_PATTERN,P=0;function R(ht){var vt=ht._fullLayout;vt._redrawFromAutoMarginCount?vt._redrawFromAutoMarginCount--:ht.emit("plotly_afterplot")}function k(ht,vt){try{ht._fullLayout._paper.style("background",vt)}catch(Ct){f.error(Ct)}}function I(ht,vt){k(ht,b.combine(vt,"white"))}function j(ht,vt){if(!ht._context){ht._context=f.extendDeep({},S);var Ct=l.select("base");ht._context._baseUrl=Ct.size()&&Ct.attr("href")?window.location.href.split("#")[0]:""}var Mt,Nt,Rt,At=ht._context;if(vt){for(Nt=Object.keys(vt),Mt=0;Mt<Nt.length;Mt++)(Rt=Nt[Mt])!=="editable"&&Rt!=="edits"&&Rt in At&&(Rt==="setBackground"&&vt[Rt]==="opaque"?At[Rt]=I:At[Rt]=vt[Rt]);vt.plot3dPixelRatio&&!At.plotGlPixelRatio&&(At.plotGlPixelRatio=At.plot3dPixelRatio);var kt=vt.editable;if(kt!==void 0)for(At.editable=kt,Nt=Object.keys(At.edits),Mt=0;Mt<Nt.length;Mt++)At.edits[Nt[Mt]]=kt;if(vt.edits)for(Nt=Object.keys(vt.edits),Mt=0;Mt<Nt.length;Mt++)(Rt=Nt[Mt])in At.edits&&(At.edits[Rt]=vt.edits[Rt]);At._exportedPlot=vt._exportedPlot}At.staticPlot&&(At.editable=!1,At.edits={},At.autosizable=!1,At.scrollZoom=!1,At.doubleClick=!1,At.showTips=!1,At.showLink=!1,At.displayModeBar=!1),At.displayModeBar!=="hover"||u||(At.displayModeBar=!0),At.setBackground!=="transparent"&&typeof At.setBackground=="function"||(At.setBackground=k),At._hasZeroHeight=At._hasZeroHeight||ht.clientHeight===0,At._hasZeroWidth=At._hasZeroWidth||ht.clientWidth===0;var Bt=At.scrollZoom,Lt=At._scrollZoom={};if(Bt===!0)Lt.cartesian=1,Lt.gl3d=1,Lt.geo=1,Lt.mapbox=1;else if(typeof Bt=="string"){var zt=Bt.split("+");for(Mt=0;Mt<zt.length;Mt++)Lt[zt[Mt]]=1}else Bt!==!1&&(Lt.gl3d=1,Lt.geo=1,Lt.mapbox=1)}function G(ht,vt){var Ct,Mt,Nt=vt+1,Rt=[];for(Ct=0;Ct<ht.length;Ct++)(Mt=ht[Ct])<0?Rt.push(Nt+Mt):Rt.push(Mt);return Rt}function q(ht,vt,Ct){var Mt,Nt;for(Mt=0;Mt<vt.length;Mt++){if((Nt=vt[Mt])!==parseInt(Nt,10))throw new Error("all values in "+Ct+" must be integers");if(Nt>=ht.data.length||Nt<-ht.data.length)throw new Error(Ct+" must be valid indices for gd.data.");if(vt.indexOf(Nt,Mt+1)>-1||Nt>=0&&vt.indexOf(-ht.data.length+Nt)>-1||Nt<0&&vt.indexOf(ht.data.length+Nt)>-1)throw new Error("each index in "+Ct+" must be unique.")}}function et(ht,vt,Ct){if(!Array.isArray(ht.data))throw new Error("gd.data must be an array.");if(vt===void 0)throw new Error("currentIndices is a required argument.");if(Array.isArray(vt)||(vt=[vt]),q(ht,vt,"currentIndices"),Ct===void 0||Array.isArray(Ct)||(Ct=[Ct]),Ct!==void 0&&q(ht,Ct,"newIndices"),Ct!==void 0&&vt.length!==Ct.length)throw new Error("current and new indices must be of equal length.")}function U(ht,vt,Ct,Mt,Nt){(function(Ut,ne,te,ae){var ue=f.isPlainObject(ae);if(!Array.isArray(Ut.data))throw new Error("gd.data must be an array");if(!f.isPlainObject(ne))throw new Error("update must be a key:value object");if(te===void 0)throw new Error("indices must be an integer or array of integers");for(var pe in q(Ut,te,"indices"),ne){if(!Array.isArray(ne[pe])||ne[pe].length!==te.length)throw new Error("attribute "+pe+" must be an array of length equal to indices array length");if(ue&&(!(pe in ae)||!Array.isArray(ae[pe])||ae[pe].length!==ne[pe].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}})(ht,vt,Ct,Mt);for(var Rt=function(Ut,ne,te,ae){var ue,pe,be,re,jt,$t=f.isPlainObject(ae),Jt=[];for(var qt in Array.isArray(te)||(te=[te]),te=G(te,Ut.data.length-1),ne)for(var Ce=0;Ce<te.length;Ce++){if(ue=Ut.data[te[Ce]],pe=(be=h(ue,qt)).get(),re=ne[qt][Ce],!f.isArrayOrTypedArray(re))throw new Error("attribute: "+qt+" index: "+Ce+" must be an array");if(!f.isArrayOrTypedArray(pe))throw new Error("cannot extend missing or non-array attribute: "+qt);if(pe.constructor!==re.constructor)throw new Error("cannot extend array with an array of a different type: "+qt);jt=$t?ae[qt][Ce]:ae,c(jt)||(jt=-1),Jt.push({prop:be,target:pe,insert:re,maxp:Math.floor(jt)})}return Jt}(ht,vt,Ct,Mt),At={},kt={},Bt=0;Bt<Rt.length;Bt++){var Lt=Rt[Bt].prop,zt=Rt[Bt].maxp,Gt=Nt(Rt[Bt].target,Rt[Bt].insert,zt);Lt.set(Gt[0]),Array.isArray(At[Lt.astr])||(At[Lt.astr]=[]),At[Lt.astr].push(Gt[1]),Array.isArray(kt[Lt.astr])||(kt[Lt.astr]=[]),kt[Lt.astr].push(Rt[Bt].target.length)}return{update:At,maxPoints:kt}}function J(ht,vt){var Ct=new ht.constructor(ht.length+vt.length);return Ct.set(ht),Ct.set(vt,ht.length),Ct}function nt(ht,vt,Ct,Mt){ht=f.getGraphDiv(ht),A.clearPromiseQueue(ht);var Nt={};if(typeof vt=="string")Nt[vt]=Ct;else{if(!f.isPlainObject(vt))return f.warn("Restyle fail.",vt,Ct,Mt),Promise.reject();Nt=f.extendFlat({},vt),Mt===void 0&&(Mt=Ct)}Object.keys(Nt).length&&(ht.changed=!0);var Rt=A.coerceTraceIndices(ht,Mt),At=X(ht,Nt,Rt),kt=At.flags;kt.calc&&(ht.calcdata=void 0),kt.clearAxisTypes&&A.clearAxisTypes(ht,Rt,{});var Bt=[];kt.fullReplot?Bt.push(s._doPlot):(Bt.push(v.previousPromises),v.supplyDefaults(ht),kt.markerSize&&(v.doCalcdata(ht),rt(Bt)),kt.style&&Bt.push(O.doTraceStyle),kt.colorbars&&Bt.push(O.doColorBars),Bt.push(R)),Bt.push(v.rehover,v.redrag,v.reselect),p.add(ht,nt,[ht,At.undoit,At.traces],nt,[ht,At.redoit,At.traces]);var Lt=f.syncOrAsync(Bt,ht);return Lt&&Lt.then||(Lt=Promise.resolve()),Lt.then(function(){return ht.emit("plotly_restyle",At.eventData),ht})}function ct(ht){return ht===void 0?null:ht}function z(ht,vt){return vt?function(Ct,Mt,Nt){var Rt=h(Ct,Mt),At=Rt.set;return Rt.set=function(kt){W((Nt||"")+Mt,Rt.get(),kt,ht),At(kt)},Rt}:h}function W(ht,vt,Ct,Mt){if(Array.isArray(vt)||Array.isArray(Ct))for(var Nt=Array.isArray(vt)?vt:[],Rt=Array.isArray(Ct)?Ct:[],At=Math.max(Nt.length,Rt.length),kt=0;kt<At;kt++)W(ht+"["+kt+"]",Nt[kt],Rt[kt],Mt);else if(f.isPlainObject(vt)||f.isPlainObject(Ct)){var Bt=f.isPlainObject(vt)?vt:{},Lt=f.isPlainObject(Ct)?Ct:{},zt=f.extendFlat({},Bt,Lt);for(var Gt in zt)W(ht+"."+Gt,Bt[Gt],Lt[Gt],Mt)}else Mt[ht]===void 0&&(Mt[ht]=ct(vt))}function X(ht,vt,Ct){var Mt,Nt=ht._fullLayout,Rt=ht._fullData,At=ht.data,kt=Nt._guiEditing,Bt=z(Nt._preGUI,kt),Lt=f.extendDeepAll({},vt);it(vt);var zt,Gt=N.traceFlags(),Ut={},ne={};function te(){return Ct.map(function(){})}function ae(Fe){var Be=y.id2name(Fe);zt.indexOf(Be)===-1&&zt.push(Be)}function ue(Fe){return"LAYOUT"+Fe+".autorange"}function pe(Fe){return"LAYOUT"+Fe+".range"}function be(Fe){for(var Be=Fe;Be<Rt.length;Be++)if(Rt[Be]._input===At[Fe])return Rt[Be]}function re(Fe,Be,Se){if(Array.isArray(Fe))Fe.forEach(function(Xe){re(Xe,Be,Se)});else if(!(Fe in vt)&&!A.hasParent(vt,Fe)){var Te;if(Fe.substr(0,6)==="LAYOUT")Te=Bt(ht.layout,Fe.replace("LAYOUT",""));else{var xe=Ct[Se];Te=z(Nt._tracePreGUI[be(xe)._fullInput.uid],kt)(At[xe],Fe)}Fe in ne||(ne[Fe]=te()),ne[Fe][Se]===void 0&&(ne[Fe][Se]=ct(Te.get())),Be!==void 0&&Te.set(Be)}}function jt(Fe){return function(Be){return Rt[Be][Fe]}}function $t(Fe){return function(Be,Se){return Be===!1?Rt[Ct[Se]][Fe]:null}}for(var Jt in vt){if(A.hasParent(vt,Jt))throw new Error("cannot set "+Jt+" and a parent attribute simultaneously");var qt,Ce,fe,Me,Ee,He,Ae=vt[Jt];if(Jt!=="autobinx"&&Jt!=="autobiny"||(Jt=Jt.charAt(Jt.length-1)+"bins",Ae=Array.isArray(Ae)?Ae.map($t(Jt)):Ae===!1?Ct.map(jt(Jt)):null),Ut[Jt]=Ae,Jt.substr(0,6)!=="LAYOUT"){for(ne[Jt]=te(),Mt=0;Mt<Ct.length;Mt++)if(qt=At[Ct[Mt]],Ce=be(Ct[Mt]),Me=(fe=z(Nt._tracePreGUI[Ce._fullInput.uid],kt)(qt,Jt)).get(),(Ee=Array.isArray(Ae)?Ae[Mt%Ae.length]:Ae)!==void 0){var $e=fe.parts[fe.parts.length-1],Oe=Jt.substr(0,Jt.length-$e.length-1),ft=Oe?Oe+".":"",mt=Oe?h(Ce,Oe).get():Ce;if((He=m.getTraceValObject(Ce,fe.parts))&&He.impliedEdits&&Ee!==null)for(var Ht in He.impliedEdits)re(f.relativeAttr(Jt,Ht),He.impliedEdits[Ht],Mt);else if($e!=="thicknessmode"&&$e!=="lenmode"||Me===Ee||Ee!=="fraction"&&Ee!=="pixels"||!mt){if(Jt==="type"&&(Ee==="pie"!=(Me==="pie")||Ee==="funnelarea"!=(Me==="funnelarea"))){var Vt="x",ee="y";Ee!=="bar"&&Me!=="bar"||qt.orientation!=="h"||(Vt="y",ee="x"),f.swapAttrs(qt,["?","?src"],"labels",Vt),f.swapAttrs(qt,["d?","?0"],"label",Vt),f.swapAttrs(qt,["?","?src"],"values",ee),Me==="pie"||Me==="funnelarea"?(h(qt,"marker.color").set(h(qt,"marker.colors").get()),Nt._pielayer.selectAll("g.trace").remove()):g.traceIs(qt,"cartesian")&&h(qt,"marker.colors").set(h(qt,"marker.color").get())}}else{var Xt=Nt._size,Qt=mt.orient,se=Qt==="top"||Qt==="bottom";if($e==="thicknessmode"){var he=se?Xt.h:Xt.w;re(ft+"thickness",mt.thickness*(Ee==="fraction"?1/he:he),Mt)}else{var ye=se?Xt.w:Xt.h;re(ft+"len",mt.len*(Ee==="fraction"?1/ye:ye),Mt)}}if(ne[Jt][Mt]=ct(Me),["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Jt)!==-1){if(Jt==="orientation"){fe.set(Ee);var oe=qt.x&&!qt.y?"h":"v";if((fe.get()||oe)===Ce.orientation)continue}else Jt==="orientationaxes"&&(qt.orientation={v:"h",h:"v"}[Ce.orientation]);A.swapXYData(qt),Gt.calc=Gt.clearAxisTypes=!0}else v.dataArrayContainers.indexOf(fe.parts[0])!==-1?(A.manageArrayContainers(fe,Ee,ne),Gt.calc=!0):(He?He.arrayOk&&!g.traceIs(Ce,"regl")&&(f.isArrayOrTypedArray(Ee)||f.isArrayOrTypedArray(Me))?Gt.calc=!0:N.update(Gt,He):Gt.calc=!0,fe.set(Ee))}if(["swapxyaxes","orientationaxes"].indexOf(Jt)!==-1&&y.swap(ht,Ct),Jt==="orientationaxes"){var Ue=h(ht.layout,"hovermode"),rn=Ue.get();rn==="x"?Ue.set("y"):rn==="y"?Ue.set("x"):rn==="x unified"?Ue.set("y unified"):rn==="y unified"&&Ue.set("x unified")}if(["orientation","type"].indexOf(Jt)!==-1){for(zt=[],Mt=0;Mt<Ct.length;Mt++){var Ne=At[Ct[Mt]];g.traceIs(Ne,"cartesian")&&(ae(Ne.xaxis||"x"),ae(Ne.yaxis||"y"))}re(zt.map(ue),!0,0),re(zt.map(pe),[0,1],0)}}else fe=Bt(ht.layout,Jt.replace("LAYOUT","")),ne[Jt]=[ct(fe.get())],fe.set(Array.isArray(Ae)?Ae[0]:Ae),Gt.calc=!0}return(Gt.calc||Gt.plot)&&(Gt.fullReplot=!0),{flags:Gt,undoit:ne,redoit:Ut,traces:Ct,eventData:f.extendDeepNoArrays([],[Lt,Ct])}}function it(ht){var vt,Ct,Mt,Nt=f.counterRegex("axis",".title",!1,!1),Rt=/colorbar\.title$/,At=Object.keys(ht);for(vt=0;vt<At.length;vt++)Ct=At[vt],Mt=ht[Ct],Ct!=="title"&&!Nt.test(Ct)&&!Rt.test(Ct)||typeof Mt!="string"&&typeof Mt!="number"?Ct.indexOf("titlefont")>-1&&Ct.indexOf("grouptitlefont")===-1?kt(Ct,Ct.replace("titlefont","title.font")):Ct.indexOf("titleposition")>-1?kt(Ct,Ct.replace("titleposition","title.position")):Ct.indexOf("titleside")>-1?kt(Ct,Ct.replace("titleside","title.side")):Ct.indexOf("titleoffset")>-1&&kt(Ct,Ct.replace("titleoffset","title.offset")):kt(Ct,Ct.replace("title","title.text"));function kt(Bt,Lt){ht[Lt]=ht[Bt],delete ht[Bt]}}function lt(ht,vt,Ct){ht=f.getGraphDiv(ht),A.clearPromiseQueue(ht);var Mt={};if(typeof vt=="string")Mt[vt]=Ct;else{if(!f.isPlainObject(vt))return f.warn("Relayout fail.",vt,Ct),Promise.reject();Mt=f.extendFlat({},vt)}Object.keys(Mt).length&&(ht.changed=!0);var Nt=$(ht,Mt),Rt=Nt.flags;Rt.calc&&(ht.calcdata=void 0);var At=[v.previousPromises];Rt.layoutReplot?At.push(O.layoutReplot):Object.keys(Mt).length&&(pt(ht,Rt,Nt)||v.supplyDefaults(ht),Rt.legend&&At.push(O.doLegend),Rt.layoutstyle&&At.push(O.layoutStyles),Rt.axrange&&rt(At,Nt.rangesAltered),Rt.ticks&&At.push(O.doTicksRelayout),Rt.modebar&&At.push(O.doModeBar),Rt.camera&&At.push(O.doCamera),Rt.colorbars&&At.push(O.doColorBars),At.push(R)),At.push(v.rehover,v.redrag,v.reselect),p.add(ht,lt,[ht,Nt.undoit],lt,[ht,Nt.redoit]);var kt=f.syncOrAsync(At,ht);return kt&&kt.then||(kt=Promise.resolve(ht)),kt.then(function(){return ht.emit("plotly_relayout",Nt.eventData),ht})}function pt(ht,vt,Ct){var Mt=ht._fullLayout;if(!vt.axrange)return!1;for(var Nt in vt)if(Nt!=="axrange"&&vt[Nt])return!1;for(var Rt in Ct.rangesAltered){var At=y.id2name(Rt),kt=ht.layout[At],Bt=Mt[At];Bt.autorange=kt.autorange;var Lt=Bt._rangeInitial0,zt=Bt._rangeInitial1;if(Lt===void 0&&zt!==void 0||Lt!==void 0&&zt===void 0)return!1;if(kt.range&&(Bt.range=kt.range.slice()),Bt.cleanRange(),Bt._matchGroup){for(var Gt in Bt._matchGroup)if(Gt!==Rt){var Ut=Mt[y.id2name(Gt)];Ut.autorange=Bt.autorange,Ut.range=Bt.range.slice(),Ut._input.range=Bt.range.slice()}}}return!0}function rt(ht,vt){var Ct=vt?function(Mt){var Nt=[];for(var Rt in vt){var At=y.getFromId(Mt,Rt);if(Nt.push(Rt),(At.ticklabelposition||"").indexOf("inside")!==-1&&At._anchorAxis&&Nt.push(At._anchorAxis._id),At._matchGroup)for(var kt in At._matchGroup)vt[kt]||Nt.push(kt)}return y.draw(Mt,Nt,{skipTitle:!0})}:function(Mt){return y.draw(Mt,"redraw")};ht.push(M,O.doAutoRangeAndConstraints,Ct,O.drawData,O.finalDraw)}var V=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,B=/^[xyz]axis[0-9]*\.autorange$/,H=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function $(ht,vt){var Ct,Mt,Nt,Rt=ht.layout,At=ht._fullLayout,kt=At._guiEditing,Bt=z(At._preGUI,kt),Lt=Object.keys(vt),zt=y.list(ht),Gt=f.extendDeepAll({},vt),Ut={};for(it(vt),Lt=Object.keys(vt),Mt=0;Mt<Lt.length;Mt++)if(Lt[Mt].indexOf("allaxes")===0){for(Nt=0;Nt<zt.length;Nt++){var ne=zt[Nt]._id.substr(1),te=ne.indexOf("scene")!==-1?ne+".":"",ae=Lt[Mt].replace("allaxes",te+zt[Nt]._name);vt[ae]||(vt[ae]=vt[Lt[Mt]])}delete vt[Lt[Mt]]}var ue=N.layoutFlags(),pe={},be={};function re(Xe,Ve){if(Array.isArray(Xe))Xe.forEach(function(ge){re(ge,Ve)});else if(!(Xe in vt)&&!A.hasParent(vt,Xe)){var an=Bt(Rt,Xe);Xe in be||(be[Xe]=ct(an.get())),Ve!==void 0&&an.set(Ve)}}var jt,$t={};function Jt(Xe){var Ve=y.name2id(Xe.split(".")[0]);return $t[Ve]=1,Ve}for(var qt in vt){if(A.hasParent(vt,qt))throw new Error("cannot set "+qt+" and a parent attribute simultaneously");for(var Ce=Bt(Rt,qt),fe=vt[qt],Me=Ce.parts.length-1;Me>0&&typeof Ce.parts[Me]!="string";)Me--;var Ee=Ce.parts[Me],He=Ce.parts[Me-1]+"."+Ee,Ae=Ce.parts.slice(0,Me).join("."),$e=h(ht.layout,Ae).get(),Oe=h(At,Ae).get(),ft=Ce.get();if(fe!==void 0){pe[qt]=fe,be[qt]=Ee==="reverse"?fe:ct(ft);var mt=m.getLayoutValObject(At,Ce.parts);if(mt&&mt.impliedEdits&&fe!==null)for(var Ht in mt.impliedEdits)re(f.relativeAttr(qt,Ht),mt.impliedEdits[Ht]);if(["width","height"].indexOf(qt)!==-1)if(fe){re("autosize",null);var Vt=qt==="height"?"width":"height";re(Vt,At[Vt])}else At[qt]=ht._initialAutoSize[qt];else if(qt==="autosize")re("width",fe?null:At.width),re("height",fe?null:At.height);else if(He.match(V))Jt(He),h(At,Ae+"._inputRange").set(null);else if(He.match(B)){Jt(He),h(At,Ae+"._inputRange").set(null);var ee=h(At,Ae).get();ee._inputDomain&&(ee._input.domain=ee._inputDomain.slice())}else He.match(H)&&h(At,Ae+"._inputDomain").set(null);if(Ee==="type"){jt=$e;var Xt=Oe.type==="linear"&&fe==="log",Qt=Oe.type==="log"&&fe==="linear";if(Xt||Qt){if(jt&&jt.range)if(Oe.autorange)Xt&&(jt.range=jt.range[1]>jt.range[0]?[1,2]:[2,1]);else{var se=jt.range[0],he=jt.range[1];Xt?(se<=0&&he<=0&&re(Ae+".autorange",!0),se<=0?se=he/1e6:he<=0&&(he=se/1e6),re(Ae+".range[0]",Math.log(se)/Math.LN10),re(Ae+".range[1]",Math.log(he)/Math.LN10)):(re(Ae+".range[0]",Math.pow(10,se)),re(Ae+".range[1]",Math.pow(10,he)))}else re(Ae+".autorange",!0);Array.isArray(At._subplots.polar)&&At._subplots.polar.length&&At[Ce.parts[0]]&&Ce.parts[1]==="radialaxis"&&delete At[Ce.parts[0]]._subplot.viewInitial["radialaxis.range"],g.getComponentMethod("annotations","convertCoords")(ht,Oe,fe,re),g.getComponentMethod("images","convertCoords")(ht,Oe,fe,re)}else re(Ae+".autorange",!0),re(Ae+".range",null);h(At,Ae+"._inputRange").set(null)}else if(Ee.match(F)){var ye=h(At,qt).get(),oe=(fe||{}).type;oe&&oe!=="-"||(oe="linear"),g.getComponentMethod("annotations","convertCoords")(ht,ye,oe,re),g.getComponentMethod("images","convertCoords")(ht,ye,oe,re)}var Ue=E.containerArrayMatch(qt);if(Ue){Ct=Ue.array,Mt=Ue.index;var rn=Ue.property,Ne=mt||{editType:"calc"};Mt!==""&&rn===""&&(E.isAddVal(fe)?be[qt]=null:E.isRemoveVal(fe)?be[qt]=(h(Rt,Ct).get()||[])[Mt]:f.warn("unrecognized full object value",vt)),N.update(ue,Ne),Ut[Ct]||(Ut[Ct]={});var Fe=Ut[Ct][Mt];Fe||(Fe=Ut[Ct][Mt]={}),Fe[rn]=fe,delete vt[qt]}else Ee==="reverse"?($e.range?$e.range.reverse():(re(Ae+".autorange",!0),$e.range=[1,0]),Oe.autorange?ue.calc=!0:ue.plot=!0):(qt==="dragmode"&&(fe===!1&&ft!==!1||fe!==!1&&ft===!1)||At._has("scatter-like")&&At._has("regl")&&qt==="dragmode"&&(fe==="lasso"||fe==="select")&&ft!=="lasso"&&ft!=="select"||At._has("gl2d")?ue.plot=!0:mt?N.update(ue,mt):ue.calc=!0,Ce.set(fe))}}for(Ct in Ut)E.applyContainerArrayChanges(ht,Bt(Rt,Ct),Ut[Ct],ue,Bt)||(ue.plot=!0);for(var Be in $t){var Se=(jt=y.getFromId(ht,Be))&&jt._constraintGroup;if(Se)for(var Te in ue.calc=!0,Se)$t[Te]||(y.getFromId(ht,Te)._constraintShrinkable=!0)}(Z(ht)||vt.height||vt.width)&&(ue.plot=!0);var xe=At.shapes;for(Mt=0;Mt<xe.length;Mt++)if(xe[Mt].showlegend){ue.calc=!0;break}return(ue.plot||ue.calc)&&(ue.layoutReplot=!0),{flags:ue,rangesAltered:$t,undoit:be,redoit:pe,eventData:Gt}}function Z(ht){var vt=ht._fullLayout,Ct=vt.width,Mt=vt.height;return ht.layout.autosize&&v.plotAutoSize(ht,ht.layout,vt),vt.width!==Ct||vt.height!==Mt}function Q(ht,vt,Ct,Mt){ht=f.getGraphDiv(ht),A.clearPromiseQueue(ht),f.isPlainObject(vt)||(vt={}),f.isPlainObject(Ct)||(Ct={}),Object.keys(vt).length&&(ht.changed=!0),Object.keys(Ct).length&&(ht.changed=!0);var Nt=A.coerceTraceIndices(ht,Mt),Rt=X(ht,f.extendFlat({},vt),Nt),At=Rt.flags,kt=$(ht,f.extendFlat({},Ct)),Bt=kt.flags;(At.calc||Bt.calc)&&(ht.calcdata=void 0),At.clearAxisTypes&&A.clearAxisTypes(ht,Nt,Ct);var Lt=[];Bt.layoutReplot?Lt.push(O.layoutReplot):At.fullReplot?Lt.push(s._doPlot):(Lt.push(v.previousPromises),pt(ht,Bt,kt)||v.supplyDefaults(ht),At.style&&Lt.push(O.doTraceStyle),(At.colorbars||Bt.colorbars)&&Lt.push(O.doColorBars),Bt.legend&&Lt.push(O.doLegend),Bt.layoutstyle&&Lt.push(O.layoutStyles),Bt.axrange&&rt(Lt,kt.rangesAltered),Bt.ticks&&Lt.push(O.doTicksRelayout),Bt.modebar&&Lt.push(O.doModeBar),Bt.camera&&Lt.push(O.doCamera),Lt.push(R)),Lt.push(v.rehover,v.redrag,v.reselect),p.add(ht,Q,[ht,Rt.undoit,kt.undoit,Rt.traces],Q,[ht,Rt.redoit,kt.redoit,Rt.traces]);var zt=f.syncOrAsync(Lt,ht);return zt&&zt.then||(zt=Promise.resolve(ht)),zt.then(function(){return ht.emit("plotly_update",{data:Rt.eventData,layout:kt.eventData}),ht})}function ot(ht){return function(vt){vt._fullLayout._guiEditing=!0;var Ct=ht.apply(null,arguments);return vt._fullLayout._guiEditing=!1,Ct}}var st=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],dt=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function bt(ht,vt){for(var Ct=0;Ct<vt.length;Ct++){var Mt=vt[Ct],Nt=ht.match(Mt.pattern);if(Nt){var Rt=Nt[1]||"";return{head:Rt,tail:ht.substr(Rt.length+1),attr:Mt.attr}}}}function Pt(ht,vt){var Ct=h(vt,ht).get();if(Ct!==void 0)return Ct;var Mt=ht.split(".");for(Mt.pop();Mt.length>1;)if(Mt.pop(),(Ct=h(vt,Mt.join(".")+".uirevision").get())!==void 0)return Ct;return vt.uirevision}function It(ht,vt){for(var Ct=0;Ct<vt.length;Ct++)if(vt[Ct]._fullInput.uid===ht)return Ct;return-1}function Dt(ht,vt,Ct){for(var Mt=0;Mt<vt.length;Mt++)if(vt[Mt].uid===ht)return Mt;return!vt[Ct]||vt[Ct].uid?-1:Ct}function gt(ht,vt){var Ct=f.isPlainObject(ht),Mt=Array.isArray(ht);return Ct||Mt?(Ct&&f.isPlainObject(vt)||Mt&&Array.isArray(vt))&&JSON.stringify(ht)===JSON.stringify(vt):ht===vt}function _t(ht,vt,Ct,Mt){var Nt,Rt,At,kt=Mt.getValObject,Bt=Mt.flags,Lt=Mt.immutable,zt=Mt.inArray,Gt=Mt.arrayIndex;function Ut(){var $e=Nt.editType;zt&&$e.indexOf("arraydraw")!==-1?f.pushUnique(Bt.arrays[zt],Gt):(N.update(Bt,Nt),$e!=="none"&&Bt.nChanges++,Mt.transition&&Nt.anim&&Bt.nChangesAnim++,(V.test(At)||B.test(At))&&(Bt.rangesAltered[Ct[0]]=1),H.test(At)&&h(vt,"_inputDomain").set(null),Rt==="datarevision"&&(Bt.newDataRevision=1))}function ne($e){return $e.valType==="data_array"||$e.arrayOk}for(Rt in ht){if(Bt.calc&&!Mt.transition)return;var te=ht[Rt],ae=vt[Rt],ue=Ct.concat(Rt);if(At=ue.join("."),Rt.charAt(0)!=="_"&&typeof te!="function"&&te!==ae){if((Rt==="tick0"||Rt==="dtick")&&Ct[0]!=="geo"){var pe=vt.tickmode;if(pe==="auto"||pe==="array"||!pe)continue}if((Rt!=="range"||!vt.autorange)&&(Rt!=="zmin"&&Rt!=="zmax"||vt.type!=="contourcarpet")&&(Nt=kt(ue))&&(!Nt._compareAsJSON||JSON.stringify(te)!==JSON.stringify(ae))){var be,re=Nt.valType,jt=ne(Nt),$t=Array.isArray(te),Jt=Array.isArray(ae);if($t&&Jt){var qt="_input_"+Rt,Ce=ht[qt],fe=vt[qt];if(Array.isArray(Ce)&&Ce===fe)continue}if(ae===void 0)jt&&$t?Bt.calc=!0:Ut();else if(Nt._isLinkedToArray){var Me=[],Ee=!1;zt||(Bt.arrays[Rt]=Me);var He=Math.min(te.length,ae.length),Ae=Math.max(te.length,ae.length);if(He!==Ae){if(Nt.editType!=="arraydraw"){Ut();continue}Ee=!0}for(be=0;be<He;be++)_t(te[be],ae[be],ue.concat(be),f.extendFlat({inArray:Rt,arrayIndex:be},Mt));if(Ee)for(be=He;be<Ae;be++)Me.push(be)}else!re&&f.isPlainObject(te)?_t(te,ae,ue,Mt):jt?$t&&Jt?(Lt&&(Bt.calc=!0),(Lt||Mt.newDataRevision)&&Ut()):$t!==Jt?Bt.calc=!0:Ut():$t&&Jt&&te.length===ae.length&&String(te)===String(ae)||Ut()}}}for(Rt in vt)if(!(Rt in ht)&&Rt.charAt(0)!=="_"&&typeof vt[Rt]!="function"){if(ne(Nt=kt(Ct.concat(Rt)))&&Array.isArray(vt[Rt]))return void(Bt.calc=!0);Ut()}}function wt(ht,vt){var Ct;for(Ct in ht)if(Ct.charAt(0)!=="_"){var Mt=ht[Ct],Nt=vt[Ct];if(Mt!==Nt)if(f.isPlainObject(Mt)&&f.isPlainObject(Nt)){if(wt(Mt,Nt))return!0}else{if(!Array.isArray(Mt)||!Array.isArray(Nt)||Mt.length!==Nt.length)return!0;for(var Rt=0;Rt<Mt.length;Rt++)if(Mt[Rt]!==Nt[Rt]&&(!f.isPlainObject(Mt[Rt])||!f.isPlainObject(Nt[Rt])||wt(Mt[Rt],Nt[Rt])))return!0}}}function Et(ht){var vt=ht._fullLayout,Ct=ht.getBoundingClientRect();if(!f.equalDomRects(Ct,vt._lastBBox)){var Mt=vt._invTransform=f.inverseTransformMatrix(f.getFullTransformMatrix(ht));vt._invScaleX=Math.sqrt(Mt[0][0]*Mt[0][0]+Mt[0][1]*Mt[0][1]+Mt[0][2]*Mt[0][2]),vt._invScaleY=Math.sqrt(Mt[1][0]*Mt[1][0]+Mt[1][1]*Mt[1][1]+Mt[1][2]*Mt[1][2]),vt._lastBBox=Ct}}s.animate=function(ht,vt,Ct){if(ht=f.getGraphDiv(ht),!f.isPlotDiv(ht))throw new Error("This element is not a Plotly plot: "+ht+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Mt=ht._transitionData;Mt._frameQueue||(Mt._frameQueue=[]);var Nt=(Ct=v.supplyAnimationDefaults(Ct)).transition,Rt=Ct.frame;function At(Lt){return Array.isArray(Nt)?Lt>=Nt.length?Nt[0]:Nt[Lt]:Nt}function kt(Lt){return Array.isArray(Rt)?Lt>=Rt.length?Rt[0]:Rt[Lt]:Rt}function Bt(Lt,zt){var Gt=0;return function(){if(Lt&&++Gt===zt)return Lt()}}return Mt._frameWaitingCnt===void 0&&(Mt._frameWaitingCnt=0),new Promise(function(Lt,zt){function Gt(){ht.emit("plotly_animating"),Mt._lastFrameAt=-1/0,Mt._timeToNext=0,Mt._runningTransitions=0,Mt._currentFrame=null;var qt=function(){Mt._animationRaf=window.requestAnimationFrame(qt),Date.now()-Mt._lastFrameAt>Mt._timeToNext&&function(){Mt._currentFrame&&Mt._currentFrame.onComplete&&Mt._currentFrame.onComplete();var Ce=Mt._currentFrame=Mt._frameQueue.shift();if(Ce){var fe=Ce.name?Ce.name.toString():null;ht._fullLayout._currentFrame=fe,Mt._lastFrameAt=Date.now(),Mt._timeToNext=Ce.frameOpts.duration,v.transition(ht,Ce.frame.data,Ce.frame.layout,A.coerceTraceIndices(ht,Ce.frame.traces),Ce.frameOpts,Ce.transitionOpts).then(function(){Ce.onComplete&&Ce.onComplete()}),ht.emit("plotly_animatingframe",{name:fe,frame:Ce.frame,animation:{frame:Ce.frameOpts,transition:Ce.transitionOpts}})}else ht.emit("plotly_animated"),window.cancelAnimationFrame(Mt._animationRaf),Mt._animationRaf=null}()};qt()}var Ut,ne,te=0;function ae(qt){return Array.isArray(Nt)?te>=Nt.length?qt.transitionOpts=Nt[te]:qt.transitionOpts=Nt[0]:qt.transitionOpts=Nt,te++,qt}var ue=[],pe=vt==null,be=Array.isArray(vt);if(pe||be||!f.isPlainObject(vt)){if(pe||["string","number"].indexOf(typeof vt)!==-1)for(Ut=0;Ut<Mt._frames.length;Ut++)(ne=Mt._frames[Ut])&&(pe||String(ne.group)===String(vt))&&ue.push({type:"byname",name:String(ne.name),data:ae({name:ne.name})});else if(be)for(Ut=0;Ut<vt.length;Ut++){var re=vt[Ut];["number","string"].indexOf(typeof re)!==-1?(re=String(re),ue.push({type:"byname",name:re,data:ae({name:re})})):f.isPlainObject(re)&&ue.push({type:"object",data:ae(f.extendFlat({},re))})}}else ue.push({type:"object",data:ae(f.extendFlat({},vt))});for(Ut=0;Ut<ue.length;Ut++)if((ne=ue[Ut]).type==="byname"&&!Mt._frameHash[ne.data.name])return f.warn('animate failure: frame not found: "'+ne.data.name+'"'),void zt();["next","immediate"].indexOf(Ct.mode)!==-1&&function(){if(Mt._frameQueue.length!==0){for(;Mt._frameQueue.length;){var qt=Mt._frameQueue.pop();qt.onInterrupt&&qt.onInterrupt()}ht.emit("plotly_animationinterrupted",[])}}(),Ct.direction==="reverse"&&ue.reverse();var jt=ht._fullLayout._currentFrame;if(jt&&Ct.fromcurrent){var $t=-1;for(Ut=0;Ut<ue.length;Ut++)if((ne=ue[Ut]).type==="byname"&&ne.name===jt){$t=Ut;break}if($t>0&&$t<ue.length-1){var Jt=[];for(Ut=0;Ut<ue.length;Ut++)ne=ue[Ut],(ue[Ut].type!=="byname"||Ut>$t)&&Jt.push(ne);ue=Jt}}ue.length>0?function(qt){if(qt.length!==0){for(var Ce=0;Ce<qt.length;Ce++){var fe;fe=qt[Ce].type==="byname"?v.computeFrame(ht,qt[Ce].name):qt[Ce].data;var Me=kt(Ce),Ee=At(Ce);Ee.duration=Math.min(Ee.duration,Me.duration);var He={frame:fe,name:qt[Ce].name,frameOpts:Me,transitionOpts:Ee};Ce===qt.length-1&&(He.onComplete=Bt(Lt,2),He.onInterrupt=zt),Mt._frameQueue.push(He)}Ct.mode==="immediate"&&(Mt._lastFrameAt=-1/0),Mt._animationRaf||Gt()}}(ue):(ht.emit("plotly_animated"),Lt())})},s.addFrames=function(ht,vt,Ct){if(ht=f.getGraphDiv(ht),vt==null)return Promise.resolve();if(!f.isPlotDiv(ht))throw new Error("This element is not a Plotly plot: "+ht+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Mt,Nt,Rt,At,kt=ht._transitionData._frames,Bt=ht._transitionData._frameHash;if(!Array.isArray(vt))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+vt);var Lt=kt.length+2*vt.length,zt=[],Gt={};for(Mt=vt.length-1;Mt>=0;Mt--)if(f.isPlainObject(vt[Mt])){var Ut=vt[Mt].name,ne=(Bt[Ut]||Gt[Ut]||{}).name,te=vt[Mt].name,ae=Bt[ne]||Gt[ne];ne&&te&&typeof te=="number"&&ae&&P<5&&(P++,f.warn('addFrames: overwriting frame "'+(Bt[ne]||Gt[ne]).name+'" with a frame whose name of type "number" also equates to "'+ne+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),P===5&&f.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Gt[Ut]={name:Ut},zt.push({frame:v.supplyFrameDefaults(vt[Mt]),index:Ct&&Ct[Mt]!==void 0&&Ct[Mt]!==null?Ct[Mt]:Lt+Mt})}zt.sort(function(qt,Ce){return qt.index>Ce.index?-1:qt.index<Ce.index?1:0});var ue=[],pe=[],be=kt.length;for(Mt=zt.length-1;Mt>=0;Mt--){if(typeof(Nt=zt[Mt].frame).name=="number"&&f.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Nt.name)for(;Bt[Nt.name="frame "+ht._transitionData._counter++];);if(Bt[Nt.name]){for(Rt=0;Rt<kt.length&&(kt[Rt]||{}).name!==Nt.name;Rt++);ue.push({type:"replace",index:Rt,value:Nt}),pe.unshift({type:"replace",index:Rt,value:kt[Rt]})}else At=Math.max(0,Math.min(zt[Mt].index,be)),ue.push({type:"insert",index:At,value:Nt}),pe.unshift({type:"delete",index:At}),be++}var re=v.modifyFrames,jt=v.modifyFrames,$t=[ht,pe],Jt=[ht,ue];return p&&p.add(ht,re,$t,jt,Jt),v.modifyFrames(ht,ue)},s.deleteFrames=function(ht,vt){if(ht=f.getGraphDiv(ht),!f.isPlotDiv(ht))throw new Error("This element is not a Plotly plot: "+ht);var Ct,Mt,Nt=ht._transitionData._frames,Rt=[],At=[];if(!vt)for(vt=[],Ct=0;Ct<Nt.length;Ct++)vt.push(Ct);for((vt=vt.slice()).sort(),Ct=vt.length-1;Ct>=0;Ct--)Mt=vt[Ct],Rt.push({type:"delete",index:Mt}),At.unshift({type:"insert",index:Mt,value:Nt[Mt]});var kt=v.modifyFrames,Bt=v.modifyFrames,Lt=[ht,At],zt=[ht,Rt];return p&&p.add(ht,kt,Lt,Bt,zt),v.modifyFrames(ht,Rt)},s.addTraces=function ht(vt,Ct,Mt){vt=f.getGraphDiv(vt);var Nt,Rt,At=[],kt=s.deleteTraces,Bt=ht,Lt=[vt,At],zt=[vt,Ct];for(function(Gt,Ut,ne){var te,ae;if(!Array.isArray(Gt.data))throw new Error("gd.data must be an array.");if(Ut===void 0)throw new Error("traces must be defined.");for(Array.isArray(Ut)||(Ut=[Ut]),te=0;te<Ut.length;te++)if(typeof(ae=Ut[te])!="object"||Array.isArray(ae)||ae===null)throw new Error("all values in traces array must be non-array objects");if(ne===void 0||Array.isArray(ne)||(ne=[ne]),ne!==void 0&&ne.length!==Ut.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(vt,Ct,Mt),Array.isArray(Ct)||(Ct=[Ct]),Ct=Ct.map(function(Gt){return f.extendFlat({},Gt)}),A.cleanData(Ct),Nt=0;Nt<Ct.length;Nt++)vt.data.push(Ct[Nt]);for(Nt=0;Nt<Ct.length;Nt++)At.push(-Ct.length+Nt);if(Mt===void 0)return Rt=s.redraw(vt),p.add(vt,kt,Lt,Bt,zt),Rt;Array.isArray(Mt)||(Mt=[Mt]);try{et(vt,At,Mt)}catch(Gt){throw vt.data.splice(vt.data.length-Ct.length,Ct.length),Gt}return p.startSequence(vt),p.add(vt,kt,Lt,Bt,zt),Rt=s.moveTraces(vt,At,Mt),p.stopSequence(vt),Rt},s.deleteTraces=function ht(vt,Ct){vt=f.getGraphDiv(vt);var Mt,Nt,Rt=[],At=s.addTraces,kt=ht,Bt=[vt,Rt,Ct],Lt=[vt,Ct];if(Ct===void 0)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Ct)||(Ct=[Ct]),q(vt,Ct,"indices"),(Ct=G(Ct,vt.data.length-1)).sort(f.sorterDes),Mt=0;Mt<Ct.length;Mt+=1)Nt=vt.data.splice(Ct[Mt],1)[0],Rt.push(Nt);var zt=s.redraw(vt);return p.add(vt,At,Bt,kt,Lt),zt},s.extendTraces=function ht(vt,Ct,Mt,Nt){var Rt=U(vt=f.getGraphDiv(vt),Ct,Mt,Nt,function(Bt,Lt,zt){var Gt,Ut;if(f.isTypedArray(Bt))if(zt<0){var ne=new Bt.constructor(0),te=J(Bt,Lt);zt<0?(Gt=te,Ut=ne):(Gt=ne,Ut=te)}else if(Gt=new Bt.constructor(zt),Ut=new Bt.constructor(Bt.length+Lt.length-zt),zt===Lt.length)Gt.set(Lt),Ut.set(Bt);else if(zt<Lt.length){var ae=Lt.length-zt;Gt.set(Lt.subarray(ae)),Ut.set(Bt),Ut.set(Lt.subarray(0,ae),Bt.length)}else{var ue=zt-Lt.length,pe=Bt.length-ue;Gt.set(Bt.subarray(pe)),Gt.set(Lt,ue),Ut.set(Bt.subarray(0,pe))}else Gt=Bt.concat(Lt),Ut=zt>=0&&zt<Gt.length?Gt.splice(0,Gt.length-zt):[];return[Gt,Ut]}),At=s.redraw(vt),kt=[vt,Rt.update,Mt,Rt.maxPoints];return p.add(vt,s.prependTraces,kt,ht,arguments),At},s.moveTraces=function ht(vt,Ct,Mt){var Nt,Rt=[],At=[],kt=ht,Bt=ht,Lt=[vt=f.getGraphDiv(vt),Mt,Ct],zt=[vt,Ct,Mt];if(et(vt,Ct,Mt),Ct=Array.isArray(Ct)?Ct:[Ct],Mt===void 0)for(Mt=[],Nt=0;Nt<Ct.length;Nt++)Mt.push(-Ct.length+Nt);for(Mt=Array.isArray(Mt)?Mt:[Mt],Ct=G(Ct,vt.data.length-1),Mt=G(Mt,vt.data.length-1),Nt=0;Nt<vt.data.length;Nt++)Ct.indexOf(Nt)===-1&&Rt.push(vt.data[Nt]);for(Nt=0;Nt<Ct.length;Nt++)At.push({newIndex:Mt[Nt],trace:vt.data[Ct[Nt]]});for(At.sort(function(Ut,ne){return Ut.newIndex-ne.newIndex}),Nt=0;Nt<At.length;Nt+=1)Rt.splice(At[Nt].newIndex,0,At[Nt].trace);vt.data=Rt;var Gt=s.redraw(vt);return p.add(vt,kt,Lt,Bt,zt),Gt},s.prependTraces=function ht(vt,Ct,Mt,Nt){var Rt=U(vt=f.getGraphDiv(vt),Ct,Mt,Nt,function(Bt,Lt,zt){var Gt,Ut;if(f.isTypedArray(Bt))if(zt<=0){var ne=new Bt.constructor(0),te=J(Lt,Bt);zt<0?(Gt=te,Ut=ne):(Gt=ne,Ut=te)}else if(Gt=new Bt.constructor(zt),Ut=new Bt.constructor(Bt.length+Lt.length-zt),zt===Lt.length)Gt.set(Lt),Ut.set(Bt);else if(zt<Lt.length){var ae=Lt.length-zt;Gt.set(Lt.subarray(0,ae)),Ut.set(Lt.subarray(ae)),Ut.set(Bt,ae)}else{var ue=zt-Lt.length;Gt.set(Lt),Gt.set(Bt.subarray(0,ue),Lt.length),Ut.set(Bt.subarray(ue))}else Gt=Lt.concat(Bt),Ut=zt>=0&&zt<Gt.length?Gt.splice(zt,Gt.length):[];return[Gt,Ut]}),At=s.redraw(vt),kt=[vt,Rt.update,Mt,Rt.maxPoints];return p.add(vt,s.extendTraces,kt,ht,arguments),At},s.newPlot=function(ht,vt,Ct,Mt){return ht=f.getGraphDiv(ht),v.cleanPlot([],{},ht._fullData||[],ht._fullLayout||{}),v.purge(ht),s._doPlot(ht,vt,Ct,Mt)},s._doPlot=function(ht,vt,Ct,Mt){var Nt;if(ht=f.getGraphDiv(ht),d.init(ht),f.isPlainObject(vt)){var Rt=vt;vt=Rt.data,Ct=Rt.layout,Mt=Rt.config,Nt=Rt.frames}if(d.triggerHandler(ht,"plotly_beforeplot",[vt,Ct,Mt])===!1)return Promise.reject();vt||Ct||f.isPlotDiv(ht)||f.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",ht),j(ht,Mt),Ct||(Ct={}),l.select(ht).classed("js-plotly-plot",!0),_.makeTester(),Array.isArray(ht._promises)||(ht._promises=[]);var At=(ht.data||[]).length===0&&Array.isArray(vt);Array.isArray(vt)&&(A.cleanData(vt),At?ht.data=vt:ht.data.push.apply(ht.data,vt),ht.empty=!1),ht.layout&&!At||(ht.layout=A.cleanLayout(Ct)),v.supplyDefaults(ht);var kt=ht._fullLayout,Bt=kt._has("cartesian");kt._replotting=!0,(At||kt._shouldCreateBgLayer)&&(function(pe){var be=l.select(pe),re=pe._fullLayout;if(re._calcInverseTransform=Et,re._calcInverseTransform(pe),re._container=be.selectAll(".plot-container").data([0]),re._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),re._paperdiv=re._container.selectAll(".svg-container").data([0]),re._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),re._glcontainer=re._paperdiv.selectAll(".gl-container").data([{}]),re._glcontainer.enter().append("div").classed("gl-container",!0),re._paperdiv.selectAll(".main-svg").remove(),re._paperdiv.select(".modebar-container").remove(),re._paper=re._paperdiv.insert("svg",":first-child").classed("main-svg",!0),re._toppaper=re._paperdiv.append("svg").classed("main-svg",!0),re._modebardiv=re._paperdiv.append("div"),delete re._modeBar,re._hoverpaper=re._paperdiv.append("svg").classed("main-svg",!0),!re._uid){var jt={};l.selectAll("defs").each(function(){this.id&&(jt[this.id.split("-")[1]]=1)}),re._uid=f.randstr(jt)}re._paperdiv.selectAll(".main-svg").attr(T.svgAttrs),re._defs=re._paper.append("defs").attr("id","defs-"+re._uid),re._clips=re._defs.append("g").classed("clips",!0),re._topdefs=re._toppaper.append("defs").attr("id","topdefs-"+re._uid),re._topclips=re._topdefs.append("g").classed("clips",!0),re._bgLayer=re._paper.append("g").classed("bglayer",!0),re._draggers=re._paper.append("g").classed("draglayer",!0);var $t=re._paper.append("g").classed("layer-below",!0);re._imageLowerLayer=$t.append("g").classed("imagelayer",!0),re._shapeLowerLayer=$t.append("g").classed("shapelayer",!0),re._cartesianlayer=re._paper.append("g").classed("cartesianlayer",!0),re._polarlayer=re._paper.append("g").classed("polarlayer",!0),re._smithlayer=re._paper.append("g").classed("smithlayer",!0),re._ternarylayer=re._paper.append("g").classed("ternarylayer",!0),re._geolayer=re._paper.append("g").classed("geolayer",!0),re._funnelarealayer=re._paper.append("g").classed("funnelarealayer",!0),re._pielayer=re._paper.append("g").classed("pielayer",!0),re._iciclelayer=re._paper.append("g").classed("iciclelayer",!0),re._treemaplayer=re._paper.append("g").classed("treemaplayer",!0),re._sunburstlayer=re._paper.append("g").classed("sunburstlayer",!0),re._indicatorlayer=re._toppaper.append("g").classed("indicatorlayer",!0),re._glimages=re._paper.append("g").classed("glimages",!0);var Jt=re._toppaper.append("g").classed("layer-above",!0);re._imageUpperLayer=Jt.append("g").classed("imagelayer",!0),re._shapeUpperLayer=Jt.append("g").classed("shapelayer",!0),re._selectionLayer=re._toppaper.append("g").classed("selectionlayer",!0),re._infolayer=re._toppaper.append("g").classed("infolayer",!0),re._menulayer=re._toppaper.append("g").classed("menulayer",!0),re._zoomlayer=re._toppaper.append("g").classed("zoomlayer",!0),re._hoverlayer=re._hoverpaper.append("g").classed("hoverlayer",!0),re._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),pe.emit("plotly_framework")}(ht),kt._shouldCreateBgLayer&&delete kt._shouldCreateBgLayer),_.initGradients(ht),_.initPatterns(ht),At&&y.saveShowSpikeInitial(ht);var Lt=!ht.calcdata||ht.calcdata.length!==(ht._fullData||[]).length;Lt&&v.doCalcdata(ht);for(var zt=0;zt<ht.calcdata.length;zt++)ht.calcdata[zt][0].trace=ht._fullData[zt];ht._context.responsive?ht._responsiveChartHandler||(ht._responsiveChartHandler=function(){f.isHidden(ht)||v.resize(ht)},window.addEventListener("resize",ht._responsiveChartHandler)):f.clearResponsive(ht);var Gt=f.extendFlat({},kt._size),Ut=0;function ne(){if(v.clearAutoMarginIds(ht),O.drawMarginPushers(ht),y.allowAutoMargin(ht),ht._fullLayout.title.text&&ht._fullLayout.title.automargin&&v.allowAutoMargin(ht,"title.automargin"),kt._has("pie"))for(var pe=ht._fullData,be=0;be<pe.length;be++){var re=pe[be];re.type==="pie"&&re.automargin&&v.allowAutoMargin(ht,"pie."+re.uid+".automargin")}return v.doAutoMargin(ht),v.previousPromises(ht)}function te(){ht._transitioning||(O.doAutoRangeAndConstraints(ht),At&&y.saveRangeInitial(ht),g.getComponentMethod("rangeslider","calcAutorange")(ht))}var ae=[v.previousPromises,function(){if(Nt)return s.addFrames(ht,Nt)},function pe(){for(var be=kt._basePlotModules,re=0;re<be.length;re++)be[re].drawFramework&&be[re].drawFramework(ht);!kt._glcanvas&&kt._has("gl")&&(kt._glcanvas=kt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(qt){return qt.key}),kt._glcanvas.enter().append("canvas").attr("class",function(qt){return"gl-canvas gl-canvas-"+qt.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var jt=ht._context.plotGlPixelRatio;if(kt._glcanvas){kt._glcanvas.attr("width",kt.width*jt).attr("height",kt.height*jt).style("width",kt.width+"px").style("height",kt.height+"px");var $t=kt._glcanvas.data()[0].regl;if($t&&(Math.floor(kt.width*jt)!==$t._gl.drawingBufferWidth||Math.floor(kt.height*jt)!==$t._gl.drawingBufferHeight)){var Jt="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Ut)return f.log(Jt+" Clearing graph and plotting again."),v.cleanPlot([],{},ht._fullData,kt),v.supplyDefaults(ht),kt=ht._fullLayout,v.doCalcdata(ht),Ut++,pe();f.error(Jt)}}return kt.modebar.orientation==="h"?kt._modebardiv.style("height",null).style("width","100%"):kt._modebardiv.style("width",null).style("height",kt.height+"px"),v.previousPromises(ht)},ne,function(){if(v.didMarginChange(Gt,kt._size))return f.syncOrAsync([ne,O.layoutStyles],ht)}];Bt&&ae.push(function(){if(Lt)return f.syncOrAsync([g.getComponentMethod("shapes","calcAutorange"),g.getComponentMethod("annotations","calcAutorange"),te],ht);te()}),ae.push(O.layoutStyles),Bt&&ae.push(function(){return y.draw(ht,At?"":"redraw")},function(pe){pe._fullLayout._insideTickLabelsAutorange&&lt(pe,pe._fullLayout._insideTickLabelsAutorange).then(function(){pe._fullLayout._insideTickLabelsAutorange=void 0})}),ae.push(O.drawData,O.finalDraw,w,v.addLinks,v.rehover,v.redrag,v.reselect,v.doAutoMargin,function(pe){pe._fullLayout._insideTickLabelsAutorange&&At&&y.saveRangeInitial(pe,!0)},v.previousPromises);var ue=f.syncOrAsync(ae,ht);return ue&&ue.then||(ue=Promise.resolve()),ue.then(function(){return R(ht),ht})},s.purge=function(ht){var vt=(ht=f.getGraphDiv(ht))._fullLayout||{},Ct=ht._fullData||[];return v.cleanPlot([],{},Ct,vt),v.purge(ht),d.purge(ht),vt._container&&vt._container.remove(),delete ht._context,ht},s.react=function(ht,vt,Ct,Mt){var Nt,Rt;ht=f.getGraphDiv(ht),A.clearPromiseQueue(ht);var At=ht._fullData,kt=ht._fullLayout;if(f.isPlotDiv(ht)&&At&&kt){if(f.isPlainObject(vt)){var Bt=vt;vt=Bt.data,Ct=Bt.layout,Mt=Bt.config,Nt=Bt.frames}var Lt=!1;if(Mt){var zt=f.extendDeep({},ht._context);ht._context=void 0,j(ht,Mt),Lt=wt(zt,ht._context)}ht.data=vt||[],A.cleanData(ht.data),ht.layout=Ct||{},A.cleanLayout(ht.layout),function(Ae,$e,Oe,ft){var mt,Ht,Vt,ee,Xt,Qt,se,he,ye,oe,Ue=ft._preGUI,rn=[],Ne={},Fe={};for(mt in Ue){if(Xt=bt(mt,st)){if(ye=Xt.head,oe=Xt.tail,Ht=Xt.attr||ye+".uirevision",(ee=(Vt=h(ft,Ht).get())&&Pt(Ht,$e))&&ee===Vt){if((Qt=Ue[mt])===null&&(Qt=void 0),gt(he=(se=h($e,mt)).get(),Qt)){he===void 0&&oe==="autorange"&&rn.push(ye),se.set(ct(h(ft,mt).get()));continue}if(oe==="autorange"||oe.substr(0,6)==="range["){var Be=Ue[ye+".range[0]"],Se=Ue[ye+".range[1]"],Te=Ue[ye+".autorange"];if(Te||Te===null&&Be===null&&Se===null){if(!(ye in Ne)){var xe=h($e,ye).get();Ne[ye]=xe&&(xe.autorange||xe.autorange!==!1&&(!xe.range||xe.range.length!==2))}if(Ne[ye]){se.set(ct(h(ft,mt).get()));continue}}}}}else f.warn("unrecognized GUI edit: "+mt);delete Ue[mt],Xt&&Xt.tail.substr(0,6)==="range["&&(Fe[Xt.head]=1)}for(var Xe=0;Xe<rn.length;Xe++){var Ve=rn[Xe];if(Fe[Ve]){var an=h($e,Ve).get();an&&delete an.autorange}}var ge=ft._tracePreGUI;for(var Pe in ge){var ke,Ye=ge[Pe],je=null;for(mt in Ye){if(!je){var qe=It(Pe,Oe);if(qe<0){delete ge[Pe];break}var nn=Dt(Pe,Ae,(ke=Oe[qe]._fullInput).index);if(nn<0){delete ge[Pe];break}je=Ae[nn]}if(Xt=bt(mt,dt)){if(Xt.attr?ee=(Vt=h(ft,Xt.attr).get())&&Pt(Xt.attr,$e):(Vt=ke.uirevision,(ee=je.uirevision)===void 0&&(ee=$e.uirevision)),ee&&ee===Vt&&((Qt=Ye[mt])===null&&(Qt=void 0),gt(he=(se=h(je,mt)).get(),Qt))){se.set(ct(h(ke,mt).get()));continue}}else f.warn("unrecognized GUI edit: "+mt+" in trace uid "+Pe);delete Ye[mt]}}}(ht.data,ht.layout,At,kt),v.supplyDefaults(ht,{skipUpdateCalc:!0});var Gt=ht._fullData,Ut=ht._fullLayout,ne=Ut.datarevision===void 0,te=Ut.transition,ae=function(Ae,$e,Oe,ft,mt){var Ht=N.layoutFlags();return Ht.arrays={},Ht.rangesAltered={},Ht.nChanges=0,Ht.nChangesAnim=0,_t($e,Oe,[],{getValObject:function(Vt){return m.getLayoutValObject(Oe,Vt)},flags:Ht,immutable:ft,transition:mt,gd:Ae}),(Ht.plot||Ht.calc)&&(Ht.layoutReplot=!0),mt&&Ht.nChanges&&Ht.nChangesAnim&&(Ht.anim=Ht.nChanges===Ht.nChangesAnim?"all":"some"),Ht}(ht,kt,Ut,ne,te),ue=ae.newDataRevision,pe=function(Ae,$e,Oe,ft,mt,Ht){var Vt=$e.length===Oe.length;if(!mt&&!Vt)return{fullReplot:!0,calc:!0};var ee,Xt,Qt=N.traceFlags();Qt.arrays={},Qt.nChanges=0,Qt.nChangesAnim=0;var se={getValObject:function(ye){var oe=m.getTraceValObject(Xt,ye);return!Xt._module.animatable&&oe.anim&&(oe.anim=!1),oe},flags:Qt,immutable:ft,transition:mt,newDataRevision:Ht,gd:Ae},he={};for(ee=0;ee<$e.length;ee++)if(Oe[ee]){if(Xt=Oe[ee]._fullInput,v.hasMakesDataTransform(Xt)&&(Xt=Oe[ee]),he[Xt.uid])continue;he[Xt.uid]=1,_t($e[ee]._fullInput,Xt,[],se)}return(Qt.calc||Qt.plot)&&(Qt.fullReplot=!0),mt&&Qt.nChanges&&Qt.nChangesAnim&&(Qt.anim=Qt.nChanges===Qt.nChangesAnim&&Vt?"all":"some"),Qt}(ht,At,Gt,ne,te,ue);if(Z(ht)&&(ae.layoutReplot=!0),pe.calc||ae.calc){ht.calcdata=void 0;for(var be=Object.getOwnPropertyNames(Ut),re=0;re<be.length;re++){var jt=be[re],$t=jt.substring(0,5);if($t==="xaxis"||$t==="yaxis"){var Jt=Ut[jt]._emptyCategories;Jt&&Jt()}}}else v.supplyDefaultsUpdateCalc(ht.calcdata,Gt);var qt=[];if(Nt&&(ht._transitionData={},v.createTransitionData(ht),qt.push(function(){return s.addFrames(ht,Nt)})),Ut.transition&&!Lt&&(pe.anim||ae.anim))ae.ticks&&qt.push(O.doTicksRelayout),v.doCalcdata(ht),O.doAutoRangeAndConstraints(ht),qt.push(function(){return v.transitionFromReact(ht,pe,ae,kt)});else if(pe.fullReplot||ae.layoutReplot||Lt)ht._fullLayout._skipDefaults=!0,qt.push(s._doPlot);else{for(var Ce in ae.arrays){var fe=ae.arrays[Ce];if(fe.length){var Me=g.getComponentMethod(Ce,"drawOne");if(Me!==f.noop)for(var Ee=0;Ee<fe.length;Ee++)Me(ht,fe[Ee]);else{var He=g.getComponentMethod(Ce,"draw");if(He===f.noop)throw new Error("cannot draw components: "+Ce);He(ht)}}}qt.push(v.previousPromises),pe.style&&qt.push(O.doTraceStyle),(pe.colorbars||ae.colorbars)&&qt.push(O.doColorBars),ae.legend&&qt.push(O.doLegend),ae.layoutstyle&&qt.push(O.layoutStyles),ae.axrange&&rt(qt),ae.ticks&&qt.push(O.doTicksRelayout),ae.modebar&&qt.push(O.doModeBar),ae.camera&&qt.push(O.doCamera),qt.push(R)}qt.push(v.rehover,v.redrag,v.reselect),(Rt=f.syncOrAsync(qt,ht))&&Rt.then||(Rt=Promise.resolve(ht))}else Rt=s.newPlot(ht,vt,Ct,Mt);return Rt.then(function(){return ht.emit("plotly_react",{data:vt,layout:Ct}),ht})},s.redraw=function(ht){if(ht=f.getGraphDiv(ht),!f.isPlotDiv(ht))throw new Error("This element is not a Plotly plot: "+ht);return A.cleanData(ht.data),A.cleanLayout(ht.layout),ht.calcdata=void 0,s._doPlot(ht).then(function(){return ht.emit("plotly_redraw"),ht})},s.relayout=lt,s.restyle=nt,s.setPlotConfig=function(ht){return f.extendFlat(S,ht)},s.update=Q,s._guiRelayout=ot(lt),s._guiRestyle=ot(nt),s._guiUpdate=ot(Q),s._storeDirectGUIEdit=function(ht,vt,Ct){for(var Mt in Ct)W(Mt,h(ht,Mt).get(),Ct[Mt],vt)}},2075:function(a){var s={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},o={};(function l(c,u){for(var f in c){var h=c[f];h.valType?u[f]=h.dflt:(u[f]||(u[f]={}),l(h,u[f]))}})(s,o),a.exports={configAttributes:s,dfltConfig:o}},6281:function(a,s,o){var l=o(3972),c=o(1828),u=o(9012),f=o(820),h=o(1391),d=o(5594),p=o(2075).configAttributes,g=o(962),m=c.extendDeepAll,v=c.isPlainObject,y=c.isArrayOrTypedArray,_=c.nestedProperty,b=c.valObjectMeta,w="_isSubplotObj",T="_isLinkedToArray",M="_deprecated",S=[w,T,"_arrayAttrRegexps",M];function E(R,k,I){if(!R)return!1;if(R._isLinkedToArray){if(A(k[I]))I++;else if(I<k.length)return!1}for(;I<k.length;I++){var j=R[k[I]];if(!v(j)||(R=j,I===k.length-1))break;if(R._isLinkedToArray){if(!A(k[++I]))return!1}else if(R.valType==="info_array"){var G=k[++I];if(!A(G))return!1;var q=R.items;if(Array.isArray(q)){if(G>=q.length)return!1;if(R.dimensions===2){if(I++,k.length===I)return R;var et=k[I];if(!A(et))return!1;R=q[G][et]}else R=q[G]}else R=q}}return R}function A(R){return R===Math.round(R)&&R>=0}function O(){var R,k,I={};for(R in m(I,f),l.subplotsRegistry)if((k=l.subplotsRegistry[R]).layoutAttributes)if(Array.isArray(k.attr))for(var j=0;j<k.attr.length;j++)F(I,k,k.attr[j]);else F(I,k,k.attr==="subplot"?k.name:k.attr);for(R in l.componentsRegistry){var G=(k=l.componentsRegistry[R]).schema;if(G&&(G.subplots||G.layout)){var q=G.subplots;if(q&&q.xaxis&&!q.yaxis)for(var et in q.xaxis)delete I.yaxis[et];delete I.xaxis.shift,delete I.xaxis.autoshift}else k.name==="colorscale"?m(I,k.layoutAttributes):k.layoutAttributes&&P(I,k.layoutAttributes,k.name)}return{layoutAttributes:N(I)}}function N(R){return function(k){s.crawl(k,function(I,j,G){s.isValObject(I)?I.arrayOk!==!0&&I.valType!=="data_array"||(G[j+"src"]={valType:"string",editType:"none"}):v(I)&&(I.role="object")})}(R),function(k){s.crawl(k,function(I,j,G){if(I){var q=I[T];q&&(delete I[T],G[j]={items:{}},G[j].items[q]=I,G[j].role="object")}})}(R),function(k){(function I(j){for(var G in j)if(v(j[G]))I(j[G]);else if(Array.isArray(j[G]))for(var q=0;q<j[G].length;q++)I(j[G][q]);else j[G]instanceof RegExp&&(j[G]=j[G].toString())})(k)}(R),R}function F(R,k,I){var j=_(R,I),G=m({},k.layoutAttributes);G[w]=!0,j.set(G)}function P(R,k,I){var j=_(R,I);j.set(m(j.get()||{},k))}s.IS_SUBPLOT_OBJ=w,s.IS_LINKED_TO_ARRAY=T,s.DEPRECATED=M,s.UNDERSCORE_ATTRS=S,s.get=function(){var R={};l.allTypes.forEach(function(j){R[j]=function(G){var q,et;et=(q=l.modules[G]._module).basePlotModule;var U={type:null},J=m({},u),nt=m({},q.attributes);s.crawl(nt,function(W,X,it,lt,pt){_(J,pt).set(void 0),W===void 0&&_(nt,pt).set(void 0)}),m(U,J),l.traceIs(G,"noOpacity")&&delete U.opacity,l.traceIs(G,"showLegend")||(delete U.showlegend,delete U.legendgroup),l.traceIs(G,"noHover")&&(delete U.hoverinfo,delete U.hoverlabel),q.selectPoints||delete U.selectedpoints,m(U,nt),et.attributes&&m(U,et.attributes),U.type=G;var ct={meta:q.meta||{},categories:q.categories||{},animatable:!!q.animatable,type:G,attributes:N(U)};if(q.layoutAttributes){var z={};m(z,q.layoutAttributes),ct.layoutAttributes=N(z)}return q.animatable||s.crawl(ct,function(W){s.isValObject(W)&&"anim"in W&&delete W.anim}),ct}(j)});var k,I={};return Object.keys(l.transformsRegistry).forEach(function(j){I[j]=function(G){var q=l.transformsRegistry[G],et=m({},q.attributes);return Object.keys(l.componentsRegistry).forEach(function(U){var J=l.componentsRegistry[U];J.schema&&J.schema.transforms&&J.schema.transforms[G]&&Object.keys(J.schema.transforms[G]).forEach(function(nt){P(et,J.schema.transforms[G][nt],nt)})}),{attributes:N(et)}}(j)}),{defs:{valObjects:b,metaKeys:S.concat(["description","role","editType","impliedEdits"]),editType:{traces:g.traces,layout:g.layout},impliedEdits:{}},traces:R,layout:O(),transforms:I,frames:(k={frames:m({},h)},N(k),k.frames),animation:N(d),config:N(p)}},s.crawl=function(R,k,I,j){var G=I||0;j=j||"",Object.keys(R).forEach(function(q){var et=R[q];if(S.indexOf(q)===-1){var U=(j?j+".":"")+q;k(et,q,R,G,U),s.isValObject(et)||v(et)&&q!=="impliedEdits"&&s.crawl(et,k,G+1,U)}})},s.isValObject=function(R){return R&&R.valType!==void 0},s.findArrayAttributes=function(R){var k,I,j=[],G=[],q=[];function et(W,X,it,lt){G=G.slice(0,lt).concat([X]),q=q.slice(0,lt).concat([W&&W._isLinkedToArray]),W&&(W.valType==="data_array"||W.arrayOk===!0)&&(G[lt-1]!=="colorbar"||X!=="ticktext"&&X!=="tickvals")&&U(k,0,"")}function U(W,X,it){var lt=W[G[X]],pt=it+G[X];if(X===G.length-1)y(lt)&&j.push(I+pt);else if(q[X]){if(Array.isArray(lt))for(var rt=0;rt<lt.length;rt++)v(lt[rt])&&U(lt[rt],X+1,pt+"["+rt+"].")}else v(lt)&&U(lt,X+1,pt+".")}k=R,I="",s.crawl(u,et),R._module&&R._module.attributes&&s.crawl(R._module.attributes,et);var J=R.transforms;if(J)for(var nt=0;nt<J.length;nt++){var ct=J[nt],z=ct._module;z&&(I="transforms["+nt+"].",k=ct,s.crawl(z.attributes,et))}return j},s.getTraceValObject=function(R,k){var I,j,G=k[0],q=1;if(G==="transforms"){if(k.length===1)return u.transforms;var et=R.transforms;if(!Array.isArray(et)||!et.length)return!1;var U=k[1];if(!A(U)||U>=et.length)return!1;j=(I=(l.transformsRegistry[et[U].type]||{}).attributes)&&I[k[2]],q=3}else{var J=R._module;if(J||(J=(l.modules[R.type||u.type.dflt]||{})._module),!J)return!1;if(!(j=(I=J.attributes)&&I[G])){var nt=J.basePlotModule;nt&&nt.attributes&&(j=nt.attributes[G])}j||(j=u[G])}return E(j,k,q)},s.getLayoutValObject=function(R,k){var I=function(j,G){var q,et,U,J,nt=j._basePlotModules;if(nt){var ct;for(q=0;q<nt.length;q++){if((U=nt[q]).attrRegex&&U.attrRegex.test(G)){if(U.layoutAttrOverrides)return U.layoutAttrOverrides;!ct&&U.layoutAttributes&&(ct=U.layoutAttributes)}var z=U.baseLayoutAttrOverrides;if(z&&G in z)return z[G]}if(ct)return ct}var W=j._modules;if(W){for(q=0;q<W.length;q++)if((J=W[q].layoutAttributes)&&G in J)return J[G]}for(et in l.componentsRegistry){if((U=l.componentsRegistry[et]).name==="colorscale"&&G.indexOf("coloraxis")===0)return U.layoutAttributes[G];if(!U.schema&&G===U.name)return U.layoutAttributes}return G in f&&f[G]}(R,k[0]);return E(I,k,1)}},4467:function(a,s,o){var l=o(1828),c=o(9012),u="templateitemname",f={name:{valType:"string",editType:"none"}};function h(p){return p&&typeof p=="string"}function d(p){var g=p.length-1;return p.charAt(g)!=="s"&&l.warn("bad argument to arrayDefaultKey: "+p),p.substr(0,p.length-1)+"defaults"}f[u]={valType:"string",editType:"calc"},s.templatedArray=function(p,g){return g._isLinkedToArray=p,g.name=f.name,g[u]=f[u],g},s.traceTemplater=function(p){var g,m,v={};for(g in p)m=p[g],Array.isArray(m)&&m.length&&(v[g]=0);return{newTrace:function(y){var _={type:g=l.coerce(y,{},c,"type"),_template:null};if(g in v){m=p[g];var b=v[g]%m.length;v[g]++,_._template=m[b]}return _}}},s.newContainer=function(p,g,m){var v=p._template,y=v&&(v[g]||m&&v[m]);return l.isPlainObject(y)||(y=null),p[g]={_template:y}},s.arrayTemplater=function(p,g,m){var v=p._template,y=v&&v[d(g)],_=v&&v[g];Array.isArray(_)&&_.length||(_=[]);var b={};return{newItem:function(w){var T={name:w.name,_input:w},M=T[u]=w[u];if(!h(M))return T._template=y,T;for(var S=0;S<_.length;S++){var E=_[S];if(E.name===M)return b[M]=1,T._template=E,T}return T[m]=w[m]||!1,T._template=!1,T},defaultItems:function(){for(var w=[],T=0;T<_.length;T++){var M=_[T],S=M.name;if(h(S)&&!b[S]){var E={_template:M,name:S,_input:{_templateitemname:S}};E[u]=M[u],w.push(E),b[S]=1}}return w}}},s.arrayDefaultKey=d,s.arrayEditor=function(p,g,m){var v=(l.nestedProperty(p,g).get()||[]).length,y=m._index,_=y>=v&&(m._input||{})._templateitemname;_&&(y=v);var b,w=g+"["+y+"]";function T(){b={},_&&(b[w]={},b[w][u]=_)}function M(E,A){_?l.nestedProperty(b[w],E).set(A):b[w+"."+E]=A}function S(){var E=b;return T(),E}return T(),{modifyBase:function(E,A){b[E]=A},modifyItem:M,getUpdateObj:S,applyUpdate:function(E,A){E&&M(E,A);var O=S();for(var N in O)l.nestedProperty(p,N).set(O[N])}}}},1549:function(a,s,o){var l=o(9898),c=o(3972),u=o(4875),f=o(1828),h=o(3893),d=o(3306),p=o(7901),g=o(1424),m=o(2998),v=o(4168),y=o(9298),_=o(8783),b=o(9082),w=b.enforce,T=b.clean,M=o(1739).doAutoRange,S="start";function E(P,R,k){for(var I=0;I<k.length;I++){var j=k[I][0],G=k[I][1];if(!(j[0]>=P[1]||j[1]<=P[0])&&G[0]<R[1]&&G[1]>R[0])return!0}return!1}function A(P){var R,k,I,j,G,q,et=P._fullLayout,U=et._size,J=U.p,nt=y.list(P,"",!0);if(et._paperdiv.style({width:P._context.responsive&&et.autosize&&!P._context._hasZeroWidth&&!P.layout.width?"100%":et.width+"px",height:P._context.responsive&&et.autosize&&!P._context._hasZeroHeight&&!P.layout.height?"100%":et.height+"px"}).selectAll(".main-svg").call(g.setSize,et.width,et.height),P._context.setBackground(P,et.paper_bgcolor),s.drawMainTitle(P),v.manage(P),!et._has("cartesian"))return u.previousPromises(P);function ct(Gt,Ut,ne){var te=Gt._lw/2;return Gt._id.charAt(0)==="x"?Ut?ne==="top"?Ut._offset-J-te:Ut._offset+Ut._length+J+te:U.t+U.h*(1-(Gt.position||0))+te%1:Ut?ne==="right"?Ut._offset+Ut._length+J+te:Ut._offset-J-te:U.l+U.w*(Gt.position||0)+te%1}for(R=0;R<nt.length;R++){var z=(j=nt[R])._anchorAxis;j._linepositions={},j._lw=g.crispRound(P,j.linewidth,1),j._mainLinePosition=ct(j,z,j.side),j._mainMirrorPosition=j.mirror&&z?ct(j,z,_.OPPOSITE_SIDE[j.side]):null}var W=[],X=[],it=[],lt=p.opacity(et.paper_bgcolor)===1&&p.opacity(et.plot_bgcolor)===1&&et.paper_bgcolor===et.plot_bgcolor;for(k in et._plots)if((I=et._plots[k]).mainplot)I.bg&&I.bg.remove(),I.bg=void 0;else{var pt=I.xaxis.domain,rt=I.yaxis.domain,V=I.plotgroup;if(E(pt,rt,it)){var B=V.node(),H=I.bg=f.ensureSingle(V,"rect","bg");B.insertBefore(H.node(),B.childNodes[0]),X.push(k)}else V.select("rect.bg").remove(),it.push([pt,rt]),lt||(W.push(k),X.push(k))}var $,Z,Q,ot,st,dt,bt,Pt,It,Dt,gt,_t,wt,Et=et._bgLayer.selectAll(".bg").data(W);for(Et.enter().append("rect").classed("bg",!0),Et.exit().remove(),Et.each(function(Gt){et._plots[Gt].bg=l.select(this)}),R=0;R<X.length;R++)I=et._plots[X[R]],G=I.xaxis,q=I.yaxis,I.bg&&G._offset!==void 0&&q._offset!==void 0&&I.bg.call(g.setRect,G._offset-J,q._offset-J,G._length+2*J,q._length+2*J).call(p.fill,et.plot_bgcolor).style("stroke-width",0);if(!et._hasOnlyLargeSploms)for(k in et._plots){I=et._plots[k],G=I.xaxis,q=I.yaxis;var ht,vt,Ct=I.clipId="clip"+et._uid+k+"plot",Mt=f.ensureSingleById(et._clips,"clipPath",Ct,function(Gt){Gt.classed("plotclip",!0).append("rect")});I.clipRect=Mt.select("rect").attr({width:G._length,height:q._length}),g.setTranslate(I.plot,G._offset,q._offset),I._hasClipOnAxisFalse?(ht=null,vt=Ct):(ht=Ct,vt=null),g.setClipUrl(I.plot,ht,P),I.layerClipId=vt}function Nt(Gt){return"M"+$+","+Gt+"H"+Z}function Rt(Gt){return"M"+G._offset+","+Gt+"h"+G._length}function At(Gt){return"M"+Gt+","+Pt+"V"+bt}function kt(Gt){return q._shift!==void 0&&(Gt+=q._shift),"M"+Gt+","+q._offset+"v"+q._length}function Bt(Gt,Ut,ne){if(!Gt.showline||k!==Gt._mainSubplot)return"";if(!Gt._anchorAxis)return ne(Gt._mainLinePosition);var te=Ut(Gt._mainLinePosition);return Gt.mirror&&(te+=Ut(Gt._mainMirrorPosition)),te}for(k in et._plots){I=et._plots[k],G=I.xaxis,q=I.yaxis;var Lt="M0,0";O(G,k)&&(st=F(G,"left",q,nt),$=G._offset-(st?J+st:0),dt=F(G,"right",q,nt),Z=G._offset+G._length+(dt?J+dt:0),Q=ct(G,q,"bottom"),ot=ct(G,q,"top"),!(wt=!G._anchorAxis||k!==G._mainSubplot)||G.mirror!=="allticks"&&G.mirror!=="all"||(G._linepositions[k]=[Q,ot]),Lt=Bt(G,Nt,Rt),wt&&G.showline&&(G.mirror==="all"||G.mirror==="allticks")&&(Lt+=Nt(Q)+Nt(ot)),I.xlines.style("stroke-width",G._lw+"px").call(p.stroke,G.showline?G.linecolor:"rgba(0,0,0,0)")),I.xlines.attr("d",Lt);var zt="M0,0";O(q,k)&&(gt=F(q,"bottom",G,nt),bt=q._offset+q._length+(gt?J:0),_t=F(q,"top",G,nt),Pt=q._offset-(_t?J:0),It=ct(q,G,"left"),Dt=ct(q,G,"right"),!(wt=!q._anchorAxis||k!==q._mainSubplot)||q.mirror!=="allticks"&&q.mirror!=="all"||(q._linepositions[k]=[It,Dt]),zt=Bt(q,At,kt),wt&&q.showline&&(q.mirror==="all"||q.mirror==="allticks")&&(zt+=At(It)+At(Dt)),I.ylines.style("stroke-width",q._lw+"px").call(p.stroke,q.showline?q.linecolor:"rgba(0,0,0,0)")),I.ylines.attr("d",zt)}return y.makeClipPaths(P),u.previousPromises(P)}function O(P,R){return(P.ticks||P.showline)&&(R===P._mainSubplot||P.mirror==="all"||P.mirror==="allticks")}function N(P,R,k){if(!k.showline||!k._lw)return!1;if(k.mirror==="all"||k.mirror==="allticks")return!0;var I=k._anchorAxis;if(!I)return!1;var j=_.FROM_BL[R];return k.side===R?I.domain[j]===P.domain[j]:k.mirror&&I.domain[1-j]===P.domain[1-j]}function F(P,R,k,I){if(N(P,R,k))return k._lw;for(var j=0;j<I.length;j++){var G=I[j];if(G._mainAxis===k._mainAxis&&N(P,R,G))return G._lw}return 0}s.layoutStyles=function(P){return f.syncOrAsync([u.doAutoMargin,A],P)},s.drawMainTitle=function(P){var R,k=P._fullLayout.title,I=P._fullLayout,j=function(ct){var z=ct.title,W="middle";return f.isRightAnchor(z)?W="end":f.isLeftAnchor(z)&&(W=S),W}(I),G=function(ct){var z=ct.title,W="0em";return f.isTopAnchor(z)?W=_.CAP_SHIFT+"em":f.isMiddleAnchor(z)&&(W=_.MID_SHIFT+"em"),W}(I),q=function(ct,z){var W=ct.title,X=ct._size,it=0;return z!=="0em"&&z?z===_.CAP_SHIFT+"em"&&(it=W.pad.t):it=-W.pad.b,W.y==="auto"?X.t/2:W.yref==="paper"?X.t+X.h-X.h*W.y+it:ct.height-ct.height*W.y+it}(I,G),et=function(ct,z){var W=ct.title,X=ct._size,it=0;return z===S?it=W.pad.l:z==="end"&&(it=-W.pad.r),W.xref==="paper"?X.l+X.w*W.x+it:ct.width*W.x+it}(I,j);if(m.draw(P,"gtitle",{propContainer:I,propName:"title.text",placeholder:I._dfltTitle.plot,attributes:{x:et,y:q,"text-anchor":j,dy:G}}),k.text&&k.automargin){var U=l.selectAll(".gtitle"),J=g.bBox(U.node()).height,nt=function(ct,z,W){var X=z.y,it=z.yanchor,lt=X>.5?"t":"b",pt=ct._fullLayout.margin[lt],rt=0;return z.yref==="paper"?rt=W+z.pad.t+z.pad.b:z.yref==="container"&&(rt=function(V,B,H,$,Z){var Q=0;return H==="middle"&&(Q+=Z/2),V==="t"?(H==="top"&&(Q+=Z),Q+=$-B*$):(H==="bottom"&&(Q+=Z),Q+=B*$),Q}(lt,X,it,ct._fullLayout.height,W)+z.pad.t+z.pad.b),rt>pt?rt:0}(P,k,J);nt>0&&(function(ct,z,W,X){var it="title.automargin",lt=ct._fullLayout.title,pt=lt.y>.5?"t":"b",rt={x:lt.x,y:lt.y,t:0,b:0},V={};lt.yref==="paper"&&function(B,H,$,Z,Q){var ot=H.yref==="paper"?B._fullLayout._size.h:B._fullLayout.height,st=f.isTopAnchor(H)?Z:Z-Q,dt=$==="b"?ot-st:st;return!(f.isTopAnchor(H)&&$==="t"||f.isBottomAnchor(H)&&$==="b")&&dt<Q}(ct,lt,pt,z,X)?rt[pt]=W:lt.yref==="container"&&(V[pt]=W,ct._fullLayout._reservedMargin[it]=V),u.allowAutoMargin(ct,it),u.autoMargin(ct,it,rt)}(P,q,nt,J),U.attr({x:et,y:q,"text-anchor":j,dy:(R=k.yanchor,R==="top"?_.CAP_SHIFT+.3+"em":R==="bottom"?"-0.3em":_.MID_SHIFT+"em")}).call(h.positionText,et,q))}},s.doTraceStyle=function(P){var R,k=P.calcdata,I=[];for(R=0;R<k.length;R++){var j=k[R],G=j[0]||{},q=G.trace||{},et=q._module||{},U=et.arraysToCalcdata;U&&U(j,q);var J=et.editStyle;J&&I.push({fn:J,cd0:G})}if(I.length){for(R=0;R<I.length;R++){var nt=I[R];nt.fn(P,nt.cd0)}d(P),s.redrawReglTraces(P)}return u.style(P),c.getComponentMethod("legend","draw")(P),u.previousPromises(P)},s.doColorBars=function(P){return c.getComponentMethod("colorbar","draw")(P),u.previousPromises(P)},s.layoutReplot=function(P){var R=P.layout;return P.layout=void 0,c.call("_doPlot",P,"",R)},s.doLegend=function(P){return c.getComponentMethod("legend","draw")(P),u.previousPromises(P)},s.doTicksRelayout=function(P){return y.draw(P,"redraw"),P._fullLayout._hasOnlyLargeSploms&&(c.subplotsRegistry.splom.updateGrid(P),d(P),s.redrawReglTraces(P)),s.drawMainTitle(P),u.previousPromises(P)},s.doModeBar=function(P){var R=P._fullLayout;v.manage(P);for(var k=0;k<R._basePlotModules.length;k++){var I=R._basePlotModules[k].updateFx;I&&I(P)}return u.previousPromises(P)},s.doCamera=function(P){for(var R=P._fullLayout,k=R._subplots.gl3d,I=0;I<k.length;I++){var j=R[k[I]];j._scene.setViewport(j)}},s.drawData=function(P){var R=P._fullLayout;d(P);for(var k=R._basePlotModules,I=0;I<k.length;I++)k[I].plot(P);return s.redrawReglTraces(P),u.style(P),c.getComponentMethod("selections","draw")(P),c.getComponentMethod("shapes","draw")(P),c.getComponentMethod("annotations","draw")(P),c.getComponentMethod("images","draw")(P),R._replotting=!1,u.previousPromises(P)},s.redrawReglTraces=function(P){var R=P._fullLayout;if(R._has("regl")){var k,I,j=P._fullData,G=[],q=[];for(R._hasOnlyLargeSploms&&R._splomGrid.draw(),k=0;k<j.length;k++){var et=j[k];et.visible===!0&&et._length!==0&&(et.type==="splom"?R._splomScenes[et.uid].draw():et.type==="scattergl"?f.pushUnique(G,et.xaxis+et.yaxis):et.type==="scatterpolargl"&&f.pushUnique(q,et.subplot))}for(k=0;k<G.length;k++)(I=R._plots[G[k]])._scene&&I._scene.draw();for(k=0;k<q.length;k++)(I=R[q[k]]._subplot)._scene&&I._scene.draw()}},s.doAutoRangeAndConstraints=function(P){for(var R,k=y.list(P,"",!0),I={},j=0;j<k.length;j++)if(!I[(R=k[j])._id]){I[R._id]=1,T(P,R),M(P,R);var G=R._matchGroup;if(G)for(var q in G){var et=y.getFromId(P,q);M(P,et,R.range),I[q]=1}}w(P)},s.finalDraw=function(P){c.getComponentMethod("rangeslider","draw")(P),c.getComponentMethod("rangeselector","draw")(P)},s.drawMarginPushers=function(P){c.getComponentMethod("legend","draw")(P),c.getComponentMethod("rangeselector","draw")(P),c.getComponentMethod("sliders","draw")(P),c.getComponentMethod("updatemenus","draw")(P),c.getComponentMethod("colorbar","draw")(P)}},6318:function(a,s,o){var l=o(1828),c=l.isPlainObject,u=o(6281),f=o(4875),h=o(9012),d=o(4467),p=o(2075).dfltConfig;function g(M,S){M=l.extendDeep({},M);var E,A,O=Object.keys(M).sort();function N(I,j,G){if(c(j)&&c(I))g(I,j);else if(Array.isArray(j)&&Array.isArray(I)){var q=d.arrayTemplater({_template:M},G);for(A=0;A<j.length;A++){var et=j[A],U=q.newItem(et)._template;U&&g(U,et)}var J=q.defaultItems();for(A=0;A<J.length;A++)j.push(J[A]._template);for(A=0;A<j.length;A++)delete j[A].templateitemname}}for(E=0;E<O.length;E++){var F=O[E],P=M[F];if(F in S?N(P,S[F],F):S[F]=P,m(F)===F)for(var R in S){var k=m(R);R===k||k!==F||R in M||N(P,S[R],F)}}}function m(M){return M.replace(/[0-9]+$/,"")}function v(M,S,E,A,O){var N=O&&E(O);for(var F in M){var P=M[F],R=b(M,F,A),k=b(M,F,O),I=E(k);if(!I){var j=m(F);j!==F&&(I=E(k=b(M,j,O)))}if(!(N&&N===I||!I||I._noTemplating||I.valType==="data_array"||I.arrayOk&&Array.isArray(P)))if(!I.valType&&c(P))v(P,S,E,R,k);else if(I._isLinkedToArray&&Array.isArray(P))for(var G=!1,q=0,et={},U=0;U<P.length;U++){var J=P[U];if(c(J)){var nt=J.name;if(nt)et[nt]||(v(J,S,E,b(P,q,R),b(P,q,k)),q++,et[nt]=1);else if(!G){var ct=b(M,d.arrayDefaultKey(F),A),z=b(P,q,R);v(J,S,E,z,b(P,q,k));var W=l.nestedProperty(S,z);l.nestedProperty(S,ct).set(W.get()),W.set(null),G=!0}}}else l.nestedProperty(S,R).set(P)}}function y(M,S){return u.getLayoutValObject(M,l.nestedProperty({},S).parts)}function _(M,S){return u.getTraceValObject(M,l.nestedProperty({},S).parts)}function b(M,S,E){return E?Array.isArray(M)?E+"["+S+"]":E+"."+S:S}function w(M){for(var S=0;S<M.length;S++)if(c(M[S]))return!0}function T(M){var S;switch(M.code){case"data":S="The template has no key data.";break;case"layout":S="The template has no key layout.";break;case"missing":S=M.path?"There are no templates for item "+M.path+" with name "+M.templateitemname:"There are no templates for trace "+M.index+", of type "+M.traceType+".";break;case"unused":S=M.path?"The template item at "+M.path+" was not used in constructing the plot.":M.dataCount?"Some of the templates of type "+M.traceType+" were not used. The template has "+M.templateCount+" traces, the data only has "+M.dataCount+" of this type.":"The template has "+M.templateCount+" traces of type "+M.traceType+" but there are none in the data.";break;case"reused":S="Some of the templates of type "+M.traceType+" were used more than once. The template has "+M.templateCount+" traces, the data has "+M.dataCount+" of this type."}return M.msg=S,M}s.makeTemplate=function(M){M=l.isPlainObject(M)?M:l.getGraphDiv(M),M=l.extendDeep({_context:p},{data:M.data,layout:M.layout}),f.supplyDefaults(M);var S=M.data||[],E=M.layout||{};E._basePlotModules=M._fullLayout._basePlotModules,E._modules=M._fullLayout._modules;var A={data:{},layout:{}};S.forEach(function(q){var et={};v(q,et,_.bind(null,q));var U=l.coerce(q,{},h,"type"),J=A.data[U];J||(J=A.data[U]=[]),J.push(et)}),v(E,A.layout,y.bind(null,E)),delete A.layout.template;var O=E.template;if(c(O)){var N,F,P,R,k,I,j=O.layout;c(j)&&g(j,A.layout);var G=O.data;if(c(G)){for(F in A.data)if(P=G[F],Array.isArray(P)){for(I=(k=A.data[F]).length,R=P.length,N=0;N<I;N++)g(P[N%R],k[N]);for(N=I;N<R;N++)k.push(l.extendDeep({},P[N]))}for(F in G)F in A.data||(A.data[F]=l.extendDeep([],G[F]))}}return A},s.validateTemplate=function(M,S){var E=l.extendDeep({},{_context:p,data:M.data,layout:M.layout}),A=E.layout||{};c(S)||(S=A.template||{});var O=S.layout,N=S.data,F=[];E.layout=A,E.layout.template=S,f.supplyDefaults(E);var P=E._fullLayout,R=E._fullData,k={};if(c(O)?(function J(nt,ct){for(var z in nt)if(z.charAt(0)!=="_"&&c(nt[z])){var W,X=m(z),it=[];for(W=0;W<ct.length;W++)it.push(b(nt,z,ct[W])),X!==z&&it.push(b(nt,X,ct[W]));for(W=0;W<it.length;W++)k[it[W]]=1;J(nt[z],it)}}(P,["layout"]),function J(nt,ct){for(var z in nt)if(z.indexOf("defaults")===-1&&c(nt[z])){var W=b(nt,z,ct);k[W]?J(nt[z],W):F.push({code:"unused",path:W})}}(O,"layout")):F.push({code:"layout"}),c(N)){for(var I,j={},G=0;G<R.length;G++){var q=R[G];j[I=q.type]=(j[I]||0)+1,q._fullInput._template||F.push({code:"missing",index:q._fullInput.index,traceType:I})}for(I in N){var et=N[I].length,U=j[I]||0;et>U?F.push({code:"unused",traceType:I,templateCount:et,dataCount:U}):U>et&&F.push({code:"reused",traceType:I,templateCount:et,dataCount:U})}}else F.push({code:"data"});if(function J(nt,ct){for(var z in nt)if(z.charAt(0)!=="_"){var W=nt[z],X=b(nt,z,ct);c(W)?(Array.isArray(nt)&&W._template===!1&&W.templateitemname&&F.push({code:"missing",path:X,templateitemname:W.templateitemname}),J(W,X)):Array.isArray(W)&&w(W)&&J(W,X)}}({data:R,layout:P},""),F.length)return F.map(T)}},403:function(a,s,o){var l=o(2770),c=o(2391),u=o(4875),f=o(1828),h=o(5095),d=o(5900),p=o(942),g=o(1506).version,m={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};a.exports=function(v,y){var _,b,w,T;function M(U){return!(U in y)||f.validate(y[U],m[U])}if(y=y||{},f.isPlainObject(v)?(_=v.data||[],b=v.layout||{},w=v.config||{},T={}):(v=f.getGraphDiv(v),_=f.extendDeep([],v.data),b=f.extendDeep({},v.layout),w=v._context,T=v._fullLayout||{}),!M("width")&&y.width!==null||!M("height")&&y.height!==null)throw new Error("Height and width should be pixel values.");if(!M("format"))throw new Error("Export format is not "+f.join2(m.format.values,", "," or ")+".");var S={};function E(U,J){return f.coerce(y,S,m,U,J)}var A=E("format"),O=E("width"),N=E("height"),F=E("scale"),P=E("setBackground"),R=E("imageDataOnly"),k=document.createElement("div");k.style.position="absolute",k.style.left="-5000px",document.body.appendChild(k);var I=f.extendFlat({},b);O?I.width=O:y.width===null&&l(T.width)&&(I.width=T.width),N?I.height=N:y.height===null&&l(T.height)&&(I.height=T.height);var j=f.extendFlat({},w,{_exportedPlot:!0,staticPlot:!0,setBackground:P}),G=h.getRedrawFunc(k);function q(){return new Promise(function(U){setTimeout(U,h.getDelay(k._fullLayout))})}function et(){return new Promise(function(U,J){var nt=d(k,A,F),ct=k._fullLayout.width,z=k._fullLayout.height;function W(){c.purge(k),document.body.removeChild(k)}if(A==="full-json"){var X=u.graphJson(k,!1,"keepdata","object",!0,!0);return X.version=g,X=JSON.stringify(X),W(),U(R?X:h.encodeJSON(X))}if(W(),A==="svg")return U(R?nt:h.encodeSVG(nt));var it=document.createElement("canvas");it.id=f.randstr(),p({format:A,width:ct,height:z,scale:F,canvas:it,svg:nt,promise:!0}).then(U).catch(J)})}return new Promise(function(U,J){c.newPlot(k,_,I,j).then(G).then(q).then(et).then(function(nt){U(function(ct){return R?ct.replace(h.IMAGE_URL_PREFIX,""):ct}(nt))}).catch(function(nt){J(nt)})})}},4936:function(a,s,o){var l=o(1828),c=o(4875),u=o(6281),f=o(2075).dfltConfig,h=l.isPlainObject,d=Array.isArray,p=l.isArrayOrTypedArray;function g(M,S,E,A,O,N){N=N||[];for(var F=Object.keys(M),P=0;P<F.length;P++){var R=F[P];if(R!=="transforms"){var k=N.slice();k.push(R);var I=M[R],j=S[R],G=b(E,R),q=(G||{}).valType,et=q==="info_array",U=q==="colorscale",J=(G||{}).items;if(_(E,R))if(h(I)&&h(j)&&q!=="any")g(I,j,G,A,O,k);else if(et&&d(I)){I.length>j.length&&A.push(y("unused",O,k.concat(j.length)));var nt,ct,z,W,X,it=j.length,lt=Array.isArray(J);if(lt&&(it=Math.min(it,J.length)),G.dimensions===2)for(ct=0;ct<it;ct++)if(d(I[ct])){I[ct].length>j[ct].length&&A.push(y("unused",O,k.concat(ct,j[ct].length)));var pt=j[ct].length;for(nt=0;nt<(lt?Math.min(pt,J[ct].length):pt);nt++)z=lt?J[ct][nt]:J,W=I[ct][nt],X=j[ct][nt],l.validate(W,z)?X!==W&&X!==+W&&A.push(y("dynamic",O,k.concat(ct,nt),W,X)):A.push(y("value",O,k.concat(ct,nt),W))}else A.push(y("array",O,k.concat(ct),I[ct]));else for(ct=0;ct<it;ct++)z=lt?J[ct]:J,W=I[ct],X=j[ct],l.validate(W,z)?X!==W&&X!==+W&&A.push(y("dynamic",O,k.concat(ct),W,X)):A.push(y("value",O,k.concat(ct),W))}else if(G.items&&!et&&d(I)){var rt,V,B=J[Object.keys(J)[0]],H=[];for(rt=0;rt<j.length;rt++){var $=j[rt]._index||rt;if((V=k.slice()).push($),h(I[$])&&h(j[rt])){H.push($);var Z=I[$],Q=j[rt];h(Z)&&Z.visible!==!1&&Q.visible===!1?A.push(y("invisible",O,V)):g(Z,Q,B,A,O,V)}}for(rt=0;rt<I.length;rt++)(V=k.slice()).push(rt),h(I[rt])?H.indexOf(rt)===-1&&A.push(y("unused",O,V)):A.push(y("object",O,V,I[rt]))}else!h(I)&&h(j)?A.push(y("object",O,k,I)):p(I)||!p(j)||et||U?R in S?l.validate(I,G)?G.valType==="enumerated"&&(G.coerceNumber&&I!==+j||I!==j)&&A.push(y("dynamic",O,k,I,j)):A.push(y("value",O,k,I)):A.push(y("unused",O,k,I)):A.push(y("array",O,k,I));else A.push(y("schema",O,k))}}return A}a.exports=function(M,S){M===void 0&&(M=[]),S===void 0&&(S={});var E,A,O=u.get(),N=[],F={_context:l.extendFlat({},f)};d(M)?(F.data=l.extendDeep([],M),E=M):(F.data=[],E=[],N.push(y("array","data"))),h(S)?(F.layout=l.extendDeep({},S),A=S):(F.layout={},A={},arguments.length>1&&N.push(y("object","layout"))),c.supplyDefaults(F);for(var P=F._fullData,R=E.length,k=0;k<R;k++){var I=E[k],j=["data",k];if(h(I)){var G=P[k],q=G.type,et=O.traces[q].attributes;et.type={valType:"enumerated",values:[q]},G.visible===!1&&I.visible!==!1&&N.push(y("invisible",j)),g(I,G,et,N,j);var U=I.transforms,J=G.transforms;if(U){d(U)||N.push(y("array",j,["transforms"])),j.push("transforms");for(var nt=0;nt<U.length;nt++){var ct=["transforms",nt],z=U[nt].type;if(h(U[nt])){var W=O.transforms[z]?O.transforms[z].attributes:{};W.type={valType:"enumerated",values:Object.keys(O.transforms)},g(U[nt],J[nt],W,N,j,ct)}else N.push(y("object",j,ct))}}}else N.push(y("object",j))}var X=F._fullLayout,it=function(lt,pt){for(var rt=lt.layout.layoutAttributes,V=0;V<pt.length;V++){var B=pt[V],H=lt.traces[B.type],$=H.layoutAttributes;$&&(B.subplot?l.extendFlat(rt[H.attributes.subplot.dflt],$):l.extendFlat(rt,$))}return rt}(O,P);return g(A,X,it,N,"layout"),N.length===0?void 0:N};var m={object:function(M,S){return(M==="layout"&&S===""?"The layout argument":M[0]==="data"&&S===""?"Trace "+M[1]+" in the data argument":v(M)+"key "+S)+" must be linked to an object container"},array:function(M,S){return(M==="data"?"The data argument":v(M)+"key "+S)+" must be linked to an array container"},schema:function(M,S){return v(M)+"key "+S+" is not part of the schema"},unused:function(M,S,E){var A=h(E)?"container":"key";return v(M)+A+" "+S+" did not get coerced"},dynamic:function(M,S,E,A){return[v(M)+"key",S,"(set to '"+E+"')","got reset to","'"+A+"'","during defaults."].join(" ")},invisible:function(M,S){return(S?v(M)+"item "+S:"Trace "+M[1])+" got defaulted to be not visible"},value:function(M,S,E){return[v(M)+"key "+S,"is set to an invalid value ("+E+")"].join(" ")}};function v(M){return d(M)?"In data trace "+M[1]+", ":"In "+M+", "}function y(M,S,E,A,O){var N,F;E=E||"",d(S)?(N=S[0],F=S[1]):(N=S,F=null);var P=function(k){if(!d(k))return String(k);for(var I="",j=0;j<k.length;j++){var G=k[j];typeof G=="number"?I=I.substr(0,I.length-1)+"["+G+"]":I+=G,j<k.length-1&&(I+=".")}return I}(E),R=m[M](S,P,A,O);return l.log(R),{code:M,container:N,trace:F,path:E,astr:P,msg:R}}function _(M,S){var E=T(S),A=E.keyMinusId,O=E.id;return!!(A in M&&M[A]._isSubplotObj&&O)||S in M}function b(M,S){return S in M?M[S]:M[T(S).keyMinusId]}var w=l.counterRegex("([a-z]+)");function T(M){var S=M.match(w);return{keyMinusId:S&&S[1],id:S&&S[2]}}},5594:function(a){a.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},5501:function(a,s,o){var l=o(1828),c=o(4467);a.exports=function(u,f,h){var d,p,g=h.name,m=h.inclusionAttr||"visible",v=f[g],y=l.isArrayOrTypedArray(u[g])?u[g]:[],_=f[g]=[],b=c.arrayTemplater(f,g,m);for(d=0;d<y.length;d++){var w=y[d];l.isPlainObject(w)?p=b.newItem(w):(p=b.newItem({}))[m]=!1,p._index=d,p[m]!==!1&&h.handleItemDefaults(w,p,f,h),_.push(p)}var T=b.defaultItems();for(d=0;d<T.length;d++)(p=T[d])._index=_.length,h.handleItemDefaults({},p,f,h,{}),_.push(p);if(l.isArrayOrTypedArray(v)){var M=Math.min(v.length,_.length);for(d=0;d<M;d++)l.relinkPrivateKeys(_[d],v[d])}return _}},9012:function(a,s,o){var l=o(1940),c=o(7914);a.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:l({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:c.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},2973:function(a,s,o){var l=o(2770),c=o(1828),u=c.dateTime2ms,f=c.incrementMonth,h=o(606).ONEAVGMONTH;a.exports=function(d,p,g,m){if(p.type!=="date")return{vals:m};var v=d[g+"periodalignment"];if(!v)return{vals:m};var y,_=d[g+"period"];if(l(_)){if((_=+_)<=0)return{vals:m}}else if(typeof _=="string"&&_.charAt(0)==="M"){var b=+_.substring(1);if(!(b>0&&Math.round(b)===b))return{vals:m};y=b}for(var w=p.calendar,T=v==="start",M=v==="end",S=d[g+"period0"],E=u(S,w)||0,A=[],O=[],N=[],F=m.length,P=0;P<F;P++){var R,k,I,j=m[P];if(y){for(R=Math.round((j-E)/(y*h)),I=f(E,y*R,w);I>j;)I=f(I,-y,w);for(;I<=j;)I=f(I,y,w);k=f(I,-y,w)}else{for(I=E+(R=Math.round((j-E)/_))*_;I>j;)I-=_;for(;I<=j;)I+=_;k=I-_}A[P]=T?k:M?I:(k+I)/2,O[P]=k,N[P]=I}return{vals:A,starts:O,ends:N}}},9502:function(a){a.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},1739:function(a,s,o){var l=o(9898),c=o(2770),u=o(1828),f=o(606).FP_SAFE,h=o(3972),d=o(1424),p=o(1675),g=p.getFromId,m=p.isLinked;function v(P,R){var k,I,j=[],G=P._fullLayout,q=_(G,R,0),et=_(G,R,1),U=w(P,R),J=U.min,nt=U.max;if(J.length===0||nt.length===0)return u.simpleMap(R.range,R.r2l);var ct=J[0].val,z=nt[0].val;for(k=1;k<J.length&&ct===z;k++)ct=Math.min(ct,J[k].val);for(k=1;k<nt.length&&ct===z;k++)z=Math.max(z,nt[k].val);var W=R.autorange,X=W==="reversed"||W==="min reversed"||W==="max reversed";if(!X&&R.range){var it=u.simpleMap(R.range,R.r2l);X=it[1]<it[0]}R.autorange==="reversed"&&(R.autorange=!0);var lt,pt,rt,V,B,H,$=R.rangemode,Z=$==="tozero",Q=$==="nonnegative",ot=R._length,st=ot/10,dt=0;for(k=0;k<J.length;k++)for(lt=J[k],I=0;I<nt.length;I++)(H=(pt=nt[I]).val-lt.val-y(R,lt.val,pt.val))>0&&((B=ot-q(lt)-et(pt))>st?H/B>dt&&(rt=lt,V=pt,dt=H/B):H/ot>dt&&(rt={val:lt.val,nopad:1},V={val:pt.val,nopad:1},dt=H/ot));if(ct===z){var bt=ct-1,Pt=ct+1;if(Z)if(ct===0)j=[0,1];else{var It=(ct>0?nt:J).reduce(function(gt,_t){return Math.max(gt,et(_t))},0),Dt=ct/(1-Math.min(.5,It/ot));j=ct>0?[0,Dt]:[Dt,0]}else j=Q?[Math.max(0,bt),Math.max(1,Pt)]:[bt,Pt]}else Z?(rt.val>=0&&(rt={val:0,nopad:1}),V.val<=0&&(V={val:0,nopad:1})):Q&&(rt.val-dt*q(rt)<0&&(rt={val:0,nopad:1}),V.val<=0&&(V={val:1,nopad:1})),dt=(V.val-rt.val-y(R,lt.val,pt.val))/(ot-q(rt)-et(V)),j=[rt.val-dt*q(rt),V.val+dt*et(V)];return j=F(j,R),R.limitRange&&R.limitRange(),X&&j.reverse(),u.simpleMap(j,R.l2r||Number)}function y(P,R,k){var I=0;if(P.rangebreaks)for(var j=P.locateBreaks(R,k),G=0;G<j.length;G++){var q=j[G];I+=q.max-q.min}return I}function _(P,R,k){var I=.05*R._length,j=R._anchorAxis||{};if((R.ticklabelposition||"").indexOf("inside")!==-1||(j.ticklabelposition||"").indexOf("inside")!==-1){var G=R.isReversed();if(!G){var q=u.simpleMap(R.range,R.r2l);G=q[1]<q[0]}G&&(k=!k)}var et=0;return m(P,R._id)||(et=function(U,J,nt){var ct=0,z=J._id.charAt(0)==="x";for(var W in U._plots){var X=U._plots[W];if(J._id===X.xaxis._id||J._id===X.yaxis._id){var it=(z?X.yaxis:X.xaxis)||{};if((it.ticklabelposition||"").indexOf("inside")!==-1&&(!nt&&(it.side==="left"||it.side==="bottom")||nt&&(it.side==="top"||it.side==="right"))){if(it._vals){var lt=u.deg2rad(it._tickAngles[it._id+"tick"]||0),pt=Math.abs(Math.cos(lt)),rt=Math.abs(Math.sin(lt));if(!it._vals[0].bb){var V=it._id+"tick";it._selections[V].each(function(Q){var ot=l.select(this);ot.select(".text-math-group").empty()&&(Q.bb=d.bBox(ot.node()))})}for(var B=0;B<it._vals.length;B++){var H=it._vals[B].bb;if(H){var $=2*b+H.width,Z=2*b+H.height;ct=Math.max(ct,z?Math.max($*pt,Z*rt):Math.max(Z*pt,$*rt))}}}it.ticks==="inside"&&it.ticklabelposition==="inside"&&(ct+=it.ticklen||0)}}}return ct}(P,R,k)),I=Math.max(et,I),R.constrain==="domain"&&R._inputDomain&&(I*=(R._inputDomain[1]-R._inputDomain[0])/(R.domain[1]-R.domain[0])),function(U){return U.nopad?0:U.pad+(U.extrapad?I:et)}}a.exports={applyAutorangeOptions:F,getAutoRange:v,makePadFn:_,doAutoRange:function(P,R,k){if(R.setScale(),R.autorange){R.range=k?k.slice():v(P,R),R._r=R.range.slice(),R._rl=u.simpleMap(R._r,R.r2l);var I=R._input,j={};j[R._attr+".range"]=R.range,j[R._attr+".autorange"]=R.autorange,h.call("_storeDirectGUIEdit",P.layout,P._fullLayout._preGUI,j),I.range=R.range.slice(),I.autorange=R.autorange}var G=R._anchorAxis;if(G&&G.rangeslider){var q=G.rangeslider[R._name];q&&q.rangemode==="auto"&&(q.range=v(P,R)),G._input.rangeslider[R._name]=u.extendFlat({},q)}},findExtremes:function(P,R,k){k||(k={}),P._m||P.setScale();var I,j,G,q,et,U,J,nt,ct,z=[],W=[],X=R.length,it=k.padded||!1,lt=k.tozero&&(P.type==="linear"||P.type==="-"),pt=P.type==="log",rt=!1,V=k.vpadLinearized||!1;function B(bt){if(Array.isArray(bt))return rt=!0,function(It){return Math.max(Number(bt[It]||0),0)};var Pt=Math.max(Number(bt||0),0);return function(){return Pt}}var H=B((P._m>0?k.ppadplus:k.ppadminus)||k.ppad||0),$=B((P._m>0?k.ppadminus:k.ppadplus)||k.ppad||0),Z=B(k.vpadplus||k.vpad),Q=B(k.vpadminus||k.vpad);if(!rt){if(nt=1/0,ct=-1/0,pt)for(I=0;I<X;I++)(j=R[I])<nt&&j>0&&(nt=j),j>ct&&j<f&&(ct=j);else for(I=0;I<X;I++)(j=R[I])<nt&&j>-f&&(nt=j),j>ct&&j<f&&(ct=j);R=[nt,ct],X=2}var ot={tozero:lt,extrapad:it};function st(bt){G=R[bt],c(G)&&(U=H(bt),J=$(bt),V?(q=P.c2l(G)-Q(bt),et=P.c2l(G)+Z(bt)):(nt=G-Q(bt),ct=G+Z(bt),pt&&nt<ct/10&&(nt=ct/10),q=P.c2l(nt),et=P.c2l(ct)),lt&&(q=Math.min(0,q),et=Math.max(0,et)),E(q)&&T(z,q,J,ot),E(et)&&M(W,et,U,ot))}var dt=Math.min(6,X);for(I=0;I<dt;I++)st(I);for(I=X-1;I>=dt;I--)st(I);return{min:z,max:W,opts:k}},concatExtremes:w};var b=3;function w(P,R,k){var I,j,G,q=R._id,et=P._fullData,U=P._fullLayout,J=[],nt=[];function ct(lt,pt){for(I=0;I<pt.length;I++){var rt=lt[pt[I]],V=(rt._extremes||{})[q];if(rt.visible===!0&&V){for(j=0;j<V.min.length;j++)G=V.min[j],T(J,G.val,G.pad,{extrapad:G.extrapad});for(j=0;j<V.max.length;j++)G=V.max[j],M(nt,G.val,G.pad,{extrapad:G.extrapad})}}}if(ct(et,R._traceIndices),ct(U.annotations||[],R._annIndices||[]),ct(U.shapes||[],R._shapeIndices||[]),R._matchGroup&&!k){for(var z in R._matchGroup)if(z!==R._id){var W=g(P,z),X=w(P,W,!0),it=R._length/W._length;for(j=0;j<X.min.length;j++)G=X.min[j],T(J,G.val,G.pad*it,{extrapad:G.extrapad});for(j=0;j<X.max.length;j++)G=X.max[j],M(nt,G.val,G.pad*it,{extrapad:G.extrapad})}}return{min:J,max:nt}}function T(P,R,k,I){S(P,R,k,I,A)}function M(P,R,k,I){S(P,R,k,I,O)}function S(P,R,k,I,j){for(var G=I.tozero,q=I.extrapad,et=!0,U=0;U<P.length&&et;U++){var J=P[U];if(j(J.val,R)&&J.pad>=k&&(J.extrapad||!q)){et=!1;break}j(R,J.val)&&J.pad<=k&&(q||!J.extrapad)&&(P.splice(U,1),U--)}if(et){var nt=G&&R===0;P.push({val:R,pad:nt?0:k,extrapad:!nt&&q})}}function E(P){return c(P)&&Math.abs(P)<f}function A(P,R){return P<=R}function O(P,R){return P>=R}function N(P,R,k){return R===void 0||k===void 0||(R=P.d2l(R))<P.d2l(k)}function F(P,R){if(!R||!R.autorangeoptions)return P;var k=P[0],I=P[1],j=R.autorangeoptions.include;if(j!==void 0){var G=R.d2l(k),q=R.d2l(I);u.isArrayOrTypedArray(j)||(j=[j]);for(var et=0;et<j.length;et++){var U=R.d2l(j[et]);G>=U&&(G=U,k=U),q<=U&&(q=U,I=U)}}return k=function(J,nt){var ct=nt.autorangeoptions;return ct&&ct.minallowed!==void 0&&N(nt,ct.minallowed,ct.maxallowed)?ct.minallowed:ct&&ct.clipmin!==void 0&&N(nt,ct.clipmin,ct.clipmax)?Math.max(J,nt.d2l(ct.clipmin)):J}(k,R),I=function(J,nt){var ct=nt.autorangeoptions;return ct&&ct.maxallowed!==void 0&&N(nt,ct.minallowed,ct.maxallowed)?ct.maxallowed:ct&&ct.clipmax!==void 0&&N(nt,ct.clipmin,ct.clipmax)?Math.min(J,nt.d2l(ct.clipmax)):J}(I,R),[k,I]}},3074:function(a){a.exports=function(s,o,l){var c,u;if(l){var f=o==="reversed"||o==="min reversed"||o==="max reversed";c=l[f?1:0],u=l[f?0:1]}var h=s("autorangeoptions.minallowed",u===null?c:void 0),d=s("autorangeoptions.maxallowed",c===null?u:void 0);h===void 0&&s("autorangeoptions.clipmin"),d===void 0&&s("autorangeoptions.clipmax"),s("autorangeoptions.include")}},9298:function(a,s,o){var l=o(9898),c=o(2770),u=o(4875),f=o(3972),h=o(1828),d=h.strTranslate,p=o(3893),g=o(2998),m=o(7901),v=o(1424),y=o(3838),_=o(6287),b=o(606),w=b.ONEMAXYEAR,T=b.ONEAVGYEAR,M=b.ONEMINYEAR,S=b.ONEMAXQUARTER,E=b.ONEAVGQUARTER,A=b.ONEMINQUARTER,O=b.ONEMAXMONTH,N=b.ONEAVGMONTH,F=b.ONEMINMONTH,P=b.ONEWEEK,R=b.ONEDAY,k=R/2,I=b.ONEHOUR,j=b.ONEMIN,G=b.ONESEC,q=b.MINUS_SIGN,et=b.BADNUM,U={K:"zeroline"},J={K:"gridline",L:"path"},nt={K:"minor-gridline",L:"path"},ct={K:"tick",L:"path"},z={K:"tick",L:"text"},W={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},X=o(8783),it=X.MID_SHIFT,lt=X.CAP_SHIFT,pt=X.LINE_SPACING,rt=X.OPPOSITE_SIDE,V=a.exports={};V.setConvert=o(1994);var B=o(4322),H=o(1675),$=H.idSort,Z=H.isLinked;V.id2name=H.id2name,V.name2id=H.name2id,V.cleanId=H.cleanId,V.list=H.list,V.listIds=H.listIds,V.getFromId=H.getFromId,V.getFromTrace=H.getFromTrace;var Q=o(1739);V.getAutoRange=Q.getAutoRange,V.findExtremes=Q.findExtremes;var ot=1e-4;function st(ft){var mt=(ft[1]-ft[0])*ot;return[ft[0]-mt,ft[1]+mt]}V.coerceRef=function(ft,mt,Ht,Vt,ee,Xt){var Qt=Vt.charAt(Vt.length-1),se=Ht._fullLayout._subplots[Qt+"axis"],he=Vt+"ref",ye={};return ee||(ee=se[0]||(typeof Xt=="string"?Xt:Xt[0])),Xt||(Xt=ee),se=se.concat(se.map(function(oe){return oe+" domain"})),ye[he]={valType:"enumerated",values:se.concat(Xt?typeof Xt=="string"?[Xt]:Xt:[]),dflt:ee},h.coerce(ft,mt,ye,he)},V.getRefType=function(ft){return ft===void 0?ft:ft==="paper"?"paper":ft==="pixel"?"pixel":/( domain)$/.test(ft)?"domain":"range"},V.coercePosition=function(ft,mt,Ht,Vt,ee,Xt){var Qt,se;if(V.getRefType(Vt)!=="range")Qt=h.ensureNumber,se=Ht(ee,Xt);else{var he=V.getFromId(mt,Vt);se=Ht(ee,Xt=he.fraction2r(Xt)),Qt=he.cleanPos}ft[ee]=Qt(se)},V.cleanPosition=function(ft,mt,Ht){return(Ht==="paper"||Ht==="pixel"?h.ensureNumber:V.getFromId(mt,Ht).cleanPos)(ft)},V.redrawComponents=function(ft,mt){mt=mt||V.listIds(ft);var Ht=ft._fullLayout;function Vt(ee,Xt,Qt,se){for(var he=f.getComponentMethod(ee,Xt),ye={},oe=0;oe<mt.length;oe++)for(var Ue=Ht[V.id2name(mt[oe])][Qt],rn=0;rn<Ue.length;rn++){var Ne=Ue[rn];if(!ye[Ne]&&(he(ft,Ne),ye[Ne]=1,se))return}}Vt("annotations","drawOne","_annIndices"),Vt("shapes","drawOne","_shapeIndices"),Vt("images","draw","_imgIndices",!0),Vt("selections","drawOne","_selectionIndices")};var dt=V.getDataConversions=function(ft,mt,Ht,Vt){var ee,Xt=Ht==="x"||Ht==="y"||Ht==="z"?Ht:Vt;if(Array.isArray(Xt)){if(ee={type:B(Vt,void 0,{autotypenumbers:ft._fullLayout.autotypenumbers}),_categories:[]},V.setConvert(ee),ee.type==="category")for(var Qt=0;Qt<Vt.length;Qt++)ee.d2c(Vt[Qt])}else ee=V.getFromTrace(ft,mt,Xt);return ee?{d2c:ee.d2c,c2d:ee.c2d}:Xt==="ids"?{d2c:Pt,c2d:Pt}:{d2c:bt,c2d:bt}};function bt(ft){return+ft}function Pt(ft){return String(ft)}function It(ft,mt){return Math.abs((ft/mt+.5)%1-.5)<.001}function Dt(ft,mt){return Math.abs(ft/mt-1)<.001}function gt(ft){return+ft.substring(1)}function _t(ft,mt){return ft.rangebreaks&&(mt=mt.filter(function(Ht){return ft.maskBreaks(Ht.x)!==et})),mt}function wt(ft){var mt=ft._mainAxis,Ht=[];if(mt._vals){for(var Vt=0;Vt<mt._vals.length;Vt++)if(!mt._vals[Vt].noTick){var ee=mt.l2p(mt._vals[Vt].x),Xt=ft.p2l(ee),Qt=V.tickText(ft,Xt);mt._vals[Vt].minor&&(Qt.minor=!0,Qt.text=""),Ht.push(Qt)}}return _t(ft,Ht)}function Et(ft){var mt=st(h.simpleMap(ft.range,ft.r2l)),Ht=Math.min(mt[0],mt[1]),Vt=Math.max(mt[0],mt[1]),ee=ft.type==="category"?ft.d2l_noadd:ft.d2l;ft.type==="log"&&String(ft.dtick).charAt(0)!=="L"&&(ft.dtick="L"+Math.pow(10,Math.floor(Math.min(ft.range[0],ft.range[1]))-1));for(var Xt=[],Qt=0;Qt<=1;Qt++)if(!Qt||ft.minor){var se=Qt?ft.minor.tickvals:ft.tickvals,he=Qt?[]:ft.ticktext;if(se){Array.isArray(he)||(he=[]);for(var ye=0;ye<se.length;ye++){var oe=ee(se[ye]);if(oe>Ht&&oe<Vt){var Ue=he[ye]===void 0?V.tickText(ft,oe):Lt(ft,oe,String(he[ye]));Qt&&(Ue.minor=!0,Ue.text=""),Xt.push(Ue)}}}}return _t(ft,Xt)}V.getDataToCoordFunc=function(ft,mt,Ht,Vt){return dt(ft,mt,Ht,Vt).d2c},V.counterLetter=function(ft){var mt=ft.charAt(0);return mt==="x"?"y":mt==="y"?"x":void 0},V.minDtick=function(ft,mt,Ht,Vt){["log","category","multicategory"].indexOf(ft.type)===-1&&Vt?ft._minDtick===void 0?(ft._minDtick=mt,ft._forceTick0=Ht):ft._minDtick&&((ft._minDtick/mt+1e-6)%1<2e-6&&((Ht-ft._forceTick0)/mt%1+1.000001)%1<2e-6?(ft._minDtick=mt,ft._forceTick0=Ht):((mt/ft._minDtick+1e-6)%1>2e-6||((Ht-ft._forceTick0)/ft._minDtick%1+1.000001)%1>2e-6)&&(ft._minDtick=0)):ft._minDtick=0},V.saveRangeInitial=function(ft,mt){for(var Ht=V.list(ft,"",!0),Vt=!1,ee=0;ee<Ht.length;ee++){var Xt=Ht[ee],Qt=Xt._rangeInitial0===void 0&&Xt._rangeInitial1===void 0,se=Qt||Xt.range[0]!==Xt._rangeInitial0||Xt.range[1]!==Xt._rangeInitial1,he=Xt.autorange;(Qt&&he!==!0||mt&&se)&&(Xt._rangeInitial0=he==="min"||he==="max reversed"?void 0:Xt.range[0],Xt._rangeInitial1=he==="max"||he==="min reversed"?void 0:Xt.range[1],Xt._autorangeInitial=he,Vt=!0)}return Vt},V.saveShowSpikeInitial=function(ft,mt){for(var Ht=V.list(ft,"",!0),Vt=!1,ee="on",Xt=0;Xt<Ht.length;Xt++){var Qt=Ht[Xt],se=Qt._showSpikeInitial===void 0,he=se||Qt.showspikes!==Qt._showspikes;(se||mt&&he)&&(Qt._showSpikeInitial=Qt.showspikes,Vt=!0),ee!=="on"||Qt.showspikes||(ee="off")}return ft._fullLayout._cartesianSpikesEnabled=ee,Vt},V.autoBin=function(ft,mt,Ht,Vt,ee,Xt){var Qt,se=h.aggNums(Math.min,null,ft),he=h.aggNums(Math.max,null,ft);if(mt.type==="category"||mt.type==="multicategory")return{start:se-.5,end:he+.5,size:Math.max(1,Math.round(Xt)||1),_dataSpan:he-se};if(ee||(ee=mt.calendar),Qt=mt.type==="log"?{type:"linear",range:[se,he]}:{type:mt.type,range:h.simpleMap([se,he],mt.c2r,0,ee),calendar:ee},V.setConvert(Qt),Xt=Xt&&_.dtick(Xt,Qt.type))Qt.dtick=Xt,Qt.tick0=_.tick0(void 0,Qt.type,ee);else{var ye;if(Ht)ye=(he-se)/Ht;else{var oe=h.distinctVals(ft),Ue=Math.pow(10,Math.floor(Math.log(oe.minDiff)/Math.LN10)),rn=Ue*h.roundUp(oe.minDiff/Ue,[.9,1.9,4.9,9.9],!0);ye=Math.max(rn,2*h.stdev(ft)/Math.pow(ft.length,Vt?.25:.4)),c(ye)||(ye=1)}V.autoTicks(Qt,ye)}var Ne,Fe=Qt.dtick,Be=V.tickIncrement(V.tickFirst(Qt),Fe,"reverse",ee);if(typeof Fe=="number")Be=function(Se,Te,xe,Xe,Ve){var an=0,ge=0,Pe=0,ke=0;function Ye(sn){return(1+100*(sn-Se)/xe.dtick)%100<2}for(var je=0;je<Te.length;je++)Te[je]%1==0?Pe++:c(Te[je])||ke++,Ye(Te[je])&&an++,Ye(Te[je]+xe.dtick/2)&&ge++;var qe=Te.length-ke;if(Pe===qe&&xe.type!=="date")xe.dtick<1?Se=Xe-.5*xe.dtick:(Se-=.5)+xe.dtick<Xe&&(Se+=xe.dtick);else if(ge<.1*qe&&(an>.3*qe||Ye(Xe)||Ye(Ve))){var nn=xe.dtick/2;Se+=Se+nn<Xe?nn:-nn}return Se}(Be,ft,Qt,se,he),Ne=Be+(1+Math.floor((he-Be)/Fe))*Fe;else for(Qt.dtick.charAt(0)==="M"&&(Be=function(Se,Te,xe,Xe,Ve){var an=h.findExactDates(Te,Ve);if(an.exactDays>.8){var ge=Number(xe.substr(1));an.exactYears>.8&&ge%12==0?Se=V.tickIncrement(Se,"M6","reverse")+1.5*R:an.exactMonths>.8?Se=V.tickIncrement(Se,"M1","reverse")+15.5*R:Se-=k;var Pe=V.tickIncrement(Se,xe);if(Pe<=Xe)return Pe}return Se}(Be,ft,Fe,se,ee)),Ne=Be;Ne<=he;)Ne=V.tickIncrement(Ne,Fe,!1,ee);return{start:mt.c2r(Be,0,ee),end:mt.c2r(Ne,0,ee),size:Fe,_dataSpan:he-se}},V.prepMinorTicks=function(ft,mt,Ht){if(!mt.minor.dtick){delete ft.dtick;var Vt,ee=mt.dtick&&c(mt._tmin);if(ee){var Xt=V.tickIncrement(mt._tmin,mt.dtick,!0);Vt=[mt._tmin,.99*Xt+.01*mt._tmin]}else{var Qt=h.simpleMap(mt.range,mt.r2l);Vt=[Qt[0],.8*Qt[0]+.2*Qt[1]]}if(ft.range=h.simpleMap(Vt,mt.l2r),ft._isMinor=!0,V.prepTicks(ft,Ht),ee){var se=c(mt.dtick),he=c(ft.dtick),ye=se?mt.dtick:+mt.dtick.substring(1),oe=he?ft.dtick:+ft.dtick.substring(1);se&&he?It(ye,oe)?ye===2*P&&oe===2*R&&(ft.dtick=P):ye===2*P&&oe===3*R?ft.dtick=P:ye!==P||(mt._input.minor||{}).nticks?Dt(ye/oe,2.5)?ft.dtick=ye/2:ft.dtick=ye:ft.dtick=R:String(mt.dtick).charAt(0)==="M"?he?ft.dtick="M1":It(ye,oe)?ye>=12&&oe===2&&(ft.dtick="M3"):ft.dtick=mt.dtick:String(ft.dtick).charAt(0)==="L"?String(mt.dtick).charAt(0)==="L"?It(ye,oe)||(ft.dtick=Dt(ye/oe,2.5)?mt.dtick/2:mt.dtick):ft.dtick="D1":ft.dtick==="D2"&&+mt.dtick>1&&(ft.dtick=1)}ft.range=mt.range}mt.minor._tick0Init===void 0&&(ft.tick0=mt.tick0)},V.prepTicks=function(ft,mt){var Ht=h.simpleMap(ft.range,ft.r2l,void 0,void 0,mt);if(ft.tickmode==="auto"||!ft.dtick){var Vt,ee=ft.nticks;ee||(ft.type==="category"||ft.type==="multicategory"?(Vt=ft.tickfont?h.bigFont(ft.tickfont.size||12):15,ee=ft._length/Vt):(Vt=ft._id.charAt(0)==="y"?40:80,ee=h.constrain(ft._length/Vt,4,9)+1),ft._name==="radialaxis"&&(ee*=2)),ft.minor&&ft.minor.tickmode!=="array"||ft.tickmode==="array"&&(ee*=100),ft._roughDTick=Math.abs(Ht[1]-Ht[0])/ee,V.autoTicks(ft,ft._roughDTick),ft._minDtick>0&&ft.dtick<2*ft._minDtick&&(ft.dtick=ft._minDtick,ft.tick0=ft.l2r(ft._forceTick0))}ft.ticklabelmode==="period"&&function(Xt){var Qt;function se(){return!(c(Xt.dtick)||Xt.dtick.charAt(0)!=="M")}var he=se(),ye=V.getTickFormat(Xt);if(ye){var oe=Xt._dtickInit!==Xt.dtick;/%[fLQsSMX]/.test(ye)||(/%[HI]/.test(ye)?(Qt=I,oe&&!he&&Xt.dtick<I&&(Xt.dtick=I)):/%p/.test(ye)?(Qt=k,oe&&!he&&Xt.dtick<k&&(Xt.dtick=k)):/%[Aadejuwx]/.test(ye)?(Qt=R,oe&&!he&&Xt.dtick<R&&(Xt.dtick=R)):/%[UVW]/.test(ye)?(Qt=P,oe&&!he&&Xt.dtick<P&&(Xt.dtick=P)):/%[Bbm]/.test(ye)?(Qt=N,oe&&(he?gt(Xt.dtick)<1:Xt.dtick<F)&&(Xt.dtick="M1")):/%[q]/.test(ye)?(Qt=E,oe&&(he?gt(Xt.dtick)<3:Xt.dtick<A)&&(Xt.dtick="M3")):/%[Yy]/.test(ye)&&(Qt=T,oe&&(he?gt(Xt.dtick)<12:Xt.dtick<M)&&(Xt.dtick="M12")))}(he=se())&&Xt.tick0===Xt._dowTick0&&(Xt.tick0=Xt._rawTick0),Xt._definedDelta=Qt}(ft),ft.tick0||(ft.tick0=ft.type==="date"?"2000-01-01":0),ft.type==="date"&&ft.dtick<.1&&(ft.dtick=.1),Bt(ft)},V.calcTicks=function(ft,mt){for(var Ht,Vt,ee=ft.type,Xt=ft.calendar,Qt=ft.ticklabelstep,se=ft.ticklabelmode==="period",he=h.simpleMap(ft.range,ft.r2l,void 0,void 0,mt),ye=he[1]<he[0],oe=Math.min(he[0],he[1]),Ue=Math.max(he[0],he[1]),rn=Math.max(1e3,ft._length||0),Ne=[],Fe=[],Be=[],Se=[],Te=ft.minor&&(ft.minor.ticks||ft.minor.showgrid),xe=1;xe>=(Te?0:1);xe--){var Xe=!xe;xe?(ft._dtickInit=ft.dtick,ft._tick0Init=ft.tick0):(ft.minor._dtickInit=ft.minor.dtick,ft.minor._tick0Init=ft.minor.tick0);var Ve=xe?ft:h.extendFlat({},ft,ft.minor);if(Xe?V.prepMinorTicks(Ve,ft,mt):V.prepTicks(Ve,mt),Ve.tickmode!=="array")if(Ve.tickmode!=="sync"){var an=st(he),ge=an[0],Pe=an[1],ke=c(Ve.dtick),Ye=ee==="log"&&!(ke||Ve.dtick.charAt(0)==="L"),je=V.tickFirst(Ve,mt);if(xe){if(ft._tmin=je,je<ge!==ye)break;ee!=="category"&&ee!=="multicategory"||(Pe=ye?Math.max(-.5,Pe):Math.min(ft._categories.length-.5,Pe))}var qe,nn,sn=null,Ze=je;xe&&(ke?nn=ft.dtick:ee==="date"?typeof ft.dtick=="string"&&ft.dtick.charAt(0)==="M"&&(nn=N*ft.dtick.substring(1)):nn=ft._roughDTick,qe=Math.round((ft.r2l(Ze)-ft.r2l(ft.tick0))/nn)-1);var tn=Ve.dtick;for(Ve.rangebreaks&&Ve._tick0Init!==Ve.tick0&&(Ze=He(Ze,ft),ye||(Ze=V.tickIncrement(Ze,tn,!ye,Xt))),xe&&se&&(Ze=V.tickIncrement(Ze,tn,!ye,Xt),qe--);ye?Ze>=Pe:Ze<=Pe;Ze=V.tickIncrement(Ze,tn,ye,Xt)){if(xe&&qe++,Ve.rangebreaks&&!ye){if(Ze<ge)continue;if(Ve.maskBreaks(Ze)===et&&He(Ze,Ve)>=Ue)break}if(Be.length>rn||Ze===sn)break;sn=Ze;var Tn={value:Ze};xe?(Ye&&Ze!==(0|Ze)&&(Tn.simpleLabel=!0),Qt>1&&qe%Qt&&(Tn.skipLabel=!0),Be.push(Tn)):(Tn.minor=!0,Se.push(Tn))}}else Be=[],Ne=wt(ft);else xe?(Be=[],Ne=Et(ft)):(Se=[],Fe=Et(ft))}if(Te&&!(ft.minor.ticks==="inside"&&ft.ticks==="outside"||ft.minor.ticks==="outside"&&ft.ticks==="inside")){for(var An=Be.map(function(wi){return wi.value}),Sn=[],bn=0;bn<Se.length;bn++){var _n=Se[bn],Hn=_n.value;if(An.indexOf(Hn)===-1){for(var En=!1,Dn=0;!En&&Dn<Be.length;Dn++)1e7+Be[Dn].value===1e7+Hn&&(En=!0);En||Sn.push(_n)}}Se=Sn}if(se&&function(wi,Da,Ri){for(var qr=0;qr<wi.length;qr++){var ka=wi[qr].value,Ci=qr,$n=qr+1;qr<wi.length-1?(Ci=qr,$n=qr+1):qr>0?(Ci=qr-1,$n=qr):(Ci=qr,$n=qr);var wn,gr=wi[Ci].value,ur=wi[$n].value,Pn=Math.abs(ur-gr),wr=Ri||Pn,rr=0;wr>=M?rr=Pn>=M&&Pn<=w?Pn:T:Ri===E&&wr>=A?rr=Pn>=A&&Pn<=S?Pn:E:wr>=F?rr=Pn>=F&&Pn<=O?Pn:N:Ri===P&&wr>=P?rr=P:wr>=R?rr=R:Ri===k&&wr>=k?rr=k:Ri===I&&wr>=I&&(rr=I),rr>=Pn&&(rr=Pn,wn=!0);var ni=ka+rr;if(Da.rangebreaks&&rr>0){for(var hi=0,Ai=0;Ai<84;Ai++){var Ii=(Ai+.5)/84;Da.maskBreaks(ka*(1-Ii)+Ii*ni)!==et&&hi++}(rr*=hi/84)||(wi[qr].drop=!0),wn&&Pn>P&&(rr=Pn)}(rr>0||qr===0)&&(wi[qr].periodX=ka+rr/2)}}(Be,ft,ft._definedDelta),ft.rangebreaks){var xn=ft._id.charAt(0)==="y",Kn=1;ft.tickmode==="auto"&&(Kn=ft.tickfont?ft.tickfont.size:12);var Yn=NaN;for(Ht=Be.length-1;Ht>-1;Ht--)if(Be[Ht].drop)Be.splice(Ht,1);else{Be[Ht].value=He(Be[Ht].value,ft);var hr=ft.c2p(Be[Ht].value);(xn?Yn>hr-Kn:Yn<hr+Kn)?Be.splice(ye?Ht+1:Ht,1):Yn=hr}}Ee(ft)&&Math.abs(he[1]-he[0])===360&&Be.pop(),ft._tmax=(Be[Be.length-1]||{}).value,ft._prevDateHead="",ft._inCalcTicks=!0;var pr,Zn,br=function(wi){wi.text="",ft._prevDateHead=Vt};for(Be=Be.concat(Se),Ht=0;Ht<Be.length;Ht++){var bi=Be[Ht].minor,so=Be[Ht].value;bi?Fe.push({x:so,minor:!0}):(Vt=ft._prevDateHead,pr=V.tickText(ft,so,!1,Be[Ht].simpleLabel),(Zn=Be[Ht].periodX)!==void 0&&(pr.periodX=Zn,(Zn>Ue||Zn<oe)&&(Zn>Ue&&(pr.periodX=Ue),Zn<oe&&(pr.periodX=oe),br(pr))),Be[Ht].skipLabel&&br(pr),Ne.push(pr))}return Ne=Ne.concat(Fe),ft._inCalcTicks=!1,se&&Ne.length&&(Ne[0].noTick=!0),Ne};var ht=[2,5,10],vt=[1,2,3,6,12],Ct=[1,2,5,10,15,30],Mt=[1,2,3,7,14],Nt=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Rt=[-.301,0,.301,.699,1],At=[15,30,45,90,180];function kt(ft,mt,Ht){return mt*h.roundUp(ft/mt,Ht)}function Bt(ft){var mt=ft.dtick;if(ft._tickexponent=0,c(mt)||typeof mt=="string"||(mt=1),ft.type!=="category"&&ft.type!=="multicategory"||(ft._tickround=null),ft.type==="date"){var Ht=ft.r2l(ft.tick0),Vt=ft.l2r(Ht).replace(/(^-|i)/g,""),ee=Vt.length;if(String(mt).charAt(0)==="M")ee>10||Vt.substr(5)!=="01-01"?ft._tickround="d":ft._tickround=+mt.substr(1)%12==0?"y":"m";else if(mt>=R&&ee<=10||mt>=15*R)ft._tickround="d";else if(mt>=j&&ee<=16||mt>=I)ft._tickround="M";else if(mt>=G&&ee<=19||mt>=j)ft._tickround="S";else{var Xt=ft.l2r(Ht+mt).replace(/^-/,"").length;ft._tickround=Math.max(ee,Xt)-20,ft._tickround<0&&(ft._tickround=4)}}else if(c(mt)||mt.charAt(0)==="L"){var Qt=ft.range.map(ft.r2d||Number);c(mt)||(mt=Number(mt.substr(1))),ft._tickround=2-Math.floor(Math.log(mt)/Math.LN10+.01);var se=Math.max(Math.abs(Qt[0]),Math.abs(Qt[1])),he=Math.floor(Math.log(se)/Math.LN10+.01),ye=ft.minexponent===void 0?3:ft.minexponent;Math.abs(he)>ye&&(Gt(ft.exponentformat)&&!Ut(he)?ft._tickexponent=3*Math.round((he-1)/3):ft._tickexponent=he)}else ft._tickround=null}function Lt(ft,mt,Ht){var Vt=ft.tickfont||{};return{x:mt,dx:0,dy:0,text:Ht||"",fontSize:Vt.size,font:Vt.family,fontColor:Vt.color}}V.autoTicks=function(ft,mt,Ht){var Vt;function ee(Ue){return Math.pow(Ue,Math.floor(Math.log(mt)/Math.LN10))}if(ft.type==="date"){ft.tick0=h.dateTick0(ft.calendar,0);var Xt=2*mt;if(Xt>T)mt/=T,Vt=ee(10),ft.dtick="M"+12*kt(mt,Vt,ht);else if(Xt>N)mt/=N,ft.dtick="M"+kt(mt,1,vt);else if(Xt>R){if(ft.dtick=kt(mt,R,ft._hasDayOfWeekBreaks?[1,2,7,14]:Mt),!Ht){var Qt=V.getTickFormat(ft),se=ft.ticklabelmode==="period";se&&(ft._rawTick0=ft.tick0),/%[uVW]/.test(Qt)?ft.tick0=h.dateTick0(ft.calendar,2):ft.tick0=h.dateTick0(ft.calendar,1),se&&(ft._dowTick0=ft.tick0)}}else Xt>I?ft.dtick=kt(mt,I,vt):Xt>j?ft.dtick=kt(mt,j,Ct):Xt>G?ft.dtick=kt(mt,G,Ct):(Vt=ee(10),ft.dtick=kt(mt,Vt,ht))}else if(ft.type==="log"){ft.tick0=0;var he=h.simpleMap(ft.range,ft.r2l);if(ft._isMinor&&(mt*=1.5),mt>.7)ft.dtick=Math.ceil(mt);else if(Math.abs(he[1]-he[0])<1){var ye=1.5*Math.abs((he[1]-he[0])/mt);mt=Math.abs(Math.pow(10,he[1])-Math.pow(10,he[0]))/ye,Vt=ee(10),ft.dtick="L"+kt(mt,Vt,ht)}else ft.dtick=mt>.3?"D2":"D1"}else ft.type==="category"||ft.type==="multicategory"?(ft.tick0=0,ft.dtick=Math.ceil(Math.max(mt,1))):Ee(ft)?(ft.tick0=0,Vt=1,ft.dtick=kt(mt,Vt,At)):(ft.tick0=0,Vt=ee(10),ft.dtick=kt(mt,Vt,ht));if(ft.dtick===0&&(ft.dtick=1),!c(ft.dtick)&&typeof ft.dtick!="string"){var oe=ft.dtick;throw ft.dtick=1,"ax.dtick error: "+String(oe)}},V.tickIncrement=function(ft,mt,Ht,Vt){var ee=Ht?-1:1;if(c(mt))return h.increment(ft,ee*mt);var Xt=mt.charAt(0),Qt=ee*Number(mt.substr(1));if(Xt==="M")return h.incrementMonth(ft,Qt,Vt);if(Xt==="L")return Math.log(Math.pow(10,ft)+Qt)/Math.LN10;if(Xt==="D"){var se=mt==="D2"?Rt:Nt,he=ft+.01*ee,ye=h.roundUp(h.mod(he,1),se,Ht);return Math.floor(he)+Math.log(l.round(Math.pow(10,ye),1))/Math.LN10}throw"unrecognized dtick "+String(mt)},V.tickFirst=function(ft,mt){var Ht=ft.r2l||Number,Vt=h.simpleMap(ft.range,Ht,void 0,void 0,mt),ee=Vt[1]<Vt[0],Xt=ee?Math.floor:Math.ceil,Qt=st(Vt)[0],se=ft.dtick,he=Ht(ft.tick0);if(c(se)){var ye=Xt((Qt-he)/se)*se+he;return ft.type!=="category"&&ft.type!=="multicategory"||(ye=h.constrain(ye,0,ft._categories.length-1)),ye}var oe=se.charAt(0),Ue=Number(se.substr(1));if(oe==="M"){for(var rn,Ne,Fe,Be=0,Se=he;Be<10;){if(((rn=V.tickIncrement(Se,se,ee,ft.calendar))-Qt)*(Se-Qt)<=0)return ee?Math.min(Se,rn):Math.max(Se,rn);Ne=(Qt-(Se+rn)/2)/(rn-Se),Fe=oe+(Math.abs(Math.round(Ne))||1)*Ue,Se=V.tickIncrement(Se,Fe,Ne<0?!ee:ee,ft.calendar),Be++}return h.error("tickFirst did not converge",ft),Se}if(oe==="L")return Math.log(Xt((Math.pow(10,Qt)-he)/Ue)*Ue+he)/Math.LN10;if(oe==="D"){var Te=se==="D2"?Rt:Nt,xe=h.roundUp(h.mod(Qt,1),Te,ee);return Math.floor(Qt)+Math.log(l.round(Math.pow(10,xe),1))/Math.LN10}throw"unrecognized dtick "+String(se)},V.tickText=function(ft,mt,Ht,Vt){var ee,Xt=Lt(ft,mt),Qt=ft.tickmode==="array",se=Ht||Qt,he=ft.type,ye=he==="category"?ft.d2l_noadd:ft.d2l;if(Qt&&Array.isArray(ft.ticktext)){var oe=h.simpleMap(ft.range,ft.r2l),Ue=(Math.abs(oe[1]-oe[0])-(ft._lBreaks||0))/1e4;for(ee=0;ee<ft.ticktext.length&&!(Math.abs(mt-ye(ft.tickvals[ee]))<Ue);ee++);if(ee<ft.ticktext.length)return Xt.text=String(ft.ticktext[ee]),Xt}function rn(Se){if(Se===void 0)return!0;if(Ht)return Se==="none";var Te={first:ft._tmin,last:ft._tmax}[Se];return Se!=="all"&&mt!==Te}var Ne=Ht?"never":ft.exponentformat!=="none"&&rn(ft.showexponent)?"hide":"";if(he==="date"?function(Se,Te,xe,Xe){var Ve=Se._tickround,an=xe&&Se.hoverformat||V.getTickFormat(Se);Xe&&(Ve=c(Ve)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[Ve]);var ge,Pe=h.formatDate(Te.x,an,Ve,Se._dateFormat,Se.calendar,Se._extraFormat),ke=Pe.indexOf(`
`);if(ke!==-1&&(ge=Pe.substr(ke+1),Pe=Pe.substr(0,ke)),Xe&&(Pe==="00:00:00"||Pe==="00:00"?(Pe=ge,ge=""):Pe.length===8&&(Pe=Pe.replace(/:00$/,""))),ge)if(xe)Ve==="d"?Pe+=", "+ge:Pe=ge+(Pe?", "+Pe:"");else if(Se._inCalcTicks&&Se._prevDateHead===ge){var Ye=Ae(Se),je=Se._trueSide||Se.side;(!Ye&&je==="top"||Ye&&je==="bottom")&&(Pe+="<br> ")}else Se._prevDateHead=ge,Pe+="<br>"+ge;Te.text=Pe}(ft,Xt,Ht,se):he==="log"?function(Se,Te,xe,Xe,Ve){var an=Se.dtick,ge=Te.x,Pe=Se.tickformat,ke=typeof an=="string"&&an.charAt(0);if(Ve==="never"&&(Ve=""),Xe&&ke!=="L"&&(an="L3",ke="L"),Pe||ke==="L")Te.text=ne(Math.pow(10,ge),Se,Ve,Xe);else if(c(an)||ke==="D"&&h.mod(ge+.01,1)<.1){var Ye=Math.round(ge),je=Math.abs(Ye),qe=Se.exponentformat;qe==="power"||Gt(qe)&&Ut(Ye)?(Te.text=Ye===0?1:Ye===1?"10":"10<sup>"+(Ye>1?"":q)+je+"</sup>",Te.fontSize*=1.25):(qe==="e"||qe==="E")&&je>2?Te.text="1"+qe+(Ye>0?"+":q)+je:(Te.text=ne(Math.pow(10,ge),Se,"","fakehover"),an==="D1"&&Se._id.charAt(0)==="y"&&(Te.dy-=Te.fontSize/6))}else{if(ke!=="D")throw"unrecognized dtick "+String(an);Te.text=String(Math.round(Math.pow(10,h.mod(ge,1)))),Te.fontSize*=.75}if(Se.dtick==="D1"){var nn=String(Te.text).charAt(0);nn!=="0"&&nn!=="1"||(Se._id.charAt(0)==="y"?Te.dx-=Te.fontSize/4:(Te.dy+=Te.fontSize/2,Te.dx+=(Se.range[1]>Se.range[0]?1:-1)*Te.fontSize*(ge<0?.5:.25)))}}(ft,Xt,0,se,Ne):he==="category"?function(Se,Te){var xe=Se._categories[Math.round(Te.x)];xe===void 0&&(xe=""),Te.text=String(xe)}(ft,Xt):he==="multicategory"?function(Se,Te,xe){var Xe=Math.round(Te.x),Ve=Se._categories[Xe]||[],an=Ve[1]===void 0?"":String(Ve[1]),ge=Ve[0]===void 0?"":String(Ve[0]);xe?Te.text=ge+" - "+an:(Te.text=an,Te.text2=ge)}(ft,Xt,Ht):Ee(ft)?function(Se,Te,xe,Xe,Ve){if(Se.thetaunit!=="radians"||xe)Te.text=ne(Te.x,Se,Ve,Xe);else{var an=Te.x/180;if(an===0)Te.text="0";else{var ge=function(ke){function Ye(sn,Ze){return Math.abs(sn-Ze)<=1e-6}var je=function(sn){for(var Ze=1;!Ye(Math.round(sn*Ze)/Ze,sn);)Ze*=10;return Ze}(ke),qe=ke*je,nn=Math.abs(function sn(Ze,tn){return Ye(tn,0)?Ze:sn(tn,Ze%tn)}(qe,je));return[Math.round(qe/nn),Math.round(je/nn)]}(an);if(ge[1]>=100)Te.text=ne(h.deg2rad(Te.x),Se,Ve,Xe);else{var Pe=Te.x<0;ge[1]===1?ge[0]===1?Te.text="":Te.text=ge[0]+"":Te.text=["<sup>",ge[0],"</sup>","","<sub>",ge[1],"</sub>",""].join(""),Pe&&(Te.text=q+Te.text)}}}}(ft,Xt,Ht,se,Ne):function(Se,Te,xe,Xe,Ve){Ve==="never"?Ve="":Se.showexponent==="all"&&Math.abs(Te.x/Se.dtick)<1e-6&&(Ve="hide"),Te.text=ne(Te.x,Se,Ve,Xe)}(ft,Xt,0,se,Ne),Vt||(ft.tickprefix&&!rn(ft.showtickprefix)&&(Xt.text=ft.tickprefix+Xt.text),ft.ticksuffix&&!rn(ft.showticksuffix)&&(Xt.text+=ft.ticksuffix)),ft.labelalias&&ft.labelalias.hasOwnProperty(Xt.text)){var Fe=ft.labelalias[Xt.text];typeof Fe=="string"&&(Xt.text=Fe)}if(ft.tickson==="boundaries"||ft.showdividers){var Be=function(Se){var Te=ft.l2p(Se);return Te>=0&&Te<=ft._length?Se:null};Xt.xbnd=[Be(Xt.x-.5),Be(Xt.x+ft.dtick-.5)]}return Xt},V.hoverLabelText=function(ft,mt,Ht){Ht&&(ft=h.extendFlat({},ft,{hoverformat:Ht}));var Vt=Array.isArray(mt)?mt[0]:mt,ee=Array.isArray(mt)?mt[1]:void 0;if(ee!==void 0&&ee!==Vt)return V.hoverLabelText(ft,Vt,Ht)+" - "+V.hoverLabelText(ft,ee,Ht);var Xt=ft.type==="log"&&Vt<=0,Qt=V.tickText(ft,ft.c2l(Xt?-Vt:Vt),"hover").text;return Xt?Vt===0?"0":q+Qt:Qt};var zt=["f","p","n","","m","","k","M","G","T"];function Gt(ft){return ft==="SI"||ft==="B"}function Ut(ft){return ft>14||ft<-15}function ne(ft,mt,Ht,Vt){var ee=ft<0,Xt=mt._tickround,Qt=Ht||mt.exponentformat||"B",se=mt._tickexponent,he=V.getTickFormat(mt),ye=mt.separatethousands;if(Vt){var oe={exponentformat:Qt,minexponent:mt.minexponent,dtick:mt.showexponent==="none"?mt.dtick:c(ft)&&Math.abs(ft)||1,range:mt.showexponent==="none"?mt.range.map(mt.r2d):[0,ft||1]};Bt(oe),Xt=(Number(oe._tickround)||0)+4,se=oe._tickexponent,mt.hoverformat&&(he=mt.hoverformat)}if(he)return mt._numFormat(he)(ft).replace(/-/g,q);var Ue,rn=Math.pow(10,-Xt)/2;if(Qt==="none"&&(se=0),(ft=Math.abs(ft))<rn)ft="0",ee=!1;else{if(ft+=rn,se&&(ft*=Math.pow(10,-se),Xt+=se),Xt===0)ft=String(Math.floor(ft));else if(Xt<0){ft=(ft=String(Math.round(ft))).substr(0,ft.length+Xt);for(var Ne=Xt;Ne<0;Ne++)ft+="0"}else{var Fe=(ft=String(ft)).indexOf(".")+1;Fe&&(ft=ft.substr(0,Fe+Xt).replace(/\.?0+$/,""))}ft=h.numSeparate(ft,mt._separators,ye)}return se&&Qt!=="hide"&&(Gt(Qt)&&Ut(se)&&(Qt="power"),Ue=se<0?q+-se:Qt!=="power"?"+"+se:String(se),Qt==="e"||Qt==="E"?ft+=Qt+Ue:Qt==="power"?ft+="10<sup>"+Ue+"</sup>":Qt==="B"&&se===9?ft+="B":Gt(Qt)&&(ft+=zt[se/3+5])),ee?q+ft:ft}function te(ft,mt){if(ft){var Ht=Object.keys(W).reduce(function(Vt,ee){return mt.indexOf(ee)!==-1&&W[ee].forEach(function(Xt){Vt[Xt]=1}),Vt},{});Object.keys(ft).forEach(function(Vt){Ht[Vt]||(Vt.length===1?ft[Vt]=0:delete ft[Vt])})}}function ae(ft,mt){for(var Ht=[],Vt={},ee=0;ee<mt.length;ee++){var Xt=mt[ee];Vt[Xt.text2]?Vt[Xt.text2].push(Xt.x):Vt[Xt.text2]=[Xt.x]}for(var Qt in Vt)Ht.push(Lt(ft,h.interp(Vt[Qt],.5),Qt));return Ht}function ue(ft){return ft.periodX!==void 0?ft.periodX:ft.x}function pe(ft){return[ft.text,ft.x,ft.axInfo,ft.font,ft.fontSize,ft.fontColor].join("_")}function be(ft){var mt=ft.title.font.size,Ht=(ft.title.text.match(p.BR_TAG_ALL)||[]).length;return ft.title.hasOwnProperty("standoff")?Ht?mt*(lt+Ht*pt):mt*lt:Ht?mt*(Ht+1)*pt:mt}function re(ft,mt){var Ht=ft.l2p(mt);return Ht>1&&Ht<ft._length-1}function jt(ft){var mt=l.select(ft),Ht=mt.select(".text-math-group");return Ht.empty()?mt.select("text"):Ht}function $t(ft){return ft._id+".automargin"}function Jt(ft){return $t(ft)+".mirror"}function qt(ft){return ft._id+".rangeslider"}function Ce(ft,mt){for(var Ht=0;Ht<mt.length;Ht++)ft.indexOf(mt[Ht])===-1&&ft.push(mt[Ht])}function fe(ft,mt,Ht){var Vt,ee,Xt=[],Qt=[],se=ft.layout;for(Vt=0;Vt<mt.length;Vt++)Xt.push(V.getFromId(ft,mt[Vt]));for(Vt=0;Vt<Ht.length;Vt++)Qt.push(V.getFromId(ft,Ht[Vt]));var he=Object.keys(y),ye=["anchor","domain","overlaying","position","side","tickangle","editType"],oe=["linear","log"];for(Vt=0;Vt<he.length;Vt++){var Ue=he[Vt],rn=Xt[0][Ue],Ne=Qt[0][Ue],Fe=!0,Be=!1,Se=!1;if(Ue.charAt(0)!=="_"&&typeof rn!="function"&&ye.indexOf(Ue)===-1){for(ee=1;ee<Xt.length&&Fe;ee++){var Te=Xt[ee][Ue];Ue==="type"&&oe.indexOf(rn)!==-1&&oe.indexOf(Te)!==-1&&rn!==Te?Be=!0:Te!==rn&&(Fe=!1)}for(ee=1;ee<Qt.length&&Fe;ee++){var xe=Qt[ee][Ue];Ue==="type"&&oe.indexOf(Ne)!==-1&&oe.indexOf(xe)!==-1&&Ne!==xe?Se=!0:Qt[ee][Ue]!==Ne&&(Fe=!1)}Fe&&(Be&&(se[Xt[0]._name].type="linear"),Se&&(se[Qt[0]._name].type="linear"),Me(se,Ue,Xt,Qt,ft._fullLayout._dfltTitle))}}for(Vt=0;Vt<ft._fullLayout.annotations.length;Vt++){var Xe=ft._fullLayout.annotations[Vt];mt.indexOf(Xe.xref)!==-1&&Ht.indexOf(Xe.yref)!==-1&&h.swapAttrs(se.annotations[Vt],["?"])}}function Me(ft,mt,Ht,Vt,ee){var Xt,Qt=h.nestedProperty,se=Qt(ft[Ht[0]._name],mt).get(),he=Qt(ft[Vt[0]._name],mt).get();for(mt==="title"&&(se&&se.text===ee.x&&(se.text=ee.y),he&&he.text===ee.y&&(he.text=ee.x)),Xt=0;Xt<Ht.length;Xt++)Qt(ft,Ht[Xt]._name+"."+mt).set(he);for(Xt=0;Xt<Vt.length;Xt++)Qt(ft,Vt[Xt]._name+"."+mt).set(se)}function Ee(ft){return ft._id==="angularaxis"}function He(ft,mt){for(var Ht=mt._rangebreaks.length,Vt=0;Vt<Ht;Vt++){var ee=mt._rangebreaks[Vt];if(ft>=ee.min&&ft<ee.max)return ee.max}return ft}function Ae(ft){return(ft.ticklabelposition||"").indexOf("inside")!==-1}function $e(ft,mt){Ae(ft._anchorAxis||{})&&ft._hideCounterAxisInsideTickLabels&&ft._hideCounterAxisInsideTickLabels(mt)}function Oe(ft,mt,Ht,Vt){var ee,Xt=ft.anchor==="free"||ft.overlaying!==void 0&&ft.overlaying!==!1?ft.overlaying:ft._id;ee=Vt?ft.side==="right"?mt:-mt:mt,Xt in Ht||(Ht[Xt]={}),ft.side in Ht[Xt]||(Ht[Xt][ft.side]=0),Ht[Xt][ft.side]+=ee}V.getTickFormat=function(ft){var mt,Ht,Vt,ee,Xt,Qt,se,he;function ye(rn){return typeof rn!="string"?rn:Number(rn.replace("M",""))*N}function oe(rn,Ne){var Fe=["L","D"];if(typeof rn==typeof Ne){if(typeof rn=="number")return rn-Ne;var Be=Fe.indexOf(rn.charAt(0)),Se=Fe.indexOf(Ne.charAt(0));return Be===Se?Number(rn.replace(/(L|D)/g,""))-Number(Ne.replace(/(L|D)/g,"")):Be-Se}return typeof rn=="number"?1:-1}function Ue(rn,Ne){var Fe=Ne[0]===null,Be=Ne[1]===null,Se=oe(rn,Ne[0])>=0,Te=oe(rn,Ne[1])<=0;return(Fe||Se)&&(Be||Te)}if(ft.tickformatstops&&ft.tickformatstops.length>0)switch(ft.type){case"date":case"linear":for(mt=0;mt<ft.tickformatstops.length;mt++)if((Vt=ft.tickformatstops[mt]).enabled&&(ee=ft.dtick,Qt=void 0,Qt=ye||function(rn){return rn},se=(Xt=Vt.dtickrange)[0],he=Xt[1],(!se&&typeof se!="number"||Qt(se)<=Qt(ee))&&(!he&&typeof he!="number"||Qt(he)>=Qt(ee)))){Ht=Vt;break}break;case"log":for(mt=0;mt<ft.tickformatstops.length;mt++)if((Vt=ft.tickformatstops[mt]).enabled&&Ue(ft.dtick,Vt.dtickrange)){Ht=Vt;break}}return Ht?Ht.value:ft.tickformat},V.getSubplots=function(ft,mt){var Ht=ft._fullLayout._subplots,Vt=Ht.cartesian.concat(Ht.gl2d||[]),ee=mt?V.findSubplotsWithAxis(Vt,mt):Vt;return ee.sort(function(Xt,Qt){var se=Xt.substr(1).split("y"),he=Qt.substr(1).split("y");return se[0]===he[0]?+se[1]-+he[1]:+se[0]-+he[0]}),ee},V.findSubplotsWithAxis=function(ft,mt){for(var Ht=new RegExp(mt._id.charAt(0)==="x"?"^"+mt._id+"y":mt._id+"$"),Vt=[],ee=0;ee<ft.length;ee++){var Xt=ft[ee];Ht.test(Xt)&&Vt.push(Xt)}return Vt},V.makeClipPaths=function(ft){var mt=ft._fullLayout;if(!mt._hasOnlyLargeSploms){var Ht,Vt,ee={_offset:0,_length:mt.width,_id:""},Xt={_offset:0,_length:mt.height,_id:""},Qt=V.list(ft,"x",!0),se=V.list(ft,"y",!0),he=[];for(Ht=0;Ht<Qt.length;Ht++)for(he.push({x:Qt[Ht],y:Xt}),Vt=0;Vt<se.length;Vt++)Ht===0&&he.push({x:ee,y:se[Vt]}),he.push({x:Qt[Ht],y:se[Vt]});var ye=mt._clips.selectAll(".axesclip").data(he,function(oe){return oe.x._id+oe.y._id});ye.enter().append("clipPath").classed("axesclip",!0).attr("id",function(oe){return"clip"+mt._uid+oe.x._id+oe.y._id}).append("rect"),ye.exit().remove(),ye.each(function(oe){l.select(this).select("rect").attr({x:oe.x._offset||0,y:oe.y._offset||0,width:oe.x._length||1,height:oe.y._length||1})})}},V.draw=function(ft,mt,Ht){var Vt=ft._fullLayout;mt==="redraw"&&Vt._paper.selectAll("g.subplot").each(function(se){var he=se[0],ye=Vt._plots[he];if(ye){var oe=ye.xaxis,Ue=ye.yaxis;ye.xaxislayer.selectAll("."+oe._id+"tick").remove(),ye.yaxislayer.selectAll("."+Ue._id+"tick").remove(),ye.xaxislayer.selectAll("."+oe._id+"tick2").remove(),ye.yaxislayer.selectAll("."+Ue._id+"tick2").remove(),ye.xaxislayer.selectAll("."+oe._id+"divider").remove(),ye.yaxislayer.selectAll("."+Ue._id+"divider").remove(),ye.minorGridlayer&&ye.minorGridlayer.selectAll("path").remove(),ye.gridlayer&&ye.gridlayer.selectAll("path").remove(),ye.zerolinelayer&&ye.zerolinelayer.selectAll("path").remove(),Vt._infolayer.select(".g-"+oe._id+"title").remove(),Vt._infolayer.select(".g-"+Ue._id+"title").remove()}});var ee=mt&&mt!=="redraw"?mt:V.listIds(ft),Xt=V.list(ft).filter(function(se){return se.autoshift}).map(function(se){return se.overlaying});ee.map(function(se){var he=V.getFromId(ft,se);if(he.tickmode==="sync"&&he.overlaying){var ye=ee.findIndex(function(oe){return oe===he.overlaying});ye>=0&&ee.unshift(ee.splice(ye,1).shift())}});var Qt={false:{left:0,right:0}};return h.syncOrAsync(ee.map(function(se){return function(){if(se){var he=V.getFromId(ft,se);Ht||(Ht={}),Ht.axShifts=Qt,Ht.overlayingShiftedAx=Xt;var ye=V.drawOne(ft,he,Ht);return he._shiftPusher&&Oe(he,he._fullDepth||0,Qt,!0),he._r=he.range.slice(),he._rl=h.simpleMap(he._r,he.r2l),ye}}}))},V.drawOne=function(ft,mt,Ht){var Vt,ee,Xt,Qt=(Ht=Ht||{}).axShifts||{},se=Ht.overlayingShiftedAx||[];mt.setScale();var he=ft._fullLayout,ye=mt._id,oe=ye.charAt(0),Ue=V.counterLetter(ye),rn=he._plots[mt._mainSubplot];if(rn){if(mt._shiftPusher=mt.autoshift||se.indexOf(mt._id)!==-1||se.indexOf(mt.overlaying)!==-1,mt._shiftPusher&mt.anchor==="free"){var Ne=mt.linewidth/2||0;mt.ticks==="inside"&&(Ne+=mt.ticklen),Oe(mt,Ne,Qt,!0),Oe(mt,mt.shift||0,Qt,!1)}Ht.skipTitle===!0&&mt._shift!==void 0||(mt._shift=function($n,wn){return $n.autoshift?wn[$n.overlaying][$n.side]:$n.shift||0}(mt,Qt));var Fe=rn[oe+"axislayer"],Be=mt._mainLinePosition,Se=Be+=mt._shift,Te=mt._mainMirrorPosition,xe=mt._vals=V.calcTicks(mt),Xe=[mt.mirror,Se,Te].join("_");for(Vt=0;Vt<xe.length;Vt++)xe[Vt].axInfo=Xe;mt._selections={},mt._tickAngles&&(mt._prevTickAngles=mt._tickAngles),mt._tickAngles={},mt._depth=null;var Ve={};if(mt.visible){var an,ge,Pe=V.makeTransTickFn(mt),ke=V.makeTransTickLabelFn(mt),Ye=mt.ticks==="inside",je=mt.ticks==="outside";if(mt.tickson==="boundaries"){var qe=function($n,wn){var gr,ur=[],Pn=function(wr,rr){var ni=wr.xbnd[rr];ni!==null&&ur.push(h.extendFlat({},wr,{x:ni}))};if(wn.length){for(gr=0;gr<wn.length;gr++)Pn(wn[gr],0);Pn(wn[gr-1],1)}return ur}(0,xe);ge=V.clipEnds(mt,qe),an=Ye?ge:qe}else ge=V.clipEnds(mt,xe),an=Ye&&mt.ticklabelmode!=="period"?ge:xe;var nn,sn=mt._gridVals=ge,Ze=function($n,wn){var gr,ur,Pn=[],wr=wn.length&&wn[wn.length-1].x<wn[0].x,rr=function(hi,Ai){var Ii=hi.xbnd[Ai];Ii!==null&&Pn.push(h.extendFlat({},hi,{x:Ii}))};if($n.showdividers&&wn.length){for(gr=0;gr<wn.length;gr++){var ni=wn[gr];ni.text2!==ur&&rr(ni,wr?1:0),ur=ni.text2}rr(wn[gr-1],wr?0:1)}return Pn}(mt,xe);if(!he._hasOnlyLargeSploms){var tn=mt._subplotsWith,Tn={};for(Vt=0;Vt<tn.length;Vt++){ee=tn[Vt];var An=(Xt=he._plots[ee])[Ue+"axis"],Sn=An._mainAxis._id;if(!Tn[Sn]){Tn[Sn]=1;var bn=oe==="x"?"M0,"+An._offset+"v"+An._length:"M"+An._offset+",0h"+An._length;V.drawGrid(ft,mt,{vals:sn,counterAxis:An,layer:Xt.gridlayer.select("."+ye),minorLayer:Xt.minorGridlayer.select("."+ye),path:bn,transFn:Pe}),V.drawZeroLine(ft,mt,{counterAxis:An,layer:Xt.zerolinelayer,path:bn,transFn:Pe})}}}var _n=V.getTickSigns(mt),Hn=V.getTickSigns(mt,"minor");if(mt.ticks||mt.minor&&mt.minor.ticks){var En,Dn,xn,Kn,Yn=V.makeTickPath(mt,Se,_n[2]),hr=V.makeTickPath(mt,Se,Hn[2],{minor:!0});if(mt._anchorAxis&&mt.mirror&&mt.mirror!==!0?(En=V.makeTickPath(mt,Te,_n[3]),Dn=V.makeTickPath(mt,Te,Hn[3],{minor:!0}),xn=Yn+En,Kn=hr+Dn):(En="",Dn="",xn=Yn,Kn=hr),mt.showdividers&&je&&mt.tickson==="boundaries"){var pr={};for(Vt=0;Vt<Ze.length;Vt++)pr[Ze[Vt].x]=1;nn=function($n){return pr[$n.x]?En:xn}}else nn=function($n){return $n.minor?Kn:xn}}if(V.drawTicks(ft,mt,{vals:an,layer:Fe,path:nn,transFn:Pe}),mt.mirror==="allticks"){var Zn=Object.keys(mt._linepositions||{});for(Vt=0;Vt<Zn.length;Vt++){ee=Zn[Vt],Xt=he._plots[ee];var br=mt._linepositions[ee]||[],bi=br[0],so=br[1],wi=br[2],Da=V.makeTickPath(mt,bi,wi?_n[0]:Hn[0],{minor:wi})+V.makeTickPath(mt,so,wi?_n[1]:Hn[1],{minor:wi});V.drawTicks(ft,mt,{vals:an,layer:Xt[oe+"axislayer"],path:Da,transFn:Pe})}}var Ri=[];if(Ri.push(function(){return V.drawLabels(ft,mt,{vals:xe,layer:Fe,plotinfo:Xt,transFn:ke,labelFns:V.makeLabelFns(mt,Se)})}),mt.type==="multicategory"){var qr={x:2,y:10}[oe];Ri.push(function(){var $n={x:"height",y:"width"}[oe],wn=Ci()[$n]+qr+(mt._tickAngles[ye+"tick"]?mt.tickfont.size*pt:0);return V.drawLabels(ft,mt,{vals:ae(mt,xe),layer:Fe,cls:ye+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Pe,labelFns:V.makeLabelFns(mt,Se+wn*_n[4])})}),Ri.push(function(){return mt._depth=_n[4]*(Ci("tick2")[mt.side]-Se),function($n,wn,gr){var ur=wn._id+"divider",Pn=gr.vals,wr=gr.layer.selectAll("path."+ur).data(Pn,pe);wr.exit().remove(),wr.enter().insert("path",":first-child").classed(ur,1).classed("crisp",1).call(m.stroke,wn.dividercolor).style("stroke-width",v.crispRound($n,wn.dividerwidth,1)+"px"),wr.attr("transform",gr.transFn).attr("d",gr.path)}(ft,mt,{vals:Ze,layer:Fe,path:V.makeTickPath(mt,Se,_n[4],{len:mt._depth}),transFn:Pe})})}else mt.title.hasOwnProperty("standoff")&&Ri.push(function(){mt._depth=_n[4]*(Ci()[mt.side]-Se)});var ka=f.getComponentMethod("rangeslider","isVisible")(mt);return Ht.skipTitle||ka&&mt.side==="bottom"||Ri.push(function(){return function($n,wn){var gr,ur=$n._fullLayout,Pn=wn._id,wr=Pn.charAt(0),rr=wn.title.font.size;if(wn.title.hasOwnProperty("standoff"))gr=wn._depth+wn.title.standoff+be(wn);else{var ni=Ae(wn);if(wn.type==="multicategory")gr=wn._depth;else{var hi=1.5*rr;ni&&(hi=.5*rr,wn.ticks==="outside"&&(hi+=wn.ticklen)),gr=10+hi+(wn.linewidth?wn.linewidth-1:0)}ni||(gr+=wr==="x"?wn.side==="top"?rr*(wn.showticklabels?1:0):rr*(wn.showticklabels?1.5:.5):wn.side==="right"?rr*(wn.showticklabels?1:.5):rr*(wn.showticklabels?.5:0))}var Ai,Ii,Wa,Ro,jr=V.getPxPosition($n,wn);if(wr==="x"?(Ii=wn._offset+wn._length/2,Wa=wn.side==="top"?jr-gr:jr+gr):(Wa=wn._offset+wn._length/2,Ii=wn.side==="right"?jr+gr:jr-gr,Ai={rotate:"-90",offset:0}),wn.type!=="multicategory"){var ra=wn._selections[wn._id+"tick"];if(Ro={selection:ra,side:wn.side},ra&&ra.node()&&ra.node().parentNode){var jn=v.getTranslate(ra.node().parentNode);Ro.offsetLeft=jn.x,Ro.offsetTop=jn.y}wn.title.hasOwnProperty("standoff")&&(Ro.pad=0)}return wn._titleStandoff=gr,g.draw($n,Pn+"title",{propContainer:wn,propName:wn._name+".title.text",placeholder:ur._dfltTitle[wr],avoid:Ro,transform:Ai,attributes:{x:Ii,y:Wa,"text-anchor":"middle"}})}(ft,mt)}),Ri.push(function(){var $n,wn,gr,ur,Pn=mt.side.charAt(0),wr=rt[mt.side].charAt(0),rr=V.getPxPosition(ft,mt),ni=je?mt.ticklen:0;(mt.automargin||ka||mt._shiftPusher)&&(mt.type==="multicategory"?$n=Ci("tick2"):($n=Ci(),oe==="x"&&Pn==="b"&&(mt._depth=Math.max($n.width>0?$n.bottom-rr:0,ni))));var hi=0,Ai=0;if(mt._shiftPusher&&(hi=Math.max(ni,$n.height>0?Pn==="l"?rr-$n.left:$n.right-rr:0),mt.title.text!==he._dfltTitle[oe]&&(Ai=(mt._titleStandoff||0)+(mt._titleScoot||0),Pn==="l"&&(Ai+=be(mt))),mt._fullDepth=Math.max(hi,Ai)),mt.automargin){wn={x:0,y:0,r:0,l:0,t:0,b:0};var Ii=[0,1],Wa=typeof mt._shift=="number"?mt._shift:0;if(oe==="x"){if(Pn==="b"?wn[Pn]=mt._depth:(wn[Pn]=mt._depth=Math.max($n.width>0?rr-$n.top:0,ni),Ii.reverse()),$n.width>0){var Ro=$n.right-(mt._offset+mt._length);Ro>0&&(wn.xr=1,wn.r=Ro);var jr=mt._offset-$n.left;jr>0&&(wn.xl=0,wn.l=jr)}}else if(Pn==="l"?(mt._depth=Math.max($n.height>0?rr-$n.left:0,ni),wn[Pn]=mt._depth-Wa):(mt._depth=Math.max($n.height>0?$n.right-rr:0,ni),wn[Pn]=mt._depth+Wa,Ii.reverse()),$n.height>0){var ra=$n.bottom-(mt._offset+mt._length);ra>0&&(wn.yb=0,wn.b=ra);var jn=mt._offset-$n.top;jn>0&&(wn.yt=1,wn.t=jn)}wn[Ue]=mt.anchor==="free"?mt.position:mt._anchorAxis.domain[Ii[0]],mt.title.text!==he._dfltTitle[oe]&&(wn[Pn]+=be(mt)+(mt.title.standoff||0)),mt.mirror&&mt.anchor!=="free"&&((gr={x:0,y:0,r:0,l:0,t:0,b:0})[wr]=mt.linewidth,mt.mirror&&mt.mirror!==!0&&(gr[wr]+=ni),mt.mirror===!0||mt.mirror==="ticks"?gr[Ue]=mt._anchorAxis.domain[Ii[1]]:mt.mirror!=="all"&&mt.mirror!=="allticks"||(gr[Ue]=[mt._counterDomainMin,mt._counterDomainMax][Ii[1]]))}ka&&(ur=f.getComponentMethod("rangeslider","autoMarginOpts")(ft,mt)),typeof mt.automargin=="string"&&(te(wn,mt.automargin),te(gr,mt.automargin)),u.autoMargin(ft,$t(mt),wn),u.autoMargin(ft,Jt(mt),gr),u.autoMargin(ft,qt(mt),ur)}),h.syncOrAsync(Ri)}}function Ci($n){var wn=ye+($n||"tick");return Ve[wn]||(Ve[wn]=function(gr,ur){var Pn,wr,rr,ni;return gr._selections[ur].size()?(Pn=1/0,wr=-1/0,rr=1/0,ni=-1/0,gr._selections[ur].each(function(){var hi=jt(this),Ai=v.bBox(hi.node().parentNode);Pn=Math.min(Pn,Ai.top),wr=Math.max(wr,Ai.bottom),rr=Math.min(rr,Ai.left),ni=Math.max(ni,Ai.right)})):(Pn=0,wr=0,rr=0,ni=0),{top:Pn,bottom:wr,left:rr,right:ni,height:wr-Pn,width:ni-rr}}(mt,wn)),Ve[wn]}},V.getTickSigns=function(ft,mt){var Ht=ft._id.charAt(0),Vt={x:"top",y:"right"}[Ht],ee=ft.side===Vt?1:-1,Xt=[-1,1,ee,-ee];return(mt?(ft.minor||{}).ticks:ft.ticks)!=="inside"==(Ht==="x")&&(Xt=Xt.map(function(Qt){return-Qt})),ft.side&&Xt.push({l:-1,t:-1,r:1,b:1}[ft.side.charAt(0)]),Xt},V.makeTransTickFn=function(ft){return ft._id.charAt(0)==="x"?function(mt){return d(ft._offset+ft.l2p(mt.x),0)}:function(mt){return d(0,ft._offset+ft.l2p(mt.x))}},V.makeTransTickLabelFn=function(ft){var mt=function(ee){var Xt=ee.ticklabelposition||"",Qt=function(Te){return Xt.indexOf(Te)!==-1},se=Qt("top"),he=Qt("left"),ye=Qt("right"),oe=Qt("bottom"),Ue=Qt("inside"),rn=oe||he||se||ye;if(!rn&&!Ue)return[0,0];var Ne=ee.side,Fe=rn?(ee.tickwidth||0)/2:0,Be=3,Se=ee.tickfont?ee.tickfont.size:12;return(oe||se)&&(Fe+=Se*lt,Be+=(ee.linewidth||0)/2),(he||ye)&&(Fe+=(ee.linewidth||0)/2,Be+=3),Ue&&Ne==="top"&&(Be-=Se*(1-lt)),(he||se)&&(Fe=-Fe),Ne!=="bottom"&&Ne!=="right"||(Be=-Be),[rn?Fe:0,Ue?Be:0]}(ft),Ht=mt[0],Vt=mt[1];return ft._id.charAt(0)==="x"?function(ee){return d(Ht+ft._offset+ft.l2p(ue(ee)),Vt)}:function(ee){return d(Vt,Ht+ft._offset+ft.l2p(ue(ee)))}},V.makeTickPath=function(ft,mt,Ht,Vt){Vt||(Vt={});var ee=Vt.minor;if(ee&&!ft.minor)return"";var Xt=Vt.len!==void 0?Vt.len:ee?ft.minor.ticklen:ft.ticklen,Qt=ft._id.charAt(0),se=(ft.linewidth||1)/2;return Qt==="x"?"M0,"+(mt+se*Ht)+"v"+Xt*Ht:"M"+(mt+se*Ht)+",0h"+Xt*Ht},V.makeLabelFns=function(ft,mt,Ht){var Vt=ft.ticklabelposition||"",ee=function(qe){return Vt.indexOf(qe)!==-1},Xt=ee("top"),Qt=ee("left"),se=ee("right"),he=ee("bottom")||Qt||Xt||se,ye=ee("inside"),oe=Vt==="inside"&&ft.ticks==="inside"||!ye&&ft.ticks==="outside"&&ft.tickson!=="boundaries",Ue=0,rn=0,Ne=oe?ft.ticklen:0;if(ye?Ne*=-1:he&&(Ne=0),oe&&(Ue+=Ne,Ht)){var Fe=h.deg2rad(Ht);Ue=Ne*Math.cos(Fe)+1,rn=Ne*Math.sin(Fe)}ft.showticklabels&&(oe||ft.showline)&&(Ue+=.2*ft.tickfont.size);var Be,Se,Te,xe,Xe,Ve={labelStandoff:Ue+=(ft.linewidth||1)/2*(ye?-1:1),labelShift:rn},an=0,ge=ft.side,Pe=ft._id.charAt(0),ke=ft.tickangle;if(Pe==="x")xe=(Xe=!ye&&ge==="bottom"||ye&&ge==="top")?1:-1,ye&&(xe*=-1),Be=rn*xe,Se=mt+Ue*xe,Te=Xe?1:-.2,Math.abs(ke)===90&&(ye?Te+=it:Te=ke===-90&&ge==="bottom"?lt:ke===90&&ge==="top"?it:.5,an=it/2*(ke/90)),Ve.xFn=function(qe){return qe.dx+Be+an*qe.fontSize},Ve.yFn=function(qe){return qe.dy+Se+qe.fontSize*Te},Ve.anchorFn=function(qe,nn){if(he){if(Qt)return"end";if(se)return"start"}return c(nn)&&nn!==0&&nn!==180?nn*xe<0!==ye?"end":"start":"middle"},Ve.heightFn=function(qe,nn,sn){return nn<-60||nn>60?-.5*sn:ft.side==="top"!==ye?-sn:0};else if(Pe==="y"){if(xe=(Xe=!ye&&ge==="left"||ye&&ge==="right")?1:-1,ye&&(xe*=-1),Be=Ue,Se=rn*xe,Te=0,ye||Math.abs(ke)!==90||(Te=ke===-90&&ge==="left"||ke===90&&ge==="right"?lt:.5),ye){var Ye=c(ke)?+ke:0;if(Ye!==0){var je=h.deg2rad(Ye);an=Math.abs(Math.sin(je))*lt*xe,Te=0}}Ve.xFn=function(qe){return qe.dx+mt-(Be+qe.fontSize*Te)*xe+an*qe.fontSize},Ve.yFn=function(qe){return qe.dy+Se+qe.fontSize*it},Ve.anchorFn=function(qe,nn){return c(nn)&&Math.abs(nn)===90?"middle":Xe?"end":"start"},Ve.heightFn=function(qe,nn,sn){return ft.side==="right"&&(nn*=-1),nn<-30?-sn:nn<30?-.5*sn:0}}return Ve},V.drawTicks=function(ft,mt,Ht){Ht=Ht||{};var Vt=mt._id+"tick",ee=[].concat(mt.minor&&mt.minor.ticks?Ht.vals.filter(function(Qt){return Qt.minor&&!Qt.noTick}):[]).concat(mt.ticks?Ht.vals.filter(function(Qt){return!Qt.minor&&!Qt.noTick}):[]),Xt=Ht.layer.selectAll("path."+Vt).data(ee,pe);Xt.exit().remove(),Xt.enter().append("path").classed(Vt,1).classed("ticks",1).classed("crisp",Ht.crisp!==!1).each(function(Qt){return m.stroke(l.select(this),Qt.minor?mt.minor.tickcolor:mt.tickcolor)}).style("stroke-width",function(Qt){return v.crispRound(ft,Qt.minor?mt.minor.tickwidth:mt.tickwidth,1)+"px"}).attr("d",Ht.path).style("display",null),$e(mt,[ct]),Xt.attr("transform",Ht.transFn)},V.drawGrid=function(ft,mt,Ht){if(Ht=Ht||{},mt.tickmode!=="sync"){var Vt=mt._id+"grid",ee=mt.minor&&mt.minor.showgrid,Xt=ee?Ht.vals.filter(function(Te){return Te.minor}):[],Qt=mt.showgrid?Ht.vals.filter(function(Te){return!Te.minor}):[],se=Ht.counterAxis;if(se&&V.shouldShowZeroLine(ft,mt,se))for(var he=mt.tickmode==="array",ye=0;ye<Qt.length;ye++){var oe=Qt[ye].x;if(he?!oe:Math.abs(oe)<mt.dtick/100){if(Qt=Qt.slice(0,ye).concat(Qt.slice(ye+1)),!he)break;ye--}}mt._gw=v.crispRound(ft,mt.gridwidth,1);for(var Ue=ee?v.crispRound(ft,mt.minor.gridwidth,1):0,rn=Ht.layer,Ne=Ht.minorLayer,Fe=1;Fe>=0;Fe--){var Be=Fe?rn:Ne;if(Be){var Se=Be.selectAll("path."+Vt).data(Fe?Qt:Xt,pe);Se.exit().remove(),Se.enter().append("path").classed(Vt,1).classed("crisp",Ht.crisp!==!1),Se.attr("transform",Ht.transFn).attr("d",Ht.path).each(function(Te){return m.stroke(l.select(this),Te.minor?mt.minor.gridcolor:mt.gridcolor||"#ddd")}).style("stroke-dasharray",function(Te){return v.dashStyle(Te.minor?mt.minor.griddash:mt.griddash,Te.minor?mt.minor.gridwidth:mt.gridwidth)}).style("stroke-width",function(Te){return(Te.minor?Ue:mt._gw)+"px"}).style("display",null),typeof Ht.path=="function"&&Se.attr("d",Ht.path)}}$e(mt,[J,nt])}},V.drawZeroLine=function(ft,mt,Ht){Ht=Ht||Ht;var Vt=mt._id+"zl",ee=V.shouldShowZeroLine(ft,mt,Ht.counterAxis),Xt=Ht.layer.selectAll("path."+Vt).data(ee?[{x:0,id:mt._id}]:[]);Xt.exit().remove(),Xt.enter().append("path").classed(Vt,1).classed("zl",1).classed("crisp",Ht.crisp!==!1).each(function(){Ht.layer.selectAll("path").sort(function(Qt,se){return $(Qt.id,se.id)})}),Xt.attr("transform",Ht.transFn).attr("d",Ht.path).call(m.stroke,mt.zerolinecolor||m.defaultLine).style("stroke-width",v.crispRound(ft,mt.zerolinewidth,mt._gw||1)+"px").style("display",null),$e(mt,[U])},V.drawLabels=function(ft,mt,Ht){Ht=Ht||{};var Vt=ft._fullLayout,ee=mt._id,Xt=ee.charAt(0),Qt=Ht.cls||ee+"tick",se=Ht.vals.filter(function(xe){return xe.text}),he=Ht.labelFns,ye=Ht.secondary?0:mt.tickangle,oe=(mt._prevTickAngles||{})[Qt],Ue=Ht.layer.selectAll("g."+Qt).data(mt.showticklabels?se:[],pe),rn=[];function Ne(xe,Xe){xe.each(function(Ve){var an=l.select(this),ge=an.select(".text-math-group"),Pe=he.anchorFn(Ve,Xe),ke=Ht.transFn.call(an.node(),Ve)+(c(Xe)&&+Xe!=0?" rotate("+Xe+","+he.xFn(Ve)+","+(he.yFn(Ve)-Ve.fontSize/2)+")":""),Ye=p.lineCount(an),je=pt*Ve.fontSize,qe=he.heightFn(Ve,c(Xe)?+Xe:0,(Ye-1)*je);if(qe&&(ke+=d(0,qe)),ge.empty()){var nn=an.select("text");nn.attr({transform:ke,"text-anchor":Pe}),nn.style("opacity",1),mt._adjustTickLabelsOverflow&&mt._adjustTickLabelsOverflow()}else{var sn=v.bBox(ge.node()).width*{end:-.5,start:.5}[Pe];ge.attr("transform",ke+d(sn,0))}})}Ue.enter().append("g").classed(Qt,1).append("text").attr("text-anchor","middle").each(function(xe){var Xe=l.select(this),Ve=ft._promises.length;Xe.call(p.positionText,he.xFn(xe),he.yFn(xe)).call(v.font,xe.font,xe.fontSize,xe.fontColor).text(xe.text).call(p.convertToTspans,ft),ft._promises[Ve]?rn.push(ft._promises.pop().then(function(){Ne(Xe,ye)})):Ne(Xe,ye)}),$e(mt,[z]),Ue.exit().remove(),Ht.repositionOnUpdate&&Ue.each(function(xe){l.select(this).select("text").call(p.positionText,he.xFn(xe),he.yFn(xe))}),mt._adjustTickLabelsOverflow=function(){var xe=mt.ticklabeloverflow;if(xe&&xe!=="allow"){var Xe=xe.indexOf("hide")!==-1,Ve=mt._id.charAt(0)==="x",an=0,ge=Ve?ft._fullLayout.width:ft._fullLayout.height;if(xe.indexOf("domain")!==-1){var Pe=h.simpleMap(mt.range,mt.r2l);an=mt.l2p(Pe[0])+mt._offset,ge=mt.l2p(Pe[1])+mt._offset}var ke=Math.min(an,ge),Ye=Math.max(an,ge),je=mt.side,qe=1/0,nn=-1/0;for(var sn in Ue.each(function(Tn){var An=l.select(this);if(An.select(".text-math-group").empty()){var Sn=v.bBox(An.node()),bn=0;Ve?(Sn.right>Ye||Sn.left<ke)&&(bn=1):(Sn.bottom>Ye||Sn.top+(mt.tickangle?0:Tn.fontSize/4)<ke)&&(bn=1);var _n=An.select("text");bn?Xe&&_n.style("opacity",0):(_n.style("opacity",1),qe=je==="bottom"||je==="right"?Math.min(qe,Ve?Sn.top:Sn.left):-1/0,nn=je==="top"||je==="left"?Math.max(nn,Ve?Sn.bottom:Sn.right):1/0)}}),Vt._plots){var Ze=Vt._plots[sn];if(mt._id===Ze.xaxis._id||mt._id===Ze.yaxis._id){var tn=Ve?Ze.yaxis:Ze.xaxis;tn&&(tn["_visibleLabelMin_"+mt._id]=qe,tn["_visibleLabelMax_"+mt._id]=nn)}}}},mt._hideCounterAxisInsideTickLabels=function(xe){var Xe=mt._id.charAt(0)==="x",Ve=[];for(var an in Vt._plots){var ge=Vt._plots[an];mt._id!==ge.xaxis._id&&mt._id!==ge.yaxis._id||Ve.push(Xe?ge.yaxis:ge.xaxis)}Ve.forEach(function(Pe,ke){Pe&&Ae(Pe)&&(xe||[U,nt,J,ct,z]).forEach(function(Ye){var je=Ye.K==="tick"&&Ye.L==="text"&&mt.ticklabelmode==="period",qe=Vt._plots[mt._mainSubplot];(Ye.K===U.K?qe.zerolinelayer.selectAll("."+mt._id+"zl"):Ye.K===nt.K?qe.minorGridlayer.selectAll("."+mt._id):Ye.K===J.K?qe.gridlayer.selectAll("."+mt._id):qe[mt._id.charAt(0)+"axislayer"]).each(function(){var nn=l.select(this);Ye.L&&(nn=nn.selectAll(Ye.L)),nn.each(function(sn){var Ze=mt.l2p(je?ue(sn):sn.x)+mt._offset,tn=l.select(this);Ze<mt["_visibleLabelMax_"+Pe._id]&&Ze>mt["_visibleLabelMin_"+Pe._id]?tn.style("display","none"):Ye.K!=="tick"||ke||tn.style("display",null)})})})})},Ne(Ue,oe+1?oe:ye);var Fe=null;mt._selections&&(mt._selections[Qt]=Ue);var Be=[function(){return rn.length&&Promise.all(rn)}];mt.automargin&&Vt._redrawFromAutoMarginCount&&oe===90?(Fe=90,Be.push(function(){Ne(Ue,oe)})):Be.push(function(){if(Ne(Ue,ye),se.length&&Xt==="x"&&!c(ye)&&(mt.type!=="log"||String(mt.dtick).charAt(0)!=="D")){Fe=0;var xe,Xe=0,Ve=[];if(Ue.each(function(An){Xe=Math.max(Xe,An.fontSize);var Sn=mt.l2p(An.x),bn=jt(this),_n=v.bBox(bn.node());Ve.push({top:0,bottom:10,height:10,left:Sn-_n.width/2,right:Sn+_n.width/2+2,width:_n.width+2})}),mt.tickson!=="boundaries"&&!mt.showdividers||Ht.secondary){var an=se.length,ge=Math.abs((se[an-1].x-se[0].x)*mt._m)/(an-1),Pe=mt.ticklabelposition||"",ke=function(An){return Pe.indexOf(An)!==-1},Ye=ke("top"),je=ke("left"),qe=ke("right"),nn=ke("bottom")||je||Ye||qe?(mt.tickwidth||0)+6:0,sn=ge<2.5*Xe||mt.type==="multicategory"||mt._name==="realaxis";for(xe=0;xe<Ve.length-1;xe++)if(h.bBoxIntersect(Ve[xe],Ve[xe+1],nn)){Fe=sn?90:30;break}}else{var Ze=2;for(mt.ticks&&(Ze+=mt.tickwidth/2),xe=0;xe<Ve.length;xe++){var tn=se[xe].xbnd,Tn=Ve[xe];if(tn[0]!==null&&Tn.left-mt.l2p(tn[0])<Ze||tn[1]!==null&&mt.l2p(tn[1])-Tn.right<Ze){Fe=90;break}}}Fe&&Ne(Ue,Fe)}}),mt._tickAngles&&Be.push(function(){mt._tickAngles[Qt]=Fe===null?c(ye)?ye:0:Fe});var Se=mt._anchorAxis;Se&&Se.autorange&&Ae(mt)&&!Z(Vt,mt._id)&&(Vt._insideTickLabelsAutorange||(Vt._insideTickLabelsAutorange={}),Vt._insideTickLabelsAutorange[Se._name+".autorange"]=Se.autorange,Be.push(function(){Ue.each(function(xe,Xe){var Ve=jt(this);Ve.select(".text-math-group").empty()&&(mt._vals[Xe].bb=v.bBox(Ve.node()))})}));var Te=h.syncOrAsync(Be);return Te&&Te.then&&ft._promises.push(Te),Te},V.getPxPosition=function(ft,mt){var Ht,Vt=ft._fullLayout._size,ee=mt._id.charAt(0),Xt=mt.side;return mt.anchor!=="free"?Ht=mt._anchorAxis:ee==="x"?Ht={_offset:Vt.t+(1-(mt.position||0))*Vt.h,_length:0}:ee==="y"&&(Ht={_offset:Vt.l+(mt.position||0)*Vt.w+mt._shift,_length:0}),Xt==="top"||Xt==="left"?Ht._offset:Xt==="bottom"||Xt==="right"?Ht._offset+Ht._length:void 0},V.shouldShowZeroLine=function(ft,mt,Ht){var Vt=h.simpleMap(mt.range,mt.r2l);return Vt[0]*Vt[1]<=0&&mt.zeroline&&(mt.type==="linear"||mt.type==="-")&&!(mt.rangebreaks&&mt.maskBreaks(0)===et)&&(re(mt,0)||!function(ee,Xt,Qt,se){var he=Qt._mainAxis;if(he){var ye=ee._fullLayout,oe=Xt._id.charAt(0),Ue=V.counterLetter(Xt._id),rn=Xt._offset+(Math.abs(se[0])<Math.abs(se[1])==(oe==="x")?0:Xt._length),Ne=ye._plots[Qt._mainSubplot];if(!(Ne.mainplotinfo||Ne).overlays.length)return Te(Qt);for(var Fe=V.list(ee,Ue),Be=0;Be<Fe.length;Be++){var Se=Fe[Be];if(Se._mainAxis===he&&Te(Se))return!0}}function Te(xe){if(!xe.showline||!xe.linewidth)return!1;var Xe=Math.max((xe.linewidth+Xt.zerolinewidth)/2,1);function Ve(Pe){return typeof Pe=="number"&&Math.abs(Pe-rn)<Xe}if(Ve(xe._mainLinePosition)||Ve(xe._mainMirrorPosition))return!0;var an=xe._linepositions||{};for(var ge in an)if(Ve(an[ge][0])||Ve(an[ge][1]))return!0}}(ft,mt,Ht,Vt)||function(ee,Xt){for(var Qt=ee._fullData,se=Xt._mainSubplot,he=Xt._id.charAt(0),ye=0;ye<Qt.length;ye++){var oe=Qt[ye];if(oe.visible===!0&&oe.xaxis+oe.yaxis===se&&(f.traceIs(oe,"bar-like")&&oe.orientation==={x:"h",y:"v"}[he]||oe.fill&&oe.fill.charAt(oe.fill.length-1)===he))return!0}return!1}(ft,mt))},V.clipEnds=function(ft,mt){return mt.filter(function(Ht){return re(ft,Ht.x)})},V.allowAutoMargin=function(ft){for(var mt=V.list(ft,"",!0),Ht=0;Ht<mt.length;Ht++){var Vt=mt[Ht];Vt.automargin&&(u.allowAutoMargin(ft,$t(Vt)),Vt.mirror&&u.allowAutoMargin(ft,Jt(Vt))),f.getComponentMethod("rangeslider","isVisible")(Vt)&&u.allowAutoMargin(ft,qt(Vt))}},V.swap=function(ft,mt){for(var Ht=function(ee,Xt){var Qt,se,he=[];for(Qt=0;Qt<Xt.length;Qt++){var ye=[],oe=ee._fullData[Xt[Qt]].xaxis,Ue=ee._fullData[Xt[Qt]].yaxis;if(oe&&Ue){for(se=0;se<he.length;se++)he[se].x.indexOf(oe)===-1&&he[se].y.indexOf(Ue)===-1||ye.push(se);if(ye.length){var rn,Ne=he[ye[0]];if(ye.length>1)for(se=1;se<ye.length;se++)rn=he[ye[se]],Ce(Ne.x,rn.x),Ce(Ne.y,rn.y);Ce(Ne.x,[oe]),Ce(Ne.y,[Ue])}else he.push({x:[oe],y:[Ue]})}}return he}(ft,mt),Vt=0;Vt<Ht.length;Vt++)fe(ft,Ht[Vt].x,Ht[Vt].y)}},4322:function(a,s,o){var l=o(2770),c=o(1828),u=o(606).BADNUM,f=c.isArrayOrTypedArray,h=c.isDateTime,d=c.cleanNumber,p=Math.round;function g(v,y){return y?l(v):typeof v=="number"}function m(v){return Math.max(1,(v-1)/1e3)}a.exports=function(v,y,_){var b=v,w=_.noMultiCategory;if(f(b)&&!b.length)return"-";if(!w&&function(A){return f(A[0])&&f(A[1])}(b))return"multicategory";if(w&&Array.isArray(b[0])){for(var T=[],M=0;M<b.length;M++)if(f(b[M]))for(var S=0;S<b[M].length;S++)T.push(b[M][S]);b=T}if(function(A,O){for(var N=A.length,F=m(N),P=0,R=0,k={},I=0;I<N;I+=F){var j=A[p(I)],G=String(j);k[G]||(k[G]=1,h(j,O)&&P++,l(j)&&R++)}return P>2*R}(b,y))return"date";var E=_.autotypenumbers!=="strict";return function(A,O){for(var N=A.length,F=m(N),P=0,R=0,k={},I=0;I<N;I+=F){var j=A[p(I)],G=String(j);if(!k[G]){k[G]=1;var q=typeof j;q==="boolean"?R++:(O?d(j)!==u:q==="number")?P++:q==="string"&&R++}}return R>2*P}(b,E)?"category":function(A,O){for(var N=A.length,F=0;F<N;F++)if(g(A[F],O))return!0;return!1}(b,E)?"linear":"-"}},1453:function(a,s,o){var l=o(2770),c=o(3972),u=o(1828),f=o(4467),h=o(5501),d=o(3838),p=o(6218),g=o(8701),m=o(6115),v=o(9426),y=o(5258),_=o(2128),b=o(3074),w=o(1994),T=o(5555).WEEKDAY_PATTERN,M=o(5555).HOUR_PATTERN;function S(O,N,F){function P(U,J){return u.coerce(O,N,d.rangebreaks,U,J)}if(P("enabled")){var R=P("bounds");if(R&&R.length>=2){var k,I,j="";if(R.length===2){for(k=0;k<2;k++)if(I=A(R[k])){j=T;break}}var G=P("pattern",j);if(G===T)for(k=0;k<2;k++)(I=A(R[k]))&&(N.bounds[k]=R[k]=I-1);if(G)for(k=0;k<2;k++)switch(I=R[k],G){case T:if(!l(I)||(I=+I)!==Math.floor(I)||I<0||I>=7)return void(N.enabled=!1);N.bounds[k]=R[k]=I;break;case M:if(!l(I)||(I=+I)<0||I>24)return void(N.enabled=!1);N.bounds[k]=R[k]=I}if(F.autorange===!1){var q=F.range;if(q[0]<q[1]){if(R[0]<q[0]&&R[1]>q[1])return void(N.enabled=!1)}else if(R[0]>q[0]&&R[1]<q[1])return void(N.enabled=!1)}}else{var et=P("values");if(!et||!et.length)return void(N.enabled=!1);P("dvalue")}}}a.exports=function(O,N,F,P,R){var k,I=P.letter,j=P.font||{},G=P.splomStash||{},q=F("visible",!P.visibleDflt),et=N._template||{},U=N.type||et.type||"-";U==="date"&&(c.getComponentMethod("calendars","handleDefaults")(O,N,"calendar",P.calendar),P.noTicklabelmode||(k=F("ticklabelmode")));var J="";P.noTicklabelposition&&U!=="multicategory"||(J=u.coerce(O,N,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:k==="period"?["outside","inside"]:I==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),P.noTicklabeloverflow||F("ticklabeloverflow",J.indexOf("inside")!==-1?"hide past domain":U==="category"||U==="multicategory"?"allow":"hide past div"),w(N,R),F("minallowed"),F("maxallowed");var nt,ct=F("range"),z=N.getAutorangeDflt(ct,P),W=F("autorange",z);!ct||(ct[0]!==null||ct[1]!==null)&&(ct[0]!==null&&ct[1]!==null||W!=="reversed"&&W!==!0)&&(ct[0]===null||W!=="min"&&W!=="max reversed")&&(ct[1]===null||W!=="max"&&W!=="min reversed")||(ct=void 0,delete N.range,N.autorange=!0,nt=!0),nt||(W=F("autorange",z=N.getAutorangeDflt(ct,P))),W&&(b(F,W,ct),U!=="linear"&&U!=="-"||F("rangemode")),N.cleanRange(),y(O,N,F,P),U==="category"||P.noHover||F("hoverformat");var X=F("color"),it=X!==d.color.dflt?X:j.color,lt=G.label||R._dfltTitle[I];if(v(O,N,F,U,P),!q)return N;F("title.text",lt),u.coerceFont(F,"title.font",{family:j.family,size:u.bigFont(j.size),color:it}),p(O,N,F,U);var pt=P.hasMinor;if(pt&&(f.newContainer(N,"minor"),p(O,N,F,U,{isMinor:!0})),m(O,N,F,U,P),g(O,N,F,P),pt){var rt=P.isMinor;P.isMinor=!0,g(O,N,F,P),P.isMinor=rt}_(O,N,F,{dfltColor:X,bgColor:P.bgColor,showGrid:P.showGrid,hasMinor:pt,attributes:d}),!pt||N.minor.ticks||N.minor.showgrid||delete N.minor,(N.showline||N.ticks)&&F("mirror");var V,B=U==="multicategory";if(P.noTickson||U!=="category"&&!B||!N.ticks&&!N.showgrid||(B&&(V="boundaries"),F("tickson",V)==="boundaries"&&delete N.ticklabelposition),B&&F("showdividers")&&(F("dividercolor"),F("dividerwidth")),U==="date")if(h(O,N,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:S}),N.rangebreaks.length){for(var H=0;H<N.rangebreaks.length;H++)if(N.rangebreaks[H].pattern===T){N._hasDayOfWeekBreaks=!0;break}if(w(N,R),R._has("scattergl")||R._has("splom"))for(var $=0;$<P.data.length;$++){var Z=P.data[$];Z.type!=="scattergl"&&Z.type!=="splom"||(Z.visible=!1,u.warn(Z.type+" traces do not work on axes with rangebreaks. Setting trace "+Z.index+" to `visible: false`."))}}else delete N.rangebreaks;return N};var E={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function A(O){if(typeof O=="string")return E[O.substr(0,3).toLowerCase()]}},2663:function(a,s,o){var l=o(1562),c=l.FORMAT_LINK,u=l.DATE_FORMAT_LINK;function f(d,p){return["Sets the "+d+" formatting rule"+(p?"for `"+p+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+c+"."].join(" ")}function h(d,p){return f(d,p)+[" And for dates see: "+u+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}a.exports={axisHoverFormat:function(d,p){return{valType:"string",dflt:"",editType:"none",description:(p?f:h)("hover text",d)+["By default the values are formatted using "+(p?"generic number format":"`"+d+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:f,descriptionWithDates:h}},1675:function(a,s,o){var l=o(3972),c=o(5555);function u(f,h){if(h&&h.length){for(var d=0;d<h.length;d++)if(h[d][f])return!0}return!1}s.id2name=function(f){if(typeof f=="string"&&f.match(c.AX_ID_PATTERN)){var h=f.split(" ")[0].substr(1);return h==="1"&&(h=""),f.charAt(0)+"axis"+h}},s.name2id=function(f){if(f.match(c.AX_NAME_PATTERN)){var h=f.substr(5);return h==="1"&&(h=""),f.charAt(0)+h}},s.cleanId=function(f,h,d){var p=/( domain)$/.test(f);if(typeof f=="string"&&f.match(c.AX_ID_PATTERN)&&(!h||f.charAt(0)===h)&&(!p||d)){var g=f.split(" ")[0].substr(1).replace(/^0+/,"");return g==="1"&&(g=""),f.charAt(0)+g+(p&&d?" domain":"")}},s.list=function(f,h,d){var p=f._fullLayout;if(!p)return[];var g,m=s.listIds(f,h),v=new Array(m.length);for(g=0;g<m.length;g++){var y=m[g];v[g]=p[y.charAt(0)+"axis"+y.substr(1)]}if(!d){var _=p._subplots.gl3d||[];for(g=0;g<_.length;g++){var b=p[_[g]];h?v.push(b[h+"axis"]):v.push(b.xaxis,b.yaxis,b.zaxis)}}return v},s.listIds=function(f,h){var d=f._fullLayout;if(!d)return[];var p=d._subplots;return h?p[h+"axis"]:p.xaxis.concat(p.yaxis)},s.getFromId=function(f,h,d){var p=f._fullLayout;return h=h===void 0||typeof h!="string"?h:h.replace(" domain",""),d==="x"?h=h.replace(/y[0-9]*/,""):d==="y"&&(h=h.replace(/x[0-9]*/,"")),p[s.id2name(h)]},s.getFromTrace=function(f,h,d){var p=f._fullLayout,g=null;if(l.traceIs(h,"gl3d")){var m=h.scene;m.substr(0,5)==="scene"&&(g=p[m][d+"axis"])}else g=s.getFromId(f,h[d+"axis"]||d);return g},s.idSort=function(f,h){var d=f.charAt(0),p=h.charAt(0);return d!==p?d>p?1:-1:+(f.substr(1)||1)-+(h.substr(1)||1)},s.ref2id=function(f){return!!/^[xyz]/.test(f)&&f.split(" ")[0]},s.isLinked=function(f,h){return u(h,f._axisMatchGroups)||u(h,f._axisConstraintGroups)}},5258:function(a){a.exports=function(s,o,l,c){if(o.type==="category"){var u,f=s.categoryarray,h=Array.isArray(f)&&f.length>0;h&&(u="array");var d,p=l("categoryorder",u);p==="array"&&(d=l("categoryarray")),h||p!=="array"||(p=o.categoryorder="trace"),p==="trace"?o._initialCategories=[]:p==="array"?o._initialCategories=d.slice():(d=function(g,m){var v,y,_,b=m.dataAttr||g._id.charAt(0),w={};if(m.axData)v=m.axData;else for(v=[],y=0;y<m.data.length;y++){var T=m.data[y];T[b+"axis"]===g._id&&v.push(T)}for(y=0;y<v.length;y++){var M=v[y][b];for(_=0;_<M.length;_++){var S=M[_];S!=null&&(w[S]=1)}}return Object.keys(w)}(o,c).sort(),p==="category ascending"?o._initialCategories=d:p==="category descending"&&(o._initialCategories=d.reverse()))}}},6287:function(a,s,o){var l=o(2770),c=o(1828),u=o(606),f=u.ONEDAY,h=u.ONEWEEK;s.dtick=function(d,p){var g=p==="log",m=p==="date",v=p==="category",y=m?f:1;if(!d)return y;if(l(d))return(d=Number(d))<=0?y:v?Math.max(1,Math.round(d)):m?Math.max(.1,d):d;if(typeof d!="string"||!m&&!g)return y;var _=d.charAt(0),b=d.substr(1);return(b=l(b)?Number(b):0)<=0||!(m&&_==="M"&&b===Math.round(b)||g&&_==="L"||g&&_==="D"&&(b===1||b===2))?y:d},s.tick0=function(d,p,g,m){return p==="date"?c.cleanDate(d,c.dateTick0(g,m%h==0?1:0)):m!=="D1"&&m!=="D2"?l(d)?Number(d):0:void 0}},5555:function(a,s,o){var l=o(587).counter;a.exports={idRegex:{x:l("x","( domain)?"),y:l("y","( domain)?")},attrRegex:l("[xy]axis"),xAxisMatch:l("xaxis"),yAxisMatch:l("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},9082:function(a,s,o){var l=o(1828),c=o(1739),u=o(1675).id2name,f=o(3838),h=o(2449),d=o(1994),p=o(606).ALMOST_EQUAL,g=o(8783).FROM_BL;function m(M,S,E){var A=E.axIds,O=E.layoutOut,N=E.hasImage,F=O._axisConstraintGroups,P=O._axisMatchGroups,R=S._id,k=R.charAt(0),I=((O._splomAxes||{})[k]||{})[R]||{},j=S._id,G=j.charAt(0)==="x";function q(B,H){return l.coerce(M,S,f,B,H)}S._matchGroup=null,S._constraintGroup=null,q("constrain",N?"domain":"range"),l.coerce(M,S,{constraintoward:{valType:"enumerated",values:G?["left","center","right"]:["bottom","middle","top"],dflt:G?"center":"middle"}},"constraintoward");var et,U,J=S.type,nt=[];for(et=0;et<A.length;et++)(U=A[et])!==j&&O[u(U)].type===J&&nt.push(U);var ct=y(F,j);if(ct){var z=[];for(et=0;et<nt.length;et++)ct[U=nt[et]]||z.push(U);nt=z}var W,X,it=nt.length;it&&(M.matches||I.matches)&&(W=l.coerce(M,S,{matches:{valType:"enumerated",values:nt,dflt:nt.indexOf(I.matches)!==-1?I.matches:void 0}},"matches"));var lt=N&&!G?S.anchor:void 0;if(it&&!W&&(M.scaleanchor||lt)&&(X=l.coerce(M,S,{scaleanchor:{valType:"enumerated",values:nt.concat([!1])}},"scaleanchor",lt)),W){S._matchGroup=_(P,j,W,1);var pt=O[u(W)],rt=v(O,S)/v(O,pt);G!==(W.charAt(0)==="x")&&(rt=(G?"x":"y")+rt),_(F,j,W,rt)}else M.matches&&A.indexOf(M.matches)!==-1&&l.warn("ignored "+S._name+'.matches: "'+M.matches+'" to avoid an infinite loop');if(X){var V=q("scaleratio");V||(V=S.scaleratio=1),_(F,j,X,V)}else M.scaleanchor&&A.indexOf(M.scaleanchor)!==-1&&l.warn("ignored "+S._name+'.scaleanchor: "'+M.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function v(M,S){var E=S.domain;return E||(E=M[u(S.overlaying)].domain),E[1]-E[0]}function y(M,S){for(var E=0;E<M.length;E++)if(M[E][S])return M[E];return null}function _(M,S,E,A){var O,N,F,P,R,k=y(M,S);k===null?((k={})[S]=1,R=M.length,M.push(k)):R=M.indexOf(k);var I=Object.keys(k);for(O=0;O<M.length;O++)if(F=M[O],O!==R&&F[E]){var j=F[E];for(N=0;N<I.length;N++)F[P=I[N]]=b(j,b(A,k[P]));return void M.splice(R,1)}if(A!==1)for(N=0;N<I.length;N++){var G=I[N];k[G]=b(A,k[G])}k[E]=1}function b(M,S){var E,A,O="",N="";typeof M=="string"&&(E=(O=M.match(/^[xy]*/)[0]).length,M=+M.substr(E)),typeof S=="string"&&(A=(N=S.match(/^[xy]*/)[0]).length,S=+S.substr(A));var F=M*S;return E||A?E&&A&&O.charAt(0)!==N.charAt(0)?E===A?F:(E>A?O.substr(A):N.substr(E))+F:O+N+M*S:F}function w(M,S){for(var E=S._size,A=E.h/E.w,O={},N=Object.keys(M),F=0;F<N.length;F++){var P=N[F],R=M[P];if(typeof R=="string"){var k=R.match(/^[xy]*/)[0],I=k.length;R=+R.substr(I);for(var j=k.charAt(0)==="y"?A:1/A,G=0;G<I;G++)R*=j}O[P]=R}return O}function T(M,S){var E=M._inputDomain,A=g[M.constraintoward],O=E[0]+(E[1]-E[0])*A;M.domain=M._input.domain=[O+(E[0]-O)/S,O+(E[1]-O)/S],M.setScale()}s.handleDefaults=function(M,S,E){var A,O,N,F,P,R,k,I,j=E.axIds,G=E.axHasImage,q=S._axisConstraintGroups=[],et=S._axisMatchGroups=[];for(A=0;A<j.length;A++)m(P=M[F=u(j[A])],R=S[F],{axIds:j,layoutOut:S,hasImage:G[F]});function U(pt,rt){for(A=0;A<pt.length;A++)for(N in O=pt[A])S[u(N)][rt]=O}for(U(et,"_matchGroup"),A=0;A<q.length;A++)for(N in O=q[A])if((R=S[u(N)]).fixedrange){for(var J in O){var nt=u(J);(M[nt]||{}).fixedrange===!1&&l.warn("fixedrange was specified as false for axis "+nt+" but was overridden because another axis in its constraint group has fixedrange true"),S[nt].fixedrange=!0}break}for(A=0;A<q.length;){for(N in O=q[A]){(R=S[u(N)])._matchGroup&&Object.keys(R._matchGroup).length===Object.keys(O).length&&(q.splice(A,1),A--);break}A++}U(q,"_constraintGroup");var ct=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],z=!1,W=!1;function X(){I=R[k],k==="rangebreaks"&&(W=R._hasDayOfWeekBreaks)}for(A=0;A<et.length;A++){O=et[A];for(var it=0;it<ct.length;it++){var lt;for(N in k=ct[it],I=null,O)if(P=M[F=u(N)],R=S[F],k in R){if(!R.matches&&(lt=R,k in P)){X();break}I===null&&k in P&&X()}if(k==="range"&&I&&P.range&&P.range.length===2&&P.range[0]!==null&&P.range[1]!==null&&(z=!0),k==="autorange"&&I===null&&z&&(I=!1),I===null&&k in lt&&(I=lt[k]),I!==null)for(N in O)(R=S[u(N)])[k]=k==="range"?I.slice():I,k==="rangebreaks"&&(R._hasDayOfWeekBreaks=W,d(R,S))}}},s.enforce=function(M){var S,E,A,O,N,F,P,R,k=M._fullLayout,I=k._axisConstraintGroups||[];for(S=0;S<I.length;S++){A=w(I[S],k);var j=Object.keys(A),G=1/0,q=0,et=1/0,U={},J={},nt=!1;for(E=0;E<j.length;E++)J[O=j[E]]=N=k[u(O)],N._inputDomain?N.domain=N._inputDomain.slice():N._inputDomain=N.domain.slice(),N._inputRange||(N._inputRange=N.range.slice()),N.setScale(),U[O]=F=Math.abs(N._m)/A[O],G=Math.min(G,F),N.constrain!=="domain"&&N._constraintShrinkable||(et=Math.min(et,F)),delete N._constraintShrinkable,q=Math.max(q,F),N.constrain==="domain"&&(nt=!0);if(!(G>p*q)||nt){for(E=0;E<j.length;E++)if(F=U[O=j[E]],P=(N=J[O]).constrain,F!==et||P==="domain")if(R=F/et,P==="range")h(N,R);else{var ct=N._inputDomain,z=(N.domain[1]-N.domain[0])/(ct[1]-ct[0]),W=(N.r2l(N.range[1])-N.r2l(N.range[0]))/(N.r2l(N._inputRange[1])-N.r2l(N._inputRange[0]));if((R/=z)*W<1){N.domain=N._input.domain=ct.slice(),h(N,R);continue}if(W<1&&(N.range=N._input.range=N._inputRange.slice(),R*=W),N.autorange){var X=N.r2l(N.range[0]),it=N.r2l(N.range[1]),lt=(X+it)/2,pt=lt,rt=lt,V=Math.abs(it-lt),B=lt-V*R*1.0001,H=lt+V*R*1.0001,$=c.makePadFn(k,N,0),Z=c.makePadFn(k,N,1);T(N,R);var Q,ot,st=Math.abs(N._m),dt=c.concatExtremes(M,N),bt=dt.min,Pt=dt.max;for(ot=0;ot<bt.length;ot++)(Q=bt[ot].val-$(bt[ot])/st)>B&&Q<pt&&(pt=Q);for(ot=0;ot<Pt.length;ot++)(Q=Pt[ot].val+Z(Pt[ot])/st)<H&&Q>rt&&(rt=Q);R/=(rt-pt)/(2*V),pt=N.l2r(pt),rt=N.l2r(rt),N.range=N._input.range=X<it?[pt,rt]:[rt,pt]}T(N,R)}}}},s.getAxisGroup=function(M,S){for(var E=M._axisMatchGroups,A=0;A<E.length;A++)if(E[A][S])return"g"+A;return S},s.clean=function(M,S){if(S._inputDomain){for(var E=!1,A=S._id,O=M._fullLayout._axisConstraintGroups,N=0;N<O.length;N++)if(O[N][A]){E=!0;break}E&&S.constrain==="domain"||(S._input.domain=S.domain=S._inputDomain,delete S._inputDomain)}}},9323:function(a,s,o){var l=o(9898),c=o(1828),u=c.numberFormat,f=o(4267),h=o(8520),d=o(3972),p=c.strTranslate,g=o(3893),m=o(7901),v=o(1424),y=o(211),_=o(9298),b=o(6964),w=o(8569),T=o(4505),M=T.selectingOrDrawing,S=T.freeMode,E=o(8783).FROM_TL,A=o(3306),O=o(1549).redrawReglTraces,N=o(4875),F=o(1675).getFromId,P=o(7322).prepSelect,R=o(7322).clearOutline,k=o(7322).selectOnClick,I=o(2449),j=o(5555),G=j.MINDRAG,q=j.MINZOOM,et=!0;function U(Q,ot,st,dt){var bt=c.ensureSingle(Q.draglayer,ot,st,function(Pt){Pt.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",Q.id)});return bt.call(b,dt),bt.node()}function J(Q,ot,st,dt,bt,Pt,It){var Dt=U(Q,"rect",ot,st);return l.select(Dt).call(v.setRect,dt,bt,Pt,It),Dt}function nt(Q,ot){for(var st=0;st<Q.length;st++)if(!Q[st].fixedrange)return ot;return""}function ct(Q,ot,st,dt,bt){for(var Pt=0;Pt<Q.length;Pt++){var It=Q[Pt];if(!It.fixedrange)if(It.rangebreaks){var Dt=It._id.charAt(0)==="y",gt=Dt?1-ot:ot,_t=Dt?1-st:st;dt[It._name+".range[0]"]=It.l2r(It.p2l(gt*It._length)),dt[It._name+".range[1]"]=It.l2r(It.p2l(_t*It._length))}else{var wt=It._rl[0],Et=It._rl[1]-wt;dt[It._name+".range[0]"]=It.l2r(wt+Et*ot),dt[It._name+".range[1]"]=It.l2r(wt+Et*st)}}if(bt&&bt.length){var ht=(ot+(1-st))/2;ct(bt,ht,1-ht,dt,[])}}function z(Q,ot){for(var st=0;st<Q.length;st++){var dt=Q[st];if(!dt.fixedrange){if(dt.rangebreaks){var bt=dt._length,Pt=(dt.p2l(0+ot)-dt.p2l(0)+(dt.p2l(bt+ot)-dt.p2l(bt)))/2;dt.range=[dt.l2r(dt._rl[0]-Pt),dt.l2r(dt._rl[1]-Pt)]}else dt.range=[dt.l2r(dt._rl[0]-ot/dt._m),dt.l2r(dt._rl[1]-ot/dt._m)];dt.limitRange&&dt.limitRange()}}}function W(Q){return 1-(Q>=0?Math.min(Q,.9):1/(1/Math.max(Q,-.3)+3.222))}function X(Q,ot,st,dt,bt){return Q.append("path").attr("class","zoombox").style({fill:ot>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",p(st,dt)).attr("d",bt+"Z")}function it(Q,ot,st){return Q.append("path").attr("class","zoombox-corners").style({fill:m.background,stroke:m.defaultLine,"stroke-width":1,opacity:0}).attr("transform",p(ot,st)).attr("d","M0,0Z")}function lt(Q,ot,st,dt,bt,Pt){Q.attr("d",dt+"M"+st.l+","+st.t+"v"+st.h+"h"+st.w+"v-"+st.h+"h-"+st.w+"Z"),pt(Q,ot,bt,Pt)}function pt(Q,ot,st,dt){st||(Q.transition().style("fill",dt>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ot.transition().style("opacity",1).duration(200))}function rt(Q){l.select(Q).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function V(Q){et&&Q.data&&Q._context.showTips&&(c.notifier(c._(Q,"Double-click to zoom back out"),"long"),et=!1)}function B(Q){var ot=Math.floor(Math.min(Q.b-Q.t,Q.r-Q.l,q)/2);return"M"+(Q.l-3.5)+","+(Q.t-.5+ot)+"h3v"+-ot+"h"+ot+"v-3h-"+(ot+3)+"ZM"+(Q.r+3.5)+","+(Q.t-.5+ot)+"h-3v"+-ot+"h"+-ot+"v-3h"+(ot+3)+"ZM"+(Q.r+3.5)+","+(Q.b+.5-ot)+"h-3v"+ot+"h"+-ot+"v3h"+(ot+3)+"ZM"+(Q.l-3.5)+","+(Q.b+.5-ot)+"h3v"+ot+"h"+ot+"v3h-"+(ot+3)+"Z"}function H(Q,ot,st,dt,bt){for(var Pt,It,Dt,gt,_t=!1,wt={},Et={},ht=(bt||{}).xaHash,vt=(bt||{}).yaHash,Ct=0;Ct<ot.length;Ct++){var Mt=ot[Ct];for(Pt in st)if(Mt[Pt]){for(Dt in Mt)bt&&(ht[Dt]||vt[Dt])||(Dt.charAt(0)==="x"?st:dt)[Dt]||(wt[Dt]=Pt);for(It in dt)bt&&(ht[It]||vt[It])||!Mt[It]||(_t=!0)}for(It in dt)if(Mt[It])for(gt in Mt)bt&&(ht[gt]||vt[gt])||(gt.charAt(0)==="x"?st:dt)[gt]||(Et[gt]=It)}_t&&(c.extendFlat(wt,Et),Et={});var Nt={},Rt=[];for(Dt in wt){var At=F(Q,Dt);Rt.push(At),Nt[At._id]=At}var kt={},Bt=[];for(gt in Et){var Lt=F(Q,gt);Bt.push(Lt),kt[Lt._id]=Lt}return{xaHash:Nt,yaHash:kt,xaxes:Rt,yaxes:Bt,xLinks:wt,yLinks:Et,isSubplotConstrained:_t}}function $(Q,ot){if(h){var st=Q.onwheel!==void 0?"wheel":"mousewheel";Q._onwheel&&Q.removeEventListener(st,Q._onwheel),Q._onwheel=ot,Q.addEventListener(st,ot,{passive:!1})}else Q.onwheel!==void 0?Q.onwheel=ot:Q.onmousewheel!==void 0?Q.onmousewheel=ot:Q.isAddedWheelEvent||(Q.isAddedWheelEvent=!0,Q.addEventListener("wheel",ot,{passive:!1}))}function Z(Q){var ot=[];for(var st in Q)ot.push(Q[st]);return ot}a.exports={makeDragBox:function(Q,ot,st,dt,bt,Pt,It,Dt){var gt,_t,wt,Et,ht,vt,Ct,Mt,Nt,Rt,At,kt,Bt,Lt,zt,Gt,Ut,ne,te,ae,ue,pe,be,re=Q._fullLayout._zoomlayer,jt=It+Dt==="nsew",$t=(It+Dt).length===1;function Jt(){if(gt=ot.xaxis,_t=ot.yaxis,Nt=gt._length,Rt=_t._length,Ct=gt._offset,Mt=_t._offset,(wt={})[gt._id]=gt,(Et={})[_t._id]=_t,It&&Dt)for(var ge=ot.overlays,Pe=0;Pe<ge.length;Pe++){var ke=ge[Pe].xaxis;wt[ke._id]=ke;var Ye=ge[Pe].yaxis;Et[Ye._id]=Ye}ht=Z(wt),vt=Z(Et),Bt=nt(ht,Dt),Lt=nt(vt,It),zt=!Lt&&!Bt,kt=H(Q,Q._fullLayout._axisMatchGroups,wt,Et);var je=(At=H(Q,Q._fullLayout._axisConstraintGroups,wt,Et,kt)).isSubplotConstrained||kt.isSubplotConstrained;Gt=Dt||je,Ut=It||je;var qe=Q._fullLayout;ne=qe._has("scattergl"),te=qe._has("splom"),ae=qe._has("svg")}st+=ot.yaxis._shift,Jt();var qt=function(ge,Pe,ke){return ge?ge==="nsew"?ke?"":Pe==="pan"?"move":"crosshair":ge.toLowerCase()+"-resize":"pointer"}(Lt+Bt,Q._fullLayout.dragmode,jt),Ce=J(ot,It+Dt+"drag",qt,st,dt,bt,Pt);if(zt&&!jt)return Ce.onmousedown=null,Ce.style.pointerEvents="none",Ce;var fe,Me,Ee,He,Ae,$e,Oe,ft,mt,Ht,Vt={element:Ce,gd:Q,plotinfo:ot};function ee(){Vt.plotinfo.selection=!1,R(Q)}function Xt(ge,Pe){var ke=Vt.gd;if(ke._fullLayout._activeShapeIndex>=0)ke._fullLayout._deactivateShape(ke);else{var Ye=ke._fullLayout.clickmode;if(rt(ke),ge!==2||$t||Se(),jt)Ye.indexOf("select")>-1&&k(Pe,ke,ht,vt,ot.id,Vt),Ye.indexOf("event")>-1&&y.click(ke,Pe,ot.id);else if(ge===1&&$t){var je=It?_t:gt,qe=It==="s"||Dt==="w"?0:1,nn=je._name+".range["+qe+"]",sn=function(Tn,An){var Sn,bn=Tn.range[An],_n=Math.abs(bn-Tn.range[1-An]);return Tn.type==="date"?bn:Tn.type==="log"?(Sn=Math.ceil(Math.max(0,-Math.log(_n)/Math.LN10))+3,u("."+Sn+"g")(Math.pow(10,bn))):(Sn=Math.floor(Math.log(Math.abs(bn))/Math.LN10)-Math.floor(Math.log(_n)/Math.LN10)+4,u("."+String(Sn)+"g")(bn))}(je,qe),Ze="left",tn="middle";if(je.fixedrange)return;It?(tn=It==="n"?"top":"bottom",je.side==="right"&&(Ze="right")):Dt==="e"&&(Ze="right"),ke._context.showAxisRangeEntryBoxes&&l.select(Ce).call(g.makeEditable,{gd:ke,immediate:!0,background:ke._fullLayout.paper_bgcolor,text:String(sn),fill:je.tickfont?je.tickfont.color:"#444",horizontalAlign:Ze,verticalAlign:tn}).on("edit",function(Tn){var An=je.d2r(Tn);An!==void 0&&d.call("_guiRelayout",ke,nn,An)})}}}function Qt(ge,Pe){if(Q._transitioningWithDuration)return!1;var ke=Math.max(0,Math.min(Nt,pe*ge+fe)),Ye=Math.max(0,Math.min(Rt,be*Pe+Me)),je=Math.abs(ke-fe),qe=Math.abs(Ye-Me);function nn(){Oe="",Ee.r=Ee.l,Ee.t=Ee.b,mt.attr("d","M0,0Z")}if(Ee.l=Math.min(fe,ke),Ee.r=Math.max(fe,ke),Ee.t=Math.min(Me,Ye),Ee.b=Math.max(Me,Ye),At.isSubplotConstrained)je>q||qe>q?(Oe="xy",je/Nt>qe/Rt?(qe=je*Rt/Nt,Me>Ye?Ee.t=Me-qe:Ee.b=Me+qe):(je=qe*Nt/Rt,fe>ke?Ee.l=fe-je:Ee.r=fe+je),mt.attr("d",B(Ee))):nn();else if(kt.isSubplotConstrained)if(je>q||qe>q){Oe="xy";var sn=Math.min(Ee.l/Nt,(Rt-Ee.b)/Rt),Ze=Math.max(Ee.r/Nt,(Rt-Ee.t)/Rt);Ee.l=sn*Nt,Ee.r=Ze*Nt,Ee.b=(1-sn)*Rt,Ee.t=(1-Ze)*Rt,mt.attr("d",B(Ee))}else nn();else!Lt||qe<Math.min(Math.max(.6*je,G),q)?je<G||!Bt?nn():(Ee.t=0,Ee.b=Rt,Oe="x",mt.attr("d",function(tn,Tn){return"M"+(tn.l-.5)+","+(Tn-q-.5)+"h-3v"+(2*q+1)+"h3ZM"+(tn.r+.5)+","+(Tn-q-.5)+"h3v"+(2*q+1)+"h-3Z"}(Ee,Me))):!Bt||je<Math.min(.6*qe,q)?(Ee.l=0,Ee.r=Nt,Oe="y",mt.attr("d",function(tn,Tn){return"M"+(Tn-q-.5)+","+(tn.t-.5)+"v-3h"+(2*q+1)+"v3ZM"+(Tn-q-.5)+","+(tn.b+.5)+"v3h"+(2*q+1)+"v-3Z"}(Ee,fe))):(Oe="xy",mt.attr("d",B(Ee)));Ee.w=Ee.r-Ee.l,Ee.h=Ee.b-Ee.t,Oe&&(Ht=!0),Q._dragged=Ht,lt(ft,mt,Ee,Ae,$e,He),se(),Q.emit("plotly_relayouting",ue),$e=!0}function se(){ue={},Oe!=="xy"&&Oe!=="x"||(ct(ht,Ee.l/Nt,Ee.r/Nt,ue,At.xaxes),Fe("x",ue)),Oe!=="xy"&&Oe!=="y"||(ct(vt,(Rt-Ee.b)/Rt,(Rt-Ee.t)/Rt,ue,At.yaxes),Fe("y",ue))}function he(){se(),rt(Q),Te(),V(Q)}Vt.prepFn=function(ge,Pe,ke){var Ye=Vt.dragmode,je=Q._fullLayout.dragmode;je!==Ye&&(Vt.dragmode=je),Jt(),pe=Q._fullLayout._invScaleX,be=Q._fullLayout._invScaleY,zt||(jt?ge.shiftKey?je==="pan"?je="zoom":M(je)||(je="pan"):ge.ctrlKey&&(je="pan"):je="pan"),S(je)?Vt.minDrag=1:Vt.minDrag=void 0,M(je)?(Vt.xaxes=ht,Vt.yaxes=vt,P(ge,Pe,ke,Vt,je)):(Vt.clickFn=Xt,M(Ye)&&ee(),zt||(je==="zoom"?(Vt.moveFn=Qt,Vt.doneFn=he,Vt.minDrag=1,function(qe,nn,sn){var Ze=Ce.getBoundingClientRect();fe=nn-Ze.left,Me=sn-Ze.top,Q._fullLayout._calcInverseTransform(Q);var tn=c.apply3DTransform(Q._fullLayout._invTransform)(fe,Me);fe=tn[0],Me=tn[1],Ee={l:fe,r:fe,w:0,t:Me,b:Me,h:0},He=Q._hmpixcount?Q._hmlumcount/Q._hmpixcount:f(Q._fullLayout.plot_bgcolor).getLuminance(),$e=!1,Oe="xy",Ht=!1,ft=X(re,He,Ct,Mt,Ae="M0,0H"+Nt+"V"+Rt+"H0V0"),mt=it(re,Ct,Mt)}(0,Pe,ke)):je==="pan"&&(Vt.moveFn=Ne,Vt.doneFn=Te))),Q._fullLayout._redrag=function(){var qe=Q._dragdata;if(qe&&qe.element===Ce){var nn=Q._fullLayout.dragmode;M(nn)||(Jt(),xe([0,0,Nt,Rt]),Vt.moveFn(qe.dx,qe.dy))}}},w.init(Vt);var ye=[0,0,Nt,Rt],oe=null,Ue=j.REDRAWDELAY,rn=ot.mainplot?Q._fullLayout._plots[ot.mainplot]:ot;function Ne(ge,Pe){if(ge*=pe,Pe*=be,!Q._transitioningWithDuration){if(Q._fullLayout._replotting=!0,Bt==="ew"||Lt==="ns"){var ke=Bt?-ge:0,Ye=Lt?-Pe:0;if(kt.isSubplotConstrained){if(Bt&&Lt){var je=(ge/Nt-Pe/Rt)/2;ke=-(ge=je*Nt),Ye=-(Pe=-je*Rt)}Lt?ke=-Ye*Nt/Rt:Ye=-ke*Rt/Nt}return Bt&&(z(ht,ge),Fe("x")),Lt&&(z(vt,Pe),Fe("y")),xe([ke,Ye,Nt,Rt]),Be(),void Q.emit("plotly_relayouting",ue)}var qe,nn,sn=Bt==="w"==(Lt==="n")?1:-1;if(Bt&&Lt&&(At.isSubplotConstrained||kt.isSubplotConstrained)){var Ze=(ge/Nt+sn*Pe/Rt)/2;ge=Ze*Nt,Pe=sn*Ze*Rt}if(Bt==="w"?ge=Sn(ht,0,ge):Bt==="e"?ge=Sn(ht,1,-ge):Bt||(ge=0),Lt==="n"?Pe=Sn(vt,1,Pe):Lt==="s"?Pe=Sn(vt,0,-Pe):Lt||(Pe=0),qe=Bt==="w"?ge:0,nn=Lt==="n"?Pe:0,At.isSubplotConstrained&&!kt.isSubplotConstrained||kt.isSubplotConstrained&&Bt&&Lt&&sn>0){var tn;if(kt.isSubplotConstrained||!Bt&&Lt.length===1){for(tn=0;tn<ht.length;tn++)ht[tn].range=ht[tn]._r.slice(),I(ht[tn],1-Pe/Rt);qe=(ge=Pe*Nt/Rt)/2}if(kt.isSubplotConstrained||!Lt&&Bt.length===1){for(tn=0;tn<vt.length;tn++)vt[tn].range=vt[tn]._r.slice(),I(vt[tn],1-ge/Nt);nn=(Pe=ge*Rt/Nt)/2}}kt.isSubplotConstrained&&Lt||Fe("x"),kt.isSubplotConstrained&&Bt||Fe("y");var Tn=Nt-ge,An=Rt-Pe;!kt.isSubplotConstrained||Bt&&Lt||(Bt?(nn=qe?0:ge*Rt/Nt,An=Tn*Rt/Nt):(qe=nn?0:Pe*Nt/Rt,Tn=An*Nt/Rt)),xe([qe,nn,Tn,An]),Be(),Q.emit("plotly_relayouting",ue)}function Sn(bn,_n,Hn){for(var En,Dn,xn=1-_n,Kn=0;Kn<bn.length;Kn++){var Yn=bn[Kn];if(!Yn.fixedrange){En=Yn,Dn=Yn._rl[xn]+(Yn._rl[_n]-Yn._rl[xn])/W(Hn/Yn._length);var hr=Yn.l2r(Dn);hr!==!1&&hr!==void 0&&(Yn.range[_n]=hr)}}return En._length*(En._rl[_n]-Dn)/(En._rl[_n]-En._rl[xn])}}function Fe(ge,Pe){for(var ke=kt.isSubplotConstrained?{x:vt,y:ht}[ge]:kt[ge+"axes"],Ye=kt.isSubplotConstrained?{x:ht,y:vt}[ge]:[],je=0;je<ke.length;je++){var qe=ke[je],nn=qe._id,sn=kt.xLinks[nn]||kt.yLinks[nn],Ze=Ye[0]||wt[sn]||Et[sn];Ze&&(Pe?(Pe[qe._name+".range[0]"]=Pe[Ze._name+".range[0]"],Pe[qe._name+".range[1]"]=Pe[Ze._name+".range[1]"]):qe.range=Ze.range.slice())}}function Be(){var ge,Pe=[];function ke(nn){for(ge=0;ge<nn.length;ge++)nn[ge].fixedrange||Pe.push(nn[ge]._id)}function Ye(nn,sn){for(ge=0;ge<nn.length;ge++){var Ze=nn[ge],tn=Ze[sn];Ze.fixedrange||tn.tickmode!=="sync"||Pe.push(tn._id)}}for(Gt&&(ke(ht),ke(At.xaxes),ke(kt.xaxes),Ye(ot.overlays,"xaxis")),Ut&&(ke(vt),ke(At.yaxes),ke(kt.yaxes),Ye(ot.overlays,"yaxis")),ue={},ge=0;ge<Pe.length;ge++){var je=Pe[ge],qe=F(Q,je);_.drawOne(Q,qe,{skipTitle:!0}),ue[qe._name+".range[0]"]=qe.range[0],ue[qe._name+".range[1]"]=qe.range[1]}_.redrawComponents(Q,Pe)}function Se(){if(!Q._transitioningWithDuration){var ge=Q._context.doubleClick,Pe=[];Bt&&(Pe=Pe.concat(ht)),Lt&&(Pe=Pe.concat(vt)),kt.xaxes&&(Pe=Pe.concat(kt.xaxes)),kt.yaxes&&(Pe=Pe.concat(kt.yaxes));var ke,Ye,je={};if(ge==="reset+autosize")for(ge="autosize",Ye=0;Ye<Pe.length;Ye++){var qe=(ke=Pe[Ye])._rangeInitial0,nn=ke._rangeInitial1,sn=qe!==void 0||nn!==void 0;if(sn&&(qe!==void 0&&qe!==ke.range[0]||nn!==void 0&&nn!==ke.range[1])||!sn&&ke.autorange!==!0){ge="reset";break}}if(ge==="autosize")for(Ye=0;Ye<Pe.length;Ye++)(ke=Pe[Ye]).fixedrange||(je[ke._name+".autorange"]=!0);else if(ge==="reset"){for((Bt||At.isSubplotConstrained)&&(Pe=Pe.concat(At.xaxes)),Lt&&!At.isSubplotConstrained&&(Pe=Pe.concat(At.yaxes)),At.isSubplotConstrained&&(Bt?Lt||(Pe=Pe.concat(vt)):Pe=Pe.concat(ht)),Ye=0;Ye<Pe.length;Ye++)if(!(ke=Pe[Ye]).fixedrange){var Ze=ke._name,tn=ke._autorangeInitial;ke._rangeInitial0===void 0&&ke._rangeInitial1===void 0?je[Ze+".autorange"]=!0:ke._rangeInitial0===void 0?(je[Ze+".autorange"]=tn,je[Ze+".range"]=[null,ke._rangeInitial1]):ke._rangeInitial1===void 0?(je[Ze+".range"]=[ke._rangeInitial0,null],je[Ze+".autorange"]=tn):je[Ze+".range"]=[ke._rangeInitial0,ke._rangeInitial1]}}Q.emit("plotly_doubleclick",null),d.call("_guiRelayout",Q,je)}}function Te(){xe([0,0,Nt,Rt]),c.syncOrAsync([N.previousPromises,function(){Q._fullLayout._replotting=!1,d.call("_guiRelayout",Q,ue)}],Q)}function xe(ge){var Pe,ke,Ye,je,qe=Q._fullLayout,nn=qe._plots,sn=qe._subplots.cartesian;if(te&&d.subplotsRegistry.splom.drag(Q),ne){for(Pe=0;Pe<sn.length;Pe++)if(Ye=(ke=nn[sn[Pe]]).xaxis,je=ke.yaxis,ke._scene){var Ze=c.simpleMap(Ye.range,Ye.r2l),tn=c.simpleMap(je.range,je.r2l);Ye.limitRange&&Ye.limitRange(),je.limitRange&&je.limitRange(),Ze=Ye.range,tn=je.range,ke._scene.update({range:[Ze[0],tn[0],Ze[1],tn[1]]})}}if((te||ne)&&(A(Q),O(Q)),ae){var Tn=ge[2]/gt._length,An=ge[3]/_t._length;for(Pe=0;Pe<sn.length;Pe++){Ye=(ke=nn[sn[Pe]]).xaxis,je=ke.yaxis;var Sn,bn,_n,Hn,En=(Gt||kt.isSubplotConstrained)&&!Ye.fixedrange&&wt[Ye._id],Dn=(Ut||kt.isSubplotConstrained)&&!je.fixedrange&&Et[je._id];if(En?(Sn=Tn,_n=Dt||kt.isSubplotConstrained?ge[0]:an(Ye,Sn)):kt.xaHash[Ye._id]?(Sn=Tn,_n=ge[0]*Ye._length/gt._length):kt.yaHash[Ye._id]?(Sn=An,_n=Lt==="ns"?-ge[1]*Ye._length/_t._length:an(Ye,Sn,{n:"top",s:"bottom"}[Lt])):_n=Ve(Ye,Sn=Xe(Ye,Tn,An)),Sn>1&&(Ye.maxallowed!==void 0&&Gt===(Ye.range[0]<Ye.range[1]?"e":"w")||Ye.minallowed!==void 0&&Gt===(Ye.range[0]<Ye.range[1]?"w":"e"))&&(Sn=1,_n=0),Dn?(bn=An,Hn=It||kt.isSubplotConstrained?ge[1]:an(je,bn)):kt.yaHash[je._id]?(bn=An,Hn=ge[1]*je._length/_t._length):kt.xaHash[je._id]?(bn=Tn,Hn=Bt==="ew"?-ge[0]*je._length/gt._length:an(je,bn,{e:"right",w:"left"}[Bt])):Hn=Ve(je,bn=Xe(je,Tn,An)),bn>1&&(je.maxallowed!==void 0&&Ut===(je.range[0]<je.range[1]?"n":"s")||je.minallowed!==void 0&&Ut===(je.range[0]<je.range[1]?"s":"n"))&&(bn=1,Hn=0),Sn||bn){Sn||(Sn=1),bn||(bn=1);var xn=Ye._offset-_n/Sn,Kn=je._offset-Hn/bn;ke.clipRect.call(v.setTranslate,_n,Hn).call(v.setScale,Sn,bn),ke.plot.call(v.setTranslate,xn,Kn).call(v.setScale,1/Sn,1/bn),Sn===ke.xScaleFactor&&bn===ke.yScaleFactor||(v.setPointGroupScale(ke.zoomScalePts,Sn,bn),v.setTextPointsScale(ke.zoomScaleTxt,Sn,bn)),v.hideOutsideRangePoints(ke.clipOnAxisFalseTraces,ke),ke.xScaleFactor=Sn,ke.yScaleFactor=bn}}}}function Xe(ge,Pe,ke){return ge.fixedrange?0:Gt&&At.xaHash[ge._id]?Pe:Ut&&(At.isSubplotConstrained?At.xaHash:At.yaHash)[ge._id]?ke:0}function Ve(ge,Pe){return Pe?(ge.range=ge._r.slice(),I(ge,Pe),an(ge,Pe)):0}function an(ge,Pe,ke){return ge._length*(1-Pe)*E[ke||ge.constraintoward||"middle"]}return It.length*Dt.length!=1&&$(Ce,function(ge){if(Q._context._scrollZoom.cartesian||Q._fullLayout._enablescrollzoom){if(ee(),Q._transitioningWithDuration)return ge.preventDefault(),void ge.stopPropagation();Jt(),clearTimeout(oe);var Pe=-ge.deltaY;if(isFinite(Pe)||(Pe=ge.wheelDelta/10),isFinite(Pe)){var ke,Ye=Math.exp(-Math.min(Math.max(Pe,-20),20)/200),je=rn.draglayer.select(".nsewdrag").node().getBoundingClientRect(),qe=(ge.clientX-je.left)/je.width,nn=(je.bottom-ge.clientY)/je.height;if(Gt){for(Dt||(qe=.5),ke=0;ke<ht.length;ke++)sn(ht[ke],qe,Ye);Fe("x"),ye[2]*=Ye,ye[0]+=ye[2]*qe*(1/Ye-1)}if(Ut){for(It||(nn=.5),ke=0;ke<vt.length;ke++)sn(vt[ke],nn,Ye);Fe("y"),ye[3]*=Ye,ye[1]+=ye[3]*(1-nn)*(1/Ye-1)}xe(ye),Be(),Q.emit("plotly_relayouting",ue),oe=setTimeout(function(){Q._fullLayout&&(ye=[0,0,Nt,Rt],Te())},Ue),ge.preventDefault()}else c.log("Did not find wheel motion attributes: ",ge)}function sn(Ze,tn,Tn){if(!Ze.fixedrange){var An=c.simpleMap(Ze.range,Ze.r2l),Sn=An[0]+(An[1]-An[0])*tn;Ze.range=An.map(function(bn){return Ze.l2r(Sn+(bn-Sn)*Tn)})}}}),Ce},makeDragger:U,makeRectDragger:J,makeZoombox:X,makeCorners:it,updateZoombox:lt,xyCorners:B,transitionZoombox:pt,removeZoombox:rt,showDoubleClickNotifier:V,attachWheelEventHandler:$}},4305:function(a,s,o){var l=o(9898),c=o(211),u=o(8569),f=o(6964),h=o(9323).makeDragBox,d=o(5555).DRAGGERSIZE;s.initInteractions=function(p){var g=p._fullLayout;if(p._context.staticPlot)l.select(p).selectAll(".drag").remove();else if(g._has("cartesian")||g._has("splom")){Object.keys(g._plots||{}).sort(function(v,y){if((g._plots[v].mainplot&&!0)===(g._plots[y].mainplot&&!0)){var _=v.split("y"),b=y.split("y");return _[0]===b[0]?Number(_[1]||1)-Number(b[1]||1):Number(_[0]||1)-Number(b[0]||1)}return g._plots[v].mainplot?1:-1}).forEach(function(v){var y=g._plots[v],_=y.xaxis,b=y.yaxis;if(!y.mainplot){var w=h(p,y,_._offset,b._offset,_._length,b._length,"ns","ew");w.onmousemove=function(S){p._fullLayout._rehover=function(){p._fullLayout._hoversubplot===v&&p._fullLayout._plots[v]&&c.hover(p,S,v)},c.hover(p,S,v),p._fullLayout._lasthover=w,p._fullLayout._hoversubplot=v},w.onmouseout=function(S){p._dragging||(p._fullLayout._hoversubplot=null,u.unhover(p,S))},p._context.showAxisDragHandles&&(h(p,y,_._offset-d,b._offset-d,d,d,"n","w"),h(p,y,_._offset+_._length,b._offset-d,d,d,"n","e"),h(p,y,_._offset-d,b._offset+b._length,d,d,"s","w"),h(p,y,_._offset+_._length,b._offset+b._length,d,d,"s","e"))}if(p._context.showAxisDragHandles){if(v===_._mainSubplot){var T=_._mainLinePosition;_.side==="top"&&(T-=d),h(p,y,_._offset+.1*_._length,T,.8*_._length,d,"","ew"),h(p,y,_._offset,T,.1*_._length,d,"","w"),h(p,y,_._offset+.9*_._length,T,.1*_._length,d,"","e")}if(v===b._mainSubplot){var M=b._mainLinePosition;b.side!=="right"&&(M-=d),h(p,y,M,b._offset+.1*b._length,d,.8*b._length,"ns",""),h(p,y,M,b._offset+.9*b._length,d,.1*b._length,"s",""),h(p,y,M,b._offset,d,.1*b._length,"n","")}}});var m=g._hoverlayer.node();m.onmousemove=function(v){v.target=p._fullLayout._lasthover,c.hover(p,v,g._hoversubplot)},m.onclick=function(v){v.target=p._fullLayout._lasthover,c.click(p,v)},m.onmousedown=function(v){p._fullLayout._lasthover.onmousedown(v)},s.updateFx(p)}},s.updateFx=function(p){var g=p._fullLayout,m=g.dragmode==="pan"?"move":"crosshair";f(g._draggers,m)}},6325:function(a,s,o){var l=o(3972),c=o(1828),u=o(1675);a.exports=function(f){return function(h,d){var p=h[f];if(Array.isArray(p))for(var g=l.subplotsRegistry.cartesian,m=g.idRegex,v=d._subplots,y=v.xaxis,_=v.yaxis,b=v.cartesian,w=d._has("cartesian")||d._has("gl2d"),T=0;T<p.length;T++){var M=p[T];if(c.isPlainObject(M)){var S=u.cleanId(M.xref,"x",!1),E=u.cleanId(M.yref,"y",!1),A=m.x.test(S),O=m.y.test(E);if(A||O){w||c.pushUnique(d._basePlotModules,g);var N=!1;A&&y.indexOf(S)===-1&&(y.push(S),N=!0),O&&_.indexOf(E)===-1&&(_.push(E),N=!0),N&&A&&O&&b.push(S+E)}}}}}},3612:function(a,s,o){var l=o(9898),c=o(3972),u=o(1828),f=o(4875),h=o(1424),d=o(7659).a0,p=o(1675),g=o(5555),m=o(7922),v=u.ensureSingle;function y(M,S,E){return u.ensureSingle(M,S,E,function(A){A.datum(E)})}function _(M,S,E,A,O){for(var N,F,P,R=g.traceLayerClasses,k=M._fullLayout,I=k._modules,j=[],G=[],q=0;q<I.length;q++){var et=(N=I[q]).name,U=c.modules[et].categories;if(U.svg){var J=N.layerName||et+"layer",nt=N.plot;P=(F=d(E,nt))[0],E=F[1],P.length&&j.push({i:R.indexOf(J),className:J,plotMethod:nt,cdModule:P}),U.zoomScale&&G.push("."+J)}}j.sort(function(W,X){return W.i-X.i});var ct=S.plot.selectAll("g.mlayer").data(j,function(W){return W.className});if(ct.enter().append("g").attr("class",function(W){return W.className}).classed("mlayer",!0).classed("rangeplot",S.isRangePlot),ct.exit().remove(),ct.order(),ct.each(function(W){var X=l.select(this),it=W.className;W.plotMethod(M,S,W.cdModule,X,A,O),g.clipOnAxisFalseQuery.indexOf("."+it)===-1&&h.setClipUrl(X,S.layerClipId,M)}),k._has("scattergl")&&(N=c.getModule("scattergl"),P=d(E,N)[0],N.plot(M,S,P)),!M._context.staticPlot&&(S._hasClipOnAxisFalse&&(S.clipOnAxisFalseTraces=S.plot.selectAll(g.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),G.length)){var z=S.plot.selectAll(G.join(",")).selectAll(".trace");S.zoomScalePts=z.selectAll("path.point"),S.zoomScaleTxt=z.selectAll(".textpoint")}}function b(M,S){var E=S.plotgroup,A=S.id,O=g.layerValue2layerClass[S.xaxis.layer],N=g.layerValue2layerClass[S.yaxis.layer],F=M._fullLayout._hasOnlyLargeSploms;if(S.mainplot){var P=S.mainplotinfo,R=P.plotgroup,k=A+"-x",I=A+"-y";S.minorGridlayer=P.minorGridlayer,S.gridlayer=P.gridlayer,S.zerolinelayer=P.zerolinelayer,v(P.overlinesBelow,"path",k),v(P.overlinesBelow,"path",I),v(P.overaxesBelow,"g",k),v(P.overaxesBelow,"g",I),S.plot=v(P.overplot,"g",A),v(P.overlinesAbove,"path",k),v(P.overlinesAbove,"path",I),v(P.overaxesAbove,"g",k),v(P.overaxesAbove,"g",I),S.xlines=R.select(".overlines-"+O).select("."+k),S.ylines=R.select(".overlines-"+N).select("."+I),S.xaxislayer=R.select(".overaxes-"+O).select("."+k),S.yaxislayer=R.select(".overaxes-"+N).select("."+I)}else if(F)S.xlines=v(E,"path","xlines-above"),S.ylines=v(E,"path","ylines-above"),S.xaxislayer=v(E,"g","xaxislayer-above"),S.yaxislayer=v(E,"g","yaxislayer-above");else{var j=v(E,"g","layer-subplot");S.shapelayer=v(j,"g","shapelayer"),S.imagelayer=v(j,"g","imagelayer"),S.minorGridlayer=v(E,"g","minor-gridlayer"),S.gridlayer=v(E,"g","gridlayer"),S.zerolinelayer=v(E,"g","zerolinelayer"),v(E,"path","xlines-below"),v(E,"path","ylines-below"),S.overlinesBelow=v(E,"g","overlines-below"),v(E,"g","xaxislayer-below"),v(E,"g","yaxislayer-below"),S.overaxesBelow=v(E,"g","overaxes-below"),S.plot=v(E,"g","plot"),S.overplot=v(E,"g","overplot"),S.xlines=v(E,"path","xlines-above"),S.ylines=v(E,"path","ylines-above"),S.overlinesAbove=v(E,"g","overlines-above"),v(E,"g","xaxislayer-above"),v(E,"g","yaxislayer-above"),S.overaxesAbove=v(E,"g","overaxes-above"),S.xlines=E.select(".xlines-"+O),S.ylines=E.select(".ylines-"+N),S.xaxislayer=E.select(".xaxislayer-"+O),S.yaxislayer=E.select(".yaxislayer-"+N)}F||(y(S.minorGridlayer,"g",S.xaxis._id),y(S.minorGridlayer,"g",S.yaxis._id),S.minorGridlayer.selectAll("g").map(function(G){return G[0]}).sort(p.idSort),y(S.gridlayer,"g",S.xaxis._id),y(S.gridlayer,"g",S.yaxis._id),S.gridlayer.selectAll("g").map(function(G){return G[0]}).sort(p.idSort)),S.xlines.style("fill","none").classed("crisp",!0),S.ylines.style("fill","none").classed("crisp",!0)}function w(M,S){if(M){var E={};for(var A in M.each(function(P){var R=P[0];l.select(this).remove(),T(R,S),E[R]=!0}),S._plots)for(var O=S._plots[A].overlays||[],N=0;N<O.length;N++){var F=O[N];E[F.id]&&F.plot.selectAll(".trace").remove()}}}function T(M,S){S._draggers.selectAll("g."+M).remove(),S._defs.select("#clip"+S._uid+M+"plot").remove()}s.name="cartesian",s.attr=["xaxis","yaxis"],s.idRoot=["x","y"],s.idRegex=g.idRegex,s.attrRegex=g.attrRegex,s.attributes=o(9502),s.layoutAttributes=o(3838),s.supplyLayoutDefaults=o(6763),s.transitionAxes=o(6847),s.finalizeSubplots=function(M,S){var E,A,O,N=S._subplots,F=N.xaxis,P=N.yaxis,R=N.cartesian,k=R.concat(N.gl2d||[]),I={},j={};for(E=0;E<k.length;E++){var G=k[E].split("y");I[G[0]]=1,j["y"+G[1]]=1}for(E=0;E<F.length;E++)I[A=F[E]]||(O=(M[p.id2name(A)]||{}).anchor,g.idRegex.y.test(O)||(O="y"),R.push(A+O),k.push(A+O),j[O]||(j[O]=1,u.pushUnique(P,O)));for(E=0;E<P.length;E++)j[O=P[E]]||(A=(M[p.id2name(O)]||{}).anchor,g.idRegex.x.test(A)||(A="x"),R.push(A+O),k.push(A+O),I[A]||(I[A]=1,u.pushUnique(F,A)));if(!k.length){for(var q in A="",O="",M)g.attrRegex.test(q)&&(q.charAt(0)==="x"?(!A||+q.substr(5)<+A.substr(5))&&(A=q):(!O||+q.substr(5)<+O.substr(5))&&(O=q));A=A?p.name2id(A):"x",O=O?p.name2id(O):"y",F.push(A),P.push(O),R.push(A+O)}},s.plot=function(M,S,E,A){var O,N=M._fullLayout,F=N._subplots.cartesian,P=M.calcdata;if(!Array.isArray(S))for(S=[],O=0;O<P.length;O++)S.push(O);for(O=0;O<F.length;O++){for(var R,k=F[O],I=N._plots[k],j=[],G=0;G<P.length;G++){var q=P[G],et=q[0].trace;et.xaxis+et.yaxis===k&&((S.indexOf(et.index)!==-1||et.carpet)&&(R&&R[0].trace.xaxis+R[0].trace.yaxis===k&&["tonextx","tonexty","tonext"].indexOf(et.fill)!==-1&&j.indexOf(R)===-1&&j.push(R),j.push(q)),R=q)}_(M,I,j,E,A)}},s.clean=function(M,S,E,A){var O,N,F,P=A._plots||{},R=S._plots||{},k=A._subplots||{};if(A._hasOnlyLargeSploms&&!S._hasOnlyLargeSploms)for(F in P)(O=P[F]).plotgroup&&O.plotgroup.remove();var I=A._has&&A._has("gl"),j=S._has&&S._has("gl");if(I&&!j)for(F in P)(O=P[F])._scene&&O._scene.destroy();if(k.xaxis&&k.yaxis){var G=p.listIds({_fullLayout:A});for(N=0;N<G.length;N++){var q=G[N];S[p.id2name(q)]||A._infolayer.selectAll(".g-"+q+"title").remove()}}var et=A._has&&A._has("cartesian"),U=S._has&&S._has("cartesian");if(et&&!U)w(A._cartesianlayer.selectAll(".subplot"),A),A._defs.selectAll(".axesclip").remove(),delete A._axisConstraintGroups,delete A._axisMatchGroups;else if(k.cartesian)for(N=0;N<k.cartesian.length;N++){var J=k.cartesian[N];if(!R[J]){var nt="."+J+",."+J+"-x,."+J+"-y";A._cartesianlayer.selectAll(nt).remove(),T(J,A)}}},s.drawFramework=function(M){var S=M._fullLayout,E=function(O){var N,F,P,R,k,I,j=O._fullLayout,G=j._subplots.cartesian,q=G.length,et=[],U=[];for(N=0;N<q;N++){P=G[N],k=(R=j._plots[P]).xaxis,I=R.yaxis;var J=k._mainAxis,nt=I._mainAxis,ct=J._id+nt._id,z=j._plots[ct];R.overlays=[],ct!==P&&z?(R.mainplot=ct,R.mainplotinfo=z,U.push(P)):(R.mainplot=void 0,R.mainplotinfo=void 0,et.push(P))}for(N=0;N<U.length;N++)P=U[N],(R=j._plots[P]).mainplotinfo.overlays.push(R);var W=et.concat(U),X=new Array(q);for(N=0;N<q;N++){P=W[N],k=(R=j._plots[P]).xaxis,I=R.yaxis;var it=[P,k.layer,I.layer,k.overlaying||"",I.overlaying||""];for(F=0;F<R.overlays.length;F++)it.push(R.overlays[F].id);X[N]=it}return X}(M),A=S._cartesianlayer.selectAll(".subplot").data(E,String);A.enter().append("g").attr("class",function(O){return"subplot "+O[0]}),A.order(),A.exit().call(w,S),A.each(function(O){var N=O[0],F=S._plots[N];F.plotgroup=l.select(this),b(M,F),F.draglayer=v(S._draggers,"g",N)})},s.rangePlot=function(M,S,E){b(M,S),_(M,S,E),f.style(M)},s.toSVG=function(M){var S=M._fullLayout._glimages,E=l.select(M).selectAll(".svg-container");E.filter(function(A,O){return O===E.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var A=this,O=A.toDataURL("image/png");S.append("svg:image").attr({xmlns:m.svg,"xlink:href":O,preserveAspectRatio:"none",x:0,y:0,width:A.style.width,height:A.style.height})})},s.updateFx=o(4305).updateFx},3838:function(a,s,o){var l=o(1940),c=o(2399),u=o(9952).P,f=o(1426).extendFlat,h=o(4467).templatedArray,d=o(2663).descriptionWithDates,p=o(606).ONEDAY,g=o(5555),m=g.HOUR_PATTERN,v=g.WEEKDAY_PATTERN,y={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},_=f({},y,{values:y.values.slice().concat(["sync"])});function b(k){return{valType:"integer",min:0,dflt:k?5:0,editType:"ticks"}}var w={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},T={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},M={valType:"data_array",editType:"ticks"},S={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function E(k){var I={valType:"number",min:0,editType:"ticks"};return k||(I.dflt=5),I}function A(k){var I={valType:"number",min:0,editType:"ticks"};return k||(I.dflt=1),I}var O={valType:"color",dflt:c.defaultLine,editType:"ticks"},N={valType:"color",dflt:c.lightLine,editType:"ticks"};function F(k){var I={valType:"number",min:0,editType:"ticks"};return k||(I.dflt=1),I}var P=f({},u,{editType:"ticks"}),R={valType:"boolean",editType:"ticks"};a.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:c.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:l({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[g.idRegex.x.toString(),g.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[g.idRegex.x.toString(),g.idRegex.y.toString()],editType:"calc"},rangebreaks:h("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[v,m,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:p},editType:"calc"}),tickmode:_,nticks:b(),tick0:w,dtick:T,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:M,ticktext:{valType:"data_array",editType:"ticks"},ticks:S,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:E(),tickwidth:A(),tickcolor:O,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:f({},u,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:l({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:d("tick label")},tickformatstops:h("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:d("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:c.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:R,gridcolor:N,gridwidth:F(),griddash:P,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:c.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:c.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",g.idRegex.x.toString(),g.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",g.idRegex.x.toString(),g.idRegex.y.toString()],editType:"plot"},minor:{tickmode:y,nticks:b("minor"),tick0:w,dtick:T,tickvals:M,ticks:S,ticklen:E("minor"),tickwidth:A("minor"),tickcolor:O,gridcolor:N,gridwidth:F("minor"),griddash:P,showgrid:R,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:l({editType:"ticks"})}}},6763:function(a,s,o){var l=o(1828),c=o(7901),u=o(3469).isUnifiedHover,f=o(8212),h=o(4467),d=o(820),p=o(3838),g=o(951),m=o(1453),v=o(9082),y=o(2830),_=o(1675),b=_.id2name,w=_.name2id,T=o(5555).AX_ID_PATTERN,M=o(3972),S=M.traceIs,E=M.getComponentMethod;function A(O,N,F){Array.isArray(O[N])?O[N].push(F):O[N]=[F]}a.exports=function(O,N,F){var P,R,k=N.autotypenumbers,I={},j={},G={},q={},et={},U={},J={},nt={},ct={},z={};for(P=0;P<F.length;P++){var W=F[P];if(S(W,"cartesian")||S(W,"gl2d")){var X,it;if(W.xaxis)X=b(W.xaxis),A(I,X,W);else if(W.xaxes)for(R=0;R<W.xaxes.length;R++)A(I,b(W.xaxes[R]),W);if(W.yaxis)it=b(W.yaxis),A(I,it,W);else if(W.yaxes)for(R=0;R<W.yaxes.length;R++)A(I,b(W.yaxes[R]),W);W.type==="funnel"?W.orientation==="h"?(X&&(j[X]=!0),it&&(J[it]=!0)):it&&(G[it]=!0):W.type==="image"?(it&&(nt[it]=!0),X&&(nt[X]=!0)):(it&&(et[it]=!0,U[it]=!0),S(W,"carpet")&&(W.type!=="carpet"||W._cheater)||X&&(q[X]=!0)),W.type==="carpet"&&W._cheater&&X&&(j[X]=!0),S(W,"2dMap")&&(ct[X]=!0,ct[it]=!0),S(W,"oriented")&&(z[W.orientation==="h"?it:X]=!0)}}var lt=N._subplots,pt=lt.xaxis,rt=lt.yaxis,V=l.simpleMap(pt,b),B=l.simpleMap(rt,b),H=V.concat(B),$=c.background;pt.length&&rt.length&&($=l.coerce(O,N,d,"plot_bgcolor"));var Z,Q,ot,st,dt,bt=c.combine($,N.paper_bgcolor);function Pt(){var $t=I[Z]||[];dt._traceIndices=$t.map(function(Jt){return Jt._expandedIndex}),dt._annIndices=[],dt._shapeIndices=[],dt._selectionIndices=[],dt._imgIndices=[],dt._subplotsWith=[],dt._counterAxes=[],dt._name=dt._attr=Z,dt._id=Q}function It($t,Jt){return l.coerce(st,dt,p,$t,Jt)}function Dt($t,Jt){return l.coerce2(st,dt,p,$t,Jt)}function gt($t){return $t==="x"?rt:pt}function _t($t,Jt){for(var qt=$t==="x"?V:B,Ce=[],fe=0;fe<qt.length;fe++){var Me=qt[fe];Me===Jt||(O[Me]||{}).overlaying||Ce.push(w(Me))}return Ce}var wt={x:gt("x"),y:gt("y")},Et=wt.x.concat(wt.y),ht={},vt=[];function Ct(){var $t=st.matches;T.test($t)&&Et.indexOf($t)===-1&&(ht[$t]=st.type,vt=Object.keys(ht))}var Mt=f(O,N),Nt=u(Mt);for(P=0;P<H.length;P++){Z=H[P],Q=w(Z),ot=Z.charAt(0),l.isPlainObject(O[Z])||(O[Z]={}),st=O[Z],dt=h.newContainer(N,Z,ot+"axis"),Pt();var Rt=ot==="x"&&!q[Z]&&j[Z]||ot==="y"&&!et[Z]&&G[Z],At=ot==="y"&&(!U[Z]&&J[Z]||nt[Z]),kt={hasMinor:!0,letter:ot,font:N.font,outerTicks:ct[Z],showGrid:!z[Z],data:I[Z]||[],bgColor:bt,calendar:N.calendar,automargin:!0,visibleDflt:Rt,reverseDflt:At,autotypenumbersDflt:k,splomStash:((N._splomAxes||{})[ot]||{})[Q]};It("uirevision",N.uirevision),g(st,dt,It,kt),m(st,dt,It,kt,N);var Bt=Nt&&ot===Mt.charAt(0),Lt=Dt("spikecolor",Nt?dt.color:void 0),zt=Dt("spikethickness",Nt?1.5:void 0),Gt=Dt("spikedash",Nt?"dot":void 0),Ut=Dt("spikemode",Nt?"across":void 0),ne=Dt("spikesnap");It("showspikes",!!(Bt||Lt||zt||Gt||Ut||ne))||(delete dt.spikecolor,delete dt.spikethickness,delete dt.spikedash,delete dt.spikemode,delete dt.spikesnap);var te=b(st.overlaying),ae=[0,1];if(N[te]!==void 0){var ue=b(N[te].anchor);N[ue]!==void 0&&(ae=N[ue].domain)}y(st,dt,It,{letter:ot,counterAxes:wt[ot],overlayableAxes:_t(ot,Z),grid:N.grid,overlayingDomain:ae}),It("title.standoff"),Ct(),dt._input=st}for(P=0;P<vt.length;){Q=vt[P++],ot=(Z=b(Q)).charAt(0),l.isPlainObject(O[Z])||(O[Z]={}),st=O[Z],dt=h.newContainer(N,Z,ot+"axis"),Pt();var pe={letter:ot,font:N.font,outerTicks:ct[Z],showGrid:!z[Z],data:[],bgColor:bt,calendar:N.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:k,splomStash:((N._splomAxes||{})[ot]||{})[Q]};It("uirevision",N.uirevision),dt.type=ht[Q]||"linear",m(st,dt,It,pe,N),y(st,dt,It,{letter:ot,counterAxes:wt[ot],overlayableAxes:_t(ot,Z),grid:N.grid}),It("fixedrange"),Ct(),dt._input=st}var be=E("rangeslider","handleDefaults"),re=E("rangeselector","handleDefaults");for(P=0;P<V.length;P++)Z=V[P],st=O[Z],dt=N[Z],be(O,N,Z),dt.type==="date"&&re(st,dt,N,B,dt.calendar),It("fixedrange");for(P=0;P<B.length;P++){Z=B[P],st=O[Z],dt=N[Z];var jt=N[b(dt.anchor)];It("fixedrange",E("rangeslider","isVisible")(jt))}v.handleDefaults(O,N,{axIds:Et.concat(vt).sort(_.idSort),axHasImage:nt})}},2128:function(a,s,o){var l=o(4267).mix,c=o(2399),u=o(1828);a.exports=function(f,h,d,p){var g=(p=p||{}).dfltColor;function m(O,N){return u.coerce2(f,h,p.attributes,O,N)}var v=m("linecolor",g),y=m("linewidth");d("showline",p.showLine||!!v||!!y)||(delete h.linecolor,delete h.linewidth);var _=m("gridcolor",l(g,p.bgColor,p.blend||c.lightFraction).toRgbString()),b=m("gridwidth"),w=m("griddash");if(d("showgrid",p.showGrid||!!_||!!b||!!w)||(delete h.gridcolor,delete h.gridwidth,delete h.griddash),p.hasMinor){var T=m("minor.gridcolor",l(h.gridcolor,p.bgColor,67).toRgbString()),M=m("minor.gridwidth",h.gridwidth||1),S=m("minor.griddash",h.griddash||"solid");d("minor.showgrid",!!T||!!M||!!S)||(delete h.minor.gridcolor,delete h.minor.gridwidth,delete h.minor.griddash)}if(!p.noZeroLine){var E=m("zerolinecolor",g),A=m("zerolinewidth");d("zeroline",p.showGrid||!!E||!!A)||(delete h.zerolinecolor,delete h.zerolinewidth)}}},2830:function(a,s,o){var l=o(2770),c=o(1828);a.exports=function(u,f,h,d){var p,g,m,v,y,_,b=d.counterAxes||[],w=d.overlayableAxes||[],T=d.letter,M=d.grid,S=d.overlayingDomain;M&&(g=M._domains[T][M._axisMap[f._id]],p=M._anchors[f._id],g&&(m=M[T+"side"].split(" ")[0],v=M.domain[T][m==="right"||m==="top"?1:0])),g=g||[0,1],p=p||(l(u.position)?"free":b[0]||"free"),m=m||(T==="x"?"bottom":"left"),v=v||0,y=0,_=!1;var E=c.coerce(u,f,{anchor:{valType:"enumerated",values:["free"].concat(b),dflt:p}},"anchor"),A=c.coerce(u,f,{side:{valType:"enumerated",values:T==="x"?["bottom","top"]:["left","right"],dflt:m}},"side");E==="free"&&(T==="y"&&(h("autoshift")&&(v=A==="left"?S[0]:S[1],_=!f.automargin||f.automargin,y=A==="left"?-3:3),h("shift",y)),h("position",v)),h("automargin",_);var O=!1;if(w.length&&(O=c.coerce(u,f,{overlaying:{valType:"enumerated",values:[!1].concat(w),dflt:!1}},"overlaying")),!O){var N=h("domain",g);N[0]>N[1]-.000244140625&&(f.domain=g),c.noneOrAll(u.domain,f.domain,g),f.tickmode==="sync"&&(f.tickmode="auto")}return h("layer"),f}},9426:function(a,s,o){var l=o(9652);a.exports=function(c,u,f,h,d){d||(d={});var p=d.tickSuffixDflt,g=l(c);f("tickprefix")&&f("showtickprefix",g),f("ticksuffix",p)&&f("showticksuffix",g)}},2449:function(a,s,o){var l=o(8783).FROM_BL;a.exports=function(c,u,f){f===void 0&&(f=l[c.constraintoward||"center"]);var h=[c.r2l(c.range[0]),c.r2l(c.range[1])],d=h[0]+(h[1]-h[0])*f;c.range=c._input.range=[c.l2r(d+(h[0]-d)*u),c.l2r(d+(h[1]-d)*u)],c.setScale()}},1994:function(a,s,o){var l=o(9898),c=o(4096).g0,u=o(1828),f=u.numberFormat,h=o(2770),d=u.cleanNumber,p=u.ms2DateTime,g=u.dateTime2ms,m=u.ensureNumber,v=u.isArrayOrTypedArray,y=o(606),_=y.FP_SAFE,b=y.BADNUM,w=y.LOG_CLIP,T=y.ONEWEEK,M=y.ONEDAY,S=y.ONEHOUR,E=y.ONEMIN,A=y.ONESEC,O=o(1675),N=o(5555),F=N.HOUR_PATTERN,P=N.WEEKDAY_PATTERN;function R(I){return Math.pow(10,I)}function k(I){return I!=null}a.exports=function(I,j){j=j||{};var G=I._id||"x",q=G.charAt(0);function et(H,$){if(H>0)return Math.log(H)/Math.LN10;if(H<=0&&$&&I.range&&I.range.length===2){var Z=I.range[0],Q=I.range[1];return .5*(Z+Q-2*w*Math.abs(Z-Q))}return b}function U(H,$,Z,Q){if((Q||{}).msUTC&&h(H))return+H;var ot=g(H,Z||I.calendar);if(ot===b){if(!h(H))return b;H=+H;var st=Math.floor(10*u.mod(H+.05,1)),dt=Math.round(H-st/10);ot=g(new Date(dt))+st/10}return ot}function J(H,$,Z){return p(H,$,Z||I.calendar)}function nt(H){return I._categories[Math.round(H)]}function ct(H){if(k(H)){if(I._categoriesMap===void 0&&(I._categoriesMap={}),I._categoriesMap[H]!==void 0)return I._categoriesMap[H];I._categories.push(typeof H=="number"?String(H):H);var $=I._categories.length-1;return I._categoriesMap[H]=$,$}return b}function z(H){if(I._categoriesMap)return I._categoriesMap[H]}function W(H){var $=z(H);return $!==void 0?$:h(H)?+H:void 0}function X(H){return h(H)?+H:z(H)}function it(H,$,Z){return l.round(Z+$*H,2)}function lt(H,$,Z){return(H-Z)/$}var pt=function(H){return h(H)?it(H,I._m,I._b):b},rt=function(H){return lt(H,I._m,I._b)};if(I.rangebreaks){var V=q==="y";pt=function(H){if(!h(H))return b;var $=I._rangebreaks.length;if(!$)return it(H,I._m,I._b);var Z=V;I.range[0]>I.range[1]&&(Z=!Z);for(var Q=Z?-1:1,ot=Q*H,st=0,dt=0;dt<$;dt++){var bt=Q*I._rangebreaks[dt].min,Pt=Q*I._rangebreaks[dt].max;if(ot<bt)break;if(!(ot>Pt)){st=ot<(bt+Pt)/2?dt:dt+1;break}st=dt+1}var It=I._B[st]||0;return isFinite(It)?it(H,I._m2,It):0},rt=function(H){var $=I._rangebreaks.length;if(!$)return lt(H,I._m,I._b);for(var Z=0,Q=0;Q<$&&!(H<I._rangebreaks[Q].pmin);Q++)H>I._rangebreaks[Q].pmax&&(Z=Q+1);return lt(H,I._m2,I._B[Z])}}I.c2l=I.type==="log"?et:m,I.l2c=I.type==="log"?R:m,I.l2p=pt,I.p2l=rt,I.c2p=I.type==="log"?function(H,$){return pt(et(H,$))}:pt,I.p2c=I.type==="log"?function(H){return R(rt(H))}:rt,["linear","-"].indexOf(I.type)!==-1?(I.d2r=I.r2d=I.d2c=I.r2c=I.d2l=I.r2l=d,I.c2d=I.c2r=I.l2d=I.l2r=m,I.d2p=I.r2p=function(H){return I.l2p(d(H))},I.p2d=I.p2r=rt,I.cleanPos=m):I.type==="log"?(I.d2r=I.d2l=function(H,$){return et(d(H),$)},I.r2d=I.r2c=function(H){return R(d(H))},I.d2c=I.r2l=d,I.c2d=I.l2r=m,I.c2r=et,I.l2d=R,I.d2p=function(H,$){return I.l2p(I.d2r(H,$))},I.p2d=function(H){return R(rt(H))},I.r2p=function(H){return I.l2p(d(H))},I.p2r=rt,I.cleanPos=m):I.type==="date"?(I.d2r=I.r2d=u.identity,I.d2c=I.r2c=I.d2l=I.r2l=U,I.c2d=I.c2r=I.l2d=I.l2r=J,I.d2p=I.r2p=function(H,$,Z){return I.l2p(U(H,0,Z))},I.p2d=I.p2r=function(H,$,Z){return J(rt(H),$,Z)},I.cleanPos=function(H){return u.cleanDate(H,b,I.calendar)}):I.type==="category"?(I.d2c=I.d2l=ct,I.r2d=I.c2d=I.l2d=nt,I.d2r=I.d2l_noadd=W,I.r2c=function(H){var $=X(H);return $!==void 0?$:I.fraction2r(.5)},I.l2r=I.c2r=m,I.r2l=X,I.d2p=function(H){return I.l2p(I.r2c(H))},I.p2d=function(H){return nt(rt(H))},I.r2p=I.d2p,I.p2r=rt,I.cleanPos=function(H){return typeof H=="string"&&H!==""?H:m(H)}):I.type==="multicategory"&&(I.r2d=I.c2d=I.l2d=nt,I.d2r=I.d2l_noadd=W,I.r2c=function(H){var $=W(H);return $!==void 0?$:I.fraction2r(.5)},I.r2c_just_indices=z,I.l2r=I.c2r=m,I.r2l=W,I.d2p=function(H){return I.l2p(I.r2c(H))},I.p2d=function(H){return nt(rt(H))},I.r2p=I.d2p,I.p2r=rt,I.cleanPos=function(H){return Array.isArray(H)||typeof H=="string"&&H!==""?H:m(H)},I.setupMultiCategory=function(H){var $,Z,Q=I._traceIndices,ot=I._matchGroup;if(ot&&I._categories.length===0){for(var st in ot)if(st!==G){var dt=j[O.id2name(st)];Q=Q.concat(dt._traceIndices)}}var bt=[[0,{}],[0,{}]],Pt=[];for($=0;$<Q.length;$++){var It=H[Q[$]];if(q in It){var Dt=It[q],gt=It._length||u.minRowLength(Dt);if(v(Dt[0])&&v(Dt[1]))for(Z=0;Z<gt;Z++){var _t=Dt[0][Z],wt=Dt[1][Z];k(_t)&&k(wt)&&(Pt.push([_t,wt]),_t in bt[0][1]||(bt[0][1][_t]=bt[0][0]++),wt in bt[1][1]||(bt[1][1][wt]=bt[1][0]++))}}}for(Pt.sort(function(Et,ht){var vt=bt[0][1],Ct=vt[Et[0]]-vt[ht[0]];if(Ct)return Ct;var Mt=bt[1][1];return Mt[Et[1]]-Mt[ht[1]]}),$=0;$<Pt.length;$++)ct(Pt[$])}),I.fraction2r=function(H){var $=I.r2l(I.range[0]),Z=I.r2l(I.range[1]);return I.l2r($+H*(Z-$))},I.r2fraction=function(H){var $=I.r2l(I.range[0]),Z=I.r2l(I.range[1]);return(I.r2l(H)-$)/(Z-$)},I.limitRange=function(H){var $=I.minallowed,Z=I.maxallowed;if($!==void 0||Z!==void 0){H||(H="range");var Q=u.nestedProperty(I,H).get(),ot=u.simpleMap(Q,I.r2l),st=ot[1]<ot[0];st&&ot.reverse();var dt=u.simpleMap([$,Z],I.r2l);$!==void 0&&ot[0]<dt[0]&&(Q[st?1:0]=$),Z!==void 0&&ot[1]>dt[1]&&(Q[st?0:1]=Z)}},I.cleanRange=function(H,$){I._cleanRange(H,$),I.limitRange(H)},I._cleanRange=function(H,$){$||($={}),H||(H="range");var Z,Q,ot=u.nestedProperty(I,H).get();if(Q=(Q=I.type==="date"?u.dfltRange(I.calendar):q==="y"?N.DFLTRANGEY:I._name==="realaxis"?[0,1]:$.dfltRange||N.DFLTRANGEX).slice(),I.rangemode!=="tozero"&&I.rangemode!=="nonnegative"||(Q[0]=0),ot&&ot.length===2){var st=ot[0]===null,dt=ot[1]===null;for(I.type!=="date"||I.autorange||(ot[0]=u.cleanDate(ot[0],b,I.calendar),ot[1]=u.cleanDate(ot[1],b,I.calendar)),Z=0;Z<2;Z++)if(I.type==="date"){if(!u.isDateTime(ot[Z],I.calendar)){I[H]=Q;break}if(I.r2l(ot[0])===I.r2l(ot[1])){var bt=u.constrain(I.r2l(ot[0]),u.MIN_MS+1e3,u.MAX_MS-1e3);ot[0]=I.l2r(bt-1e3),ot[1]=I.l2r(bt+1e3);break}}else{if(!h(ot[Z])){if(st||dt||!h(ot[1-Z])){I[H]=Q;break}ot[Z]=ot[1-Z]*(Z?10:.1)}if(ot[Z]<-_?ot[Z]=-_:ot[Z]>_&&(ot[Z]=_),ot[0]===ot[1]){var Pt=Math.max(1,Math.abs(1e-6*ot[0]));ot[0]-=Pt,ot[1]+=Pt}}}else u.nestedProperty(I,H).set(Q)},I.setScale=function(H){var $=j._size;if(I.overlaying){var Z=O.getFromId({_fullLayout:j},I.overlaying);I.domain=Z.domain}var Q=H&&I._r?"_r":"range",ot=I.calendar;I.cleanRange(Q);var st,dt,bt=I.r2l(I[Q][0],ot),Pt=I.r2l(I[Q][1],ot),It=q==="y";if(It?(I._offset=$.t+(1-I.domain[1])*$.h,I._length=$.h*(I.domain[1]-I.domain[0]),I._m=I._length/(bt-Pt),I._b=-I._m*Pt):(I._offset=$.l+I.domain[0]*$.w,I._length=$.w*(I.domain[1]-I.domain[0]),I._m=I._length/(Pt-bt),I._b=-I._m*bt),I._rangebreaks=[],I._lBreaks=0,I._m2=0,I._B=[],I.rangebreaks&&(I._rangebreaks=I.locateBreaks(Math.min(bt,Pt),Math.max(bt,Pt)),I._rangebreaks.length)){for(st=0;st<I._rangebreaks.length;st++)dt=I._rangebreaks[st],I._lBreaks+=Math.abs(dt.max-dt.min);var Dt=It;bt>Pt&&(Dt=!Dt),Dt&&I._rangebreaks.reverse();var gt=Dt?-1:1;for(I._m2=gt*I._length/(Math.abs(Pt-bt)-I._lBreaks),I._B.push(-I._m2*(It?Pt:bt)),st=0;st<I._rangebreaks.length;st++)dt=I._rangebreaks[st],I._B.push(I._B[I._B.length-1]-gt*I._m2*(dt.max-dt.min));for(st=0;st<I._rangebreaks.length;st++)(dt=I._rangebreaks[st]).pmin=pt(dt.min),dt.pmax=pt(dt.max)}if(!isFinite(I._m)||!isFinite(I._b)||I._length<0)throw j._replotting=!1,new Error("Something went wrong with axis scaling")},I.maskBreaks=function(H){var $,Z,Q,ot,st,dt=I.rangebreaks||[];dt._cachedPatterns||(dt._cachedPatterns=dt.map(function(_t){return _t.enabled&&_t.bounds?u.simpleMap(_t.bounds,_t.pattern?d:I.d2c):null})),dt._cachedValues||(dt._cachedValues=dt.map(function(_t){return _t.enabled&&_t.values?u.simpleMap(_t.values,I.d2c).sort(u.sorterAsc):null}));for(var bt=0;bt<dt.length;bt++){var Pt=dt[bt];if(Pt.enabled){if(Pt.bounds){var It=Pt.pattern;switch(Z=($=dt._cachedPatterns[bt])[0],Q=$[1],It){case P:ot=(st=new Date(H)).getUTCDay(),Z>Q&&(Q+=7,ot<Z&&(ot+=7));break;case F:ot=(st=new Date(H)).getUTCHours()+(st.getUTCMinutes()/60+st.getUTCSeconds()/3600+st.getUTCMilliseconds()/36e5),Z>Q&&(Q+=24,ot<Z&&(ot+=24));break;case"":ot=H}if(ot>=Z&&ot<Q)return b}else for(var Dt=dt._cachedValues[bt],gt=0;gt<Dt.length;gt++)if(Q=(Z=Dt[gt])+Pt.dvalue,H>=Z&&H<Q)return b}}return H},I.locateBreaks=function(H,$){var Z,Q,ot,st,dt=[];if(!I.rangebreaks)return dt;var bt=I.rangebreaks.slice().sort(function(Mt,Nt){return Mt.pattern===P&&Nt.pattern===F?-1:Nt.pattern===P&&Mt.pattern===F?1:0}),Pt=function(Mt,Nt){if((Mt=u.constrain(Mt,H,$))!==(Nt=u.constrain(Nt,H,$))){for(var Rt=!0,At=0;At<dt.length;At++){var kt=dt[At];Mt<kt.max&&Nt>=kt.min&&(Mt<kt.min&&(kt.min=Mt),Nt>kt.max&&(kt.max=Nt),Rt=!1)}Rt&&dt.push({min:Mt,max:Nt})}};for(Z=0;Z<bt.length;Z++){var It=bt[Z];if(It.enabled)if(It.bounds){var Dt=H,gt=$;It.pattern&&(Dt=Math.floor(Dt)),ot=(Q=u.simpleMap(It.bounds,It.pattern?d:I.r2l))[0],st=Q[1];var _t,wt,Et=new Date(Dt);switch(It.pattern){case P:wt=T,_t=(st-ot+(st<ot?7:0))*M,Dt+=ot*M-(Et.getUTCDay()*M+Et.getUTCHours()*S+Et.getUTCMinutes()*E+Et.getUTCSeconds()*A+Et.getUTCMilliseconds());break;case F:wt=M,_t=(st-ot+(st<ot?24:0))*S,Dt+=ot*S-(Et.getUTCHours()*S+Et.getUTCMinutes()*E+Et.getUTCSeconds()*A+Et.getUTCMilliseconds());break;default:Dt=Math.min(Q[0],Q[1]),_t=wt=(gt=Math.max(Q[0],Q[1]))-Dt}for(var ht=Dt;ht<gt;ht+=wt)Pt(ht,ht+_t)}else for(var vt=u.simpleMap(It.values,I.d2c),Ct=0;Ct<vt.length;Ct++)Pt(ot=vt[Ct],st=ot+It.dvalue)}return dt.sort(function(Mt,Nt){return Mt.min-Nt.min}),dt},I.makeCalcdata=function(H,$,Z){var Q,ot,st,dt,bt=I.type,Pt=bt==="date"&&H[$+"calendar"];if($ in H){if(Q=H[$],dt=H._length||u.minRowLength(Q),u.isTypedArray(Q)&&(bt==="linear"||bt==="log")){if(dt===Q.length)return Q;if(Q.subarray)return Q.subarray(0,dt)}if(bt==="multicategory")return function(gt,_t){for(var wt=new Array(_t),Et=0;Et<_t;Et++){var ht=(gt[0]||[])[Et],vt=(gt[1]||[])[Et];wt[Et]=z([ht,vt])}return wt}(Q,dt);for(ot=new Array(dt),st=0;st<dt;st++)ot[st]=I.d2c(Q[st],0,Pt,Z)}else{var It=$+"0"in H?I.d2c(H[$+"0"],0,Pt):0,Dt=H["d"+$]?Number(H["d"+$]):1;for(Q=H[{x:"y",y:"x"}[$]],dt=H._length||Q.length,ot=new Array(dt),st=0;st<dt;st++)ot[st]=It+st*Dt}if(I.rangebreaks)for(st=0;st<dt;st++)ot[st]=I.maskBreaks(ot[st]);return ot},I.isValidRange=function(H,$){return Array.isArray(H)&&H.length===2&&($&&H[0]===null||h(I.r2l(H[0])))&&($&&H[1]===null||h(I.r2l(H[1])))},I.getAutorangeDflt=function(H,$){var Z=!I.isValidRange(H,"nullOk");return Z&&$&&$.reverseDflt?Z="reversed":H&&(H[0]===null&&H[1]===null?Z=!0:H[0]===null&&H[1]!==null?Z="min":H[0]!==null&&H[1]===null&&(Z="max")),Z},I.isReversed=function(){var H=I.autorange;return H==="reversed"||H==="min reversed"||H==="max reversed"},I.isPtWithinRange=function(H,$){var Z=I.c2l(H[q],null,$),Q=I.r2l(I.range[0]),ot=I.r2l(I.range[1]);return Q<ot?Q<=Z&&Z<=ot:ot<=Z&&Z<=Q},I._emptyCategories=function(){I._categories=[],I._categoriesMap={}},I.clearCalc=function(){var H=I._matchGroup;if(H){var $=null,Z=null;for(var Q in H){var ot=j[O.id2name(Q)];if(ot._categories){$=ot._categories,Z=ot._categoriesMap;break}}$&&Z?(I._categories=$,I._categoriesMap=Z):I._emptyCategories()}else I._emptyCategories();if(I._initialCategories)for(var st=0;st<I._initialCategories.length;st++)ct(I._initialCategories[st])},I.sortByInitialCategories=function(){var H=[];if(I._emptyCategories(),I._initialCategories)for(var $=0;$<I._initialCategories.length;$++)ct(I._initialCategories[$]);H=H.concat(I._traceIndices);var Z=I._matchGroup;for(var Q in Z)if(G!==Q){var ot=j[O.id2name(Q)];ot._categories=I._categories,ot._categoriesMap=I._categoriesMap,H=H.concat(ot._traceIndices)}return H};var B=j._d3locale;I.type==="date"&&(I._dateFormat=B?B.timeFormat:c,I._extraFormat=j._extraFormat),I._separators=j.separators,I._numFormat=B?B.numberFormat:f,delete I._minDtick,delete I._forceTick0}},9652:function(a){a.exports=function(s){var o=["showexponent","showtickprefix","showticksuffix"].filter(function(l){return s[l]!==void 0});if(o.every(function(l){return s[l]===s[o[0]]})||o.length===1)return s[o[0]]}},6115:function(a,s,o){var l=o(1828),c=o(7901).contrast,u=o(3838),f=o(9652),h=o(5501);function d(p,g){function m(v,y){return l.coerce(p,g,u.tickformatstops,v,y)}m("enabled")&&(m("dtickrange"),m("value"))}a.exports=function(p,g,m,v,y){y||(y={});var _=m("labelalias");l.isPlainObject(_)||delete g.labelalias;var b=f(p);if(m("showticklabels")){var w=y.font||{},T=g.color,M=(g.ticklabelposition||"").indexOf("inside")!==-1?c(y.bgColor):T&&T!==u.color.dflt?T:w.color;if(l.coerceFont(m,"tickfont",{family:w.family,size:w.size,color:M}),y.noTicklabelstep||v==="multicategory"||v==="log"||m("ticklabelstep"),y.noAng||m("tickangle"),v!=="category"){var S=m("tickformat");h(p,g,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:d}),g.tickformatstops.length||delete g.tickformatstops,y.noExp||S||v==="date"||(m("showexponent",b),m("exponentformat"),m("minexponent"),m("separatethousands"))}}}},8701:function(a,s,o){var l=o(1828),c=o(3838);a.exports=function(u,f,h,d){var p=d.isMinor,g=p?u.minor||{}:u,m=p?f.minor:f,v=p?c.minor:c,y=p?"minor.":"",_=l.coerce2(g,m,v,"ticklen",p?.6*(f.ticklen||5):void 0),b=l.coerce2(g,m,v,"tickwidth",p?f.tickwidth||1:void 0),w=l.coerce2(g,m,v,"tickcolor",(p?f.tickcolor:void 0)||m.color);h(y+"ticks",!p&&d.outerTicks||_||b||w?"outside":"")||(delete m.ticklen,delete m.tickwidth,delete m.tickcolor)}},6218:function(a,s,o){var l=o(6287),c=o(1828).isArrayOrTypedArray;a.exports=function(u,f,h,d,p){p||(p={});var g=p.isMinor,m=g?u.minor||{}:u,v=g?f.minor:f,y=g?"minor.":"";function _(E){var A=m[E];return A!==void 0?A:(v._template||{})[E]}var b=_("tick0"),w=_("dtick"),T=_("tickvals"),M=h(y+"tickmode",c(T)?"array":w?"linear":"auto");if(M==="auto"||M==="sync")h(y+"nticks");else if(M==="linear"){var S=v.dtick=l.dtick(w,d);v.tick0=l.tick0(b,d,f.calendar,S)}else d!=="multicategory"&&(h(y+"tickvals")===void 0?v.tickmode="auto":g||h("ticktext"))}},6847:function(a,s,o){var l=o(9898),c=o(3972),u=o(1828),f=o(1424),h=o(9298);a.exports=function(d,p,g,m){var v=d._fullLayout;if(p.length!==0){var y,_,b,w;m&&(y=m());var T=l.ease(g.easing);return d._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(w),w=null,function(){for(var E={},A=0;A<p.length;A++){var O=p[A],N=O.plotinfo.xaxis,F=O.plotinfo.yaxis;O.xr0&&(E[N._name+".range"]=O.xr0.slice()),O.yr0&&(E[F._name+".range"]=O.yr0.slice())}return c.call("relayout",d,E).then(function(){for(var P=0;P<p.length;P++)M(p[P].plotinfo)})}()}),_=Date.now(),w=window.requestAnimationFrame(function E(){b=Date.now();for(var A=Math.min(1,(b-_)/g.duration),O=T(A),N=0;N<p.length;N++)S(p[N],O);b-_>g.duration?(function(){for(var F={},P=0;P<p.length;P++){var R=p[P],k=R.plotinfo.xaxis,I=R.plotinfo.yaxis;R.xr1&&(F[k._name+".range"]=R.xr1.slice()),R.yr1&&(F[I._name+".range"]=R.yr1.slice())}y&&y(),c.call("relayout",d,F).then(function(){for(var j=0;j<p.length;j++)M(p[j].plotinfo)})}(),w=window.cancelAnimationFrame(E)):w=window.requestAnimationFrame(E)}),Promise.resolve()}function M(E){var A=E.xaxis,O=E.yaxis;v._defs.select("#"+E.clipId+"> rect").call(f.setTranslate,0,0).call(f.setScale,1,1),E.plot.call(f.setTranslate,A._offset,O._offset).call(f.setScale,1,1);var N=E.plot.selectAll(".scatterlayer .trace");N.selectAll(".point").call(f.setPointGroupScale,1,1),N.selectAll(".textpoint").call(f.setTextPointsScale,1,1),N.call(f.hideOutsideRangePoints,E)}function S(E,A){var O=E.plotinfo,N=O.xaxis,F=O.yaxis,P=N._length,R=F._length,k=!!E.xr1,I=!!E.yr1,j=[];if(k){var G=u.simpleMap(E.xr0,N.r2l),q=u.simpleMap(E.xr1,N.r2l),et=G[1]-G[0],U=q[1]-q[0];j[0]=(G[0]*(1-A)+A*q[0]-G[0])/(G[1]-G[0])*P,j[2]=P*(1-A+A*U/et),N.range[0]=N.l2r(G[0]*(1-A)+A*q[0]),N.range[1]=N.l2r(G[1]*(1-A)+A*q[1])}else j[0]=0,j[2]=P;if(I){var J=u.simpleMap(E.yr0,F.r2l),nt=u.simpleMap(E.yr1,F.r2l),ct=J[1]-J[0],z=nt[1]-nt[0];j[1]=(J[1]*(1-A)+A*nt[1]-J[1])/(J[0]-J[1])*R,j[3]=R*(1-A+A*z/ct),F.range[0]=N.l2r(J[0]*(1-A)+A*nt[0]),F.range[1]=F.l2r(J[1]*(1-A)+A*nt[1])}else j[1]=0,j[3]=R;h.drawOne(d,N,{skipTitle:!0}),h.drawOne(d,F,{skipTitle:!0}),h.redrawComponents(d,[N._id,F._id]);var W=k?P/j[2]:1,X=I?R/j[3]:1,it=k?j[0]:0,lt=I?j[1]:0,pt=k?j[0]/j[2]*P:0,rt=I?j[1]/j[3]*R:0,V=N._offset-pt,B=F._offset-rt;O.clipRect.call(f.setTranslate,it,lt).call(f.setScale,1/W,1/X),O.plot.call(f.setTranslate,V,B).call(f.setScale,W,X),f.setPointGroupScale(O.zoomScalePts,1/W,1/X),f.setTextPointsScale(O.zoomScaleTxt,1/W,1/X)}h.redrawComponents(d)}},951:function(a,s,o){var l=o(3972).traceIs,c=o(4322);function u(h){return{v:"x",h:"y"}[h.orientation||"v"]}function f(h,d){var p=u(h),g=l(h,"box-violin"),m=l(h._fullInput||{},"candlestick");return g&&!m&&d===p&&h[p]===void 0&&h[p+"0"]===void 0}a.exports=function(h,d,p,g){p("autotypenumbers",g.autotypenumbersDflt),p("type",(g.splomStash||{}).type)==="-"&&(function(m,v){if(m.type==="-"){var y,_=m._id,b=_.charAt(0);_.indexOf("scene")!==-1&&(_=b);var w=function(F,P,R){for(var k=0;k<F.length;k++){var I=F[k];if(I.type==="splom"&&I._length>0&&(I["_"+R+"axes"]||{})[P]||(I[R+"axis"]||R)===P&&(f(I,R)||(I[R]||[]).length||I[R+"0"]))return I}}(v,_,b);if(w)if(w.type!=="histogram"||b!=={v:"y",h:"x"}[w.orientation||"v"]){var T=b+"calendar",M=w[T],S={noMultiCategory:!l(w,"cartesian")||l(w,"noMultiCategory")};if(w.type==="box"&&w._hasPreCompStats&&b==={h:"x",v:"y"}[w.orientation||"v"]&&(S.noMultiCategory=!0),S.autotypenumbers=m.autotypenumbers,f(w,b)){var E=u(w),A=[];for(y=0;y<v.length;y++){var O=v[y];l(O,"box-violin")&&(O[b+"axis"]||b)===_&&(O[E]!==void 0?A.push(O[E][0]):O.name!==void 0?A.push(O.name):A.push("text"),O[T]!==M&&(M=void 0))}m.type=c(A,M,S)}else if(w.type==="splom"){var N=w.dimensions[w._axesDim[_]];N.visible&&(m.type=c(N.values,M,S))}else m.type=c(w[b]||[w[b+"0"]],M,S)}else m.type="linear"}}(d,g.data),d.type==="-"?d.type="linear":h.type=d.type)}},1137:function(a,s,o){var l=o(3972),c=o(1828);function u(p,g,m){var v,y,_,b=!1;if(g.type==="data")v=p._fullData[g.traces!==null?g.traces[0]:0];else{if(g.type!=="layout")return!1;v=p._fullLayout}return y=c.nestedProperty(v,g.prop).get(),(_=m[g.type]=m[g.type]||{}).hasOwnProperty(g.prop)&&_[g.prop]!==y&&(b=!0),_[g.prop]=y,{changed:b,value:y}}function f(p,g){var m=[],v=g[0],y={};if(typeof v=="string")y[v]=g[1];else{if(!c.isPlainObject(v))return m;y=v}return d(y,function(_,b,w){m.push({type:"layout",prop:_,value:w})},"",0),m}function h(p,g){var m,v,y,_,b=[];if(v=g[0],y=g[1],m=g[2],_={},typeof v=="string")_[v]=y;else{if(!c.isPlainObject(v))return b;_=v,m===void 0&&(m=y)}return m===void 0&&(m=null),d(_,function(w,T,M){var S,E;if(Array.isArray(M)){E=M.slice();var A=Math.min(E.length,p.data.length);m&&(A=Math.min(A,m.length)),S=[];for(var O=0;O<A;O++)S[O]=m?m[O]:O}else E=M,S=m?m.slice():null;if(S===null)Array.isArray(E)&&(E=E[0]);else if(Array.isArray(S)){if(!Array.isArray(E)){var N=E;E=[];for(var F=0;F<S.length;F++)E[F]=N}E.length=Math.min(S.length,E.length)}b.push({type:"data",prop:w,traces:S,value:E})},"",0),b}function d(p,g,m,v){Object.keys(p).forEach(function(y){var _=p[y];if(y[0]!=="_"){var b=m+(v>0?".":"")+y;c.isPlainObject(_)?d(_,g,b,v+1):g(b,y,_)}})}s.manageCommandObserver=function(p,g,m,v){var y={},_=!0;g&&g._commandObserver&&(y=g._commandObserver),y.cache||(y.cache={}),y.lookupTable={};var b=s.hasSimpleAPICommandBindings(p,m,y.lookupTable);if(g&&g._commandObserver){if(b)return y;if(g._commandObserver.remove)return g._commandObserver.remove(),g._commandObserver=null,y}if(b){u(p,b,y.cache),y.check=function(){if(_){var M=u(p,b,y.cache);return M.changed&&v&&y.lookupTable[M.value]!==void 0&&(y.disable(),Promise.resolve(v({value:M.value,type:b.type,prop:b.prop,traces:b.traces,index:y.lookupTable[M.value]})).then(y.enable,y.enable)),M.changed}};for(var w=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],T=0;T<w.length;T++)p._internalOn(w[T],y.check);y.remove=function(){for(var M=0;M<w.length;M++)p._removeInternalListener(w[M],y.check)}}else c.log("Unable to automatically bind plot updates to API command"),y.lookupTable={},y.remove=function(){};return y.disable=function(){_=!1},y.enable=function(){_=!0},g&&(g._commandObserver=y),y},s.hasSimpleAPICommandBindings=function(p,g,m){var v,y,_=g.length;for(v=0;v<_;v++){var b,w=g[v],T=w.method,M=w.args;if(Array.isArray(M)||(M=[]),!T)return!1;var S=s.computeAPICommandBindings(p,T,M);if(S.length!==1)return!1;if(y){if((b=S[0]).type!==y.type||b.prop!==y.prop)return!1;if(Array.isArray(y.traces)){if(!Array.isArray(b.traces))return!1;b.traces.sort();for(var E=0;E<y.traces.length;E++)if(y.traces[E]!==b.traces[E])return!1}else if(b.prop!==y.prop)return!1}else y=S[0],Array.isArray(y.traces)&&y.traces.sort();var A=(b=S[0]).value;if(Array.isArray(A)){if(A.length!==1)return!1;A=A[0]}m&&(m[A]=v)}return y},s.executeAPICommand=function(p,g,m){if(g==="skip")return Promise.resolve();var v=l.apiMethodRegistry[g],y=[p];Array.isArray(m)||(m=[]);for(var _=0;_<m.length;_++)y.push(m[_]);return v.apply(null,y).catch(function(b){return c.warn("API call to Plotly."+g+" rejected.",b),Promise.reject(b)})},s.computeAPICommandBindings=function(p,g,m){var v;switch(Array.isArray(m)||(m=[]),g){case"restyle":v=h(p,m);break;case"relayout":v=f(0,m);break;case"update":v=h(p,[m[0],m[2]]).concat(f(0,[m[1]]));break;case"animate":v=function(y,_){return Array.isArray(_[0])&&_[0].length===1&&["string","number"].indexOf(typeof _[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:_[0][0].toString()}]:[]}(0,m);break;default:v=[]}return v}},7670:function(a,s,o){var l=o(1426).extendFlat;s.Y=function(c,u){u=u||{};var f={valType:"info_array",editType:(c=c||{}).editType,items:[{valType:"number",min:0,max:1,editType:c.editType},{valType:"number",min:0,max:1,editType:c.editType}],dflt:[0,1]},h=(c.name&&c.name,c.trace,u.description&&u.description,{x:l({},f,{}),y:l({},f,{}),editType:c.editType});return c.noGridCell||(h.row={valType:"integer",min:0,dflt:0,editType:c.editType},h.column={valType:"integer",min:0,dflt:0,editType:c.editType}),h},s.c=function(c,u,f,h){var d=h&&h.x||[0,1],p=h&&h.y||[0,1],g=u.grid;if(g){var m=f("domain.column");m!==void 0&&(m<g.columns?d=g._domains.x[m]:delete c.domain.column);var v=f("domain.row");v!==void 0&&(v<g.rows?p=g._domains.y[v]:delete c.domain.row)}var y=f("domain.x",d),_=f("domain.y",p);y[0]<y[1]||(c.domain.x=d.slice()),_[0]<_[1]||(c.domain.y=p.slice())}},1940:function(a){a.exports=function(s){var o=s.editType,l=s.colorEditType;l===void 0&&(l=o);var c={family:{valType:"string",noBlank:!0,strict:!0,editType:o},size:{valType:"number",min:1,editType:o},color:{valType:"color",editType:l},editType:o};return s.autoSize&&(c.size.dflt="auto"),s.autoColor&&(c.color.dflt="auto"),s.arrayOk&&(c.family.arrayOk=!0,c.size.arrayOk=!0,c.color.arrayOk=!0),c}},1391:function(a){a.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},7659:function(a,s,o){var l=o(3972);o(5555).SUBPLOT_PATTERN,s.a0=function(c,u){var f,h=[],d=[];if(!(f=typeof u=="string"?l.getModule(u).plot:typeof u=="function"?u:u.plot))return[h,c];for(var p=0;p<c.length;p++){var g=c[p],m=g[0].trace;m.visible===!0&&m._length!==0&&(m._module&&m._module.plot===f?h.push(g):d.push(g))}return[h,d]}},3538:function(a){function s(o,l){var c,u,f=[0,0,0,0];for(c=0;c<4;++c)for(u=0;u<4;++u)f[u]+=o[4*c+u]*l[c];return f}a.exports=function(o,l){return s(o.projection,s(o.view,s(o.model,[l[0],l[1],l[2],1])))}},820:function(a,s,o){var l=o(1940),c=o(5594),u=o(2399),f=o(9241),h=o(3777),d=o(5025),p=o(1426).extendFlat,g=l({editType:"calc"});g.family.dflt='"Open Sans", verdana, arial, sans-serif',g.size.dflt=12,g.color.dflt=u.defaultLine,a.exports={font:g,title:{text:{valType:"string",editType:"layoutstyle"},font:l({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:p(d({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:u.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:u.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:u.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:f.newshape,activeshape:f.activeshape,newselection:h.newselection,activeselection:h.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:p({},c.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:l({editType:"layoutstyle"})}}},5025:function(a){a.exports=function(s){var o=s.editType;return{t:{valType:"number",dflt:0,editType:o},r:{valType:"number",dflt:0,editType:o},b:{valType:"number",dflt:0,editType:o},l:{valType:"number",dflt:0,editType:o},editType:o}}},4875:function(a,s,o){var l=o(9898),c=o(4096).Dq,u=o(721).FF,f=o(2770),h=o(3972),d=o(6281),p=o(4467),g=o(1828),m=o(7901),v=o(606).BADNUM,y=o(1675),_=o(1873).clearOutline,b=o(1479),w=o(5594),T=o(1391),M=o(7659).a0,S=g.relinkPrivateKeys,E=g._,A=a.exports={};g.extendFlat(A,h),A.attributes=o(9012),A.attributes.type.values=A.allTypes,A.fontAttrs=o(1940),A.layoutAttributes=o(820),A.fontWeight="normal";var O=A.transformsRegistry,N=o(1137);A.executeAPICommand=N.executeAPICommand,A.computeAPICommandBindings=N.computeAPICommandBindings,A.manageCommandObserver=N.manageCommandObserver,A.hasSimpleAPICommandBindings=N.hasSimpleAPICommandBindings,A.redrawText=function(z){return z=g.getGraphDiv(z),new Promise(function(W){setTimeout(function(){z._fullLayout&&(h.getComponentMethod("annotations","draw")(z),h.getComponentMethod("legend","draw")(z),h.getComponentMethod("colorbar","draw")(z),W(A.previousPromises(z)))},300)})},A.resize=function(z){var W;z=g.getGraphDiv(z);var X=new Promise(function(it,lt){z&&!g.isHidden(z)||lt(new Error("Resize must be passed a displayed plot div element.")),z._redrawTimer&&clearTimeout(z._redrawTimer),z._resolveResize&&(W=z._resolveResize),z._resolveResize=it,z._redrawTimer=setTimeout(function(){if(!z.layout||z.layout.width&&z.layout.height||g.isHidden(z))it(z);else{delete z.layout.width,delete z.layout.height;var pt=z.changed;z.autoplay=!0,h.call("relayout",z,{autosize:!0}).then(function(){z.changed=pt,z._resolveResize===it&&(delete z._resolveResize,it(z))})}},100)});return W&&W(X),X},A.previousPromises=function(z){if((z._promises||[]).length)return Promise.all(z._promises).then(function(){z._promises=[]})},A.addLinks=function(z){if(z._context.showLink||z._context.showSources){var W=z._fullLayout,X=g.ensureSingle(W._paper,"text","js-plot-link-container",function(B){B.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:m.defaultLine,"pointer-events":"all"}).each(function(){var H=l.select(this);H.append("tspan").classed("js-link-to-tool",!0),H.append("tspan").classed("js-link-spacer",!0),H.append("tspan").classed("js-sourcelinks",!0)})}),it=X.node(),lt={y:W._paper.attr("height")-9};document.body.contains(it)&&it.getComputedTextLength()>=W.width-20?(lt["text-anchor"]="start",lt.x=5):(lt["text-anchor"]="end",lt.x=W._paper.attr("width")-7),X.attr(lt);var pt=X.select(".js-link-to-tool"),rt=X.select(".js-link-spacer"),V=X.select(".js-sourcelinks");z._context.showSources&&z._context.showSources(z),z._context.showLink&&function(B,H){H.text("");var $=H.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(B._context.linkText+" "+String.fromCharCode(187));if(B._context.sendData)$.on("click",function(){A.sendDataToCloud(B)});else{var Z=window.location.pathname.split("/"),Q=window.location.search;$.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+Z[2].split(".")[0]+"/"+Z[1]+Q})}}(z,pt),rt.text(pt.text()&&V.text()?" - ":"")}},A.sendDataToCloud=function(z){var W=(window.PLOTLYENV||{}).BASE_URL||z._context.plotlyServerURL;if(W){z.emit("plotly_beforeexport");var X=l.select(z).append("div").attr("id","hiddenform").style("display","none"),it=X.append("form").attr({action:W+"/external",method:"post",target:"_blank"});return it.append("input").attr({type:"text",name:"data"}).node().value=A.graphJson(z,!1,"keepdata"),it.node().submit(),X.remove(),z.emit("plotly_afterexport"),!1}};var F=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],P=["year","month","dayMonth","dayMonthYear"];function R(z,W){var X=z._context.locale;X||(X="en-US");var it=!1,lt={};function pt(Z){for(var Q=!0,ot=0;ot<W.length;ot++){var st=W[ot];lt[st]||(Z[st]?lt[st]=Z[st]:Q=!1)}Q&&(it=!0)}for(var rt=0;rt<2;rt++){for(var V=z._context.locales,B=0;B<2;B++){var H=(V[X]||{}).format;if(H&&(pt(H),it))break;V=h.localeRegistry}var $=X.split("-")[0];if(it||$===X)break;X=$}return it||pt(h.localeRegistry.en.format),lt}function k(z,W){var X={_fullLayout:W},it=z._id.charAt(0)==="x",lt=z._mainAxis._anchorAxis,pt="",rt="",V="";if(lt&&(V=lt._mainAxis._id,pt=it?z._id+V:V+z._id),!pt||!W._plots[pt]){pt="";for(var B=z._counterAxes,H=0;H<B.length;H++){var $=B[H],Z=it?z._id+$:$+z._id;rt||(rt=Z);var Q=y.getFromId(X,$);if(V&&Q.overlaying===V){pt=Z;break}}}return pt||rt}function I(z){var W=z.transforms;if(Array.isArray(W)&&W.length)for(var X=0;X<W.length;X++){var it=W[X],lt=it._module||O[it.type];if(lt&&lt.makesData)return!0}return!1}function j(z,W,X,it){for(var lt=z.transforms,pt=[z],rt=0;rt<lt.length;rt++){var V=lt[rt],B=O[V.type];B&&B.transform&&(pt=B.transform(pt,{transform:V,fullTrace:z,fullData:W,layout:X,fullLayout:it,transformIndex:rt}))}return pt}function G(z){return typeof z=="string"&&z.substr(z.length-2)==="px"&&parseFloat(z)}function q(z){var W=z.margin;if(!z._size){var X=z._size={l:Math.round(W.l),r:Math.round(W.r),t:Math.round(W.t),b:Math.round(W.b),p:Math.round(W.pad)};X.w=Math.round(z.width)-X.l-X.r,X.h=Math.round(z.height)-X.t-X.b}z._pushmargin||(z._pushmargin={}),z._pushmarginIds||(z._pushmarginIds={}),z._reservedMargin||(z._reservedMargin={})}A.supplyDefaults=function(z,W){var X=W&&W.skipUpdateCalc,it=z._fullLayout||{};if(it._skipDefaults)delete it._skipDefaults;else{var lt,pt=z._fullLayout={},rt=z.layout||{},V=z._fullData||[],B=z._fullData=[],H=z.data||[],$=z.calcdata||[],Z=z._context||{};z._transitionData||A.createTransitionData(z),pt._dfltTitle={plot:E(z,"Click to enter Plot title"),x:E(z,"Click to enter X axis title"),y:E(z,"Click to enter Y axis title"),colorbar:E(z,"Click to enter Colorscale title"),annotation:E(z,"new text")},pt._traceWord=E(z,"trace");var Q=R(z,F);if(pt._mapboxAccessToken=Z.mapboxAccessToken,it._initialAutoSizeIsDone){var ot=it.width,st=it.height;A.supplyLayoutGlobalDefaults(rt,pt,Q),rt.width||(pt.width=ot),rt.height||(pt.height=st),A.sanitizeMargins(pt)}else{A.supplyLayoutGlobalDefaults(rt,pt,Q);var dt=!rt.width||!rt.height,bt=pt.autosize,Pt=Z.autosizable;dt&&(bt||Pt)?A.plotAutoSize(z,rt,pt):dt&&A.sanitizeMargins(pt),!bt&&dt&&(rt.width=pt.width,rt.height=pt.height)}pt._d3locale=function(zt,Gt){return zt.decimal=Gt.charAt(0),zt.thousands=Gt.charAt(1),{numberFormat:function(Ut){try{Ut=u(zt).format(g.adjustFormat(Ut))}catch{return g.warnBadFormat(Ut),g.noFormat}return Ut},timeFormat:c(zt).utcFormat}}(Q,pt.separators),pt._extraFormat=R(z,P),pt._initialAutoSizeIsDone=!0,pt._dataLength=H.length,pt._modules=[],pt._visibleModules=[],pt._basePlotModules=[];var It=pt._subplots=function(){var zt,Gt,Ut=h.collectableSubplotTypes,ne={};if(!Ut){Ut=[];var te=h.subplotsRegistry;for(var ae in te){var ue=te[ae].attr;if(ue&&(Ut.push(ae),Array.isArray(ue)))for(Gt=0;Gt<ue.length;Gt++)g.pushUnique(Ut,ue[Gt])}}for(zt=0;zt<Ut.length;zt++)ne[Ut[zt]]=[];return ne}(),Dt=pt._splomAxes={x:{},y:{}},gt=pt._splomSubplots={};pt._splomGridDflt={},pt._scatterStackOpts={},pt._firstScatter={},pt._alignmentOpts={},pt._colorAxes={},pt._requestRangeslider={},pt._traceUids=function(zt,Gt){var Ut,ne,te=Gt.length,ae=[];for(Ut=0;Ut<zt.length;Ut++){var ue=zt[Ut]._fullInput;ue!==ne&&ae.push(ue),ne=ue}var pe=ae.length,be=new Array(te),re={};function jt(qt,Ce){be[Ce]=qt,re[qt]=1}function $t(qt,Ce){if(qt&&typeof qt=="string"&&!re[qt])return jt(qt,Ce),!0}for(Ut=0;Ut<te;Ut++){var Jt=Gt[Ut].uid;typeof Jt=="number"&&(Jt=String(Jt)),$t(Jt,Ut)||Ut<pe&&$t(ae[Ut].uid,Ut)||jt(g.randstr(re),Ut)}return be}(V,H),pt._globalTransforms=(z._context||{}).globalTransforms,A.supplyDataDefaults(H,B,rt,pt);var _t=Object.keys(Dt.x),wt=Object.keys(Dt.y);if(_t.length>1&&wt.length>1){for(h.getComponentMethod("grid","sizeDefaults")(rt,pt),lt=0;lt<_t.length;lt++)g.pushUnique(It.xaxis,_t[lt]);for(lt=0;lt<wt.length;lt++)g.pushUnique(It.yaxis,wt[lt]);for(var Et in gt)g.pushUnique(It.cartesian,Et)}if(pt._has=A._hasPlotType.bind(pt),V.length===B.length)for(lt=0;lt<B.length;lt++)S(B[lt],V[lt]);A.supplyLayoutModuleDefaults(rt,pt,B,z._transitionData);var ht=pt._visibleModules,vt=[];for(lt=0;lt<ht.length;lt++){var Ct=ht[lt].crossTraceDefaults;Ct&&g.pushUnique(vt,Ct)}for(lt=0;lt<vt.length;lt++)vt[lt](B,pt);pt._hasOnlyLargeSploms=pt._basePlotModules.length===1&&pt._basePlotModules[0].name==="splom"&&_t.length>15&&wt.length>15&&pt.shapes.length===0&&pt.images.length===0,A.linkSubplots(B,pt,V,it),A.cleanPlot(B,pt,V,it);var Mt=!(!it._has||!it._has("gl2d")),Nt=!(!pt._has||!pt._has("gl2d")),Rt=!(!it._has||!it._has("cartesian"))||Mt,At=!(!pt._has||!pt._has("cartesian"))||Nt;Rt&&!At?it._bgLayer.remove():At&&!Rt&&(pt._shouldCreateBgLayer=!0),it._zoomlayer&&!z._dragging&&_({_fullLayout:it}),function(zt,Gt){var Ut,ne=[];Gt.meta&&(Ut=Gt._meta={meta:Gt.meta,layout:{meta:Gt.meta}});for(var te=0;te<zt.length;te++){var ae=zt[te];ae.meta?ne[ae.index]=ae._meta={meta:ae.meta}:Gt.meta&&(ae._meta={meta:Gt.meta}),Gt.meta&&(ae._meta.layout={meta:Gt.meta})}ne.length&&(Ut||(Ut=Gt._meta={}),Ut.data=ne)}(B,pt),S(pt,it),h.getComponentMethod("colorscale","crossTraceDefaults")(B,pt),pt._preGUI||(pt._preGUI={}),pt._tracePreGUI||(pt._tracePreGUI={});var kt,Bt=pt._tracePreGUI,Lt={};for(kt in Bt)Lt[kt]="old";for(lt=0;lt<B.length;lt++)Lt[kt=B[lt]._fullInput.uid]||(Bt[kt]={}),Lt[kt]="new";for(kt in Lt)Lt[kt]==="old"&&delete Bt[kt];q(pt),h.getComponentMethod("rangeslider","makeData")(pt),X||$.length!==B.length||A.supplyDefaultsUpdateCalc($,B)}},A.supplyDefaultsUpdateCalc=function(z,W){for(var X=0;X<W.length;X++){var it=W[X],lt=(z[X]||[])[0];if(lt&&lt.trace){var pt=lt.trace;if(pt._hasCalcTransform){var rt,V,B,H=pt._arrayAttrs;for(rt=0;rt<H.length;rt++)V=H[rt],B=g.nestedProperty(pt,V).get().slice(),g.nestedProperty(it,V).set(B)}lt.trace=it}}},A.createTransitionData=function(z){z._transitionData||(z._transitionData={}),z._transitionData._frames||(z._transitionData._frames=[]),z._transitionData._frameHash||(z._transitionData._frameHash={}),z._transitionData._counter||(z._transitionData._counter=0),z._transitionData._interruptCallbacks||(z._transitionData._interruptCallbacks=[])},A._hasPlotType=function(z){var W,X=this._basePlotModules||[];for(W=0;W<X.length;W++)if(X[W].name===z)return!0;var it=this._modules||[];for(W=0;W<it.length;W++){var lt=it[W].name;if(lt===z)return!0;var pt=h.modules[lt];if(pt&&pt.categories[z])return!0}return!1},A.cleanPlot=function(z,W,X,it){var lt,pt,rt=it._basePlotModules||[];for(lt=0;lt<rt.length;lt++){var V=rt[lt];V.clean&&V.clean(z,W,X,it)}var B=it._has&&it._has("gl"),H=W._has&&W._has("gl");B&&!H&&it._glcontainer!==void 0&&(it._glcontainer.selectAll(".gl-canvas").remove(),it._glcontainer.selectAll(".no-webgl").remove(),it._glcanvas=null);var $=!!it._infolayer;t:for(lt=0;lt<X.length;lt++){var Z=X[lt].uid;for(pt=0;pt<z.length;pt++)if(Z===z[pt].uid)continue t;$&&it._infolayer.select(".cb"+Z).remove()}},A.linkSubplots=function(z,W,X,it){var lt,pt,rt=it._plots||{},V=W._plots={},B=W._subplots,H={_fullData:z,_fullLayout:W},$=B.cartesian.concat(B.gl2d||[]);for(lt=0;lt<$.length;lt++){var Z,Q=$[lt],ot=rt[Q],st=y.getFromId(H,Q,"x"),dt=y.getFromId(H,Q,"y");for(ot?Z=V[Q]=ot:(Z=V[Q]={}).id=Q,st._counterAxes.push(dt._id),dt._counterAxes.push(st._id),st._subplotsWith.push(Q),dt._subplotsWith.push(Q),Z.xaxis=st,Z.yaxis=dt,Z._hasClipOnAxisFalse=!1,pt=0;pt<z.length;pt++){var bt=z[pt];if(bt.xaxis===Z.xaxis._id&&bt.yaxis===Z.yaxis._id&&bt.cliponaxis===!1){Z._hasClipOnAxisFalse=!0;break}}}var Pt,It=y.list(H,null,!0);for(lt=0;lt<It.length;lt++){var Dt=null;(Pt=It[lt]).overlaying&&(Dt=y.getFromId(H,Pt.overlaying))&&Dt.overlaying&&(Pt.overlaying=!1,Dt=null),Pt._mainAxis=Dt||Pt,Dt&&(Pt.domain=Dt.domain.slice()),Pt._anchorAxis=Pt.anchor==="free"?null:y.getFromId(H,Pt.anchor)}for(lt=0;lt<It.length;lt++)if((Pt=It[lt])._counterAxes.sort(y.idSort),Pt._subplotsWith.sort(g.subplotSort),Pt._mainSubplot=k(Pt,W),Pt._counterAxes.length&&(Pt.spikemode&&Pt.spikemode.indexOf("across")!==-1||Pt.automargin&&Pt.mirror&&Pt.anchor!=="free"||h.getComponentMethod("rangeslider","isVisible")(Pt))){var gt=1,_t=0;for(pt=0;pt<Pt._counterAxes.length;pt++){var wt=y.getFromId(H,Pt._counterAxes[pt]);gt=Math.min(gt,wt.domain[0]),_t=Math.max(_t,wt.domain[1])}gt<_t&&(Pt._counterDomainMin=gt,Pt._counterDomainMax=_t)}},A.clearExpandedTraceDefaultColors=function(z){var W,X,it;for(X=[],(W=z._module._colorAttrs)||(z._module._colorAttrs=W=[],d.crawl(z._module.attributes,function(lt,pt,rt,V){X[V]=pt,X.length=V+1,lt.valType==="color"&&lt.dflt===void 0&&W.push(X.join("."))})),it=0;it<W.length;it++)g.nestedProperty(z,"_input."+W[it]).get()||g.nestedProperty(z,W[it]).set(null)},A.supplyDataDefaults=function(z,W,X,it){var lt,pt,rt,V=it._modules,B=it._visibleModules,H=it._basePlotModules,$=0,Z=0;function Q(Et){W.push(Et);var ht=Et._module;ht&&(g.pushUnique(V,ht),Et.visible===!0&&g.pushUnique(B,ht),g.pushUnique(H,Et._module.basePlotModule),$++,Et._input.visible!==!1&&Z++)}it._transformModules=[];var ot={},st=[],dt=(X.template||{}).data||{},bt=p.traceTemplater(dt);for(lt=0;lt<z.length;lt++){if(rt=z[lt],(pt=bt.newTrace(rt)).uid=it._traceUids[lt],A.supplyTraceDefaults(rt,pt,Z,it,lt),pt.index=lt,pt._input=rt,pt._expandedIndex=$,pt.transforms&&pt.transforms.length)for(var Pt=rt.visible!==!1&&pt.visible===!1,It=j(pt,W,X,it),Dt=0;Dt<It.length;Dt++){var gt=It[Dt],_t={_template:pt._template,type:pt.type,uid:pt.uid+Dt};Pt&&gt.visible===!1&&delete gt.visible,A.supplyTraceDefaults(gt,_t,$,it,lt),S(_t,gt),_t.index=lt,_t._input=rt,_t._fullInput=pt,_t._expandedIndex=$,_t._expandedInput=gt,Q(_t)}else pt._fullInput=pt,pt._expandedInput=pt,Q(pt);h.traceIs(pt,"carpetAxis")&&(ot[pt.carpet]=pt),h.traceIs(pt,"carpetDependent")&&st.push(lt)}for(lt=0;lt<st.length;lt++)if((pt=W[st[lt]]).visible){var wt=ot[pt.carpet];pt._carpet=wt,wt&&wt.visible?(pt.xaxis=wt.xaxis,pt.yaxis=wt.yaxis):pt.visible=!1}},A.supplyAnimationDefaults=function(z){var W;z=z||{};var X={};function it(lt,pt){return g.coerce(z||{},X,w,lt,pt)}if(it("mode"),it("direction"),it("fromcurrent"),Array.isArray(z.frame))for(X.frame=[],W=0;W<z.frame.length;W++)X.frame[W]=A.supplyAnimationFrameDefaults(z.frame[W]||{});else X.frame=A.supplyAnimationFrameDefaults(z.frame||{});if(Array.isArray(z.transition))for(X.transition=[],W=0;W<z.transition.length;W++)X.transition[W]=A.supplyAnimationTransitionDefaults(z.transition[W]||{});else X.transition=A.supplyAnimationTransitionDefaults(z.transition||{});return X},A.supplyAnimationFrameDefaults=function(z){var W={};function X(it,lt){return g.coerce(z||{},W,w.frame,it,lt)}return X("duration"),X("redraw"),W},A.supplyAnimationTransitionDefaults=function(z){var W={};function X(it,lt){return g.coerce(z||{},W,w.transition,it,lt)}return X("duration"),X("easing"),W},A.supplyFrameDefaults=function(z){var W={};function X(it,lt){return g.coerce(z,W,T,it,lt)}return X("group"),X("name"),X("traces"),X("baseframe"),X("data"),X("layout"),W},A.supplyTraceDefaults=function(z,W,X,it,lt){var pt,rt=it.colorway||m.defaults,V=rt[X%rt.length];function B(It,Dt){return g.coerce(z,W,A.attributes,It,Dt)}var H=B("visible");B("type"),B("name",it._traceWord+" "+lt),B("uirevision",it.uirevision);var $=A.getModule(W);if(W._module=$,$){var Z=$.basePlotModule,Q=Z.attr,ot=Z.attributes;if(Q&&ot){var st=it._subplots,dt="";if(H||Z.name!=="gl2d"){if(Array.isArray(Q))for(pt=0;pt<Q.length;pt++){var bt=Q[pt],Pt=g.coerce(z,W,ot,bt);st[bt]&&g.pushUnique(st[bt],Pt),dt+=Pt}else dt=g.coerce(z,W,ot,Q);st[Z.name]&&g.pushUnique(st[Z.name],dt)}}}return H&&(B("customdata"),B("ids"),B("meta"),h.traceIs(W,"showLegend")?(g.coerce(z,W,$.attributes.showlegend?$.attributes:A.attributes,"showlegend"),B("legend"),B("legendwidth"),B("legendgroup"),B("legendgrouptitle.text"),B("legendrank"),W._dfltShowLegend=!0):W._dfltShowLegend=!1,$&&$.supplyDefaults(z,W,V,it),h.traceIs(W,"noOpacity")||B("opacity"),h.traceIs(W,"notLegendIsolatable")&&(W.visible=!!W.visible),h.traceIs(W,"noHover")||(W.hovertemplate||g.coerceHoverinfo(z,W,it),W.type!=="parcats"&&h.getComponentMethod("fx","supplyDefaults")(z,W,V,it)),$&&$.selectPoints&&B("selectedpoints"),A.supplyTransformDefaults(z,W,it)),W},A.hasMakesDataTransform=I,A.supplyTransformDefaults=function(z,W,X){if(W._length||I(z)){var it=X._globalTransforms||[],lt=X._transformModules||[];if(Array.isArray(z.transforms)||it.length!==0)for(var pt=z.transforms||[],rt=it.concat(pt),V=W.transforms=[],B=0;B<rt.length;B++){var H,$=rt[B],Z=$.type,Q=O[Z],ot=!($._module&&$._module===Q),st=Q&&typeof Q.transform=="function";Q||g.warn("Unrecognized transform type "+Z+"."),Q&&Q.supplyDefaults&&(ot||st)?((H=Q.supplyDefaults($,W,X,z)).type=Z,H._module=Q,g.pushUnique(lt,Q)):H=g.extendFlat({},$),V.push(H)}}},A.supplyLayoutGlobalDefaults=function(z,W,X){function it($,Z){return g.coerce(z,W,A.layoutAttributes,$,Z)}var lt=z.template;g.isPlainObject(lt)&&(W.template=lt,W._template=lt.layout,W._dataTemplate=lt.data),it("autotypenumbers");var pt=g.coerceFont(it,"font"),rt=pt.size;g.coerceFont(it,"title.font",g.extendFlat({},pt,{size:Math.round(1.4*rt)})),it("title.text",W._dfltTitle.plot),it("title.xref");var V=it("title.yref");it("title.pad.t"),it("title.pad.r"),it("title.pad.b"),it("title.pad.l");var B=it("title.automargin");it("title.x"),it("title.xanchor"),it("title.y"),it("title.yanchor"),B&&(V==="paper"&&(W.title.y!==0&&(W.title.y=1),W.title.yanchor==="auto"&&(W.title.yanchor=W.title.y===0?"top":"bottom")),V==="container"&&(W.title.y==="auto"&&(W.title.y=1),W.title.yanchor==="auto"&&(W.title.yanchor=W.title.y<.5?"bottom":"top"))),it("uniformtext.mode")&&it("uniformtext.minsize"),it("autosize",!(z.width&&z.height)),it("width"),it("height"),it("minreducedwidth"),it("minreducedheight"),it("margin.l"),it("margin.r"),it("margin.t"),it("margin.b"),it("margin.pad"),it("margin.autoexpand"),z.width&&z.height&&A.sanitizeMargins(W),h.getComponentMethod("grid","sizeDefaults")(z,W),it("paper_bgcolor"),it("separators",X.decimal+X.thousands),it("hidesources"),it("colorway"),it("datarevision");var H=it("uirevision");it("editrevision",H),it("selectionrevision",H),h.getComponentMethod("modebar","supplyLayoutDefaults")(z,W),h.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(z,W,it),h.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(z,W,it),it("meta"),g.isPlainObject(z.transition)&&(it("transition.duration"),it("transition.easing"),it("transition.ordering")),h.getComponentMethod("calendars","handleDefaults")(z,W,"calendar"),h.getComponentMethod("fx","supplyLayoutGlobalDefaults")(z,W,it),g.coerce(z,W,b,"scattermode")},A.plotAutoSize=function(z,W,X){var it,lt,pt=z._context||{},rt=pt.frameMargins,V=g.isPlotDiv(z);if(V&&z.emit("plotly_autosize"),pt.fillFrame)it=window.innerWidth,lt=window.innerHeight,document.body.style.overflow="hidden";else{var B=V?window.getComputedStyle(z):{};if(it=G(B.width)||G(B.maxWidth)||X.width,lt=G(B.height)||G(B.maxHeight)||X.height,f(rt)&&rt>0){var H=1-2*rt;it=Math.round(H*it),lt=Math.round(H*lt)}}var $=A.layoutAttributes.width.min,Z=A.layoutAttributes.height.min;it<$&&(it=$),lt<Z&&(lt=Z);var Q=!W.width&&Math.abs(X.width-it)>1,ot=!W.height&&Math.abs(X.height-lt)>1;(ot||Q)&&(Q&&(X.width=it),ot&&(X.height=lt)),z._initialAutoSize||(z._initialAutoSize={width:it,height:lt}),A.sanitizeMargins(X)},A.supplyLayoutModuleDefaults=function(z,W,X,it){var lt,pt,rt,V=h.componentsRegistry,B=W._basePlotModules,H=h.subplotsRegistry.cartesian;for(lt in V)(rt=V[lt]).includeBasePlot&&rt.includeBasePlot(z,W);for(var $ in B.length||B.push(H),W._has("cartesian")&&(h.getComponentMethod("grid","contentDefaults")(z,W),H.finalizeSubplots(z,W)),W._subplots)W._subplots[$].sort(g.subplotSort);for(pt=0;pt<B.length;pt++)(rt=B[pt]).supplyLayoutDefaults&&rt.supplyLayoutDefaults(z,W,X);var Z=W._modules;for(pt=0;pt<Z.length;pt++)(rt=Z[pt]).supplyLayoutDefaults&&rt.supplyLayoutDefaults(z,W,X);var Q=W._transformModules;for(pt=0;pt<Q.length;pt++)(rt=Q[pt]).supplyLayoutDefaults&&rt.supplyLayoutDefaults(z,W,X,it);for(lt in V)(rt=V[lt]).supplyLayoutDefaults&&rt.supplyLayoutDefaults(z,W,X)},A.purge=function(z){var W=z._fullLayout||{};W._glcontainer!==void 0&&(W._glcontainer.selectAll(".gl-canvas").remove(),W._glcontainer.remove(),W._glcanvas=null),W._modeBar&&W._modeBar.destroy(),z._transitionData&&(z._transitionData._interruptCallbacks&&(z._transitionData._interruptCallbacks.length=0),z._transitionData._animationRaf&&window.cancelAnimationFrame(z._transitionData._animationRaf)),g.clearThrottle(),g.clearResponsive(z),delete z.data,delete z.layout,delete z._fullData,delete z._fullLayout,delete z.calcdata,delete z.empty,delete z.fid,delete z.undoqueue,delete z.undonum,delete z.autoplay,delete z.changed,delete z._promises,delete z._redrawTimer,delete z._hmlumcount,delete z._hmpixcount,delete z._transitionData,delete z._transitioning,delete z._initialAutoSize,delete z._transitioningWithDuration,delete z._dragging,delete z._dragged,delete z._dragdata,delete z._hoverdata,delete z._snapshotInProgress,delete z._editing,delete z._mouseDownTime,delete z._legendMouseDownTime,z.removeAllListeners&&z.removeAllListeners()},A.style=function(z){var W,X=z._fullLayout._visibleModules,it=[];for(W=0;W<X.length;W++){var lt=X[W];lt.style&&g.pushUnique(it,lt.style)}for(W=0;W<it.length;W++)it[W](z)},A.sanitizeMargins=function(z){if(z&&z.margin){var W,X=z.width,it=z.height,lt=z.margin,pt=X-(lt.l+lt.r),rt=it-(lt.t+lt.b);pt<0&&(W=(X-1)/(lt.l+lt.r),lt.l=Math.floor(W*lt.l),lt.r=Math.floor(W*lt.r)),rt<0&&(W=(it-1)/(lt.t+lt.b),lt.t=Math.floor(W*lt.t),lt.b=Math.floor(W*lt.b))}},A.clearAutoMarginIds=function(z){z._fullLayout._pushmarginIds={}},A.allowAutoMargin=function(z,W){z._fullLayout._pushmarginIds[W]=1},A.autoMargin=function(z,W,X){var it=z._fullLayout,lt=it.width,pt=it.height,rt=it.margin,V=it.minreducedwidth,B=it.minreducedheight,H=g.constrain(lt-rt.l-rt.r,2,V),$=g.constrain(pt-rt.t-rt.b,2,B),Z=Math.max(0,lt-H),Q=Math.max(0,pt-$),ot=it._pushmargin,st=it._pushmarginIds;if(rt.autoexpand!==!1){if(X){var dt=X.pad;if(dt===void 0&&(dt=Math.min(12,rt.l,rt.r,rt.t,rt.b)),Z){var bt=(X.l+X.r)/Z;bt>1&&(X.l/=bt,X.r/=bt)}if(Q){var Pt=(X.t+X.b)/Q;Pt>1&&(X.t/=Pt,X.b/=Pt)}var It=X.xl!==void 0?X.xl:X.x,Dt=X.xr!==void 0?X.xr:X.x,gt=X.yt!==void 0?X.yt:X.y,_t=X.yb!==void 0?X.yb:X.y;ot[W]={l:{val:It,size:X.l+dt},r:{val:Dt,size:X.r+dt},b:{val:_t,size:X.b+dt},t:{val:gt,size:X.t+dt}},st[W]=1}else delete ot[W],delete st[W];if(!it._replotting)return A.doAutoMargin(z)}},A.doAutoMargin=function(z){var W=z._fullLayout,X=W.width,it=W.height;W._size||(W._size={}),q(W);var lt=W._size,pt=W.margin,rt={t:0,b:0,l:0,r:0},V=g.extendFlat({},lt),B=pt.l,H=pt.r,$=pt.t,Z=pt.b,Q=W._pushmargin,ot=W._pushmarginIds,st=W.minreducedwidth,dt=W.minreducedheight;if(pt.autoexpand!==!1){for(var bt in Q)ot[bt]||delete Q[bt];var Pt=z._fullLayout._reservedMargin;for(var It in Pt)for(var Dt in Pt[It]){var gt=Pt[It][Dt];rt[Dt]=Math.max(rt[Dt],gt)}for(var _t in Q.base={l:{val:0,size:B},r:{val:1,size:H},t:{val:1,size:$},b:{val:0,size:Z}},rt){var wt=0;for(var Et in Q)Et!=="base"&&f(Q[Et][_t].size)&&(wt=Q[Et][_t].size>wt?Q[Et][_t].size:wt);var ht=Math.max(0,pt[_t]-wt);rt[_t]=Math.max(0,rt[_t]-ht)}for(var vt in Q){var Ct=Q[vt].l||{},Mt=Q[vt].b||{},Nt=Ct.val,Rt=Ct.size,At=Mt.val,kt=Mt.size,Bt=X-rt.r-rt.l,Lt=it-rt.t-rt.b;for(var zt in Q){if(f(Rt)&&Q[zt].r){var Gt=Q[zt].r.val,Ut=Q[zt].r.size;if(Gt>Nt){var ne=(Rt*Gt+(Ut-Bt)*Nt)/(Gt-Nt),te=(Ut*(1-Nt)+(Rt-Bt)*(1-Gt))/(Gt-Nt);ne+te>B+H&&(B=ne,H=te)}}if(f(kt)&&Q[zt].t){var ae=Q[zt].t.val,ue=Q[zt].t.size;if(ae>At){var pe=(kt*ae+(ue-Lt)*At)/(ae-At),be=(ue*(1-At)+(kt-Lt)*(1-ae))/(ae-At);pe+be>Z+$&&(Z=pe,$=be)}}}}}var re=g.constrain(X-pt.l-pt.r,2,st),jt=g.constrain(it-pt.t-pt.b,2,dt),$t=Math.max(0,X-re),Jt=Math.max(0,it-jt);if($t){var qt=(B+H)/$t;qt>1&&(B/=qt,H/=qt)}if(Jt){var Ce=(Z+$)/Jt;Ce>1&&(Z/=Ce,$/=Ce)}if(lt.l=Math.round(B)+rt.l,lt.r=Math.round(H)+rt.r,lt.t=Math.round($)+rt.t,lt.b=Math.round(Z)+rt.b,lt.p=Math.round(pt.pad),lt.w=Math.round(X)-lt.l-lt.r,lt.h=Math.round(it)-lt.t-lt.b,!W._replotting&&(A.didMarginChange(V,lt)||function(Me){if("_redrawFromAutoMarginCount"in Me._fullLayout)return!1;var Ee=y.list(Me,"",!0);for(var He in Ee)if(Ee[He].autoshift||Ee[He].shift)return!0;return!1}(z))){"_redrawFromAutoMarginCount"in W?W._redrawFromAutoMarginCount++:W._redrawFromAutoMarginCount=1;var fe=3*(1+Object.keys(ot).length);if(W._redrawFromAutoMarginCount<fe)return h.call("_doPlot",z);W._size=V,g.warn("Too many auto-margin redraws.")}(function(Me){var Ee=y.list(Me,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(He){for(var Ae=0;Ae<Ee.length;Ae++){var $e=Ee[Ae][He];$e&&$e()}})})(z)};var et=["l","r","t","b","p","w","h"];function U(z,W,X){var it=!1,lt=[A.previousPromises,function(){if(z._transitionData)return z._transitioning=!1,function(rt){var V=Promise.resolve();if(!rt)return V;for(;rt.length;)V=V.then(rt.shift());return V}(z._transitionData._interruptCallbacks)},X.prepareFn,A.rehover,A.reselect,function(){return z.emit("plotly_transitioning",[]),new Promise(function(rt){z._transitioning=!0,W.duration>0&&(z._transitioningWithDuration=!0),z._transitionData._interruptCallbacks.push(function(){it=!0}),X.redraw&&z._transitionData._interruptCallbacks.push(function(){return h.call("redraw",z)}),z._transitionData._interruptCallbacks.push(function(){z.emit("plotly_transitioninterrupted",[])});var V=0,B=0;function H(){return V++,function(){var $;B++,it||B!==V||($=rt,z._transitionData&&(function(Z){if(Z)for(;Z.length;)Z.shift()}(z._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(X.redraw)return h.call("redraw",z)}).then(function(){z._transitioning=!1,z._transitioningWithDuration=!1,z.emit("plotly_transitioned",[])}).then($)))}}X.runFn(H),setTimeout(H())})}],pt=g.syncOrAsync(lt,z);return pt&&pt.then||(pt=Promise.resolve()),pt.then(function(){return z})}A.didMarginChange=function(z,W){for(var X=0;X<et.length;X++){var it=et[X],lt=z[it],pt=W[it];if(!f(lt)||Math.abs(pt-lt)>1)return!0}return!1},A.graphJson=function(z,W,X,it,lt,pt){(lt&&W&&!z._fullData||lt&&!W&&!z._fullLayout)&&A.supplyDefaults(z);var rt=lt?z._fullData:z.data,V=lt?z._fullLayout:z.layout,B=(z._transitionData||{})._frames;function H(Q,ot){if(typeof Q=="function")return ot?"_function_":null;if(g.isPlainObject(Q)){var st,dt={};return Object.keys(Q).sort().forEach(function(bt){if(["_","["].indexOf(bt.charAt(0))===-1)if(typeof Q[bt]!="function"){if(X==="keepdata"){if(bt.substr(bt.length-3)==="src")return}else if(X==="keepstream"){if(typeof(st=Q[bt+"src"])=="string"&&st.indexOf(":")>0&&!g.isPlainObject(Q.stream))return}else if(X!=="keepall"&&typeof(st=Q[bt+"src"])=="string"&&st.indexOf(":")>0)return;dt[bt]=H(Q[bt],ot)}else ot&&(dt[bt]="_function")}),dt}return Array.isArray(Q)?Q.map(function(bt){return H(bt,ot)}):g.isTypedArray(Q)?g.simpleMap(Q,g.identity):g.isJSDate(Q)?g.ms2DateTimeLocal(+Q):Q}var $={data:(rt||[]).map(function(Q){var ot=H(Q);return W&&delete ot.fit,ot})};if(!W&&($.layout=H(V),lt)){var Z=V._size;$.layout.computed={margin:{b:Z.b,l:Z.l,r:Z.r,t:Z.t}}}return B&&($.frames=H(B)),pt&&($.config=H(z._context,!0)),it==="object"?$:JSON.stringify($)},A.modifyFrames=function(z,W){var X,it,lt,pt=z._transitionData._frames,rt=z._transitionData._frameHash;for(X=0;X<W.length;X++)switch((it=W[X]).type){case"replace":lt=it.value;var V=(pt[it.index]||{}).name,B=lt.name;pt[it.index]=rt[B]=lt,B!==V&&(delete rt[V],rt[B]=lt);break;case"insert":rt[(lt=it.value).name]=lt,pt.splice(it.index,0,lt);break;case"delete":delete rt[(lt=pt[it.index]).name],pt.splice(it.index,1)}return Promise.resolve()},A.computeFrame=function(z,W){var X,it,lt,pt,rt=z._transitionData._frameHash;if(!W)throw new Error("computeFrame must be given a string frame name");var V=rt[W.toString()];if(!V)return!1;for(var B=[V],H=[V.name];V.baseframe&&(V=rt[V.baseframe.toString()])&&H.indexOf(V.name)===-1;)B.push(V),H.push(V.name);for(var $={};V=B.pop();)if(V.layout&&($.layout=A.extendLayout($.layout,V.layout)),V.data){if($.data||($.data=[]),!(it=V.traces))for(it=[],X=0;X<V.data.length;X++)it[X]=X;for($.traces||($.traces=[]),X=0;X<V.data.length;X++)(lt=it[X])!=null&&((pt=$.traces.indexOf(lt))===-1&&(pt=$.data.length,$.traces[pt]=lt),$.data[pt]=A.extendTrace($.data[pt],V.data[X]))}return $},A.recomputeFrameHash=function(z){for(var W=z._transitionData._frameHash={},X=z._transitionData._frames,it=0;it<X.length;it++){var lt=X[it];lt&&lt.name&&(W[lt.name]=lt)}},A.extendObjectWithContainers=function(z,W,X){var it,lt,pt,rt,V,B,H,$=g.extendDeepNoArrays({},W||{}),Z=g.expandObjectPaths($),Q={};if(X&&X.length)for(pt=0;pt<X.length;pt++)(lt=(it=g.nestedProperty(Z,X[pt])).get())===void 0?g.nestedProperty(Q,X[pt]).set(null):(it.set(null),g.nestedProperty(Q,X[pt]).set(lt));if(z=g.extendDeepNoArrays(z||{},Z),X&&X.length){for(pt=0;pt<X.length;pt++)if(B=g.nestedProperty(Q,X[pt]).get()){for(H=(V=g.nestedProperty(z,X[pt])).get(),Array.isArray(H)||(H=[],V.set(H)),rt=0;rt<B.length;rt++){var ot=B[rt];H[rt]=ot===null?null:A.extendObjectWithContainers(H[rt],ot)}V.set(H)}}return z},A.dataArrayContainers=["transforms","dimensions"],A.layoutArrayContainers=h.layoutArrayContainers,A.extendTrace=function(z,W){return A.extendObjectWithContainers(z,W,A.dataArrayContainers)},A.extendLayout=function(z,W){return A.extendObjectWithContainers(z,W,A.layoutArrayContainers)},A.transition=function(z,W,X,it,lt,pt){var rt={redraw:lt.redraw},V={},B=[];return rt.prepareFn=function(){for(var H=Array.isArray(W)?W.length:0,$=it.slice(0,H),Z=0;Z<$.length;Z++){var Q=$[Z],ot=z._fullData[Q]._module;if(ot){if(ot.animatable){var st=ot.basePlotModule.name;V[st]||(V[st]=[]),V[st].push(Q)}z.data[$[Z]]=A.extendTrace(z.data[$[Z]],W[Z])}}var dt=g.expandObjectPaths(g.extendDeepNoArrays({},X)),bt=/^[xy]axis[0-9]*$/;for(var Pt in dt)bt.test(Pt)&&delete dt[Pt].range;A.extendLayout(z.layout,dt),delete z.calcdata,A.supplyDefaults(z),A.doCalcdata(z);var It=g.expandObjectPaths(X);if(It){var Dt=z._fullLayout._plots;for(var gt in Dt){var _t=Dt[gt],wt=_t.xaxis,Et=_t.yaxis,ht=wt.range.slice(),vt=Et.range.slice(),Ct=null,Mt=null,Nt=null,Rt=null;Array.isArray(It[wt._name+".range"])?Ct=It[wt._name+".range"].slice():Array.isArray((It[wt._name]||{}).range)&&(Ct=It[wt._name].range.slice()),Array.isArray(It[Et._name+".range"])?Mt=It[Et._name+".range"].slice():Array.isArray((It[Et._name]||{}).range)&&(Mt=It[Et._name].range.slice()),ht&&Ct&&(wt.r2l(ht[0])!==wt.r2l(Ct[0])||wt.r2l(ht[1])!==wt.r2l(Ct[1]))&&(Nt={xr0:ht,xr1:Ct}),vt&&Mt&&(Et.r2l(vt[0])!==Et.r2l(Mt[0])||Et.r2l(vt[1])!==Et.r2l(Mt[1]))&&(Rt={yr0:vt,yr1:Mt}),(Nt||Rt)&&B.push(g.extendFlat({plotinfo:_t},Nt,Rt))}}return Promise.resolve()},rt.runFn=function(H){var $,Z,Q=z._fullLayout._basePlotModules,ot=B.length;if(X)for(Z=0;Z<Q.length;Z++)Q[Z].transitionAxes&&Q[Z].transitionAxes(z,B,pt,H);for(var st in ot?(($=g.extendFlat({},pt)).duration=0,delete V.cartesian):$=pt,V){var dt=V[st];z._fullData[dt[0]]._module.basePlotModule.plot(z,dt,$,H)}},U(z,pt,rt)},A.transitionFromReact=function(z,W,X,it){var lt=z._fullLayout,pt=lt.transition,rt={},V=[];return rt.prepareFn=function(){var B=lt._plots;for(var H in rt.redraw=!1,W.anim==="some"&&(rt.redraw=!0),X.anim==="some"&&(rt.redraw=!0),B){var $=B[H],Z=$.xaxis,Q=$.yaxis,ot=it[Z._name].range.slice(),st=it[Q._name].range.slice(),dt=Z.range.slice(),bt=Q.range.slice();Z.setScale(),Q.setScale();var Pt=null,It=null;Z.r2l(ot[0])===Z.r2l(dt[0])&&Z.r2l(ot[1])===Z.r2l(dt[1])||(Pt={xr0:ot,xr1:dt}),Q.r2l(st[0])===Q.r2l(bt[0])&&Q.r2l(st[1])===Q.r2l(bt[1])||(It={yr0:st,yr1:bt}),(Pt||It)&&V.push(g.extendFlat({plotinfo:$},Pt,It))}return Promise.resolve()},rt.runFn=function(B){for(var H,$,Z,Q=z._fullData,ot=z._fullLayout._basePlotModules,st=[],dt=0;dt<Q.length;dt++)st.push(dt);function bt(){if(z._fullLayout)for(var It=0;It<ot.length;It++)ot[It].transitionAxes&&ot[It].transitionAxes(z,V,H,B)}function Pt(){if(z._fullLayout)for(var It=0;It<ot.length;It++)ot[It].plot(z,Z,$,B)}V.length&&W.anim?pt.ordering==="traces first"?(H=g.extendFlat({},pt,{duration:0}),Z=st,$=pt,setTimeout(bt,pt.duration),Pt()):(H=pt,Z=null,$=g.extendFlat({},pt,{duration:0}),setTimeout(Pt,H.duration),bt()):V.length?(H=pt,bt()):W.anim&&(Z=st,$=pt,Pt())},U(z,pt,rt)},A.doCalcdata=function(z,W){var X,it,lt,pt,rt=y.list(z),V=z._fullData,B=z._fullLayout,H=new Array(V.length),$=(z.calcdata||[]).slice();for(z.calcdata=H,B._numBoxes=0,B._numViolins=0,B._violinScaleGroupStats={},z._hmpixcount=0,z._hmlumcount=0,B._piecolormap={},B._sunburstcolormap={},B._treemapcolormap={},B._iciclecolormap={},B._funnelareacolormap={},lt=0;lt<V.length;lt++)Array.isArray(W)&&W.indexOf(lt)===-1&&(H[lt]=$[lt]);for(lt=0;lt<V.length;lt++)(X=V[lt])._arrayAttrs=d.findArrayAttributes(X),X._extremes={};var Z=B._subplots.polar||[];for(lt=0;lt<Z.length;lt++)rt.push(B[Z[lt]].radialaxis,B[Z[lt]].angularaxis);for(var Q in B._colorAxes){var ot=B[Q];ot.cauto!==!1&&(delete ot.cmin,delete ot.cmax)}var st=!1;function dt(It){if(X=V[It],it=X._module,X.visible===!0&&X.transforms){if(it&&it.calc){var Dt=it.calc(z,X);Dt[0]&&Dt[0].t&&Dt[0].t._scene&&delete Dt[0].t._scene.dirty}for(pt=0;pt<X.transforms.length;pt++){var gt=X.transforms[pt];(it=O[gt.type])&&it.calcTransform&&(X._hasCalcTransform=!0,st=!0,it.calcTransform(z,X,gt))}}}function bt(It,Dt){if(X=V[It],!!(it=X._module).isContainer===Dt){var gt=[];if(X.visible===!0&&X._length!==0){delete X._indexToPoints;var _t=X.transforms||[];for(pt=_t.length-1;pt>=0;pt--)if(_t[pt].enabled){X._indexToPoints=_t[pt]._indexToPoints;break}it&&it.calc&&(gt=it.calc(z,X))}Array.isArray(gt)&&gt[0]||(gt=[{x:v,y:v}]),gt[0].t||(gt[0].t={}),gt[0].trace=X,H[It]=gt}}for(nt(rt,V,B),lt=0;lt<V.length;lt++)bt(lt,!0);for(lt=0;lt<V.length;lt++)dt(lt);for(st&&nt(rt,V,B),lt=0;lt<V.length;lt++)bt(lt,!0);for(lt=0;lt<V.length;lt++)bt(lt,!1);ct(z);var Pt=function(It,Dt){var gt,_t,wt,Et,ht,vt=[];function Ct(Me,Ee,He){var Ae=Ee._id.charAt(0);if(Me==="histogram2dcontour"){var $e=Ee._counterAxes[0],Oe=y.getFromId(Dt,$e),ft=Ae==="x"||$e==="x"&&Oe.type==="category",mt=Ae==="y"||$e==="y"&&Oe.type==="category";return function(Ht,Vt){return Ht===0||Vt===0||ft&&Ht===He[Vt].length-1||mt&&Vt===He.length-1?-1:(Ae==="y"?Vt:Ht)-1}}return function(Ht,Vt){return Ae==="y"?Vt:Ht}}var Mt={min:function(Me){return g.aggNums(Math.min,null,Me)},max:function(Me){return g.aggNums(Math.max,null,Me)},sum:function(Me){return g.aggNums(function(Ee,He){return Ee+He},null,Me)},total:function(Me){return g.aggNums(function(Ee,He){return Ee+He},null,Me)},mean:function(Me){return g.mean(Me)},median:function(Me){return g.median(Me)}};for(gt=0;gt<It.length;gt++){var Nt=It[gt];if(Nt.type==="category"){var Rt=Nt.categoryorder.match(J);if(Rt){var At=Rt[1],kt=Rt[2],Bt=Nt._id.charAt(0),Lt=Bt==="x",zt=[];for(_t=0;_t<Nt._categories.length;_t++)zt.push([Nt._categories[_t],[]]);for(_t=0;_t<Nt._traceIndices.length;_t++){var Gt=Nt._traceIndices[_t],Ut=Dt._fullData[Gt];if(Ut.visible===!0){var ne=Ut.type;h.traceIs(Ut,"histogram")&&(delete Ut._xautoBinFinished,delete Ut._yautoBinFinished);var te=ne==="splom",ae=ne==="scattergl",ue=Dt.calcdata[Gt];for(wt=0;wt<ue.length;wt++){var pe,be,re=ue[wt];if(te){var jt=Ut._axesDim[Nt._id];if(!Lt){var $t=Ut._diag[jt][0];$t&&(Nt=Dt._fullLayout[y.id2name($t)])}var Jt=re.trace.dimensions[jt].values;for(Et=0;Et<Jt.length;Et++)for(pe=Nt._categoriesMap[Jt[Et]],ht=0;ht<re.trace.dimensions.length;ht++)if(ht!==jt){var qt=re.trace.dimensions[ht];zt[pe][1].push(qt.values[Et])}}else if(ae){for(Et=0;Et<re.t.x.length;Et++)Lt?(pe=re.t.x[Et],be=re.t.y[Et]):(pe=re.t.y[Et],be=re.t.x[Et]),zt[pe][1].push(be);re.t&&re.t._scene&&delete re.t._scene.dirty}else if(re.hasOwnProperty("z")){be=re.z;var Ce=Ct(Ut.type,Nt,be);for(Et=0;Et<be.length;Et++)for(ht=0;ht<be[Et].length;ht++)(pe=Ce(ht,Et))+1&&zt[pe][1].push(be[Et][ht])}else for((pe=re.p)===void 0&&(pe=re[Bt]),(be=re.s)===void 0&&(be=re.v),be===void 0&&(be=Lt?re.y:re.x),Array.isArray(be)||(be=be===void 0?[]:[be]),Et=0;Et<be.length;Et++)zt[pe][1].push(be[Et])}}}Nt._categoriesValue=zt;var fe=[];for(_t=0;_t<zt.length;_t++)fe.push([zt[_t][0],Mt[At](zt[_t][1])]);fe.sort(function(Me,Ee){return Me[1]-Ee[1]}),Nt._categoriesAggregatedValue=fe,Nt._initialCategories=fe.map(function(Me){return Me[0]}),kt==="descending"&&Nt._initialCategories.reverse(),vt=vt.concat(Nt.sortByInitialCategories())}}}return vt}(rt,z);if(Pt.length){for(B._numBoxes=0,B._numViolins=0,lt=0;lt<Pt.length;lt++)bt(Pt[lt],!0);for(lt=0;lt<Pt.length;lt++)bt(Pt[lt],!1);ct(z)}h.getComponentMethod("fx","calc")(z),h.getComponentMethod("errorbars","calc")(z)};var J=/(total|sum|min|max|mean|median) (ascending|descending)/;function nt(z,W,X){var it={};function lt(B){B.clearCalc(),B.type==="multicategory"&&B.setupMultiCategory(W),it[B._id]=1}g.simpleMap(z,lt);for(var pt=X._axisMatchGroups||[],rt=0;rt<pt.length;rt++)for(var V in pt[rt])it[V]||lt(X[y.id2name(V)])}function ct(z){var W,X,it,lt=z._fullLayout,pt=lt._visibleModules,rt={};for(X=0;X<pt.length;X++){var V=pt[X],B=V.crossTraceCalc;if(B){var H=V.basePlotModule.name;rt[H]?g.pushUnique(rt[H],B):rt[H]=[B]}}for(it in rt){var $=rt[it],Z=lt._subplots[it];if(Array.isArray(Z))for(W=0;W<Z.length;W++){var Q=Z[W],ot=it==="cartesian"?lt._plots[Q]:lt[Q];for(X=0;X<$.length;X++)$[X](z,ot,Q)}else for(X=0;X<$.length;X++)$[X](z)}}A.rehover=function(z){z._fullLayout._rehover&&z._fullLayout._rehover()},A.redrag=function(z){z._fullLayout._redrag&&z._fullLayout._redrag()},A.reselect=function(z){var W=z._fullLayout,X=(z.layout||{}).selections,it=W._previousSelections;W._previousSelections=X;var lt=W._reselect||JSON.stringify(X)!==JSON.stringify(it);h.getComponentMethod("selections","reselect")(z,lt)},A.generalUpdatePerTraceModule=function(z,W,X,it){var lt,pt=W.traceHash,rt={};for(lt=0;lt<X.length;lt++){var V=X[lt],B=V[0].trace;B.visible&&(rt[B.type]=rt[B.type]||[],rt[B.type].push(V))}for(var H in pt)if(!rt[H]){var $=pt[H][0];$[0].trace.visible=!1,rt[H]=[$]}for(var Z in rt){var Q=rt[Z];Q[0][0].trace._module.plot(z,W,g.filterVisible(Q),it)}W.traceHash=rt},A.plotBasePlot=function(z,W,X,it,lt){var pt=h.getModule(z),rt=M(W.calcdata,pt)[0];pt.plot(W,rt,it,lt)},A.cleanBasePlot=function(z,W,X,it,lt){var pt=lt._has&&lt._has(z),rt=X._has&&X._has(z);pt&&!rt&&lt["_"+z+"layer"].selectAll("g.trace").remove()}},5386:function(a,s,o){var l=o(1562);function c(u){var f=u.description?" "+u.description:"",h=u.keys||[];if(h.length>0){for(var d=[],p=0;p<h.length;p++)d[p]="`"+h[p]+"`";f+="Finally, the template string has access to ",f=h.length===1?f+"variable "+d[0]:f+"variables "+d.slice(0,-1).join(", ")+" and "+d.slice(-1)+"."}return f}l.FORMAT_LINK,l.DATE_FORMAT_LINK,s.fF=function(u,f){u=u||{},c(f=f||{});var h={valType:"string",dflt:"",editType:u.editType||"none"};return u.arrayOk!==!1&&(h.arrayOk=!0),h},s.si=function(u,f){u=u||{},c(f=f||{});var h={valType:"string",dflt:"",editType:u.editType||"calc"};return u.arrayOk!==!1&&(h.arrayOk=!0),h},s.R=function(u,f){return f=f||{},(u=u||{}).newshape,c(f),{valType:"string",dflt:"",editType:u.editType||"arraydraw"}}},3972:function(a,s,o){var l=o(7769),c=o(4213),u=o(5138),f=o(1965),h=o(4401).addStyleRule,d=o(1426),p=o(9012),g=o(820),m=d.extendFlat,v=d.extendDeepAll;function y(O){var N=O.name,F=O.categories,P=O.meta;if(s.modules[N])l.log("Type "+N+" already registered");else{s.subplotsRegistry[O.basePlotModule.name]||function(U){var J=U.name;if(s.subplotsRegistry[J])l.log("Plot type "+J+" already registered.");else for(var nt in T(U),s.subplotsRegistry[J]=U,s.componentsRegistry)E(nt,U.name)}(O.basePlotModule);for(var R={},k=0;k<F.length;k++)R[F[k]]=!0,s.allCategories[F[k]]=!0;for(var I in s.modules[N]={_module:O,categories:R},P&&Object.keys(P).length&&(s.modules[N].meta=P),s.allTypes.push(N),s.componentsRegistry)M(I,N);O.layoutAttributes&&m(s.traceLayoutAttributes,O.layoutAttributes);var j=O.basePlotModule,G=j.name;if(G==="mapbox"){var q=j.constants.styleRules;for(var et in q)h(".js-plotly-plot .plotly .mapboxgl-"+et,q[et])}G!=="geo"&&G!=="mapbox"||window.PlotlyGeoAssets!==void 0||(window.PlotlyGeoAssets={topojson:{}})}}function _(O){if(typeof O.name!="string")throw new Error("Component module *name* must be a string.");var N=O.name;for(var F in s.componentsRegistry[N]=O,O.layoutAttributes&&(O.layoutAttributes._isLinkedToArray&&u(s.layoutArrayContainers,N),T(O)),s.modules)M(N,F);for(var P in s.subplotsRegistry)E(N,P);for(var R in s.transformsRegistry)S(N,R);O.schema&&O.schema.layout&&v(g,O.schema.layout)}function b(O){if(typeof O.name!="string")throw new Error("Transform module *name* must be a string.");var N="Transform module "+O.name,F=typeof O.transform=="function",P=typeof O.calcTransform=="function";if(!F&&!P)throw new Error(N+" is missing a *transform* or *calcTransform* method.");for(var R in F&&P&&l.log([N+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),f(O.attributes)||l.log(N+" registered without an *attributes* object."),typeof O.supplyDefaults!="function"&&l.log(N+" registered without a *supplyDefaults* method."),s.transformsRegistry[O.name]=O,s.componentsRegistry)S(R,O.name)}function w(O){var N=O.name,F=N.split("-")[0],P=O.dictionary,R=O.format,k=P&&Object.keys(P).length,I=R&&Object.keys(R).length,j=s.localeRegistry,G=j[N];if(G||(j[N]=G={}),F!==N){var q=j[F];q||(j[F]=q={}),k&&q.dictionary===G.dictionary&&(q.dictionary=P),I&&q.format===G.format&&(q.format=R)}k&&(G.dictionary=P),I&&(G.format=R)}function T(O){if(O.layoutAttributes){var N=O.layoutAttributes._arrayAttrRegexps;if(N)for(var F=0;F<N.length;F++)u(s.layoutArrayRegexes,N[F])}}function M(O,N){var F=s.componentsRegistry[O].schema;if(F&&F.traces){var P=F.traces[N];P&&v(s.modules[N]._module.attributes,P)}}function S(O,N){var F=s.componentsRegistry[O].schema;if(F&&F.transforms){var P=F.transforms[N];P&&v(s.transformsRegistry[N].attributes,P)}}function E(O,N){var F=s.componentsRegistry[O].schema;if(F&&F.subplots){var P=s.subplotsRegistry[N],R=P.layoutAttributes,k=P.attr==="subplot"?P.name:P.attr;Array.isArray(k)&&(k=k[0]);var I=F.subplots[k];R&&I&&v(R,I)}}function A(O){return typeof O=="object"&&(O=O.type),O}s.modules={},s.allCategories={},s.allTypes=[],s.subplotsRegistry={},s.transformsRegistry={},s.componentsRegistry={},s.layoutArrayContainers=[],s.layoutArrayRegexes=[],s.traceLayoutAttributes={},s.localeRegistry={},s.apiMethodRegistry={},s.collectableSubplotTypes=null,s.register=function(O){if(s.collectableSubplotTypes=null,!O)throw new Error("No argument passed to Plotly.register.");O&&!Array.isArray(O)&&(O=[O]);for(var N=0;N<O.length;N++){var F=O[N];if(!F)throw new Error("Invalid module was attempted to be registered!");switch(F.moduleType){case"trace":y(F);break;case"transform":b(F);break;case"component":_(F);break;case"locale":w(F);break;case"apiMethod":var P=F.name;s.apiMethodRegistry[P]=F.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},s.getModule=function(O){var N=s.modules[A(O)];return!!N&&N._module},s.traceIs=function(O,N){if((O=A(O))==="various")return!1;var F=s.modules[O];return F||(O&&l.log("Unrecognized trace type "+O+"."),F=s.modules[p.type.dflt]),!!F.categories[N]},s.getTransformIndices=function(O,N){for(var F=[],P=O.transforms||[],R=0;R<P.length;R++)P[R].type===N&&F.push(R);return F},s.hasTransform=function(O,N){for(var F=O.transforms||[],P=0;P<F.length;P++)if(F[P].type===N)return!0;return!1},s.getComponentMethod=function(O,N){var F=s.componentsRegistry[O];return F&&F[N]||c},s.call=function(){var O=arguments[0],N=[].slice.call(arguments,1);return s.apiMethodRegistry[O].apply(null,N)}},1914:function(a,s,o){var l=o(3972),c=o(1828),u=c.extendFlat,f=c.extendDeep;function h(d){var p;switch(d){case"themes__thumb":p={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":p={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:p={}}return p}a.exports=function(d,p){var g,m,v=d.data,y=d.layout,_=f([],v),b=f({},y,h(p.tileClass)),w=d._context||{};if(p.width&&(b.width=p.width),p.height&&(b.height=p.height),p.tileClass==="thumbnail"||p.tileClass==="themes__thumb"){b.annotations=[];var T=Object.keys(b);for(g=0;g<T.length;g++)m=T[g],["xaxis","yaxis","zaxis"].indexOf(m.slice(0,5))>-1&&(b[T[g]].title={text:""});for(g=0;g<_.length;g++){var M=_[g];M.showscale=!1,M.marker&&(M.marker.showscale=!1),l.traceIs(M,"pie-like")&&(M.textposition="none")}}if(Array.isArray(p.annotations))for(g=0;g<p.annotations.length;g++)b.annotations.push(p.annotations[g]);var S=Object.keys(b).filter(function(F){return F.match(/^scene\d*$/)});if(S.length){var E={};for(p.tileClass==="thumbnail"&&(E={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),g=0;g<S.length;g++){var A=b[S[g]];A.xaxis||(A.xaxis={}),A.yaxis||(A.yaxis={}),A.zaxis||(A.zaxis={}),u(A.xaxis,E),u(A.yaxis,E),u(A.zaxis,E),A._scene=null}}var O=document.createElement("div");p.tileClass&&(O.className=p.tileClass);var N={gd:O,td:O,layout:b,data:_,config:{staticPlot:p.staticPlot===void 0||p.staticPlot,plotGlPixelRatio:p.plotGlPixelRatio===void 0?2:p.plotGlPixelRatio,displaylogo:p.displaylogo||!1,showLink:p.showLink||!1,showTips:p.showTips||!1,mapboxAccessToken:w.mapboxAccessToken}};return p.setBackground!=="transparent"&&(N.config.setBackground=p.setBackground||"opaque"),N.gd.defaultLayout=h(p.tileClass),N}},7239:function(a,s,o){var l=o(1828),c=o(403),u=o(2435),f=o(5095);a.exports=function(h,d){var p;return l.isPlainObject(h)||(p=l.getGraphDiv(h)),(d=d||{}).format=d.format||"png",d.width=d.width||null,d.height=d.height||null,d.imageDataOnly=!0,new Promise(function(g,m){p&&p._snapshotInProgress&&m(new Error("Snapshotting already in progress.")),l.isIE()&&d.format!=="svg"&&m(new Error(f.MSG_IE_BAD_FORMAT)),p&&(p._snapshotInProgress=!0);var v=c(h,d),y=d.filename||h.fn||"newplot";y+="."+d.format.replace("-","."),v.then(function(_){return p&&(p._snapshotInProgress=!1),u(_,y,d.format)}).then(function(_){g(_)}).catch(function(_){p&&(p._snapshotInProgress=!1),m(_)})})}},2435:function(a,s,o){var l=o(1828),c=o(5095);a.exports=function(u,f,h){var d=document.createElement("a"),p="download"in d;return new Promise(function(g,m){var v,y;if(l.isIE())return v=c.createBlob(u,"svg"),window.navigator.msSaveBlob(v,f),v=null,g(f);if(p)return v=c.createBlob(u,h),y=c.createObjectURL(v),d.href=y,d.download=f,document.body.appendChild(d),d.click(),document.body.removeChild(d),c.revokeObjectURL(y),v=null,g(f);if(l.isSafari()){var _=h==="svg"?",":";base64,";return c.octetStream(_+encodeURIComponent(u)),g(f)}m(new Error("download error"))})}},5095:function(a,s,o){var l=o(3972);s.getDelay=function(u){return u._has&&(u._has("gl3d")||u._has("gl2d")||u._has("mapbox"))?500:0},s.getRedrawFunc=function(u){return function(){l.getComponentMethod("colorbar","draw")(u)}},s.encodeSVG=function(u){return"data:image/svg+xml,"+encodeURIComponent(u)},s.encodeJSON=function(u){return"data:application/json,"+encodeURIComponent(u)};var c=window.URL||window.webkitURL;s.createObjectURL=function(u){return c.createObjectURL(u)},s.revokeObjectURL=function(u){return c.revokeObjectURL(u)},s.createBlob=function(u,f){if(f==="svg")return new window.Blob([u],{type:"image/svg+xml;charset=utf-8"});if(f==="full-json")return new window.Blob([u],{type:"application/json;charset=utf-8"});var h=function(d){for(var p=d.length,g=new ArrayBuffer(p),m=new Uint8Array(g),v=0;v<p;v++)m[v]=d.charCodeAt(v);return g}(window.atob(u));return new window.Blob([h],{type:"image/"+f})},s.octetStream=function(u){document.location.href="data:application/octet-stream"+u},s.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,s.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},4511:function(a,s,o){var l=o(5095),c={getDelay:l.getDelay,getRedrawFunc:l.getRedrawFunc,clone:o(1914),toSVG:o(5900),svgToImg:o(942),toImage:o(6395),downloadImage:o(7239)};a.exports=c},942:function(a,s,o){var l=o(1828),c=o(5398).EventEmitter,u=o(5095);a.exports=function(f){var h=f.emitter||new c,d=new Promise(function(p,g){var m=window.Image,v=f.svg,y=f.format||"png";if(l.isIE()&&y!=="svg"){var _=new Error(u.MSG_IE_BAD_FORMAT);return g(_),f.promise?d:h.emit("error",_)}var b,w,T=f.canvas,M=f.scale||1,S=f.width||300,E=f.height||150,A=M*S,O=M*E,N=T.getContext("2d",{willReadFrequently:!0}),F=new m;y==="svg"||l.isSafari()?w=u.encodeSVG(v):(b=u.createBlob(v,"svg"),w=u.createObjectURL(b)),T.width=A,T.height=O,F.onload=function(){var P;switch(b=null,u.revokeObjectURL(w),y!=="svg"&&N.drawImage(F,0,0,A,O),y){case"jpeg":P=T.toDataURL("image/jpeg");break;case"png":P=T.toDataURL("image/png");break;case"webp":P=T.toDataURL("image/webp");break;case"svg":P=w;break;default:var R="Image format is not jpeg, png, svg or webp.";if(g(new Error(R)),!f.promise)return h.emit("error",R)}p(P),f.promise||h.emit("success",P)},F.onerror=function(P){if(b=null,u.revokeObjectURL(w),g(P),!f.promise)return h.emit("error",P)},F.src=w});return f.promise?d:h}},6395:function(a,s,o){var l=o(5398).EventEmitter,c=o(3972),u=o(1828),f=o(5095),h=o(1914),d=o(5900),p=o(942);a.exports=function(g,m){var v=new l,y=h(g,{format:"png"}),_=y.gd;_.style.position="absolute",_.style.left="-5000px",document.body.appendChild(_);var b=f.getRedrawFunc(_);return c.call("_doPlot",_,y.data,y.layout,y.config).then(b).then(function(){var w=f.getDelay(_._fullLayout);setTimeout(function(){var T=d(_),M=document.createElement("canvas");M.id=u.randstr(),(v=p({format:m.format,width:_._fullLayout.width,height:_._fullLayout.height,canvas:M,emitter:v,svg:T})).clean=function(){_&&document.body.removeChild(_)}},w)}).catch(function(w){v.emit("error",w)}),v}},5900:function(a,s,o){var l=o(9898),c=o(1828),u=o(1424),f=o(7901),h=o(7922),d=/"/g,p="TOBESTRIPPED",g=new RegExp('("'+p+")|("+p+'")',"g");a.exports=function(m,v,y){var _,b=m._fullLayout,w=b._paper,T=b._toppaper,M=b.width,S=b.height;w.insert("rect",":first-child").call(u.setRect,0,0,M,S).call(f.fill,b.paper_bgcolor);var E=b._basePlotModules||[];for(_=0;_<E.length;_++){var A=E[_];A.toSVG&&A.toSVG(m)}if(T){var O=T.node().childNodes,N=Array.prototype.slice.call(O);for(_=0;_<N.length;_++){var F=N[_];F.childNodes.length&&w.node().appendChild(F)}}b._draggers&&b._draggers.remove(),w.node().style.background="",w.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var R=l.select(this);if(this.style.visibility!=="hidden"&&this.style.display!=="none"){R.style({visibility:null,display:null});var k=this.style.fontFamily;k&&k.indexOf('"')!==-1&&R.style("font-family",k.replace(d,p))}else R.remove()}),w.selectAll(".gradient_filled,.pattern_filled").each(function(){var R=l.select(this),k=this.style.fill;k&&k.indexOf("url(")!==-1&&R.style("fill",k.replace(d,p));var I=this.style.stroke;I&&I.indexOf("url(")!==-1&&R.style("stroke",I.replace(d,p))}),v!=="pdf"&&v!=="eps"||w.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),w.node().setAttributeNS(h.xmlns,"xmlns",h.svg),w.node().setAttributeNS(h.xmlns,"xmlns:xlink",h.xlink),v==="svg"&&y&&(w.attr("width",y*M),w.attr("height",y*S),w.attr("viewBox","0 0 "+M+" "+S));var P=new window.XMLSerializer().serializeToString(w.node());return P=(P=(P=function(R){var k=l.select("body").append("div").style({display:"none"}).html(""),I=R.replace(/(&[^;]*;)/gi,function(j){return j==="&lt;"?"&#60;":j==="&rt;"?"&#62;":j.indexOf("<")!==-1||j.indexOf(">")!==-1?"":k.html(j).text()});return k.remove(),I}(P)).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(g,"'"),c.isIE()&&(P=(P=(P=P.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),P}},5341:function(a,s,o){var l=o(1828);a.exports=function(c,u){for(var f=0;f<c.length;f++)c[f].i=f;l.mergeArray(u.text,c,"tx"),l.mergeArray(u.hovertext,c,"htx");var h=u.marker;if(h){l.mergeArray(h.opacity,c,"mo",!0),l.mergeArray(h.color,c,"mc");var d=h.line;d&&(l.mergeArray(d.color,c,"mlc"),l.mergeArrayCastPositive(d.width,c,"mlw"))}}},1486:function(a,s,o){var l=o(2196),c=o(2663).axisHoverFormat,u=o(5386).fF,f=o(5386).si,h=o(693),d=o(1940),p=o(7313),g=o(9952).u,m=o(1426).extendFlat,v=d({editType:"calc",arrayOk:!0,colorEditType:"style"}),y=m({},l.marker.line.width,{dflt:0}),_=m({width:y,editType:"calc"},h("marker.line")),b=m({line:_,editType:"calc"},h("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:g});a.exports={x:l.x,x0:l.x0,dx:l.dx,y:l.y,y0:l.y0,dy:l.dy,xperiod:l.xperiod,yperiod:l.yperiod,xperiod0:l.xperiod0,yperiod0:l.yperiod0,xperiodalignment:l.xperiodalignment,yperiodalignment:l.yperiodalignment,xhoverformat:c("x"),yhoverformat:c("y"),text:l.text,texttemplate:f({editType:"plot"},{keys:p.eventDataKeys}),hovertext:l.hovertext,hovertemplate:u({},{keys:p.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:m({},v,{}),insidetextfont:m({},v,{}),outsidetextfont:m({},v,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:m({},l.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:b,offsetgroup:l.offsetgroup,alignmentgroup:l.alignmentgroup,selected:{marker:{opacity:l.selected.marker.opacity,color:l.selected.marker.color,editType:"style"},textfont:l.selected.textfont,editType:"style"},unselected:{marker:{opacity:l.unselected.marker.opacity,color:l.unselected.marker.color,editType:"style"},textfont:l.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},2290:function(a,s,o){var l=o(9298),c=o(2973),u=o(2869).hasColorscale,f=o(8803),h=o(5341),d=o(6279);a.exports=function(p,g){var m,v,y,_,b,w,T=l.getFromId(p,g.xaxis||"x"),M=l.getFromId(p,g.yaxis||"y"),S={msUTC:!(!g.base&&g.base!==0)};g.orientation==="h"?(m=T.makeCalcdata(g,"x",S),y=M.makeCalcdata(g,"y"),_=c(g,M,"y",y),b=!!g.yperiodalignment,w="y"):(m=M.makeCalcdata(g,"y",S),y=T.makeCalcdata(g,"x"),_=c(g,T,"x",y),b=!!g.xperiodalignment,w="x"),v=_.vals;for(var E=Math.min(v.length,m.length),A=new Array(E),O=0;O<E;O++)A[O]={p:v[O],s:m[O]},b&&(A[O].orig_p=y[O],A[O][w+"End"]=_.ends[O],A[O][w+"Start"]=_.starts[O]),g.ids&&(A[O].id=String(g.ids[O]));return u(g,"marker")&&f(p,g,{vals:g.marker.color,containerStr:"marker",cLetter:"c"}),u(g,"marker.line")&&f(p,g,{vals:g.marker.line.color,containerStr:"marker.line",cLetter:"c"}),h(A,g),d(A,g),A}},7313:function(a){a.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},1661:function(a,s,o){var l=o(2770),c=o(1828).isArrayOrTypedArray,u=o(606).BADNUM,f=o(3972),h=o(9298),d=o(9082).getAxisGroup,p=o(1546);function g(E,A,O,N,F){if(N.length){var P,R,k,I;switch(function(j,G){var q,et;for(q=0;q<G.length;q++){var U,J=G[q],nt=J[0].trace,ct=nt.type==="funnel"?nt._base:nt.base,z=nt.orientation==="h"?nt.xcalendar:nt.ycalendar,W=j.type==="category"||j.type==="multicategory"?function(){return null}:j.d2c;if(c(ct)){for(et=0;et<Math.min(ct.length,J.length);et++)U=W(ct[et],0,z),l(U)?(J[et].b=+U,J[et].hasB=1):J[et].b=0;for(;et<J.length;et++)J[et].b=0}else{U=W(ct,0,z);var X=l(U);for(U=X?U:0,et=0;et<J.length;et++)J[et].b=U,X&&(J[et].hasB=1)}}}(O,N),F.mode){case"overlay":m(A,O,N,F);break;case"group":for(P=[],R=[],k=0;k<N.length;k++)(I=N[k])[0].trace.offset===void 0?R.push(I):P.push(I);R.length&&function(j,G,q,et,U){var J=new p(et,{posAxis:G,sepNegVal:!1,overlapNoMerge:!U.norm});(function(nt,ct,z,W){for(var X=nt._fullLayout,it=z.positions,lt=z.distinctPositions,pt=z.minDiff,rt=z.traces,V=rt.length,B=it.length!==lt.length,H=pt*(1-W.gap),$=d(X,ct._id)+rt[0][0].trace.orientation,Z=X._alignmentOpts[$]||{},Q=0;Q<V;Q++){var ot,st,dt=rt[Q],bt=dt[0].trace,Pt=Z[bt.alignmentgroup]||{},It=Object.keys(Pt.offsetGroups||{}).length,Dt=(ot=It?H/It:B?H/V:H)*(1-(W.groupgap||0));st=It?((2*bt._offsetIndex+1-It)*ot-Dt)/2:B?((2*Q+1-V)*ot-Dt)/2:-Dt/2;var gt=dt[0].t;gt.barwidth=Dt,gt.poffset=st,gt.bargroupwidth=H,gt.bardelta=pt}z.binWidth=rt[0][0].t.barwidth/100,y(z),_(ct,z),b(ct,z,B)})(j,G,J,U),function(nt,ct){for(var z=nt.traces,W=0;W<z.length;W++){var X=z[W];if(X[0].trace.base===void 0)for(var it=new p([X],{posAxis:ct,sepNegVal:!0,overlapNoMerge:!0}),lt=0;lt<X.length;lt++){var pt=X[lt];if(pt.p!==u){var rt=it.put(pt.p,pt.b+pt.s);rt&&(pt.b=rt)}}}}(J,G),U.norm?(T(J),M(q,J,U)):w(q,J)}(E,A,O,R,F),P.length&&m(A,O,P,F);break;case"stack":case"relative":for(P=[],R=[],k=0;k<N.length;k++)(I=N[k])[0].trace.base===void 0?R.push(I):P.push(I);R.length&&function(j,G,q,et,U){var J=new p(et,{posAxis:G,sepNegVal:U.mode==="relative",overlapNoMerge:!(U.norm||U.mode==="stack"||U.mode==="relative")});v(G,J,U),function(X,it,lt){var pt,rt,V,B,H,$,Z=S(X),Q=it.traces;for(B=0;B<Q.length;B++)if((rt=(pt=Q[B])[0].trace).type==="funnel")for(H=0;H<pt.length;H++)($=pt[H]).s!==u&&it.put($.p,-.5*$.s);for(B=0;B<Q.length;B++){V=(rt=(pt=Q[B])[0].trace).type==="funnel";var ot=[];for(H=0;H<pt.length;H++)if(($=pt[H]).s!==u){var st;st=V?$.s:$.s+$.b;var dt=it.put($.p,st),bt=dt+st;$.b=dt,$[Z]=bt,lt.norm||(ot.push(bt),$.hasB&&ot.push(dt))}lt.norm||(rt._extremes[X._id]=h.findExtremes(X,ot,{tozero:!0,padded:!0}))}}(q,J,U);for(var nt=0;nt<et.length;nt++)for(var ct=et[nt],z=0;z<ct.length;z++){var W=ct[z];W.s!==u&&W.b+W.s===J.get(W.p,W.s)&&(W._outmost=!0)}U.norm&&M(q,J,U)}(0,A,O,R,F),P.length&&m(A,O,P,F)}(function(j,G){var q,et,U,J=S(G),nt={},ct=1/0,z=-1/0;for(q=0;q<j.length;q++)for(U=j[q],et=0;et<U.length;et++){var W=U[et].p;l(W)&&(ct=Math.min(ct,W),z=Math.max(z,W))}var X=1e4/(z-ct),it=nt.round=function($){return String(Math.round(X*($-ct)))};for(q=0;q<j.length;q++){(U=j[q])[0].t.extents=nt;var lt=U[0].t.poffset,pt=Array.isArray(lt);for(et=0;et<U.length;et++){var rt=U[et],V=rt[J]-rt.w/2;if(l(V)){var B=rt[J]+rt.w/2,H=it(rt.p);nt[H]?nt[H]=[Math.min(V,nt[H][0]),Math.max(B,nt[H][1])]:nt[H]=[V,B]}rt.p0=rt.p+(pt?lt[et]:lt),rt.p1=rt.p0+rt.w,rt.s0=rt.b,rt.s1=rt.s0+rt.s}}})(N,A)}}function m(E,A,O,N){for(var F=0;F<O.length;F++){var P=O[F],R=new p([P],{posAxis:E,sepNegVal:!1,overlapNoMerge:!N.norm});v(E,R,N),N.norm?(T(R),M(A,R,N)):w(A,R)}}function v(E,A,O){for(var N=A.minDiff,F=A.traces,P=N*(1-O.gap),R=P*(1-(O.groupgap||0)),k=-R/2,I=0;I<F.length;I++){var j=F[I][0].t;j.barwidth=R,j.poffset=k,j.bargroupwidth=P,j.bardelta=N}A.binWidth=F[0][0].t.barwidth/100,y(A),_(E,A),b(E,A)}function y(E){var A,O,N=E.traces;for(A=0;A<N.length;A++){var F,P=N[A],R=P[0],k=R.trace,I=R.t,j=k._offset||k.offset,G=I.poffset;if(c(j)){for(F=Array.prototype.slice.call(j,0,P.length),O=0;O<F.length;O++)l(F[O])||(F[O]=G);for(O=F.length;O<P.length;O++)F.push(G);I.poffset=F}else j!==void 0&&(I.poffset=j);var q=k._width||k.width,et=I.barwidth;if(c(q)){var U=Array.prototype.slice.call(q,0,P.length);for(O=0;O<U.length;O++)l(U[O])||(U[O]=et);for(O=U.length;O<P.length;O++)U.push(et);if(I.barwidth=U,j===void 0){for(F=[],O=0;O<P.length;O++)F.push(G+(et-U[O])/2);I.poffset=F}}else q!==void 0&&(I.barwidth=q,j===void 0&&(I.poffset=G+(et-q)/2))}}function _(E,A){for(var O=A.traces,N=S(E),F=0;F<O.length;F++)for(var P=O[F],R=P[0].t,k=R.poffset,I=Array.isArray(k),j=R.barwidth,G=Array.isArray(j),q=0;q<P.length;q++){var et=P[q],U=et.w=G?j[q]:j;et.p===void 0&&(et.p=et[N],et["orig_"+N]=et[N]);var J=(I?k[q]:k)+U/2;et[N]=et.p+J}}function b(E,A,O){var N=A.traces,F=A.minDiff/2;h.minDtick(E,A.minDiff,A.distinctPositions[0],O);for(var P=0;P<N.length;P++){var R,k,I,j,G=N[P],q=G[0],et=q.trace,U=[];for(j=0;j<G.length;j++)k=(R=G[j]).p-F,I=R.p+F,U.push(k,I);if(et.width||et.offset){var J=q.t,nt=J.poffset,ct=J.barwidth,z=Array.isArray(nt),W=Array.isArray(ct);for(j=0;j<G.length;j++){R=G[j];var X=z?nt[j]:nt,it=W?ct[j]:ct;I=(k=R.p+X)+it,U.push(k,I)}}et._extremes[E._id]=h.findExtremes(E,U,{padded:!1})}}function w(E,A){for(var O=A.traces,N=S(E),F=0;F<O.length;F++){for(var P=O[F],R=P[0].trace,k=R.type==="scatter",I=R.orientation==="v",j=[],G=!1,q=0;q<P.length;q++){var et=P[q],U=k?0:et.b,J=k?I?et.y:et.x:U+et.s;et[N]=J,j.push(J),et.hasB&&j.push(U),et.hasB&&et.b||(G=!0)}R._extremes[E._id]=h.findExtremes(E,j,{tozero:G,padded:!0})}}function T(E){for(var A=E.traces,O=0;O<A.length;O++)for(var N=A[O],F=0;F<N.length;F++){var P=N[F];P.s!==u&&E.put(P.p,P.b+P.s)}}function M(E,A,O){var N=A.traces,F=S(E),P=O.norm==="fraction"?1:100,R=P/1e9,k=E.l2c(E.c2l(0)),I=O.mode==="stack"?P:k;function j(lt){return l(E.c2l(lt))&&(lt<k-R||lt>I+R||!l(k))}for(var G=0;G<N.length;G++){for(var q=N[G],et=q[0].trace,U=[],J=!1,nt=!1,ct=0;ct<q.length;ct++){var z=q[ct];if(z.s!==u){var W=Math.abs(P/A.get(z.p,z.s));z.b*=W,z.s*=W;var X=z.b,it=X+z.s;z[F]=it,U.push(it),nt=nt||j(it),z.hasB&&(U.push(X),nt=nt||j(X)),z.hasB&&z.b||(J=!0)}}et._extremes[E._id]=h.findExtremes(E,U,{tozero:J,padded:nt})}}function S(E){return E._id.charAt(0)}a.exports={crossTraceCalc:function(E,A){for(var O=A.xaxis,N=A.yaxis,F=E._fullLayout,P=E._fullData,R=E.calcdata,k=[],I=[],j=0;j<P.length;j++){var G=P[j];if(G.visible===!0&&f.traceIs(G,"bar")&&G.xaxis===O._id&&G.yaxis===N._id&&(G.orientation==="h"?k.push(R[j]):I.push(R[j]),G._computePh))for(var q=E.calcdata[j],et=0;et<q.length;et++)typeof q[et].ph0=="function"&&(q[et].ph0=q[et].ph0()),typeof q[et].ph1=="function"&&(q[et].ph1=q[et].ph1())}var U={xCat:O.type==="category"||O.type==="multicategory",yCat:N.type==="category"||N.type==="multicategory",mode:F.barmode,norm:F.barnorm,gap:F.bargap,groupgap:F.bargroupgap};g(E,O,N,I,U),g(E,N,O,k,U)},setGroupPositions:g}},769:function(a,s,o){var l=o(1828),c=o(7901),u=o(3972),f=o(7513),h=o(3927),d=o(8340),p=o(6125),g=o(1486),m=l.coerceFont;function v(y,_,b,w,T,M){var S=(M=M||{}).moduleHasSelected!==!1,E=M.moduleHasUnselected!==!1,A=M.moduleHasConstrain!==!1,O=M.moduleHasCliponaxis!==!1,N=M.moduleHasTextangle!==!1,F=M.moduleHasInsideanchor!==!1,P=!!M.hasPathbar,R=Array.isArray(T)||T==="auto",k=R||T==="inside",I=R||T==="outside";if(k||I){var j=m(w,"textfont",b.font),G=l.extendFlat({},j),q=!(y.textfont&&y.textfont.color);if(q&&delete G.color,m(w,"insidetextfont",G),P){var et=l.extendFlat({},j);q&&delete et.color,m(w,"pathbar.textfont",et)}I&&m(w,"outsidetextfont",j),S&&w("selected.textfont.color"),E&&w("unselected.textfont.color"),A&&w("constraintext"),O&&w("cliponaxis"),N&&w("textangle"),w("texttemplate")}k&&F&&w("insidetextanchor")}a.exports={supplyDefaults:function(y,_,b,w){function T(A,O){return l.coerce(y,_,g,A,O)}if(f(y,_,w,T)){h(y,_,w,T),T("xhoverformat"),T("yhoverformat"),T("orientation",_.x&&!_.y?"h":"v"),T("base"),T("offset"),T("width"),T("text"),T("hovertext"),T("hovertemplate");var M=T("textposition");v(y,0,w,T,M,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),d(y,_,T,b,w);var S=(_.marker.line||{}).color,E=u.getComponentMethod("errorbars","supplyDefaults");E(y,_,S||c.defaultLine,{axis:"y"}),E(y,_,S||c.defaultLine,{axis:"x",inherit:"y"}),l.coerceSelectionMarkerOpacity(_,T)}else _.visible=!1},crossTraceDefaults:function(y,_){var b,w;function T(S){return l.coerce(w._input,w,g,S)}if(_.barmode==="group")for(var M=0;M<y.length;M++)(w=y[M]).type==="bar"&&(b=w._input,p(b,w,_,T))},handleText:v}},8065:function(a){a.exports=function(s,o,l){return s.x="xVal"in o?o.xVal:o.x,s.y="yVal"in o?o.yVal:o.y,o.xa&&(s.xaxis=o.xa),o.ya&&(s.yaxis=o.ya),l.orientation==="h"?(s.label=s.y,s.value=s.x):(s.label=s.x,s.value=s.y),s}},9383:function(a,s,o){var l=o(2770),c=o(4267),u=o(1828).isArrayOrTypedArray;s.coerceString=function(f,h,d){if(typeof h=="string"){if(h||!f.noBlank)return h}else if((typeof h=="number"||h===!0)&&!f.strict)return String(h);return d!==void 0?d:f.dflt},s.coerceNumber=function(f,h,d){if(l(h)){h=+h;var p=f.min,g=f.max;if(!(p!==void 0&&h<p||g!==void 0&&h>g))return h}return d!==void 0?d:f.dflt},s.coerceColor=function(f,h,d){return c(h).isValid()?h:d!==void 0?d:f.dflt},s.coerceEnumerated=function(f,h,d){return f.coerceNumber&&(h=+h),f.values.indexOf(h)!==-1?h:d!==void 0?d:f.dflt},s.getValue=function(f,h){var d;return Array.isArray(f)?h<f.length&&(d=f[h]):d=f,d},s.getLineWidth=function(f,h){return 0<h.mlw?h.mlw:u(f.marker.line.width)?0:f.marker.line.width}},5423:function(a,s,o){var l=o(211),c=o(3972),u=o(7901),f=o(1828).fillText,h=o(9383).getLineWidth,d=o(9298).hoverLabelText,p=o(606).BADNUM;function g(v,y,_,b,w){var T,M,S,E,A,O,N,F=v.cd,P=F[0].trace,R=F[0].t,k=b==="closest",I=P.type==="waterfall",j=v.maxHoverDistance,G=v.maxSpikeDistance;P.orientation==="h"?(T=_,M=y,S="y",E="x",A=pt,O=it):(T=y,M=_,S="x",E="y",O=pt,A=it);var q=P[S+"period"],et=k||q;function U(ot){return nt(ot,-1)}function J(ot){return nt(ot,1)}function nt(ot,st){var dt=ot.w;return ot[S]+st*dt/2}function ct(ot){return ot[S+"End"]-ot[S+"Start"]}var z=k?U:q?function(ot){return ot.p-ct(ot)/2}:function(ot){return Math.min(U(ot),ot.p-R.bardelta/2)},W=k?J:q?function(ot){return ot.p+ct(ot)/2}:function(ot){return Math.max(J(ot),ot.p+R.bardelta/2)};function X(ot,st,dt){return w.finiteRange&&(dt=0),l.inbox(ot-T,st-T,dt+Math.min(1,Math.abs(st-ot)/N)-1)}function it(ot){return X(z(ot),W(ot),j)}function lt(ot){var st=ot[E];if(I){var dt=Math.abs(ot.rawS)||0;M>0?st+=dt:M<0&&(st-=dt)}return st}function pt(ot){var st=M,dt=ot.b,bt=lt(ot);return l.inbox(dt-st,bt-st,j+(bt-st)/(bt-dt)-1)}var rt=v[S+"a"],V=v[E+"a"];N=Math.abs(rt.r2c(rt.range[1])-rt.r2c(rt.range[0]));var B=l.getDistanceFunction(b,A,O,function(ot){return(A(ot)+O(ot))/2});if(l.getClosest(F,B,v),v.index!==!1&&F[v.index].p!==p){et||(z=function(ot){return Math.min(U(ot),ot.p-R.bargroupwidth/2)},W=function(ot){return Math.max(J(ot),ot.p+R.bargroupwidth/2)});var H=F[v.index],$=P.base?H.b+H.s:H.s;v[E+"0"]=v[E+"1"]=V.c2p(H[E],!0),v[E+"LabelVal"]=$;var Z=R.extents[R.extents.round(H.p)];v[S+"0"]=rt.c2p(k?z(H):Z[0],!0),v[S+"1"]=rt.c2p(k?W(H):Z[1],!0);var Q=H.orig_p!==void 0;return v[S+"LabelVal"]=Q?H.orig_p:H.p,v.labelLabel=d(rt,v[S+"LabelVal"],P[S+"hoverformat"]),v.valueLabel=d(V,v[E+"LabelVal"],P[E+"hoverformat"]),v.baseLabel=d(V,H.b,P[E+"hoverformat"]),v.spikeDistance=(function(ot){var st=M,dt=ot.b,bt=lt(ot);return l.inbox(dt-st,bt-st,G+(bt-st)/(bt-dt)-1)}(H)+function(ot){return X(U(ot),J(ot),G)}(H))/2,v[S+"Spike"]=rt.c2p(H.p,!0),f(H,P,v),v.hovertemplate=P.hovertemplate,v}}function m(v,y){var _=y.mcc||v.marker.color,b=y.mlcc||v.marker.line.color,w=h(v,y);return u.opacity(_)?_:u.opacity(b)&&w?b:void 0}a.exports={hoverPoints:function(v,y,_,b,w){var T=g(v,y,_,b,w);if(T){var M=T.cd,S=M[0].trace,E=M[T.index];return T.color=m(S,E),c.getComponentMethod("errorbars","hoverInfo")(E,S,T),[T]}},hoverOnBars:g,getTraceColor:m}},822:function(a,s,o){a.exports={attributes:o(1486),layoutAttributes:o(3641),supplyDefaults:o(769).supplyDefaults,crossTraceDefaults:o(769).crossTraceDefaults,supplyLayoutDefaults:o(3957),calc:o(2290),crossTraceCalc:o(1661).crossTraceCalc,colorbar:o(4898),arraysToCalcdata:o(5341),plot:o(7295).plot,style:o(6688).style,styleOnSelect:o(6688).styleOnSelect,hoverPoints:o(5423).hoverPoints,eventData:o(8065),selectPoints:o(1974),moduleType:"trace",name:"bar",basePlotModule:o(3612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},3641:function(a){a.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},3957:function(a,s,o){var l=o(3972),c=o(9298),u=o(1828),f=o(3641);a.exports=function(h,d,p){function g(S,E){return u.coerce(h,d,f,S,E)}for(var m=!1,v=!1,y=!1,_={},b=g("barmode"),w=0;w<p.length;w++){var T=p[w];if(l.traceIs(T,"bar")&&T.visible){if(m=!0,b==="group"){var M=T.xaxis+T.yaxis;_[M]&&(y=!0),_[M]=!0}T.visible&&T.type==="histogram"&&c.getFromId({_fullLayout:d},T[T.orientation==="v"?"xaxis":"yaxis"]).type!=="category"&&(v=!0)}}m?(b!=="overlay"&&g("barnorm"),g("bargap",v&&!y?0:.2),g("bargroupgap")):delete d.barmode}},7295:function(a,s,o){var l=o(9898),c=o(2770),u=o(1828),f=o(3893),h=o(7901),d=o(1424),p=o(3972),g=o(9298).tickText,m=o(2597),v=m.recordMinTextSize,y=m.clearMinTextSize,_=o(6688),b=o(9383),w=o(7313),T=o(1486),M=T.text,S=T.textposition,E=o(3469).appendArrayPointValue,A=w.TEXTPAD;function O(G){return G.id}function N(G){if(G.ids)return O}function F(G,q){return G<q?1:-1}function P(G,q,et,U){var J;return!q.uniformtext.mode&&R(et)?(U&&(J=U()),G.transition().duration(et.duration).ease(et.easing).each("end",function(){J&&J()}).each("interrupt",function(){J&&J()})):G}function R(G){return G&&G.duration>0}function k(G){return G==="auto"?0:G}function I(G,q){var et=Math.PI/180*q,U=Math.abs(Math.sin(et)),J=Math.abs(Math.cos(et));return{x:G.width*J+G.height*U,y:G.width*U+G.height*J}}function j(G,q,et,U,J,nt){var ct=!!nt.isHorizontal,z=!!nt.constrained,W=nt.angle||0,X=nt.anchor||"end",it=X==="end",lt=X==="start",pt=((nt.leftToRight||0)+1)/2,rt=1-pt,V=J.width,B=J.height,H=Math.abs(q-G),$=Math.abs(U-et),Z=H>2*A&&$>2*A?A:0;H-=2*Z,$-=2*Z;var Q=k(W);W!=="auto"||V<=H&&B<=$||!(V>H||B>$)||(V>$||B>H)&&V<B==H<$||(Q+=90);var ot=I(J,Q),st=1;z&&(st=Math.min(1,H/ot.x,$/ot.y));var dt=J.left*rt+J.right*pt,bt=(J.top+J.bottom)/2,Pt=(G+A)*rt+(q-A)*pt,It=(et+U)/2,Dt=0,gt=0;if(lt||it){var _t=(ct?ot.x:ot.y)/2,wt=ct?F(G,q):F(et,U);ct?lt?(Pt=G+wt*Z,Dt=-wt*_t):(Pt=q-wt*Z,Dt=wt*_t):lt?(It=et+wt*Z,gt=-wt*_t):(It=U-wt*Z,gt=wt*_t)}return{textX:dt,textY:bt,targetX:Pt,targetY:It,anchorX:Dt,anchorY:gt,scale:st,rotate:Q}}a.exports={plot:function(G,q,et,U,J,nt){var ct=q.xaxis,z=q.yaxis,W=G._fullLayout,X=G._context.staticPlot;J||(J={mode:W.barmode,norm:W.barmode,gap:W.bargap,groupgap:W.bargroupgap},y("bar",W));var it=u.makeTraceGroups(U,et,"trace bars").each(function(lt){var pt=l.select(this),rt=lt[0].trace,V=rt.type==="waterfall",B=rt.type==="funnel",H=rt.type==="bar"||B,$=0;V&&rt.connector.visible&&rt.connector.mode==="between"&&($=rt.connector.line.width/2);var Z=rt.orientation==="h",Q=R(J),ot=u.ensureSingle(pt,"g","points"),st=N(rt),dt=ot.selectAll("g.point").data(u.identity,st);dt.enter().append("g").classed("point",!0),dt.exit().remove(),dt.each(function(Pt,It){var Dt,gt,_t=l.select(this),wt=function(Lt,zt,Gt,Ut){var ne=[],te=[],ae=Ut?zt:Gt,ue=Ut?Gt:zt;return ne[0]=ae.c2p(Lt.s0,!0),te[0]=ue.c2p(Lt.p0,!0),ne[1]=ae.c2p(Lt.s1,!0),te[1]=ue.c2p(Lt.p1,!0),Ut?[ne,te]:[te,ne]}(Pt,ct,z,Z),Et=wt[0][0],ht=wt[0][1],vt=wt[1][0],Ct=wt[1][1],Mt=(Z?ht-Et:Ct-vt)==0;if(Mt&&H&&b.getLineWidth(rt,Pt)&&(Mt=!1),Mt||(Mt=!(c(Et)&&c(ht)&&c(vt)&&c(Ct))),Pt.isBlank=Mt,Mt&&(Z?ht=Et:Ct=vt),$&&!Mt&&(Z?(Et-=F(Et,ht)*$,ht+=F(Et,ht)*$):(vt-=F(vt,Ct)*$,Ct+=F(vt,Ct)*$)),rt.type==="waterfall"){if(!Mt){var Nt=rt[Pt.dir].marker;Dt=Nt.line.width,gt=Nt.color}}else Dt=b.getLineWidth(rt,Pt),gt=Pt.mc||rt.marker.color;function Rt(Lt){var zt=l.round(Dt/2%1,2);return J.gap===0&&J.groupgap===0?l.round(Math.round(Lt)-zt,2):Lt}if(!G._context.staticPlot){var At=h.opacity(gt)<1||Dt>.01?Rt:function(Lt,zt,Gt){return Gt&&Lt===zt?Lt:Math.abs(Lt-zt)>=2?Rt(Lt):Lt>zt?Math.ceil(Lt):Math.floor(Lt)};Et=At(Et,ht,Z),ht=At(ht,Et,Z),vt=At(vt,Ct,!Z),Ct=At(Ct,vt,!Z)}var kt=P(u.ensureSingle(_t,"path"),W,J,nt);if(kt.style("vector-effect",X?"none":"non-scaling-stroke").attr("d",isNaN((ht-Et)*(Ct-vt))||Mt&&G._context.staticPlot?"M0,0Z":"M"+Et+","+vt+"V"+Ct+"H"+ht+"V"+vt+"Z").call(d.setClipUrl,q.layerClipId,G),!W.uniformtext.mode&&Q){var Bt=d.makePointStyleFns(rt);d.singlePointStyle(Pt,kt,rt,Bt,G)}(function(Lt,zt,Gt,Ut,ne,te,ae,ue,pe,be,re){var jt,$t=zt.xaxis,Jt=zt.yaxis,qt=Lt._fullLayout;function Ce(Be,Se,Te){return u.ensureSingle(Be,"text").text(Se).attr({class:"bartext bartext-"+jt,"text-anchor":"middle","data-notex":1}).call(d.font,Te).call(f.convertToTspans,Lt)}var fe=Ut[0].trace,Me=fe.orientation==="h",Ee=function(Be,Se,Te,xe,Xe){var Ve,an=Se[0].trace;return Ve=an.texttemplate?function(ge,Pe,ke,Ye,je){var qe=Pe[0].trace,nn=u.castOption(qe,ke,"texttemplate");if(!nn)return"";var sn,Ze,tn,Tn,An=qe.type==="histogram",Sn=qe.type==="waterfall",bn=qe.type==="funnel",_n=qe.orientation==="h";function Hn(pr){return g(Tn,Tn.c2l(pr),!0).text}_n?(sn="y",Ze=je,tn="x",Tn=Ye):(sn="x",Ze=Ye,tn="y",Tn=je);var En,Dn=Pe[ke],xn={};xn.label=Dn.p,xn.labelLabel=xn[sn+"Label"]=(En=Dn.p,g(Ze,Ze.c2l(En),!0).text);var Kn=u.castOption(qe,Dn.i,"text");(Kn===0||Kn)&&(xn.text=Kn),xn.value=Dn.s,xn.valueLabel=xn[tn+"Label"]=Hn(Dn.s);var Yn={};E(Yn,qe,Dn.i),(An||Yn.x===void 0)&&(Yn.x=_n?xn.value:xn.label),(An||Yn.y===void 0)&&(Yn.y=_n?xn.label:xn.value),(An||Yn.xLabel===void 0)&&(Yn.xLabel=_n?xn.valueLabel:xn.labelLabel),(An||Yn.yLabel===void 0)&&(Yn.yLabel=_n?xn.labelLabel:xn.valueLabel),Sn&&(xn.delta=+Dn.rawS||Dn.s,xn.deltaLabel=Hn(xn.delta),xn.final=Dn.v,xn.finalLabel=Hn(xn.final),xn.initial=xn.final-xn.delta,xn.initialLabel=Hn(xn.initial)),bn&&(xn.value=Dn.s,xn.valueLabel=Hn(xn.value),xn.percentInitial=Dn.begR,xn.percentInitialLabel=u.formatPercent(Dn.begR),xn.percentPrevious=Dn.difR,xn.percentPreviousLabel=u.formatPercent(Dn.difR),xn.percentTotal=Dn.sumR,xn.percenTotalLabel=u.formatPercent(Dn.sumR));var hr=u.castOption(qe,Dn.i,"customdata");return hr&&(xn.customdata=hr),u.texttemplateString(nn,xn,ge._d3locale,Yn,xn,qe._meta||{})}(Be,Se,Te,xe,Xe):an.textinfo?function(ge,Pe,ke,Ye){var je=ge[0].trace,qe=je.orientation==="h",nn=je.type==="waterfall",sn=je.type==="funnel";function Ze(hr){return g(qe?ke:Ye,+hr,!0).text}var tn,Tn,An=je.textinfo,Sn=ge[Pe],bn=An.split("+"),_n=[],Hn=function(hr){return bn.indexOf(hr)!==-1};if(Hn("label")&&_n.push((Tn=ge[Pe].p,g(qe?Ye:ke,Tn,!0).text)),Hn("text")&&((tn=u.castOption(je,Sn.i,"text"))===0||tn)&&_n.push(tn),nn){var En=+Sn.rawS||Sn.s,Dn=Sn.v,xn=Dn-En;Hn("initial")&&_n.push(Ze(xn)),Hn("delta")&&_n.push(Ze(En)),Hn("final")&&_n.push(Ze(Dn))}if(sn){Hn("value")&&_n.push(Ze(Sn.s));var Kn=0;Hn("percent initial")&&Kn++,Hn("percent previous")&&Kn++,Hn("percent total")&&Kn++;var Yn=Kn>1;Hn("percent initial")&&(tn=u.formatPercent(Sn.begR),Yn&&(tn+=" of initial"),_n.push(tn)),Hn("percent previous")&&(tn=u.formatPercent(Sn.difR),Yn&&(tn+=" of previous"),_n.push(tn)),Hn("percent total")&&(tn=u.formatPercent(Sn.sumR),Yn&&(tn+=" of total"),_n.push(tn))}return _n.join("<br>")}(Se,Te,xe,Xe):b.getValue(an.text,Te),b.coerceString(M,Ve)}(qt,Ut,ne,$t,Jt);jt=function(Be,Se){var Te=b.getValue(Be.textposition,Se);return b.coerceEnumerated(S,Te)}(fe,ne);var He=be.mode==="stack"||be.mode==="relative",Ae=Ut[ne],$e=!He||Ae._outmost;if(Ee&&jt!=="none"&&(!Ae.isBlank&&te!==ae&&ue!==pe||jt!=="auto"&&jt!=="inside")){var Oe=qt.font,ft=_.getBarColor(Ut[ne],fe),mt=_.getInsideTextFont(fe,ne,Oe,ft),Ht=_.getOutsideTextFont(fe,ne,Oe),Vt=Gt.datum();Me?$t.type==="log"&&Vt.s0<=0&&(te=$t.range[0]<$t.range[1]?0:$t._length):Jt.type==="log"&&Vt.s0<=0&&(ue=Jt.range[0]<Jt.range[1]?Jt._length:0);var ee,Xt,Qt,se,he,ye=Math.abs(ae-te)-2*A,oe=Math.abs(pe-ue)-2*A;if(jt==="outside"&&($e||Ae.hasB||(jt="inside")),jt==="auto"&&($e?(jt="inside",ee=Ce(Gt,Ee,he=u.ensureUniformFontSize(Lt,mt)),Qt=(Xt=d.bBox(ee.node())).width,se=Xt.height,Qt>0&&se>0&&(Qt<=ye&&se<=oe||Qt<=oe&&se<=ye||(Me?ye>=Qt*(oe/se):oe>=se*(ye/Qt)))?jt="inside":(jt="outside",ee.remove(),ee=null)):jt="inside"),!ee){var Ue=(ee=Ce(Gt,Ee,he=u.ensureUniformFontSize(Lt,jt==="outside"?Ht:mt))).attr("transform");if(ee.attr("transform",""),Qt=(Xt=d.bBox(ee.node())).width,se=Xt.height,ee.attr("transform",Ue),Qt<=0||se<=0)return void ee.remove()}var rn,Ne=fe.textangle;rn=jt==="outside"?function(Be,Se,Te,xe,Xe,Ve){var an,ge=!!Ve.isHorizontal,Pe=!!Ve.constrained,ke=Ve.angle||0,Ye=Xe.width,je=Xe.height,qe=Math.abs(Se-Be),nn=Math.abs(xe-Te);an=ge?nn>2*A?A:0:qe>2*A?A:0;var sn=1;Pe&&(sn=ge?Math.min(1,nn/je):Math.min(1,qe/Ye));var Ze=k(ke),tn=I(Xe,Ze),Tn=(ge?tn.x:tn.y)/2,An=(Xe.left+Xe.right)/2,Sn=(Xe.top+Xe.bottom)/2,bn=(Be+Se)/2,_n=(Te+xe)/2,Hn=0,En=0,Dn=ge?F(Se,Be):F(Te,xe);return ge?(bn=Se-Dn*an,Hn=Dn*Tn):(_n=xe+Dn*an,En=-Dn*Tn),{textX:An,textY:Sn,targetX:bn,targetY:_n,anchorX:Hn,anchorY:En,scale:sn,rotate:Ze}}(te,ae,ue,pe,Xt,{isHorizontal:Me,constrained:fe.constraintext==="both"||fe.constraintext==="outside",angle:Ne}):j(te,ae,ue,pe,Xt,{isHorizontal:Me,constrained:fe.constraintext==="both"||fe.constraintext==="inside",angle:Ne,anchor:fe.insidetextanchor}),rn.fontSize=he.size,v(fe.type==="histogram"?"bar":fe.type,rn,qt),Ae.transform=rn;var Fe=P(ee,qt,be,re);u.setTransormAndDisplay(Fe,rn)}else Gt.select("text").remove()})(G,q,_t,lt,It,Et,ht,vt,Ct,J,nt),q.layerClipId&&d.hideOutsideRangePoint(Pt,_t.select("text"),ct,z,rt.xcalendar,rt.ycalendar)});var bt=rt.cliponaxis===!1;d.setClipUrl(pt,bt?null:q.layerClipId,G)});p.getComponentMethod("errorbars","plot")(G,it,q,J)},toMoveInsideBar:j}},1974:function(a){function s(o,l,c,u,f){var h=l.c2p(u?o.s0:o.p0,!0),d=l.c2p(u?o.s1:o.p1,!0),p=c.c2p(u?o.p0:o.s0,!0),g=c.c2p(u?o.p1:o.s1,!0);return f?[(h+d)/2,(p+g)/2]:u?[d,(p+g)/2]:[(h+d)/2,g]}a.exports=function(o,l){var c,u=o.cd,f=o.xaxis,h=o.yaxis,d=u[0].trace,p=d.type==="funnel",g=d.orientation==="h",m=[];if(l===!1)for(c=0;c<u.length;c++)u[c].selected=0;else for(c=0;c<u.length;c++){var v=u[c],y="ct"in v?v.ct:s(v,f,h,g,p);l.contains(y,!1,c,o)?(m.push({pointNumber:c,x:f.c2d(v.x),y:h.c2d(v.y)}),v.selected=1):v.selected=0}return m}},1546:function(a,s,o){a.exports=c;var l=o(1828).distinctVals;function c(u,f){this.traces=u,this.sepNegVal=f.sepNegVal,this.overlapNoMerge=f.overlapNoMerge;for(var h=1/0,d=f.posAxis._id.charAt(0),p=[],g=0;g<u.length;g++){for(var m=u[g],v=0;v<m.length;v++){var y=m[v],_=y.p;_===void 0&&(_=y[d]),_!==void 0&&p.push(_)}m[0]&&m[0].width1&&(h=Math.min(m[0].width1,h))}this.positions=p;var b=l(p);this.distinctPositions=b.vals,b.vals.length===1&&h!==1/0?this.minDiff=h:this.minDiff=Math.min(b.minDiff,h);var w=(f.posAxis||{}).type;w!=="category"&&w!=="multicategory"||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}c.prototype.put=function(u,f){var h=this.getLabel(u,f),d=this.bins[h]||0;return this.bins[h]=d+f,d},c.prototype.get=function(u,f){var h=this.getLabel(u,f);return this.bins[h]||0},c.prototype.getLabel=function(u,f){return(f<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?u:Math.round(u/this.binWidth))}},6688:function(a,s,o){var l=o(9898),c=o(7901),u=o(1424),f=o(1828),h=o(3972),d=o(2597).resizeText,p=o(1486),g=p.textfont,m=p.insidetextfont,v=p.outsidetextfont,y=o(9383);function _(O,N,F){u.pointStyle(O.selectAll("path"),N,F),b(O,N,F)}function b(O,N,F){O.selectAll("text").each(function(P){var R=l.select(this),k=f.ensureUniformFontSize(F,w(R,P,N,F));u.font(R,k)})}function w(O,N,F,P){var R=P._fullLayout.font,k=F.textfont;if(O.classed("bartext-inside")){var I=A(N,F);k=M(F,N.i,R,I)}else O.classed("bartext-outside")&&(k=S(F,N.i,R));return k}function T(O,N,F){return E(g,O.textfont,N,F)}function M(O,N,F,P){var R=T(O,N,F);return(O._input.textfont===void 0||O._input.textfont.color===void 0||Array.isArray(O.textfont.color)&&O.textfont.color[N]===void 0)&&(R={color:c.contrast(P),family:R.family,size:R.size}),E(m,O.insidetextfont,N,R)}function S(O,N,F){var P=T(O,N,F);return E(v,O.outsidetextfont,N,P)}function E(O,N,F,P){N=N||{};var R=y.getValue(N.family,F),k=y.getValue(N.size,F),I=y.getValue(N.color,F);return{family:y.coerceString(O.family,R,P.family),size:y.coerceNumber(O.size,k,P.size),color:y.coerceColor(O.color,I,P.color)}}function A(O,N){return N.type==="waterfall"?N[O.dir].marker.color:O.mcc||O.mc||N.marker.color}a.exports={style:function(O){var N=l.select(O).selectAll("g.barlayer").selectAll("g.trace");d(O,N,"bar");var F=N.size(),P=O._fullLayout;N.style("opacity",function(R){return R[0].trace.opacity}).each(function(R){(P.barmode==="stack"&&F>1||P.bargap===0&&P.bargroupgap===0&&!R[0].trace.marker.line.width)&&l.select(this).attr("shape-rendering","crispEdges")}),N.selectAll("g.points").each(function(R){_(l.select(this),R[0].trace,O)}),h.getComponentMethod("errorbars","style")(N)},styleTextPoints:b,styleOnSelect:function(O,N,F){var P=N[0].trace;P.selectedpoints?function(R,k,I){u.selectedPointStyle(R.selectAll("path"),k),function(j,G,q){j.each(function(et){var U,J=l.select(this);if(et.selected){U=f.ensureUniformFontSize(q,w(J,et,G,q));var nt=G.selected.textfont&&G.selected.textfont.color;nt&&(U.color=nt),u.font(J,U)}else u.selectedTextStyle(J,G)})}(R.selectAll("text"),k,I)}(F,P,O):(_(F,P,O),h.getComponentMethod("errorbars","style")(F))},getInsideTextFont:M,getOutsideTextFont:S,getBarColor:A,resizeText:d}},8340:function(a,s,o){var l=o(7901),c=o(2869).hasColorscale,u=o(1586),f=o(1828).coercePattern;a.exports=function(h,d,p,g,m){var v=p("marker.color",g),y=c(h,"marker");y&&u(h,d,m,p,{prefix:"marker.",cLetter:"c"}),p("marker.line.color",l.defaultLine),c(h,"marker.line")&&u(h,d,m,p,{prefix:"marker.line.",cLetter:"c"}),p("marker.line.width"),p("marker.opacity"),f(p,"marker.pattern",v,y),p("selected.marker.color"),p("unselected.marker.color")}},2597:function(a,s,o){var l=o(9898),c=o(1828);function u(f){return"_"+f+"Text_minsize"}a.exports={recordMinTextSize:function(f,h,d){if(d.uniformtext.mode){var p=u(f),g=d.uniformtext.minsize,m=h.scale*h.fontSize;h.hide=m<g,d[p]=d[p]||1/0,h.hide||(d[p]=Math.min(d[p],Math.max(m,g)))}},clearMinTextSize:function(f,h){h[u(f)]=void 0},resizeText:function(f,h,d){var p=f._fullLayout,g=p["_"+d+"Text_minsize"];if(g){var m,v=p.uniformtext.mode==="hide";switch(d){case"funnelarea":case"pie":case"sunburst":m="g.slice";break;case"treemap":case"icicle":m="g.slice, g.pathbar";break;default:m="g.points > g.point"}h.selectAll(m).each(function(y){var _=y.transform;if(_){_.scale=v&&_.hide?0:g/_.fontSize;var b=l.select(this).select("text");c.setTransormAndDisplay(b,_)}})}}}},4e3:function(a,s,o){var l=o(9012),c=o(7670).Y,u=o(1940),f=o(2399),h=o(5386).fF,d=o(5386).si,p=o(1426).extendFlat,g=o(9952).u,m=u({editType:"plot",arrayOk:!0,colorEditType:"plot"});a.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:f.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:g,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:p({},l.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:h({},{keys:["label","color","value","percent","text"]}),texttemplate:d({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:p({},m,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:p({},m,{}),outsidetextfont:p({},m,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:p({},m,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:c({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:p({},m,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},3584:function(a,s,o){var l=o(4875);s.name="pie",s.plot=function(c,u,f,h){l.plotBasePlot(s.name,c,u,f,h)},s.clean=function(c,u,f,h){l.cleanBasePlot(s.name,c,u,f,h)}},2354:function(a,s,o){var l=o(2770),c=o(4267),u=o(7901),f={};function h(p){return function(g,m){return!!g&&!!(g=c(g)).isValid()&&(g=u.addOpacity(g,g.getAlpha()),p[m]||(p[m]=g),g)}}function d(p,g){var m,v=JSON.stringify(p),y=g[v];if(!y){for(y=p.slice(),m=0;m<p.length;m++)y.push(c(p[m]).lighten(20).toHexString());for(m=0;m<p.length;m++)y.push(c(p[m]).darken(20).toHexString());g[v]=y}return y}a.exports={calc:function(p,g){var m,v,y=[],_=p._fullLayout,b=_.hiddenlabels||[],w=g.labels,T=g.marker.colors||[],M=g.values,S=g._length,E=g._hasValues&&S;if(g.dlabel)for(w=new Array(S),m=0;m<S;m++)w[m]=String(g.label0+m*g.dlabel);var A={},O=h(_["_"+g.type+"colormap"]),N=0,F=!1;for(m=0;m<S;m++){var P,R,k;if(E){if(P=M[m],!l(P))continue;P=+P}else P=1;(R=w[m])!==void 0&&R!==""||(R=m);var I=A[R=String(R)];I===void 0?(A[R]=y.length,(k=b.indexOf(R)!==-1)||(N+=P),y.push({v:P,label:R,color:O(T[m],R),i:m,pts:[m],hidden:k})):(F=!0,(v=y[I]).v+=P,v.pts.push(m),v.hidden||(N+=P),v.color===!1&&T[m]&&(v.color=O(T[m],R)))}return y=y.filter(function(j){return j.v>=0}),(g.type==="funnelarea"?F:g.sort)&&y.sort(function(j,G){return G.v-j.v}),y[0]&&(y[0].vTotal=N),y},crossTraceCalc:function(p,g){var m=(g||{}).type;m||(m="pie");var v=p._fullLayout,y=p.calcdata,_=v[m+"colorway"],b=v["_"+m+"colormap"];v["extend"+m+"colors"]&&(_=d(_,f));for(var w=0,T=0;T<y.length;T++){var M=y[T];if(M[0].trace.type===m)for(var S=0;S<M.length;S++){var E=M[S];E.color===!1&&(b[E.label]?E.color=b[E.label]:(b[E.label]=E.color=_[w%_.length],w++))}}},makePullColorFn:h,generateExtendedColors:d}},7434:function(a,s,o){var l=o(2770),c=o(1828),u=o(4e3),f=o(7670).c,h=o(769).handleText,d=o(1828).coercePattern;function p(m,v){var y=Array.isArray(m),_=c.isArrayOrTypedArray(v),b=Math.min(y?m.length:1/0,_?v.length:1/0);if(isFinite(b)||(b=0),b&&_){for(var w,T=0;T<b;T++){var M=v[T];if(l(M)&&M>0){w=!0;break}}w||(b=0)}return{hasLabels:y,hasValues:_,len:b}}function g(m,v,y,_,b){_("marker.line.width")&&_("marker.line.color",b?void 0:y.paper_bgcolor);var w=_("marker.colors");d(_,"marker.pattern",w),m.marker&&!v.marker.pattern.fgcolor&&(v.marker.pattern.fgcolor=m.marker.colors),v.marker.pattern.bgcolor||(v.marker.pattern.bgcolor=y.paper_bgcolor)}a.exports={handleLabelsAndValues:p,handleMarkerDefaults:g,supplyDefaults:function(m,v,y,_){function b(F,P){return c.coerce(m,v,u,F,P)}var w=p(b("labels"),b("values")),T=w.len;if(v._hasLabels=w.hasLabels,v._hasValues=w.hasValues,!v._hasLabels&&v._hasValues&&(b("label0"),b("dlabel")),T){v._length=T,g(m,v,_,b,!0),b("scalegroup");var M,S=b("text"),E=b("texttemplate");if(E||(M=b("textinfo",Array.isArray(S)?"text+percent":"percent")),b("hovertext"),b("hovertemplate"),E||M&&M!=="none"){var A=b("textposition");h(m,v,_,b,A,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(A)||A==="auto"||A==="outside")&&b("automargin"),(A==="inside"||A==="auto"||Array.isArray(A))&&b("insidetextorientation")}f(v,_,b);var O=b("hole");if(b("title.text")){var N=b("title.position",O?"middle center":"top center");O||N!=="middle center"||(v.title.position="top center"),c.coerceFont(b,"title.font",_.font)}b("sort"),b("direction"),b("rotation"),b("pull")}else v.visible=!1}}},7:function(a,s,o){var l=o(3469).appendArrayMultiPointValues;a.exports=function(c,u){var f={curveNumber:u.index,pointNumbers:c.pts,data:u._input,fullData:u,label:c.label,color:c.color,value:c.v,percent:c.percent,text:c.text,bbox:c.bbox,v:c.v};return c.pts.length===1&&(f.pointNumber=f.i=c.pts[0]),l(f,u,c.pts),u.type==="funnelarea"&&(delete f.v,delete f.i),f}},2209:function(a,s,o){var l=o(1424),c=o(7901);a.exports=function(u,f,h,d){var p=h.marker.pattern;p&&p.shape?l.pointStyle(u,h,d,f):c.fill(u,f.color)}},3581:function(a,s,o){var l=o(1828);function c(u){return u.indexOf("e")!==-1?u.replace(/[.]?0+e/,"e"):u.indexOf(".")!==-1?u.replace(/[.]?0+$/,""):u}s.formatPiePercent=function(u,f){var h=c((100*u).toPrecision(3));return l.numSeparate(h,f)+"%"},s.formatPieValue=function(u,f){var h=c(u.toPrecision(10));return l.numSeparate(h,f)},s.getFirstFilled=function(u,f){if(Array.isArray(u))for(var h=0;h<f.length;h++){var d=u[f[h]];if(d||d===0||d==="")return d}},s.castOption=function(u,f){return Array.isArray(u)?s.getFirstFilled(u,f):u||void 0},s.getRotationAngle=function(u){return(u==="auto"?0:u)*Math.PI/180}},8810:function(a,s,o){a.exports={attributes:o(4e3),supplyDefaults:o(7434).supplyDefaults,supplyLayoutDefaults:o(2097),layoutAttributes:o(7550),calc:o(2354).calc,crossTraceCalc:o(2354).crossTraceCalc,plot:o(4575).plot,style:o(8357),styleOne:o(3463),moduleType:"trace",name:"pie",basePlotModule:o(3584),categories:["pie-like","pie","showLegend"],meta:{}}},7550:function(a){a.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},2097:function(a,s,o){var l=o(1828),c=o(7550);a.exports=function(u,f){function h(d,p){return l.coerce(u,f,c,d,p)}h("hiddenlabels"),h("piecolorway",f.colorway),h("extendpiecolors")}},4575:function(a,s,o){var l=o(9898),c=o(4875),u=o(211),f=o(7901),h=o(1424),d=o(1828),p=d.strScale,g=d.strTranslate,m=o(3893),v=o(2597),y=v.recordMinTextSize,_=v.clearMinTextSize,b=o(7313).TEXTPAD,w=o(3581),T=o(7),M=o(1828).isValidTextValue;function S(z,W,X){var it=X[0],lt=it.cx,pt=it.cy,rt=it.trace,V=rt.type==="funnelarea";"_hasHoverLabel"in rt||(rt._hasHoverLabel=!1),"_hasHoverEvent"in rt||(rt._hasHoverEvent=!1),z.on("mouseover",function(B){var H=W._fullLayout,$=W._fullData[rt.index];if(!W._dragging&&H.hovermode!==!1){var Z=$.hoverinfo;if(Array.isArray(Z)&&(Z=u.castHoverinfo({hoverinfo:[w.castOption(Z,B.pts)],_module:rt._module},H,0)),Z==="all"&&(Z="label+text+value+percent+name"),$.hovertemplate||Z!=="none"&&Z!=="skip"&&Z){var Q=B.rInscribed||0,ot=lt+B.pxmid[0]*(1-Q),st=pt+B.pxmid[1]*(1-Q),dt=H.separators,bt=[];if(Z&&Z.indexOf("label")!==-1&&bt.push(B.label),B.text=w.castOption($.hovertext||$.text,B.pts),Z&&Z.indexOf("text")!==-1){var Pt=B.text;d.isValidTextValue(Pt)&&bt.push(Pt)}B.value=B.v,B.valueLabel=w.formatPieValue(B.v,dt),Z&&Z.indexOf("value")!==-1&&bt.push(B.valueLabel),B.percent=B.v/it.vTotal,B.percentLabel=w.formatPiePercent(B.percent,dt),Z&&Z.indexOf("percent")!==-1&&bt.push(B.percentLabel);var It=$.hoverlabel,Dt=It.font,gt=[];u.loneHover({trace:rt,x0:ot-Q*it.r,x1:ot+Q*it.r,y:st,_x0:V?lt+B.TL[0]:ot-Q*it.r,_x1:V?lt+B.TR[0]:ot+Q*it.r,_y0:V?pt+B.TL[1]:st-Q*it.r,_y1:V?pt+B.BL[1]:st+Q*it.r,text:bt.join("<br>"),name:$.hovertemplate||Z.indexOf("name")!==-1?$.name:void 0,idealAlign:B.pxmid[0]<0?"left":"right",color:w.castOption(It.bgcolor,B.pts)||B.color,borderColor:w.castOption(It.bordercolor,B.pts),fontFamily:w.castOption(Dt.family,B.pts),fontSize:w.castOption(Dt.size,B.pts),fontColor:w.castOption(Dt.color,B.pts),nameLength:w.castOption(It.namelength,B.pts),textAlign:w.castOption(It.align,B.pts),hovertemplate:w.castOption($.hovertemplate,B.pts),hovertemplateLabels:B,eventData:[T(B,$)]},{container:H._hoverlayer.node(),outerContainer:H._paper.node(),gd:W,inOut_bbox:gt}),B.bbox=gt[0],rt._hasHoverLabel=!0}rt._hasHoverEvent=!0,W.emit("plotly_hover",{points:[T(B,$)],event:l.event})}}),z.on("mouseout",function(B){var H=W._fullLayout,$=W._fullData[rt.index],Z=l.select(this).datum();rt._hasHoverEvent&&(B.originalEvent=l.event,W.emit("plotly_unhover",{points:[T(Z,$)],event:l.event}),rt._hasHoverEvent=!1),rt._hasHoverLabel&&(u.loneUnhover(H._hoverlayer.node()),rt._hasHoverLabel=!1)}),z.on("click",function(B){var H=W._fullLayout,$=W._fullData[rt.index];W._dragging||H.hovermode===!1||(W._hoverdata=[T(B,$)],u.click(W,l.event))})}function E(z,W,X){var it=w.castOption(z.insidetextfont.color,W.pts);!it&&z._input.textfont&&(it=w.castOption(z._input.textfont.color,W.pts));var lt=w.castOption(z.insidetextfont.family,W.pts)||w.castOption(z.textfont.family,W.pts)||X.family,pt=w.castOption(z.insidetextfont.size,W.pts)||w.castOption(z.textfont.size,W.pts)||X.size;return{color:it||f.contrast(W.color),family:lt,size:pt}}function A(z,W){for(var X,it,lt=0;lt<z.length;lt++)if((it=(X=z[lt][0]).trace).title.text){var pt=it.title.text;it._meta&&(pt=d.templateString(pt,it._meta));var rt=h.tester.append("text").attr("data-notex",1).text(pt).call(h.font,it.title.font).call(m.convertToTspans,W),V=h.bBox(rt.node(),!0);X.titleBox={width:V.width,height:V.height},rt.remove()}}function O(z,W,X){var it=X.r||W.rpx1,lt=W.rInscribed;if(W.startangle===W.stopangle)return{rCenter:1-lt,scale:0,rotate:0,textPosAngle:0};var pt,rt=W.ring,V=rt===1&&Math.abs(W.startangle-W.stopangle)===2*Math.PI,B=W.halfangle,H=W.midangle,$=X.trace.insidetextorientation,Z=$==="horizontal",Q=$==="tangential",ot=$==="radial",st=$==="auto",dt=[];if(!st){var bt,Pt=function(Et,ht){if(function(Nt,Rt){var At=Nt.startangle,kt=Nt.stopangle;return At>Rt&&Rt>kt||At<Rt&&Rt<kt}(W,Et)){var vt=Math.abs(Et-W.startangle),Ct=Math.abs(Et-W.stopangle),Mt=vt<Ct?vt:Ct;(pt=ht==="tan"?F(z,it,rt,Mt,0):N(z,it,rt,Mt,Math.PI/2)).textPosAngle=Et,dt.push(pt)}};if(Z||Q){for(bt=4;bt>=-4;bt-=2)Pt(Math.PI*bt,"tan");for(bt=4;bt>=-4;bt-=2)Pt(Math.PI*(bt+1),"tan")}if(Z||ot){for(bt=4;bt>=-4;bt-=2)Pt(Math.PI*(bt+1.5),"rad");for(bt=4;bt>=-4;bt-=2)Pt(Math.PI*(bt+.5),"rad")}}if(V||st||Z){var It=Math.sqrt(z.width*z.width+z.height*z.height);if((pt={scale:lt*it*2/It,rCenter:1-lt,rotate:0}).textPosAngle=(W.startangle+W.stopangle)/2,pt.scale>=1)return pt;dt.push(pt)}(st||ot)&&((pt=N(z,it,rt,B,H)).textPosAngle=(W.startangle+W.stopangle)/2,dt.push(pt)),(st||Q)&&((pt=F(z,it,rt,B,H)).textPosAngle=(W.startangle+W.stopangle)/2,dt.push(pt));for(var Dt=0,gt=0,_t=0;_t<dt.length;_t++){var wt=dt[_t].scale;if(gt<wt&&(gt=wt,Dt=_t),!st&&gt>=1)break}return dt[Dt]}function N(z,W,X,it,lt){W=Math.max(0,W-2*b);var pt=z.width/z.height,rt=k(pt,it,W,X);return{scale:2*rt/z.height,rCenter:P(pt,rt/W),rotate:R(lt)}}function F(z,W,X,it,lt){W=Math.max(0,W-2*b);var pt=z.height/z.width,rt=k(pt,it,W,X);return{scale:2*rt/z.width,rCenter:P(pt,rt/W),rotate:R(lt+Math.PI/2)}}function P(z,W){return Math.cos(W)-z*W}function R(z){return(180/Math.PI*z+720)%180-90}function k(z,W,X,it){var lt=z+1/(2*Math.tan(W));return X*Math.min(1/(Math.sqrt(lt*lt+.5)+lt),it/(Math.sqrt(z*z+it/2)+z))}function I(z,W){return z.v!==W.vTotal||W.trace.hole?Math.min(1/(1+1/Math.sin(z.halfangle)),z.ring/2):1}function j(z,W){var X=W.pxmid[0],it=W.pxmid[1],lt=z.width/2,pt=z.height/2;return X<0&&(lt*=-1),it<0&&(pt*=-1),{scale:1,rCenter:1,rotate:0,x:lt+Math.abs(pt)*(lt>0?1:-1)/2,y:pt/(1+X*X/(it*it)),outside:!0}}function G(z,W){var X,it,lt,pt=z.trace,rt={x:z.cx,y:z.cy},V={tx:0,ty:0};V.ty+=pt.title.font.size,lt=et(pt),pt.title.position.indexOf("top")!==-1?(rt.y-=(1+lt)*z.r,V.ty-=z.titleBox.height):pt.title.position.indexOf("bottom")!==-1&&(rt.y+=(1+lt)*z.r);var B,H=z.r/((B=z.trace.aspectratio)===void 0?1:B),$=W.w*(pt.domain.x[1]-pt.domain.x[0])/2;return pt.title.position.indexOf("left")!==-1?($+=H,rt.x-=(1+lt)*H,V.tx+=z.titleBox.width/2):pt.title.position.indexOf("center")!==-1?$*=2:pt.title.position.indexOf("right")!==-1&&($+=H,rt.x+=(1+lt)*H,V.tx-=z.titleBox.width/2),X=$/z.titleBox.width,it=q(z,W)/z.titleBox.height,{x:rt.x,y:rt.y,scale:Math.min(X,it),tx:V.tx,ty:V.ty}}function q(z,W){var X=z.trace,it=W.h*(X.domain.y[1]-X.domain.y[0]);return Math.min(z.titleBox.height,it/2)}function et(z){var W,X=z.pull;if(!X)return 0;if(Array.isArray(X))for(X=0,W=0;W<z.pull.length;W++)z.pull[W]>X&&(X=z.pull[W]);return X}function U(z,W){for(var X=[],it=0;it<z.length;it++){var lt=z[it][0],pt=lt.trace,rt=pt.domain,V=W.w*(rt.x[1]-rt.x[0]),B=W.h*(rt.y[1]-rt.y[0]);pt.title.text&&pt.title.position!=="middle center"&&(B-=q(lt,W));var H=V/2,$=B/2;pt.type!=="funnelarea"||pt.scalegroup||($/=pt.aspectratio),lt.r=Math.min(H,$)/(1+et(pt)),lt.cx=W.l+W.w*(pt.domain.x[1]+pt.domain.x[0])/2,lt.cy=W.t+W.h*(1-pt.domain.y[0])-B/2,pt.title.text&&pt.title.position.indexOf("bottom")!==-1&&(lt.cy-=q(lt,W)),pt.scalegroup&&X.indexOf(pt.scalegroup)===-1&&X.push(pt.scalegroup)}(function(Z,Q){for(var ot,st,dt,bt=0;bt<Q.length;bt++){var Pt=1/0,It=Q[bt];for(st=0;st<Z.length;st++)if((dt=(ot=Z[st][0]).trace).scalegroup===It){var Dt;if(dt.type==="pie")Dt=ot.r*ot.r;else if(dt.type==="funnelarea"){var gt,_t;dt.aspectratio>1?_t=(gt=ot.r)/dt.aspectratio:gt=(_t=ot.r)*dt.aspectratio,Dt=(gt*=(1+dt.baseratio)/2)*_t}Pt=Math.min(Pt,Dt/ot.vTotal)}for(st=0;st<Z.length;st++)if((dt=(ot=Z[st][0]).trace).scalegroup===It){var wt=Pt*ot.vTotal;dt.type==="funnelarea"&&(wt/=(1+dt.baseratio)/2,wt/=dt.aspectratio),ot.r=Math.sqrt(wt)}}})(z,X)}function J(z,W){return[z*Math.sin(W),-z*Math.cos(W)]}function nt(z,W,X){var it=z._fullLayout,lt=X.trace,pt=lt.texttemplate,rt=lt.textinfo;if(!pt&&rt&&rt!=="none"){var V,B=rt.split("+"),H=function(Dt){return B.indexOf(Dt)!==-1},$=H("label"),Z=H("text"),Q=H("value"),ot=H("percent"),st=it.separators;if(V=$?[W.label]:[],Z){var dt=w.getFirstFilled(lt.text,W.pts);M(dt)&&V.push(dt)}Q&&V.push(w.formatPieValue(W.v,st)),ot&&V.push(w.formatPiePercent(W.v/X.vTotal,st)),W.text=V.join("<br>")}if(pt){var bt=d.castOption(lt,W.i,"texttemplate");if(bt){var Pt=function(Dt){return{label:Dt.label,value:Dt.v,valueLabel:w.formatPieValue(Dt.v,it.separators),percent:Dt.v/X.vTotal,percentLabel:w.formatPiePercent(Dt.v/X.vTotal,it.separators),color:Dt.color,text:Dt.text,customdata:d.castOption(lt,Dt.i,"customdata")}}(W),It=w.getFirstFilled(lt.text,W.pts);(M(It)||It==="")&&(Pt.text=It),W.text=d.texttemplateString(bt,Pt,z._fullLayout._d3locale,Pt,lt._meta||{})}else W.text=""}}function ct(z,W){var X=z.rotate*Math.PI/180,it=Math.cos(X),lt=Math.sin(X),pt=(W.left+W.right)/2,rt=(W.top+W.bottom)/2;z.textX=pt*it-rt*lt,z.textY=pt*lt+rt*it,z.noCenter=!0}a.exports={plot:function(z,W){var X=z._context.staticPlot,it=z._fullLayout,lt=it._size;_("pie",it),A(W,z),U(W,lt);var pt=d.makeTraceGroups(it._pielayer,W,"trace").each(function(rt){var V=l.select(this),B=rt[0],H=B.trace;(function($){var Z,Q,ot,st=$[0],dt=st.r,bt=st.trace,Pt=w.getRotationAngle(bt.rotation),It=2*Math.PI/st.vTotal,Dt="px0",gt="px1";if(bt.direction==="counterclockwise"){for(Z=0;Z<$.length&&$[Z].hidden;Z++);if(Z===$.length)return;Pt+=It*$[Z].v,It*=-1,Dt="px1",gt="px0"}for(ot=J(dt,Pt),Z=0;Z<$.length;Z++)(Q=$[Z]).hidden||(Q[Dt]=ot,Q.startangle=Pt,Pt+=It*Q.v/2,Q.pxmid=J(dt,Pt),Q.midangle=Pt,ot=J(dt,Pt+=It*Q.v/2),Q.stopangle=Pt,Q[gt]=ot,Q.largeArc=Q.v>st.vTotal/2?1:0,Q.halfangle=Math.PI*Math.min(Q.v/st.vTotal,.5),Q.ring=1-bt.hole,Q.rInscribed=I(Q,st))})(rt),V.attr("stroke-linejoin","round"),V.each(function(){var $=l.select(this).selectAll("g.slice").data(rt);$.enter().append("g").classed("slice",!0),$.exit().remove();var Z=[[[],[]],[[],[]]],Q=!1;$.each(function(gt,_t){if(gt.hidden)l.select(this).selectAll("path,g").remove();else{gt.pointNumber=gt.i,gt.curveNumber=H.index,Z[gt.pxmid[1]<0?0:1][gt.pxmid[0]<0?0:1].push(gt);var wt=B.cx,Et=B.cy,ht=l.select(this),vt=ht.selectAll("path.surface").data([gt]);if(vt.enter().append("path").classed("surface",!0).style({"pointer-events":X?"none":"all"}),ht.call(S,z,rt),H.pull){var Ct=+w.castOption(H.pull,gt.pts)||0;Ct>0&&(wt+=Ct*gt.pxmid[0],Et+=Ct*gt.pxmid[1])}gt.cxFinal=wt,gt.cyFinal=Et;var Mt=H.hole;if(gt.v===B.vTotal){var Nt="M"+(wt+gt.px0[0])+","+(Et+gt.px0[1])+Lt(gt.px0,gt.pxmid,!0,1)+Lt(gt.pxmid,gt.px0,!0,1)+"Z";Mt?vt.attr("d","M"+(wt+Mt*gt.px0[0])+","+(Et+Mt*gt.px0[1])+Lt(gt.px0,gt.pxmid,!1,Mt)+Lt(gt.pxmid,gt.px0,!1,Mt)+"Z"+Nt):vt.attr("d",Nt)}else{var Rt=Lt(gt.px0,gt.px1,!0,1);if(Mt){var At=1-Mt;vt.attr("d","M"+(wt+Mt*gt.px1[0])+","+(Et+Mt*gt.px1[1])+Lt(gt.px1,gt.px0,!1,Mt)+"l"+At*gt.px0[0]+","+At*gt.px0[1]+Rt+"Z")}else vt.attr("d","M"+wt+","+Et+"l"+gt.px0[0]+","+gt.px0[1]+Rt+"Z")}nt(z,gt,B);var kt=w.castOption(H.textposition,gt.pts),Bt=ht.selectAll("g.slicetext").data(gt.text&&kt!=="none"?[0]:[]);Bt.enter().append("g").classed("slicetext",!0),Bt.exit().remove(),Bt.each(function(){var zt=d.ensureSingle(l.select(this),"text","",function(be){be.attr("data-notex",1)}),Gt=d.ensureUniformFontSize(z,kt==="outside"?function(be,re,jt){return{color:w.castOption(be.outsidetextfont.color,re.pts)||w.castOption(be.textfont.color,re.pts)||jt.color,family:w.castOption(be.outsidetextfont.family,re.pts)||w.castOption(be.textfont.family,re.pts)||jt.family,size:w.castOption(be.outsidetextfont.size,re.pts)||w.castOption(be.textfont.size,re.pts)||jt.size}}(H,gt,it.font):E(H,gt,it.font));zt.text(gt.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(h.font,Gt).call(m.convertToTspans,z);var Ut,ne=h.bBox(zt.node());if(kt==="outside")Ut=j(ne,gt);else if(Ut=O(ne,gt,B),kt==="auto"&&Ut.scale<1){var te=d.ensureUniformFontSize(z,H.outsidetextfont);zt.call(h.font,te),Ut=j(ne=h.bBox(zt.node()),gt)}var ae=Ut.textPosAngle,ue=ae===void 0?gt.pxmid:J(B.r,ae);if(Ut.targetX=wt+ue[0]*Ut.rCenter+(Ut.x||0),Ut.targetY=Et+ue[1]*Ut.rCenter+(Ut.y||0),ct(Ut,ne),Ut.outside){var pe=Ut.targetY;gt.yLabelMin=pe-ne.height/2,gt.yLabelMid=pe,gt.yLabelMax=pe+ne.height/2,gt.labelExtraX=0,gt.labelExtraY=0,Q=!0}Ut.fontSize=Gt.size,y(H.type,Ut,it),rt[_t].transform=Ut,d.setTransormAndDisplay(zt,Ut)})}function Lt(zt,Gt,Ut,ne){var te=ne*(Gt[0]-zt[0]),ae=ne*(Gt[1]-zt[1]);return"a"+ne*B.r+","+ne*B.r+" 0 "+gt.largeArc+(Ut?" 1 ":" 0 ")+te+","+ae}});var ot=l.select(this).selectAll("g.titletext").data(H.title.text?[0]:[]);if(ot.enter().append("g").classed("titletext",!0),ot.exit().remove(),ot.each(function(){var gt,_t=d.ensureSingle(l.select(this),"text","",function(Et){Et.attr("data-notex",1)}),wt=H.title.text;H._meta&&(wt=d.templateString(wt,H._meta)),_t.text(wt).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(h.font,H.title.font).call(m.convertToTspans,z),gt=H.title.position==="middle center"?function(Et){var ht=Math.sqrt(Et.titleBox.width*Et.titleBox.width+Et.titleBox.height*Et.titleBox.height);return{x:Et.cx,y:Et.cy,scale:Et.trace.hole*Et.r*2/ht,tx:0,ty:-Et.titleBox.height/2+Et.trace.title.font.size}}(B):G(B,lt),_t.attr("transform",g(gt.x,gt.y)+p(Math.min(1,gt.scale))+g(gt.tx,gt.ty))}),Q&&function(gt,_t){var wt,Et,ht,vt,Ct,Mt,Nt,Rt,At,kt,Bt,Lt,zt;function Gt(ae,ue){return ae.pxmid[1]-ue.pxmid[1]}function Ut(ae,ue){return ue.pxmid[1]-ae.pxmid[1]}function ne(ae,ue){ue||(ue={});var pe,be,re,jt,$t=ue.labelExtraY+(Et?ue.yLabelMax:ue.yLabelMin),Jt=Et?ae.yLabelMin:ae.yLabelMax,qt=Et?ae.yLabelMax:ae.yLabelMin,Ce=ae.cyFinal+Ct(ae.px0[1],ae.px1[1]),fe=$t-Jt;if(fe*Nt>0&&(ae.labelExtraY=fe),Array.isArray(_t.pull))for(be=0;be<kt.length;be++)(re=kt[be])===ae||(w.castOption(_t.pull,ae.pts)||0)>=(w.castOption(_t.pull,re.pts)||0)||((ae.pxmid[1]-re.pxmid[1])*Nt>0?(fe=re.cyFinal+Ct(re.px0[1],re.px1[1])-Jt-ae.labelExtraY)*Nt>0&&(ae.labelExtraY+=fe):(qt+ae.labelExtraY-Ce)*Nt>0&&(pe=3*Mt*Math.abs(be-kt.indexOf(ae)),(jt=re.cxFinal+vt(re.px0[0],re.px1[0])+pe-(ae.cxFinal+ae.pxmid[0])-ae.labelExtraX)*Mt>0&&(ae.labelExtraX+=jt)))}for(Et=0;Et<2;Et++)for(ht=Et?Gt:Ut,Ct=Et?Math.max:Math.min,Nt=Et?1:-1,wt=0;wt<2;wt++){for(vt=wt?Math.max:Math.min,Mt=wt?1:-1,(Rt=gt[Et][wt]).sort(ht),At=gt[1-Et][wt],kt=At.concat(Rt),Lt=[],Bt=0;Bt<Rt.length;Bt++)Rt[Bt].yLabelMid!==void 0&&Lt.push(Rt[Bt]);for(zt=!1,Bt=0;Et&&Bt<At.length;Bt++)if(At[Bt].yLabelMid!==void 0){zt=At[Bt];break}for(Bt=0;Bt<Lt.length;Bt++){var te=Bt&&Lt[Bt-1];zt&&!Bt&&(te=zt),ne(Lt[Bt],te)}}}(Z,H),function(gt,_t){gt.each(function(wt){var Et=l.select(this);if(wt.labelExtraX||wt.labelExtraY){var ht=Et.select("g.slicetext text");wt.transform.targetX+=wt.labelExtraX,wt.transform.targetY+=wt.labelExtraY,d.setTransormAndDisplay(ht,wt.transform);var vt=wt.cxFinal+wt.pxmid[0],Ct="M"+vt+","+(wt.cyFinal+wt.pxmid[1]),Mt=(wt.yLabelMax-wt.yLabelMin)*(wt.pxmid[0]<0?-1:1)/4;if(wt.labelExtraX){var Nt=wt.labelExtraX*wt.pxmid[1]/wt.pxmid[0],Rt=wt.yLabelMid+wt.labelExtraY-(wt.cyFinal+wt.pxmid[1]);Math.abs(Nt)>Math.abs(Rt)?Ct+="l"+Rt*wt.pxmid[0]/wt.pxmid[1]+","+Rt+"H"+(vt+wt.labelExtraX+Mt):Ct+="l"+wt.labelExtraX+","+Nt+"v"+(Rt-Nt)+"h"+Mt}else Ct+="V"+(wt.yLabelMid+wt.labelExtraY)+"h"+Mt;d.ensureSingle(Et,"path","textline").call(f.stroke,_t.outsidetextfont.color).attr({"stroke-width":Math.min(2,_t.outsidetextfont.size/8),d:Ct,fill:"none"})}else Et.select("path.textline").remove()})}($,H),Q&&H.automargin){var st=h.bBox(V.node()),dt=H.domain,bt=lt.w*(dt.x[1]-dt.x[0]),Pt=lt.h*(dt.y[1]-dt.y[0]),It=(.5*bt-B.r)/lt.w,Dt=(.5*Pt-B.r)/lt.h;c.autoMargin(z,"pie."+H.uid+".automargin",{xl:dt.x[0]-It,xr:dt.x[1]+It,yb:dt.y[0]-Dt,yt:dt.y[1]+Dt,l:Math.max(B.cx-B.r-st.left,0),r:Math.max(st.right-(B.cx+B.r),0),b:Math.max(st.bottom-(B.cy+B.r),0),t:Math.max(B.cy-B.r-st.top,0),pad:5})}})});setTimeout(function(){pt.selectAll("tspan").each(function(){var rt=l.select(this);rt.attr("dy")&&rt.attr("dy",rt.attr("dy"))})},0)},formatSliceLabel:nt,transformInsideText:O,determineInsideTextFont:E,positionTitleOutside:G,prerenderTitles:A,layoutAreas:U,attachFxHandlers:S,computeTransform:ct}},8357:function(a,s,o){var l=o(9898),c=o(3463),u=o(2597).resizeText;a.exports=function(f){var h=f._fullLayout._pielayer.selectAll(".trace");u(f,h,"pie"),h.each(function(d){var p=d[0].trace,g=l.select(this);g.style({opacity:p.opacity}),g.selectAll("path.surface").each(function(m){l.select(this).call(c,m,p,f)})})}},3463:function(a,s,o){var l=o(7901),c=o(3581).castOption,u=o(2209);a.exports=function(f,h,d,p){var g=d.marker.line,m=c(g.color,h.pts)||l.defaultLine,v=c(g.width,h.pts)||0;f.call(u,h,d,p).style("stroke-width",v).call(l.stroke,m)}},5225:function(a,s,o){var l=o(1828);a.exports=function(c,u){for(var f=0;f<c.length;f++)c[f].i=f;l.mergeArray(u.text,c,"tx"),l.mergeArray(u.texttemplate,c,"txt"),l.mergeArray(u.hovertext,c,"htx"),l.mergeArray(u.customdata,c,"data"),l.mergeArray(u.textposition,c,"tp"),u.textfont&&(l.mergeArrayCastPositive(u.textfont.size,c,"ts"),l.mergeArray(u.textfont.color,c,"tc"),l.mergeArray(u.textfont.family,c,"tf"));var h=u.marker;if(h){l.mergeArrayCastPositive(h.size,c,"ms"),l.mergeArrayCastPositive(h.opacity,c,"mo"),l.mergeArray(h.symbol,c,"mx"),l.mergeArray(h.angle,c,"ma"),l.mergeArray(h.standoff,c,"mf"),l.mergeArray(h.color,c,"mc");var d=h.line;h.line&&(l.mergeArray(d.color,c,"mlc"),l.mergeArrayCastPositive(d.width,c,"mlw"));var p=h.gradient;p&&p.type!=="none"&&(l.mergeArray(p.type,c,"mgt"),l.mergeArray(p.color,c,"mgc"))}}},2196:function(a,s,o){var l=o(2663).axisHoverFormat,c=o(5386).si,u=o(5386).fF,f=o(693),h=o(1940),d=o(9952).P,p=o(9952).u,g=o(1424),m=o(7581),v=o(1426).extendFlat;a.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:l("x"),yhoverformat:l("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:c({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:u({},{keys:m.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:v({},d,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:p,marker:v({symbol:{valType:"enumerated",values:g.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:v({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},f("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},f("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:h({editType:"calc",colorEditType:"style",arrayOk:!0})}},7761:function(a,s,o){var l=o(2770),c=o(1828),u=o(9298),f=o(2973),h=o(606).BADNUM,d=o(4098),p=o(6922),g=o(5225),m=o(6279);function v(T,M,S,E,A,O,N){var F=M._length,P=T._fullLayout,R=S._id,k=E._id,I=P._firstScatter[b(M)]===M.uid,j=(w(M,P,S,E)||{}).orientation,G=M.fill;S._minDtick=0,E._minDtick=0;var q={padded:!0},et={padded:!0};N&&(q.ppad=et.ppad=N);var U=F<2||A[0]!==A[F-1]||O[0]!==O[F-1];U&&(G==="tozerox"||G==="tonextx"&&(I||j==="h"))?q.tozero=!0:(M.error_y||{}).visible||G!=="tonexty"&&G!=="tozeroy"&&(d.hasMarkers(M)||d.hasText(M))||(q.padded=!1,q.ppad=0),U&&(G==="tozeroy"||G==="tonexty"&&(I||j==="v"))?et.tozero=!0:G!=="tonextx"&&G!=="tozerox"||(et.padded=!1),R&&(M._extremes[R]=u.findExtremes(S,A,q)),k&&(M._extremes[k]=u.findExtremes(E,O,et))}function y(T,M){if(d.hasMarkers(T)){var S,E=T.marker,A=1.6*(T.marker.sizeref||1);if(S=T.marker.sizemode==="area"?function(R){return Math.max(Math.sqrt((R||0)/A),3)}:function(R){return Math.max((R||0)/A,3)},c.isArrayOrTypedArray(E.size)){var O={type:"linear"};u.setConvert(O);for(var N=O.makeCalcdata(T.marker,"size"),F=new Array(M),P=0;P<M;P++)F[P]=S(N[P]);return F}return S(E.size)}}function _(T,M){var S=b(M),E=T._firstScatter;E[S]||(E[S]=M.uid)}function b(T){var M=T.stackgroup;return T.xaxis+T.yaxis+T.type+(M?"-"+M:"")}function w(T,M,S,E){var A=T.stackgroup;if(A){var O=M._scatterStackOpts[S._id+E._id][A],N=O.orientation==="v"?E:S;return N.type==="linear"||N.type==="log"?O:void 0}}a.exports={calc:function(T,M){var S,E,A,O,N,F,P=T._fullLayout,R=M._xA=u.getFromId(T,M.xaxis||"x","x"),k=M._yA=u.getFromId(T,M.yaxis||"y","y"),I=R.makeCalcdata(M,"x"),j=k.makeCalcdata(M,"y"),G=f(M,R,"x",I),q=f(M,k,"y",j),et=G.vals,U=q.vals,J=M._length,nt=new Array(J),ct=M.ids,z=w(M,P,R,k),W=!1;_(P,M);var X,it="x",lt="y";z?(c.pushUnique(z.traceIndices,M._expandedIndex),(S=z.orientation==="v")?(lt="s",X="x"):(it="s",X="y"),N=z.stackgaps==="interpolate"):v(T,M,R,k,et,U,y(M,J));var pt=!!M.xperiodalignment,rt=!!M.yperiodalignment;for(E=0;E<J;E++){var V=nt[E]={},B=l(et[E]),H=l(U[E]);B&&H?(V[it]=et[E],V[lt]=U[E],pt&&(V.orig_x=I[E],V.xEnd=G.ends[E],V.xStart=G.starts[E]),rt&&(V.orig_y=j[E],V.yEnd=q.ends[E],V.yStart=q.starts[E])):z&&(S?B:H)?(V[X]=S?et[E]:U[E],V.gap=!0,N?(V.s=h,W=!0):V.s=0):V[it]=V[lt]=h,ct&&(V.id=String(ct[E]))}if(g(nt,M),p(T,M),m(nt,M),z){for(E=0;E<nt.length;)nt[E][X]===h?nt.splice(E,1):E++;if(c.sort(nt,function(ot,st){return ot[X]-st[X]||ot.i-st.i}),W){for(E=0;E<nt.length-1&&nt[E].gap;)E++;for((F=nt[E].s)||(F=nt[E].s=0),A=0;A<E;A++)nt[A].s=F;for(O=nt.length-1;O>E&&nt[O].gap;)O--;for(F=nt[O].s,A=nt.length-1;A>O;A--)nt[A].s=F;for(;E<O;)if(nt[++E].gap){for(A=E+1;nt[A].gap;)A++;for(var $=nt[E-1][X],Z=nt[E-1].s,Q=(nt[A].s-Z)/(nt[A][X]-$);E<A;)nt[E].s=Z+(nt[E][X]-$)*Q,E++}}}return nt},calcMarkerSize:y,calcAxisExpansion:v,setFirstScatter:_,getStackOpts:w}},6279:function(a,s,o){var l=o(1828);a.exports=function(c,u){l.isArrayOrTypedArray(u.selectedpoints)&&l.tagSelected(c,u)}},6922:function(a,s,o){var l=o(2869).hasColorscale,c=o(8803),u=o(4098);a.exports=function(f,h){u.hasLines(h)&&l(h,"line")&&c(f,h,{vals:h.line.color,containerStr:"line",cLetter:"c"}),u.hasMarkers(h)&&(l(h,"marker")&&c(f,h,{vals:h.marker.color,containerStr:"marker",cLetter:"c"}),l(h,"marker.line")&&c(f,h,{vals:h.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},7581:function(a){a.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},2626:function(a,s,o){var l=o(7761),c=o(1661).setGroupPositions;function u(f,h,d,p,g,m,v){g[p]=!0;var y={i:null,gap:!0,s:0};if(y[v]=d,f.splice(h,0,y),h&&d===f[h-1][v]){var _=f[h-1];y.s=_.s,y.i=_.i,y.gap=_.gap}else m&&(y.s=function(b,w,T,M){var S=b[w-1],E=b[w+1];return E?S?S.s+(E.s-S.s)*(T-S[M])/(E[M]-S[M]):E.s:S.s}(f,h,d,v));h||(f[0].t=f[1].t,f[0].trace=f[1].trace,delete f[1].t,delete f[1].trace)}a.exports=function(f,h){f._fullLayout.scattermode==="group"&&function(X,it){for(var lt=it.xaxis,pt=it.yaxis,rt=X._fullLayout,V=X._fullData,B=X.calcdata,H=[],$=[],Z=0;Z<V.length;Z++){var Q=V[Z];Q.visible===!0&&Q.type==="scatter"&&Q.xaxis===lt._id&&Q.yaxis===pt._id&&(Q.orientation==="h"?H.push(B[Z]):Q.orientation==="v"&&$.push(B[Z]))}var ot={mode:rt.scattermode,gap:rt.scattergap};c(X,lt,pt,$,ot),c(X,pt,lt,H,ot)}(f,h);var d=h.xaxis,p=h.yaxis,g=d._id+p._id,m=f._fullLayout._scatterStackOpts[g];if(m){var v,y,_,b,w,T,M,S,E,A,O,N,F,P,R,k=f.calcdata;for(var I in m){var j=(A=m[I]).traceIndices;if(j.length){for(O=A.stackgaps==="interpolate",N=A.groupnorm,A.orientation==="v"?(F="x",P="y"):(F="y",P="x"),R=new Array(j.length),v=0;v<R.length;v++)R[v]=!1;T=k[j[0]];var G=new Array(T.length);for(v=0;v<T.length;v++)G[v]=T[v][F];for(v=1;v<j.length;v++){for(w=k[j[v]],y=_=0;y<w.length;y++){for(M=w[y][F];M>G[_]&&_<G.length;_++)u(w,y,G[_],v,R,O,F),y++;if(M!==G[_]){for(b=0;b<v;b++)u(k[j[b]],_,M,b,R,O,F);G.splice(_,0,M)}_++}for(;_<G.length;_++)u(w,y,G[_],v,R,O,F),y++}var q=G.length;for(y=0;y<T.length;y++){for(S=T[y][P]=T[y].s,v=1;v<j.length;v++)(w=k[j[v]])[0].trace._rawLength=w[0].trace._length,w[0].trace._length=q,S+=w[y].s,w[y][P]=S;if(N)for(E=(N==="fraction"?S:S/100)||1,v=0;v<j.length;v++){var et=k[j[v]][y];et[P]/=E,et.sNorm=et.s/E}}for(v=0;v<j.length;v++){var U=(w=k[j[v]])[0].trace,J=l.calcMarkerSize(U,U._rawLength),nt=Array.isArray(J);if(J&&R[v]||nt){var ct=J;for(J=new Array(q),y=0;y<q;y++)J[y]=w[y].gap?0:nt?ct[w[y].i]:ct}var z=new Array(q),W=new Array(q);for(y=0;y<q;y++)z[y]=w[y].x,W[y]=w[y].y;l.calcAxisExpansion(f,U,d,p,z,W,J),w[0].t.orientation=A.orientation}}}}}},462:function(a,s,o){var l=o(1828),c=o(6125),u=o(2196);a.exports=function(f,h){var d,p,g;function m(w){return l.coerce(p._input,p,u,w)}if(h.scattermode==="group")for(g=0;g<f.length;g++)(p=f[g]).type==="scatter"&&(d=p._input,c(d,p,h,m));for(g=0;g<f.length;g++){var v=f[g];if(v.type==="scatter"){var y=v.fill;if(y!=="none"&&y!=="toself"&&(v.opacity=void 0,y==="tonexty"||y==="tonextx"))for(var _=g-1;_>=0;_--){var b=f[_];if(b.type==="scatter"&&b.xaxis===v.xaxis&&b.yaxis===v.yaxis){b.opacity=void 0;break}}}}}},7438:function(a,s,o){var l=o(1828),c=o(3972),u=o(2196),f=o(7581),h=o(4098),d=o(7513),p=o(3927),g=o(565),m=o(9508),v=o(1058),y=o(4039),_=o(2410),b=o(8908),w=o(1828).coercePattern;a.exports=function(T,M,S,E){function A(j,G){return l.coerce(T,M,u,j,G)}var O=d(T,M,E,A);if(O||(M.visible=!1),M.visible){p(T,M,E,A),A("xhoverformat"),A("yhoverformat");var N=g(T,M,E,A);E.scattermode==="group"&&M.orientation===void 0&&A("orientation","v");var F=!N&&O<f.PTS_LINESONLY?"lines+markers":"lines";A("text"),A("hovertext"),A("mode",F),h.hasLines(M)&&(v(T,M,S,E,A,{backoff:!0}),y(T,M,A),A("connectgaps"),A("line.simplify")),h.hasMarkers(M)&&m(T,M,S,E,A,{gradient:!0}),h.hasText(M)&&(A("texttemplate"),_(T,M,E,A));var P=[];(h.hasMarkers(M)||h.hasText(M))&&(A("cliponaxis"),A("marker.maxdisplayed"),P.push("points")),A("fill",N?N.fillDflt:"none"),M.fill!=="none"&&(b(T,M,S,A),h.hasLines(M)||y(T,M,A),w(A,"fillpattern",M.fillcolor,!1));var R=(M.line||{}).color,k=(M.marker||{}).color;M.fill!=="tonext"&&M.fill!=="toself"||P.push("fills"),A("hoveron",P.join("+")||"points"),M.hoveron!=="fills"&&A("hovertemplate");var I=c.getComponentMethod("errorbars","supplyDefaults");I(T,M,R||k||S,{axis:"y"}),I(T,M,R||k||S,{axis:"x",inherit:"y"}),l.coerceSelectionMarkerOpacity(M,A)}}},8908:function(a,s,o){var l=o(7901),c=o(1828).isArrayOrTypedArray;a.exports=function(u,f,h,d){var p=!1;if(f.marker){var g=f.marker.color,m=(f.marker.line||{}).color;g&&!c(g)?p=g:m&&!c(m)&&(p=m)}d("fillcolor",l.addOpacity((f.line||{}).color||p||h,.5))}},8225:function(a,s,o){var l=o(9298);a.exports=function(c,u,f){var h={},d={_fullLayout:f},p=l.getFromTrace(d,u,"x"),g=l.getFromTrace(d,u,"y"),m=c.orig_x;m===void 0&&(m=c.x);var v=c.orig_y;return v===void 0&&(v=c.y),h.xLabel=l.tickText(p,p.c2l(m),!0).text,h.yLabel=l.tickText(g,g.c2l(v),!0).text,h}},4603:function(a,s,o){var l=o(7901),c=o(4098);a.exports=function(u,f){var h,d;if(u.mode==="lines")return(h=u.line.color)&&l.opacity(h)?h:u.fillcolor;if(u.mode==="none")return u.fill?u.fillcolor:"";var p=f.mcc||(u.marker||{}).color,g=f.mlcc||((u.marker||{}).line||{}).color;return(d=p&&l.opacity(p)?p:g&&l.opacity(g)&&(f.mlw||((u.marker||{}).line||{}).width)?g:"")?l.opacity(d)<.3?l.addOpacity(d,.3):d:(h=(u.line||{}).color)&&l.opacity(h)&&c.hasLines(u)&&u.line.width?h:u.fillcolor}},6125:function(a,s,o){var l=o(9082).getAxisGroup;a.exports=function(c,u,f,h){var d=u.orientation,p=u[{v:"x",h:"y"}[d]+"axis"],g=l(f,p)+d,m=f._alignmentOpts||{},v=h("alignmentgroup"),y=m[g];y||(y=m[g]={});var _=y[v];_?_.traces.push(u):_=y[v]={traces:[u],alignmentIndex:Object.keys(y).length,offsetGroups:{}};var b=h("offsetgroup"),w=_.offsetGroups,T=w[b];b&&(T||(T=w[b]={offsetIndex:Object.keys(w).length}),u._offsetIndex=T.offsetIndex)}},3720:function(a,s,o){var l=o(1828),c=o(211),u=o(3972),f=o(4603),h=o(7901),d=l.fillText;a.exports=function(p,g,m,v){var y=p.cd,_=y[0].trace,b=p.xa,w=p.ya,T=b.c2p(g),M=w.c2p(m),S=[T,M],E=_.hoveron||"",A=_.mode.indexOf("markers")!==-1?3:.5,O=!!_.xperiodalignment,N=!!_.yperiodalignment;if(E.indexOf("points")!==-1){var F=function(dt){var bt=Math.max(A,dt.mrc||0),Pt=b.c2p(dt.x)-T,It=w.c2p(dt.y)-M;return Math.max(Math.sqrt(Pt*Pt+It*It)-bt,1-A/bt)},P=c.getDistanceFunction(v,function(dt){if(O){var bt=b.c2p(dt.xStart),Pt=b.c2p(dt.xEnd);return T>=Math.min(bt,Pt)&&T<=Math.max(bt,Pt)?0:1/0}var It=Math.max(3,dt.mrc||0),Dt=1-1/It,gt=Math.abs(b.c2p(dt.x)-T);return gt<It?Dt*gt/It:gt-It+Dt},function(dt){if(N){var bt=w.c2p(dt.yStart),Pt=w.c2p(dt.yEnd);return M>=Math.min(bt,Pt)&&M<=Math.max(bt,Pt)?0:1/0}var It=Math.max(3,dt.mrc||0),Dt=1-1/It,gt=Math.abs(w.c2p(dt.y)-M);return gt<It?Dt*gt/It:gt-It+Dt},F);if(c.getClosest(y,P,p),p.index!==!1){var R=y[p.index],k=b.c2p(R.x,!0),I=w.c2p(R.y,!0),j=R.mrc||1;p.index=R.i;var G=y[0].t.orientation,q=G&&(R.sNorm||R.s),et=G==="h"?q:R.orig_x!==void 0?R.orig_x:R.x,U=G==="v"?q:R.orig_y!==void 0?R.orig_y:R.y;return l.extendFlat(p,{color:f(_,R),x0:k-j,x1:k+j,xLabelVal:et,y0:I-j,y1:I+j,yLabelVal:U,spikeDistance:F(R),hovertemplate:_.hovertemplate}),d(R,_,p),u.getComponentMethod("errorbars","hoverInfo")(R,_,p),[p]}}if(E.indexOf("fills")!==-1&&_._polygons){var J,nt,ct,z,W,X,it,lt,pt,rt=_._polygons,V=[],B=!1,H=1/0,$=-1/0,Z=1/0,Q=-1/0;for(J=0;J<rt.length;J++)(ct=rt[J]).contains(S)&&(B=!B,V.push(ct),Z=Math.min(Z,ct.ymin),Q=Math.max(Q,ct.ymax));if(B){var ot=((Z=Math.max(Z,0))+(Q=Math.min(Q,w._length)))/2;for(J=0;J<V.length;J++)for(z=V[J].pts,nt=1;nt<z.length;nt++)(lt=z[nt-1][1])>ot!=(pt=z[nt][1])>=ot&&(X=z[nt-1][0],it=z[nt][0],pt-lt&&(W=X+(it-X)*(ot-lt)/(pt-lt),H=Math.min(H,W),$=Math.max($,W)));H=Math.max(H,0),$=Math.min($,b._length);var st=h.defaultLine;return h.opacity(_.fillcolor)?st=_.fillcolor:h.opacity((_.line||{}).color)&&(st=_.line.color),l.extendFlat(p,{distance:p.maxHoverDistance,x0:H,x1:$,y0:ot,y1:ot,color:st,hovertemplate:!1}),delete p.index,_.text&&!Array.isArray(_.text)?p.text=String(_.text):p.text=_.name,[p]}}}},7368:function(a,s,o){var l=o(4098);a.exports={hasLines:l.hasLines,hasMarkers:l.hasMarkers,hasText:l.hasText,isBubble:l.isBubble,attributes:o(2196),layoutAttributes:o(1479),supplyDefaults:o(7438),crossTraceDefaults:o(462),supplyLayoutDefaults:o(9334),calc:o(7761).calc,crossTraceCalc:o(2626),arraysToCalcdata:o(5225),plot:o(7399),colorbar:o(4898),formatLabels:o(8225),style:o(6296).style,styleOnSelect:o(6296).styleOnSelect,hoverPoints:o(3720),selectPoints:o(8002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:o(3612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},1479:function(a){a.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},9334:function(a,s,o){var l=o(1828),c=o(1479);a.exports=function(u,f){var h,d=f.barmode==="group";f.scattermode==="group"&&(h=d?f.bargap:.2,l.coerce(u,f,c,"scattergap",h))}},1058:function(a,s,o){var l=o(1828).isArrayOrTypedArray,c=o(2869).hasColorscale,u=o(1586);a.exports=function(f,h,d,p,g,m){m||(m={});var v=(f.marker||{}).color;g("line.color",d),c(f,"line")?u(f,h,p,g,{prefix:"line.",cLetter:"c"}):g("line.color",!l(v)&&v||d),g("line.width"),m.noDash||g("line.dash"),m.backoff&&g("line.backoff")}},4621:function(a,s,o){var l=o(1424),c=o(606),u=c.BADNUM,f=c.LOG_CLIP,h=f+.5,d=f-.5,p=o(1828),g=p.segmentsIntersect,m=p.constrain,v=o(7581);a.exports=function(y,_){var b,w,T,M,S,E,A,O,N,F,P,R,k,I,j,G,q,et,U=_.trace||{},J=_.xaxis,nt=_.yaxis,ct=J.type==="log",z=nt.type==="log",W=J._length,X=nt._length,it=_.backoff,lt=U.marker,pt=_.connectGaps,rt=_.baseTolerance,V=_.shape,B=V==="linear",H=U.fill&&U.fill!=="none",$=[],Z=v.minTolerance,Q=y.length,ot=new Array(Q),st=0;function dt(fe){var Me=y[fe];if(!Me)return!1;var Ee=_.linearized?J.l2p(Me.x):J.c2p(Me.x),He=_.linearized?nt.l2p(Me.y):nt.c2p(Me.y);if(Ee===u){if(ct&&(Ee=J.c2p(Me.x,!0)),Ee===u)return!1;z&&He===u&&(Ee*=Math.abs(J._m*X*(J._m>0?h:d)/(nt._m*W*(nt._m>0?h:d)))),Ee*=1e3}if(He===u){if(z&&(He=nt.c2p(Me.y,!0)),He===u)return!1;He*=1e3}return[Ee,He]}function bt(fe,Me,Ee,He){var Ae=Ee-fe,$e=He-Me,Oe=.5-fe,ft=.5-Me,mt=Ae*Ae+$e*$e,Ht=Ae*Oe+$e*ft;if(Ht>0&&Ht<mt){var Vt=Oe*$e-ft*Ae;if(Vt*Vt<mt)return!0}}function Pt(fe,Me){var Ee=fe[0]/W,He=fe[1]/X,Ae=Math.max(0,-Ee,Ee-1,-He,He-1);return Ae&&q!==void 0&&bt(Ee,He,q,et)&&(Ae=0),Ae&&Me&&bt(Ee,He,Me[0]/W,Me[1]/X)&&(Ae=0),(1+v.toleranceGrowth*Ae)*rt}function It(fe,Me){var Ee=fe[0]-Me[0],He=fe[1]-Me[1];return Math.sqrt(Ee*Ee+He*He)}var Dt,gt,_t,wt,Et,ht,vt,Ct=v.maxScreensAway,Mt=-W*Ct,Nt=W*(1+Ct),Rt=-X*Ct,At=X*(1+Ct),kt=[[Mt,Rt,Nt,Rt],[Nt,Rt,Nt,At],[Nt,At,Mt,At],[Mt,At,Mt,Rt]];function Bt(fe){if(fe[0]<Mt||fe[0]>Nt||fe[1]<Rt||fe[1]>At)return[m(fe[0],Mt,Nt),m(fe[1],Rt,At)]}function Lt(fe,Me){return fe[0]===Me[0]&&(fe[0]===Mt||fe[0]===Nt)||fe[1]===Me[1]&&(fe[1]===Rt||fe[1]===At)||void 0}function zt(fe,Me,Ee){return function(He,Ae){var $e=Bt(He),Oe=Bt(Ae),ft=[];if($e&&Oe&&Lt($e,Oe))return ft;$e&&ft.push($e),Oe&&ft.push(Oe);var mt=2*p.constrain((He[fe]+Ae[fe])/2,Me,Ee)-(($e||He)[fe]+(Oe||Ae)[fe]);return mt&&(($e&&Oe?mt>0==$e[fe]>Oe[fe]?$e:Oe:$e||Oe)[fe]+=mt),ft}}function Gt(fe){var Me=fe[0],Ee=fe[1],He=Me===ot[st-1][0],Ae=Ee===ot[st-1][1];if(!He||!Ae)if(st>1){var $e=Me===ot[st-2][0],Oe=Ee===ot[st-2][1];He&&(Me===Mt||Me===Nt)&&$e?Oe?st--:ot[st-1]=fe:Ae&&(Ee===Rt||Ee===At)&&Oe?$e?st--:ot[st-1]=fe:ot[st++]=fe}else ot[st++]=fe}function Ut(fe){ot[st-1][0]!==fe[0]&&ot[st-1][1]!==fe[1]&&Gt([_t,wt]),Gt(fe),Et=null,_t=wt=0}V==="linear"||V==="spline"?vt=function(fe,Me){for(var Ee=[],He=0,Ae=0;Ae<4;Ae++){var $e=kt[Ae],Oe=g(fe[0],fe[1],Me[0],Me[1],$e[0],$e[1],$e[2],$e[3]);Oe&&(!He||Math.abs(Oe.x-Ee[0][0])>1||Math.abs(Oe.y-Ee[0][1])>1)&&(Oe=[Oe.x,Oe.y],He&&It(Oe,fe)<It(Ee[0],fe)?Ee.unshift(Oe):Ee.push(Oe),He++)}return Ee}:V==="hv"||V==="vh"?vt=function(fe,Me){var Ee=[],He=Bt(fe),Ae=Bt(Me);return He&&Ae&&Lt(He,Ae)||(He&&Ee.push(He),Ae&&Ee.push(Ae)),Ee}:V==="hvh"?vt=zt(0,Mt,Nt):V==="vhv"&&(vt=zt(1,Rt,At));var ne=p.isArrayOrTypedArray(lt);function te(fe){if(fe&&it&&(fe.i=b,fe.d=y,fe.trace=U,fe.marker=ne?lt[fe.i]:lt,fe.backoff=it),q=fe[0]/W,et=fe[1]/X,Dt=fe[0]<Mt?Mt:fe[0]>Nt?Nt:0,gt=fe[1]<Rt?Rt:fe[1]>At?At:0,Dt||gt){if(st)if(Et){var Me=vt(Et,fe);Me.length>1&&(Ut(Me[0]),ot[st++]=Me[1])}else ht=vt(ot[st-1],fe)[0],ot[st++]=ht;else ot[st++]=[Dt||fe[0],gt||fe[1]];var Ee=ot[st-1];Dt&&gt&&(Ee[0]!==Dt||Ee[1]!==gt)?(Et&&(_t!==Dt&&wt!==gt?Gt(_t&&wt?(He=Et,$e=(Ae=fe)[0]-He[0],Oe=(Ae[1]-He[1])/$e,(He[1]*Ae[0]-Ae[1]*He[0])/$e>0?[Oe>0?Mt:Nt,At]:[Oe>0?Nt:Mt,Rt]):[_t||Dt,wt||gt]):_t&&wt&&Gt([_t,wt])),Gt([Dt,gt])):_t-Dt&&wt-gt&&Gt([Dt||_t,gt||wt]),Et=fe,_t=Dt,wt=gt}else Et&&Ut(vt(Et,fe)[0]),ot[st++]=fe;var He,Ae,$e,Oe}for(b=0;b<Q;b++)if(w=dt(b)){for(st=0,Et=null,te(w),b++;b<Q;b++){if(!(M=dt(b))){if(pt)continue;break}if(B&&_.simplify){var ae=dt(b+1);if(F=It(M,w),H&&(st===0||st===Q-1)||!(F<Pt(M,ae)*Z)){for(O=[(M[0]-w[0])/F,(M[1]-w[1])/F],S=w,P=F,R=I=j=0,A=!1,T=M,b++;b<y.length;b++){if(E=ae,ae=dt(b+1),!E){if(pt)continue;break}if(G=(N=[E[0]-w[0],E[1]-w[1]])[0]*O[1]-N[1]*O[0],I=Math.min(I,G),(j=Math.max(j,G))-I>Pt(E,ae))break;T=E,(k=N[0]*O[0]+N[1]*O[1])>P?(P=k,M=E,A=!1):k<R&&(R=k,S=E,A=!0)}if(A?(te(M),T!==S&&te(S)):(S!==w&&te(S),T!==M&&te(M)),te(T),b>=y.length||!E)break;te(E),w=E}}else te(M)}Et&&Gt([_t||Et[0],wt||Et[1]]),$.push(ot.slice(0,st))}var ue=V.slice(V.length-1);if(it&&ue!=="h"&&ue!=="v"){for(var pe=!1,be=-1,re=[],jt=0;jt<$.length;jt++)for(var $t=0;$t<$[jt].length-1;$t++){var Jt=$[jt][$t],qt=$[jt][$t+1],Ce=l.applyBackoff(qt,Jt);Ce[0]===qt[0]&&Ce[1]===qt[1]||(pe=!0),re[be+1]||(re[++be]=[Jt,[Ce[0],Ce[1]]])}return pe?re:$}return $}},4039:function(a){a.exports=function(s,o,l){l("line.shape")==="spline"&&l("line.smoothing")}},8687:function(a){var s={tonextx:1,tonexty:1,tonext:1};a.exports=function(o,l,c){var u,f,h,d,p,g={},m=!1,v=-1,y=0,_=-1;for(f=0;f<c.length;f++)(h=(u=c[f][0].trace).stackgroup||"")?h in g?p=g[h]:(p=g[h]=y,y++):u.fill in s&&_>=0?p=_:(p=_=y,y++),p<v&&(m=!0),u._groupIndex=v=p;var b=c.slice();m&&b.sort(function(T,M){var S=T[0].trace,E=M[0].trace;return S._groupIndex-E._groupIndex||S.index-E.index});var w={};for(f=0;f<b.length;f++)h=(u=b[f][0].trace).stackgroup||"",u.visible===!0?(u._nexttrace=null,u.fill in s&&(d=w[h],u._prevtrace=d||null,d&&(d._nexttrace=u)),u._ownfill=u.fill&&(u.fill.substr(0,6)==="tozero"||u.fill==="toself"||u.fill.substr(0,2)==="to"&&!u._prevtrace),w[h]=u):u._prevtrace=u._nexttrace=u._ownfill=null;return b}},9984:function(a,s,o){var l=o(2770);a.exports=function(c,u){u||(u=2);var f=c.marker,h=f.sizeref||1,d=f.sizemin||0,p=f.sizemode==="area"?function(g){return Math.sqrt(g/h)}:function(g){return g/h};return function(g){var m=p(g/u);return l(m)&&m>0?Math.max(m,d):0}}},4898:function(a){a.exports={container:"marker",min:"cmin",max:"cmax"}},9508:function(a,s,o){var l=o(7901),c=o(2869).hasColorscale,u=o(1586),f=o(4098);a.exports=function(h,d,p,g,m,v){var y=f.isBubble(h),_=(h.line||{}).color;v=v||{},_&&(p=_),m("marker.symbol"),m("marker.opacity",y?.7:1),m("marker.size"),v.noAngle||(m("marker.angle"),v.noAngleRef||m("marker.angleref"),v.noStandOff||m("marker.standoff")),m("marker.color",p),c(h,"marker")&&u(h,d,g,m,{prefix:"marker.",cLetter:"c"}),v.noSelect||(m("selected.marker.color"),m("unselected.marker.color"),m("selected.marker.size"),m("unselected.marker.size")),v.noLine||(m("marker.line.color",_&&!Array.isArray(_)&&d.marker.color!==_?_:y?l.background:l.defaultLine),c(h,"marker.line")&&u(h,d,g,m,{prefix:"marker.line.",cLetter:"c"}),m("marker.line.width",y?1:0)),y&&(m("marker.sizeref"),m("marker.sizemin"),m("marker.sizemode")),v.gradient&&m("marker.gradient.type")!=="none"&&m("marker.gradient.color")}},3927:function(a,s,o){var l=o(1828).dateTick0,c=o(606).ONEWEEK;function u(f,h){return l(h,f%c==0?1:0)}a.exports=function(f,h,d,p,g){if(g||(g={x:!0,y:!0}),g.x){var m=p("xperiod");m&&(p("xperiod0",u(m,h.xcalendar)),p("xperiodalignment"))}if(g.y){var v=p("yperiod");v&&(p("yperiod0",u(v,h.ycalendar)),p("yperiodalignment"))}}},7399:function(a,s,o){var l=o(9898),c=o(3972),u=o(1828),f=u.ensureSingle,h=u.identity,d=o(1424),p=o(4098),g=o(4621),m=o(8687),v=o(1082).tester;function y(_,b,w,T,M,S,E){var A,O=_._context.staticPlot;(function(vt,Ct,Mt,Nt,Rt){var At=Mt.xaxis,kt=Mt.yaxis,Bt=l.extent(u.simpleMap(At.range,At.r2c)),Lt=l.extent(u.simpleMap(kt.range,kt.r2c)),zt=Nt[0].trace;if(p.hasMarkers(zt)){var Gt=zt.marker.maxdisplayed;if(Gt!==0){var Ut=Nt.filter(function(ue){return ue.x>=Bt[0]&&ue.x<=Bt[1]&&ue.y>=Lt[0]&&ue.y<=Lt[1]}),ne=Math.ceil(Ut.length/Gt),te=0;Rt.forEach(function(ue,pe){var be=ue[0].trace;p.hasMarkers(be)&&be.marker.maxdisplayed>0&&pe<Ct&&te++});var ae=Math.round(te*ne/3+Math.floor(te/3)*ne/7.1);Nt.forEach(function(ue){delete ue.vis}),Ut.forEach(function(ue,pe){Math.round((pe+ae)%ne)===0&&(ue.vis=!0)})}}})(0,b,w,T,M);var N=!!E&&E.duration>0;function F(vt){return N?vt.transition():vt}var P=w.xaxis,R=w.yaxis,k=T[0].trace,I=k.line,j=l.select(S),G=f(j,"g","errorbars"),q=f(j,"g","lines"),et=f(j,"g","points"),U=f(j,"g","text");if(c.getComponentMethod("errorbars","plot")(_,G,w,E),k.visible===!0){var J,nt;F(j).style("opacity",k.opacity);var ct=k.fill.charAt(k.fill.length-1);ct!=="x"&&ct!=="y"&&(ct=""),T[0][w.isRangePlot?"nodeRangePlot3":"node3"]=j;var z,W,X="",it=[],lt=k._prevtrace;lt&&(X=lt._prevRevpath||"",nt=lt._nextFill,it=lt._polygons);var pt,rt,V,B,H,$,Z,Q="",ot="",st=[],dt=u.noop;if(J=k._ownFill,p.hasLines(k)||k.fill!=="none"){for(nt&&nt.datum(T),["hv","vh","hvh","vhv"].indexOf(I.shape)!==-1?(pt=d.steps(I.shape),rt=d.steps(I.shape.split("").reverse().join(""))):pt=rt=I.shape==="spline"?function(vt){var Ct=vt[vt.length-1];return vt.length>1&&vt[0][0]===Ct[0]&&vt[0][1]===Ct[1]?d.smoothclosed(vt.slice(1),I.smoothing):d.smoothopen(vt,I.smoothing)}:function(vt){return"M"+vt.join("L")},V=function(vt){return rt(vt.reverse())},st=g(T,{xaxis:P,yaxis:R,trace:k,connectGaps:k.connectgaps,baseTolerance:Math.max(I.width||1,3)/4,shape:I.shape,backoff:I.backoff,simplify:I.simplify,fill:k.fill}),Z=k._polygons=new Array(st.length),A=0;A<st.length;A++)k._polygons[A]=v(st[A]);st.length&&(B=st[0][0],$=(H=st[st.length-1])[H.length-1]),dt=function(vt){return function(Ct){if(z=pt(Ct),W=V(Ct),Q?ct?(Q+="L"+z.substr(1),ot=W+"L"+ot.substr(1)):(Q+="Z"+z,ot=W+"Z"+ot):(Q=z,ot=W),p.hasLines(k)){var Mt=l.select(this);if(Mt.datum(T),vt)F(Mt.style("opacity",0).attr("d",z).call(d.lineGroupStyle)).style("opacity",1);else{var Nt=F(Mt);Nt.attr("d",z),d.singleLineStyle(T,Nt)}}}}}var bt=q.selectAll(".js-line").data(st);F(bt.exit()).style("opacity",0).remove(),bt.each(dt(!1)),bt.enter().append("path").classed("js-line",!0).style("vector-effect",O?"none":"non-scaling-stroke").call(d.lineGroupStyle).each(dt(!0)),d.setClipUrl(bt,w.layerClipId,_),st.length?(J?(J.datum(T),B&&$&&(ct?(ct==="y"?B[1]=$[1]=R.c2p(0,!0):ct==="x"&&(B[0]=$[0]=P.c2p(0,!0)),F(J).attr("d","M"+$+"L"+B+"L"+Q.substr(1)).call(d.singleFillStyle,_)):F(J).attr("d",Q+"Z").call(d.singleFillStyle,_))):nt&&(k.fill.substr(0,6)==="tonext"&&Q&&X?(k.fill==="tonext"?F(nt).attr("d",Q+"Z"+X+"Z").call(d.singleFillStyle,_):F(nt).attr("d",Q+"L"+X.substr(1)+"Z").call(d.singleFillStyle,_),k._polygons=k._polygons.concat(it)):(It(nt),k._polygons=null)),k._prevRevpath=ot,k._prevPolygons=Z):(J?It(J):nt&&It(nt),k._polygons=k._prevRevpath=k._prevPolygons=null),et.datum(T),U.datum(T),function(vt,Ct,Mt){var Nt,Rt=Mt[0].trace,At=p.hasMarkers(Rt),kt=p.hasText(Rt),Bt=Et(Rt),Lt=ht,zt=ht;if(At||kt){var Gt=h,Ut=Rt.stackgroup,ne=Ut&&_._fullLayout._scatterStackOpts[P._id+R._id][Ut].stackgaps==="infer zero";Rt.marker.maxdisplayed||Rt._needsCull?Gt=ne?gt:Dt:Ut&&!ne&&(Gt=_t),At&&(Lt=Gt),kt&&(zt=Gt)}var te,ae=(Nt=vt.selectAll("path.point").data(Lt,Bt)).enter().append("path").classed("point",!0);N&&ae.call(d.pointStyle,Rt,_).call(d.translatePoints,P,R).style("opacity",0).transition().style("opacity",1),Nt.order(),At&&(te=d.makePointStyleFns(Rt)),Nt.each(function(ue){var pe=l.select(this),be=F(pe);d.translatePoint(ue,be,P,R)?(d.singlePointStyle(ue,be,Rt,te,_),w.layerClipId&&d.hideOutsideRangePoint(ue,be,P,R,Rt.xcalendar,Rt.ycalendar),Rt.customdata&&pe.classed("plotly-customdata",ue.data!==null&&ue.data!==void 0)):be.remove()}),N?Nt.exit().transition().style("opacity",0).remove():Nt.exit().remove(),(Nt=Ct.selectAll("g").data(zt,Bt)).enter().append("g").classed("textpoint",!0).append("text"),Nt.order(),Nt.each(function(ue){var pe=l.select(this),be=F(pe.select("text"));d.translatePoint(ue,be,P,R)?w.layerClipId&&d.hideOutsideRangePoint(ue,pe,P,R,Rt.xcalendar,Rt.ycalendar):pe.remove()}),Nt.selectAll("text").call(d.textPointStyle,Rt,_).each(function(ue){var pe=P.c2p(ue.x),be=R.c2p(ue.y);l.select(this).selectAll("tspan.line").each(function(){F(l.select(this)).attr({x:pe,y:be})})}),Nt.exit().remove()}(et,U,T);var Pt=k.cliponaxis===!1?null:w.layerClipId;d.setClipUrl(et,Pt,_),d.setClipUrl(U,Pt,_)}function It(vt){F(vt).attr("d","M0,0Z")}function Dt(vt){return vt.filter(function(Ct){return!Ct.gap&&Ct.vis})}function gt(vt){return vt.filter(function(Ct){return Ct.vis})}function _t(vt){return vt.filter(function(Ct){return!Ct.gap})}function wt(vt){return vt.id}function Et(vt){if(vt.ids)return wt}function ht(){return!1}}a.exports=function(_,b,w,T,M,S){var E,A,O=!M,N=!!M&&M.duration>0,F=m(_,b,w);(E=T.selectAll("g.trace").data(F,function(P){return P[0].trace.uid})).enter().append("g").attr("class",function(P){return"trace scatter trace"+P[0].trace.uid}).style("stroke-miterlimit",2),E.order(),function(P,R,k){R.each(function(I){var j=f(l.select(this),"g","fills");d.setClipUrl(j,k.layerClipId,P);var G=I[0].trace,q=[];G._ownfill&&q.push("_ownFill"),G._nexttrace&&q.push("_nextFill");var et=j.selectAll("g").data(q,h);et.enter().append("g"),et.exit().each(function(U){G[U]=null}).remove(),et.order().each(function(U){G[U]=f(l.select(this),"path","js-fill")})})}(_,E,b),N?(S&&(A=S()),l.transition().duration(M.duration).ease(M.easing).each("end",function(){A&&A()}).each("interrupt",function(){A&&A()}).each(function(){T.selectAll("g.trace").each(function(P,R){y(_,R,b,P,F,this,M)})})):E.each(function(P,R){y(_,R,b,P,F,this,M)}),O&&E.exit().remove(),T.selectAll("path:not([d])").remove()}},8002:function(a,s,o){var l=o(4098);a.exports=function(c,u){var f,h,d,p,g=c.cd,m=c.xaxis,v=c.yaxis,y=[],_=g[0].trace;if(!l.hasMarkers(_)&&!l.hasText(_))return[];if(u===!1)for(f=0;f<g.length;f++)g[f].selected=0;else for(f=0;f<g.length;f++)h=g[f],d=m.c2p(h.x),p=v.c2p(h.y),h.i!==null&&u.contains([d,p],!1,f,c)?(y.push({pointNumber:h.i,x:m.c2d(h.x),y:v.c2d(h.y)}),h.selected=1):h.selected=0;return y}},565:function(a){var s=["orientation","groupnorm","stackgaps"];a.exports=function(o,l,c,u){var f=c._scatterStackOpts,h=u("stackgroup");if(h){var d=l.xaxis+l.yaxis,p=f[d];p||(p=f[d]={});var g=p[h],m=!1;g?g.traces.push(l):(g=p[h]={traceIndices:[],traces:[l]},m=!0);for(var v={orientation:l.x&&!l.y?"h":"v"},y=0;y<s.length;y++){var _=s[y],b=_+"Found";if(!g[b]){var w=o[_]!==void 0,T=_==="orientation";if((w||m)&&(g[_]=u(_,v[_]),T&&(g.fillDflt=g[_]==="h"?"tonextx":"tonexty"),w&&(g[b]=!0,!m&&(delete g.traces[0][_],T))))for(var M=0;M<g.traces.length-1;M++){var S=g.traces[M];S._input.fill!==S.fill&&(S.fill=g.fillDflt)}}}return g}}},6296:function(a,s,o){var l=o(9898),c=o(1424),u=o(3972);function f(d,p,g){c.pointStyle(d.selectAll("path.point"),p,g)}function h(d,p,g){c.textPointStyle(d.selectAll("text"),p,g)}a.exports={style:function(d){var p=l.select(d).selectAll("g.trace.scatter");p.style("opacity",function(g){return g[0].trace.opacity}),p.selectAll("g.points").each(function(g){f(l.select(this),g.trace||g[0].trace,d)}),p.selectAll("g.text").each(function(g){h(l.select(this),g.trace||g[0].trace,d)}),p.selectAll("g.trace path.js-line").call(c.lineGroupStyle),p.selectAll("g.trace path.js-fill").call(c.fillGroupStyle,d),u.getComponentMethod("errorbars","style")(p)},stylePoints:f,styleText:h,styleOnSelect:function(d,p,g){var m=p[0].trace;m.selectedpoints?(c.selectedPointStyle(g.selectAll("path.point"),m),c.selectedTextStyle(g.selectAll("text"),m)):(f(g,m,d),h(g,m,d))}}},4098:function(a,s,o){var l=o(1828);a.exports={hasLines:function(c){return c.visible&&c.mode&&c.mode.indexOf("lines")!==-1},hasMarkers:function(c){return c.visible&&(c.mode&&c.mode.indexOf("markers")!==-1||c.type==="splom")},hasText:function(c){return c.visible&&c.mode&&c.mode.indexOf("text")!==-1},isBubble:function(c){return l.isPlainObject(c.marker)&&l.isArrayOrTypedArray(c.marker.size)}}},2410:function(a,s,o){var l=o(1828);a.exports=function(c,u,f,h,d){d=d||{},h("textposition"),l.coerceFont(h,"textfont",d.font||f.font),d.noSelect||(h("selected.textfont.color"),h("unselected.textfont.color"))}},7513:function(a,s,o){var l=o(1828),c=o(3972);a.exports=function(u,f,h,d){var p,g=d("x"),m=d("y");if(c.getComponentMethod("calendars","handleTraceDefaults")(u,f,["x","y"],h),g){var v=l.minRowLength(g);m?p=Math.min(v,l.minRowLength(m)):(p=v,d("y0"),d("dy"))}else{if(!m)return 0;p=l.minRowLength(m),d("x0"),d("dx")}return f._length=p,p}},2887:function(a,s,o){var l=o(9298),c=o(1828),u=o(6281),f=o(9344).p,h=o(606).BADNUM;s.moduleType="transform",s.name="aggregate";var d=s.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},p=d.aggregations;function g(_,b,w,T){if(T.enabled){for(var M=T.target,S=c.nestedProperty(b,M),E=S.get(),A=function(F,P){var R=F.func,k=P.d2c,I=P.c2d;switch(R){case"count":return m;case"first":return v;case"last":return y;case"sum":return function(j,G){for(var q=0,et=0;et<G.length;et++){var U=k(j[G[et]]);U!==h&&(q+=U)}return I(q)};case"avg":return function(j,G){for(var q=0,et=0,U=0;U<G.length;U++){var J=k(j[G[U]]);J!==h&&(q+=J,et++)}return et?I(q/et):h};case"min":return function(j,G){for(var q=1/0,et=0;et<G.length;et++){var U=k(j[G[et]]);U!==h&&(q=Math.min(q,U))}return q===1/0?h:I(q)};case"max":return function(j,G){for(var q=-1/0,et=0;et<G.length;et++){var U=k(j[G[et]]);U!==h&&(q=Math.max(q,U))}return q===-1/0?h:I(q)};case"range":return function(j,G){for(var q=1/0,et=-1/0,U=0;U<G.length;U++){var J=k(j[G[U]]);J!==h&&(q=Math.min(q,J),et=Math.max(et,J))}return et===-1/0||q===1/0?h:I(et-q)};case"change":return function(j,G){var q=k(j[G[0]]),et=k(j[G[G.length-1]]);return q===h||et===h?h:I(et-q)};case"median":return function(j,G){for(var q=[],et=0;et<G.length;et++){var U=k(j[G[et]]);U!==h&&q.push(U)}if(!q.length)return h;q.sort(c.sorterAsc);var J=(q.length-1)/2;return I((q[Math.floor(J)]+q[Math.ceil(J)])/2)};case"mode":return function(j,G){for(var q={},et=0,U=h,J=0;J<G.length;J++){var nt=k(j[G[J]]);if(nt!==h){var ct=q[nt]=(q[nt]||0)+1;ct>et&&(et=ct,U=nt)}}return et?I(U):h};case"rms":return function(j,G){for(var q=0,et=0,U=0;U<G.length;U++){var J=k(j[G[U]]);J!==h&&(q+=J*J,et++)}return et?I(Math.sqrt(q/et)):h};case"stddev":return function(j,G){var q,et=0,U=0,J=1,nt=h;for(q=0;q<G.length&&nt===h;q++)nt=k(j[G[q]]);if(nt===h)return h;for(;q<G.length;q++){var ct=k(j[G[q]]);if(ct!==h){var z=ct-nt;et+=z,U+=z*z,J++}}var W=F.funcmode==="sample"?J-1:J;return W?Math.sqrt((U-et*et/J)/W):0}}}(T,l.getDataConversions(_,b,M,E)),O=new Array(w.length),N=0;N<w.length;N++)O[N]=A(E,w[N]);S.set(O),T.func==="count"&&c.pushUnique(b._arrayAttrs,M)}}function m(_,b){return b.length}function v(_,b){return _[b[0]]}function y(_,b){return _[b[b.length-1]]}s.supplyDefaults=function(_,b){var w,T={};function M(I,j){return c.coerce(_,T,d,I,j)}if(!M("enabled"))return T;var S=u.findArrayAttributes(b),E={};for(w=0;w<S.length;w++)E[S[w]]=1;var A=M("groups");if(!Array.isArray(A)){if(!E[A])return T.enabled=!1,T;E[A]=0}var O,N=_.aggregations||[],F=T.aggregations=new Array(N.length);function P(I,j){return c.coerce(N[w],O,p,I,j)}for(w=0;w<N.length;w++){O={_index:w};var R=P("target"),k=P("func");P("enabled")&&R&&(E[R]||k==="count"&&E[R]===void 0)?(k==="stddev"&&P("funcmode"),E[R]=0,F[w]=O):F[w]={enabled:!1,_index:w}}for(w=0;w<S.length;w++)E[S[w]]&&F.push({target:S[w],func:p.func.dflt,enabled:!0,_index:-1});return T},s.calcTransform=function(_,b,w){if(w.enabled){var T=w.groups,M=c.getTargetArray(b,{target:T});if(M){var S,E,A,O,N={},F={},P=[],R=f(b.transforms,w),k=M.length;for(b._length&&(k=Math.min(k,b._length)),S=0;S<k;S++)(A=N[E=M[S]])===void 0?(N[E]=P.length,O=[S],P.push(O),F[N[E]]=R(S)):(P[A].push(S),F[N[E]]=(F[N[E]]||[]).concat(R(S)));w._indexToPoints=F;var I=w.aggregations;for(S=0;S<I.length;S++)g(_,b,P,I[S]);typeof T=="string"&&g(_,b,P,{target:T,func:"first",enabled:!0}),b._length=P.length}}}},4382:function(a,s,o){var l=o(1828),c=o(3972),u=o(9298),f=o(9344).p,h=o(4808),d=h.COMPARISON_OPS,p=h.INTERVAL_OPS,g=h.SET_OPS;s.moduleType="transform",s.name="filter",s.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(d).concat(p).concat(g),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},s.supplyDefaults=function(m){var v={};function y(w,T){return l.coerce(m,v,s.attributes,w,T)}if(y("enabled")){var _=y("target");if(l.isArrayOrTypedArray(_)&&_.length===0)return v.enabled=!1,v;y("preservegaps"),y("operation"),y("value");var b=c.getComponentMethod("calendars","handleDefaults");b(m,v,"valuecalendar",null),b(m,v,"targetcalendar",null)}return v},s.calcTransform=function(m,v,y){if(y.enabled){var _=l.getTargetArray(v,y);if(_){var b=y.target,w=_.length;v._length&&(w=Math.min(w,v._length));var T=y.targetcalendar,M=v._arrayAttrs,S=y.preservegaps;if(typeof b=="string"){var E=l.nestedProperty(v,b+"calendar").get();E&&(T=E)}var A,O,N=function(G,q,et){var U=G.operation,J=G.value,nt=Array.isArray(J);function ct(it){return it.indexOf(U)!==-1}var z,W=function(it){return q(it,0,G.valuecalendar)},X=function(it){return q(it,0,et)};switch(ct(d)?z=W(nt?J[0]:J):ct(p)?z=nt?[W(J[0]),W(J[1])]:[W(J),W(J)]:ct(g)&&(z=nt?J.map(W):[W(J)]),U){case"=":return function(it){return X(it)===z};case"!=":return function(it){return X(it)!==z};case"<":return function(it){return X(it)<z};case"<=":return function(it){return X(it)<=z};case">":return function(it){return X(it)>z};case">=":return function(it){return X(it)>=z};case"[]":return function(it){var lt=X(it);return lt>=z[0]&&lt<=z[1]};case"()":return function(it){var lt=X(it);return lt>z[0]&&lt<z[1]};case"[)":return function(it){var lt=X(it);return lt>=z[0]&&lt<z[1]};case"(]":return function(it){var lt=X(it);return lt>z[0]&&lt<=z[1]};case"][":return function(it){var lt=X(it);return lt<=z[0]||lt>=z[1]};case")(":return function(it){var lt=X(it);return lt<z[0]||lt>z[1]};case"](":return function(it){var lt=X(it);return lt<=z[0]||lt>z[1]};case")[":return function(it){var lt=X(it);return lt<z[0]||lt>=z[1]};case"{}":return function(it){return z.indexOf(X(it))!==-1};case"}{":return function(it){return z.indexOf(X(it))===-1}}}(y,u.getDataToCoordFunc(m,v,b,_),T),F={},P={},R=0;S?(A=function(G){F[G.astr]=l.extendDeep([],G.get()),G.set(new Array(w))},O=function(G,q){var et=F[G.astr][q];G.get()[q]=et}):(A=function(G){F[G.astr]=l.extendDeep([],G.get()),G.set([])},O=function(G,q){var et=F[G.astr][q];G.get().push(et)}),j(A);for(var k=f(v.transforms,y),I=0;I<w;I++)N(_[I])?(j(O,I),P[R++]=k(I)):S&&R++;y._indexToPoints=P,v._length=R}}function j(G,q){for(var et=0;et<M.length;et++)G(l.nestedProperty(v,M[et]),q)}}},3102:function(a,s,o){var l=o(1828),c=o(6281),u=o(4875),f=o(9344).p;function h(d,p){var g,m,v,y,_,b,w,T,M,S,E=p.transform,A=p.transformIndex,O=d.transforms[A].groups,N=f(d.transforms,E);if(!l.isArrayOrTypedArray(O)||O.length===0)return[d];var F=l.filterUnique(O),P=new Array(F.length),R=O.length,k=c.findArrayAttributes(d),I=E.styles||[],j={};for(g=0;g<I.length;g++)j[I[g].target]=I[g].value;E.styles&&(S=l.keyedContainer(E,"styles","target","value.name"));var G={},q={};for(g=0;g<F.length;g++){G[b=F[g]]=g,q[b]=0,(w=P[g]=l.extendDeepNoArrays({},d))._group=b,w.transforms[A]._indexToPoints={};var et=null;for(S&&(et=S.get(b)),w.name=et||et===""?et:l.templateString(E.nameformat,{trace:d.name,group:b}),T=w.transforms,w.transforms=[],m=0;m<T.length;m++)w.transforms[m]=l.extendDeepNoArrays({},T[m]);for(m=0;m<k.length;m++)l.nestedProperty(w,k[m]).set([])}for(v=0;v<k.length;v++){for(y=k[v],m=0,M=[];m<F.length;m++)M[m]=l.nestedProperty(P[m],y).get();for(_=l.nestedProperty(d,y).get(),m=0;m<R;m++)M[G[O[m]]].push(_[m])}for(m=0;m<R;m++)(w=P[G[O[m]]]).transforms[A]._indexToPoints[q[O[m]]]=N(m),q[O[m]]++;for(g=0;g<F.length;g++)b=F[g],w=P[g],u.clearExpandedTraceDefaultColors(w),w=l.extendDeepNoArrays(w,j[b]||{});return P}s.moduleType="transform",s.name="groupby",s.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},s.supplyDefaults=function(d,p,g){var m,v={};function y(M,S){return l.coerce(d,v,s.attributes,M,S)}if(!y("enabled"))return v;y("groups"),y("nameformat",g._dataLength>1?"%{group} (%{trace})":"%{group}");var _=d.styles,b=v.styles=[];if(_)for(m=0;m<_.length;m++){var w=b[m]={};l.coerce(_[m],b[m],s.attributes.styles,"target");var T=l.coerce(_[m],b[m],s.attributes.styles,"value");l.isPlainObject(T)?w.value=l.extendDeep({},T):T&&delete w.value}return v},s.transform=function(d,p){var g,m,v,y=[];for(m=0;m<d.length;m++)for(g=h(d[m],p),v=0;v<g.length;v++)y.push(g[v]);return y}},9344:function(a,s){s.p=function(o,l){for(var c,u,f=0;f<o.length&&(c=o[f])!==l;f++)c._indexToPoints&&c.enabled!==!1&&(u=c._indexToPoints);var h=u?function(d){return u[d]}:function(d){return[d]};return h}},2275:function(a,s,o){var l=o(1828),c=o(9298),u=o(9344).p,f=o(606).BADNUM;s.moduleType="transform",s.name="sort",s.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},s.supplyDefaults=function(h){var d={};function p(g,m){return l.coerce(h,d,s.attributes,g,m)}return p("enabled")&&(p("target"),p("order")),d},s.calcTransform=function(h,d,p){if(p.enabled){var g=l.getTargetArray(d,p);if(g){var m=p.target,v=g.length;d._length&&(v=Math.min(v,d._length));var y,_,b=d._arrayAttrs,w=function(O,N,F,P){var R,k=new Array(P),I=new Array(P);for(R=0;R<P;R++)k[R]={v:N[R],i:R};for(k.sort(function(j,G){switch(j.order){case"ascending":return function(q,et){var U=G(q.v),J=G(et.v);return U===f?1:J===f?-1:U-J};case"descending":return function(q,et){var U=G(q.v),J=G(et.v);return U===f?1:J===f?-1:J-U}}}(O,F)),R=0;R<P;R++)I[R]=k[R].i;return I}(p,g,c.getDataToCoordFunc(h,d,m,g),v),T=u(d.transforms,p),M={};for(y=0;y<b.length;y++){var S=l.nestedProperty(d,b[y]),E=S.get(),A=new Array(v);for(_=0;_<v;_++)A[_]=E[w[_]];S.set(A)}for(_=0;_<v;_++)M[_]=T(w[_]);p._indexToPoints=M,d._length=v}}}},1506:function(a,s){s.version="2.26.0"},5791:function(a){a.exports=c,a.exports.isMobile=c,a.exports.default=c;var s=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,o=/CrOS/,l=/android|ipad|playbook|silk/i;function c(u){u||(u={});var f=u.ua;if(f||typeof navigator>"u"||(f=navigator.userAgent),f&&f.headers&&typeof f.headers["user-agent"]=="string"&&(f=f.headers["user-agent"]),typeof f!="string")return!1;var h=s.test(f)&&!o.test(f)||!!u.tablet&&l.test(f);return!h&&u.tablet&&u.featureDetect&&navigator&&navigator.maxTouchPoints>1&&f.indexOf("Macintosh")!==-1&&f.indexOf("Safari")!==-1&&(h=!0),h}},9898:function(a,s,o){var l,c;(function(){var u={version:"3.8.0"},f=[].slice,h=function(C){return f.call(C)},d=self.document;function p(C){return C&&(C.ownerDocument||C.document||C).documentElement}function g(C){return C&&(C.ownerDocument&&C.ownerDocument.defaultView||C.document&&C||C.defaultView)}if(d)try{h(d.documentElement.childNodes)[0].nodeType}catch{h=function(D){for(var Y=D.length,tt=new Array(Y);Y--;)tt[Y]=D[Y];return tt}}if(Date.now||(Date.now=function(){return+new Date}),d)try{d.createElement("DIV").style.setProperty("opacity",0,"")}catch{var m=this.Element.prototype,v=m.setAttribute,y=m.setAttributeNS,_=this.CSSStyleDeclaration.prototype,b=_.setProperty;m.setAttribute=function(D,Y){v.call(this,D,Y+"")},m.setAttributeNS=function(D,Y,tt){y.call(this,D,Y,tt+"")},_.setProperty=function(D,Y,tt){b.call(this,D,Y+"",tt)}}function w(C,D){return C<D?-1:C>D?1:C>=D?0:NaN}function T(C){return C===null?NaN:+C}function M(C){return!isNaN(C)}function S(C){return{left:function(D,Y,tt,at){for(arguments.length<3&&(tt=0),arguments.length<4&&(at=D.length);tt<at;){var ut=tt+at>>>1;C(D[ut],Y)<0?tt=ut+1:at=ut}return tt},right:function(D,Y,tt,at){for(arguments.length<3&&(tt=0),arguments.length<4&&(at=D.length);tt<at;){var ut=tt+at>>>1;C(D[ut],Y)>0?at=ut:tt=ut+1}return tt}}}u.ascending=w,u.descending=function(C,D){return D<C?-1:D>C?1:D>=C?0:NaN},u.min=function(C,D){var Y,tt,at=-1,ut=C.length;if(arguments.length===1){for(;++at<ut;)if((tt=C[at])!=null&&tt>=tt){Y=tt;break}for(;++at<ut;)(tt=C[at])!=null&&Y>tt&&(Y=tt)}else{for(;++at<ut;)if((tt=D.call(C,C[at],at))!=null&&tt>=tt){Y=tt;break}for(;++at<ut;)(tt=D.call(C,C[at],at))!=null&&Y>tt&&(Y=tt)}return Y},u.max=function(C,D){var Y,tt,at=-1,ut=C.length;if(arguments.length===1){for(;++at<ut;)if((tt=C[at])!=null&&tt>=tt){Y=tt;break}for(;++at<ut;)(tt=C[at])!=null&&tt>Y&&(Y=tt)}else{for(;++at<ut;)if((tt=D.call(C,C[at],at))!=null&&tt>=tt){Y=tt;break}for(;++at<ut;)(tt=D.call(C,C[at],at))!=null&&tt>Y&&(Y=tt)}return Y},u.extent=function(C,D){var Y,tt,at,ut=-1,yt=C.length;if(arguments.length===1){for(;++ut<yt;)if((tt=C[ut])!=null&&tt>=tt){Y=at=tt;break}for(;++ut<yt;)(tt=C[ut])!=null&&(Y>tt&&(Y=tt),at<tt&&(at=tt))}else{for(;++ut<yt;)if((tt=D.call(C,C[ut],ut))!=null&&tt>=tt){Y=at=tt;break}for(;++ut<yt;)(tt=D.call(C,C[ut],ut))!=null&&(Y>tt&&(Y=tt),at<tt&&(at=tt))}return[Y,at]},u.sum=function(C,D){var Y,tt=0,at=C.length,ut=-1;if(arguments.length===1)for(;++ut<at;)M(Y=+C[ut])&&(tt+=Y);else for(;++ut<at;)M(Y=+D.call(C,C[ut],ut))&&(tt+=Y);return tt},u.mean=function(C,D){var Y,tt=0,at=C.length,ut=-1,yt=at;if(arguments.length===1)for(;++ut<at;)M(Y=T(C[ut]))?tt+=Y:--yt;else for(;++ut<at;)M(Y=T(D.call(C,C[ut],ut)))?tt+=Y:--yt;if(yt)return tt/yt},u.quantile=function(C,D){var Y=(C.length-1)*D+1,tt=Math.floor(Y),at=+C[tt-1],ut=Y-tt;return ut?at+ut*(C[tt]-at):at},u.median=function(C,D){var Y,tt=[],at=C.length,ut=-1;if(arguments.length===1)for(;++ut<at;)M(Y=T(C[ut]))&&tt.push(Y);else for(;++ut<at;)M(Y=T(D.call(C,C[ut],ut)))&&tt.push(Y);if(tt.length)return u.quantile(tt.sort(w),.5)},u.variance=function(C,D){var Y,tt,at=C.length,ut=0,yt=0,Tt=-1,St=0;if(arguments.length===1)for(;++Tt<at;)M(Y=T(C[Tt]))&&(yt+=(tt=Y-ut)*(Y-(ut+=tt/++St)));else for(;++Tt<at;)M(Y=T(D.call(C,C[Tt],Tt)))&&(yt+=(tt=Y-ut)*(Y-(ut+=tt/++St)));if(St>1)return yt/(St-1)},u.deviation=function(){var C=u.variance.apply(this,arguments);return C&&Math.sqrt(C)};var E=S(w);function A(C){return C.length}u.bisectLeft=E.left,u.bisect=u.bisectRight=E.right,u.bisector=function(C){return S(C.length===1?function(D,Y){return w(C(D),Y)}:C)},u.shuffle=function(C,D,Y){(ut=arguments.length)<3&&(Y=C.length,ut<2&&(D=0));for(var tt,at,ut=Y-D;ut;)at=Math.random()*ut--|0,tt=C[ut+D],C[ut+D]=C[at+D],C[at+D]=tt;return C},u.permute=function(C,D){for(var Y=D.length,tt=new Array(Y);Y--;)tt[Y]=C[D[Y]];return tt},u.pairs=function(C){for(var D=0,Y=C.length-1,tt=C[0],at=new Array(Y<0?0:Y);D<Y;)at[D]=[tt,tt=C[++D]];return at},u.transpose=function(C){if(!(at=C.length))return[];for(var D=-1,Y=u.min(C,A),tt=new Array(Y);++D<Y;)for(var at,ut=-1,yt=tt[D]=new Array(at);++ut<at;)yt[ut]=C[ut][D];return tt},u.zip=function(){return u.transpose(arguments)},u.keys=function(C){var D=[];for(var Y in C)D.push(Y);return D},u.values=function(C){var D=[];for(var Y in C)D.push(C[Y]);return D},u.entries=function(C){var D=[];for(var Y in C)D.push({key:Y,value:C[Y]});return D},u.merge=function(C){for(var D,Y,tt,at=C.length,ut=-1,yt=0;++ut<at;)yt+=C[ut].length;for(Y=new Array(yt);--at>=0;)for(D=(tt=C[at]).length;--D>=0;)Y[--yt]=tt[D];return Y};var O=Math.abs;function N(C,D){for(var Y in D)Object.defineProperty(C.prototype,Y,{value:D[Y],enumerable:!1})}function F(){this._=Object.create(null)}u.range=function(C,D,Y){if(arguments.length<3&&(Y=1,arguments.length<2&&(D=C,C=0)),(D-C)/Y==1/0)throw new Error("infinite range");var tt,at=[],ut=function(Tt){for(var St=1;Tt*St%1;)St*=10;return St}(O(Y)),yt=-1;if(C*=ut,D*=ut,(Y*=ut)<0)for(;(tt=C+Y*++yt)>D;)at.push(tt/ut);else for(;(tt=C+Y*++yt)<D;)at.push(tt/ut);return at},u.map=function(C,D){var Y=new F;if(C instanceof F)C.forEach(function(Tt,St){Y.set(Tt,St)});else if(Array.isArray(C)){var tt,at=-1,ut=C.length;if(arguments.length===1)for(;++at<ut;)Y.set(at,C[at]);else for(;++at<ut;)Y.set(D.call(C,tt=C[at],at),tt)}else for(var yt in C)Y.set(yt,C[yt]);return Y};var P="__proto__",R="\0";function k(C){return(C+="")===P||C[0]===R?R+C:C}function I(C){return(C+="")[0]===R?C.slice(1):C}function j(C){return k(C)in this._}function G(C){return(C=k(C))in this._&&delete this._[C]}function q(){var C=[];for(var D in this._)C.push(I(D));return C}function et(){var C=0;for(var D in this._)++C;return C}function U(){for(var C in this._)return!1;return!0}function J(){this._=Object.create(null)}function nt(C){return C}function ct(C,D,Y){return function(){var tt=Y.apply(D,arguments);return tt===D?C:tt}}function z(C,D){if(D in C)return D;D=D.charAt(0).toUpperCase()+D.slice(1);for(var Y=0,tt=W.length;Y<tt;++Y){var at=W[Y]+D;if(at in C)return at}}N(F,{has:j,get:function(C){return this._[k(C)]},set:function(C,D){return this._[k(C)]=D},remove:G,keys:q,values:function(){var C=[];for(var D in this._)C.push(this._[D]);return C},entries:function(){var C=[];for(var D in this._)C.push({key:I(D),value:this._[D]});return C},size:et,empty:U,forEach:function(C){for(var D in this._)C.call(this,I(D),this._[D])}}),u.nest=function(){var C,D,Y={},tt=[],at=[];function ut(Tt,St,Ot){if(Ot>=tt.length)return D?D.call(Y,St):C?St.sort(C):St;for(var Yt,Kt,ie,me,Ie=-1,de=St.length,_e=tt[Ot++],le=new F;++Ie<de;)(me=le.get(Yt=_e(Kt=St[Ie])))?me.push(Kt):le.set(Yt,[Kt]);return Tt?(Kt=Tt(),ie=function(Re,we){Kt.set(Re,ut(Tt,we,Ot))}):(Kt={},ie=function(Re,we){Kt[Re]=ut(Tt,we,Ot)}),le.forEach(ie),Kt}function yt(Tt,St){if(St>=tt.length)return Tt;var Ot=[],Yt=at[St++];return Tt.forEach(function(Kt,ie){Ot.push({key:Kt,values:yt(ie,St)})}),Yt?Ot.sort(function(Kt,ie){return Yt(Kt.key,ie.key)}):Ot}return Y.map=function(Tt,St){return ut(St,Tt,0)},Y.entries=function(Tt){return yt(ut(u.map,Tt,0),0)},Y.key=function(Tt){return tt.push(Tt),Y},Y.sortKeys=function(Tt){return at[tt.length-1]=Tt,Y},Y.sortValues=function(Tt){return C=Tt,Y},Y.rollup=function(Tt){return D=Tt,Y},Y},u.set=function(C){var D=new J;if(C)for(var Y=0,tt=C.length;Y<tt;++Y)D.add(C[Y]);return D},N(J,{has:j,add:function(C){return this._[k(C+="")]=!0,C},remove:G,values:q,size:et,empty:U,forEach:function(C){for(var D in this._)C.call(this,I(D))}}),u.behavior={},u.rebind=function(C,D){for(var Y,tt=1,at=arguments.length;++tt<at;)C[Y=arguments[tt]]=ct(C,D,D[Y]);return C};var W=["webkit","ms","moz","Moz","o","O"];function X(){}function it(){}function lt(C){var D=[],Y=new F;function tt(){for(var at,ut=D,yt=-1,Tt=ut.length;++yt<Tt;)(at=ut[yt].on)&&at.apply(this,arguments);return C}return tt.on=function(at,ut){var yt,Tt=Y.get(at);return arguments.length<2?Tt&&Tt.on:(Tt&&(Tt.on=null,D=D.slice(0,yt=D.indexOf(Tt)).concat(D.slice(yt+1)),Y.remove(at)),ut&&D.push(Y.set(at,{on:ut})),C)},tt}function pt(){u.event.preventDefault()}function rt(){for(var C,D=u.event;C=D.sourceEvent;)D=C;return D}function V(C){for(var D=new it,Y=0,tt=arguments.length;++Y<tt;)D[arguments[Y]]=lt(D);return D.of=function(at,ut){return function(yt){try{var Tt=yt.sourceEvent=u.event;yt.target=C,u.event=yt,D[yt.type].apply(at,ut)}finally{u.event=Tt}}},D}u.dispatch=function(){for(var C=new it,D=-1,Y=arguments.length;++D<Y;)C[arguments[D]]=lt(C);return C},it.prototype.on=function(C,D){var Y=C.indexOf("."),tt="";if(Y>=0&&(tt=C.slice(Y+1),C=C.slice(0,Y)),C)return arguments.length<2?this[C].on(tt):this[C].on(tt,D);if(arguments.length===2){if(D==null)for(C in this)this.hasOwnProperty(C)&&this[C].on(tt,null);return this}},u.event=null,u.requote=function(C){return C.replace(B,"\\$&")};var B=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,H={}.__proto__?function(C,D){C.__proto__=D}:function(C,D){for(var Y in D)C[Y]=D[Y]};function $(C){return H(C,st),C}var Z=function(C,D){return D.querySelector(C)},Q=function(C,D){return D.querySelectorAll(C)},ot=function(C,D){var Y=C.matches||C[z(C,"matchesSelector")];return ot=function(tt,at){return Y.call(tt,at)},ot(C,D)};typeof Sizzle=="function"&&(Z=function(C,D){return Sizzle(C,D)[0]||null},Q=Sizzle,ot=Sizzle.matchesSelector),u.selection=function(){return u.select(d.documentElement)};var st=u.selection.prototype=[];function dt(C){return typeof C=="function"?C:function(){return Z(C,this)}}function bt(C){return typeof C=="function"?C:function(){return Q(C,this)}}st.select=function(C){var D,Y,tt,at,ut=[];C=dt(C);for(var yt=-1,Tt=this.length;++yt<Tt;){ut.push(D=[]),D.parentNode=(tt=this[yt]).parentNode;for(var St=-1,Ot=tt.length;++St<Ot;)(at=tt[St])?(D.push(Y=C.call(at,at.__data__,St,yt)),Y&&"__data__"in at&&(Y.__data__=at.__data__)):D.push(null)}return $(ut)},st.selectAll=function(C){var D,Y,tt=[];C=bt(C);for(var at=-1,ut=this.length;++at<ut;)for(var yt=this[at],Tt=-1,St=yt.length;++Tt<St;)(Y=yt[Tt])&&(tt.push(D=h(C.call(Y,Y.__data__,Tt,at))),D.parentNode=Y);return $(tt)};var Pt="http://www.w3.org/1999/xhtml",It={svg:"http://www.w3.org/2000/svg",xhtml:Pt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Dt(C,D){return C=u.ns.qualify(C),D==null?C.local?function(){this.removeAttributeNS(C.space,C.local)}:function(){this.removeAttribute(C)}:typeof D=="function"?C.local?function(){var Y=D.apply(this,arguments);Y==null?this.removeAttributeNS(C.space,C.local):this.setAttributeNS(C.space,C.local,Y)}:function(){var Y=D.apply(this,arguments);Y==null?this.removeAttribute(C):this.setAttribute(C,Y)}:C.local?function(){this.setAttributeNS(C.space,C.local,D)}:function(){this.setAttribute(C,D)}}function gt(C){return C.trim().replace(/\s+/g," ")}function _t(C){return new RegExp("(?:^|\\s+)"+u.requote(C)+"(?:\\s+|$)","g")}function wt(C){return(C+"").trim().split(/^|\s+/)}function Et(C,D){var Y=(C=wt(C).map(ht)).length;return typeof D=="function"?function(){for(var tt=-1,at=D.apply(this,arguments);++tt<Y;)C[tt](this,at)}:function(){for(var tt=-1;++tt<Y;)C[tt](this,D)}}function ht(C){var D=_t(C);return function(Y,tt){if(at=Y.classList)return tt?at.add(C):at.remove(C);var at=Y.getAttribute("class")||"";tt?(D.lastIndex=0,D.test(at)||Y.setAttribute("class",gt(at+" "+C))):Y.setAttribute("class",gt(at.replace(D," ")))}}function vt(C,D,Y){return D==null?function(){this.style.removeProperty(C)}:typeof D=="function"?function(){var tt=D.apply(this,arguments);tt==null?this.style.removeProperty(C):this.style.setProperty(C,tt,Y)}:function(){this.style.setProperty(C,D,Y)}}function Ct(C,D){return D==null?function(){delete this[C]}:typeof D=="function"?function(){var Y=D.apply(this,arguments);Y==null?delete this[C]:this[C]=Y}:function(){this[C]=D}}function Mt(C){return typeof C=="function"?C:(C=u.ns.qualify(C)).local?function(){return this.ownerDocument.createElementNS(C.space,C.local)}:function(){var D=this.ownerDocument,Y=this.namespaceURI;return Y===Pt&&D.documentElement.namespaceURI===Pt?D.createElement(C):D.createElementNS(Y,C)}}function Nt(){var C=this.parentNode;C&&C.removeChild(this)}function Rt(C){return{__data__:C}}function At(C){return function(){return ot(this,C)}}function kt(C){return arguments.length||(C=w),function(D,Y){return D&&Y?C(D.__data__,Y.__data__):!D-!Y}}function Bt(C,D){for(var Y=0,tt=C.length;Y<tt;Y++)for(var at,ut=C[Y],yt=0,Tt=ut.length;yt<Tt;yt++)(at=ut[yt])&&D(at,yt,Y);return C}function Lt(C){return H(C,zt),C}u.ns={prefix:It,qualify:function(C){var D=C.indexOf(":"),Y=C;return D>=0&&(Y=C.slice(0,D))!=="xmlns"&&(C=C.slice(D+1)),It.hasOwnProperty(Y)?{space:It[Y],local:C}:C}},st.attr=function(C,D){if(arguments.length<2){if(typeof C=="string"){var Y=this.node();return(C=u.ns.qualify(C)).local?Y.getAttributeNS(C.space,C.local):Y.getAttribute(C)}for(D in C)this.each(Dt(D,C[D]));return this}return this.each(Dt(C,D))},st.classed=function(C,D){if(arguments.length<2){if(typeof C=="string"){var Y=this.node(),tt=(C=wt(C)).length,at=-1;if(D=Y.classList){for(;++at<tt;)if(!D.contains(C[at]))return!1}else for(D=Y.getAttribute("class");++at<tt;)if(!_t(C[at]).test(D))return!1;return!0}for(D in C)this.each(Et(D,C[D]));return this}return this.each(Et(C,D))},st.style=function(C,D,Y){var tt=arguments.length;if(tt<3){if(typeof C!="string"){for(Y in tt<2&&(D=""),C)this.each(vt(Y,C[Y],D));return this}if(tt<2){var at=this.node();return g(at).getComputedStyle(at,null).getPropertyValue(C)}Y=""}return this.each(vt(C,D,Y))},st.property=function(C,D){if(arguments.length<2){if(typeof C=="string")return this.node()[C];for(D in C)this.each(Ct(D,C[D]));return this}return this.each(Ct(C,D))},st.text=function(C){return arguments.length?this.each(typeof C=="function"?function(){var D=C.apply(this,arguments);this.textContent=D??""}:C==null?function(){this.textContent=""}:function(){this.textContent=C}):this.node().textContent},st.html=function(C){return arguments.length?this.each(typeof C=="function"?function(){var D=C.apply(this,arguments);this.innerHTML=D??""}:C==null?function(){this.innerHTML=""}:function(){this.innerHTML=C}):this.node().innerHTML},st.append=function(C){return C=Mt(C),this.select(function(){return this.appendChild(C.apply(this,arguments))})},st.insert=function(C,D){return C=Mt(C),D=dt(D),this.select(function(){return this.insertBefore(C.apply(this,arguments),D.apply(this,arguments)||null)})},st.remove=function(){return this.each(Nt)},st.data=function(C,D){var Y,tt,at=-1,ut=this.length;if(!arguments.length){for(C=new Array(ut=(Y=this[0]).length);++at<ut;)(tt=Y[at])&&(C[at]=tt.__data__);return C}function yt(Yt,Kt){var ie,me,Ie,de=Yt.length,_e=Kt.length,le=Math.min(de,_e),Re=new Array(_e),we=new Array(_e),ce=new Array(de);if(D){var Ke,Je=new F,ln=new Array(de);for(ie=-1;++ie<de;)(me=Yt[ie])&&(Je.has(Ke=D.call(me,me.__data__,ie))?ce[ie]=me:Je.set(Ke,me),ln[ie]=Ke);for(ie=-1;++ie<_e;)(me=Je.get(Ke=D.call(Kt,Ie=Kt[ie],ie)))?me!==!0&&(Re[ie]=me,me.__data__=Ie):we[ie]=Rt(Ie),Je.set(Ke,!0);for(ie=-1;++ie<de;)ie in ln&&Je.get(ln[ie])!==!0&&(ce[ie]=Yt[ie])}else{for(ie=-1;++ie<le;)me=Yt[ie],Ie=Kt[ie],me?(me.__data__=Ie,Re[ie]=me):we[ie]=Rt(Ie);for(;ie<_e;++ie)we[ie]=Rt(Kt[ie]);for(;ie<de;++ie)ce[ie]=Yt[ie]}we.update=Re,we.parentNode=Re.parentNode=ce.parentNode=Yt.parentNode,Tt.push(we),St.push(Re),Ot.push(ce)}var Tt=Lt([]),St=$([]),Ot=$([]);if(typeof C=="function")for(;++at<ut;)yt(Y=this[at],C.call(Y,Y.parentNode.__data__,at));else for(;++at<ut;)yt(Y=this[at],C);return St.enter=function(){return Tt},St.exit=function(){return Ot},St},st.datum=function(C){return arguments.length?this.property("__data__",C):this.property("__data__")},st.filter=function(C){var D,Y,tt,at=[];typeof C!="function"&&(C=At(C));for(var ut=0,yt=this.length;ut<yt;ut++){at.push(D=[]),D.parentNode=(Y=this[ut]).parentNode;for(var Tt=0,St=Y.length;Tt<St;Tt++)(tt=Y[Tt])&&C.call(tt,tt.__data__,Tt,ut)&&D.push(tt)}return $(at)},st.order=function(){for(var C=-1,D=this.length;++C<D;)for(var Y,tt=this[C],at=tt.length-1,ut=tt[at];--at>=0;)(Y=tt[at])&&(ut&&ut!==Y.nextSibling&&ut.parentNode.insertBefore(Y,ut),ut=Y);return this},st.sort=function(C){C=kt.apply(this,arguments);for(var D=-1,Y=this.length;++D<Y;)this[D].sort(C);return this.order()},st.each=function(C){return Bt(this,function(D,Y,tt){C.call(D,D.__data__,Y,tt)})},st.call=function(C){var D=h(arguments);return C.apply(D[0]=this,D),this},st.empty=function(){return!this.node()},st.node=function(){for(var C=0,D=this.length;C<D;C++)for(var Y=this[C],tt=0,at=Y.length;tt<at;tt++){var ut=Y[tt];if(ut)return ut}return null},st.size=function(){var C=0;return Bt(this,function(){++C}),C};var zt=[];function Gt(C,D,Y){var tt="__on"+C,at=C.indexOf("."),ut=ne;at>0&&(C=C.slice(0,at));var yt=Ut.get(C);function Tt(){var St=this[tt];St&&(this.removeEventListener(C,St,St.$),delete this[tt])}return yt&&(C=yt,ut=te),at?D?function(){var St=ut(D,h(arguments));Tt.call(this),this.addEventListener(C,this[tt]=St,St.$=Y),St._=D}:Tt:D?X:function(){var St,Ot=new RegExp("^__on([^.]+)"+u.requote(C)+"$");for(var Yt in this)if(St=Yt.match(Ot)){var Kt=this[Yt];this.removeEventListener(St[1],Kt,Kt.$),delete this[Yt]}}}u.selection.enter=Lt,u.selection.enter.prototype=zt,zt.append=st.append,zt.empty=st.empty,zt.node=st.node,zt.call=st.call,zt.size=st.size,zt.select=function(C){for(var D,Y,tt,at,ut,yt=[],Tt=-1,St=this.length;++Tt<St;){tt=(at=this[Tt]).update,yt.push(D=[]),D.parentNode=at.parentNode;for(var Ot=-1,Yt=at.length;++Ot<Yt;)(ut=at[Ot])?(D.push(tt[Ot]=Y=C.call(at.parentNode,ut.__data__,Ot,Tt)),Y.__data__=ut.__data__):D.push(null)}return $(yt)},zt.insert=function(C,D){var Y,tt,at;return arguments.length<2&&(Y=this,D=function(ut,yt,Tt){var St,Ot=Y[Tt].update,Yt=Ot.length;for(Tt!=at&&(at=Tt,tt=0),yt>=tt&&(tt=yt+1);!(St=Ot[tt])&&++tt<Yt;);return St}),st.insert.call(this,C,D)},u.select=function(C){var D;return typeof C=="string"?(D=[Z(C,d)]).parentNode=d.documentElement:(D=[C]).parentNode=p(C),$([D])},u.selectAll=function(C){var D;return typeof C=="string"?(D=h(Q(C,d))).parentNode=d.documentElement:(D=h(C)).parentNode=null,$([D])},st.on=function(C,D,Y){var tt=arguments.length;if(tt<3){if(typeof C!="string"){for(Y in tt<2&&(D=!1),C)this.each(Gt(Y,C[Y],D));return this}if(tt<2)return(tt=this.node()["__on"+C])&&tt._;Y=!1}return this.each(Gt(C,D,Y))};var Ut=u.map({mouseenter:"mouseover",mouseleave:"mouseout"});function ne(C,D){return function(Y){var tt=u.event;u.event=Y,D[0]=this.__data__;try{C.apply(this,D)}finally{u.event=tt}}}function te(C,D){var Y=ne(C,D);return function(tt){var at=this,ut=tt.relatedTarget;ut&&(ut===at||8&ut.compareDocumentPosition(at))||Y.call(at,tt)}}d&&Ut.forEach(function(C){"on"+C in d&&Ut.remove(C)});var ae,ue=0;function pe(C){var D=".dragsuppress-"+ ++ue,Y="click"+D,tt=u.select(g(C)).on("touchmove"+D,pt).on("dragstart"+D,pt).on("selectstart"+D,pt);if(ae==null&&(ae=!("onselectstart"in C)&&z(C.style,"userSelect")),ae){var at=p(C).style,ut=at[ae];at[ae]="none"}return function(yt){if(tt.on(D,null),ae&&(at[ae]=ut),yt){var Tt=function(){tt.on(Y,null)};tt.on(Y,function(){pt(),Tt()},!0),setTimeout(Tt,0)}}}u.mouse=function(C){return re(C,rt())};var be=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function re(C,D){D.changedTouches&&(D=D.changedTouches[0]);var Y=C.ownerSVGElement||C;if(Y.createSVGPoint){var tt=Y.createSVGPoint();if(be<0){var at=g(C);if(at.scrollX||at.scrollY){var ut=(Y=u.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();be=!(ut.f||ut.e),Y.remove()}}return be?(tt.x=D.pageX,tt.y=D.pageY):(tt.x=D.clientX,tt.y=D.clientY),[(tt=tt.matrixTransform(C.getScreenCTM().inverse())).x,tt.y]}var yt=C.getBoundingClientRect();return[D.clientX-yt.left-C.clientLeft,D.clientY-yt.top-C.clientTop]}function jt(){return u.event.changedTouches[0].identifier}u.touch=function(C,D,Y){if(arguments.length<3&&(Y=D,D=rt().changedTouches),D){for(var tt,at=0,ut=D.length;at<ut;++at)if((tt=D[at]).identifier===Y)return re(C,tt)}},u.behavior.drag=function(){var C=V(at,"drag","dragstart","dragend"),D=null,Y=ut(X,u.mouse,g,"mousemove","mouseup"),tt=ut(jt,u.touch,nt,"touchmove","touchend");function at(){this.on("mousedown.drag",Y).on("touchstart.drag",tt)}function ut(yt,Tt,St,Ot,Yt){return function(){var Kt,ie=this,me=u.event.target.correspondingElement||u.event.target,Ie=ie.parentNode,de=C.of(ie,arguments),_e=0,le=yt(),Re=".drag"+(le==null?"":"-"+le),we=u.select(St(me)).on(Ot+Re,function(){var Je,ln,hn=Tt(Ie,le);hn&&(Je=hn[0]-Ke[0],ln=hn[1]-Ke[1],_e|=Je|ln,Ke=hn,de({type:"drag",x:hn[0]+Kt[0],y:hn[1]+Kt[1],dx:Je,dy:ln}))}).on(Yt+Re,function(){Tt(Ie,le)&&(we.on(Ot+Re,null).on(Yt+Re,null),ce(_e),de({type:"dragend"}))}),ce=pe(me),Ke=Tt(Ie,le);Kt=D?[(Kt=D.apply(ie,arguments)).x-Ke[0],Kt.y-Ke[1]]:[0,0],de({type:"dragstart"})}}return at.origin=function(yt){return arguments.length?(D=yt,at):D},u.rebind(at,C,"on")},u.touches=function(C,D){return arguments.length<2&&(D=rt().touches),D?h(D).map(function(Y){var tt=re(C,Y);return tt.identifier=Y.identifier,tt}):[]};var $t=1e-6,Jt=$t*$t,qt=Math.PI,Ce=2*qt,fe=Ce-$t,Me=qt/2,Ee=qt/180,He=180/qt;function Ae(C){return C>1?Me:C<-1?-Me:Math.asin(C)}function $e(C){return((C=Math.exp(C))+1/C)/2}var Oe=Math.SQRT2;u.interpolateZoom=function(C,D){var Y,tt,at=C[0],ut=C[1],yt=C[2],Tt=D[0],St=D[1],Ot=D[2],Yt=Tt-at,Kt=St-ut,ie=Yt*Yt+Kt*Kt;if(ie<Jt)tt=Math.log(Ot/yt)/Oe,Y=function(Re){return[at+Re*Yt,ut+Re*Kt,yt*Math.exp(Oe*Re*tt)]};else{var me=Math.sqrt(ie),Ie=(Ot*Ot-yt*yt+4*ie)/(2*yt*2*me),de=(Ot*Ot-yt*yt-4*ie)/(2*Ot*2*me),_e=Math.log(Math.sqrt(Ie*Ie+1)-Ie),le=Math.log(Math.sqrt(de*de+1)-de);tt=(le-_e)/Oe,Y=function(Re){var we,ce=Re*tt,Ke=$e(_e),Je=yt/(2*me)*(Ke*(we=Oe*ce+_e,((we=Math.exp(2*we))-1)/(we+1))-function(ln){return((ln=Math.exp(ln))-1/ln)/2}(_e));return[at+Je*Yt,ut+Je*Kt,yt*Ke/$e(Oe*ce+_e)]}}return Y.duration=1e3*tt,Y},u.behavior.zoom=function(){var C,D,Y,tt,at,ut,yt,Tt,St,Ot={x:0,y:0,k:1},Yt=[960,500],Kt=Ht,ie=250,me=0,Ie="mousedown.zoom",de="mousemove.zoom",_e="mouseup.zoom",le="touchstart.zoom",Re=V(we,"zoomstart","zoom","zoomend");function we(mn){mn.on(Ie,Mn).on(mt+".zoom",Rr).on("dblclick.zoom",pi).on(le,ar)}function ce(mn){return[(mn[0]-Ot.x)/Ot.k,(mn[1]-Ot.y)/Ot.k]}function Ke(mn){Ot.k=Math.max(Kt[0],Math.min(Kt[1],mn))}function Je(mn,In){In=function(Jn){return[Jn[0]*Ot.k+Ot.x,Jn[1]*Ot.k+Ot.y]}(In),Ot.x+=mn[0]-In[0],Ot.y+=mn[1]-In[1]}function ln(mn,In,Jn,Xn){mn.__chart__={x:Ot.x,y:Ot.y,k:Ot.k},Ke(Math.pow(2,Xn)),Je(D=In,Jn),mn=u.select(mn),ie>0&&(mn=mn.transition().duration(ie)),mn.call(we.event)}function hn(){yt&&yt.domain(ut.range().map(function(mn){return(mn-Ot.x)/Ot.k}).map(ut.invert)),St&&St.domain(Tt.range().map(function(mn){return(mn-Ot.y)/Ot.k}).map(Tt.invert))}function On(mn){me++||mn({type:"zoomstart"})}function Ln(mn){hn(),mn({type:"zoom",scale:Ot.k,translate:[Ot.x,Ot.y]})}function Un(mn){--me||(mn({type:"zoomend"}),D=null)}function Mn(){var mn=this,In=Re.of(mn,arguments),Jn=0,Xn=u.select(g(mn)).on(de,function(){Jn=1,Je(u.mouse(mn),Er),Ln(In)}).on(_e,function(){Xn.on(de,null).on(_e,null),ri(Jn),Un(In)}),Er=ce(u.mouse(mn)),ri=pe(mn);ss.call(mn),On(In)}function ar(){var mn,In=this,Jn=Re.of(In,arguments),Xn={},Er=0,ri=".zoom-"+u.event.changedTouches[0].identifier,Ui="touchmove"+ri,li="touchend"+ri,ia=[],Vi=u.select(In),Hi=pe(In);function za(){var aa=u.touches(In);return mn=Ot.k,aa.forEach(function(Oi){Oi.identifier in Xn&&(Xn[Oi.identifier]=ce(Oi))}),aa}function ks(){var aa=u.event.target;u.select(aa).on(Ui,hl).on(li,dl),ia.push(aa);for(var Oi=u.event.changedTouches,uo=0,Ba=Oi.length;uo<Ba;++uo)Xn[Oi[uo].identifier]=null;var co=za(),Bo=Date.now();if(co.length===1){if(Bo-at<500){var pl=co[0];ln(In,pl,Xn[pl.identifier],Math.floor(Math.log(Ot.k)/Math.LN2)+1),pt()}at=Bo}else if(co.length>1){pl=co[0];var Fs=co[1],Ip=pl[0]-Fs[0],em=pl[1]-Fs[1];Er=Ip*Ip+em*em}}function hl(){var aa,Oi,uo,Ba,co=u.touches(In);ss.call(In);for(var Bo=0,pl=co.length;Bo<pl;++Bo,Ba=null)if(uo=co[Bo],Ba=Xn[uo.identifier]){if(Oi)break;aa=uo,Oi=Ba}if(Ba){var Fs=(Fs=uo[0]-aa[0])*Fs+(Fs=uo[1]-aa[1])*Fs,Ip=Er&&Math.sqrt(Fs/Er);aa=[(aa[0]+uo[0])/2,(aa[1]+uo[1])/2],Oi=[(Oi[0]+Ba[0])/2,(Oi[1]+Ba[1])/2],Ke(Ip*mn)}at=null,Je(aa,Oi),Ln(Jn)}function dl(){if(u.event.touches.length){for(var aa=u.event.changedTouches,Oi=0,uo=aa.length;Oi<uo;++Oi)delete Xn[aa[Oi].identifier];for(var Ba in Xn)return void za()}u.selectAll(ia).on(ri,null),Vi.on(Ie,Mn).on(le,ar),Hi(),Un(Jn)}ks(),On(Jn),Vi.on(Ie,null).on(le,ks)}function Rr(){var mn=Re.of(this,arguments);tt?clearTimeout(tt):(ss.call(this),C=ce(D=Y||u.mouse(this)),On(mn)),tt=setTimeout(function(){tt=null,Un(mn)},50),pt(),Ke(Math.pow(2,.002*ft())*Ot.k),Je(D,C),Ln(mn)}function pi(){var mn=u.mouse(this),In=Math.log(Ot.k)/Math.LN2;ln(this,mn,ce(mn),u.event.shiftKey?Math.ceil(In)-1:Math.floor(In)+1)}return mt||(mt="onwheel"in d?(ft=function(){return-u.event.deltaY*(u.event.deltaMode?120:1)},"wheel"):"onmousewheel"in d?(ft=function(){return u.event.wheelDelta},"mousewheel"):(ft=function(){return-u.event.detail},"MozMousePixelScroll")),we.event=function(mn){mn.each(function(){var In=Re.of(this,arguments),Jn=Ot;Ec?u.select(this).transition().each("start.zoom",function(){Ot=this.__chart__||{x:0,y:0,k:1},On(In)}).tween("zoom:zoom",function(){var Xn=Yt[0],Er=Yt[1],ri=D?D[0]:Xn/2,Ui=D?D[1]:Er/2,li=u.interpolateZoom([(ri-Ot.x)/Ot.k,(Ui-Ot.y)/Ot.k,Xn/Ot.k],[(ri-Jn.x)/Jn.k,(Ui-Jn.y)/Jn.k,Xn/Jn.k]);return function(ia){var Vi=li(ia),Hi=Xn/Vi[2];this.__chart__=Ot={x:ri-Vi[0]*Hi,y:Ui-Vi[1]*Hi,k:Hi},Ln(In)}}).each("interrupt.zoom",function(){Un(In)}).each("end.zoom",function(){Un(In)}):(this.__chart__=Ot,On(In),Ln(In),Un(In))})},we.translate=function(mn){return arguments.length?(Ot={x:+mn[0],y:+mn[1],k:Ot.k},hn(),we):[Ot.x,Ot.y]},we.scale=function(mn){return arguments.length?(Ot={x:Ot.x,y:Ot.y,k:null},Ke(+mn),hn(),we):Ot.k},we.scaleExtent=function(mn){return arguments.length?(Kt=mn==null?Ht:[+mn[0],+mn[1]],we):Kt},we.center=function(mn){return arguments.length?(Y=mn&&[+mn[0],+mn[1]],we):Y},we.size=function(mn){return arguments.length?(Yt=mn&&[+mn[0],+mn[1]],we):Yt},we.duration=function(mn){return arguments.length?(ie=+mn,we):ie},we.x=function(mn){return arguments.length?(yt=mn,ut=mn.copy(),Ot={x:0,y:0,k:1},we):yt},we.y=function(mn){return arguments.length?(St=mn,Tt=mn.copy(),Ot={x:0,y:0,k:1},we):St},u.rebind(we,Re,"on")};var ft,mt,Ht=[0,1/0];function Vt(){}function ee(C,D,Y){return this instanceof ee?(this.h=+C,this.s=+D,void(this.l=+Y)):arguments.length<2?C instanceof ee?new ee(C.h,C.s,C.l):Ye(""+C,je,ee):new ee(C,D,Y)}u.color=Vt,Vt.prototype.toString=function(){return this.rgb()+""},u.hsl=ee;var Xt=ee.prototype=new Vt;function Qt(C,D,Y){var tt,at;function ut(yt){return Math.round(255*function(Tt){return Tt>360?Tt-=360:Tt<0&&(Tt+=360),Tt<60?tt+(at-tt)*Tt/60:Tt<180?at:Tt<240?tt+(at-tt)*(240-Tt)/60:tt}(yt))}return C=isNaN(C)?0:(C%=360)<0?C+360:C,D=isNaN(D)||D<0?0:D>1?1:D,tt=2*(Y=Y<0?0:Y>1?1:Y)-(at=Y<=.5?Y*(1+D):Y+D-Y*D),new Ve(ut(C+120),ut(C),ut(C-120))}function se(C,D,Y){return this instanceof se?(this.h=+C,this.c=+D,void(this.l=+Y)):arguments.length<2?C instanceof se?new se(C.h,C.c,C.l):function(tt,at,ut){return tt>0?new se(Math.atan2(ut,at)*He,Math.sqrt(at*at+ut*ut),tt):new se(NaN,NaN,tt)}(C instanceof oe?C.l:(C=qe((C=u.rgb(C)).r,C.g,C.b)).l,C.a,C.b):new se(C,D,Y)}Xt.brighter=function(C){return C=Math.pow(.7,arguments.length?C:1),new ee(this.h,this.s,this.l/C)},Xt.darker=function(C){return C=Math.pow(.7,arguments.length?C:1),new ee(this.h,this.s,C*this.l)},Xt.rgb=function(){return Qt(this.h,this.s,this.l)},u.hcl=se;var he=se.prototype=new Vt;function ye(C,D,Y){return isNaN(C)&&(C=0),isNaN(D)&&(D=0),new oe(Y,Math.cos(C*=Ee)*D,Math.sin(C)*D)}function oe(C,D,Y){return this instanceof oe?(this.l=+C,this.a=+D,void(this.b=+Y)):arguments.length<2?C instanceof oe?new oe(C.l,C.a,C.b):C instanceof se?ye(C.h,C.c,C.l):qe((C=Ve(C)).r,C.g,C.b):new oe(C,D,Y)}he.brighter=function(C){return new se(this.h,this.c,Math.min(100,this.l+Ue*(arguments.length?C:1)))},he.darker=function(C){return new se(this.h,this.c,Math.max(0,this.l-Ue*(arguments.length?C:1)))},he.rgb=function(){return ye(this.h,this.c,this.l).rgb()},u.lab=oe;var Ue=18,rn=.95047,Ne=1,Fe=1.08883,Be=oe.prototype=new Vt;function Se(C,D,Y){var tt=(C+16)/116,at=tt+D/500,ut=tt-Y/200;return new Ve(Xe(3.2404542*(at=Te(at)*rn)-1.5371385*(tt=Te(tt)*Ne)-.4985314*(ut=Te(ut)*Fe)),Xe(-.969266*at+1.8760108*tt+.041556*ut),Xe(.0556434*at-.2040259*tt+1.0572252*ut))}function Te(C){return C>.206893034?C*C*C:(C-.13793103448275862)/7.787037}function xe(C){return C>.008856?Math.pow(C,.3333333333333333):7.787037*C+.13793103448275862}function Xe(C){return Math.round(255*(C<=.00304?12.92*C:1.055*Math.pow(C,.4166666666666667)-.055))}function Ve(C,D,Y){return this instanceof Ve?(this.r=~~C,this.g=~~D,void(this.b=~~Y)):arguments.length<2?C instanceof Ve?new Ve(C.r,C.g,C.b):Ye(""+C,Ve,Qt):new Ve(C,D,Y)}function an(C){return new Ve(C>>16,C>>8&255,255&C)}function ge(C){return an(C)+""}Be.brighter=function(C){return new oe(Math.min(100,this.l+Ue*(arguments.length?C:1)),this.a,this.b)},Be.darker=function(C){return new oe(Math.max(0,this.l-Ue*(arguments.length?C:1)),this.a,this.b)},Be.rgb=function(){return Se(this.l,this.a,this.b)},u.rgb=Ve;var Pe=Ve.prototype=new Vt;function ke(C){return C<16?"0"+Math.max(0,C).toString(16):Math.min(255,C).toString(16)}function Ye(C,D,Y){var tt,at,ut,yt=0,Tt=0,St=0;if(tt=/([a-z]+)\((.*)\)/.exec(C=C.toLowerCase()))switch(at=tt[2].split(","),tt[1]){case"hsl":return Y(parseFloat(at[0]),parseFloat(at[1])/100,parseFloat(at[2])/100);case"rgb":return D(sn(at[0]),sn(at[1]),sn(at[2]))}return(ut=Ze.get(C))?D(ut.r,ut.g,ut.b):(C==null||C.charAt(0)!=="#"||isNaN(ut=parseInt(C.slice(1),16))||(C.length===4?(yt=(3840&ut)>>4,yt|=yt>>4,Tt=240&ut,Tt|=Tt>>4,St=15&ut,St|=St<<4):C.length===7&&(yt=(16711680&ut)>>16,Tt=(65280&ut)>>8,St=255&ut)),D(yt,Tt,St))}function je(C,D,Y){var tt,at,ut=Math.min(C/=255,D/=255,Y/=255),yt=Math.max(C,D,Y),Tt=yt-ut,St=(yt+ut)/2;return Tt?(at=St<.5?Tt/(yt+ut):Tt/(2-yt-ut),tt=C==yt?(D-Y)/Tt+(D<Y?6:0):D==yt?(Y-C)/Tt+2:(C-D)/Tt+4,tt*=60):(tt=NaN,at=St>0&&St<1?0:tt),new ee(tt,at,St)}function qe(C,D,Y){var tt=xe((.4124564*(C=nn(C))+.3575761*(D=nn(D))+.1804375*(Y=nn(Y)))/rn),at=xe((.2126729*C+.7151522*D+.072175*Y)/Ne);return oe(116*at-16,500*(tt-at),200*(at-xe((.0193339*C+.119192*D+.9503041*Y)/Fe)))}function nn(C){return(C/=255)<=.04045?C/12.92:Math.pow((C+.055)/1.055,2.4)}function sn(C){var D=parseFloat(C);return C.charAt(C.length-1)==="%"?Math.round(2.55*D):D}Pe.brighter=function(C){C=Math.pow(.7,arguments.length?C:1);var D=this.r,Y=this.g,tt=this.b,at=30;return D||Y||tt?(D&&D<at&&(D=at),Y&&Y<at&&(Y=at),tt&&tt<at&&(tt=at),new Ve(Math.min(255,D/C),Math.min(255,Y/C),Math.min(255,tt/C))):new Ve(at,at,at)},Pe.darker=function(C){return new Ve((C=Math.pow(.7,arguments.length?C:1))*this.r,C*this.g,C*this.b)},Pe.hsl=function(){return je(this.r,this.g,this.b)},Pe.toString=function(){return"#"+ke(this.r)+ke(this.g)+ke(this.b)};var Ze=u.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function tn(C){return typeof C=="function"?C:function(){return C}}function Tn(C){return function(D,Y,tt){return arguments.length===2&&typeof Y=="function"&&(tt=Y,Y=null),An(D,Y,C,tt)}}function An(C,D,Y,tt){var at={},ut=u.dispatch("beforesend","progress","load","error"),yt={},Tt=new XMLHttpRequest,St=null;function Ot(){var Yt,Kt=Tt.status;if(!Kt&&function(ie){var me=ie.responseType;return me&&me!=="text"?ie.response:ie.responseText}(Tt)||Kt>=200&&Kt<300||Kt===304){try{Yt=Y.call(at,Tt)}catch(ie){return void ut.error.call(at,ie)}ut.load.call(at,Yt)}else ut.error.call(at,Tt)}return self.XDomainRequest&&!("withCredentials"in Tt)&&/^(http(s)?:)?\/\//.test(C)&&(Tt=new XDomainRequest),"onload"in Tt?Tt.onload=Tt.onerror=Ot:Tt.onreadystatechange=function(){Tt.readyState>3&&Ot()},Tt.onprogress=function(Yt){var Kt=u.event;u.event=Yt;try{ut.progress.call(at,Tt)}finally{u.event=Kt}},at.header=function(Yt,Kt){return Yt=(Yt+"").toLowerCase(),arguments.length<2?yt[Yt]:(Kt==null?delete yt[Yt]:yt[Yt]=Kt+"",at)},at.mimeType=function(Yt){return arguments.length?(D=Yt==null?null:Yt+"",at):D},at.responseType=function(Yt){return arguments.length?(St=Yt,at):St},at.response=function(Yt){return Y=Yt,at},["get","post"].forEach(function(Yt){at[Yt]=function(){return at.send.apply(at,[Yt].concat(h(arguments)))}}),at.send=function(Yt,Kt,ie){if(arguments.length===2&&typeof Kt=="function"&&(ie=Kt,Kt=null),Tt.open(Yt,C,!0),D==null||"accept"in yt||(yt.accept=D+",*/*"),Tt.setRequestHeader)for(var me in yt)Tt.setRequestHeader(me,yt[me]);return D!=null&&Tt.overrideMimeType&&Tt.overrideMimeType(D),St!=null&&(Tt.responseType=St),ie!=null&&at.on("error",ie).on("load",function(Ie){ie(null,Ie)}),ut.beforesend.call(at,Tt),Tt.send(Kt??null),at},at.abort=function(){return Tt.abort(),at},u.rebind(at,ut,"on"),tt==null?at:at.get(function(Yt){return Yt.length===1?function(Kt,ie){Yt(Kt==null?ie:null)}:Yt}(tt))}Ze.forEach(function(C,D){Ze.set(C,an(D))}),u.functor=tn,u.xhr=Tn(nt),u.dsv=function(C,D){var Y=new RegExp('["'+C+`
]`),tt=C.charCodeAt(0);function at(Ot,Yt,Kt){arguments.length<3&&(Kt=Yt,Yt=null);var ie=An(Ot,D,Yt==null?ut:yt(Yt),Kt);return ie.row=function(me){return arguments.length?ie.response((Yt=me)==null?ut:yt(me)):Yt},ie}function ut(Ot){return at.parse(Ot.responseText)}function yt(Ot){return function(Yt){return at.parse(Yt.responseText,Ot)}}function Tt(Ot){return Ot.map(St).join(C)}function St(Ot){return Y.test(Ot)?'"'+Ot.replace(/\"/g,'""')+'"':Ot}return at.parse=function(Ot,Yt){var Kt;return at.parseRows(Ot,function(ie,me){if(Kt)return Kt(ie,me-1);var Ie=function(de){for(var _e={},le=ie.length,Re=0;Re<le;++Re)_e[ie[Re]]=de[Re];return _e};Kt=Yt?function(de,_e){return Yt(Ie(de),_e)}:Ie})},at.parseRows=function(Ot,Yt){var Kt,ie,me={},Ie={},de=[],_e=Ot.length,le=0,Re=0;function we(){if(le>=_e)return Ie;if(ie)return ie=!1,me;var Ke=le;if(Ot.charCodeAt(Ke)===34){for(var Je=Ke;Je++<_e;)if(Ot.charCodeAt(Je)===34){if(Ot.charCodeAt(Je+1)!==34)break;++Je}return le=Je+2,(ln=Ot.charCodeAt(Je+1))===13?(ie=!0,Ot.charCodeAt(Je+2)===10&&++le):ln===10&&(ie=!0),Ot.slice(Ke+1,Je).replace(/""/g,'"')}for(;le<_e;){var ln,hn=1;if((ln=Ot.charCodeAt(le++))===10)ie=!0;else if(ln===13)ie=!0,Ot.charCodeAt(le)===10&&(++le,++hn);else if(ln!==tt)continue;return Ot.slice(Ke,le-hn)}return Ot.slice(Ke)}for(;(Kt=we())!==Ie;){for(var ce=[];Kt!==me&&Kt!==Ie;)ce.push(Kt),Kt=we();Yt&&(ce=Yt(ce,Re++))==null||de.push(ce)}return de},at.format=function(Ot){if(Array.isArray(Ot[0]))return at.formatRows(Ot);var Yt=new J,Kt=[];return Ot.forEach(function(ie){for(var me in ie)Yt.has(me)||Kt.push(Yt.add(me))}),[Kt.map(St).join(C)].concat(Ot.map(function(ie){return Kt.map(function(me){return St(ie[me])}).join(C)})).join(`
`)},at.formatRows=function(Ot){return Ot.map(Tt).join(`
`)},at},u.csv=u.dsv(",","text/csv"),u.tsv=u.dsv("	","text/tab-separated-values");var Sn,bn,_n,Hn,En=this[z(this,"requestAnimationFrame")]||function(C){setTimeout(C,17)};function Dn(C,D,Y){var tt=arguments.length;tt<2&&(D=0),tt<3&&(Y=Date.now());var at={c:C,t:Y+D,n:null};return bn?bn.n=at:Sn=at,bn=at,_n||(Hn=clearTimeout(Hn),_n=1,En(xn)),at}function xn(){var C=Kn(),D=Yn()-C;D>24?(isFinite(D)&&(clearTimeout(Hn),Hn=setTimeout(xn,D)),_n=0):(_n=1,En(xn))}function Kn(){for(var C=Date.now(),D=Sn;D;)C>=D.t&&D.c(C-D.t)&&(D.c=null),D=D.n;return C}function Yn(){for(var C,D=Sn,Y=1/0;D;)D.c?(D.t<Y&&(Y=D.t),D=(C=D).n):D=C?C.n=D.n:Sn=D.n;return bn=C,Y}function hr(C){return C[0]}function pr(C){return C[1]}function Zn(C){for(var D,Y,tt,at=C.length,ut=[0,1],yt=2,Tt=2;Tt<at;Tt++){for(;yt>1&&(D=C[ut[yt-2]],Y=C[ut[yt-1]],tt=C[Tt],(Y[0]-D[0])*(tt[1]-D[1])-(Y[1]-D[1])*(tt[0]-D[0])<=0);)--yt;ut[yt++]=Tt}return ut.slice(0,yt)}function br(C,D){return C[0]-D[0]||C[1]-D[1]}u.timer=function(){Dn.apply(this,arguments)},u.timer.flush=function(){Kn(),Yn()},u.round=function(C,D){return D?Math.round(C*(D=Math.pow(10,D)))/D:Math.round(C)},u.geom={},u.geom.hull=function(C){var D=hr,Y=pr;if(arguments.length)return tt(C);function tt(at){if(at.length<3)return[];var ut,yt=tn(D),Tt=tn(Y),St=at.length,Ot=[],Yt=[];for(ut=0;ut<St;ut++)Ot.push([+yt.call(this,at[ut],ut),+Tt.call(this,at[ut],ut),ut]);for(Ot.sort(br),ut=0;ut<St;ut++)Yt.push([Ot[ut][0],-Ot[ut][1]]);var Kt=Zn(Ot),ie=Zn(Yt),me=ie[0]===Kt[0],Ie=ie[ie.length-1]===Kt[Kt.length-1],de=[];for(ut=Kt.length-1;ut>=0;--ut)de.push(at[Ot[Kt[ut]][2]]);for(ut=+me;ut<ie.length-Ie;++ut)de.push(at[Ot[ie[ut]][2]]);return de}return tt.x=function(at){return arguments.length?(D=at,tt):D},tt.y=function(at){return arguments.length?(Y=at,tt):Y},tt},u.geom.polygon=function(C){return H(C,bi),C};var bi=u.geom.polygon.prototype=[];function so(C,D,Y){return(Y[0]-D[0])*(C[1]-D[1])<(Y[1]-D[1])*(C[0]-D[0])}function wi(C,D,Y,tt){var at=C[0],ut=Y[0],yt=D[0]-at,Tt=tt[0]-ut,St=C[1],Ot=Y[1],Yt=D[1]-St,Kt=tt[1]-Ot,ie=(Tt*(St-Ot)-Kt*(at-ut))/(Kt*yt-Tt*Yt);return[at+ie*yt,St+ie*Yt]}function Da(C){var D=C[0],Y=C[C.length-1];return!(D[0]-Y[0]||D[1]-Y[1])}bi.area=function(){for(var C,D=-1,Y=this.length,tt=this[Y-1],at=0;++D<Y;)C=tt,tt=this[D],at+=C[1]*tt[0]-C[0]*tt[1];return .5*at},bi.centroid=function(C){var D,Y,tt=-1,at=this.length,ut=0,yt=0,Tt=this[at-1];for(arguments.length||(C=-1/(6*this.area()));++tt<at;)D=Tt,Tt=this[tt],Y=D[0]*Tt[1]-Tt[0]*D[1],ut+=(D[0]+Tt[0])*Y,yt+=(D[1]+Tt[1])*Y;return[ut*C,yt*C]},bi.clip=function(C){for(var D,Y,tt,at,ut,yt,Tt=Da(C),St=-1,Ot=this.length-Da(this),Yt=this[Ot-1];++St<Ot;){for(D=C.slice(),C.length=0,at=this[St],ut=D[(tt=D.length-Tt)-1],Y=-1;++Y<tt;)so(yt=D[Y],Yt,at)?(so(ut,Yt,at)||C.push(wi(ut,yt,Yt,at)),C.push(yt)):so(ut,Yt,at)&&C.push(wi(ut,yt,Yt,at)),ut=yt;Tt&&C.push(C[0]),Yt=at}return C};var Ri,qr,ka,Ci,$n,wn=[],gr=[];function ur(){Ns(this),this.edge=this.site=this.circle=null}function Pn(C){var D=wn.pop()||new ur;return D.site=C,D}function wr(C){ra(C),ka.remove(C),wn.push(C),Ns(C)}function rr(C){var D=C.circle,Y=D.x,tt=D.cy,at={x:Y,y:tt},ut=C.P,yt=C.N,Tt=[C];wr(C);for(var St=ut;St.circle&&O(Y-St.circle.x)<$t&&O(tt-St.circle.cy)<$t;)ut=St.P,Tt.unshift(St),wr(St),St=ut;Tt.unshift(St),ra(St);for(var Ot=yt;Ot.circle&&O(Y-Ot.circle.x)<$t&&O(tt-Ot.circle.cy)<$t;)yt=Ot.N,Tt.push(Ot),wr(Ot),Ot=yt;Tt.push(Ot),ra(Ot);var Yt,Kt=Tt.length;for(Yt=1;Yt<Kt;++Yt)Ot=Tt[Yt],St=Tt[Yt-1],Xr(Ot.edge,St.site,Ot.site,at);St=Tt[0],(Ot=Tt[Kt-1]).edge=wa(St.site,Ot.site,null,at),jr(St),jr(Ot)}function ni(C){for(var D,Y,tt,at,ut=C.x,yt=C.y,Tt=ka._;Tt;)if((tt=hi(Tt,yt)-ut)>$t)Tt=Tt.L;else{if(!((at=ut-Ai(Tt,yt))>$t)){tt>-$t?(D=Tt.P,Y=Tt):at>-$t?(D=Tt,Y=Tt.N):D=Y=Tt;break}if(!Tt.R){D=Tt;break}Tt=Tt.R}var St=Pn(C);if(ka.insert(D,St),D||Y){if(D===Y)return ra(D),Y=Pn(D.site),ka.insert(St,Y),St.edge=Y.edge=wa(D.site,St.site),jr(D),void jr(Y);if(Y){ra(D),ra(Y);var Ot=D.site,Yt=Ot.x,Kt=Ot.y,ie=C.x-Yt,me=C.y-Kt,Ie=Y.site,de=Ie.x-Yt,_e=Ie.y-Kt,le=2*(ie*_e-me*de),Re=ie*ie+me*me,we=de*de+_e*_e,ce={x:(_e*Re-me*we)/le+Yt,y:(ie*we-de*Re)/le+Kt};Xr(Y.edge,Ot,Ie,ce),St.edge=wa(Ot,C,null,ce),Y.edge=wa(C,Ie,null,ce),jr(D),jr(Y)}else St.edge=wa(D.site,St.site)}}function hi(C,D){var Y=C.site,tt=Y.x,at=Y.y,ut=at-D;if(!ut)return tt;var yt=C.P;if(!yt)return-1/0;var Tt=(Y=yt.site).x,St=Y.y,Ot=St-D;if(!Ot)return Tt;var Yt=Tt-tt,Kt=1/ut-1/Ot,ie=Yt/Ot;return Kt?(-ie+Math.sqrt(ie*ie-2*Kt*(Yt*Yt/(-2*Ot)-St+Ot/2+at-ut/2)))/Kt+tt:(tt+Tt)/2}function Ai(C,D){var Y=C.N;if(Y)return hi(Y,D);var tt=C.site;return tt.y===D?tt.x:1/0}function Ii(C){this.site=C,this.edges=[]}function Wa(C,D){return D.angle-C.angle}function Ro(){Ns(this),this.x=this.y=this.arc=this.site=this.cy=null}function jr(C){var D=C.P,Y=C.N;if(D&&Y){var tt=D.site,at=C.site,ut=Y.site;if(tt!==ut){var yt=at.x,Tt=at.y,St=tt.x-yt,Ot=tt.y-Tt,Yt=ut.x-yt,Kt=2*(St*(_e=ut.y-Tt)-Ot*Yt);if(!(Kt>=-Jt)){var ie=St*St+Ot*Ot,me=Yt*Yt+_e*_e,Ie=(_e*ie-Ot*me)/Kt,de=(St*me-Yt*ie)/Kt,_e=de+Tt,le=gr.pop()||new Ro;le.arc=C,le.site=at,le.x=Ie+yt,le.y=_e+Math.sqrt(Ie*Ie+de*de),le.cy=_e,C.circle=le;for(var Re=null,we=$n._;we;)if(le.y<we.y||le.y===we.y&&le.x<=we.x){if(!we.L){Re=we.P;break}we=we.L}else{if(!we.R){Re=we;break}we=we.R}$n.insert(Re,le),Re||(Ci=le)}}}}function ra(C){var D=C.circle;D&&(D.P||(Ci=D.N),$n.remove(D),gr.push(D),Ns(D),C.circle=null)}function jn(C,D){var Y=C.b;if(Y)return!0;var tt,at,ut=C.a,yt=D[0][0],Tt=D[1][0],St=D[0][1],Ot=D[1][1],Yt=C.l,Kt=C.r,ie=Yt.x,me=Yt.y,Ie=Kt.x,de=Kt.y,_e=(ie+Ie)/2,le=(me+de)/2;if(de===me){if(_e<yt||_e>=Tt)return;if(ie>Ie){if(ut){if(ut.y>=Ot)return}else ut={x:_e,y:St};Y={x:_e,y:Ot}}else{if(ut){if(ut.y<St)return}else ut={x:_e,y:Ot};Y={x:_e,y:St}}}else if(at=le-(tt=(ie-Ie)/(de-me))*_e,tt<-1||tt>1)if(ie>Ie){if(ut){if(ut.y>=Ot)return}else ut={x:(St-at)/tt,y:St};Y={x:(Ot-at)/tt,y:Ot}}else{if(ut){if(ut.y<St)return}else ut={x:(Ot-at)/tt,y:Ot};Y={x:(St-at)/tt,y:St}}else if(me<de){if(ut){if(ut.x>=Tt)return}else ut={x:yt,y:tt*yt+at};Y={x:Tt,y:tt*Tt+at}}else{if(ut){if(ut.x<yt)return}else ut={x:Tt,y:tt*Tt+at};Y={x:yt,y:tt*yt+at}}return C.a=ut,C.b=Y,!0}function ha(C,D){this.l=C,this.r=D,this.a=this.b=null}function wa(C,D,Y,tt){var at=new ha(C,D);return Ri.push(at),Y&&Xr(at,C,D,Y),tt&&Xr(at,D,C,tt),qr[C.i].edges.push(new ql(at,C,D)),qr[D.i].edges.push(new ql(at,D,C)),at}function Xr(C,D,Y,tt){C.a||C.b?C.l===Y?C.b=tt:C.a=tt:(C.a=tt,C.l=D,C.r=Y)}function ql(C,D,Y){var tt=C.a,at=C.b;this.edge=C,this.site=D,this.angle=Y?Math.atan2(Y.y-D.y,Y.x-D.x):C.l===D?Math.atan2(at.x-tt.x,tt.y-at.y):Math.atan2(tt.x-at.x,at.y-tt.y)}function Su(){this._=null}function Ns(C){C.U=C.C=C.L=C.R=C.P=C.N=null}function rs(C,D){var Y=D,tt=D.R,at=Y.U;at?at.L===Y?at.L=tt:at.R=tt:C._=tt,tt.U=at,Y.U=tt,Y.R=tt.L,Y.R&&(Y.R.U=Y),tt.L=Y}function is(C,D){var Y=D,tt=D.L,at=Y.U;at?at.L===Y?at.L=tt:at.R=tt:C._=tt,tt.U=at,Y.U=tt,Y.L=tt.R,Y.L&&(Y.L.U=Y),tt.R=Y}function vc(C){for(;C.L;)C=C.L;return C}function Ta(C,D){var Y,tt,at,ut=C.sort(dp).pop();for(Ri=[],qr=new Array(C.length),ka=new Su,$n=new Su;;)if(at=Ci,ut&&(!at||ut.y<at.y||ut.y===at.y&&ut.x<at.x))ut.x===Y&&ut.y===tt||(qr[ut.i]=new Ii(ut),ni(ut),Y=ut.x,tt=ut.y),ut=C.pop();else{if(!at)break;rr(at.arc)}D&&(function(Tt){for(var St,Ot,Yt,Kt,ie,me=Ri,Ie=(Ot=Tt[0][0],Yt=Tt[0][1],Kt=Tt[1][0],ie=Tt[1][1],function(_e){var le,Re=_e.a,we=_e.b,ce=Re.x,Ke=Re.y,Je=0,ln=1,hn=we.x-ce,On=we.y-Ke;if(le=Ot-ce,hn||!(le>0)){if(le/=hn,hn<0){if(le<Je)return;le<ln&&(ln=le)}else if(hn>0){if(le>ln)return;le>Je&&(Je=le)}if(le=Kt-ce,hn||!(le<0)){if(le/=hn,hn<0){if(le>ln)return;le>Je&&(Je=le)}else if(hn>0){if(le<Je)return;le<ln&&(ln=le)}if(le=Yt-Ke,On||!(le>0)){if(le/=On,On<0){if(le<Je)return;le<ln&&(ln=le)}else if(On>0){if(le>ln)return;le>Je&&(Je=le)}if(le=ie-Ke,On||!(le<0)){if(le/=On,On<0){if(le>ln)return;le>Je&&(Je=le)}else if(On>0){if(le<Je)return;le<ln&&(ln=le)}return Je>0&&(_e.a={x:ce+Je*hn,y:Ke+Je*On}),ln<1&&(_e.b={x:ce+ln*hn,y:Ke+ln*On}),_e}}}}}),de=me.length;de--;)(!jn(St=me[de],Tt)||!Ie(St)||O(St.a.x-St.b.x)<$t&&O(St.a.y-St.b.y)<$t)&&(St.a=St.b=null,me.splice(de,1))}(D),function(Tt){for(var St,Ot,Yt,Kt,ie,me,Ie,de,_e,le,Re=Tt[0][0],we=Tt[1][0],ce=Tt[0][1],Ke=Tt[1][1],Je=qr,ln=Je.length;ln--;)if((ie=Je[ln])&&ie.prepare())for(de=(Ie=ie.edges).length,me=0;me<de;)Yt=(le=Ie[me].end()).x,Kt=le.y,St=(_e=Ie[++me%de].start()).x,Ot=_e.y,(O(Yt-St)>$t||O(Kt-Ot)>$t)&&(Ie.splice(me,0,new ql((hn=ie.site,On=le,Ln=O(Yt-Re)<$t&&Ke-Kt>$t?{x:Re,y:O(St-Re)<$t?Ot:Ke}:O(Kt-Ke)<$t&&we-Yt>$t?{x:O(Ot-Ke)<$t?St:we,y:Ke}:O(Yt-we)<$t&&Kt-ce>$t?{x:we,y:O(St-we)<$t?Ot:ce}:O(Kt-ce)<$t&&Yt-Re>$t?{x:O(Ot-ce)<$t?St:Re,y:ce}:null,Un=void 0,(Un=new ha(hn,null)).a=On,Un.b=Ln,Ri.push(Un),Un),ie.site,null)),++de);var hn,On,Ln,Un}(D));var yt={cells:qr,edges:Ri};return ka=$n=Ri=qr=null,yt}function dp(C,D){return D.y-C.y||D.x-C.x}Ii.prototype.prepare=function(){for(var C,D=this.edges,Y=D.length;Y--;)(C=D[Y].edge).b&&C.a||D.splice(Y,1);return D.sort(Wa),D.length},ql.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Su.prototype={insert:function(C,D){var Y,tt,at;if(C){if(D.P=C,D.N=C.N,C.N&&(C.N.P=D),C.N=D,C.R){for(C=C.R;C.L;)C=C.L;C.L=D}else C.R=D;Y=C}else this._?(C=vc(this._),D.P=null,D.N=C,C.P=C.L=D,Y=C):(D.P=D.N=null,this._=D,Y=null);for(D.L=D.R=null,D.U=Y,D.C=!0,C=D;Y&&Y.C;)Y===(tt=Y.U).L?(at=tt.R)&&at.C?(Y.C=at.C=!1,tt.C=!0,C=tt):(C===Y.R&&(rs(this,Y),Y=(C=Y).U),Y.C=!1,tt.C=!0,is(this,tt)):(at=tt.L)&&at.C?(Y.C=at.C=!1,tt.C=!0,C=tt):(C===Y.L&&(is(this,Y),Y=(C=Y).U),Y.C=!1,tt.C=!0,rs(this,tt)),Y=C.U;this._.C=!1},remove:function(C){C.N&&(C.N.P=C.P),C.P&&(C.P.N=C.N),C.N=C.P=null;var D,Y,tt,at=C.U,ut=C.L,yt=C.R;if(Y=ut?yt?vc(yt):ut:yt,at?at.L===C?at.L=Y:at.R=Y:this._=Y,ut&&yt?(tt=Y.C,Y.C=C.C,Y.L=ut,ut.U=Y,Y!==yt?(at=Y.U,Y.U=C.U,C=Y.R,at.L=C,Y.R=yt,yt.U=Y):(Y.U=at,at=Y,C=Y.R)):(tt=C.C,C=Y),C&&(C.U=at),!tt)if(C&&C.C)C.C=!1;else{do{if(C===this._)break;if(C===at.L){if((D=at.R).C&&(D.C=!1,at.C=!0,rs(this,at),D=at.R),D.L&&D.L.C||D.R&&D.R.C){D.R&&D.R.C||(D.L.C=!1,D.C=!0,is(this,D),D=at.R),D.C=at.C,at.C=D.R.C=!1,rs(this,at),C=this._;break}}else if((D=at.L).C&&(D.C=!1,at.C=!0,is(this,at),D=at.L),D.L&&D.L.C||D.R&&D.R.C){D.L&&D.L.C||(D.R.C=!1,D.C=!0,rs(this,D),D=at.L),D.C=at.C,at.C=D.L.C=!1,is(this,at),C=this._;break}D.C=!0,C=at,at=at.U}while(!C.C);C&&(C.C=!1)}}},u.geom.voronoi=function(C){var D=hr,Y=pr,tt=D,at=Y,ut=da;if(C)return yt(C);function yt(St){var Ot=new Array(St.length),Yt=ut[0][0],Kt=ut[0][1],ie=ut[1][0],me=ut[1][1];return Ta(Tt(St),ut).cells.forEach(function(Ie,de){var _e=Ie.edges,le=Ie.site;(Ot[de]=_e.length?_e.map(function(Re){var we=Re.start();return[we.x,we.y]}):le.x>=Yt&&le.x<=ie&&le.y>=Kt&&le.y<=me?[[Yt,me],[ie,me],[ie,Kt],[Yt,Kt]]:[]).point=St[de]}),Ot}function Tt(St){return St.map(function(Ot,Yt){return{x:Math.round(tt(Ot,Yt)/$t)*$t,y:Math.round(at(Ot,Yt)/$t)*$t,i:Yt}})}return yt.links=function(St){return Ta(Tt(St)).edges.filter(function(Ot){return Ot.l&&Ot.r}).map(function(Ot){return{source:St[Ot.l.i],target:St[Ot.r.i]}})},yt.triangles=function(St){var Ot=[];return Ta(Tt(St)).cells.forEach(function(Yt,Kt){for(var ie,me,Ie,de,_e=Yt.site,le=Yt.edges.sort(Wa),Re=-1,we=le.length,ce=le[we-1].edge,Ke=ce.l===_e?ce.r:ce.l;++Re<we;)ie=Ke,Ke=(ce=le[Re].edge).l===_e?ce.r:ce.l,Kt<ie.i&&Kt<Ke.i&&(Ie=ie,de=Ke,((me=_e).x-de.x)*(Ie.y-me.y)-(me.x-Ie.x)*(de.y-me.y)<0)&&Ot.push([St[Kt],St[ie.i],St[Ke.i]])}),Ot},yt.x=function(St){return arguments.length?(tt=tn(D=St),yt):D},yt.y=function(St){return arguments.length?(at=tn(Y=St),yt):Y},yt.clipExtent=function(St){return arguments.length?(ut=St??da,yt):ut===da?null:ut},yt.size=function(St){return arguments.length?yt.clipExtent(St&&[[0,0],St]):ut===da?null:ut&&ut[1]},yt};var da=[[-1e6,-1e6],[1e6,1e6]];function pp(C){return C.x}function Xy(C){return C.y}function as(C,D,Y,tt,at,ut){if(!C(D,Y,tt,at,ut)){var yt=.5*(Y+at),Tt=.5*(tt+ut),St=D.nodes;St[0]&&as(C,St[0],Y,tt,yt,Tt),St[1]&&as(C,St[1],yt,tt,at,Tt),St[2]&&as(C,St[2],Y,Tt,yt,ut),St[3]&&as(C,St[3],yt,Tt,at,ut)}}function gf(C,D){C=u.rgb(C),D=u.rgb(D);var Y=C.r,tt=C.g,at=C.b,ut=D.r-Y,yt=D.g-tt,Tt=D.b-at;return function(St){return"#"+ke(Math.round(Y+ut*St))+ke(Math.round(tt+yt*St))+ke(Math.round(at+Tt*St))}}function gp(C,D){var Y,tt={},at={};for(Y in C)Y in D?tt[Y]=Kl(C[Y],D[Y]):at[Y]=C[Y];for(Y in D)Y in C||(at[Y]=D[Y]);return function(ut){for(Y in tt)at[Y]=tt[Y](ut);return at}}function Wr(C,D){return C=+C,D=+D,function(Y){return C*(1-Y)+D*Y}}function Xl(C,D){var Y,tt,at,ut=Rh.lastIndex=B0.lastIndex=0,yt=-1,Tt=[],St=[];for(C+="",D+="";(Y=Rh.exec(C))&&(tt=B0.exec(D));)(at=tt.index)>ut&&(at=D.slice(ut,at),Tt[yt]?Tt[yt]+=at:Tt[++yt]=at),(Y=Y[0])===(tt=tt[0])?Tt[yt]?Tt[yt]+=tt:Tt[++yt]=tt:(Tt[++yt]=null,St.push({i:yt,x:Wr(Y,tt)})),ut=B0.lastIndex;return ut<D.length&&(at=D.slice(ut),Tt[yt]?Tt[yt]+=at:Tt[++yt]=at),Tt.length<2?St[0]?(D=St[0].x,function(Ot){return D(Ot)+""}):function(){return D}:(D=St.length,function(Ot){for(var Yt,Kt=0;Kt<D;++Kt)Tt[(Yt=St[Kt]).i]=Yt.x(Ot);return Tt.join("")})}u.geom.delaunay=function(C){return u.geom.voronoi().triangles(C)},u.geom.quadtree=function(C,D,Y,tt,at){var ut,yt=hr,Tt=pr;if(ut=arguments.length)return yt=pp,Tt=Xy,ut===3&&(at=Y,tt=D,Y=D=0),St(C);function St(Ot){var Yt,Kt,ie,me,Ie,de,_e,le,Re,we=tn(yt),ce=tn(Tt);if(D!=null)de=D,_e=Y,le=tt,Re=at;else if(le=Re=-(de=_e=1/0),Kt=[],ie=[],Ie=Ot.length,ut)for(me=0;me<Ie;++me)(Yt=Ot[me]).x<de&&(de=Yt.x),Yt.y<_e&&(_e=Yt.y),Yt.x>le&&(le=Yt.x),Yt.y>Re&&(Re=Yt.y),Kt.push(Yt.x),ie.push(Yt.y);else for(me=0;me<Ie;++me){var Ke=+we(Yt=Ot[me],me),Je=+ce(Yt,me);Ke<de&&(de=Ke),Je<_e&&(_e=Je),Ke>le&&(le=Ke),Je>Re&&(Re=Je),Kt.push(Ke),ie.push(Je)}var ln=le-de,hn=Re-_e;function On(Mn,ar,Rr,pi,mn,In,Jn,Xn){if(!isNaN(Rr)&&!isNaN(pi))if(Mn.leaf){var Er=Mn.x,ri=Mn.y;if(Er!=null)if(O(Er-Rr)+O(ri-pi)<.01)Ln(Mn,ar,Rr,pi,mn,In,Jn,Xn);else{var Ui=Mn.point;Mn.x=Mn.y=Mn.point=null,Ln(Mn,Ui,Er,ri,mn,In,Jn,Xn),Ln(Mn,ar,Rr,pi,mn,In,Jn,Xn)}else Mn.x=Rr,Mn.y=pi,Mn.point=ar}else Ln(Mn,ar,Rr,pi,mn,In,Jn,Xn)}function Ln(Mn,ar,Rr,pi,mn,In,Jn,Xn){var Er=.5*(mn+Jn),ri=.5*(In+Xn),Ui=Rr>=Er,li=pi>=ri,ia=li<<1|Ui;Mn.leaf=!1,Ui?mn=Er:Jn=Er,li?In=ri:Xn=ri,On(Mn=Mn.nodes[ia]||(Mn.nodes[ia]={leaf:!0,nodes:[],point:null,x:null,y:null}),ar,Rr,pi,mn,In,Jn,Xn)}ln>hn?Re=_e+ln:le=de+hn;var Un={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(Mn){On(Un,Mn,+we(Mn,++me),+ce(Mn,me),de,_e,le,Re)}};if(Un.visit=function(Mn){as(Mn,Un,de,_e,le,Re)},Un.find=function(Mn){return function(ar,Rr,pi,mn,In,Jn,Xn){var Er,ri=1/0;return function Ui(li,ia,Vi,Hi,za){if(!(ia>Jn||Vi>Xn||Hi<mn||za<In)){if(ks=li.point){var ks,hl=Rr-li.x,dl=pi-li.y,aa=hl*hl+dl*dl;if(aa<ri){var Oi=Math.sqrt(ri=aa);mn=Rr-Oi,In=pi-Oi,Jn=Rr+Oi,Xn=pi+Oi,Er=ks}}for(var uo=li.nodes,Ba=.5*(ia+Hi),co=.5*(Vi+za),Bo=(pi>=co)<<1|Rr>=Ba,pl=Bo+4;Bo<pl;++Bo)if(li=uo[3&Bo])switch(3&Bo){case 0:Ui(li,ia,Vi,Ba,co);break;case 1:Ui(li,Ba,Vi,Hi,co);break;case 2:Ui(li,ia,co,Ba,za);break;case 3:Ui(li,Ba,co,Hi,za)}}}(ar,mn,In,Jn,Xn),Er}(Un,Mn[0],Mn[1],de,_e,le,Re)},me=-1,D==null){for(;++me<Ie;)On(Un,Ot[me],Kt[me],ie[me],de,_e,le,Re);--me}else Ot.forEach(Un.add);return Kt=ie=Ot=Yt=null,Un}return St.x=function(Ot){return arguments.length?(yt=Ot,St):yt},St.y=function(Ot){return arguments.length?(Tt=Ot,St):Tt},St.extent=function(Ot){return arguments.length?(Ot==null?D=Y=tt=at=null:(D=+Ot[0][0],Y=+Ot[0][1],tt=+Ot[1][0],at=+Ot[1][1]),St):D==null?null:[[D,Y],[tt,at]]},St.size=function(Ot){return arguments.length?(Ot==null?D=Y=tt=at=null:(D=Y=0,tt=+Ot[0],at=+Ot[1]),St):D==null?null:[tt-D,at-Y]},St},u.interpolateRgb=gf,u.interpolateObject=gp,u.interpolateNumber=Wr,u.interpolateString=Xl;var Rh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,B0=new RegExp(Rh.source,"g");function Kl(C,D){for(var Y,tt=u.interpolators.length;--tt>=0&&!(Y=u.interpolators[tt](C,D)););return Y}function mp(C,D){var Y,tt=[],at=[],ut=C.length,yt=D.length,Tt=Math.min(C.length,D.length);for(Y=0;Y<Tt;++Y)tt.push(Kl(C[Y],D[Y]));for(;Y<ut;++Y)at[Y]=C[Y];for(;Y<yt;++Y)at[Y]=D[Y];return function(St){for(Y=0;Y<Tt;++Y)at[Y]=tt[Y](St);return at}}u.interpolate=Kl,u.interpolators=[function(C,D){var Y=typeof D;return(Y==="string"?Ze.has(D.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(D)?gf:Xl:D instanceof Vt?gf:Array.isArray(D)?mp:Y==="object"&&isNaN(D)?gp:Wr)(C,D)}],u.interpolateArray=mp;var Ky=function(){return nt},N2=u.map({linear:Ky,poly:function(C){return function(D){return Math.pow(D,C)}},quad:function(){return R2},cubic:function(){return Jy},sin:function(){return G0},exp:function(){return j0},circle:function(){return t_},elastic:function(C,D){var Y;return arguments.length<2&&(D=.45),arguments.length?Y=D/Ce*Math.asin(1/C):(C=1,Y=D/4),function(tt){return 1+C*Math.pow(2,-10*tt)*Math.sin((tt-Y)*Ce/D)}},back:function(C){return C||(C=1.70158),function(D){return D*D*((C+1)*D-C)}},bounce:function(){return D2}}),Zy=u.map({in:nt,out:Dh,"in-out":yc,"out-in":function(C){return yc(Dh(C))}});function Dh(C){return function(D){return 1-C(1-D)}}function yc(C){return function(D){return .5*(D<.5?C(2*D):2-C(2-2*D))}}function R2(C){return C*C}function Jy(C){return C*C*C}function Qy(C){if(C<=0)return 0;if(C>=1)return 1;var D=C*C,Y=D*C;return 4*(C<.5?Y:3*(C-D)+Y-.75)}function G0(C){return 1-Math.cos(C*Me)}function j0(C){return Math.pow(2,10*(C-1))}function t_(C){return 1-Math.sqrt(1-C*C)}function D2(C){return C<.36363636363636365?7.5625*C*C:C<.7272727272727273?7.5625*(C-=.5454545454545454)*C+.75:C<.9090909090909091?7.5625*(C-=.8181818181818182)*C+.9375:7.5625*(C-=.9545454545454546)*C+.984375}function vp(C,D){return D-=C,function(Y){return Math.round(C+D*Y)}}function yp(C){var D,Y,tt,at=[C.a,C.b],ut=[C.c,C.d],yt=U0(at),Tt=e_(at,ut),St=U0(((D=ut)[0]+=(tt=-Tt)*(Y=at)[0],D[1]+=tt*Y[1],D))||0;at[0]*ut[1]<ut[0]*at[1]&&(at[0]*=-1,at[1]*=-1,yt*=-1,Tt*=-1),this.rotate=(yt?Math.atan2(at[1],at[0]):Math.atan2(-ut[0],ut[1]))*He,this.translate=[C.e,C.f],this.scale=[yt,St],this.skew=St?Math.atan2(Tt,St)*He:0}function e_(C,D){return C[0]*D[0]+C[1]*D[1]}function U0(C){var D=Math.sqrt(e_(C,C));return D&&(C[0]/=D,C[1]/=D),D}u.ease=function(C){var D,Y=C.indexOf("-"),tt=Y>=0?C.slice(0,Y):C,at=Y>=0?C.slice(Y+1):"in";return tt=N2.get(tt)||Ky,at=Zy.get(at)||nt,D=at(tt.apply(null,f.call(arguments,1))),function(ut){return ut<=0?0:ut>=1?1:D(ut)}},u.interpolateHcl=function(C,D){C=u.hcl(C),D=u.hcl(D);var Y=C.h,tt=C.c,at=C.l,ut=D.h-Y,yt=D.c-tt,Tt=D.l-at;return isNaN(yt)&&(yt=0,tt=isNaN(tt)?D.c:tt),isNaN(ut)?(ut=0,Y=isNaN(Y)?D.h:Y):ut>180?ut-=360:ut<-180&&(ut+=360),function(St){return ye(Y+ut*St,tt+yt*St,at+Tt*St)+""}},u.interpolateHsl=function(C,D){C=u.hsl(C),D=u.hsl(D);var Y=C.h,tt=C.s,at=C.l,ut=D.h-Y,yt=D.s-tt,Tt=D.l-at;return isNaN(yt)&&(yt=0,tt=isNaN(tt)?D.s:tt),isNaN(ut)?(ut=0,Y=isNaN(Y)?D.h:Y):ut>180?ut-=360:ut<-180&&(ut+=360),function(St){return Qt(Y+ut*St,tt+yt*St,at+Tt*St)+""}},u.interpolateLab=function(C,D){C=u.lab(C),D=u.lab(D);var Y=C.l,tt=C.a,at=C.b,ut=D.l-Y,yt=D.a-tt,Tt=D.b-at;return function(St){return Se(Y+ut*St,tt+yt*St,at+Tt*St)+""}},u.interpolateRound=vp,u.transform=function(C){var D=d.createElementNS(u.ns.prefix.svg,"g");return(u.transform=function(Y){if(Y!=null){D.setAttribute("transform",Y);var tt=D.transform.baseVal.consolidate()}return new yp(tt?tt.matrix:Do)})(C)},yp.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Do={a:1,b:0,c:0,d:1,e:0,f:0};function Cu(C){return C.length?C.pop()+",":""}function mf(C,D){var Y=[],tt=[];return C=u.transform(C),D=u.transform(D),function(at,ut,yt,Tt){if(at[0]!==ut[0]||at[1]!==ut[1]){var St=yt.push("translate(",null,",",null,")");Tt.push({i:St-4,x:Wr(at[0],ut[0])},{i:St-2,x:Wr(at[1],ut[1])})}else(ut[0]||ut[1])&&yt.push("translate("+ut+")")}(C.translate,D.translate,Y,tt),function(at,ut,yt,Tt){at!==ut?(at-ut>180?ut+=360:ut-at>180&&(at+=360),Tt.push({i:yt.push(Cu(yt)+"rotate(",null,")")-2,x:Wr(at,ut)})):ut&&yt.push(Cu(yt)+"rotate("+ut+")")}(C.rotate,D.rotate,Y,tt),function(at,ut,yt,Tt){at!==ut?Tt.push({i:yt.push(Cu(yt)+"skewX(",null,")")-2,x:Wr(at,ut)}):ut&&yt.push(Cu(yt)+"skewX("+ut+")")}(C.skew,D.skew,Y,tt),function(at,ut,yt,Tt){if(at[0]!==ut[0]||at[1]!==ut[1]){var St=yt.push(Cu(yt)+"scale(",null,",",null,")");Tt.push({i:St-4,x:Wr(at[0],ut[0])},{i:St-2,x:Wr(at[1],ut[1])})}else ut[0]===1&&ut[1]===1||yt.push(Cu(yt)+"scale("+ut+")")}(C.scale,D.scale,Y,tt),C=D=null,function(at){for(var ut,yt=-1,Tt=tt.length;++yt<Tt;)Y[(ut=tt[yt]).i]=ut.x(at);return Y.join("")}}function n_(C,D){return D=(D-=C=+C)||1/D,function(Y){return(Y-C)/D}}function r_(C,D){return D=(D-=C=+C)||1/D,function(Y){return Math.max(0,Math.min(1,(Y-C)/D))}}function k2(C){for(var D=C.source,Y=C.target,tt=function(yt,Tt){if(yt===Tt)return yt;for(var St=i_(yt),Ot=i_(Tt),Yt=St.pop(),Kt=Ot.pop(),ie=null;Yt===Kt;)ie=Yt,Yt=St.pop(),Kt=Ot.pop();return ie}(D,Y),at=[D];D!==tt;)D=D.parent,at.push(D);for(var ut=at.length;Y!==tt;)at.splice(ut,0,Y),Y=Y.parent;return at}function i_(C){for(var D=[],Y=C.parent;Y!=null;)D.push(C),C=Y,Y=Y.parent;return D.push(C),D}function F2(C){C.fixed|=2}function z2(C){C.fixed&=-7}function B2(C){C.fixed|=4,C.px=C.x,C.py=C.y}function vf(C){C.fixed&=-5}function a_(C,D,Y){var tt=0,at=0;if(C.charge=0,!C.leaf)for(var ut,yt=C.nodes,Tt=yt.length,St=-1;++St<Tt;)(ut=yt[St])!=null&&(a_(ut,D,Y),C.charge+=ut.charge,tt+=ut.charge*ut.cx,at+=ut.charge*ut.cy);if(C.point){C.leaf||(C.point.x+=Math.random()-.5,C.point.y+=Math.random()-.5);var Ot=D*Y[C.point.index];C.charge+=C.pointCharge=Ot,tt+=Ot*C.point.x,at+=Ot*C.point.y}C.cx=tt/C.charge,C.cy=at/C.charge}u.interpolateTransform=mf,u.layout={},u.layout.bundle=function(){return function(C){for(var D=[],Y=-1,tt=C.length;++Y<tt;)D.push(k2(C[Y]));return D}},u.layout.chord=function(){var C,D,Y,tt,at,ut,yt,Tt={},St=0;function Ot(){var Kt,ie,me,Ie,de,_e={},le=[],Re=u.range(tt),we=[];for(C=[],D=[],Kt=0,Ie=-1;++Ie<tt;){for(ie=0,de=-1;++de<tt;)ie+=Y[Ie][de];le.push(ie),we.push(u.range(tt)),Kt+=ie}for(at&&Re.sort(function(Un,Mn){return at(le[Un],le[Mn])}),ut&&we.forEach(function(Un,Mn){Un.sort(function(ar,Rr){return ut(Y[Mn][ar],Y[Mn][Rr])})}),Kt=(Ce-St*tt)/Kt,ie=0,Ie=-1;++Ie<tt;){for(me=ie,de=-1;++de<tt;){var ce=Re[Ie],Ke=we[ce][de],Je=Y[ce][Ke],ln=ie,hn=ie+=Je*Kt;_e[ce+"-"+Ke]={index:ce,subindex:Ke,startAngle:ln,endAngle:hn,value:Je}}D[ce]={index:ce,startAngle:me,endAngle:ie,value:le[ce]},ie+=St}for(Ie=-1;++Ie<tt;)for(de=Ie-1;++de<tt;){var On=_e[Ie+"-"+de],Ln=_e[de+"-"+Ie];(On.value||Ln.value)&&C.push(On.value<Ln.value?{source:Ln,target:On}:{source:On,target:Ln})}yt&&Yt()}function Yt(){C.sort(function(Kt,ie){return yt((Kt.source.value+Kt.target.value)/2,(ie.source.value+ie.target.value)/2)})}return Tt.matrix=function(Kt){return arguments.length?(tt=(Y=Kt)&&Y.length,C=D=null,Tt):Y},Tt.padding=function(Kt){return arguments.length?(St=Kt,C=D=null,Tt):St},Tt.sortGroups=function(Kt){return arguments.length?(at=Kt,C=D=null,Tt):at},Tt.sortSubgroups=function(Kt){return arguments.length?(ut=Kt,C=null,Tt):ut},Tt.sortChords=function(Kt){return arguments.length?(yt=Kt,C&&Yt(),Tt):yt},Tt.chords=function(){return C||Ot(),C},Tt.groups=function(){return D||Ot(),D},Tt},u.layout.force=function(){var C,D,Y,tt,at,ut,yt={},Tt=u.dispatch("start","tick","end"),St=[1,1],Ot=.9,Yt=G2,Kt=V0,ie=-30,me=o_,Ie=.1,de=.64,_e=[],le=[];function Re(ce){return function(Ke,Je,ln,hn){if(Ke.point!==ce){var On=Ke.cx-ce.x,Ln=Ke.cy-ce.y,Un=hn-Je,Mn=On*On+Ln*Ln;if(Un*Un/de<Mn){if(Mn<me){var ar=Ke.charge/Mn;ce.px-=On*ar,ce.py-=Ln*ar}return!0}Ke.point&&Mn&&Mn<me&&(ar=Ke.pointCharge/Mn,ce.px-=On*ar,ce.py-=Ln*ar)}return!Ke.charge}}function we(ce){ce.px=u.event.x,ce.py=u.event.y,yt.resume()}return yt.tick=function(){if((Y*=.99)<.005)return C=null,Tt.end({type:"end",alpha:Y=0}),!0;var ce,Ke,Je,ln,hn,On,Ln,Un,Mn,ar=_e.length,Rr=le.length;for(Ke=0;Ke<Rr;++Ke)ln=(Je=le[Ke]).source,(On=(Un=(hn=Je.target).x-ln.x)*Un+(Mn=hn.y-ln.y)*Mn)&&(Un*=On=Y*at[Ke]*((On=Math.sqrt(On))-tt[Ke])/On,Mn*=On,hn.x-=Un*(Ln=ln.weight+hn.weight?ln.weight/(ln.weight+hn.weight):.5),hn.y-=Mn*Ln,ln.x+=Un*(Ln=1-Ln),ln.y+=Mn*Ln);if((Ln=Y*Ie)&&(Un=St[0]/2,Mn=St[1]/2,Ke=-1,Ln))for(;++Ke<ar;)(Je=_e[Ke]).x+=(Un-Je.x)*Ln,Je.y+=(Mn-Je.y)*Ln;if(ie)for(a_(ce=u.geom.quadtree(_e),Y,ut),Ke=-1;++Ke<ar;)(Je=_e[Ke]).fixed||ce.visit(Re(Je));for(Ke=-1;++Ke<ar;)(Je=_e[Ke]).fixed?(Je.x=Je.px,Je.y=Je.py):(Je.x-=(Je.px-(Je.px=Je.x))*Ot,Je.y-=(Je.py-(Je.py=Je.y))*Ot);Tt.tick({type:"tick",alpha:Y})},yt.nodes=function(ce){return arguments.length?(_e=ce,yt):_e},yt.links=function(ce){return arguments.length?(le=ce,yt):le},yt.size=function(ce){return arguments.length?(St=ce,yt):St},yt.linkDistance=function(ce){return arguments.length?(Yt=typeof ce=="function"?ce:+ce,yt):Yt},yt.distance=yt.linkDistance,yt.linkStrength=function(ce){return arguments.length?(Kt=typeof ce=="function"?ce:+ce,yt):Kt},yt.friction=function(ce){return arguments.length?(Ot=+ce,yt):Ot},yt.charge=function(ce){return arguments.length?(ie=typeof ce=="function"?ce:+ce,yt):ie},yt.chargeDistance=function(ce){return arguments.length?(me=ce*ce,yt):Math.sqrt(me)},yt.gravity=function(ce){return arguments.length?(Ie=+ce,yt):Ie},yt.theta=function(ce){return arguments.length?(de=ce*ce,yt):Math.sqrt(de)},yt.alpha=function(ce){return arguments.length?(ce=+ce,Y?ce>0?Y=ce:(C.c=null,C.t=NaN,C=null,Tt.end({type:"end",alpha:Y=0})):ce>0&&(Tt.start({type:"start",alpha:Y=ce}),C=Dn(yt.tick)),yt):Y},yt.start=function(){var ce,Ke,Je,ln=_e.length,hn=le.length,On=St[0],Ln=St[1];for(ce=0;ce<ln;++ce)(Je=_e[ce]).index=ce,Je.weight=0;for(ce=0;ce<hn;++ce)typeof(Je=le[ce]).source=="number"&&(Je.source=_e[Je.source]),typeof Je.target=="number"&&(Je.target=_e[Je.target]),++Je.source.weight,++Je.target.weight;for(ce=0;ce<ln;++ce)Je=_e[ce],isNaN(Je.x)&&(Je.x=Un("x",On)),isNaN(Je.y)&&(Je.y=Un("y",Ln)),isNaN(Je.px)&&(Je.px=Je.x),isNaN(Je.py)&&(Je.py=Je.y);if(tt=[],typeof Yt=="function")for(ce=0;ce<hn;++ce)tt[ce]=+Yt.call(this,le[ce],ce);else for(ce=0;ce<hn;++ce)tt[ce]=Yt;if(at=[],typeof Kt=="function")for(ce=0;ce<hn;++ce)at[ce]=+Kt.call(this,le[ce],ce);else for(ce=0;ce<hn;++ce)at[ce]=Kt;if(ut=[],typeof ie=="function")for(ce=0;ce<ln;++ce)ut[ce]=+ie.call(this,_e[ce],ce);else for(ce=0;ce<ln;++ce)ut[ce]=ie;function Un(Mn,ar){if(!Ke){for(Ke=new Array(ln),In=0;In<ln;++In)Ke[In]=[];for(In=0;In<hn;++In){var Rr=le[In];Ke[Rr.source.index].push(Rr.target),Ke[Rr.target.index].push(Rr.source)}}for(var pi,mn=Ke[ce],In=-1,Jn=mn.length;++In<Jn;)if(!isNaN(pi=mn[In][Mn]))return pi;return Math.random()*ar}return yt.resume()},yt.resume=function(){return yt.alpha(.1)},yt.stop=function(){return yt.alpha(0)},yt.drag=function(){if(D||(D=u.behavior.drag().origin(nt).on("dragstart.force",F2).on("drag.force",we).on("dragend.force",z2)),!arguments.length)return D;this.on("mouseover.force",B2).on("mouseout.force",vf).call(D)},u.rebind(yt,Tt,"on")};var G2=20,V0=1,o_=1/0;function os(C,D){return u.rebind(C,D,"sort","children","value"),C.nodes=C,C.links=Rs,C}function Au(C,D){for(var Y=[C];(C=Y.pop())!=null;)if(D(C),(at=C.children)&&(tt=at.length))for(var tt,at;--tt>=0;)Y.push(at[tt])}function fl(C,D){for(var Y=[C],tt=[];(C=Y.pop())!=null;)if(tt.push(C),(ut=C.children)&&(at=ut.length))for(var at,ut,yt=-1;++yt<at;)Y.push(ut[yt]);for(;(C=tt.pop())!=null;)D(C)}function j2(C){return C.children}function U2(C){return C.value}function yf(C,D){return D.value-C.value}function Rs(C){return u.merge(C.map(function(D){return(D.children||[]).map(function(Y){return{source:D,target:Y}})}))}u.layout.hierarchy=function(){var C=yf,D=j2,Y=U2;function tt(at){var ut,yt=[at],Tt=[];for(at.depth=0;(ut=yt.pop())!=null;)if(Tt.push(ut),(Ot=D.call(tt,ut,ut.depth))&&(St=Ot.length)){for(var St,Ot,Yt;--St>=0;)yt.push(Yt=Ot[St]),Yt.parent=ut,Yt.depth=ut.depth+1;Y&&(ut.value=0),ut.children=Ot}else Y&&(ut.value=+Y.call(tt,ut,ut.depth)||0),delete ut.children;return fl(at,function(Kt){var ie,me;C&&(ie=Kt.children)&&ie.sort(C),Y&&(me=Kt.parent)&&(me.value+=Kt.value)}),Tt}return tt.sort=function(at){return arguments.length?(C=at,tt):C},tt.children=function(at){return arguments.length?(D=at,tt):D},tt.value=function(at){return arguments.length?(Y=at,tt):Y},tt.revalue=function(at){return Y&&(Au(at,function(ut){ut.children&&(ut.value=0)}),fl(at,function(ut){var yt;ut.children||(ut.value=+Y.call(tt,ut,ut.depth)||0),(yt=ut.parent)&&(yt.value+=ut.value)})),at},tt},u.layout.partition=function(){var C=u.layout.hierarchy(),D=[1,1];function Y(ut,yt,Tt,St){var Ot=ut.children;if(ut.x=yt,ut.y=ut.depth*St,ut.dx=Tt,ut.dy=St,Ot&&(Yt=Ot.length)){var Yt,Kt,ie,me=-1;for(Tt=ut.value?Tt/ut.value:0;++me<Yt;)Y(Kt=Ot[me],yt,ie=Kt.value*Tt,St),yt+=ie}}function tt(ut){var yt=ut.children,Tt=0;if(yt&&(St=yt.length))for(var St,Ot=-1;++Ot<St;)Tt=Math.max(Tt,tt(yt[Ot]));return 1+Tt}function at(ut,yt){var Tt=C.call(this,ut,yt);return Y(Tt[0],0,D[0],D[1]/tt(Tt[0])),Tt}return at.size=function(ut){return arguments.length?(D=ut,at):D},os(at,C)},u.layout.pie=function(){var C=Number,D=H0,Y=0,tt=Ce,at=0;function ut(yt){var Tt,St=yt.length,Ot=yt.map(function(Re,we){return+C.call(ut,Re,we)}),Yt=+(typeof Y=="function"?Y.apply(this,arguments):Y),Kt=(typeof tt=="function"?tt.apply(this,arguments):tt)-Yt,ie=Math.min(Math.abs(Kt)/St,+(typeof at=="function"?at.apply(this,arguments):at)),me=ie*(Kt<0?-1:1),Ie=u.sum(Ot),de=Ie?(Kt-St*me)/Ie:0,_e=u.range(St),le=[];return D!=null&&_e.sort(D===H0?function(Re,we){return Ot[we]-Ot[Re]}:function(Re,we){return D(yt[Re],yt[we])}),_e.forEach(function(Re){le[Re]={data:yt[Re],value:Tt=Ot[Re],startAngle:Yt,endAngle:Yt+=Tt*de+me,padAngle:ie}}),le}return ut.value=function(yt){return arguments.length?(C=yt,ut):C},ut.sort=function(yt){return arguments.length?(D=yt,ut):D},ut.startAngle=function(yt){return arguments.length?(Y=yt,ut):Y},ut.endAngle=function(yt){return arguments.length?(tt=yt,ut):tt},ut.padAngle=function(yt){return arguments.length?(at=yt,ut):at},ut};var H0={};function V2(C){return C.x}function H2(C){return C.y}function Y2(C,D,Y){C.y0=D,C.y=Y}u.layout.stack=function(){var C=nt,D=Iu,Y=De,tt=Y2,at=V2,ut=H2;function yt(Tt,St){if(!(ie=Tt.length))return Tt;var Ot=Tt.map(function(Re,we){return C.call(yt,Re,we)}),Yt=Ot.map(function(Re){return Re.map(function(we,ce){return[at.call(yt,we,ce),ut.call(yt,we,ce)]})}),Kt=D.call(yt,Yt,St);Ot=u.permute(Ot,Kt),Yt=u.permute(Yt,Kt);var ie,me,Ie,de,_e=Y.call(yt,Yt,St),le=Ot[0].length;for(Ie=0;Ie<le;++Ie)for(tt.call(yt,Ot[0][Ie],de=_e[Ie],Yt[0][Ie][1]),me=1;me<ie;++me)tt.call(yt,Ot[me][Ie],de+=Yt[me-1][Ie][1],Yt[me][Ie][1]);return Tt}return yt.values=function(Tt){return arguments.length?(C=Tt,yt):C},yt.order=function(Tt){return arguments.length?(D=typeof Tt=="function"?Tt:W2.get(Tt)||Iu,yt):D},yt.offset=function(Tt){return arguments.length?(Y=typeof Tt=="function"?Tt:$2.get(Tt)||De,yt):Y},yt.x=function(Tt){return arguments.length?(at=Tt,yt):at},yt.y=function(Tt){return arguments.length?(ut=Tt,yt):ut},yt.out=function(Tt){return arguments.length?(tt=Tt,yt):tt},yt};var W2=u.map({"inside-out":function(C){var D,Y,tt=C.length,at=C.map(on),ut=C.map(en),yt=u.range(tt).sort(function(Kt,ie){return at[Kt]-at[ie]}),Tt=0,St=0,Ot=[],Yt=[];for(D=0;D<tt;++D)Y=yt[D],Tt<St?(Tt+=ut[Y],Ot.push(Y)):(St+=ut[Y],Yt.push(Y));return Yt.reverse().concat(Ot)},reverse:function(C){return u.range(C.length).reverse()},default:Iu}),$2=u.map({silhouette:function(C){var D,Y,tt,at=C.length,ut=C[0].length,yt=[],Tt=0,St=[];for(Y=0;Y<ut;++Y){for(D=0,tt=0;D<at;D++)tt+=C[D][Y][1];tt>Tt&&(Tt=tt),yt.push(tt)}for(Y=0;Y<ut;++Y)St[Y]=(Tt-yt[Y])/2;return St},wiggle:function(C){var D,Y,tt,at,ut,yt,Tt,St,Ot,Yt=C.length,Kt=C[0],ie=Kt.length,me=[];for(me[0]=St=Ot=0,Y=1;Y<ie;++Y){for(D=0,at=0;D<Yt;++D)at+=C[D][Y][1];for(D=0,ut=0,Tt=Kt[Y][0]-Kt[Y-1][0];D<Yt;++D){for(tt=0,yt=(C[D][Y][1]-C[D][Y-1][1])/(2*Tt);tt<D;++tt)yt+=(C[tt][Y][1]-C[tt][Y-1][1])/Tt;ut+=yt*C[D][Y][1]}me[Y]=St-=at?ut/at*Tt:0,St<Ot&&(Ot=St)}for(Y=0;Y<ie;++Y)me[Y]-=Ot;return me},expand:function(C){var D,Y,tt,at=C.length,ut=C[0].length,yt=1/at,Tt=[];for(Y=0;Y<ut;++Y){for(D=0,tt=0;D<at;D++)tt+=C[D][Y][1];if(tt)for(D=0;D<at;D++)C[D][Y][1]/=tt;else for(D=0;D<at;D++)C[D][Y][1]=yt}for(Y=0;Y<ut;++Y)Tt[Y]=0;return Tt},zero:De});function Iu(C){return u.range(C.length)}function De(C){for(var D=-1,Y=C[0].length,tt=[];++D<Y;)tt[D]=0;return tt}function on(C){for(var D,Y=1,tt=0,at=C[0][1],ut=C.length;Y<ut;++Y)(D=C[Y][1])>at&&(tt=Y,at=D);return tt}function en(C){return C.reduce(Fn,0)}function Fn(C,D){return C+D[1]}function mr(C,D){return $r(C,Math.ceil(Math.log(D.length)/Math.LN2+1))}function $r(C,D){for(var Y=-1,tt=+C[0],at=(C[1]-tt)/D,ut=[];++Y<=D;)ut[Y]=at*Y+tt;return ut}function pa(C){return[u.min(C),u.max(C)]}function di(C,D){return C.value-D.value}function kh(C,D){var Y=C._pack_next;C._pack_next=D,D._pack_prev=C,D._pack_next=Y,Y._pack_prev=D}function s_(C,D){C._pack_next=D,D._pack_prev=C}function ko(C,D){var Y=D.x-C.x,tt=D.y-C.y,at=C.r+D.r;return .999*at*at>Y*Y+tt*tt}function Fh(C){if((D=C.children)&&(St=D.length)){var D,Y,tt,at,ut,yt,Tt,St,Ot=1/0,Yt=-1/0,Kt=1/0,ie=-1/0;if(D.forEach(q2),(Y=D[0]).x=-Y.r,Y.y=0,we(Y),St>1&&((tt=D[1]).x=tt.r,tt.y=0,we(tt),St>2))for(Bh(Y,tt,at=D[2]),we(at),kh(Y,at),Y._pack_prev=at,kh(at,tt),tt=Y._pack_next,ut=3;ut<St;ut++){Bh(Y,tt,at=D[ut]);var me=0,Ie=1,de=1;for(yt=tt._pack_next;yt!==tt;yt=yt._pack_next,Ie++)if(ko(yt,at)){me=1;break}if(me==1)for(Tt=Y._pack_prev;Tt!==yt._pack_prev&&!ko(Tt,at);Tt=Tt._pack_prev,de++);me?(Ie<de||Ie==de&&tt.r<Y.r?s_(Y,tt=yt):s_(Y=Tt,tt),ut--):(kh(Y,at),tt=at,we(at))}var _e=(Ot+Yt)/2,le=(Kt+ie)/2,Re=0;for(ut=0;ut<St;ut++)(at=D[ut]).x-=_e,at.y-=le,Re=Math.max(Re,at.r+Math.sqrt(at.x*at.x+at.y*at.y));C.r=Re,D.forEach(_f)}function we(ce){Ot=Math.min(ce.x-ce.r,Ot),Yt=Math.max(ce.x+ce.r,Yt),Kt=Math.min(ce.y-ce.r,Kt),ie=Math.max(ce.y+ce.r,ie)}}function q2(C){C._pack_next=C._pack_prev=C}function _f(C){delete C._pack_next,delete C._pack_prev}function zh(C,D,Y,tt){var at=C.children;if(C.x=D+=tt*C.x,C.y=Y+=tt*C.y,C.r*=tt,at)for(var ut=-1,yt=at.length;++ut<yt;)zh(at[ut],D,Y,tt)}function Bh(C,D,Y){var tt=C.r+Y.r,at=D.x-C.x,ut=D.y-C.y;if(tt&&(at||ut)){var yt=D.r+Y.r,Tt=at*at+ut*ut,St=.5+((tt*=tt)-(yt*=yt))/(2*Tt),Ot=Math.sqrt(Math.max(0,2*yt*(tt+Tt)-(tt-=Tt)*tt-yt*yt))/(2*Tt);Y.x=C.x+St*at+Ot*ut,Y.y=C.y+St*ut-Ot*at}else Y.x=C.x+tt,Y.y=C.y}function ti(C,D){return C.parent==D.parent?1:2}function Y0(C){var D=C.children;return D.length?D[0]:C.t}function _p(C){var D,Y=C.children;return(D=Y.length)?Y[D-1]:C.t}function xp(C,D,Y){var tt=Y/(D.i-C.i);D.c-=tt,D.s+=Y,C.c+=tt,D.z+=Y,D.m+=Y}function X2(C,D,Y){return C.a.parent===D.parent?C.a:Y}function l_(C){var D=C.children;return D&&D.length?l_(D[0]):C}function u_(C){var D,Y=C.children;return Y&&(D=Y.length)?u_(Y[D-1]):C}function xf(C){return{x:C.x,y:C.y,dx:C.dx,dy:C.dy}}function Zl(C,D){var Y=C.x+D[3],tt=C.y+D[0],at=C.dx-D[1]-D[3],ut=C.dy-D[0]-D[2];return at<0&&(Y+=at/2,at=0),ut<0&&(tt+=ut/2,ut=0),{x:Y,y:tt,dx:at,dy:ut}}function _c(C){var D=C[0],Y=C[C.length-1];return D<Y?[D,Y]:[Y,D]}function Gh(C){return C.rangeExtent?C.rangeExtent():_c(C.range())}function bp(C,D,Y,tt){var at=Y(C[0],C[1]),ut=tt(D[0],D[1]);return function(yt){return ut(at(yt))}}function wp(C,D){var Y,tt=0,at=C.length-1,ut=C[tt],yt=C[at];return yt<ut&&(Y=tt,tt=at,at=Y,Y=ut,ut=yt,yt=Y),C[tt]=D.floor(ut),C[at]=D.ceil(yt),C}function W0(C){return C?{floor:function(D){return Math.floor(D/C)*C},ceil:function(D){return Math.ceil(D/C)*C}}:Tp}u.layout.histogram=function(){var C=!0,D=Number,Y=pa,tt=mr;function at(ut,yt){for(var Tt,St,Ot=[],Yt=ut.map(D,this),Kt=Y.call(this,Yt,yt),ie=tt.call(this,Kt,Yt,yt),me=(yt=-1,Yt.length),Ie=ie.length-1,de=C?1:1/me;++yt<Ie;)(Tt=Ot[yt]=[]).dx=ie[yt+1]-(Tt.x=ie[yt]),Tt.y=0;if(Ie>0)for(yt=-1;++yt<me;)(St=Yt[yt])>=Kt[0]&&St<=Kt[1]&&((Tt=Ot[u.bisect(ie,St,1,Ie)-1]).y+=de,Tt.push(ut[yt]));return Ot}return at.value=function(ut){return arguments.length?(D=ut,at):D},at.range=function(ut){return arguments.length?(Y=tn(ut),at):Y},at.bins=function(ut){return arguments.length?(tt=typeof ut=="number"?function(yt){return $r(yt,ut)}:tn(ut),at):tt},at.frequency=function(ut){return arguments.length?(C=!!ut,at):C},at},u.layout.pack=function(){var C,D=u.layout.hierarchy().sort(di),Y=0,tt=[1,1];function at(ut,yt){var Tt=D.call(this,ut,yt),St=Tt[0],Ot=tt[0],Yt=tt[1],Kt=C==null?Math.sqrt:typeof C=="function"?C:function(){return C};if(St.x=St.y=0,fl(St,function(me){me.r=+Kt(me.value)}),fl(St,Fh),Y){var ie=Y*(C?1:Math.max(2*St.r/Ot,2*St.r/Yt))/2;fl(St,function(me){me.r+=ie}),fl(St,Fh),fl(St,function(me){me.r-=ie})}return zh(St,Ot/2,Yt/2,C?1:1/Math.max(2*St.r/Ot,2*St.r/Yt)),Tt}return at.size=function(ut){return arguments.length?(tt=ut,at):tt},at.radius=function(ut){return arguments.length?(C=ut==null||typeof ut=="function"?ut:+ut,at):C},at.padding=function(ut){return arguments.length?(Y=+ut,at):Y},os(at,D)},u.layout.tree=function(){var C=u.layout.hierarchy().sort(null).value(null),D=ti,Y=[1,1],tt=null;function at(St,Ot){var Yt=C.call(this,St,Ot),Kt=Yt[0],ie=function(we){for(var ce,Ke={A:null,children:[we]},Je=[Ke];(ce=Je.pop())!=null;)for(var ln,hn=ce.children,On=0,Ln=hn.length;On<Ln;++On)Je.push((hn[On]=ln={_:hn[On],parent:ce,children:(ln=hn[On].children)&&ln.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:On}).a=ln);return Ke.children[0]}(Kt);if(fl(ie,ut),ie.parent.m=-ie.z,Au(ie,yt),tt)Au(Kt,Tt);else{var me=Kt,Ie=Kt,de=Kt;Au(Kt,function(we){we.x<me.x&&(me=we),we.x>Ie.x&&(Ie=we),we.depth>de.depth&&(de=we)});var _e=D(me,Ie)/2-me.x,le=Y[0]/(Ie.x+D(Ie,me)/2+_e),Re=Y[1]/(de.depth||1);Au(Kt,function(we){we.x=(we.x+_e)*le,we.y=we.depth*Re})}return Yt}function ut(St){var Ot=St.children,Yt=St.parent.children,Kt=St.i?Yt[St.i-1]:null;if(Ot.length){(function(me){for(var Ie,de=0,_e=0,le=me.children,Re=le.length;--Re>=0;)(Ie=le[Re]).z+=de,Ie.m+=de,de+=Ie.s+(_e+=Ie.c)})(St);var ie=(Ot[0].z+Ot[Ot.length-1].z)/2;Kt?(St.z=Kt.z+D(St._,Kt._),St.m=St.z-ie):St.z=ie}else Kt&&(St.z=Kt.z+D(St._,Kt._));St.parent.A=function(me,Ie,de){if(Ie){for(var _e,le=me,Re=me,we=Ie,ce=le.parent.children[0],Ke=le.m,Je=Re.m,ln=we.m,hn=ce.m;we=_p(we),le=Y0(le),we&&le;)ce=Y0(ce),(Re=_p(Re)).a=me,(_e=we.z+ln-le.z-Ke+D(we._,le._))>0&&(xp(X2(we,me,de),me,_e),Ke+=_e,Je+=_e),ln+=we.m,Ke+=le.m,hn+=ce.m,Je+=Re.m;we&&!_p(Re)&&(Re.t=we,Re.m+=ln-Je),le&&!Y0(ce)&&(ce.t=le,ce.m+=Ke-hn,de=me)}return de}(St,Kt,St.parent.A||Yt[0])}function yt(St){St._.x=St.z+St.parent.m,St.m+=St.parent.m}function Tt(St){St.x*=Y[0],St.y=St.depth*Y[1]}return at.separation=function(St){return arguments.length?(D=St,at):D},at.size=function(St){return arguments.length?(tt=(Y=St)==null?Tt:null,at):tt?null:Y},at.nodeSize=function(St){return arguments.length?(tt=(Y=St)==null?null:Tt,at):tt?Y:null},os(at,C)},u.layout.cluster=function(){var C=u.layout.hierarchy().sort(null).value(null),D=ti,Y=[1,1],tt=!1;function at(ut,yt){var Tt,St=C.call(this,ut,yt),Ot=St[0],Yt=0;fl(Ot,function(de){var _e=de.children;_e&&_e.length?(de.x=function(le){return le.reduce(function(Re,we){return Re+we.x},0)/le.length}(_e),de.y=function(le){return 1+u.max(le,function(Re){return Re.y})}(_e)):(de.x=Tt?Yt+=D(de,Tt):0,de.y=0,Tt=de)});var Kt=l_(Ot),ie=u_(Ot),me=Kt.x-D(Kt,ie)/2,Ie=ie.x+D(ie,Kt)/2;return fl(Ot,tt?function(de){de.x=(de.x-Ot.x)*Y[0],de.y=(Ot.y-de.y)*Y[1]}:function(de){de.x=(de.x-me)/(Ie-me)*Y[0],de.y=(1-(Ot.y?de.y/Ot.y:1))*Y[1]}),St}return at.separation=function(ut){return arguments.length?(D=ut,at):D},at.size=function(ut){return arguments.length?(tt=(Y=ut)==null,at):tt?null:Y},at.nodeSize=function(ut){return arguments.length?(tt=(Y=ut)!=null,at):tt?Y:null},os(at,C)},u.layout.treemap=function(){var C,D=u.layout.hierarchy(),Y=Math.round,tt=[1,1],at=null,ut=xf,yt=!1,Tt="squarify",St=.5*(1+Math.sqrt(5));function Ot(de,_e){for(var le,Re,we=-1,ce=de.length;++we<ce;)Re=(le=de[we]).value*(_e<0?0:_e),le.area=isNaN(Re)||Re<=0?0:Re}function Yt(de){var _e=de.children;if(_e&&_e.length){var le,Re,we,ce=ut(de),Ke=[],Je=_e.slice(),ln=1/0,hn=Tt==="slice"?ce.dx:Tt==="dice"?ce.dy:Tt==="slice-dice"?1&de.depth?ce.dy:ce.dx:Math.min(ce.dx,ce.dy);for(Ot(Je,ce.dx*ce.dy/de.value),Ke.area=0;(we=Je.length)>0;)Ke.push(le=Je[we-1]),Ke.area+=le.area,Tt!=="squarify"||(Re=ie(Ke,hn))<=ln?(Je.pop(),ln=Re):(Ke.area-=Ke.pop().area,me(Ke,hn,ce,!1),hn=Math.min(ce.dx,ce.dy),Ke.length=Ke.area=0,ln=1/0);Ke.length&&(me(Ke,hn,ce,!0),Ke.length=Ke.area=0),_e.forEach(Yt)}}function Kt(de){var _e=de.children;if(_e&&_e.length){var le,Re=ut(de),we=_e.slice(),ce=[];for(Ot(we,Re.dx*Re.dy/de.value),ce.area=0;le=we.pop();)ce.push(le),ce.area+=le.area,le.z!=null&&(me(ce,le.z?Re.dx:Re.dy,Re,!we.length),ce.length=ce.area=0);_e.forEach(Kt)}}function ie(de,_e){for(var le,Re=de.area,we=0,ce=1/0,Ke=-1,Je=de.length;++Ke<Je;)(le=de[Ke].area)&&(le<ce&&(ce=le),le>we&&(we=le));return _e*=_e,(Re*=Re)?Math.max(_e*we*St/Re,Re/(_e*ce*St)):1/0}function me(de,_e,le,Re){var we,ce=-1,Ke=de.length,Je=le.x,ln=le.y,hn=_e?Y(de.area/_e):0;if(_e==le.dx){for((Re||hn>le.dy)&&(hn=le.dy);++ce<Ke;)(we=de[ce]).x=Je,we.y=ln,we.dy=hn,Je+=we.dx=Math.min(le.x+le.dx-Je,hn?Y(we.area/hn):0);we.z=!0,we.dx+=le.x+le.dx-Je,le.y+=hn,le.dy-=hn}else{for((Re||hn>le.dx)&&(hn=le.dx);++ce<Ke;)(we=de[ce]).x=Je,we.y=ln,we.dx=hn,ln+=we.dy=Math.min(le.y+le.dy-ln,hn?Y(we.area/hn):0);we.z=!1,we.dy+=le.y+le.dy-ln,le.x+=hn,le.dx-=hn}}function Ie(de){var _e=C||D(de),le=_e[0];return le.x=le.y=0,le.value?(le.dx=tt[0],le.dy=tt[1]):le.dx=le.dy=0,C&&D.revalue(le),Ot([le],le.dx*le.dy/le.value),(C?Kt:Yt)(le),yt&&(C=_e),_e}return Ie.size=function(de){return arguments.length?(tt=de,Ie):tt},Ie.padding=function(de){if(!arguments.length)return at;function _e(Re){return Zl(Re,de)}var le;return ut=(at=de)==null?xf:(le=typeof de)=="function"?function(Re){var we=de.call(Ie,Re,Re.depth);return we==null?xf(Re):Zl(Re,typeof we=="number"?[we,we,we,we]:we)}:(le==="number"&&(de=[de,de,de,de]),_e),Ie},Ie.round=function(de){return arguments.length?(Y=de?Math.round:Number,Ie):Y!=Number},Ie.sticky=function(de){return arguments.length?(yt=de,C=null,Ie):yt},Ie.ratio=function(de){return arguments.length?(St=de,Ie):St},Ie.mode=function(de){return arguments.length?(Tt=de+"",Ie):Tt},os(Ie,D)},u.random={normal:function(C,D){var Y=arguments.length;return Y<2&&(D=1),Y<1&&(C=0),function(){var tt,at,ut;do ut=(tt=2*Math.random()-1)*tt+(at=2*Math.random()-1)*at;while(!ut||ut>1);return C+D*tt*Math.sqrt(-2*Math.log(ut)/ut)}},logNormal:function(){var C=u.random.normal.apply(u,arguments);return function(){return Math.exp(C())}},bates:function(C){var D=u.random.irwinHall(C);return function(){return D()/C}},irwinHall:function(C){return function(){for(var D=0,Y=0;Y<C;Y++)D+=Math.random();return D}}},u.scale={};var Tp={floor:nt,ceil:nt};function c_(C,D,Y,tt){var at=[],ut=[],yt=0,Tt=Math.min(C.length,D.length)-1;for(C[Tt]<C[0]&&(C=C.slice().reverse(),D=D.slice().reverse());++yt<=Tt;)at.push(Y(C[yt-1],C[yt])),ut.push(tt(D[yt-1],D[yt]));return function(St){var Ot=u.bisect(C,St,1,Tt)-1;return ut[Ot](at[Ot](St))}}function bf(C,D,Y,tt){var at,ut;function yt(){var St=Math.min(C.length,D.length)>2?c_:bp,Ot=tt?r_:n_;return at=St(C,D,Ot,Y),ut=St(D,C,Ot,Kl),Tt}function Tt(St){return at(St)}return Tt.invert=function(St){return ut(St)},Tt.domain=function(St){return arguments.length?(C=St.map(Number),yt()):C},Tt.range=function(St){return arguments.length?(D=St,yt()):D},Tt.rangeRound=function(St){return Tt.range(St).interpolate(vp)},Tt.clamp=function(St){return arguments.length?(tt=St,yt()):tt},Tt.interpolate=function(St){return arguments.length?(Y=St,yt()):Y},Tt.ticks=function(St){return q0(C,St)},Tt.tickFormat=function(St,Ot){return d3_scale_linearTickFormat(C,St,Ot)},Tt.nice=function(St){return jh(C,St),yt()},Tt.copy=function(){return bf(C,D,Y,tt)},yt()}function Ou(C,D){return u.rebind(C,D,"range","rangeRound","interpolate","clamp")}function jh(C,D){return wp(C,W0($0(C,D)[2])),wp(C,W0($0(C,D)[2])),C}function $0(C,D){D==null&&(D=10);var Y=_c(C),tt=Y[1]-Y[0],at=Math.pow(10,Math.floor(Math.log(tt/D)/Math.LN10)),ut=D/tt*at;return ut<=.15?at*=10:ut<=.35?at*=5:ut<=.75&&(at*=2),Y[0]=Math.ceil(Y[0]/at)*at,Y[1]=Math.floor(Y[1]/at)*at+.5*at,Y[2]=at,Y}function q0(C,D){return u.range.apply(u,$0(C,D))}function f_(C,D,Y,tt){function at(Tt){return(Y?Math.log(Tt<0?0:Tt):-Math.log(Tt>0?0:-Tt))/Math.log(D)}function ut(Tt){return Y?Math.pow(D,Tt):-Math.pow(D,-Tt)}function yt(Tt){return C(at(Tt))}return yt.invert=function(Tt){return ut(C.invert(Tt))},yt.domain=function(Tt){return arguments.length?(Y=Tt[0]>=0,C.domain((tt=Tt.map(Number)).map(at)),yt):tt},yt.base=function(Tt){return arguments.length?(D=+Tt,C.domain(tt.map(at)),yt):D},yt.nice=function(){var Tt=wp(tt.map(at),Y?Math:Ep);return C.domain(Tt),tt=Tt.map(ut),yt},yt.ticks=function(){var Tt=_c(tt),St=[],Ot=Tt[0],Yt=Tt[1],Kt=Math.floor(at(Ot)),ie=Math.ceil(at(Yt)),me=D%1?2:D;if(isFinite(ie-Kt)){if(Y){for(;Kt<ie;Kt++)for(var Ie=1;Ie<me;Ie++)St.push(ut(Kt)*Ie);St.push(ut(Kt))}else for(St.push(ut(Kt));Kt++<ie;)for(Ie=me-1;Ie>0;Ie--)St.push(ut(Kt)*Ie);for(Kt=0;St[Kt]<Ot;Kt++);for(ie=St.length;St[ie-1]>Yt;ie--);St=St.slice(Kt,ie)}return St},yt.copy=function(){return f_(C.copy(),D,Y,tt)},Ou(yt,C)}u.scale.linear=function(){return bf([0,1],[0,1],Kl,!1)},u.scale.log=function(){return f_(u.scale.linear().domain([0,1]),10,!0,[1,10])};var Ep={floor:function(C){return-Math.ceil(-C)},ceil:function(C){return-Math.floor(-C)}};function Uh(C,D,Y){var tt=wf(D),at=wf(1/D);function ut(yt){return C(tt(yt))}return ut.invert=function(yt){return at(C.invert(yt))},ut.domain=function(yt){return arguments.length?(C.domain((Y=yt.map(Number)).map(tt)),ut):Y},ut.ticks=function(yt){return q0(Y,yt)},ut.tickFormat=function(yt,Tt){return d3_scale_linearTickFormat(Y,yt,Tt)},ut.nice=function(yt){return ut.domain(jh(Y,yt))},ut.exponent=function(yt){return arguments.length?(tt=wf(D=yt),at=wf(1/D),C.domain(Y.map(tt)),ut):D},ut.copy=function(){return Uh(C.copy(),D,Y)},Ou(ut,C)}function wf(C){return function(D){return D<0?-Math.pow(-D,C):Math.pow(D,C)}}function h_(C,D){var Y,tt,at;function ut(Tt){return tt[((Y.get(Tt)||(D.t==="range"?Y.set(Tt,C.push(Tt)):NaN))-1)%tt.length]}function yt(Tt,St){return u.range(C.length).map(function(Ot){return Tt+St*Ot})}return ut.domain=function(Tt){if(!arguments.length)return C;C=[],Y=new F;for(var St,Ot=-1,Yt=Tt.length;++Ot<Yt;)Y.has(St=Tt[Ot])||Y.set(St,C.push(St));return ut[D.t].apply(ut,D.a)},ut.range=function(Tt){return arguments.length?(tt=Tt,at=0,D={t:"range",a:arguments},ut):tt},ut.rangePoints=function(Tt,St){arguments.length<2&&(St=0);var Ot=Tt[0],Yt=Tt[1],Kt=C.length<2?(Ot=(Ot+Yt)/2,0):(Yt-Ot)/(C.length-1+St);return tt=yt(Ot+Kt*St/2,Kt),at=0,D={t:"rangePoints",a:arguments},ut},ut.rangeRoundPoints=function(Tt,St){arguments.length<2&&(St=0);var Ot=Tt[0],Yt=Tt[1],Kt=C.length<2?(Ot=Yt=Math.round((Ot+Yt)/2),0):(Yt-Ot)/(C.length-1+St)|0;return tt=yt(Ot+Math.round(Kt*St/2+(Yt-Ot-(C.length-1+St)*Kt)/2),Kt),at=0,D={t:"rangeRoundPoints",a:arguments},ut},ut.rangeBands=function(Tt,St,Ot){arguments.length<2&&(St=0),arguments.length<3&&(Ot=St);var Yt=Tt[1]<Tt[0],Kt=Tt[Yt-0],ie=(Tt[1-Yt]-Kt)/(C.length-St+2*Ot);return tt=yt(Kt+ie*Ot,ie),Yt&&tt.reverse(),at=ie*(1-St),D={t:"rangeBands",a:arguments},ut},ut.rangeRoundBands=function(Tt,St,Ot){arguments.length<2&&(St=0),arguments.length<3&&(Ot=St);var Yt=Tt[1]<Tt[0],Kt=Tt[Yt-0],ie=Tt[1-Yt],me=Math.floor((ie-Kt)/(C.length-St+2*Ot));return tt=yt(Kt+Math.round((ie-Kt-(C.length-St)*me)/2),me),Yt&&tt.reverse(),at=Math.round(me*(1-St)),D={t:"rangeRoundBands",a:arguments},ut},ut.rangeBand=function(){return at},ut.rangeExtent=function(){return _c(D.a[0])},ut.copy=function(){return h_(C,D)},ut.domain(C)}u.scale.pow=function(){return Uh(u.scale.linear(),1,[0,1])},u.scale.sqrt=function(){return u.scale.pow().exponent(.5)},u.scale.ordinal=function(){return h_([],{t:"range",a:[[]]})},u.scale.category10=function(){return u.scale.ordinal().range(d_)},u.scale.category20=function(){return u.scale.ordinal().range(K2)},u.scale.category20b=function(){return u.scale.ordinal().range(Z2)},u.scale.category20c=function(){return u.scale.ordinal().range(ga)};var d_=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ge),K2=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ge),Z2=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ge),ga=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ge);function Fa(C,D){var Y;function tt(){var ut=0,yt=D.length;for(Y=[];++ut<yt;)Y[ut-1]=u.quantile(C,ut/yt);return at}function at(ut){if(!isNaN(ut=+ut))return D[u.bisect(Y,ut)]}return at.domain=function(ut){return arguments.length?(C=ut.map(T).filter(M).sort(w),tt()):C},at.range=function(ut){return arguments.length?(D=ut,tt()):D},at.quantiles=function(){return Y},at.invertExtent=function(ut){return(ut=D.indexOf(ut))<0?[NaN,NaN]:[ut>0?Y[ut-1]:C[0],ut<Y.length?Y[ut]:C[C.length-1]]},at.copy=function(){return Fa(C,D)},tt()}function p_(C,D,Y){var tt,at;function ut(Tt){return Y[Math.max(0,Math.min(at,Math.floor(tt*(Tt-C))))]}function yt(){return tt=Y.length/(D-C),at=Y.length-1,ut}return ut.domain=function(Tt){return arguments.length?(C=+Tt[0],D=+Tt[Tt.length-1],yt()):[C,D]},ut.range=function(Tt){return arguments.length?(Y=Tt,yt()):Y},ut.invertExtent=function(Tt){return[Tt=(Tt=Y.indexOf(Tt))<0?NaN:Tt/tt+C,Tt+1/tt]},ut.copy=function(){return p_(C,D,Y)},yt()}function g_(C,D){function Y(tt){if(tt<=tt)return D[u.bisect(C,tt)]}return Y.domain=function(tt){return arguments.length?(C=tt,Y):C},Y.range=function(tt){return arguments.length?(D=tt,Y):D},Y.invertExtent=function(tt){return tt=D.indexOf(tt),[C[tt-1],C[tt]]},Y.copy=function(){return g_(C,D)},Y}function X0(C){function D(Y){return+Y}return D.invert=D,D.domain=D.range=function(Y){return arguments.length?(C=Y.map(D),D):C},D.ticks=function(Y){return q0(C,Y)},D.tickFormat=function(Y,tt){return d3_scale_linearTickFormat(C,Y,tt)},D.copy=function(){return X0(C)},D}function J2(){return 0}u.scale.quantile=function(){return Fa([],[])},u.scale.quantize=function(){return p_(0,1,[0,1])},u.scale.threshold=function(){return g_([.5],[0,1])},u.scale.identity=function(){return X0([0,1])},u.svg={},u.svg.arc=function(){var C=Vh,D=K0,Y=J2,tt=Tf,at=xc,ut=Ef,yt=Hh;function Tt(){var Ot=Math.max(0,+C.apply(this,arguments)),Yt=Math.max(0,+D.apply(this,arguments)),Kt=at.apply(this,arguments)-Me,ie=ut.apply(this,arguments)-Me,me=Math.abs(ie-Kt),Ie=Kt>ie?0:1;if(Yt<Ot&&(de=Yt,Yt=Ot,Ot=de),me>=fe)return St(Yt,Ie)+(Ot?St(Ot,1-Ie):"")+"Z";var de,_e,le,Re,we,ce,Ke,Je,ln,hn,On,Ln,Un=0,Mn=0,ar=[];if((Re=(+yt.apply(this,arguments)||0)/2)&&(le=tt===Tf?Math.sqrt(Ot*Ot+Yt*Yt):+tt.apply(this,arguments),Ie||(Mn*=-1),Yt&&(Mn=Ae(le/Yt*Math.sin(Re))),Ot&&(Un=Ae(le/Ot*Math.sin(Re)))),Yt){we=Yt*Math.cos(Kt+Mn),ce=Yt*Math.sin(Kt+Mn),Ke=Yt*Math.cos(ie-Mn),Je=Yt*Math.sin(ie-Mn);var Rr=Math.abs(ie-Kt-2*Mn)<=qt?0:1;if(Mn&&bc(we,ce,Ke,Je)===Ie^Rr){var pi=(Kt+ie)/2;we=Yt*Math.cos(pi),ce=Yt*Math.sin(pi),Ke=Je=null}}else we=ce=0;if(Ot){ln=Ot*Math.cos(ie-Un),hn=Ot*Math.sin(ie-Un),On=Ot*Math.cos(Kt+Un),Ln=Ot*Math.sin(Kt+Un);var mn=Math.abs(Kt-ie+2*Un)<=qt?0:1;if(Un&&bc(ln,hn,On,Ln)===1-Ie^mn){var In=(Kt+ie)/2;ln=Ot*Math.cos(In),hn=Ot*Math.sin(In),On=Ln=null}}else ln=hn=0;if(me>$t&&(de=Math.min(Math.abs(Yt-Ot)/2,+Y.apply(this,arguments)))>.001){_e=Ot<Yt^Ie?0:1;var Jn=de,Xn=de;if(me<qt){var Er=On==null?[ln,hn]:Ke==null?[we,ce]:wi([we,ce],[On,Ln],[Ke,Je],[ln,hn]),ri=we-Er[0],Ui=ce-Er[1],li=Ke-Er[0],ia=Je-Er[1],Vi=1/Math.sin(Math.acos((ri*li+Ui*ia)/(Math.sqrt(ri*ri+Ui*Ui)*Math.sqrt(li*li+ia*ia)))/2),Hi=Math.sqrt(Er[0]*Er[0]+Er[1]*Er[1]);Xn=Math.min(de,(Ot-Hi)/(Vi-1)),Jn=Math.min(de,(Yt-Hi)/(Vi+1))}if(Ke!=null){var za=Jl(On==null?[ln,hn]:[On,Ln],[we,ce],Yt,Jn,Ie),ks=Jl([Ke,Je],[ln,hn],Yt,Jn,Ie);de===Jn?ar.push("M",za[0],"A",Jn,",",Jn," 0 0,",_e," ",za[1],"A",Yt,",",Yt," 0 ",1-Ie^bc(za[1][0],za[1][1],ks[1][0],ks[1][1]),",",Ie," ",ks[1],"A",Jn,",",Jn," 0 0,",_e," ",ks[0]):ar.push("M",za[0],"A",Jn,",",Jn," 0 1,",_e," ",ks[0])}else ar.push("M",we,",",ce);if(On!=null){var hl=Jl([we,ce],[On,Ln],Ot,-Xn,Ie),dl=Jl([ln,hn],Ke==null?[we,ce]:[Ke,Je],Ot,-Xn,Ie);de===Xn?ar.push("L",dl[0],"A",Xn,",",Xn," 0 0,",_e," ",dl[1],"A",Ot,",",Ot," 0 ",Ie^bc(dl[1][0],dl[1][1],hl[1][0],hl[1][1]),",",1-Ie," ",hl[1],"A",Xn,",",Xn," 0 0,",_e," ",hl[0]):ar.push("L",dl[0],"A",Xn,",",Xn," 0 0,",_e," ",hl[0])}else ar.push("L",ln,",",hn)}else ar.push("M",we,",",ce),Ke!=null&&ar.push("A",Yt,",",Yt," 0 ",Rr,",",Ie," ",Ke,",",Je),ar.push("L",ln,",",hn),On!=null&&ar.push("A",Ot,",",Ot," 0 ",mn,",",1-Ie," ",On,",",Ln);return ar.push("Z"),ar.join("")}function St(Ot,Yt){return"M0,"+Ot+"A"+Ot+","+Ot+" 0 1,"+Yt+" 0,"+-Ot+"A"+Ot+","+Ot+" 0 1,"+Yt+" 0,"+Ot}return Tt.innerRadius=function(Ot){return arguments.length?(C=tn(Ot),Tt):C},Tt.outerRadius=function(Ot){return arguments.length?(D=tn(Ot),Tt):D},Tt.cornerRadius=function(Ot){return arguments.length?(Y=tn(Ot),Tt):Y},Tt.padRadius=function(Ot){return arguments.length?(tt=Ot==Tf?Tf:tn(Ot),Tt):tt},Tt.startAngle=function(Ot){return arguments.length?(at=tn(Ot),Tt):at},Tt.endAngle=function(Ot){return arguments.length?(ut=tn(Ot),Tt):ut},Tt.padAngle=function(Ot){return arguments.length?(yt=tn(Ot),Tt):yt},Tt.centroid=function(){var Ot=(+C.apply(this,arguments)+ +D.apply(this,arguments))/2,Yt=(+at.apply(this,arguments)+ +ut.apply(this,arguments))/2-Me;return[Math.cos(Yt)*Ot,Math.sin(Yt)*Ot]},Tt};var Tf="auto";function Vh(C){return C.innerRadius}function K0(C){return C.outerRadius}function xc(C){return C.startAngle}function Ef(C){return C.endAngle}function Hh(C){return C&&C.padAngle}function bc(C,D,Y,tt){return(C-Y)*D-(D-tt)*C>0?0:1}function Jl(C,D,Y,tt,at){var ut=C[0]-D[0],yt=C[1]-D[1],Tt=(at?tt:-tt)/Math.sqrt(ut*ut+yt*yt),St=Tt*yt,Ot=-Tt*ut,Yt=C[0]+St,Kt=C[1]+Ot,ie=D[0]+St,me=D[1]+Ot,Ie=(Yt+ie)/2,de=(Kt+me)/2,_e=ie-Yt,le=me-Kt,Re=_e*_e+le*le,we=Y-tt,ce=Yt*me-ie*Kt,Ke=(le<0?-1:1)*Math.sqrt(Math.max(0,we*we*Re-ce*ce)),Je=(ce*le-_e*Ke)/Re,ln=(-ce*_e-le*Ke)/Re,hn=(ce*le+_e*Ke)/Re,On=(-ce*_e+le*Ke)/Re,Ln=Je-Ie,Un=ln-de,Mn=hn-Ie,ar=On-de;return Ln*Ln+Un*Un>Mn*Mn+ar*ar&&(Je=hn,ln=On),[[Je-St,ln-Ot],[Je*Y/we,ln*Y/we]]}function m_(){return!0}function v_(C){var D=hr,Y=pr,tt=m_,at=Ds,ut=at.key,yt=.7;function Tt(St){var Ot,Yt=[],Kt=[],ie=-1,me=St.length,Ie=tn(D),de=tn(Y);function _e(){Yt.push("M",at(C(Kt),yt))}for(;++ie<me;)tt.call(this,Ot=St[ie],ie)?Kt.push([+Ie.call(this,Ot,ie),+de.call(this,Ot,ie)]):Kt.length&&(_e(),Kt=[]);return Kt.length&&_e(),Yt.length?Yt.join(""):null}return Tt.x=function(St){return arguments.length?(D=St,Tt):D},Tt.y=function(St){return arguments.length?(Y=St,Tt):Y},Tt.defined=function(St){return arguments.length?(tt=St,Tt):tt},Tt.interpolate=function(St){return arguments.length?(ut=typeof St=="function"?at=St:(at=Z0.get(St)||Ds).key,Tt):ut},Tt.tension=function(St){return arguments.length?(yt=St,Tt):yt},Tt}u.svg.line=function(){return v_(nt)};var Z0=u.map({linear:Ds,"linear-closed":y_,step:function(C){for(var D=0,Y=C.length,tt=C[0],at=[tt[0],",",tt[1]];++D<Y;)at.push("H",(tt[0]+(tt=C[D])[0])/2,"V",tt[1]);return Y>1&&at.push("H",tt[0]),at.join("")},"step-before":Mf,"step-after":wc,basis:Tc,"basis-open":function(C){if(C.length<4)return Ds(C);for(var D,Y=[],tt=-1,at=C.length,ut=[0],yt=[0];++tt<3;)D=C[tt],ut.push(D[0]),yt.push(D[1]);for(Y.push(lo(Lu,ut)+","+lo(Lu,yt)),--tt;++tt<at;)D=C[tt],ut.shift(),ut.push(D[0]),yt.shift(),yt.push(D[1]),J0(Y,ut,yt);return Y.join("")},"basis-closed":function(C){for(var D,Y,tt=-1,at=C.length,ut=at+4,yt=[],Tt=[];++tt<4;)Y=C[tt%at],yt.push(Y[0]),Tt.push(Y[1]);for(D=[lo(Lu,yt),",",lo(Lu,Tt)],--tt;++tt<ut;)Y=C[tt%at],yt.shift(),yt.push(Y[0]),Tt.shift(),Tt.push(Y[1]),J0(D,yt,Tt);return D.join("")},bundle:function(C,D){var Y=C.length-1;if(Y)for(var tt,at,ut=C[0][0],yt=C[0][1],Tt=C[Y][0]-ut,St=C[Y][1]-yt,Ot=-1;++Ot<=Y;)at=Ot/Y,(tt=C[Ot])[0]=D*tt[0]+(1-D)*(ut+at*Tt),tt[1]=D*tt[1]+(1-D)*(yt+at*St);return Tc(C)},cardinal:function(C,D){return C.length<3?Ds(C):C[0]+Yh(C,Wt(C,D))},"cardinal-open":function(C,D){return C.length<4?Ds(C):C[1]+Yh(C.slice(1,-1),Wt(C,D))},"cardinal-closed":function(C,D){return C.length<3?y_(C):C[0]+Yh((C.push(C[0]),C),Wt([C[C.length-2]].concat(C,[C[1]]),D))},monotone:function(C){return C.length<3?Ds(C):C[0]+Yh(C,function(D){for(var Y,tt,at,ut,yt=[],Tt=function(Yt){for(var Kt=0,ie=Yt.length-1,me=[],Ie=Yt[0],de=Yt[1],_e=me[0]=Q0(Ie,de);++Kt<ie;)me[Kt]=(_e+(_e=Q0(Ie=de,de=Yt[Kt+1])))/2;return me[Kt]=_e,me}(D),St=-1,Ot=D.length-1;++St<Ot;)Y=Q0(D[St],D[St+1]),O(Y)<$t?Tt[St]=Tt[St+1]=0:(ut=(tt=Tt[St]/Y)*tt+(at=Tt[St+1]/Y)*at)>9&&(ut=3*Y/Math.sqrt(ut),Tt[St]=ut*tt,Tt[St+1]=ut*at);for(St=-1;++St<=Ot;)ut=(D[Math.min(Ot,St+1)][0]-D[Math.max(0,St-1)][0])/(6*(1+Tt[St]*Tt[St])),yt.push([ut||0,Tt[St]*ut||0]);return yt}(C))}});function Ds(C){return C.length>1?C.join("L"):C+"Z"}function y_(C){return C.join("L")+"Z"}function Mf(C){for(var D=0,Y=C.length,tt=C[0],at=[tt[0],",",tt[1]];++D<Y;)at.push("V",(tt=C[D])[1],"H",tt[0]);return at.join("")}function wc(C){for(var D=0,Y=C.length,tt=C[0],at=[tt[0],",",tt[1]];++D<Y;)at.push("H",(tt=C[D])[0],"V",tt[1]);return at.join("")}function Yh(C,D){if(D.length<1||C.length!=D.length&&C.length!=D.length+2)return Ds(C);var Y=C.length!=D.length,tt="",at=C[0],ut=C[1],yt=D[0],Tt=yt,St=1;if(Y&&(tt+="Q"+(ut[0]-2*yt[0]/3)+","+(ut[1]-2*yt[1]/3)+","+ut[0]+","+ut[1],at=C[1],St=2),D.length>1){Tt=D[1],ut=C[St],St++,tt+="C"+(at[0]+yt[0])+","+(at[1]+yt[1])+","+(ut[0]-Tt[0])+","+(ut[1]-Tt[1])+","+ut[0]+","+ut[1];for(var Ot=2;Ot<D.length;Ot++,St++)ut=C[St],Tt=D[Ot],tt+="S"+(ut[0]-Tt[0])+","+(ut[1]-Tt[1])+","+ut[0]+","+ut[1]}if(Y){var Yt=C[St];tt+="Q"+(ut[0]+2*Tt[0]/3)+","+(ut[1]+2*Tt[1]/3)+","+Yt[0]+","+Yt[1]}return tt}function Wt(C,D){for(var Y,tt=[],at=(1-D)/2,ut=C[0],yt=C[1],Tt=1,St=C.length;++Tt<St;)Y=ut,ut=yt,yt=C[Tt],tt.push([at*(yt[0]-Y[0]),at*(yt[1]-Y[1])]);return tt}function Tc(C){if(C.length<3)return Ds(C);var D=1,Y=C.length,tt=C[0],at=tt[0],ut=tt[1],yt=[at,at,at,(tt=C[1])[0]],Tt=[ut,ut,ut,tt[1]],St=[at,",",ut,"L",lo(Lu,yt),",",lo(Lu,Tt)];for(C.push(C[Y-1]);++D<=Y;)tt=C[D],yt.shift(),yt.push(tt[0]),Tt.shift(),Tt.push(tt[1]),J0(St,yt,Tt);return C.pop(),St.push("L",tt),St.join("")}function lo(C,D){return C[0]*D[0]+C[1]*D[1]+C[2]*D[2]+C[3]*D[3]}Z0.forEach(function(C,D){D.key=C,D.closed=/-closed$/.test(C)});var Fo=[0,2/3,1/3,0],Or=[0,1/3,2/3,0],Lu=[0,1/6,2/3,1/6];function J0(C,D,Y){C.push("C",lo(Fo,D),",",lo(Fo,Y),",",lo(Or,D),",",lo(Or,Y),",",lo(Lu,D),",",lo(Lu,Y))}function Q0(C,D){return(D[1]-C[1])/(D[0]-C[0])}function Pu(C){for(var D,Y,tt,at=-1,ut=C.length;++at<ut;)Y=(D=C[at])[0],tt=D[1]-Me,D[0]=Y*Math.cos(tt),D[1]=Y*Math.sin(tt);return C}function __(C){var D=hr,Y=hr,tt=0,at=pr,ut=m_,yt=Ds,Tt=yt.key,St=yt,Ot="L",Yt=.7;function Kt(ie){var me,Ie,de,_e=[],le=[],Re=[],we=-1,ce=ie.length,Ke=tn(D),Je=tn(tt),ln=D===Y?function(){return Ie}:tn(Y),hn=tt===at?function(){return de}:tn(at);function On(){_e.push("M",yt(C(Re),Yt),Ot,St(C(le.reverse()),Yt),"Z")}for(;++we<ce;)ut.call(this,me=ie[we],we)?(le.push([Ie=+Ke.call(this,me,we),de=+Je.call(this,me,we)]),Re.push([+ln.call(this,me,we),+hn.call(this,me,we)])):le.length&&(On(),le=[],Re=[]);return le.length&&On(),_e.length?_e.join(""):null}return Kt.x=function(ie){return arguments.length?(D=Y=ie,Kt):Y},Kt.x0=function(ie){return arguments.length?(D=ie,Kt):D},Kt.x1=function(ie){return arguments.length?(Y=ie,Kt):Y},Kt.y=function(ie){return arguments.length?(tt=at=ie,Kt):at},Kt.y0=function(ie){return arguments.length?(tt=ie,Kt):tt},Kt.y1=function(ie){return arguments.length?(at=ie,Kt):at},Kt.defined=function(ie){return arguments.length?(ut=ie,Kt):ut},Kt.interpolate=function(ie){return arguments.length?(Tt=typeof ie=="function"?yt=ie:(yt=Z0.get(ie)||Ds).key,St=yt.reverse||yt,Ot=yt.closed?"M":"L",Kt):Tt},Kt.tension=function(ie){return arguments.length?(Yt=ie,Kt):Yt},Kt}function x_(C){return C.source}function b_(C){return C.target}function Q2(C){return C.radius}function w_(C){return[C.x,C.y]}function Ql(){return 64}function tw(){return"circle"}function T_(C){var D=Math.sqrt(C/qt);return"M0,"+D+"A"+D+","+D+" 0 1,1 0,"+-D+"A"+D+","+D+" 0 1,1 0,"+D+"Z"}u.svg.line.radial=function(){var C=v_(Pu);return C.radius=C.x,delete C.x,C.angle=C.y,delete C.y,C},Mf.reverse=wc,wc.reverse=Mf,u.svg.area=function(){return __(nt)},u.svg.area.radial=function(){var C=__(Pu);return C.radius=C.x,delete C.x,C.innerRadius=C.x0,delete C.x0,C.outerRadius=C.x1,delete C.x1,C.angle=C.y,delete C.y,C.startAngle=C.y0,delete C.y0,C.endAngle=C.y1,delete C.y1,C},u.svg.chord=function(){var C=x_,D=b_,Y=Q2,tt=xc,at=Ef;function ut(Ot,Yt){var Kt,ie,me=yt(this,C,Ot,Yt),Ie=yt(this,D,Ot,Yt);return"M"+me.p0+Tt(me.r,me.p1,me.a1-me.a0)+(ie=Ie,((Kt=me).a0==ie.a0&&Kt.a1==ie.a1?St(me.r,me.p1,me.r,me.p0):St(me.r,me.p1,Ie.r,Ie.p0)+Tt(Ie.r,Ie.p1,Ie.a1-Ie.a0)+St(Ie.r,Ie.p1,me.r,me.p0))+"Z")}function yt(Ot,Yt,Kt,ie){var me=Yt.call(Ot,Kt,ie),Ie=Y.call(Ot,me,ie),de=tt.call(Ot,me,ie)-Me,_e=at.call(Ot,me,ie)-Me;return{r:Ie,a0:de,a1:_e,p0:[Ie*Math.cos(de),Ie*Math.sin(de)],p1:[Ie*Math.cos(_e),Ie*Math.sin(_e)]}}function Tt(Ot,Yt,Kt){return"A"+Ot+","+Ot+" 0 "+ +(Kt>qt)+",1 "+Yt}function St(Ot,Yt,Kt,ie){return"Q 0,0 "+ie}return ut.radius=function(Ot){return arguments.length?(Y=tn(Ot),ut):Y},ut.source=function(Ot){return arguments.length?(C=tn(Ot),ut):C},ut.target=function(Ot){return arguments.length?(D=tn(Ot),ut):D},ut.startAngle=function(Ot){return arguments.length?(tt=tn(Ot),ut):tt},ut.endAngle=function(Ot){return arguments.length?(at=tn(Ot),ut):at},ut},u.svg.diagonal=function(){var C=x_,D=b_,Y=w_;function tt(at,ut){var yt=C.call(this,at,ut),Tt=D.call(this,at,ut),St=(yt.y+Tt.y)/2,Ot=[yt,{x:yt.x,y:St},{x:Tt.x,y:St},Tt];return"M"+(Ot=Ot.map(Y))[0]+"C"+Ot[1]+" "+Ot[2]+" "+Ot[3]}return tt.source=function(at){return arguments.length?(C=tn(at),tt):C},tt.target=function(at){return arguments.length?(D=tn(at),tt):D},tt.projection=function(at){return arguments.length?(Y=at,tt):Y},tt},u.svg.diagonal.radial=function(){var C=u.svg.diagonal(),D=w_,Y=C.projection;return C.projection=function(tt){return arguments.length?Y(function(at){return function(){var ut=at.apply(this,arguments),yt=ut[0],Tt=ut[1]-Me;return[yt*Math.cos(Tt),yt*Math.sin(Tt)]}}(D=tt)):D},C},u.svg.symbol=function(){var C=tw,D=Ql;function Y(tt,at){return(E_.get(C.call(this,tt,at))||T_)(D.call(this,tt,at))}return Y.type=function(tt){return arguments.length?(C=tn(tt),Y):C},Y.size=function(tt){return arguments.length?(D=tn(tt),Y):D},Y};var E_=u.map({circle:T_,cross:function(C){var D=Math.sqrt(C/5)/2;return"M"+-3*D+","+-D+"H"+-D+"V"+-3*D+"H"+D+"V"+-D+"H"+3*D+"V"+D+"H"+D+"V"+3*D+"H"+-D+"V"+D+"H"+-3*D+"Z"},diamond:function(C){var D=Math.sqrt(C/(2*M_)),Y=D*M_;return"M0,"+-D+"L"+Y+",0 0,"+D+" "+-Y+",0Z"},square:function(C){var D=Math.sqrt(C)/2;return"M"+-D+","+-D+"L"+D+","+-D+" "+D+","+D+" "+-D+","+D+"Z"},"triangle-down":function(C){var D=Math.sqrt(C/Mp),Y=D*Mp/2;return"M0,"+Y+"L"+D+","+-Y+" "+-D+","+-Y+"Z"},"triangle-up":function(C){var D=Math.sqrt(C/Mp),Y=D*Mp/2;return"M0,"+-Y+"L"+D+","+Y+" "+-D+","+Y+"Z"}});u.svg.symbolTypes=E_.keys();var Mp=Math.sqrt(3),M_=Math.tan(30*Ee);st.transition=function(C){for(var D,Y,tt=Ec||++Nu,at=zo(C),ut=[],yt=Sp||{time:Date.now(),ease:Qy,delay:0,duration:250},Tt=-1,St=this.length;++Tt<St;){ut.push(D=[]);for(var Ot=this[Tt],Yt=-1,Kt=Ot.length;++Yt<Kt;)(Y=Ot[Yt])&&Cp(Y,Yt,at,tt,yt),D.push(Y)}return Wh(ut,at,tt)},st.interrupt=function(C){return this.each(C==null?ss:S_(zo(C)))};var ss=S_(zo());function S_(C){return function(){var D,Y,tt;(D=this[C])&&(tt=D[Y=D.active])&&(tt.timer.c=null,tt.timer.t=NaN,--D.count?delete D[Y]:delete this[C],D.active+=.5,tt.event&&tt.event.interrupt.call(this,this.__data__,tt.index))}}function Wh(C,D,Y){return H(C,Xi),C.namespace=D,C.id=Y,C}var Ec,Sp,Xi=[],Nu=0;function tm(C,D,Y,tt){var at=C.id,ut=C.namespace;return Bt(C,typeof Y=="function"?function(yt,Tt,St){yt[ut][at].tween.set(D,tt(Y.call(yt,yt.__data__,Tt,St)))}:(Y=tt(Y),function(yt){yt[ut][at].tween.set(D,Y)}))}function ew(C){return C==null&&(C=""),function(){this.textContent=C}}function zo(C){return C==null?"__transition__":"__transition_"+C+"__"}function Cp(C,D,Y,tt,at){var ut,yt,Tt,St,Ot,Yt=C[Y]||(C[Y]={active:0,count:0}),Kt=Yt[tt];function ie(Ie){var de=Yt.active,_e=Yt[de];for(var le in _e&&(_e.timer.c=null,_e.timer.t=NaN,--Yt.count,delete Yt[de],_e.event&&_e.event.interrupt.call(C,C.__data__,_e.index)),Yt)if(+le<tt){var Re=Yt[le];Re.timer.c=null,Re.timer.t=NaN,--Yt.count,delete Yt[le]}yt.c=me,Dn(function(){return yt.c&&me(Ie||1)&&(yt.c=null,yt.t=NaN),1},0,ut),Yt.active=tt,Kt.event&&Kt.event.start.call(C,C.__data__,D),Ot=[],Kt.tween.forEach(function(we,ce){(ce=ce.call(C,C.__data__,D))&&Ot.push(ce)}),St=Kt.ease,Tt=Kt.duration}function me(Ie){for(var de=Ie/Tt,_e=St(de),le=Ot.length;le>0;)Ot[--le].call(C,_e);if(de>=1)return Kt.event&&Kt.event.end.call(C,C.__data__,D),--Yt.count?delete Yt[tt]:delete C[Y],1}Kt||(ut=at.time,yt=Dn(function(Ie){var de=Kt.delay;if(yt.t=de+ut,de<=Ie)return ie(Ie-de);yt.c=ie},0,ut),Kt=Yt[tt]={tween:new F,time:ut,timer:yt,delay:at.delay,duration:at.duration,ease:at.ease,index:D},at=null,++Yt.count)}Xi.call=st.call,Xi.empty=st.empty,Xi.node=st.node,Xi.size=st.size,u.transition=function(C,D){return C&&C.transition?Ec?C.transition(D):C:u.selection().transition(C)},u.transition.prototype=Xi,Xi.select=function(C){var D,Y,tt,at=this.id,ut=this.namespace,yt=[];C=dt(C);for(var Tt=-1,St=this.length;++Tt<St;){yt.push(D=[]);for(var Ot=this[Tt],Yt=-1,Kt=Ot.length;++Yt<Kt;)(tt=Ot[Yt])&&(Y=C.call(tt,tt.__data__,Yt,Tt))?("__data__"in tt&&(Y.__data__=tt.__data__),Cp(Y,Yt,ut,at,tt[ut][at]),D.push(Y)):D.push(null)}return Wh(yt,ut,at)},Xi.selectAll=function(C){var D,Y,tt,at,ut,yt=this.id,Tt=this.namespace,St=[];C=bt(C);for(var Ot=-1,Yt=this.length;++Ot<Yt;)for(var Kt=this[Ot],ie=-1,me=Kt.length;++ie<me;)if(tt=Kt[ie]){ut=tt[Tt][yt],Y=C.call(tt,tt.__data__,ie,Ot),St.push(D=[]);for(var Ie=-1,de=Y.length;++Ie<de;)(at=Y[Ie])&&Cp(at,Ie,Tt,yt,ut),D.push(at)}return Wh(St,Tt,yt)},Xi.filter=function(C){var D,Y,tt=[];typeof C!="function"&&(C=At(C));for(var at=0,ut=this.length;at<ut;at++){tt.push(D=[]);for(var yt,Tt=0,St=(yt=this[at]).length;Tt<St;Tt++)(Y=yt[Tt])&&C.call(Y,Y.__data__,Tt,at)&&D.push(Y)}return Wh(tt,this.namespace,this.id)},Xi.tween=function(C,D){var Y=this.id,tt=this.namespace;return arguments.length<2?this.node()[tt][Y].tween.get(C):Bt(this,D==null?function(at){at[tt][Y].tween.remove(C)}:function(at){at[tt][Y].tween.set(C,D)})},Xi.attr=function(C,D){if(arguments.length<2){for(D in C)this.attr(D,C[D]);return this}var Y=C=="transform"?mf:Kl,tt=u.ns.qualify(C);function at(){this.removeAttribute(tt)}function ut(){this.removeAttributeNS(tt.space,tt.local)}return tm(this,"attr."+C,D,tt.local?function(yt){return yt==null?ut:(yt+="",function(){var Tt,St=this.getAttributeNS(tt.space,tt.local);return St!==yt&&(Tt=Y(St,yt),function(Ot){this.setAttributeNS(tt.space,tt.local,Tt(Ot))})})}:function(yt){return yt==null?at:(yt+="",function(){var Tt,St=this.getAttribute(tt);return St!==yt&&(Tt=Y(St,yt),function(Ot){this.setAttribute(tt,Tt(Ot))})})})},Xi.attrTween=function(C,D){var Y=u.ns.qualify(C);return this.tween("attr."+C,Y.local?function(tt,at){var ut=D.call(this,tt,at,this.getAttributeNS(Y.space,Y.local));return ut&&function(yt){this.setAttributeNS(Y.space,Y.local,ut(yt))}}:function(tt,at){var ut=D.call(this,tt,at,this.getAttribute(Y));return ut&&function(yt){this.setAttribute(Y,ut(yt))}})},Xi.style=function(C,D,Y){var tt=arguments.length;if(tt<3){if(typeof C!="string"){for(Y in tt<2&&(D=""),C)this.style(Y,C[Y],D);return this}Y=""}function at(){this.style.removeProperty(C)}return tm(this,"style."+C,D,function(ut){return ut==null?at:(ut+="",function(){var yt,Tt=g(this).getComputedStyle(this,null).getPropertyValue(C);return Tt!==ut&&(yt=Kl(Tt,ut),function(St){this.style.setProperty(C,yt(St),Y)})})})},Xi.styleTween=function(C,D,Y){return arguments.length<3&&(Y=""),this.tween("style."+C,function(tt,at){var ut=D.call(this,tt,at,g(this).getComputedStyle(this,null).getPropertyValue(C));return ut&&function(yt){this.style.setProperty(C,ut(yt),Y)}})},Xi.text=function(C){return tm(this,"text",C,ew)},Xi.remove=function(){var C=this.namespace;return this.each("end.transition",function(){var D;this[C].count<2&&(D=this.parentNode)&&D.removeChild(this)})},Xi.ease=function(C){var D=this.id,Y=this.namespace;return arguments.length<1?this.node()[Y][D].ease:(typeof C!="function"&&(C=u.ease.apply(u,arguments)),Bt(this,function(tt){tt[Y][D].ease=C}))},Xi.delay=function(C){var D=this.id,Y=this.namespace;return arguments.length<1?this.node()[Y][D].delay:Bt(this,typeof C=="function"?function(tt,at,ut){tt[Y][D].delay=+C.call(tt,tt.__data__,at,ut)}:(C=+C,function(tt){tt[Y][D].delay=C}))},Xi.duration=function(C){var D=this.id,Y=this.namespace;return arguments.length<1?this.node()[Y][D].duration:Bt(this,typeof C=="function"?function(tt,at,ut){tt[Y][D].duration=Math.max(1,C.call(tt,tt.__data__,at,ut))}:(C=Math.max(1,C),function(tt){tt[Y][D].duration=C}))},Xi.each=function(C,D){var Y=this.id,tt=this.namespace;if(arguments.length<2){var at=Sp,ut=Ec;try{Ec=Y,Bt(this,function(yt,Tt,St){Sp=yt[tt][Y],C.call(yt,yt.__data__,Tt,St)})}finally{Sp=at,Ec=ut}}else Bt(this,function(yt){var Tt=yt[tt][Y];(Tt.event||(Tt.event=u.dispatch("start","end","interrupt"))).on(C,D)});return this},Xi.transition=function(){for(var C,D,Y,tt=this.id,at=++Nu,ut=this.namespace,yt=[],Tt=0,St=this.length;Tt<St;Tt++){yt.push(C=[]);for(var Ot,Yt=0,Kt=(Ot=this[Tt]).length;Yt<Kt;Yt++)(D=Ot[Yt])&&Cp(D,Yt,ut,at,{time:(Y=D[ut][tt]).time,ease:Y.ease,delay:Y.delay+Y.duration,duration:Y.duration}),C.push(D)}return Wh(yt,ut,at)},u.svg.axis=function(){var C,D=u.scale.linear(),Y=C_,tt=6,at=6,ut=3,yt=[10],Tt=null;function St(Ot){Ot.each(function(){var Yt,Kt=u.select(this),ie=this.__chart__||D,me=this.__chart__=D.copy(),Ie=Tt??(me.ticks?me.ticks.apply(me,yt):me.domain()),de=C??(me.tickFormat?me.tickFormat.apply(me,yt):nt),_e=Kt.selectAll(".tick").data(Ie,me),le=_e.enter().insert("g",".domain").attr("class","tick").style("opacity",$t),Re=u.transition(_e.exit()).style("opacity",$t).remove(),we=u.transition(_e.order()).style("opacity",1),ce=Math.max(tt,0)+ut,Ke=Gh(me),Je=Kt.selectAll(".domain").data([0]),ln=(Je.enter().append("path").attr("class","domain"),u.transition(Je));le.append("line"),le.append("text");var hn,On,Ln,Un,Mn=le.select("line"),ar=we.select("line"),Rr=_e.select("text").text(de),pi=le.select("text"),mn=we.select("text"),In=Y==="top"||Y==="left"?-1:1;if(Y==="bottom"||Y==="top"?(Yt=rw,hn="x",Ln="y",On="x2",Un="y2",Rr.attr("dy",In<0?"0em":".71em").style("text-anchor","middle"),ln.attr("d","M"+Ke[0]+","+In*at+"V0H"+Ke[1]+"V"+In*at)):(Yt=iw,hn="y",Ln="x",On="y2",Un="x2",Rr.attr("dy",".32em").style("text-anchor",In<0?"end":"start"),ln.attr("d","M"+In*at+","+Ke[0]+"H0V"+Ke[1]+"H"+In*at)),Mn.attr(Un,In*tt),pi.attr(Ln,In*ce),ar.attr(On,0).attr(Un,In*tt),mn.attr(hn,0).attr(Ln,In*ce),me.rangeBand){var Jn=me,Xn=Jn.rangeBand()/2;ie=me=function(Er){return Jn(Er)+Xn}}else ie.rangeBand?ie=me:Re.call(Yt,me,ie);le.call(Yt,ie,me),we.call(Yt,me,me)})}return St.scale=function(Ot){return arguments.length?(D=Ot,St):D},St.orient=function(Ot){return arguments.length?(Y=Ot in nw?Ot+"":C_,St):Y},St.ticks=function(){return arguments.length?(yt=h(arguments),St):yt},St.tickValues=function(Ot){return arguments.length?(Tt=Ot,St):Tt},St.tickFormat=function(Ot){return arguments.length?(C=Ot,St):C},St.tickSize=function(Ot){var Yt=arguments.length;return Yt?(tt=+Ot,at=+arguments[Yt-1],St):tt},St.innerTickSize=function(Ot){return arguments.length?(tt=+Ot,St):tt},St.outerTickSize=function(Ot){return arguments.length?(at=+Ot,St):at},St.tickPadding=function(Ot){return arguments.length?(ut=+Ot,St):ut},St.tickSubdivide=function(){return arguments.length&&St},St};var C_="bottom",nw={top:1,right:1,bottom:1,left:1};function rw(C,D,Y){C.attr("transform",function(tt){var at=D(tt);return"translate("+(isFinite(at)?at:Y(tt))+",0)"})}function iw(C,D,Y){C.attr("transform",function(tt){var at=D(tt);return"translate(0,"+(isFinite(at)?at:Y(tt))+")"})}u.svg.brush=function(){var C,D,Y=V(Yt,"brushstart","brush","brushend"),tt=null,at=null,ut=[0,0],yt=[0,0],Tt=!0,St=!0,Ot=Ap[0];function Yt(de){de.each(function(){var _e=u.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Ie).on("touchstart.brush",Ie),le=_e.selectAll(".background").data([0]);le.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),_e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Re=_e.selectAll(".resize").data(Ot,nt);Re.exit().remove(),Re.enter().append("g").attr("class",function(Je){return"resize "+Je}).style("cursor",function(Je){return A_[Je]}).append("rect").attr("x",function(Je){return/[ew]$/.test(Je)?-3:null}).attr("y",function(Je){return/^[ns]/.test(Je)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Re.style("display",Yt.empty()?"none":null);var we,ce=u.transition(_e),Ke=u.transition(le);tt&&(we=Gh(tt),Ke.attr("x",we[0]).attr("width",we[1]-we[0]),ie(ce)),at&&(we=Gh(at),Ke.attr("y",we[0]).attr("height",we[1]-we[0]),me(ce)),Kt(ce)})}function Kt(de){de.selectAll(".resize").attr("transform",function(_e){return"translate("+ut[+/e$/.test(_e)]+","+yt[+/^s/.test(_e)]+")"})}function ie(de){de.select(".extent").attr("x",ut[0]),de.selectAll(".extent,.n>rect,.s>rect").attr("width",ut[1]-ut[0])}function me(de){de.select(".extent").attr("y",yt[0]),de.selectAll(".extent,.e>rect,.w>rect").attr("height",yt[1]-yt[0])}function Ie(){var de,_e,le=this,Re=u.select(u.event.target),we=Y.of(le,arguments),ce=u.select(le),Ke=Re.datum(),Je=!/^(n|s)$/.test(Ke)&&tt,ln=!/^(e|w)$/.test(Ke)&&at,hn=Re.classed("extent"),On=pe(le),Ln=u.mouse(le),Un=u.select(g(le)).on("keydown.brush",function(){u.event.keyCode==32&&(hn||(de=null,Ln[0]-=ut[1],Ln[1]-=yt[1],hn=2),pt())}).on("keyup.brush",function(){u.event.keyCode==32&&hn==2&&(Ln[0]+=ut[1],Ln[1]+=yt[1],hn=0,pt())});if(u.event.changedTouches?Un.on("touchmove.brush",Rr).on("touchend.brush",mn):Un.on("mousemove.brush",Rr).on("mouseup.brush",mn),ce.interrupt().selectAll("*").interrupt(),hn)Ln[0]=ut[0]-Ln[0],Ln[1]=yt[0]-Ln[1];else if(Ke){var Mn=+/w$/.test(Ke),ar=+/^n/.test(Ke);_e=[ut[1-Mn]-Ln[0],yt[1-ar]-Ln[1]],Ln[0]=ut[Mn],Ln[1]=yt[ar]}else u.event.altKey&&(de=Ln.slice());function Rr(){var In=u.mouse(le),Jn=!1;_e&&(In[0]+=_e[0],In[1]+=_e[1]),hn||(u.event.altKey?(de||(de=[(ut[0]+ut[1])/2,(yt[0]+yt[1])/2]),Ln[0]=ut[+(In[0]<de[0])],Ln[1]=yt[+(In[1]<de[1])]):de=null),Je&&pi(In,tt,0)&&(ie(ce),Jn=!0),ln&&pi(In,at,1)&&(me(ce),Jn=!0),Jn&&(Kt(ce),we({type:"brush",mode:hn?"move":"resize"}))}function pi(In,Jn,Xn){var Er,ri,Ui=Gh(Jn),li=Ui[0],ia=Ui[1],Vi=Ln[Xn],Hi=Xn?yt:ut,za=Hi[1]-Hi[0];if(hn&&(li-=Vi,ia-=za+Vi),Er=(Xn?St:Tt)?Math.max(li,Math.min(ia,In[Xn])):In[Xn],hn?ri=(Er+=Vi)+za:(de&&(Vi=Math.max(li,Math.min(ia,2*de[Xn]-Er))),Vi<Er?(ri=Er,Er=Vi):ri=Vi),Hi[0]!=Er||Hi[1]!=ri)return Xn?D=null:C=null,Hi[0]=Er,Hi[1]=ri,!0}function mn(){Rr(),ce.style("pointer-events","all").selectAll(".resize").style("display",Yt.empty()?"none":null),u.select("body").style("cursor",null),Un.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),On(),we({type:"brushend"})}ce.style("pointer-events","none").selectAll(".resize").style("display",null),u.select("body").style("cursor",Re.style("cursor")),we({type:"brushstart"}),Rr()}return Yt.event=function(de){de.each(function(){var _e=Y.of(this,arguments),le={x:ut,y:yt,i:C,j:D},Re=this.__chart__||le;this.__chart__=le,Ec?u.select(this).transition().each("start.brush",function(){C=Re.i,D=Re.j,ut=Re.x,yt=Re.y,_e({type:"brushstart"})}).tween("brush:brush",function(){var we=mp(ut,le.x),ce=mp(yt,le.y);return C=D=null,function(Ke){ut=le.x=we(Ke),yt=le.y=ce(Ke),_e({type:"brush",mode:"resize"})}}).each("end.brush",function(){C=le.i,D=le.j,_e({type:"brush",mode:"resize"}),_e({type:"brushend"})}):(_e({type:"brushstart"}),_e({type:"brush",mode:"resize"}),_e({type:"brushend"}))})},Yt.x=function(de){return arguments.length?(Ot=Ap[!(tt=de)<<1|!at],Yt):tt},Yt.y=function(de){return arguments.length?(Ot=Ap[!tt<<1|!(at=de)],Yt):at},Yt.clamp=function(de){return arguments.length?(tt&&at?(Tt=!!de[0],St=!!de[1]):tt?Tt=!!de:at&&(St=!!de),Yt):tt&&at?[Tt,St]:tt?Tt:at?St:null},Yt.extent=function(de){var _e,le,Re,we,ce;return arguments.length?(tt&&(_e=de[0],le=de[1],at&&(_e=_e[0],le=le[0]),C=[_e,le],tt.invert&&(_e=tt(_e),le=tt(le)),le<_e&&(ce=_e,_e=le,le=ce),_e==ut[0]&&le==ut[1]||(ut=[_e,le])),at&&(Re=de[0],we=de[1],tt&&(Re=Re[1],we=we[1]),D=[Re,we],at.invert&&(Re=at(Re),we=at(we)),we<Re&&(ce=Re,Re=we,we=ce),Re==yt[0]&&we==yt[1]||(yt=[Re,we])),Yt):(tt&&(C?(_e=C[0],le=C[1]):(_e=ut[0],le=ut[1],tt.invert&&(_e=tt.invert(_e),le=tt.invert(le)),le<_e&&(ce=_e,_e=le,le=ce))),at&&(D?(Re=D[0],we=D[1]):(Re=yt[0],we=yt[1],at.invert&&(Re=at.invert(Re),we=at.invert(we)),we<Re&&(ce=Re,Re=we,we=ce))),tt&&at?[[_e,Re],[le,we]]:tt?[_e,le]:at&&[Re,we])},Yt.clear=function(){return Yt.empty()||(ut=[0,0],yt=[0,0],C=D=null),Yt},Yt.empty=function(){return!!tt&&ut[0]==ut[1]||!!at&&yt[0]==yt[1]},u.rebind(Yt,Y,"on")};var A_={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ap=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function aw(C){return JSON.parse(C.responseText)}function ow(C){var D=d.createRange();return D.selectNode(d.body),D.createContextualFragment(C.responseText)}u.text=Tn(function(C){return C.responseText}),u.json=function(C,D){return An(C,"application/json",aw,D)},u.html=function(C,D){return An(C,"text/html",ow,D)},u.xml=Tn(function(C){return C.responseXML}),(c=typeof(l=u)=="function"?l.call(s,o,s,a):l)===void 0||(a.exports=c)}).apply(self)},721:function(a,s,o){function l(w,T){if((M=(w=T?w.toExponential(T-1):w.toExponential()).indexOf("e"))<0)return null;var M,S=w.slice(0,M);return[S.length>1?S[0]+S.slice(2):S,+w.slice(M+1)]}o.d(s,{WU:function(){return v},FF:function(){return b}});var c,u=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function f(w){if(!(T=u.exec(w)))throw new Error("invalid format: "+w);var T;return new h({fill:T[1],align:T[2],sign:T[3],symbol:T[4],zero:T[5],width:T[6],comma:T[7],precision:T[8]&&T[8].slice(1),trim:T[9],type:T[10]})}function h(w){this.fill=w.fill===void 0?" ":w.fill+"",this.align=w.align===void 0?">":w.align+"",this.sign=w.sign===void 0?"-":w.sign+"",this.symbol=w.symbol===void 0?"":w.symbol+"",this.zero=!!w.zero,this.width=w.width===void 0?void 0:+w.width,this.comma=!!w.comma,this.precision=w.precision===void 0?void 0:+w.precision,this.trim=!!w.trim,this.type=w.type===void 0?"":w.type+""}function d(w,T){var M=l(w,T);if(!M)return w+"";var S=M[0],E=M[1];return E<0?"0."+new Array(-E).join("0")+S:S.length>E+1?S.slice(0,E+1)+"."+S.slice(E+1):S+new Array(E-S.length+2).join("0")}f.prototype=h.prototype,h.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var p={"%":function(w,T){return(100*w).toFixed(T)},b:function(w){return Math.round(w).toString(2)},c:function(w){return w+""},d:function(w){return Math.abs(w=Math.round(w))>=1e21?w.toLocaleString("en").replace(/,/g,""):w.toString(10)},e:function(w,T){return w.toExponential(T)},f:function(w,T){return w.toFixed(T)},g:function(w,T){return w.toPrecision(T)},o:function(w){return Math.round(w).toString(8)},p:function(w,T){return d(100*w,T)},r:d,s:function(w,T){var M=l(w,T);if(!M)return w+"";var S=M[0],E=M[1],A=E-(c=3*Math.max(-8,Math.min(8,Math.floor(E/3))))+1,O=S.length;return A===O?S:A>O?S+new Array(A-O+1).join("0"):A>0?S.slice(0,A)+"."+S.slice(A):"0."+new Array(1-A).join("0")+l(w,Math.max(0,T+A-1))[0]},X:function(w){return Math.round(w).toString(16).toUpperCase()},x:function(w){return Math.round(w).toString(16)}};function g(w){return w}var m,v,y=Array.prototype.map,_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function b(w){var T,M,S=w.grouping===void 0||w.thousands===void 0?g:(T=y.call(w.grouping,Number),M=w.thousands+"",function(I,j){for(var G=I.length,q=[],et=0,U=T[0],J=0;G>0&&U>0&&(J+U+1>j&&(U=Math.max(1,j-J)),q.push(I.substring(G-=U,G+U)),!((J+=U+1)>j));)U=T[et=(et+1)%T.length];return q.reverse().join(M)}),E=w.currency===void 0?"":w.currency[0]+"",A=w.currency===void 0?"":w.currency[1]+"",O=w.decimal===void 0?".":w.decimal+"",N=w.numerals===void 0?g:function(I){return function(j){return j.replace(/[0-9]/g,function(G){return I[+G]})}}(y.call(w.numerals,String)),F=w.percent===void 0?"%":w.percent+"",P=w.minus===void 0?"-":w.minus+"",R=w.nan===void 0?"NaN":w.nan+"";function k(I){var j=(I=f(I)).fill,G=I.align,q=I.sign,et=I.symbol,U=I.zero,J=I.width,nt=I.comma,ct=I.precision,z=I.trim,W=I.type;W==="n"?(nt=!0,W="g"):p[W]||(ct===void 0&&(ct=12),z=!0,W="g"),(U||j==="0"&&G==="=")&&(U=!0,j="0",G="=");var X=et==="$"?E:et==="#"&&/[boxX]/.test(W)?"0"+W.toLowerCase():"",it=et==="$"?A:/[%p]/.test(W)?F:"",lt=p[W],pt=/[defgprs%]/.test(W);function rt(V){var B,H,$,Z=X,Q=it;if(W==="c")Q=lt(V)+Q,V="";else{var ot=(V=+V)<0||1/V<0;if(V=isNaN(V)?R:lt(Math.abs(V),ct),z&&(V=function(bt){t:for(var Pt,It=bt.length,Dt=1,gt=-1;Dt<It;++Dt)switch(bt[Dt]){case".":gt=Pt=Dt;break;case"0":gt===0&&(gt=Dt),Pt=Dt;break;default:if(!+bt[Dt])break t;gt>0&&(gt=0)}return gt>0?bt.slice(0,gt)+bt.slice(Pt+1):bt}(V)),ot&&+V==0&&q!=="+"&&(ot=!1),Z=(ot?q==="("?q:P:q==="-"||q==="("?"":q)+Z,Q=(W==="s"?_[8+c/3]:"")+Q+(ot&&q==="("?")":""),pt){for(B=-1,H=V.length;++B<H;)if(48>($=V.charCodeAt(B))||$>57){Q=($===46?O+V.slice(B+1):V.slice(B))+Q,V=V.slice(0,B);break}}}nt&&!U&&(V=S(V,1/0));var st=Z.length+V.length+Q.length,dt=st<J?new Array(J-st+1).join(j):"";switch(nt&&U&&(V=S(dt+V,dt.length?J-Q.length:1/0),dt=""),G){case"<":V=Z+V+Q+dt;break;case"=":V=Z+dt+V+Q;break;case"^":V=dt.slice(0,st=dt.length>>1)+Z+V+Q+dt.slice(st);break;default:V=dt+Z+V+Q}return N(V)}return ct=ct===void 0?6:/[gprs]/.test(W)?Math.max(1,Math.min(21,ct)):Math.max(0,Math.min(20,ct)),rt.toString=function(){return I+""},rt}return{format:k,formatPrefix:function(I,j){var G,q=k(((I=f(I)).type="f",I)),et=3*Math.max(-8,Math.min(8,Math.floor((G=j,((G=l(Math.abs(G)))?G[1]:NaN)/3)))),U=Math.pow(10,-et),J=_[8+et/3];return function(nt){return q(U*nt)+J}}}}m=b({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),v=m.format,m.formatPrefix},4096:function(a,s,o){o.d(s,{i$:function(){return _},Dq:function(){return v},g0:function(){return b}});var l=o(8176),c=o(8480),u=o(9879),f=o(2301),h=o(4823),d=o(9791);function p(jt){if(0<=jt.y&&jt.y<100){var $t=new Date(-1,jt.m,jt.d,jt.H,jt.M,jt.S,jt.L);return $t.setFullYear(jt.y),$t}return new Date(jt.y,jt.m,jt.d,jt.H,jt.M,jt.S,jt.L)}function g(jt){if(0<=jt.y&&jt.y<100){var $t=new Date(Date.UTC(-1,jt.m,jt.d,jt.H,jt.M,jt.S,jt.L));return $t.setUTCFullYear(jt.y),$t}return new Date(Date.UTC(jt.y,jt.m,jt.d,jt.H,jt.M,jt.S,jt.L))}function m(jt,$t,Jt){return{y:jt,m:$t,d:Jt,H:0,M:0,S:0,L:0}}function v(jt){var $t=jt.dateTime,Jt=jt.date,qt=jt.time,Ce=jt.periods,fe=jt.days,Me=jt.shortDays,Ee=jt.months,He=jt.shortMonths,Ae=O(Ce),$e=N(Ce),Oe=O(fe),ft=N(fe),mt=O(Me),Ht=N(Me),Vt=O(Ee),ee=N(Ee),Xt=O(He),Qt=N(He),se={a:function(Ne){return Me[Ne.getDay()]},A:function(Ne){return fe[Ne.getDay()]},b:function(Ne){return He[Ne.getMonth()]},B:function(Ne){return Ee[Ne.getMonth()]},c:null,d:V,e:V,f:Q,H:B,I:H,j:$,L:Z,m:ot,M:st,p:function(Ne){return Ce[+(Ne.getHours()>=12)]},q:function(Ne){return 1+~~(Ne.getMonth()/3)},Q:be,s:re,S:dt,u:bt,U:Pt,V:It,w:Dt,W:gt,x:null,X:null,y:_t,Y:wt,Z:Et,"%":pe},he={a:function(Ne){return Me[Ne.getUTCDay()]},A:function(Ne){return fe[Ne.getUTCDay()]},b:function(Ne){return He[Ne.getUTCMonth()]},B:function(Ne){return Ee[Ne.getUTCMonth()]},c:null,d:ht,e:ht,f:Rt,H:vt,I:Ct,j:Mt,L:Nt,m:At,M:kt,p:function(Ne){return Ce[+(Ne.getUTCHours()>=12)]},q:function(Ne){return 1+~~(Ne.getUTCMonth()/3)},Q:be,s:re,S:Bt,u:Lt,U:zt,V:Gt,w:Ut,W:ne,x:null,X:null,y:te,Y:ae,Z:ue,"%":pe},ye={a:function(Ne,Fe,Be){var Se=mt.exec(Fe.slice(Be));return Se?(Ne.w=Ht[Se[0].toLowerCase()],Be+Se[0].length):-1},A:function(Ne,Fe,Be){var Se=Oe.exec(Fe.slice(Be));return Se?(Ne.w=ft[Se[0].toLowerCase()],Be+Se[0].length):-1},b:function(Ne,Fe,Be){var Se=Xt.exec(Fe.slice(Be));return Se?(Ne.m=Qt[Se[0].toLowerCase()],Be+Se[0].length):-1},B:function(Ne,Fe,Be){var Se=Vt.exec(Fe.slice(Be));return Se?(Ne.m=ee[Se[0].toLowerCase()],Be+Se[0].length):-1},c:function(Ne,Fe,Be){return rn(Ne,$t,Fe,Be)},d:J,e:J,f:it,H:ct,I:ct,j:nt,L:X,m:U,M:z,p:function(Ne,Fe,Be){var Se=Ae.exec(Fe.slice(Be));return Se?(Ne.p=$e[Se[0].toLowerCase()],Be+Se[0].length):-1},q:et,Q:pt,s:rt,S:W,u:P,U:R,V:k,w:F,W:I,x:function(Ne,Fe,Be){return rn(Ne,Jt,Fe,Be)},X:function(Ne,Fe,Be){return rn(Ne,qt,Fe,Be)},y:G,Y:j,Z:q,"%":lt};function oe(Ne,Fe){return function(Be){var Se,Te,xe,Xe=[],Ve=-1,an=0,ge=Ne.length;for(Be instanceof Date||(Be=new Date(+Be));++Ve<ge;)Ne.charCodeAt(Ve)===37&&(Xe.push(Ne.slice(an,Ve)),(Te=w[Se=Ne.charAt(++Ve)])!=null?Se=Ne.charAt(++Ve):Te=Se==="e"?" ":"0",(xe=Fe[Se])&&(Se=xe(Be,Te)),Xe.push(Se),an=Ve+1);return Xe.push(Ne.slice(an,Ve)),Xe.join("")}}function Ue(Ne,Fe){return function(Be){var Se,Te,xe=m(1900,void 0,1);if(rn(xe,Ne,Be+="",0)!=Be.length)return null;if("Q"in xe)return new Date(xe.Q);if("s"in xe)return new Date(1e3*xe.s+("L"in xe?xe.L:0));if(Fe&&!("Z"in xe)&&(xe.Z=0),"p"in xe&&(xe.H=xe.H%12+12*xe.p),xe.m===void 0&&(xe.m="q"in xe?xe.q:0),"V"in xe){if(xe.V<1||xe.V>53)return null;"w"in xe||(xe.w=1),"Z"in xe?(Te=(Se=g(m(xe.y,0,1))).getUTCDay(),Se=Te>4||Te===0?l.l6.ceil(Se):(0,l.l6)(Se),Se=c.Z.offset(Se,7*(xe.V-1)),xe.y=Se.getUTCFullYear(),xe.m=Se.getUTCMonth(),xe.d=Se.getUTCDate()+(xe.w+6)%7):(Te=(Se=p(m(xe.y,0,1))).getDay(),Se=Te>4||Te===0?u.wA.ceil(Se):(0,u.wA)(Se),Se=f.Z.offset(Se,7*(xe.V-1)),xe.y=Se.getFullYear(),xe.m=Se.getMonth(),xe.d=Se.getDate()+(xe.w+6)%7)}else("W"in xe||"U"in xe)&&("w"in xe||(xe.w="u"in xe?xe.u%7:"W"in xe?1:0),Te="Z"in xe?g(m(xe.y,0,1)).getUTCDay():p(m(xe.y,0,1)).getDay(),xe.m=0,xe.d="W"in xe?(xe.w+6)%7+7*xe.W-(Te+5)%7:xe.w+7*xe.U-(Te+6)%7);return"Z"in xe?(xe.H+=xe.Z/100|0,xe.M+=xe.Z%100,g(xe)):p(xe)}}function rn(Ne,Fe,Be,Se){for(var Te,xe,Xe=0,Ve=Fe.length,an=Be.length;Xe<Ve;){if(Se>=an)return-1;if((Te=Fe.charCodeAt(Xe++))===37){if(Te=Fe.charAt(Xe++),!(xe=ye[Te in w?Fe.charAt(Xe++):Te])||(Se=xe(Ne,Be,Se))<0)return-1}else if(Te!=Be.charCodeAt(Se++))return-1}return Se}return se.x=oe(Jt,se),se.X=oe(qt,se),se.c=oe($t,se),he.x=oe(Jt,he),he.X=oe(qt,he),he.c=oe($t,he),{format:function(Ne){var Fe=oe(Ne+="",se);return Fe.toString=function(){return Ne},Fe},parse:function(Ne){var Fe=Ue(Ne+="",!1);return Fe.toString=function(){return Ne},Fe},utcFormat:function(Ne){var Fe=oe(Ne+="",he);return Fe.toString=function(){return Ne},Fe},utcParse:function(Ne){var Fe=Ue(Ne+="",!0);return Fe.toString=function(){return Ne},Fe}}}var y,_,b,w={"-":"",_:" ",0:"0"},T=/^\s*\d+/,M=/^%/,S=/[\\^$*+?|[\]().{}]/g;function E(jt,$t,Jt){var qt=jt<0?"-":"",Ce=(qt?-jt:jt)+"",fe=Ce.length;return qt+(fe<Jt?new Array(Jt-fe+1).join($t)+Ce:Ce)}function A(jt){return jt.replace(S,"\\$&")}function O(jt){return new RegExp("^(?:"+jt.map(A).join("|")+")","i")}function N(jt){for(var $t={},Jt=-1,qt=jt.length;++Jt<qt;)$t[jt[Jt].toLowerCase()]=Jt;return $t}function F(jt,$t,Jt){var qt=T.exec($t.slice(Jt,Jt+1));return qt?(jt.w=+qt[0],Jt+qt[0].length):-1}function P(jt,$t,Jt){var qt=T.exec($t.slice(Jt,Jt+1));return qt?(jt.u=+qt[0],Jt+qt[0].length):-1}function R(jt,$t,Jt){var qt=T.exec($t.slice(Jt,Jt+2));return qt?(jt.U=+qt[0],Jt+qt[0].length):-1}function k(jt,$t,Jt){var qt=T.exec($t.slice(Jt,Jt+2));return qt?(jt.V=+qt[0],Jt+qt[0].length):-1}function I(jt,$t,Jt){var qt=T.exec($t.slice(Jt,Jt+2));return qt?(jt.W=+qt[0],Jt+qt[0].length):-1}function j(jt,$t,Jt){var qt=T.exec($t.slice(Jt,Jt+4));return qt?(jt.y=+qt[0],Jt+qt[0].length):-1}function G(jt,$t,Jt){var qt=T.exec($t.slice(Jt,Jt+2));return qt?(jt.y=+qt[0]+(+qt[0]>68?1900:2e3),Jt+qt[0].length):-1}function q(jt,$t,Jt){var qt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec($t.slice(Jt,Jt+6));return qt?(jt.Z=qt[1]?0:-(qt[2]+(qt[3]||"00")),Jt+qt[0].length):-1}function et(jt,$t,Jt){var qt=T.exec($t.slice(Jt,Jt+1));return qt?(jt.q=3*qt[0]-3,Jt+qt[0].length):-1}function U(jt,$t,Jt){var qt=T.exec($t.slice(Jt,Jt+2));return qt?(jt.m=qt[0]-1,Jt+qt[0].length):-1}function J(jt,$t,Jt){var qt=T.exec($t.slice(Jt,Jt+2));return qt?(jt.d=+qt[0],Jt+qt[0].length):-1}function nt(jt,$t,Jt){var qt=T.exec($t.slice(Jt,Jt+3));return qt?(jt.m=0,jt.d=+qt[0],Jt+qt[0].length):-1}function ct(jt,$t,Jt){var qt=T.exec($t.slice(Jt,Jt+2));return qt?(jt.H=+qt[0],Jt+qt[0].length):-1}function z(jt,$t,Jt){var qt=T.exec($t.slice(Jt,Jt+2));return qt?(jt.M=+qt[0],Jt+qt[0].length):-1}function W(jt,$t,Jt){var qt=T.exec($t.slice(Jt,Jt+2));return qt?(jt.S=+qt[0],Jt+qt[0].length):-1}function X(jt,$t,Jt){var qt=T.exec($t.slice(Jt,Jt+3));return qt?(jt.L=+qt[0],Jt+qt[0].length):-1}function it(jt,$t,Jt){var qt=T.exec($t.slice(Jt,Jt+6));return qt?(jt.L=Math.floor(qt[0]/1e3),Jt+qt[0].length):-1}function lt(jt,$t,Jt){var qt=M.exec($t.slice(Jt,Jt+1));return qt?Jt+qt[0].length:-1}function pt(jt,$t,Jt){var qt=T.exec($t.slice(Jt));return qt?(jt.Q=+qt[0],Jt+qt[0].length):-1}function rt(jt,$t,Jt){var qt=T.exec($t.slice(Jt));return qt?(jt.s=+qt[0],Jt+qt[0].length):-1}function V(jt,$t){return E(jt.getDate(),$t,2)}function B(jt,$t){return E(jt.getHours(),$t,2)}function H(jt,$t){return E(jt.getHours()%12||12,$t,2)}function $(jt,$t){return E(1+f.Z.count((0,h.Z)(jt),jt),$t,3)}function Z(jt,$t){return E(jt.getMilliseconds(),$t,3)}function Q(jt,$t){return Z(jt,$t)+"000"}function ot(jt,$t){return E(jt.getMonth()+1,$t,2)}function st(jt,$t){return E(jt.getMinutes(),$t,2)}function dt(jt,$t){return E(jt.getSeconds(),$t,2)}function bt(jt){var $t=jt.getDay();return $t===0?7:$t}function Pt(jt,$t){return E(u.OM.count((0,h.Z)(jt)-1,jt),$t,2)}function It(jt,$t){var Jt=jt.getDay();return jt=Jt>=4||Jt===0?(0,u.bL)(jt):u.bL.ceil(jt),E(u.bL.count((0,h.Z)(jt),jt)+((0,h.Z)(jt).getDay()===4),$t,2)}function Dt(jt){return jt.getDay()}function gt(jt,$t){return E(u.wA.count((0,h.Z)(jt)-1,jt),$t,2)}function _t(jt,$t){return E(jt.getFullYear()%100,$t,2)}function wt(jt,$t){return E(jt.getFullYear()%1e4,$t,4)}function Et(jt){var $t=jt.getTimezoneOffset();return($t>0?"-":($t*=-1,"+"))+E($t/60|0,"0",2)+E($t%60,"0",2)}function ht(jt,$t){return E(jt.getUTCDate(),$t,2)}function vt(jt,$t){return E(jt.getUTCHours(),$t,2)}function Ct(jt,$t){return E(jt.getUTCHours()%12||12,$t,2)}function Mt(jt,$t){return E(1+c.Z.count((0,d.Z)(jt),jt),$t,3)}function Nt(jt,$t){return E(jt.getUTCMilliseconds(),$t,3)}function Rt(jt,$t){return Nt(jt,$t)+"000"}function At(jt,$t){return E(jt.getUTCMonth()+1,$t,2)}function kt(jt,$t){return E(jt.getUTCMinutes(),$t,2)}function Bt(jt,$t){return E(jt.getUTCSeconds(),$t,2)}function Lt(jt){var $t=jt.getUTCDay();return $t===0?7:$t}function zt(jt,$t){return E(l.Ox.count((0,d.Z)(jt)-1,jt),$t,2)}function Gt(jt,$t){var Jt=jt.getUTCDay();return jt=Jt>=4||Jt===0?(0,l.hB)(jt):l.hB.ceil(jt),E(l.hB.count((0,d.Z)(jt),jt)+((0,d.Z)(jt).getUTCDay()===4),$t,2)}function Ut(jt){return jt.getUTCDay()}function ne(jt,$t){return E(l.l6.count((0,d.Z)(jt)-1,jt),$t,2)}function te(jt,$t){return E(jt.getUTCFullYear()%100,$t,2)}function ae(jt,$t){return E(jt.getUTCFullYear()%1e4,$t,4)}function ue(){return"+0000"}function pe(){return"%"}function be(jt){return+jt}function re(jt){return Math.floor(+jt/1e3)}y=v({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),_=y.format,y.parse,b=y.utcFormat,y.utcParse},2301:function(a,s,o){o.d(s,{a:function(){return f}});var l=o(52),c=o(4263),u=(0,l.Z)(function(h){h.setHours(0,0,0,0)},function(h,d){h.setDate(h.getDate()+d)},function(h,d){return(d-h-(d.getTimezoneOffset()-h.getTimezoneOffset())*c.yB)/c.UD},function(h){return h.getDate()-1});s.Z=u;var f=u.range},4263:function(a,s,o){o.d(s,{UD:function(){return f},Y2:function(){return u},Ym:function(){return l},iM:function(){return h},yB:function(){return c}});var l=1e3,c=6e4,u=36e5,f=864e5,h=6048e5},1041:function(a,s,o){o.r(s),o.d(s,{timeDay:function(){return T.Z},timeDays:function(){return T.a},timeFriday:function(){return M.mC},timeFridays:function(){return M.b$},timeHour:function(){return b},timeHours:function(){return w},timeInterval:function(){return l.Z},timeMillisecond:function(){return u},timeMilliseconds:function(){return f},timeMinute:function(){return v},timeMinutes:function(){return y},timeMonday:function(){return M.wA},timeMondays:function(){return M.bJ},timeMonth:function(){return E},timeMonths:function(){return A},timeSaturday:function(){return M.EY},timeSaturdays:function(){return M.Ff},timeSecond:function(){return p},timeSeconds:function(){return g},timeSunday:function(){return M.OM},timeSundays:function(){return M.vm},timeThursday:function(){return M.bL},timeThursdays:function(){return M.$t},timeTuesday:function(){return M.sy},timeTuesdays:function(){return M.aU},timeWednesday:function(){return M.zg},timeWednesdays:function(){return M.Ld},timeWeek:function(){return M.OM},timeWeeks:function(){return M.vm},timeYear:function(){return O.Z},timeYears:function(){return O.g},utcDay:function(){return j.Z},utcDays:function(){return j.y},utcFriday:function(){return G.QQ},utcFridays:function(){return G.fz},utcHour:function(){return k},utcHours:function(){return I},utcMillisecond:function(){return u},utcMilliseconds:function(){return f},utcMinute:function(){return F},utcMinutes:function(){return P},utcMonday:function(){return G.l6},utcMondays:function(){return G.$3},utcMonth:function(){return et},utcMonths:function(){return U},utcSaturday:function(){return G.g4},utcSaturdays:function(){return G.Q_},utcSecond:function(){return p},utcSeconds:function(){return g},utcSunday:function(){return G.Ox},utcSundays:function(){return G.SU},utcThursday:function(){return G.hB},utcThursdays:function(){return G.xj},utcTuesday:function(){return G.J1},utcTuesdays:function(){return G.DK},utcWednesday:function(){return G.b3},utcWednesdays:function(){return G.uy},utcWeek:function(){return G.Ox},utcWeeks:function(){return G.SU},utcYear:function(){return J.Z},utcYears:function(){return J.D}});var l=o(52),c=(0,l.Z)(function(){},function(nt,ct){nt.setTime(+nt+ct)},function(nt,ct){return ct-nt});c.every=function(nt){return nt=Math.floor(nt),isFinite(nt)&&nt>0?nt>1?(0,l.Z)(function(ct){ct.setTime(Math.floor(ct/nt)*nt)},function(ct,z){ct.setTime(+ct+z*nt)},function(ct,z){return(z-ct)/nt}):c:null};var u=c,f=c.range,h=o(4263),d=(0,l.Z)(function(nt){nt.setTime(nt-nt.getMilliseconds())},function(nt,ct){nt.setTime(+nt+ct*h.Ym)},function(nt,ct){return(ct-nt)/h.Ym},function(nt){return nt.getUTCSeconds()}),p=d,g=d.range,m=(0,l.Z)(function(nt){nt.setTime(nt-nt.getMilliseconds()-nt.getSeconds()*h.Ym)},function(nt,ct){nt.setTime(+nt+ct*h.yB)},function(nt,ct){return(ct-nt)/h.yB},function(nt){return nt.getMinutes()}),v=m,y=m.range,_=(0,l.Z)(function(nt){nt.setTime(nt-nt.getMilliseconds()-nt.getSeconds()*h.Ym-nt.getMinutes()*h.yB)},function(nt,ct){nt.setTime(+nt+ct*h.Y2)},function(nt,ct){return(ct-nt)/h.Y2},function(nt){return nt.getHours()}),b=_,w=_.range,T=o(2301),M=o(9879),S=(0,l.Z)(function(nt){nt.setDate(1),nt.setHours(0,0,0,0)},function(nt,ct){nt.setMonth(nt.getMonth()+ct)},function(nt,ct){return ct.getMonth()-nt.getMonth()+12*(ct.getFullYear()-nt.getFullYear())},function(nt){return nt.getMonth()}),E=S,A=S.range,O=o(4823),N=(0,l.Z)(function(nt){nt.setUTCSeconds(0,0)},function(nt,ct){nt.setTime(+nt+ct*h.yB)},function(nt,ct){return(ct-nt)/h.yB},function(nt){return nt.getUTCMinutes()}),F=N,P=N.range,R=(0,l.Z)(function(nt){nt.setUTCMinutes(0,0,0)},function(nt,ct){nt.setTime(+nt+ct*h.Y2)},function(nt,ct){return(ct-nt)/h.Y2},function(nt){return nt.getUTCHours()}),k=R,I=R.range,j=o(8480),G=o(8176),q=(0,l.Z)(function(nt){nt.setUTCDate(1),nt.setUTCHours(0,0,0,0)},function(nt,ct){nt.setUTCMonth(nt.getUTCMonth()+ct)},function(nt,ct){return ct.getUTCMonth()-nt.getUTCMonth()+12*(ct.getUTCFullYear()-nt.getUTCFullYear())},function(nt){return nt.getUTCMonth()}),et=q,U=q.range,J=o(9791)},52:function(a,s,o){o.d(s,{Z:function(){return u}});var l=new Date,c=new Date;function u(f,h,d,p){function g(m){return f(m=arguments.length===0?new Date:new Date(+m)),m}return g.floor=function(m){return f(m=new Date(+m)),m},g.ceil=function(m){return f(m=new Date(m-1)),h(m,1),f(m),m},g.round=function(m){var v=g(m),y=g.ceil(m);return m-v<y-m?v:y},g.offset=function(m,v){return h(m=new Date(+m),v==null?1:Math.floor(v)),m},g.range=function(m,v,y){var _,b=[];if(m=g.ceil(m),y=y==null?1:Math.floor(y),!(m<v&&y>0))return b;do b.push(_=new Date(+m)),h(m,y),f(m);while(_<m&&m<v);return b},g.filter=function(m){return u(function(v){if(v>=v)for(;f(v),!m(v);)v.setTime(v-1)},function(v,y){if(v>=v)if(y<0)for(;++y<=0;)for(;h(v,-1),!m(v););else for(;--y>=0;)for(;h(v,1),!m(v););})},d&&(g.count=function(m,v){return l.setTime(+m),c.setTime(+v),f(l),f(c),Math.floor(d(l,c))},g.every=function(m){return m=Math.floor(m),isFinite(m)&&m>0?m>1?g.filter(p?function(v){return p(v)%m==0}:function(v){return g.count(0,v)%m==0}):g:null}),g}},8480:function(a,s,o){o.d(s,{y:function(){return f}});var l=o(52),c=o(4263),u=(0,l.Z)(function(h){h.setUTCHours(0,0,0,0)},function(h,d){h.setUTCDate(h.getUTCDate()+d)},function(h,d){return(d-h)/c.UD},function(h){return h.getUTCDate()-1});s.Z=u;var f=u.range},8176:function(a,s,o){o.d(s,{$3:function(){return _},DK:function(){return b},J1:function(){return d},Ox:function(){return f},QQ:function(){return m},Q_:function(){return S},SU:function(){return y},b3:function(){return p},fz:function(){return M},g4:function(){return v},hB:function(){return g},l6:function(){return h},uy:function(){return w},xj:function(){return T}});var l=o(52),c=o(4263);function u(E){return(0,l.Z)(function(A){A.setUTCDate(A.getUTCDate()-(A.getUTCDay()+7-E)%7),A.setUTCHours(0,0,0,0)},function(A,O){A.setUTCDate(A.getUTCDate()+7*O)},function(A,O){return(O-A)/c.iM})}var f=u(0),h=u(1),d=u(2),p=u(3),g=u(4),m=u(5),v=u(6),y=f.range,_=h.range,b=d.range,w=p.range,T=g.range,M=m.range,S=v.range},9791:function(a,s,o){o.d(s,{D:function(){return u}});var l=o(52),c=(0,l.Z)(function(f){f.setUTCMonth(0,1),f.setUTCHours(0,0,0,0)},function(f,h){f.setUTCFullYear(f.getUTCFullYear()+h)},function(f,h){return h.getUTCFullYear()-f.getUTCFullYear()},function(f){return f.getUTCFullYear()});c.every=function(f){return isFinite(f=Math.floor(f))&&f>0?(0,l.Z)(function(h){h.setUTCFullYear(Math.floor(h.getUTCFullYear()/f)*f),h.setUTCMonth(0,1),h.setUTCHours(0,0,0,0)},function(h,d){h.setUTCFullYear(h.getUTCFullYear()+d*f)}):null},s.Z=c;var u=c.range},9879:function(a,s,o){o.d(s,{$t:function(){return T},EY:function(){return v},Ff:function(){return S},Ld:function(){return w},OM:function(){return f},aU:function(){return b},b$:function(){return M},bJ:function(){return _},bL:function(){return g},mC:function(){return m},sy:function(){return d},vm:function(){return y},wA:function(){return h},zg:function(){return p}});var l=o(52),c=o(4263);function u(E){return(0,l.Z)(function(A){A.setDate(A.getDate()-(A.getDay()+7-E)%7),A.setHours(0,0,0,0)},function(A,O){A.setDate(A.getDate()+7*O)},function(A,O){return(O-A-(O.getTimezoneOffset()-A.getTimezoneOffset())*c.yB)/c.iM})}var f=u(0),h=u(1),d=u(2),p=u(3),g=u(4),m=u(5),v=u(6),y=f.range,_=h.range,b=d.range,w=p.range,T=g.range,M=m.range,S=v.range},4823:function(a,s,o){o.d(s,{g:function(){return u}});var l=o(52),c=(0,l.Z)(function(f){f.setMonth(0,1),f.setHours(0,0,0,0)},function(f,h){f.setFullYear(f.getFullYear()+h)},function(f,h){return h.getFullYear()-f.getFullYear()},function(f){return f.getFullYear()});c.every=function(f){return isFinite(f=Math.floor(f))&&f>0?(0,l.Z)(function(h){h.setFullYear(Math.floor(h.getFullYear()/f)*f),h.setMonth(0,1),h.setHours(0,0,0,0)},function(h,d){h.setFullYear(h.getFullYear()+d*f)}):null},s.Z=c;var u=c.range},5398:function(a){var s,o=typeof Reflect=="object"?Reflect:null,l=o&&typeof o.apply=="function"?o.apply:function(w,T,M){return Function.prototype.apply.call(w,T,M)};s=o&&typeof o.ownKeys=="function"?o.ownKeys:Object.getOwnPropertySymbols?function(w){return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w))}:function(w){return Object.getOwnPropertyNames(w)};var c=Number.isNaN||function(w){return w!=w};function u(){u.init.call(this)}a.exports=u,a.exports.once=function(w,T){return new Promise(function(M,S){function E(O){w.removeListener(T,A),S(O)}function A(){typeof w.removeListener=="function"&&w.removeListener("error",E),M([].slice.call(arguments))}b(w,T,A,{once:!0}),T!=="error"&&function(O,N,F){typeof O.on=="function"&&b(O,"error",N,{once:!0})}(w,E)})},u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var f=10;function h(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}function d(w){return w._maxListeners===void 0?u.defaultMaxListeners:w._maxListeners}function p(w,T,M,S){var E,A,O,N;if(h(M),(A=w._events)===void 0?(A=w._events=Object.create(null),w._eventsCount=0):(A.newListener!==void 0&&(w.emit("newListener",T,M.listener?M.listener:M),A=w._events),O=A[T]),O===void 0)O=A[T]=M,++w._eventsCount;else if(typeof O=="function"?O=A[T]=S?[M,O]:[O,M]:S?O.unshift(M):O.push(M),(E=d(w))>0&&O.length>E&&!O.warned){O.warned=!0;var F=new Error("Possible EventEmitter memory leak detected. "+O.length+" "+String(T)+" listeners added. Use emitter.setMaxListeners() to increase limit");F.name="MaxListenersExceededWarning",F.emitter=w,F.type=T,F.count=O.length,N=F,console&&console.warn&&console.warn(N)}return w}function g(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(w,T,M){var S={fired:!1,wrapFn:void 0,target:w,type:T,listener:M},E=g.bind(S);return E.listener=M,S.wrapFn=E,E}function v(w,T,M){var S=w._events;if(S===void 0)return[];var E=S[T];return E===void 0?[]:typeof E=="function"?M?[E.listener||E]:[E]:M?function(A){for(var O=new Array(A.length),N=0;N<O.length;++N)O[N]=A[N].listener||A[N];return O}(E):_(E,E.length)}function y(w){var T=this._events;if(T!==void 0){var M=T[w];if(typeof M=="function")return 1;if(M!==void 0)return M.length}return 0}function _(w,T){for(var M=new Array(T),S=0;S<T;++S)M[S]=w[S];return M}function b(w,T,M,S){if(typeof w.on=="function")S.once?w.once(T,M):w.on(T,M);else{if(typeof w.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w);w.addEventListener(T,function E(A){S.once&&w.removeEventListener(T,E),M(A)})}}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(w){if(typeof w!="number"||w<0||c(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");f=w}}),u.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(w){if(typeof w!="number"||w<0||c(w))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+w+".");return this._maxListeners=w,this},u.prototype.getMaxListeners=function(){return d(this)},u.prototype.emit=function(w){for(var T=[],M=1;M<arguments.length;M++)T.push(arguments[M]);var S=w==="error",E=this._events;if(E!==void 0)S=S&&E.error===void 0;else if(!S)return!1;if(S){var A;if(T.length>0&&(A=T[0]),A instanceof Error)throw A;var O=new Error("Unhandled error."+(A?" ("+A.message+")":""));throw O.context=A,O}var N=E[w];if(N===void 0)return!1;if(typeof N=="function")l(N,this,T);else{var F=N.length,P=_(N,F);for(M=0;M<F;++M)l(P[M],this,T)}return!0},u.prototype.addListener=function(w,T){return p(this,w,T,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(w,T){return p(this,w,T,!0)},u.prototype.once=function(w,T){return h(T),this.on(w,m(this,w,T)),this},u.prototype.prependOnceListener=function(w,T){return h(T),this.prependListener(w,m(this,w,T)),this},u.prototype.removeListener=function(w,T){var M,S,E,A,O;if(h(T),(S=this._events)===void 0)return this;if((M=S[w])===void 0)return this;if(M===T||M.listener===T)--this._eventsCount==0?this._events=Object.create(null):(delete S[w],S.removeListener&&this.emit("removeListener",w,M.listener||T));else if(typeof M!="function"){for(E=-1,A=M.length-1;A>=0;A--)if(M[A]===T||M[A].listener===T){O=M[A].listener,E=A;break}if(E<0)return this;E===0?M.shift():function(N,F){for(;F+1<N.length;F++)N[F]=N[F+1];N.pop()}(M,E),M.length===1&&(S[w]=M[0]),S.removeListener!==void 0&&this.emit("removeListener",w,O||T)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(w){var T,M,S;if((M=this._events)===void 0)return this;if(M.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):M[w]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete M[w]),this;if(arguments.length===0){var E,A=Object.keys(M);for(S=0;S<A.length;++S)(E=A[S])!=="removeListener"&&this.removeAllListeners(E);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(T=M[w])=="function")this.removeListener(w,T);else if(T!==void 0)for(S=T.length-1;S>=0;S--)this.removeListener(w,T[S]);return this},u.prototype.listeners=function(w){return v(this,w,!0)},u.prototype.rawListeners=function(w){return v(this,w,!1)},u.listenerCount=function(w,T){return typeof w.listenerCount=="function"?w.listenerCount(T):y.call(w,T)},u.prototype.listenerCount=y,u.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]}},2770:function(a,s,o){var l=o(8546);a.exports=function(c){var u=typeof c;if(u==="string"){var f=c;if((c=+c)==0&&l(f))return!1}else if(u!=="number")return!1;return c-c<1}},5400:function(a){a.exports=function(s,o){var l=o[0],c=o[1],u=o[2],f=o[3],h=o[4],d=o[5],p=o[6],g=o[7],m=o[8],v=o[9],y=o[10],_=o[11],b=o[12],w=o[13],T=o[14],M=o[15];return s[0]=d*(y*M-_*T)-v*(p*M-g*T)+w*(p*_-g*y),s[1]=-(c*(y*M-_*T)-v*(u*M-f*T)+w*(u*_-f*y)),s[2]=c*(p*M-g*T)-d*(u*M-f*T)+w*(u*g-f*p),s[3]=-(c*(p*_-g*y)-d*(u*_-f*y)+v*(u*g-f*p)),s[4]=-(h*(y*M-_*T)-m*(p*M-g*T)+b*(p*_-g*y)),s[5]=l*(y*M-_*T)-m*(u*M-f*T)+b*(u*_-f*y),s[6]=-(l*(p*M-g*T)-h*(u*M-f*T)+b*(u*g-f*p)),s[7]=l*(p*_-g*y)-h*(u*_-f*y)+m*(u*g-f*p),s[8]=h*(v*M-_*w)-m*(d*M-g*w)+b*(d*_-g*v),s[9]=-(l*(v*M-_*w)-m*(c*M-f*w)+b*(c*_-f*v)),s[10]=l*(d*M-g*w)-h*(c*M-f*w)+b*(c*g-f*d),s[11]=-(l*(d*_-g*v)-h*(c*_-f*v)+m*(c*g-f*d)),s[12]=-(h*(v*T-y*w)-m*(d*T-p*w)+b*(d*y-p*v)),s[13]=l*(v*T-y*w)-m*(c*T-u*w)+b*(c*y-u*v),s[14]=-(l*(d*T-p*w)-h*(c*T-u*w)+b*(c*p-u*d)),s[15]=l*(d*y-p*v)-h*(c*y-u*v)+m*(c*p-u*d),s}},2331:function(a){a.exports=function(s){var o=new Float32Array(16);return o[0]=s[0],o[1]=s[1],o[2]=s[2],o[3]=s[3],o[4]=s[4],o[5]=s[5],o[6]=s[6],o[7]=s[7],o[8]=s[8],o[9]=s[9],o[10]=s[10],o[11]=s[11],o[12]=s[12],o[13]=s[13],o[14]=s[14],o[15]=s[15],o}},1042:function(a){a.exports=function(s,o){return s[0]=o[0],s[1]=o[1],s[2]=o[2],s[3]=o[3],s[4]=o[4],s[5]=o[5],s[6]=o[6],s[7]=o[7],s[8]=o[8],s[9]=o[9],s[10]=o[10],s[11]=o[11],s[12]=o[12],s[13]=o[13],s[14]=o[14],s[15]=o[15],s}},1902:function(a){a.exports=function(){var s=new Float32Array(16);return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},9887:function(a){a.exports=function(s){var o=s[0],l=s[1],c=s[2],u=s[3],f=s[4],h=s[5],d=s[6],p=s[7],g=s[8],m=s[9],v=s[10],y=s[11],_=s[12],b=s[13],w=s[14],T=s[15];return(o*h-l*f)*(v*T-y*w)-(o*d-c*f)*(m*T-y*b)+(o*p-u*f)*(m*w-v*b)+(l*d-c*h)*(g*T-y*_)-(l*p-u*h)*(g*w-v*_)+(c*p-u*d)*(g*b-m*_)}},7812:function(a){a.exports=function(s,o){var l=o[0],c=o[1],u=o[2],f=o[3],h=l+l,d=c+c,p=u+u,g=l*h,m=c*h,v=c*d,y=u*h,_=u*d,b=u*p,w=f*h,T=f*d,M=f*p;return s[0]=1-v-b,s[1]=m+M,s[2]=y-T,s[3]=0,s[4]=m-M,s[5]=1-g-b,s[6]=_+w,s[7]=0,s[8]=y+T,s[9]=_-w,s[10]=1-g-v,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},4045:function(a){a.exports=function(s,o,l){var c,u,f,h=l[0],d=l[1],p=l[2],g=Math.sqrt(h*h+d*d+p*p);return Math.abs(g)<1e-6?null:(h*=g=1/g,d*=g,p*=g,c=Math.sin(o),f=1-(u=Math.cos(o)),s[0]=h*h*f+u,s[1]=d*h*f+p*c,s[2]=p*h*f-d*c,s[3]=0,s[4]=h*d*f-p*c,s[5]=d*d*f+u,s[6]=p*d*f+h*c,s[7]=0,s[8]=h*p*f+d*c,s[9]=d*p*f-h*c,s[10]=p*p*f+u,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s)}},5973:function(a){a.exports=function(s,o,l){var c=o[0],u=o[1],f=o[2],h=o[3],d=c+c,p=u+u,g=f+f,m=c*d,v=c*p,y=c*g,_=u*p,b=u*g,w=f*g,T=h*d,M=h*p,S=h*g;return s[0]=1-(_+w),s[1]=v+S,s[2]=y-M,s[3]=0,s[4]=v-S,s[5]=1-(m+w),s[6]=b+T,s[7]=0,s[8]=y+M,s[9]=b-T,s[10]=1-(m+_),s[11]=0,s[12]=l[0],s[13]=l[1],s[14]=l[2],s[15]=1,s}},1472:function(a){a.exports=function(s,o){return s[0]=o[0],s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=o[1],s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=o[2],s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},4669:function(a){a.exports=function(s,o){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=o[0],s[13]=o[1],s[14]=o[2],s[15]=1,s}},5262:function(a){a.exports=function(s,o){var l=Math.sin(o),c=Math.cos(o);return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=c,s[6]=l,s[7]=0,s[8]=0,s[9]=-l,s[10]=c,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},331:function(a){a.exports=function(s,o){var l=Math.sin(o),c=Math.cos(o);return s[0]=c,s[1]=0,s[2]=-l,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=l,s[9]=0,s[10]=c,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},1049:function(a){a.exports=function(s,o){var l=Math.sin(o),c=Math.cos(o);return s[0]=c,s[1]=l,s[2]=0,s[3]=0,s[4]=-l,s[5]=c,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},5195:function(a){a.exports=function(s,o,l,c,u,f,h){var d=1/(l-o),p=1/(u-c),g=1/(f-h);return s[0]=2*f*d,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=2*f*p,s[6]=0,s[7]=0,s[8]=(l+o)*d,s[9]=(u+c)*p,s[10]=(h+f)*g,s[11]=-1,s[12]=0,s[13]=0,s[14]=h*f*2*g,s[15]=0,s}},1551:function(a){a.exports=function(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},9576:function(a,s,o){a.exports={create:o(1902),clone:o(2331),copy:o(1042),identity:o(1551),transpose:o(8654),invert:o(5874),adjoint:o(5400),determinant:o(9887),multiply:o(1362),translate:o(1283),scale:o(789),rotate:o(5074),rotateX:o(5545),rotateY:o(4918),rotateZ:o(5692),fromRotation:o(4045),fromRotationTranslation:o(5973),fromScaling:o(1472),fromTranslation:o(4669),fromXRotation:o(5262),fromYRotation:o(331),fromZRotation:o(1049),fromQuat:o(7812),frustum:o(5195),perspective:o(7864),perspectiveFromFieldOfView:o(5279),ortho:o(378),lookAt:o(5551),str:o(6726)}},5874:function(a){a.exports=function(s,o){var l=o[0],c=o[1],u=o[2],f=o[3],h=o[4],d=o[5],p=o[6],g=o[7],m=o[8],v=o[9],y=o[10],_=o[11],b=o[12],w=o[13],T=o[14],M=o[15],S=l*d-c*h,E=l*p-u*h,A=l*g-f*h,O=c*p-u*d,N=c*g-f*d,F=u*g-f*p,P=m*w-v*b,R=m*T-y*b,k=m*M-_*b,I=v*T-y*w,j=v*M-_*w,G=y*M-_*T,q=S*G-E*j+A*I+O*k-N*R+F*P;return q?(q=1/q,s[0]=(d*G-p*j+g*I)*q,s[1]=(u*j-c*G-f*I)*q,s[2]=(w*F-T*N+M*O)*q,s[3]=(y*N-v*F-_*O)*q,s[4]=(p*k-h*G-g*R)*q,s[5]=(l*G-u*k+f*R)*q,s[6]=(T*A-b*F-M*E)*q,s[7]=(m*F-y*A+_*E)*q,s[8]=(h*j-d*k+g*P)*q,s[9]=(c*k-l*j-f*P)*q,s[10]=(b*N-w*A+M*S)*q,s[11]=(v*A-m*N-_*S)*q,s[12]=(d*R-h*I-p*P)*q,s[13]=(l*I-c*R+u*P)*q,s[14]=(w*E-b*O-T*S)*q,s[15]=(m*O-v*E+y*S)*q,s):null}},5551:function(a,s,o){var l=o(1551);a.exports=function(c,u,f,h){var d,p,g,m,v,y,_,b,w,T,M=u[0],S=u[1],E=u[2],A=h[0],O=h[1],N=h[2],F=f[0],P=f[1],R=f[2];return Math.abs(M-F)<1e-6&&Math.abs(S-P)<1e-6&&Math.abs(E-R)<1e-6?l(c):(_=M-F,b=S-P,w=E-R,d=O*(w*=T=1/Math.sqrt(_*_+b*b+w*w))-N*(b*=T),p=N*(_*=T)-A*w,g=A*b-O*_,(T=Math.sqrt(d*d+p*p+g*g))?(d*=T=1/T,p*=T,g*=T):(d=0,p=0,g=0),m=b*g-w*p,v=w*d-_*g,y=_*p-b*d,(T=Math.sqrt(m*m+v*v+y*y))?(m*=T=1/T,v*=T,y*=T):(m=0,v=0,y=0),c[0]=d,c[1]=m,c[2]=_,c[3]=0,c[4]=p,c[5]=v,c[6]=b,c[7]=0,c[8]=g,c[9]=y,c[10]=w,c[11]=0,c[12]=-(d*M+p*S+g*E),c[13]=-(m*M+v*S+y*E),c[14]=-(_*M+b*S+w*E),c[15]=1,c)}},1362:function(a){a.exports=function(s,o,l){var c=o[0],u=o[1],f=o[2],h=o[3],d=o[4],p=o[5],g=o[6],m=o[7],v=o[8],y=o[9],_=o[10],b=o[11],w=o[12],T=o[13],M=o[14],S=o[15],E=l[0],A=l[1],O=l[2],N=l[3];return s[0]=E*c+A*d+O*v+N*w,s[1]=E*u+A*p+O*y+N*T,s[2]=E*f+A*g+O*_+N*M,s[3]=E*h+A*m+O*b+N*S,E=l[4],A=l[5],O=l[6],N=l[7],s[4]=E*c+A*d+O*v+N*w,s[5]=E*u+A*p+O*y+N*T,s[6]=E*f+A*g+O*_+N*M,s[7]=E*h+A*m+O*b+N*S,E=l[8],A=l[9],O=l[10],N=l[11],s[8]=E*c+A*d+O*v+N*w,s[9]=E*u+A*p+O*y+N*T,s[10]=E*f+A*g+O*_+N*M,s[11]=E*h+A*m+O*b+N*S,E=l[12],A=l[13],O=l[14],N=l[15],s[12]=E*c+A*d+O*v+N*w,s[13]=E*u+A*p+O*y+N*T,s[14]=E*f+A*g+O*_+N*M,s[15]=E*h+A*m+O*b+N*S,s}},378:function(a){a.exports=function(s,o,l,c,u,f,h){var d=1/(o-l),p=1/(c-u),g=1/(f-h);return s[0]=-2*d,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*p,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*g,s[11]=0,s[12]=(o+l)*d,s[13]=(u+c)*p,s[14]=(h+f)*g,s[15]=1,s}},7864:function(a){a.exports=function(s,o,l,c,u){var f=1/Math.tan(o/2),h=1/(c-u);return s[0]=f/l,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=f,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=(u+c)*h,s[11]=-1,s[12]=0,s[13]=0,s[14]=2*u*c*h,s[15]=0,s}},5279:function(a){a.exports=function(s,o,l,c){var u=Math.tan(o.upDegrees*Math.PI/180),f=Math.tan(o.downDegrees*Math.PI/180),h=Math.tan(o.leftDegrees*Math.PI/180),d=Math.tan(o.rightDegrees*Math.PI/180),p=2/(h+d),g=2/(u+f);return s[0]=p,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=g,s[6]=0,s[7]=0,s[8]=-(h-d)*p*.5,s[9]=(u-f)*g*.5,s[10]=c/(l-c),s[11]=-1,s[12]=0,s[13]=0,s[14]=c*l/(l-c),s[15]=0,s}},5074:function(a){a.exports=function(s,o,l,c){var u,f,h,d,p,g,m,v,y,_,b,w,T,M,S,E,A,O,N,F,P,R,k,I,j=c[0],G=c[1],q=c[2],et=Math.sqrt(j*j+G*G+q*q);return Math.abs(et)<1e-6?null:(j*=et=1/et,G*=et,q*=et,u=Math.sin(l),h=1-(f=Math.cos(l)),d=o[0],p=o[1],g=o[2],m=o[3],v=o[4],y=o[5],_=o[6],b=o[7],w=o[8],T=o[9],M=o[10],S=o[11],E=j*j*h+f,A=G*j*h+q*u,O=q*j*h-G*u,N=j*G*h-q*u,F=G*G*h+f,P=q*G*h+j*u,R=j*q*h+G*u,k=G*q*h-j*u,I=q*q*h+f,s[0]=d*E+v*A+w*O,s[1]=p*E+y*A+T*O,s[2]=g*E+_*A+M*O,s[3]=m*E+b*A+S*O,s[4]=d*N+v*F+w*P,s[5]=p*N+y*F+T*P,s[6]=g*N+_*F+M*P,s[7]=m*N+b*F+S*P,s[8]=d*R+v*k+w*I,s[9]=p*R+y*k+T*I,s[10]=g*R+_*k+M*I,s[11]=m*R+b*k+S*I,o!==s&&(s[12]=o[12],s[13]=o[13],s[14]=o[14],s[15]=o[15]),s)}},5545:function(a){a.exports=function(s,o,l){var c=Math.sin(l),u=Math.cos(l),f=o[4],h=o[5],d=o[6],p=o[7],g=o[8],m=o[9],v=o[10],y=o[11];return o!==s&&(s[0]=o[0],s[1]=o[1],s[2]=o[2],s[3]=o[3],s[12]=o[12],s[13]=o[13],s[14]=o[14],s[15]=o[15]),s[4]=f*u+g*c,s[5]=h*u+m*c,s[6]=d*u+v*c,s[7]=p*u+y*c,s[8]=g*u-f*c,s[9]=m*u-h*c,s[10]=v*u-d*c,s[11]=y*u-p*c,s}},4918:function(a){a.exports=function(s,o,l){var c=Math.sin(l),u=Math.cos(l),f=o[0],h=o[1],d=o[2],p=o[3],g=o[8],m=o[9],v=o[10],y=o[11];return o!==s&&(s[4]=o[4],s[5]=o[5],s[6]=o[6],s[7]=o[7],s[12]=o[12],s[13]=o[13],s[14]=o[14],s[15]=o[15]),s[0]=f*u-g*c,s[1]=h*u-m*c,s[2]=d*u-v*c,s[3]=p*u-y*c,s[8]=f*c+g*u,s[9]=h*c+m*u,s[10]=d*c+v*u,s[11]=p*c+y*u,s}},5692:function(a){a.exports=function(s,o,l){var c=Math.sin(l),u=Math.cos(l),f=o[0],h=o[1],d=o[2],p=o[3],g=o[4],m=o[5],v=o[6],y=o[7];return o!==s&&(s[8]=o[8],s[9]=o[9],s[10]=o[10],s[11]=o[11],s[12]=o[12],s[13]=o[13],s[14]=o[14],s[15]=o[15]),s[0]=f*u+g*c,s[1]=h*u+m*c,s[2]=d*u+v*c,s[3]=p*u+y*c,s[4]=g*u-f*c,s[5]=m*u-h*c,s[6]=v*u-d*c,s[7]=y*u-p*c,s}},789:function(a){a.exports=function(s,o,l){var c=l[0],u=l[1],f=l[2];return s[0]=o[0]*c,s[1]=o[1]*c,s[2]=o[2]*c,s[3]=o[3]*c,s[4]=o[4]*u,s[5]=o[5]*u,s[6]=o[6]*u,s[7]=o[7]*u,s[8]=o[8]*f,s[9]=o[9]*f,s[10]=o[10]*f,s[11]=o[11]*f,s[12]=o[12],s[13]=o[13],s[14]=o[14],s[15]=o[15],s}},6726:function(a){a.exports=function(s){return"mat4("+s[0]+", "+s[1]+", "+s[2]+", "+s[3]+", "+s[4]+", "+s[5]+", "+s[6]+", "+s[7]+", "+s[8]+", "+s[9]+", "+s[10]+", "+s[11]+", "+s[12]+", "+s[13]+", "+s[14]+", "+s[15]+")"}},1283:function(a){a.exports=function(s,o,l){var c,u,f,h,d,p,g,m,v,y,_,b,w=l[0],T=l[1],M=l[2];return o===s?(s[12]=o[0]*w+o[4]*T+o[8]*M+o[12],s[13]=o[1]*w+o[5]*T+o[9]*M+o[13],s[14]=o[2]*w+o[6]*T+o[10]*M+o[14],s[15]=o[3]*w+o[7]*T+o[11]*M+o[15]):(c=o[0],u=o[1],f=o[2],h=o[3],d=o[4],p=o[5],g=o[6],m=o[7],v=o[8],y=o[9],_=o[10],b=o[11],s[0]=c,s[1]=u,s[2]=f,s[3]=h,s[4]=d,s[5]=p,s[6]=g,s[7]=m,s[8]=v,s[9]=y,s[10]=_,s[11]=b,s[12]=c*w+d*T+v*M+o[12],s[13]=u*w+p*T+y*M+o[13],s[14]=f*w+g*T+_*M+o[14],s[15]=h*w+m*T+b*M+o[15]),s}},8654:function(a){a.exports=function(s,o){if(s===o){var l=o[1],c=o[2],u=o[3],f=o[6],h=o[7],d=o[11];s[1]=o[4],s[2]=o[8],s[3]=o[12],s[4]=l,s[6]=o[9],s[7]=o[13],s[8]=c,s[9]=f,s[11]=o[14],s[12]=u,s[13]=h,s[14]=d}else s[0]=o[0],s[1]=o[4],s[2]=o[8],s[3]=o[12],s[4]=o[1],s[5]=o[5],s[6]=o[9],s[7]=o[13],s[8]=o[2],s[9]=o[6],s[10]=o[10],s[11]=o[14],s[12]=o[3],s[13]=o[7],s[14]=o[11],s[15]=o[15];return s}},7035:function(a,s,o){var l,c=o(4404);l=typeof o.g.matchMedia=="function"?!o.g.matchMedia("(hover: none)").matches:c,a.exports=l},8520:function(a,s,o){var l=o(4404);a.exports=l&&function(){var c=!1;try{var u=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("test",null,u),window.removeEventListener("test",null,u)}catch{c=!1}return c}()},4404:function(a){a.exports=!0},8546:function(a){a.exports=function(s){for(var o,l=s.length,c=0;c<l;c++)if(((o=s.charCodeAt(c))<9||o>13)&&o!==32&&o!==133&&o!==160&&o!==5760&&o!==6158&&(o<8192||o>8205)&&o!==8232&&o!==8233&&o!==8239&&o!==8287&&o!==8288&&o!==12288&&o!==65279)return!1;return!0}},8956:function(a){var s={left:0,top:0};a.exports=function(o,l,c){l=l||o.currentTarget||o.srcElement,Array.isArray(c)||(c=[0,0]);var u,f=o.clientX||0,h=o.clientY||0,d=(u=l)===window||u===document||u===document.body?s:u.getBoundingClientRect();return c[0]=f-d.left,c[1]=h-d.top,c}},7417:function(a,s,o){var l,c,u,f;c="Promise",f=function(){var h,d,p,g=Object.prototype.toString,m=typeof setImmediate<"u"?function(N){return setImmediate(N)}:setTimeout;try{Object.defineProperty({},"x",{}),h=function(N,F,P,R){return Object.defineProperty(N,F,{value:P,writable:!0,configurable:R!==!1})}}catch{h=function(F,P,R){return F[P]=R,F}}function v(N,F){p.add(N,F),d||(d=m(p.drain))}function y(N){var F,P=typeof N;return N==null||P!="object"&&P!="function"||(F=N.then),typeof F=="function"&&F}function _(){for(var N=0;N<this.chain.length;N++)b(this,this.state===1?this.chain[N].success:this.chain[N].failure,this.chain[N]);this.chain.length=0}function b(N,F,P){var R,k;try{F===!1?P.reject(N.msg):(R=F===!0?N.msg:F.call(void 0,N.msg))===P.promise?P.reject(TypeError("Promise-chain cycle")):(k=y(R))?k.call(R,P.resolve,P.reject):P.resolve(R)}catch(I){P.reject(I)}}function w(N){var F,P=this;if(!P.triggered){P.triggered=!0,P.def&&(P=P.def);try{(F=y(N))?v(function(){var R=new S(P);try{F.call(N,function(){w.apply(R,arguments)},function(){T.apply(R,arguments)})}catch(k){T.call(R,k)}}):(P.msg=N,P.state=1,P.chain.length>0&&v(_,P))}catch(R){T.call(new S(P),R)}}}function T(N){var F=this;F.triggered||(F.triggered=!0,F.def&&(F=F.def),F.msg=N,F.state=2,F.chain.length>0&&v(_,F))}function M(N,F,P,R){for(var k=0;k<F.length;k++)(function(I){N.resolve(F[I]).then(function(j){P(I,j)},R)})(k)}function S(N){this.def=N,this.triggered=!1}function E(N){this.promise=N,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function A(N){if(typeof N!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var F=new E(this);this.then=function(P,R){var k={success:typeof P!="function"||P,failure:typeof R=="function"&&R};return k.promise=new this.constructor(function(I,j){if(typeof I!="function"||typeof j!="function")throw TypeError("Not a function");k.resolve=I,k.reject=j}),F.chain.push(k),F.state!==0&&v(_,F),k.promise},this.catch=function(P){return this.then(void 0,P)};try{N.call(void 0,function(P){w.call(F,P)},function(P){T.call(F,P)})}catch(P){T.call(F,P)}}p=function(){var N,F,P;function R(k,I){this.fn=k,this.self=I,this.next=void 0}return{add:function(k,I){P=new R(k,I),F?F.next=P:N=P,F=P,P=void 0},drain:function(){var k=N;for(N=F=d=void 0;k;)k.fn.call(k.self),k=k.next}}}();var O=h({},"constructor",A,!1);return A.prototype=O,h(O,"__NPO__",0,!1),h(A,"resolve",function(N){return N&&typeof N=="object"&&N.__NPO__===1?N:new this(function(F,P){if(typeof F!="function"||typeof P!="function")throw TypeError("Not a function");F(N)})}),h(A,"reject",function(N){return new this(function(F,P){if(typeof F!="function"||typeof P!="function")throw TypeError("Not a function");P(N)})}),h(A,"all",function(N){var F=this;return g.call(N)!="[object Array]"?F.reject(TypeError("Not an array")):N.length===0?F.resolve([]):new F(function(P,R){if(typeof P!="function"||typeof R!="function")throw TypeError("Not a function");var k=N.length,I=Array(k),j=0;M(F,N,function(G,q){I[G]=q,++j===k&&P(I)},R)})}),h(A,"race",function(N){var F=this;return g.call(N)!="[object Array]"?F.reject(TypeError("Not an array")):new F(function(P,R){if(typeof P!="function"||typeof R!="function")throw TypeError("Not a function");M(F,N,function(k,I){P(I)},R)})}),A},(u=o.g!==void 0?o.g:this)[c]=u[c]||f(),a.exports?a.exports=u[c]:(l=function(){return u[c]}.call(s,o,s,a))===void 0||(a.exports=l)},6131:function(a){var s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;a.exports=function(){try{if(!Object.assign)return!1;var c=new String("abc");if(c[5]="de",Object.getOwnPropertyNames(c)[0]==="5")return!1;for(var u={},f=0;f<10;f++)u["_"+String.fromCharCode(f)]=f;if(Object.getOwnPropertyNames(u).map(function(d){return u[d]}).join("")!=="0123456789")return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(d){h[d]=d}),Object.keys(Object.assign({},h)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(c,u){for(var f,h,d=function(v){if(v==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(v)}(c),p=1;p<arguments.length;p++){for(var g in f=Object(arguments[p]))o.call(f,g)&&(d[g]=f[g]);if(s){h=s(f);for(var m=0;m<h.length;m++)l.call(f,h[m])&&(d[h[m]]=f[h[m]])}}return d}},5616:function(a){a.exports=function(c){var u=[];return c.replace(o,function(f,h,d){var p=h.toLowerCase();for(d=function(g){var m=g.match(l);return m?m.map(Number):[]}(d),p=="m"&&d.length>2&&(u.push([h].concat(d.splice(0,2))),p="l",h=h=="m"?"l":"L");;){if(d.length==s[p])return d.unshift(h),u.push(d);if(d.length<s[p])throw new Error("malformed path data");u.push([h].concat(d.splice(0,s[p])))}}),u};var s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},o=/([astvzqmhlc])([^astvzqmhlc]*)/gi,l=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},8258:function(a){a.exports=function(s,o,l,c){var u=s[0],f=s[1],h=!1;l===void 0&&(l=0),c===void 0&&(c=o.length);for(var d=c-l,p=0,g=d-1;p<d;g=p++){var m=o[p+l][0],v=o[p+l][1],y=o[g+l][0],_=o[g+l][1];v>f!=_>f&&u<(y-m)*(f-v)/(_-v)+m&&(h=!h)}return h}},2142:function(a,s,o){var l,c=o(9444),u=o(9023),f=o(7263),h=o(1328),d=o(5968),p=o(670),g=!1,m=u();function v(y,_,b){var w=l.segments(y),T=l.segments(_),M=b(l.combine(w,T));return l.polygon(M)}l={buildLog:function(y){return y===!0?g=c():y===!1&&(g=!1),g!==!1&&g.list},epsilon:function(y){return m.epsilon(y)},segments:function(y){var _=f(!0,m,g);return y.regions.forEach(_.addRegion),{segments:_.calculate(y.inverted),inverted:y.inverted}},combine:function(y,_){return{combined:f(!1,m,g).calculate(y.segments,y.inverted,_.segments,_.inverted),inverted1:y.inverted,inverted2:_.inverted}},selectUnion:function(y){return{segments:d.union(y.combined,g),inverted:y.inverted1||y.inverted2}},selectIntersect:function(y){return{segments:d.intersect(y.combined,g),inverted:y.inverted1&&y.inverted2}},selectDifference:function(y){return{segments:d.difference(y.combined,g),inverted:y.inverted1&&!y.inverted2}},selectDifferenceRev:function(y){return{segments:d.differenceRev(y.combined,g),inverted:!y.inverted1&&y.inverted2}},selectXor:function(y){return{segments:d.xor(y.combined,g),inverted:y.inverted1!==y.inverted2}},polygon:function(y){return{regions:h(y.segments,m,g),inverted:y.inverted}},polygonFromGeoJSON:function(y){return p.toPolygon(l,y)},polygonToGeoJSON:function(y){return p.fromPolygon(l,m,y)},union:function(y,_){return v(y,_,l.selectUnion)},intersect:function(y,_){return v(y,_,l.selectIntersect)},difference:function(y,_){return v(y,_,l.selectDifference)},differenceRev:function(y,_){return v(y,_,l.selectDifferenceRev)},xor:function(y,_){return v(y,_,l.selectXor)}},typeof window=="object"&&(window.PolyBool=l),a.exports=l},9444:function(a){a.exports=function(){var s,o=0,l=!1;function c(u,f){return s.list.push({type:u,data:f?JSON.parse(JSON.stringify(f)):void 0}),s}return s={list:[],segmentId:function(){return o++},checkIntersection:function(u,f){return c("check",{seg1:u,seg2:f})},segmentChop:function(u,f){return c("div_seg",{seg:u,pt:f}),c("chop",{seg:u,pt:f})},statusRemove:function(u){return c("pop_seg",{seg:u})},segmentUpdate:function(u){return c("seg_update",{seg:u})},segmentNew:function(u,f){return c("new_seg",{seg:u,primary:f})},segmentRemove:function(u){return c("rem_seg",{seg:u})},tempStatus:function(u,f,h){return c("temp_status",{seg:u,above:f,below:h})},rewind:function(u){return c("rewind",{seg:u})},status:function(u,f,h){return c("status",{seg:u,above:f,below:h})},vert:function(u){return u===l?s:(l=u,c("vert",{x:u}))},log:function(u){return typeof u!="string"&&(u=JSON.stringify(u,!1,"  ")),c("log",{txt:u})},reset:function(){return c("reset")},selected:function(u){return c("selected",{segs:u})},chainStart:function(u){return c("chain_start",{seg:u})},chainRemoveHead:function(u,f){return c("chain_rem_head",{index:u,pt:f})},chainRemoveTail:function(u,f){return c("chain_rem_tail",{index:u,pt:f})},chainNew:function(u,f){return c("chain_new",{pt1:u,pt2:f})},chainMatch:function(u){return c("chain_match",{index:u})},chainClose:function(u){return c("chain_close",{index:u})},chainAddHead:function(u,f){return c("chain_add_head",{index:u,pt:f})},chainAddTail:function(u,f){return c("chain_add_tail",{index:u,pt:f})},chainConnect:function(u,f){return c("chain_con",{index1:u,index2:f})},chainReverse:function(u){return c("chain_rev",{index:u})},chainJoin:function(u,f){return c("chain_join",{index1:u,index2:f})},done:function(){return c("done")}}}},9023:function(a){a.exports=function(s){typeof s!="number"&&(s=1e-10);var o={epsilon:function(l){return typeof l=="number"&&(s=l),s},pointAboveOrOnLine:function(l,c,u){var f=c[0],h=c[1],d=u[0],p=u[1],g=l[0];return(d-f)*(l[1]-h)-(p-h)*(g-f)>=-s},pointBetween:function(l,c,u){var f=l[1]-c[1],h=u[0]-c[0],d=l[0]-c[0],p=u[1]-c[1],g=d*h+f*p;return!(g<s||g-(h*h+p*p)>-s)},pointsSameX:function(l,c){return Math.abs(l[0]-c[0])<s},pointsSameY:function(l,c){return Math.abs(l[1]-c[1])<s},pointsSame:function(l,c){return o.pointsSameX(l,c)&&o.pointsSameY(l,c)},pointsCompare:function(l,c){return o.pointsSameX(l,c)?o.pointsSameY(l,c)?0:l[1]<c[1]?-1:1:l[0]<c[0]?-1:1},pointsCollinear:function(l,c,u){var f=l[0]-c[0],h=l[1]-c[1],d=c[0]-u[0],p=c[1]-u[1];return Math.abs(f*p-d*h)<s},linesIntersect:function(l,c,u,f){var h=c[0]-l[0],d=c[1]-l[1],p=f[0]-u[0],g=f[1]-u[1],m=h*g-d*p;if(Math.abs(m)<s)return!1;var v=l[0]-u[0],y=l[1]-u[1],_=(p*y-g*v)/m,b=(h*y-d*v)/m,w={alongA:0,alongB:0,pt:[l[0]+_*h,l[1]+_*d]};return w.alongA=_<=-s?-2:_<s?-1:_-1<=-s?0:_-1<s?1:2,w.alongB=b<=-s?-2:b<s?-1:b-1<=-s?0:b-1<s?1:2,w},pointInsideRegion:function(l,c){for(var u=l[0],f=l[1],h=c[c.length-1][0],d=c[c.length-1][1],p=!1,g=0;g<c.length;g++){var m=c[g][0],v=c[g][1];v-f>s!=d-f>s&&(h-m)*(f-v)/(d-v)+m-u>s&&(p=!p),h=m,d=v}return p}};return o}},670:function(a){var s={toPolygon:function(o,l){function c(h){if(h.length<=0)return o.segments({inverted:!1,regions:[]});function d(m){var v=m.slice(0,m.length-1);return o.segments({inverted:!1,regions:[v]})}for(var p=d(h[0]),g=1;g<h.length;g++)p=o.selectDifference(o.combine(p,d(h[g])));return p}if(l.type==="Polygon")return o.polygon(c(l.coordinates));if(l.type==="MultiPolygon"){for(var u=o.segments({inverted:!1,regions:[]}),f=0;f<l.coordinates.length;f++)u=o.selectUnion(o.combine(u,c(l.coordinates[f])));return o.polygon(u)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(o,l,c){function u(b,w){return l.pointInsideRegion([.5*(b[0][0]+b[1][0]),.5*(b[0][1]+b[1][1])],w)}function f(b){return{region:b,children:[]}}c=o.polygon(o.segments(c));var h=f(null);function d(b,w){for(var T=0;T<b.children.length;T++)if(u(w,(S=b.children[T]).region))return void d(S,w);var M=f(w);for(T=0;T<b.children.length;T++){var S;u((S=b.children[T]).region,w)&&(M.children.push(S),b.children.splice(T,1),T--)}b.children.push(M)}for(var p=0;p<c.regions.length;p++){var g=c.regions[p];g.length<3||d(h,g)}function m(b,w){for(var T=0,M=b[b.length-1][0],S=b[b.length-1][1],E=[],A=0;A<b.length;A++){var O=b[A][0],N=b[A][1];E.push([O,N]),T+=N*M-O*S,M=O,S=N}return T<0!==w&&E.reverse(),E.push([E[0][0],E[0][1]]),E}var v=[];function y(b){var w=[m(b.region,!1)];v.push(w);for(var T=0;T<b.children.length;T++)w.push(_(b.children[T]))}function _(b){for(var w=0;w<b.children.length;w++)y(b.children[w]);return m(b.region,!0)}for(p=0;p<h.children.length;p++)y(h.children[p]);return v.length<=0?{type:"Polygon",coordinates:[]}:v.length==1?{type:"Polygon",coordinates:v[0]}:{type:"MultiPolygon",coordinates:v}}};a.exports=s},7263:function(a,s,o){var l=o(6859);a.exports=function(c,u,f){function h(y,_,b){return{id:f?f.segmentId():-1,start:y,end:_,myFill:{above:b.myFill.above,below:b.myFill.below},otherFill:null}}var d=l.create();function p(y,_){d.insertBefore(y,function(b){return w=y.isStart,T=y.pt,M=_,S=b.isStart,E=b.pt,A=b.other.pt,((O=u.pointsCompare(T,E))!==0?O:u.pointsSame(M,A)?0:w!==S?w?1:-1:u.pointAboveOrOnLine(M,S?E:A,S?A:E)?1:-1)<0;var w,T,M,S,E,A,O})}function g(y,_){var b=function(w,T){var M=l.node({isStart:!0,pt:w.start,seg:w,primary:T,other:null,status:null});return p(M,w.end),M}(y,_);return function(w,T,M){var S=l.node({isStart:!1,pt:T.end,seg:T,primary:M,other:w,status:null});w.other=S,p(S,w.pt)}(b,y,_),b}function m(y,_){var b=h(_,y.seg.end,y.seg);return function(w,T){f&&f.segmentChop(w.seg,T),w.other.remove(),w.seg.end=T,w.other.pt=T,p(w.other,w.pt)}(y,_),g(b,y.primary)}function v(y,_){var b=l.create();function w(I){return b.findTransition(function(j){var G,q,et,U,J,nt;return G=I,q=j.ev,et=G.seg.start,U=G.seg.end,J=q.seg.start,nt=q.seg.end,(u.pointsCollinear(et,J,nt)?u.pointsCollinear(U,J,nt)||u.pointAboveOrOnLine(U,J,nt)?1:-1:u.pointAboveOrOnLine(et,J,nt)?1:-1)>0})}function T(I,j){var G=I.seg,q=j.seg,et=G.start,U=G.end,J=q.start,nt=q.end;f&&f.checkIntersection(G,q);var ct=u.linesIntersect(et,U,J,nt);if(ct===!1){if(!u.pointsCollinear(et,U,J)||u.pointsSame(et,nt)||u.pointsSame(U,J))return!1;var z=u.pointsSame(et,J),W=u.pointsSame(U,nt);if(z&&W)return j;var X=!z&&u.pointBetween(et,J,nt),it=!W&&u.pointBetween(U,J,nt);if(z)return it?m(j,U):m(I,nt),j;X&&(W||(it?m(j,U):m(I,nt)),m(j,et))}else ct.alongA===0&&(ct.alongB===-1?m(I,J):ct.alongB===0?m(I,ct.pt):ct.alongB===1&&m(I,nt)),ct.alongB===0&&(ct.alongA===-1?m(j,et):ct.alongA===0?m(j,ct.pt):ct.alongA===1&&m(j,U));return!1}for(var M=[];!d.isEmpty();){var S=d.getHead();if(f&&f.vert(S.pt[0]),S.isStart){let I=function(){if(A){var j=T(S,A);if(j)return j}return!!O&&T(S,O)};f&&f.segmentNew(S.seg,S.primary);var E=w(S),A=E.before?E.before.ev:null,O=E.after?E.after.ev:null;f&&f.tempStatus(S.seg,!!A&&A.seg,!!O&&O.seg);var N,F,P=I();if(P&&(c?(F=S.seg.myFill.below===null||S.seg.myFill.above!==S.seg.myFill.below)&&(P.seg.myFill.above=!P.seg.myFill.above):P.seg.otherFill=S.seg.myFill,f&&f.segmentUpdate(P.seg),S.other.remove(),S.remove()),d.getHead()!==S){f&&f.rewind(S.seg);continue}c?(F=S.seg.myFill.below===null||S.seg.myFill.above!==S.seg.myFill.below,S.seg.myFill.below=O?O.seg.myFill.above:y,S.seg.myFill.above=F?!S.seg.myFill.below:S.seg.myFill.below):S.seg.otherFill===null&&(N=O?S.primary===O.primary?O.seg.otherFill.above:O.seg.myFill.above:S.primary?_:y,S.seg.otherFill={above:N,below:N}),f&&f.status(S.seg,!!A&&A.seg,!!O&&O.seg),S.other.status=E.insert(l.node({ev:S}))}else{var R=S.status;if(R===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(b.exists(R.prev)&&b.exists(R.next)&&T(R.prev.ev,R.next.ev),f&&f.statusRemove(R.ev.seg),R.remove(),!S.primary){var k=S.seg.myFill;S.seg.myFill=S.seg.otherFill,S.seg.otherFill=k}M.push(S.seg)}d.getHead().remove()}return f&&f.done(),M}return c?{addRegion:function(y){for(var _,b,w,T=y[y.length-1],M=0;M<y.length;M++){_=T,T=y[M];var S=u.pointsCompare(_,T);S!==0&&g((b=S<0?_:T,w=S<0?T:_,{id:f?f.segmentId():-1,start:b,end:w,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(y){return v(y,!1)}}:{calculate:function(y,_,b,w){return y.forEach(function(T){g(h(T.start,T.end,T),!0)}),b.forEach(function(T){g(h(T.start,T.end,T),!1)}),v(_,w)}}}},6859:function(a){a.exports={create:function(){var s={root:{root:!0,next:null},exists:function(o){return o!==null&&o!==s.root},isEmpty:function(){return s.root.next===null},getHead:function(){return s.root.next},insertBefore:function(o,l){for(var c=s.root,u=s.root.next;u!==null;){if(l(u))return o.prev=u.prev,o.next=u,u.prev.next=o,void(u.prev=o);c=u,u=u.next}c.next=o,o.prev=c,o.next=null},findTransition:function(o){for(var l=s.root,c=s.root.next;c!==null&&!o(c);)l=c,c=c.next;return{before:l===s.root?null:l,after:c,insert:function(u){return u.prev=l,u.next=c,l.next=u,c!==null&&(c.prev=u),u}}}};return s},node:function(s){return s.prev=null,s.next=null,s.remove=function(){s.prev.next=s.next,s.next&&(s.next.prev=s.prev),s.prev=null,s.next=null},s}}},1328:function(a){a.exports=function(s,o,l){var c=[],u=[];return s.forEach(function(f){var h=f.start,d=f.end;if(o.pointsSame(h,d))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{l&&l.chainStart(f);for(var p={index:0,matches_head:!1,matches_pt1:!1},g={index:0,matches_head:!1,matches_pt1:!1},m=p,v=0;v<c.length;v++){var y=(M=c[v])[0],_=(M[1],M[M.length-1]);if(M[M.length-2],o.pointsSame(y,h)){if(R(v,!0,!0))break}else if(o.pointsSame(y,d)){if(R(v,!0,!1))break}else if(o.pointsSame(_,h)){if(R(v,!1,!0))break}else if(o.pointsSame(_,d)&&R(v,!1,!1))break}if(m===p)return c.push([h,d]),void(l&&l.chainNew(h,d));if(m===g){l&&l.chainMatch(p.index);var b=p.index,w=p.matches_pt1?d:h,T=p.matches_head,M=c[b],S=T?M[0]:M[M.length-1],E=T?M[1]:M[M.length-2],A=T?M[M.length-1]:M[0],O=T?M[M.length-2]:M[1];return o.pointsCollinear(E,S,w)&&(T?(l&&l.chainRemoveHead(p.index,w),M.shift()):(l&&l.chainRemoveTail(p.index,w),M.pop()),S=E),o.pointsSame(A,w)?(c.splice(b,1),o.pointsCollinear(O,A,S)&&(T?(l&&l.chainRemoveTail(p.index,S),M.pop()):(l&&l.chainRemoveHead(p.index,S),M.shift())),l&&l.chainClose(p.index),void u.push(M)):void(T?(l&&l.chainAddHead(p.index,w),M.unshift(w)):(l&&l.chainAddTail(p.index,w),M.push(w)))}var N=p.index,F=g.index;l&&l.chainConnect(N,F);var P=c[N].length<c[F].length;p.matches_head?g.matches_head?P?(k(N),I(N,F)):(k(F),I(F,N)):I(F,N):g.matches_head?I(N,F):P?(k(N),I(F,N)):(k(F),I(N,F))}function R(j,G,q){return m.index=j,m.matches_head=G,m.matches_pt1=q,m===p?(m=g,!1):(m=null,!0)}function k(j){l&&l.chainReverse(j),c[j].reverse()}function I(j,G){var q=c[j],et=c[G],U=q[q.length-1],J=q[q.length-2],nt=et[0],ct=et[1];o.pointsCollinear(J,U,nt)&&(l&&l.chainRemoveTail(j,U),q.pop(),U=J),o.pointsCollinear(U,nt,ct)&&(l&&l.chainRemoveHead(G,nt),et.shift()),l&&l.chainJoin(j,G),c[j]=q.concat(et),c.splice(G,1)}}),u}},5968:function(a){function s(l,c,u){var f=[];return l.forEach(function(h){var d=(h.myFill.above?8:0)+(h.myFill.below?4:0)+(h.otherFill&&h.otherFill.above?2:0)+(h.otherFill&&h.otherFill.below?1:0);c[d]!==0&&f.push({id:u?u.segmentId():-1,start:h.start,end:h.end,myFill:{above:c[d]===1,below:c[d]===2},otherFill:null})}),u&&u.selected(f),f}var o={union:function(l,c){return s(l,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],c)},intersect:function(l,c){return s(l,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],c)},difference:function(l,c){return s(l,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],c)},differenceRev:function(l,c){return s(l,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],c)},xor:function(l,c){return s(l,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],c)}};a.exports=o},4267:function(a,s,o){var l;(function(c){var u=/^\s+/,f=/\s+$/,h=0,d=c.round,p=c.min,g=c.max,m=c.random;function v(B,H){if(H=H||{},(B=B||"")instanceof v)return B;if(!(this instanceof v))return new v(B,H);var $=function(Z){var Q,ot,st,dt={r:0,g:0,b:0},bt=1,Pt=null,It=null,Dt=null,gt=!1,_t=!1;return typeof Z=="string"&&(Z=function(wt){wt=wt.replace(u,"").replace(f,"").toLowerCase();var Et,ht=!1;if(G[wt])wt=G[wt],ht=!0;else if(wt=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(Et=rt.rgb.exec(wt))?{r:Et[1],g:Et[2],b:Et[3]}:(Et=rt.rgba.exec(wt))?{r:Et[1],g:Et[2],b:Et[3],a:Et[4]}:(Et=rt.hsl.exec(wt))?{h:Et[1],s:Et[2],l:Et[3]}:(Et=rt.hsla.exec(wt))?{h:Et[1],s:Et[2],l:Et[3],a:Et[4]}:(Et=rt.hsv.exec(wt))?{h:Et[1],s:Et[2],v:Et[3]}:(Et=rt.hsva.exec(wt))?{h:Et[1],s:Et[2],v:Et[3],a:Et[4]}:(Et=rt.hex8.exec(wt))?{r:nt(Et[1]),g:nt(Et[2]),b:nt(Et[3]),a:X(Et[4]),format:ht?"name":"hex8"}:(Et=rt.hex6.exec(wt))?{r:nt(Et[1]),g:nt(Et[2]),b:nt(Et[3]),format:ht?"name":"hex"}:(Et=rt.hex4.exec(wt))?{r:nt(Et[1]+""+Et[1]),g:nt(Et[2]+""+Et[2]),b:nt(Et[3]+""+Et[3]),a:X(Et[4]+""+Et[4]),format:ht?"name":"hex8"}:!!(Et=rt.hex3.exec(wt))&&{r:nt(Et[1]+""+Et[1]),g:nt(Et[2]+""+Et[2]),b:nt(Et[3]+""+Et[3]),format:ht?"name":"hex"}}(Z)),typeof Z=="object"&&(V(Z.r)&&V(Z.g)&&V(Z.b)?(Q=Z.r,ot=Z.g,st=Z.b,dt={r:255*U(Q,255),g:255*U(ot,255),b:255*U(st,255)},gt=!0,_t=String(Z.r).substr(-1)==="%"?"prgb":"rgb"):V(Z.h)&&V(Z.s)&&V(Z.v)?(Pt=z(Z.s),It=z(Z.v),dt=function(wt,Et,ht){wt=6*U(wt,360),Et=U(Et,100),ht=U(ht,100);var vt=c.floor(wt),Ct=wt-vt,Mt=ht*(1-Et),Nt=ht*(1-Ct*Et),Rt=ht*(1-(1-Ct)*Et),At=vt%6;return{r:255*[ht,Nt,Mt,Mt,Rt,ht][At],g:255*[Rt,ht,ht,Nt,Mt,Mt][At],b:255*[Mt,Mt,Rt,ht,ht,Nt][At]}}(Z.h,Pt,It),gt=!0,_t="hsv"):V(Z.h)&&V(Z.s)&&V(Z.l)&&(Pt=z(Z.s),Dt=z(Z.l),dt=function(wt,Et,ht){var vt,Ct,Mt;function Nt(kt,Bt,Lt){return Lt<0&&(Lt+=1),Lt>1&&(Lt-=1),Lt<1/6?kt+6*(Bt-kt)*Lt:Lt<.5?Bt:Lt<2/3?kt+(Bt-kt)*(2/3-Lt)*6:kt}if(wt=U(wt,360),Et=U(Et,100),ht=U(ht,100),Et===0)vt=Ct=Mt=ht;else{var Rt=ht<.5?ht*(1+Et):ht+Et-ht*Et,At=2*ht-Rt;vt=Nt(At,Rt,wt+1/3),Ct=Nt(At,Rt,wt),Mt=Nt(At,Rt,wt-1/3)}return{r:255*vt,g:255*Ct,b:255*Mt}}(Z.h,Pt,Dt),gt=!0,_t="hsl"),Z.hasOwnProperty("a")&&(bt=Z.a)),bt=et(bt),{ok:gt,format:Z.format||_t,r:p(255,g(dt.r,0)),g:p(255,g(dt.g,0)),b:p(255,g(dt.b,0)),a:bt}}(B);this._originalInput=B,this._r=$.r,this._g=$.g,this._b=$.b,this._a=$.a,this._roundA=d(100*this._a)/100,this._format=H.format||$.format,this._gradientType=H.gradientType,this._r<1&&(this._r=d(this._r)),this._g<1&&(this._g=d(this._g)),this._b<1&&(this._b=d(this._b)),this._ok=$.ok,this._tc_id=h++}function y(B,H,$){B=U(B,255),H=U(H,255),$=U($,255);var Z,Q,ot=g(B,H,$),st=p(B,H,$),dt=(ot+st)/2;if(ot==st)Z=Q=0;else{var bt=ot-st;switch(Q=dt>.5?bt/(2-ot-st):bt/(ot+st),ot){case B:Z=(H-$)/bt+(H<$?6:0);break;case H:Z=($-B)/bt+2;break;case $:Z=(B-H)/bt+4}Z/=6}return{h:Z,s:Q,l:dt}}function _(B,H,$){B=U(B,255),H=U(H,255),$=U($,255);var Z,Q,ot=g(B,H,$),st=p(B,H,$),dt=ot,bt=ot-st;if(Q=ot===0?0:bt/ot,ot==st)Z=0;else{switch(ot){case B:Z=(H-$)/bt+(H<$?6:0);break;case H:Z=($-B)/bt+2;break;case $:Z=(B-H)/bt+4}Z/=6}return{h:Z,s:Q,v:dt}}function b(B,H,$,Z){var Q=[ct(d(B).toString(16)),ct(d(H).toString(16)),ct(d($).toString(16))];return Z&&Q[0].charAt(0)==Q[0].charAt(1)&&Q[1].charAt(0)==Q[1].charAt(1)&&Q[2].charAt(0)==Q[2].charAt(1)?Q[0].charAt(0)+Q[1].charAt(0)+Q[2].charAt(0):Q.join("")}function w(B,H,$,Z){return[ct(W(Z)),ct(d(B).toString(16)),ct(d(H).toString(16)),ct(d($).toString(16))].join("")}function T(B,H){H=H===0?0:H||10;var $=v(B).toHsl();return $.s-=H/100,$.s=J($.s),v($)}function M(B,H){H=H===0?0:H||10;var $=v(B).toHsl();return $.s+=H/100,$.s=J($.s),v($)}function S(B){return v(B).desaturate(100)}function E(B,H){H=H===0?0:H||10;var $=v(B).toHsl();return $.l+=H/100,$.l=J($.l),v($)}function A(B,H){H=H===0?0:H||10;var $=v(B).toRgb();return $.r=g(0,p(255,$.r-d(-H/100*255))),$.g=g(0,p(255,$.g-d(-H/100*255))),$.b=g(0,p(255,$.b-d(-H/100*255))),v($)}function O(B,H){H=H===0?0:H||10;var $=v(B).toHsl();return $.l-=H/100,$.l=J($.l),v($)}function N(B,H){var $=v(B).toHsl(),Z=($.h+H)%360;return $.h=Z<0?360+Z:Z,v($)}function F(B){var H=v(B).toHsl();return H.h=(H.h+180)%360,v(H)}function P(B){var H=v(B).toHsl(),$=H.h;return[v(B),v({h:($+120)%360,s:H.s,l:H.l}),v({h:($+240)%360,s:H.s,l:H.l})]}function R(B){var H=v(B).toHsl(),$=H.h;return[v(B),v({h:($+90)%360,s:H.s,l:H.l}),v({h:($+180)%360,s:H.s,l:H.l}),v({h:($+270)%360,s:H.s,l:H.l})]}function k(B){var H=v(B).toHsl(),$=H.h;return[v(B),v({h:($+72)%360,s:H.s,l:H.l}),v({h:($+216)%360,s:H.s,l:H.l})]}function I(B,H,$){H=H||6,$=$||30;var Z=v(B).toHsl(),Q=360/$,ot=[v(B)];for(Z.h=(Z.h-(Q*H>>1)+720)%360;--H;)Z.h=(Z.h+Q)%360,ot.push(v(Z));return ot}function j(B,H){H=H||6;for(var $=v(B).toHsv(),Z=$.h,Q=$.s,ot=$.v,st=[],dt=1/H;H--;)st.push(v({h:Z,s:Q,v:ot})),ot=(ot+dt)%1;return st}v.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var B=this.toRgb();return(299*B.r+587*B.g+114*B.b)/1e3},getLuminance:function(){var B,H,$,Z=this.toRgb();return B=Z.r/255,H=Z.g/255,$=Z.b/255,.2126*(B<=.03928?B/12.92:c.pow((B+.055)/1.055,2.4))+.7152*(H<=.03928?H/12.92:c.pow((H+.055)/1.055,2.4))+.0722*($<=.03928?$/12.92:c.pow(($+.055)/1.055,2.4))},setAlpha:function(B){return this._a=et(B),this._roundA=d(100*this._a)/100,this},toHsv:function(){var B=_(this._r,this._g,this._b);return{h:360*B.h,s:B.s,v:B.v,a:this._a}},toHsvString:function(){var B=_(this._r,this._g,this._b),H=d(360*B.h),$=d(100*B.s),Z=d(100*B.v);return this._a==1?"hsv("+H+", "+$+"%, "+Z+"%)":"hsva("+H+", "+$+"%, "+Z+"%, "+this._roundA+")"},toHsl:function(){var B=y(this._r,this._g,this._b);return{h:360*B.h,s:B.s,l:B.l,a:this._a}},toHslString:function(){var B=y(this._r,this._g,this._b),H=d(360*B.h),$=d(100*B.s),Z=d(100*B.l);return this._a==1?"hsl("+H+", "+$+"%, "+Z+"%)":"hsla("+H+", "+$+"%, "+Z+"%, "+this._roundA+")"},toHex:function(B){return b(this._r,this._g,this._b,B)},toHexString:function(B){return"#"+this.toHex(B)},toHex8:function(B){return function(H,$,Z,Q,ot){var st=[ct(d(H).toString(16)),ct(d($).toString(16)),ct(d(Z).toString(16)),ct(W(Q))];return ot&&st[0].charAt(0)==st[0].charAt(1)&&st[1].charAt(0)==st[1].charAt(1)&&st[2].charAt(0)==st[2].charAt(1)&&st[3].charAt(0)==st[3].charAt(1)?st[0].charAt(0)+st[1].charAt(0)+st[2].charAt(0)+st[3].charAt(0):st.join("")}(this._r,this._g,this._b,this._a,B)},toHex8String:function(B){return"#"+this.toHex8(B)},toRgb:function(){return{r:d(this._r),g:d(this._g),b:d(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+d(this._r)+", "+d(this._g)+", "+d(this._b)+")":"rgba("+d(this._r)+", "+d(this._g)+", "+d(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:d(100*U(this._r,255))+"%",g:d(100*U(this._g,255))+"%",b:d(100*U(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+d(100*U(this._r,255))+"%, "+d(100*U(this._g,255))+"%, "+d(100*U(this._b,255))+"%)":"rgba("+d(100*U(this._r,255))+"%, "+d(100*U(this._g,255))+"%, "+d(100*U(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(q[b(this._r,this._g,this._b,!0)]||!1)},toFilter:function(B){var H="#"+w(this._r,this._g,this._b,this._a),$=H,Z=this._gradientType?"GradientType = 1, ":"";if(B){var Q=v(B);$="#"+w(Q._r,Q._g,Q._b,Q._a)}return"progid:DXImageTransform.Microsoft.gradient("+Z+"startColorstr="+H+",endColorstr="+$+")"},toString:function(B){var H=!!B;B=B||this._format;var $=!1,Z=this._a<1&&this._a>=0;return H||!Z||B!=="hex"&&B!=="hex6"&&B!=="hex3"&&B!=="hex4"&&B!=="hex8"&&B!=="name"?(B==="rgb"&&($=this.toRgbString()),B==="prgb"&&($=this.toPercentageRgbString()),B!=="hex"&&B!=="hex6"||($=this.toHexString()),B==="hex3"&&($=this.toHexString(!0)),B==="hex4"&&($=this.toHex8String(!0)),B==="hex8"&&($=this.toHex8String()),B==="name"&&($=this.toName()),B==="hsl"&&($=this.toHslString()),B==="hsv"&&($=this.toHsvString()),$||this.toHexString()):B==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return v(this.toString())},_applyModification:function(B,H){var $=B.apply(null,[this].concat([].slice.call(H)));return this._r=$._r,this._g=$._g,this._b=$._b,this.setAlpha($._a),this},lighten:function(){return this._applyModification(E,arguments)},brighten:function(){return this._applyModification(A,arguments)},darken:function(){return this._applyModification(O,arguments)},desaturate:function(){return this._applyModification(T,arguments)},saturate:function(){return this._applyModification(M,arguments)},greyscale:function(){return this._applyModification(S,arguments)},spin:function(){return this._applyModification(N,arguments)},_applyCombination:function(B,H){return B.apply(null,[this].concat([].slice.call(H)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(F,arguments)},monochromatic:function(){return this._applyCombination(j,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(P,arguments)},tetrad:function(){return this._applyCombination(R,arguments)}},v.fromRatio=function(B,H){if(typeof B=="object"){var $={};for(var Z in B)B.hasOwnProperty(Z)&&($[Z]=Z==="a"?B[Z]:z(B[Z]));B=$}return v(B,H)},v.equals=function(B,H){return!(!B||!H)&&v(B).toRgbString()==v(H).toRgbString()},v.random=function(){return v.fromRatio({r:m(),g:m(),b:m()})},v.mix=function(B,H,$){$=$===0?0:$||50;var Z=v(B).toRgb(),Q=v(H).toRgb(),ot=$/100;return v({r:(Q.r-Z.r)*ot+Z.r,g:(Q.g-Z.g)*ot+Z.g,b:(Q.b-Z.b)*ot+Z.b,a:(Q.a-Z.a)*ot+Z.a})},v.readability=function(B,H){var $=v(B),Z=v(H);return(c.max($.getLuminance(),Z.getLuminance())+.05)/(c.min($.getLuminance(),Z.getLuminance())+.05)},v.isReadable=function(B,H,$){var Z,Q,ot,st,dt,bt=v.readability(B,H);switch(Q=!1,(ot=$,(st=((ot=ot||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&st!=="AAA"&&(st="AA"),(dt=(ot.size||"small").toLowerCase())!=="small"&&dt!=="large"&&(dt="small"),Z={level:st,size:dt}).level+Z.size){case"AAsmall":case"AAAlarge":Q=bt>=4.5;break;case"AAlarge":Q=bt>=3;break;case"AAAsmall":Q=bt>=7}return Q},v.mostReadable=function(B,H,$){var Z,Q,ot,st,dt=null,bt=0;Q=($=$||{}).includeFallbackColors,ot=$.level,st=$.size;for(var Pt=0;Pt<H.length;Pt++)(Z=v.readability(B,H[Pt]))>bt&&(bt=Z,dt=v(H[Pt]));return v.isReadable(B,dt,{level:ot,size:st})||!Q?dt:($.includeFallbackColors=!1,v.mostReadable(B,["#fff","#000"],$))};var G=v.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},q=v.hexNames=function(B){var H={};for(var $ in B)B.hasOwnProperty($)&&(H[B[$]]=$);return H}(G);function et(B){return B=parseFloat(B),(isNaN(B)||B<0||B>1)&&(B=1),B}function U(B,H){(function(Z){return typeof Z=="string"&&Z.indexOf(".")!=-1&&parseFloat(Z)===1})(B)&&(B="100%");var $=function(Z){return typeof Z=="string"&&Z.indexOf("%")!=-1}(B);return B=p(H,g(0,parseFloat(B))),$&&(B=parseInt(B*H,10)/100),c.abs(B-H)<1e-6?1:B%H/parseFloat(H)}function J(B){return p(1,g(0,B))}function nt(B){return parseInt(B,16)}function ct(B){return B.length==1?"0"+B:""+B}function z(B){return B<=1&&(B=100*B+"%"),B}function W(B){return c.round(255*parseFloat(B)).toString(16)}function X(B){return nt(B)/255}var it,lt,pt,rt=(lt="[\\s|\\(]+("+(it="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+it+")[,|\\s]+("+it+")\\s*\\)?",pt="[\\s|\\(]+("+it+")[,|\\s]+("+it+")[,|\\s]+("+it+")[,|\\s]+("+it+")\\s*\\)?",{CSS_UNIT:new RegExp(it),rgb:new RegExp("rgb"+lt),rgba:new RegExp("rgba"+pt),hsl:new RegExp("hsl"+lt),hsla:new RegExp("hsla"+pt),hsv:new RegExp("hsv"+lt),hsva:new RegExp("hsva"+pt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function V(B){return!!rt.CSS_UNIT.exec(B)}a.exports?a.exports=v:(l=function(){return v}.call(s,o,s,a))===void 0||(a.exports=l)})(Math)},3961:function(a,s,o){var l=o(3489),c=o(6131),u=l.instance();function f(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}f.prototype=new l.baseCalendar,c(f.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(y,_){if(typeof y=="string"){var b=y.match(d);return b?b[0]:""}var w=this._validateYear(y),T=y.month(),M=""+this.toChineseMonth(w,T);return _&&M.length<2&&(M="0"+M),this.isIntercalaryMonth(w,T)&&(M+="i"),M},monthNames:function(y){if(typeof y=="string"){var _=y.match(p);return _?_[0]:""}var b=this._validateYear(y),w=y.month(),T=["","","","","","","","","","","",""][this.toChineseMonth(b,w)-1];return this.isIntercalaryMonth(b,w)&&(T=""+T),T},monthNamesShort:function(y){if(typeof y=="string"){var _=y.match(g);return _?_[0]:""}var b=this._validateYear(y),w=y.month(),T=["","","","","","","","","","","",""][this.toChineseMonth(b,w)-1];return this.isIntercalaryMonth(b,w)&&(T=""+T),T},parseMonth:function(y,_){y=this._validateYear(y);var b,w=parseInt(_);if(isNaN(w))_[0]===""&&(b=!0,_=_.substring(1)),_[_.length-1]===""&&(_=_.substring(0,_.length-1)),w=1+["","","","","","","","","","","",""].indexOf(_);else{var T=_[_.length-1];b=T==="i"||T==="I"}return this.toMonthIndex(y,w,b)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(y,_){if(y.year&&(y=y.year()),typeof y!="number"||y<1888||y>2111)throw _.replace(/\{0\}/,this.local.name);return y},toMonthIndex:function(y,_,b){var w=this.intercalaryMonth(y);if(b&&_!==w||_<1||_>12)throw l.local.invalidMonth.replace(/\{0\}/,this.local.name);return w?!b&&_<=w?_-1:_:_-1},toChineseMonth:function(y,_){y.year&&(_=(y=y.year()).month());var b=this.intercalaryMonth(y);if(_<0||_>(b?12:11))throw l.local.invalidMonth.replace(/\{0\}/,this.local.name);return b?_<b?_+1:_:_+1},intercalaryMonth:function(y){return y=this._validateYear(y),m[y-m[0]]>>13},isIntercalaryMonth:function(y,_){y.year&&(_=(y=y.year()).month());var b=this.intercalaryMonth(y);return!!b&&b===_},leapYear:function(y){return this.intercalaryMonth(y)!==0},weekOfYear:function(y,_,b){var w,T=this._validateYear(y,l.local.invalidyear),M=v[T-v[0]],S=M>>9&4095,E=M>>5&15,A=31&M;(w=u.newDate(S,E,A)).add(4-(w.dayOfWeek()||7),"d");var O=this.toJD(y,_,b)-w.toJD();return 1+Math.floor(O/7)},monthsInYear:function(y){return this.leapYear(y)?13:12},daysInMonth:function(y,_){y.year&&(_=y.month(),y=y.year()),y=this._validateYear(y);var b=m[y-m[0]];if(_>(b>>13?12:11))throw l.local.invalidMonth.replace(/\{0\}/,this.local.name);return b&1<<12-_?30:29},weekDay:function(y,_,b){return(this.dayOfWeek(y,_,b)||7)<6},toJD:function(y,_,b){var w=this._validate(y,M,b,l.local.invalidDate);y=this._validateYear(w.year()),_=w.month(),b=w.day();var T=this.isIntercalaryMonth(y,_),M=this.toChineseMonth(y,_),S=function(E,A,O,N,F){var P,R,k;if(typeof E=="object")R=E,P=A||{};else{var I;if(!(typeof E=="number"&&E>=1888&&E<=2111))throw new Error("Lunar year outside range 1888-2111");if(!(typeof A=="number"&&A>=1&&A<=12))throw new Error("Lunar month outside range 1 - 12");if(!(typeof O=="number"&&O>=1&&O<=30))throw new Error("Lunar day outside range 1 - 30");typeof N=="object"?(I=!1,P=N):(I=!!N,P={}),R={year:E,month:A,day:O,isIntercalary:I}}k=R.day-1;var j,G=m[R.year-m[0]],q=G>>13;j=q&&(R.month>q||R.isIntercalary)?R.month:R.month-1;for(var et=0;et<j;et++)k+=G&1<<12-et?30:29;var U=v[R.year-v[0]],J=new Date(U>>9&4095,(U>>5&15)-1,(31&U)+k);return P.year=J.getFullYear(),P.month=1+J.getMonth(),P.day=J.getDate(),P}(y,M,b,T);return u.toJD(S.year,S.month,S.day)},fromJD:function(y){var _=u.fromJD(y),b=function(T,M,S,E){var A,O;if(typeof T=="object")A=T,O=M||{};else{if(!(typeof T=="number"&&T>=1888&&T<=2111))throw new Error("Solar year outside range 1888-2111");if(!(typeof M=="number"&&M>=1&&M<=12))throw new Error("Solar month outside range 1 - 12");if(!(typeof S=="number"&&S>=1&&S<=31))throw new Error("Solar day outside range 1 - 31");A={year:T,month:M,day:S},O={}}var N=v[A.year-v[0]],F=A.year<<9|A.month<<5|A.day;O.year=F>=N?A.year:A.year-1,N=v[O.year-v[0]];var P,R=new Date(N>>9&4095,(N>>5&15)-1,31&N),k=new Date(A.year,A.month-1,A.day);P=Math.round((k-R)/864e5);var I,j=m[O.year-m[0]];for(I=0;I<13;I++){var G=j&1<<12-I?30:29;if(P<G)break;P-=G}var q=j>>13;return!q||I<q?(O.isIntercalary=!1,O.month=1+I):I===q?(O.isIntercalary=!0,O.month=I):(O.isIntercalary=!1,O.month=I),O.day=1+P,O}(_.year(),_.month(),_.day()),w=this.toMonthIndex(b.year,b.month,b.isIntercalary);return this.newDate(b.year,w,b.day)},fromString:function(y){var _=y.match(h),b=this._validateYear(+_[1]),w=+_[2],T=!!_[3],M=this.toMonthIndex(b,w,T),S=+_[4];return this.newDate(b,M,S)},add:function(y,_,b){var w=y.year(),T=y.month(),M=this.isIntercalaryMonth(w,T),S=this.toChineseMonth(w,T),E=Object.getPrototypeOf(f.prototype).add.call(this,y,_,b);if(b==="y"){var A=E.year(),O=E.month(),N=this.isIntercalaryMonth(A,S),F=M&&N?this.toMonthIndex(A,S,!0):this.toMonthIndex(A,S,!1);F!==O&&E.month(F)}return E}});var h=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,d=/^\d?\d[iI]?/m,p=/^??[]?/m,g=/^??[]?/m;l.calendars.chinese=f;var m=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],v=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},8751:function(a,s,o){var l=o(3489),c=o(6131);function u(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}u.prototype=new l.baseCalendar,c(u.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(f){var h=this._validate(f,this.minMonth,this.minDay,l.local.invalidYear);return(f=h.year()+(h.year()<0?1:0))%4==3||f%4==-1},monthsInYear:function(f){return this._validate(f,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear),13},weekOfYear:function(f,h,d){var p=this.newDate(f,h,d);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(f,h){var d=this._validate(f,h,this.minDay,l.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===13&&this.leapYear(d.year())?1:0)},weekDay:function(f,h,d){return(this.dayOfWeek(f,h,d)||7)<6},toJD:function(f,h,d){var p=this._validate(f,h,d,l.local.invalidDate);return(f=p.year())<0&&f++,p.day()+30*(p.month()-1)+365*(f-1)+Math.floor(f/4)+this.jdEpoch-1},fromJD:function(f){var h=Math.floor(f)+.5-this.jdEpoch,d=Math.floor((h-Math.floor((h+366)/1461))/365)+1;d<=0&&d--,h=Math.floor(f)+.5-this.newDate(d,1,1).toJD();var p=Math.floor(h/30)+1,g=h-30*(p-1)+1;return this.newDate(d,p,g)}}),l.calendars.coptic=u},6825:function(a,s,o){var l=o(3489),c=o(6131);function u(h){this.local=this.regionalOptions[h||""]||this.regionalOptions[""]}u.prototype=new l.baseCalendar,c(u.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(h){return this._validate(h,this.minMonth,this.minDay,l.local.invalidYear),!1},monthsInYear:function(h){return this._validate(h,this.minMonth,this.minDay,l.local.invalidYear),13},daysInYear:function(h){return this._validate(h,this.minMonth,this.minDay,l.local.invalidYear),400},weekOfYear:function(h,d,p){var g=this.newDate(h,d,p);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/8)+1},daysInMonth:function(h,d){var p=this._validate(h,d,this.minDay,l.local.invalidMonth);return this.daysPerMonth[p.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(h,d,p){return(this._validate(h,d,p,l.local.invalidDate).day()+1)%8},weekDay:function(h,d,p){var g=this.dayOfWeek(h,d,p);return g>=2&&g<=6},extraInfo:function(h,d,p){var g=this._validate(h,d,p,l.local.invalidDate);return{century:f[Math.floor((g.year()-1)/100)+1]||""}},toJD:function(h,d,p){var g=this._validate(h,d,p,l.local.invalidDate);return h=g.year()+(g.year()<0?1:0),d=g.month(),(p=g.day())+(d>1?16:0)+(d>2?32*(d-2):0)+400*(h-1)+this.jdEpoch-1},fromJD:function(h){h=Math.floor(h+.5)-Math.floor(this.jdEpoch)-1;var d=Math.floor(h/400)+1;h-=400*(d-1),h+=h>15?16:0;var p=Math.floor(h/32)+1,g=h-32*(p-1)+1;return this.newDate(d<=0?d-1:d,p,g)}});var f={20:"Fruitbat",21:"Anchovy"};l.calendars.discworld=u},7715:function(a,s,o){var l=o(3489),c=o(6131);function u(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}u.prototype=new l.baseCalendar,c(u.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(f){var h=this._validate(f,this.minMonth,this.minDay,l.local.invalidYear);return(f=h.year()+(h.year()<0?1:0))%4==3||f%4==-1},monthsInYear:function(f){return this._validate(f,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear),13},weekOfYear:function(f,h,d){var p=this.newDate(f,h,d);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(f,h){var d=this._validate(f,h,this.minDay,l.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===13&&this.leapYear(d.year())?1:0)},weekDay:function(f,h,d){return(this.dayOfWeek(f,h,d)||7)<6},toJD:function(f,h,d){var p=this._validate(f,h,d,l.local.invalidDate);return(f=p.year())<0&&f++,p.day()+30*(p.month()-1)+365*(f-1)+Math.floor(f/4)+this.jdEpoch-1},fromJD:function(f){var h=Math.floor(f)+.5-this.jdEpoch,d=Math.floor((h-Math.floor((h+366)/1461))/365)+1;d<=0&&d--,h=Math.floor(f)+.5-this.newDate(d,1,1).toJD();var p=Math.floor(h/30)+1,g=h-30*(p-1)+1;return this.newDate(d,p,g)}}),l.calendars.ethiopian=u},9384:function(a,s,o){var l=o(3489),c=o(6131);function u(h){this.local=this.regionalOptions[h||""]||this.regionalOptions[""]}function f(h,d){return h-d*Math.floor(h/d)}u.prototype=new l.baseCalendar,c(u.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var d=this._validate(h,this.minMonth,this.minDay,l.local.invalidYear);return this._leapYear(d.year())},_leapYear:function(h){return f(7*(h=h<0?h+1:h)+1,19)<7},monthsInYear:function(h){return this._validate(h,this.minMonth,this.minDay,l.local.invalidYear),this._leapYear(h.year?h.year():h)?13:12},weekOfYear:function(h,d,p){var g=this.newDate(h,d,p);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInYear:function(h){return h=this._validate(h,this.minMonth,this.minDay,l.local.invalidYear).year(),this.toJD(h===-1?1:h+1,7,1)-this.toJD(h,7,1)},daysInMonth:function(h,d){return h.year&&(d=h.month(),h=h.year()),this._validate(h,d,this.minDay,l.local.invalidMonth),d===12&&this.leapYear(h)||d===8&&f(this.daysInYear(h),10)===5?30:d===9&&f(this.daysInYear(h),10)===3?29:this.daysPerMonth[d-1]},weekDay:function(h,d,p){return this.dayOfWeek(h,d,p)!==6},extraInfo:function(h,d,p){var g=this._validate(h,d,p,l.local.invalidDate);return{yearType:(this.leapYear(g)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(g)%10-3]}},toJD:function(h,d,p){var g=this._validate(h,d,p,l.local.invalidDate);h=g.year(),d=g.month(),p=g.day();var m=h<=0?h+1:h,v=this.jdEpoch+this._delay1(m)+this._delay2(m)+p+1;if(d<7){for(var y=7;y<=this.monthsInYear(h);y++)v+=this.daysInMonth(h,y);for(y=1;y<d;y++)v+=this.daysInMonth(h,y)}else for(y=7;y<d;y++)v+=this.daysInMonth(h,y);return v},_delay1:function(h){var d=Math.floor((235*h-234)/19),p=12084+13753*d,g=29*d+Math.floor(p/25920);return f(3*(g+1),7)<3&&g++,g},_delay2:function(h){var d=this._delay1(h-1),p=this._delay1(h);return this._delay1(h+1)-p==356?2:p-d==382?1:0},fromJD:function(h){h=Math.floor(h)+.5;for(var d=Math.floor(98496*(h-this.jdEpoch)/35975351)-1;h>=this.toJD(d===-1?1:d+1,7,1);)d++;for(var p=h<this.toJD(d,1,1)?7:1;h>this.toJD(d,p,this.daysInMonth(d,p));)p++;var g=h-this.toJD(d,p,1)+1;return this.newDate(d,p,g)}}),l.calendars.hebrew=u},3805:function(a,s,o){var l=o(3489),c=o(6131);function u(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}u.prototype=new l.baseCalendar,c(u.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(f){return(11*this._validate(f,this.minMonth,this.minDay,l.local.invalidYear).year()+14)%30<11},weekOfYear:function(f,h,d){var p=this.newDate(f,h,d);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(f){return this.leapYear(f)?355:354},daysInMonth:function(f,h){var d=this._validate(f,h,this.minDay,l.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===12&&this.leapYear(d.year())?1:0)},weekDay:function(f,h,d){return this.dayOfWeek(f,h,d)!==5},toJD:function(f,h,d){var p=this._validate(f,h,d,l.local.invalidDate);return f=p.year(),h=p.month(),f=f<=0?f+1:f,(d=p.day())+Math.ceil(29.5*(h-1))+354*(f-1)+Math.floor((3+11*f)/30)+this.jdEpoch-1},fromJD:function(f){f=Math.floor(f)+.5;var h=Math.floor((30*(f-this.jdEpoch)+10646)/10631);h=h<=0?h-1:h;var d=Math.min(12,Math.ceil((f-29-this.toJD(h,1,1))/29.5)+1),p=f-this.toJD(h,d,1)+1;return this.newDate(h,d,p)}}),l.calendars.islamic=u},8874:function(a,s,o){var l=o(3489),c=o(6131);function u(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}u.prototype=new l.baseCalendar,c(u.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(f){var h=this._validate(f,this.minMonth,this.minDay,l.local.invalidYear);return(f=h.year()<0?h.year()+1:h.year())%4==0},weekOfYear:function(f,h,d){var p=this.newDate(f,h,d);return p.add(4-(p.dayOfWeek()||7),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(f,h){var d=this._validate(f,h,this.minDay,l.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===2&&this.leapYear(d.year())?1:0)},weekDay:function(f,h,d){return(this.dayOfWeek(f,h,d)||7)<6},toJD:function(f,h,d){var p=this._validate(f,h,d,l.local.invalidDate);return f=p.year(),h=p.month(),d=p.day(),f<0&&f++,h<=2&&(f--,h+=12),Math.floor(365.25*(f+4716))+Math.floor(30.6001*(h+1))+d-1524.5},fromJD:function(f){var h=Math.floor(f+.5)+1524,d=Math.floor((h-122.1)/365.25),p=Math.floor(365.25*d),g=Math.floor((h-p)/30.6001),m=g-Math.floor(g<14?1:13),v=d-Math.floor(m>2?4716:4715),y=h-p-Math.floor(30.6001*g);return v<=0&&v--,this.newDate(v,m,y)}}),l.calendars.julian=u},3290:function(a,s,o){var l=o(3489),c=o(6131);function u(d){this.local=this.regionalOptions[d||""]||this.regionalOptions[""]}function f(d,p){return d-p*Math.floor(d/p)}function h(d,p){return f(d-1,p)+1}u.prototype=new l.baseCalendar,c(u.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(d){return this._validate(d,this.minMonth,this.minDay,l.local.invalidYear),!1},formatYear:function(d){d=this._validate(d,this.minMonth,this.minDay,l.local.invalidYear).year();var p=Math.floor(d/400);return d%=400,d+=d<0?400:0,p+"."+Math.floor(d/20)+"."+d%20},forYear:function(d){if((d=d.split(".")).length<3)throw"Invalid Mayan year";for(var p=0,g=0;g<d.length;g++){var m=parseInt(d[g],10);if(Math.abs(m)>19||g>0&&m<0)throw"Invalid Mayan year";p=20*p+m}return p},monthsInYear:function(d){return this._validate(d,this.minMonth,this.minDay,l.local.invalidYear),18},weekOfYear:function(d,p,g){return this._validate(d,p,g,l.local.invalidDate),0},daysInYear:function(d){return this._validate(d,this.minMonth,this.minDay,l.local.invalidYear),360},daysInMonth:function(d,p){return this._validate(d,p,this.minDay,l.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(d,p,g){return this._validate(d,p,g,l.local.invalidDate).day()},weekDay:function(d,p,g){return this._validate(d,p,g,l.local.invalidDate),!0},extraInfo:function(d,p,g){var m=this._validate(d,p,g,l.local.invalidDate).toJD(),v=this._toHaab(m),y=this._toTzolkin(m);return{haabMonthName:this.local.haabMonths[v[0]-1],haabMonth:v[0],haabDay:v[1],tzolkinDayName:this.local.tzolkinMonths[y[0]-1],tzolkinDay:y[0],tzolkinTrecena:y[1]}},_toHaab:function(d){var p=f(8+(d-=this.jdEpoch)+340,365);return[Math.floor(p/20)+1,f(p,20)]},_toTzolkin:function(d){return[h(20+(d-=this.jdEpoch),20),h(d+4,13)]},toJD:function(d,p,g){var m=this._validate(d,p,g,l.local.invalidDate);return m.day()+20*m.month()+360*m.year()+this.jdEpoch},fromJD:function(d){d=Math.floor(d)+.5-this.jdEpoch;var p=Math.floor(d/360);d%=360,d+=d<0?360:0;var g=Math.floor(d/20),m=d%20;return this.newDate(p,g,m)}}),l.calendars.mayan=u},9108:function(a,s,o){var l=o(3489),c=o(6131);function u(h){this.local=this.regionalOptions[h||""]||this.regionalOptions[""]}u.prototype=new l.baseCalendar;var f=l.instance("gregorian");c(u.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var d=this._validate(h,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear);return f.leapYear(d.year()+(d.year()<1?1:0)+1469)},weekOfYear:function(h,d,p){var g=this.newDate(h,d,p);return g.add(1-(g.dayOfWeek()||7),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(h,d){var p=this._validate(h,d,this.minDay,l.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(h,d,p){return(this.dayOfWeek(h,d,p)||7)<6},toJD:function(h,d,p){var g=this._validate(h,d,p,l.local.invalidMonth);(h=g.year())<0&&h++;for(var m=g.day(),v=1;v<g.month();v++)m+=this.daysPerMonth[v-1];return m+f.toJD(h+1468,3,13)},fromJD:function(h){h=Math.floor(h+.5);for(var d=Math.floor((h-(this.jdEpoch-1))/366);h>=this.toJD(d+1,1,1);)d++;for(var p=h-Math.floor(this.toJD(d,1,1)+.5)+1,g=1;p>this.daysInMonth(d,g);)p-=this.daysInMonth(d,g),g++;return this.newDate(d,g,p)}}),l.calendars.nanakshahi=u},5422:function(a,s,o){var l=o(3489),c=o(6131);function u(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}u.prototype=new l.baseCalendar,c(u.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(f){return this.daysInYear(f)!==this.daysPerYear},weekOfYear:function(f,h,d){var p=this.newDate(f,h,d);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(f){if(f=this._validate(f,this.minMonth,this.minDay,l.local.invalidYear).year(),this.NEPALI_CALENDAR_DATA[f]===void 0)return this.daysPerYear;for(var h=0,d=this.minMonth;d<=12;d++)h+=this.NEPALI_CALENDAR_DATA[f][d];return h},daysInMonth:function(f,h){return f.year&&(h=f.month(),f=f.year()),this._validate(f,h,this.minDay,l.local.invalidMonth),this.NEPALI_CALENDAR_DATA[f]===void 0?this.daysPerMonth[h-1]:this.NEPALI_CALENDAR_DATA[f][h]},weekDay:function(f,h,d){return this.dayOfWeek(f,h,d)!==6},toJD:function(f,h,d){var p=this._validate(f,h,d,l.local.invalidDate);f=p.year(),h=p.month(),d=p.day();var g=l.instance(),m=0,v=h,y=f;this._createMissingCalendarData(f);var _=f-(v>9||v===9&&d>=this.NEPALI_CALENDAR_DATA[y][0]?56:57);for(h!==9&&(m=d,v--);v!==9;)v<=0&&(v=12,y--),m+=this.NEPALI_CALENDAR_DATA[y][v],v--;return h===9?(m+=d-this.NEPALI_CALENDAR_DATA[y][0])<0&&(m+=g.daysInYear(_)):m+=this.NEPALI_CALENDAR_DATA[y][9]-this.NEPALI_CALENDAR_DATA[y][0],g.newDate(_,1,1).add(m,"d").toJD()},fromJD:function(f){var h=l.instance().fromJD(f),d=h.year(),p=h.dayOfYear(),g=d+56;this._createMissingCalendarData(g);for(var m=9,v=this.NEPALI_CALENDAR_DATA[g][0],y=this.NEPALI_CALENDAR_DATA[g][m]-v+1;p>y;)++m>12&&(m=1,g++),y+=this.NEPALI_CALENDAR_DATA[g][m];var _=this.NEPALI_CALENDAR_DATA[g][m]-(y-p);return this.newDate(g,m,_)},_createMissingCalendarData:function(f){var h=this.daysPerMonth.slice(0);h.unshift(17);for(var d=f-1;d<f+2;d++)this.NEPALI_CALENDAR_DATA[d]===void 0&&(this.NEPALI_CALENDAR_DATA[d]=h)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),l.calendars.nepali=u},4320:function(a,s,o){var l=o(3489),c=o(6131);function u(h){this.local=this.regionalOptions[h||""]||this.regionalOptions[""]}function f(h,d){return h-d*Math.floor(h/d)}u.prototype=new l.baseCalendar,c(u.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(h){var d=this._validate(h,this.minMonth,this.minDay,l.local.invalidYear);return 682*((d.year()-(d.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(h,d,p){var g=this.newDate(h,d,p);return g.add(-(g.dayOfWeek()+1)%7,"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(h,d){var p=this._validate(h,d,this.minDay,l.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(h,d,p){return this.dayOfWeek(h,d,p)!==5},toJD:function(h,d,p){var g=this._validate(h,d,p,l.local.invalidDate);h=g.year(),d=g.month(),p=g.day();var m=h-(h>=0?474:473),v=474+f(m,2820);return p+(d<=7?31*(d-1):30*(d-1)+6)+Math.floor((682*v-110)/2816)+365*(v-1)+1029983*Math.floor(m/2820)+this.jdEpoch-1},fromJD:function(h){var d=(h=Math.floor(h)+.5)-this.toJD(475,1,1),p=Math.floor(d/1029983),g=f(d,1029983),m=2820;if(g!==1029982){var v=Math.floor(g/366),y=f(g,366);m=Math.floor((2134*v+2816*y+2815)/1028522)+v+1}var _=m+2820*p+474;_=_<=0?_-1:_;var b=h-this.toJD(_,1,1)+1,w=b<=186?Math.ceil(b/31):Math.ceil((b-6)/30),T=h-this.toJD(_,w,1)+1;return this.newDate(_,w,T)}}),l.calendars.persian=u,l.calendars.jalali=u},1320:function(a,s,o){var l=o(3489),c=o(6131),u=l.instance();function f(h){this.local=this.regionalOptions[h||""]||this.regionalOptions[""]}f.prototype=new l.baseCalendar,c(f.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(h){var d=this._validate(h,this.minMonth,this.minDay,l.local.invalidYear);return h=this._t2gYear(d.year()),u.leapYear(h)},weekOfYear:function(h,d,p){var g=this._validate(h,this.minMonth,this.minDay,l.local.invalidYear);return h=this._t2gYear(g.year()),u.weekOfYear(h,g.month(),g.day())},daysInMonth:function(h,d){var p=this._validate(h,d,this.minDay,l.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(h,d,p){return(this.dayOfWeek(h,d,p)||7)<6},toJD:function(h,d,p){var g=this._validate(h,d,p,l.local.invalidDate);return h=this._t2gYear(g.year()),u.toJD(h,g.month(),g.day())},fromJD:function(h){var d=u.fromJD(h),p=this._g2tYear(d.year());return this.newDate(p,d.month(),d.day())},_t2gYear:function(h){return h+this.yearsOffset+(h>=-this.yearsOffset&&h<=-1?1:0)},_g2tYear:function(h){return h-this.yearsOffset-(h>=1&&h<=this.yearsOffset?1:0)}}),l.calendars.taiwan=f},1367:function(a,s,o){var l=o(3489),c=o(6131),u=l.instance();function f(h){this.local=this.regionalOptions[h||""]||this.regionalOptions[""]}f.prototype=new l.baseCalendar,c(f.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var d=this._validate(h,this.minMonth,this.minDay,l.local.invalidYear);return h=this._t2gYear(d.year()),u.leapYear(h)},weekOfYear:function(h,d,p){var g=this._validate(h,this.minMonth,this.minDay,l.local.invalidYear);return h=this._t2gYear(g.year()),u.weekOfYear(h,g.month(),g.day())},daysInMonth:function(h,d){var p=this._validate(h,d,this.minDay,l.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(h,d,p){return(this.dayOfWeek(h,d,p)||7)<6},toJD:function(h,d,p){var g=this._validate(h,d,p,l.local.invalidDate);return h=this._t2gYear(g.year()),u.toJD(h,g.month(),g.day())},fromJD:function(h){var d=u.fromJD(h),p=this._g2tYear(d.year());return this.newDate(p,d.month(),d.day())},_t2gYear:function(h){return h-this.yearsOffset-(h>=1&&h<=this.yearsOffset?1:0)},_g2tYear:function(h){return h+this.yearsOffset+(h>=-this.yearsOffset&&h<=-1?1:0)}}),l.calendars.thai=f},1457:function(a,s,o){var l=o(3489),c=o(6131);function u(h){this.local=this.regionalOptions[h||""]||this.regionalOptions[""]}u.prototype=new l.baseCalendar,c(u.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(h){var d=this._validate(h,this.minMonth,this.minDay,l.local.invalidYear);return this.daysInYear(d.year())===355},weekOfYear:function(h,d,p){var g=this.newDate(h,d,p);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInYear:function(h){for(var d=0,p=1;p<=12;p++)d+=this.daysInMonth(h,p);return d},daysInMonth:function(h,d){for(var p=this._validate(h,d,this.minDay,l.local.invalidMonth).toJD()-24e5+.5,g=0,m=0;m<f.length;m++){if(f[m]>p)return f[g]-f[g-1];g++}return 30},weekDay:function(h,d,p){return this.dayOfWeek(h,d,p)!==5},toJD:function(h,d,p){var g=this._validate(h,d,p,l.local.invalidDate),m=12*(g.year()-1)+g.month()-15292;return g.day()+f[m-1]-1+24e5-.5},fromJD:function(h){for(var d=h-24e5+.5,p=0,g=0;g<f.length&&!(f[g]>d);g++)p++;var m=p+15292,v=Math.floor((m-1)/12),y=v+1,_=m-12*v,b=d-f[p-1]+1;return this.newDate(y,_,b)},isValid:function(h,d,p){var g=l.baseCalendar.prototype.isValid.apply(this,arguments);return g&&(g=(h=h.year!=null?h.year:h)>=1276&&h<=1500),g},_validate:function(h,d,p,g){var m=l.baseCalendar.prototype._validate.apply(this,arguments);if(m.year<1276||m.year>1500)throw g.replace(/\{0\}/,this.local.name);return m}}),l.calendars.ummalqura=u;var f=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},3489:function(a,s,o){var l=o(6131);function c(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function u(g,m,v,y){if(this._calendar=g,this._year=m,this._month=v,this._day=y,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function f(g,m){return"000000".substring(0,m-(g=""+g).length)+g}function h(){this.shortYearCutoff="+10"}function d(g){this.local=this.regionalOptions[g]||this.regionalOptions[""]}l(c.prototype,{instance:function(g,m){g=(g||"gregorian").toLowerCase(),m=m||"";var v=this._localCals[g+"-"+m];if(!v&&this.calendars[g]&&(v=new this.calendars[g](m),this._localCals[g+"-"+m]=v),!v)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,g);return v},newDate:function(g,m,v,y,_){return(y=(g!=null&&g.year?g.calendar():typeof y=="string"?this.instance(y,_):y)||this.instance()).newDate(g,m,v)},substituteDigits:function(g){return function(m){return(m+"").replace(/[0-9]/g,function(v){return g[v]})}},substituteChineseDigits:function(g,m){return function(v){for(var y="",_=0;v>0;){var b=v%10;y=(b===0?"":g[b]+m[_])+y,_++,v=Math.floor(v/10)}return y.indexOf(g[1]+m[1])===0&&(y=y.substr(1)),y||g[0]}}}),l(u.prototype,{newDate:function(g,m,v){return this._calendar.newDate(g??this,m,v)},year:function(g){return arguments.length===0?this._year:this.set(g,"y")},month:function(g){return arguments.length===0?this._month:this.set(g,"m")},day:function(g){return arguments.length===0?this._day:this.set(g,"d")},date:function(g,m,v){if(!this._calendar.isValid(g,m,v))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=g,this._month=m,this._day=v,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(g,m){return this._calendar.add(this,g,m)},set:function(g,m){return this._calendar.set(this,g,m)},compareTo:function(g){if(this._calendar.name!==g._calendar.name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,g._calendar.local.name);var m=this._year!==g._year?this._year-g._year:this._month!==g._month?this.monthOfYear()-g.monthOfYear():this._day-g._day;return m===0?0:m<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(g){return this._calendar.fromJD(g)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(g){return this._calendar.fromJSDate(g)},toString:function(){return(this.year()<0?"-":"")+f(Math.abs(this.year()),4)+"-"+f(this.month(),2)+"-"+f(this.day(),2)}}),l(h.prototype,{_validateLevel:0,newDate:function(g,m,v){return g==null?this.today():(g.year&&(this._validate(g,m,v,p.local.invalidDate||p.regionalOptions[""].invalidDate),v=g.day(),m=g.month(),g=g.year()),new u(this,g,m,v))},today:function(){return this.fromJSDate(new Date)},epoch:function(g){return this._validate(g,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(g){var m=this._validate(g,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return(m.year()<0?"-":"")+f(Math.abs(m.year()),4)},monthsInYear:function(g){return this._validate(g,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),12},monthOfYear:function(g,m){var v=this._validate(g,m,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return(v.month()+this.monthsInYear(v)-this.firstMonth)%this.monthsInYear(v)+this.minMonth},fromMonthOfYear:function(g,m){var v=(m+this.firstMonth-2*this.minMonth)%this.monthsInYear(g)+this.minMonth;return this._validate(g,v,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth),v},daysInYear:function(g){var m=this._validate(g,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return this.leapYear(m)?366:365},dayOfYear:function(g,m,v){var y=this._validate(g,m,v,p.local.invalidDate||p.regionalOptions[""].invalidDate);return y.toJD()-this.newDate(y.year(),this.fromMonthOfYear(y.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(g,m,v){var y=this._validate(g,m,v,p.local.invalidDate||p.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(y))+2)%this.daysInWeek()},extraInfo:function(g,m,v){return this._validate(g,m,v,p.local.invalidDate||p.regionalOptions[""].invalidDate),{}},add:function(g,m,v){return this._validate(g,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate),this._correctAdd(g,this._add(g,m,v),m,v)},_add:function(g,m,v){if(this._validateLevel++,v==="d"||v==="w"){var y=g.toJD()+m*(v==="w"?this.daysInWeek():1),_=g.calendar().fromJD(y);return this._validateLevel--,[_.year(),_.month(),_.day()]}try{var b=g.year()+(v==="y"?m:0),w=g.monthOfYear()+(v==="m"?m:0);_=g.day(),v==="y"?(g.month()!==this.fromMonthOfYear(b,w)&&(w=this.newDate(b,g.month(),this.minDay).monthOfYear()),w=Math.min(w,this.monthsInYear(b)),_=Math.min(_,this.daysInMonth(b,this.fromMonthOfYear(b,w)))):v==="m"&&(function(M){for(;w<M.minMonth;)b--,w+=M.monthsInYear(b);for(var S=M.monthsInYear(b);w>S-1+M.minMonth;)b++,w-=S,S=M.monthsInYear(b)}(this),_=Math.min(_,this.daysInMonth(b,this.fromMonthOfYear(b,w))));var T=[b,this.fromMonthOfYear(b,w),_];return this._validateLevel--,T}catch(M){throw this._validateLevel--,M}},_correctAdd:function(g,m,v,y){if(!(this.hasYearZero||y!=="y"&&y!=="m"||m[0]!==0&&g.year()>0==m[0]>0)){var _={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[y],b=v<0?-1:1;m=this._add(g,v*_[0]+b*_[1],_[2])}return g.date(m[0],m[1],m[2])},set:function(g,m,v){this._validate(g,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate);var y=v==="y"?m:g.year(),_=v==="m"?m:g.month(),b=v==="d"?m:g.day();return v!=="y"&&v!=="m"||(b=Math.min(b,this.daysInMonth(y,_))),g.date(y,_,b)},isValid:function(g,m,v){this._validateLevel++;var y=this.hasYearZero||g!==0;if(y){var _=this.newDate(g,m,this.minDay);y=m>=this.minMonth&&m-this.minMonth<this.monthsInYear(_)&&v>=this.minDay&&v-this.minDay<this.daysInMonth(_)}return this._validateLevel--,y},toJSDate:function(g,m,v){var y=this._validate(g,m,v,p.local.invalidDate||p.regionalOptions[""].invalidDate);return p.instance().fromJD(this.toJD(y)).toJSDate()},fromJSDate:function(g){return this.fromJD(p.instance().fromJSDate(g).toJD())},_validate:function(g,m,v,y){if(g.year){if(this._validateLevel===0&&this.name!==g.calendar().name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,g.calendar().local.name);return g}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(g,m,v))throw y.replace(/\{0\}/,this.local.name);var _=this.newDate(g,m,v);return this._validateLevel--,_}catch(b){throw this._validateLevel--,b}}}),d.prototype=new h,l(d.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(g){var m=this._validate(g,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return(g=m.year()+(m.year()<0?1:0))%4==0&&(g%100!=0||g%400==0)},weekOfYear:function(g,m,v){var y=this.newDate(g,m,v);return y.add(4-(y.dayOfWeek()||7),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInMonth:function(g,m){var v=this._validate(g,m,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(g,m,v){return(this.dayOfWeek(g,m,v)||7)<6},toJD:function(g,m,v){var y=this._validate(g,m,v,p.local.invalidDate||p.regionalOptions[""].invalidDate);g=y.year(),m=y.month(),v=y.day(),g<0&&g++,m<3&&(m+=12,g--);var _=Math.floor(g/100),b=2-_+Math.floor(_/4);return Math.floor(365.25*(g+4716))+Math.floor(30.6001*(m+1))+v+b-1524.5},fromJD:function(g){var m=Math.floor(g+.5),v=Math.floor((m-186721625e-2)/36524.25),y=1524+(v=m+1+v-Math.floor(v/4)),_=Math.floor((y-122.1)/365.25),b=Math.floor(365.25*_),w=Math.floor((y-b)/30.6001),T=y-b-Math.floor(30.6001*w),M=w-(w>13.5?13:1),S=_-(M>2.5?4716:4715);return S<=0&&S--,this.newDate(S,M,T)},toJSDate:function(g,m,v){var y=this._validate(g,m,v,p.local.invalidDate||p.regionalOptions[""].invalidDate),_=new Date(y.year(),y.month()-1,y.day());return _.setHours(0),_.setMinutes(0),_.setSeconds(0),_.setMilliseconds(0),_.setHours(_.getHours()>12?_.getHours()+2:0),_},fromJSDate:function(g){return this.newDate(g.getFullYear(),g.getMonth()+1,g.getDate())}});var p=a.exports=new c;p.cdate=u,p.baseCalendar=h,p.calendars.gregorian=d},4338:function(a,s,o){var l=o(6131),c=o(3489);l(c.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),c.local=c.regionalOptions[""],l(c.cdate.prototype,{formatDate:function(u,f){return typeof u!="string"&&(f=u,u=""),this._calendar.formatDate(u||"",this,f)}}),l(c.baseCalendar.prototype,{UNIX_EPOCH:c.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:c.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(u,f,h){if(typeof u!="string"&&(h=f,f=u,u=""),!f)return"";if(f.calendar()!==this)throw c.local.invalidFormat||c.regionalOptions[""].invalidFormat;u=u||this.local.dateFormat;for(var d,p,g,m=(h=h||{}).dayNamesShort||this.local.dayNamesShort,v=h.dayNames||this.local.dayNames,y=h.monthNumbers||this.local.monthNumbers,_=h.monthNamesShort||this.local.monthNamesShort,b=h.monthNames||this.local.monthNames,w=(h.calculateWeek||this.local.calculateWeek,function(R,k){for(var I=1;P+I<u.length&&u.charAt(P+I)===R;)I++;return P+=I-1,Math.floor(I/(k||1))>1}),T=function(R,k,I,j){var G=""+k;if(w(R,j))for(;G.length<I;)G="0"+G;return G},M=this,S=function(R){return typeof y=="function"?y.call(M,R,w("m")):O(T("m",R.month(),2))},E=function(R,k){return k?typeof b=="function"?b.call(M,R):b[R.month()-M.minMonth]:typeof _=="function"?_.call(M,R):_[R.month()-M.minMonth]},A=this.local.digits,O=function(R){return h.localNumbers&&A?A(R):R},N="",F=!1,P=0;P<u.length;P++)if(F)u.charAt(P)!=="'"||w("'")?N+=u.charAt(P):F=!1;else switch(u.charAt(P)){case"d":N+=O(T("d",f.day(),2));break;case"D":N+=(d=f.dayOfWeek(),p=m,g=v,w("D")?g[d]:p[d]);break;case"o":N+=T("o",f.dayOfYear(),3);break;case"w":N+=T("w",f.weekOfYear(),2);break;case"m":N+=S(f);break;case"M":N+=E(f,w("M"));break;case"y":N+=w("y",2)?f.year():(f.year()%100<10?"0":"")+f.year()%100;break;case"Y":w("Y",2),N+=f.formatYear();break;case"J":N+=f.toJD();break;case"@":N+=(f.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":N+=(f.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":w("'")?N+="'":F=!0;break;default:N+=u.charAt(P)}return N},parseDate:function(u,f,h){if(f==null)throw c.local.invalidArguments||c.regionalOptions[""].invalidArguments;if((f=typeof f=="object"?f.toString():f+"")==="")return null;u=u||this.local.dateFormat;var d=(h=h||{}).shortYearCutoff||this.shortYearCutoff;d=typeof d!="string"?d:this.today().year()%100+parseInt(d,10);for(var p=h.dayNamesShort||this.local.dayNamesShort,g=h.dayNames||this.local.dayNames,m=h.parseMonth||this.local.parseMonth,v=h.monthNumbers||this.local.monthNumbers,y=h.monthNamesShort||this.local.monthNamesShort,_=h.monthNames||this.local.monthNames,b=-1,w=-1,T=-1,M=-1,S=-1,E=!1,A=!1,O=function(U,J){for(var nt=1;G+nt<u.length&&u.charAt(G+nt)===U;)nt++;return G+=nt-1,Math.floor(nt/(J||1))>1},N=function(U,J){var nt=O(U,J),ct=[2,3,nt?4:2,nt?4:2,10,11,20]["oyYJ@!".indexOf(U)+1],z=new RegExp("^-?\\d{1,"+ct+"}"),W=f.substring(j).match(z);if(!W)throw(c.local.missingNumberAt||c.regionalOptions[""].missingNumberAt).replace(/\{0\}/,j);return j+=W[0].length,parseInt(W[0],10)},F=this,P=function(){if(typeof v=="function"){O("m");var U=v.call(F,f.substring(j));return j+=U.length,U}return N("m")},R=function(U,J,nt,ct){for(var z=O(U,ct)?nt:J,W=0;W<z.length;W++)if(f.substr(j,z[W].length).toLowerCase()===z[W].toLowerCase())return j+=z[W].length,W+F.minMonth;throw(c.local.unknownNameAt||c.regionalOptions[""].unknownNameAt).replace(/\{0\}/,j)},k=function(){if(typeof _=="function"){var U=O("M")?_.call(F,f.substring(j)):y.call(F,f.substring(j));return j+=U.length,U}return R("M",y,_)},I=function(){if(f.charAt(j)!==u.charAt(G))throw(c.local.unexpectedLiteralAt||c.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,j);j++},j=0,G=0;G<u.length;G++)if(A)u.charAt(G)!=="'"||O("'")?I():A=!1;else switch(u.charAt(G)){case"d":M=N("d");break;case"D":R("D",p,g);break;case"o":S=N("o");break;case"w":N("w");break;case"m":T=P();break;case"M":T=k();break;case"y":var q=G;E=!O("y",2),G=q,w=N("y",2);break;case"Y":w=N("Y",2);break;case"J":b=N("J")+.5,f.charAt(j)==="."&&(j++,N("J"));break;case"@":b=N("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":b=N("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":j=f.length;break;case"'":O("'")?I():A=!0;break;default:I()}if(j<f.length)throw c.local.unexpectedText||c.regionalOptions[""].unexpectedText;if(w===-1?w=this.today().year():w<100&&E&&(w+=d===-1?1900:this.today().year()-this.today().year()%100-(w<=d?0:100)),typeof T=="string"&&(T=m.call(this,w,T)),S>-1){T=1,M=S;for(var et=this.daysInMonth(w,T);M>et;et=this.daysInMonth(w,T))T++,M-=et}return b>-1?this.fromJD(b):this.newDate(w,T,M)},determineDate:function(u,f,h,d,p){h&&typeof h!="object"&&(p=d,d=h,h=null),typeof d!="string"&&(p=d,d="");var g=this;return f=f?f.newDate():null,u==null?f:typeof u=="string"?function(m){try{return g.parseDate(d,m,p)}catch{}for(var v=((m=m.toLowerCase()).match(/^c/)&&h?h.newDate():null)||g.today(),y=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,_=y.exec(m);_;)v.add(parseInt(_[1],10),_[2]||"d"),_=y.exec(m);return v}(u):typeof u=="number"?isNaN(u)||u===1/0||u===-1/0?f:g.today().add(u,"d"):g.newDate(u)}})}},r={};function i(a){var s=r[a];if(s!==void 0)return s.exports;var o=r[a]={exports:{}};return n[a].call(o.exports,o,o.exports,i),o.exports}return i.d=function(a,s){for(var o in s)i.o(s,o)&&!i.o(a,o)&&Object.defineProperty(a,o,{enumerable:!0,get:s[o]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i(2576)}()})})(qD);var dpt=qD.exports;const Fpt=Plt(dpt);export{kpt as A,jq as B,Rl as C,gpt as D,vpt as E,CS as F,Ipt as G,mpt as H,ypt as I,FX as J,Apt as M,Ppt as O,KE as P,JT as S,Lpt as T,Ept as V,Opt as W,ppt as a,xpt as b,Rpt as c,Fq as d,MM as e,Di as f,Gq as g,L8 as h,Mpt as i,Npt as j,Bc as k,Dpt as l,_pt as m,EM as n,Yb as o,go as p,Fpt as q,K$ as r,AW as s,Vnt as t,Q$ as u,fN as v,V$ as w,S$ as x,C$ as y,Ng as z};
