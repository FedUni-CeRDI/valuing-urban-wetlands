function SP(e,t){return function(){return e.apply(t,arguments)}}const{toString:rG}=Object.prototype,{getPrototypeOf:RE}=Object,bb=(e=>t=>{const n=rG.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),mc=e=>(e=e.toLowerCase(),t=>bb(t)===e),wb=e=>t=>typeof t===e,{isArray:C0}=Array,Jm=wb("undefined");function iG(e){return e!==null&&!Jm(e)&&e.constructor!==null&&!Jm(e.constructor)&&Al(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const CP=mc("ArrayBuffer");function aG(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&CP(e.buffer),t}const oG=wb("string"),Al=wb("function"),AP=wb("number"),Tb=e=>e!==null&&typeof e=="object",sG=e=>e===!0||e===!1,$1=e=>{if(bb(e)!=="object")return!1;const t=RE(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},lG=mc("Date"),uG=mc("File"),cG=mc("Blob"),fG=mc("FileList"),hG=e=>Tb(e)&&Al(e.pipe),dG=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Al(e.append)&&((t=bb(e))==="formdata"||t==="object"&&Al(e.toString)&&e.toString()==="[object FormData]"))},pG=mc("URLSearchParams"),gG=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function my(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),C0(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const a=n?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let o;for(r=0;r<s;r++)o=a[r],t.call(null,e[o],o,e)}}function IP(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const OP=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),LP=e=>!Jm(e)&&e!==OP;function Y3(){const{caseless:e}=LP(this)&&this||{},t={},n=(r,i)=>{const a=e&&IP(t,i)||i;$1(t[a])&&$1(r)?t[a]=Y3(t[a],r):$1(r)?t[a]=Y3({},r):C0(r)?t[a]=r.slice():t[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&my(arguments[r],n);return t}const mG=(e,t,n,{allOwnKeys:r}={})=>(my(t,(i,a)=>{n&&Al(i)?e[a]=SP(i,n):e[a]=i},{allOwnKeys:r}),e),vG=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),yG=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},_G=(e,t,n,r)=>{let i,a,s;const o={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],(!r||r(s,e,t))&&!o[s]&&(t[s]=e[s],o[s]=!0);e=n!==!1&&RE(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},xG=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},bG=e=>{if(!e)return null;if(C0(e))return e;let t=e.length;if(!AP(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},wG=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&RE(Uint8Array)),TG=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},EG=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},MG=mc("HTMLFormElement"),SG=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),FA=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),CG=mc("RegExp"),PP=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};my(n,(i,a)=>{let s;(s=t(i,a,e))!==!1&&(r[a]=s||i)}),Object.defineProperties(e,r)},AG=e=>{PP(e,(t,n)=>{if(Al(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Al(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},IG=(e,t)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return C0(e)?r(e):r(String(e).split(t)),n},OG=()=>{},LG=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Ww="abcdefghijklmnopqrstuvwxyz",zA="0123456789",RP={DIGIT:zA,ALPHA:Ww,ALPHA_DIGIT:Ww+Ww.toUpperCase()+zA},PG=(e=16,t=RP.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function RG(e){return!!(e&&Al(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const NG=e=>{const t=new Array(10),n=(r,i)=>{if(Tb(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const a=C0(r)?[]:{};return my(r,(s,o)=>{const l=n(s,i+1);!Jm(l)&&(a[o]=l)}),t[i]=void 0,a}}return r};return n(e,0)},kG=mc("AsyncFunction"),DG=e=>e&&(Tb(e)||Al(e))&&Al(e.then)&&Al(e.catch),fn={isArray:C0,isArrayBuffer:CP,isBuffer:iG,isFormData:dG,isArrayBufferView:aG,isString:oG,isNumber:AP,isBoolean:sG,isObject:Tb,isPlainObject:$1,isUndefined:Jm,isDate:lG,isFile:uG,isBlob:cG,isRegExp:CG,isFunction:Al,isStream:hG,isURLSearchParams:pG,isTypedArray:wG,isFileList:fG,forEach:my,merge:Y3,extend:mG,trim:gG,stripBOM:vG,inherits:yG,toFlatObject:_G,kindOf:bb,kindOfTest:mc,endsWith:xG,toArray:bG,forEachEntry:TG,matchAll:EG,isHTMLForm:MG,hasOwnProperty:FA,hasOwnProp:FA,reduceDescriptors:PP,freezeMethods:AG,toObjectSet:IG,toCamelCase:SG,noop:OG,toFiniteNumber:LG,findKey:IP,global:OP,isContextDefined:LP,ALPHABET:RP,generateString:PG,isSpecCompliantForm:RG,toJSONObject:NG,isAsyncFn:kG,isThenable:DG};function $r(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}fn.inherits($r,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fn.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const NP=$r.prototype,kP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{kP[e]={value:e}});Object.defineProperties($r,kP);Object.defineProperty(NP,"isAxiosError",{value:!0});$r.from=(e,t,n,r,i,a)=>{const s=Object.create(NP);return fn.toFlatObject(e,s,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),$r.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const FG=null;function W3(e){return fn.isPlainObject(e)||fn.isArray(e)}function DP(e){return fn.endsWith(e,"[]")?e.slice(0,-2):e}function BA(e,t,n){return e?e.concat(t).map(function(i,a){return i=DP(i),!n&&a?"["+i+"]":i}).join(n?".":""):t}function zG(e){return fn.isArray(e)&&!e.some(W3)}const BG=fn.toFlatObject(fn,{},null,function(t){return/^is[A-Z]/.test(t)});function Eb(e,t,n){if(!fn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=fn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,m){return!fn.isUndefined(m[g])});const r=n.metaTokens,i=n.visitor||u,a=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&fn.isSpecCompliantForm(t);if(!fn.isFunction(i))throw new TypeError("visitor must be a function");function f(p){if(p===null)return"";if(fn.isDate(p))return p.toISOString();if(!l&&fn.isBlob(p))throw new $r("Blob is not supported. Use a Buffer instead.");return fn.isArrayBuffer(p)||fn.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,g,m){let v=p;if(p&&!m&&typeof p=="object"){if(fn.endsWith(g,"{}"))g=r?g:g.slice(0,-2),p=JSON.stringify(p);else if(fn.isArray(p)&&zG(p)||(fn.isFileList(p)||fn.endsWith(g,"[]"))&&(v=fn.toArray(p)))return g=DP(g),v.forEach(function(_,x){!(fn.isUndefined(_)||_===null)&&t.append(s===!0?BA([g],x,a):s===null?g:g+"[]",f(_))}),!1}return W3(p)?!0:(t.append(BA(m,g,a),f(p)),!1)}const c=[],h=Object.assign(BG,{defaultVisitor:u,convertValue:f,isVisitable:W3});function d(p,g){if(!fn.isUndefined(p)){if(c.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));c.push(p),fn.forEach(p,function(v,y){(!(fn.isUndefined(v)||v===null)&&i.call(t,v,fn.isString(y)?y.trim():y,g,h))===!0&&d(v,g?g.concat(y):[y])}),c.pop()}}if(!fn.isObject(e))throw new TypeError("data must be an object");return d(e),t}function GA(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function NE(e,t){this._pairs=[],e&&Eb(e,this,t)}const FP=NE.prototype;FP.append=function(t,n){this._pairs.push([t,n])};FP.toString=function(t){const n=t?function(r){return t.call(this,r,GA)}:GA;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function GG(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zP(e,t,n){if(!t)return e;const r=n&&n.encode||GG,i=n&&n.serialize;let a;if(i?a=i(t,n):a=fn.isURLSearchParams(t)?t.toString():new NE(t,n).toString(r),a){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class jG{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){fn.forEach(this.handlers,function(r){r!==null&&t(r)})}}const jA=jG,BP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},UG=typeof URLSearchParams<"u"?URLSearchParams:NE,VG=typeof FormData<"u"?FormData:null,HG=typeof Blob<"u"?Blob:null,YG=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),WG=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),$u={isBrowser:!0,classes:{URLSearchParams:UG,FormData:VG,Blob:HG},isStandardBrowserEnv:YG,isStandardBrowserWebWorkerEnv:WG,protocols:["http","https","file","blob","url","data"]};function $G(e,t){return Eb(e,new $u.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,a){return $u.isNode&&fn.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function qG(e){return fn.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function XG(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}function GP(e){function t(n,r,i,a){let s=n[a++];const o=Number.isFinite(+s),l=a>=n.length;return s=!s&&fn.isArray(i)?i.length:s,l?(fn.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!o):((!i[s]||!fn.isObject(i[s]))&&(i[s]=[]),t(n,r,i[s],a)&&fn.isArray(i[s])&&(i[s]=XG(i[s])),!o)}if(fn.isFormData(e)&&fn.isFunction(e.entries)){const n={};return fn.forEachEntry(e,(r,i)=>{t(qG(r),i,n,0)}),n}return null}function KG(e,t,n){if(fn.isString(e))try{return(t||JSON.parse)(e),fn.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const kE={transitional:BP,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=fn.isObject(t);if(a&&fn.isHTMLForm(t)&&(t=new FormData(t)),fn.isFormData(t))return i&&i?JSON.stringify(GP(t)):t;if(fn.isArrayBuffer(t)||fn.isBuffer(t)||fn.isStream(t)||fn.isFile(t)||fn.isBlob(t))return t;if(fn.isArrayBufferView(t))return t.buffer;if(fn.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return $G(t,this.formSerializer).toString();if((o=fn.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Eb(o?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),KG(t)):t}],transformResponse:[function(t){const n=this.transitional||kE.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(t&&fn.isString(t)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(o){if(s)throw o.name==="SyntaxError"?$r.from(o,$r.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$u.classes.FormData,Blob:$u.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};fn.forEach(["delete","get","head","post","put","patch"],e=>{kE.headers[e]={}});const DE=kE,ZG=fn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),JG=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||t[n]&&ZG[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},UA=Symbol("internals");function dm(e){return e&&String(e).trim().toLowerCase()}function q1(e){return e===!1||e==null?e:fn.isArray(e)?e.map(q1):String(e)}function QG(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const tj=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function $w(e,t,n,r,i){if(fn.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!fn.isString(t)){if(fn.isString(r))return t.indexOf(r)!==-1;if(fn.isRegExp(r))return r.test(t)}}function ej(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function nj(e,t){const n=fn.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,a,s){return this[r].call(this,t,i,a,s)},configurable:!0})})}class Mb{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function a(o,l,f){const u=dm(l);if(!u)throw new Error("header name must be a non-empty string");const c=fn.findKey(i,u);(!c||i[c]===void 0||f===!0||f===void 0&&i[c]!==!1)&&(i[c||l]=q1(o))}const s=(o,l)=>fn.forEach(o,(f,u)=>a(f,u,l));return fn.isPlainObject(t)||t instanceof this.constructor?s(t,n):fn.isString(t)&&(t=t.trim())&&!tj(t)?s(JG(t),n):t!=null&&a(n,t,r),this}get(t,n){if(t=dm(t),t){const r=fn.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return QG(i);if(fn.isFunction(n))return n.call(this,i,r);if(fn.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=dm(t),t){const r=fn.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||$w(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function a(s){if(s=dm(s),s){const o=fn.findKey(r,s);o&&(!n||$w(r,r[o],o,n))&&(delete r[o],i=!0)}}return fn.isArray(t)?t.forEach(a):a(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!t||$w(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const n=this,r={};return fn.forEach(this,(i,a)=>{const s=fn.findKey(r,a);if(s){n[s]=q1(i),delete n[a];return}const o=t?ej(a):String(a).trim();o!==a&&delete n[a],n[o]=q1(i),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return fn.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&fn.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[UA]=this[UA]={accessors:{}}).accessors,i=this.prototype;function a(s){const o=dm(s);r[o]||(nj(i,s),r[o]=!0)}return fn.isArray(t)?t.forEach(a):a(t),this}}Mb.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);fn.reduceDescriptors(Mb.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});fn.freezeMethods(Mb);const Hc=Mb;function qw(e,t){const n=this||DE,r=t||n,i=Hc.from(r.headers);let a=r.data;return fn.forEach(e,function(o){a=o.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function jP(e){return!!(e&&e.__CANCEL__)}function vy(e,t,n){$r.call(this,e??"canceled",$r.ERR_CANCELED,t,n),this.name="CanceledError"}fn.inherits(vy,$r,{__CANCEL__:!0});function rj(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new $r("Request failed with status code "+n.status,[$r.ERR_BAD_REQUEST,$r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const ij=$u.isStandardBrowserEnv?function(){return{write:function(n,r,i,a,s,o){const l=[];l.push(n+"="+encodeURIComponent(r)),fn.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),fn.isString(a)&&l.push("path="+a),fn.isString(s)&&l.push("domain="+s),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function aj(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function oj(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function UP(e,t){return e&&!aj(t)?oj(e,t):t}const sj=$u.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(a){let s=a;return t&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const o=fn.isString(s)?i(s):s;return o.protocol===r.protocol&&o.host===r.host}}():function(){return function(){return!0}}();function lj(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function uj(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,a=0,s;return t=t!==void 0?t:1e3,function(l){const f=Date.now(),u=r[a];s||(s=f),n[i]=l,r[i]=f;let c=a,h=0;for(;c!==i;)h+=n[c++],c=c%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),f-s<t)return;const d=u&&f-u;return d?Math.round(h*1e3/d):void 0}}function VA(e,t){let n=0;const r=uj(50,250);return i=>{const a=i.loaded,s=i.lengthComputable?i.total:void 0,o=a-n,l=r(o),f=a<=s;n=a;const u={loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&f?(s-a)/l:void 0,event:i};u[t?"download":"upload"]=!0,e(u)}}const cj=typeof XMLHttpRequest<"u",fj=cj&&function(e){return new Promise(function(n,r){let i=e.data;const a=Hc.from(e.headers).normalize(),s=e.responseType;let o;function l(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}let f;fn.isFormData(i)&&($u.isStandardBrowserEnv||$u.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.getContentType(/^\s*multipart\/form-data/)?fn.isString(f=a.getContentType())&&a.setContentType(f.replace(/^\s*(multipart\/form-data);+/,"$1")):a.setContentType("multipart/form-data"));let u=new XMLHttpRequest;if(e.auth){const p=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(p+":"+g))}const c=UP(e.baseURL,e.url);u.open(e.method.toUpperCase(),zP(c,e.params,e.paramsSerializer),!0),u.timeout=e.timeout;function h(){if(!u)return;const p=Hc.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),m={data:!s||s==="text"||s==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:p,config:e,request:u};rj(function(y){n(y),l()},function(y){r(y),l()},m),u=null}if("onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(h)},u.onabort=function(){u&&(r(new $r("Request aborted",$r.ECONNABORTED,e,u)),u=null)},u.onerror=function(){r(new $r("Network Error",$r.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let g=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const m=e.transitional||BP;e.timeoutErrorMessage&&(g=e.timeoutErrorMessage),r(new $r(g,m.clarifyTimeoutError?$r.ETIMEDOUT:$r.ECONNABORTED,e,u)),u=null},$u.isStandardBrowserEnv){const p=sj(c)&&e.xsrfCookieName&&ij.read(e.xsrfCookieName);p&&a.set(e.xsrfHeaderName,p)}i===void 0&&a.setContentType(null),"setRequestHeader"in u&&fn.forEach(a.toJSON(),function(g,m){u.setRequestHeader(m,g)}),fn.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),s&&s!=="json"&&(u.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&u.addEventListener("progress",VA(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",VA(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=p=>{u&&(r(!p||p.type?new vy(null,e,u):p),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const d=lj(c);if(d&&$u.protocols.indexOf(d)===-1){r(new $r("Unsupported protocol "+d+":",$r.ERR_BAD_REQUEST,e));return}u.send(i||null)})},$3={http:FG,xhr:fj};fn.forEach($3,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const HA=e=>`- ${e}`,hj=e=>fn.isFunction(e)||e===null||e===!1,VP={getAdapter:e=>{e=fn.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let a=0;a<t;a++){n=e[a];let s;if(r=n,!hj(n)&&(r=$3[(s=String(n)).toLowerCase()],r===void 0))throw new $r(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+a]=r}if(!r){const a=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=t?a.length>1?`since :
`+a.map(HA).join(`
`):" "+HA(a[0]):"as no adapter specified";throw new $r("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:$3};function Xw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new vy(null,e)}function YA(e){return Xw(e),e.headers=Hc.from(e.headers),e.data=qw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),VP.getAdapter(e.adapter||DE.adapter)(e).then(function(r){return Xw(e),r.data=qw.call(e,e.transformResponse,r),r.headers=Hc.from(r.headers),r},function(r){return jP(r)||(Xw(e),r&&r.response&&(r.response.data=qw.call(e,e.transformResponse,r.response),r.response.headers=Hc.from(r.response.headers))),Promise.reject(r)})}const WA=e=>e instanceof Hc?e.toJSON():e;function Pg(e,t){t=t||{};const n={};function r(f,u,c){return fn.isPlainObject(f)&&fn.isPlainObject(u)?fn.merge.call({caseless:c},f,u):fn.isPlainObject(u)?fn.merge({},u):fn.isArray(u)?u.slice():u}function i(f,u,c){if(fn.isUndefined(u)){if(!fn.isUndefined(f))return r(void 0,f,c)}else return r(f,u,c)}function a(f,u){if(!fn.isUndefined(u))return r(void 0,u)}function s(f,u){if(fn.isUndefined(u)){if(!fn.isUndefined(f))return r(void 0,f)}else return r(void 0,u)}function o(f,u,c){if(c in t)return r(f,u);if(c in e)return r(void 0,f)}const l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(f,u)=>i(WA(f),WA(u),!0)};return fn.forEach(Object.keys(Object.assign({},e,t)),function(u){const c=l[u]||i,h=c(e[u],t[u],u);fn.isUndefined(h)&&c!==o||(n[u]=h)}),n}const HP="1.6.0",FE={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{FE[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const $A={};FE.transitional=function(t,n,r){function i(a,s){return"[Axios v"+HP+"] Transitional option '"+a+"'"+s+(r?". "+r:"")}return(a,s,o)=>{if(t===!1)throw new $r(i(s," has been removed"+(n?" in "+n:"")),$r.ERR_DEPRECATED);return n&&!$A[s]&&($A[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,s,o):!0}};function dj(e,t,n){if(typeof e!="object")throw new $r("options must be an object",$r.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=t[a];if(s){const o=e[a],l=o===void 0||s(o,a,e);if(l!==!0)throw new $r("option "+a+" must be "+l,$r.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new $r("Unknown option "+a,$r.ERR_BAD_OPTION)}}const q3={assertOptions:dj,validators:FE},Rf=q3.validators;class dx{constructor(t){this.defaults=t,this.interceptors={request:new jA,response:new jA}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Pg(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&q3.assertOptions(r,{silentJSONParsing:Rf.transitional(Rf.boolean),forcedJSONParsing:Rf.transitional(Rf.boolean),clarifyTimeoutError:Rf.transitional(Rf.boolean)},!1),i!=null&&(fn.isFunction(i)?n.paramsSerializer={serialize:i}:q3.assertOptions(i,{encode:Rf.function,serialize:Rf.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=a&&fn.merge(a.common,a[n.method]);a&&fn.forEach(["delete","get","head","post","put","patch","common"],p=>{delete a[p]}),n.headers=Hc.concat(s,a);const o=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,o.unshift(g.fulfilled,g.rejected))});const f=[];this.interceptors.response.forEach(function(g){f.push(g.fulfilled,g.rejected)});let u,c=0,h;if(!l){const p=[YA.bind(this),void 0];for(p.unshift.apply(p,o),p.push.apply(p,f),h=p.length,u=Promise.resolve(n);c<h;)u=u.then(p[c++],p[c++]);return u}h=o.length;let d=n;for(c=0;c<h;){const p=o[c++],g=o[c++];try{d=p(d)}catch(m){g.call(this,m);break}}try{u=YA.call(this,d)}catch(p){return Promise.reject(p)}for(c=0,h=f.length;c<h;)u=u.then(f[c++],f[c++]);return u}getUri(t){t=Pg(this.defaults,t);const n=UP(t.baseURL,t.url);return zP(n,t.params,t.paramsSerializer)}}fn.forEach(["delete","get","head","options"],function(t){dx.prototype[t]=function(n,r){return this.request(Pg(r||{},{method:t,url:n,data:(r||{}).data}))}});fn.forEach(["post","put","patch"],function(t){function n(r){return function(a,s,o){return this.request(Pg(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}dx.prototype[t]=n(),dx.prototype[t+"Form"]=n(!0)});const X1=dx;class zE{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(o=>{r.subscribe(o),a=o}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},t(function(a,s,o){r.reason||(r.reason=new vy(a,s,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new zE(function(i){t=i}),cancel:t}}}const pj=zE;function gj(e){return function(n){return e.apply(null,n)}}function mj(e){return fn.isObject(e)&&e.isAxiosError===!0}const X3={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(X3).forEach(([e,t])=>{X3[t]=e});const vj=X3;function YP(e){const t=new X1(e),n=SP(X1.prototype.request,t);return fn.extend(n,X1.prototype,t,{allOwnKeys:!0}),fn.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return YP(Pg(e,i))},n}const La=YP(DE);La.Axios=X1;La.CanceledError=vy;La.CancelToken=pj;La.isCancel=jP;La.VERSION=HP;La.toFormData=Eb;La.AxiosError=$r;La.Cancel=La.CanceledError;La.all=function(t){return Promise.all(t)};La.spread=gj;La.isAxiosError=mj;La.mergeConfig=Pg;La.AxiosHeaders=Hc;La.formToJSON=e=>GP(fn.isHTMLForm(e)?new FormData(e):e);La.getAdapter=VP.getAdapter;La.HttpStatusCode=vj;La.default=La;const ypt=La;var $o="top",Zs="bottom",Js="right",qo="left",Sb="auto",A0=[$o,Zs,Js,qo],Rd="start",Rg="end",WP="clippingParents",BE="viewport",tg="popper",$P="reference",K3=A0.reduce(function(e,t){return e.concat([t+"-"+Rd,t+"-"+Rg])},[]),GE=[].concat(A0,[Sb]).reduce(function(e,t){return e.concat([t,t+"-"+Rd,t+"-"+Rg])},[]),qP="beforeRead",XP="read",KP="afterRead",ZP="beforeMain",JP="main",QP="afterMain",t4="beforeWrite",e4="write",n4="afterWrite",r4=[qP,XP,KP,ZP,JP,QP,t4,e4,n4];function oc(e){return e?(e.nodeName||"").toLowerCase():null}function Qs(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Nd(e){var t=Qs(e).Element;return e instanceof t||e instanceof Element}function Il(e){var t=Qs(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function jE(e){if(typeof ShadowRoot>"u")return!1;var t=Qs(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function yj(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},a=t.elements[n];!Il(a)||!oc(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(s){var o=i[s];o===!1?a.removeAttribute(s):a.setAttribute(s,o===!0?"":o)}))})}function _j(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],a=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),o=s.reduce(function(l,f){return l[f]="",l},{});!Il(i)||!oc(i)||(Object.assign(i.style,o),Object.keys(a).forEach(function(l){i.removeAttribute(l)}))})}}const UE={name:"applyStyles",enabled:!0,phase:"write",fn:yj,effect:_j,requires:["computeStyles"]};function Ju(e){return e.split("-")[0]}var bd=Math.max,px=Math.min,Ng=Math.round;function Z3(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function i4(){return!/^((?!chrome|android).)*safari/i.test(Z3())}function kg(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,a=1;t&&Il(e)&&(i=e.offsetWidth>0&&Ng(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Ng(r.height)/e.offsetHeight||1);var s=Nd(e)?Qs(e):window,o=s.visualViewport,l=!i4()&&n,f=(r.left+(l&&o?o.offsetLeft:0))/i,u=(r.top+(l&&o?o.offsetTop:0))/a,c=r.width/i,h=r.height/a;return{width:c,height:h,top:u,right:f+c,bottom:u+h,left:f,x:f,y:u}}function VE(e){var t=kg(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function a4(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&jE(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function tf(e){return Qs(e).getComputedStyle(e)}function xj(e){return["table","td","th"].indexOf(oc(e))>=0}function Ph(e){return((Nd(e)?e.ownerDocument:e.document)||window.document).documentElement}function Cb(e){return oc(e)==="html"?e:e.assignedSlot||e.parentNode||(jE(e)?e.host:null)||Ph(e)}function qA(e){return!Il(e)||tf(e).position==="fixed"?null:e.offsetParent}function bj(e){var t=/firefox/i.test(Z3()),n=/Trident/i.test(Z3());if(n&&Il(e)){var r=tf(e);if(r.position==="fixed")return null}var i=Cb(e);for(jE(i)&&(i=i.host);Il(i)&&["html","body"].indexOf(oc(i))<0;){var a=tf(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function yy(e){for(var t=Qs(e),n=qA(e);n&&xj(n)&&tf(n).position==="static";)n=qA(n);return n&&(oc(n)==="html"||oc(n)==="body"&&tf(n).position==="static")?t:n||bj(e)||t}function HE(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function zm(e,t,n){return bd(e,px(t,n))}function wj(e,t,n){var r=zm(e,t,n);return r>n?n:r}function o4(){return{top:0,right:0,bottom:0,left:0}}function s4(e){return Object.assign({},o4(),e)}function l4(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var Tj=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,s4(typeof t!="number"?t:l4(t,A0))};function Ej(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,s=n.modifiersData.popperOffsets,o=Ju(n.placement),l=HE(o),f=[qo,Js].indexOf(o)>=0,u=f?"height":"width";if(!(!a||!s)){var c=Tj(i.padding,n),h=VE(a),d=l==="y"?$o:qo,p=l==="y"?Zs:Js,g=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],m=s[l]-n.rects.reference[l],v=yy(a),y=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,_=g/2-m/2,x=c[d],w=y-h[u]-c[p],E=y/2-h[u]/2+_,S=zm(x,E,w),C=l;n.modifiersData[r]=(t={},t[C]=S,t.centerOffset=S-E,t)}}function Mj(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||a4(t.elements.popper,i)&&(t.elements.arrow=i))}const u4={name:"arrow",enabled:!0,phase:"main",fn:Ej,effect:Mj,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Dg(e){return e.split("-")[1]}var Sj={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Cj(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Ng(n*i)/i||0,y:Ng(r*i)/i||0}}function XA(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,s=e.offsets,o=e.position,l=e.gpuAcceleration,f=e.adaptive,u=e.roundOffsets,c=e.isFixed,h=s.x,d=h===void 0?0:h,p=s.y,g=p===void 0?0:p,m=typeof u=="function"?u({x:d,y:g}):{x:d,y:g};d=m.x,g=m.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),_=qo,x=$o,w=window;if(f){var E=yy(n),S="clientHeight",C="clientWidth";if(E===Qs(n)&&(E=Ph(n),tf(E).position!=="static"&&o==="absolute"&&(S="scrollHeight",C="scrollWidth")),E=E,i===$o||(i===qo||i===Js)&&a===Rg){x=Zs;var T=c&&E===w&&w.visualViewport?w.visualViewport.height:E[S];g-=T-r.height,g*=l?1:-1}if(i===qo||(i===$o||i===Zs)&&a===Rg){_=Js;var A=c&&E===w&&w.visualViewport?w.visualViewport.width:E[C];d-=A-r.width,d*=l?1:-1}}var O=Object.assign({position:o},f&&Sj),P=u===!0?Cj({x:d,y:g},Qs(n)):{x:d,y:g};if(d=P.x,g=P.y,l){var F;return Object.assign({},O,(F={},F[x]=y?"0":"",F[_]=v?"0":"",F.transform=(w.devicePixelRatio||1)<=1?"translate("+d+"px, "+g+"px)":"translate3d("+d+"px, "+g+"px, 0)",F))}return Object.assign({},O,(t={},t[x]=y?g+"px":"",t[_]=v?d+"px":"",t.transform="",t))}function Aj(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,a=n.adaptive,s=a===void 0?!0:a,o=n.roundOffsets,l=o===void 0?!0:o,f={placement:Ju(t.placement),variation:Dg(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,XA(Object.assign({},f,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,XA(Object.assign({},f,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const YE={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Aj,data:{}};var Z_={passive:!0};function Ij(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=i===void 0?!0:i,s=r.resize,o=s===void 0?!0:s,l=Qs(t.elements.popper),f=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&f.forEach(function(u){u.addEventListener("scroll",n.update,Z_)}),o&&l.addEventListener("resize",n.update,Z_),function(){a&&f.forEach(function(u){u.removeEventListener("scroll",n.update,Z_)}),o&&l.removeEventListener("resize",n.update,Z_)}}const WE={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ij,data:{}};var Oj={left:"right",right:"left",bottom:"top",top:"bottom"};function K1(e){return e.replace(/left|right|bottom|top/g,function(t){return Oj[t]})}var Lj={start:"end",end:"start"};function KA(e){return e.replace(/start|end/g,function(t){return Lj[t]})}function $E(e){var t=Qs(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function qE(e){return kg(Ph(e)).left+$E(e).scrollLeft}function Pj(e,t){var n=Qs(e),r=Ph(e),i=n.visualViewport,a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;var f=i4();(f||!f&&t==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o+qE(e),y:l}}function Rj(e){var t,n=Ph(e),r=$E(e),i=(t=e.ownerDocument)==null?void 0:t.body,a=bd(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=bd(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+qE(e),l=-r.scrollTop;return tf(i||n).direction==="rtl"&&(o+=bd(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:o,y:l}}function XE(e){var t=tf(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function c4(e){return["html","body","#document"].indexOf(oc(e))>=0?e.ownerDocument.body:Il(e)&&XE(e)?e:c4(Cb(e))}function Bm(e,t){var n;t===void 0&&(t=[]);var r=c4(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),a=Qs(r),s=i?[a].concat(a.visualViewport||[],XE(r)?r:[]):r,o=t.concat(s);return i?o:o.concat(Bm(Cb(s)))}function J3(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Nj(e,t){var n=kg(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function ZA(e,t,n){return t===BE?J3(Pj(e,n)):Nd(t)?Nj(t,n):J3(Rj(Ph(e)))}function kj(e){var t=Bm(Cb(e)),n=["absolute","fixed"].indexOf(tf(e).position)>=0,r=n&&Il(e)?yy(e):e;return Nd(r)?t.filter(function(i){return Nd(i)&&a4(i,r)&&oc(i)!=="body"}):[]}function Dj(e,t,n,r){var i=t==="clippingParents"?kj(e):[].concat(t),a=[].concat(i,[n]),s=a[0],o=a.reduce(function(l,f){var u=ZA(e,f,r);return l.top=bd(u.top,l.top),l.right=px(u.right,l.right),l.bottom=px(u.bottom,l.bottom),l.left=bd(u.left,l.left),l},ZA(e,s,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function f4(e){var t=e.reference,n=e.element,r=e.placement,i=r?Ju(r):null,a=r?Dg(r):null,s=t.x+t.width/2-n.width/2,o=t.y+t.height/2-n.height/2,l;switch(i){case $o:l={x:s,y:t.y-n.height};break;case Zs:l={x:s,y:t.y+t.height};break;case Js:l={x:t.x+t.width,y:o};break;case qo:l={x:t.x-n.width,y:o};break;default:l={x:t.x,y:t.y}}var f=i?HE(i):null;if(f!=null){var u=f==="y"?"height":"width";switch(a){case Rd:l[f]=l[f]-(t[u]/2-n[u]/2);break;case Rg:l[f]=l[f]+(t[u]/2-n[u]/2);break}}return l}function Fg(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,a=n.strategy,s=a===void 0?e.strategy:a,o=n.boundary,l=o===void 0?WP:o,f=n.rootBoundary,u=f===void 0?BE:f,c=n.elementContext,h=c===void 0?tg:c,d=n.altBoundary,p=d===void 0?!1:d,g=n.padding,m=g===void 0?0:g,v=s4(typeof m!="number"?m:l4(m,A0)),y=h===tg?$P:tg,_=e.rects.popper,x=e.elements[p?y:h],w=Dj(Nd(x)?x:x.contextElement||Ph(e.elements.popper),l,u,s),E=kg(e.elements.reference),S=f4({reference:E,element:_,strategy:"absolute",placement:i}),C=J3(Object.assign({},_,S)),T=h===tg?C:E,A={top:w.top-T.top+v.top,bottom:T.bottom-w.bottom+v.bottom,left:w.left-T.left+v.left,right:T.right-w.right+v.right},O=e.modifiersData.offset;if(h===tg&&O){var P=O[i];Object.keys(A).forEach(function(F){var R=[Js,Zs].indexOf(F)>=0?1:-1,N=[$o,Zs].indexOf(F)>=0?"y":"x";A[F]+=P[N]*R})}return A}function Fj(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,s=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,f=l===void 0?GE:l,u=Dg(r),c=u?o?K3:K3.filter(function(p){return Dg(p)===u}):A0,h=c.filter(function(p){return f.indexOf(p)>=0});h.length===0&&(h=c);var d=h.reduce(function(p,g){return p[g]=Fg(e,{placement:g,boundary:i,rootBoundary:a,padding:s})[Ju(g)],p},{});return Object.keys(d).sort(function(p,g){return d[p]-d[g]})}function zj(e){if(Ju(e)===Sb)return[];var t=K1(e);return[KA(e),t,KA(t)]}function Bj(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=i===void 0?!0:i,s=n.altAxis,o=s===void 0?!0:s,l=n.fallbackPlacements,f=n.padding,u=n.boundary,c=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=d===void 0?!0:d,g=n.allowedAutoPlacements,m=t.options.placement,v=Ju(m),y=v===m,_=l||(y||!p?[K1(m)]:zj(m)),x=[m].concat(_).reduce(function(rt,ft){return rt.concat(Ju(ft)===Sb?Fj(t,{placement:ft,boundary:u,rootBoundary:c,padding:f,flipVariations:p,allowedAutoPlacements:g}):ft)},[]),w=t.rects.reference,E=t.rects.popper,S=new Map,C=!0,T=x[0],A=0;A<x.length;A++){var O=x[A],P=Ju(O),F=Dg(O)===Rd,R=[$o,Zs].indexOf(P)>=0,N=R?"width":"height",D=Fg(t,{placement:O,boundary:u,rootBoundary:c,altBoundary:h,padding:f}),I=R?F?Js:qo:F?Zs:$o;w[N]>E[N]&&(I=K1(I));var B=K1(I),j=[];if(a&&j.push(D[P]<=0),o&&j.push(D[I]<=0,D[B]<=0),j.every(function(rt){return rt})){T=O,C=!1;break}S.set(O,j)}if(C)for(var q=p?3:1,et=function(ft){var z=x.find(function(W){var X=S.get(W);if(X)return X.slice(0,ft).every(function(it){return it})});if(z)return T=z,"break"},U=q;U>0;U--){var Z=et(U);if(Z==="break")break}t.placement!==T&&(t.modifiersData[r]._skip=!0,t.placement=T,t.reset=!0)}}const h4={name:"flip",enabled:!0,phase:"main",fn:Bj,requiresIfExists:["offset"],data:{_skip:!1}};function JA(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function QA(e){return[$o,Js,Zs,qo].some(function(t){return e[t]>=0})}function Gj(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,s=Fg(t,{elementContext:"reference"}),o=Fg(t,{altBoundary:!0}),l=JA(s,r),f=JA(o,i,a),u=QA(l),c=QA(f);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:f,isReferenceHidden:u,hasPopperEscaped:c},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":c})}const d4={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Gj};function jj(e,t,n){var r=Ju(e),i=[qo,$o].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=a[0],o=a[1];return s=s||0,o=(o||0)*i,[qo,Js].indexOf(r)>=0?{x:o,y:s}:{x:s,y:o}}function Uj(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=i===void 0?[0,0]:i,s=GE.reduce(function(u,c){return u[c]=jj(c,t.rects,a),u},{}),o=s[t.placement],l=o.x,f=o.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=f),t.modifiersData[r]=s}const p4={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Uj};function Vj(e){var t=e.state,n=e.name;t.modifiersData[n]=f4({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const KE={name:"popperOffsets",enabled:!0,phase:"read",fn:Vj,data:{}};function Hj(e){return e==="x"?"y":"x"}function Yj(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=i===void 0?!0:i,s=n.altAxis,o=s===void 0?!1:s,l=n.boundary,f=n.rootBoundary,u=n.altBoundary,c=n.padding,h=n.tether,d=h===void 0?!0:h,p=n.tetherOffset,g=p===void 0?0:p,m=Fg(t,{boundary:l,rootBoundary:f,padding:c,altBoundary:u}),v=Ju(t.placement),y=Dg(t.placement),_=!y,x=HE(v),w=Hj(x),E=t.modifiersData.popperOffsets,S=t.rects.reference,C=t.rects.popper,T=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,A=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),O=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,P={x:0,y:0};if(E){if(a){var F,R=x==="y"?$o:qo,N=x==="y"?Zs:Js,D=x==="y"?"height":"width",I=E[x],B=I+m[R],j=I-m[N],q=d?-C[D]/2:0,et=y===Rd?S[D]:C[D],U=y===Rd?-C[D]:-S[D],Z=t.elements.arrow,rt=d&&Z?VE(Z):{width:0,height:0},ft=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:o4(),z=ft[R],W=ft[N],X=zm(0,S[D],rt[D]),it=_?S[D]/2-q-X-z-A.mainAxis:et-X-z-A.mainAxis,lt=_?-S[D]/2+q+X+W+A.mainAxis:U+X+W+A.mainAxis,dt=t.elements.arrow&&yy(t.elements.arrow),nt=dt?x==="y"?dt.clientTop||0:dt.clientLeft||0:0,V=(F=O?.[x])!=null?F:0,G=I+it-V-nt,H=I+lt-V,$=zm(d?px(B,G):B,I,d?bd(j,H):j);E[x]=$,P[x]=$-I}if(o){var J,Q=x==="x"?$o:qo,ot=x==="x"?Zs:Js,st=E[w],ht=w==="y"?"height":"width",xt=st+m[Q],Pt=st-m[ot],It=[$o,qo].indexOf(v)!==-1,zt=(J=O?.[w])!=null?J:0,pt=It?xt:st-S[ht]-C[ht]-zt+A.altAxis,yt=It?st+S[ht]+C[ht]-zt-A.altAxis:Pt,wt=d&&It?wj(pt,st,yt):zm(d?pt:xt,st,d?yt:Pt);E[w]=wt,P[w]=wt-st}t.modifiersData[r]=P}}const g4={name:"preventOverflow",enabled:!0,phase:"main",fn:Yj,requiresIfExists:["offset"]};function Wj(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function $j(e){return e===Qs(e)||!Il(e)?$E(e):Wj(e)}function qj(e){var t=e.getBoundingClientRect(),n=Ng(t.width)/e.offsetWidth||1,r=Ng(t.height)/e.offsetHeight||1;return n!==1||r!==1}function Xj(e,t,n){n===void 0&&(n=!1);var r=Il(t),i=Il(t)&&qj(t),a=Ph(t),s=kg(e,i,n),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((oc(t)!=="body"||XE(a))&&(o=$j(t)),Il(t)?(l=kg(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=qE(a))),{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function Kj(e){var t=new Map,n=new Set,r=[];e.forEach(function(a){t.set(a.name,a)});function i(a){n.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(o){if(!n.has(o)){var l=t.get(o);l&&i(l)}}),r.push(a)}return e.forEach(function(a){n.has(a.name)||i(a)}),r}function Zj(e){var t=Kj(e);return r4.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function Jj(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Qj(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var tI={placement:"bottom",modifiers:[],strategy:"absolute"};function eI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Ab(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,a=i===void 0?tI:i;return function(o,l,f){f===void 0&&(f=a);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},tI,a),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},c=[],h=!1,d={state:u,setOptions:function(v){var y=typeof v=="function"?v(u.options):v;g(),u.options=Object.assign({},a,u.options,y),u.scrollParents={reference:Nd(o)?Bm(o):o.contextElement?Bm(o.contextElement):[],popper:Bm(l)};var _=Zj(Qj([].concat(r,u.options.modifiers)));return u.orderedModifiers=_.filter(function(x){return x.enabled}),p(),d.update()},forceUpdate:function(){if(!h){var v=u.elements,y=v.reference,_=v.popper;if(eI(y,_)){u.rects={reference:Xj(y,yy(_),u.options.strategy==="fixed"),popper:VE(_)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(A){return u.modifiersData[A.name]=Object.assign({},A.data)});for(var x=0;x<u.orderedModifiers.length;x++){if(u.reset===!0){u.reset=!1,x=-1;continue}var w=u.orderedModifiers[x],E=w.fn,S=w.options,C=S===void 0?{}:S,T=w.name;typeof E=="function"&&(u=E({state:u,options:C,name:T,instance:d})||u)}}}},update:Jj(function(){return new Promise(function(m){d.forceUpdate(),m(u)})}),destroy:function(){g(),h=!0}};if(!eI(o,l))return d;d.setOptions(f).then(function(m){!h&&f.onFirstUpdate&&f.onFirstUpdate(m)});function p(){u.orderedModifiers.forEach(function(m){var v=m.name,y=m.options,_=y===void 0?{}:y,x=m.effect;if(typeof x=="function"){var w=x({state:u,name:v,instance:d,options:_}),E=function(){};c.push(w||E)}})}function g(){c.forEach(function(m){return m()}),c=[]}return d}}var tU=Ab(),eU=[WE,KE,YE,UE],nU=Ab({defaultModifiers:eU}),rU=[WE,KE,YE,UE,p4,h4,g4,u4,d4],ZE=Ab({defaultModifiers:rU});const m4=Object.freeze(Object.defineProperty({__proto__:null,afterMain:QP,afterRead:KP,afterWrite:n4,applyStyles:UE,arrow:u4,auto:Sb,basePlacements:A0,beforeMain:ZP,beforeRead:qP,beforeWrite:t4,bottom:Zs,clippingParents:WP,computeStyles:YE,createPopper:ZE,createPopperBase:tU,createPopperLite:nU,detectOverflow:Fg,end:Rg,eventListeners:WE,flip:h4,hide:d4,left:qo,main:JP,modifierPhases:r4,offset:p4,placements:GE,popper:tg,popperGenerator:Ab,popperOffsets:KE,preventOverflow:g4,read:XP,reference:$P,right:Js,start:Rd,top:$o,variationPlacements:K3,viewport:BE,write:e4},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Nf=new Map,Kw={set(e,t,n){Nf.has(e)||Nf.set(e,new Map);const r=Nf.get(e);if(!r.has(t)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(t,n)},get(e,t){return Nf.has(e)&&Nf.get(e).get(t)||null},remove(e,t){if(!Nf.has(e))return;const n=Nf.get(e);n.delete(t),n.size===0&&Nf.delete(e)}},iU=1e6,aU=1e3,Q3="transitionend",v4=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(t,n)=>`#${CSS.escape(n)}`)),e),oU=e=>e==null?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),sU=e=>{do e+=Math.floor(Math.random()*iU);while(document.getElementById(e));return e},lU=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const r=Number.parseFloat(t),i=Number.parseFloat(n);return!r&&!i?0:(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*aU)},y4=e=>{e.dispatchEvent(new Event(Q3))},Yc=e=>!e||typeof e!="object"?!1:(typeof e.jquery<"u"&&(e=e[0]),typeof e.nodeType<"u"),ch=e=>Yc(e)?e.jquery?e[0]:e:typeof e=="string"&&e.length>0?document.querySelector(v4(e)):null,I0=e=>{if(!Yc(e)||e.getClientRects().length===0)return!1;const t=getComputedStyle(e).getPropertyValue("visibility")==="visible",n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const r=e.closest("summary");if(r&&r.parentNode!==n||r===null)return!1}return t},fh=e=>!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled")?!0:typeof e.disabled<"u"?e.disabled:e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false",_4=e=>{if(!document.documentElement.attachShadow)return null;if(typeof e.getRootNode=="function"){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?_4(e.parentNode):null},gx=()=>{},_y=e=>{e.offsetHeight},x4=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Zw=[],uU=e=>{document.readyState==="loading"?(Zw.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of Zw)t()}),Zw.push(e)):e()},Rl=()=>document.documentElement.dir==="rtl",$l=e=>{uU(()=>{const t=x4();if(t){const n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=r,e.jQueryInterface)}})},ms=(e,t=[],n=e)=>typeof e=="function"?e(...t):n,b4=(e,t,n=!0)=>{if(!n){ms(e);return}const r=5,i=lU(t)+r;let a=!1;const s=({target:o})=>{o===t&&(a=!0,t.removeEventListener(Q3,s),ms(e))};t.addEventListener(Q3,s),setTimeout(()=>{a||y4(t)},i)},JE=(e,t,n,r)=>{const i=e.length;let a=e.indexOf(t);return a===-1?!n&&r?e[i-1]:e[0]:(a+=n?1:-1,r&&(a=(a+i)%i),e[Math.max(0,Math.min(a,i-1))])},cU=/[^.]*(?=\..*)\.|.*/,fU=/\..*/,hU=/::\d+$/,Jw={};let nI=1;const w4={mouseenter:"mouseover",mouseleave:"mouseout"},dU=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function T4(e,t){return t&&`${t}::${nI++}`||e.uidEvent||nI++}function E4(e){const t=T4(e);return e.uidEvent=t,Jw[t]=Jw[t]||{},Jw[t]}function pU(e,t){return function n(r){return QE(r,{delegateTarget:e}),n.oneOff&&_n.off(e,r.type,t),t.apply(e,[r])}}function gU(e,t,n){return function r(i){const a=e.querySelectorAll(t);for(let{target:s}=i;s&&s!==this;s=s.parentNode)for(const o of a)if(o===s)return QE(i,{delegateTarget:s}),r.oneOff&&_n.off(e,i.type,t,n),n.apply(s,[i])}}function M4(e,t,n=null){return Object.values(e).find(r=>r.callable===t&&r.delegationSelector===n)}function S4(e,t,n){const r=typeof t=="string",i=r?n:t||n;let a=C4(e);return dU.has(a)||(a=e),[r,i,a]}function rI(e,t,n,r,i){if(typeof t!="string"||!e)return;let[a,s,o]=S4(t,n,r);t in w4&&(s=(p=>function(g){if(!g.relatedTarget||g.relatedTarget!==g.delegateTarget&&!g.delegateTarget.contains(g.relatedTarget))return p.call(this,g)})(s));const l=E4(e),f=l[o]||(l[o]={}),u=M4(f,s,a?n:null);if(u){u.oneOff=u.oneOff&&i;return}const c=T4(s,t.replace(cU,"")),h=a?gU(e,n,s):pU(e,s);h.delegationSelector=a?n:null,h.callable=s,h.oneOff=i,h.uidEvent=c,f[c]=h,e.addEventListener(o,h,a)}function tT(e,t,n,r,i){const a=M4(t[n],r,i);a&&(e.removeEventListener(n,a,!!i),delete t[n][a.uidEvent])}function mU(e,t,n,r){const i=t[n]||{};for(const[a,s]of Object.entries(i))a.includes(r)&&tT(e,t,n,s.callable,s.delegationSelector)}function C4(e){return e=e.replace(fU,""),w4[e]||e}const _n={on(e,t,n,r){rI(e,t,n,r,!1)},one(e,t,n,r){rI(e,t,n,r,!0)},off(e,t,n,r){if(typeof t!="string"||!e)return;const[i,a,s]=S4(t,n,r),o=s!==t,l=E4(e),f=l[s]||{},u=t.startsWith(".");if(typeof a<"u"){if(!Object.keys(f).length)return;tT(e,l,s,a,i?n:null);return}if(u)for(const c of Object.keys(l))mU(e,l,c,t.slice(1));for(const[c,h]of Object.entries(f)){const d=c.replace(hU,"");(!o||t.includes(d))&&tT(e,l,s,h.callable,h.delegationSelector)}},trigger(e,t,n){if(typeof t!="string"||!e)return null;const r=x4(),i=C4(t),a=t!==i;let s=null,o=!0,l=!0,f=!1;a&&r&&(s=r.Event(t,n),r(e).trigger(s),o=!s.isPropagationStopped(),l=!s.isImmediatePropagationStopped(),f=s.isDefaultPrevented());const u=QE(new Event(t,{bubbles:o,cancelable:!0}),n);return f&&u.preventDefault(),l&&e.dispatchEvent(u),u.defaultPrevented&&s&&s.preventDefault(),u}};function QE(e,t={}){for(const[n,r]of Object.entries(t))try{e[n]=r}catch{Object.defineProperty(e,n,{configurable:!0,get(){return r}})}return e}function iI(e){if(e==="true")return!0;if(e==="false")return!1;if(e===Number(e).toString())return Number(e);if(e===""||e==="null")return null;if(typeof e!="string")return e;try{return JSON.parse(decodeURIComponent(e))}catch{return e}}function Qw(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const Wc={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${Qw(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${Qw(t)}`)},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of n){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),t[i]=iI(e.dataset[r])}return t},getDataAttribute(e,t){return iI(e.getAttribute(`data-bs-${Qw(t)}`))}};class xy{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,n){const r=Yc(n)?Wc.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...Yc(n)?Wc.getDataAttributes(n):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,n=this.constructor.DefaultType){for(const[r,i]of Object.entries(n)){const a=t[r],s=Yc(a)?"element":oU(a);if(!new RegExp(i).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${s}" but expected type "${i}".`)}}}const vU="5.3.2";class Eu extends xy{constructor(t,n){super(),t=ch(t),t&&(this._element=t,this._config=this._getConfig(n),Kw.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Kw.remove(this._element,this.constructor.DATA_KEY),_n.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,n,r=!0){b4(t,n,r)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Kw.get(ch(t),this.DATA_KEY)}static getOrCreateInstance(t,n={}){return this.getInstance(t)||new this(t,typeof n=="object"?n:null)}static get VERSION(){return vU}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const t3=e=>{let t=e.getAttribute("data-bs-target");if(!t||t==="#"){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&n!=="#"?v4(n.trim()):null}return t},nr={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(n=>n.matches(t))},parents(e,t){const n=[];let r=e.parentNode.closest(t);for(;r;)n.push(r),r=r.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(n=>!fh(n)&&I0(n))},getSelectorFromElement(e){const t=t3(e);return t&&nr.findOne(t)?t:null},getElementFromSelector(e){const t=t3(e);return t?nr.findOne(t):null},getMultipleElementsFromSelector(e){const t=t3(e);return t?nr.find(t):[]}},Ib=(e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,r=e.NAME;_n.on(document,n,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),fh(this))return;const a=nr.getElementFromSelector(this)||this.closest(`.${r}`);e.getOrCreateInstance(a)[t]()})},yU="alert",_U="bs.alert",A4=`.${_U}`,xU=`close${A4}`,bU=`closed${A4}`,wU="fade",TU="show";class Ob extends Eu{static get NAME(){return yU}close(){if(_n.trigger(this._element,xU).defaultPrevented)return;this._element.classList.remove(TU);const n=this._element.classList.contains(wU);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),_n.trigger(this._element,bU),this.dispose()}static jQueryInterface(t){return this.each(function(){const n=Ob.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}Ib(Ob,"close");$l(Ob);const EU="button",MU="bs.button",SU=`.${MU}`,CU=".data-api",AU="active",aI='[data-bs-toggle="button"]',IU=`click${SU}${CU}`;class Lb extends Eu{static get NAME(){return EU}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(AU))}static jQueryInterface(t){return this.each(function(){const n=Lb.getOrCreateInstance(this);t==="toggle"&&n[t]()})}}_n.on(document,IU,aI,e=>{e.preventDefault();const t=e.target.closest(aI);Lb.getOrCreateInstance(t).toggle()});$l(Lb);const OU="swipe",O0=".bs.swipe",LU=`touchstart${O0}`,PU=`touchmove${O0}`,RU=`touchend${O0}`,NU=`pointerdown${O0}`,kU=`pointerup${O0}`,DU="touch",FU="pen",zU="pointer-event",BU=40,GU={endCallback:null,leftCallback:null,rightCallback:null},jU={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class mx extends xy{constructor(t,n){super(),this._element=t,!(!t||!mx.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return GU}static get DefaultType(){return jU}static get NAME(){return OU}dispose(){_n.off(this._element,O0)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),ms(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=BU)return;const n=t/this._deltaX;this._deltaX=0,n&&ms(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(_n.on(this._element,NU,t=>this._start(t)),_n.on(this._element,kU,t=>this._end(t)),this._element.classList.add(zU)):(_n.on(this._element,LU,t=>this._start(t)),_n.on(this._element,PU,t=>this._move(t)),_n.on(this._element,RU,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===FU||t.pointerType===DU)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const UU="carousel",VU="bs.carousel",Rh=`.${VU}`,I4=".data-api",HU="ArrowLeft",YU="ArrowRight",WU=500,pm="next",Gp="prev",eg="left",Z1="right",$U=`slide${Rh}`,e3=`slid${Rh}`,qU=`keydown${Rh}`,XU=`mouseenter${Rh}`,KU=`mouseleave${Rh}`,ZU=`dragstart${Rh}`,JU=`load${Rh}${I4}`,QU=`click${Rh}${I4}`,O4="carousel",J_="active",tV="slide",eV="carousel-item-end",nV="carousel-item-start",rV="carousel-item-next",iV="carousel-item-prev",L4=".active",P4=".carousel-item",aV=L4+P4,oV=".carousel-item img",sV=".carousel-indicators",lV="[data-bs-slide], [data-bs-slide-to]",uV='[data-bs-ride="carousel"]',cV={[HU]:Z1,[YU]:eg},fV={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},hV={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class by extends Eu{constructor(t,n){super(t,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=nr.findOne(sV,this._element),this._addEventListeners(),this._config.ride===O4&&this.cycle()}static get Default(){return fV}static get DefaultType(){return hV}static get NAME(){return UU}next(){this._slide(pm)}nextWhenVisible(){!document.hidden&&I0(this._element)&&this.next()}prev(){this._slide(Gp)}pause(){this._isSliding&&y4(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){_n.one(this._element,e3,()=>this.cycle());return}this.cycle()}}to(t){const n=this._getItems();if(t>n.length-1||t<0)return;if(this._isSliding){_n.one(this._element,e3,()=>this.to(t));return}const r=this._getItemIndex(this._getActive());if(r===t)return;const i=t>r?pm:Gp;this._slide(i,n[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&_n.on(this._element,qU,t=>this._keydown(t)),this._config.pause==="hover"&&(_n.on(this._element,XU,()=>this.pause()),_n.on(this._element,KU,()=>this._maybeEnableCycle())),this._config.touch&&mx.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of nr.find(oV,this._element))_n.on(r,ZU,i=>i.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(eg)),rightCallback:()=>this._slide(this._directionToOrder(Z1)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),WU+this._config.interval))}};this._swipeHelper=new mx(this._element,n)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const n=cV[t.key];n&&(t.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const n=nr.findOne(L4,this._indicatorsElement);n.classList.remove(J_),n.removeAttribute("aria-current");const r=nr.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);r&&(r.classList.add(J_),r.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const n=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(t,n=null){if(this._isSliding)return;const r=this._getActive(),i=t===pm,a=n||JE(this._getItems(),r,i,this._config.wrap);if(a===r)return;const s=this._getItemIndex(a),o=d=>_n.trigger(this._element,d,{relatedTarget:a,direction:this._orderToDirection(t),from:this._getItemIndex(r),to:s});if(o($U).defaultPrevented||!r||!a)return;const f=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=a;const u=i?nV:eV,c=i?rV:iV;a.classList.add(c),_y(a),r.classList.add(u),a.classList.add(u);const h=()=>{a.classList.remove(u,c),a.classList.add(J_),r.classList.remove(J_,c,u),this._isSliding=!1,o(e3)};this._queueCallback(h,r,this._isAnimated()),f&&this.cycle()}_isAnimated(){return this._element.classList.contains(tV)}_getActive(){return nr.findOne(aV,this._element)}_getItems(){return nr.find(P4,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return Rl()?t===eg?Gp:pm:t===eg?pm:Gp}_orderToDirection(t){return Rl()?t===Gp?eg:Z1:t===Gp?Z1:eg}static jQueryInterface(t){return this.each(function(){const n=by.getOrCreateInstance(this,t);if(typeof t=="number"){n.to(t);return}if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}_n.on(document,QU,lV,function(e){const t=nr.getElementFromSelector(this);if(!t||!t.classList.contains(O4))return;e.preventDefault();const n=by.getOrCreateInstance(t),r=this.getAttribute("data-bs-slide-to");if(r){n.to(r),n._maybeEnableCycle();return}if(Wc.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});_n.on(window,JU,()=>{const e=nr.find(uV);for(const t of e)by.getOrCreateInstance(t)});$l(by);const dV="collapse",pV="bs.collapse",wy=`.${pV}`,gV=".data-api",mV=`show${wy}`,vV=`shown${wy}`,yV=`hide${wy}`,_V=`hidden${wy}`,xV=`click${wy}${gV}`,n3="show",cg="collapse",Q_="collapsing",bV="collapsed",wV=`:scope .${cg} .${cg}`,TV="collapse-horizontal",EV="width",MV="height",SV=".collapse.show, .collapse.collapsing",eT='[data-bs-toggle="collapse"]',CV={parent:null,toggle:!0},AV={parent:"(null|element)",toggle:"boolean"};class Qm extends Eu{constructor(t,n){super(t,n),this._isTransitioning=!1,this._triggerArray=[];const r=nr.find(eT);for(const i of r){const a=nr.getSelectorFromElement(i),s=nr.find(a).filter(o=>o===this._element);a!==null&&s.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return CV}static get DefaultType(){return AV}static get NAME(){return dV}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(SV).filter(o=>o!==this._element).map(o=>Qm.getOrCreateInstance(o,{toggle:!1}))),t.length&&t[0]._isTransitioning||_n.trigger(this._element,mV).defaultPrevented)return;for(const o of t)o.hide();const r=this._getDimension();this._element.classList.remove(cg),this._element.classList.add(Q_),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Q_),this._element.classList.add(cg,n3),this._element.style[r]="",_n.trigger(this._element,vV)},s=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown()||_n.trigger(this._element,yV).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,_y(this._element),this._element.classList.add(Q_),this._element.classList.remove(cg,n3);for(const i of this._triggerArray){const a=nr.getElementFromSelector(i);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Q_),this._element.classList.add(cg),_n.trigger(this._element,_V)};this._element.style[n]="",this._queueCallback(r,this._element,!0)}_isShown(t=this._element){return t.classList.contains(n3)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=ch(t.parent),t}_getDimension(){return this._element.classList.contains(TV)?EV:MV}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(eT);for(const n of t){const r=nr.getElementFromSelector(n);r&&this._addAriaAndCollapsedClass([n],this._isShown(r))}}_getFirstLevelChildren(t){const n=nr.find(wV,this._config.parent);return nr.find(t,this._config.parent).filter(r=>!n.includes(r))}_addAriaAndCollapsedClass(t,n){if(t.length)for(const r of t)r.classList.toggle(bV,!n),r.setAttribute("aria-expanded",n)}static jQueryInterface(t){const n={};return typeof t=="string"&&/show|hide/.test(t)&&(n.toggle=!1),this.each(function(){const r=Qm.getOrCreateInstance(this,n);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t]()}})}}_n.on(document,xV,eT,function(e){(e.target.tagName==="A"||e.delegateTarget&&e.delegateTarget.tagName==="A")&&e.preventDefault();for(const t of nr.getMultipleElementsFromSelector(this))Qm.getOrCreateInstance(t,{toggle:!1}).toggle()});$l(Qm);const oI="dropdown",IV="bs.dropdown",rp=`.${IV}`,tM=".data-api",OV="Escape",sI="Tab",LV="ArrowUp",lI="ArrowDown",PV=2,RV=`hide${rp}`,NV=`hidden${rp}`,kV=`show${rp}`,DV=`shown${rp}`,R4=`click${rp}${tM}`,N4=`keydown${rp}${tM}`,FV=`keyup${rp}${tM}`,ng="show",zV="dropup",BV="dropend",GV="dropstart",jV="dropup-center",UV="dropdown-center",dd='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',VV=`${dd}.${ng}`,J1=".dropdown-menu",HV=".navbar",YV=".navbar-nav",WV=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",$V=Rl()?"top-end":"top-start",qV=Rl()?"top-start":"top-end",XV=Rl()?"bottom-end":"bottom-start",KV=Rl()?"bottom-start":"bottom-end",ZV=Rl()?"left-start":"right-start",JV=Rl()?"right-start":"left-start",QV="top",tH="bottom",eH={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},nH={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Qu extends Eu{constructor(t,n){super(t,n),this._popper=null,this._parent=this._element.parentNode,this._menu=nr.next(this._element,J1)[0]||nr.prev(this._element,J1)[0]||nr.findOne(J1,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return eH}static get DefaultType(){return nH}static get NAME(){return oI}toggle(){return this._isShown()?this.hide():this.show()}show(){if(fh(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!_n.trigger(this._element,kV,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(YV))for(const r of[].concat(...document.body.children))_n.on(r,"mouseover",gx);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ng),this._element.classList.add(ng),_n.trigger(this._element,DV,t)}}hide(){if(fh(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!_n.trigger(this._element,RV,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))_n.off(r,"mouseover",gx);this._popper&&this._popper.destroy(),this._menu.classList.remove(ng),this._element.classList.remove(ng),this._element.setAttribute("aria-expanded","false"),Wc.removeDataAttribute(this._menu,"popper"),_n.trigger(this._element,NV,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!Yc(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${oI.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof m4>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:Yc(this._config.reference)?t=ch(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const n=this._getPopperConfig();this._popper=ZE(t,this._menu,n)}_isShown(){return this._menu.classList.contains(ng)}_getPlacement(){const t=this._parent;if(t.classList.contains(BV))return ZV;if(t.classList.contains(GV))return JV;if(t.classList.contains(jV))return QV;if(t.classList.contains(UV))return tH;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(zV)?n?qV:$V:n?KV:XV}_detectNavbar(){return this._element.closest(HV)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Wc.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...ms(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:n}){const r=nr.find(WV,this._menu).filter(i=>I0(i));r.length&&JE(r,n,t===lI,!r.includes(n)).focus()}static jQueryInterface(t){return this.each(function(){const n=Qu.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}static clearMenus(t){if(t.button===PV||t.type==="keyup"&&t.key!==sI)return;const n=nr.find(VV);for(const r of n){const i=Qu.getInstance(r);if(!i||i._config.autoClose===!1)continue;const a=t.composedPath(),s=a.includes(i._menu);if(a.includes(i._element)||i._config.autoClose==="inside"&&!s||i._config.autoClose==="outside"&&s||i._menu.contains(t.target)&&(t.type==="keyup"&&t.key===sI||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const o={relatedTarget:i._element};t.type==="click"&&(o.clickEvent=t),i._completeHide(o)}}static dataApiKeydownHandler(t){const n=/input|textarea/i.test(t.target.tagName),r=t.key===OV,i=[LV,lI].includes(t.key);if(!i&&!r||n&&!r)return;t.preventDefault();const a=this.matches(dd)?this:nr.prev(this,dd)[0]||nr.next(this,dd)[0]||nr.findOne(dd,t.delegateTarget.parentNode),s=Qu.getOrCreateInstance(a);if(i){t.stopPropagation(),s.show(),s._selectMenuItem(t);return}s._isShown()&&(t.stopPropagation(),s.hide(),a.focus())}}_n.on(document,N4,dd,Qu.dataApiKeydownHandler);_n.on(document,N4,J1,Qu.dataApiKeydownHandler);_n.on(document,R4,Qu.clearMenus);_n.on(document,FV,Qu.clearMenus);_n.on(document,R4,dd,function(e){e.preventDefault(),Qu.getOrCreateInstance(this).toggle()});$l(Qu);const k4="backdrop",rH="fade",uI="show",cI=`mousedown.bs.${k4}`,iH={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},aH={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class D4 extends xy{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return iH}static get DefaultType(){return aH}static get NAME(){return k4}show(t){if(!this._config.isVisible){ms(t);return}this._append();const n=this._getElement();this._config.isAnimated&&_y(n),n.classList.add(uI),this._emulateAnimation(()=>{ms(t)})}hide(t){if(!this._config.isVisible){ms(t);return}this._getElement().classList.remove(uI),this._emulateAnimation(()=>{this.dispose(),ms(t)})}dispose(){this._isAppended&&(_n.off(this._element,cI),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(rH),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=ch(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),_n.on(t,cI,()=>{ms(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){b4(t,this._getElement(),this._config.isAnimated)}}const oH="focustrap",sH="bs.focustrap",vx=`.${sH}`,lH=`focusin${vx}`,uH=`keydown.tab${vx}`,cH="Tab",fH="forward",fI="backward",hH={autofocus:!0,trapElement:null},dH={autofocus:"boolean",trapElement:"element"};class F4 extends xy{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return hH}static get DefaultType(){return dH}static get NAME(){return oH}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),_n.off(document,vx),_n.on(document,lH,t=>this._handleFocusin(t)),_n.on(document,uH,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,_n.off(document,vx))}_handleFocusin(t){const{trapElement:n}=this._config;if(t.target===document||t.target===n||n.contains(t.target))return;const r=nr.focusableChildren(n);r.length===0?n.focus():this._lastTabNavDirection===fI?r[r.length-1].focus():r[0].focus()}_handleKeydown(t){t.key===cH&&(this._lastTabNavDirection=t.shiftKey?fI:fH)}}const hI=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",dI=".sticky-top",t1="padding-right",pI="margin-right";class nT{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,t1,n=>n+t),this._setElementAttributes(hI,t1,n=>n+t),this._setElementAttributes(dI,pI,n=>n-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,t1),this._resetElementAttributes(hI,t1),this._resetElementAttributes(dI,pI)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,n,r){const i=this.getWidth(),a=s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+i)return;this._saveInitialAttribute(s,n);const o=window.getComputedStyle(s).getPropertyValue(n);s.style.setProperty(n,`${r(Number.parseFloat(o))}px`)};this._applyManipulationCallback(t,a)}_saveInitialAttribute(t,n){const r=t.style.getPropertyValue(n);r&&Wc.setDataAttribute(t,n,r)}_resetElementAttributes(t,n){const r=i=>{const a=Wc.getDataAttribute(i,n);if(a===null){i.style.removeProperty(n);return}Wc.removeDataAttribute(i,n),i.style.setProperty(n,a)};this._applyManipulationCallback(t,r)}_applyManipulationCallback(t,n){if(Yc(t)){n(t);return}for(const r of nr.find(t,this._element))n(r)}}const pH="modal",gH="bs.modal",Nl=`.${gH}`,mH=".data-api",vH="Escape",yH=`hide${Nl}`,_H=`hidePrevented${Nl}`,z4=`hidden${Nl}`,B4=`show${Nl}`,xH=`shown${Nl}`,bH=`resize${Nl}`,wH=`click.dismiss${Nl}`,TH=`mousedown.dismiss${Nl}`,EH=`keydown.dismiss${Nl}`,MH=`click${Nl}${mH}`,gI="modal-open",SH="fade",mI="show",r3="modal-static",CH=".modal.show",AH=".modal-dialog",IH=".modal-body",OH='[data-bs-toggle="modal"]',LH={backdrop:!0,focus:!0,keyboard:!0},PH={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class zg extends Eu{constructor(t,n){super(t,n),this._dialog=nr.findOne(AH,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new nT,this._addEventListeners()}static get Default(){return LH}static get DefaultType(){return PH}static get NAME(){return pH}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||_n.trigger(this._element,B4,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(gI),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||_n.trigger(this._element,yH).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(mI),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){_n.off(window,Nl),_n.off(this._dialog,Nl),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new D4({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new F4({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=nr.findOne(IH,this._dialog);n&&(n.scrollTop=0),_y(this._element),this._element.classList.add(mI);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,_n.trigger(this._element,xH,{relatedTarget:t})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){_n.on(this._element,EH,t=>{if(t.key===vH){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),_n.on(window,bH,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),_n.on(this._element,TH,t=>{_n.one(this._element,wH,n=>{if(!(this._element!==t.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(gI),this._resetAdjustments(),this._scrollBar.reset(),_n.trigger(this._element,z4)})}_isAnimated(){return this._element.classList.contains(SH)}_triggerBackdropTransition(){if(_n.trigger(this._element,_H).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(r3)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(r3),this._queueCallback(()=>{this._element.classList.remove(r3),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),r=n>0;if(r&&!t){const i=Rl()?"paddingLeft":"paddingRight";this._element.style[i]=`${n}px`}if(!r&&t){const i=Rl()?"paddingRight":"paddingLeft";this._element.style[i]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,n){return this.each(function(){const r=zg.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t](n)}})}}_n.on(document,MH,OH,function(e){const t=nr.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),_n.one(t,B4,i=>{i.defaultPrevented||_n.one(t,z4,()=>{I0(this)&&this.focus()})});const n=nr.findOne(CH);n&&zg.getInstance(n).hide(),zg.getOrCreateInstance(t).toggle(this)});Ib(zg);$l(zg);const RH="offcanvas",NH="bs.offcanvas",df=`.${NH}`,G4=".data-api",kH=`load${df}${G4}`,DH="Escape",vI="show",yI="showing",_I="hiding",FH="offcanvas-backdrop",j4=".offcanvas.show",zH=`show${df}`,BH=`shown${df}`,GH=`hide${df}`,xI=`hidePrevented${df}`,U4=`hidden${df}`,jH=`resize${df}`,UH=`click${df}${G4}`,VH=`keydown.dismiss${df}`,HH='[data-bs-toggle="offcanvas"]',YH={backdrop:!0,keyboard:!0,scroll:!1},WH={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class hh extends Eu{constructor(t,n){super(t,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return YH}static get DefaultType(){return WH}static get NAME(){return RH}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||_n.trigger(this._element,zH,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new nT().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(yI);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(vI),this._element.classList.remove(yI),_n.trigger(this._element,BH,{relatedTarget:t})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||_n.trigger(this._element,GH).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(_I),this._backdrop.hide();const n=()=>{this._element.classList.remove(vI,_I),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new nT().reset(),_n.trigger(this._element,U4)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){_n.trigger(this._element,xI);return}this.hide()},n=!!this._config.backdrop;return new D4({className:FH,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?t:null})}_initializeFocusTrap(){return new F4({trapElement:this._element})}_addEventListeners(){_n.on(this._element,VH,t=>{if(t.key===DH){if(this._config.keyboard){this.hide();return}_n.trigger(this._element,xI)}})}static jQueryInterface(t){return this.each(function(){const n=hh.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}_n.on(document,UH,HH,function(e){const t=nr.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),fh(this))return;_n.one(t,U4,()=>{I0(this)&&this.focus()});const n=nr.findOne(j4);n&&n!==t&&hh.getInstance(n).hide(),hh.getOrCreateInstance(t).toggle(this)});_n.on(window,kH,()=>{for(const e of nr.find(j4))hh.getOrCreateInstance(e).show()});_n.on(window,jH,()=>{for(const e of nr.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(e).position!=="fixed"&&hh.getOrCreateInstance(e).hide()});Ib(hh);$l(hh);const $H=/^aria-[\w-]*$/i,V4={"*":["class","dir","id","lang","role",$H],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},qH=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),XH=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,KH=(e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?qH.has(n)?!!XH.test(e.nodeValue):!0:t.filter(r=>r instanceof RegExp).some(r=>r.test(n))};function ZH(e,t,n){if(!e.length)return e;if(n&&typeof n=="function")return n(e);const i=new window.DOMParser().parseFromString(e,"text/html"),a=[].concat(...i.body.querySelectorAll("*"));for(const s of a){const o=s.nodeName.toLowerCase();if(!Object.keys(t).includes(o)){s.remove();continue}const l=[].concat(...s.attributes),f=[].concat(t["*"]||[],t[o]||[]);for(const u of l)KH(u,f)||s.removeAttribute(u.nodeName)}return i.body.innerHTML}const JH="TemplateFactory",QH={allowList:V4,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},tY={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},eY={entry:"(string|element|function|null)",selector:"(string|element)"};class nY extends xy{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return QH}static get DefaultType(){return tY}static get NAME(){return JH}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[i,a]of Object.entries(this._config.content))this._setContent(t,a,i);const n=t.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&n.classList.add(...r.split(" ")),n}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[n,r]of Object.entries(t))super._typeCheckConfig({selector:n,entry:r},eY)}_setContent(t,n,r){const i=nr.findOne(r,t);if(i){if(n=this._resolvePossibleFunction(n),!n){i.remove();return}if(Yc(n)){this._putElementInTemplate(ch(n),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(n);return}i.textContent=n}}_maybeSanitize(t){return this._config.sanitize?ZH(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return ms(t,[this])}_putElementInTemplate(t,n){if(this._config.html){n.innerHTML="",n.append(t);return}n.textContent=t.textContent}}const rY="tooltip",iY=new Set(["sanitize","allowList","sanitizeFn"]),i3="fade",aY="modal",e1="show",oY=".tooltip-inner",bI=`.${aY}`,wI="hide.bs.modal",gm="hover",a3="focus",sY="click",lY="manual",uY="hide",cY="hidden",fY="show",hY="shown",dY="inserted",pY="click",gY="focusin",mY="focusout",vY="mouseenter",yY="mouseleave",_Y={AUTO:"auto",TOP:"top",RIGHT:Rl()?"left":"right",BOTTOM:"bottom",LEFT:Rl()?"right":"left"},xY={allowList:V4,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},bY={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class L0 extends Eu{constructor(t,n){if(typeof m4>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return xY}static get DefaultType(){return bY}static get NAME(){return rY}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),_n.off(this._element.closest(bI),wI,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=_n.trigger(this._element,this.constructor.eventName(fY)),r=(_4(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:a}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(i),_n.trigger(this._element,this.constructor.eventName(dY))),this._popper=this._createPopper(i),i.classList.add(e1),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))_n.on(o,"mouseover",gx);const s=()=>{_n.trigger(this._element,this.constructor.eventName(hY)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(s,this.tip,this._isAnimated())}hide(){if(!this._isShown()||_n.trigger(this._element,this.constructor.eventName(uY)).defaultPrevented)return;if(this._getTipElement().classList.remove(e1),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))_n.off(i,"mouseover",gx);this._activeTrigger[sY]=!1,this._activeTrigger[a3]=!1,this._activeTrigger[gm]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),_n.trigger(this._element,this.constructor.eventName(cY)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const n=this._getTemplateFactory(t).toHtml();if(!n)return null;n.classList.remove(i3,e1),n.classList.add(`bs-${this.constructor.NAME}-auto`);const r=sU(this.constructor.NAME).toString();return n.setAttribute("id",r),this._isAnimated()&&n.classList.add(i3),n}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new nY({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[oY]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(i3)}_isShown(){return this.tip&&this.tip.classList.contains(e1)}_createPopper(t){const n=ms(this._config.placement,[this,t,this._element]),r=_Y[n.toUpperCase()];return ZE(this._element,t,this._getPopperConfig(r))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_resolvePossibleFunction(t){return ms(t,[this._element])}_getPopperConfig(t){const n={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...n,...ms(this._config.popperConfig,[n])}}_setListeners(){const t=this._config.trigger.split(" ");for(const n of t)if(n==="click")_n.on(this._element,this.constructor.eventName(pY),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(n!==lY){const r=n===gm?this.constructor.eventName(vY):this.constructor.eventName(gY),i=n===gm?this.constructor.eventName(yY):this.constructor.eventName(mY);_n.on(this._element,r,this._config.selector,a=>{const s=this._initializeOnDelegatedTarget(a);s._activeTrigger[a.type==="focusin"?a3:gm]=!0,s._enter()}),_n.on(this._element,i,this._config.selector,a=>{const s=this._initializeOnDelegatedTarget(a);s._activeTrigger[a.type==="focusout"?a3:gm]=s._element.contains(a.relatedTarget),s._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},_n.on(this._element.closest(bI),wI,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,n){clearTimeout(this._timeout),this._timeout=setTimeout(t,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const n=Wc.getDataAttributes(this._element);for(const r of Object.keys(n))iY.has(r)&&delete n[r];return t={...n,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:ch(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[n,r]of Object.entries(this._config))this.constructor.Default[n]!==r&&(t[n]=r);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const n=L0.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}$l(L0);const wY="popover",TY=".popover-header",EY=".popover-body",MY={...L0.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},SY={...L0.DefaultType,content:"(null|string|element|function)"};class eM extends L0{static get Default(){return MY}static get DefaultType(){return SY}static get NAME(){return wY}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[TY]:this._getTitle(),[EY]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const n=eM.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}$l(eM);const CY="scrollspy",AY="bs.scrollspy",nM=`.${AY}`,IY=".data-api",OY=`activate${nM}`,TI=`click${nM}`,LY=`load${nM}${IY}`,PY="dropdown-item",jp="active",RY='[data-bs-spy="scroll"]',o3="[href]",NY=".nav, .list-group",EI=".nav-link",kY=".nav-item",DY=".list-group-item",FY=`${EI}, ${kY} > ${EI}, ${DY}`,zY=".dropdown",BY=".dropdown-toggle",GY={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},jY={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Pb extends Eu{constructor(t,n){super(t,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return GY}static get DefaultType(){return jY}static get NAME(){return CY}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=ch(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(n=>Number.parseFloat(n))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(_n.off(this._config.target,TI),_n.on(this._config.target,TI,o3,t=>{const n=this._observableSections.get(t.target.hash);if(n){t.preventDefault();const r=this._rootElement||window,i=n.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),t)}_observerCallback(t){const n=s=>this._targetLinks.get(`#${s.target.id}`),r=s=>{this._previousScrollData.visibleEntryTop=s.target.offsetTop,this._process(n(s))},i=(this._rootElement||document.documentElement).scrollTop,a=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const s of t){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(s));continue}const o=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&o){if(r(s),!i)return;continue}!a&&!o&&r(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=nr.find(o3,this._config.target);for(const n of t){if(!n.hash||fh(n))continue;const r=nr.findOne(decodeURI(n.hash),this._element);I0(r)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,r))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(jp),this._activateParents(t),_n.trigger(this._element,OY,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(PY)){nr.findOne(BY,t.closest(zY)).classList.add(jp);return}for(const n of nr.parents(t,NY))for(const r of nr.prev(n,FY))r.classList.add(jp)}_clearActiveClass(t){t.classList.remove(jp);const n=nr.find(`${o3}.${jp}`,t);for(const r of n)r.classList.remove(jp)}static jQueryInterface(t){return this.each(function(){const n=Pb.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}_n.on(window,LY,()=>{for(const e of nr.find(RY))Pb.getOrCreateInstance(e)});$l(Pb);const UY="tab",VY="bs.tab",ip=`.${VY}`,HY=`hide${ip}`,YY=`hidden${ip}`,WY=`show${ip}`,$Y=`shown${ip}`,qY=`click${ip}`,XY=`keydown${ip}`,KY=`load${ip}`,ZY="ArrowLeft",MI="ArrowRight",JY="ArrowUp",SI="ArrowDown",s3="Home",CI="End",pd="active",AI="fade",l3="show",QY="dropdown",H4=".dropdown-toggle",tW=".dropdown-menu",u3=`:not(${H4})`,eW='.list-group, .nav, [role="tablist"]',nW=".nav-item, .list-group-item",rW=`.nav-link${u3}, .list-group-item${u3}, [role="tab"]${u3}`,Y4='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',c3=`${rW}, ${Y4}`,iW=`.${pd}[data-bs-toggle="tab"], .${pd}[data-bs-toggle="pill"], .${pd}[data-bs-toggle="list"]`;class Bg extends Eu{constructor(t){super(t),this._parent=this._element.closest(eW),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),_n.on(this._element,XY,n=>this._keydown(n)))}static get NAME(){return UY}show(){const t=this._element;if(this._elemIsActive(t))return;const n=this._getActiveElem(),r=n?_n.trigger(n,HY,{relatedTarget:t}):null;_n.trigger(t,WY,{relatedTarget:n}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(n,t),this._activate(t,n))}_activate(t,n){if(!t)return;t.classList.add(pd),this._activate(nr.getElementFromSelector(t));const r=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(l3);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),_n.trigger(t,$Y,{relatedTarget:n})};this._queueCallback(r,t,t.classList.contains(AI))}_deactivate(t,n){if(!t)return;t.classList.remove(pd),t.blur(),this._deactivate(nr.getElementFromSelector(t));const r=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(l3);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),_n.trigger(t,YY,{relatedTarget:n})};this._queueCallback(r,t,t.classList.contains(AI))}_keydown(t){if(![ZY,MI,JY,SI,s3,CI].includes(t.key))return;t.stopPropagation(),t.preventDefault();const n=this._getChildren().filter(i=>!fh(i));let r;if([s3,CI].includes(t.key))r=n[t.key===s3?0:n.length-1];else{const i=[MI,SI].includes(t.key);r=JE(n,t.target,i,!0)}r&&(r.focus({preventScroll:!0}),Bg.getOrCreateInstance(r).show())}_getChildren(){return nr.find(c3,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,n){this._setAttributeIfNotExists(t,"role","tablist");for(const r of n)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const n=this._elemIsActive(t),r=this._getOuterElement(t);t.setAttribute("aria-selected",n),r!==t&&this._setAttributeIfNotExists(r,"role","presentation"),n||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const n=nr.getElementFromSelector(t);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,n){const r=this._getOuterElement(t);if(!r.classList.contains(QY))return;const i=(a,s)=>{const o=nr.findOne(a,r);o&&o.classList.toggle(s,n)};i(H4,pd),i(tW,l3),r.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(t,n,r){t.hasAttribute(n)||t.setAttribute(n,r)}_elemIsActive(t){return t.classList.contains(pd)}_getInnerElement(t){return t.matches(c3)?t:nr.findOne(c3,t)}_getOuterElement(t){return t.closest(nW)||t}static jQueryInterface(t){return this.each(function(){const n=Bg.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}_n.on(document,qY,Y4,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),!fh(this)&&Bg.getOrCreateInstance(this).show()});_n.on(window,KY,()=>{for(const e of nr.find(iW))Bg.getOrCreateInstance(e)});$l(Bg);const aW="toast",oW="bs.toast",Nh=`.${oW}`,sW=`mouseover${Nh}`,lW=`mouseout${Nh}`,uW=`focusin${Nh}`,cW=`focusout${Nh}`,fW=`hide${Nh}`,hW=`hidden${Nh}`,dW=`show${Nh}`,pW=`shown${Nh}`,gW="fade",II="hide",n1="show",r1="showing",mW={animation:"boolean",autohide:"boolean",delay:"number"},vW={animation:!0,autohide:!0,delay:5e3};class Rb extends Eu{constructor(t,n){super(t,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return vW}static get DefaultType(){return mW}static get NAME(){return aW}show(){if(_n.trigger(this._element,dW).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(gW);const n=()=>{this._element.classList.remove(r1),_n.trigger(this._element,pW),this._maybeScheduleHide()};this._element.classList.remove(II),_y(this._element),this._element.classList.add(n1,r1),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||_n.trigger(this._element,fW).defaultPrevented)return;const n=()=>{this._element.classList.add(II),this._element.classList.remove(r1,n1),_n.trigger(this._element,hW)};this._element.classList.add(r1),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(n1),super.dispose()}isShown(){return this._element.classList.contains(n1)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,n){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const r=t.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){_n.on(this._element,sW,t=>this._onInteraction(t,!0)),_n.on(this._element,lW,t=>this._onInteraction(t,!1)),_n.on(this._element,uW,t=>this._onInteraction(t,!0)),_n.on(this._element,cW,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const n=Rb.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}Ib(Rb);$l(Rb);function As(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const yi={},xg=[],Xo=()=>{},Q1=()=>!1,yW=/^on[^a-z]/,ap=e=>yW.test(e),rM=e=>e.startsWith("onUpdate:"),Qr=Object.assign,iM=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},_W=Object.prototype.hasOwnProperty,Kr=(e,t)=>_W.call(e,t),Fn=Array.isArray,bg=e=>P0(e)==="[object Map]",op=e=>P0(e)==="[object Set]",OI=e=>P0(e)==="[object Date]",xW=e=>P0(e)==="[object RegExp]",gr=e=>typeof e=="function",Tr=e=>typeof e=="string",ef=e=>typeof e=="symbol",_i=e=>e!==null&&typeof e=="object",aM=e=>(_i(e)||gr(e))&&gr(e.then)&&gr(e.catch),W4=Object.prototype.toString,P0=e=>W4.call(e),bW=e=>P0(e).slice(8,-1),$4=e=>P0(e)==="[object Object]",oM=e=>Tr(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,wd=As(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wW=As("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Nb=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},TW=/-(\w)/g,Ia=Nb(e=>e.replace(TW,(t,n)=>n?n.toUpperCase():"")),EW=/\B([A-Z])/g,Ys=Nb(e=>e.replace(EW,"-$1").toLowerCase()),sp=Nb(e=>e.charAt(0).toUpperCase()+e.slice(1)),wg=Nb(e=>e?`on${sp(e)}`:""),dh=(e,t)=>!Object.is(e,t),Tg=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},yx=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},_x=e=>{const t=parseFloat(e);return isNaN(t)?e:t},xx=e=>{const t=Tr(e)?Number(e):NaN;return isNaN(t)?e:t};let LI;const rT=()=>LI||(LI=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),MW="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",SW=As(MW);function Ty(e){if(Fn(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Tr(r)?q4(r):Ty(r);if(i)for(const a in i)t[a]=i[a]}return t}else if(Tr(e)||_i(e))return e}const CW=/;(?![^(]*\))/g,AW=/:([^]+)/,IW=/\/\*[^]*?\*\//g;function q4(e){const t={};return e.replace(IW,"").split(CW).forEach(n=>{if(n){const r=n.split(AW);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ey(e){let t="";if(Tr(e))t=e;else if(Fn(e))for(let n=0;n<e.length;n++){const r=Ey(e[n]);r&&(t+=r+" ")}else if(_i(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function OW(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Tr(t)&&(e.class=Ey(t)),n&&(e.style=Ty(n)),e}const LW="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",PW="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",RW="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",NW=As(LW),kW=As(PW),DW=As(RW),FW="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",zW=As(FW);function X4(e){return!!e||e===""}function BW(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=ph(e[r],t[r]);return n}function ph(e,t){if(e===t)return!0;let n=OI(e),r=OI(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=ef(e),r=ef(t),n||r)return e===t;if(n=Fn(e),r=Fn(t),n||r)return n&&r?BW(e,t):!1;if(n=_i(e),r=_i(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,a=Object.keys(t).length;if(i!==a)return!1;for(const s in e){const o=e.hasOwnProperty(s),l=t.hasOwnProperty(s);if(o&&!l||!o&&l||!ph(e[s],t[s]))return!1}}return String(e)===String(t)}function kb(e,t){return e.findIndex(n=>ph(n,t))}const GW=e=>Tr(e)?e:e==null?"":Fn(e)||_i(e)&&(e.toString===W4||!gr(e.toString))?JSON.stringify(e,K4,2):String(e),K4=(e,t)=>t&&t.__v_isRef?K4(e,t.value):bg(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:op(t)?{[`Set(${t.size})`]:[...t.values()]}:_i(t)&&!Fn(t)&&!$4(t)?String(t):t;let Us;class sM{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Us,!t&&Us&&(this.index=(Us.scopes||(Us.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Us;try{return Us=this,t()}finally{Us=n}}}on(){Us=this}off(){Us=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Z4(e){return new sM(e)}function J4(e,t=Us){t&&t.active&&t.effects.push(e)}function Q4(){return Us}function jW(e){Us&&Us.cleanups.push(e)}const lM=e=>{const t=new Set(e);return t.w=0,t.n=0,t},t6=e=>(e.w&gh)>0,e6=e=>(e.n&gh)>0,UW=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=gh},VW=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];t6(i)&&!e6(i)?i.delete(e):t[n++]=i,i.w&=~gh,i.n&=~gh}t.length=n}},bx=new WeakMap;let Cm=0,gh=1;const iT=30;let su;const Td=Symbol(""),aT=Symbol("");class Gg{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,J4(this,r)}run(){if(!this.active)return this.fn();let t=su,n=rh;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=su,su=this,rh=!0,gh=1<<++Cm,Cm<=iT?UW(this):PI(this),this.fn()}finally{Cm<=iT&&VW(this),gh=1<<--Cm,su=this.parent,rh=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){su===this?this.deferStop=!0:this.active&&(PI(this),this.onStop&&this.onStop(),this.active=!1)}}function PI(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function HW(e,t){e.effect instanceof Gg&&(e=e.effect.fn);const n=new Gg(e);t&&(Qr(n,t),t.scope&&J4(n,t.scope)),(!t||!t.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function YW(e){e.effect.stop()}let rh=!0;const n6=[];function R0(){n6.push(rh),rh=!1}function N0(){const e=n6.pop();rh=e===void 0?!0:e}function Es(e,t,n){if(rh&&su){let r=bx.get(e);r||bx.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=lM()),r6(i)}}function r6(e,t){let n=!1;Cm<=iT?e6(e)||(e.n|=gh,n=!t6(e)):n=!e.has(su),n&&(e.add(su),su.deps.push(e))}function $c(e,t,n,r,i,a){const s=bx.get(e);if(!s)return;let o=[];if(t==="clear")o=[...s.values()];else if(n==="length"&&Fn(e)){const l=Number(r);s.forEach((f,u)=>{(u==="length"||!ef(u)&&u>=l)&&o.push(f)})}else switch(n!==void 0&&o.push(s.get(n)),t){case"add":Fn(e)?oM(n)&&o.push(s.get("length")):(o.push(s.get(Td)),bg(e)&&o.push(s.get(aT)));break;case"delete":Fn(e)||(o.push(s.get(Td)),bg(e)&&o.push(s.get(aT)));break;case"set":bg(e)&&o.push(s.get(Td));break}if(o.length===1)o[0]&&oT(o[0]);else{const l=[];for(const f of o)f&&l.push(...f);oT(lM(l))}}function oT(e,t){const n=Fn(e)?e:[...e];for(const r of n)r.computed&&RI(r);for(const r of n)r.computed||RI(r)}function RI(e,t){(e!==su||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function WW(e,t){var n;return(n=bx.get(e))==null?void 0:n.get(t)}const $W=As("__proto__,__v_isRef,__isVue"),i6=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ef)),NI=qW();function qW(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Vr(this);for(let a=0,s=this.length;a<s;a++)Es(r,"get",a+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(Vr)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){R0();const r=Vr(this)[t].apply(this,n);return N0(),r}}),e}function XW(e){const t=Vr(this);return Es(t,"has",e),t.hasOwnProperty(e)}class a6{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,r){const i=this._isReadonly,a=this._shallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return a;if(n==="__v_raw"&&r===(i?a?f6:c6:a?u6:l6).get(t))return t;const s=Fn(t);if(!i){if(s&&Kr(NI,n))return Reflect.get(NI,n,r);if(n==="hasOwnProperty")return XW}const o=Reflect.get(t,n,r);return(ef(n)?i6.has(n):$W(n))||(i||Es(t,"get",n),a)?o:Ga(o)?s&&oM(n)?o:o.value:_i(o)?i?fM(o):k0(o):o}}class o6 extends a6{constructor(t=!1){super(!1,t)}set(t,n,r,i){let a=t[n];if(kd(a)&&Ga(a)&&!Ga(r))return!1;if(!this._shallow&&(!tv(r)&&!kd(r)&&(a=Vr(a),r=Vr(r)),!Fn(t)&&Ga(a)&&!Ga(r)))return a.value=r,!0;const s=Fn(t)&&oM(n)?Number(n)<t.length:Kr(t,n),o=Reflect.set(t,n,r,i);return t===Vr(i)&&(s?dh(r,a)&&$c(t,"set",n,r):$c(t,"add",n,r)),o}deleteProperty(t,n){const r=Kr(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&$c(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!ef(n)||!i6.has(n))&&Es(t,"has",n),r}ownKeys(t){return Es(t,"iterate",Fn(t)?"length":Td),Reflect.ownKeys(t)}}class s6 extends a6{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const KW=new o6,ZW=new s6,JW=new o6(!0),QW=new s6(!0),uM=e=>e,Db=e=>Reflect.getPrototypeOf(e);function i1(e,t,n=!1,r=!1){e=e.__v_raw;const i=Vr(e),a=Vr(t);n||(dh(t,a)&&Es(i,"get",t),Es(i,"get",a));const{has:s}=Db(i),o=r?uM:n?pM:ev;if(s.call(i,t))return o(e.get(t));if(s.call(i,a))return o(e.get(a));e!==i&&e.get(t)}function a1(e,t=!1){const n=this.__v_raw,r=Vr(n),i=Vr(e);return t||(dh(e,i)&&Es(r,"has",e),Es(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function o1(e,t=!1){return e=e.__v_raw,!t&&Es(Vr(e),"iterate",Td),Reflect.get(e,"size",e)}function kI(e){e=Vr(e);const t=Vr(this);return Db(t).has.call(t,e)||(t.add(e),$c(t,"add",e,e)),this}function DI(e,t){t=Vr(t);const n=Vr(this),{has:r,get:i}=Db(n);let a=r.call(n,e);a||(e=Vr(e),a=r.call(n,e));const s=i.call(n,e);return n.set(e,t),a?dh(t,s)&&$c(n,"set",e,t):$c(n,"add",e,t),this}function FI(e){const t=Vr(this),{has:n,get:r}=Db(t);let i=n.call(t,e);i||(e=Vr(e),i=n.call(t,e)),r&&r.call(t,e);const a=t.delete(e);return i&&$c(t,"delete",e,void 0),a}function zI(){const e=Vr(this),t=e.size!==0,n=e.clear();return t&&$c(e,"clear",void 0,void 0),n}function s1(e,t){return function(r,i){const a=this,s=a.__v_raw,o=Vr(s),l=t?uM:e?pM:ev;return!e&&Es(o,"iterate",Td),s.forEach((f,u)=>r.call(i,l(f),l(u),a))}}function l1(e,t,n){return function(...r){const i=this.__v_raw,a=Vr(i),s=bg(a),o=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,f=i[e](...r),u=n?uM:t?pM:ev;return!t&&Es(a,"iterate",l?aT:Td),{next(){const{value:c,done:h}=f.next();return h?{value:c,done:h}:{value:o?[u(c[0]),u(c[1])]:u(c),done:h}},[Symbol.iterator](){return this}}}}function kf(e){return function(...t){return e==="delete"?!1:this}}function t$(){const e={get(a){return i1(this,a)},get size(){return o1(this)},has:a1,add:kI,set:DI,delete:FI,clear:zI,forEach:s1(!1,!1)},t={get(a){return i1(this,a,!1,!0)},get size(){return o1(this)},has:a1,add:kI,set:DI,delete:FI,clear:zI,forEach:s1(!1,!0)},n={get(a){return i1(this,a,!0)},get size(){return o1(this,!0)},has(a){return a1.call(this,a,!0)},add:kf("add"),set:kf("set"),delete:kf("delete"),clear:kf("clear"),forEach:s1(!0,!1)},r={get(a){return i1(this,a,!0,!0)},get size(){return o1(this,!0)},has(a){return a1.call(this,a,!0)},add:kf("add"),set:kf("set"),delete:kf("delete"),clear:kf("clear"),forEach:s1(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{e[a]=l1(a,!1,!1),n[a]=l1(a,!0,!1),t[a]=l1(a,!1,!0),r[a]=l1(a,!0,!0)}),[e,n,t,r]}const[e$,n$,r$,i$]=t$();function Fb(e,t){const n=t?e?i$:r$:e?n$:e$;return(r,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Kr(n,i)&&i in r?n:r,i,a)}const a$={get:Fb(!1,!1)},o$={get:Fb(!1,!0)},s$={get:Fb(!0,!1)},l$={get:Fb(!0,!0)},l6=new WeakMap,u6=new WeakMap,c6=new WeakMap,f6=new WeakMap;function u$(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function c$(e){return e.__v_skip||!Object.isExtensible(e)?0:u$(bW(e))}function k0(e){return kd(e)?e:zb(e,!1,KW,a$,l6)}function cM(e){return zb(e,!1,JW,o$,u6)}function fM(e){return zb(e,!0,ZW,s$,c6)}function f$(e){return zb(e,!0,QW,l$,f6)}function zb(e,t,n,r,i){if(!_i(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=i.get(e);if(a)return a;const s=c$(e);if(s===0)return e;const o=new Proxy(e,s===2?r:n);return i.set(e,o),o}function Ed(e){return kd(e)?Ed(e.__v_raw):!!(e&&e.__v_isReactive)}function kd(e){return!!(e&&e.__v_isReadonly)}function tv(e){return!!(e&&e.__v_isShallow)}function hM(e){return Ed(e)||kd(e)}function Vr(e){const t=e&&e.__v_raw;return t?Vr(t):e}function dM(e){return yx(e,"__v_skip",!0),e}const ev=e=>_i(e)?k0(e):e,pM=e=>_i(e)?fM(e):e;function gM(e){rh&&su&&(e=Vr(e),r6(e.dep||(e.dep=lM())))}function Bb(e,t){e=Vr(e);const n=e.dep;n&&oT(n)}function Ga(e){return!!(e&&e.__v_isRef===!0)}function Md(e){return d6(e,!1)}function h6(e){return d6(e,!0)}function d6(e,t){return Ga(e)?e:new h$(e,t)}class h${constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Vr(t),this._value=n?t:ev(t)}get value(){return gM(this),this._value}set value(t){const n=this.__v_isShallow||tv(t)||kd(t);t=n?t:Vr(t),dh(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:ev(t),Bb(this))}}function d$(e){Bb(e)}function ih(e){return Ga(e)?e.value:e}function p$(e){return gr(e)?e():ih(e)}const g$={get:(e,t,n)=>ih(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Ga(i)&&!Ga(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function mM(e){return Ed(e)?e:new Proxy(e,g$)}class m${constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=t(()=>gM(this),()=>Bb(this));this._get=n,this._set=r}get value(){return this._get()}set value(t){this._set(t)}}function v$(e){return new m$(e)}function y$(e){const t=Fn(e)?new Array(e.length):{};for(const n in e)t[n]=p6(e,n);return t}class _${constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return WW(Vr(this._object),this._key)}}class x${constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function b$(e,t,n){return Ga(e)?e:gr(e)?new x$(e):_i(e)&&arguments.length>1?p6(e,t,n):Md(e)}function p6(e,t,n){const r=e[t];return Ga(r)?r:new _$(e,t,n)}class w${constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Gg(t,()=>{this._dirty||(this._dirty=!0,Bb(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=Vr(this);return gM(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function T$(e,t,n=!1){let r,i;const a=gr(e);return a?(r=e,i=Xo):(r=e.get,i=e.set),new w$(r,i,a||!i,n)}function E$(e,...t){}function M$(e,t){}function qc(e,t,n,r){let i;try{i=r?e(...r):e()}catch(a){lp(a,t,n)}return i}function $s(e,t,n,r){if(gr(e)){const a=qc(e,t,n,r);return a&&aM(a)&&a.catch(s=>{lp(s,t,n)}),a}const i=[];for(let a=0;a<e.length;a++)i.push($s(e[a],t,n,r));return i}function lp(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let a=t.parent;const s=t.proxy,o=n;for(;a;){const f=a.ec;if(f){for(let u=0;u<f.length;u++)if(f[u](e,s,o)===!1)return}a=a.parent}const l=t.appContext.config.errorHandler;if(l){qc(l,null,10,[e,s,o]);return}}S$(e,n,i,r)}function S$(e,t,n,r=!0){console.error(e)}let nv=!1,sT=!1;const Mo=[];let Vu=0;const Eg=[];let Gc=null,ud=0;const g6=Promise.resolve();let vM=null;function Gb(e){const t=vM||g6;return e?t.then(this?e.bind(this):e):t}function C$(e){let t=Vu+1,n=Mo.length;for(;t<n;){const r=t+n>>>1,i=Mo[r],a=rv(i);a<e||a===e&&i.pre?t=r+1:n=r}return t}function jb(e){(!Mo.length||!Mo.includes(e,nv&&e.allowRecurse?Vu+1:Vu))&&(e.id==null?Mo.push(e):Mo.splice(C$(e.id),0,e),m6())}function m6(){!nv&&!sT&&(sT=!0,vM=g6.then(v6))}function A$(e){const t=Mo.indexOf(e);t>Vu&&Mo.splice(t,1)}function wx(e){Fn(e)?Eg.push(...e):(!Gc||!Gc.includes(e,e.allowRecurse?ud+1:ud))&&Eg.push(e),m6()}function BI(e,t=nv?Vu+1:0){for(;t<Mo.length;t++){const n=Mo[t];n&&n.pre&&(Mo.splice(t,1),t--,n())}}function Tx(e){if(Eg.length){const t=[...new Set(Eg)];if(Eg.length=0,Gc){Gc.push(...t);return}for(Gc=t,Gc.sort((n,r)=>rv(n)-rv(r)),ud=0;ud<Gc.length;ud++)Gc[ud]();Gc=null,ud=0}}const rv=e=>e.id==null?1/0:e.id,I$=(e,t)=>{const n=rv(e)-rv(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function v6(e){sT=!1,nv=!0,Mo.sort(I$);const t=Xo;try{for(Vu=0;Vu<Mo.length;Vu++){const n=Mo[Vu];n&&n.active!==!1&&qc(n,null,14)}}finally{Vu=0,Mo.length=0,Tx(),nv=!1,vM=null,(Mo.length||Eg.length)&&v6()}}let rg,u1=[];function y6(e,t){var n,r;rg=e,rg?(rg.enabled=!0,u1.forEach(({event:i,args:a})=>rg.emit(i,...a)),u1=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(a=>{y6(a,t)}),setTimeout(()=>{rg||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,u1=[])},3e3)):u1=[]}function O$(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||yi;let i=n;const a=t.startsWith("update:"),s=a&&t.slice(7);if(s&&s in r){const u=`${s==="modelValue"?"model":s}Modifiers`,{number:c,trim:h}=r[u]||yi;h&&(i=n.map(d=>Tr(d)?d.trim():d)),c&&(i=n.map(_x))}let o,l=r[o=wg(t)]||r[o=wg(Ia(t))];!l&&a&&(l=r[o=wg(Ys(t))]),l&&$s(l,e,6,i);const f=r[o+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,$s(f,e,6,i)}}function _6(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const a=e.emits;let s={},o=!1;if(!gr(e)){const l=f=>{const u=_6(f,t,!0);u&&(o=!0,Qr(s,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!o?(_i(e)&&r.set(e,null),null):(Fn(a)?a.forEach(l=>s[l]=null):Qr(s,a),_i(e)&&r.set(e,s),s)}function Ub(e,t){return!e||!ap(t)?!1:(t=t.slice(2).replace(/Once$/,""),Kr(e,t[0].toLowerCase()+t.slice(1))||Kr(e,Ys(t))||Kr(e,t))}let Za=null,Vb=null;function iv(e){const t=Za;return Za=e,Vb=e&&e.type.__scopeId||null,t}function L$(e){Vb=e}function P$(){Vb=null}const R$=e=>yM;function yM(e,t=Za,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&pT(-1);const a=iv(t);let s;try{s=e(...i)}finally{iv(a),r._d&&pT(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function tx(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:a,propsOptions:[s],slots:o,attrs:l,emit:f,render:u,renderCache:c,data:h,setupState:d,ctx:p,inheritAttrs:g}=e;let m,v;const y=iv(e);try{if(n.shapeFlag&4){const x=i||r;m=Vs(u.call(x,x,c,a,d,h,p)),v=l}else{const x=t;m=Vs(x.length>1?x(a,{attrs:l,slots:o,emit:f}):x(a,null)),v=t.props?l:k$(l)}}catch(x){Vm.length=0,lp(x,e,1),m=ki(Co)}let _=m;if(v&&g!==!1){const x=Object.keys(v),{shapeFlag:w}=_;x.length&&w&7&&(s&&x.some(rM)&&(v=D$(v,s)),_=sc(_,v))}return n.dirs&&(_=sc(_),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),m=_,iv(y),m}function N$(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(mh(r)){if(r.type!==Co||r.children==="v-if"){if(t)return;t=r}}else return}return t}const k$=e=>{let t;for(const n in e)(n==="class"||n==="style"||ap(n))&&((t||(t={}))[n]=e[n]);return t},D$=(e,t)=>{const n={};for(const r in e)(!rM(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function F$(e,t,n){const{props:r,children:i,component:a}=e,{props:s,children:o,patchFlag:l}=t,f=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?GI(r,s,f):!!s;if(l&8){const u=t.dynamicProps;for(let c=0;c<u.length;c++){const h=u[c];if(s[h]!==r[h]&&!Ub(f,h))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:r===s?!1:r?s?GI(r,s,f):!0:!!s;return!1}function GI(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const a=r[i];if(t[a]!==e[a]&&!Ub(n,a))return!0}return!1}function _M({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const x6=e=>e.__isSuspense,z$={name:"Suspense",__isSuspense:!0,process(e,t,n,r,i,a,s,o,l,f){e==null?G$(t,n,r,i,a,s,o,l,f):j$(e,t,n,r,i,s,o,l,f)},hydrate:U$,create:xM,normalize:V$},B$=z$;function av(e,t){const n=e.props&&e.props[t];gr(n)&&n()}function G$(e,t,n,r,i,a,s,o,l){const{p:f,o:{createElement:u}}=l,c=u("div"),h=e.suspense=xM(e,i,r,t,c,n,a,s,o,l);f(null,h.pendingBranch=e.ssContent,c,null,r,h,a,s),h.deps>0?(av(e,"onPending"),av(e,"onFallback"),f(null,e.ssFallback,t,n,r,null,a,s),Mg(h,e.ssFallback)):h.resolve(!1,!0)}function j$(e,t,n,r,i,a,s,o,{p:l,um:f,o:{createElement:u}}){const c=t.suspense=e.suspense;c.vnode=t,t.el=e.el;const h=t.ssContent,d=t.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:m,isHydrating:v}=c;if(g)c.pendingBranch=h,lu(h,g)?(l(g,h,c.hiddenContainer,null,i,c,a,s,o),c.deps<=0?c.resolve():m&&(l(p,d,n,r,i,null,a,s,o),Mg(c,d))):(c.pendingId++,v?(c.isHydrating=!1,c.activeBranch=g):f(g,i,c),c.deps=0,c.effects.length=0,c.hiddenContainer=u("div"),m?(l(null,h,c.hiddenContainer,null,i,c,a,s,o),c.deps<=0?c.resolve():(l(p,d,n,r,i,null,a,s,o),Mg(c,d))):p&&lu(h,p)?(l(p,h,n,r,i,c,a,s,o),c.resolve(!0)):(l(null,h,c.hiddenContainer,null,i,c,a,s,o),c.deps<=0&&c.resolve()));else if(p&&lu(h,p))l(p,h,n,r,i,c,a,s,o),Mg(c,h);else if(av(t,"onPending"),c.pendingBranch=h,c.pendingId++,l(null,h,c.hiddenContainer,null,i,c,a,s,o),c.deps<=0)c.resolve();else{const{timeout:y,pendingId:_}=c;y>0?setTimeout(()=>{c.pendingId===_&&c.fallback(d)},y):y===0&&c.fallback(d)}}function xM(e,t,n,r,i,a,s,o,l,f,u=!1){const{p:c,m:h,um:d,n:p,o:{parentNode:g,remove:m}}=f;let v;const y=H$(e);y&&t?.pendingBranch&&(v=t.pendingId,t.deps++);const _=e.props?xx(e.props.timeout):void 0,x={vnode:e,parent:t,parentComponent:n,isSVG:s,container:r,hiddenContainer:i,anchor:a,deps:0,pendingId:0,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:u,isUnmounted:!1,effects:[],resolve(w=!1,E=!1){const{vnode:S,activeBranch:C,pendingBranch:T,pendingId:A,effects:O,parentComponent:P,container:F}=x;let R=!1;if(x.isHydrating)x.isHydrating=!1;else if(!w){R=C&&T.transition&&T.transition.mode==="out-in",R&&(C.transition.afterLeave=()=>{A===x.pendingId&&(h(T,F,I,0),wx(O))});let{anchor:I}=x;C&&(I=p(C),d(C,P,x,!0)),R||h(T,F,I,0)}Mg(x,T),x.pendingBranch=null,x.isInFallback=!1;let N=x.parent,D=!1;for(;N;){if(N.pendingBranch){N.effects.push(...O),D=!0;break}N=N.parent}!D&&!R&&wx(O),x.effects=[],y&&t&&t.pendingBranch&&v===t.pendingId&&(t.deps--,t.deps===0&&!E&&t.resolve()),av(S,"onResolve")},fallback(w){if(!x.pendingBranch)return;const{vnode:E,activeBranch:S,parentComponent:C,container:T,isSVG:A}=x;av(E,"onFallback");const O=p(S),P=()=>{x.isInFallback&&(c(null,w,T,O,C,null,A,o,l),Mg(x,w))},F=w.transition&&w.transition.mode==="out-in";F&&(S.transition.afterLeave=P),x.isInFallback=!0,d(S,C,null,!0),F||P()},move(w,E,S){x.activeBranch&&h(x.activeBranch,w,E,S),x.container=w},next(){return x.activeBranch&&p(x.activeBranch)},registerDep(w,E){const S=!!x.pendingBranch;S&&x.deps++;const C=w.vnode.el;w.asyncDep.catch(T=>{lp(T,w,0)}).then(T=>{if(w.isUnmounted||x.isUnmounted||x.pendingId!==w.suspenseId)return;w.asyncResolved=!0;const{vnode:A}=w;gT(w,T,!1),C&&(A.el=C);const O=!C&&w.subTree.el;E(w,A,g(C||w.subTree.el),C?null:p(w.subTree),x,s,l),O&&m(O),_M(w,A.el),S&&--x.deps===0&&x.resolve()})},unmount(w,E){x.isUnmounted=!0,x.activeBranch&&d(x.activeBranch,n,w,E),x.pendingBranch&&d(x.pendingBranch,n,w,E)}};return x}function U$(e,t,n,r,i,a,s,o,l){const f=t.suspense=xM(t,r,n,e.parentNode,document.createElement("div"),null,i,a,s,o,!0),u=l(e,f.pendingBranch=t.ssContent,n,f,a,s);return f.deps===0&&f.resolve(!1,!0),u}function V$(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=jI(r?n.default:n),e.ssFallback=r?jI(n.fallback):ki(Co)}function jI(e){let t;if(gr(e)){const n=zd&&e._c;n&&(e._d=!1,Xb()),e=e(),n&&(e._d=!0,t=ys,K6())}return Fn(e)&&(e=N$(e)),e=Vs(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function b6(e,t){t&&t.pendingBranch?Fn(e)?t.effects.push(...e):t.effects.push(e):wx(e)}function Mg(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e,i=n.el=t.el;r&&r.subTree===n&&(r.vnode.el=i,_M(r,i))}function H$(e){var t;return((t=e.props)==null?void 0:t.suspensible)!=null&&e.props.suspensible!==!1}function Y$(e,t){return My(e,null,t)}function w6(e,t){return My(e,null,{flush:"post"})}function W$(e,t){return My(e,null,{flush:"sync"})}const c1={};function tc(e,t,n){return My(e,t,n)}function My(e,t,{immediate:n,deep:r,flush:i,onTrack:a,onTrigger:s}=yi){var o;const l=Q4()===((o=Sa)==null?void 0:o.scope)?Sa:null;let f,u=!1,c=!1;if(Ga(e)?(f=()=>e.value,u=tv(e)):Ed(e)?(f=()=>e,r=!0):Fn(e)?(c=!0,u=e.some(x=>Ed(x)||tv(x)),f=()=>e.map(x=>{if(Ga(x))return x.value;if(Ed(x))return gd(x);if(gr(x))return qc(x,l,2)})):gr(e)?t?f=()=>qc(e,l,2):f=()=>{if(!(l&&l.isUnmounted))return h&&h(),$s(e,l,3,[d])}:f=Xo,t&&r){const x=f;f=()=>gd(x())}let h,d=x=>{h=y.onStop=()=>{qc(x,l,4)}},p;if(Ug)if(d=Xo,t?n&&$s(t,l,3,[f(),c?[]:void 0,d]):f(),i==="sync"){const x=lR();p=x.__watcherHandles||(x.__watcherHandles=[])}else return Xo;let g=c?new Array(e.length).fill(c1):c1;const m=()=>{if(y.active)if(t){const x=y.run();(r||u||(c?x.some((w,E)=>dh(w,g[E])):dh(x,g)))&&(h&&h(),$s(t,l,3,[x,g===c1?void 0:c&&g[0]===c1?[]:g,d]),g=x)}else y.run()};m.allowRecurse=!!t;let v;i==="sync"?v=m:i==="post"?v=()=>fo(m,l&&l.suspense):(m.pre=!0,l&&(m.id=l.uid),v=()=>jb(m));const y=new Gg(f,v);t?n?m():g=y.run():i==="post"?fo(y.run.bind(y),l&&l.suspense):y.run();const _=()=>{y.stop(),l&&l.scope&&iM(l.scope.effects,y)};return p&&p.push(_),_}function $$(e,t,n){const r=this.proxy,i=Tr(e)?e.includes(".")?T6(r,e):()=>r[e]:e.bind(r,r);let a;gr(t)?a=t:(a=t.handler,n=t);const s=Sa;vh(this);const o=My(i,a.bind(r),n);return s?vh(s):ah(),o}function T6(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function gd(e,t){if(!_i(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ga(e))gd(e.value,t);else if(Fn(e))for(let n=0;n<e.length;n++)gd(e[n],t);else if(op(e)||bg(e))e.forEach(n=>{gd(n,t)});else if($4(e))for(const n in e)gd(e[n],t);return e}function q$(e,t){const n=Za;if(n===null)return e;const r=Zb(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[s,o,l,f=yi]=t[a];s&&(gr(s)&&(s={mounted:s,updated:s}),s.deep&&gd(o),i.push({dir:s,instance:r,value:o,oldValue:void 0,arg:l,modifiers:f}))}return e}function ju(e,t,n,r){const i=e.dirs,a=t&&t.dirs;for(let s=0;s<i.length;s++){const o=i[s];a&&(o.oldValue=a[s].value);let l=o.dir[r];l&&(R0(),$s(l,n,8,[e.el,o,e,t]),N0())}}const Kf=Symbol("_leaveCb"),f1=Symbol("_enterCb");function bM(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ay(()=>{e.isMounted=!0}),$b(()=>{e.isUnmounting=!0}),e}const yl=[Function,Array],wM={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:yl,onEnter:yl,onAfterEnter:yl,onEnterCancelled:yl,onBeforeLeave:yl,onLeave:yl,onAfterLeave:yl,onLeaveCancelled:yl,onBeforeAppear:yl,onAppear:yl,onAfterAppear:yl,onAppearCancelled:yl},X$={name:"BaseTransition",props:wM,setup(e,{slots:t}){const n=gf(),r=bM();let i;return()=>{const a=t.default&&Hb(t.default(),!0);if(!a||!a.length)return;let s=a[0];if(a.length>1){for(const g of a)if(g.type!==Co){s=g;break}}const o=Vr(e),{mode:l}=o;if(r.isLeaving)return f3(s);const f=UI(s);if(!f)return f3(s);const u=jg(f,o,r,n);Dd(f,u);const c=n.subTree,h=c&&UI(c);let d=!1;const{getTransitionKey:p}=f.type;if(p){const g=p();i===void 0?i=g:g!==i&&(i=g,d=!0)}if(h&&h.type!==Co&&(!lu(f,h)||d)){const g=jg(h,o,r,n);if(Dd(h,g),l==="out-in")return r.isLeaving=!0,g.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},f3(s);l==="in-out"&&f.type!==Co&&(g.delayLeave=(m,v,y)=>{const _=M6(r,h);_[String(h.key)]=h,m[Kf]=()=>{v(),m[Kf]=void 0,delete u.delayedLeave},u.delayedLeave=y})}return s}}},E6=X$;function M6(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function jg(e,t,n,r){const{appear:i,mode:a,persisted:s=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:f,onEnterCancelled:u,onBeforeLeave:c,onLeave:h,onAfterLeave:d,onLeaveCancelled:p,onBeforeAppear:g,onAppear:m,onAfterAppear:v,onAppearCancelled:y}=t,_=String(e.key),x=M6(n,e),w=(C,T)=>{C&&$s(C,r,9,T)},E=(C,T)=>{const A=T[1];w(C,T),Fn(C)?C.every(O=>O.length<=1)&&A():C.length<=1&&A()},S={mode:a,persisted:s,beforeEnter(C){let T=o;if(!n.isMounted)if(i)T=g||o;else return;C[Kf]&&C[Kf](!0);const A=x[_];A&&lu(e,A)&&A.el[Kf]&&A.el[Kf](),w(T,[C])},enter(C){let T=l,A=f,O=u;if(!n.isMounted)if(i)T=m||l,A=v||f,O=y||u;else return;let P=!1;const F=C[f1]=R=>{P||(P=!0,R?w(O,[C]):w(A,[C]),S.delayedLeave&&S.delayedLeave(),C[f1]=void 0)};T?E(T,[C,F]):F()},leave(C,T){const A=String(e.key);if(C[f1]&&C[f1](!0),n.isUnmounting)return T();w(c,[C]);let O=!1;const P=C[Kf]=F=>{O||(O=!0,T(),F?w(p,[C]):w(d,[C]),C[Kf]=void 0,x[A]===e&&delete x[A])};x[A]=e,h?E(h,[C,P]):P()},clone(C){return jg(C,t,n,r)}};return S}function f3(e){if(Cy(e))return e=sc(e),e.children=null,e}function UI(e){return Cy(e)?e.children?e.children[0]:void 0:e}function Dd(e,t){e.shapeFlag&6&&e.component?Dd(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Hb(e,t=!1,n){let r=[],i=0;for(let a=0;a<e.length;a++){let s=e[a];const o=n==null?s.key:String(n)+String(s.key!=null?s.key:a);s.type===go?(s.patchFlag&128&&i++,r=r.concat(Hb(s.children,t,o))):(t||s.type!==Co)&&r.push(o!=null?sc(s,{key:o}):s)}if(i>1)for(let a=0;a<r.length;a++)r[a].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Sy(e,t){return gr(e)?(()=>Qr({name:e.name},t,{setup:e}))():e}const Sd=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function K$(e){gr(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:i=200,timeout:a,suspensible:s=!0,onError:o}=e;let l=null,f,u=0;const c=()=>(u++,l=null,h()),h=()=>{let d;return l||(d=l=t().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),o)return new Promise((g,m)=>{o(p,()=>g(c()),()=>m(p),u+1)});throw p}).then(p=>d!==l&&l?l:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),f=p,p)))};return Sy({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return f},setup(){const d=Sa;if(f)return()=>h3(f,d);const p=y=>{l=null,lp(y,d,13,!r)};if(s&&d.suspense||Ug)return h().then(y=>()=>h3(y,d)).catch(y=>(p(y),()=>r?ki(r,{error:y}):null));const g=Md(!1),m=Md(),v=Md(!!i);return i&&setTimeout(()=>{v.value=!1},i),a!=null&&setTimeout(()=>{if(!g.value&&!m.value){const y=new Error(`Async component timed out after ${a}ms.`);p(y),m.value=y}},a),h().then(()=>{g.value=!0,d.parent&&Cy(d.parent.vnode)&&jb(d.parent.update)}).catch(y=>{p(y),m.value=y}),()=>{if(g.value&&f)return h3(f,d);if(m.value&&r)return ki(r,{error:m.value});if(n&&!v.value)return ki(n)}}})}function h3(e,t){const{ref:n,props:r,children:i,ce:a}=t.vnode,s=ki(e,r,i);return s.ref=n,s.ce=a,delete t.vnode.ce,s}const Cy=e=>e.type.__isKeepAlive,Z$={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=gf(),r=n.ctx;if(!r.renderer)return()=>{const y=t.default&&t.default();return y&&y.length===1?y[0]:y};const i=new Map,a=new Set;let s=null;const o=n.suspense,{renderer:{p:l,m:f,um:u,o:{createElement:c}}}=r,h=c("div");r.activate=(y,_,x,w,E)=>{const S=y.component;f(y,_,x,0,o),l(S.vnode,y,_,x,S,o,w,y.slotScopeIds,E),fo(()=>{S.isDeactivated=!1,S.a&&Tg(S.a);const C=y.props&&y.props.onVnodeMounted;C&&ds(C,S.parent,y)},o)},r.deactivate=y=>{const _=y.component;f(y,h,null,1,o),fo(()=>{_.da&&Tg(_.da);const x=y.props&&y.props.onVnodeUnmounted;x&&ds(x,_.parent,y),_.isDeactivated=!0},o)};function d(y){d3(y),u(y,n,o,!0)}function p(y){i.forEach((_,x)=>{const w=vT(_.type);w&&(!y||!y(w))&&g(x)})}function g(y){const _=i.get(y);!s||!lu(_,s)?d(_):s&&d3(s),i.delete(y),a.delete(y)}tc(()=>[e.include,e.exclude],([y,_])=>{y&&p(x=>Am(y,x)),_&&p(x=>!Am(_,x))},{flush:"post",deep:!0});let m=null;const v=()=>{m!=null&&i.set(m,p3(n.subTree))};return Ay(v),Wb(v),$b(()=>{i.forEach(y=>{const{subTree:_,suspense:x}=n,w=p3(_);if(y.type===w.type&&y.key===w.key){d3(w);const E=w.component.da;E&&fo(E,x);return}d(y)})}),()=>{if(m=null,!t.default)return null;const y=t.default(),_=y[0];if(y.length>1)return s=null,y;if(!mh(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return s=null,_;let x=p3(_);const w=x.type,E=vT(Sd(x)?x.type.__asyncResolved||{}:w),{include:S,exclude:C,max:T}=e;if(S&&(!E||!Am(S,E))||C&&E&&Am(C,E))return s=x,_;const A=x.key==null?w:x.key,O=i.get(A);return x.el&&(x=sc(x),_.shapeFlag&128&&(_.ssContent=x)),m=A,O?(x.el=O.el,x.component=O.component,x.transition&&Dd(x,x.transition),x.shapeFlag|=512,a.delete(A),a.add(A)):(a.add(A),T&&a.size>parseInt(T,10)&&g(a.values().next().value)),x.shapeFlag|=256,s=x,x6(_.type)?_:x}}},J$=Z$;function Am(e,t){return Fn(e)?e.some(n=>Am(n,t)):Tr(e)?e.split(",").includes(t):xW(e)?e.test(t):!1}function S6(e,t){A6(e,"a",t)}function C6(e,t){A6(e,"da",t)}function A6(e,t,n=Sa){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Yb(t,r,n),n){let i=n.parent;for(;i&&i.parent;)Cy(i.parent.vnode)&&Q$(r,t,n,i),i=i.parent}}function Q$(e,t,n,r){const i=Yb(t,e,r,!0);qb(()=>{iM(r[t],i)},n)}function d3(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function p3(e){return e.shapeFlag&128?e.ssContent:e}function Yb(e,t,n=Sa,r=!1){if(n){const i=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...s)=>{if(n.isUnmounted)return;R0(),vh(n);const o=$s(t,n,e,s);return ah(),N0(),o});return r?i.unshift(a):i.push(a),a}}const pf=e=>(t,n=Sa)=>(!Ug||e==="sp")&&Yb(e,(...r)=>t(...r),n),I6=pf("bm"),Ay=pf("m"),O6=pf("bu"),Wb=pf("u"),$b=pf("bum"),qb=pf("um"),L6=pf("sp"),P6=pf("rtg"),R6=pf("rtc");function N6(e,t=Sa){Yb("ec",e,t)}const TM="components",tq="directives";function eq(e,t){return EM(TM,e,!0,t)||e}const k6=Symbol.for("v-ndc");function nq(e){return Tr(e)?EM(TM,e,!1)||e:e||k6}function rq(e){return EM(tq,e)}function EM(e,t,n=!0,r=!1){const i=Za||Sa;if(i){const a=i.type;if(e===TM){const o=vT(a,!1);if(o&&(o===t||o===Ia(t)||o===sp(Ia(t))))return a}const s=VI(i[e]||a[e],t)||VI(i.appContext[e],t);return!s&&r?a:s}}function VI(e,t){return e&&(e[t]||e[Ia(t)]||e[sp(Ia(t))])}function iq(e,t,n,r){let i;const a=n&&n[r];if(Fn(e)||Tr(e)){i=new Array(e.length);for(let s=0,o=e.length;s<o;s++)i[s]=t(e[s],s,void 0,a&&a[s])}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,a&&a[s])}else if(_i(e))if(e[Symbol.iterator])i=Array.from(e,(s,o)=>t(s,o,void 0,a&&a[o]));else{const s=Object.keys(e);i=new Array(s.length);for(let o=0,l=s.length;o<l;o++){const f=s[o];i[o]=t(e[f],f,o,a&&a[o])}}else i=[];return n&&(n[r]=i),i}function aq(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(Fn(r))for(let i=0;i<r.length;i++)e[r[i].name]=r[i].fn;else r&&(e[r.name]=r.key?(...i)=>{const a=r.fn(...i);return a&&(a.key=r.key),a}:r.fn)}return e}function oq(e,t,n={},r,i){if(Za.isCE||Za.parent&&Sd(Za.parent)&&Za.parent.isCE)return t!=="default"&&(n.name=t),ki("slot",n,r&&r());let a=e[t];a&&a._c&&(a._d=!1),Xb();const s=a&&D6(a(n)),o=AM(go,{key:n.key||s&&s.key||`_${t}`},s||(r?r():[]),s&&e._===1?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),a&&a._c&&(a._d=!0),o}function D6(e){return e.some(t=>mh(t)?!(t.type===Co||t.type===go&&!D6(t.children)):!0)?e:null}function sq(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:wg(r)]=e[r];return n}const lT=e=>e?nR(e)?Zb(e)||e.proxy:lT(e.parent):null,Gm=Qr(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>lT(e.parent),$root:e=>lT(e.root),$emit:e=>e.emit,$options:e=>MM(e),$forceUpdate:e=>e.f||(e.f=()=>jb(e.update)),$nextTick:e=>e.n||(e.n=Gb.bind(e.proxy)),$watch:e=>$$.bind(e)}),g3=(e,t)=>e!==yi&&!e.__isScriptSetup&&Kr(e,t),uT={get({_:e},t){const{ctx:n,setupState:r,data:i,props:a,accessCache:s,type:o,appContext:l}=e;let f;if(t[0]!=="$"){const d=s[t];if(d!==void 0)switch(d){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return a[t]}else{if(g3(r,t))return s[t]=1,r[t];if(i!==yi&&Kr(i,t))return s[t]=2,i[t];if((f=e.propsOptions[0])&&Kr(f,t))return s[t]=3,a[t];if(n!==yi&&Kr(n,t))return s[t]=4,n[t];cT&&(s[t]=0)}}const u=Gm[t];let c,h;if(u)return t==="$attrs"&&Es(e,"get",t),u(e);if((c=o.__cssModules)&&(c=c[t]))return c;if(n!==yi&&Kr(n,t))return s[t]=4,n[t];if(h=l.config.globalProperties,Kr(h,t))return h[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:a}=e;return g3(i,t)?(i[t]=n,!0):r!==yi&&Kr(r,t)?(r[t]=n,!0):Kr(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:a}},s){let o;return!!n[s]||e!==yi&&Kr(e,s)||g3(t,s)||(o=a[0])&&Kr(o,s)||Kr(r,s)||Kr(Gm,s)||Kr(i.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Kr(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},lq=Qr({},uT,{get(e,t){if(t!==Symbol.unscopables)return uT.get(e,t,e)},has(e,t){return t[0]!=="_"&&!SW(t)}});function uq(){return null}function cq(){return null}function fq(e){}function hq(e){}function dq(){return null}function pq(){}function gq(e,t){return null}function mq(){return F6().slots}function vq(){return F6().attrs}function yq(e,t,n){const r=gf();if(n&&n.local){const i=Md(e[t]);return tc(()=>e[t],a=>i.value=a),tc(i,a=>{a!==e[t]&&r.emit(`update:${t}`,a)}),i}else return{__v_isRef:!0,get value(){return e[t]},set value(i){r.emit(`update:${t}`,i)}}}function F6(){const e=gf();return e.setupContext||(e.setupContext=oR(e))}function ov(e){return Fn(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function _q(e,t){const n=ov(e);for(const r in t){if(r.startsWith("__skip"))continue;let i=n[r];i?Fn(i)||gr(i)?i=n[r]={type:i,default:t[r]}:i.default=t[r]:i===null&&(i=n[r]={default:t[r]}),i&&t[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function xq(e,t){return!e||!t?e||t:Fn(e)&&Fn(t)?e.concat(t):Qr({},ov(e),ov(t))}function bq(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function wq(e){const t=gf();let n=e();return ah(),aM(n)&&(n=n.catch(r=>{throw vh(t),r})),[n,()=>vh(t)]}let cT=!0;function Tq(e){const t=MM(e),n=e.proxy,r=e.ctx;cT=!1,t.beforeCreate&&HI(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:s,watch:o,provide:l,inject:f,created:u,beforeMount:c,mounted:h,beforeUpdate:d,updated:p,activated:g,deactivated:m,beforeDestroy:v,beforeUnmount:y,destroyed:_,unmounted:x,render:w,renderTracked:E,renderTriggered:S,errorCaptured:C,serverPrefetch:T,expose:A,inheritAttrs:O,components:P,directives:F,filters:R}=t;if(f&&Eq(f,r,null),s)for(const I in s){const B=s[I];gr(B)&&(r[I]=B.bind(n))}if(i){const I=i.call(n,n);_i(I)&&(e.data=k0(I))}if(cT=!0,a)for(const I in a){const B=a[I],j=gr(B)?B.bind(n,n):gr(B.get)?B.get.bind(n,n):Xo,q=!gr(B)&&gr(B.set)?B.set.bind(n):Xo,et=Ws({get:j,set:q});Object.defineProperty(r,I,{enumerable:!0,configurable:!0,get:()=>et.value,set:U=>et.value=U})}if(o)for(const I in o)z6(o[I],r,n,I);if(l){const I=gr(l)?l.call(n):l;Reflect.ownKeys(I).forEach(B=>{jm(B,I[B])})}u&&HI(u,e,"c");function D(I,B){Fn(B)?B.forEach(j=>I(j.bind(n))):B&&I(B.bind(n))}if(D(I6,c),D(Ay,h),D(O6,d),D(Wb,p),D(S6,g),D(C6,m),D(N6,C),D(R6,E),D(P6,S),D($b,y),D(qb,x),D(L6,T),Fn(A))if(A.length){const I=e.exposed||(e.exposed={});A.forEach(B=>{Object.defineProperty(I,B,{get:()=>n[B],set:j=>n[B]=j})})}else e.exposed||(e.exposed={});w&&e.render===Xo&&(e.render=w),O!=null&&(e.inheritAttrs=O),P&&(e.components=P),F&&(e.directives=F)}function Eq(e,t,n=Xo){Fn(e)&&(e=fT(e));for(const r in e){const i=e[r];let a;_i(i)?"default"in i?a=ec(i.from||r,i.default,!0):a=ec(i.from||r):a=ec(i),Ga(a)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s}):t[r]=a}}function HI(e,t,n){$s(Fn(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function z6(e,t,n,r){const i=r.includes(".")?T6(n,r):()=>n[r];if(Tr(e)){const a=t[e];gr(a)&&tc(i,a)}else if(gr(e))tc(i,e.bind(n));else if(_i(e))if(Fn(e))e.forEach(a=>z6(a,t,n,r));else{const a=gr(e.handler)?e.handler.bind(n):t[e.handler];gr(a)&&tc(i,a,e)}}function MM(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:s}}=e.appContext,o=a.get(t);let l;return o?l=o:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(f=>Ex(l,f,s,!0)),Ex(l,t,s)),_i(t)&&a.set(t,l),l}function Ex(e,t,n,r=!1){const{mixins:i,extends:a}=t;a&&Ex(e,a,n,!0),i&&i.forEach(s=>Ex(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const o=Mq[s]||n&&n[s];e[s]=o?o(e[s],t[s]):t[s]}return e}const Mq={data:YI,props:WI,emits:WI,methods:Im,computed:Im,beforeCreate:Uo,created:Uo,beforeMount:Uo,mounted:Uo,beforeUpdate:Uo,updated:Uo,beforeDestroy:Uo,beforeUnmount:Uo,destroyed:Uo,unmounted:Uo,activated:Uo,deactivated:Uo,errorCaptured:Uo,serverPrefetch:Uo,components:Im,directives:Im,watch:Cq,provide:YI,inject:Sq};function YI(e,t){return t?e?function(){return Qr(gr(e)?e.call(this,this):e,gr(t)?t.call(this,this):t)}:t:e}function Sq(e,t){return Im(fT(e),fT(t))}function fT(e){if(Fn(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Uo(e,t){return e?[...new Set([].concat(e,t))]:t}function Im(e,t){return e?Qr(Object.create(null),e,t):t}function WI(e,t){return e?Fn(e)&&Fn(t)?[...new Set([...e,...t])]:Qr(Object.create(null),ov(e),ov(t??{})):t}function Cq(e,t){if(!e)return t;if(!t)return e;const n=Qr(Object.create(null),e);for(const r in t)n[r]=Uo(e[r],t[r]);return n}function B6(){return{app:null,config:{isNativeTag:Q1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Aq=0;function Iq(e,t){return function(r,i=null){gr(r)||(r=Qr({},r)),i!=null&&!_i(i)&&(i=null);const a=B6(),s=new WeakSet;let o=!1;const l=a.app={_uid:Aq++,_component:r,_props:i,_container:null,_context:a,_instance:null,version:cR,get config(){return a.config},set config(f){},use(f,...u){return s.has(f)||(f&&gr(f.install)?(s.add(f),f.install(l,...u)):gr(f)&&(s.add(f),f(l,...u))),l},mixin(f){return a.mixins.includes(f)||a.mixins.push(f),l},component(f,u){return u?(a.components[f]=u,l):a.components[f]},directive(f,u){return u?(a.directives[f]=u,l):a.directives[f]},mount(f,u,c){if(!o){const h=ki(r,i);return h.appContext=a,u&&t?t(h,f):e(h,f,c),o=!0,l._container=f,f.__vue_app__=l,Zb(h.component)||h.component.proxy}},unmount(){o&&(e(null,l._container),delete l._container.__vue_app__)},provide(f,u){return a.provides[f]=u,l},runWithContext(f){sv=l;try{return f()}finally{sv=null}}};return l}}let sv=null;function jm(e,t){if(Sa){let n=Sa.provides;const r=Sa.parent&&Sa.parent.provides;r===n&&(n=Sa.provides=Object.create(r)),n[e]=t}}function ec(e,t,n=!1){const r=Sa||Za;if(r||sv){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:sv._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&gr(t)?t.call(r&&r.proxy):t}}function Oq(){return!!(Sa||Za||sv)}function Lq(e,t,n,r=!1){const i={},a={};yx(a,Kb,1),e.propsDefaults=Object.create(null),G6(e,t,i,a);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=r?i:cM(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function Pq(e,t,n,r){const{props:i,attrs:a,vnode:{patchFlag:s}}=e,o=Vr(i),[l]=e.propsOptions;let f=!1;if((r||s>0)&&!(s&16)){if(s&8){const u=e.vnode.dynamicProps;for(let c=0;c<u.length;c++){let h=u[c];if(Ub(e.emitsOptions,h))continue;const d=t[h];if(l)if(Kr(a,h))d!==a[h]&&(a[h]=d,f=!0);else{const p=Ia(h);i[p]=hT(l,o,p,d,e,!1)}else d!==a[h]&&(a[h]=d,f=!0)}}}else{G6(e,t,i,a)&&(f=!0);let u;for(const c in o)(!t||!Kr(t,c)&&((u=Ys(c))===c||!Kr(t,u)))&&(l?n&&(n[c]!==void 0||n[u]!==void 0)&&(i[c]=hT(l,o,c,void 0,e,!0)):delete i[c]);if(a!==o)for(const c in a)(!t||!Kr(t,c))&&(delete a[c],f=!0)}f&&$c(e,"set","$attrs")}function G6(e,t,n,r){const[i,a]=e.propsOptions;let s=!1,o;if(t)for(let l in t){if(wd(l))continue;const f=t[l];let u;i&&Kr(i,u=Ia(l))?!a||!a.includes(u)?n[u]=f:(o||(o={}))[u]=f:Ub(e.emitsOptions,l)||(!(l in r)||f!==r[l])&&(r[l]=f,s=!0)}if(a){const l=Vr(n),f=o||yi;for(let u=0;u<a.length;u++){const c=a[u];n[c]=hT(i,l,c,f[c],e,!Kr(f,c))}}return s}function hT(e,t,n,r,i,a){const s=e[n];if(s!=null){const o=Kr(s,"default");if(o&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&gr(l)){const{propsDefaults:f}=i;n in f?r=f[n]:(vh(i),r=f[n]=l.call(null,t),ah())}else r=l}s[0]&&(a&&!o?r=!1:s[1]&&(r===""||r===Ys(n))&&(r=!0))}return r}function j6(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const a=e.props,s={},o=[];let l=!1;if(!gr(e)){const u=c=>{l=!0;const[h,d]=j6(c,t,!0);Qr(s,h),d&&o.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!a&&!l)return _i(e)&&r.set(e,xg),xg;if(Fn(a))for(let u=0;u<a.length;u++){const c=Ia(a[u]);$I(c)&&(s[c]=yi)}else if(a)for(const u in a){const c=Ia(u);if($I(c)){const h=a[u],d=s[c]=Fn(h)||gr(h)?{type:h}:Qr({},h);if(d){const p=KI(Boolean,d.type),g=KI(String,d.type);d[0]=p>-1,d[1]=g<0||p<g,(p>-1||Kr(d,"default"))&&o.push(c)}}}const f=[s,o];return _i(e)&&r.set(e,f),f}function $I(e){return e[0]!=="$"}function qI(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function XI(e,t){return qI(e)===qI(t)}function KI(e,t){return Fn(t)?t.findIndex(n=>XI(n,e)):gr(t)&&XI(t,e)?0:-1}const U6=e=>e[0]==="_"||e==="$stable",SM=e=>Fn(e)?e.map(Vs):[Vs(e)],Rq=(e,t,n)=>{if(t._n)return t;const r=yM((...i)=>SM(t(...i)),n);return r._c=!1,r},V6=(e,t,n)=>{const r=e._ctx;for(const i in e){if(U6(i))continue;const a=e[i];if(gr(a))t[i]=Rq(i,a,r);else if(a!=null){const s=SM(a);t[i]=()=>s}}},H6=(e,t)=>{const n=SM(t);e.slots.default=()=>n},Nq=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Vr(t),yx(t,"_",n)):V6(t,e.slots={})}else e.slots={},t&&H6(e,t);yx(e.slots,Kb,1)},kq=(e,t,n)=>{const{vnode:r,slots:i}=e;let a=!0,s=yi;if(r.shapeFlag&32){const o=t._;o?n&&o===1?a=!1:(Qr(i,t),!n&&o===1&&delete i._):(a=!t.$stable,V6(t,i)),s=t}else t&&(H6(e,t),s={default:1});if(a)for(const o in i)!U6(o)&&s[o]==null&&delete i[o]};function Mx(e,t,n,r,i=!1){if(Fn(e)){e.forEach((h,d)=>Mx(h,t&&(Fn(t)?t[d]:t),n,r,i));return}if(Sd(r)&&!i)return;const a=r.shapeFlag&4?Zb(r.component)||r.component.proxy:r.el,s=i?null:a,{i:o,r:l}=e,f=t&&t.r,u=o.refs===yi?o.refs={}:o.refs,c=o.setupState;if(f!=null&&f!==l&&(Tr(f)?(u[f]=null,Kr(c,f)&&(c[f]=null)):Ga(f)&&(f.value=null)),gr(l))qc(l,o,12,[s,u]);else{const h=Tr(l),d=Ga(l);if(h||d){const p=()=>{if(e.f){const g=h?Kr(c,l)?c[l]:u[l]:l.value;i?Fn(g)&&iM(g,a):Fn(g)?g.includes(a)||g.push(a):h?(u[l]=[a],Kr(c,l)&&(c[l]=u[l])):(l.value=[a],e.k&&(u[e.k]=l.value))}else h?(u[l]=s,Kr(c,l)&&(c[l]=s)):d&&(l.value=s,e.k&&(u[e.k]=s))};s?(p.id=-1,fo(p,n)):p()}}}let Df=!1;const h1=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",d1=e=>e.nodeType===8;function Dq(e){const{mt:t,p:n,o:{patchProp:r,createText:i,nextSibling:a,parentNode:s,remove:o,insert:l,createComment:f}}=e,u=(_,x)=>{if(!x.hasChildNodes()){n(null,_,x),Tx(),x._vnode=_;return}Df=!1,c(x.firstChild,_,null,null,null),Tx(),x._vnode=_,Df&&console.error("Hydration completed but contains mismatches.")},c=(_,x,w,E,S,C=!1)=>{const T=d1(_)&&_.data==="[",A=()=>g(_,x,w,E,S,T),{type:O,ref:P,shapeFlag:F,patchFlag:R}=x;let N=_.nodeType;x.el=_,R===-2&&(C=!1,x.dynamicChildren=null);let D=null;switch(O){case Fd:N!==3?x.children===""?(l(x.el=i(""),s(_),_),D=_):D=A():(_.data!==x.children&&(Df=!0,_.data=x.children),D=a(_));break;case Co:if(N!==8||T)if(_.tagName.toLowerCase()==="template"){const I=x.el.content.firstChild;v(I,_,w),x.el=_=I,D=a(_)}else D=A();else D=a(_);break;case Cd:if(T&&(_=a(_),N=_.nodeType),N===1||N===3){D=_;const I=!x.children.length;for(let B=0;B<x.staticCount;B++)I&&(x.children+=D.nodeType===1?D.outerHTML:D.data),B===x.staticCount-1&&(x.anchor=D),D=a(D);return T?a(D):D}else A();break;case go:T?D=p(_,x,w,E,S,C):D=A();break;default:if(F&1)(N!==1||x.type.toLowerCase()!==_.tagName.toLowerCase())&&!y(_)?D=A():D=h(_,x,w,E,S,C);else if(F&6){x.slotScopeIds=S;const I=s(_);if(T?D=m(_):d1(_)&&_.data==="teleport start"?D=m(_,_.data,"teleport end"):D=a(_),t(x,I,null,w,E,h1(I),C),Sd(x)){let B;T?(B=ki(go),B.anchor=D?D.previousSibling:I.lastChild):B=_.nodeType===3?OM(""):ki("div"),B.el=_,x.component.subTree=B}}else F&64?N!==8?D=A():D=x.type.hydrate(_,x,w,E,S,C,e,d):F&128&&(D=x.type.hydrate(_,x,w,E,h1(s(_)),S,C,e,c))}return P!=null&&Mx(P,null,E,x),D},h=(_,x,w,E,S,C)=>{C=C||!!x.dynamicChildren;const{type:T,props:A,patchFlag:O,shapeFlag:P,dirs:F,transition:R}=x,N=T==="input"&&F||T==="option";if(N||O!==-1){if(F&&ju(x,null,w,"created"),A)if(N||!C||O&48)for(const B in A)(N&&B.endsWith("value")||ap(B)&&!wd(B))&&r(_,B,null,A[B],!1,void 0,w);else A.onClick&&r(_,"onClick",null,A.onClick,!1,void 0,w);let D;(D=A&&A.onVnodeBeforeMount)&&ds(D,w,x);let I=!1;if(y(_)){I=q6(E,R)&&w&&w.vnode.props&&w.vnode.props.appear;const B=_.content.firstChild;I&&R.beforeEnter(B),v(B,_,w),x.el=_=B}if(F&&ju(x,null,w,"beforeMount"),((D=A&&A.onVnodeMounted)||F||I)&&b6(()=>{D&&ds(D,w,x),I&&R.enter(_),F&&ju(x,null,w,"mounted")},E),P&16&&!(A&&(A.innerHTML||A.textContent))){let B=d(_.firstChild,x,_,w,E,S,C);for(;B;){Df=!0;const j=B;B=B.nextSibling,o(j)}}else P&8&&_.textContent!==x.children&&(Df=!0,_.textContent=x.children)}return _.nextSibling},d=(_,x,w,E,S,C,T)=>{T=T||!!x.dynamicChildren;const A=x.children,O=A.length;for(let P=0;P<O;P++){const F=T?A[P]:A[P]=Vs(A[P]);if(_)_=c(_,F,E,S,C,T);else{if(F.type===Fd&&!F.children)continue;Df=!0,n(null,F,w,null,E,S,h1(w),C)}}return _},p=(_,x,w,E,S,C)=>{const{slotScopeIds:T}=x;T&&(S=S?S.concat(T):T);const A=s(_),O=d(a(_),x,A,w,E,S,C);return O&&d1(O)&&O.data==="]"?a(x.anchor=O):(Df=!0,l(x.anchor=f("]"),A,O),O)},g=(_,x,w,E,S,C)=>{if(Df=!0,x.el=null,C){const O=m(_);for(;;){const P=a(_);if(P&&P!==O)o(P);else break}}const T=a(_),A=s(_);return o(_),n(null,x,A,T,w,E,h1(A),S),T},m=(_,x="[",w="]")=>{let E=0;for(;_;)if(_=a(_),_&&d1(_)&&(_.data===x&&E++,_.data===w)){if(E===0)return a(_);E--}return _},v=(_,x,w)=>{const E=x.parentNode;E&&E.replaceChild(_,x);let S=w;for(;S;)S.vnode.el===x&&(S.vnode.el=_,S.subTree.el=_),S=S.parent},y=_=>_.nodeType===1&&_.tagName.toLowerCase()==="template";return[u,c]}const fo=b6;function Y6(e){return $6(e)}function W6(e){return $6(e,Dq)}function $6(e,t){const n=rT();n.__VUE__=!0;const{insert:r,remove:i,patchProp:a,createElement:s,createText:o,createComment:l,setText:f,setElementText:u,parentNode:c,nextSibling:h,setScopeId:d=Xo,insertStaticContent:p}=e,g=(nt,V,G,H=null,$=null,J=null,Q=!1,ot=null,st=!!V.dynamicChildren)=>{if(nt===V)return;nt&&!lu(nt,V)&&(H=W(nt),U(nt,$,J,!0),nt=null),V.patchFlag===-2&&(st=!1,V.dynamicChildren=null);const{type:ht,ref:xt,shapeFlag:Pt}=V;switch(ht){case Fd:m(nt,V,G,H);break;case Co:v(nt,V,G,H);break;case Cd:nt==null&&y(V,G,H,Q);break;case go:P(nt,V,G,H,$,J,Q,ot,st);break;default:Pt&1?w(nt,V,G,H,$,J,Q,ot,st):Pt&6?F(nt,V,G,H,$,J,Q,ot,st):(Pt&64||Pt&128)&&ht.process(nt,V,G,H,$,J,Q,ot,st,it)}xt!=null&&$&&Mx(xt,nt&&nt.ref,J,V||nt,!V)},m=(nt,V,G,H)=>{if(nt==null)r(V.el=o(V.children),G,H);else{const $=V.el=nt.el;V.children!==nt.children&&f($,V.children)}},v=(nt,V,G,H)=>{nt==null?r(V.el=l(V.children||""),G,H):V.el=nt.el},y=(nt,V,G,H)=>{[nt.el,nt.anchor]=p(nt.children,V,G,H,nt.el,nt.anchor)},_=({el:nt,anchor:V},G,H)=>{let $;for(;nt&&nt!==V;)$=h(nt),r(nt,G,H),nt=$;r(V,G,H)},x=({el:nt,anchor:V})=>{let G;for(;nt&&nt!==V;)G=h(nt),i(nt),nt=G;i(V)},w=(nt,V,G,H,$,J,Q,ot,st)=>{Q=Q||V.type==="svg",nt==null?E(V,G,H,$,J,Q,ot,st):T(nt,V,$,J,Q,ot,st)},E=(nt,V,G,H,$,J,Q,ot)=>{let st,ht;const{type:xt,props:Pt,shapeFlag:It,transition:zt,dirs:pt}=nt;if(st=nt.el=s(nt.type,J,Pt&&Pt.is,Pt),It&8?u(st,nt.children):It&16&&C(nt.children,st,null,H,$,J&&xt!=="foreignObject",Q,ot),pt&&ju(nt,null,H,"created"),S(st,nt,nt.scopeId,Q,H),Pt){for(const wt in Pt)wt!=="value"&&!wd(wt)&&a(st,wt,null,Pt[wt],J,nt.children,H,$,z);"value"in Pt&&a(st,"value",null,Pt.value),(ht=Pt.onVnodeBeforeMount)&&ds(ht,H,nt)}pt&&ju(nt,null,H,"beforeMount");const yt=q6($,zt);yt&&zt.beforeEnter(st),r(st,V,G),((ht=Pt&&Pt.onVnodeMounted)||yt||pt)&&fo(()=>{ht&&ds(ht,H,nt),yt&&zt.enter(st),pt&&ju(nt,null,H,"mounted")},$)},S=(nt,V,G,H,$)=>{if(G&&d(nt,G),H)for(let J=0;J<H.length;J++)d(nt,H[J]);if($){let J=$.subTree;if(V===J){const Q=$.vnode;S(nt,Q,Q.scopeId,Q.slotScopeIds,$.parent)}}},C=(nt,V,G,H,$,J,Q,ot,st=0)=>{for(let ht=st;ht<nt.length;ht++){const xt=nt[ht]=ot?Zf(nt[ht]):Vs(nt[ht]);g(null,xt,V,G,H,$,J,Q,ot)}},T=(nt,V,G,H,$,J,Q)=>{const ot=V.el=nt.el;let{patchFlag:st,dynamicChildren:ht,dirs:xt}=V;st|=nt.patchFlag&16;const Pt=nt.props||yi,It=V.props||yi;let zt;G&&td(G,!1),(zt=It.onVnodeBeforeUpdate)&&ds(zt,G,V,nt),xt&&ju(V,nt,G,"beforeUpdate"),G&&td(G,!0);const pt=$&&V.type!=="foreignObject";if(ht?A(nt.dynamicChildren,ht,ot,G,H,pt,J):Q||B(nt,V,ot,null,G,H,pt,J,!1),st>0){if(st&16)O(ot,V,Pt,It,G,H,$);else if(st&2&&Pt.class!==It.class&&a(ot,"class",null,It.class,$),st&4&&a(ot,"style",Pt.style,It.style,$),st&8){const yt=V.dynamicProps;for(let wt=0;wt<yt.length;wt++){const St=yt[wt],Ut=Pt[St],Gt=It[St];(Gt!==Ut||St==="value")&&a(ot,St,Ut,Gt,$,nt.children,G,H,z)}}st&1&&nt.children!==V.children&&u(ot,V.children)}else!Q&&ht==null&&O(ot,V,Pt,It,G,H,$);((zt=It.onVnodeUpdated)||xt)&&fo(()=>{zt&&ds(zt,G,V,nt),xt&&ju(V,nt,G,"updated")},H)},A=(nt,V,G,H,$,J,Q)=>{for(let ot=0;ot<V.length;ot++){const st=nt[ot],ht=V[ot],xt=st.el&&(st.type===go||!lu(st,ht)||st.shapeFlag&70)?c(st.el):G;g(st,ht,xt,null,H,$,J,Q,!0)}},O=(nt,V,G,H,$,J,Q)=>{if(G!==H){if(G!==yi)for(const ot in G)!wd(ot)&&!(ot in H)&&a(nt,ot,G[ot],null,Q,V.children,$,J,z);for(const ot in H){if(wd(ot))continue;const st=H[ot],ht=G[ot];st!==ht&&ot!=="value"&&a(nt,ot,ht,st,Q,V.children,$,J,z)}"value"in H&&a(nt,"value",G.value,H.value)}},P=(nt,V,G,H,$,J,Q,ot,st)=>{const ht=V.el=nt?nt.el:o(""),xt=V.anchor=nt?nt.anchor:o("");let{patchFlag:Pt,dynamicChildren:It,slotScopeIds:zt}=V;zt&&(ot=ot?ot.concat(zt):zt),nt==null?(r(ht,G,H),r(xt,G,H),C(V.children,G,xt,$,J,Q,ot,st)):Pt>0&&Pt&64&&It&&nt.dynamicChildren?(A(nt.dynamicChildren,It,G,$,J,Q,ot),(V.key!=null||$&&V===$.subTree)&&CM(nt,V,!0)):B(nt,V,G,xt,$,J,Q,ot,st)},F=(nt,V,G,H,$,J,Q,ot,st)=>{V.slotScopeIds=ot,nt==null?V.shapeFlag&512?$.ctx.activate(V,G,H,Q,st):R(V,G,H,$,J,Q,st):N(nt,V,st)},R=(nt,V,G,H,$,J,Q)=>{const ot=nt.component=eR(nt,H,$);if(Cy(nt)&&(ot.ctx.renderer=it),rR(ot),ot.asyncDep){if($&&$.registerDep(ot,D),!nt.el){const st=ot.subTree=ki(Co);v(null,st,V,G)}return}D(ot,nt,V,G,$,J,Q)},N=(nt,V,G)=>{const H=V.component=nt.component;if(F$(nt,V,G))if(H.asyncDep&&!H.asyncResolved){I(H,V,G);return}else H.next=V,A$(H.update),H.update();else V.el=nt.el,H.vnode=V},D=(nt,V,G,H,$,J,Q)=>{const ot=()=>{if(nt.isMounted){let{next:xt,bu:Pt,u:It,parent:zt,vnode:pt}=nt,yt=xt,wt;td(nt,!1),xt?(xt.el=pt.el,I(nt,xt,Q)):xt=pt,Pt&&Tg(Pt),(wt=xt.props&&xt.props.onVnodeBeforeUpdate)&&ds(wt,zt,xt,pt),td(nt,!0);const St=tx(nt),Ut=nt.subTree;nt.subTree=St,g(Ut,St,c(Ut.el),W(Ut),nt,$,J),xt.el=St.el,yt===null&&_M(nt,St.el),It&&fo(It,$),(wt=xt.props&&xt.props.onVnodeUpdated)&&fo(()=>ds(wt,zt,xt,pt),$)}else{let xt;const{el:Pt,props:It}=V,{bm:zt,m:pt,parent:yt}=nt,wt=Sd(V);if(td(nt,!1),zt&&Tg(zt),!wt&&(xt=It&&It.onVnodeBeforeMount)&&ds(xt,yt,V),td(nt,!0),Pt&&dt){const St=()=>{nt.subTree=tx(nt),dt(Pt,nt.subTree,nt,$,null)};wt?V.type.__asyncLoader().then(()=>!nt.isUnmounted&&St()):St()}else{const St=nt.subTree=tx(nt);g(null,St,G,H,nt,$,J),V.el=St.el}if(pt&&fo(pt,$),!wt&&(xt=It&&It.onVnodeMounted)){const St=V;fo(()=>ds(xt,yt,St),$)}(V.shapeFlag&256||yt&&Sd(yt.vnode)&&yt.vnode.shapeFlag&256)&&nt.a&&fo(nt.a,$),nt.isMounted=!0,V=G=H=null}},st=nt.effect=new Gg(ot,()=>jb(ht),nt.scope),ht=nt.update=()=>st.run();ht.id=nt.uid,td(nt,!0),ht()},I=(nt,V,G)=>{V.component=nt;const H=nt.vnode.props;nt.vnode=V,nt.next=null,Pq(nt,V.props,H,G),kq(nt,V.children,G),R0(),BI(),N0()},B=(nt,V,G,H,$,J,Q,ot,st=!1)=>{const ht=nt&&nt.children,xt=nt?nt.shapeFlag:0,Pt=V.children,{patchFlag:It,shapeFlag:zt}=V;if(It>0){if(It&128){q(ht,Pt,G,H,$,J,Q,ot,st);return}else if(It&256){j(ht,Pt,G,H,$,J,Q,ot,st);return}}zt&8?(xt&16&&z(ht,$,J),Pt!==ht&&u(G,Pt)):xt&16?zt&16?q(ht,Pt,G,H,$,J,Q,ot,st):z(ht,$,J,!0):(xt&8&&u(G,""),zt&16&&C(Pt,G,H,$,J,Q,ot,st))},j=(nt,V,G,H,$,J,Q,ot,st)=>{nt=nt||xg,V=V||xg;const ht=nt.length,xt=V.length,Pt=Math.min(ht,xt);let It;for(It=0;It<Pt;It++){const zt=V[It]=st?Zf(V[It]):Vs(V[It]);g(nt[It],zt,G,null,$,J,Q,ot,st)}ht>xt?z(nt,$,J,!0,!1,Pt):C(V,G,H,$,J,Q,ot,st,Pt)},q=(nt,V,G,H,$,J,Q,ot,st)=>{let ht=0;const xt=V.length;let Pt=nt.length-1,It=xt-1;for(;ht<=Pt&&ht<=It;){const zt=nt[ht],pt=V[ht]=st?Zf(V[ht]):Vs(V[ht]);if(lu(zt,pt))g(zt,pt,G,null,$,J,Q,ot,st);else break;ht++}for(;ht<=Pt&&ht<=It;){const zt=nt[Pt],pt=V[It]=st?Zf(V[It]):Vs(V[It]);if(lu(zt,pt))g(zt,pt,G,null,$,J,Q,ot,st);else break;Pt--,It--}if(ht>Pt){if(ht<=It){const zt=It+1,pt=zt<xt?V[zt].el:H;for(;ht<=It;)g(null,V[ht]=st?Zf(V[ht]):Vs(V[ht]),G,pt,$,J,Q,ot,st),ht++}}else if(ht>It)for(;ht<=Pt;)U(nt[ht],$,J,!0),ht++;else{const zt=ht,pt=ht,yt=new Map;for(ht=pt;ht<=It;ht++){const Et=V[ht]=st?Zf(V[ht]):Vs(V[ht]);Et.key!=null&&yt.set(Et.key,ht)}let wt,St=0;const Ut=It-pt+1;let Gt=!1,mt=0;const Tt=new Array(Ut);for(ht=0;ht<Ut;ht++)Tt[ht]=0;for(ht=zt;ht<=Pt;ht++){const Et=nt[ht];if(St>=Ut){U(Et,$,J,!0);continue}let Mt;if(Et.key!=null)Mt=yt.get(Et.key);else for(wt=pt;wt<=It;wt++)if(Tt[wt-pt]===0&&lu(Et,V[wt])){Mt=wt;break}Mt===void 0?U(Et,$,J,!0):(Tt[Mt-pt]=ht+1,Mt>=mt?mt=Mt:Gt=!0,g(Et,V[Mt],G,null,$,J,Q,ot,st),St++)}const At=Gt?Fq(Tt):xg;for(wt=At.length-1,ht=Ut-1;ht>=0;ht--){const Et=pt+ht,Mt=V[Et],Nt=Et+1<xt?V[Et+1].el:H;Tt[ht]===0?g(null,Mt,G,Nt,$,J,Q,ot,st):Gt&&(wt<0||ht!==At[wt]?et(Mt,G,Nt,2):wt--)}}},et=(nt,V,G,H,$=null)=>{const{el:J,type:Q,transition:ot,children:st,shapeFlag:ht}=nt;if(ht&6){et(nt.component.subTree,V,G,H);return}if(ht&128){nt.suspense.move(V,G,H);return}if(ht&64){Q.move(nt,V,G,it);return}if(Q===go){r(J,V,G);for(let Pt=0;Pt<st.length;Pt++)et(st[Pt],V,G,H);r(nt.anchor,V,G);return}if(Q===Cd){_(nt,V,G);return}if(H!==2&&ht&1&&ot)if(H===0)ot.beforeEnter(J),r(J,V,G),fo(()=>ot.enter(J),$);else{const{leave:Pt,delayLeave:It,afterLeave:zt}=ot,pt=()=>r(J,V,G),yt=()=>{Pt(J,()=>{pt(),zt&&zt()})};It?It(J,pt,yt):yt()}else r(J,V,G)},U=(nt,V,G,H=!1,$=!1)=>{const{type:J,props:Q,ref:ot,children:st,dynamicChildren:ht,shapeFlag:xt,patchFlag:Pt,dirs:It}=nt;if(ot!=null&&Mx(ot,null,G,nt,!0),xt&256){V.ctx.deactivate(nt);return}const zt=xt&1&&It,pt=!Sd(nt);let yt;if(pt&&(yt=Q&&Q.onVnodeBeforeUnmount)&&ds(yt,V,nt),xt&6)ft(nt.component,G,H);else{if(xt&128){nt.suspense.unmount(G,H);return}zt&&ju(nt,null,V,"beforeUnmount"),xt&64?nt.type.remove(nt,V,G,$,it,H):ht&&(J!==go||Pt>0&&Pt&64)?z(ht,V,G,!1,!0):(J===go&&Pt&384||!$&&xt&16)&&z(st,V,G),H&&Z(nt)}(pt&&(yt=Q&&Q.onVnodeUnmounted)||zt)&&fo(()=>{yt&&ds(yt,V,nt),zt&&ju(nt,null,V,"unmounted")},G)},Z=nt=>{const{type:V,el:G,anchor:H,transition:$}=nt;if(V===go){rt(G,H);return}if(V===Cd){x(nt);return}const J=()=>{i(G),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(nt.shapeFlag&1&&$&&!$.persisted){const{leave:Q,delayLeave:ot}=$,st=()=>Q(G,J);ot?ot(nt.el,J,st):st()}else J()},rt=(nt,V)=>{let G;for(;nt!==V;)G=h(nt),i(nt),nt=G;i(V)},ft=(nt,V,G)=>{const{bum:H,scope:$,update:J,subTree:Q,um:ot}=nt;H&&Tg(H),$.stop(),J&&(J.active=!1,U(Q,nt,V,G)),ot&&fo(ot,V),fo(()=>{nt.isUnmounted=!0},V),V&&V.pendingBranch&&!V.isUnmounted&&nt.asyncDep&&!nt.asyncResolved&&nt.suspenseId===V.pendingId&&(V.deps--,V.deps===0&&V.resolve())},z=(nt,V,G,H=!1,$=!1,J=0)=>{for(let Q=J;Q<nt.length;Q++)U(nt[Q],V,G,H,$)},W=nt=>nt.shapeFlag&6?W(nt.component.subTree):nt.shapeFlag&128?nt.suspense.next():h(nt.anchor||nt.el),X=(nt,V,G)=>{nt==null?V._vnode&&U(V._vnode,null,null,!0):g(V._vnode||null,nt,V,null,null,null,G),BI(),Tx(),V._vnode=nt},it={p:g,um:U,m:et,r:Z,mt:R,mc:C,pc:B,pbc:A,n:W,o:e};let lt,dt;return t&&([lt,dt]=t(it)),{render:X,hydrate:lt,createApp:Iq(X,lt)}}function td({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function q6(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function CM(e,t,n=!1){const r=e.children,i=t.children;if(Fn(r)&&Fn(i))for(let a=0;a<r.length;a++){const s=r[a];let o=i[a];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[a]=Zf(i[a]),o.el=s.el),n||CM(s,o)),o.type===Fd&&(o.el=s.el)}}function Fq(e){const t=e.slice(),n=[0];let r,i,a,s,o;const l=e.length;for(r=0;r<l;r++){const f=e[r];if(f!==0){if(i=n[n.length-1],e[i]<f){t[r]=i,n.push(r);continue}for(a=0,s=n.length-1;a<s;)o=a+s>>1,e[n[o]]<f?a=o+1:s=o;f<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}for(a=n.length,s=n[a-1];a-- >0;)n[a]=s,s=t[s];return n}const zq=e=>e.__isTeleport,Um=e=>e&&(e.disabled||e.disabled===""),ZI=e=>typeof SVGElement<"u"&&e instanceof SVGElement,dT=(e,t)=>{const n=e&&e.to;return Tr(n)?t?t(n):null:n},Bq={__isTeleport:!0,process(e,t,n,r,i,a,s,o,l,f){const{mc:u,pc:c,pbc:h,o:{insert:d,querySelector:p,createText:g,createComment:m}}=f,v=Um(t.props);let{shapeFlag:y,children:_,dynamicChildren:x}=t;if(e==null){const w=t.el=g(""),E=t.anchor=g("");d(w,n,r),d(E,n,r);const S=t.target=dT(t.props,p),C=t.targetAnchor=g("");S&&(d(C,S),s=s||ZI(S));const T=(A,O)=>{y&16&&u(_,A,O,i,a,s,o,l)};v?T(n,E):S&&T(S,C)}else{t.el=e.el;const w=t.anchor=e.anchor,E=t.target=e.target,S=t.targetAnchor=e.targetAnchor,C=Um(e.props),T=C?n:E,A=C?w:S;if(s=s||ZI(E),x?(h(e.dynamicChildren,x,T,i,a,s,o),CM(e,t,!0)):l||c(e,t,T,A,i,a,s,o,!1),v)C?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):p1(t,n,w,f,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const O=t.target=dT(t.props,p);O&&p1(t,O,null,f,0)}else C&&p1(t,E,S,f,1)}X6(t)},remove(e,t,n,r,{um:i,o:{remove:a}},s){const{shapeFlag:o,children:l,anchor:f,targetAnchor:u,target:c,props:h}=e;if(c&&a(u),s&&a(f),o&16){const d=s||!Um(h);for(let p=0;p<l.length;p++){const g=l[p];i(g,t,n,d,!!g.dynamicChildren)}}},move:p1,hydrate:Gq};function p1(e,t,n,{o:{insert:r},m:i},a=2){a===0&&r(e.targetAnchor,t,n);const{el:s,anchor:o,shapeFlag:l,children:f,props:u}=e,c=a===2;if(c&&r(s,t,n),(!c||Um(u))&&l&16)for(let h=0;h<f.length;h++)i(f[h],t,n,2);c&&r(o,t,n)}function Gq(e,t,n,r,i,a,{o:{nextSibling:s,parentNode:o,querySelector:l}},f){const u=t.target=dT(t.props,l);if(u){const c=u._lpa||u.firstChild;if(t.shapeFlag&16)if(Um(t.props))t.anchor=f(s(e),t,o(e),n,r,i,a),t.targetAnchor=c;else{t.anchor=s(e);let h=c;for(;h;)if(h=s(h),h&&h.nodeType===8&&h.data==="teleport anchor"){t.targetAnchor=h,u._lpa=t.targetAnchor&&s(t.targetAnchor);break}f(c,t,u,n,r,i,a)}X6(t)}return t.anchor&&s(t.anchor)}const jq=Bq;function X6(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n&&n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const go=Symbol.for("v-fgt"),Fd=Symbol.for("v-txt"),Co=Symbol.for("v-cmt"),Cd=Symbol.for("v-stc"),Vm=[];let ys=null;function Xb(e=!1){Vm.push(ys=e?null:[])}function K6(){Vm.pop(),ys=Vm[Vm.length-1]||null}let zd=1;function pT(e){zd+=e}function Z6(e){return e.dynamicChildren=zd>0?ys||xg:null,K6(),zd>0&&ys&&ys.push(e),e}function Uq(e,t,n,r,i,a){return Z6(IM(e,t,n,r,i,a,!0))}function AM(e,t,n,r,i){return Z6(ki(e,t,n,r,i,!0))}function mh(e){return e?e.__v_isVNode===!0:!1}function lu(e,t){return e.type===t.type&&e.key===t.key}function Vq(e){}const Kb="__vInternal",J6=({key:e})=>e??null,ex=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Tr(e)||Ga(e)||gr(e)?{i:Za,r:e,k:t,f:!!n}:e:null);function IM(e,t=null,n=null,r=0,i=null,a=e===go?0:1,s=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&J6(t),ref:t&&ex(t),scopeId:Vb,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Za};return o?(LM(l,n),a&128&&e.normalize(l)):n&&(l.shapeFlag|=Tr(n)?8:16),zd>0&&!s&&ys&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&ys.push(l),l}const ki=Hq;function Hq(e,t=null,n=null,r=0,i=null,a=!1){if((!e||e===k6)&&(e=Co),mh(e)){const o=sc(e,t,!0);return n&&LM(o,n),zd>0&&!a&&ys&&(o.shapeFlag&6?ys[ys.indexOf(e)]=o:ys.push(o)),o.patchFlag|=-2,o}if(Jq(e)&&(e=e.__vccOpts),t){t=Q6(t);let{class:o,style:l}=t;o&&!Tr(o)&&(t.class=Ey(o)),_i(l)&&(hM(l)&&!Fn(l)&&(l=Qr({},l)),t.style=Ty(l))}const s=Tr(e)?1:x6(e)?128:zq(e)?64:_i(e)?4:gr(e)?2:0;return IM(e,t,n,r,i,s,a,!0)}function Q6(e){return e?hM(e)||Kb in e?Qr({},e):e:null}function sc(e,t,n=!1){const{props:r,ref:i,patchFlag:a,children:s}=e,o=t?tR(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:o,key:o&&J6(o),ref:t&&t.ref?n&&i?Fn(i)?i.concat(ex(t)):[i,ex(t)]:ex(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==go?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&sc(e.ssContent),ssFallback:e.ssFallback&&sc(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function OM(e=" ",t=0){return ki(Fd,null,e,t)}function Yq(e,t){const n=ki(Cd,null,e);return n.staticCount=t,n}function Wq(e="",t=!1){return t?(Xb(),AM(Co,null,e)):ki(Co,null,e)}function Vs(e){return e==null||typeof e=="boolean"?ki(Co):Fn(e)?ki(go,null,e.slice()):typeof e=="object"?Zf(e):ki(Fd,null,String(e))}function Zf(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:sc(e)}function LM(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Fn(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),LM(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(Kb in t)?t._ctx=Za:i===3&&Za&&(Za.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else gr(t)?(t={default:t,_ctx:Za},n=32):(t=String(t),r&64?(n=16,t=[OM(t)]):n=8);e.children=t,e.shapeFlag|=n}function tR(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Ey([t.class,r.class]));else if(i==="style")t.style=Ty([t.style,r.style]);else if(ap(i)){const a=t[i],s=r[i];s&&a!==s&&!(Fn(a)&&a.includes(s))&&(t[i]=a?[].concat(a,s):s)}else i!==""&&(t[i]=r[i])}return t}function ds(e,t,n,r=null){$s(e,t,7,[n,r])}const $q=B6();let qq=0;function eR(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||$q,a={uid:qq++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new sM(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:j6(r,i),emitsOptions:_6(r,i),emit:null,emitted:null,propsDefaults:yi,inheritAttrs:r.inheritAttrs,ctx:yi,data:yi,props:yi,attrs:yi,slots:yi,refs:yi,setupState:yi,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=O$.bind(null,a),e.ce&&e.ce(a),a}let Sa=null;const gf=()=>Sa||Za;let PM,Up,JI="__VUE_INSTANCE_SETTERS__";(Up=rT()[JI])||(Up=rT()[JI]=[]),Up.push(e=>Sa=e),PM=e=>{Up.length>1?Up.forEach(t=>t(e)):Up[0](e)};const vh=e=>{PM(e),e.scope.on()},ah=()=>{Sa&&Sa.scope.off(),PM(null)};function nR(e){return e.vnode.shapeFlag&4}let Ug=!1;function rR(e,t=!1){Ug=t;const{props:n,children:r}=e.vnode,i=nR(e);Lq(e,n,i,t),Nq(e,r);const a=i?Xq(e,t):void 0;return Ug=!1,a}function Xq(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=dM(new Proxy(e.ctx,uT));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?oR(e):null;vh(e),R0();const a=qc(r,e,0,[e.props,i]);if(N0(),ah(),aM(a)){if(a.then(ah,ah),t)return a.then(s=>{gT(e,s,t)}).catch(s=>{lp(s,e,0)});e.asyncDep=a}else gT(e,a,t)}else aR(e,t)}function gT(e,t,n){gr(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:_i(t)&&(e.setupState=mM(t)),aR(e,n)}let Sx,mT;function iR(e){Sx=e,mT=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,lq))}}const Kq=()=>!Sx;function aR(e,t,n){const r=e.type;if(!e.render){if(!t&&Sx&&!r.render){const i=r.template||MM(e).template;if(i){const{isCustomElement:a,compilerOptions:s}=e.appContext.config,{delimiters:o,compilerOptions:l}=r,f=Qr(Qr({isCustomElement:a,delimiters:o},s),l);r.render=Sx(i,f)}}e.render=r.render||Xo,mT&&mT(e)}{vh(e),R0();try{Tq(e)}finally{N0(),ah()}}}function Zq(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Es(e,"get","$attrs"),t[n]}}))}function oR(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return Zq(e)},slots:e.slots,emit:e.emit,expose:t}}function Zb(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(mM(dM(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Gm)return Gm[n](e)},has(t,n){return n in t||n in Gm}}))}function vT(e,t=!0){return gr(e)?e.displayName||e.name:e.name||t&&e.__name}function Jq(e){return gr(e)&&"__vccOpts"in e}const Ws=(e,t)=>T$(e,t,Ug);function Jb(e,t,n){const r=arguments.length;return r===2?_i(t)&&!Fn(t)?mh(t)?ki(e,null,[t]):ki(e,t):ki(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&mh(n)&&(n=[n]),ki(e,t,n))}const sR=Symbol.for("v-scx"),lR=()=>ec(sR);function Qq(){}function tX(e,t,n,r){const i=n[r];if(i&&uR(i,e))return i;const a=t();return a.memo=e.slice(),n[r]=a}function uR(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(dh(n[r],t[r]))return!1;return zd>0&&ys&&ys.push(e),!0}const cR="3.3.7",eX={createComponentInstance:eR,setupComponent:rR,renderComponentRoot:tx,setCurrentRenderingInstance:iv,isVNode:mh,normalizeVNode:Vs},nX=eX,rX=null,iX=null,aX="http://www.w3.org/2000/svg",cd=typeof document<"u"?document:null,QI=cd&&cd.createElement("template"),oX={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?cd.createElementNS(aX,e):cd.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>cd.createTextNode(e),createComment:e=>cd.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>cd.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,a){const s=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===a||!(i=i.nextSibling)););else{QI.innerHTML=r?`<svg>${e}</svg>`:e;const o=QI.content;if(r){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}t.insertBefore(o,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Ff="transition",mm="animation",Vg=Symbol("_vtc"),RM=(e,{slots:t})=>Jb(E6,hR(e),t);RM.displayName="Transition";const fR={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},sX=RM.props=Qr({},wM,fR),ed=(e,t=[])=>{Fn(e)?e.forEach(n=>n(...t)):e&&e(...t)},t5=e=>e?Fn(e)?e.some(t=>t.length>1):e.length>1:!1;function hR(e){const t={};for(const P in e)P in fR||(t[P]=e[P]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:a=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=a,appearActiveClass:f=s,appearToClass:u=o,leaveFromClass:c=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=e,p=lX(i),g=p&&p[0],m=p&&p[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:_,onLeave:x,onLeaveCancelled:w,onBeforeAppear:E=v,onAppear:S=y,onAppearCancelled:C=_}=t,T=(P,F,R)=>{$f(P,F?u:o),$f(P,F?f:s),R&&R()},A=(P,F)=>{P._isLeaving=!1,$f(P,c),$f(P,d),$f(P,h),F&&F()},O=P=>(F,R)=>{const N=P?S:y,D=()=>T(F,P,R);ed(N,[F,D]),e5(()=>{$f(F,P?l:a),Fc(F,P?u:o),t5(N)||n5(F,r,g,D)})};return Qr(t,{onBeforeEnter(P){ed(v,[P]),Fc(P,a),Fc(P,s)},onBeforeAppear(P){ed(E,[P]),Fc(P,l),Fc(P,f)},onEnter:O(!1),onAppear:O(!0),onLeave(P,F){P._isLeaving=!0;const R=()=>A(P,F);Fc(P,c),pR(),Fc(P,h),e5(()=>{P._isLeaving&&($f(P,c),Fc(P,d),t5(x)||n5(P,r,m,R))}),ed(x,[P,R])},onEnterCancelled(P){T(P,!1),ed(_,[P])},onAppearCancelled(P){T(P,!0),ed(C,[P])},onLeaveCancelled(P){A(P),ed(w,[P])}})}function lX(e){if(e==null)return null;if(_i(e))return[m3(e.enter),m3(e.leave)];{const t=m3(e);return[t,t]}}function m3(e){return xx(e)}function Fc(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Vg]||(e[Vg]=new Set)).add(t)}function $f(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Vg];n&&(n.delete(t),n.size||(e[Vg]=void 0))}function e5(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let uX=0;function n5(e,t,n,r){const i=e._endId=++uX,a=()=>{i===e._endId&&r()};if(n)return setTimeout(a,n);const{type:s,timeout:o,propCount:l}=dR(e,t);if(!s)return r();const f=s+"end";let u=0;const c=()=>{e.removeEventListener(f,h),a()},h=d=>{d.target===e&&++u>=l&&c()};setTimeout(()=>{u<l&&c()},o+1),e.addEventListener(f,h)}function dR(e,t){const n=window.getComputedStyle(e),r=p=>(n[p]||"").split(", "),i=r(`${Ff}Delay`),a=r(`${Ff}Duration`),s=r5(i,a),o=r(`${mm}Delay`),l=r(`${mm}Duration`),f=r5(o,l);let u=null,c=0,h=0;t===Ff?s>0&&(u=Ff,c=s,h=a.length):t===mm?f>0&&(u=mm,c=f,h=l.length):(c=Math.max(s,f),u=c>0?s>f?Ff:mm:null,h=u?u===Ff?a.length:l.length:0);const d=u===Ff&&/\b(transform|all)(,|$)/.test(r(`${Ff}Property`).toString());return{type:u,timeout:c,propCount:h,hasTransform:d}}function r5(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>i5(n)+i5(e[r])))}function i5(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function pR(){return document.body.offsetHeight}function cX(e,t,n){const r=e[Vg];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const NM=Symbol("_vod"),gR={beforeMount(e,{value:t},{transition:n}){e[NM]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):vm(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),vm(e,!0),r.enter(e)):r.leave(e,()=>{vm(e,!1)}):vm(e,t))},beforeUnmount(e,{value:t}){vm(e,t)}};function vm(e,t){e.style.display=t?e[NM]:"none"}function fX(){gR.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}function hX(e,t,n){const r=e.style,i=Tr(n);if(n&&!i){if(t&&!Tr(t))for(const a in t)n[a]==null&&yT(r,a,"");for(const a in n)yT(r,a,n[a])}else{const a=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),NM in e&&(r.display=a)}}const a5=/\s*!important$/;function yT(e,t,n){if(Fn(n))n.forEach(r=>yT(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=dX(e,t);a5.test(n)?e.setProperty(Ys(r),n.replace(a5,""),"important"):e[r]=n}}const o5=["Webkit","Moz","ms"],v3={};function dX(e,t){const n=v3[t];if(n)return n;let r=Ia(t);if(r!=="filter"&&r in e)return v3[t]=r;r=sp(r);for(let i=0;i<o5.length;i++){const a=o5[i]+r;if(a in e)return v3[t]=a}return t}const s5="http://www.w3.org/1999/xlink";function pX(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(s5,t.slice(6,t.length)):e.setAttributeNS(s5,t,n);else{const a=zW(t);n==null||a&&!X4(n)?e.removeAttribute(t):e.setAttribute(t,a?"":n)}}function gX(e,t,n,r,i,a,s){if(t==="innerHTML"||t==="textContent"){r&&s(r,i,a),e[t]=n??"";return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){e._value=n;const f=o==="OPTION"?e.getAttribute("value"):e.value,u=n??"";f!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const f=typeof e[t];f==="boolean"?n=X4(n):n==null&&f==="string"?(n="",l=!0):f==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function jc(e,t,n,r){e.addEventListener(t,n,r)}function mX(e,t,n,r){e.removeEventListener(t,n,r)}const l5=Symbol("_vei");function vX(e,t,n,r,i=null){const a=e[l5]||(e[l5]={}),s=a[t];if(r&&s)s.value=r;else{const[o,l]=yX(t);if(r){const f=a[t]=bX(r,i);jc(e,o,f,l)}else s&&(mX(e,o,s,l),a[t]=void 0)}}const u5=/(?:Once|Passive|Capture)$/;function yX(e){let t;if(u5.test(e)){t={};let r;for(;r=e.match(u5);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ys(e.slice(2)),t]}let y3=0;const _X=Promise.resolve(),xX=()=>y3||(_X.then(()=>y3=0),y3=Date.now());function bX(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;$s(wX(r,n.value),t,5,[r])};return n.value=e,n.attached=xX(),n}function wX(e,t){if(Fn(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const c5=/^on[a-z]/,TX=(e,t,n,r,i=!1,a,s,o,l)=>{t==="class"?cX(e,r,i):t==="style"?hX(e,n,r):ap(t)?rM(t)||vX(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):EX(e,t,r,i))?gX(e,t,r,a,s,o,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),pX(e,t,r,i))};function EX(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&c5.test(t)&&gr(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||c5.test(t)&&Tr(n)?!1:t in e}/*! #__NO_SIDE_EFFECTS__ */function mR(e,t){const n=Sy(e);class r extends Qb{constructor(a){super(n,a,t)}}return r.def=n,r}/*! #__NO_SIDE_EFFECTS__ */const MX=e=>mR(e,CR),SX=typeof HTMLElement<"u"?HTMLElement:class{};class Qb extends SX{constructor(t,n={},r){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),Gb(()=>{this._connected||(bT(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(r,i=!1)=>{const{props:a,styles:s}=r;let o;if(a&&!Fn(a))for(const l in a){const f=a[l];(f===Number||f&&f.type===Number)&&(l in this._props&&(this._props[l]=xx(this._props[l])),(o||(o=Object.create(null)))[Ia(l)]=!0)}this._numberProps=o,i&&this._resolveProps(r),this._applyStyles(s),this._update()},n=this._def.__asyncLoader;n?n().then(r=>t(r,!0)):t(this._def)}_resolveProps(t){const{props:n}=t,r=Fn(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(Ia))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(a){this._setProp(i,a)}})}_setAttr(t){let n=this.getAttribute(t);const r=Ia(t);this._numberProps&&this._numberProps[r]&&(n=xx(n)),this._setProp(r,n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,r=!0,i=!0){n!==this._props[t]&&(this._props[t]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(Ys(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Ys(t),n+""):n||this.removeAttribute(Ys(t))))}_update(){bT(this._createVNode(),this.shadowRoot)}_createVNode(){const t=ki(this._def,Qr({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0;const r=(a,s)=>{this.dispatchEvent(new CustomEvent(a,{detail:s}))};n.emit=(a,...s)=>{r(a,s),Ys(a)!==a&&r(Ys(a),s)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof Qb){n.parent=i._instance,n.provides=i._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function CX(e="$style"){{const t=gf();if(!t)return yi;const n=t.type.__cssModules;if(!n)return yi;const r=n[e];return r||yi}}function AX(e){const t=gf();if(!t)return;const n=t.ut=(i=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(a=>xT(a,i))},r=()=>{const i=e(t.proxy);_T(t.subTree,i),n(i)};w6(r),Ay(()=>{const i=new MutationObserver(r);i.observe(t.subTree.el.parentNode,{childList:!0}),qb(()=>i.disconnect())})}function _T(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{_T(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)xT(e.el,t);else if(e.type===go)e.children.forEach(n=>_T(n,t));else if(e.type===Cd){let{el:n,anchor:r}=e;for(;n&&(xT(n,t),n!==r);)n=n.nextSibling}}function xT(e,t){if(e.nodeType===1){const n=e.style;for(const r in t)n.setProperty(`--${r}`,t[r])}}const vR=new WeakMap,yR=new WeakMap,Cx=Symbol("_moveCb"),f5=Symbol("_enterCb"),_R={name:"TransitionGroup",props:Qr({},sX,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=gf(),r=bM();let i,a;return Wb(()=>{if(!i.length)return;const s=e.moveClass||`${e.name||"v"}-move`;if(!NX(i[0].el,n.vnode.el,s))return;i.forEach(LX),i.forEach(PX);const o=i.filter(RX);pR(),o.forEach(l=>{const f=l.el,u=f.style;Fc(f,s),u.transform=u.webkitTransform=u.transitionDuration="";const c=f[Cx]=h=>{h&&h.target!==f||(!h||/transform$/.test(h.propertyName))&&(f.removeEventListener("transitionend",c),f[Cx]=null,$f(f,s))};f.addEventListener("transitionend",c)})}),()=>{const s=Vr(e),o=hR(s);let l=s.tag||go;i=a,a=t.default?Hb(t.default()):[];for(let f=0;f<a.length;f++){const u=a[f];u.key!=null&&Dd(u,jg(u,o,r,n))}if(i)for(let f=0;f<i.length;f++){const u=i[f];Dd(u,jg(u,o,r,n)),vR.set(u,u.el.getBoundingClientRect())}return ki(l,null,a)}}},IX=e=>delete e.mode;_R.props;const OX=_R;function LX(e){const t=e.el;t[Cx]&&t[Cx](),t[f5]&&t[f5]()}function PX(e){yR.set(e,e.el.getBoundingClientRect())}function RX(e){const t=vR.get(e),n=yR.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const a=e.el.style;return a.transform=a.webkitTransform=`translate(${r}px,${i}px)`,a.transitionDuration="0s",e}}function NX(e,t,n){const r=e.cloneNode(),i=e[Vg];i&&i.forEach(o=>{o.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(o=>o&&r.classList.add(o)),r.style.display="none";const a=t.nodeType===1?t:t.parentNode;a.appendChild(r);const{hasTransform:s}=dR(r);return a.removeChild(r),s}const yh=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Fn(t)?n=>Tg(t,n):t};function kX(e){e.target.composing=!0}function h5(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ol=Symbol("_assign"),Ax={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[Ol]=yh(i);const a=r||i.props&&i.props.type==="number";jc(e,t?"change":"input",s=>{if(s.target.composing)return;let o=e.value;n&&(o=o.trim()),a&&(o=_x(o)),e[Ol](o)}),n&&jc(e,"change",()=>{e.value=e.value.trim()}),t||(jc(e,"compositionstart",kX),jc(e,"compositionend",h5),jc(e,"change",h5))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},a){if(e[Ol]=yh(a),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(i||e.type==="number")&&_x(e.value)===t))return;const s=t??"";e.value!==s&&(e.value=s)}},kM={deep:!0,created(e,t,n){e[Ol]=yh(n),jc(e,"change",()=>{const r=e._modelValue,i=Hg(e),a=e.checked,s=e[Ol];if(Fn(r)){const o=kb(r,i),l=o!==-1;if(a&&!l)s(r.concat(i));else if(!a&&l){const f=[...r];f.splice(o,1),s(f)}}else if(op(r)){const o=new Set(r);a?o.add(i):o.delete(i),s(o)}else s(bR(e,a))})},mounted:d5,beforeUpdate(e,t,n){e[Ol]=yh(n),d5(e,t,n)}};function d5(e,{value:t,oldValue:n},r){e._modelValue=t,Fn(t)?e.checked=kb(t,r.props.value)>-1:op(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=ph(t,bR(e,!0)))}const DM={created(e,{value:t},n){e.checked=ph(t,n.props.value),e[Ol]=yh(n),jc(e,"change",()=>{e[Ol](Hg(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[Ol]=yh(r),t!==n&&(e.checked=ph(t,r.props.value))}},xR={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=op(t);jc(e,"change",()=>{const a=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>n?_x(Hg(s)):Hg(s));e[Ol](e.multiple?i?new Set(a):a:a[0])}),e[Ol]=yh(r)},mounted(e,{value:t}){p5(e,t)},beforeUpdate(e,t,n){e[Ol]=yh(n)},updated(e,{value:t}){p5(e,t)}};function p5(e,t){const n=e.multiple;if(!(n&&!Fn(t)&&!op(t))){for(let r=0,i=e.options.length;r<i;r++){const a=e.options[r],s=Hg(a);if(n)Fn(t)?a.selected=kb(t,s)>-1:a.selected=t.has(s);else if(ph(Hg(a),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Hg(e){return"_value"in e?e._value:e.value}function bR(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const wR={created(e,t,n){g1(e,t,n,null,"created")},mounted(e,t,n){g1(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){g1(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){g1(e,t,n,r,"updated")}};function TR(e,t){switch(e){case"SELECT":return xR;case"TEXTAREA":return Ax;default:switch(t){case"checkbox":return kM;case"radio":return DM;default:return Ax}}}function g1(e,t,n,r,i){const s=TR(e.tagName,n.props&&n.props.type)[i];s&&s(e,t,n,r)}function DX(){Ax.getSSRProps=({value:e})=>({value:e}),DM.getSSRProps=({value:e},t)=>{if(t.props&&ph(t.props.value,e))return{checked:!0}},kM.getSSRProps=({value:e},t)=>{if(Fn(e)){if(t.props&&kb(e,t.props.value)>-1)return{checked:!0}}else if(op(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},wR.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=TR(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const FX=["ctrl","shift","alt","meta"],zX={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>FX.some(n=>e[`${n}Key`]&&!t.includes(n))},BX=(e,t)=>(n,...r)=>{for(let i=0;i<t.length;i++){const a=zX[t[i]];if(a&&a(n,t))return}return e(n,...r)},GX={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},jX=(e,t)=>n=>{if(!("key"in n))return;const r=Ys(n.key);if(t.some(i=>i===r||GX[i]===r))return e(n)},ER=Qr({patchProp:TX},oX);let Hm,g5=!1;function MR(){return Hm||(Hm=Y6(ER))}function SR(){return Hm=g5?Hm:W6(ER),g5=!0,Hm}const bT=(...e)=>{MR().render(...e)},CR=(...e)=>{SR().hydrate(...e)},UX=(...e)=>{const t=MR().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=AR(r);if(!i)return;const a=t._component;!gr(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t},VX=(...e)=>{const t=SR().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=AR(r);if(i)return n(i,!0,i instanceof SVGElement)},t};function AR(e){return Tr(e)?document.querySelector(e):e}let m5=!1;const HX=()=>{m5||(m5=!0,DX(),fX())},YX=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:E6,BaseTransitionPropsValidators:wM,Comment:Co,EffectScope:sM,Fragment:go,KeepAlive:J$,ReactiveEffect:Gg,Static:Cd,Suspense:B$,Teleport:jq,Text:Fd,Transition:RM,TransitionGroup:OX,VueElement:Qb,assertNumber:M$,callWithAsyncErrorHandling:$s,callWithErrorHandling:qc,camelize:Ia,capitalize:sp,cloneVNode:sc,compatUtils:iX,computed:Ws,createApp:UX,createBlock:AM,createCommentVNode:Wq,createElementBlock:Uq,createElementVNode:IM,createHydrationRenderer:W6,createPropsRestProxy:bq,createRenderer:Y6,createSSRApp:VX,createSlots:aq,createStaticVNode:Yq,createTextVNode:OM,createVNode:ki,customRef:v$,defineAsyncComponent:K$,defineComponent:Sy,defineCustomElement:mR,defineEmits:cq,defineExpose:fq,defineModel:pq,defineOptions:hq,defineProps:uq,defineSSRCustomElement:MX,defineSlots:dq,get devtools(){return rg},effect:HW,effectScope:Z4,getCurrentInstance:gf,getCurrentScope:Q4,getTransitionRawChildren:Hb,guardReactiveProps:Q6,h:Jb,handleError:lp,hasInjectionContext:Oq,hydrate:CR,initCustomFormatter:Qq,initDirectivesForSSR:HX,inject:ec,isMemoSame:uR,isProxy:hM,isReactive:Ed,isReadonly:kd,isRef:Ga,isRuntimeOnly:Kq,isShallow:tv,isVNode:mh,markRaw:dM,mergeDefaults:_q,mergeModels:xq,mergeProps:tR,nextTick:Gb,normalizeClass:Ey,normalizeProps:OW,normalizeStyle:Ty,onActivated:S6,onBeforeMount:I6,onBeforeUnmount:$b,onBeforeUpdate:O6,onDeactivated:C6,onErrorCaptured:N6,onMounted:Ay,onRenderTracked:R6,onRenderTriggered:P6,onScopeDispose:jW,onServerPrefetch:L6,onUnmounted:qb,onUpdated:Wb,openBlock:Xb,popScopeId:P$,provide:jm,proxyRefs:mM,pushScopeId:L$,queuePostFlushCb:wx,reactive:k0,readonly:fM,ref:Md,registerRuntimeCompiler:iR,render:bT,renderList:iq,renderSlot:oq,resolveComponent:eq,resolveDirective:rq,resolveDynamicComponent:nq,resolveFilter:rX,resolveTransitionHooks:jg,setBlockTracking:pT,setDevtoolsHook:y6,setTransitionHooks:Dd,shallowReactive:cM,shallowReadonly:f$,shallowRef:h6,ssrContextKey:sR,ssrUtils:nX,stop:YW,toDisplayString:GW,toHandlerKey:wg,toHandlers:sq,toRaw:Vr,toRef:b$,toRefs:y$,toValue:p$,transformVNodeArgs:Vq,triggerRef:d$,unref:ih,useAttrs:vq,useCssModule:CX,useCssVars:AX,useModel:yq,useSSRContext:lR,useSlots:mq,useTransitionState:bM,vModelCheckbox:kM,vModelDynamic:wR,vModelRadio:DM,vModelSelect:xR,vModelText:Ax,vShow:gR,version:cR,warn:E$,watch:tc,watchEffect:Y$,watchPostEffect:w6,watchSyncEffect:W$,withAsyncContext:wq,withCtx:yM,withDefaults:gq,withDirectives:q$,withKeys:jX,withMemo:tX,withModifiers:BX,withScopeId:R$},Symbol.toStringTag,{value:"Module"}));function FM(e){throw e}function IR(e){}function Yi(e,t,n,r){const i=e,a=new SyntaxError(String(i));return a.code=e,a.loc=t,a}const lv=Symbol(""),Ym=Symbol(""),zM=Symbol(""),Ix=Symbol(""),OR=Symbol(""),Bd=Symbol(""),LR=Symbol(""),PR=Symbol(""),BM=Symbol(""),GM=Symbol(""),Iy=Symbol(""),jM=Symbol(""),RR=Symbol(""),UM=Symbol(""),Ox=Symbol(""),VM=Symbol(""),HM=Symbol(""),YM=Symbol(""),WM=Symbol(""),NR=Symbol(""),kR=Symbol(""),t2=Symbol(""),Lx=Symbol(""),$M=Symbol(""),qM=Symbol(""),uv=Symbol(""),Oy=Symbol(""),XM=Symbol(""),wT=Symbol(""),WX=Symbol(""),TT=Symbol(""),Px=Symbol(""),$X=Symbol(""),qX=Symbol(""),KM=Symbol(""),XX=Symbol(""),KX=Symbol(""),ZM=Symbol(""),DR=Symbol(""),Yg={[lv]:"Fragment",[Ym]:"Teleport",[zM]:"Suspense",[Ix]:"KeepAlive",[OR]:"BaseTransition",[Bd]:"openBlock",[LR]:"createBlock",[PR]:"createElementBlock",[BM]:"createVNode",[GM]:"createElementVNode",[Iy]:"createCommentVNode",[jM]:"createTextVNode",[RR]:"createStaticVNode",[UM]:"resolveComponent",[Ox]:"resolveDynamicComponent",[VM]:"resolveDirective",[HM]:"resolveFilter",[YM]:"withDirectives",[WM]:"renderList",[NR]:"renderSlot",[kR]:"createSlots",[t2]:"toDisplayString",[Lx]:"mergeProps",[$M]:"normalizeClass",[qM]:"normalizeStyle",[uv]:"normalizeProps",[Oy]:"guardReactiveProps",[XM]:"toHandlers",[wT]:"camelize",[WX]:"capitalize",[TT]:"toHandlerKey",[Px]:"setBlockTracking",[$X]:"pushScopeId",[qX]:"popScopeId",[KM]:"withCtx",[XX]:"unref",[KX]:"isRef",[ZM]:"withMemo",[DR]:"isMemoSame"};function ZX(e){Object.getOwnPropertySymbols(e).forEach(t=>{Yg[t]=e[t]})}const ll={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function JX(e,t=ll){return{type:0,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}function cv(e,t,n,r,i,a,s,o=!1,l=!1,f=!1,u=ll){return e&&(o?(e.helper(Bd),e.helper(qg(e.inSSR,f))):e.helper($g(e.inSSR,f)),s&&e.helper(YM)),{type:13,tag:t,props:n,children:r,patchFlag:i,dynamicProps:a,directives:s,isBlock:o,disableTracking:l,isComponent:f,loc:u}}function Ly(e,t=ll){return{type:17,loc:t,elements:e}}function Sl(e,t=ll){return{type:15,loc:t,properties:e}}function ua(e,t){return{type:16,loc:ll,key:Tr(e)?Pr(e,!0):e,value:t}}function Pr(e,t=!1,n=ll,r=0){return{type:4,loc:n,content:e,isStatic:t,constType:t?3:r}}function cu(e,t=ll){return{type:8,loc:t,children:e}}function Ma(e,t=[],n=ll){return{type:14,loc:n,callee:e,arguments:t}}function Wg(e,t=void 0,n=!1,r=!1,i=ll){return{type:18,params:e,returns:t,newline:n,isSlot:r,loc:i}}function ET(e,t,n,r=!0){return{type:19,test:e,consequent:t,alternate:n,newline:r,loc:ll}}function QX(e,t,n=!1){return{type:20,index:e,value:t,isVNode:n,loc:ll}}function tK(e){return{type:21,body:e,loc:ll}}function $g(e,t){return e||t?BM:GM}function qg(e,t){return e||t?LR:PR}function JM(e,{helper:t,removeHelper:n,inSSR:r}){e.isBlock||(e.isBlock=!0,n($g(r,e.isComponent)),t(Bd),t(qg(r,e.isComponent)))}const _s=e=>e.type===4&&e.isStatic,fg=(e,t)=>e===t||e===Ys(t);function FR(e){if(fg(e,"Teleport"))return Ym;if(fg(e,"Suspense"))return zM;if(fg(e,"KeepAlive"))return Ix;if(fg(e,"BaseTransition"))return OR}const eK=/^\d|[^\$\w]/,QM=e=>!eK.test(e),nK=/[A-Za-z_$\xA0-\uFFFF]/,rK=/[\.\?\w$\xA0-\uFFFF]/,iK=/\s+[.[]\s*|\s*[.[]\s+/g,aK=e=>{e=e.trim().replace(iK,s=>s.trim());let t=0,n=[],r=0,i=0,a=null;for(let s=0;s<e.length;s++){const o=e.charAt(s);switch(t){case 0:if(o==="[")n.push(t),t=1,r++;else if(o==="(")n.push(t),t=2,i++;else if(!(s===0?nK:rK).test(o))return!1;break;case 1:o==="'"||o==='"'||o==="`"?(n.push(t),t=3,a=o):o==="["?r++:o==="]"&&(--r||(t=n.pop()));break;case 2:if(o==="'"||o==='"'||o==="`")n.push(t),t=3,a=o;else if(o==="(")i++;else if(o===")"){if(s===e.length-1)return!1;--i||(t=n.pop())}break;case 3:o===a&&(t=n.pop(),a=null);break}}return!r&&!i},zR=aK;function BR(e,t,n){const i={source:e.source.slice(t,t+n),start:Rx(e.start,e.source,t),end:e.end};return n!=null&&(i.end=Rx(e.start,e.source,t+n)),i}function Rx(e,t,n=t.length){return Nx(Qr({},e),t,n)}function Nx(e,t,n=t.length){let r=0,i=-1;for(let a=0;a<n;a++)t.charCodeAt(a)===10&&(r++,i=a);return e.offset+=n,e.line+=r,e.column=i===-1?e.column+n:n-i,e}function El(e,t,n=!1){for(let r=0;r<e.props.length;r++){const i=e.props[r];if(i.type===7&&(n||i.exp)&&(Tr(t)?i.name===t:t.test(i.name)))return i}}function e2(e,t,n=!1,r=!1){for(let i=0;i<e.props.length;i++){const a=e.props[i];if(a.type===6){if(n)continue;if(a.name===t&&(a.value||r))return a}else if(a.name==="bind"&&(a.exp||r)&&md(a.arg,t))return a}}function md(e,t){return!!(e&&_s(e)&&e.content===t)}function oK(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function _3(e){return e.type===5||e.type===2}function sK(e){return e.type===7&&e.name==="slot"}function kx(e){return e.type===1&&e.tagType===3}function Dx(e){return e.type===1&&e.tagType===2}const lK=new Set([uv,Oy]);function GR(e,t=[]){if(e&&!Tr(e)&&e.type===14){const n=e.callee;if(!Tr(n)&&lK.has(n))return GR(e.arguments[0],t.concat(e))}return[e,t]}function Fx(e,t,n){let r,i=e.type===13?e.props:e.arguments[2],a=[],s;if(i&&!Tr(i)&&i.type===14){const o=GR(i);i=o[0],a=o[1],s=a[a.length-1]}if(i==null||Tr(i))r=Sl([t]);else if(i.type===14){const o=i.arguments[0];!Tr(o)&&o.type===15?v5(t,o)||o.properties.unshift(t):i.callee===XM?r=Ma(n.helper(Lx),[Sl([t]),i]):i.arguments.unshift(Sl([t])),!r&&(r=i)}else i.type===15?(v5(t,i)||i.properties.unshift(t),r=i):(r=Ma(n.helper(Lx),[Sl([t]),i]),s&&s.callee===Oy&&(s=a[a.length-2]));e.type===13?s?s.arguments[0]=r:e.props=r:s?s.arguments[0]=r:e.arguments[2]=r}function v5(e,t){let n=!1;if(e.key.type===4){const r=e.key.content;n=t.properties.some(i=>i.key.type===4&&i.key.content===r)}return n}function fv(e,t){return`_${t}_${e.replace(/[^\w]/g,(n,r)=>n==="-"?"_":e.charCodeAt(r).toString())}`}function uK(e){return e.type===14&&e.callee===ZM?e.arguments[1].returns:e}function y5(e,t){const n=t.options?t.options.compatConfig:t.compatConfig,r=n&&n[e];return e==="MODE"?r||3:r}function Ad(e,t){const n=y5("MODE",t),r=y5(e,t);return n===3?r===!0:r!==!1}function hv(e,t,n,...r){return Ad(e,t)}const cK=/&(gt|lt|amp|apos|quot);/g,fK={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},_5={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:Q1,isPreTag:Q1,isCustomElement:Q1,decodeEntities:e=>e.replace(cK,(t,n)=>fK[n]),onError:FM,onWarn:IR,comments:!1};function hK(e,t={}){const n=dK(e,t),r=qs(n);return JX(tS(n,0,[]),kl(n,r))}function dK(e,t){const n=Qr({},_5);let r;for(r in t)n[r]=t[r]===void 0?_5[r]:t[r];return{options:n,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:n.onWarn}}function tS(e,t,n){const r=n2(n),i=r?r.ns:0,a=[];for(;!wK(e,t,n);){const o=e.source;let l;if(t===0||t===1){if(!e.inVPre&&So(o,e.options.delimiters[0]))l=xK(e,t);else if(t===0&&o[0]==="<")if(o.length===1)vi(e,5,1);else if(o[1]==="!")So(o,"<!--")?l=gK(e):So(o,"<!DOCTYPE")?l=ym(e):So(o,"<![CDATA[")?i!==0?l=pK(e,n):(vi(e,1),l=ym(e)):(vi(e,11),l=ym(e));else if(o[1]==="/")if(o.length===2)vi(e,5,2);else if(o[2]===">"){vi(e,14,2),Ua(e,3);continue}else if(/[a-z]/i.test(o[2])){vi(e,23),MT(e,1,r);continue}else vi(e,12,2),l=ym(e);else/[a-z]/i.test(o[1])?(l=mK(e,n),Ad("COMPILER_NATIVE_TEMPLATE",e)&&l&&l.tag==="template"&&!l.props.some(f=>f.type===7&&jR(f.name))&&(l=l.children)):o[1]==="?"?(vi(e,21,1),l=ym(e)):vi(e,12,1)}if(l||(l=bK(e,t)),Fn(l))for(let f=0;f<l.length;f++)x5(a,l[f]);else x5(a,l)}let s=!1;if(t!==2&&t!==1){const o=e.options.whitespace!=="preserve";for(let l=0;l<a.length;l++){const f=a[l];if(f.type===2)if(e.inPre)f.content=f.content.replace(/\r\n/g,`
`);else if(/[^\t\r\n\f ]/.test(f.content))o&&(f.content=f.content.replace(/[\t\r\n\f ]+/g," "));else{const u=a[l-1],c=a[l+1];!u||!c||o&&(u.type===3&&c.type===3||u.type===3&&c.type===1||u.type===1&&c.type===3||u.type===1&&c.type===1&&/[\r\n]/.test(f.content))?(s=!0,a[l]=null):f.content=" "}else f.type===3&&!e.options.comments&&(s=!0,a[l]=null)}if(e.inPre&&r&&e.options.isPreTag(r.tag)){const l=a[0];l&&l.type===2&&(l.content=l.content.replace(/^\r?\n/,""))}}return s?a.filter(Boolean):a}function x5(e,t){if(t.type===2){const n=n2(e);if(n&&n.type===2&&n.loc.end.offset===t.loc.start.offset){n.content+=t.content,n.loc.end=t.loc.end,n.loc.source+=t.loc.source;return}}e.push(t)}function pK(e,t){Ua(e,9);const n=tS(e,3,t);return e.source.length===0?vi(e,6):Ua(e,3),n}function gK(e){const t=qs(e);let n;const r=/--(\!)?>/.exec(e.source);if(!r)n=e.source.slice(4),Ua(e,e.source.length),vi(e,7);else{r.index<=3&&vi(e,0),r[1]&&vi(e,10),n=e.source.slice(4,r.index);const i=e.source.slice(0,r.index);let a=1,s=0;for(;(s=i.indexOf("<!--",a))!==-1;)Ua(e,s-a+1),s+4<i.length&&vi(e,16),a=s+1;Ua(e,r.index+r[0].length-a+1)}return{type:3,content:n,loc:kl(e,t)}}function ym(e){const t=qs(e),n=e.source[1]==="?"?1:2;let r;const i=e.source.indexOf(">");return i===-1?(r=e.source.slice(n),Ua(e,e.source.length)):(r=e.source.slice(n,i),Ua(e,i+1)),{type:3,content:r,loc:kl(e,t)}}function mK(e,t){const n=e.inPre,r=e.inVPre,i=n2(t),a=MT(e,0,i),s=e.inPre&&!n,o=e.inVPre&&!r;if(a.isSelfClosing||e.options.isVoidTag(a.tag))return s&&(e.inPre=!1),o&&(e.inVPre=!1),a;t.push(a);const l=e.options.getTextMode(a,i),f=tS(e,l,t);t.pop();{const u=a.props.find(c=>c.type===6&&c.name==="inline-template");if(u&&hv("COMPILER_INLINE_TEMPLATE",e,u.loc)){const c=kl(e,a.loc.end);u.value={type:2,content:c.source,loc:c}}}if(a.children=f,ST(e.source,a.tag))MT(e,1,i);else if(vi(e,24,0,a.loc.start),e.source.length===0&&a.tag.toLowerCase()==="script"){const u=f[0];u&&So(u.loc.source,"<!--")&&vi(e,8)}return a.loc=kl(e,a.loc.start),s&&(e.inPre=!1),o&&(e.inVPre=!1),a}const jR=As("if,else,else-if,for,slot");function MT(e,t,n){const r=qs(e),i=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),a=i[1],s=e.options.getNamespace(a,n);Ua(e,i[0].length),dv(e);const o=qs(e),l=e.source;e.options.isPreTag(a)&&(e.inPre=!0);let f=b5(e,t);t===0&&!e.inVPre&&f.some(h=>h.type===7&&h.name==="pre")&&(e.inVPre=!0,Qr(e,o),e.source=l,f=b5(e,t).filter(h=>h.name!=="v-pre"));let u=!1;if(e.source.length===0?vi(e,9):(u=So(e.source,"/>"),t===1&&u&&vi(e,4),Ua(e,u?2:1)),t===1)return;let c=0;return e.inVPre||(a==="slot"?c=2:a==="template"?f.some(h=>h.type===7&&jR(h.name))&&(c=3):vK(a,f,e)&&(c=1)),{type:1,ns:s,tag:a,tagType:c,props:f,isSelfClosing:u,children:[],loc:kl(e,r),codegenNode:void 0}}function vK(e,t,n){const r=n.options;if(r.isCustomElement(e))return!1;if(e==="component"||/^[A-Z]/.test(e)||FR(e)||r.isBuiltInComponent&&r.isBuiltInComponent(e)||r.isNativeTag&&!r.isNativeTag(e))return!0;for(let i=0;i<t.length;i++){const a=t[i];if(a.type===6){if(a.name==="is"&&a.value){if(a.value.content.startsWith("vue:"))return!0;if(hv("COMPILER_IS_ON_ELEMENT",n,a.loc))return!0}}else{if(a.name==="is")return!0;if(a.name==="bind"&&md(a.arg,"is")&&hv("COMPILER_IS_ON_ELEMENT",n,a.loc))return!0}}}function b5(e,t){const n=[],r=new Set;for(;e.source.length>0&&!So(e.source,">")&&!So(e.source,"/>");){if(So(e.source,"/")){vi(e,22),Ua(e,1),dv(e);continue}t===1&&vi(e,3);const i=yK(e,r);i.type===6&&i.value&&i.name==="class"&&(i.value.content=i.value.content.replace(/\s+/g," ").trim()),t===0&&n.push(i),/^[^\t\r\n\f />]/.test(e.source)&&vi(e,15),dv(e)}return n}function yK(e,t){var n;const r=qs(e),a=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(a)&&vi(e,2),t.add(a),a[0]==="="&&vi(e,19);{const l=/["'<]/g;let f;for(;f=l.exec(a);)vi(e,17,f.index)}Ua(e,a.length);let s;/^[\t\r\n\f ]*=/.test(e.source)&&(dv(e),Ua(e,1),dv(e),s=_K(e),s||vi(e,13));const o=kl(e,r);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(a)){const l=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(a);let f=So(a,"."),u=l[1]||(f||So(a,":")?"bind":So(a,"@")?"on":"slot"),c;if(l[2]){const d=u==="slot",p=a.lastIndexOf(l[2],a.length-(((n=l[3])==null?void 0:n.length)||0)),g=kl(e,w5(e,r,p),w5(e,r,p+l[2].length+(d&&l[3]||"").length));let m=l[2],v=!0;m.startsWith("[")?(v=!1,m.endsWith("]")?m=m.slice(1,m.length-1):(vi(e,27),m=m.slice(1))):d&&(m+=l[3]||""),c={type:4,content:m,isStatic:v,constType:v?3:0,loc:g}}if(s&&s.isQuoted){const d=s.loc;d.start.offset++,d.start.column++,d.end=Rx(d.start,s.content),d.source=d.source.slice(1,-1)}const h=l[3]?l[3].slice(1).split("."):[];return f&&h.push("prop"),u==="bind"&&c&&h.includes("sync")&&hv("COMPILER_V_BIND_SYNC",e,o,c.loc.source)&&(u="model",h.splice(h.indexOf("sync"),1)),{type:7,name:u,exp:s&&{type:4,content:s.content,isStatic:!1,constType:0,loc:s.loc},arg:c,modifiers:h,loc:o}}return!e.inVPre&&So(a,"v-")&&vi(e,26),{type:6,name:a,value:s&&{type:2,content:s.content,loc:s.loc},loc:o}}function _K(e){const t=qs(e);let n;const r=e.source[0],i=r==='"'||r==="'";if(i){Ua(e,1);const a=e.source.indexOf(r);a===-1?n=Wm(e,e.source.length,4):(n=Wm(e,a,4),Ua(e,1))}else{const a=/^[^\t\r\n\f >]+/.exec(e.source);if(!a)return;const s=/["'<=`]/g;let o;for(;o=s.exec(a[0]);)vi(e,18,o.index);n=Wm(e,a[0].length,4)}return{content:n,isQuoted:i,loc:kl(e,t)}}function xK(e,t){const[n,r]=e.options.delimiters,i=e.source.indexOf(r,n.length);if(i===-1){vi(e,25);return}const a=qs(e);Ua(e,n.length);const s=qs(e),o=qs(e),l=i-n.length,f=e.source.slice(0,l),u=Wm(e,l,t),c=u.trim(),h=u.indexOf(c);h>0&&Nx(s,f,h);const d=l-(u.length-c.length-h);return Nx(o,f,d),Ua(e,r.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:c,loc:kl(e,s,o)},loc:kl(e,a)}}function bK(e,t){const n=t===3?["]]>"]:["<",e.options.delimiters[0]];let r=e.source.length;for(let s=0;s<n.length;s++){const o=e.source.indexOf(n[s],1);o!==-1&&r>o&&(r=o)}const i=qs(e);return{type:2,content:Wm(e,r,t),loc:kl(e,i)}}function Wm(e,t,n){const r=e.source.slice(0,t);return Ua(e,t),n===2||n===3||!r.includes("&")?r:e.options.decodeEntities(r,n===4)}function qs(e){const{column:t,line:n,offset:r}=e;return{column:t,line:n,offset:r}}function kl(e,t,n){return n=n||qs(e),{start:t,end:n,source:e.originalSource.slice(t.offset,n.offset)}}function n2(e){return e[e.length-1]}function So(e,t){return e.startsWith(t)}function Ua(e,t){const{source:n}=e;Nx(e,n,t),e.source=n.slice(t)}function dv(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&Ua(e,t[0].length)}function w5(e,t,n){return Rx(t,e.originalSource.slice(t.offset,n),n)}function vi(e,t,n,r=qs(e)){n&&(r.offset+=n,r.column+=n),e.options.onError(Yi(t,{start:r,end:r,source:""}))}function wK(e,t,n){const r=e.source;switch(t){case 0:if(So(r,"</")){for(let i=n.length-1;i>=0;--i)if(ST(r,n[i].tag))return!0}break;case 1:case 2:{const i=n2(n);if(i&&ST(r,i.tag))return!0;break}case 3:if(So(r,"]]>"))return!0;break}return!r}function ST(e,t){return So(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function TK(e,t){nx(e,t,UR(e,e.children[0]))}function UR(e,t){const{children:n}=e;return n.length===1&&t.type===1&&!Dx(t)}function nx(e,t,n=!1){const{children:r}=e,i=r.length;let a=0;for(let s=0;s<r.length;s++){const o=r[s];if(o.type===1&&o.tagType===0){const l=n?0:Cl(o,t);if(l>0){if(l>=2){o.codegenNode.patchFlag="-1",o.codegenNode=t.hoist(o.codegenNode),a++;continue}}else{const f=o.codegenNode;if(f.type===13){const u=WR(f);if((!u||u===512||u===1)&&HR(o,t)>=2){const c=YR(o);c&&(f.props=t.hoist(c))}f.dynamicProps&&(f.dynamicProps=t.hoist(f.dynamicProps))}}}if(o.type===1){const l=o.tagType===1;l&&t.scopes.vSlot++,nx(o,t),l&&t.scopes.vSlot--}else if(o.type===11)nx(o,t,o.children.length===1);else if(o.type===9)for(let l=0;l<o.branches.length;l++)nx(o.branches[l],t,o.branches[l].children.length===1)}if(a&&t.transformHoist&&t.transformHoist(r,t,e),a&&a===i&&e.type===1&&e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&Fn(e.codegenNode.children)){const s=t.hoist(Ly(e.codegenNode.children));t.hmr&&(s.content=`[...${s.content}]`),e.codegenNode.children=s}}function Cl(e,t){const{constantCache:n}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const r=n.get(e);if(r!==void 0)return r;const i=e.codegenNode;if(i.type!==13||i.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject")return 0;if(WR(i))return n.set(e,0),0;{let o=3;const l=HR(e,t);if(l===0)return n.set(e,0),0;l<o&&(o=l);for(let f=0;f<e.children.length;f++){const u=Cl(e.children[f],t);if(u===0)return n.set(e,0),0;u<o&&(o=u)}if(o>1)for(let f=0;f<e.props.length;f++){const u=e.props[f];if(u.type===7&&u.name==="bind"&&u.exp){const c=Cl(u.exp,t);if(c===0)return n.set(e,0),0;c<o&&(o=c)}}if(i.isBlock){for(let f=0;f<e.props.length;f++)if(e.props[f].type===7)return n.set(e,0),0;t.removeHelper(Bd),t.removeHelper(qg(t.inSSR,i.isComponent)),i.isBlock=!1,t.helper($g(t.inSSR,i.isComponent))}return n.set(e,o),o}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Cl(e.content,t);case 4:return e.constType;case 8:let s=3;for(let o=0;o<e.children.length;o++){const l=e.children[o];if(Tr(l)||ef(l))continue;const f=Cl(l,t);if(f===0)return 0;f<s&&(s=f)}return s;default:return 0}}const EK=new Set([$M,qM,uv,Oy]);function VR(e,t){if(e.type===14&&!Tr(e.callee)&&EK.has(e.callee)){const n=e.arguments[0];if(n.type===4)return Cl(n,t);if(n.type===14)return VR(n,t)}return 0}function HR(e,t){let n=3;const r=YR(e);if(r&&r.type===15){const{properties:i}=r;for(let a=0;a<i.length;a++){const{key:s,value:o}=i[a],l=Cl(s,t);if(l===0)return l;l<n&&(n=l);let f;if(o.type===4?f=Cl(o,t):o.type===14?f=VR(o,t):f=0,f===0)return f;f<n&&(n=f)}}return n}function YR(e){const t=e.codegenNode;if(t.type===13)return t.props}function WR(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function MK(e,{filename:t="",prefixIdentifiers:n=!1,hoistStatic:r=!1,hmr:i=!1,cacheHandlers:a=!1,nodeTransforms:s=[],directiveTransforms:o={},transformHoist:l=null,isBuiltInComponent:f=Xo,isCustomElement:u=Xo,expressionPlugins:c=[],scopeId:h=null,slotted:d=!0,ssr:p=!1,inSSR:g=!1,ssrCssVars:m="",bindingMetadata:v=yi,inline:y=!1,isTS:_=!1,onError:x=FM,onWarn:w=IR,compatConfig:E}){const S=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),C={selfName:S&&sp(Ia(S[1])),prefixIdentifiers:n,hoistStatic:r,hmr:i,cacheHandlers:a,nodeTransforms:s,directiveTransforms:o,transformHoist:l,isBuiltInComponent:f,isCustomElement:u,expressionPlugins:c,scopeId:h,slotted:d,ssr:p,inSSR:g,ssrCssVars:m,bindingMetadata:v,inline:y,isTS:_,onError:x,onWarn:w,compatConfig:E,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new WeakMap,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(T){const A=C.helpers.get(T)||0;return C.helpers.set(T,A+1),T},removeHelper(T){const A=C.helpers.get(T);if(A){const O=A-1;O?C.helpers.set(T,O):C.helpers.delete(T)}},helperString(T){return`_${Yg[C.helper(T)]}`},replaceNode(T){C.parent.children[C.childIndex]=C.currentNode=T},removeNode(T){const A=C.parent.children,O=T?A.indexOf(T):C.currentNode?C.childIndex:-1;!T||T===C.currentNode?(C.currentNode=null,C.onNodeRemoved()):C.childIndex>O&&(C.childIndex--,C.onNodeRemoved()),C.parent.children.splice(O,1)},onNodeRemoved:()=>{},addIdentifiers(T){},removeIdentifiers(T){},hoist(T){Tr(T)&&(T=Pr(T)),C.hoists.push(T);const A=Pr(`_hoisted_${C.hoists.length}`,!1,T.loc,2);return A.hoisted=T,A},cache(T,A=!1){return QX(C.cached++,T,A)}};return C.filters=new Set,C}function SK(e,t){const n=MK(e,t);r2(e,n),t.hoistStatic&&TK(e,n),t.ssr||CK(e,n),e.helpers=new Set([...n.helpers.keys()]),e.components=[...n.components],e.directives=[...n.directives],e.imports=n.imports,e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached,e.filters=[...n.filters]}function CK(e,t){const{helper:n}=t,{children:r}=e;if(r.length===1){const i=r[0];if(UR(e,i)&&i.codegenNode){const a=i.codegenNode;a.type===13&&JM(a,t),e.codegenNode=a}else e.codegenNode=i}else if(r.length>1){let i=64;e.codegenNode=cv(t,n(lv),void 0,e.children,i+"",void 0,void 0,!0,void 0,!1)}}function AK(e,t){let n=0;const r=()=>{n--};for(;n<e.children.length;n++){const i=e.children[n];Tr(i)||(t.parent=e,t.childIndex=n,t.onNodeRemoved=r,r2(i,t))}}function r2(e,t){t.currentNode=e;const{nodeTransforms:n}=t,r=[];for(let a=0;a<n.length;a++){const s=n[a](e,t);if(s&&(Fn(s)?r.push(...s):r.push(s)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(Iy);break;case 5:t.ssr||t.helper(t2);break;case 9:for(let a=0;a<e.branches.length;a++)r2(e.branches[a],t);break;case 10:case 11:case 1:case 0:AK(e,t);break}t.currentNode=e;let i=r.length;for(;i--;)r[i]()}function $R(e,t){const n=Tr(e)?r=>r===e:r=>e.test(r);return(r,i)=>{if(r.type===1){const{props:a}=r;if(r.tagType===3&&a.some(sK))return;const s=[];for(let o=0;o<a.length;o++){const l=a[o];if(l.type===7&&n(l.name)){a.splice(o,1),o--;const f=t(r,l,i);f&&s.push(f)}}return s}}}const i2="/*#__PURE__*/",qR=e=>`${Yg[e]}: _${Yg[e]}`;function T5(e,{mode:t="function",prefixIdentifiers:n=t==="module",sourceMap:r=!1,filename:i="template.vue.html",scopeId:a=null,optimizeImports:s=!1,runtimeGlobalName:o="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:f="vue/server-renderer",ssr:u=!1,isTS:c=!1,inSSR:h=!1}){const d={mode:t,prefixIdentifiers:n,sourceMap:r,filename:i,scopeId:a,optimizeImports:s,runtimeGlobalName:o,runtimeModuleName:l,ssrRuntimeModuleName:f,ssr:u,isTS:c,inSSR:h,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(g){return`_${Yg[g]}`},push(g,m){d.code+=g},indent(){p(++d.indentLevel)},deindent(g=!1){g?--d.indentLevel:p(--d.indentLevel)},newline(){p(d.indentLevel)}};function p(g){d.push(`
`+"  ".repeat(g))}return d}function IK(e,t={}){const n=T5(e,t);t.onContextCreated&&t.onContextCreated(n);const{mode:r,push:i,prefixIdentifiers:a,indent:s,deindent:o,newline:l,scopeId:f,ssr:u}=n,c=Array.from(e.helpers),h=c.length>0,d=!a&&r!=="module",p=!1,g=p?T5(e,t):n;OK(e,g);const m=u?"ssrRender":"render",y=(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(i(`function ${m}(${y}) {`),s(),d&&(i("with (_ctx) {"),s(),h&&(i(`const { ${c.map(qR).join(", ")} } = _Vue`),i(`
`),l())),e.components.length&&(x3(e.components,"component",n),(e.directives.length||e.temps>0)&&l()),e.directives.length&&(x3(e.directives,"directive",n),e.temps>0&&l()),e.filters&&e.filters.length&&(l(),x3(e.filters,"filter",n),l()),e.temps>0){i("let ");for(let _=0;_<e.temps;_++)i(`${_>0?", ":""}_temp${_}`)}return(e.components.length||e.directives.length||e.temps)&&(i(`
`),l()),u||i("return "),e.codegenNode?Ao(e.codegenNode,n):i("null"),d&&(o(),i("}")),o(),i("}"),{ast:e,code:n.code,preamble:p?g.code:"",map:n.map?n.map.toJSON():void 0}}function OK(e,t){const{ssr:n,prefixIdentifiers:r,push:i,newline:a,runtimeModuleName:s,runtimeGlobalName:o,ssrRuntimeModuleName:l}=t,f=o,u=Array.from(e.helpers);if(u.length>0&&(i(`const _Vue = ${f}
`),e.hoists.length)){const c=[BM,GM,Iy,jM,RR].filter(h=>u.includes(h)).map(qR).join(", ");i(`const { ${c} } = _Vue
`)}LK(e.hoists,t),a(),i("return ")}function x3(e,t,{helper:n,push:r,newline:i,isTS:a}){const s=n(t==="filter"?HM:t==="component"?UM:VM);for(let o=0;o<e.length;o++){let l=e[o];const f=l.endsWith("__self");f&&(l=l.slice(0,-6)),r(`const ${fv(l,t)} = ${s}(${JSON.stringify(l)}${f?", true":""})${a?"!":""}`),o<e.length-1&&i()}}function LK(e,t){if(!e.length)return;t.pure=!0;const{push:n,newline:r,helper:i,scopeId:a,mode:s}=t;r();for(let o=0;o<e.length;o++){const l=e[o];l&&(n(`const _hoisted_${o+1} = `),Ao(l,t),r())}t.pure=!1}function eS(e,t){const n=e.length>3||!1;t.push("["),n&&t.indent(),Py(e,t,n),n&&t.deindent(),t.push("]")}function Py(e,t,n=!1,r=!0){const{push:i,newline:a}=t;for(let s=0;s<e.length;s++){const o=e[s];Tr(o)?i(o):Fn(o)?eS(o,t):Ao(o,t),s<e.length-1&&(n?(r&&i(","),a()):r&&i(", "))}}function Ao(e,t){if(Tr(e)){t.push(e);return}if(ef(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:Ao(e.codegenNode,t);break;case 2:PK(e,t);break;case 4:XR(e,t);break;case 5:RK(e,t);break;case 12:Ao(e.codegenNode,t);break;case 8:KR(e,t);break;case 3:kK(e,t);break;case 13:DK(e,t);break;case 14:zK(e,t);break;case 15:BK(e,t);break;case 17:GK(e,t);break;case 18:jK(e,t);break;case 19:UK(e,t);break;case 20:VK(e,t);break;case 21:Py(e.body,t,!0,!1);break}}function PK(e,t){t.push(JSON.stringify(e.content),e)}function XR(e,t){const{content:n,isStatic:r}=e;t.push(r?JSON.stringify(n):n,e)}function RK(e,t){const{push:n,helper:r,pure:i}=t;i&&n(i2),n(`${r(t2)}(`),Ao(e.content,t),n(")")}function KR(e,t){for(let n=0;n<e.children.length;n++){const r=e.children[n];Tr(r)?t.push(r):Ao(r,t)}}function NK(e,t){const{push:n}=t;if(e.type===8)n("["),KR(e,t),n("]");else if(e.isStatic){const r=QM(e.content)?e.content:JSON.stringify(e.content);n(r,e)}else n(`[${e.content}]`,e)}function kK(e,t){const{push:n,helper:r,pure:i}=t;i&&n(i2),n(`${r(Iy)}(${JSON.stringify(e.content)})`,e)}function DK(e,t){const{push:n,helper:r,pure:i}=t,{tag:a,props:s,children:o,patchFlag:l,dynamicProps:f,directives:u,isBlock:c,disableTracking:h,isComponent:d}=e;u&&n(r(YM)+"("),c&&n(`(${r(Bd)}(${h?"true":""}), `),i&&n(i2);const p=c?qg(t.inSSR,d):$g(t.inSSR,d);n(r(p)+"(",e),Py(FK([a,s,o,l,f]),t),n(")"),c&&n(")"),u&&(n(", "),Ao(u,t),n(")"))}function FK(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(n=>n||"null")}function zK(e,t){const{push:n,helper:r,pure:i}=t,a=Tr(e.callee)?e.callee:r(e.callee);i&&n(i2),n(a+"(",e),Py(e.arguments,t),n(")")}function BK(e,t){const{push:n,indent:r,deindent:i,newline:a}=t,{properties:s}=e;if(!s.length){n("{}",e);return}const o=s.length>1||!1;n(o?"{":"{ "),o&&r();for(let l=0;l<s.length;l++){const{key:f,value:u}=s[l];NK(f,t),n(": "),Ao(u,t),l<s.length-1&&(n(","),a())}o&&i(),n(o?"}":" }")}function GK(e,t){eS(e.elements,t)}function jK(e,t){const{push:n,indent:r,deindent:i}=t,{params:a,returns:s,body:o,newline:l,isSlot:f}=e;f&&n(`_${Yg[KM]}(`),n("(",e),Fn(a)?Py(a,t):a&&Ao(a,t),n(") => "),(l||o)&&(n("{"),r()),s?(l&&n("return "),Fn(s)?eS(s,t):Ao(s,t)):o&&Ao(o,t),(l||o)&&(i(),n("}")),f&&(e.isNonScopedSlot&&n(", undefined, true"),n(")"))}function UK(e,t){const{test:n,consequent:r,alternate:i,newline:a}=e,{push:s,indent:o,deindent:l,newline:f}=t;if(n.type===4){const c=!QM(n.content);c&&s("("),XR(n,t),c&&s(")")}else s("("),Ao(n,t),s(")");a&&o(),t.indentLevel++,a||s(" "),s("? "),Ao(r,t),t.indentLevel--,a&&f(),a||s(" "),s(": ");const u=i.type===19;u||t.indentLevel++,Ao(i,t),u||t.indentLevel--,a&&l(!0)}function VK(e,t){const{push:n,helper:r,indent:i,deindent:a,newline:s}=t;n(`_cache[${e.index}] || (`),e.isVNode&&(i(),n(`${r(Px)}(-1),`),s()),n(`_cache[${e.index}] = `),Ao(e.value,t),e.isVNode&&(n(","),s(),n(`${r(Px)}(1),`),s(),n(`_cache[${e.index}]`),a()),n(")")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const HK=$R(/^(if|else|else-if)$/,(e,t,n)=>YK(e,t,n,(r,i,a)=>{const s=n.parent.children;let o=s.indexOf(r),l=0;for(;o-->=0;){const f=s[o];f&&f.type===9&&(l+=f.branches.length)}return()=>{if(a)r.codegenNode=M5(i,l,n);else{const f=WK(r.codegenNode);f.alternate=M5(i,l+r.branches.length-1,n)}}}));function YK(e,t,n,r){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const i=t.exp?t.exp.loc:e.loc;n.onError(Yi(28,t.loc)),t.exp=Pr("true",!1,i)}if(t.name==="if"){const i=E5(e,t),a={type:9,loc:e.loc,branches:[i]};if(n.replaceNode(a),r)return r(a,i,!0)}else{const i=n.parent.children;let a=i.indexOf(e);for(;a-->=-1;){const s=i[a];if(s&&s.type===3){n.removeNode(s);continue}if(s&&s.type===2&&!s.content.trim().length){n.removeNode(s);continue}if(s&&s.type===9){t.name==="else-if"&&s.branches[s.branches.length-1].condition===void 0&&n.onError(Yi(30,e.loc)),n.removeNode();const o=E5(e,t);s.branches.push(o);const l=r&&r(s,o,!1);r2(o,n),l&&l(),n.currentNode=null}else n.onError(Yi(30,e.loc));break}}}function E5(e,t){const n=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:n&&!El(e,"for")?e.children:[e],userKey:e2(e,"key"),isTemplateIf:n}}function M5(e,t,n){return e.condition?ET(e.condition,S5(e,t,n),Ma(n.helper(Iy),['""',"true"])):S5(e,t,n)}function S5(e,t,n){const{helper:r}=n,i=ua("key",Pr(`${t}`,!1,ll,2)),{children:a}=e,s=a[0];if(a.length!==1||s.type!==1)if(a.length===1&&s.type===11){const l=s.codegenNode;return Fx(l,i,n),l}else{let l=64;return cv(n,r(lv),Sl([i]),a,l+"",void 0,void 0,!0,!1,!1,e.loc)}else{const l=s.codegenNode,f=uK(l);return f.type===13&&JM(f,n),Fx(f,i,n),l}}function WK(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const $K=$R("for",(e,t,n)=>{const{helper:r,removeHelper:i}=n;return qK(e,t,n,a=>{const s=Ma(r(WM),[a.source]),o=kx(e),l=El(e,"memo"),f=e2(e,"key"),u=f&&(f.type===6?Pr(f.value.content,!0):f.exp),c=f?ua("key",u):null,h=a.source.type===4&&a.source.constType>0,d=h?64:f?128:256;return a.codegenNode=cv(n,r(lv),void 0,s,d+"",void 0,void 0,!0,!h,!1,e.loc),()=>{let p;const{children:g}=a,m=g.length!==1||g[0].type!==1,v=Dx(e)?e:o&&e.children.length===1&&Dx(e.children[0])?e.children[0]:null;if(v?(p=v.codegenNode,o&&c&&Fx(p,c,n)):m?p=cv(n,r(lv),c?Sl([c]):void 0,e.children,"64",void 0,void 0,!0,void 0,!1):(p=g[0].codegenNode,o&&c&&Fx(p,c,n),p.isBlock!==!h&&(p.isBlock?(i(Bd),i(qg(n.inSSR,p.isComponent))):i($g(n.inSSR,p.isComponent))),p.isBlock=!h,p.isBlock?(r(Bd),r(qg(n.inSSR,p.isComponent))):r($g(n.inSSR,p.isComponent))),l){const y=Wg(CT(a.parseResult,[Pr("_cached")]));y.body=tK([cu(["const _memo = (",l.exp,")"]),cu(["if (_cached",...u?[" && _cached.key === ",u]:[],` && ${n.helperString(DR)}(_cached, _memo)) return _cached`]),cu(["const _item = ",p]),Pr("_item.memo = _memo"),Pr("return _item")]),s.arguments.push(y,Pr("_cache"),Pr(String(n.cached++)))}else s.arguments.push(Wg(CT(a.parseResult),p,!0))}})});function qK(e,t,n,r){if(!t.exp){n.onError(Yi(31,t.loc));return}const i=ZR(t.exp);if(!i){n.onError(Yi(32,t.loc));return}const{addIdentifiers:a,removeIdentifiers:s,scopes:o}=n,{source:l,value:f,key:u,index:c}=i,h={type:11,loc:t.loc,source:l,valueAlias:f,keyAlias:u,objectIndexAlias:c,parseResult:i,children:kx(e)?e.children:[e]};n.replaceNode(h),o.vFor++;const d=r&&r(h);return()=>{o.vFor--,d&&d()}}const XK=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,C5=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,KK=/^\(|\)$/g;function ZR(e,t){const n=e.loc,r=e.content,i=r.match(XK);if(!i)return;const[,a,s]=i,o={source:m1(n,s.trim(),r.indexOf(s,a.length)),value:void 0,key:void 0,index:void 0};let l=a.trim().replace(KK,"").trim();const f=a.indexOf(l),u=l.match(C5);if(u){l=l.replace(C5,"").trim();const c=u[1].trim();let h;if(c&&(h=r.indexOf(c,f+l.length),o.key=m1(n,c,h)),u[2]){const d=u[2].trim();d&&(o.index=m1(n,d,r.indexOf(d,o.key?h+c.length:f+l.length)))}}return l&&(o.value=m1(n,l,f)),o}function m1(e,t,n){return Pr(t,!1,BR(e,n,t.length))}function CT({value:e,key:t,index:n},r=[]){return ZK([e,t,n,...r])}function ZK(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((n,r)=>n||Pr("_".repeat(r+1),!1))}const A5=Pr("undefined",!1),JK=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const n=El(e,"slot");if(n)return n.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},QK=(e,t,n,r)=>Wg(e,n,!1,!0,n.length?n[0].loc:r);function tZ(e,t,n=QK){t.helper(KM);const{children:r,loc:i}=e,a=[],s=[];let o=t.scopes.vSlot>0||t.scopes.vFor>0;const l=El(e,"slot",!0);if(l){const{arg:m,exp:v}=l;m&&!_s(m)&&(o=!0),a.push(ua(m||Pr("default",!0),n(v,void 0,r,i)))}let f=!1,u=!1;const c=[],h=new Set;let d=0;for(let m=0;m<r.length;m++){const v=r[m];let y;if(!kx(v)||!(y=El(v,"slot",!0))){v.type!==3&&c.push(v);continue}if(l){t.onError(Yi(37,y.loc));break}f=!0;const{children:_,loc:x}=v,{arg:w=Pr("default",!0),exp:E,loc:S}=y;let C;_s(w)?C=w?w.content:"default":o=!0;const T=El(v,"for"),A=n(E,T?.exp,_,x);let O,P;if(O=El(v,"if"))o=!0,s.push(ET(O.exp,v1(w,A,d++),A5));else if(P=El(v,/^else(-if)?$/,!0)){let F=m,R;for(;F--&&(R=r[F],R.type===3););if(R&&kx(R)&&El(R,"if")){r.splice(m,1),m--;let N=s[s.length-1];for(;N.alternate.type===19;)N=N.alternate;N.alternate=P.exp?ET(P.exp,v1(w,A,d++),A5):v1(w,A,d++)}else t.onError(Yi(30,P.loc))}else if(T){o=!0;const F=T.parseResult||ZR(T.exp);F?s.push(Ma(t.helper(WM),[F.source,Wg(CT(F),v1(w,A),!0)])):t.onError(Yi(32,T.loc))}else{if(C){if(h.has(C)){t.onError(Yi(38,S));continue}h.add(C),C==="default"&&(u=!0)}a.push(ua(w,A))}}if(!l){const m=(v,y)=>{const _=n(v,void 0,y,i);return t.compatConfig&&(_.isNonScopedSlot=!0),ua("default",_)};f?c.length&&c.some(v=>JR(v))&&(u?t.onError(Yi(39,c[0].loc)):a.push(m(void 0,c))):a.push(m(void 0,r))}const p=o?2:rx(e.children)?3:1;let g=Sl(a.concat(ua("_",Pr(p+"",!1))),i);return s.length&&(g=Ma(t.helper(kR),[g,Ly(s)])),{slots:g,hasDynamicSlots:o}}function v1(e,t,n){const r=[ua("name",e),ua("fn",t)];return n!=null&&r.push(ua("key",Pr(String(n),!0))),Sl(r)}function rx(e){for(let t=0;t<e.length;t++){const n=e[t];switch(n.type){case 1:if(n.tagType===2||rx(n.children))return!0;break;case 9:if(rx(n.branches))return!0;break;case 10:case 11:if(rx(n.children))return!0;break}}return!1}function JR(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():JR(e.content)}const QR=new WeakMap,eZ=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:r,props:i}=e,a=e.tagType===1;let s=a?nZ(e,t):`"${r}"`;const o=_i(s)&&s.callee===Ox;let l,f,u,c=0,h,d,p,g=o||s===Ym||s===zM||!a&&(r==="svg"||r==="foreignObject");if(i.length>0){const m=tN(e,t,void 0,a,o);l=m.props,c=m.patchFlag,d=m.dynamicPropNames;const v=m.directives;p=v&&v.length?Ly(v.map(y=>iZ(y,t))):void 0,m.shouldUseBlock&&(g=!0)}if(e.children.length>0)if(s===Ix&&(g=!0,c|=1024),a&&s!==Ym&&s!==Ix){const{slots:v,hasDynamicSlots:y}=tZ(e,t);f=v,y&&(c|=1024)}else if(e.children.length===1&&s!==Ym){const v=e.children[0],y=v.type,_=y===5||y===8;_&&Cl(v,t)===0&&(c|=1),_||y===2?f=v:f=e.children}else f=e.children;c!==0&&(u=String(c),d&&d.length&&(h=aZ(d))),e.codegenNode=cv(t,s,l,f,u,h,p,!!g,!1,a,e.loc)};function nZ(e,t,n=!1){let{tag:r}=e;const i=AT(r),a=e2(e,"is");if(a)if(i||Ad("COMPILER_IS_ON_ELEMENT",t)){const l=a.type===6?a.value&&Pr(a.value.content,!0):a.exp;if(l)return Ma(t.helper(Ox),[l])}else a.type===6&&a.value.content.startsWith("vue:")&&(r=a.value.content.slice(4));const s=!i&&El(e,"is");if(s&&s.exp)return Ma(t.helper(Ox),[s.exp]);const o=FR(r)||t.isBuiltInComponent(r);return o?(n||t.helper(o),o):(t.helper(UM),t.components.add(r),fv(r,"component"))}function tN(e,t,n=e.props,r,i,a=!1){const{tag:s,loc:o,children:l}=e;let f=[];const u=[],c=[],h=l.length>0;let d=!1,p=0,g=!1,m=!1,v=!1,y=!1,_=!1,x=!1;const w=[],E=T=>{f.length&&(u.push(Sl(I5(f),o)),f=[]),T&&u.push(T)},S=({key:T,value:A})=>{if(_s(T)){const O=T.content,P=ap(O);if(P&&(!r||i)&&O.toLowerCase()!=="onclick"&&O!=="onUpdate:modelValue"&&!wd(O)&&(y=!0),P&&wd(O)&&(x=!0),A.type===20||(A.type===4||A.type===8)&&Cl(A,t)>0)return;O==="ref"?g=!0:O==="class"?m=!0:O==="style"?v=!0:O!=="key"&&!w.includes(O)&&w.push(O),r&&(O==="class"||O==="style")&&!w.includes(O)&&w.push(O)}else _=!0};for(let T=0;T<n.length;T++){const A=n[T];if(A.type===6){const{loc:O,name:P,value:F}=A;let R=!0;if(P==="ref"&&(g=!0,t.scopes.vFor>0&&f.push(ua(Pr("ref_for",!0),Pr("true")))),P==="is"&&(AT(s)||F&&F.content.startsWith("vue:")||Ad("COMPILER_IS_ON_ELEMENT",t)))continue;f.push(ua(Pr(P,!0,BR(O,0,P.length)),Pr(F?F.content:"",R,F?F.loc:O)))}else{const{name:O,arg:P,exp:F,loc:R}=A,N=O==="bind",D=O==="on";if(O==="slot"){r||t.onError(Yi(40,R));continue}if(O==="once"||O==="memo"||O==="is"||N&&md(P,"is")&&(AT(s)||Ad("COMPILER_IS_ON_ELEMENT",t))||D&&a)continue;if((N&&md(P,"key")||D&&h&&md(P,"vue:before-update"))&&(d=!0),N&&md(P,"ref")&&t.scopes.vFor>0&&f.push(ua(Pr("ref_for",!0),Pr("true"))),!P&&(N||D)){if(_=!0,F)if(N){if(E(),Ad("COMPILER_V_BIND_OBJECT_ORDER",t)){u.unshift(F);continue}u.push(F)}else E({type:14,loc:R,callee:t.helper(XM),arguments:r?[F]:[F,"true"]});else t.onError(Yi(N?34:35,R));continue}const I=t.directiveTransforms[O];if(I){const{props:B,needRuntime:j}=I(A,e,t);!a&&B.forEach(S),D&&P&&!_s(P)?E(Sl(B,o)):f.push(...B),j&&(c.push(A),ef(j)&&QR.set(A,j))}else wW(O)||(c.push(A),h&&(d=!0))}}let C;if(u.length?(E(),u.length>1?C=Ma(t.helper(Lx),u,o):C=u[0]):f.length&&(C=Sl(I5(f),o)),_?p|=16:(m&&!r&&(p|=2),v&&!r&&(p|=4),w.length&&(p|=8),y&&(p|=32)),!d&&(p===0||p===32)&&(g||x||c.length>0)&&(p|=512),!t.inSSR&&C)switch(C.type){case 15:let T=-1,A=-1,O=!1;for(let R=0;R<C.properties.length;R++){const N=C.properties[R].key;_s(N)?N.content==="class"?T=R:N.content==="style"&&(A=R):N.isHandlerKey||(O=!0)}const P=C.properties[T],F=C.properties[A];O?C=Ma(t.helper(uv),[C]):(P&&!_s(P.value)&&(P.value=Ma(t.helper($M),[P.value])),F&&(v||F.value.type===4&&F.value.content.trim()[0]==="["||F.value.type===17)&&(F.value=Ma(t.helper(qM),[F.value])));break;case 14:break;default:C=Ma(t.helper(uv),[Ma(t.helper(Oy),[C])]);break}return{props:C,directives:c,patchFlag:p,dynamicPropNames:w,shouldUseBlock:d}}function I5(e){const t=new Map,n=[];for(let r=0;r<e.length;r++){const i=e[r];if(i.key.type===8||!i.key.isStatic){n.push(i);continue}const a=i.key.content,s=t.get(a);s?(a==="style"||a==="class"||ap(a))&&rZ(s,i):(t.set(a,i),n.push(i))}return n}function rZ(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=Ly([e.value,t.value],e.loc)}function iZ(e,t){const n=[],r=QR.get(e);r?n.push(t.helperString(r)):(t.helper(VM),t.directives.add(e.name),n.push(fv(e.name,"directive")));const{loc:i}=e;if(e.exp&&n.push(e.exp),e.arg&&(e.exp||n.push("void 0"),n.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||n.push("void 0"),n.push("void 0"));const a=Pr("true",!1,i);n.push(Sl(e.modifiers.map(s=>ua(s,a)),i))}return Ly(n,e.loc)}function aZ(e){let t="[";for(let n=0,r=e.length;n<r;n++)t+=JSON.stringify(e[n]),n<r-1&&(t+=", ");return t+"]"}function AT(e){return e==="component"||e==="Component"}const oZ=(e,t)=>{if(Dx(e)){const{children:n,loc:r}=e,{slotName:i,slotProps:a}=sZ(e,t),s=[t.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let o=2;a&&(s[2]=a,o=3),n.length&&(s[3]=Wg([],n,!1,!1,r),o=4),t.scopeId&&!t.slotted&&(o=5),s.splice(o),e.codegenNode=Ma(t.helper(NR),s,r)}};function sZ(e,t){let n='"default"',r;const i=[];for(let a=0;a<e.props.length;a++){const s=e.props[a];s.type===6?s.value&&(s.name==="name"?n=JSON.stringify(s.value.content):(s.name=Ia(s.name),i.push(s))):s.name==="bind"&&md(s.arg,"name")?s.exp&&(n=s.exp):(s.name==="bind"&&s.arg&&_s(s.arg)&&(s.arg.content=Ia(s.arg.content)),i.push(s))}if(i.length>0){const{props:a,directives:s}=tN(e,t,i,!1,!1);r=a,s.length&&t.onError(Yi(36,s[0].loc))}return{slotName:n,slotProps:r}}const lZ=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,eN=(e,t,n,r)=>{const{loc:i,modifiers:a,arg:s}=e;!e.exp&&!a.length&&n.onError(Yi(35,i));let o;if(s.type===4)if(s.isStatic){let c=s.content;c.startsWith("vue:")&&(c=`vnode-${c.slice(4)}`);const h=t.tagType!==0||c.startsWith("vnode")||!/[A-Z]/.test(c)?wg(Ia(c)):`on:${c}`;o=Pr(h,!0,s.loc)}else o=cu([`${n.helperString(TT)}(`,s,")"]);else o=s,o.children.unshift(`${n.helperString(TT)}(`),o.children.push(")");let l=e.exp;l&&!l.content.trim()&&(l=void 0);let f=n.cacheHandlers&&!l&&!n.inVOnce;if(l){const c=zR(l.content),h=!(c||lZ.test(l.content)),d=l.content.includes(";");(h||f&&c)&&(l=cu([`${h?"$event":"(...args)"} => ${d?"{":"("}`,l,d?"}":")"]))}let u={props:[ua(o,l||Pr("() => {}",!1,i))]};return r&&(u=r(u)),f&&(u.props[0].value=n.cache(u.props[0].value)),u.props.forEach(c=>c.key.isHandlerKey=!0),u},uZ=(e,t,n)=>{const{exp:r,modifiers:i,loc:a}=e,s=e.arg;return s.type!==4?(s.children.unshift("("),s.children.push(') || ""')):s.isStatic||(s.content=`${s.content} || ""`),i.includes("camel")&&(s.type===4?s.isStatic?s.content=Ia(s.content):s.content=`${n.helperString(wT)}(${s.content})`:(s.children.unshift(`${n.helperString(wT)}(`),s.children.push(")"))),n.inSSR||(i.includes("prop")&&O5(s,"."),i.includes("attr")&&O5(s,"^")),!r||r.type===4&&!r.content.trim()?(n.onError(Yi(34,a)),{props:[ua(s,Pr("",!0,a))]}):{props:[ua(s,r)]}},O5=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},cZ=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const n=e.children;let r,i=!1;for(let a=0;a<n.length;a++){const s=n[a];if(_3(s)){i=!0;for(let o=a+1;o<n.length;o++){const l=n[o];if(_3(l))r||(r=n[a]=cu([s],s.loc)),r.children.push(" + ",l),n.splice(o,1),o--;else{r=void 0;break}}}}if(!(!i||n.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(a=>a.type===7&&!t.directiveTransforms[a.name])&&e.tag!=="template")))for(let a=0;a<n.length;a++){const s=n[a];if(_3(s)||s.type===8){const o=[];(s.type!==2||s.content!==" ")&&o.push(s),!t.ssr&&Cl(s,t)===0&&o.push("1"),n[a]={type:12,content:s,loc:s.loc,codegenNode:Ma(t.helper(jM),o)}}}}},L5=new WeakSet,fZ=(e,t)=>{if(e.type===1&&El(e,"once",!0))return L5.has(e)||t.inVOnce||t.inSSR?void 0:(L5.add(e),t.inVOnce=!0,t.helper(Px),()=>{t.inVOnce=!1;const n=t.currentNode;n.codegenNode&&(n.codegenNode=t.cache(n.codegenNode,!0))})},nN=(e,t,n)=>{const{exp:r,arg:i}=e;if(!r)return n.onError(Yi(41,e.loc)),y1();const a=r.loc.source,s=r.type===4?r.content:a,o=n.bindingMetadata[a];if(o==="props"||o==="props-aliased")return n.onError(Yi(44,r.loc)),y1();const l=!1;if(!s.trim()||!zR(s)&&!l)return n.onError(Yi(42,r.loc)),y1();const f=i||Pr("modelValue",!0),u=i?_s(i)?`onUpdate:${Ia(i.content)}`:cu(['"onUpdate:" + ',i]):"onUpdate:modelValue";let c;const h=n.isTS?"($event: any)":"$event";c=cu([`${h} => ((`,r,") = $event)"]);const d=[ua(f,e.exp),ua(u,c)];if(e.modifiers.length&&t.tagType===1){const p=e.modifiers.map(m=>(QM(m)?m:JSON.stringify(m))+": true").join(", "),g=i?_s(i)?`${i.content}Modifiers`:cu([i,' + "Modifiers"']):"modelModifiers";d.push(ua(g,Pr(`{ ${p} }`,!1,e.loc,2)))}return y1(d)};function y1(e=[]){return{props:e}}const hZ=/[\w).+\-_$\]]/,dZ=(e,t)=>{Ad("COMPILER_FILTER",t)&&(e.type===5&&zx(e.content,t),e.type===1&&e.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&zx(n.exp,t)}))};function zx(e,t){if(e.type===4)P5(e,t);else for(let n=0;n<e.children.length;n++){const r=e.children[n];typeof r=="object"&&(r.type===4?P5(r,t):r.type===8?zx(e,t):r.type===5&&zx(r.content,t))}}function P5(e,t){const n=e.content;let r=!1,i=!1,a=!1,s=!1,o=0,l=0,f=0,u=0,c,h,d,p,g=[];for(d=0;d<n.length;d++)if(h=c,c=n.charCodeAt(d),r)c===39&&h!==92&&(r=!1);else if(i)c===34&&h!==92&&(i=!1);else if(a)c===96&&h!==92&&(a=!1);else if(s)c===47&&h!==92&&(s=!1);else if(c===124&&n.charCodeAt(d+1)!==124&&n.charCodeAt(d-1)!==124&&!o&&!l&&!f)p===void 0?(u=d+1,p=n.slice(0,d).trim()):m();else{switch(c){case 34:i=!0;break;case 39:r=!0;break;case 96:a=!0;break;case 40:f++;break;case 41:f--;break;case 91:l++;break;case 93:l--;break;case 123:o++;break;case 125:o--;break}if(c===47){let v=d-1,y;for(;v>=0&&(y=n.charAt(v),y===" ");v--);(!y||!hZ.test(y))&&(s=!0)}}p===void 0?p=n.slice(0,d).trim():u!==0&&m();function m(){g.push(n.slice(u,d).trim()),u=d+1}if(g.length){for(d=0;d<g.length;d++)p=pZ(p,g[d],t);e.content=p}}function pZ(e,t,n){n.helper(HM);const r=t.indexOf("(");if(r<0)return n.filters.add(t),`${fv(t,"filter")}(${e})`;{const i=t.slice(0,r),a=t.slice(r+1);return n.filters.add(i),`${fv(i,"filter")}(${e}${a!==")"?","+a:a}`}}const R5=new WeakSet,gZ=(e,t)=>{if(e.type===1){const n=El(e,"memo");return!n||R5.has(e)?void 0:(R5.add(e),()=>{const r=e.codegenNode||t.currentNode.codegenNode;r&&r.type===13&&(e.tagType!==1&&JM(r,t),e.codegenNode=Ma(t.helper(ZM),[n.exp,Wg(void 0,r),"_cache",String(t.cached++)]))})}};function mZ(e){return[[fZ,HK,gZ,$K,dZ,oZ,eZ,JK,cZ],{on:eN,bind:uZ,model:nN}]}function vZ(e,t={}){const n=t.onError||FM,r=t.mode==="module";t.prefixIdentifiers===!0?n(Yi(47)):r&&n(Yi(48));const i=!1;t.cacheHandlers&&n(Yi(49)),t.scopeId&&!r&&n(Yi(50));const a=Tr(e)?hK(e,t):e,[s,o]=mZ();return SK(a,Qr({},t,{prefixIdentifiers:i,nodeTransforms:[...s,...t.nodeTransforms||[]],directiveTransforms:Qr({},o,t.directiveTransforms||{})})),IK(a,Qr({},t,{prefixIdentifiers:i}))}const yZ=()=>({props:[]}),rN=Symbol(""),iN=Symbol(""),aN=Symbol(""),oN=Symbol(""),IT=Symbol(""),sN=Symbol(""),lN=Symbol(""),uN=Symbol(""),cN=Symbol(""),fN=Symbol("");ZX({[rN]:"vModelRadio",[iN]:"vModelCheckbox",[aN]:"vModelText",[oN]:"vModelSelect",[IT]:"vModelDynamic",[sN]:"withModifiers",[lN]:"withKeys",[uN]:"vShow",[cN]:"Transition",[fN]:"TransitionGroup"});let Vp;function _Z(e,t=!1){return Vp||(Vp=document.createElement("div")),t?(Vp.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,Vp.children[0].getAttribute("foo")):(Vp.innerHTML=e,Vp.textContent)}const xZ=As("style,iframe,script,noscript",!0),bZ={isVoidTag:DW,isNativeTag:e=>NW(e)||kW(e),isPreTag:e=>e==="pre",decodeEntities:_Z,isBuiltInComponent:e=>{if(fg(e,"Transition"))return cN;if(fg(e,"TransitionGroup"))return fN},getNamespace(e,t){let n=t?t.ns:0;if(t&&n===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(r=>r.type===6&&r.name==="encoding"&&r.value!=null&&(r.value.content==="text/html"||r.value.content==="application/xhtml+xml"))&&(n=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(n=0);else t&&n===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(n=0);if(n===0){if(e==="svg")return 1;if(e==="math")return 2}return n},getTextMode({tag:e,ns:t}){if(t===0){if(e==="textarea"||e==="title")return 1;if(xZ(e))return 2}return 0}},wZ=e=>{e.type===1&&e.props.forEach((t,n)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[n]={type:7,name:"bind",arg:Pr("style",!0,t.loc),exp:TZ(t.value.content,t.loc),modifiers:[],loc:t.loc})})},TZ=(e,t)=>{const n=q4(e);return Pr(JSON.stringify(n),!1,t,3)};function oh(e,t){return Yi(e,t)}const EZ=(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(oh(53,i)),t.children.length&&(n.onError(oh(54,i)),t.children.length=0),{props:[ua(Pr("innerHTML",!0,i),r||Pr("",!0))]}},MZ=(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(oh(55,i)),t.children.length&&(n.onError(oh(56,i)),t.children.length=0),{props:[ua(Pr("textContent",!0),r?Cl(r,n)>0?r:Ma(n.helperString(t2),[r],i):Pr("",!0))]}},SZ=(e,t,n)=>{const r=nN(e,t,n);if(!r.props.length||t.tagType===1)return r;e.arg&&n.onError(oh(58,e.arg.loc));const{tag:i}=t,a=n.isCustomElement(i);if(i==="input"||i==="textarea"||i==="select"||a){let s=aN,o=!1;if(i==="input"||a){const l=e2(t,"type");if(l){if(l.type===7)s=IT;else if(l.value)switch(l.value.content){case"radio":s=rN;break;case"checkbox":s=iN;break;case"file":o=!0,n.onError(oh(59,e.loc));break}}else oK(t)&&(s=IT)}else i==="select"&&(s=oN);o||(r.needRuntime=n.helper(s))}else n.onError(oh(57,e.loc));return r.props=r.props.filter(s=>!(s.key.type===4&&s.key.content==="modelValue")),r},CZ=As("passive,once,capture"),AZ=As("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),IZ=As("left,right"),hN=As("onkeyup,onkeydown,onkeypress",!0),OZ=(e,t,n,r)=>{const i=[],a=[],s=[];for(let o=0;o<t.length;o++){const l=t[o];l==="native"&&hv("COMPILER_V_ON_NATIVE",n)||CZ(l)?s.push(l):IZ(l)?_s(e)?hN(e.content)?i.push(l):a.push(l):(i.push(l),a.push(l)):AZ(l)?a.push(l):i.push(l)}return{keyModifiers:i,nonKeyModifiers:a,eventOptionModifiers:s}},N5=(e,t)=>_s(e)&&e.content.toLowerCase()==="onclick"?Pr(t,!0):e.type!==4?cu(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,LZ=(e,t,n)=>eN(e,t,n,r=>{const{modifiers:i}=e;if(!i.length)return r;let{key:a,value:s}=r.props[0];const{keyModifiers:o,nonKeyModifiers:l,eventOptionModifiers:f}=OZ(a,i,n,e.loc);if(l.includes("right")&&(a=N5(a,"onContextmenu")),l.includes("middle")&&(a=N5(a,"onMouseup")),l.length&&(s=Ma(n.helper(sN),[s,JSON.stringify(l)])),o.length&&(!_s(a)||hN(a.content))&&(s=Ma(n.helper(lN),[s,JSON.stringify(o)])),f.length){const u=f.map(sp).join("");a=_s(a)?Pr(`${a.content}${u}`,!0):cu(["(",a,`) + "${u}"`])}return{props:[ua(a,s)]}}),PZ=(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(oh(61,i)),{props:[],needRuntime:n.helper(uN)}},RZ=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&t.removeNode()},NZ=[wZ],kZ={cloak:yZ,html:EZ,text:MZ,model:SZ,on:LZ,show:PZ};function DZ(e,t={}){return vZ(e,Qr({},bZ,t,{nodeTransforms:[RZ,...NZ,...t.nodeTransforms||[]],directiveTransforms:Qr({},kZ,t.directiveTransforms||{}),transformHoist:null}))}const k5=Object.create(null);function FZ(e,t){if(!Tr(e))if(e.nodeType)e=e.innerHTML;else return Xo;const n=e,r=k5[n];if(r)return r;if(e[0]==="#"){const o=document.querySelector(e);e=o?o.innerHTML:""}const i=Qr({hoistStatic:!0,onError:void 0,onWarn:Xo},t);!i.isCustomElement&&typeof customElements<"u"&&(i.isCustomElement=o=>!!customElements.get(o));const{code:a}=DZ(e,i),s=new Function("Vue",a)(YX);return s._rc=!0,k5[n]=s}iR(FZ);function zZ(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}var Gd=1,jd=2,Sg=3,BZ=4,OT=5,D5=6378137,GZ=6356752314e-3,F5=.0066943799901413165,$m=484813681109536e-20,wn=Math.PI/2,jZ=.16666666666666666,UZ=.04722222222222222,VZ=.022156084656084655,kn=1e-10,ho=.017453292519943295,qu=57.29577951308232,ci=Math.PI/4,pv=Math.PI*2,ya=3.14159265359,Is={};Is.greenwich=0;Is.lisbon=-9.131906111111;Is.paris=2.337229166667;Is.bogota=-74.080916666667;Is.madrid=-3.687938888889;Is.rome=12.452333333333;Is.bern=7.439583333333;Is.jakarta=106.807719444444;Is.ferro=-17.666666666667;Is.brussels=4.367975;Is.stockholm=18.058277777778;Is.athens=23.7163375;Is.oslo=10.722916666667;const HZ={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var z5=/[\s_\-\/\(\)]/g;function _h(e,t){if(e[t])return e[t];for(var n=Object.keys(e),r=t.toLowerCase().replace(z5,""),i=-1,a,s;++i<n.length;)if(a=n[i],s=a.toLowerCase().replace(z5,""),s===r)return e[a]}function LT(e){var t={},n=e.split("+").map(function(o){return o.trim()}).filter(function(o){return o}).reduce(function(o,l){var f=l.split("=");return f.push(!0),o[f[0].toLowerCase()]=f[1],o},{}),r,i,a,s={proj:"projName",datum:"datumCode",rf:function(o){t.rf=parseFloat(o)},lat_0:function(o){t.lat0=o*ho},lat_1:function(o){t.lat1=o*ho},lat_2:function(o){t.lat2=o*ho},lat_ts:function(o){t.lat_ts=o*ho},lon_0:function(o){t.long0=o*ho},lon_1:function(o){t.long1=o*ho},lon_2:function(o){t.long2=o*ho},alpha:function(o){t.alpha=parseFloat(o)*ho},gamma:function(o){t.rectified_grid_angle=parseFloat(o)},lonc:function(o){t.longc=o*ho},x_0:function(o){t.x0=parseFloat(o)},y_0:function(o){t.y0=parseFloat(o)},k_0:function(o){t.k0=parseFloat(o)},k:function(o){t.k0=parseFloat(o)},a:function(o){t.a=parseFloat(o)},b:function(o){t.b=parseFloat(o)},r_a:function(){t.R_A=!0},zone:function(o){t.zone=parseInt(o,10)},south:function(){t.utmSouth=!0},towgs84:function(o){t.datum_params=o.split(",").map(function(l){return parseFloat(l)})},to_meter:function(o){t.to_meter=parseFloat(o)},units:function(o){t.units=o;var l=_h(HZ,o);l&&(t.to_meter=l.to_meter)},from_greenwich:function(o){t.from_greenwich=o*ho},pm:function(o){var l=_h(Is,o);t.from_greenwich=(l||parseFloat(o))*ho},nadgrids:function(o){o==="@null"?t.datumCode="none":t.nadgrids=o},axis:function(o){var l="ewnsud";o.length===3&&l.indexOf(o.substr(0,1))!==-1&&l.indexOf(o.substr(1,1))!==-1&&l.indexOf(o.substr(2,1))!==-1&&(t.axis=o)},approx:function(){t.approx=!0}};for(r in n)i=n[r],r in s?(a=s[r],typeof a=="function"?a(i):t[a]=i):t[r]=i;return typeof t.datumCode=="string"&&t.datumCode!=="WGS84"&&(t.datumCode=t.datumCode.toLowerCase()),t}var gv=1,dN=2,pN=3,Bx=4,gN=5,nS=-1,YZ=/\s/,WZ=/[A-Za-z]/,$Z=/[A-Za-z84_]/,a2=/[,\]]/,mN=/[\d\.E\-\+]/;function mf(e){if(typeof e!="string")throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=gv}mf.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==Bx)for(;YZ.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case gv:return this.neutral(e);case dN:return this.keyword(e);case Bx:return this.quoted(e);case gN:return this.afterquote(e);case pN:return this.number(e);case nS:return}};mf.prototype.afterquote=function(e){if(e==='"'){this.word+='"',this.state=Bx;return}if(a2.test(e)){this.word=this.word.trim(),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in afterquote yet, index '+this.place)};mf.prototype.afterItem=function(e){if(e===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=gv;return}if(e==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=gv,this.currentObject=this.stack.pop(),this.currentObject||(this.state=nS);return}};mf.prototype.number=function(e){if(mN.test(e)){this.word+=e;return}if(a2.test(e)){this.word=parseFloat(this.word),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in number yet, index '+this.place)};mf.prototype.quoted=function(e){if(e==='"'){this.state=gN;return}this.word+=e};mf.prototype.keyword=function(e){if($Z.test(e)){this.word+=e;return}if(e==="["){var t=[];t.push(this.word),this.level++,this.root===null?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,this.state=gv;return}if(a2.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in keyword yet, index '+this.place)};mf.prototype.neutral=function(e){if(WZ.test(e)){this.word=e,this.state=dN;return}if(e==='"'){this.word="",this.state=Bx;return}if(mN.test(e)){this.word=e,this.state=pN;return}if(a2.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in neutral yet, index '+this.place)};mf.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===nS)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function qZ(e){var t=new mf(e);return t.output()}function B5(e,t,n){Array.isArray(t)&&(n.unshift(t),t=null);var r=t?{}:e,i=n.reduce(function(a,s){return hg(s,a),a},r);t&&(e[t]=i)}function hg(e,t){if(!Array.isArray(e)){t[e]=!0;return}var n=e.shift();if(n==="PARAMETER"&&(n=e.shift()),e.length===1){if(Array.isArray(e[0])){t[n]={},hg(e[0],t[n]);return}t[n]=e[0];return}if(!e.length){t[n]=!0;return}if(n==="TOWGS84"){t[n]=e;return}if(n==="AXIS"){n in t||(t[n]=[]),t[n].push(e);return}Array.isArray(n)||(t[n]={});var r;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":t[n]={name:e[0].toLowerCase(),convert:e[1]},e.length===3&&hg(e[2],t[n]);return;case"SPHEROID":case"ELLIPSOID":t[n]={name:e[0],a:e[1],rf:e[2]},e.length===4&&hg(e[3],t[n]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":e[0]=["name",e[0]],B5(t,n,e);return;default:for(r=-1;++r<e.length;)if(!Array.isArray(e[r]))return hg(e,t[n]);return B5(t,n,e)}}var XZ=.017453292519943295;function KZ(e,t){var n=t[0],r=t[1];!(n in e)&&r in e&&(e[n]=e[r],t.length===3&&(e[n]=t[2](e[n])))}function Fu(e){return e*XZ}function ZZ(e){if(e.type==="GEOGCS"?e.projName="longlat":e.type==="LOCAL_CS"?(e.projName="identity",e.local=!0):typeof e.PROJECTION=="object"?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var t="",n=0,r=e.AXIS.length;n<r;++n){var i=[e.AXIS[n][0].toLowerCase(),e.AXIS[n][1].toLowerCase()];i[0].indexOf("north")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="north"?t+="n":i[0].indexOf("south")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="south"?t+="s":i[0].indexOf("east")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="east"?t+="e":(i[0].indexOf("west")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="west")&&(t+="w")}t.length===2&&(t+="u"),t.length===3&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.UNIT.convert&&(e.type==="GEOGCS"?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var a=e.GEOGCS;e.type==="GEOGCS"&&(a=e),a&&(a.DATUM?e.datumCode=a.DATUM.name.toLowerCase():e.datumCode=a.name.toLowerCase(),e.datumCode.slice(0,2)==="d_"&&(e.datumCode=e.datumCode.slice(2)),(e.datumCode==="new_zealand_geodetic_datum_1949"||e.datumCode==="new_zealand_1949")&&(e.datumCode="nzgd49"),(e.datumCode==="wgs_1984"||e.datumCode==="world_geodetic_system_1984")&&(e.PROJECTION==="Mercator_Auxiliary_Sphere"&&(e.sphere=!0),e.datumCode="wgs84"),e.datumCode.slice(-6)==="_ferro"&&(e.datumCode=e.datumCode.slice(0,-6)),e.datumCode.slice(-8)==="_jakarta"&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),a.DATUM&&a.DATUM.SPHEROID&&(e.ellps=a.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),e.ellps.toLowerCase().slice(0,13)==="international"&&(e.ellps="intl"),e.a=a.DATUM.SPHEROID.a,e.rf=parseFloat(a.DATUM.SPHEROID.rf,10)),a.DATUM&&a.DATUM.TOWGS84&&(e.datum_params=a.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),e.datumCode==="ch1903+"&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a);function s(f){var u=e.to_meter||1;return f*u}var o=function(f){return KZ(e,f)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Fu],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Fu],["x0","false_easting",s],["y0","false_northing",s],["long0","central_meridian",Fu],["lat0","latitude_of_origin",Fu],["lat0","standard_parallel_1",Fu],["lat1","standard_parallel_1",Fu],["lat2","standard_parallel_2",Fu],["azimuth","Azimuth"],["alpha","azimuth",Fu],["srsCode","name"]];l.forEach(o),!e.long0&&e.longc&&(e.projName==="Albers_Conic_Equal_Area"||e.projName==="Lambert_Azimuthal_Equal_Area")&&(e.long0=e.longc),!e.lat_ts&&e.lat1&&(e.projName==="Stereographic_South_Pole"||e.projName==="Polar Stereographic (variant B)")?(e.lat0=Fu(e.lat1>0?90:-90),e.lat_ts=e.lat1):!e.lat_ts&&e.lat0&&e.projName==="Polar_Stereographic"&&(e.lat_ts=e.lat0,e.lat0=Fu(e.lat0>0?90:-90))}function vN(e){var t=qZ(e),n=t.shift(),r=t.shift();t.unshift(["name",r]),t.unshift(["type",n]);var i={};return hg(t,i),ZZ(i),i}function Ho(e){var t=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?Ho[e]=LT(arguments[1]):Ho[e]=vN(arguments[1]):Ho[e]=n}else if(arguments.length===1){if(Array.isArray(e))return e.map(function(r){Array.isArray(r)?Ho.apply(t,r):Ho(r)});if(typeof e=="string"){if(e in Ho)return Ho[e]}else"EPSG"in e?Ho["EPSG:"+e.EPSG]=e:"ESRI"in e?Ho["ESRI:"+e.ESRI]=e:"IAU2000"in e?Ho["IAU2000:"+e.IAU2000]=e:console.log(e);return}}zZ(Ho);function JZ(e){return typeof e=="string"}function QZ(e){return e in Ho}var tJ=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function eJ(e){return tJ.some(function(t){return e.indexOf(t)>-1})}var nJ=["3857","900913","3785","102113"];function rJ(e){var t=_h(e,"authority");if(t){var n=_h(t,"epsg");return n&&nJ.indexOf(n)>-1}}function iJ(e){var t=_h(e,"extension");if(t)return _h(t,"proj4")}function aJ(e){return e[0]==="+"}function oJ(e){if(JZ(e)){if(QZ(e))return Ho[e];if(eJ(e)){var t=vN(e);if(rJ(t))return Ho["EPSG:3857"];var n=iJ(t);return n?LT(n):t}if(aJ(e))return LT(e)}else return e}function G5(e,t){e=e||{};var n,r;if(!t)return e;for(r in t)n=t[r],n!==void 0&&(e[r]=n);return e}function lc(e,t,n){var r=e*t;return n/Math.sqrt(1-r*r)}function Ry(e){return e<0?-1:1}function Gn(e){return Math.abs(e)<=ya?e:e-Ry(e)*pv}function fu(e,t,n){var r=e*n,i=.5*e;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(wn-t))/r}function mv(e,t){for(var n=.5*e,r,i,a=wn-2*Math.atan(t),s=0;s<=15;s++)if(r=e*Math.sin(a),i=wn-2*Math.atan(t*Math.pow((1-r)/(1+r),n))-a,a+=i,Math.abs(i)<=1e-10)return a;return-9999}function sJ(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=lc(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function lJ(e){var t=e.x,n=e.y;if(n*qu>90&&n*qu<-90&&t*qu>180&&t*qu<-180)return null;var r,i;if(Math.abs(Math.abs(n)-wn)<=kn)return null;if(this.sphere)r=this.x0+this.a*this.k0*Gn(t-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(ci+.5*n));else{var a=Math.sin(n),s=fu(this.e,n,a);r=this.x0+this.a*this.k0*Gn(t-this.long0),i=this.y0-this.a*this.k0*Math.log(s)}return e.x=r,e.y=i,e}function uJ(e){var t=e.x-this.x0,n=e.y-this.y0,r,i;if(this.sphere)i=wn-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var a=Math.exp(-n/(this.a*this.k0));if(i=mv(this.e,a),i===-9999)return null}return r=Gn(this.long0+t/(this.a*this.k0)),e.x=r,e.y=i,e}var cJ=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const fJ={init:sJ,forward:lJ,inverse:uJ,names:cJ};function hJ(){}function j5(e){return e}var dJ=["longlat","identity"];const pJ={init:hJ,forward:j5,inverse:j5,names:dJ};var gJ=[fJ,pJ],ix={},Gx=[];function yN(e,t){var n=Gx.length;return e.names?(Gx[n]=e,e.names.forEach(function(r){ix[r.toLowerCase()]=n}),this):(console.log(t),!0)}function mJ(e){if(!e)return!1;var t=e.toLowerCase();if(typeof ix[t]<"u"&&Gx[ix[t]])return Gx[ix[t]]}function vJ(){gJ.forEach(yN)}const yJ={start:vJ,add:yN,get:mJ};var yr={};yr.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};yr.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};yr.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};yr.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};yr.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};yr.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};yr.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};yr.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};yr.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};yr.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};yr.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};yr.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};yr.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};yr.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};yr.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};yr.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};yr.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};yr.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};yr.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};yr.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};yr.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};yr.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};yr.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};yr.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};yr.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};yr.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};yr.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};yr.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};yr.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};yr.hough={a:6378270,rf:297,ellipseName:"Hough"};yr.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};yr.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};yr.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};yr.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};yr.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};yr.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};yr.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};yr.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};yr.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};yr.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};yr.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};yr.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var _J=yr.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};yr.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function xJ(e,t,n,r){var i=e*e,a=t*t,s=(i-a)/i,o=0;r?(e*=1-s*(jZ+s*(UZ+s*VZ)),i=e*e,s=0):o=Math.sqrt(s);var l=(i-a)/a;return{es:s,e:o,ep2:l}}function bJ(e,t,n,r,i){if(!e){var a=_h(yr,r);a||(a=_J),e=a.a,t=a.b,n=a.rf}return n&&!t&&(t=(1-1/n)*e),(n===0||Math.abs(e-t)<kn)&&(i=!0,t=e),{a:e,b:t,rf:n,sphere:i}}var oo={};oo.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};oo.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};oo.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};oo.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};oo.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};oo.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};oo.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};oo.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};oo.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};oo.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};oo.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};oo.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};oo.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};oo.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};oo.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};oo.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};oo.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function wJ(e,t,n,r,i,a,s){var o={};return e===void 0||e==="none"?o.datum_type=OT:o.datum_type=BZ,t&&(o.datum_params=t.map(parseFloat),(o.datum_params[0]!==0||o.datum_params[1]!==0||o.datum_params[2]!==0)&&(o.datum_type=Gd),o.datum_params.length>3&&(o.datum_params[3]!==0||o.datum_params[4]!==0||o.datum_params[5]!==0||o.datum_params[6]!==0)&&(o.datum_type=jd,o.datum_params[3]*=$m,o.datum_params[4]*=$m,o.datum_params[5]*=$m,o.datum_params[6]=o.datum_params[6]/1e6+1)),s&&(o.datum_type=Sg,o.grids=s),o.a=n,o.b=r,o.es=i,o.ep2=a,o}var _N={};function TJ(e,t){var n=new DataView(t),r=SJ(n),i=CJ(n,r),a=AJ(n,i,r),s={header:i,subgrids:a};return _N[e]=s,s}function EJ(e){if(e===void 0)return null;var t=e.split(",");return t.map(MJ)}function MJ(e){if(e.length===0)return null;var t=e[0]==="@";return t&&(e=e.slice(1)),e==="null"?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:_N[e]||null,isNull:!1}}function dg(e){return e/3600*Math.PI/180}function SJ(e){var t=e.getInt32(8,!1);return t===11?!1:(t=e.getInt32(8,!0),t!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function CJ(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:PT(e,56,56+8).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}function PT(e,t,n){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,n)))}function AJ(e,t,n){for(var r=176,i=[],a=0;a<t.nSubgrids;a++){var s=OJ(e,r,n),o=LJ(e,r,s,n),l=Math.round(1+(s.upperLongitude-s.lowerLongitude)/s.longitudeInterval),f=Math.round(1+(s.upperLatitude-s.lowerLatitude)/s.latitudeInterval);i.push({ll:[dg(s.lowerLongitude),dg(s.lowerLatitude)],del:[dg(s.longitudeInterval),dg(s.latitudeInterval)],lim:[l,f],count:s.gridNodeCount,cvs:IJ(o)}),r+=176+s.gridNodeCount*16}return i}function IJ(e){return e.map(function(t){return[dg(t.longitudeShift),dg(t.latitudeShift)]})}function OJ(e,t,n){return{name:PT(e,t+8,t+16).trim(),parent:PT(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,n),upperLatitude:e.getFloat64(t+88,n),lowerLongitude:e.getFloat64(t+104,n),upperLongitude:e.getFloat64(t+120,n),latitudeInterval:e.getFloat64(t+136,n),longitudeInterval:e.getFloat64(t+152,n),gridNodeCount:e.getInt32(t+168,n)}}function LJ(e,t,n,r){for(var i=t+176,a=16,s=[],o=0;o<n.gridNodeCount;o++){var l={latitudeShift:e.getFloat32(i+o*a,r),longitudeShift:e.getFloat32(i+o*a+4,r),latitudeAccuracy:e.getFloat32(i+o*a+8,r),longitudeAccuracy:e.getFloat32(i+o*a+12,r)};s.push(l)}return s}function nc(e,t){if(!(this instanceof nc))return new nc(e);t=t||function(f){if(f)throw f};var n=oJ(e);if(typeof n!="object"){t(e);return}var r=nc.projections.get(n.projName);if(!r){t(e);return}if(n.datumCode&&n.datumCode!=="none"){var i=_h(oo,n.datumCode);i&&(n.datum_params=n.datum_params||(i.towgs84?i.towgs84.split(","):null),n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var a=bJ(n.a,n.b,n.rf,n.ellps,n.sphere),s=xJ(a.a,a.b,a.rf,n.R_A),o=EJ(n.nadgrids),l=n.datum||wJ(n.datumCode,n.datum_params,a.a,a.b,s.es,s.ep2,o);G5(this,n),G5(this,r),this.a=a.a,this.b=a.b,this.rf=a.rf,this.sphere=a.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=l,this.init(),t(null,this)}nc.projections=yJ;nc.projections.start();function PJ(e,t){return e.datum_type!==t.datum_type||e.a!==t.a||Math.abs(e.es-t.es)>5e-11?!1:e.datum_type===Gd?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type===jd?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6]:!0}function xN(e,t,n){var r=e.x,i=e.y,a=e.z?e.z:0,s,o,l,f;if(i<-wn&&i>-1.001*wn)i=-wn;else if(i>wn&&i<1.001*wn)i=wn;else{if(i<-wn)return{x:-1/0,y:-1/0,z:e.z};if(i>wn)return{x:1/0,y:1/0,z:e.z}}return r>Math.PI&&(r-=2*Math.PI),o=Math.sin(i),f=Math.cos(i),l=o*o,s=n/Math.sqrt(1-t*l),{x:(s+a)*f*Math.cos(r),y:(s+a)*f*Math.sin(r),z:(s*(1-t)+a)*o}}function bN(e,t,n,r){var i=1e-12,a=i*i,s=30,o,l,f,u,c,h,d,p,g,m,v,y,_,x=e.x,w=e.y,E=e.z?e.z:0,S,C,T;if(o=Math.sqrt(x*x+w*w),l=Math.sqrt(x*x+w*w+E*E),o/n<i){if(S=0,l/n<i)return C=wn,T=-r,{x:e.x,y:e.y,z:e.z}}else S=Math.atan2(w,x);f=E/l,u=o/l,c=1/Math.sqrt(1-t*(2-t)*u*u),p=u*(1-t)*c,g=f*c,_=0;do _++,d=n/Math.sqrt(1-t*g*g),T=o*p+E*g-d*(1-t*g*g),h=t*d/(d+T),c=1/Math.sqrt(1-h*(2-h)*u*u),m=u*(1-h)*c,v=f*c,y=v*p-m*g,p=m,g=v;while(y*y>a&&_<s);return C=Math.atan(v/Math.abs(m)),{x:S,y:C,z:T}}function RJ(e,t,n){if(t===Gd)return{x:e.x+n[0],y:e.y+n[1],z:e.z+n[2]};if(t===jd){var r=n[0],i=n[1],a=n[2],s=n[3],o=n[4],l=n[5],f=n[6];return{x:f*(e.x-l*e.y+o*e.z)+r,y:f*(l*e.x+e.y-s*e.z)+i,z:f*(-o*e.x+s*e.y+e.z)+a}}}function NJ(e,t,n){if(t===Gd)return{x:e.x-n[0],y:e.y-n[1],z:e.z-n[2]};if(t===jd){var r=n[0],i=n[1],a=n[2],s=n[3],o=n[4],l=n[5],f=n[6],u=(e.x-r)/f,c=(e.y-i)/f,h=(e.z-a)/f;return{x:u+l*c-o*h,y:-l*u+c+s*h,z:o*u-s*c+h}}}function _1(e){return e===Gd||e===jd}function kJ(e,t,n){if(PJ(e,t)||e.datum_type===OT||t.datum_type===OT)return n;var r=e.a,i=e.es;if(e.datum_type===Sg){var a=U5(e,!1,n);if(a!==0)return;r=D5,i=F5}var s=t.a,o=t.b,l=t.es;if(t.datum_type===Sg&&(s=D5,o=GZ,l=F5),i===l&&r===s&&!_1(e.datum_type)&&!_1(t.datum_type))return n;if(n=xN(n,i,r),_1(e.datum_type)&&(n=RJ(n,e.datum_type,e.datum_params)),_1(t.datum_type)&&(n=NJ(n,t.datum_type,t.datum_params)),n=bN(n,l,s,o),t.datum_type===Sg){var f=U5(t,!0,n);if(f!==0)return}return n}function U5(e,t,n){if(e.grids===null||e.grids.length===0)return console.log("Grid shift grids not found"),-1;var r={x:-n.x,y:n.y},i={x:Number.NaN,y:Number.NaN},a=[];t:for(var s=0;s<e.grids.length;s++){var o=e.grids[s];if(a.push(o.name),o.isNull){i=r;break}if(o.mandatory,o.grid===null){if(o.mandatory)return console.log("Unable to find mandatory grid '"+o.name+"'"),-1;continue}for(var l=o.grid.subgrids,f=0,u=l.length;f<u;f++){var c=l[f],h=(Math.abs(c.del[1])+Math.abs(c.del[0]))/1e4,d=c.ll[0]-h,p=c.ll[1]-h,g=c.ll[0]+(c.lim[0]-1)*c.del[0]+h,m=c.ll[1]+(c.lim[1]-1)*c.del[1]+h;if(!(p>r.y||d>r.x||m<r.y||g<r.x)&&(i=DJ(r,t,c),!isNaN(i.x)))break t}}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*qu+" "+r.y*qu+" tried: '"+a+"'"),-1):(n.x=-i.x,n.y=i.y,0)}function DJ(e,t,n){var r={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return r;var i={x:e.x,y:e.y};i.x-=n.ll[0],i.y-=n.ll[1],i.x=Gn(i.x-Math.PI)+Math.PI;var a=V5(i,n);if(t){if(isNaN(a.x))return r;a.x=i.x-a.x,a.y=i.y-a.y;var s=9,o=1e-12,l,f;do{if(f=V5(a,n),isNaN(f.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:i.x-(f.x+a.x),y:i.y-(f.y+a.y)},a.x+=l.x,a.y+=l.y}while(s--&&Math.abs(l.x)>o&&Math.abs(l.y)>o);if(s<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=Gn(a.x+n.ll[0]),r.y=a.y+n.ll[1]}else isNaN(a.x)||(r.x=e.x+a.x,r.y=e.y+a.y);return r}function V5(e,t){var n={x:e.x/t.del[0],y:e.y/t.del[1]},r={x:Math.floor(n.x),y:Math.floor(n.y)},i={x:n.x-1*r.x,y:n.y-1*r.y},a={x:Number.NaN,y:Number.NaN},s;if(r.x<0||r.x>=t.lim[0]||r.y<0||r.y>=t.lim[1])return a;s=r.y*t.lim[0]+r.x;var o={x:t.cvs[s][0],y:t.cvs[s][1]};s++;var l={x:t.cvs[s][0],y:t.cvs[s][1]};s+=t.lim[0];var f={x:t.cvs[s][0],y:t.cvs[s][1]};s--;var u={x:t.cvs[s][0],y:t.cvs[s][1]},c=i.x*i.y,h=i.x*(1-i.y),d=(1-i.x)*(1-i.y),p=(1-i.x)*i.y;return a.x=d*o.x+h*l.x+p*u.x+c*f.x,a.y=d*o.y+h*l.y+p*u.y+c*f.y,a}function H5(e,t,n){var r=n.x,i=n.y,a=n.z||0,s,o,l,f={};for(l=0;l<3;l++)if(!(t&&l===2&&n.z===void 0))switch(l===0?(s=r,"ew".indexOf(e.axis[l])!==-1?o="x":o="y"):l===1?(s=i,"ns".indexOf(e.axis[l])!==-1?o="y":o="x"):(s=a,o="z"),e.axis[l]){case"e":f[o]=s;break;case"w":f[o]=-s;break;case"n":f[o]=s;break;case"s":f[o]=-s;break;case"u":n[o]!==void 0&&(f.z=s);break;case"d":n[o]!==void 0&&(f.z=-s);break;default:return null}return f}function wN(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}function FJ(e){Y5(e.x),Y5(e.y)}function Y5(e){if(typeof Number.isFinite=="function"){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if(typeof e!="number"||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function zJ(e,t){return(e.datum.datum_type===Gd||e.datum.datum_type===jd||e.datum.datum_type===Sg)&&t.datumCode!=="WGS84"||(t.datum.datum_type===Gd||t.datum.datum_type===jd||t.datum.datum_type===Sg)&&e.datumCode!=="WGS84"}function jx(e,t,n,r){var i;Array.isArray(n)?n=wN(n):n={x:n.x,y:n.y,z:n.z,m:n.m};var a=n.z!==void 0;if(FJ(n),e.datum&&t.datum&&zJ(e,t)&&(i=new nc("WGS84"),n=jx(e,i,n,r),e=i),r&&e.axis!=="enu"&&(n=H5(e,!1,n)),e.projName==="longlat")n={x:n.x*ho,y:n.y*ho,z:n.z||0};else if(e.to_meter&&(n={x:n.x*e.to_meter,y:n.y*e.to_meter,z:n.z||0}),n=e.inverse(n),!n)return;if(e.from_greenwich&&(n.x+=e.from_greenwich),n=kJ(e.datum,t.datum,n),!!n)return t.from_greenwich&&(n={x:n.x-t.from_greenwich,y:n.y,z:n.z||0}),t.projName==="longlat"?n={x:n.x*qu,y:n.y*qu,z:n.z||0}:(n=t.forward(n),t.to_meter&&(n={x:n.x/t.to_meter,y:n.y/t.to_meter,z:n.z||0})),r&&t.axis!=="enu"?H5(t,!0,n):(n&&!a&&delete n.z,n)}var W5=nc("WGS84");function b3(e,t,n,r){var i,a,s;return Array.isArray(n)?(i=jx(e,t,n,r)||{x:NaN,y:NaN},n.length>2?typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(n.splice(3)):[i.x,i.y,n[2]].concat(n.splice(3)):[i.x,i.y].concat(n.splice(2)):[i.x,i.y]):(a=jx(e,t,n,r),s=Object.keys(n),s.length===2||s.forEach(function(o){if(typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"){if(o==="x"||o==="y"||o==="z")return}else if(o==="x"||o==="y")return;a[o]=n[o]}),a)}function $5(e){return e instanceof nc?e:e.oProj?e.oProj:nc(e)}function Dl(e,t,n){e=$5(e);var r=!1,i;return typeof t>"u"?(t=e,e=W5,r=!0):(typeof t.x<"u"||Array.isArray(t))&&(n=t,t=e,e=W5,r=!0),t=$5(t),n?b3(e,t,n):(i={forward:function(a,s){return b3(e,t,a,s)},inverse:function(a,s){return b3(t,e,a,s)}},r&&(i.oProj=t),i)}var q5=6,TN="AJSAJS",EN="AFAFAF",pg=65,hs=73,xl=79,Om=86,Lm=90;const BJ={forward:MN,inverse:GJ,toPoint:SN};function MN(e,t){return t=t||5,VJ(jJ({lat:e[1],lon:e[0]}),t)}function GJ(e){var t=rS(AN(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function SN(e){var t=rS(AN(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function w3(e){return e*(Math.PI/180)}function X5(e){return 180*(e/Math.PI)}function jJ(e){var t=e.lat,n=e.lon,r=6378137,i=.00669438,a=.9996,s,o,l,f,u,c,h,d=w3(t),p=w3(n),g,m;m=Math.floor((n+180)/6)+1,n===180&&(m=60),t>=56&&t<64&&n>=3&&n<12&&(m=32),t>=72&&t<84&&(n>=0&&n<9?m=31:n>=9&&n<21?m=33:n>=21&&n<33?m=35:n>=33&&n<42&&(m=37)),s=(m-1)*6-180+3,g=w3(s),o=i/(1-i),l=r/Math.sqrt(1-i*Math.sin(d)*Math.sin(d)),f=Math.tan(d)*Math.tan(d),u=o*Math.cos(d)*Math.cos(d),c=Math.cos(d)*(p-g),h=r*((1-i/4-3*i*i/64-5*i*i*i/256)*d-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*d)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*d)-35*i*i*i/3072*Math.sin(6*d));var v=a*l*(c+(1-f+u)*c*c*c/6+(5-18*f+f*f+72*u-58*o)*c*c*c*c*c/120)+5e5,y=a*(h+l*Math.tan(d)*(c*c/2+(5-f+9*u+4*u*u)*c*c*c*c/24+(61-58*f+f*f+600*u-330*o)*c*c*c*c*c*c/720));return t<0&&(y+=1e7),{northing:Math.round(y),easting:Math.round(v),zoneNumber:m,zoneLetter:UJ(t)}}function rS(e){var t=e.northing,n=e.easting,r=e.zoneLetter,i=e.zoneNumber;if(i<0||i>60)return null;var a=.9996,s=6378137,o=.00669438,l,f=(1-Math.sqrt(1-o))/(1+Math.sqrt(1-o)),u,c,h,d,p,g,m,v,y,_=n-5e5,x=t;r<"N"&&(x-=1e7),m=(i-1)*6-180+3,l=o/(1-o),g=x/a,v=g/(s*(1-o/4-3*o*o/64-5*o*o*o/256)),y=v+(3*f/2-27*f*f*f/32)*Math.sin(2*v)+(21*f*f/16-55*f*f*f*f/32)*Math.sin(4*v)+151*f*f*f/96*Math.sin(6*v),u=s/Math.sqrt(1-o*Math.sin(y)*Math.sin(y)),c=Math.tan(y)*Math.tan(y),h=l*Math.cos(y)*Math.cos(y),d=s*(1-o)/Math.pow(1-o*Math.sin(y)*Math.sin(y),1.5),p=_/(u*a);var w=y-u*Math.tan(y)/d*(p*p/2-(5+3*c+10*h-4*h*h-9*l)*p*p*p*p/24+(61+90*c+298*h+45*c*c-252*l-3*h*h)*p*p*p*p*p*p/720);w=X5(w);var E=(p-(1+2*c+h)*p*p*p/6+(5-2*h+28*c-3*h*h+8*l+24*c*c)*p*p*p*p*p/120)/Math.cos(y);E=m+X5(E);var S;if(e.accuracy){var C=rS({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});S={top:C.lat,right:C.lon,bottom:w,left:E}}else S={lat:w,lon:E};return S}function UJ(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function VJ(e,t){var n="00000"+e.easting,r="00000"+e.northing;return e.zoneNumber+e.zoneLetter+HJ(e.easting,e.northing,e.zoneNumber)+n.substr(n.length-5,t)+r.substr(r.length-5,t)}function HJ(e,t,n){var r=CN(n),i=Math.floor(e/1e5),a=Math.floor(t/1e5)%20;return YJ(i,a,r)}function CN(e){var t=e%q5;return t===0&&(t=q5),t}function YJ(e,t,n){var r=n-1,i=TN.charCodeAt(r),a=EN.charCodeAt(r),s=i+e-1,o=a+t,l=!1;s>Lm&&(s=s-Lm+pg-1,l=!0),(s===hs||i<hs&&s>hs||(s>hs||i<hs)&&l)&&s++,(s===xl||i<xl&&s>xl||(s>xl||i<xl)&&l)&&(s++,s===hs&&s++),s>Lm&&(s=s-Lm+pg-1),o>Om?(o=o-Om+pg-1,l=!0):l=!1,(o===hs||a<hs&&o>hs||(o>hs||a<hs)&&l)&&o++,(o===xl||a<xl&&o>xl||(o>xl||a<xl)&&l)&&(o++,o===hs&&o++),o>Om&&(o=o-Om+pg-1);var f=String.fromCharCode(s)+String.fromCharCode(o);return f}function AN(e){if(e&&e.length===0)throw"MGRSPoint coverting from nothing";for(var t=e.length,n=null,r="",i,a=0;!/[A-Z]/.test(i=e.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+e;r+=i,a++}var s=parseInt(r,10);if(a===0||a+3>t)throw"MGRSPoint bad conversion from: "+e;var o=e.charAt(a++);if(o<="A"||o==="B"||o==="Y"||o>="Z"||o==="I"||o==="O")throw"MGRSPoint zone letter "+o+" not handled: "+e;n=e.substring(a,a+=2);for(var l=CN(s),f=WJ(n.charAt(0),l),u=$J(n.charAt(1),l);u<qJ(o);)u+=2e6;var c=t-a;if(c%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+e;var h=c/2,d=0,p=0,g,m,v,y,_;return h>0&&(g=1e5/Math.pow(10,h),m=e.substring(a,a+h),d=parseFloat(m)*g,v=e.substring(a+h),p=parseFloat(v)*g),y=d+f,_=p+u,{easting:y,northing:_,zoneLetter:o,zoneNumber:s,accuracy:g}}function WJ(e,t){for(var n=TN.charCodeAt(t-1),r=1e5,i=!1;n!==e.charCodeAt(0);){if(n++,n===hs&&n++,n===xl&&n++,n>Lm){if(i)throw"Bad character: "+e;n=pg,i=!0}r+=1e5}return r}function $J(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var n=EN.charCodeAt(t-1),r=0,i=!1;n!==e.charCodeAt(0);){if(n++,n===hs&&n++,n===xl&&n++,n>Om){if(i)throw"Bad character: "+e;n=pg,i=!0}r+=1e5}return r}function qJ(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function Xg(e,t,n){if(!(this instanceof Xg))return new Xg(e,t,n);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if(typeof e=="object")this.x=e.x,this.y=e.y,this.z=e.z||0;else if(typeof e=="string"&&typeof t>"u"){var r=e.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=e,this.y=t,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Xg.fromMGRS=function(e){return new Xg(SN(e))};Xg.prototype.toMGRS=function(e){return MN([this.x,this.y],e)};var XJ=1,KJ=.25,K5=.046875,Z5=.01953125,J5=.01068115234375,ZJ=.75,JJ=.46875,QJ=.013020833333333334,tQ=.007120768229166667,eQ=.3645833333333333,nQ=.005696614583333333,rQ=.3076171875;function IN(e){var t=[];t[0]=XJ-e*(KJ+e*(K5+e*(Z5+e*J5))),t[1]=e*(ZJ-e*(K5+e*(Z5+e*J5)));var n=e*e;return t[2]=n*(JJ-e*(QJ+e*tQ)),n*=e,t[3]=n*(eQ-e*nQ),t[4]=n*e*rQ,t}function o2(e,t,n,r){return n*=t,t*=t,r[0]*e-n*(r[1]+t*(r[2]+t*(r[3]+t*r[4])))}var iQ=20;function ON(e,t,n){for(var r=1/(1-t),i=e,a=iQ;a;--a){var s=Math.sin(i),o=1-t*s*s;if(o=(o2(i,s,Math.cos(i),n)-e)*(o*Math.sqrt(o))*r,i-=o,Math.abs(o)<kn)return i}return i}function aQ(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=IN(this.es),this.ml0=o2(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function oQ(e){var t=e.x,n=e.y,r=Gn(t-this.long0),i,a,s,o=Math.sin(n),l=Math.cos(n);if(this.es){var u=l*r,c=Math.pow(u,2),h=this.ep2*Math.pow(l,2),d=Math.pow(h,2),p=Math.abs(l)>kn?Math.tan(n):0,g=Math.pow(p,2),m=Math.pow(g,2);i=1-this.es*Math.pow(o,2),u=u/Math.sqrt(i);var v=o2(n,o,l,this.en);a=this.a*(this.k0*u*(1+c/6*(1-g+h+c/20*(5-18*g+m+14*h-58*g*h+c/42*(61+179*m-m*g-479*g)))))+this.x0,s=this.a*(this.k0*(v-this.ml0+o*r*u/2*(1+c/12*(5-g+9*h+4*d+c/30*(61+m-58*g+270*h-330*g*h+c/56*(1385+543*m-m*g-3111*g))))))+this.y0}else{var f=l*Math.sin(r);if(Math.abs(Math.abs(f)-1)<kn)return 93;if(a=.5*this.a*this.k0*Math.log((1+f)/(1-f))+this.x0,s=l*Math.cos(r)/Math.sqrt(1-Math.pow(f,2)),f=Math.abs(s),f>=1){if(f-1>kn)return 93;s=0}else s=Math.acos(s);n<0&&(s=-s),s=this.a*this.k0*(s-this.lat0)+this.y0}return e.x=a,e.y=s,e}function sQ(e){var t,n,r,i,a=(e.x-this.x0)*(1/this.a),s=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+s/this.k0,n=ON(t,this.es,this.en),Math.abs(n)<wn){var c=Math.sin(n),h=Math.cos(n),d=Math.abs(h)>kn?Math.tan(n):0,p=this.ep2*Math.pow(h,2),g=Math.pow(p,2),m=Math.pow(d,2),v=Math.pow(m,2);t=1-this.es*Math.pow(c,2);var y=a*Math.sqrt(t)/this.k0,_=Math.pow(y,2);t=t*d,r=n-t*_/(1-this.es)*.5*(1-_/12*(5+3*m-9*p*m+p-4*g-_/30*(61+90*m-252*p*m+45*v+46*p-_/56*(1385+3633*m+4095*v+1574*v*m)))),i=Gn(this.long0+y*(1-_/6*(1+2*m+p-_/20*(5+28*m+24*v+8*p*m+6*p-_/42*(61+662*m+1320*v+720*v*m))))/h)}else r=wn*Ry(s),i=0;else{var o=Math.exp(a/this.k0),l=.5*(o-1/o),f=this.lat0+s/this.k0,u=Math.cos(f);t=Math.sqrt((1-Math.pow(u,2))/(1+Math.pow(l,2))),r=Math.asin(t),s<0&&(r=-r),l===0&&u===0?i=0:i=Gn(Math.atan2(l,u)+this.long0)}return e.x=i,e.y=r,e}var lQ=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const ax={init:aQ,forward:oQ,inverse:sQ,names:lQ};function LN(e){var t=Math.exp(e);return t=(t-1/t)/2,t}function uu(e,t){e=Math.abs(e),t=Math.abs(t);var n=Math.max(e,t),r=Math.min(e,t)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}function uQ(e){var t=1+e,n=t-1;return n===0?e:e*Math.log(t)/n}function cQ(e){var t=Math.abs(e);return t=uQ(t*(1+t/(uu(1,t)+1))),e<0?-t:t}function iS(e,t){for(var n=2*Math.cos(2*t),r=e.length-1,i=e[r],a=0,s;--r>=0;)s=-a+n*i+e[r],a=i,i=s;return t+s*Math.sin(2*t)}function fQ(e,t){for(var n=2*Math.cos(t),r=e.length-1,i=e[r],a=0,s;--r>=0;)s=-a+n*i+e[r],a=i,i=s;return Math.sin(t)*s}function hQ(e){var t=Math.exp(e);return t=(t+1/t)/2,t}function PN(e,t,n){for(var r=Math.sin(t),i=Math.cos(t),a=LN(n),s=hQ(n),o=2*i*s,l=-2*r*a,f=e.length-1,u=e[f],c=0,h=0,d=0,p,g;--f>=0;)p=h,g=c,h=u,c=d,u=-p+o*h-l*c+e[f],d=-g+l*h+o*c;return o=r*s,l=i*a,[o*u-l*d,o*d+l*u]}function dQ(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(ax.init.apply(this),this.forward=ax.forward,this.inverse=ax.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),n=t;this.cgb[0]=t*(2+t*(-2/3+t*(-2+t*(116/45+t*(26/45+t*(-2854/675)))))),this.cbg[0]=t*(-2+t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))),n=n*t,this.cgb[1]=n*(7/3+t*(-8/5+t*(-227/45+t*(2704/315+t*(2323/945))))),this.cbg[1]=n*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),n=n*t,this.cgb[2]=n*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=n*(-26/15+t*(34/21+t*(8/5+t*(-12686/2835)))),n=n*t,this.cgb[3]=n*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=n*(1237/630+t*(-12/5+t*(-24832/14175))),n=n*t,this.cgb[4]=n*(4174/315+t*(-144838/6237)),this.cbg[4]=n*(-734/315+t*(109598/31185)),n=n*t,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=t*(-.5+t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=n*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=n*(13/48+t*(-3/5+t*(557/1440+t*(281/630+t*(-1983433/1935360))))),n=n*t,this.utg[2]=n*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=n*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),n=n*t,this.utg[3]=n*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=n*(49561/161280+t*(-179/168+t*(6601661/7257600))),n=n*t,this.utg[4]=n*(-4583/161280+t*(108847/3991680)),this.gtu[4]=n*(34729/80640+t*(-3418889/1995840)),n=n*t,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*(212378941/319334400);var r=iS(this.cbg,this.lat0);this.Zb=-this.Qn*(r+fQ(this.gtu,2*r))}function pQ(e){var t=Gn(e.x-this.long0),n=e.y;n=iS(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),a=Math.sin(t),s=Math.cos(t);n=Math.atan2(r,s*i),t=Math.atan2(a*i,uu(r,i*s)),t=cQ(Math.tan(t));var o=PN(this.gtu,2*n,2*t);n=n+o[0],t=t+o[1];var l,f;return Math.abs(t)<=2.623395162778?(l=this.a*(this.Qn*t)+this.x0,f=this.a*(this.Qn*n+this.Zb)+this.y0):(l=1/0,f=1/0),e.x=l,e.y=f,e}function gQ(e){var t=(e.x-this.x0)*(1/this.a),n=(e.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,t=t/this.Qn;var r,i;if(Math.abs(t)<=2.623395162778){var a=PN(this.utg,2*n,2*t);n=n+a[0],t=t+a[1],t=Math.atan(LN(t));var s=Math.sin(n),o=Math.cos(n),l=Math.sin(t),f=Math.cos(t);n=Math.atan2(s*f,uu(l,f*o)),t=Math.atan2(l,f*o),r=Gn(t+this.long0),i=iS(this.cgb,n)}else r=1/0,i=1/0;return e.x=r,e.y=i,e}var mQ=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"];const ox={init:dQ,forward:pQ,inverse:gQ,names:mQ};function vQ(e,t){if(e===void 0){if(e=Math.floor((Gn(t)+Math.PI)*30/Math.PI)+1,e<0)return 0;if(e>60)return 60}return e}var yQ="etmerc";function _Q(){var e=vQ(this.zone,this.long0);if(e===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*ho,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,ox.init.apply(this),this.forward=ox.forward,this.inverse=ox.inverse}var xQ=["Universal Transverse Mercator System","utm"];const bQ={init:_Q,names:xQ,dependsOn:yQ};function aS(e,t){return Math.pow((1-e)/(1+e),t)}var wQ=20;function TQ(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+ci)/(Math.pow(Math.tan(.5*this.lat0+ci),this.C)*aS(this.e*e,this.ratexp))}function EQ(e){var t=e.x,n=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+ci),this.C)*aS(this.e*Math.sin(n),this.ratexp))-wn,e.x=this.C*t,e}function MQ(e){for(var t=1e-14,n=e.x/this.C,r=e.y,i=Math.pow(Math.tan(.5*r+ci)/this.K,1/this.C),a=wQ;a>0&&(r=2*Math.atan(i*aS(this.e*Math.sin(e.y),-.5*this.e))-wn,!(Math.abs(r-e.y)<t));--a)e.y=r;return a?(e.x=n,e.y=r,e):null}var SQ=["gauss"];const oS={init:TQ,forward:EQ,inverse:MQ,names:SQ};function CQ(){oS.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function AQ(e){var t,n,r,i;return e.x=Gn(e.x-this.long0),oS.forward.apply(this,[e]),t=Math.sin(e.y),n=Math.cos(e.y),r=Math.cos(e.x),i=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*n*r),e.x=i*n*Math.sin(e.x),e.y=i*(this.cosc0*t-this.sinc0*n*r),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function IQ(e){var t,n,r,i,a;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,a=Math.sqrt(e.x*e.x+e.y*e.y)){var s=2*Math.atan2(a,this.R2);t=Math.sin(s),n=Math.cos(s),i=Math.asin(n*this.sinc0+e.y*t*this.cosc0/a),r=Math.atan2(e.x*t,a*this.cosc0*n-e.y*this.sinc0*t)}else i=this.phic0,r=0;return e.x=r,e.y=i,oS.inverse.apply(this,[e]),e.x=Gn(e.x+this.long0),e}var OQ=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const LQ={init:CQ,forward:AQ,inverse:IQ,names:OQ};function PQ(e,t,n){return t*=n,Math.tan(.5*(wn+e))*Math.pow((1-t)/(1+t),.5*n)}function RQ(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=kn&&(this.k0=.5*(1+Ry(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=kn&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=kn&&Math.abs(Math.cos(this.lat_ts))>kn&&(this.k0=.5*this.cons*lc(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/fu(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=lc(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-wn,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function NQ(e){var t=e.x,n=e.y,r=Math.sin(n),i=Math.cos(n),a,s,o,l,f,u,c=Gn(t-this.long0);return Math.abs(Math.abs(t-this.long0)-Math.PI)<=kn&&Math.abs(n+this.lat0)<=kn?(e.x=NaN,e.y=NaN,e):this.sphere?(a=2*this.k0/(1+this.sinlat0*r+this.coslat0*i*Math.cos(c)),e.x=this.a*a*i*Math.sin(c)+this.x0,e.y=this.a*a*(this.coslat0*r-this.sinlat0*i*Math.cos(c))+this.y0,e):(s=2*Math.atan(this.ssfn_(n,r,this.e))-wn,l=Math.cos(s),o=Math.sin(s),Math.abs(this.coslat0)<=kn?(f=fu(this.e,n*this.con,this.con*r),u=2*this.a*this.k0*f/this.cons,e.x=this.x0+u*Math.sin(t-this.long0),e.y=this.y0-this.con*u*Math.cos(t-this.long0),e):(Math.abs(this.sinlat0)<kn?(a=2*this.a*this.k0/(1+l*Math.cos(c)),e.y=a*o):(a=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*o+this.cosX0*l*Math.cos(c))),e.y=a*(this.cosX0*o-this.sinX0*l*Math.cos(c))+this.y0),e.x=a*l*Math.sin(c)+this.x0,e))}function kQ(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,a,s=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var o=2*Math.atan(s/(2*this.a*this.k0));return t=this.long0,n=this.lat0,s<=kn?(e.x=t,e.y=n,e):(n=Math.asin(Math.cos(o)*this.sinlat0+e.y*Math.sin(o)*this.coslat0/s),Math.abs(this.coslat0)<kn?this.lat0>0?t=Gn(this.long0+Math.atan2(e.x,-1*e.y)):t=Gn(this.long0+Math.atan2(e.x,e.y)):t=Gn(this.long0+Math.atan2(e.x*Math.sin(o),s*this.coslat0*Math.cos(o)-e.y*this.sinlat0*Math.sin(o))),e.x=t,e.y=n,e)}else if(Math.abs(this.coslat0)<=kn){if(s<=kn)return n=this.lat0,t=this.long0,e.x=t,e.y=n,e;e.x*=this.con,e.y*=this.con,r=s*this.cons/(2*this.a*this.k0),n=this.con*mv(this.e,r),t=this.con*Gn(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else i=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,s<=kn?a=this.X0:(a=Math.asin(Math.cos(i)*this.sinX0+e.y*Math.sin(i)*this.cosX0/s),t=Gn(this.long0+Math.atan2(e.x*Math.sin(i),s*this.cosX0*Math.cos(i)-e.y*this.sinX0*Math.sin(i)))),n=-1*mv(this.e,Math.tan(.5*(wn+a)));return e.x=t,e.y=n,e}var DQ=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const FQ={init:RQ,forward:NQ,inverse:kQ,names:DQ,ssfn_:PQ};function zQ(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),n=this.a,r=this.rf,i=1/r,a=2*i-Math.pow(i,2),s=this.e=Math.sqrt(a);this.R=this.k0*n*Math.sqrt(1-a)/(1-a*Math.pow(t,2)),this.alpha=Math.sqrt(1+a/(1-a)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var o=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+e/2)),f=Math.log((1+s*t)/(1-s*t));this.K=o-this.alpha*l+this.alpha*s/2*f}function BQ(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),r=-this.alpha*(t+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),a=this.alpha*(e.x-this.lambda0),s=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(a))),o=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(a));return e.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,e.x=this.R*s+this.x0,e}function GQ(e){for(var t=e.x-this.x0,n=e.y-this.y0,r=t/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),a=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),s=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),o=this.lambda0+s/this.alpha,l=0,f=a,u=-1e3,c=0;Math.abs(f-u)>1e-7;){if(++c>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(f))/2)),u=f,f=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=o,e.y=f,e}var jQ=["somerc"];const UQ={init:zQ,forward:BQ,inverse:GQ,names:jQ};var ig=1e-7;function VQ(e){var t=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n=typeof e.PROJECTION=="object"?Object.keys(e.PROJECTION)[0]:e.PROJECTION;return"no_uoff"in e||"no_off"in e||t.indexOf(n)!==-1}function HQ(){var e,t,n,r,i,a,s,o,l,f,u=0,c,h=0,d=0,p=0,g=0,m=0,v=0;this.no_off=VQ(this),this.no_rot="no_rot"in this;var y=!1;"alpha"in this&&(y=!0);var _=!1;if("rectified_grid_angle"in this&&(_=!0),y&&(v=this.alpha),_&&(u=this.rectified_grid_angle*ho),y||_)h=this.longc;else if(d=this.long1,g=this.lat1,p=this.long2,m=this.lat2,Math.abs(g-m)<=ig||(e=Math.abs(g))<=ig||Math.abs(e-wn)<=ig||Math.abs(Math.abs(this.lat0)-wn)<=ig||Math.abs(Math.abs(m)-wn)<=ig)throw new Error;var x=1-this.es;t=Math.sqrt(x),Math.abs(this.lat0)>kn?(o=Math.sin(this.lat0),n=Math.cos(this.lat0),e=1-this.es*o*o,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/x),this.A=this.B*this.k0*t/e,r=this.B*t/(n*Math.sqrt(e)),i=r*r-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=r,this.E*=Math.pow(fu(this.e,this.lat0,o),this.B)):(this.B=1/t,this.A=this.k0,this.E=r=i=1),y||_?(y?(c=Math.asin(Math.sin(v)/r),_||(u=v)):(c=u,v=Math.asin(r*Math.sin(c))),this.lam0=h-Math.asin(.5*(i-1/i)*Math.tan(c))/this.B):(a=Math.pow(fu(this.e,g,Math.sin(g)),this.B),s=Math.pow(fu(this.e,m,Math.sin(m)),this.B),i=this.E/a,l=(s-a)/(s+a),f=this.E*this.E,f=(f-s*a)/(f+s*a),e=d-p,e<-Math.pi?p-=pv:e>Math.pi&&(p+=pv),this.lam0=Gn(.5*(d+p)-Math.atan(f*Math.tan(.5*this.B*(d-p))/l)/this.B),c=Math.atan(2*Math.sin(this.B*Gn(d-this.lam0))/(i-1/i)),u=v=Math.asin(r*Math.sin(c))),this.singam=Math.sin(c),this.cosgam=Math.cos(c),this.sinrot=Math.sin(u),this.cosrot=Math.cos(u),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(v))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*c,this.v_pole_n=this.ArB*Math.log(Math.tan(ci-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(ci+i))}function YQ(e){var t={},n,r,i,a,s,o,l,f;if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-wn)>kn){if(s=this.E/Math.pow(fu(this.e,e.y,Math.sin(e.y)),this.B),o=1/s,n=.5*(s-o),r=.5*(s+o),a=Math.sin(this.B*e.x),i=(n*this.singam-a*this.cosgam)/r,Math.abs(Math.abs(i)-1)<kn)throw new Error;f=.5*this.ArB*Math.log((1-i)/(1+i)),o=Math.cos(this.B*e.x),Math.abs(o)<ig?l=this.A*e.x:l=this.ArB*Math.atan2(n*this.cosgam+a*this.singam,o)}else f=e.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*e.y;return this.no_rot?(t.x=l,t.y=f):(l-=this.u_0,t.x=f*this.cosrot+l*this.sinrot,t.y=l*this.cosrot-f*this.sinrot),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function WQ(e){var t,n,r,i,a,s,o,l={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(n=e.y,t=e.x):(n=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),r=Math.exp(-this.BrA*n),i=.5*(r-1/r),a=.5*(r+1/r),s=Math.sin(this.BrA*t),o=(s*this.cosgam+i*this.singam)/a,Math.abs(Math.abs(o)-1)<kn)l.x=0,l.y=o<0?-wn:wn;else{if(l.y=this.E/Math.sqrt((1+o)/(1-o)),l.y=mv(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(i*this.cosgam-s*this.singam,Math.cos(this.BrA*t))}return l.x+=this.lam0,l}var $Q=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const qQ={init:HQ,forward:YQ,inverse:WQ,names:$Q};function XQ(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<kn)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),n=Math.cos(this.lat1),r=lc(this.e,t,n),i=fu(this.e,this.lat1,t),a=Math.sin(this.lat2),s=Math.cos(this.lat2),o=lc(this.e,a,s),l=fu(this.e,this.lat2,a),f=fu(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>kn?this.ns=Math.log(r/o)/Math.log(i/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(f,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function KQ(e){var t=e.x,n=e.y;Math.abs(2*Math.abs(n)-Math.PI)<=kn&&(n=Ry(n)*(wn-2*kn));var r=Math.abs(Math.abs(n)-wn),i,a;if(r>kn)i=fu(this.e,n,Math.sin(n)),a=this.a*this.f0*Math.pow(i,this.ns);else{if(r=n*this.ns,r<=0)return null;a=0}var s=this.ns*Gn(t-this.long0);return e.x=this.k0*(a*Math.sin(s))+this.x0,e.y=this.k0*(this.rh-a*Math.cos(s))+this.y0,e}function ZQ(e){var t,n,r,i,a,s=(e.x-this.x0)/this.k0,o=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(s*s+o*o),n=1):(t=-Math.sqrt(s*s+o*o),n=-1);var l=0;if(t!==0&&(l=Math.atan2(n*s,n*o)),t!==0||this.ns>0){if(n=1/this.ns,r=Math.pow(t/(this.a*this.f0),n),i=mv(this.e,r),i===-9999)return null}else i=-wn;return a=Gn(l/this.ns+this.long0),e.x=a,e.y=i,e}var JQ=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const QQ={init:XQ,forward:KQ,inverse:ZQ,names:JQ};function ttt(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function ett(e){var t,n,r,i,a,s,o,l=e.x,f=e.y,u=Gn(l-this.long0);return t=Math.pow((1+this.e*Math.sin(f))/(1-this.e*Math.sin(f)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(f/2+this.s45),this.alfa)/t)-this.s45),r=-u*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),a=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),s=this.n*a,o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),e.y=o*Math.cos(s)/1,e.x=o*Math.sin(s)/1,this.czech||(e.y*=-1,e.x*=-1),e}function ntt(e){var t,n,r,i,a,s,o,l,f=e.x;e.x=e.y,e.y=f,this.czech||(e.y*=-1,e.x*=-1),s=Math.sqrt(e.x*e.x+e.y*e.y),a=Math.atan2(e.y,e.x),i=a/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(t)),e.x=this.long0-n/this.alfa,o=t,l=0;var u=0;do e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(o))/(1-this.e*Math.sin(o)),this.e/2))-this.s45),Math.abs(o-e.y)<1e-10&&(l=1),o=e.y,u+=1;while(l===0&&u<15);return u>=15?null:e}var rtt=["Krovak","krovak"];const itt={init:ttt,forward:ett,inverse:ntt,names:rtt};function Wo(e,t,n,r,i){return e*i-t*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}function Ny(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function ky(e){return .375*e*(1+.25*e*(1+.46875*e))}function Dy(e){return .05859375*e*e*(1+.75*e)}function Fy(e){return e*e*e*(35/3072)}function Kg(e,t,n){var r=t*n;return e/Math.sqrt(1-r*r)}function D0(e){return Math.abs(e)<wn?e:e-Ry(e)*Math.PI}function Ux(e,t,n,r,i){var a,s;a=e/t;for(var o=0;o<15;o++)if(s=(e-(t*a-n*Math.sin(2*a)+r*Math.sin(4*a)-i*Math.sin(6*a)))/(t-2*n*Math.cos(2*a)+4*r*Math.cos(4*a)-6*i*Math.cos(6*a)),a+=s,Math.abs(s)<=1e-10)return a;return NaN}function att(){this.sphere||(this.e0=Ny(this.es),this.e1=ky(this.es),this.e2=Dy(this.es),this.e3=Fy(this.es),this.ml0=this.a*Wo(this.e0,this.e1,this.e2,this.e3,this.lat0))}function ott(e){var t,n,r=e.x,i=e.y;if(r=Gn(r-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var a=Math.sin(i),s=Math.cos(i),o=Kg(this.a,this.e,a),l=Math.tan(i)*Math.tan(i),f=r*Math.cos(i),u=f*f,c=this.es*s*s/(1-this.es),h=this.a*Wo(this.e0,this.e1,this.e2,this.e3,i);t=o*f*(1-u*l*(1/6-(8-l+8*c)*u/120)),n=h-this.ml0+o*a/s*u*(.5+(5-l+6*c)*u/24)}return e.x=t+this.x0,e.y=n+this.y0,e}function stt(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,n=e.y/this.a,r,i;if(this.sphere){var a=n+this.lat0;r=Math.asin(Math.sin(a)*Math.cos(t)),i=Math.atan2(Math.tan(t),Math.cos(a))}else{var s=this.ml0/this.a+n,o=Ux(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(o)-wn)<=kn)return e.x=this.long0,e.y=wn,n<0&&(e.y*=-1),e;var l=Kg(this.a,this.e,Math.sin(o)),f=l*l*l/this.a/this.a*(1-this.es),u=Math.pow(Math.tan(o),2),c=t*this.a/l,h=c*c;r=o-l*Math.tan(o)/f*c*c*(.5-(1+3*u)*c*c/24),i=c*(1-h*(u/3+(1+3*u)*u*h/15))/Math.cos(o)}return e.x=Gn(i+this.long0),e.y=D0(r),e}var ltt=["Cassini","Cassini_Soldner","cass"];const utt={init:att,forward:ott,inverse:stt,names:ltt};function sh(e,t){var n;return e>1e-7?(n=e*t,(1-e*e)*(t/(1-n*n)-.5/e*Math.log((1-n)/(1+n)))):2*t}var ctt=1,ftt=2,htt=3,dtt=4;function ptt(){var e=Math.abs(this.lat0);if(Math.abs(e-wn)<kn?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<kn?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var t;switch(this.qp=sh(this.e,1),this.mmf=.5/(1-this.es),this.apa=Ttt(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=sh(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function gtt(e){var t,n,r,i,a,s,o,l,f,u,c=e.x,h=e.y;if(c=Gn(c-this.long0),this.sphere){if(a=Math.sin(h),u=Math.cos(h),r=Math.cos(c),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+u*r:1+this.sinph0*a+this.cosph0*u*r,n<=kn)return null;n=Math.sqrt(2/n),t=n*u*Math.sin(c),n*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*u*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(h+this.lat0)<kn)return null;n=ci-h*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),t=n*Math.sin(c),n*=r}}else{switch(o=0,l=0,f=0,r=Math.cos(c),i=Math.sin(c),a=Math.sin(h),s=sh(this.e,a),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(o=s/this.qp,l=Math.sqrt(1-o*o)),this.mode){case this.OBLIQ:f=1+this.sinb1*o+this.cosb1*l*r;break;case this.EQUIT:f=1+l*r;break;case this.N_POLE:f=wn+h,s=this.qp-s;break;case this.S_POLE:f=h-wn,s=this.qp+s;break}if(Math.abs(f)<kn)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:f=Math.sqrt(2/f),this.mode===this.OBLIQ?n=this.ymf*f*(this.cosb1*o-this.sinb1*l*r):n=(f=Math.sqrt(2/(1+l*r)))*o*this.ymf,t=this.xmf*f*l*i;break;case this.N_POLE:case this.S_POLE:s>=0?(t=(f=Math.sqrt(s))*i,n=r*(this.mode===this.S_POLE?f:-f)):t=n=0;break}}return e.x=this.a*t+this.x0,e.y=this.a*n+this.y0,e}function mtt(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,n=e.y/this.a,r,i,a,s,o,l,f;if(this.sphere){var u=0,c,h=0;if(c=Math.sqrt(t*t+n*n),i=c*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(h=Math.sin(i),u=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(c)<=kn?0:Math.asin(n*h/c),t*=h,n=u*c;break;case this.OBLIQ:i=Math.abs(c)<=kn?this.lat0:Math.asin(u*this.sinph0+n*h*this.cosph0/c),t*=h*this.cosph0,n=(u-Math.sin(i)*this.sinph0)*c;break;case this.N_POLE:n=-n,i=wn-i;break;case this.S_POLE:i-=wn;break}r=n===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(t,n)}else{if(f=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t/=this.dd,n*=this.dd,l=Math.sqrt(t*t+n*n),l<kn)return e.x=this.long0,e.y=this.lat0,e;s=2*Math.asin(.5*l/this.rq),a=Math.cos(s),t*=s=Math.sin(s),this.mode===this.OBLIQ?(f=a*this.sinb1+n*s*this.cosb1/l,o=this.qp*f,n=l*this.cosb1*a-n*this.sinb1*s):(f=n*s/l,o=this.qp*f,n=l*a)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),o=t*t+n*n,!o)return e.x=this.long0,e.y=this.lat0,e;f=1-o/this.qp,this.mode===this.S_POLE&&(f=-f)}r=Math.atan2(t,n),i=Ett(Math.asin(f),this.apa)}return e.x=Gn(this.long0+r),e.y=i,e}var vtt=.3333333333333333,ytt=.17222222222222222,_tt=.10257936507936508,xtt=.06388888888888888,btt=.0664021164021164,wtt=.016415012942191543;function Ttt(e){var t,n=[];return n[0]=e*vtt,t=e*e,n[0]+=t*ytt,n[1]=t*xtt,t*=e,n[0]+=t*_tt,n[1]+=t*btt,n[2]=t*wtt,n}function Ett(e,t){var n=e+e;return e+t[0]*Math.sin(n)+t[1]*Math.sin(n+n)+t[2]*Math.sin(n+n+n)}var Mtt=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const Stt={init:ptt,forward:gtt,inverse:mtt,names:Mtt,S_POLE:ctt,N_POLE:ftt,EQUIT:htt,OBLIQ:dtt};function xh(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}function Ctt(){Math.abs(this.lat1+this.lat2)<kn||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=lc(this.e3,this.sin_po,this.cos_po),this.qs1=sh(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=lc(this.e3,this.sin_po,this.cos_po),this.qs2=sh(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=sh(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>kn?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Att(e){var t=e.x,n=e.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=sh(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,a=this.ns0*Gn(t-this.long0),s=i*Math.sin(a)+this.x0,o=this.rh-i*Math.cos(a)+this.y0;return e.x=s,e.y=o,e}function Itt(e){var t,n,r,i,a,s;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),r=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),r=-1),i=0,t!==0&&(i=Math.atan2(r*e.x,r*e.y)),r=t*this.ns0/this.a,this.sphere?s=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,s=this.phi1z(this.e3,n)),a=Gn(i/this.ns0+this.long0),e.x=a,e.y=s,e}function Ott(e,t){var n,r,i,a,s,o=xh(.5*t);if(e<kn)return o;for(var l=e*e,f=1;f<=25;f++)if(n=Math.sin(o),r=Math.cos(o),i=e*n,a=1-i*i,s=.5*a*a/r*(t/(1-l)-n/a+.5/e*Math.log((1-i)/(1+i))),o=o+s,Math.abs(s)<=1e-7)return o;return null}var Ltt=["Albers_Conic_Equal_Area","Albers","aea"];const Ptt={init:Ctt,forward:Att,inverse:Itt,names:Ltt,phi1z:Ott};function Rtt(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function Ntt(e){var t,n,r,i,a,s,o,l,f=e.x,u=e.y;return r=Gn(f-this.long0),t=Math.sin(u),n=Math.cos(u),i=Math.cos(r),s=this.sin_p14*t+this.cos_p14*n*i,a=1,s>0||Math.abs(s)<=kn?(o=this.x0+this.a*a*n*Math.sin(r)/s,l=this.y0+this.a*a*(this.cos_p14*t-this.sin_p14*n*i)/s):(o=this.x0+this.infinity_dist*n*Math.sin(r),l=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*n*i)),e.x=o,e.y=l,e}function ktt(e){var t,n,r,i,a,s;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(i=Math.atan2(t,this.rc),n=Math.sin(i),r=Math.cos(i),s=xh(r*this.sin_p14+e.y*n*this.cos_p14/t),a=Math.atan2(e.x*n,t*this.cos_p14*r-e.y*this.sin_p14*n),a=Gn(this.long0+a)):(s=this.phic0,a=0),e.x=a,e.y=s,e}var Dtt=["gnom"];const Ftt={init:Rtt,forward:Ntt,inverse:ktt,names:Dtt};function ztt(e,t){var n=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-n)<1e-6)return t<0?-1*wn:wn;for(var r=Math.asin(.5*t),i,a,s,o,l=0;l<30;l++)if(a=Math.sin(r),s=Math.cos(r),o=e*a,i=Math.pow(1-o*o,2)/(2*s)*(t/(1-e*e)-a/(1-o*o)+.5/e*Math.log((1-o)/(1+o))),r+=i,Math.abs(i)<=1e-10)return r;return NaN}function Btt(){this.sphere||(this.k0=lc(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Gtt(e){var t=e.x,n=e.y,r,i,a=Gn(t-this.long0);if(this.sphere)r=this.x0+this.a*a*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var s=sh(this.e,Math.sin(n));r=this.x0+this.a*this.k0*a,i=this.y0+this.a*s*.5/this.k0}return e.x=r,e.y=i,e}function jtt(e){e.x-=this.x0,e.y-=this.y0;var t,n;return this.sphere?(t=Gn(this.long0+e.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(n=ztt(this.e,2*e.y*this.k0/this.a),t=Gn(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=n,e}var Utt=["cea"];const Vtt={init:Btt,forward:Gtt,inverse:jtt,names:Utt};function Htt(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function Ytt(e){var t=e.x,n=e.y,r=Gn(t-this.long0),i=D0(n-this.lat0);return e.x=this.x0+this.a*r*this.rc,e.y=this.y0+this.a*i,e}function Wtt(e){var t=e.x,n=e.y;return e.x=Gn(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=D0(this.lat0+(n-this.y0)/this.a),e}var $tt=["Equirectangular","Equidistant_Cylindrical","eqc"];const qtt={init:Htt,forward:Ytt,inverse:Wtt,names:$tt};var Q5=20;function Xtt(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Ny(this.es),this.e1=ky(this.es),this.e2=Dy(this.es),this.e3=Fy(this.es),this.ml0=this.a*Wo(this.e0,this.e1,this.e2,this.e3,this.lat0)}function Ktt(e){var t=e.x,n=e.y,r,i,a,s=Gn(t-this.long0);if(a=s*Math.sin(n),this.sphere)Math.abs(n)<=kn?(r=this.a*s,i=-1*this.a*this.lat0):(r=this.a*Math.sin(a)/Math.tan(n),i=this.a*(D0(n-this.lat0)+(1-Math.cos(a))/Math.tan(n)));else if(Math.abs(n)<=kn)r=this.a*s,i=-1*this.ml0;else{var o=Kg(this.a,this.e,Math.sin(n))/Math.tan(n);r=o*Math.sin(a),i=this.a*Wo(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+o*(1-Math.cos(a))}return e.x=r+this.x0,e.y=i+this.y0,e}function Ztt(e){var t,n,r,i,a,s,o,l,f;if(r=e.x-this.x0,i=e.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=kn)t=Gn(r/this.a+this.long0),n=0;else{s=this.lat0+i/this.a,o=r*r/this.a/this.a+s*s,l=s;var u;for(a=Q5;a;--a)if(u=Math.tan(l),f=-1*(s*(l*u+1)-l-.5*(l*l+o)*u)/((l-s)/u-1),l+=f,Math.abs(f)<=kn){n=l;break}t=Gn(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=kn)n=0,t=Gn(this.long0+r/this.a);else{s=(this.ml0+i)/this.a,o=r*r/this.a/this.a+s*s,l=s;var c,h,d,p,g;for(a=Q5;a;--a)if(g=this.e*Math.sin(l),c=Math.sqrt(1-g*g)*Math.tan(l),h=this.a*Wo(this.e0,this.e1,this.e2,this.e3,l),d=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),p=h/this.a,f=(s*(c*p+1)-p-.5*c*(p*p+o))/(this.es*Math.sin(2*l)*(p*p+o-2*s*p)/(4*c)+(s-p)*(c*d-2/Math.sin(2*l))-d),l-=f,Math.abs(f)<=kn){n=l;break}c=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),t=Gn(this.long0+Math.asin(r*c/this.a)/Math.sin(n))}return e.x=t,e.y=n,e}var Jtt=["Polyconic","poly"];const Qtt={init:Xtt,forward:Ktt,inverse:Ztt,names:Jtt};function tet(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function eet(e){var t,n=e.x,r=e.y,i=r-this.lat0,a=n-this.long0,s=i/$m*1e-5,o=a,l=1,f=0;for(t=1;t<=10;t++)l=l*s,f=f+this.A[t]*l;var u=f,c=o,h=1,d=0,p,g,m=0,v=0;for(t=1;t<=6;t++)p=h*u-d*c,g=d*u+h*c,h=p,d=g,m=m+this.B_re[t]*h-this.B_im[t]*d,v=v+this.B_im[t]*h+this.B_re[t]*d;return e.x=v*this.a+this.x0,e.y=m*this.a+this.y0,e}function net(e){var t,n=e.x,r=e.y,i=n-this.x0,a=r-this.y0,s=a/this.a,o=i/this.a,l=1,f=0,u,c,h=0,d=0;for(t=1;t<=6;t++)u=l*s-f*o,c=f*s+l*o,l=u,f=c,h=h+this.C_re[t]*l-this.C_im[t]*f,d=d+this.C_im[t]*l+this.C_re[t]*f;for(var p=0;p<this.iterations;p++){var g=h,m=d,v,y,_=s,x=o;for(t=2;t<=6;t++)v=g*h-m*d,y=m*h+g*d,g=v,m=y,_=_+(t-1)*(this.B_re[t]*g-this.B_im[t]*m),x=x+(t-1)*(this.B_im[t]*g+this.B_re[t]*m);g=1,m=0;var w=this.B_re[1],E=this.B_im[1];for(t=2;t<=6;t++)v=g*h-m*d,y=m*h+g*d,g=v,m=y,w=w+t*(this.B_re[t]*g-this.B_im[t]*m),E=E+t*(this.B_im[t]*g+this.B_re[t]*m);var S=w*w+E*E;h=(_*w+x*E)/S,d=(x*w-_*E)/S}var C=h,T=d,A=1,O=0;for(t=1;t<=9;t++)A=A*C,O=O+this.D[t]*A;var P=this.lat0+O*$m*1e5,F=this.long0+T;return e.x=F,e.y=P,e}var ret=["New_Zealand_Map_Grid","nzmg"];const iet={init:tet,forward:eet,inverse:net,names:ret};function aet(){}function oet(e){var t=e.x,n=e.y,r=Gn(t-this.long0),i=this.x0+this.a*r,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return e.x=i,e.y=a,e}function set(e){e.x-=this.x0,e.y-=this.y0;var t=Gn(this.long0+e.x/this.a),n=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=n,e}var uet=["Miller_Cylindrical","mill"];const cet={init:aet,forward:oet,inverse:set,names:uet};var fet=20;function het(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=IN(this.es)}function det(e){var t,n,r=e.x,i=e.y;if(r=Gn(r-this.long0),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var a=this.n*Math.sin(i),s=fet;s;--s){var o=(this.m*i+Math.sin(i)-a)/(this.m+Math.cos(i));if(i-=o,Math.abs(o)<kn)break}t=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var l=Math.sin(i),f=Math.cos(i);n=this.a*o2(i,l,f,this.en),t=this.a*r*f/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=n,e}function pet(e){var t,n,r,i;return e.x-=this.x0,r=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,r=r/(this.C_x*(this.m+Math.cos(t))),this.m?t=xh((this.m*t+Math.sin(t))/this.n):this.n!==1&&(t=xh(Math.sin(t)/this.n)),r=Gn(r+this.long0),t=D0(t)):(t=ON(e.y/this.a,this.es,this.en),i=Math.abs(t),i<wn?(i=Math.sin(t),n=this.long0+e.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(t)),r=Gn(n)):i-kn<wn&&(r=this.long0)),e.x=r,e.y=t,e}var get=["Sinusoidal","sinu"];const met={init:het,forward:det,inverse:pet,names:get};function vet(){}function yet(e){for(var t=e.x,n=e.y,r=Gn(t-this.long0),i=n,a=Math.PI*Math.sin(n);;){var s=-(i+Math.sin(i)-a)/(1+Math.cos(i));if(i+=s,Math.abs(s)<kn)break}i/=2,Math.PI/2-Math.abs(n)<kn&&(r=0);var o=.900316316158*this.a*r*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return e.x=o,e.y=l,e}function _et(e){var t,n;e.x-=this.x0,e.y-=this.y0,n=e.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),t=Math.asin(n);var r=Gn(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*t+Math.sin(2*t))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return e.x=r,e.y=i,e}var xet=["Mollweide","moll"];const bet={init:vet,forward:yet,inverse:_et,names:xet};function wet(){Math.abs(this.lat1+this.lat2)<kn||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Ny(this.es),this.e1=ky(this.es),this.e2=Dy(this.es),this.e3=Fy(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=lc(this.e,this.sinphi,this.cosphi),this.ml1=Wo(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<kn?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=lc(this.e,this.sinphi,this.cosphi),this.ml2=Wo(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Wo(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function Tet(e){var t=e.x,n=e.y,r;if(this.sphere)r=this.a*(this.g-n);else{var i=Wo(this.e0,this.e1,this.e2,this.e3,n);r=this.a*(this.g-i)}var a=this.ns*Gn(t-this.long0),s=this.x0+r*Math.sin(a),o=this.y0+this.rh-r*Math.cos(a);return e.x=s,e.y=o,e}function Eet(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,n,r,i;this.ns>=0?(n=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(n=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var a=0;if(n!==0&&(a=Math.atan2(t*e.x,t*e.y)),this.sphere)return i=Gn(this.long0+a/this.ns),r=D0(this.g-n/this.a),e.x=i,e.y=r,e;var s=this.g-n/this.a;return r=Ux(s,this.e0,this.e1,this.e2,this.e3),i=Gn(this.long0+a/this.ns),e.x=i,e.y=r,e}var Met=["Equidistant_Conic","eqdc"];const Cet={init:wet,forward:Tet,inverse:Eet,names:Met};function Aet(){this.R=this.a}function Iet(e){var t=e.x,n=e.y,r=Gn(t-this.long0),i,a;Math.abs(n)<=kn&&(i=this.x0+this.R*r,a=this.y0);var s=xh(2*Math.abs(n/Math.PI));(Math.abs(r)<=kn||Math.abs(Math.abs(n)-wn)<=kn)&&(i=this.x0,n>=0?a=this.y0+Math.PI*this.R*Math.tan(.5*s):a=this.y0+Math.PI*this.R*-Math.tan(.5*s));var o=.5*Math.abs(Math.PI/r-r/Math.PI),l=o*o,f=Math.sin(s),u=Math.cos(s),c=u/(f+u-1),h=c*c,d=c*(2/f-1),p=d*d,g=Math.PI*this.R*(o*(c-p)+Math.sqrt(l*(c-p)*(c-p)-(p+l)*(h-p)))/(p+l);r<0&&(g=-g),i=this.x0+g;var m=l+c;return g=Math.PI*this.R*(d*m-o*Math.sqrt((p+l)*(l+1)-m*m))/(p+l),n>=0?a=this.y0+g:a=this.y0-g,e.x=i,e.y=a,e}function Oet(e){var t,n,r,i,a,s,o,l,f,u,c,h,d;return e.x-=this.x0,e.y-=this.y0,c=Math.PI*this.R,r=e.x/c,i=e.y/c,a=r*r+i*i,s=-Math.abs(i)*(1+a),o=s-2*i*i+r*r,l=-2*s+1+2*i*i+a*a,d=i*i/l+(2*o*o*o/l/l/l-9*s*o/l/l)/27,f=(s-o*o/3/l)/l,u=2*Math.sqrt(-f/3),c=3*d/f/u,Math.abs(c)>1&&(c>=0?c=1:c=-1),h=Math.acos(c)/3,e.y>=0?n=(-u*Math.cos(h+Math.PI/3)-o/3/l)*Math.PI:n=-(-u*Math.cos(h+Math.PI/3)-o/3/l)*Math.PI,Math.abs(r)<kn?t=this.long0:t=Gn(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(r*r-i*i)+a*a))/2/r),e.x=t,e.y=n,e}var Let=["Van_der_Grinten_I","VanDerGrinten","vandg"];const Pet={init:Aet,forward:Iet,inverse:Oet,names:Let};function Ret(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function Net(e){var t=e.x,n=e.y,r=Math.sin(e.y),i=Math.cos(e.y),a=Gn(t-this.long0),s,o,l,f,u,c,h,d,p,g,m,v,y,_,x,w,E,S,C,T,A,O,P;return this.sphere?Math.abs(this.sin_p12-1)<=kn?(e.x=this.x0+this.a*(wn-n)*Math.sin(a),e.y=this.y0-this.a*(wn-n)*Math.cos(a),e):Math.abs(this.sin_p12+1)<=kn?(e.x=this.x0+this.a*(wn+n)*Math.sin(a),e.y=this.y0+this.a*(wn+n)*Math.cos(a),e):(S=this.sin_p12*r+this.cos_p12*i*Math.cos(a),w=Math.acos(S),E=w?w/Math.sin(w):1,e.x=this.x0+this.a*E*i*Math.sin(a),e.y=this.y0+this.a*E*(this.cos_p12*r-this.sin_p12*i*Math.cos(a)),e):(s=Ny(this.es),o=ky(this.es),l=Dy(this.es),f=Fy(this.es),Math.abs(this.sin_p12-1)<=kn?(u=this.a*Wo(s,o,l,f,wn),c=this.a*Wo(s,o,l,f,n),e.x=this.x0+(u-c)*Math.sin(a),e.y=this.y0-(u-c)*Math.cos(a),e):Math.abs(this.sin_p12+1)<=kn?(u=this.a*Wo(s,o,l,f,wn),c=this.a*Wo(s,o,l,f,n),e.x=this.x0+(u+c)*Math.sin(a),e.y=this.y0+(u+c)*Math.cos(a),e):(h=r/i,d=Kg(this.a,this.e,this.sin_p12),p=Kg(this.a,this.e,r),g=Math.atan((1-this.es)*h+this.es*d*this.sin_p12/(p*i)),m=Math.atan2(Math.sin(a),this.cos_p12*Math.tan(g)-this.sin_p12*Math.cos(a)),m===0?C=Math.asin(this.cos_p12*Math.sin(g)-this.sin_p12*Math.cos(g)):Math.abs(Math.abs(m)-Math.PI)<=kn?C=-Math.asin(this.cos_p12*Math.sin(g)-this.sin_p12*Math.cos(g)):C=Math.asin(Math.sin(a)*Math.cos(g)/Math.sin(m)),v=this.e*this.sin_p12/Math.sqrt(1-this.es),y=this.e*this.cos_p12*Math.cos(m)/Math.sqrt(1-this.es),_=v*y,x=y*y,T=C*C,A=T*C,O=A*C,P=O*C,w=d*C*(1-T*x*(1-x)/6+A/8*_*(1-2*x)+O/120*(x*(4-7*x)-3*v*v*(1-7*x))-P/48*_),e.x=this.x0+w*Math.sin(m),e.y=this.y0+w*Math.cos(m),e))}function ket(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,a,s,o,l,f,u,c,h,d,p,g,m,v,y,_,x,w,E,S,C;return this.sphere?(t=Math.sqrt(e.x*e.x+e.y*e.y),t>2*wn*this.a?void 0:(n=t/this.a,r=Math.sin(n),i=Math.cos(n),a=this.long0,Math.abs(t)<=kn?s=this.lat0:(s=xh(i*this.sin_p12+e.y*r*this.cos_p12/t),o=Math.abs(this.lat0)-wn,Math.abs(o)<=kn?this.lat0>=0?a=Gn(this.long0+Math.atan2(e.x,-e.y)):a=Gn(this.long0-Math.atan2(-e.x,e.y)):a=Gn(this.long0+Math.atan2(e.x*r,t*this.cos_p12*i-e.y*this.sin_p12*r))),e.x=a,e.y=s,e)):(l=Ny(this.es),f=ky(this.es),u=Dy(this.es),c=Fy(this.es),Math.abs(this.sin_p12-1)<=kn?(h=this.a*Wo(l,f,u,c,wn),t=Math.sqrt(e.x*e.x+e.y*e.y),d=h-t,s=Ux(d/this.a,l,f,u,c),a=Gn(this.long0+Math.atan2(e.x,-1*e.y)),e.x=a,e.y=s,e):Math.abs(this.sin_p12+1)<=kn?(h=this.a*Wo(l,f,u,c,wn),t=Math.sqrt(e.x*e.x+e.y*e.y),d=t-h,s=Ux(d/this.a,l,f,u,c),a=Gn(this.long0+Math.atan2(e.x,e.y)),e.x=a,e.y=s,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),m=Math.atan2(e.x,e.y),p=Kg(this.a,this.e,this.sin_p12),v=Math.cos(m),y=this.e*this.cos_p12*v,_=-y*y/(1-this.es),x=3*this.es*(1-_)*this.sin_p12*this.cos_p12*v/(1-this.es),w=t/p,E=w-_*(1+_)*Math.pow(w,3)/6-x*(1+3*_)*Math.pow(w,4)/24,S=1-_*E*E/2-w*E*E*E/6,g=Math.asin(this.sin_p12*Math.cos(E)+this.cos_p12*Math.sin(E)*v),a=Gn(this.long0+Math.asin(Math.sin(m)*Math.sin(E)/Math.cos(g))),C=Math.sin(g),s=Math.atan2((C-this.es*S*this.sin_p12)*Math.tan(g),C*(1-this.es)),e.x=a,e.y=s,e))}var Det=["Azimuthal_Equidistant","aeqd"];const Fet={init:Ret,forward:Net,inverse:ket,names:Det};function zet(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function Bet(e){var t,n,r,i,a,s,o,l,f=e.x,u=e.y;return r=Gn(f-this.long0),t=Math.sin(u),n=Math.cos(u),i=Math.cos(r),s=this.sin_p14*t+this.cos_p14*n*i,a=1,(s>0||Math.abs(s)<=kn)&&(o=this.a*a*n*Math.sin(r),l=this.y0+this.a*a*(this.cos_p14*t-this.sin_p14*n*i)),e.x=o,e.y=l,e}function Get(e){var t,n,r,i,a,s,o;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),n=xh(t/this.a),r=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(t)<=kn?(o=this.lat0,e.x=s,e.y=o,e):(o=xh(i*this.sin_p14+e.y*r*this.cos_p14/t),a=Math.abs(this.lat0)-wn,Math.abs(a)<=kn?(this.lat0>=0?s=Gn(this.long0+Math.atan2(e.x,-e.y)):s=Gn(this.long0-Math.atan2(-e.x,e.y)),e.x=s,e.y=o,e):(s=Gn(this.long0+Math.atan2(e.x*r,t*this.cos_p14*i-e.y*this.sin_p14*r)),e.x=s,e.y=o,e))}var jet=["ortho"];const Uet={init:zet,forward:Bet,inverse:Get,names:jet};var Zi={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},fi={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Vet(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=wn-ci/2?this.face=Zi.TOP:this.lat0<=-(wn-ci/2)?this.face=Zi.BOTTOM:Math.abs(this.long0)<=ci?this.face=Zi.FRONT:Math.abs(this.long0)<=wn+ci?this.face=this.long0>0?Zi.RIGHT:Zi.LEFT:this.face=Zi.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function Het(e){var t={x:0,y:0},n,r,i,a,s,o,l={value:0};if(e.x-=this.long0,this.es!==0?n=Math.atan(this.one_minus_f_squared*Math.tan(e.y)):n=e.y,r=e.x,this.face===Zi.TOP)a=wn-n,r>=ci&&r<=wn+ci?(l.value=fi.AREA_0,i=r-wn):r>wn+ci||r<=-(wn+ci)?(l.value=fi.AREA_1,i=r>0?r-ya:r+ya):r>-(wn+ci)&&r<=-ci?(l.value=fi.AREA_2,i=r+wn):(l.value=fi.AREA_3,i=r);else if(this.face===Zi.BOTTOM)a=wn+n,r>=ci&&r<=wn+ci?(l.value=fi.AREA_0,i=-r+wn):r<ci&&r>=-ci?(l.value=fi.AREA_1,i=-r):r<-ci&&r>=-(wn+ci)?(l.value=fi.AREA_2,i=-r-wn):(l.value=fi.AREA_3,i=r>0?-r+ya:-r-ya);else{var f,u,c,h,d,p,g;this.face===Zi.RIGHT?r=Cg(r,+wn):this.face===Zi.BACK?r=Cg(r,+ya):this.face===Zi.LEFT&&(r=Cg(r,-wn)),h=Math.sin(n),d=Math.cos(n),p=Math.sin(r),g=Math.cos(r),f=d*g,u=d*p,c=h,this.face===Zi.FRONT?(a=Math.acos(f),i=x1(a,c,u,l)):this.face===Zi.RIGHT?(a=Math.acos(u),i=x1(a,c,-f,l)):this.face===Zi.BACK?(a=Math.acos(-f),i=x1(a,c,-u,l)):this.face===Zi.LEFT?(a=Math.acos(-u),i=x1(a,c,f,l)):(a=i=0,l.value=fi.AREA_0)}return o=Math.atan(12/ya*(i+Math.acos(Math.sin(i)*Math.cos(ci))-wn)),s=Math.sqrt((1-Math.cos(a))/(Math.cos(o)*Math.cos(o))/(1-Math.cos(Math.atan(1/Math.cos(i))))),l.value===fi.AREA_1?o+=wn:l.value===fi.AREA_2?o+=ya:l.value===fi.AREA_3&&(o+=1.5*ya),t.x=s*Math.cos(o),t.y=s*Math.sin(o),t.x=t.x*this.a+this.x0,t.y=t.y*this.a+this.y0,e.x=t.x,e.y=t.y,e}function Yet(e){var t={lam:0,phi:0},n,r,i,a,s,o,l,f,u,c={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,r=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),n=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?c.value=fi.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(c.value=fi.AREA_1,n-=wn):e.x<0&&-e.x>=Math.abs(e.y)?(c.value=fi.AREA_2,n=n<0?n+ya:n-ya):(c.value=fi.AREA_3,n+=wn),u=ya/12*Math.tan(n),s=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),o=Math.atan(s),i=Math.cos(n),a=Math.tan(r),l=1-i*i*a*a*(1-Math.cos(Math.atan(1/Math.cos(o)))),l<-1?l=-1:l>1&&(l=1),this.face===Zi.TOP)f=Math.acos(l),t.phi=wn-f,c.value===fi.AREA_0?t.lam=o+wn:c.value===fi.AREA_1?t.lam=o<0?o+ya:o-ya:c.value===fi.AREA_2?t.lam=o-wn:t.lam=o;else if(this.face===Zi.BOTTOM)f=Math.acos(l),t.phi=f-wn,c.value===fi.AREA_0?t.lam=-o+wn:c.value===fi.AREA_1?t.lam=-o:c.value===fi.AREA_2?t.lam=-o-wn:t.lam=o<0?-o-ya:-o+ya;else{var h,d,p;h=l,u=h*h,u>=1?p=0:p=Math.sqrt(1-u)*Math.sin(o),u+=p*p,u>=1?d=0:d=Math.sqrt(1-u),c.value===fi.AREA_1?(u=d,d=-p,p=u):c.value===fi.AREA_2?(d=-d,p=-p):c.value===fi.AREA_3&&(u=d,d=p,p=-u),this.face===Zi.RIGHT?(u=h,h=-d,d=u):this.face===Zi.BACK?(h=-h,d=-d):this.face===Zi.LEFT&&(u=h,h=d,d=-u),t.phi=Math.acos(-p)-wn,t.lam=Math.atan2(d,h),this.face===Zi.RIGHT?t.lam=Cg(t.lam,-wn):this.face===Zi.BACK?t.lam=Cg(t.lam,-ya):this.face===Zi.LEFT&&(t.lam=Cg(t.lam,+wn))}if(this.es!==0){var g,m,v;g=t.phi<0?1:0,m=Math.tan(t.phi),v=this.b/Math.sqrt(m*m+this.one_minus_f_squared),t.phi=Math.atan(Math.sqrt(this.a*this.a-v*v)/(this.one_minus_f*v)),g&&(t.phi=-t.phi)}return t.lam+=this.long0,e.x=t.lam,e.y=t.phi,e}function x1(e,t,n,r){var i;return e<kn?(r.value=fi.AREA_0,i=0):(i=Math.atan2(t,n),Math.abs(i)<=ci?r.value=fi.AREA_0:i>ci&&i<=wn+ci?(r.value=fi.AREA_1,i-=wn):i>wn+ci||i<=-(wn+ci)?(r.value=fi.AREA_2,i=i>=0?i-ya:i+ya):(r.value=fi.AREA_3,i+=wn)),i}function Cg(e,t){var n=e+t;return n<-ya?n+=pv:n>+ya&&(n-=pv),n}var Wet=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const $et={init:Vet,forward:Het,inverse:Yet,names:Wet};var RT=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Pm=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],RN=.8487,NN=1.3523,kN=qu/5,qet=1/kN,gg=18,Vx=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},Xet=function(e,t){return e[1]+t*(2*e[2]+t*3*e[3])};function Ket(e,t,n,r){for(var i=t;r;--r){var a=e(i);if(i-=a,Math.abs(a)<n)break}return i}function Zet(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function Jet(e){var t=Gn(e.x-this.long0),n=Math.abs(e.y),r=Math.floor(n*kN);r<0?r=0:r>=gg&&(r=gg-1),n=qu*(n-qet*r);var i={x:Vx(RT[r],n)*t,y:Vx(Pm[r],n)};return e.y<0&&(i.y=-i.y),i.x=i.x*this.a*RN+this.x0,i.y=i.y*this.a*NN+this.y0,i}function Qet(e){var t={x:(e.x-this.x0)/(this.a*RN),y:Math.abs(e.y-this.y0)/(this.a*NN)};if(t.y>=1)t.x/=RT[gg][0],t.y=e.y<0?-wn:wn;else{var n=Math.floor(t.y*gg);for(n<0?n=0:n>=gg&&(n=gg-1);;)if(Pm[n][0]>t.y)--n;else if(Pm[n+1][0]<=t.y)++n;else break;var r=Pm[n],i=5*(t.y-r[0])/(Pm[n+1][0]-r[0]);i=Ket(function(a){return(Vx(r,a)-t.y)/Xet(r,a)},i,kn,100),t.x/=Vx(RT[n],i),t.y=(5*n+i)*ho,e.y<0&&(t.y=-t.y)}return t.x=Gn(t.x+this.long0),t}var tnt=["Robinson","robin"];const ent={init:Zet,forward:Jet,inverse:Qet,names:tnt};function nnt(){this.name="geocent"}function rnt(e){var t=xN(e,this.es,this.a);return t}function int(e){var t=bN(e,this.es,this.a,this.b);return t}var ant=["Geocentric","geocentric","geocent","Geocent"];const ont={init:nnt,forward:rnt,inverse:int,names:ant};var To={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},_m={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function snt(){if(Object.keys(_m).forEach(function(n){if(typeof this[n]>"u")this[n]=_m[n].def;else{if(_m[n].num&&isNaN(this[n]))throw new Error("Invalid parameter value, must be numeric "+n+" = "+this[n]);_m[n].num&&(this[n]=parseFloat(this[n]))}_m[n].degrees&&(this[n]=this[n]*ho)}.bind(this)),Math.abs(Math.abs(this.lat0)-wn)<kn?this.mode=this.lat0<0?To.S_POLE:To.N_POLE:Math.abs(this.lat0)<kn?this.mode=To.EQUIT:(this.mode=To.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)}function lnt(e){e.x-=this.long0;var t=Math.sin(e.y),n=Math.cos(e.y),r=Math.cos(e.x),i,a;switch(this.mode){case To.OBLIQ:a=this.sinph0*t+this.cosph0*n*r;break;case To.EQUIT:a=n*r;break;case To.S_POLE:a=-t;break;case To.N_POLE:a=t;break}switch(a=this.pn1/(this.p-a),i=a*n*Math.sin(e.x),this.mode){case To.OBLIQ:a*=this.cosph0*t-this.sinph0*n*r;break;case To.EQUIT:a*=t;break;case To.N_POLE:a*=-(n*r);break;case To.S_POLE:a*=n*r;break}var s,o;return s=a*this.cg+i*this.sg,o=1/(s*this.sw*this.h1+this.cw),i=(i*this.cg-a*this.sg)*this.cw*o,a=s*o,e.x=i*this.a,e.y=a*this.a,e}function unt(e){e.x/=this.a,e.y/=this.a;var t={x:e.x,y:e.y},n,r,i;i=1/(this.pn1-e.y*this.sw),n=this.pn1*e.x*i,r=this.pn1*e.y*this.cw*i,e.x=n*this.cg+r*this.sg,e.y=r*this.cg-n*this.sg;var a=uu(e.x,e.y);if(Math.abs(a)<kn)t.x=0,t.y=e.y;else{var s,o;switch(o=1-a*a*this.pfact,o=(this.p-Math.sqrt(o))/(this.pn1/a+a/this.pn1),s=Math.sqrt(1-o*o),this.mode){case To.OBLIQ:t.y=Math.asin(s*this.sinph0+e.y*o*this.cosph0/a),e.y=(s-this.sinph0*Math.sin(t.y))*a,e.x*=o*this.cosph0;break;case To.EQUIT:t.y=Math.asin(e.y*o/a),e.y=s*a,e.x*=o;break;case To.N_POLE:t.y=Math.asin(s),e.y=-e.y;break;case To.S_POLE:t.y=-Math.asin(s);break}t.x=Math.atan2(e.x,e.y)}return e.x=t.x+this.long0,e.y=t.y,e}var cnt=["Tilted_Perspective","tpers"];const fnt={init:snt,forward:lnt,inverse:unt,names:cnt};function hnt(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function dnt(e){var t=e.x,n=e.y,r,i,a,s;if(t=t-this.long0,this.shape==="ellipse"){n=Math.atan(this.radius_p2*Math.tan(n));var o=this.radius_p/uu(this.radius_p*Math.cos(n),Math.sin(n));if(i=o*Math.cos(t)*Math.cos(n),a=o*Math.sin(t)*Math.cos(n),s=o*Math.sin(n),(this.radius_g-i)*i-a*a-s*s*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;r=this.radius_g-i,this.flip_axis?(e.x=this.radius_g_1*Math.atan(a/uu(s,r)),e.y=this.radius_g_1*Math.atan(s/r)):(e.x=this.radius_g_1*Math.atan(a/r),e.y=this.radius_g_1*Math.atan(s/uu(a,r)))}else this.shape==="sphere"&&(r=Math.cos(n),i=Math.cos(t)*r,a=Math.sin(t)*r,s=Math.sin(n),r=this.radius_g-i,this.flip_axis?(e.x=this.radius_g_1*Math.atan(a/uu(s,r)),e.y=this.radius_g_1*Math.atan(s/r)):(e.x=this.radius_g_1*Math.atan(a/r),e.y=this.radius_g_1*Math.atan(s/uu(a,r))));return e.x=e.x*this.a,e.y=e.y*this.a,e}function pnt(e){var t=-1,n=0,r=0,i,a,s,o;if(e.x=e.x/this.a,e.y=e.y/this.a,this.shape==="ellipse"){this.flip_axis?(r=Math.tan(e.y/this.radius_g_1),n=Math.tan(e.x/this.radius_g_1)*uu(1,r)):(n=Math.tan(e.x/this.radius_g_1),r=Math.tan(e.y/this.radius_g_1)*uu(1,n));var l=r/this.radius_p;if(i=n*n+l*l+t*t,a=2*this.radius_g*t,s=a*a-4*i*this.C,s<0)return e.x=Number.NaN,e.y=Number.NaN,e;o=(-a-Math.sqrt(s))/(2*i),t=this.radius_g+o*t,n*=o,r*=o,e.x=Math.atan2(n,t),e.y=Math.atan(r*Math.cos(e.x)/t),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if(this.shape==="sphere"){if(this.flip_axis?(r=Math.tan(e.y/this.radius_g_1),n=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+r*r)):(n=Math.tan(e.x/this.radius_g_1),r=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+n*n)),i=n*n+r*r+t*t,a=2*this.radius_g*t,s=a*a-4*i*this.C,s<0)return e.x=Number.NaN,e.y=Number.NaN,e;o=(-a-Math.sqrt(s))/(2*i),t=this.radius_g+o*t,n*=o,r*=o,e.x=Math.atan2(n,t),e.y=Math.atan(r*Math.cos(e.x)/t)}return e.x=e.x+this.long0,e}var gnt=["Geostationary Satellite View","Geostationary_Satellite","geos"];const mnt={init:hnt,forward:dnt,inverse:pnt,names:gnt};function vnt(e){e.Proj.projections.add(ax),e.Proj.projections.add(ox),e.Proj.projections.add(bQ),e.Proj.projections.add(LQ),e.Proj.projections.add(FQ),e.Proj.projections.add(UQ),e.Proj.projections.add(qQ),e.Proj.projections.add(QQ),e.Proj.projections.add(itt),e.Proj.projections.add(utt),e.Proj.projections.add(Stt),e.Proj.projections.add(Ptt),e.Proj.projections.add(Ftt),e.Proj.projections.add(Vtt),e.Proj.projections.add(qtt),e.Proj.projections.add(Qtt),e.Proj.projections.add(iet),e.Proj.projections.add(cet),e.Proj.projections.add(met),e.Proj.projections.add(bet),e.Proj.projections.add(Cet),e.Proj.projections.add(Pet),e.Proj.projections.add(Fet),e.Proj.projections.add(Uet),e.Proj.projections.add($et),e.Proj.projections.add(ent),e.Proj.projections.add(ont),e.Proj.projections.add(fnt),e.Proj.projections.add(mnt)}Dl.defaultDatum="WGS84";Dl.Proj=nc;Dl.WGS84=new Dl.Proj("WGS84");Dl.Point=Xg;Dl.toPoint=wN;Dl.defs=Ho;Dl.nadgrid=TJ;Dl.transform=jx;Dl.mgrs=BJ;Dl.version="__VERSION__";vnt(Dl);const vv={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class ynt{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||vv[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const sS=ynt,zy=6378137,mg=Math.PI*zy,_nt=[-mg,-mg,mg,mg],xnt=[-180,-85,180,85],b1=zy*Math.log(Math.tan(Math.PI/2));class Hp extends sS{constructor(t){super({code:t,units:"m",extent:_nt,global:!0,worldExtent:xnt,getPointResolution:function(n,r){return n/Math.cosh(r[1]/zy)}})}}const tO=[new Hp("EPSG:3857"),new Hp("EPSG:102100"),new Hp("EPSG:102113"),new Hp("EPSG:900913"),new Hp("http://www.opengis.net/def/crs/EPSG/0/3857"),new Hp("http://www.opengis.net/gml/srs/epsg.xml#3857")];function bnt(e,t,n){const r=e.length;n=n>1?n:2,t===void 0&&(n>2?t=e.slice():t=new Array(r));for(let i=0;i<r;i+=n){t[i]=mg*e[i]/180;let a=zy*Math.log(Math.tan(Math.PI*(+e[i+1]+90)/360));a>b1?a=b1:a<-b1&&(a=-b1),t[i+1]=a}return t}function wnt(e,t,n){const r=e.length;n=n>1?n:2,t===void 0&&(n>2?t=e.slice():t=new Array(r));for(let i=0;i<r;i+=n)t[i]=180*e[i]/mg,t[i+1]=360*Math.atan(Math.exp(e[i+1]/zy))/Math.PI-90;return t}const Tnt=6378137,eO=[-180,-90,180,90],Ent=Math.PI*Tnt/180;class nd extends sS{constructor(t,n){super({code:t,units:"degrees",extent:eO,axisOrientation:n,global:!0,metersPerUnit:Ent,worldExtent:eO})}}const nO=[new nd("CRS:84"),new nd("EPSG:4326","neu"),new nd("urn:ogc:def:crs:OGC:1.3:CRS84"),new nd("urn:ogc:def:crs:OGC:2:84"),new nd("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new nd("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new nd("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let NT={};function Mnt(e){return NT[e]||NT[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Snt(e,t){NT[e]=t}function By(e){for(const t in e)delete e[t]}function Zg(e){let t;for(t in e)return!1;return!t}let Ag={};function Jg(e,t,n){const r=e.getCode(),i=t.getCode();r in Ag||(Ag[r]={}),Ag[r][i]=n}function DN(e,t){let n;return e in Ag&&t in Ag[e]&&(n=Ag[e][t]),n}const qa={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16},Cnt={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};class Ant extends Error{constructor(t){const n=Cnt[t];super(n),this.code=t,this.name="AssertionError",this.message=n}}const FN=Ant;function Rr(e,t){if(!e)throw new FN(t)}function rO(e){const t=tl();for(let n=0,r=e.length;n<r;++n)qm(t,e[n]);return t}function Int(e,t,n){const r=Math.min.apply(null,e),i=Math.min.apply(null,t),a=Math.max.apply(null,e),s=Math.max.apply(null,t);return nf(r,i,a,s,n)}function yv(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function zN(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function up(e,t,n){let r,i;return t<e[0]?r=e[0]-t:e[2]<t?r=t-e[2]:r=0,n<e[1]?i=e[1]-n:e[3]<n?i=n-e[3]:i=0,r*r+i*i}function s2(e,t){return lS(e,t[0],t[1])}function vg(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function lS(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function kT(e,t){const n=e[0],r=e[1],i=e[2],a=e[3],s=t[0],o=t[1];let l=qa.UNKNOWN;return s<n?l=l|qa.LEFT:s>i&&(l=l|qa.RIGHT),o<r?l=l|qa.BELOW:o>a&&(l=l|qa.ABOVE),l===qa.UNKNOWN&&(l=qa.INTERSECTING),l}function tl(){return[1/0,1/0,-1/0,-1/0]}function nf(e,t,n,r,i){return i?(i[0]=e,i[1]=t,i[2]=n,i[3]=r,i):[e,t,n,r]}function F0(e){return nf(1/0,1/0,-1/0,-1/0,e)}function Ont(e,t){const n=e[0],r=e[1];return nf(n,r,n,r,t)}function BN(e,t,n,r,i){const a=F0(i);return jN(a,e,t,n,r)}function _v(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function GN(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function qm(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function jN(e,t,n,r,i){for(;n<r;n+=i)Lnt(e,t[n],t[n+1]);return e}function Lnt(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function UN(e,t){let n;return n=t(l2(e)),n||(n=t(u2(e)),n)||(n=t(c2(e)),n)||(n=t(cp(e)),n)?n:!1}function DT(e){let t=0;return Gy(e)||(t=Ei(e)*uc(e)),t}function l2(e){return[e[0],e[1]]}function u2(e){return[e[2],e[1]]}function Ud(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function Pnt(e,t){let n;return t==="bottom-left"?n=l2(e):t==="bottom-right"?n=u2(e):t==="top-left"?n=cp(e):t==="top-right"?n=c2(e):Rr(!1,13),n}function FT(e,t,n,r,i){const[a,s,o,l,f,u,c,h]=zT(e,t,n,r);return nf(Math.min(a,o,f,c),Math.min(s,l,u,h),Math.max(a,o,f,c),Math.max(s,l,u,h),i)}function zT(e,t,n,r){const i=t*r[0]/2,a=t*r[1]/2,s=Math.cos(n),o=Math.sin(n),l=i*s,f=i*o,u=a*s,c=a*o,h=e[0],d=e[1];return[h-l+c,d-f-u,h-l-c,d-f+u,h+l-c,d+f+u,h+l+c,d+f-u,h-l+c,d-f-u]}function uc(e){return e[3]-e[1]}function Xm(e,t,n){const r=n||tl();return vs(e,t)?(e[0]>t[0]?r[0]=e[0]:r[0]=t[0],e[1]>t[1]?r[1]=e[1]:r[1]=t[1],e[2]<t[2]?r[2]=e[2]:r[2]=t[2],e[3]<t[3]?r[3]=e[3]:r[3]=t[3]):F0(r),r}function cp(e){return[e[0],e[3]]}function c2(e){return[e[2],e[3]]}function Ei(e){return e[2]-e[0]}function vs(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function Gy(e){return e[2]<e[0]||e[3]<e[1]}function Rnt(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function Nnt(e,t,n){let r=!1;const i=kT(e,t),a=kT(e,n);if(i===qa.INTERSECTING||a===qa.INTERSECTING)r=!0;else{const s=e[0],o=e[1],l=e[2],f=e[3],u=t[0],c=t[1],h=n[0],d=n[1],p=(d-c)/(h-u);let g,m;a&qa.ABOVE&&!(i&qa.ABOVE)&&(g=h-(d-f)/p,r=g>=s&&g<=l),!r&&a&qa.RIGHT&&!(i&qa.RIGHT)&&(m=d-(h-l)*p,r=m>=o&&m<=f),!r&&a&qa.BELOW&&!(i&qa.BELOW)&&(g=h-(d-o)/p,r=g>=s&&g<=l),!r&&a&qa.LEFT&&!(i&qa.LEFT)&&(m=d-(h-s)*p,r=m>=o&&m<=f)}return r}function knt(e,t,n,r){if(Gy(e))return F0(n);let i=[];if(r>1){const o=e[2]-e[0],l=e[3]-e[1];for(let f=0;f<r;++f)i.push(e[0]+o*f/r,e[1],e[2],e[1]+l*f/r,e[2]-o*f/r,e[3],e[0],e[3]-l*f/r)}else i=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(i,i,2);const a=[],s=[];for(let o=0,l=i.length;o<l;o+=2)a.push(i[o]),s.push(i[o+1]);return Int(a,s,n)}function VN(e,t){const n=t.getExtent(),r=Ud(e);if(t.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){const i=Ei(n),s=Math.floor((r[0]-n[0])/i)*i;e[0]-=s,e[2]-=s}return e}function Dnt(e,t){if(t.canWrapX()){const n=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[n[0],e[1],n[2],e[3]]];VN(e,t);const r=Ei(n);if(Ei(e)>r)return[[n[0],e[1],n[2],e[3]]];if(e[0]<n[0])return[[e[0]+r,e[1],n[2],e[3]],[n[0],e[1],e[2],e[3]]];if(e[2]>n[2])return[[e[0],e[1],n[2],e[3]],[n[0],e[1],e[2]-r,e[3]]]}return[e]}function ca(e,t,n){return Math.min(Math.max(e,t),n)}function Fnt(e,t,n,r,i,a){const s=i-n,o=a-r;if(s!==0||o!==0){const l=((e-n)*s+(t-r)*o)/(s*s+o*o);l>1?(n=i,r=a):l>0&&(n+=s*l,r+=o*l)}return Id(e,t,n,r)}function Id(e,t,n,r){const i=n-e,a=r-t;return i*i+a*a}function znt(e){const t=e.length;for(let r=0;r<t;r++){let i=r,a=Math.abs(e[r][r]);for(let o=r+1;o<t;o++){const l=Math.abs(e[o][r]);l>a&&(a=l,i=o)}if(a===0)return null;const s=e[i];e[i]=e[r],e[r]=s;for(let o=r+1;o<t;o++){const l=-e[o][r]/e[r][r];for(let f=r;f<t+1;f++)r==f?e[o][f]=0:e[o][f]+=l*e[r][f]}}const n=new Array(t);for(let r=t-1;r>=0;r--){n[r]=e[r][t]/e[r][r];for(let i=r-1;i>=0;i--)e[i][t]-=e[i][r]*n[r]}return n}function sx(e){return e*Math.PI/180}function Od(e,t){const n=e%t;return n*t<0?n+t:n}function Hs(e,t,n){return e+n*(t-e)}function uS(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}function w1(e,t){return Math.floor(uS(e,t))}function T1(e,t){return Math.ceil(uS(e,t))}function Bnt(e,t){const n=(""+e).split("."),r=(""+t).split(".");for(let i=0;i<Math.max(n.length,r.length);i++){const a=parseInt(n[i]||"0",10),s=parseInt(r[i]||"0",10);if(a>s)return 1;if(s>a)return-1}return 0}function Gnt(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function Hx(e,t){let n=!0;for(let r=e.length-1;r>=0;--r)if(e[r]!=t[r]){n=!1;break}return n}function cS(e,t){const n=Math.cos(t),r=Math.sin(t),i=e[0]*n-e[1]*r,a=e[1]*n+e[0]*r;return e[0]=i,e[1]=a,e}function jnt(e,t){return e[0]*=t,e[1]*=t,e}function HN(e,t){if(t.canWrapX()){const n=Ei(t.getExtent()),r=YN(e,t,n);r&&(e[0]-=r*n)}return e}function YN(e,t,n){const r=t.getExtent();let i=0;return t.canWrapX()&&(e[0]<r[0]||e[0]>r[2])&&(n=n||Ei(r),i=Math.floor((e[0]-r[0])/n)),i}const Unt=63710088e-1;function iO(e,t,n){n=n||Unt;const r=sx(e[1]),i=sx(t[1]),a=(i-r)/2,s=sx(t[0]-e[0])/2,o=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(r)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))}const WN={info:1,warn:2,error:3,none:4};let Vnt=WN.info;function $N(...e){Vnt>WN.warn||console.warn(...e)}let BT=!0;function Hnt(e){BT=!(e===void 0?!0:e)}function fS(e,t){if(t!==void 0){for(let n=0,r=e.length;n<r;++n)t[n]=e[n];t=t}else t=e.slice();return t}function qN(e,t){if(t!==void 0&&e!==t){for(let n=0,r=e.length;n<r;++n)t[n]=e[n];e=t}return e}function XN(e){Snt(e.getCode(),e),Jg(e,e,fS)}function Ynt(e){e.forEach(XN)}function Di(e){return typeof e=="string"?Mnt(e):e||null}function aO(e,t,n,r){e=Di(e);let i;const a=e.getPointResolutionFunc();if(a){if(i=a(t,n),r&&r!==e.getUnits()){const s=e.getMetersPerUnit();s&&(i=i*s/vv[r])}}else{const s=e.getUnits();if(s=="degrees"&&!r||r=="degrees")i=t;else{const o=dS(e,Di("EPSG:4326"));if(o===qN&&s!=="degrees")i=t*e.getMetersPerUnit();else{let f=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];f=o(f,f,2);const u=iO(f.slice(0,2),f.slice(2,4)),c=iO(f.slice(4,6),f.slice(6,8));i=(u+c)/2}const l=r?vv[r]:e.getMetersPerUnit();l!==void 0&&(i/=l)}}return i}function GT(e){Ynt(e),e.forEach(function(t){e.forEach(function(n){t!==n&&Jg(t,n,fS)})})}function Wnt(e,t,n,r){e.forEach(function(i){t.forEach(function(a){Jg(i,a,n),Jg(a,i,r)})})}function hS(e,t){return e?typeof e=="string"?Di(e):e:Di(t)}function oO(e){return function(t,n,r){const i=t.length;r=r!==void 0?r:2,n=n!==void 0?n:new Array(i);for(let a=0;a<i;a+=r){const s=e(t.slice(a,a+r)),o=s.length;for(let l=0,f=r;l<f;++l)n[a+l]=l>=o?t[a+l]:s[l]}return n}}function $nt(e,t,n,r){const i=Di(e),a=Di(t);Jg(i,a,oO(n)),Jg(a,i,oO(r))}function fd(e,t){if(e===t)return!0;const n=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||dS(e,t)===fS)&&n}function dS(e,t){const n=e.getCode(),r=t.getCode();let i=DN(n,r);return i||(i=qN),i}function xv(e,t){const n=Di(e),r=Di(t);return dS(n,r)}function KN(e,t,n){return xv(t,n)(e,void 0,e.length)}function qnt(e,t,n,r){const i=xv(t,n);return knt(e,i,void 0,r)}function jT(e,t){return e}function zc(e,t){return BT&&!Hx(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(BT=!1,$N("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e}function ZN(e,t){return e}function vd(e,t){return e}function sO(e,t,n){return function(r){let i,a;if(e.canWrapX()){const s=e.getExtent(),o=Ei(s);r=r.slice(0),a=YN(r,e,o),a&&(r[0]=r[0]-a*o),r[0]=ca(r[0],s[0],s[2]),r[1]=ca(r[1],s[1],s[3]),i=n(r)}else i=n(r);return a&&t.canWrapX()&&(i[0]+=a*Ei(t.getExtent())),i}}function Xnt(){GT(tO),GT(nO),Wnt(nO,tO,bnt,wnt)}Xnt();let Knt=null;function _pt(e){Knt=e;const t=Object.keys(e.defs),n=t.length;let r,i;for(r=0;r<n;++r){const a=t[r];if(!Di(a)){const s=e.defs(a);let o=s.units;!o&&s.projName==="longlat"&&(o="degrees"),XN(new sS({code:a,axisOrientation:s.axis,metersPerUnit:s.to_meter,units:o}))}}for(r=0;r<n;++r){const a=t[r],s=Di(a);for(i=0;i<n;++i){const o=t[i],l=Di(o);if(!DN(a,o))if(e.defs[a]===e.defs[o])GT([s,l]);else{const f=e(a,o);$nt(s,l,sO(s,l,f.forward),sO(l,s,f.inverse))}}}}function Znt(){return JN().__VUE_DEVTOOLS_GLOBAL_HOOK__}function JN(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const Jnt=typeof Proxy=="function",Qnt="devtools-plugin:setup",trt="plugin:settings:set";let Yp,UT;function ert(){var e;return Yp!==void 0||(typeof window<"u"&&window.performance?(Yp=!0,UT=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?(Yp=!0,UT=global.perf_hooks.performance):Yp=!1),Yp}function nrt(){return ert()?UT.now():Date.now()}class rrt{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const s in t.settings){const o=t.settings[s];r[s]=o.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let a=Object.assign({},r);try{const s=localStorage.getItem(i),o=JSON.parse(s);Object.assign(a,o)}catch{}this.fallbacks={getSettings(){return a},setSettings(s){try{localStorage.setItem(i,JSON.stringify(s))}catch{}a=s},now(){return nrt()}},n&&n.on(trt,(s,o)=>{s===this.plugin.id&&this.fallbacks.setSettings(o)}),this.proxiedOn=new Proxy({},{get:(s,o)=>this.target?this.target.on[o]:(...l)=>{this.onQueue.push({method:o,args:l})}}),this.proxiedTarget=new Proxy({},{get:(s,o)=>this.target?this.target[o]:o==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(o)?(...l)=>(this.targetQueue.push({method:o,args:l,resolve:()=>{}}),this.fallbacks[o](...l)):(...l)=>new Promise(f=>{this.targetQueue.push({method:o,args:l,resolve:f})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function irt(e,t){const n=e,r=JN(),i=Znt(),a=Jnt&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!a))i.emit(Qnt,e,t);else{const s=a?new rrt(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:s}),s&&t(s.proxiedTarget)}}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const ag=typeof window<"u";function art(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const mi=Object.assign;function T3(e,t){const n={};for(const r in t){const i=t[r];n[r]=pu(i)?i.map(e):e(i)}return n}const Km=()=>{},pu=Array.isArray,ort=/\/$/,srt=e=>e.replace(ort,"");function E3(e,t,n="/"){let r,i={},a="",s="";const o=t.indexOf("#");let l=t.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(r=t.slice(0,l),a=t.slice(l+1,o>-1?o:t.length),i=e(a)),o>-1&&(r=r||t.slice(0,o),s=t.slice(o,t.length)),r=frt(r??t,n),{fullPath:r+(a&&"?")+a+s,path:r,query:i,hash:s}}function lrt(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function lO(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function urt(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Qg(t.matched[r],n.matched[i])&&QN(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Qg(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function QN(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!crt(e[n],t[n]))return!1;return!0}function crt(e,t){return pu(e)?uO(e,t):pu(t)?uO(t,e):e===t}function uO(e,t){return pu(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function frt(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let a=n.length-1,s,o;for(s=0;s<r.length;s++)if(o=r[s],o!==".")if(o==="..")a>1&&a--;else break;return n.slice(0,a).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var bv;(function(e){e.pop="pop",e.push="push"})(bv||(bv={}));var Zm;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Zm||(Zm={}));function hrt(e){if(!e)if(ag){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),srt(e)}const drt=/^[^#]+#/;function prt(e,t){return e.replace(drt,"#")+t}function grt(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const f2=()=>({left:window.pageXOffset,top:window.pageYOffset});function mrt(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=grt(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function cO(e,t){return(history.state?history.state.position-t:-1)+e}const VT=new Map;function vrt(e,t){VT.set(e,t)}function yrt(e){const t=VT.get(e);return VT.delete(e),t}let _rt=()=>location.protocol+"//"+location.host;function t8(e,t){const{pathname:n,search:r,hash:i}=t,a=e.indexOf("#");if(a>-1){let o=i.includes(e.slice(a))?e.slice(a).length:1,l=i.slice(o);return l[0]!=="/"&&(l="/"+l),lO(l,"")}return lO(n,e)+r+i}function xrt(e,t,n,r){let i=[],a=[],s=null;const o=({state:h})=>{const d=t8(e,location),p=n.value,g=t.value;let m=0;if(h){if(n.value=d,t.value=h,s&&s===p){s=null;return}m=g?h.position-g.position:0}else r(d);i.forEach(v=>{v(n.value,p,{delta:m,type:bv.pop,direction:m?m>0?Zm.forward:Zm.back:Zm.unknown})})};function l(){s=n.value}function f(h){i.push(h);const d=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return a.push(d),d}function u(){const{history:h}=window;h.state&&h.replaceState(mi({},h.state,{scroll:f2()}),"")}function c(){for(const h of a)h();a=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:f,destroy:c}}function fO(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?f2():null}}function brt(e){const{history:t,location:n}=window,r={value:t8(e,n)},i={value:t.state};i.value||a(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(l,f,u){const c=e.indexOf("#"),h=c>-1?(n.host&&document.querySelector("base")?e:e.slice(c))+l:_rt()+e+l;try{t[u?"replaceState":"pushState"](f,"",h),i.value=f}catch(d){console.error(d),n[u?"replace":"assign"](h)}}function s(l,f){const u=mi({},t.state,fO(i.value.back,l,i.value.forward,!0),f,{position:i.value.position});a(l,u,!0),r.value=l}function o(l,f){const u=mi({},i.value,t.state,{forward:l,scroll:f2()});a(u.current,u,!0);const c=mi({},fO(r.value,l,null),{position:u.position+1},f);a(l,c,!1),r.value=l}return{location:r,state:i,push:o,replace:s}}function wrt(e){e=hrt(e);const t=brt(e),n=xrt(e,t.state,t.location,t.replace);function r(a,s=!0){s||n.pauseListeners(),history.go(a)}const i=mi({location:"",base:e,go:r,createHref:prt.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function xpt(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),wrt(e)}function Trt(e){return typeof e=="string"||e&&typeof e=="object"}function e8(e){return typeof e=="string"||typeof e=="symbol"}const zf={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},n8=Symbol("");var hO;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(hO||(hO={}));function t0(e,t){return mi(new Error,{type:e,[n8]:!0},t)}function Nc(e,t){return e instanceof Error&&n8 in e&&(t==null||!!(e.type&t))}const dO="[^/]+?",Ert={sensitive:!1,strict:!1,start:!0,end:!0},Mrt=/[.+*?^${}()[\]/\\]/g;function Srt(e,t){const n=mi({},Ert,t),r=[];let i=n.start?"^":"";const a=[];for(const f of e){const u=f.length?[]:[90];n.strict&&!f.length&&(i+="/");for(let c=0;c<f.length;c++){const h=f[c];let d=40+(n.sensitive?.25:0);if(h.type===0)c||(i+="/"),i+=h.value.replace(Mrt,"\\$&"),d+=40;else if(h.type===1){const{value:p,repeatable:g,optional:m,regexp:v}=h;a.push({name:p,repeatable:g,optional:m});const y=v||dO;if(y!==dO){d+=10;try{new RegExp(`(${y})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+x.message)}}let _=g?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;c||(_=m&&f.length<2?`(?:/${_})`:"/"+_),m&&(_+="?"),i+=_,d+=20,m&&(d+=-8),g&&(d+=-20),y===".*"&&(d+=-50)}u.push(d)}r.push(u)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function o(f){const u=f.match(s),c={};if(!u)return null;for(let h=1;h<u.length;h++){const d=u[h]||"",p=a[h-1];c[p.name]=d&&p.repeatable?d.split("/"):d}return c}function l(f){let u="",c=!1;for(const h of e){(!c||!u.endsWith("/"))&&(u+="/"),c=!1;for(const d of h)if(d.type===0)u+=d.value;else if(d.type===1){const{value:p,repeatable:g,optional:m}=d,v=p in f?f[p]:"";if(pu(v)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=pu(v)?v.join("/"):v;if(!y)if(m)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):c=!0);else throw new Error(`Missing required param "${p}"`);u+=y}}return u||"/"}return{re:s,score:r,keys:a,parse:o,stringify:l}}function Crt(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Art(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const a=Crt(r[n],i[n]);if(a)return a;n++}if(Math.abs(i.length-r.length)===1){if(pO(r))return 1;if(pO(i))return-1}return i.length-r.length}function pO(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Irt={type:0,value:""},Ort=/[a-zA-Z0-9_]/;function Lrt(e){if(!e)return[[]];if(e==="/")return[[Irt]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(d){throw new Error(`ERR (${n})/"${f}": ${d}`)}let n=0,r=n;const i=[];let a;function s(){a&&i.push(a),a=[]}let o=0,l,f="",u="";function c(){f&&(n===0?a.push({type:0,value:f}):n===1||n===2||n===3?(a.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:f,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),f="")}function h(){f+=l}for(;o<e.length;){if(l=e[o++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(f&&c(),s()):l===":"?(c(),n=1):h();break;case 4:h(),n=r;break;case 1:l==="("?n=2:Ort.test(l)?h():(c(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:c(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${f}"`),c(),s(),i}function Prt(e,t,n){const r=Srt(Lrt(e.path),n),i=mi(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Rrt(e,t){const n=[],r=new Map;t=vO({strict:!1,end:!0,sensitive:!1},t);function i(u){return r.get(u)}function a(u,c,h){const d=!h,p=Nrt(u);p.aliasOf=h&&h.record;const g=vO(t,u),m=[p];if("alias"in u){const _=typeof u.alias=="string"?[u.alias]:u.alias;for(const x of _)m.push(mi({},p,{components:h?h.record.components:p.components,path:x,aliasOf:h?h.record:p}))}let v,y;for(const _ of m){const{path:x}=_;if(c&&x[0]!=="/"){const w=c.record.path,E=w[w.length-1]==="/"?"":"/";_.path=c.record.path+(x&&E+x)}if(v=Prt(_,c,g),h?h.alias.push(v):(y=y||v,y!==v&&y.alias.push(v),d&&u.name&&!mO(v)&&s(u.name)),p.children){const w=p.children;for(let E=0;E<w.length;E++)a(w[E],v,h&&h.children[E])}h=h||v,(v.record.components&&Object.keys(v.record.components).length||v.record.name||v.record.redirect)&&l(v)}return y?()=>{s(y)}:Km}function s(u){if(e8(u)){const c=r.get(u);c&&(r.delete(u),n.splice(n.indexOf(c),1),c.children.forEach(s),c.alias.forEach(s))}else{const c=n.indexOf(u);c>-1&&(n.splice(c,1),u.record.name&&r.delete(u.record.name),u.children.forEach(s),u.alias.forEach(s))}}function o(){return n}function l(u){let c=0;for(;c<n.length&&Art(u,n[c])>=0&&(u.record.path!==n[c].record.path||!r8(u,n[c]));)c++;n.splice(c,0,u),u.record.name&&!mO(u)&&r.set(u.record.name,u)}function f(u,c){let h,d={},p,g;if("name"in u&&u.name){if(h=r.get(u.name),!h)throw t0(1,{location:u});g=h.record.name,d=mi(gO(c.params,h.keys.filter(y=>!y.optional).map(y=>y.name)),u.params&&gO(u.params,h.keys.map(y=>y.name))),p=h.stringify(d)}else if("path"in u)p=u.path,h=n.find(y=>y.re.test(p)),h&&(d=h.parse(p),g=h.record.name);else{if(h=c.name?r.get(c.name):n.find(y=>y.re.test(c.path)),!h)throw t0(1,{location:u,currentLocation:c});g=h.record.name,d=mi({},c.params,u.params),p=h.stringify(d)}const m=[];let v=h;for(;v;)m.unshift(v.record),v=v.parent;return{name:g,path:p,params:d,matched:m,meta:Drt(m)}}return e.forEach(u=>a(u)),{addRoute:a,resolve:f,removeRoute:s,getRoutes:o,getRecordMatcher:i}}function gO(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Nrt(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:krt(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function krt(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function mO(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Drt(e){return e.reduce((t,n)=>mi(t,n.meta),{})}function vO(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function r8(e,t){return t.children.some(n=>n===e||r8(e,n))}const i8=/#/g,Frt=/&/g,zrt=/\//g,Brt=/=/g,Grt=/\?/g,a8=/\+/g,jrt=/%5B/g,Urt=/%5D/g,o8=/%5E/g,Vrt=/%60/g,s8=/%7B/g,Hrt=/%7C/g,l8=/%7D/g,Yrt=/%20/g;function pS(e){return encodeURI(""+e).replace(Hrt,"|").replace(jrt,"[").replace(Urt,"]")}function Wrt(e){return pS(e).replace(s8,"{").replace(l8,"}").replace(o8,"^")}function HT(e){return pS(e).replace(a8,"%2B").replace(Yrt,"+").replace(i8,"%23").replace(Frt,"%26").replace(Vrt,"`").replace(s8,"{").replace(l8,"}").replace(o8,"^")}function $rt(e){return HT(e).replace(Brt,"%3D")}function qrt(e){return pS(e).replace(i8,"%23").replace(Grt,"%3F")}function Xrt(e){return e==null?"":qrt(e).replace(zrt,"%2F")}function Yx(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Krt(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const a=r[i].replace(a8," "),s=a.indexOf("="),o=Yx(s<0?a:a.slice(0,s)),l=s<0?null:Yx(a.slice(s+1));if(o in t){let f=t[o];pu(f)||(f=t[o]=[f]),f.push(l)}else t[o]=l}return t}function yO(e){let t="";for(let n in e){const r=e[n];if(n=$rt(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(pu(r)?r.map(a=>a&&HT(a)):[r&&HT(r)]).forEach(a=>{a!==void 0&&(t+=(t.length?"&":"")+n,a!=null&&(t+="="+a))})}return t}function Zrt(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=pu(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const Jrt=Symbol(""),_O=Symbol(""),gS=Symbol(""),u8=Symbol(""),YT=Symbol("");function xm(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Jf(e,t,n,r,i){const a=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((s,o)=>{const l=c=>{c===!1?o(t0(4,{from:n,to:t})):c instanceof Error?o(c):Trt(c)?o(t0(2,{from:t,to:c})):(a&&r.enterCallbacks[i]===a&&typeof c=="function"&&a.push(c),s())},f=e.call(r&&r.instances[i],t,n,l);let u=Promise.resolve(f);e.length<3&&(u=u.then(l)),u.catch(c=>o(c))})}function M3(e,t,n,r){const i=[];for(const a of e)for(const s in a.components){let o=a.components[s];if(!(t!=="beforeRouteEnter"&&!a.instances[s]))if(Qrt(o)){const f=(o.__vccOpts||o)[t];f&&i.push(Jf(f,n,r,a,s))}else{let l=o();i.push(()=>l.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${a.path}"`));const u=art(f)?f.default:f;a.components[s]=u;const h=(u.__vccOpts||u)[t];return h&&Jf(h,n,r,a,s)()}))}}return i}function Qrt(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function xO(e){const t=ec(gS),n=ec(u8),r=Ws(()=>t.resolve(ih(e.to))),i=Ws(()=>{const{matched:l}=r.value,{length:f}=l,u=l[f-1],c=n.matched;if(!u||!c.length)return-1;const h=c.findIndex(Qg.bind(null,u));if(h>-1)return h;const d=bO(l[f-2]);return f>1&&bO(u)===d&&c[c.length-1].path!==d?c.findIndex(Qg.bind(null,l[f-2])):h}),a=Ws(()=>i.value>-1&&rit(n.params,r.value.params)),s=Ws(()=>i.value>-1&&i.value===n.matched.length-1&&QN(n.params,r.value.params));function o(l={}){return nit(l)?t[ih(e.replace)?"replace":"push"](ih(e.to)).catch(Km):Promise.resolve()}return{route:r,href:Ws(()=>r.value.href),isActive:a,isExactActive:s,navigate:o}}const tit=Sy({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:xO,setup(e,{slots:t}){const n=k0(xO(e)),{options:r}=ec(gS),i=Ws(()=>({[wO(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[wO(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=t.default&&t.default(n);return e.custom?a:Jb("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},a)}}}),eit=tit;function nit(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function rit(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!pu(i)||i.length!==r.length||r.some((a,s)=>a!==i[s]))return!1}return!0}function bO(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const wO=(e,t,n)=>e??t??n,iit=Sy({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=ec(YT),i=Ws(()=>e.route||r.value),a=ec(_O,0),s=Ws(()=>{let f=ih(a);const{matched:u}=i.value;let c;for(;(c=u[f])&&!c.components;)f++;return f}),o=Ws(()=>i.value.matched[s.value]);jm(_O,Ws(()=>s.value+1)),jm(Jrt,o),jm(YT,i);const l=Md();return tc(()=>[l.value,o.value,e.name],([f,u,c],[h,d,p])=>{u&&(u.instances[c]=f,d&&d!==u&&f&&f===h&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),f&&u&&(!d||!Qg(u,d)||!h)&&(u.enterCallbacks[c]||[]).forEach(g=>g(f))},{flush:"post"}),()=>{const f=i.value,u=e.name,c=o.value,h=c&&c.components[u];if(!h)return TO(n.default,{Component:h,route:f});const d=c.props[u],p=d?d===!0?f.params:typeof d=="function"?d(f):d:null,m=Jb(h,mi({},p,t,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(c.instances[u]=null)},ref:l}));return TO(n.default,{Component:m,route:f})||m}}});function TO(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const ait=iit;function bpt(e){const t=Rrt(e.routes,e),n=e.parseQuery||Krt,r=e.stringifyQuery||yO,i=e.history,a=xm(),s=xm(),o=xm(),l=h6(zf);let f=zf;ag&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=T3.bind(null,W=>""+W),c=T3.bind(null,Xrt),h=T3.bind(null,Yx);function d(W,X){let it,lt;return e8(W)?(it=t.getRecordMatcher(W),lt=X):lt=W,t.addRoute(lt,it)}function p(W){const X=t.getRecordMatcher(W);X&&t.removeRoute(X)}function g(){return t.getRoutes().map(W=>W.record)}function m(W){return!!t.getRecordMatcher(W)}function v(W,X){if(X=mi({},X||l.value),typeof W=="string"){const G=E3(n,W,X.path),H=t.resolve({path:G.path},X),$=i.createHref(G.fullPath);return mi(G,H,{params:h(H.params),hash:Yx(G.hash),redirectedFrom:void 0,href:$})}let it;if("path"in W)it=mi({},W,{path:E3(n,W.path,X.path).path});else{const G=mi({},W.params);for(const H in G)G[H]==null&&delete G[H];it=mi({},W,{params:c(G)}),X.params=c(X.params)}const lt=t.resolve(it,X),dt=W.hash||"";lt.params=u(h(lt.params));const nt=lrt(r,mi({},W,{hash:Wrt(dt),path:lt.path})),V=i.createHref(nt);return mi({fullPath:nt,hash:dt,query:r===yO?Zrt(W.query):W.query||{}},lt,{redirectedFrom:void 0,href:V})}function y(W){return typeof W=="string"?E3(n,W,l.value.path):mi({},W)}function _(W,X){if(f!==W)return t0(8,{from:X,to:W})}function x(W){return S(W)}function w(W){return x(mi(y(W),{replace:!0}))}function E(W){const X=W.matched[W.matched.length-1];if(X&&X.redirect){const{redirect:it}=X;let lt=typeof it=="function"?it(W):it;return typeof lt=="string"&&(lt=lt.includes("?")||lt.includes("#")?lt=y(lt):{path:lt},lt.params={}),mi({query:W.query,hash:W.hash,params:"path"in lt?{}:W.params},lt)}}function S(W,X){const it=f=v(W),lt=l.value,dt=W.state,nt=W.force,V=W.replace===!0,G=E(it);if(G)return S(mi(y(G),{state:typeof G=="object"?mi({},dt,G.state):dt,force:nt,replace:V}),X||it);const H=it;H.redirectedFrom=X;let $;return!nt&&urt(r,lt,it)&&($=t0(16,{to:H,from:lt}),et(lt,lt,!0,!1)),($?Promise.resolve($):A(H,lt)).catch(J=>Nc(J)?Nc(J,2)?J:q(J):B(J,H,lt)).then(J=>{if(J){if(Nc(J,2))return S(mi({replace:V},y(J.to),{state:typeof J.to=="object"?mi({},dt,J.to.state):dt,force:nt}),X||H)}else J=P(H,lt,!0,V,dt);return O(H,lt,J),J})}function C(W,X){const it=_(W,X);return it?Promise.reject(it):Promise.resolve()}function T(W){const X=rt.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(W):W()}function A(W,X){let it;const[lt,dt,nt]=oit(W,X);it=M3(lt.reverse(),"beforeRouteLeave",W,X);for(const G of lt)G.leaveGuards.forEach(H=>{it.push(Jf(H,W,X))});const V=C.bind(null,W,X);return it.push(V),z(it).then(()=>{it=[];for(const G of a.list())it.push(Jf(G,W,X));return it.push(V),z(it)}).then(()=>{it=M3(dt,"beforeRouteUpdate",W,X);for(const G of dt)G.updateGuards.forEach(H=>{it.push(Jf(H,W,X))});return it.push(V),z(it)}).then(()=>{it=[];for(const G of nt)if(G.beforeEnter)if(pu(G.beforeEnter))for(const H of G.beforeEnter)it.push(Jf(H,W,X));else it.push(Jf(G.beforeEnter,W,X));return it.push(V),z(it)}).then(()=>(W.matched.forEach(G=>G.enterCallbacks={}),it=M3(nt,"beforeRouteEnter",W,X),it.push(V),z(it))).then(()=>{it=[];for(const G of s.list())it.push(Jf(G,W,X));return it.push(V),z(it)}).catch(G=>Nc(G,8)?G:Promise.reject(G))}function O(W,X,it){o.list().forEach(lt=>T(()=>lt(W,X,it)))}function P(W,X,it,lt,dt){const nt=_(W,X);if(nt)return nt;const V=X===zf,G=ag?history.state:{};it&&(lt||V?i.replace(W.fullPath,mi({scroll:V&&G&&G.scroll},dt)):i.push(W.fullPath,dt)),l.value=W,et(W,X,it,V),q()}let F;function R(){F||(F=i.listen((W,X,it)=>{if(!ft.listening)return;const lt=v(W),dt=E(lt);if(dt){S(mi(dt,{replace:!0}),lt).catch(Km);return}f=lt;const nt=l.value;ag&&vrt(cO(nt.fullPath,it.delta),f2()),A(lt,nt).catch(V=>Nc(V,12)?V:Nc(V,2)?(S(V.to,lt).then(G=>{Nc(G,20)&&!it.delta&&it.type===bv.pop&&i.go(-1,!1)}).catch(Km),Promise.reject()):(it.delta&&i.go(-it.delta,!1),B(V,lt,nt))).then(V=>{V=V||P(lt,nt,!1),V&&(it.delta&&!Nc(V,8)?i.go(-it.delta,!1):it.type===bv.pop&&Nc(V,20)&&i.go(-1,!1)),O(lt,nt,V)}).catch(Km)}))}let N=xm(),D=xm(),I;function B(W,X,it){q(W);const lt=D.list();return lt.length?lt.forEach(dt=>dt(W,X,it)):console.error(W),Promise.reject(W)}function j(){return I&&l.value!==zf?Promise.resolve():new Promise((W,X)=>{N.add([W,X])})}function q(W){return I||(I=!W,R(),N.list().forEach(([X,it])=>W?it(W):X()),N.reset()),W}function et(W,X,it,lt){const{scrollBehavior:dt}=e;if(!ag||!dt)return Promise.resolve();const nt=!it&&yrt(cO(W.fullPath,0))||(lt||!it)&&history.state&&history.state.scroll||null;return Gb().then(()=>dt(W,X,nt)).then(V=>V&&mrt(V)).catch(V=>B(V,W,X))}const U=W=>i.go(W);let Z;const rt=new Set,ft={currentRoute:l,listening:!0,addRoute:d,removeRoute:p,hasRoute:m,getRoutes:g,resolve:v,options:e,push:x,replace:w,go:U,back:()=>U(-1),forward:()=>U(1),beforeEach:a.add,beforeResolve:s.add,afterEach:o.add,onError:D.add,isReady:j,install(W){const X=this;W.component("RouterLink",eit),W.component("RouterView",ait),W.config.globalProperties.$router=X,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>ih(l)}),ag&&!Z&&l.value===zf&&(Z=!0,x(i.location).catch(dt=>{}));const it={};for(const dt in zf)Object.defineProperty(it,dt,{get:()=>l.value[dt],enumerable:!0});W.provide(gS,X),W.provide(u8,cM(it)),W.provide(YT,l);const lt=W.unmount;rt.add(W),W.unmount=function(){rt.delete(W),rt.size<1&&(f=zf,F&&F(),F=null,l.value=zf,Z=!1,I=!1),lt()}}};function z(W){return W.reduce((X,it)=>X.then(()=>T(it)),Promise.resolve())}return ft}function oit(e,t){const n=[],r=[],i=[],a=Math.max(t.matched.length,e.matched.length);for(let s=0;s<a;s++){const o=t.matched[s];o&&(e.matched.find(f=>Qg(f,o))?r.push(o):n.push(o));const l=e.matched[s];l&&(t.matched.find(f=>Qg(f,l))||i.push(l))}return[n,r,i]}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var sit="store";function z0(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function c8(e){return e!==null&&typeof e=="object"}function lit(e){return e&&typeof e.then=="function"}function uit(e,t){return function(){return e(t)}}function f8(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function h8(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;h2(e,n,[],e._modules.root,!0),mS(e,n,t)}function mS(e,t,n){var r=e._state,i=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var a=e._wrappedGetters,s={},o={},l=Z4(!0);l.run(function(){z0(a,function(f,u){s[u]=uit(f,e),o[u]=Ws(function(){return s[u]()}),Object.defineProperty(e.getters,u,{get:function(){return o[u].value},enumerable:!0})})}),e._state=k0({data:t}),e._scope=l,e.strict&&pit(e),r&&n&&e._withCommit(function(){r.data=null}),i&&i.stop()}function h2(e,t,n,r,i){var a=!n.length,s=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=r),!a&&!i){var o=vS(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit(function(){o[l]=r.state})}var f=r.context=cit(e,s,n);r.forEachMutation(function(u,c){var h=s+c;fit(e,h,u,f)}),r.forEachAction(function(u,c){var h=u.root?c:s+c,d=u.handler||u;hit(e,h,d,f)}),r.forEachGetter(function(u,c){var h=s+c;dit(e,h,u,f)}),r.forEachChild(function(u,c){h2(e,t,n.concat(c),u,i)})}function cit(e,t,n){var r=t==="",i={dispatch:r?e.dispatch:function(a,s,o){var l=Wx(a,s,o),f=l.payload,u=l.options,c=l.type;return(!u||!u.root)&&(c=t+c),e.dispatch(c,f)},commit:r?e.commit:function(a,s,o){var l=Wx(a,s,o),f=l.payload,u=l.options,c=l.type;(!u||!u.root)&&(c=t+c),e.commit(c,f,u)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return d8(e,t)}},state:{get:function(){return vS(e.state,n)}}}),i}function d8(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,r)===t){var a=i.slice(r);Object.defineProperty(n,a,{get:function(){return e.getters[i]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function fit(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push(function(s){n.call(e,r.state,s)})}function hit(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push(function(s){var o=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},s);return lit(o)||(o=Promise.resolve(o)),e._devtoolHook?o.catch(function(l){throw e._devtoolHook.emit("vuex:error",l),l}):o})}function dit(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(a){return n(r.state,r.getters,a.state,a.getters)})}function pit(e){tc(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function vS(e,t){return t.reduce(function(n,r){return n[r]},e)}function Wx(e,t,n){return c8(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var git="vuex bindings",EO="vuex:mutations",S3="vuex:actions",Wp="vuex",mit=0;function vit(e,t){irt({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[git]},function(n){n.addTimelineLayer({id:EO,label:"Vuex Mutations",color:MO}),n.addTimelineLayer({id:S3,label:"Vuex Actions",color:MO}),n.addInspector({id:Wp,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===Wp)if(r.filter){var i=[];v8(i,t._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[m8(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===Wp){var i=r.nodeId;d8(t,i),r.state=xit(wit(t._modules,i),i==="root"?t.getters:t._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===Wp){var i=r.nodeId,a=r.path;i!=="root"&&(a=i.split("/").filter(Boolean).concat(a)),t._withCommit(function(){r.set(t._state.data,a,r.state.value)})}}),t.subscribe(function(r,i){var a={};r.payload&&(a.payload=r.payload),a.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(Wp),n.sendInspectorState(Wp),n.addTimelineEvent({layerId:EO,event:{time:Date.now(),title:r.type,data:a}})}),t.subscribeAction({before:function(r,i){var a={};r.payload&&(a.payload=r.payload),r._id=mit++,r._time=Date.now(),a.state=i,n.addTimelineEvent({layerId:S3,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:a}})},after:function(r,i){var a={},s=Date.now()-r._time;a.duration={_custom:{type:"duration",display:s+"ms",tooltip:"Action duration",value:s}},r.payload&&(a.payload=r.payload),a.state=i,n.addTimelineEvent({layerId:S3,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:a}})}})})}var MO=8702998,yit=6710886,_it=16777215,p8={label:"namespaced",textColor:_it,backgroundColor:yit};function g8(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function m8(e,t){return{id:t||"root",label:g8(t),tags:e.namespaced?[p8]:[],children:Object.keys(e._children).map(function(n){return m8(e._children[n],t+n+"/")})}}function v8(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[p8]:[]}),Object.keys(t._children).forEach(function(i){v8(e,t._children[i],n,r+i+"/")})}function xit(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map(function(s){return{key:s,editable:!0,value:e.state[s]}})};if(r.length){var a=bit(t);i.getters=Object.keys(a).map(function(s){return{key:s.endsWith("/")?g8(s):s,editable:!1,value:WT(function(){return a[s]})}})}return i}function bit(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var i=t,a=r.pop();r.forEach(function(s){i[s]||(i[s]={_custom:{value:{},display:s,tooltip:"Module",abstract:!0}}),i=i[s]._custom.value}),i[a]=WT(function(){return e[n]})}else t[n]=WT(function(){return e[n]})}),t}function wit(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,i,a){var s=r[i];if(!s)throw new Error('Missing module "'+i+'" for path "'+t+'".');return a===n.length-1?s:s._children},t==="root"?e:e.root._children)}function WT(e){try{return e()}catch(t){return t}}var Mu=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},y8={namespaced:{configurable:!0}};y8.namespaced.get=function(){return!!this._rawModule.namespaced};Mu.prototype.addChild=function(t,n){this._children[t]=n};Mu.prototype.removeChild=function(t){delete this._children[t]};Mu.prototype.getChild=function(t){return this._children[t]};Mu.prototype.hasChild=function(t){return t in this._children};Mu.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Mu.prototype.forEachChild=function(t){z0(this._children,t)};Mu.prototype.forEachGetter=function(t){this._rawModule.getters&&z0(this._rawModule.getters,t)};Mu.prototype.forEachAction=function(t){this._rawModule.actions&&z0(this._rawModule.actions,t)};Mu.prototype.forEachMutation=function(t){this._rawModule.mutations&&z0(this._rawModule.mutations,t)};Object.defineProperties(Mu.prototype,y8);var fp=function(t){this.register([],t,!1)};fp.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};fp.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};fp.prototype.update=function(t){_8([],this.root,t)};fp.prototype.register=function(t,n,r){var i=this;r===void 0&&(r=!0);var a=new Mu(n,r);if(t.length===0)this.root=a;else{var s=this.get(t.slice(0,-1));s.addChild(t[t.length-1],a)}n.modules&&z0(n.modules,function(o,l){i.register(t.concat(l),o,r)})};fp.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};fp.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function _8(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;_8(e.concat(r),t.getChild(r),n.modules[r])}}function wpt(e){return new Os(e)}var Os=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var i=t.strict;i===void 0&&(i=!1);var a=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new fp(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=a;var s=this,o=this,l=o.dispatch,f=o.commit;this.dispatch=function(h,d){return l.call(s,h,d)},this.commit=function(h,d,p){return f.call(s,h,d,p)},this.strict=i;var u=this._modules.root.state;h2(this,u,[],this._modules.root),mS(this,u),r.forEach(function(c){return c(n)})},yS={state:{configurable:!0}};Os.prototype.install=function(t,n){t.provide(n||sit,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&vit(t,this)};yS.state.get=function(){return this._state.data};yS.state.set=function(e){};Os.prototype.commit=function(t,n,r){var i=this,a=Wx(t,n,r),s=a.type,o=a.payload,l={type:s,payload:o},f=this._mutations[s];f&&(this._withCommit(function(){f.forEach(function(c){c(o)})}),this._subscribers.slice().forEach(function(u){return u(l,i.state)}))};Os.prototype.dispatch=function(t,n){var r=this,i=Wx(t,n),a=i.type,s=i.payload,o={type:a,payload:s},l=this._actions[a];if(l){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(o,r.state)})}catch{}var f=l.length>1?Promise.all(l.map(function(u){return u(s)})):l[0](s);return new Promise(function(u,c){f.then(function(h){try{r._actionSubscribers.filter(function(d){return d.after}).forEach(function(d){return d.after(o,r.state)})}catch{}u(h)},function(h){try{r._actionSubscribers.filter(function(d){return d.error}).forEach(function(d){return d.error(o,r.state,h)})}catch{}c(h)})})}};Os.prototype.subscribe=function(t,n){return f8(t,this._subscribers,n)};Os.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return f8(r,this._actionSubscribers,n)};Os.prototype.watch=function(t,n,r){var i=this;return tc(function(){return t(i.state,i.getters)},n,Object.assign({},r))};Os.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};Os.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),h2(this,this.state,t,this._modules.get(t),r.preserveState),mS(this,this.state)};Os.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=vS(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),h8(this)};Os.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};Os.prototype.hotUpdate=function(t){this._modules.update(t),h8(this,!0)};Os.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(Os.prototype,yS);var Tpt=b8(function(e,t){var n={};return x8(t).forEach(function(r){var i=r.key,a=r.val;n[i]=function(){var o=this.$store.state,l=this.$store.getters;if(e){var f=w8(this.$store,"mapState",e);if(!f)return;o=f.context.state,l=f.context.getters}return typeof a=="function"?a.call(this,o,l):o[a]},n[i].vuex=!0}),n}),Ept=b8(function(e,t){var n={};return x8(t).forEach(function(r){var i=r.key,a=r.val;n[i]=function(){for(var o=[],l=arguments.length;l--;)o[l]=arguments[l];var f=this.$store.dispatch;if(e){var u=w8(this.$store,"mapActions",e);if(!u)return;f=u.context.dispatch}return typeof a=="function"?a.apply(this,[f].concat(o)):f.apply(this.$store,[a].concat(o))}}),n});function x8(e){return Tit(e)?Array.isArray(e)?e.map(function(t){return{key:t,val:t}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}}):[]}function Tit(e){return Array.isArray(e)||c8(e)}function b8(e){return function(t,n){return typeof t!="string"?(n=t,t=""):t.charAt(t.length-1)!=="/"&&(t+="/"),e(t,n)}}function w8(e,t,n){var r=e._modulesNamespaceMap[n];return r}class Eit{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const vf=Eit,e0={PROPERTYCHANGE:"propertychange"};class Mit{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}const _S=Mit;function Sit(e,t,n){let r,i;n=n||Vd;let a=0,s=e.length,o=!1;for(;a<s;)r=a+(s-a>>1),i=+n(e[r],t),i<0?a=r+1:(s=r,o=!i);return o?a:~a}function Vd(e,t){return e>t?1:e<t?-1:0}function xS(e,t,n){if(e[0]<=t)return 0;const r=e.length;if(t<=e[r-1])return r-1;if(typeof n=="function"){for(let i=1;i<r;++i){const a=e[i];if(a===t)return i;if(a<t)return n(t,e[i-1],a)>0?i-1:i}return r-1}if(n>0){for(let i=1;i<r;++i)if(e[i]<t)return i-1;return r-1}if(n<0){for(let i=1;i<r;++i)if(e[i]<=t)return i;return r-1}for(let i=1;i<r;++i){if(e[i]==t)return i;if(e[i]<t)return e[i-1]-t<t-e[i]?i-1:i}return r-1}function Cit(e,t,n){for(;t<n;){const r=e[t];e[t]=e[n],e[n]=r,++t,--n}}function Xc(e,t){const n=Array.isArray(t)?t:[t],r=n.length;for(let i=0;i<r;i++)e[e.length]=n[i]}function kh(e,t){const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Ait(e,t,n){const r=t||Vd;return e.every(function(i,a){if(a===0)return!0;const s=r(e[a-1],i);return!(s>0||n&&s===0)})}function wv(){return!0}function d2(){return!1}function n0(){}function Iit(e){let t=!1,n,r,i;return function(){const a=Array.prototype.slice.call(arguments);return(!t||this!==i||!kh(a,r))&&(t=!0,i=this,r=a,n=e.apply(this,arguments)),n}}class Oit extends _S{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,n){if(!t||!n)return;const r=this.listeners_||(this.listeners_={}),i=r[t]||(r[t]=[]);i.includes(n)||i.push(n)}dispatchEvent(t){const n=typeof t=="string",r=n?t:t.type,i=this.listeners_&&this.listeners_[r];if(!i)return;const a=n?new vf(t):t;a.target||(a.target=this.eventTarget_||this);const s=this.dispatching_||(this.dispatching_={}),o=this.pendingRemovals_||(this.pendingRemovals_={});r in s||(s[r]=0,o[r]=0),++s[r];let l;for(let f=0,u=i.length;f<u;++f)if("handleEvent"in i[f]?l=i[f].handleEvent(a):l=i[f].call(this,a),l===!1||a.propagationStopped){l=!1;break}if(--s[r]===0){let f=o[r];for(delete o[r];f--;)this.removeEventListener(r,n0);delete s[r]}return l}disposeInternal(){this.listeners_&&By(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,n){const r=this.listeners_&&this.listeners_[t];if(r){const i=r.indexOf(n);i!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(r[i]=n0,++this.pendingRemovals_[t]):(r.splice(i,1),r.length===0&&delete this.listeners_[t]))}}}const p2=Oit,Sr={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Jr(e,t,n,r,i){if(r&&r!==e&&(n=n.bind(r)),i){const s=n;n=function(){e.removeEventListener(t,n),s.apply(this,arguments)}}const a={target:e,type:t,listener:n};return e.addEventListener(t,n),a}function $x(e,t,n,r){return Jr(e,t,n,r,!0)}function Fi(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),By(e))}class g2 extends p2{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Sr.CHANGE)}getRevision(){return this.revision_}onInternal(t,n){if(Array.isArray(t)){const r=t.length,i=new Array(r);for(let a=0;a<r;++a)i[a]=Jr(this,t[a],n);return i}return Jr(this,t,n)}onceInternal(t,n){let r;if(Array.isArray(t)){const i=t.length;r=new Array(i);for(let a=0;a<i;++a)r[a]=$x(this,t[a],n)}else r=$x(this,t,n);return n.ol_key=r,r}unInternal(t,n){const r=n.ol_key;if(r)Lit(r);else if(Array.isArray(t))for(let i=0,a=t.length;i<a;++i)this.removeEventListener(t[i],n);else this.removeEventListener(t,n)}}g2.prototype.on;g2.prototype.once;g2.prototype.un;function Lit(e){if(Array.isArray(e))for(let t=0,n=e.length;t<n;++t)Fi(e[t]);else Fi(e)}const T8=g2;function er(){throw new Error("Unimplemented abstract method.")}let Pit=0;function si(e){return e.ol_uid||(e.ol_uid=String(++Pit))}class SO extends vf{constructor(t,n,r){super(t),this.key=n,this.oldValue=r}}class Rit extends T8{constructor(t){super(),this.on,this.once,this.un,si(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let n;return this.values_&&this.values_.hasOwnProperty(t)&&(n=this.values_[t]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(t,n){let r;r=`change:${t}`,this.hasListener(r)&&this.dispatchEvent(new SO(r,t,n)),r=e0.PROPERTYCHANGE,this.hasListener(r)&&this.dispatchEvent(new SO(r,t,n))}addChangeListener(t,n){this.addEventListener(`change:${t}`,n)}removeChangeListener(t,n){this.removeEventListener(`change:${t}`,n)}set(t,n,r){const i=this.values_||(this.values_={});if(r)i[t]=n;else{const a=i[t];i[t]=n,a!==n&&this.notify(t,a)}}setProperties(t,n){for(const r in t)this.set(r,t[r],n)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,n){if(this.values_&&t in this.values_){const r=this.values_[t];delete this.values_[t],Zg(this.values_)&&(this.values_=null),n||this.notify(t,r)}}}const vc=Rit,ps={ADD:"add",REMOVE:"remove"},CO={LENGTH:"length"};class E1 extends vf{constructor(t,n,r){super(t),this.element=n,this.index=r}}let Nit=class extends vc{constructor(t,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=t||[],this.unique_)for(let r=0,i=this.array_.length;r<i;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let n=0,r=t.length;n<r;++n)this.push(t[n]);return this}forEach(t){const n=this.array_;for(let r=0,i=n.length;r<i;++r)t(n[r],r,n)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(CO.LENGTH)}insertAt(t,n){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n),this.array_.splice(t,0,n),this.updateLength_(),this.dispatchEvent(new E1(ps.ADD,n,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const n=this.getLength();return this.insertAt(n,t),this.getLength()}remove(t){const n=this.array_;for(let r=0,i=n.length;r<i;++r)if(n[r]===t)return this.removeAt(r)}removeAt(t){if(t<0||t>=this.getLength())return;const n=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new E1(ps.REMOVE,n,t)),n}setAt(t,n){const r=this.getLength();if(t>=r){this.insertAt(t,n);return}if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n,t);const i=this.array_[t];this.array_[t]=n,this.dispatchEvent(new E1(ps.REMOVE,i,t)),this.dispatchEvent(new E1(ps.ADD,n,t))}updateLength_(){this.set(CO.LENGTH,this.array_.length)}assertUnique_(t,n){for(let r=0,i=this.array_.length;r<i;++r)if(this.array_[r]===t&&r!==n)throw new FN(58)}};const Xu=Nit;class bS extends vc{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){const n=t;this.setGeometry(n)}else{const n=t;this.setProperties(n)}}clone(){const t=new bS(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&t.setGeometry(n.clone());const r=this.getStyle();return r&&t.setStyle(r),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Fi(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=Jr(t,Sr.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?kit(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function kit(e){if(typeof e=="function")return e;let t;return Array.isArray(e)?t=e:(Rr(typeof e.getZIndex=="function",41),t=[e]),function(){return t}}const $T=bS,bh=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",Dit=bh.includes("firefox"),Fit=bh.includes("safari")&&!bh.includes("chrom");Fit&&(bh.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(bh));const zit=bh.includes("webkit")&&!bh.includes("edge"),E8=bh.includes("macintosh"),M8=typeof devicePixelRatio<"u"?devicePixelRatio:1,wS=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Bit=typeof Image<"u"&&Image.prototype.decode,S8=function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return e}();new Array(6);function rc(){return[1,0,0,1,0,0]}function Git(e,t,n,r,i,a,s){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=s,e}function jit(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Xa(e,t){const n=t[0],r=t[1];return t[0]=e[0]*n+e[2]*r+e[4],t[1]=e[1]*n+e[3]*r+e[5],t}function Uit(e,t,n){return Git(e,t,0,0,n,0,0)}function wh(e,t,n,r,i,a,s,o){const l=Math.sin(a),f=Math.cos(a);return e[0]=r*f,e[1]=i*l,e[2]=-r*l,e[3]=i*f,e[4]=s*r*f-o*r*l+t,e[5]=s*i*l+o*i*f+n,e}function TS(e,t){const n=Vit(t);Rr(n!==0,32);const r=t[0],i=t[1],a=t[2],s=t[3],o=t[4],l=t[5];return e[0]=s/n,e[1]=-i/n,e[2]=-a/n,e[3]=r/n,e[4]=(a*l-s*o)/n,e[5]=-(r*l-i*o)/n,e}function Vit(e){return e[0]*e[3]-e[1]*e[2]}let AO;function C8(e){const t="matrix("+e.join(", ")+")";if(wS)return t;const n=AO||(AO=document.createElement("div"));return n.style.transform=t,n.style.transform}function Ld(e,t,n,r,i,a){a=a||[];let s=0;for(let o=t;o<n;o+=r){const l=e[o],f=e[o+1];a[s++]=i[0]*l+i[2]*f+i[4],a[s++]=i[1]*l+i[3]*f+i[5]}return a&&a.length!=s&&(a.length=s),a}function A8(e,t,n,r,i,a,s){s=s||[];const o=Math.cos(i),l=Math.sin(i),f=a[0],u=a[1];let c=0;for(let h=t;h<n;h+=r){const d=e[h]-f,p=e[h+1]-u;s[c++]=f+d*o-p*l,s[c++]=u+d*l+p*o;for(let g=h+2;g<h+r;++g)s[c++]=e[g]}return s&&s.length!=c&&(s.length=c),s}function Hit(e,t,n,r,i,a,s,o){o=o||[];const l=s[0],f=s[1];let u=0;for(let c=t;c<n;c+=r){const h=e[c]-l,d=e[c+1]-f;o[u++]=l+i*h,o[u++]=f+a*d;for(let p=c+2;p<c+r;++p)o[u++]=e[p]}return o&&o.length!=u&&(o.length=u),o}function Yit(e,t,n,r,i,a,s){s=s||[];let o=0;for(let l=t;l<n;l+=r){s[o++]=e[l]+i,s[o++]=e[l+1]+a;for(let f=l+2;f<l+r;++f)s[o++]=e[f]}return s&&s.length!=o&&(s.length=o),s}const IO=rc();let Wit=class extends vc{constructor(){super(),this.extent_=tl(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Iit(function(t,n,r){if(!r)return this.getSimplifiedGeometry(n);const i=this.clone();return i.applyTransform(r),i.getSimplifiedGeometry(n)})}simplifyTransformed(t,n){return this.simplifyTransformedInternal(this.getRevision(),t,n)}clone(){return er()}closestPointXY(t,n,r,i){return er()}containsXY(t,n){const r=this.getClosestPoint([t,n]);return r[0]===t&&r[1]===n}getClosestPoint(t,n){return n=n||[NaN,NaN],this.closestPointXY(t[0],t[1],n,1/0),n}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return er()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&F0(n),this.extentRevision_=this.getRevision()}return Rnt(this.extent_,t)}rotate(t,n){er()}scale(t,n,r){er()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return er()}getType(){return er()}applyTransform(t){er()}intersectsExtent(t){return er()}translate(t,n){er()}transform(t,n){const r=Di(t),i=r.getUnits()=="tile-pixels"?function(a,s,o){const l=r.getExtent(),f=r.getWorldExtent(),u=uc(f)/uc(l);return wh(IO,f[0],f[3],u,-u,0,0,0),Ld(a,0,a.length,o,IO,s),xv(r,n)(a,s,o)}:xv(r,n);return this.applyTransform(i),this}};const I8=Wit;class $it extends I8{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(t){return BN(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return er()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,n){this.stride=OO(t),this.layout=t,this.flatCoordinates=n}setCoordinates(t,n){er()}setLayout(t,n,r){let i;if(t)i=OO(t);else{for(let a=0;a<r;++a){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}i=n.length,t=qit(i)}this.layout=t,this.stride=i}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(t,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();A8(r,0,r.length,i,t,n,r),this.changed()}}scale(t,n,r){n===void 0&&(n=t),r||(r=Ud(this.getExtent()));const i=this.getFlatCoordinates();if(i){const a=this.getStride();Hit(i,0,i.length,a,t,n,r,i),this.changed()}}translate(t,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();Yit(r,0,r.length,i,t,n,r),this.changed()}}}function qit(e){let t;return e==2?t="XY":e==3?t="XYZ":e==4&&(t="XYZM"),t}function OO(e){let t;return e=="XY"?t=2:e=="XYZ"||e=="XYM"?t=3:e=="XYZM"&&(t=4),t}function Xit(e,t,n){const r=e.getFlatCoordinates();if(!r)return null;const i=e.getStride();return Ld(r,0,r.length,i,t,n)}const hp=$it;function LO(e,t,n,r,i,a,s){const o=e[t],l=e[t+1],f=e[n]-o,u=e[n+1]-l;let c;if(f===0&&u===0)c=t;else{const h=((i-o)*f+(a-l)*u)/(f*f+u*u);if(h>1)c=n;else if(h>0){for(let d=0;d<r;++d)s[d]=Hs(e[t+d],e[n+d],h);s.length=r;return}else c=t}for(let h=0;h<r;++h)s[h]=e[c+h];s.length=r}function ES(e,t,n,r,i){let a=e[t],s=e[t+1];for(t+=r;t<n;t+=r){const o=e[t],l=e[t+1],f=Id(a,s,o,l);f>i&&(i=f),a=o,s=l}return i}function MS(e,t,n,r,i){for(let a=0,s=n.length;a<s;++a){const o=n[a];i=ES(e,t,o,r,i),t=o}return i}function Kit(e,t,n,r,i){for(let a=0,s=n.length;a<s;++a){const o=n[a];i=MS(e,t,o,r,i),t=o[o.length-1]}return i}function SS(e,t,n,r,i,a,s,o,l,f,u){if(t==n)return f;let c,h;if(i===0){if(h=Id(s,o,e[t],e[t+1]),h<f){for(c=0;c<r;++c)l[c]=e[t+c];return l.length=r,h}return f}u=u||[NaN,NaN];let d=t+r;for(;d<n;)if(LO(e,d-r,d,r,s,o,u),h=Id(s,o,u[0],u[1]),h<f){for(f=h,c=0;c<r;++c)l[c]=u[c];l.length=r,d+=r}else d+=r*Math.max((Math.sqrt(h)-Math.sqrt(f))/i|0,1);if(a&&(LO(e,n-r,t,r,s,o,u),h=Id(s,o,u[0],u[1]),h<f)){for(f=h,c=0;c<r;++c)l[c]=u[c];l.length=r}return f}function CS(e,t,n,r,i,a,s,o,l,f,u){u=u||[NaN,NaN];for(let c=0,h=n.length;c<h;++c){const d=n[c];f=SS(e,t,d,r,i,a,s,o,l,f,u),t=d}return f}function Zit(e,t,n,r,i,a,s,o,l,f,u){u=u||[NaN,NaN];for(let c=0,h=n.length;c<h;++c){const d=n[c];f=CS(e,t,d,r,i,a,s,o,l,f,u),t=d[d.length-1]}return f}function Jit(e,t,n,r){for(let i=0,a=n.length;i<a;++i)e[t++]=n[i];return t}function m2(e,t,n,r){for(let i=0,a=n.length;i<a;++i){const s=n[i];for(let o=0;o<r;++o)e[t++]=s[o]}return t}function AS(e,t,n,r,i){i=i||[];let a=0;for(let s=0,o=n.length;s<o;++s){const l=m2(e,t,n[s],r);i[a++]=l,t=l}return i.length=a,i}function Qit(e,t,n,r,i){i=i||[];let a=0;for(let s=0,o=n.length;s<o;++s){const l=AS(e,t,n[s],r,i[a]);l.length===0&&(l[0]=t),i[a++]=l,t=l[l.length-1]}return i.length=a,i}function IS(e,t,n,r,i,a,s){const o=(n-t)/r;if(o<3){for(;t<n;t+=r)a[s++]=e[t],a[s++]=e[t+1];return s}const l=new Array(o);l[0]=1,l[o-1]=1;const f=[t,n-r];let u=0;for(;f.length>0;){const c=f.pop(),h=f.pop();let d=0;const p=e[h],g=e[h+1],m=e[c],v=e[c+1];for(let y=h+r;y<c;y+=r){const _=e[y],x=e[y+1],w=Fnt(_,x,p,g,m,v);w>d&&(u=y,d=w)}d>i&&(l[(u-t)/r]=1,h+r<u&&f.push(h,u),u+r<c&&f.push(u,c))}for(let c=0;c<o;++c)l[c]&&(a[s++]=e[t+c*r],a[s++]=e[t+c*r+1]);return s}function tat(e,t,n,r,i,a,s,o){for(let l=0,f=n.length;l<f;++l){const u=n[l];s=IS(e,t,u,r,i,a,s),o.push(s),t=u}return s}function ld(e,t){return t*Math.round(e/t)}function eat(e,t,n,r,i,a,s){if(t==n)return s;let o=ld(e[t],i),l=ld(e[t+1],i);t+=r,a[s++]=o,a[s++]=l;let f,u;do if(f=ld(e[t],i),u=ld(e[t+1],i),t+=r,t==n)return a[s++]=f,a[s++]=u,s;while(f==o&&u==l);for(;t<n;){const c=ld(e[t],i),h=ld(e[t+1],i);if(t+=r,c==f&&h==u)continue;const d=f-o,p=u-l,g=c-o,m=h-l;if(d*m==p*g&&(d<0&&g<d||d==g||d>0&&g>d)&&(p<0&&m<p||p==m||p>0&&m>p)){f=c,u=h;continue}a[s++]=f,a[s++]=u,o=f,l=u,f=c,u=h}return a[s++]=f,a[s++]=u,s}function O8(e,t,n,r,i,a,s,o){for(let l=0,f=n.length;l<f;++l){const u=n[l];s=eat(e,t,u,r,i,a,s),o.push(s),t=u}return s}function nat(e,t,n,r,i,a,s,o){for(let l=0,f=n.length;l<f;++l){const u=n[l],c=[];s=O8(e,t,u,r,i,a,s,c),o.push(c),t=u[u.length-1]}return s}function th(e,t,n,r,i){i=i!==void 0?i:[];let a=0;for(let s=t;s<n;s+=r)i[a++]=e.slice(s,s+r);return i.length=a,i}function Tv(e,t,n,r,i){i=i!==void 0?i:[];let a=0;for(let s=0,o=n.length;s<o;++s){const l=n[s];i[a++]=th(e,t,l,r,i[a]),t=l}return i.length=a,i}function qT(e,t,n,r,i){i=i!==void 0?i:[];let a=0;for(let s=0,o=n.length;s<o;++s){const l=n[s];i[a++]=l.length===1&&l[0]===t?[]:Tv(e,t,l,r,i[a]),t=l[l.length-1]}return i.length=a,i}function L8(e,t,n,r){let i=0,a=e[n-r],s=e[n-r+1];for(;t<n;t+=r){const o=e[t],l=e[t+1];i+=s*o-a*l,a=o,s=l}return i/2}function P8(e,t,n,r){let i=0;for(let a=0,s=n.length;a<s;++a){const o=n[a];i+=L8(e,t,o,r),t=o}return i}function rat(e,t,n,r){let i=0;for(let a=0,s=n.length;a<s;++a){const o=n[a];i+=P8(e,t,o,r),t=o[o.length-1]}return i}let iat=class XT extends hp{constructor(t,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}clone(){return new XT(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,n,r,i){return i<up(this.getExtent(),t,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ES(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),SS(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,n,r,i))}getArea(){return L8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return th(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const n=[];return n.length=IS(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new XT(n,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=m2(this.flatCoordinates,0,t,this.stride),this.changed()}};const PO=iat;let aat=class R8 extends hp{constructor(t,n){super(),this.setCoordinates(t,n)}clone(){const t=new R8(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,r,i){const a=this.flatCoordinates,s=Id(t,n,a[0],a[1]);if(s<i){const o=this.stride;for(let l=0;l<o;++l)r[l]=a[l];return r.length=o,s}return i}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(t){return Ont(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return lS(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Jit(this.flatCoordinates,0,t,this.stride),this.changed()}};const Ev=aat;function oat(e,t,n,r,i){return!UN(i,function(s){return!yd(e,t,n,r,s[0],s[1])})}function yd(e,t,n,r,i,a){let s=0,o=e[n-r],l=e[n-r+1];for(;t<n;t+=r){const f=e[t],u=e[t+1];l<=a?u>a&&(f-o)*(a-l)-(i-o)*(u-l)>0&&s++:u<=a&&(f-o)*(a-l)-(i-o)*(u-l)<0&&s--,o=f,l=u}return s!==0}function OS(e,t,n,r,i,a){if(n.length===0||!yd(e,t,n[0],r,i,a))return!1;for(let s=1,o=n.length;s<o;++s)if(yd(e,n[s-1],n[s],r,i,a))return!1;return!0}function sat(e,t,n,r,i,a){if(n.length===0)return!1;for(let s=0,o=n.length;s<o;++s){const l=n[s];if(OS(e,t,l,r,i,a))return!0;t=l[l.length-1]}return!1}function N8(e,t,n,r,i,a,s){let o,l,f,u,c,h,d;const p=i[a+1],g=[];for(let y=0,_=n.length;y<_;++y){const x=n[y];for(u=e[x-r],h=e[x-r+1],o=t;o<x;o+=r)c=e[o],d=e[o+1],(p<=h&&d<=p||h<=p&&p<=d)&&(f=(p-h)/(d-h)*(c-u)+u,g.push(f)),u=c,h=d}let m=NaN,v=-1/0;for(g.sort(Vd),u=g[0],o=1,l=g.length;o<l;++o){c=g[o];const y=Math.abs(c-u);y>v&&(f=(u+c)/2,OS(e,t,n,r,f,p)&&(m=f,v=y)),u=c}return isNaN(m)&&(m=i[a]),s?(s.push(m,p,v),s):[m,p,v]}function lat(e,t,n,r,i){let a=[];for(let s=0,o=n.length;s<o;++s){const l=n[s];a=N8(e,t,l,r,i,2*s,a),t=l[l.length-1]}return a}function k8(e,t,n,r,i){let a;for(t+=r;t<n;t+=r)if(a=i(e.slice(t-r,t),e.slice(t,t+r)),a)return a;return!1}function v2(e,t,n,r,i){const a=jN(tl(),e,t,n,r);return vs(i,a)?vg(i,a)||a[0]>=i[0]&&a[2]<=i[2]||a[1]>=i[1]&&a[3]<=i[3]?!0:k8(e,t,n,r,function(s,o){return Nnt(i,s,o)}):!1}function uat(e,t,n,r,i){for(let a=0,s=n.length;a<s;++a){if(v2(e,t,n[a],r,i))return!0;t=n[a]}return!1}function D8(e,t,n,r,i){return!!(v2(e,t,n,r,i)||yd(e,t,n,r,i[0],i[1])||yd(e,t,n,r,i[0],i[3])||yd(e,t,n,r,i[2],i[1])||yd(e,t,n,r,i[2],i[3]))}function F8(e,t,n,r,i){if(!D8(e,t,n[0],r,i))return!1;if(n.length===1)return!0;for(let a=1,s=n.length;a<s;++a)if(oat(e,n[a-1],n[a],r,i)&&!v2(e,n[a-1],n[a],r,i))return!1;return!0}function cat(e,t,n,r,i){for(let a=0,s=n.length;a<s;++a){const o=n[a];if(F8(e,t,o,r,i))return!0;t=o[o.length-1]}return!1}function fat(e,t,n,r){for(;t<n-r;){for(let i=0;i<r;++i){const a=e[t+i];e[t+i]=e[n-r+i],e[n-r+i]=a}t+=r,n-=r}}function z8(e,t,n,r){let i=0,a=e[n-r],s=e[n-r+1];for(;t<n;t+=r){const o=e[t],l=e[t+1];i+=(o-a)*(l+s),a=o,s=l}return i===0?void 0:i>0}function B8(e,t,n,r,i){i=i!==void 0?i:!1;for(let a=0,s=n.length;a<s;++a){const o=n[a],l=z8(e,t,o,r);if(a===0){if(i&&l||!i&&!l)return!1}else if(i&&!l||!i&&l)return!1;t=o}return!0}function hat(e,t,n,r,i){for(let a=0,s=n.length;a<s;++a){const o=n[a];if(!B8(e,t,o,r,i))return!1;o.length&&(t=o[o.length-1])}return!0}function KT(e,t,n,r,i){i=i!==void 0?i:!1;for(let a=0,s=n.length;a<s;++a){const o=n[a],l=z8(e,t,o,r);(a===0?i&&l||!i&&!l:i&&!l||!i&&l)&&fat(e,t,o,r),t=o}return t}function RO(e,t,n,r,i){for(let a=0,s=n.length;a<s;++a)t=KT(e,t,n[a],r,i);return t}let G8=class ZT extends hp{constructor(t,n,r){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&r?(this.setFlatCoordinates(n,t),this.ends_=r):this.setCoordinates(t,n)}appendLinearRing(t){this.flatCoordinates?Xc(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new ZT(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,n,r,i){return i<up(this.getExtent(),t,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(MS(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),CS(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,n,r,i))}containsXY(t,n){return OS(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,n)}getArea(){return P8(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),KT(n,0,this.ends_,this.stride,t)):n=this.flatCoordinates,Tv(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=Ud(this.getExtent());this.flatInteriorPoint_=N8(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Ev(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new PO(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,n=this.flatCoordinates,r=this.ends_,i=[];let a=0;for(let s=0,o=r.length;s<o;++s){const l=r[s],f=new PO(n.slice(a,l),t);i.push(f),a=l}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;B8(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=KT(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const n=[],r=[];return n.length=O8(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,r),new ZT(n,"XY",r)}getType(){return"Polygon"}intersectsExtent(t){return F8(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=AS(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}};const Mv=G8;function NO(e){if(Gy(e))throw new Error("Cannot create polygon from empty extent");const t=e[0],n=e[1],r=e[2],i=e[3],a=[t,n,t,i,r,i,r,n,t,n];return new G8(a,"XY",[a.length])}const ic={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class LS{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null}clone(){const t=this.getColor();return new LS({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){this.color_=t}}const PS=LS;function j8(e,t,n,r,i,a,s){let o,l;const f=(n-t)/r;if(f===1)o=t;else if(f===2)o=t,l=i;else if(f!==0){let u=e[t],c=e[t+1],h=0;const d=[0];for(let m=t+r;m<n;m+=r){const v=e[m],y=e[m+1];h+=Math.sqrt((v-u)*(v-u)+(y-c)*(y-c)),d.push(h),u=v,c=y}const p=i*h,g=Sit(d,p);g<0?(l=(p-d[-g-2])/(d[-g-1]-d[-g-2]),o=t+(-g-2)*r):o=t+g*r}s=s>1?s:2,a=a||new Array(s);for(let u=0;u<s;++u)a[u]=o===void 0?NaN:l===void 0?e[o+u]:Hs(e[o+u],e[o+r+u],l);return a}function JT(e,t,n,r,i,a){if(n==t)return null;let s;if(i<e[t+r-1])return a?(s=e.slice(t,t+r),s[r-1]=i,s):null;if(e[n-1]<i)return a?(s=e.slice(n-r,n),s[r-1]=i,s):null;if(i==e[t+r-1])return e.slice(t,t+r);let o=t/r,l=n/r;for(;o<l;){const h=o+l>>1;i<e[(h+1)*r-1]?l=h:o=h+1}const f=e[o*r-1];if(i==f)return e.slice((o-1)*r,(o-1)*r+r);const u=e[(o+1)*r-1],c=(i-f)/(u-f);s=[];for(let h=0;h<r-1;++h)s.push(Hs(e[(o-1)*r+h],e[o*r+h],c));return s.push(i),s}function dat(e,t,n,r,i,a,s){if(s)return JT(e,t,n[n.length-1],r,i,a);let o;if(i<e[r-1])return a?(o=e.slice(0,r),o[r-1]=i,o):null;if(e[e.length-1]<i)return a?(o=e.slice(e.length-r),o[r-1]=i,o):null;for(let l=0,f=n.length;l<f;++l){const u=n[l];if(t!=u){if(i<e[t+r-1])return null;if(i<=e[u-1])return JT(e,t,u,r,i,!1);t=u}}return null}function U8(e,t,n,r){let i=e[t],a=e[t+1],s=0;for(let o=t+r;o<n;o+=r){const l=e[o],f=e[o+1];s+=Math.sqrt((l-i)*(l-i)+(f-a)*(f-a)),i=l,a=f}return s}let pat=class QT extends hp{constructor(t,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}appendCoordinate(t){this.flatCoordinates?Xc(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()}clone(){const t=new QT(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,r,i){return i<up(this.getExtent(),t,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ES(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),SS(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,n,r,i))}forEachSegment(t){return k8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0?n:!1,JT(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n))}getCoordinates(){return th(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,n){return j8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,this.stride)}getLength(){return U8(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(t){const n=[];return n.length=IS(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new QT(n,"XY")}getType(){return"LineString"}intersectsExtent(t){return v2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=m2(this.flatCoordinates,0,t,this.stride),this.changed()}};const qx=pat;class RS{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new RS({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}const V8=RS,la={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function kO(e,t,n){return n===void 0&&(n=[0,0]),n[0]=e[0]+2*t,n[1]=e[1]+2*t,n}function DO(e){return e[0]>0&&e[1]>0}function H8(e,t,n){return n===void 0&&(n=[0,0]),n[0]=e[0]*t+.5|0,n[1]=e[1]*t+.5|0,n}function xs(e,t){return Array.isArray(e)?e:(t===void 0?t=[e,e]:(t[0]=e,t[1]=e),t)}class NS{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=xs(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new NS({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return er()}getImage(t){return er()}getHitDetectionImage(){return er()}getPixelRatio(t){return 1}getImageState(){return er()}getImageSize(){return er()}getOrigin(){return er()}getSize(){return er()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=xs(t)}listenImageChange(t){er()}load(){er()}unlistenImageChange(t){er()}}const Y8=NS,gat=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,mat=/^([a-z]*)$|^hsla?\(.*\)$/i;function W8(e){return typeof e=="string"?e:$8(e)}function vat(e){const t=document.createElement("div");if(t.style.color=e,t.style.color!==""){document.body.appendChild(t);const n=getComputedStyle(t).color;return document.body.removeChild(t),n}return""}const yat=function(){const t={};let n=0;return function(r){let i;if(t.hasOwnProperty(r))i=t[r];else{if(n>=1024){let a=0;for(const s in t)a++&3||(delete t[s],--n)}i=_at(r),t[r]=i,++n}return i}}();function Xx(e){return Array.isArray(e)?e:yat(e)}function _at(e){let t,n,r,i,a;if(mat.exec(e)&&(e=vat(e)),gat.exec(e)){const s=e.length-1;let o;s<=4?o=1:o=2;const l=s===4||s===8;t=parseInt(e.substr(1+0*o,o),16),n=parseInt(e.substr(1+1*o,o),16),r=parseInt(e.substr(1+2*o,o),16),l?i=parseInt(e.substr(1+3*o,o),16):i=255,o==1&&(t=(t<<4)+t,n=(n<<4)+n,r=(r<<4)+r,l&&(i=(i<<4)+i)),a=[t,n,r,i/255]}else e.startsWith("rgba(")?(a=e.slice(5,-1).split(",").map(Number),FO(a)):e.startsWith("rgb(")?(a=e.slice(4,-1).split(",").map(Number),a.push(1),FO(a)):Rr(!1,14);return a}function FO(e){return e[0]=ca(e[0]+.5|0,0,255),e[1]=ca(e[1]+.5|0,0,255),e[2]=ca(e[2]+.5|0,0,255),e[3]=ca(e[3],0,1),e}function $8(e){let t=e[0];t!=(t|0)&&(t=t+.5|0);let n=e[1];n!=(n|0)&&(n=n+.5|0);let r=e[2];r!=(r|0)&&(r=r+.5|0);const i=e[3]===void 0?1:Math.round(e[3]*100)/100;return"rgba("+t+","+n+","+r+","+i+")"}function Ku(e){return Array.isArray(e)?$8(e):e}function Zo(e,t,n,r){let i;return n&&n.length?i=n.shift():wS?i=new OffscreenCanvas(e||300,t||300):i=document.createElement("canvas"),e&&(i.width=e),t&&(i.height=t),i.getContext("2d",r)}function y2(e){const t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function zO(e,t){const n=t.parentNode;n&&n.replaceChild(e,t)}function tE(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function xat(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function bat(e,t){const n=e.childNodes;for(let r=0;;++r){const i=n[r],a=t[r];if(!i&&!a)break;if(i!==a){if(!i){e.appendChild(a);continue}if(!a){e.removeChild(i),--r;continue}e.insertBefore(a,i)}}}const M1="ol-hidden",_2="ol-unselectable",kS="ol-control",BO="ol-collapsed",wat=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),GO=["style","variant","weight","size","lineHeight","family"],q8=function(e){const t=e.match(wat);if(!t)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let r=0,i=GO.length;r<i;++r){const a=t[r+1];a!==void 0&&(n[GO[r]]=a)}return n.families=n.family.split(/,\s?/),n},X8="10px sans-serif",gs="#000",Kx="round",Kc=[],Zc=0,r0="round",Sv=10,Cv="#000",Av="center",Zx="middle",_d=[0,0,0,0],Iv=1,Bc=new vc;let og=null,eE;const nE={},Tat=function(){const t="32px ",n=["monospace","serif"],r=n.length,i="wmytzilWMYTZIL@#/&?$%10";let a,s;function o(f,u,c){let h=!0;for(let d=0;d<r;++d){const p=n[d];if(s=Jx(f+" "+u+" "+t+p,i),c!=p){const g=Jx(f+" "+u+" "+t+c+","+p,i);h=h&&g!=s}}return!!h}function l(){let f=!0;const u=Bc.getKeys();for(let c=0,h=u.length;c<h;++c){const d=u[c];Bc.get(d)<100&&(o.apply(this,d.split(`
`))?(By(nE),og=null,eE=void 0,Bc.set(d,100)):(Bc.set(d,Bc.get(d)+1,!0),f=!1))}f&&(clearInterval(a),a=void 0)}return function(f){const u=q8(f);if(!u)return;const c=u.families;for(let h=0,d=c.length;h<d;++h){const p=c[h],g=u.style+`
`+u.weight+`
`+p;Bc.get(g)===void 0&&(Bc.set(g,100,!0),o(u.style,u.weight,p)||(Bc.set(g,0,!0),a===void 0&&(a=setInterval(l,32))))}}}(),Eat=function(){let e;return function(t){let n=nE[t];if(n==null){if(wS){const r=q8(t),i=K8(t,"Žg");n=(isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else e||(e=document.createElement("div"),e.innerHTML="M",e.style.minHeight="0",e.style.maxHeight="none",e.style.height="auto",e.style.padding="0",e.style.border="none",e.style.position="absolute",e.style.display="block",e.style.left="-99999px"),e.style.font=t,document.body.appendChild(e),n=e.offsetHeight,document.body.removeChild(e);nE[t]=n}return n}}();function K8(e,t){return og||(og=Zo(1,1)),e!=eE&&(og.font=e,eE=og.font),og.measureText(t)}function Jx(e,t){return K8(e,t).width}function jO(e,t,n){if(t in n)return n[t];const r=t.split(`
`).reduce((i,a)=>Math.max(i,Jx(e,a)),0);return n[t]=r,r}function Mat(e,t){const n=[],r=[],i=[];let a=0,s=0,o=0,l=0;for(let f=0,u=t.length;f<=u;f+=2){const c=t[f];if(c===`
`||f===u){a=Math.max(a,s),i.push(s),s=0,o+=l;continue}const h=t[f+1]||e.font,d=Jx(h,c);n.push(d),s+=d;const p=Eat(h);r.push(p),l=Math.max(l,p)}return{width:a,height:o,widths:n,heights:r,lineWidths:i}}function Sat(e,t,n,r,i,a,s,o,l,f,u){e.save(),n!==1&&(e.globalAlpha*=n),t&&e.setTransform.apply(e,t),r.contextInstructions?(e.translate(l,f),e.scale(u[0],u[1]),Cat(r,e)):u[0]<0||u[1]<0?(e.translate(l,f),e.scale(u[0],u[1]),e.drawImage(r,i,a,s,o,0,0,s,o)):e.drawImage(r,i,a,s,o,l,f,s*u[0],o*u[1]),e.restore()}function Cat(e,t){const n=e.contextInstructions;for(let r=0,i=n.length;r<i;r+=2)Array.isArray(n[r+1])?t[n[r]].apply(t,n[r+1]):t[n[r]]=n[r+1]}class DS extends Y8{constructor(t){const n=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:1,rotateWithView:n,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode}),this.canvas_=void 0,this.hitDetectionCanvas_=null,this.fill_=t.fill!==void 0?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=t.radius!==void 0?t.radius:t.radius1,this.radius2_=t.radius2,this.angle_=t.angle!==void 0?t.angle:0,this.stroke_=t.stroke!==void 0?t.stroke:null,this.size_=null,this.renderOptions_=null,this.render()}clone(){const t=this.getScale(),n=new DS({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const t=this.size_;if(!t)return null;const n=this.getDisplacement(),r=this.getScaleArray();return[t[0]/2-n[0]/r[0],t[1]/2+n[1]/r[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}getImage(t){let n=this.canvas_[t];if(!n){const r=this.renderOptions_,i=Zo(r.size*t,r.size*t);this.draw_(r,i,t),n=i.canvas,this.canvas_[t]=n}return n}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return la.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,n,r){if(n===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return n;let i=this.radius_,a=this.radius2_===void 0?i:this.radius2_;if(i<a){const E=i;i=a,a=E}const s=this.radius2_===void 0?this.points_:this.points_*2,o=2*Math.PI/s,l=a*Math.sin(o),f=Math.sqrt(a*a-l*l),u=i-f,c=Math.sqrt(l*l+u*u),h=c/l;if(t==="miter"&&h<=r)return h*n;const d=n/2/h,p=n/2*(u/c),m=Math.sqrt((i+d)*(i+d)+p*p)-i;if(this.radius2_===void 0||t==="bevel")return m*2;const v=i*Math.sin(o),y=Math.sqrt(i*i-v*v),_=a-y,w=Math.sqrt(v*v+_*_)/v;if(w<=r){const E=w*n/2-a-i;return 2*Math.max(m,E)}return m*2}createRenderOptions(){let t=r0,n=0,r=null,i=0,a,s=0;this.stroke_&&(a=this.stroke_.getColor(),a===null&&(a=Cv),a=Ku(a),s=this.stroke_.getWidth(),s===void 0&&(s=Iv),r=this.stroke_.getLineDash(),i=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),t===void 0&&(t=r0),n=this.stroke_.getMiterLimit(),n===void 0&&(n=Sv));const o=this.calculateLineJoinSize_(t,s,n),l=Math.max(this.radius_,this.radius2_||0),f=Math.ceil(2*l+o);return{strokeStyle:a,strokeWidth:s,size:f,lineDash:r,lineDashOffset:i,lineJoin:t,miterLimit:n}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]}draw_(t,n,r){if(n.scale(r,r),n.translate(t.size/2,t.size/2),this.createPath_(n),this.fill_){let i=this.fill_.getColor();i===null&&(i=gs),n.fillStyle=Ku(i),n.fill()}this.stroke_&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}createHitDetectionCanvas_(t){if(this.fill_){let n=this.fill_.getColor(),r=0;if(typeof n=="string"&&(n=Xx(n)),n===null?r=1:Array.isArray(n)&&(r=n.length===4?n[3]:1),r===0){const i=Zo(t.size,t.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(t,i)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(t){let n=this.points_;const r=this.radius_;if(n===1/0)t.arc(0,0,r,0,2*Math.PI);else{const i=this.radius2_===void 0?r:this.radius2_;this.radius2_!==void 0&&(n*=2);const a=this.angle_-Math.PI/2,s=2*Math.PI/n;for(let o=0;o<n;o++){const l=a+o*s,f=o%2===0?r:i;t.lineTo(f*Math.cos(l),f*Math.sin(l))}t.closePath()}}drawHitDetectionCanvas_(t,n){n.translate(t.size/2,t.size/2),this.createPath_(n),n.fillStyle=gs,n.fill(),this.stroke_&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}}const Z8=DS;class FS extends Z8{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:t.scale!==void 0?t.scale:1,rotation:t.rotation!==void 0?t.rotation:0,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),n=new FS({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(t){this.radius_=t,this.render()}}const J8=FS;class x2{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=UO,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new x2({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(n){return n.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=UO,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function Aat(e){let t;if(typeof e=="function")t=e;else{let n;Array.isArray(e)?n=e:(Rr(typeof e.getZIndex=="function",41),n=[e]),t=function(){return n}}return t}let C3=null;function Iat(e,t){if(!C3){const n=new PS({color:"rgba(255,255,255,0.4)"}),r=new V8({color:"#3399CC",width:1.25});C3=[new x2({image:new J8({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return C3}function UO(e){return e.getGeometry()}const rE=x2,Oat="#333";class zS{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=xs(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new PS({color:Oat}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding}clone(){const t=this.getScale();return new zS({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=xs(t!==void 0?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}const Lat=zS,gi={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class Pat extends vc{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const n=Object.assign({},t);typeof t.properties=="object"&&(delete n.properties,Object.assign(n,t.properties)),n[gi.OPACITY]=t.opacity!==void 0?t.opacity:1,Rr(typeof n[gi.OPACITY]=="number",64),n[gi.VISIBLE]=t.visible!==void 0?t.visible:!0,n[gi.Z_INDEX]=t.zIndex,n[gi.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,n[gi.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,n[gi.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,n[gi.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const n=this.state_||{layer:this,managed:t===void 0?!0:t},r=this.getZIndex();return n.opacity=ca(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=r===void 0&&!n.managed?1/0:r,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(t){return er()}getLayerStatesArray(t){return er()}getExtent(){return this.get(gi.EXTENT)}getMaxResolution(){return this.get(gi.MAX_RESOLUTION)}getMinResolution(){return this.get(gi.MIN_RESOLUTION)}getMinZoom(){return this.get(gi.MIN_ZOOM)}getMaxZoom(){return this.get(gi.MAX_ZOOM)}getOpacity(){return this.get(gi.OPACITY)}getSourceState(){return er()}getVisible(){return this.get(gi.VISIBLE)}getZIndex(){return this.get(gi.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(gi.EXTENT,t)}setMaxResolution(t){this.set(gi.MAX_RESOLUTION,t)}setMinResolution(t){this.set(gi.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(gi.MAX_ZOOM,t)}setMinZoom(t){this.set(gi.MIN_ZOOM,t)}setOpacity(t){Rr(typeof t=="number",64),this.set(gi.OPACITY,t)}setVisible(t){this.set(gi.VISIBLE,t)}setZIndex(t){this.set(gi.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const Q8=Pat,Eo={ANIMATING:0,INTERACTING:1},iu={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},Rat=42,BS=256;function VO(e,t,n){return function(r,i,a,s,o){if(!r)return;if(!i&&!t)return r;const l=t?0:a[0]*i,f=t?0:a[1]*i,u=o?o[0]:0,c=o?o[1]:0;let h=e[0]+l/2+u,d=e[2]-l/2+u,p=e[1]+f/2+c,g=e[3]-f/2+c;h>d&&(h=(d+h)/2,d=h),p>g&&(p=(g+p)/2,g=p);let m=ca(r[0],h,d),v=ca(r[1],p,g);if(s&&n&&i){const y=30*i;m+=-y*Math.log(1+Math.max(0,h-r[0])/y)+y*Math.log(1+Math.max(0,r[0]-d)/y),v+=-y*Math.log(1+Math.max(0,p-r[1])/y)+y*Math.log(1+Math.max(0,r[1]-g)/y)}return[m,v]}}function Nat(e){return e}function GS(e,t,n,r){const i=Ei(t)/n[0],a=uc(t)/n[1];return r?Math.min(e,Math.max(i,a)):Math.min(e,Math.min(i,a))}function jS(e,t,n){let r=Math.min(e,t);const i=50;return r*=Math.log(1+i*Math.max(0,e/t-1))/i+1,n&&(r=Math.max(r,n),r/=Math.log(1+i*Math.max(0,n/e-1))/i+1),ca(r,n/2,t*2)}function kat(e,t,n,r){return t=t!==void 0?t:!0,function(i,a,s,o){if(i!==void 0){const l=e[0],f=e[e.length-1],u=n?GS(l,n,s,r):l;if(o)return t?jS(i,u,f):ca(i,f,u);const c=Math.min(u,i),h=Math.floor(xS(e,c,a));return e[h]>u&&h<e.length-1?e[h+1]:e[h]}}}function Dat(e,t,n,r,i,a){return r=r!==void 0?r:!0,n=n!==void 0?n:0,function(s,o,l,f){if(s!==void 0){const u=i?GS(t,i,l,a):t;if(f)return r?jS(s,u,n):ca(s,n,u);const c=1e-9,h=Math.ceil(Math.log(t/u)/Math.log(e)-c),d=-o*(.5-c)+.5,p=Math.min(u,s),g=Math.floor(Math.log(t/p)/Math.log(e)+d),m=Math.max(h,g),v=t/Math.pow(e,m);return ca(v,n,u)}}}function HO(e,t,n,r,i){return n=n!==void 0?n:!0,function(a,s,o,l){if(a!==void 0){const f=r?GS(e,r,o,i):e;return!n||!l?ca(a,t,f):jS(a,f,t)}}}function US(e){if(e!==void 0)return 0}function YO(e){if(e!==void 0)return e}function Fat(e){const t=2*Math.PI/e;return function(n,r){if(r)return n;if(n!==void 0)return n=Math.floor(n/t+.5)*t,n}}function zat(e){return e=e||sx(5),function(t,n){if(n)return t;if(t!==void 0)return Math.abs(t)<=e?0:t}}function t7(e){return Math.pow(e,3)}function B0(e){return 1-t7(1-e)}function Bat(e){return 3*e*e-2*e*e*e}function Gat(e){return e}const A3=0;class jat extends vc{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=hS(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&Hnt(),t.center&&(t.center=zc(t.center,this.projection_)),t.extent&&(t.extent=vd(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const n=Object.assign({},t);for(const o in iu)delete n[o];this.setProperties(n,!0);const r=Vat(t);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=r.minZoom;const i=Uat(t),a=r.constraint,s=Hat(t);this.constraints_={center:i,resolution:a,rotation:s},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let n=this.padding_;this.padding_=t;const r=this.getCenterInternal();if(r){const i=t||[0,0,0,0];n=n||[0,0,0,0];const a=this.getResolution(),s=a/2*(i[3]-n[3]+n[1]-i[1]),o=a/2*(i[0]-n[0]+n[2]-i[2]);this.setCenterInternal([r[0]+s,r[1]-o])}}getUpdatedOptions_(t){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let r=0;r<n.length;++r){let i=arguments[r];i.center&&(i=Object.assign({},i),i.center=zc(i.center,this.getProjection())),i.anchor&&(i=Object.assign({},i),i.anchor=zc(i.anchor,this.getProjection())),n[r]=i}this.animateInternal.apply(this,n)}animateInternal(t){let n=arguments.length,r;n>1&&typeof arguments[n-1]=="function"&&(r=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const u=arguments[i];u.center&&this.setCenterInternal(u.center),u.zoom!==void 0?this.setZoom(u.zoom):u.resolution&&this.setResolution(u.resolution),u.rotation!==void 0&&this.setRotation(u.rotation)}if(i===n){r&&S1(r,!0);return}let a=Date.now(),s=this.targetCenter_.slice(),o=this.targetResolution_,l=this.targetRotation_;const f=[];for(;i<n;++i){const u=arguments[i],c={start:a,complete:!1,anchor:u.anchor,duration:u.duration!==void 0?u.duration:1e3,easing:u.easing||Bat,callback:r};if(u.center&&(c.sourceCenter=s,c.targetCenter=u.center.slice(),s=c.targetCenter),u.zoom!==void 0?(c.sourceResolution=o,c.targetResolution=this.getResolutionForZoom(u.zoom),o=c.targetResolution):u.resolution&&(c.sourceResolution=o,c.targetResolution=u.resolution,o=c.targetResolution),u.rotation!==void 0){c.sourceRotation=l;const h=Od(u.rotation-l+Math.PI,2*Math.PI)-Math.PI;c.targetRotation=l+h,l=c.targetRotation}Yat(c)?c.complete=!0:a+=c.duration,f.push(c)}this.animations_.push(f),this.setHint(Eo.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Eo.ANIMATING]>0}getInteracting(){return this.hints_[Eo.INTERACTING]>0}cancelAnimations(){this.setHint(Eo.ANIMATING,-this.hints_[Eo.ANIMATING]);let t;for(let n=0,r=this.animations_.length;n<r;++n){const i=this.animations_[n];if(i[0].callback&&S1(i[0].callback,!1),!t)for(let a=0,s=i.length;a<s;++a){const o=i[a];if(!o.complete){t=o.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let n=!1;for(let r=this.animations_.length-1;r>=0;--r){const i=this.animations_[r];let a=!0;for(let s=0,o=i.length;s<o;++s){const l=i[s];if(l.complete)continue;const f=t-l.start;let u=l.duration>0?f/l.duration:1;u>=1?(l.complete=!0,u=1):a=!1;const c=l.easing(u);if(l.sourceCenter){const h=l.sourceCenter[0],d=l.sourceCenter[1],p=l.targetCenter[0],g=l.targetCenter[1];this.nextCenter_=l.targetCenter;const m=h+c*(p-h),v=d+c*(g-d);this.targetCenter_=[m,v]}if(l.sourceResolution&&l.targetResolution){const h=c===1?l.targetResolution:l.sourceResolution+c*(l.targetResolution-l.sourceResolution);if(l.anchor){const d=this.getViewportSize_(this.getRotation()),p=this.constraints_.resolution(h,0,d,!0);this.targetCenter_=this.calculateCenterZoom(p,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=h,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){const h=c===1?Od(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+c*(l.targetRotation-l.sourceRotation);if(l.anchor){const d=this.constraints_.rotation(h,!0);this.targetCenter_=this.calculateCenterRotate(d,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=h}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(a){this.animations_[r]=null,this.setHint(Eo.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const s=i[0].callback;s&&S1(s,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,n){let r;const i=this.getCenterInternal();return i!==void 0&&(r=[i[0]-n[0],i[1]-n[1]],cS(r,t-this.getRotation()),Gnt(r,n)),r}calculateCenterZoom(t,n){let r;const i=this.getCenterInternal(),a=this.getResolution();if(i!==void 0&&a!==void 0){const s=n[0]-t*(n[0]-i[0])/a,o=n[1]-t*(n[1]-i[1])/a;r=[s,o]}return r}getViewportSize_(t){const n=this.viewportSize_;if(t){const r=n[0],i=n[1];return[Math.abs(r*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(r*Math.sin(t))+Math.abs(i*Math.cos(t))]}return n}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t&&jT(t,this.getProjection())}getCenterInternal(){return this.get(iu.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const n=this.calculateExtentInternal(t);return ZN(n,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();Rr(n,1);const r=this.getResolution();Rr(r!==void 0,2);const i=this.getRotation();return Rr(i!==void 0,3),FT(n,r,i,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(iu.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,n){return this.getResolutionForExtentInternal(vd(t,this.getProjection()),n)}getResolutionForExtentInternal(t,n){n=n||this.getViewportSizeMinusPadding_();const r=Ei(t)/n[0],i=uc(t)/n[1];return Math.max(r,i)}getResolutionForValueFunction(t){t=t||2;const n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/Math.log(t);return function(a){return n/Math.pow(t,a*i)}}getRotation(){return this.get(iu.ROTATION)}getValueForResolutionFunction(t){const n=Math.log(t||2),r=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,a=Math.log(r/i)/n;return function(s){return Math.log(r/s)/n/a}}getViewportSizeMinusPadding_(t){let n=this.getViewportSize_(t);const r=this.padding_;return r&&(n=[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n}getState(){const t=this.getProjection(),n=this.getResolution(),r=this.getRotation();let i=this.getCenterInternal();const a=this.padding_;if(a){const s=this.getViewportSizeMinusPadding_();i=I3(i,this.getViewportSize_(),[s[0]/2+a[3],s[1]/2+a[0]],n,r)}return{center:i.slice(0),projection:t!==void 0?t:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const n=this.getResolution();return n!==void 0&&(t=this.getZoomForResolution(n)),t}getZoomForResolution(t){let n=this.minZoom_||0,r,i;if(this.resolutions_){const a=xS(this.resolutions_,t,1);n=a,r=this.resolutions_[a],a==this.resolutions_.length-1?i=2:i=r/this.resolutions_[a+1]}else r=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(r/t)/Math.log(i)}getResolutionForZoom(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const n=ca(Math.floor(t),0,this.resolutions_.length-2),r=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(r,ca(t-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,n){let r;if(Rr(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function",24),Array.isArray(t)){Rr(!Gy(t),25);const i=vd(t,this.getProjection());r=NO(i)}else if(t.getType()==="Circle"){const i=vd(t.getExtent(),this.getProjection());r=NO(i),r.rotate(this.getRotation(),Ud(i))}else r=t;this.fitInternal(r,n)}rotatedExtentForGeometry(t){const n=this.getRotation(),r=Math.cos(n),i=Math.sin(-n),a=t.getFlatCoordinates(),s=t.getStride();let o=1/0,l=1/0,f=-1/0,u=-1/0;for(let c=0,h=a.length;c<h;c+=s){const d=a[c]*r-a[c+1]*i,p=a[c]*i+a[c+1]*r;o=Math.min(o,d),l=Math.min(l,p),f=Math.max(f,d),u=Math.max(u,p)}return[o,l,f,u]}fitInternal(t,n){n=n||{};let r=n.size;r||(r=this.getViewportSizeMinusPadding_());const i=n.padding!==void 0?n.padding:[0,0,0,0],a=n.nearest!==void 0?n.nearest:!1;let s;n.minResolution!==void 0?s=n.minResolution:n.maxZoom!==void 0?s=this.getResolutionForZoom(n.maxZoom):s=0;const o=this.rotatedExtentForGeometry(t);let l=this.getResolutionForExtentInternal(o,[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]);l=isNaN(l)?s:Math.max(l,s),l=this.getConstrainedResolution(l,a?0:1);const f=this.getRotation(),u=Math.sin(f),c=Math.cos(f),h=Ud(o);h[0]+=(i[1]-i[3])/2*l,h[1]+=(i[0]-i[2])/2*l;const d=h[0]*c-h[1]*u,p=h[1]*c+h[0]*u,g=this.getConstrainedCenter([d,p],l),m=n.callback?n.callback:n0;n.duration!==void 0?this.animateInternal({resolution:l,center:g,duration:n.duration,easing:n.easing},m):(this.targetResolution_=l,this.targetCenter_=g,this.applyTargetState_(!1,!0),S1(m,!0))}centerOn(t,n,r){this.centerOnInternal(zc(t,this.getProjection()),n,r)}centerOnInternal(t,n,r){this.setCenterInternal(I3(t,n,r,this.getResolution(),this.getRotation()))}calculateCenterShift(t,n,r,i){let a;const s=this.padding_;if(s&&t){const o=this.getViewportSizeMinusPadding_(-r),l=I3(t,i,[o[0]/2+s[3],o[1]/2+s[0]],n,r);a=[t[0]-l[0],t[1]-l[1]]}return a}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(t){const n=jT(this.targetCenter_,this.getProjection());this.setCenter([n[0]+t[0],n[1]+t[1]])}adjustCenterInternal(t){const n=this.targetCenter_;this.setCenterInternal([n[0]+t[0],n[1]+t[1]])}adjustResolution(t,n){n=n&&zc(n,this.getProjection()),this.adjustResolutionInternal(t,n)}adjustResolutionInternal(t,n){const r=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),a=this.constraints_.resolution(this.targetResolution_*t,0,i,r);n&&(this.targetCenter_=this.calculateCenterZoom(a,n)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,n){this.adjustResolution(Math.pow(this.zoomFactor_,-t),n)}adjustRotation(t,n){n&&(n=zc(n,this.getProjection())),this.adjustRotationInternal(t,n)}adjustRotationInternal(t,n){const r=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,r);n&&(this.targetCenter_=this.calculateCenterRotate(i,n)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&zc(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,n){return this.hints_[t]+=n,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,n){const r=this.getAnimating()||this.getInteracting()||n,i=this.constraints_.rotation(this.targetRotation_,r),a=this.getViewportSize_(i),s=this.constraints_.resolution(this.targetResolution_,0,a,r),o=this.constraints_.center(this.targetCenter_,s,a,r,this.calculateCenterShift(this.targetCenter_,s,i,a));this.get(iu.ROTATION)!==i&&this.set(iu.ROTATION,i),this.get(iu.RESOLUTION)!==s&&(this.set(iu.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!o||!this.get(iu.CENTER)||!Hx(this.get(iu.CENTER),o))&&this.set(iu.CENTER,o),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,n,r){t=t!==void 0?t:200;const i=n||0,a=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(a),o=this.constraints_.resolution(this.targetResolution_,i,s),l=this.constraints_.center(this.targetCenter_,o,s,!1,this.calculateCenterShift(this.targetCenter_,o,a,s));if(t===0&&!this.cancelAnchor_){this.targetResolution_=o,this.targetRotation_=a,this.targetCenter_=l,this.applyTargetState_();return}r=r||(t===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==o||this.getRotation()!==a||!this.getCenterInternal()||!Hx(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:a,center:l,resolution:o,duration:t,easing:B0,anchor:r}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Eo.INTERACTING,1)}endInteraction(t,n,r){r=r&&zc(r,this.getProjection()),this.endInteractionInternal(t,n,r)}endInteractionInternal(t,n,r){this.getInteracting()&&(this.setHint(Eo.INTERACTING,-1),this.resolveConstraints(t,n,r))}getConstrainedCenter(t,n){const r=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,n||this.getResolution(),r)}getConstrainedZoom(t,n){const r=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(r,n))}getConstrainedResolution(t,n){n=n||0;const r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,r)}}function S1(e,t){setTimeout(function(){e(t)},0)}function Uat(e){if(e.extent!==void 0){const n=e.smoothExtentConstraint!==void 0?e.smoothExtentConstraint:!0;return VO(e.extent,e.constrainOnlyCenter,n)}const t=hS(e.projection,"EPSG:3857");if(e.multiWorld!==!0&&t.isGlobal()){const n=t.getExtent().slice();return n[0]=-1/0,n[2]=1/0,VO(n,!1,!1)}return Nat}function Vat(e){let t,n,r,s=e.minZoom!==void 0?e.minZoom:A3,o=e.maxZoom!==void 0?e.maxZoom:28;const l=e.zoomFactor!==void 0?e.zoomFactor:2,f=e.multiWorld!==void 0?e.multiWorld:!1,u=e.smoothResolutionConstraint!==void 0?e.smoothResolutionConstraint:!0,c=e.showFullExtent!==void 0?e.showFullExtent:!1,h=hS(e.projection,"EPSG:3857"),d=h.getExtent();let p=e.constrainOnlyCenter,g=e.extent;if(!f&&!g&&h.isGlobal()&&(p=!1,g=d),e.resolutions!==void 0){const m=e.resolutions;n=m[s],r=m[o]!==void 0?m[o]:m[m.length-1],e.constrainResolution?t=kat(m,u,!p&&g,c):t=HO(n,r,u,!p&&g,c)}else{const v=(d?Math.max(Ei(d),uc(d)):360*vv.degrees/h.getMetersPerUnit())/BS/Math.pow(2,A3),y=v/Math.pow(2,28-A3);n=e.maxResolution,n!==void 0?s=0:n=v/Math.pow(l,s),r=e.minResolution,r===void 0&&(e.maxZoom!==void 0?e.maxResolution!==void 0?r=n/Math.pow(l,o):r=v/Math.pow(l,o):r=y),o=s+Math.floor(Math.log(n/r)/Math.log(l)),r=n/Math.pow(l,o-s),e.constrainResolution?t=Dat(l,n,r,u,!p&&g,c):t=HO(n,r,u,!p&&g,c)}return{constraint:t,maxResolution:n,minResolution:r,minZoom:s,zoomFactor:l}}function Hat(e){if(e.enableRotation!==void 0?e.enableRotation:!0){const n=e.constrainRotation;return n===void 0||n===!0?zat():n===!1?YO:typeof n=="number"?Fat(n):YO}return US}function Yat(e){return!(e.sourceCenter&&e.targetCenter&&!Hx(e.sourceCenter,e.targetCenter)||e.sourceResolution!==e.targetResolution||e.sourceRotation!==e.targetRotation)}function I3(e,t,n,r,i){const a=Math.cos(-i);let s=Math.sin(-i),o=e[0]*a-e[1]*s,l=e[1]*a+e[0]*s;o+=(t[0]/2-n[0])*r,l+=(n[1]-t[1]/2)*r,s=-s;const f=o*a-l*s,u=l*a+o*s;return[f,u]}const Uc=jat;class Wat extends Q8{constructor(t){const n=Object.assign({},t);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(gi.SOURCE,this.handleSourcePropertyChange_);const r=t.source?t.source:null;this.setSource(r)}getLayersArray(t){return t=t||[],t.push(this),t}getLayerStatesArray(t){return t=t||[],t.push(this.getLayerState()),t}getSource(){return this.get(gi.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Fi(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=Jr(t,Sr.CHANGE,this.handleSourceChange_,this),t.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)}isVisible(t){let n;const r=this.getMapInternal();!t&&r&&(t=r.getView()),t instanceof Uc?n={viewState:t.getState(),extent:t.calculateExtent()}:n=t,!n.layerStatesArray&&r&&(n.layerStatesArray=r.getLayerGroup().getLayerStatesArray());let i;n.layerStatesArray?i=n.layerStatesArray.find(s=>s.layer===this):i=this.getLayerState();const a=this.getExtent();return VS(i,n.viewState)&&(!a||vs(a,n.extent))}getAttributions(t){if(!this.isVisible(t))return[];let n;const r=this.getSource();if(r&&(n=r.getAttributions()),!n)return[];const i=t instanceof Uc?t.getViewStateAndExtent():t;let a=n(i);return Array.isArray(a)||(a=[a]),a}render(t,n){const r=this.getRenderer();return r.prepareFrame(t)?(this.rendered=!0,r.renderFrame(t,n)):null}unrender(){this.rendered=!1}setMapInternal(t){t||this.unrender(),this.set(gi.MAP,t)}getMapInternal(){return this.get(gi.MAP)}setMap(t){this.mapPrecomposeKey_&&(Fi(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Fi(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Jr(t,ic.PRECOMPOSE,function(n){const i=n.frameState.layerStatesArray,a=this.getLayerState(!1);Rr(!i.some(function(s){return s.layer===a.layer}),67),i.push(a)},this),this.mapRenderKey_=Jr(this,Sr.CHANGE,t.render,t),this.changed())}setSource(t){this.set(gi.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function VS(e,t){if(!e.visible)return!1;const n=t.resolution;if(n<e.minResolution||n>=e.maxResolution)return!1;const r=t.zoom;return r>e.minZoom&&r<=e.maxZoom}const b2=Wat;function $at(e,t,n,r,i){e7(e,t,n||0,r||e.length-1,i||qat)}function e7(e,t,n,r,i){for(;r>n;){if(r-n>600){var a=r-n+1,s=t-n+1,o=Math.log(a),l=.5*Math.exp(2*o/3),f=.5*Math.sqrt(o*l*(a-l)/a)*(s-a/2<0?-1:1),u=Math.max(n,Math.floor(t-s*l/a+f)),c=Math.min(r,Math.floor(t+(a-s)*l/a+f));e7(e,t,u,c,i)}var h=e[t],d=n,p=r;for(bm(e,n,t),i(e[r],h)>0&&bm(e,n,r);d<p;){for(bm(e,d,p),d++,p--;i(e[d],h)<0;)d++;for(;i(e[p],h)>0;)p--}i(e[n],h)===0?bm(e,n,p):(p++,bm(e,p,r)),p<=t&&(n=p+1),t<=p&&(r=p-1)}}function bm(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function qat(e,t){return e<t?-1:e>t?1:0}let n7=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let n=this.data;const r=[];if(!A1(t,n))return r;const i=this.toBBox,a=[];for(;n;){for(let s=0;s<n.children.length;s++){const o=n.children[s],l=n.leaf?i(o):o;A1(t,l)&&(n.leaf?r.push(o):L3(t,l)?this._all(o,r):a.push(o))}n=a.pop()}return r}collides(t){let n=this.data;if(!A1(t,n))return!1;const r=[];for(;n;){for(let i=0;i<n.children.length;i++){const a=n.children[i],s=n.leaf?this.toBBox(a):a;if(A1(t,s)){if(n.leaf||L3(t,s))return!0;r.push(a)}}n=r.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let r=0;r<t.length;r++)this.insert(t[r]);return this}let n=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=sg([]),this}remove(t,n){if(!t)return this;let r=this.data;const i=this.toBBox(t),a=[],s=[];let o,l,f;for(;r||a.length;){if(r||(r=a.pop(),l=a[a.length-1],o=s.pop(),f=!0),r.leaf){const u=Xat(t,r.children,n);if(u!==-1)return r.children.splice(u,1),a.push(r),this._condense(a),this}!f&&!r.leaf&&L3(r,i)?(a.push(r),s.push(o),o=0,l=r,r=r.children[0]):l?(o++,r=l.children[o],f=!1):r=null}return this}toBBox(t){return t}compareMinX(t,n){return t.minX-n.minX}compareMinY(t,n){return t.minY-n.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,n){const r=[];for(;t;)t.leaf?n.push(...t.children):r.push(...t.children),t=r.pop();return n}_build(t,n,r,i){const a=r-n+1;let s=this._maxEntries,o;if(a<=s)return o=sg(t.slice(n,r+1)),$p(o,this.toBBox),o;i||(i=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,i-1))),o=sg([]),o.leaf=!1,o.height=i;const l=Math.ceil(a/s),f=l*Math.ceil(Math.sqrt(s));WO(t,n,r,f,this.compareMinX);for(let u=n;u<=r;u+=f){const c=Math.min(u+f-1,r);WO(t,u,c,l,this.compareMinY);for(let h=u;h<=c;h+=l){const d=Math.min(h+l-1,c);o.children.push(this._build(t,h,d,i-1))}}return $p(o,this.toBBox),o}_chooseSubtree(t,n,r,i){for(;i.push(n),!(n.leaf||i.length-1===r);){let a=1/0,s=1/0,o;for(let l=0;l<n.children.length;l++){const f=n.children[l],u=O3(f),c=Jat(t,f)-u;c<s?(s=c,a=u<a?u:a,o=f):c===s&&u<a&&(a=u,o=f)}n=o||n.children[0]}return n}_insert(t,n,r){const i=r?t:this.toBBox(t),a=[],s=this._chooseSubtree(i,this.data,n,a);for(s.children.push(t),Nm(s,i);n>=0&&a[n].children.length>this._maxEntries;)this._split(a,n),n--;this._adjustParentBBoxes(i,a,n)}_split(t,n){const r=t[n],i=r.children.length,a=this._minEntries;this._chooseSplitAxis(r,a,i);const s=this._chooseSplitIndex(r,a,i),o=sg(r.children.splice(s,r.children.length-s));o.height=r.height,o.leaf=r.leaf,$p(r,this.toBBox),$p(o,this.toBBox),n?t[n-1].children.push(o):this._splitRoot(r,o)}_splitRoot(t,n){this.data=sg([t,n]),this.data.height=t.height+1,this.data.leaf=!1,$p(this.data,this.toBBox)}_chooseSplitIndex(t,n,r){let i,a=1/0,s=1/0;for(let o=n;o<=r-n;o++){const l=Rm(t,0,o,this.toBBox),f=Rm(t,o,r,this.toBBox),u=Qat(l,f),c=O3(l)+O3(f);u<a?(a=u,i=o,s=c<s?c:s):u===a&&c<s&&(s=c,i=o)}return i||r-n}_chooseSplitAxis(t,n,r){const i=t.leaf?this.compareMinX:Kat,a=t.leaf?this.compareMinY:Zat,s=this._allDistMargin(t,n,r,i),o=this._allDistMargin(t,n,r,a);s<o&&t.children.sort(i)}_allDistMargin(t,n,r,i){t.children.sort(i);const a=this.toBBox,s=Rm(t,0,n,a),o=Rm(t,r-n,r,a);let l=C1(s)+C1(o);for(let f=n;f<r-n;f++){const u=t.children[f];Nm(s,t.leaf?a(u):u),l+=C1(s)}for(let f=r-n-1;f>=n;f--){const u=t.children[f];Nm(o,t.leaf?a(u):u),l+=C1(o)}return l}_adjustParentBBoxes(t,n,r){for(let i=r;i>=0;i--)Nm(n[i],t)}_condense(t){for(let n=t.length-1,r;n>=0;n--)t[n].children.length===0?n>0?(r=t[n-1].children,r.splice(r.indexOf(t[n]),1)):this.clear():$p(t[n],this.toBBox)}};function Xat(e,t,n){if(!n)return t.indexOf(e);for(let r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function $p(e,t){Rm(e,0,e.children.length,t,e)}function Rm(e,t,n,r,i){i||(i=sg(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let a=t;a<n;a++){const s=e.children[a];Nm(i,e.leaf?r(s):s)}return i}function Nm(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function Kat(e,t){return e.minX-t.minX}function Zat(e,t){return e.minY-t.minY}function O3(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function C1(e){return e.maxX-e.minX+(e.maxY-e.minY)}function Jat(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function Qat(e,t){const n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),a=Math.min(e.maxY,t.maxY);return Math.max(0,i-n)*Math.max(0,a-r)}function L3(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function A1(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function sg(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function WO(e,t,n,r,i){const a=[t,n];for(;a.length;){if(n=a.pop(),t=a.pop(),n-t<=r)continue;const s=t+Math.ceil((n-t)/r/2)*r;$at(e,s,t,n,i),a.push(t,s,s,n)}}class tot{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const n in this.cache_){const r=this.cache_[n];!(t++&3)&&!r.hasListener()&&(delete this.cache_[n],--this.cacheSize_)}}}get(t,n,r){const i=$O(t,n,r);return i in this.cache_?this.cache_[i]:null}set(t,n,r,i){const a=$O(t,n,r);this.cache_[a]=i,++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function $O(e,t,n){const r=n?W8(n):"null";return t+":"+e+":"+r}const Qx=new tot;function r7(e,t,n){const r=e;let i=!0,a=!1,s=!1;const o=[$x(r,Sr.LOAD,function(){s=!0,a||t()})];return r.src&&Bit?(a=!0,r.decode().then(function(){i&&t()}).catch(function(l){i&&(s?t():n())})):o.push($x(r,Sr.ERROR,n)),function(){i=!1,o.forEach(Fi)}}let wm=null;class eot extends p2{constructor(t,n,r,i,a,s){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=i,this.canvas_={},this.color_=s,this.unlisten_=null,this.imageState_=a,this.size_=r,this.src_=n,this.tainted_}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===la.LOADED){wm||(wm=Zo(1,1,void 0,{willReadFrequently:!0})),wm.drawImage(this.image_,0,0);try{wm.getImageData(0,0,1,1),this.tainted_=!1}catch{wm=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Sr.CHANGE)}handleImageError_(){this.imageState_=la.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=la.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],n=this.size_[1],r=Zo(t,n);r.fillRect(0,0,t,n),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===la.IDLE){this.image_||this.initializeImage_(),this.imageState_=la.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=r7(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==la.LOADED)return;const n=this.image_,r=document.createElement("canvas");r.width=Math.ceil(n.width*t),r.height=Math.ceil(n.height*t);const i=r.getContext("2d");i.scale(t,t),i.drawImage(n,0,0),i.globalCompositeOperation="multiply",i.fillStyle=W8(this.color_),i.fillRect(0,0,r.width/t,r.height/t),i.globalCompositeOperation="destination-in",i.drawImage(n,0,0),this.canvas_[t]=r}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function not(e,t,n,r,i,a){let s=Qx.get(t,r,a);return s||(s=new eot(e,t,n,r,i,a),Qx.set(t,r,a,s)),s}function qO(e,t,n,r){return n!==void 0&&r!==void 0?[n/e,r/t]:n!==void 0?n/e:r!==void 0?r/t:1}class HS extends Y8{constructor(t){t=t||{};const n=t.opacity!==void 0?t.opacity:1,r=t.rotation!==void 0?t.rotation:0,i=t.scale!==void 0?t.scale:1,a=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:n,rotation:r,scale:i,displacement:t.displacement!==void 0?t.displacement:[0,0],rotateWithView:a,declutterMode:t.declutterMode}),this.anchor_=t.anchor!==void 0?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin!==void 0?t.anchorOrigin:"top-left",this.anchorXUnits_=t.anchorXUnits!==void 0?t.anchorXUnits:"fraction",this.anchorYUnits_=t.anchorYUnits!==void 0?t.anchorYUnits:"fraction",this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;const s=t.img!==void 0?t.img:null;this.imgSize_=t.imgSize;let o=t.src;Rr(!(o!==void 0&&s),4),Rr(!s||s&&this.imgSize_,5),(o===void 0||o.length===0)&&s&&(o=s.src||si(s)),Rr(o!==void 0&&o.length>0,6),Rr(!((t.width!==void 0||t.height!==void 0)&&t.scale!==void 0),69);const l=t.src!==void 0?la.IDLE:la.LOADED;if(this.color_=t.color!==void 0?Xx(t.color):null,this.iconImage_=not(s,o,this.imgSize_!==void 0?this.imgSize_:null,this.crossOrigin_,l,this.color_),this.offset_=t.offset!==void 0?t.offset:[0,0],this.offsetOrigin_=t.offsetOrigin!==void 0?t.offsetOrigin:"top-left",this.origin_=null,this.size_=t.size!==void 0?t.size:null,t.width!==void 0||t.height!==void 0){let f,u;if(t.size)[f,u]=t.size;else{const c=this.getImage(1);if(c instanceof HTMLCanvasElement||c.src&&c.complete)f=c.width,u=c.height;else{this.initialOptions_=t;const h=()=>{if(this.unlistenImageChange(h),!this.initialOptions_)return;const d=this.iconImage_.getSize();this.setScale(qO(d[0],d[1],t.width,t.height))};this.listenImageChange(h);return}}f!==void 0&&this.setScale(qO(f,u,t.width,t.height))}}clone(){let t,n,r;return this.initialOptions_?(n=this.initialOptions_.width,r=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new HS({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:n,height:r,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const i=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!i)return null;t=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(t[0]*=i[0]),this.anchorYUnits_=="fraction"&&(t[1]*=i[1])}if(this.anchorOrigin_!="top-left"){if(!i)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(t[0]=-t[0]+i[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(t[1]=-t[1]+i[1])}this.normalizedAnchor_=t}const n=this.getDisplacement(),r=this.getScaleArray();return[t[0]-n[0]/r[0],t[1]+n[1]/r[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),r=this.iconImage_.getSize();if(!n||!r)return null;t=t.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(t[0]=r[0]-n[0]-t[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(t[1]=r[1]-n[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();if(this.size_)return this.size_[0]*t[0];if(this.iconImage_.getImageState()==la.LOADED)return this.iconImage_.getSize()[0]*t[0]}getHeight(){const t=this.getScaleArray();if(this.size_)return this.size_[1]*t[1];if(this.iconImage_.getImageState()==la.LOADED)return this.iconImage_.getSize()[1]*t[1]}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(Sr.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(Sr.CHANGE,t)}}const i7=HS;function XO(e){return new rE({fill:Ov(e,""),stroke:Lv(e,""),text:rot(e),image:iot(e)})}function Ov(e,t){const n=e[t+"fill-color"];if(n)return n==="none"?null:new PS({color:n})}function Lv(e,t){const n=e[t+"stroke-width"],r=e[t+"stroke-color"];if(!(!n&&!r))return new V8({width:n,color:r,lineCap:e[t+"stroke-line-cap"],lineJoin:e[t+"stroke-line-join"],lineDash:e[t+"stroke-line-dash"],lineDashOffset:e[t+"stroke-line-dash-offset"],miterLimit:e[t+"stroke-miter-limit"]})}function rot(e){const t=e["text-value"];return t?new Lat({text:t,font:e["text-font"],maxAngle:e["text-max-angle"],offsetX:e["text-offset-x"],offsetY:e["text-offset-y"],overflow:e["text-overflow"],placement:e["text-placement"],repeat:e["text-repeat"],scale:e["text-scale"],rotateWithView:e["text-rotate-with-view"],rotation:e["text-rotation"],textAlign:e["text-align"],justify:e["text-justify"],textBaseline:e["text-baseline"],padding:e["text-padding"],fill:Ov(e,"text-"),backgroundFill:Ov(e,"text-background-"),stroke:Lv(e,"text-"),backgroundStroke:Lv(e,"text-background-")}):void 0}function iot(e){const t=e["icon-src"],n=e["icon-img"];if(t||n)return new i7({src:t,img:n,imgSize:e["icon-img-size"],anchor:e["icon-anchor"],anchorOrigin:e["icon-anchor-origin"],anchorXUnits:e["icon-anchor-x-units"],anchorYUnits:e["icon-anchor-y-units"],color:e["icon-color"],crossOrigin:e["icon-cross-origin"],offset:e["icon-offset"],displacement:e["icon-displacement"],opacity:e["icon-opacity"],scale:e["icon-scale"],width:e["icon-width"],height:e["icon-height"],rotation:e["icon-rotation"],rotateWithView:e["icon-rotate-with-view"],size:e["icon-size"],declutterMode:e["icon-declutter-mode"]});const r=e["shape-points"];if(r){const a="shape-";return new Z8({points:r,fill:Ov(e,a),stroke:Lv(e,a),radius:e["shape-radius"],radius1:e["shape-radius1"],radius2:e["shape-radius2"],angle:e["shape-angle"],displacement:e["shape-displacement"],rotation:e["shape-rotation"],rotateWithView:e["shape-rotate-with-view"],scale:e["shape-scale"],declutterMode:e["shape-declutter-mode"]})}const i=e["circle-radius"];if(i){const a="circle-";return new J8({radius:i,fill:Ov(e,a),stroke:Lv(e,a),displacement:e["circle-displacement"],scale:e["circle-scale"],rotation:e["circle-rotation"],rotateWithView:e["circle-rotate-with-view"],declutterMode:e["circle-declutter-mode"]})}}const KO={RENDER_ORDER:"renderOrder"};class aot extends b2{constructor(t){t=t||{};const n=Object.assign({},t);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=t.declutter!==void 0?t.declutter:!1,this.renderBuffer_=t.renderBuffer!==void 0?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0?t.updateWhileAnimating:!1,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(KO.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t){t.declutterTree||(t.declutterTree=new n7(9)),this.getRenderer().renderDeclutter(t)}setRenderOrder(t){this.set(KO.RENDER_ORDER,t)}setStyle(t){let n;if(t===void 0)n=Iat;else if(t===null)n=null;else if(typeof t=="function")n=t;else if(t instanceof rE)n=t;else if(Array.isArray(t)){const r=t.length,i=new Array(r);for(let a=0;a<r;++a){const s=t[a];s instanceof rE?i[a]=s:i[a]=XO(s)}n=i}else n=XO(t);this.style_=n,this.styleFunction_=t===null?void 0:Aat(this.style_),this.changed()}}const oot=aot,jy={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},I1=[jy.FILL],eh=[jy.STROKE],xd=[jy.BEGIN_PATH],ZO=[jy.CLOSE_PATH],dr=jy;class sot{drawCustom(t,n,r,i){}drawGeometry(t){}setStyle(t){}drawCircle(t,n){}drawFeature(t,n){}drawGeometryCollection(t,n){}drawLineString(t,n){}drawMultiLineString(t,n){}drawMultiPoint(t,n){}drawMultiPolygon(t,n){}drawPoint(t,n){}drawPolygon(t,n){}drawText(t,n){}setFillStrokeStyle(t,n){}setImageStyle(t,n){}setTextStyle(t,n){}}const a7=sot;class lot extends a7{constructor(t,n,r,i){super(),this.tolerance=t,this.maxExtent=n,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=r,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const n=this.pixelRatio;return n==1?t:t.map(function(r){return r*n})}appendFlatPointCoordinates(t,n){const r=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,a=this.coordinates;let s=a.length;for(let o=0,l=t.length;o<l;o+=n)i[0]=t[o],i[1]=t[o+1],s2(r,i)&&(a[s++]=i[0],a[s++]=i[1]);return s}appendFlatLineCoordinates(t,n,r,i,a,s){const o=this.coordinates;let l=o.length;const f=this.getBufferedMaxExtent();s&&(n+=i);let u=t[n],c=t[n+1];const h=this.tmpCoordinate_;let d=!0,p,g,m;for(p=n+i;p<r;p+=i)h[0]=t[p],h[1]=t[p+1],m=kT(f,h),m!==g?(d&&(o[l++]=u,o[l++]=c,d=!1),o[l++]=h[0],o[l++]=h[1]):m===qa.INTERSECTING?(o[l++]=h[0],o[l++]=h[1],d=!1):d=!0,u=h[0],c=h[1],g=m;return(a&&d||p===n+i)&&(o[l++]=u,o[l++]=c),l}drawCustomCoordinates_(t,n,r,i,a){for(let s=0,o=r.length;s<o;++s){const l=r[s],f=this.appendFlatLineCoordinates(t,n,l,i,!1,!1);a.push(f),n=l}return n}drawCustom(t,n,r,i){this.beginGeometry(t,n);const a=t.getType(),s=t.getStride(),o=this.coordinates.length;let l,f,u,c,h;switch(a){case"MultiPolygon":l=t.getOrientedFlatCoordinates(),c=[];const d=t.getEndss();h=0;for(let p=0,g=d.length;p<g;++p){const m=[];h=this.drawCustomCoordinates_(l,h,d[p],s,m),c.push(m)}this.instructions.push([dr.CUSTOM,o,c,t,r,qT]),this.hitDetectionInstructions.push([dr.CUSTOM,o,c,t,i||r,qT]);break;case"Polygon":case"MultiLineString":u=[],l=a=="Polygon"?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),h=this.drawCustomCoordinates_(l,0,t.getEnds(),s,u),this.instructions.push([dr.CUSTOM,o,u,t,r,Tv]),this.hitDetectionInstructions.push([dr.CUSTOM,o,u,t,i||r,Tv]);break;case"LineString":case"Circle":l=t.getFlatCoordinates(),f=this.appendFlatLineCoordinates(l,0,l.length,s,!1,!1),this.instructions.push([dr.CUSTOM,o,f,t,r,th]),this.hitDetectionInstructions.push([dr.CUSTOM,o,f,t,i||r,th]);break;case"MultiPoint":l=t.getFlatCoordinates(),f=this.appendFlatPointCoordinates(l,s),f>o&&(this.instructions.push([dr.CUSTOM,o,f,t,r,th]),this.hitDetectionInstructions.push([dr.CUSTOM,o,f,t,i||r,th]));break;case"Point":l=t.getFlatCoordinates(),this.coordinates.push(l[0],l[1]),f=this.coordinates.length,this.instructions.push([dr.CUSTOM,o,f,t,r]),this.hitDetectionInstructions.push([dr.CUSTOM,o,f,t,i||r]);break}this.endGeometry(n)}beginGeometry(t,n){this.beginGeometryInstruction1_=[dr.BEGIN_GEOMETRY,n,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[dr.BEGIN_GEOMETRY,n,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;t.reverse();let n;const r=t.length;let i,a,s=-1;for(n=0;n<r;++n)i=t[n],a=i[0],a==dr.END_GEOMETRY?s=n:a==dr.BEGIN_GEOMETRY&&(i[2]=n,Cit(this.hitDetectionInstructions,s,n),s=-1)}setFillStrokeStyle(t,n){const r=this.state;if(t){const i=t.getColor();r.fillStyle=Ku(i||gs)}else r.fillStyle=void 0;if(n){const i=n.getColor();r.strokeStyle=Ku(i||Cv);const a=n.getLineCap();r.lineCap=a!==void 0?a:Kx;const s=n.getLineDash();r.lineDash=s?s.slice():Kc;const o=n.getLineDashOffset();r.lineDashOffset=o||Zc;const l=n.getLineJoin();r.lineJoin=l!==void 0?l:r0;const f=n.getWidth();r.lineWidth=f!==void 0?f:Iv;const u=n.getMiterLimit();r.miterLimit=u!==void 0?u:Sv,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0}createFill(t){const n=t.fillStyle,r=[dr.SET_FILL_STYLE,n];return typeof n!="string"&&r.push(!0),r}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[dr.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,n){const r=t.fillStyle;(typeof r!="string"||t.currentFillStyle!=r)&&(r!==void 0&&this.instructions.push(n.call(this,t)),t.currentFillStyle=r)}updateStrokeStyle(t,n){const r=t.strokeStyle,i=t.lineCap,a=t.lineDash,s=t.lineDashOffset,o=t.lineJoin,l=t.lineWidth,f=t.miterLimit;(t.currentStrokeStyle!=r||t.currentLineCap!=i||a!=t.currentLineDash&&!kh(t.currentLineDash,a)||t.currentLineDashOffset!=s||t.currentLineJoin!=o||t.currentLineWidth!=l||t.currentMiterLimit!=f)&&(r!==void 0&&n.call(this,t),t.currentStrokeStyle=r,t.currentLineCap=i,t.currentLineDash=a,t.currentLineDashOffset=s,t.currentLineJoin=o,t.currentLineWidth=l,t.currentMiterLimit=f)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[dr.END_GEOMETRY,t];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=zN(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;yv(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}const Uy=lot;class uot extends Uy{constructor(t,n,r,i){super(t,n,r,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,n){if(!this.image_)return;this.beginGeometry(t,n);const r=t.getFlatCoordinates(),i=t.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(r,i);this.instructions.push([dr.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([dr.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(t,n){if(!this.image_)return;this.beginGeometry(t,n);const r=t.getFlatCoordinates(),i=t.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(r,i);this.instructions.push([dr.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([dr.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,n){const r=t.getAnchor(),i=t.getSize(),a=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=r[0],this.anchorY_=r[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=i[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}const cot=uot;class fot extends Uy{constructor(t,n,r,i){super(t,n,r,i)}drawFlatCoordinates_(t,n,r,i){const a=this.coordinates.length,s=this.appendFlatLineCoordinates(t,n,r,i,!1,!1),o=[dr.MOVE_TO_LINE_TO,a,s];return this.instructions.push(o),this.hitDetectionInstructions.push(o),r}drawLineString(t,n){const r=this.state,i=r.strokeStyle,a=r.lineWidth;if(i===void 0||a===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,n),this.hitDetectionInstructions.push([dr.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Kc,Zc],xd);const s=t.getFlatCoordinates(),o=t.getStride();this.drawFlatCoordinates_(s,0,s.length,o),this.hitDetectionInstructions.push(eh),this.endGeometry(n)}drawMultiLineString(t,n){const r=this.state,i=r.strokeStyle,a=r.lineWidth;if(i===void 0||a===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,n),this.hitDetectionInstructions.push([dr.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Kc,Zc],xd);const s=t.getEnds(),o=t.getFlatCoordinates(),l=t.getStride();let f=0;for(let u=0,c=s.length;u<c;++u)f=this.drawFlatCoordinates_(o,f,s[u],l);this.hitDetectionInstructions.push(eh),this.endGeometry(n)}finish(){const t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(eh),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(eh),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(xd)}}const hot=fot;class dot extends Uy{constructor(t,n,r,i){super(t,n,r,i)}drawFlatCoordinatess_(t,n,r,i){const a=this.state,s=a.fillStyle!==void 0,o=a.strokeStyle!==void 0,l=r.length;this.instructions.push(xd),this.hitDetectionInstructions.push(xd);for(let f=0;f<l;++f){const u=r[f],c=this.coordinates.length,h=this.appendFlatLineCoordinates(t,n,u,i,!0,!o),d=[dr.MOVE_TO_LINE_TO,c,h];this.instructions.push(d),this.hitDetectionInstructions.push(d),o&&(this.instructions.push(ZO),this.hitDetectionInstructions.push(ZO)),n=u}return s&&(this.instructions.push(I1),this.hitDetectionInstructions.push(I1)),o&&(this.instructions.push(eh),this.hitDetectionInstructions.push(eh)),n}drawCircle(t,n){const r=this.state,i=r.fillStyle,a=r.strokeStyle;if(i===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([dr.SET_FILL_STYLE,gs]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([dr.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Kc,Zc]);const s=t.getFlatCoordinates(),o=t.getStride(),l=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,o,!1,!1);const f=[dr.CIRCLE,l];this.instructions.push(xd,f),this.hitDetectionInstructions.push(xd,f),r.fillStyle!==void 0&&(this.instructions.push(I1),this.hitDetectionInstructions.push(I1)),r.strokeStyle!==void 0&&(this.instructions.push(eh),this.hitDetectionInstructions.push(eh)),this.endGeometry(n)}drawPolygon(t,n){const r=this.state,i=r.fillStyle,a=r.strokeStyle;if(i===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([dr.SET_FILL_STYLE,gs]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([dr.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Kc,Zc]);const s=t.getEnds(),o=t.getOrientedFlatCoordinates(),l=t.getStride();this.drawFlatCoordinatess_(o,0,s,l),this.endGeometry(n)}drawMultiPolygon(t,n){const r=this.state,i=r.fillStyle,a=r.strokeStyle;if(i===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([dr.SET_FILL_STYLE,gs]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([dr.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Kc,Zc]);const s=t.getEndss(),o=t.getOrientedFlatCoordinates(),l=t.getStride();let f=0;for(let u=0,c=s.length;u<c;++u)f=this.drawFlatCoordinatess_(o,f,s[u],l);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(t!==0){const n=this.coordinates;for(let r=0,i=n.length;r<i;++r)n[r]=ld(n[r],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;t.fillStyle!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)}}const JO=dot;function pot(e,t,n,r,i){const a=[];let s=n,o=0,l=t.slice(n,2);for(;o<e&&s+i<r;){const[f,u]=l.slice(-2),c=t[s+i],h=t[s+i+1],d=Math.sqrt((c-f)*(c-f)+(h-u)*(h-u));if(o+=d,o>=e){const p=(e-o+d)/d,g=Hs(f,c,p),m=Hs(u,h,p);l.push(g,m),a.push(l),l=[g,m],o==e&&(s+=i),o=0}else if(o<e)l.push(t[s+i],t[s+i+1]),s+=i;else{const p=d-o,g=Hs(f,c,p/d),m=Hs(u,h,p/d);l.push(g,m),a.push(l),l=[g,m],o=0,s+=i}}return o>0&&a.push(l),a}function got(e,t,n,r,i){let a=n,s=n,o=0,l=0,f=n,u,c,h,d,p,g,m,v,y,_;for(c=n;c<r;c+=i){const x=t[c],w=t[c+1];p!==void 0&&(y=x-p,_=w-g,d=Math.sqrt(y*y+_*_),m!==void 0&&(l+=h,u=Math.acos((m*y+v*_)/(h*d)),u>e&&(l>o&&(o=l,a=f,s=c),l=0,f=c-i)),h=d,m=y,v=_),p=x,g=w}return l+=d,l>o?[f,c]:[a,s]}const tb={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class mot extends Uy{constructor(t,n,r,i){super(t,n,r,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[gs]={fillStyle:gs},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,n){const r=this.textFillState_,i=this.textStrokeState_,a=this.textState_;if(this.text_===""||!a||!r&&!i)return;const s=this.coordinates;let o=s.length;const l=t.getType();let f=null,u=t.getStride();if(a.placement==="line"&&(l=="LineString"||l=="MultiLineString"||l=="Polygon"||l=="MultiPolygon")){if(!vs(this.getBufferedMaxExtent(),t.getExtent()))return;let c;if(f=t.getFlatCoordinates(),l=="LineString")c=[f.length];else if(l=="MultiLineString")c=t.getEnds();else if(l=="Polygon")c=t.getEnds().slice(0,1);else if(l=="MultiPolygon"){const g=t.getEndss();c=[];for(let m=0,v=g.length;m<v;++m)c.push(g[m][0])}this.beginGeometry(t,n);const h=a.repeat,d=h?void 0:a.textAlign;let p=0;for(let g=0,m=c.length;g<m;++g){let v;h?v=pot(h*this.resolution,f,p,c[g],u):v=[f.slice(p,c[g])];for(let y=0,_=v.length;y<_;++y){const x=v[y];let w=0,E=x.length;if(d==null){const C=got(a.maxAngle,x,0,x.length,2);w=C[0],E=C[1]}for(let C=w;C<E;C+=u)s.push(x[C],x[C+1]);const S=s.length;p=c[g],this.drawChars_(o,S),o=S}}this.endGeometry(n)}else{let c=a.overflow?null:[];switch(l){case"Point":case"MultiPoint":f=t.getFlatCoordinates();break;case"LineString":f=t.getFlatMidpoint();break;case"Circle":f=t.getCenter();break;case"MultiLineString":f=t.getFlatMidpoints(),u=2;break;case"Polygon":f=t.getFlatInteriorPoint(),a.overflow||c.push(f[2]/this.resolution),u=3;break;case"MultiPolygon":const v=t.getFlatInteriorPoints();f=[];for(let y=0,_=v.length;y<_;y+=3)a.overflow||c.push(v[y+2]/this.resolution),f.push(v[y],v[y+1]);if(f.length===0)return;u=2;break}const h=this.appendFlatPointCoordinates(f,u);if(h===o)return;if(c&&(h-o)/2!==f.length/u){let v=o/2;c=c.filter((y,_)=>{const x=s[(v+_)*2]===f[_*u]&&s[(v+_)*2+1]===f[_*u+1];return x||--v,x})}this.saveTextStates_(),(a.backgroundFill||a.backgroundStroke)&&(this.setFillStrokeStyle(a.backgroundFill,a.backgroundStroke),a.backgroundFill&&this.updateFillStyle(this.state,this.createFill),a.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,n);let d=a.padding;if(d!=_d&&(a.scale[0]<0||a.scale[1]<0)){let v=a.padding[0],y=a.padding[1],_=a.padding[2],x=a.padding[3];a.scale[0]<0&&(y=-y,x=-x),a.scale[1]<0&&(v=-v,_=-_),d=[v,y,_,x]}const p=this.pixelRatio;this.instructions.push([dr.DRAW_IMAGE,o,h,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,d==_d?_d:d.map(function(v){return v*p}),!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]);const g=1/p,m=this.state.fillStyle;a.backgroundFill&&(this.state.fillStyle=gs,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([dr.DRAW_IMAGE,o,h,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[g,g],NaN,void 0,this.declutterImageWithText_,d,!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?gs:this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]),a.backgroundFill&&(this.state.fillStyle=m,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(n)}}saveTextStates_(){const t=this.textStrokeState_,n=this.textState_,r=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const a=this.textKey_;a in this.textStates||(this.textStates[a]={font:n.font,textAlign:n.textAlign||Av,justify:n.justify,textBaseline:n.textBaseline||Zx,scale:n.scale});const s=this.fillKey_;r&&(s in this.fillStates||(this.fillStates[s]={fillStyle:r.fillStyle}))}drawChars_(t,n){const r=this.textStrokeState_,i=this.textState_,a=this.strokeKey_,s=this.textKey_,o=this.fillKey_;this.saveTextStates_();const l=this.pixelRatio,f=tb[i.textBaseline],u=this.textOffsetY_*l,c=this.text_,h=r?r.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([dr.DRAW_CHARS,t,n,f,i.overflow,o,i.maxAngle,l,u,a,h*l,c,s,1]),this.hitDetectionInstructions.push([dr.DRAW_CHARS,t,n,f,i.overflow,o&&gs,i.maxAngle,1,u,a,h,c,s,1/l])}setTextStyle(t,n){let r,i,a;if(!t)this.text_="";else{const s=t.getFill();s?(i=this.textFillState_,i||(i={},this.textFillState_=i),i.fillStyle=Ku(s.getColor()||gs)):(i=null,this.textFillState_=i);const o=t.getStroke();if(!o)a=null,this.textStrokeState_=a;else{a=this.textStrokeState_,a||(a={},this.textStrokeState_=a);const p=o.getLineDash(),g=o.getLineDashOffset(),m=o.getWidth(),v=o.getMiterLimit();a.lineCap=o.getLineCap()||Kx,a.lineDash=p?p.slice():Kc,a.lineDashOffset=g===void 0?Zc:g,a.lineJoin=o.getLineJoin()||r0,a.lineWidth=m===void 0?Iv:m,a.miterLimit=v===void 0?Sv:v,a.strokeStyle=Ku(o.getColor()||Cv)}r=this.textState_;const l=t.getFont()||X8;Tat(l);const f=t.getScaleArray();r.overflow=t.getOverflow(),r.font=l,r.maxAngle=t.getMaxAngle(),r.placement=t.getPlacement(),r.textAlign=t.getTextAlign(),r.repeat=t.getRepeat(),r.justify=t.getJustify(),r.textBaseline=t.getTextBaseline()||Zx,r.backgroundFill=t.getBackgroundFill(),r.backgroundStroke=t.getBackgroundStroke(),r.padding=t.getPadding()||_d,r.scale=f===void 0?[1,1]:f;const u=t.getOffsetX(),c=t.getOffsetY(),h=t.getRotateWithView(),d=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=u===void 0?0:u,this.textOffsetY_=c===void 0?0:c,this.textRotateWithView_=h===void 0?!1:h,this.textRotation_=d===void 0?0:d,this.strokeKey_=a?(typeof a.strokeStyle=="string"?a.strokeStyle:si(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.repeat||"?")+(r.justify||"?")+(r.textBaseline||"?"),this.fillKey_=i?typeof i.fillStyle=="string"?i.fillStyle:"|"+si(i.fillStyle):""}this.declutterImageWithText_=n}}const vot={Circle:JO,Default:Uy,Image:cot,LineString:hot,Polygon:JO,Text:mot};class yot{constructor(t,n,r,i){this.tolerance_=t,this.maxExtent_=n,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}finish(){const t={};for(const n in this.buildersByZIndex_){t[n]=t[n]||{};const r=this.buildersByZIndex_[n];for(const i in r){const a=r[i].finish();t[n][i]=a}}return t}getBuilder(t,n){const r=t!==void 0?t.toString():"0";let i=this.buildersByZIndex_[r];i===void 0&&(i={},this.buildersByZIndex_[r]=i);let a=i[n];if(a===void 0){const s=vot[n];a=new s(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[n]=a}return a}}const QO=yot;class _ot extends T8{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.declutterExecutorGroup=null}getFeatures(t){return er()}getData(t){return null}prepareFrame(t){return er()}renderFrame(t,n){return er()}loadedTileCallback(t,n,r){t[n]||(t[n]={}),t[n][r.tileCoord.toString()]=r}createLoadedTileFinder(t,n,r){return(i,a)=>{const s=this.loadedTileCallback.bind(this,r,i);return t.forEachLoadedTile(n,i,a,s)}}forEachFeatureAtCoordinate(t,n,r,i,a){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const n=t.target;(n.getState()===la.LOADED||n.getState()===la.ERROR)&&this.renderIfReadyAndVisible()}loadImage(t){let n=t.getState();return n!=la.LOADED&&n!=la.ERROR&&t.addEventListener(Sr.CHANGE,this.boundHandleImageChange_),n==la.IDLE&&(t.load(),n=t.getState()),n==la.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}}const xot=_ot;class bot extends vf{constructor(t,n,r,i){super(t),this.inversePixelTransform=n,this.frameState=r,this.context=i}}const o7=bot,tL=[];let lg=null;function wot(){lg=Zo(1,1,void 0,{willReadFrequently:!0})}class Tot extends xot{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=rc(),this.pixelTransform=rc(),this.inversePixelTransform=rc(),this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(t,n,r){lg||wot(),lg.clearRect(0,0,1,1);let i;try{lg.drawImage(t,n,r,1,1,0,0,1,1),i=lg.getImageData(0,0,1,1).data}catch{return lg=null,null}return i}getBackground(t){let r=this.getLayer().getBackground();return typeof r=="function"&&(r=r(t.viewState.resolution)),r||void 0}useContainer(t,n,r){const i=this.getLayer().getClassName();let a,s;if(t&&t.className===i&&(!r||t&&t.style.backgroundColor&&kh(Xx(t.style.backgroundColor),Xx(r)))){const o=t.firstElementChild;o instanceof HTMLCanvasElement&&(s=o.getContext("2d"))}if(s&&s.canvas.style.transform===n?(this.container=t,this.context=s,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){a=document.createElement("div"),a.className=i;let o=a.style;o.position="absolute",o.width="100%",o.height="100%",s=Zo();const l=s.canvas;a.appendChild(l),o=l.style,o.position="absolute",o.left="0",o.transformOrigin="top left",this.container=a,this.context=s}!this.containerReused&&r&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=r)}clipUnrotated(t,n,r){const i=cp(r),a=c2(r),s=u2(r),o=l2(r);Xa(n.coordinateToPixelTransform,i),Xa(n.coordinateToPixelTransform,a),Xa(n.coordinateToPixelTransform,s),Xa(n.coordinateToPixelTransform,o);const l=this.inversePixelTransform;Xa(l,i),Xa(l,a),Xa(l,s),Xa(l,o),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.clip()}dispatchRenderEvent_(t,n,r){const i=this.getLayer();if(i.hasListener(t)){const a=new o7(t,this.inversePixelTransform,r,n);i.dispatchEvent(a)}}preRender(t,n){this.frameState=n,this.dispatchRenderEvent_(ic.PRERENDER,t,n)}postRender(t,n){this.dispatchRenderEvent_(ic.POSTRENDER,t,n)}getRenderTransform(t,n,r,i,a,s,o){const l=a/2,f=s/2,u=i/n,c=-u,h=-t[0]+o,d=-t[1];return wh(this.tempTransform,l,f,u,c,-r,h,d)}disposeInternal(){delete this.frameState,super.disposeInternal()}}const s7=Tot;function Eot(e,t,n,r,i,a,s,o,l,f,u,c){let h=e[t],d=e[t+1],p=0,g=0,m=0,v=0;function y(){p=h,g=d,t+=r,h=e[t],d=e[t+1],v+=m,m=Math.sqrt((h-p)*(h-p)+(d-g)*(d-g))}do y();while(t<n-r&&v+m<a);let _=m===0?0:(a-v)/m;const x=Hs(p,h,_),w=Hs(g,d,_),E=t-r,S=v,C=a+o*l(f,i,u);for(;t<n-r&&v+m<C;)y();_=m===0?0:(C-v)/m;const T=Hs(p,h,_),A=Hs(g,d,_);let O;if(c){const D=[x,w,T,A];A8(D,0,4,2,c,D,D),O=D[0]>D[2]}else O=x>T;const P=Math.PI,F=[],R=E+r===t;t=E,m=0,v=S,h=e[t],d=e[t+1];let N;if(R){y(),N=Math.atan2(d-g,h-p),O&&(N+=N>0?-P:P);const D=(T+x)/2,I=(A+w)/2;return F[0]=[D,I,(C-a)/2,N,i],F}i=i.replace(/\n/g," ");for(let D=0,I=i.length;D<I;){y();let B=Math.atan2(d-g,h-p);if(O&&(B+=B>0?-P:P),N!==void 0){let rt=B-N;if(rt+=rt>P?-2*P:rt<-P?2*P:0,Math.abs(rt)>s)return null}N=B;const j=D;let q=0;for(;D<I;++D){const rt=O?I-D-1:D,ft=o*l(f,i[rt],u);if(t+r<n&&v+m<a+q+ft/2)break;q+=ft}if(D===j)continue;const et=O?i.substring(I-j,I-D):i.substring(j,D);_=m===0?0:(a+q/2-v)/m;const U=Hs(p,h,_),Z=Hs(g,d,_);F.push([U,Z,q/2,B,et]),a+=q}return F}const qp=tl(),Bf=[],kc=[],Dc=[],Gf=[];function eL(e){return e[3].declutterBox}const nL=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function P3(e,t){return t==="start"?t=nL.test(e)?"right":"left":t==="end"&&(t=nL.test(e)?"left":"right"),tb[t]}function Mot(e,t,n){return n>0&&e.push(`
`,""),e.push(t,""),e}class Sot{constructor(t,n,r,i){this.overlaps=r,this.pixelRatio=n,this.resolution=t,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=rc(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}createLabel(t,n,r,i){const a=t+n+r+i;if(this.labels_[a])return this.labels_[a];const s=i?this.strokeStates[i]:null,o=r?this.fillStates[r]:null,l=this.textStates[n],f=this.pixelRatio,u=[l.scale[0]*f,l.scale[1]*f],c=Array.isArray(t),h=l.justify?tb[l.justify]:P3(Array.isArray(t)?t[0]:t,l.textAlign||Av),d=i&&s.lineWidth?s.lineWidth:0,p=c?t:t.split(`
`).reduce(Mot,[]),{width:g,height:m,widths:v,heights:y,lineWidths:_}=Mat(l,p),x=g+d,w=[],E=(x+2)*u[0],S=(m+d)*u[1],C={width:E<0?Math.floor(E):Math.ceil(E),height:S<0?Math.floor(S):Math.ceil(S),contextInstructions:w};(u[0]!=1||u[1]!=1)&&w.push("scale",u),i&&(w.push("strokeStyle",s.strokeStyle),w.push("lineWidth",d),w.push("lineCap",s.lineCap),w.push("lineJoin",s.lineJoin),w.push("miterLimit",s.miterLimit),w.push("setLineDash",[s.lineDash]),w.push("lineDashOffset",s.lineDashOffset)),r&&w.push("fillStyle",o.fillStyle),w.push("textBaseline","middle"),w.push("textAlign","center");const T=.5-h;let A=h*x+T*d;const O=[],P=[];let F=0,R=0,N=0,D=0,I;for(let B=0,j=p.length;B<j;B+=2){const q=p[B];if(q===`
`){R+=F,F=0,A=h*x+T*d,++D;continue}const et=p[B+1]||l.font;et!==I&&(i&&O.push("font",et),r&&P.push("font",et),I=et),F=Math.max(F,y[N]);const U=[q,A+T*v[N]+h*(v[N]-_[D]),.5*(d+F)+R];A+=v[N],i&&O.push("strokeText",U),r&&P.push("fillText",U),++N}return Array.prototype.push.apply(w,O),Array.prototype.push.apply(w,P),this.labels_[a]=C,C}replayTextBackground_(t,n,r,i,a,s,o){t.beginPath(),t.moveTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,i),t.lineTo.apply(t,a),t.lineTo.apply(t,n),s&&(this.alignFill_=s[2],this.fill_(t)),o&&(this.setStrokeStyle_(t,o),t.stroke())}calculateImageOrLabelDimensions_(t,n,r,i,a,s,o,l,f,u,c,h,d,p,g,m){o*=h[0],l*=h[1];let v=r-o,y=i-l;const _=a+f>t?t-f:a,x=s+u>n?n-u:s,w=p[3]+_*h[0]+p[1],E=p[0]+x*h[1]+p[2],S=v-p[3],C=y-p[0];(g||c!==0)&&(Bf[0]=S,Gf[0]=S,Bf[1]=C,kc[1]=C,kc[0]=S+w,Dc[0]=kc[0],Dc[1]=C+E,Gf[1]=Dc[1]);let T;return c!==0?(T=wh(rc(),r,i,1,1,c,-r,-i),Xa(T,Bf),Xa(T,kc),Xa(T,Dc),Xa(T,Gf),nf(Math.min(Bf[0],kc[0],Dc[0],Gf[0]),Math.min(Bf[1],kc[1],Dc[1],Gf[1]),Math.max(Bf[0],kc[0],Dc[0],Gf[0]),Math.max(Bf[1],kc[1],Dc[1],Gf[1]),qp)):nf(Math.min(S,S+w),Math.min(C,C+E),Math.max(S,S+w),Math.max(C,C+E),qp),d&&(v=Math.round(v),y=Math.round(y)),{drawImageX:v,drawImageY:y,drawImageW:_,drawImageH:x,originX:f,originY:u,declutterBox:{minX:qp[0],minY:qp[1],maxX:qp[2],maxY:qp[3],value:m},canvasTransform:T,scale:h}}replayImageOrLabel_(t,n,r,i,a,s,o){const l=!!(s||o),f=i.declutterBox,u=t.canvas,c=o?o[2]*i.scale[0]/2:0;return f.minX-c<=u.width/n&&f.maxX+c>=0&&f.minY-c<=u.height/n&&f.maxY+c>=0&&(l&&this.replayTextBackground_(t,Bf,kc,Dc,Gf,s,o),Sat(t,i.canvasTransform,a,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}fill_(t){if(this.alignFill_){const n=Xa(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;t.save(),t.translate(n[0]%r,n[1]%r),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()}setStrokeStyle_(t,n){t.strokeStyle=n[1],t.lineWidth=n[2],t.lineCap=n[3],t.lineJoin=n[4],t.miterLimit=n[5],t.lineDashOffset=n[7],t.setLineDash(n[6])}drawLabelWithPointPlacement_(t,n,r,i){const a=this.textStates[n],s=this.createLabel(t,n,i,r),o=this.strokeStates[r],l=this.pixelRatio,f=P3(Array.isArray(t)?t[0]:t,a.textAlign||Av),u=tb[a.textBaseline||Zx],c=o&&o.lineWidth?o.lineWidth:0,h=s.width/l-2*a.scale[0],d=f*h+2*(.5-f)*c,p=u*s.height/l+2*(.5-u)*c;return{label:s,anchorX:d,anchorY:p}}execute_(t,n,r,i,a,s,o,l){let f;this.pixelCoordinates_&&kh(r,this.renderedTransform_)?f=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),f=Ld(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),jit(this.renderedTransform_,r));let u=0;const c=i.length;let h=0,d,p,g,m,v,y,_,x,w,E,S,C,T=0,A=0,O=null,P=null;const F=this.coordinateCache_,R=this.viewRotation_,N=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,D={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:R},I=this.instructions!=i||this.overlaps?0:200;let B,j,q,et;for(;u<c;){const U=i[u];switch(U[0]){case dr.BEGIN_GEOMETRY:B=U[1],et=U[3],B.getGeometry()?o!==void 0&&!vs(o,et.getExtent())?u=U[2]+1:++u:u=U[2];break;case dr.BEGIN_PATH:T>I&&(this.fill_(t),T=0),A>I&&(t.stroke(),A=0),!T&&!A&&(t.beginPath(),m=NaN,v=NaN),++u;break;case dr.CIRCLE:h=U[1];const rt=f[h],ft=f[h+1],z=f[h+2],W=f[h+3],X=z-rt,it=W-ft,lt=Math.sqrt(X*X+it*it);t.moveTo(rt+lt,ft),t.arc(rt,ft,lt,0,2*Math.PI,!0),++u;break;case dr.CLOSE_PATH:t.closePath(),++u;break;case dr.CUSTOM:h=U[1],d=U[2];const dt=U[3],nt=U[4],V=U.length==6?U[5]:void 0;D.geometry=dt,D.feature=B,u in F||(F[u]=[]);const G=F[u];V?V(f,h,d,2,G):(G[0]=f[h],G[1]=f[h+1],G.length=2),nt(G,D),++u;break;case dr.DRAW_IMAGE:h=U[1],d=U[2],x=U[3],p=U[4],g=U[5];let H=U[6];const $=U[7],J=U[8],Q=U[9],ot=U[10];let st=U[11];const ht=U[12];let xt=U[13];const Pt=U[14],It=U[15];if(!x&&U.length>=20){w=U[19],E=U[20],S=U[21],C=U[22];const oe=this.drawLabelWithPointPlacement_(w,E,S,C);x=oe.label,U[3]=x;const ce=U[23];p=(oe.anchorX-ce)*this.pixelRatio,U[4]=p;const pe=U[24];g=(oe.anchorY-pe)*this.pixelRatio,U[5]=g,H=x.height,U[6]=H,xt=x.width,U[13]=xt}let zt;U.length>25&&(zt=U[25]);let pt,yt,wt;U.length>17?(pt=U[16],yt=U[17],wt=U[18]):(pt=_d,yt=!1,wt=!1),ot&&N?st+=R:!ot&&!N&&(st-=R);let St=0;for(;h<d;h+=2){if(zt&&zt[St++]<xt/this.pixelRatio)continue;const oe=this.calculateImageOrLabelDimensions_(x.width,x.height,f[h],f[h+1],xt,H,p,g,J,Q,st,ht,a,pt,yt||wt,B),ce=[t,n,x,oe,$,yt?O:null,wt?P:null];if(l){if(Pt==="none")continue;if(Pt==="obstacle"){l.insert(oe.declutterBox);continue}else{let pe,we;if(It){const Le=d-h;if(!It[Le]){It[Le]=ce;continue}if(pe=It[Le],delete It[Le],we=eL(pe),l.collides(we))continue}if(l.collides(oe.declutterBox))continue;pe&&(l.insert(we),this.replayImageOrLabel_.apply(this,pe)),l.insert(oe.declutterBox)}}this.replayImageOrLabel_.apply(this,ce)}++u;break;case dr.DRAW_CHARS:const Ut=U[1],Gt=U[2],mt=U[3],Tt=U[4];C=U[5];const At=U[6],Et=U[7],Mt=U[8];S=U[9];const Nt=U[10];w=U[11],E=U[12];const Ft=[U[13],U[13]],Lt=this.textStates[E],Dt=Lt.font,kt=[Lt.scale[0]*Et,Lt.scale[1]*Et];let Wt;Dt in this.widths_?Wt=this.widths_[Dt]:(Wt={},this.widths_[Dt]=Wt);const Qt=U8(f,Ut,Gt,2),Ht=Math.abs(kt[0])*jO(Dt,w,Wt);if(Tt||Ht<=Qt){const oe=this.textStates[E].textAlign,ce=(Qt-Ht)*P3(w,oe),pe=Eot(f,Ut,Gt,2,w,ce,At,Math.abs(kt[0]),jO,Dt,Wt,N?0:this.viewRotation_);t:if(pe){const we=[];let Le,jt,Rt,te,ae;if(S)for(Le=0,jt=pe.length;Le<jt;++Le){ae=pe[Le],Rt=ae[4],te=this.createLabel(Rt,E,"",S),p=ae[2]+(kt[0]<0?-Nt:Nt),g=mt*te.height+(.5-mt)*2*Nt*kt[1]/kt[0]-Mt;const Se=this.calculateImageOrLabelDimensions_(te.width,te.height,ae[0],ae[1],te.width,te.height,p,g,0,0,ae[3],Ft,!1,_d,!1,B);if(l&&l.collides(Se.declutterBox))break t;we.push([t,n,te,Se,1,null,null])}if(C)for(Le=0,jt=pe.length;Le<jt;++Le){ae=pe[Le],Rt=ae[4],te=this.createLabel(Rt,E,C,""),p=ae[2],g=mt*te.height-Mt;const Se=this.calculateImageOrLabelDimensions_(te.width,te.height,ae[0],ae[1],te.width,te.height,p,g,0,0,ae[3],Ft,!1,_d,!1,B);if(l&&l.collides(Se.declutterBox))break t;we.push([t,n,te,Se,1,null,null])}l&&l.load(we.map(eL));for(let Se=0,ne=we.length;Se<ne;++Se)this.replayImageOrLabel_.apply(this,we[Se])}}++u;break;case dr.END_GEOMETRY:if(s!==void 0){B=U[1];const oe=s(B,et);if(oe)return oe}++u;break;case dr.FILL:I?T++:this.fill_(t),++u;break;case dr.MOVE_TO_LINE_TO:for(h=U[1],d=U[2],j=f[h],q=f[h+1],y=j+.5|0,_=q+.5|0,(y!==m||_!==v)&&(t.moveTo(j,q),m=y,v=_),h+=2;h<d;h+=2)j=f[h],q=f[h+1],y=j+.5|0,_=q+.5|0,(h==d-2||y!==m||_!==v)&&(t.lineTo(j,q),m=y,v=_);++u;break;case dr.SET_FILL_STYLE:O=U,this.alignFill_=U[2],T&&(this.fill_(t),T=0,A&&(t.stroke(),A=0)),t.fillStyle=U[1],++u;break;case dr.SET_STROKE_STYLE:P=U,A&&(t.stroke(),A=0),this.setStrokeStyle_(t,U),++u;break;case dr.STROKE:I?A++:t.stroke(),++u;break;default:++u;break}}T&&this.fill_(t),A&&t.stroke()}execute(t,n,r,i,a,s){this.viewRotation_=i,this.execute_(t,n,r,this.instructions,a,void 0,void 0,s)}executeHitDetection(t,n,r,i,a){return this.viewRotation_=r,this.execute_(t,1,n,this.hitDetectionInstructions,!0,i,a)}}const Cot=Sot,R3=["Polygon","Circle","LineString","Image","Text","Default"];class Aot{constructor(t,n,r,i,a,s){this.maxExtent_=t,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=n,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=rc(),this.createExecutors_(a)}clip(t,n){const r=this.getClipCoords(n);t.beginPath(),t.moveTo(r[0],r[1]),t.lineTo(r[2],r[3]),t.lineTo(r[4],r[5]),t.lineTo(r[6],r[7]),t.clip()}createExecutors_(t){for(const n in t){let r=this.executorsByZIndex_[n];r===void 0&&(r={},this.executorsByZIndex_[n]=r);const i=t[n];for(const a in i){const s=i[a];r[a]=new Cot(this.resolution_,this.pixelRatio_,this.overlaps_,s)}}}hasExecutors(t){for(const n in this.executorsByZIndex_){const r=this.executorsByZIndex_[n];for(let i=0,a=t.length;i<a;++i)if(t[i]in r)return!0}return!1}forEachFeatureAtCoordinate(t,n,r,i,a,s){i=Math.round(i);const o=i*2+1,l=wh(this.hitDetectionTransform_,i+.5,i+.5,1/n,-1/n,-r,-t[0],-t[1]),f=!this.hitDetectionContext_;f&&(this.hitDetectionContext_=Zo(o,o,void 0,{willReadFrequently:!0}));const u=this.hitDetectionContext_;u.canvas.width!==o||u.canvas.height!==o?(u.canvas.width=o,u.canvas.height=o):f||u.clearRect(0,0,o,o);let c;this.renderBuffer_!==void 0&&(c=tl(),qm(c,t),yv(c,n*(this.renderBuffer_+i),c));const h=Iot(i);let d;function p(w,E){const S=u.getImageData(0,0,o,o).data;for(let C=0,T=h.length;C<T;C++)if(S[h[C]]>0){if(!s||d!=="Image"&&d!=="Text"||s.includes(w)){const A=(h[C]-3)/4,O=i-A%o,P=i-(A/o|0),F=a(w,E,O*O+P*P);if(F)return F}u.clearRect(0,0,o,o);break}}const g=Object.keys(this.executorsByZIndex_).map(Number);g.sort(Vd);let m,v,y,_,x;for(m=g.length-1;m>=0;--m){const w=g[m].toString();for(y=this.executorsByZIndex_[w],v=R3.length-1;v>=0;--v)if(d=R3[v],_=y[d],_!==void 0&&(x=_.executeHitDetection(u,l,r,p,c),x))return x}}getClipCoords(t){const n=this.maxExtent_;if(!n)return null;const r=n[0],i=n[1],a=n[2],s=n[3],o=[r,i,r,s,a,s,a,i];return Ld(o,0,8,2,t,o),o}isEmpty(){return Zg(this.executorsByZIndex_)}execute(t,n,r,i,a,s,o){const l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(Vd),this.maxExtent_&&(t.save(),this.clip(t,r)),s=s||R3;let f,u,c,h,d,p;for(o&&l.reverse(),f=0,u=l.length;f<u;++f){const g=l[f].toString();for(d=this.executorsByZIndex_[g],c=0,h=s.length;c<h;++c){const m=s[c];p=d[m],p!==void 0&&p.execute(t,n,r,i,a,o)}}this.maxExtent_&&t.restore()}}const N3={};function Iot(e){if(N3[e]!==void 0)return N3[e];const t=e*2+1,n=e*e,r=new Array(n+1);for(let a=0;a<=e;++a)for(let s=0;s<=e;++s){const o=a*a+s*s;if(o>n)break;let l=r[o];l||(l=[],r[o]=l),l.push(((e+a)*t+(e+s))*4+3),a>0&&l.push(((e-a)*t+(e+s))*4+3),s>0&&(l.push(((e+a)*t+(e-s))*4+3),a>0&&l.push(((e-a)*t+(e-s))*4+3))}const i=[];for(let a=0,s=r.length;a<s;++a)r[a]&&i.push(...r[a]);return N3[e]=i,i}const rL=Aot;class Oot extends a7{constructor(t,n,r,i,a,s,o){super(),this.context_=t,this.pixelRatio_=n,this.extent_=r,this.transform_=i,this.transformRotation_=i?uS(Math.atan2(i[1],i[0]),10):0,this.viewRotation_=a,this.squaredTolerance_=s,this.userTransform_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=rc()}drawImages_(t,n,r,i){if(!this.image_)return;const a=Ld(t,n,r,i,this.transform_,this.pixelCoordinates_),s=this.context_,o=this.tmpLocalTransform_,l=s.globalAlpha;this.imageOpacity_!=1&&(s.globalAlpha=l*this.imageOpacity_);let f=this.imageRotation_;this.transformRotation_===0&&(f-=this.viewRotation_),this.imageRotateWithView_&&(f+=this.viewRotation_);for(let u=0,c=a.length;u<c;u+=2){const h=a[u]-this.imageAnchorX_,d=a[u+1]-this.imageAnchorY_;if(f!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const p=h+this.imageAnchorX_,g=d+this.imageAnchorY_;wh(o,p,g,1,1,f,-p,-g),s.setTransform.apply(s,o),s.translate(p,g),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,d,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(s.globalAlpha=l)}drawText_(t,n,r,i){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const a=Ld(t,n,r,i,this.transform_,this.pixelCoordinates_),s=this.context_;let o=this.textRotation_;for(this.transformRotation_===0&&(o-=this.viewRotation_),this.textRotateWithView_&&(o+=this.viewRotation_);n<r;n+=i){const l=a[n]+this.textOffsetX_,f=a[n+1]+this.textOffsetY_;o!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(s.translate(l-this.textOffsetX_,f-this.textOffsetY_),s.rotate(o),s.translate(this.textOffsetX_,this.textOffsetY_),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&s.strokeText(this.text_,l,f),this.textFillState_&&s.fillText(this.text_,l,f))}}moveToLineTo_(t,n,r,i,a){const s=this.context_,o=Ld(t,n,r,i,this.transform_,this.pixelCoordinates_);s.moveTo(o[0],o[1]);let l=o.length;a&&(l-=2);for(let f=2;f<l;f+=2)s.lineTo(o[f],o[f+1]);return a&&s.closePath(),r}drawRings_(t,n,r,i){for(let a=0,s=r.length;a<s;++a)n=this.moveToLineTo_(t,n,r[a],i,!0);return n}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!vs(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=Xit(t,this.transform_,this.pixelCoordinates_),r=n[2]-n[0],i=n[3]-n[1],a=Math.sqrt(r*r+i*i),s=this.context_;s.beginPath(),s.arc(n[0],n[1],a,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break}}drawFeature(t,n){const r=n.getGeometryFunction()(t);r&&(this.setStyle(n),this.drawGeometry(r))}drawGeometryCollection(t){const n=t.getGeometriesArray();for(let r=0,i=n.length;r<i;++r)this.drawGeometry(n[r])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),r=t.getStride();this.image_&&this.drawImages_(n,0,n.length,r),this.text_!==""&&this.drawText_(n,0,n.length,r)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),r=t.getStride();this.image_&&this.drawImages_(n,0,n.length,r),this.text_!==""&&this.drawText_(n,0,n.length,r)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!vs(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=t.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(r,0,r.length,t.getStride(),!1),n.stroke()}if(this.text_!==""){const n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getExtent();if(vs(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const r=this.context_,i=t.getFlatCoordinates();let a=0;const s=t.getEnds(),o=t.getStride();r.beginPath();for(let l=0,f=s.length;l<f;++l)a=this.moveToLineTo_(i,a,s[l],o,!1);r.stroke()}if(this.text_!==""){const r=t.getFlatMidpoints();this.drawText_(r,0,r.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!vs(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!vs(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,r=t.getOrientedFlatCoordinates();let i=0;const a=t.getEndss(),s=t.getStride();n.beginPath();for(let o=0,l=a.length;o<l;++o){const f=a[o];i=this.drawRings_(r,i,f,s)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(t){const n=this.context_,r=this.contextFillState_;r?r.fillStyle!=t.fillStyle&&(r.fillStyle=t.fillStyle,n.fillStyle=t.fillStyle):(n.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const n=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=t.lineCap&&(r.lineCap=t.lineCap,n.lineCap=t.lineCap),kh(r.lineDash,t.lineDash)||n.setLineDash(r.lineDash=t.lineDash),r.lineDashOffset!=t.lineDashOffset&&(r.lineDashOffset=t.lineDashOffset,n.lineDashOffset=t.lineDashOffset),r.lineJoin!=t.lineJoin&&(r.lineJoin=t.lineJoin,n.lineJoin=t.lineJoin),r.lineWidth!=t.lineWidth&&(r.lineWidth=t.lineWidth,n.lineWidth=t.lineWidth),r.miterLimit!=t.miterLimit&&(r.miterLimit=t.miterLimit,n.miterLimit=t.miterLimit),r.strokeStyle!=t.strokeStyle&&(r.strokeStyle=t.strokeStyle,n.strokeStyle=t.strokeStyle)):(n.lineCap=t.lineCap,n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset,n.lineJoin=t.lineJoin,n.lineWidth=t.lineWidth,n.miterLimit=t.miterLimit,n.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const n=this.context_,r=this.contextTextState_,i=t.textAlign?t.textAlign:Av;r?(r.font!=t.font&&(r.font=t.font,n.font=t.font),r.textAlign!=i&&(r.textAlign=i,n.textAlign=i),r.textBaseline!=t.textBaseline&&(r.textBaseline=t.textBaseline,n.textBaseline=t.textBaseline)):(n.font=t.font,n.textAlign=i,n.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})}setFillStrokeStyle(t,n){if(!t)this.fillState_=null;else{const r=t.getColor();this.fillState_={fillStyle:Ku(r||gs)}}if(!n)this.strokeState_=null;else{const r=n.getColor(),i=n.getLineCap(),a=n.getLineDash(),s=n.getLineDashOffset(),o=n.getLineJoin(),l=n.getWidth(),f=n.getMiterLimit(),u=a||Kc;this.strokeState_={lineCap:i!==void 0?i:Kx,lineDash:this.pixelRatio_===1?u:u.map(c=>c*this.pixelRatio_),lineDashOffset:(s||Zc)*this.pixelRatio_,lineJoin:o!==void 0?o:r0,lineWidth:(l!==void 0?l:Iv)*this.pixelRatio_,miterLimit:f!==void 0?f:Sv,strokeStyle:Ku(r||Cv)}}}setImageStyle(t){let n;if(!t||!(n=t.getSize())){this.image_=null;return}const r=t.getPixelRatio(this.pixelRatio_),i=t.getAnchor(),a=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*r,this.imageAnchorY_=i[1]*r,this.imageHeight_=n[1]*r,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=a[0],this.imageOriginY_=a[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const s=t.getScaleArray();this.imageScale_=[s[0]*this.pixelRatio_/r,s[1]*this.pixelRatio_/r],this.imageWidth_=n[0]*r}setTextStyle(t){if(!t)this.text_="";else{const n=t.getFill();if(!n)this.textFillState_=null;else{const d=n.getColor();this.textFillState_={fillStyle:Ku(d||gs)}}const r=t.getStroke();if(!r)this.textStrokeState_=null;else{const d=r.getColor(),p=r.getLineCap(),g=r.getLineDash(),m=r.getLineDashOffset(),v=r.getLineJoin(),y=r.getWidth(),_=r.getMiterLimit();this.textStrokeState_={lineCap:p!==void 0?p:Kx,lineDash:g||Kc,lineDashOffset:m||Zc,lineJoin:v!==void 0?v:r0,lineWidth:y!==void 0?y:Iv,miterLimit:_!==void 0?_:Sv,strokeStyle:Ku(d||Cv)}}const i=t.getFont(),a=t.getOffsetX(),s=t.getOffsetY(),o=t.getRotateWithView(),l=t.getRotation(),f=t.getScaleArray(),u=t.getText(),c=t.getTextAlign(),h=t.getTextBaseline();this.textState_={font:i!==void 0?i:X8,textAlign:c!==void 0?c:Av,textBaseline:h!==void 0?h:Zx},this.text_=u!==void 0?Array.isArray(u)?u.reduce((d,p,g)=>d+=g%2?" ":p,""):u:"",this.textOffsetX_=a!==void 0?this.pixelRatio_*a:0,this.textOffsetY_=s!==void 0?this.pixelRatio_*s:0,this.textRotateWithView_=o!==void 0?o:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*f[0],this.pixelRatio_*f[1]]}}}const Lot=Oot,Hu=.5;function Pot(e,t,n,r,i,a,s){const o=e[0]*Hu,l=e[1]*Hu,f=Zo(o,l);f.imageSmoothingEnabled=!1;const u=f.canvas,c=new Lot(f,Hu,i,null,s),h=n.length,d=Math.floor((256*256*256-1)/h),p={};for(let m=1;m<=h;++m){const v=n[m-1],y=v.getStyleFunction()||r;if(!y)continue;let _=y(v,a);if(!_)continue;Array.isArray(_)||(_=[_]);const w=(m*d).toString(16).padStart(7,"#00000");for(let E=0,S=_.length;E<S;++E){const C=_[E],T=C.getGeometryFunction()(v);if(!T||!vs(i,T.getExtent()))continue;const A=C.clone(),O=A.getFill();O&&O.setColor(w);const P=A.getStroke();P&&(P.setColor(w),P.setLineDash(null)),A.setText(void 0);const F=C.getImage();if(F){const I=F.getImageSize();if(!I)continue;const B=Zo(I[0],I[1],void 0,{alpha:!1}),j=B.canvas;B.fillStyle=w,B.fillRect(0,0,j.width,j.height),A.setImage(new i7({img:j,imgSize:I,anchor:F.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:F.getOrigin(),opacity:1,size:F.getSize(),scale:F.getScale(),rotation:F.getRotation(),rotateWithView:F.getRotateWithView()}))}const R=A.getZIndex()||0;let N=p[R];N||(N={},p[R]=N,N.Polygon=[],N.Circle=[],N.LineString=[],N.Point=[]);const D=T.getType();if(D==="GeometryCollection"){const I=T.getGeometriesArrayRecursive();for(let B=0,j=I.length;B<j;++B){const q=I[B];N[q.getType().replace("Multi","")].push(q,A)}}else N[D.replace("Multi","")].push(T,A)}}const g=Object.keys(p).map(Number).sort(Vd);for(let m=0,v=g.length;m<v;++m){const y=p[g[m]];for(const _ in y){const x=y[_];for(let w=0,E=x.length;w<E;w+=2){c.setStyle(x[w+1]);for(let S=0,C=t.length;S<C;++S)c.setTransform(t[S]),c.drawGeometry(x[w])}}}return f.getImageData(0,0,u.width,u.height)}function Rot(e,t,n){const r=[];if(n){const i=Math.floor(Math.round(e[0])*Hu),a=Math.floor(Math.round(e[1])*Hu),s=(ca(i,0,n.width-1)+ca(a,0,n.height-1)*n.width)*4,o=n.data[s],l=n.data[s+1],u=n.data[s+2]+256*(l+256*o),c=Math.floor((256*256*256-1)/t.length);u&&u%c===0&&r.push(t[u/c-1])}return r}const Not=.5,l7={Point:Vot,LineString:Got,Polygon:Yot,MultiPoint:Hot,MultiLineString:jot,MultiPolygon:Uot,GeometryCollection:Bot,Circle:Fot};function kot(e,t){return parseInt(si(e),10)-parseInt(si(t),10)}function Dot(e,t){const n=iE(e,t);return n*n}function iE(e,t){return Not*e/t}function Fot(e,t,n,r,i){const a=n.getFill(),s=n.getStroke();if(a||s){const l=e.getBuilder(n.getZIndex(),"Circle");l.setFillStrokeStyle(a,s),l.drawCircle(t,r)}const o=n.getText();if(o&&o.getText()){const l=(i||e).getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(t,r)}}function iL(e,t,n,r,i,a,s){let o=!1;const l=n.getImage();if(l){const f=l.getImageState();f==la.LOADED||f==la.ERROR?l.unlistenImageChange(i):(f==la.IDLE&&l.load(),l.listenImageChange(i),o=!0)}return zot(e,t,n,r,a,s),o}function zot(e,t,n,r,i,a){const s=n.getGeometryFunction()(t);if(!s)return;const o=s.simplifyTransformed(r,i);if(n.getRenderer())u7(e,o,n,t);else{const f=l7[o.getType()];f(e,o,n,t,a)}}function u7(e,t,n,r){if(t.getType()=="GeometryCollection"){const a=t.getGeometries();for(let s=0,o=a.length;s<o;++s)u7(e,a[s],n,r);return}e.getBuilder(n.getZIndex(),"Default").drawCustom(t,r,n.getRenderer(),n.getHitDetectionRenderer())}function Bot(e,t,n,r,i){const a=t.getGeometriesArray();let s,o;for(s=0,o=a.length;s<o;++s){const l=l7[a[s].getType()];l(e,a[s],n,r,i)}}function Got(e,t,n,r,i){const a=n.getStroke();if(a){const o=e.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,a),o.drawLineString(t,r)}const s=n.getText();if(s&&s.getText()){const o=(i||e).getBuilder(n.getZIndex(),"Text");o.setTextStyle(s),o.drawText(t,r)}}function jot(e,t,n,r,i){const a=n.getStroke();if(a){const o=e.getBuilder(n.getZIndex(),"LineString");o.setFillStrokeStyle(null,a),o.drawMultiLineString(t,r)}const s=n.getText();if(s&&s.getText()){const o=(i||e).getBuilder(n.getZIndex(),"Text");o.setTextStyle(s),o.drawText(t,r)}}function Uot(e,t,n,r,i){const a=n.getFill(),s=n.getStroke();if(s||a){const l=e.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(a,s),l.drawMultiPolygon(t,r)}const o=n.getText();if(o&&o.getText()){const l=(i||e).getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(t,r)}}function Vot(e,t,n,r,i){const a=n.getImage(),s=n.getText();let o;if(a){if(a.getImageState()!=la.LOADED)return;let l=e;if(i){const u=a.getDeclutterMode();if(u!=="none")if(l=i,u==="obstacle"){const c=e.getBuilder(n.getZIndex(),"Image");c.setImageStyle(a,o),c.drawPoint(t,r)}else s&&s.getText()&&(o={})}const f=l.getBuilder(n.getZIndex(),"Image");f.setImageStyle(a,o),f.drawPoint(t,r)}if(s&&s.getText()){let l=e;i&&(l=i);const f=l.getBuilder(n.getZIndex(),"Text");f.setTextStyle(s,o),f.drawText(t,r)}}function Hot(e,t,n,r,i){const a=n.getImage(),s=n.getText();let o;if(a){if(a.getImageState()!=la.LOADED)return;let l=e;if(i){const u=a.getDeclutterMode();if(u!=="none")if(l=i,u==="obstacle"){const c=e.getBuilder(n.getZIndex(),"Image");c.setImageStyle(a,o),c.drawMultiPoint(t,r)}else s&&s.getText()&&(o={})}const f=l.getBuilder(n.getZIndex(),"Image");f.setImageStyle(a,o),f.drawMultiPoint(t,r)}if(s&&s.getText()){let l=e;i&&(l=i);const f=l.getBuilder(n.getZIndex(),"Text");f.setTextStyle(s,o),f.drawText(t,r)}}function Yot(e,t,n,r,i){const a=n.getFill(),s=n.getStroke();if(a||s){const l=e.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(a,s),l.drawPolygon(t,r)}const o=n.getText();if(o&&o.getText()){const l=(i||e).getBuilder(n.getZIndex(),"Text");l.setTextStyle(o),l.drawText(t,r)}}class Wot extends s7{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=tl(),this.wrappedRenderedExtent_=tl(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(t,n,r){const i=n.extent,a=n.viewState,s=a.center,o=a.resolution,l=a.projection,f=a.rotation,u=l.getExtent(),c=this.getLayer().getSource(),h=n.pixelRatio,d=n.viewHints,p=!(d[Eo.ANIMATING]||d[Eo.INTERACTING]),g=this.compositionContext_,m=Math.round(n.size[0]*h),v=Math.round(n.size[1]*h),y=c.getWrapX()&&l.canWrapX(),_=y?Ei(u):null,x=y?Math.ceil((i[2]-u[2])/_)+1:1;let w=y?Math.floor((i[0]-u[0])/_):0;do{const E=this.getRenderTransform(s,o,f,h,m,v,w*_);t.execute(g,1,E,f,p,void 0,r)}while(++w<x)}setupCompositionContext_(){if(this.opacity_!==1){const t=Zo(this.context.canvas.width,this.context.canvas.height,tL);this.compositionContext_=t}else this.compositionContext_=this.context}releaseCompositionContext_(){if(this.opacity_!==1){const t=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=t,y2(this.compositionContext_),tL.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(t){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree),this.releaseCompositionContext_())}renderFrame(t,n){const r=t.pixelRatio,i=t.layerStatesArray[t.layerIndex];Uit(this.pixelTransform,1/r,1/r),TS(this.inversePixelTransform,this.pixelTransform);const a=C8(this.pixelTransform);this.useContainer(n,a,this.getBackground(t));const s=this.context,o=s.canvas,l=this.replayGroup_,f=this.declutterExecutorGroup;let u=l&&!l.isEmpty()||f&&!f.isEmpty();if(!u&&!(this.getLayer().hasListener(ic.PRERENDER)||this.getLayer().hasListener(ic.POSTRENDER)))return null;const c=Math.round(t.size[0]*r),h=Math.round(t.size[1]*r);o.width!=c||o.height!=h?(o.width=c,o.height=h,o.style.transform!==a&&(o.style.transform=a)):this.containerReused||s.clearRect(0,0,c,h),this.preRender(s,t);const d=t.viewState;d.projection,this.opacity_=i.opacity,this.setupCompositionContext_();let p=!1;if(u&&i.extent&&this.clipping){const g=vd(i.extent);u=vs(g,t.extent),p=u&&!vg(g,t.extent),p&&this.clipUnrotated(this.compositionContext_,t,g)}return u&&this.renderWorlds(l,t),p&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(s,t),this.renderedRotation_!==d.rotation&&(this.renderedRotation_=d.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(t){return new Promise(n=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const r=[this.context.canvas.width,this.context.canvas.height];Xa(this.pixelTransform,r);const i=this.renderedCenter_,a=this.renderedResolution_,s=this.renderedRotation_,o=this.renderedProjection_,l=this.wrappedRenderedExtent_,f=this.getLayer(),u=[],c=r[0]*Hu,h=r[1]*Hu;u.push(this.getRenderTransform(i,a,s,Hu,c,h,0).slice());const d=f.getSource(),p=o.getExtent();if(d.getWrapX()&&o.canWrapX()&&!vg(p,l)){let g=l[0];const m=Ei(p);let v=0,y;for(;g<p[0];)--v,y=m*v,u.push(this.getRenderTransform(i,a,s,Hu,c,h,y).slice()),g+=m;for(v=0,g=l[2];g>p[2];)++v,y=m*v,u.push(this.getRenderTransform(i,a,s,Hu,c,h,y).slice()),g-=m}this.hitDetectionImageData_=Pot(r,u,this.renderedFeatures_,f.getStyleFunction(),l,a,s)}n(Rot(t,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(t,n,r,i,a){if(!this.replayGroup_)return;const s=n.viewState.resolution,o=n.viewState.rotation,l=this.getLayer(),f={},u=function(d,p,g){const m=si(d),v=f[m];if(v){if(v!==!0&&g<v.distanceSq){if(g===0)return f[m]=!0,a.splice(a.lastIndexOf(v),1),i(d,l,p);v.geometry=p,v.distanceSq=g}}else{if(g===0)return f[m]=!0,i(d,l,p);a.push(f[m]={feature:d,layer:l,geometry:p,distanceSq:g,callback:i})}};let c;const h=[this.replayGroup_];return this.declutterExecutorGroup&&h.push(this.declutterExecutorGroup),h.some(d=>c=d.forEachFeatureAtCoordinate(t,s,o,r,u,d===this.declutterExecutorGroup&&n.declutterTree?n.declutterTree.all().map(p=>p.value):null)),c}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const n=this.getLayer(),r=n.getSource();if(!r)return!1;const i=t.viewHints[Eo.ANIMATING],a=t.viewHints[Eo.INTERACTING],s=n.getUpdateWhileAnimating(),o=n.getUpdateWhileInteracting();if(this.ready&&!s&&i||!o&&a)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const l=t.extent,f=t.viewState,u=f.projection,c=f.resolution,h=t.pixelRatio,d=n.getRevision(),p=n.getRenderBuffer();let g=n.getRenderOrder();g===void 0&&(g=kot);const m=f.center.slice(),v=yv(l,p*c),y=v.slice(),_=[v.slice()],x=u.getExtent();if(r.getWrapX()&&u.canWrapX()&&!vg(x,t.extent)){const N=Ei(x),D=Math.max(Ei(v)/2,N);v[0]=x[0]-D,v[2]=x[2]+D,HN(m,u);const I=VN(_[0],u);I[0]<x[0]&&I[2]<x[2]?_.push([I[0]+N,I[1],I[2]+N,I[3]]):I[0]>x[0]&&I[2]>x[2]&&_.push([I[0]-N,I[1],I[2]-N,I[3]])}if(this.ready&&this.renderedResolution_==c&&this.renderedRevision_==d&&this.renderedRenderOrder_==g&&vg(this.wrappedRenderedExtent_,v))return kh(this.renderedExtent_,y)||(this.hitDetectionImageData_=null,this.renderedExtent_=y),this.renderedCenter_=m,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const w=new QO(iE(c,h),v,c,h);let E;this.getLayer().getDeclutter()&&(E=new QO(iE(c,h),v,c,h));let S;for(let N=0,D=_.length;N<D;++N)r.loadFeatures(_[N],c,u);const C=Dot(c,h);let T=!0;const A=N=>{let D;const I=N.getStyleFunction()||n.getStyleFunction();if(I&&(D=I(N,c)),D){const B=this.renderFeature(N,C,D,w,S,E);T=T&&!B}},O=ZN(v),P=r.getFeaturesInExtent(O);g&&P.sort(g);for(let N=0,D=P.length;N<D;++N)A(P[N]);this.renderedFeatures_=P,this.ready=T;const F=w.finish(),R=new rL(v,c,h,r.getOverlaps(),F,n.getRenderBuffer());return E&&(this.declutterExecutorGroup=new rL(v,c,h,r.getOverlaps(),E.finish(),n.getRenderBuffer())),this.renderedResolution_=c,this.renderedRevision_=d,this.renderedRenderOrder_=g,this.renderedExtent_=y,this.wrappedRenderedExtent_=v,this.renderedCenter_=m,this.renderedProjection_=u,this.replayGroup_=R,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,n,r,i,a,s){if(!r)return!1;let o=!1;if(Array.isArray(r))for(let l=0,f=r.length;l<f;++l)o=iL(i,t,r[l],n,this.boundHandleStyleImageChange_,a,s)||o;else o=iL(i,t,r,n,this.boundHandleStyleImageChange_,a,s);return o}}const $ot=Wot;class qot extends oot{constructor(t){super(t)}createRenderer(){return new $ot(this)}}const Apt=qot;class Xot{constructor(t){this.rbush_=new n7(t),this.items_={}}insert(t,n){const r={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:n};this.rbush_.insert(r),this.items_[si(n)]=r}load(t,n){const r=new Array(n.length);for(let i=0,a=n.length;i<a;i++){const s=t[i],o=n[i],l={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:o};r[i]=l,this.items_[si(o)]=l}this.rbush_.load(r)}remove(t){const n=si(t),r=this.items_[n];return delete this.items_[n],this.rbush_.remove(r)!==null}update(t,n){const r=this.items_[si(n)],i=[r.minX,r.minY,r.maxX,r.maxY];_v(i,t)||(this.remove(n),this.insert(t,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(t){const n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(n).map(function(i){return i.value})}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,n){return this.forEach_(this.getInExtent(t),n)}forEach_(t,n){let r;for(let i=0,a=t.length;i<a;i++)if(r=n(t[i]),r)return r;return r}isEmpty(){return Zg(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const n=this.rbush_.toJSON();return nf(n.minX,n.minY,n.maxX,n.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const n in t.items_)this.items_[n]=t.items_[n]}}const aL=Xot;class Kot extends vc{constructor(t){super(),this.projection=Di(t.projection),this.attributions_=oL(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,this.loading=!1,this.state_=t.state!==void 0?t.state:"ready",this.wrapX_=t.wrapX!==void 0?t.wrapX:!1,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(r,i){n.viewResolver=r,n.viewRejector=i})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=oL(t),this.changed()}setState(t){this.state_=t,this.changed()}}function oL(e){return e?Array.isArray(e)?function(t){return e}:typeof e=="function"?e:function(t){return[e]}:null}const c7=Kot,au={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function Zot(e,t){return[[-1/0,-1/0,1/0,1/0]]}let Jot=!1;function Qot(e,t,n,r,i,a,s){const o=new XMLHttpRequest;o.open("GET",typeof e=="function"?e(n,r,i):e,!0),t.getType()=="arraybuffer"&&(o.responseType="arraybuffer"),o.withCredentials=Jot,o.onload=function(l){if(!o.status||o.status>=200&&o.status<300){const f=t.getType();let u;f=="json"||f=="text"?u=o.responseText:f=="xml"?(u=o.responseXML,u||(u=new DOMParser().parseFromString(o.responseText,"application/xml"))):f=="arraybuffer"&&(u=o.response),u?a(t.readFeatures(u,{extent:n,featureProjection:i}),t.readProjection(u)):s()}else s()},o.onerror=s,o.send()}function sL(e,t){return function(n,r,i,a,s){const o=this;Qot(e,t,n,r,i,function(l,f){o.addFeatures(l),a!==void 0&&a(l)},s||n0)}}class jf extends vf{constructor(t,n,r){super(t),this.feature=n,this.features=r}}class tst extends c7{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:t.wrapX!==void 0?t.wrapX:!0}),this.on,this.once,this.un,this.loader_=n0,this.format_=t.format,this.overlaps_=t.overlaps===void 0?!0:t.overlaps,this.url_=t.url,t.loader!==void 0?this.loader_=t.loader:this.url_!==void 0&&(Rr(this.format_,7),this.loader_=sL(this.url_,this.format_)),this.strategy_=t.strategy!==void 0?t.strategy:Zot;const n=t.useSpatialIndex!==void 0?t.useSpatialIndex:!0;this.featuresRtree_=n?new aL:null,this.loadedExtentsRtree_=new aL,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let r,i;Array.isArray(t.features)?i=t.features:t.features&&(r=t.features,i=r.getArray()),!n&&r===void 0&&(r=new Xu(i)),i!==void 0&&this.addFeaturesInternal(i),r!==void 0&&this.bindFeaturesCollection_(r)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const n=si(t);if(!this.addToIndex_(n,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(n,t);const r=t.getGeometry();if(r){const i=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[n]=t;this.dispatchEvent(new jf(au.ADDFEATURE,t))}setupChangeEvents_(t,n){this.featureChangeKeys_[t]=[Jr(n,Sr.CHANGE,this.handleFeatureChange_,this),Jr(n,e0.PROPERTYCHANGE,this.handleFeatureChange_,this)]}addToIndex_(t,n){let r=!0;const i=n.getId();return i!==void 0&&(i.toString()in this.idIndex_?r=!1:this.idIndex_[i.toString()]=n),r&&(Rr(!(t in this.uidIndex_),30),this.uidIndex_[t]=n),r}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const n=[],r=[],i=[];for(let a=0,s=t.length;a<s;a++){const o=t[a],l=si(o);this.addToIndex_(l,o)&&r.push(o)}for(let a=0,s=r.length;a<s;a++){const o=r[a],l=si(o);this.setupChangeEvents_(l,o);const f=o.getGeometry();if(f){const u=f.getExtent();n.push(u),i.push(o)}else this.nullGeometryFeatures_[l]=o}if(this.featuresRtree_&&this.featuresRtree_.load(n,i),this.hasListener(au.ADDFEATURE))for(let a=0,s=r.length;a<s;a++)this.dispatchEvent(new jf(au.ADDFEATURE,r[a]))}bindFeaturesCollection_(t){let n=!1;this.addEventListener(au.ADDFEATURE,function(r){n||(n=!0,t.push(r.feature),n=!1)}),this.addEventListener(au.REMOVEFEATURE,function(r){n||(n=!0,t.remove(r.feature),n=!1)}),t.addEventListener(ps.ADD,r=>{n||(n=!0,this.addFeature(r.element),n=!1)}),t.addEventListener(ps.REMOVE,r=>{n||(n=!0,this.removeFeature(r.element),n=!1)}),this.featuresCollection_=t}clear(t){if(t){for(const r in this.featureChangeKeys_)this.featureChangeKeys_[r].forEach(Fi);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const r=i=>{this.removeFeatureInternal(i)};this.featuresRtree_.forEach(r);for(const i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new jf(au.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,n){const r=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(r,function(i){if(i.getGeometry().intersectsCoordinate(t))return n(i)})}forEachFeatureInExtent(t,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(t,n){return this.forEachFeatureInExtent(t,function(r){if(r.getGeometry().intersectsExtent(t)){const a=n(r);if(a)return a}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Zg(this.nullGeometryFeatures_)||Xc(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const n=[];return this.forEachFeatureAtCoordinateDirect(t,function(r){n.push(r)}),n}getFeaturesInExtent(t,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const i=Dnt(t,n);return[].concat(...i.map(a=>this.featuresRtree_.getInExtent(a)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,n){const r=t[0],i=t[1];let a=null;const s=[NaN,NaN];let o=1/0;const l=[-1/0,-1/0,1/0,1/0];return n=n||wv,this.featuresRtree_.forEachInExtent(l,function(f){if(n(f)){const u=f.getGeometry(),c=o;if(o=u.closestPointXY(r,i,s,o),o<c){a=f;const h=Math.sqrt(o);l[0]=r-h,l[1]=i-h,l[2]=r+h,l[3]=i+h}}}),a}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const n=this.idIndex_[t.toString()];return n!==void 0?n:null}getFeatureByUid(t){const n=this.uidIndex_[t];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const n=t.target,r=si(n),i=n.getGeometry();if(!i)r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[r]=n);else{const s=i.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(s,n)):this.featuresRtree_&&this.featuresRtree_.update(s,n)}const a=n.getId();if(a!==void 0){const s=a.toString();this.idIndex_[s]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[s]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[r]=n;this.changed(),this.dispatchEvent(new jf(au.CHANGEFEATURE,n))}hasFeature(t){const n=t.getId();return n!==void 0?n in this.idIndex_:si(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Zg(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(t,n,r){const i=this.loadedExtentsRtree_,a=this.strategy_(t,n,r);for(let s=0,o=a.length;s<o;++s){const l=a[s];i.forEachInExtent(l,function(u){return vg(u.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new jf(au.FEATURESLOADSTART)),this.loader_.call(this,l,n,r,u=>{--this.loadingExtentsCount_,this.dispatchEvent(new jf(au.FEATURESLOADEND,void 0,u))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new jf(au.FEATURESLOADERROR))}),i.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const n=this.loadedExtentsRtree_;let r;n.forEachInExtent(t,function(i){if(_v(i.extent,t))return r=i,!0}),r&&n.remove(r)}removeFeature(t){if(!t)return;const n=si(t);n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const n=si(t),r=this.featureChangeKeys_[n];if(!r)return;r.forEach(Fi),delete this.featureChangeKeys_[n];const i=t.getId();return i!==void 0&&delete this.idIndex_[i.toString()],delete this.uidIndex_[n],this.dispatchEvent(new jf(au.REMOVEFEATURE,t)),t}removeFromIdIndex_(t){let n=!1;for(const r in this.idIndex_)if(this.idIndex_[r]===t){delete this.idIndex_[r],n=!0;break}return n}setLoader(t){this.loader_=t}setUrl(t){Rr(this.format_,7),this.url_=t,this.setLoader(sL(t,this.format_))}}const Ipt=tst,rr={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class est extends p2{constructor(t,n,r){super(),r=r||{},this.tileCoord=t,this.state=n,this.interimTile=null,this.key="",this.transition_=r.transition===void 0?250:r.transition,this.transitionStarts_={},this.interpolate=!!r.interpolate}changed(){this.dispatchEvent(Sr.CHANGE)}release(){this.state===rr.ERROR&&this.setState(rr.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let t=this.interimTile;do{if(t.getState()==rr.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this}refreshInterimChain(){if(!this.interimTile)return;let t=this.interimTile,n=this;do{if(t.getState()==rr.LOADED){t.interimTile=null;break}else t.getState()==rr.LOADING?n=t:t.getState()==rr.IDLE?n.interimTile=t.interimTile:n=t;t=n.interimTile}while(t)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==rr.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}load(){er()}getAlpha(t,n){if(!this.transition_)return 1;let r=this.transitionStarts_[t];if(!r)r=n,this.transitionStarts_[t]=r;else if(r===-1)return 1;const i=n-r+1e3/60;return i>=this.transition_?1:t7(i/this.transition_)}inTransition(t){return this.transition_?this.transitionStarts_[t]!==-1:!1}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}}const f7=est;class nst extends f7{constructor(t,n,r,i,a,s){super(t,n,s),this.crossOrigin_=i,this.src_=r,this.key=r,this.image_=new Image,i!==null&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=a}getImage(){return this.image_}setImage(t){this.image_=t,this.state=rr.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=rr.ERROR,this.unlistenImage_(),this.image_=rst(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=rr.LOADED:this.state=rr.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==rr.ERROR&&(this.state=rr.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==rr.IDLE&&(this.state=rr.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=r7(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function rst(){const e=Zo(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}const h7=nst;class ist{constructor(t,n,r){this.decay_=t,this.minVelocity_=n,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,n){this.points_.push(t,n,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<t)return!1;let r=n-3;for(;r>0&&this.points_[r+2]>t;)r-=3;const i=this.points_[n+2]-this.points_[r+2];if(i<1e3/60)return!1;const a=this.points_[n]-this.points_[r],s=this.points_[n+1]-this.points_[r+1];return this.angle_=Math.atan2(s,a),this.initialVelocity_=Math.sqrt(a*a+s*s)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const ast=ist;class ost extends _S{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,n){er()}calculateMatrices2D(t){const n=t.viewState,r=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;wh(r,t.size[0]/2,t.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),TS(i,r)}forEachFeatureAtCoordinate(t,n,r,i,a,s,o,l){let f;const u=n.viewState;function c(x,w,E,S){return a.call(s,w,x?E:null,S)}const h=u.projection,d=HN(t.slice(),h),p=[[0,0]];if(h.canWrapX()&&i){const x=h.getExtent(),w=Ei(x);p.push([-w,0],[w,0])}const g=n.layerStatesArray,m=g.length,v=[],y=[];for(let x=0;x<p.length;x++)for(let w=m-1;w>=0;--w){const E=g[w],S=E.layer;if(S.hasRenderer()&&VS(E,u)&&o.call(l,S)){const C=S.getRenderer(),T=S.getSource();if(C&&T){const A=T.getWrapX()?d:t,O=c.bind(null,E.managed);y[0]=A[0]+p[x][0],y[1]=A[1]+p[x][1],f=C.forEachFeatureAtCoordinate(y,n,r,O,v)}if(f)return f}}if(v.length===0)return;const _=1/v.length;return v.forEach((x,w)=>x.distanceSq+=w*_),v.sort((x,w)=>x.distanceSq-w.distanceSq),v.some(x=>f=x.callback(x.feature,x.layer,x.geometry)),f}hasFeatureAtCoordinate(t,n,r,i,a,s){return this.forEachFeatureAtCoordinate(t,n,r,i,wv,this,a,s)!==void 0}getMap(){return this.map_}renderFrame(t){er()}flushDeclutterItems(t){}scheduleExpireIconCache(t){Qx.canExpireCache()&&t.postRenderFunctions.push(sst)}}function sst(e,t){Qx.expire()}const lst=ost;class ust extends lst{constructor(t){super(t),this.fontChangeListenerKey_=Jr(Bc,e0.PROPERTYCHANGE,t.redrawText.bind(t)),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=_2+" ol-layers";const r=t.getViewport();r.insertBefore(this.element_,r.firstChild||null),this.children_=[],this.renderedVisible_=!0,this.declutterLayers_=[]}dispatchRenderEvent(t,n){const r=this.getMap();if(r.hasListener(t)){const i=new o7(t,void 0,n);r.dispatchEvent(i)}}disposeInternal(){Fi(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(ic.PRECOMPOSE,t);const n=t.layerStatesArray.sort(function(s,o){return s.zIndex-o.zIndex}),r=t.viewState;this.children_.length=0;const i=this.declutterLayers_;i.length=0;let a=null;for(let s=0,o=n.length;s<o;++s){const l=n[s];t.layerIndex=s;const f=l.layer,u=f.getSourceState();if(!VS(l,r)||u!="ready"&&u!="undefined"){f.unrender();continue}const c=f.render(t,a);c&&(c!==a&&(this.children_.push(c),a=c),"getDeclutter"in f&&i.push(f))}this.flushDeclutterItems(t),bat(this.element_,this.children_),this.dispatchRenderEvent(ic.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}flushDeclutterItems(t){const n=this.declutterLayers_;for(let r=n.length-1;r>=0;--r)n[r].renderDeclutter(t);n.length=0}}const cst=ust;class Qf extends vf{constructor(t,n){super(t),this.layer=n}}const k3={LAYERS:"layers"};class YS extends Q8{constructor(t){t=t||{};const n=Object.assign({},t);delete n.layers;let r=t.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(k3.LAYERS,this.handleLayersChanged_),r?Array.isArray(r)?r=new Xu(r.slice(),{unique:!0}):Rr(typeof r.getArray=="function",43):r=new Xu(void 0,{unique:!0}),this.setLayers(r)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Fi),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(Jr(t,ps.ADD,this.handleLayersAdd_,this),Jr(t,ps.REMOVE,this.handleLayersRemove_,this));for(const r in this.listenerKeys_)this.listenerKeys_[r].forEach(Fi);By(this.listenerKeys_);const n=t.getArray();for(let r=0,i=n.length;r<i;r++){const a=n[r];this.registerLayerListeners_(a),this.dispatchEvent(new Qf("addlayer",a))}this.changed()}registerLayerListeners_(t){const n=[Jr(t,e0.PROPERTYCHANGE,this.handleLayerChange_,this),Jr(t,Sr.CHANGE,this.handleLayerChange_,this)];t instanceof YS&&n.push(Jr(t,"addlayer",this.handleLayerGroupAdd_,this),Jr(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[si(t)]=n}handleLayerGroupAdd_(t){this.dispatchEvent(new Qf("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new Qf("removelayer",t.layer))}handleLayersAdd_(t){const n=t.element;this.registerLayerListeners_(n),this.dispatchEvent(new Qf("addlayer",n)),this.changed()}handleLayersRemove_(t){const n=t.element,r=si(n);this.listenerKeys_[r].forEach(Fi),delete this.listenerKeys_[r],this.dispatchEvent(new Qf("removelayer",n)),this.changed()}getLayers(){return this.get(k3.LAYERS)}setLayers(t){const n=this.getLayers();if(n){const r=n.getArray();for(let i=0,a=r.length;i<a;++i)this.dispatchEvent(new Qf("removelayer",r[i]))}this.set(k3.LAYERS,t)}getLayersArray(t){return t=t!==void 0?t:[],this.getLayers().forEach(function(n){n.getLayersArray(t)}),t}getLayerStatesArray(t){const n=t!==void 0?t:[],r=n.length;this.getLayers().forEach(function(s){s.getLayerStatesArray(n)});const i=this.getLayerState();let a=i.zIndex;!t&&i.zIndex===void 0&&(a=0);for(let s=r,o=n.length;s<o;s++){const l=n[s];l.opacity*=i.opacity,l.visible=l.visible&&i.visible,l.maxResolution=Math.min(l.maxResolution,i.maxResolution),l.minResolution=Math.max(l.minResolution,i.minResolution),l.minZoom=Math.max(l.minZoom,i.minZoom),l.maxZoom=Math.min(l.maxZoom,i.maxZoom),i.extent!==void 0&&(l.extent!==void 0?l.extent=Xm(l.extent,i.extent):l.extent=i.extent),l.zIndex===void 0&&(l.zIndex=a)}return n}getSourceState(){return"ready"}}const w2=YS;class fst extends vf{constructor(t,n,r){super(t),this.map=n,this.frameState=r!==void 0?r:null}}const ug=fst;class hst extends ug{constructor(t,n,r,i,a,s){super(t,n,a),this.originalEvent=r,this.pixel_=null,this.coordinate_=null,this.dragging=i!==void 0?i:!1,this.activePointers=s}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const qf=hst,sa={SINGLECLICK:"singleclick",CLICK:Sr.CLICK,DBLCLICK:Sr.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},aE={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class dst extends p2{constructor(t,n){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const r=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=r,this.pointerdownListenerKey_=Jr(r,aE.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Jr(r,aE.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Sr.TOUCHMOVE,this.boundHandleTouchMove_,S8?{passive:!1}:!1)}emulateClick_(t){let n=new qf(sa.CLICK,this.map_,t);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new qf(sa.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const r=new qf(sa.SINGLECLICK,this.map_,t);this.dispatchEvent(r)},250)}updateActivePointers_(t){const n=t,r=n.pointerId;if(n.type==sa.POINTERUP||n.type==sa.POINTERCANCEL){delete this.trackedTouches_[r];for(const i in this.trackedTouches_)if(this.trackedTouches_[i].target!==n.target){delete this.trackedTouches_[i];break}}else(n.type==sa.POINTERDOWN||n.type==sa.POINTERMOVE)&&(this.trackedTouches_[r]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const n=new qf(sa.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Fi),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return t.button===0}handlePointerDown_(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);const n=new qf(sa.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),this.dragListenerKeys_.length===0){const r=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Jr(r,sa.POINTERMOVE,this.handlePointerMove_,this),Jr(r,sa.POINTERUP,this.handlePointerUp_,this),Jr(this.element_,sa.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push(Jr(this.element_.getRootNode(),sa.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const n=new qf(sa.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const n=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new qf(sa.POINTERMOVE,this.map_,t,n))}handleTouchMove_(t){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Fi(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Sr.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Fi(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Fi),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const pst=dst,Xf={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},wo={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},eb=1/0;let gst=class{constructor(t,n){this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,By(this.queuedElements_)}dequeue(){const t=this.elements_,n=this.priorities_,r=t[0];t.length==1?(t.length=0,n.length=0):(t[0]=t.pop(),n[0]=n.pop(),this.siftUp_(0));const i=this.keyFunction_(r);return delete this.queuedElements_[i],r}enqueue(t){Rr(!(this.keyFunction_(t)in this.queuedElements_),31);const n=this.priorityFunction_(t);return n!=eb?(this.elements_.push(t),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(t){return t*2+1}getRightChildIndex_(t){return t*2+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return this.elements_.length===0}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const n=this.elements_,r=this.priorities_,i=n.length,a=n[t],s=r[t],o=t;for(;t<i>>1;){const l=this.getLeftChildIndex_(t),f=this.getRightChildIndex_(t),u=f<i&&r[f]<r[l]?f:l;n[t]=n[u],r[t]=r[u],t=u}n[t]=a,r[t]=s,this.siftDown_(o,t)}siftDown_(t,n){const r=this.elements_,i=this.priorities_,a=r[n],s=i[n];for(;n>t;){const o=this.getParentIndex_(n);if(i[o]>s)r[n]=r[o],i[n]=i[o],n=o;else break}r[n]=a,i[n]=s}reprioritize(){const t=this.priorityFunction_,n=this.elements_,r=this.priorities_;let i=0;const a=n.length;let s,o,l;for(o=0;o<a;++o)s=n[o],l=t(s),l==eb?delete this.queuedElements_[this.keyFunction_(s)]:(r[i]=l,n[i++]=s);n.length=i,r.length=i,this.heapify_()}};const mst=gst;class vst extends mst{constructor(t,n){super(function(r){return t.apply(null,r)},function(r){return r[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const n=super.enqueue(t);return n&&t[0].addEventListener(Sr.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const n=t.target,r=n.getState();if(r===rr.LOADED||r===rr.ERROR||r===rr.EMPTY){r!==rr.ERROR&&n.removeEventListener(Sr.CHANGE,this.boundHandleTileChange_);const i=n.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,n){let r=0,i,a,s;for(;this.tilesLoading_<t&&r<n&&this.getCount()>0;)a=this.dequeue()[0],s=a.getKey(),i=a.getState(),i===rr.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++r,a.load())}}const yst=vst;function _st(e,t,n,r,i){if(!e||!(n in e.wantedTiles)||!e.wantedTiles[n][t.getKey()])return eb;const a=e.viewState.center,s=r[0]-a[0],o=r[1]-a[1];return 65536*Math.log(i)+Math.sqrt(s*s+o*o)/i}class xst extends vc{constructor(t){super();const n=t.element;n&&!t.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){tE(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&tE(this.element);for(let n=0,r=this.listenerKeys.length;n<r;++n)Fi(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=t,t&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==n0&&this.listenerKeys.push(Jr(t,Xf.POSTRENDER,this.render,this)),t.render())}render(t){}setTarget(t){this.target_=typeof t=="string"?document.getElementById(t):t}}const WS=xst;class bst extends WS{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=t.collapsed!==void 0?t.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=t.collapsible!==void 0,this.collapsible_=t.collapsible!==void 0?t.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const n=t.className!==void 0?t.className:"ol-attribution",r=t.tipLabel!==void 0?t.tipLabel:"Attributions",i=t.expandClassName!==void 0?t.expandClassName:n+"-expand",a=t.collapseLabel!==void 0?t.collapseLabel:"›",s=t.collapseClassName!==void 0?t.collapseClassName:n+"-collapse";typeof a=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=a,this.collapseLabel_.className=s):this.collapseLabel_=a;const o=t.label!==void 0?t.label:"i";typeof o=="string"?(this.label_=document.createElement("span"),this.label_.textContent=o,this.label_.className=i):this.label_=o;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=r,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(Sr.CLICK,this.handleClick_.bind(this),!1);const f=n+" "+_2+" "+kS+(this.collapsed_&&this.collapsible_?" "+BO:"")+(this.collapsible_?"":" ol-uncollapsible"),u=this.element;u.className=f,u.appendChild(this.toggleButton_),u.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const n=Array.from(new Set(this.getMap().getAllLayers().flatMap(i=>i.getAttributions(t)))),r=!this.getMap().getAllLayers().some(i=>i.getSource()&&i.getSource().getAttributionsCollapsible()===!1);return this.overrideCollapsible_||this.setCollapsible(r),n}updateElement_(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=this.collectSourceAttributions_(t),r=n.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!kh(n,this.renderedAttributions_)){xat(this.ulElement_);for(let i=0,a=n.length;i<a;++i){const s=document.createElement("li");s.innerHTML=n[i],this.ulElement_.appendChild(s)}this.renderedAttributions_=n}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(BO),this.collapsed_?zO(this.collapseLabel_,this.label_):zO(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}const wst=bst;class Tst extends WS{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const n=t.className!==void 0?t.className:"ol-rotate",r=t.label!==void 0?t.label:"⇧",i=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof r=="string"?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=r):(this.label_=r,this.label_.classList.add(i));const a=t.tipLabel?t.tipLabel:"Reset rotation",s=document.createElement("button");s.className=n+"-reset",s.setAttribute("type","button"),s.title=a,s.appendChild(this.label_),s.addEventListener(Sr.CLICK,this.handleClick_.bind(this),!1);const o=n+" "+_2+" "+kS,l=this.element;l.className=o,l.appendChild(s),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(M1)}handleClick_(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const r=n.getRotation();r!==void 0&&(this.duration_>0&&r%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:B0}):n.setRotation(0))}render(t){const n=t.frameState;if(!n)return;const r=n.viewState.rotation;if(r!=this.rotation_){const i="rotate("+r+"rad)";if(this.autoHide_){const a=this.element.classList.contains(M1);!a&&r===0?this.element.classList.add(M1):a&&r!==0&&this.element.classList.remove(M1)}this.label_.style.transform=i}this.rotation_=r}}const Est=Tst;class Mst extends WS{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const n=t.className!==void 0?t.className:"ol-zoom",r=t.delta!==void 0?t.delta:1,i=t.zoomInClassName!==void 0?t.zoomInClassName:n+"-in",a=t.zoomOutClassName!==void 0?t.zoomOutClassName:n+"-out",s=t.zoomInLabel!==void 0?t.zoomInLabel:"+",o=t.zoomOutLabel!==void 0?t.zoomOutLabel:"–",l=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",f=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=i,u.setAttribute("type","button"),u.title=l,u.appendChild(typeof s=="string"?document.createTextNode(s):s),u.addEventListener(Sr.CLICK,this.handleClick_.bind(this,r),!1);const c=document.createElement("button");c.className=a,c.setAttribute("type","button"),c.title=f,c.appendChild(typeof o=="string"?document.createTextNode(o):o),c.addEventListener(Sr.CLICK,this.handleClick_.bind(this,-r),!1);const h=n+" "+_2+" "+kS,d=this.element;d.className=h,d.appendChild(u),d.appendChild(c),this.duration_=t.duration!==void 0?t.duration:250}handleClick_(t,n){n.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const r=this.getMap().getView();if(!r)return;const i=r.getZoom();if(i!==void 0){const a=r.getConstrainedZoom(i+t);this.duration_>0?(r.getAnimating()&&r.cancelAnimations(),r.animate({zoom:a,duration:this.duration_,easing:B0})):r.setZoom(a)}}}const Sst=Mst;function Cst(e){e=e||{};const t=new Xu;return(e.zoom!==void 0?e.zoom:!0)&&t.push(new Sst(e.zoomOptions)),(e.rotate!==void 0?e.rotate:!0)&&t.push(new Est(e.rotateOptions)),(e.attribution!==void 0?e.attribution:!0)&&t.push(new wst(e.attributionOptions)),t}const lL={ACTIVE:"active"};class Ast extends vc{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(lL.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(lL.ACTIVE,t)}setMap(t){this.map_=t}}function Ist(e,t,n){const r=e.getCenterInternal();if(r){const i=[r[0]+t[0],r[1]+t[1]];e.animateInternal({duration:n!==void 0?n:250,easing:Gat,center:e.getConstrainedCenter(i)})}}function $S(e,t,n,r){const i=e.getZoom();if(i===void 0)return;const a=e.getConstrainedZoom(i+t),s=e.getResolutionForZoom(a);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:s,anchor:n,duration:r!==void 0?r:250,easing:B0})}const Vy=Ast;class Ost extends Vy{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let n=!1;if(t.type==sa.DBLCLICK){const r=t.originalEvent,i=t.map,a=t.coordinate,s=r.shiftKey?-this.delta_:this.delta_,o=i.getView();$S(o,s,a,this.duration_),r.preventDefault(),n=!0}return!n}}const Lst=Ost;class Pst extends Vy{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==sa.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==sa.POINTERUP){const r=this.handleUpEvent(t);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(t.type==sa.POINTERDOWN){const r=this.handleDownEvent(t);this.handlingDownUpSequence=r,n=this.stopDown(r)}else t.type==sa.POINTERMOVE&&this.handleMoveEvent(t);return!n}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}}function qS(e){const t=e.length;let n=0,r=0;for(let i=0;i<t;i++)n+=e[i].clientX,r+=e[i].clientY;return{clientX:n/t,clientY:r/t}}const Hy=Pst;function oE(e){const t=arguments;return function(n){let r=!0;for(let i=0,a=t.length;i<a&&(r=r&&t[i](n),!!r);++i);return r}}const Rst=function(e){const t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Nst=function(e){const t=e.map.getTargetElement(),n=e.map.getOwnerDocument().activeElement;return t.contains(n)},d7=function(e){return e.map.getTargetElement().hasAttribute("tabindex")?Nst(e):!0},kst=wv,p7=function(e){const t=e.originalEvent;return t.button==0&&!(zit&&E8&&t.ctrlKey)},g7=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},Dst=function(e){const t=e.originalEvent;return E8?t.metaKey:t.ctrlKey},Fst=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},m7=function(e){const t=e.originalEvent,n=t.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!t.target.isContentEditable},D3=function(e){const t=e.originalEvent;return Rr(t!==void 0,56),t.pointerType=="mouse"},zst=function(e){const t=e.originalEvent;return Rr(t!==void 0,56),t.isPrimary&&t.button===0};class Bst extends Hy{constructor(t){super({stopDown:d2}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=t.condition?t.condition:oE(g7,zst);this.condition_=t.onFocusOnly?oE(d7,n):n,this.noKinetic_=!1}handleDragEvent(t){const n=t.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const r=this.targetPointers,i=n.getEventPixel(qS(r));if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const a=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],o=t.map.getView();jnt(a,o.getResolution()),cS(a,o.getRotation()),o.adjustCenterInternal(a)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,t.originalEvent.preventDefault()}handleUpEvent(t){const n=t.map,r=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const i=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),s=r.getCenterInternal(),o=n.getPixelFromCoordinateInternal(s),l=n.getCoordinateFromPixelInternal([o[0]-i*Math.cos(a),o[1]-i*Math.sin(a)]);r.animateInternal({center:r.getConstrainedCenter(l),duration:500,easing:B0})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const r=t.map.getView();return this.lastCentroid=null,r.getAnimating()&&r.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}const Gst=Bst;class jst extends Hy{constructor(t){t=t||{},super({stopDown:d2}),this.condition_=t.condition?t.condition:Rst,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){if(!D3(t))return;const n=t.map,r=n.getView();if(r.getConstraints().rotation===US)return;const i=n.getSize(),a=t.pixel,s=Math.atan2(i[1]/2-a[1],a[0]-i[0]/2);if(this.lastAngle_!==void 0){const o=s-this.lastAngle_;r.adjustRotationInternal(-o)}this.lastAngle_=s}handleUpEvent(t){return D3(t)?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){return D3(t)&&p7(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}const Ust=jst;class Vst extends _S{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,n=this.endPixel_,r="px",i=this.element_.style;i.left=Math.min(t[0],n[0])+r,i.top=Math.min(t[1],n[1])+r,i.width=Math.abs(n[0]-t[0])+r,i.height=Math.abs(n[1]-t[1])+r}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,n){this.startPixel_=t,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const t=this.startPixel_,n=this.endPixel_,i=[t,[t[0],n[1]],n,[n[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new Mv([i])}getGeometry(){return this.geometry_}}const Hst=Vst,O1={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class F3 extends vf{constructor(t,n,r){super(t),this.coordinate=n,this.mapBrowserEvent=r}}class Yst extends Hy{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.box_=new Hst(t.className||"ol-dragbox"),this.minArea_=t.minArea!==void 0?t.minArea:64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition?t.condition:p7,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(t,n,r){const i=r[0]-n[0],a=r[1]-n[1];return i*i+a*a>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new F3(O1.BOXDRAG,t.coordinate,t))}handleUpEvent(t){this.box_.setMap(null);const n=this.boxEndCondition_(t,this.startPixel_,t.pixel);return n&&this.onBoxEnd(t),this.dispatchEvent(new F3(n?O1.BOXEND:O1.BOXCANCEL,t.coordinate,t)),!1}handleDownEvent(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new F3(O1.BOXSTART,t.coordinate,t)),!0):!1}onBoxEnd(t){}}const Wst=Yst;class $st extends Wst{constructor(t){t=t||{};const n=t.condition?t.condition:Fst;super({condition:n,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(t){const r=this.getMap().getView();let i=this.getGeometry();if(this.out_){const a=r.rotatedExtentForGeometry(i),s=r.getResolutionForExtentInternal(a),o=r.getResolution()/s;i=i.clone(),i.scale(o*o)}r.fitInternal(i,{duration:this.duration_,easing:B0})}}const qst=$st,rd={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class Xst extends Vy{constructor(t){super(),t=t||{},this.defaultCondition_=function(n){return g7(n)&&m7(n)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(t){let n=!1;if(t.type==Sr.KEYDOWN){const r=t.originalEvent,i=r.key;if(this.condition_(t)&&(i==rd.DOWN||i==rd.LEFT||i==rd.RIGHT||i==rd.UP)){const s=t.map.getView(),o=s.getResolution()*this.pixelDelta_;let l=0,f=0;i==rd.DOWN?f=-o:i==rd.LEFT?l=-o:i==rd.RIGHT?l=o:f=o;const u=[l,f];cS(u,s.getRotation()),Ist(s,u,this.duration_),r.preventDefault(),n=!0}}return!n}}const Kst=Xst;class Zst extends Vy{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(n){return!Dst(n)&&m7(n)},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(t){let n=!1;if(t.type==Sr.KEYDOWN||t.type==Sr.KEYPRESS){const r=t.originalEvent,i=r.key;if(this.condition_(t)&&(i==="+"||i==="-")){const a=t.map,s=i==="+"?this.delta_:-this.delta_,o=a.getView();$S(o,s,void 0,this.duration_),r.preventDefault(),n=!0}}return!n}}const Jst=Zst;class Qst extends Vy{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=t.maxDelta!==void 0?t.maxDelta:1,this.duration_=t.duration!==void 0?t.duration:250,this.timeout_=t.timeout!==void 0?t.timeout:80,this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t.constrainResolution:!1;const n=t.condition?t.condition:kst;this.condition_=t.onFocusOnly?oE(d7,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(t){if(!this.condition_(t)||t.type!==Sr.WHEEL)return!0;const r=t.map,i=t.originalEvent;i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);let a;if(t.type==Sr.WHEEL&&(a=i.deltaY,Dit&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(a/=M8),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(a*=40)),a===0)return!1;this.lastDelta_=a;const s=Date.now();this.startTime_===void 0&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(a)<4?"trackpad":"wheel");const o=r.getView();if(this.mode_==="trackpad"&&!(o.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-a/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=a;const l=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),l),!1}handleWheelZoom_(t){const n=t.getView();n.getAnimating()&&n.cancelAnimations();let r=-ca(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),$S(n,r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}const tlt=Qst;class elt extends Hy{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=d2),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){let n=0;const r=this.targetPointers[0],i=this.targetPointers[1],a=Math.atan2(i.clientY-r.clientY,i.clientX-r.clientX);if(this.lastAngle_!==void 0){const l=a-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=l}this.lastAngle_=a;const s=t.map,o=s.getView();o.getConstraints().rotation!==US&&(this.anchor_=s.getCoordinateFromPixelInternal(s.getEventPixel(qS(this.targetPointers))),this.rotating_&&(s.render(),o.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(t){return this.targetPointers.length<2?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}const nlt=elt;class rlt extends Hy{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=d2),super(n),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let n=1;const r=this.targetPointers[0],i=this.targetPointers[1],a=r.clientX-i.clientX,s=r.clientY-i.clientY,o=Math.sqrt(a*a+s*s);this.lastDistance_!==void 0&&(n=this.lastDistance_/o),this.lastDistance_=o;const l=t.map,f=l.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(qS(this.targetPointers))),l.render(),f.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const r=t.map.getView(),i=this.lastScaleDelta_>1?1:-1;return r.endInteraction(this.duration_,i),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}const ilt=rlt;function alt(e){e=e||{};const t=new Xu,n=new ast(-.005,.05,100);return(e.altShiftDragRotate!==void 0?e.altShiftDragRotate:!0)&&t.push(new Ust),(e.doubleClickZoom!==void 0?e.doubleClickZoom:!0)&&t.push(new Lst({delta:e.zoomDelta,duration:e.zoomDuration})),(e.dragPan!==void 0?e.dragPan:!0)&&t.push(new Gst({onFocusOnly:e.onFocusOnly,kinetic:n})),(e.pinchRotate!==void 0?e.pinchRotate:!0)&&t.push(new nlt),(e.pinchZoom!==void 0?e.pinchZoom:!0)&&t.push(new ilt({duration:e.zoomDuration})),(e.keyboard!==void 0?e.keyboard:!0)&&(t.push(new Kst),t.push(new Jst({delta:e.zoomDelta,duration:e.zoomDuration}))),(e.mouseWheelZoom!==void 0?e.mouseWheelZoom:!0)&&t.push(new tlt({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(e.shiftDragZoom!==void 0?e.shiftDragZoom:!0)&&t.push(new qst({duration:e.zoomDuration})),t}function v7(e){if(e instanceof b2){e.setMapInternal(null);return}e instanceof w2&&e.getLayers().forEach(v7)}function y7(e,t){if(e instanceof b2){e.setMapInternal(t);return}if(e instanceof w2){const n=e.getLayers().getArray();for(let r=0,i=n.length;r<i;++r)y7(n[r],t)}}let olt=class extends vc{constructor(t){super(),t=t||{},this.on,this.once,this.un;const n=slt(t);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:M8,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=rc(),this.pixelToCoordinateTransform_=rc(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||Cst(),this.interactions=n.interactions||alt({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new yst(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(wo.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(wo.VIEW,this.handleViewChanged_),this.addChangeListener(wo.SIZE,this.handleSizeChanged_),this.addChangeListener(wo.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const r=this;t.view&&!(t.view instanceof Uc)&&t.view.then(function(i){r.setView(new Uc(i))}),this.controls.addEventListener(ps.ADD,i=>{i.element.setMap(this)}),this.controls.addEventListener(ps.REMOVE,i=>{i.element.setMap(null)}),this.interactions.addEventListener(ps.ADD,i=>{i.element.setMap(this)}),this.interactions.addEventListener(ps.REMOVE,i=>{i.element.setMap(null)}),this.overlays_.addEventListener(ps.ADD,i=>{this.addOverlayInternal_(i.element)}),this.overlays_.addEventListener(ps.REMOVE,i=>{const a=i.element.getId();a!==void 0&&delete this.overlayIdIndex_[a.toString()],i.element.setMap(null)}),this.controls.forEach(i=>{i.setMap(this)}),this.interactions.forEach(i=>{i.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){y7(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const n=t.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,n,r){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(t);r=r!==void 0?r:{};const a=r.hitTolerance!==void 0?r.hitTolerance:0,s=r.layerFilter!==void 0?r.layerFilter:wv,o=r.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,a,o,n,null,s,null)}getFeaturesAtPixel(t,n){const r=[];return this.forEachFeatureAtPixel(t,function(i){r.push(i)},n),r}getAllLayers(){const t=[];function n(r){r.forEach(function(i){i instanceof w2?n(i.getLayers()):t.push(i)})}return n(this.getLayers()),t}hasFeatureAtPixel(t,n){if(!this.frameState_||!this.renderer_)return!1;const r=this.getCoordinateFromPixelInternal(t);n=n!==void 0?n:{};const i=n.layerFilter!==void 0?n.layerFilter:wv,a=n.hitTolerance!==void 0?n.hitTolerance:0,s=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,a,s,i,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const r=this.viewport_.getBoundingClientRect(),i=this.getSize(),a=r.width/i[0],s=r.height/i[1],o="changedTouches"in t?t.changedTouches[0]:t;return[(o.clientX-r.left)/a,(o.clientY-r.top)/s]}getTarget(){return this.get(wo.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return jT(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const n=this.frameState_;return n?Xa(n.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const n=this.overlayIdIndex_[t.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(wo.LAYERGROUP)}setLayers(t){const n=this.getLayerGroup();if(t instanceof Xu){n.setLayers(t);return}const r=n.getLayers();r.clear(),r.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=t.length;n<r;++n){const i=t[n];if(!i.visible)continue;const a=i.layer.getRenderer();if(a&&!a.ready)return!0;const s=i.layer.getSource();if(s&&s.loading)return!0}return!1}getPixelFromCoordinate(t){const n=zc(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(t){const n=this.frameState_;return n?Xa(n.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(wo.SIZE)}getView(){return this.get(wo.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,n,r,i){return _st(this.frameState_,t,n,r,i)}handleBrowserEvent(t,n){n=n||t.type;const r=new qf(n,this,t);this.handleMapBrowserEvent(r)}handleMapBrowserEvent(t){if(!this.frameState_)return;const n=t.originalEvent,r=n.type;if(r===aE.POINTERDOWN||r===Sr.WHEEL||r===Sr.KEYDOWN){const i=this.getOwnerDocument(),a=this.viewport_.getRootNode?this.viewport_.getRootNode():i,s=n.target;if(this.overlayContainerStopEvent_.contains(s)||!(a===i?i.documentElement:a).contains(s))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){const i=this.getInteractions().getArray().slice();for(let a=i.length-1;a>=0;a--){const s=i[a];if(s.getMap()!==this||!s.getActive()||!this.getTargetElement())continue;if(!s.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let i=this.maxTilesLoading_,a=i;if(t){const s=t.viewHints;if(s[Eo.ANIMATING]||s[Eo.INTERACTING]){const o=Date.now()-t.time>8;i=o?0:8,a=o?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,a))}t&&this.renderer_&&!t.animate&&(this.renderComplete_===!0?(this.hasListener(ic.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(ic.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new ug(Xf.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new ug(Xf.LOADSTART,this,t))));const r=this.postRenderFunctions_;for(let i=0,a=r.length;i<a;++i)r[i](this,t);r.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let r=0,i=this.targetChangeHandlerKeys_.length;r<i;++r)Fi(this.targetChangeHandlerKeys_[r]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Sr.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Sr.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,tE(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const r=this.targetElement_.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.unobserve(r.host),this.setSize(void 0)}const t=this.getTarget(),n=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new cst(this)),this.mapBrowserEventHandler_=new pst(this,this.moveTolerance_);for(const a in sa)this.mapBrowserEventHandler_.addEventListener(sa[a],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Sr.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Sr.WHEEL,this.boundHandleBrowserEvent_,S8?{passive:!1}:!1);const r=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[Jr(r,Sr.KEYDOWN,this.handleBrowserEvent,this),Jr(r,Sr.KEYPRESS,this.handleBrowserEvent,this)];const i=n.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Fi(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Fi(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Jr(t,e0.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Jr(t,Sr.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Fi),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new Qf("addlayer",t)),this.layerGroupPropertyListenerKeys_=[Jr(t,e0.PROPERTYCHANGE,this.render,this),Jr(t,Sr.CHANGE,this.render,this),Jr(t,"addlayer",this.handleLayerAdd_,this),Jr(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=t.length;n<r;++n){const i=t[n].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}flushDeclutterItems(){const t=this.frameState_;t&&this.renderer_.flushDeclutterItems(t)}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){v7(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const n=this.getSize(),r=this.getView(),i=this.frameState_;let a=null;if(n!==void 0&&DO(n)&&r&&r.isDef()){const s=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),o=r.getState();if(a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:FT(o.center,o.resolution,o.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:o,viewHints:s,wantedTiles:{},mapId:si(this),renderTargets:{}},o.nextCenter&&o.nextResolution){const l=isNaN(o.nextRotation)?o.rotation:o.nextRotation;a.nextExtent=FT(o.nextCenter,o.nextResolution,l,n)}}this.frameState_=a,this.renderer_.renderFrame(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),i&&(!this.previousExtent_||!Gy(this.previousExtent_)&&!_v(a.extent,this.previousExtent_))&&(this.dispatchEvent(new ug(Xf.MOVESTART,this,i)),this.previousExtent_=F0(this.previousExtent_)),this.previousExtent_&&!a.viewHints[Eo.ANIMATING]&&!a.viewHints[Eo.INTERACTING]&&!_v(a.extent,this.previousExtent_)&&(this.dispatchEvent(new ug(Xf.MOVEEND,this,a)),zN(a.extent,this.previousExtent_))),this.dispatchEvent(new ug(Xf.POSTRENDER,this,a)),this.renderComplete_=this.hasListener(Xf.LOADSTART)||this.hasListener(Xf.LOADEND)||this.hasListener(ic.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new Qf("removelayer",n)),this.set(wo.LAYERGROUP,t)}setSize(t){this.set(wo.SIZE,t)}setTarget(t){this.set(wo.TARGET,t)}setView(t){if(!t||t instanceof Uc){this.set(wo.VIEW,t);return}this.set(wo.VIEW,new Uc);const n=this;t.then(function(r){n.setView(new Uc(r))})}updateSize(){const t=this.getTargetElement();let n;if(t){const i=getComputedStyle(t),a=t.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),s=t.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(a)&&!isNaN(s)&&(n=[a,s],!DO(n)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&$N("No map visible because the map container's width or height are 0."))}const r=this.getSize();n&&(!r||!kh(n,r))&&(this.setSize(n),this.updateViewportSize_())}updateViewportSize_(){const t=this.getView();if(t){let n;const r=getComputedStyle(this.viewport_);r.width&&r.height&&(n=[parseInt(r.width,10),parseInt(r.height,10)]),t.setViewportSize(n)}}};function slt(e){let t=null;e.keyboardEventTarget!==void 0&&(t=typeof e.keyboardEventTarget=="string"?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);const n={},r=e.layers&&typeof e.layers.getLayers=="function"?e.layers:new w2({layers:e.layers});n[wo.LAYERGROUP]=r,n[wo.TARGET]=e.target,n[wo.VIEW]=e.view instanceof Uc?e.view:new Uc;let i;e.controls!==void 0&&(Array.isArray(e.controls)?i=new Xu(e.controls.slice()):(Rr(typeof e.controls.getArray=="function",47),i=e.controls));let a;e.interactions!==void 0&&(Array.isArray(e.interactions)?a=new Xu(e.interactions.slice()):(Rr(typeof e.interactions.getArray=="function",48),a=e.interactions));let s;return e.overlays!==void 0?Array.isArray(e.overlays)?s=new Xu(e.overlays.slice()):(Rr(typeof e.overlays.getArray=="function",49),s=e.overlays):s=new Xu,{controls:i,interactions:a,keyboardEventTarget:t,overlays:s,values:n}}const Ppt=olt;class llt{constructor(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let n=this.oldest_;for(;n;)t(n.value_,n.key_,this),n=n.newer}get(t,n){const r=this.entries_[t];return Rr(r!==void 0,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_}remove(t){const n=this.entries_[t];return Rr(n!==void 0,15),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[t],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let n=0,r;for(r=this.newest_;r;r=r.older)t[n++]=r.key_;return t}getValues(){const t=new Array(this.count_);let n=0,r;for(r=this.newest_;r;r=r.older)t[n++]=r.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){if(this.containsKey(t))return this.entries_[t].value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,n){this.get(t),this.entries_[t].value_=n}set(t,n){Rr(!(t in this.entries_),16);const r={key_:t,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[t]=r,++this.count_}setSize(t){this.highWaterMark=t}}const ult=llt;function uL(e,t,n,r){return r!==void 0?(r[0]=e,r[1]=t,r[2]=n,r):[e,t,n]}function T2(e,t,n){return e+"/"+t+"/"+n}function _7(e){return T2(e[0],e[1],e[2])}function clt(e){return e.split("/").map(Number)}function x7(e){return(e[1]<<e[0])+e[2]}function flt(e,t){const n=e[0],r=e[1],i=e[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;const a=t.getFullTileRange(n);return a?a.containsXY(r,i):!0}class hlt extends ult{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const t=this.peekFirstKey(),r=clt(t)[0];this.forEach(i=>{i.tileCoord[0]!==r&&(this.remove(_7(i.tileCoord)),i.release())})}}const b7=hlt;class w7{constructor(t,n,r,i){this.minX=t,this.maxX=n,this.minY=r,this.maxY=i}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,n){return this.minX<=t&&t<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function Xp(e,t,n,r,i){return i!==void 0?(i.minX=e,i.maxX=t,i.minY=n,i.maxY=r,i):new w7(e,t,n,r)}const T7=w7;class E7{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(t,n){if(n){let r=n.dataProjection?Di(n.dataProjection):this.readProjection(t);n.extent&&r&&r.getUnits()==="tile-pixels"&&(r=Di(r),r.setWorldExtent(n.extent)),n={dataProjection:r,featureProjection:n.featureProjection}}return this.adaptOptions(n)}adaptOptions(t){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)}getType(){return er()}readFeature(t,n){return er()}readFeatures(t,n){return er()}readGeometry(t,n){return er()}readProjection(t){return er()}writeFeature(t,n){return er()}writeFeatures(t,n){return er()}writeGeometry(t,n){return er()}}function nb(e,t,n){const r=n?Di(n.featureProjection):null,i=n?Di(n.dataProjection):null;let a;if(r&&i&&!fd(r,i)?a=(t?e.clone():e).transform(t?r:i,t?i:r):a=e,t&&n&&n.decimals!==void 0){const s=Math.pow(10,n.decimals),o=function(l){for(let f=0,u=l.length;f<u;++f)l[f]=Math.round(l[f]*s)/s;return l};a===e&&(a=e.clone()),a.applyTransform(o)}return a}class dlt extends E7{constructor(){super()}getType(){return"json"}readFeature(t,n){return this.readFeatureFromObject(L1(t),this.getReadOptions(t,n))}readFeatures(t,n){return this.readFeaturesFromObject(L1(t),this.getReadOptions(t,n))}readFeatureFromObject(t,n){return er()}readFeaturesFromObject(t,n){return er()}readGeometry(t,n){return this.readGeometryFromObject(L1(t),this.getReadOptions(t,n))}readGeometryFromObject(t,n){return er()}readProjection(t){return this.readProjectionFromObject(L1(t))}readProjectionFromObject(t){return er()}writeFeature(t,n){return JSON.stringify(this.writeFeatureObject(t,n))}writeFeatureObject(t,n){return er()}writeFeatures(t,n){return JSON.stringify(this.writeFeaturesObject(t,n))}writeFeaturesObject(t,n){return er()}writeGeometry(t,n){return JSON.stringify(this.writeGeometryObject(t,n))}writeGeometryObject(t,n){return er()}}function L1(e){if(typeof e=="string"){const t=JSON.parse(e);return t||null}return e!==null?e:null}const plt=dlt;let glt=class sE extends hp{constructor(t,n,r){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(t[0]))this.setCoordinates(t,n);else if(n!==void 0&&r)this.setFlatCoordinates(n,t),this.ends_=r;else{let i=this.getLayout();const a=t,s=[],o=[];for(let l=0,f=a.length;l<f;++l){const u=a[l];l===0&&(i=u.getLayout()),Xc(s,u.getFlatCoordinates()),o.push(s.length)}this.setFlatCoordinates(i,s),this.ends_=o}}appendLineString(t){this.flatCoordinates?Xc(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new sE(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,n,r,i){return i<up(this.getExtent(),t,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(MS(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),CS(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,n,r,i))}getCoordinateAtM(t,n,r){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(n=n!==void 0?n:!1,r=r!==void 0?r:!1,dat(this.flatCoordinates,0,this.ends_,this.stride,t,n,r))}getCoordinates(){return Tv(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(t){return t<0||this.ends_.length<=t?null:new qx(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLineStrings(){const t=this.flatCoordinates,n=this.ends_,r=this.layout,i=[];let a=0;for(let s=0,o=n.length;s<o;++s){const l=n[s],f=new qx(t.slice(a,l),r);i.push(f),a=l}return i}getFlatMidpoints(){const t=[],n=this.flatCoordinates;let r=0;const i=this.ends_,a=this.stride;for(let s=0,o=i.length;s<o;++s){const l=i[s],f=j8(n,r,l,a,.5);Xc(t,f),r=l}return t}getSimplifiedGeometryInternal(t){const n=[],r=[];return n.length=tat(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,r),new sE(n,"XY",r)}getType(){return"MultiLineString"}intersectsExtent(t){return uat(this.flatCoordinates,0,this.ends_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=AS(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}};const M7=glt;let mlt=class S7 extends hp{constructor(t,n){super(),n&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}appendPoint(t){this.flatCoordinates?Xc(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()}clone(){const t=new S7(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,r,i){if(i<up(this.getExtent(),t,n))return i;const a=this.flatCoordinates,s=this.stride;for(let o=0,l=a.length;o<l;o+=s){const f=Id(t,n,a[o],a[o+1]);if(f<i){i=f;for(let u=0;u<s;++u)r[u]=a[o+u];r.length=s}}return i}getCoordinates(){return th(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(t){const n=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||n<=t?null:new Ev(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)}getPoints(){const t=this.flatCoordinates,n=this.layout,r=this.stride,i=[];for(let a=0,s=t.length;a<s;a+=r){const o=new Ev(t.slice(a,a+r),n);i.push(o)}return i}getType(){return"MultiPoint"}intersectsExtent(t){const n=this.flatCoordinates,r=this.stride;for(let i=0,a=n.length;i<a;i+=r){const s=n[i],o=n[i+1];if(lS(t,s,o))return!0}return!1}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=m2(this.flatCoordinates,0,t,this.stride),this.changed()}};const XS=mlt;function vlt(e,t,n,r){const i=[];let a=tl();for(let s=0,o=n.length;s<o;++s){const l=n[s];a=BN(e,t,l[0],r),i.push((a[0]+a[2])/2,(a[1]+a[3])/2),t=l[l.length-1]}return i}let ylt=class lE extends hp{constructor(t,n,r){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!r&&!Array.isArray(t[0])){let i=this.getLayout();const a=t,s=[],o=[];for(let l=0,f=a.length;l<f;++l){const u=a[l];l===0&&(i=u.getLayout());const c=s.length,h=u.getEnds();for(let d=0,p=h.length;d<p;++d)h[d]+=c;Xc(s,u.getFlatCoordinates()),o.push(h)}n=i,t=s,r=o}n!==void 0&&r?(this.setFlatCoordinates(n,t),this.endss_=r):this.setCoordinates(t,n)}appendPolygon(t){let n;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),n=t.getEnds().slice(),this.endss_.push();else{const r=this.flatCoordinates.length;Xc(this.flatCoordinates,t.getFlatCoordinates()),n=t.getEnds().slice();for(let i=0,a=n.length;i<a;++i)n[i]+=r}this.endss_.push(n),this.changed()}clone(){const t=this.endss_.length,n=new Array(t);for(let i=0;i<t;++i)n[i]=this.endss_[i].slice();const r=new lE(this.flatCoordinates.slice(),this.layout,n);return r.applyProperties(this),r}closestPointXY(t,n,r,i){return i<up(this.getExtent(),t,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Kit(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Zit(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,n,r,i))}containsXY(t,n){return sat(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,n)}getArea(){return rat(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(t){let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),RO(n,0,this.endss_,this.stride,t)):n=this.flatCoordinates,qT(n,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const t=vlt(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=lat(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new XS(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;hat(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=RO(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const n=[],r=[];return n.length=nat(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,r),new lE(n,"XY",r)}getPolygon(t){if(t<0||this.endss_.length<=t)return null;let n;if(t===0)n=0;else{const a=this.endss_[t-1];n=a[a.length-1]}const r=this.endss_[t].slice(),i=r[r.length-1];if(n!==0)for(let a=0,s=r.length;a<s;++a)r[a]-=n;return new Mv(this.flatCoordinates.slice(n,i),this.layout,r)}getPolygons(){const t=this.layout,n=this.flatCoordinates,r=this.endss_,i=[];let a=0;for(let s=0,o=r.length;s<o;++s){const l=r[s].slice(),f=l[l.length-1];if(a!==0)for(let c=0,h=l.length;c<h;++c)l[c]-=a;const u=new Mv(n.slice(a,f),t,l);i.push(u),a=f}return i}getType(){return"MultiPolygon"}intersectsExtent(t){return cat(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,3),this.flatCoordinates||(this.flatCoordinates=[]);const r=Qit(this.flatCoordinates,0,t,this.stride,this.endss_);if(r.length===0)this.flatCoordinates.length=0;else{const i=r[r.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()}};const C7=ylt;let _lt=class uE extends I8{constructor(t){super(),this.geometries_=t||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(Fi),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let t=0,n=this.geometries_.length;t<n;++t)this.changeEventsKeys_.push(Jr(this.geometries_[t],Sr.CHANGE,this.changed,this))}clone(){const t=new uE(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t}closestPointXY(t,n,r,i){if(i<up(this.getExtent(),t,n))return i;const a=this.geometries_;for(let s=0,o=a.length;s<o;++s)i=a[s].closestPointXY(t,n,r,i);return i}containsXY(t,n){const r=this.geometries_;for(let i=0,a=r.length;i<a;++i)if(r[i].containsXY(t,n))return!0;return!1}computeExtent(t){F0(t);const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)GN(t,n[r].getExtent());return t}getGeometries(){return cL(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let t=[];const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].getType()===this.getType()?t=t.concat(n[r].getGeometriesArrayRecursive()):t.push(n[r]);return t}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=[],r=this.geometries_;let i=!1;for(let a=0,s=r.length;a<s;++a){const o=r[a],l=o.getSimplifiedGeometry(t);n.push(l),l!==o&&(i=!0)}if(i){const a=new uE(null);return a.setGeometriesArray(n),a}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this}getType(){return"GeometryCollection"}intersectsExtent(t){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)if(n[r].intersectsExtent(t))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(t,n){const r=this.geometries_;for(let i=0,a=r.length;i<a;++i)r[i].rotate(t,n);this.changed()}scale(t,n,r){r||(r=Ud(this.getExtent()));const i=this.geometries_;for(let a=0,s=i.length;a<s;++a)i[a].scale(t,n,r);this.changed()}setGeometries(t){this.setGeometriesArray(cL(t))}setGeometriesArray(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()}applyTransform(t){const n=this.geometries_;for(let r=0,i=n.length;r<i;++r)n[r].applyTransform(t);this.changed()}translate(t,n){const r=this.geometries_;for(let i=0,a=r.length;i<a;++i)r[i].translate(t,n);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}};function cL(e){const t=[];for(let n=0,r=e.length;n<r;++n)t.push(e[n].clone());return t}const rb=_lt;class xlt extends plt{constructor(t){t=t||{},super(),this.dataProjection=Di(t.dataProjection?t.dataProjection:"EPSG:4326"),t.featureProjection&&(this.defaultFeatureProjection=Di(t.featureProjection)),this.geometryName_=t.geometryName,this.extractGeometryName_=t.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(t,n){let r=null;t.type==="Feature"?r=t:r={type:"Feature",geometry:t,properties:null};const i=cE(r.geometry,n),a=new $T;return this.geometryName_?a.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in r!==void 0&&a.setGeometryName(r.geometry_name),a.setGeometry(i),"id"in r&&a.setId(r.id),r.properties&&a.setProperties(r.properties,!0),a}readFeaturesFromObject(t,n){const r=t;let i=null;if(r.type==="FeatureCollection"){const a=t;i=[];const s=a.features;for(let o=0,l=s.length;o<l;++o)i.push(this.readFeatureFromObject(s[o],n))}else i=[this.readFeatureFromObject(t,n)];return i}readGeometryFromObject(t,n){return cE(t,n)}readProjectionFromObject(t){const n=t.crs;let r;return n?n.type=="name"?r=Di(n.properties.name):n.type==="EPSG"?r=Di("EPSG:"+n.properties.code):Rr(!1,36):r=this.dataProjection,r}writeFeatureObject(t,n){n=this.adaptOptions(n);const r={type:"Feature",geometry:null,properties:null},i=t.getId();if(i!==void 0&&(r.id=i),!t.hasProperties())return r;const a=t.getProperties(),s=t.getGeometry();return s&&(r.geometry=fE(s,n),delete a[t.getGeometryName()]),Zg(a)||(r.properties=a),r}writeFeaturesObject(t,n){n=this.adaptOptions(n);const r=[];for(let i=0,a=t.length;i<a;++i)r.push(this.writeFeatureObject(t[i],n));return{type:"FeatureCollection",features:r}}writeGeometryObject(t,n){return fE(t,this.adaptOptions(n))}}function cE(e,t){if(!e)return null;let n;switch(e.type){case"Point":{n=wlt(e);break}case"LineString":{n=Tlt(e);break}case"Polygon":{n=Clt(e);break}case"MultiPoint":{n=Mlt(e);break}case"MultiLineString":{n=Elt(e);break}case"MultiPolygon":{n=Slt(e);break}case"GeometryCollection":{n=blt(e);break}default:throw new Error("Unsupported GeoJSON type: "+e.type)}return nb(n,!1,t)}function blt(e,t){const n=e.geometries.map(function(r){return cE(r,t)});return new rb(n)}function wlt(e){return new Ev(e.coordinates)}function Tlt(e){return new qx(e.coordinates)}function Elt(e){return new M7(e.coordinates)}function Mlt(e){return new XS(e.coordinates)}function Slt(e){return new C7(e.coordinates)}function Clt(e){return new Mv(e.coordinates)}function fE(e,t){e=nb(e,!0,t);const n=e.getType();let r;switch(n){case"Point":{r=Rlt(e);break}case"LineString":{r=Ilt(e);break}case"Polygon":{r=Nlt(e,t);break}case"MultiPoint":{r=Llt(e);break}case"MultiLineString":{r=Olt(e);break}case"MultiPolygon":{r=Plt(e,t);break}case"GeometryCollection":{r=Alt(e,t);break}case"Circle":{r={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+n)}return r}function Alt(e,t){return t=Object.assign({},t),delete t.featureProjection,{type:"GeometryCollection",geometries:e.getGeometriesArray().map(function(r){return fE(r,t)})}}function Ilt(e,t){return{type:"LineString",coordinates:e.getCoordinates()}}function Olt(e,t){return{type:"MultiLineString",coordinates:e.getCoordinates()}}function Llt(e,t){return{type:"MultiPoint",coordinates:e.getCoordinates()}}function Plt(e,t){let n;return t&&(n=t.rightHanded),{type:"MultiPolygon",coordinates:e.getCoordinates(n)}}function Rlt(e,t){return{type:"Point",coordinates:e.getCoordinates()}}function Nlt(e,t){let n;return t&&(n=t.rightHanded),{type:"Polygon",coordinates:e.getCoordinates(n)}}const Rpt=xlt;class klt extends E7{constructor(){super()}getType(){return"text"}readFeature(t,n){return this.readFeatureFromText(P1(t),this.adaptOptions(n))}readFeatureFromText(t,n){return er()}readFeatures(t,n){return this.readFeaturesFromText(P1(t),this.adaptOptions(n))}readFeaturesFromText(t,n){return er()}readGeometry(t,n){return this.readGeometryFromText(P1(t),this.adaptOptions(n))}readGeometryFromText(t,n){return er()}readProjection(t){return this.readProjectionFromText(P1(t))}readProjectionFromText(t){return this.dataProjection}writeFeature(t,n){return this.writeFeatureText(t,this.adaptOptions(n))}writeFeatureText(t,n){return er()}writeFeatures(t,n){return this.writeFeaturesText(t,this.adaptOptions(n))}writeFeaturesText(t,n){return er()}writeGeometry(t,n){return this.writeGeometryText(t,this.adaptOptions(n))}writeGeometryText(t,n){return er()}}function P1(e){return typeof e=="string"?e:""}const Dlt=klt;var Tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Flt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const zlt={POINT:Ev,LINESTRING:qx,POLYGON:Mv,MULTIPOINT:XS,MULTILINESTRING:M7,MULTIPOLYGON:C7},A7="EMPTY",I7="Z",O7="M",Blt="ZM",ai={START:0,TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6},Glt={Point:"POINT",LineString:"LINESTRING",Polygon:"POLYGON",MultiPoint:"MULTIPOINT",MultiLineString:"MULTILINESTRING",MultiPolygon:"MULTIPOLYGON",GeometryCollection:"GEOMETRYCOLLECTION",Circle:"CIRCLE"};class jlt{constructor(t){this.wkt=t,this.index_=-1}isAlpha_(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"}isNumeric_(t,n){return n=n!==void 0?n:!1,t>="0"&&t<="9"||t=="."&&!n}isWhiteSpace_(t){return t==" "||t=="	"||t=="\r"||t==`
`}nextChar_(){return this.wkt.charAt(++this.index_)}nextToken(){const t=this.nextChar_(),n=this.index_;let r=t,i;if(t=="(")i=ai.LEFT_PAREN;else if(t==",")i=ai.COMMA;else if(t==")")i=ai.RIGHT_PAREN;else if(this.isNumeric_(t)||t=="-")i=ai.NUMBER,r=this.readNumber_();else if(this.isAlpha_(t))i=ai.TEXT,r=this.readText_();else{if(this.isWhiteSpace_(t))return this.nextToken();if(t==="")i=ai.EOF;else throw new Error("Unexpected character: "+t)}return{position:n,value:r,type:i}}readNumber_(){let t;const n=this.index_;let r=!1,i=!1;do t=="."?r=!0:(t=="e"||t=="E")&&(i=!0),t=this.nextChar_();while(this.isNumeric_(t,r)||!i&&(t=="e"||t=="E")||i&&(t=="-"||t=="+"));return parseFloat(this.wkt.substring(n,this.index_--))}readText_(){let t;const n=this.index_;do t=this.nextChar_();while(this.isAlpha_(t));return this.wkt.substring(n,this.index_--).toUpperCase()}}class Ult{constructor(t){this.lexer_=t,this.token_={position:0,type:ai.START},this.layout_="XY"}consume_(){this.token_=this.lexer_.nextToken()}isTokenType(t){return this.token_.type==t}match(t){const n=this.isTokenType(t);return n&&this.consume_(),n}parse(){return this.consume_(),this.parseGeometry_()}parseGeometryLayout_(){let t="XY";const n=this.token_;if(this.isTokenType(ai.TEXT)){const r=n.value;r===I7?t="XYZ":r===O7?t="XYM":r===Blt&&(t="XYZM"),t!=="XY"&&this.consume_()}return t}parseGeometryCollectionText_(){if(this.match(ai.LEFT_PAREN)){const t=[];do t.push(this.parseGeometry_());while(this.match(ai.COMMA));if(this.match(ai.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())}parsePointText_(){if(this.match(ai.LEFT_PAREN)){const t=this.parsePoint_();if(this.match(ai.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())}parseLineStringText_(){if(this.match(ai.LEFT_PAREN)){const t=this.parsePointList_();if(this.match(ai.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())}parsePolygonText_(){if(this.match(ai.LEFT_PAREN)){const t=this.parseLineStringTextList_();if(this.match(ai.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())}parseMultiPointText_(){if(this.match(ai.LEFT_PAREN)){let t;if(this.token_.type==ai.LEFT_PAREN?t=this.parsePointTextList_():t=this.parsePointList_(),this.match(ai.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())}parseMultiLineStringText_(){if(this.match(ai.LEFT_PAREN)){const t=this.parseLineStringTextList_();if(this.match(ai.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())}parseMultiPolygonText_(){if(this.match(ai.LEFT_PAREN)){const t=this.parsePolygonTextList_();if(this.match(ai.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())}parsePoint_(){const t=[],n=this.layout_.length;for(let r=0;r<n;++r){const i=this.token_;if(this.match(ai.NUMBER))t.push(i.value);else break}if(t.length==n)return t;throw new Error(this.formatErrorMessage_())}parsePointList_(){const t=[this.parsePoint_()];for(;this.match(ai.COMMA);)t.push(this.parsePoint_());return t}parsePointTextList_(){const t=[this.parsePointText_()];for(;this.match(ai.COMMA);)t.push(this.parsePointText_());return t}parseLineStringTextList_(){const t=[this.parseLineStringText_()];for(;this.match(ai.COMMA);)t.push(this.parseLineStringText_());return t}parsePolygonTextList_(){const t=[this.parsePolygonText_()];for(;this.match(ai.COMMA);)t.push(this.parsePolygonText_());return t}isEmptyGeometry_(){const t=this.isTokenType(ai.TEXT)&&this.token_.value==A7;return t&&this.consume_(),t}formatErrorMessage_(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}parseGeometry_(){const t=this.token_;if(this.match(ai.TEXT)){const n=t.value;this.layout_=this.parseGeometryLayout_();const r=this.isEmptyGeometry_();if(n=="GEOMETRYCOLLECTION"){if(r)return new rb([]);const s=this.parseGeometryCollectionText_();return new rb(s)}const i=zlt[n];if(!i)throw new Error("Invalid geometry type: "+n);let a;if(r)n=="POINT"?a=[NaN,NaN]:a=[];else switch(n){case"POINT":{a=this.parsePointText_();break}case"LINESTRING":{a=this.parseLineStringText_();break}case"POLYGON":{a=this.parsePolygonText_();break}case"MULTIPOINT":{a=this.parseMultiPointText_();break}case"MULTILINESTRING":{a=this.parseMultiLineStringText_();break}case"MULTIPOLYGON":{a=this.parseMultiPolygonText_();break}}return new i(a,this.layout_)}throw new Error(this.formatErrorMessage_())}}class Vlt extends Dlt{constructor(t){super(),t=t||{},this.splitCollection_=t.splitCollection!==void 0?t.splitCollection:!1}parse_(t){const n=new jlt(t);return new Ult(n).parse()}readFeatureFromText(t,n){const r=this.readGeometryFromText(t,n),i=new $T;return i.setGeometry(r),i}readFeaturesFromText(t,n){let r=[];const i=this.readGeometryFromText(t,n);this.splitCollection_&&i.getType()=="GeometryCollection"?r=i.getGeometriesArray():r=[i];const a=[];for(let s=0,o=r.length;s<o;++s){const l=new $T;l.setGeometry(r[s]),a.push(l)}return a}readGeometryFromText(t,n){const r=this.parse_(t);return nb(r,!1,n)}writeFeatureText(t,n){const r=t.getGeometry();return r?this.writeGeometryText(r,n):""}writeFeaturesText(t,n){if(t.length==1)return this.writeFeatureText(t[0],n);const r=[];for(let a=0,s=t.length;a<s;++a)r.push(t[a].getGeometry());const i=new rb(r);return this.writeGeometryText(i,n)}writeGeometryText(t,n){return R7(nb(t,!0,n))}}function L7(e){const t=e.getCoordinates();return t.length===0?"":t.join(" ")}function Hlt(e){const t=[],n=e.getPoints();for(let r=0,i=n.length;r<i;++r)t.push("("+L7(n[r])+")");return t.join(",")}function Ylt(e){const t=[],n=e.getGeometries();for(let r=0,i=n.length;r<i;++r)t.push(R7(n[r]));return t.join(",")}function KS(e){const t=e.getCoordinates(),n=[];for(let r=0,i=t.length;r<i;++r)n.push(t[r].join(" "));return n.join(",")}function Wlt(e){const t=[],n=e.getLineStrings();for(let r=0,i=n.length;r<i;++r)t.push("("+KS(n[r])+")");return t.join(",")}function P7(e){const t=[],n=e.getLinearRings();for(let r=0,i=n.length;r<i;++r)t.push("("+KS(n[r])+")");return t.join(",")}function $lt(e){const t=[],n=e.getPolygons();for(let r=0,i=n.length;r<i;++r)t.push("("+P7(n[r])+")");return t.join(",")}function qlt(e){const t=e.getLayout();let n="";return(t==="XYZ"||t==="XYZM")&&(n+=I7),(t==="XYM"||t==="XYZM")&&(n+=O7),n}const Xlt={Point:L7,LineString:KS,Polygon:P7,MultiPoint:Hlt,MultiLineString:Wlt,MultiPolygon:$lt,GeometryCollection:Ylt};function R7(e){const t=e.getType(),n=Xlt[t],r=n(e);let i=Glt[t];if(typeof e.getFlatCoordinates=="function"){const a=qlt(e);a.length>0&&(i+=" "+a)}return r.length===0?i+" "+A7:i+"("+r+")"}const Npt=Vlt,R1={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class Klt extends b2{constructor(t){t=t||{};const n=Object.assign({},t);delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.setPreload(t.preload!==void 0?t.preload:0),this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0)}getPreload(){return this.get(R1.PRELOAD)}setPreload(t){this.set(R1.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(R1.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(R1.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}const Zlt=Klt,Jlt=.5,Qlt=10,fL=.25;class tut{constructor(t,n,r,i,a,s){this.sourceProj_=t,this.targetProj_=n;let o={};const l=xv(this.targetProj_,this.sourceProj_);this.transformInv_=function(y){const _=y[0]+"/"+y[1];return o[_]||(o[_]=l(y)),o[_]},this.maxSourceExtent_=i,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Ei(i)>=Ei(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Ei(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Ei(this.targetProj_.getExtent()):null;const f=cp(r),u=c2(r),c=u2(r),h=l2(r),d=this.transformInv_(f),p=this.transformInv_(u),g=this.transformInv_(c),m=this.transformInv_(h),v=Qlt+(s?Math.max(0,Math.ceil(Math.log2(DT(r)/(s*s*256*256)))):0);if(this.addQuad_(f,u,c,h,d,p,g,m,v),this.wrapsXInSource_){let y=1/0;this.triangles_.forEach(function(_,x,w){y=Math.min(y,_.source[0][0],_.source[1][0],_.source[2][0])}),this.triangles_.forEach(_=>{if(Math.max(_.source[0][0],_.source[1][0],_.source[2][0])-y>this.sourceWorldWidth_/2){const x=[[_.source[0][0],_.source[0][1]],[_.source[1][0],_.source[1][1]],[_.source[2][0],_.source[2][1]]];x[0][0]-y>this.sourceWorldWidth_/2&&(x[0][0]-=this.sourceWorldWidth_),x[1][0]-y>this.sourceWorldWidth_/2&&(x[1][0]-=this.sourceWorldWidth_),x[2][0]-y>this.sourceWorldWidth_/2&&(x[2][0]-=this.sourceWorldWidth_);const w=Math.min(x[0][0],x[1][0],x[2][0]);Math.max(x[0][0],x[1][0],x[2][0])-w<this.sourceWorldWidth_/2&&(_.source=x)}})}o={}}addTriangle_(t,n,r,i,a,s){this.triangles_.push({source:[i,a,s],target:[t,n,r]})}addQuad_(t,n,r,i,a,s,o,l,f){const u=rO([a,s,o,l]),c=this.sourceWorldWidth_?Ei(u)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&c>.5&&c<1;let p=!1;if(f>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const m=rO([t,n,r,i]);p=Ei(m)/this.targetWorldWidth_>fL||p}!d&&this.sourceProj_.isGlobal()&&c&&(p=c>fL||p)}if(!p&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!vs(u,this.maxSourceExtent_))return;let g=0;if(!p&&(!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(l[0])||!isFinite(l[1]))){if(f>0)p=!0;else if(g=(!isFinite(a[0])||!isFinite(a[1])?8:0)+(!isFinite(s[0])||!isFinite(s[1])?4:0)+(!isFinite(o[0])||!isFinite(o[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),g!=1&&g!=2&&g!=4&&g!=8)return}if(f>0){if(!p){const m=[(t[0]+r[0])/2,(t[1]+r[1])/2],v=this.transformInv_(m);let y;d?y=(Od(a[0],h)+Od(o[0],h))/2-Od(v[0],h):y=(a[0]+o[0])/2-v[0];const _=(a[1]+o[1])/2-v[1];p=y*y+_*_>this.errorThresholdSquared_}if(p){if(Math.abs(t[0]-r[0])<=Math.abs(t[1]-r[1])){const m=[(n[0]+r[0])/2,(n[1]+r[1])/2],v=this.transformInv_(m),y=[(i[0]+t[0])/2,(i[1]+t[1])/2],_=this.transformInv_(y);this.addQuad_(t,n,m,y,a,s,v,_,f-1),this.addQuad_(y,m,r,i,_,v,o,l,f-1)}else{const m=[(t[0]+n[0])/2,(t[1]+n[1])/2],v=this.transformInv_(m),y=[(r[0]+i[0])/2,(r[1]+i[1])/2],_=this.transformInv_(y);this.addQuad_(t,m,y,i,a,v,_,l,f-1),this.addQuad_(m,n,r,y,v,s,o,_,f-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}g&11||this.addTriangle_(t,r,i,a,o,l),g&14||this.addTriangle_(t,r,n,a,o,s),g&&(g&13||this.addTriangle_(n,i,t,s,l,a),g&7||this.addTriangle_(n,i,r,s,l,o))}calculateSourceExtent(){const t=tl();return this.triangles_.forEach(function(n,r,i){const a=n.source;qm(t,a[0]),qm(t,a[1]),qm(t,a[2])}),t}getTriangles(){return this.triangles_}}const eut=tut;let z3;const Ig=[];function hL(e,t,n,r,i){e.beginPath(),e.moveTo(0,0),e.lineTo(t,n),e.lineTo(r,i),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,r)+1,Math.max(n,i)),e.restore()}function B3(e,t){return Math.abs(e[t*4]-210)>2||Math.abs(e[t*4+3]-.75*255)>2}function nut(){if(z3===void 0){const e=Zo(6,6,Ig);e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",hL(e,4,5,4,0),hL(e,4,5,0,5);const t=e.getImageData(0,0,3,3).data;z3=B3(t,0)||B3(t,4)||B3(t,8),y2(e),Ig.push(e.canvas)}return z3}function hE(e,t,n,r){const i=KN(n,t,e);let a=aO(t,r,n);const s=t.getMetersPerUnit();s!==void 0&&(a*=s);const o=e.getMetersPerUnit();o!==void 0&&(a/=o);const l=e.getExtent();if(!l||s2(l,i)){const f=aO(e,a,i)/a;isFinite(f)&&f>0&&(a/=f)}return a}function rut(e,t,n,r){const i=Ud(n);let a=hE(e,t,i,r);return(!isFinite(a)||a<=0)&&UN(n,function(s){return a=hE(e,t,s,r),isFinite(a)&&a>0}),a}function iut(e,t,n,r,i,a,s,o,l,f,u,c){const h=Zo(Math.round(n*e),Math.round(n*t),Ig);if(c||(h.imageSmoothingEnabled=!1),l.length===0)return h.canvas;h.scale(n,n);function d(x){return Math.round(x*n)/n}h.globalCompositeOperation="lighter";const p=tl();l.forEach(function(x,w,E){GN(p,x.extent)});const g=Ei(p),m=uc(p),v=Zo(Math.round(n*g/r),Math.round(n*m/r),Ig);c||(v.imageSmoothingEnabled=!1);const y=n/r;l.forEach(function(x,w,E){const S=x.extent[0]-p[0],C=-(x.extent[3]-p[3]),T=Ei(x.extent),A=uc(x.extent);x.image.width>0&&x.image.height>0&&v.drawImage(x.image,f,f,x.image.width-2*f,x.image.height-2*f,S*y,C*y,T*y,A*y)});const _=cp(s);return o.getTriangles().forEach(function(x,w,E){const S=x.source,C=x.target;let T=S[0][0],A=S[0][1],O=S[1][0],P=S[1][1],F=S[2][0],R=S[2][1];const N=d((C[0][0]-_[0])/a),D=d(-(C[0][1]-_[1])/a),I=d((C[1][0]-_[0])/a),B=d(-(C[1][1]-_[1])/a),j=d((C[2][0]-_[0])/a),q=d(-(C[2][1]-_[1])/a),et=T,U=A;T=0,A=0,O-=et,P-=U,F-=et,R-=U;const Z=[[O,P,0,0,I-N],[F,R,0,0,j-N],[0,0,O,P,B-D],[0,0,F,R,q-D]],rt=znt(Z);if(rt){if(h.save(),h.beginPath(),nut()||!c){h.moveTo(I,B);const ft=4,z=N-I,W=D-B;for(let X=0;X<ft;X++)h.lineTo(I+d((X+1)*z/ft),B+d(X*W/(ft-1))),X!=ft-1&&h.lineTo(I+d((X+1)*z/ft),B+d((X+1)*W/(ft-1)));h.lineTo(j,q)}else h.moveTo(I,B),h.lineTo(N,D),h.lineTo(j,q);h.clip(),h.transform(rt[0],rt[2],rt[1],rt[3],N,D),h.translate(p[0]-et,p[3]-U),h.scale(r/n,-r/n),h.drawImage(v.canvas,0,0),h.restore()}}),y2(v),Ig.push(v.canvas),u&&(h.save(),h.globalCompositeOperation="source-over",h.strokeStyle="black",h.lineWidth=1,o.getTriangles().forEach(function(x,w,E){const S=x.target,C=(S[0][0]-_[0])/a,T=-(S[0][1]-_[1])/a,A=(S[1][0]-_[0])/a,O=-(S[1][1]-_[1])/a,P=(S[2][0]-_[0])/a,F=-(S[2][1]-_[1])/a;h.beginPath(),h.moveTo(A,O),h.lineTo(C,T),h.lineTo(P,F),h.closePath(),h.stroke()}),h.restore()),h.canvas}class aut extends f7{constructor(t,n,r,i,a,s,o,l,f,u,c,h){super(a,rr.IDLE,{interpolate:!!h}),this.renderEdges_=c!==void 0?c:!1,this.pixelRatio_=o,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=i,this.wrappedTileCoord_=s||a,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const d=i.getTileCoordExtent(this.wrappedTileCoord_),p=this.targetTileGrid_.getExtent();let g=this.sourceTileGrid_.getExtent();const m=p?Xm(d,p):d;if(DT(m)===0){this.state=rr.EMPTY;return}const v=t.getExtent();v&&(g?g=Xm(g,v):g=v);const y=i.getResolution(this.wrappedTileCoord_[0]),_=rut(t,r,m,y);if(!isFinite(_)||_<=0){this.state=rr.EMPTY;return}const x=u!==void 0?u:Jlt;if(this.triangulation_=new eut(t,r,m,g,_*x,y),this.triangulation_.getTriangles().length===0){this.state=rr.EMPTY;return}this.sourceZ_=n.getZForResolution(_);let w=this.triangulation_.calculateSourceExtent();if(g&&(t.canWrapX()?(w[1]=ca(w[1],g[1],g[3]),w[3]=ca(w[3],g[1],g[3])):w=Xm(w,g)),!DT(w))this.state=rr.EMPTY;else{const E=n.getTileRangeForExtentAndZ(w,this.sourceZ_);for(let S=E.minX;S<=E.maxX;S++)for(let C=E.minY;C<=E.maxY;C++){const T=f(this.sourceZ_,S,C,o);T&&this.sourceTiles_.push(T)}this.sourceTiles_.length===0&&(this.state=rr.EMPTY)}}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach(n=>{n&&n.getState()==rr.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(n.tileCoord),image:n.getImage()})}),this.sourceTiles_.length=0,t.length===0)this.state=rr.ERROR;else{const n=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(n),i=typeof r=="number"?r:r[0],a=typeof r=="number"?r:r[1],s=this.targetTileGrid_.getResolution(n),o=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=iut(i,a,this.pixelRatio_,o,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=rr.LOADED}this.changed()}load(){if(this.state==rr.IDLE){this.state=rr.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(n=>{const r=n.getState();if(r==rr.IDLE||r==rr.LOADING){t++;const i=Jr(n,Sr.CHANGE,function(a){const s=n.getState();(s==rr.LOADED||s==rr.ERROR||s==rr.EMPTY)&&(Fi(i),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(i)}}),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(n,r,i){n.getState()==rr.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Fi),this.sourcesListenerKeys_=null}release(){this.canvas_&&(y2(this.canvas_.getContext("2d")),Ig.push(this.canvas_),this.canvas_=null),super.release()}}const dE=aut;class out extends s7{constructor(t){super(t),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=tl(),this.tmpTileRange_=new T7(0,0,0,0)}isDrawableTile(t){const n=this.getLayer(),r=t.getState(),i=n.getUseInterimTilesOnError();return r==rr.LOADED||r==rr.EMPTY||r==rr.ERROR&&!i}getTile(t,n,r,i){const a=i.pixelRatio,s=i.viewState.projection,o=this.getLayer();let f=o.getSource().getTile(t,n,r,a,s);return f.getState()==rr.ERROR&&o.getUseInterimTilesOnError()&&o.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(f)||(f=f.getInterimTile()),f}getData(t){const n=this.frameState;if(!n)return null;const r=this.getLayer(),i=Xa(n.pixelToCoordinateTransform,t.slice()),a=r.getExtent();if(a&&!s2(a,i))return null;const s=n.pixelRatio,o=n.viewState.projection,l=n.viewState,f=r.getRenderSource(),u=f.getTileGridForProjection(l.projection),c=f.getTilePixelRatio(n.pixelRatio);for(let h=u.getZForResolution(l.resolution);h>=u.getMinZoom();--h){const d=u.getTileCoordForCoordAndZ(i,h),p=f.getTile(h,d[1],d[2],s,o);if(!(p instanceof h7||p instanceof dE)||p instanceof dE&&p.getState()===rr.EMPTY)return null;if(p.getState()!==rr.LOADED)continue;const g=u.getOrigin(h),m=xs(u.getTileSize(h)),v=u.getResolution(h),y=Math.floor(c*((i[0]-g[0])/v-d[1]*m[0])),_=Math.floor(c*((g[1]-i[1])/v-d[2]*m[1])),x=Math.round(c*f.getGutterForProjection(l.projection));return this.getImageData(p.getImage(),y+x,_+x)}return null}loadedTileCallback(t,n,r){return this.isDrawableTile(r)?super.loadedTileCallback(t,n,r):!1}prepareFrame(t){return!!this.getLayer().getSource()}renderFrame(t,n){const r=t.layerStatesArray[t.layerIndex],i=t.viewState,a=i.projection,s=i.resolution,o=i.center,l=i.rotation,f=t.pixelRatio,u=this.getLayer(),c=u.getSource(),h=c.getRevision(),d=c.getTileGridForProjection(a),p=d.getZForResolution(s,c.zDirection),g=d.getResolution(p);let m=t.extent;const v=t.viewState.resolution,y=c.getTilePixelRatio(f),_=Math.round(Ei(m)/v*f),x=Math.round(uc(m)/v*f),w=r.extent&&vd(r.extent);w&&(m=Xm(m,vd(r.extent)));const E=g*_/2/y,S=g*x/2/y,C=[o[0]-E,o[1]-S,o[0]+E,o[1]+S],T=d.getTileRangeForExtentAndZ(m,p),A={};A[p]={};const O=this.createLoadedTileFinder(c,a,A),P=this.tmpExtent,F=this.tmpTileRange_;this.newTiles_=!1;const R=l?zT(i.center,v,l,t.size):void 0;for(let Z=T.minX;Z<=T.maxX;++Z)for(let rt=T.minY;rt<=T.maxY;++rt){if(l&&!d.tileCoordIntersectsViewport([p,Z,rt],R))continue;const ft=this.getTile(p,Z,rt,t);if(this.isDrawableTile(ft)){const X=si(this);if(ft.getState()==rr.LOADED){A[p][ft.tileCoord.toString()]=ft;let it=ft.inTransition(X);it&&r.opacity!==1&&(ft.endTransition(X),it=!1),!this.newTiles_&&(it||!this.renderedTiles.includes(ft))&&(this.newTiles_=!0)}if(ft.getAlpha(X,t.time)===1)continue}const z=d.getTileCoordChildTileRange(ft.tileCoord,F,P);let W=!1;z&&(W=O(p+1,z)),W||d.forEachTileCoordParentTileRange(ft.tileCoord,O,F,P)}const N=g/s*f/y;wh(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/f,1/f,l,-_/2,-x/2);const D=C8(this.pixelTransform);this.useContainer(n,D,this.getBackground(t));const I=this.context,B=I.canvas;TS(this.inversePixelTransform,this.pixelTransform),wh(this.tempTransform,_/2,x/2,N,N,0,-_/2,-x/2),B.width!=_||B.height!=x?(B.width=_,B.height=x):this.containerReused||I.clearRect(0,0,_,x),w&&this.clipUnrotated(I,t,w),c.getInterpolate()||(I.imageSmoothingEnabled=!1),this.preRender(I,t),this.renderedTiles.length=0;let j=Object.keys(A).map(Number);j.sort(Vd);let q,et,U;r.opacity===1&&(!this.containerReused||c.getOpaque(t.viewState.projection))?j=j.reverse():(q=[],et=[]);for(let Z=j.length-1;Z>=0;--Z){const rt=j[Z],ft=c.getTilePixelSize(rt,f,a),W=d.getResolution(rt)/g,X=ft[0]*W*N,it=ft[1]*W*N,lt=d.getTileCoordForCoordAndZ(cp(C),rt),dt=d.getTileCoordExtent(lt),nt=Xa(this.tempTransform,[y*(dt[0]-C[0])/g,y*(C[3]-dt[3])/g]),V=y*c.getGutterForProjection(a),G=A[rt];for(const H in G){const $=G[H],J=$.tileCoord,Q=lt[1]-J[1],ot=Math.round(nt[0]-(Q-1)*X),st=lt[2]-J[2],ht=Math.round(nt[1]-(st-1)*it),xt=Math.round(nt[0]-Q*X),Pt=Math.round(nt[1]-st*it),It=ot-xt,zt=ht-Pt,pt=p===rt,yt=pt&&$.getAlpha(si(this),t.time)!==1;let wt=!1;if(!yt)if(q){U=[xt,Pt,xt+It,Pt,xt+It,Pt+zt,xt,Pt+zt];for(let St=0,Ut=q.length;St<Ut;++St)if(p!==rt&&rt<et[St]){const Gt=q[St];vs([xt,Pt,xt+It,Pt+zt],[Gt[0],Gt[3],Gt[4],Gt[7]])&&(wt||(I.save(),wt=!0),I.beginPath(),I.moveTo(U[0],U[1]),I.lineTo(U[2],U[3]),I.lineTo(U[4],U[5]),I.lineTo(U[6],U[7]),I.moveTo(Gt[6],Gt[7]),I.lineTo(Gt[4],Gt[5]),I.lineTo(Gt[2],Gt[3]),I.lineTo(Gt[0],Gt[1]),I.clip())}q.push(U),et.push(rt)}else I.clearRect(xt,Pt,It,zt);this.drawTileImage($,t,xt,Pt,It,zt,V,pt),q&&!yt?(wt&&I.restore(),this.renderedTiles.unshift($)):this.renderedTiles.push($),this.updateUsedTiles(t.usedTiles,c,$)}}return this.renderedRevision=h,this.renderedResolution=g,this.extentChanged=!this.renderedExtent_||!_v(this.renderedExtent_,C),this.renderedExtent_=C,this.renderedPixelRatio=f,this.renderedProjection=a,this.manageTilePyramid(t,c,d,f,a,m,p,u.getPreload()),this.scheduleExpireCache(t,c),this.postRender(I,t),r.extent&&I.restore(),I.imageSmoothingEnabled=!0,D!==B.style.transform&&(B.style.transform=D),this.container}drawTileImage(t,n,r,i,a,s,o,l){const f=this.getTileImage(t);if(!f)return;const u=si(this),c=n.layerStatesArray[n.layerIndex],h=c.opacity*(l?t.getAlpha(u,n.time):1),d=h!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=h),this.context.drawImage(f,o,o,f.width-2*o,f.height-2*o,r,i,a,s),d&&this.context.restore(),h!==c.opacity?n.animate=!0:l&&t.endTransition(u)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}scheduleExpireCache(t,n){if(n.canExpireCache()){const r=function(i,a,s){const o=si(i);o in s.usedTiles&&i.expireCache(s.viewState.projection,s.usedTiles[o])}.bind(null,n);t.postRenderFunctions.push(r)}}updateUsedTiles(t,n,r){const i=si(n);i in t||(t[i]={}),t[i][r.getKey()]=!0}manageTilePyramid(t,n,r,i,a,s,o,l,f){const u=si(n);u in t.wantedTiles||(t.wantedTiles[u]={});const c=t.wantedTiles[u],h=t.tileQueue,d=r.getMinZoom(),p=t.viewState.rotation,g=p?zT(t.viewState.center,t.viewState.resolution,p,t.size):void 0;let m=0,v,y,_,x,w,E;for(E=d;E<=o;++E)for(y=r.getTileRangeForExtentAndZ(s,E,y),_=r.getResolution(E),x=y.minX;x<=y.maxX;++x)for(w=y.minY;w<=y.maxY;++w)p&&!r.tileCoordIntersectsViewport([E,x,w],g)||(o-E<=l?(++m,v=n.getTile(E,x,w,i,a),v.getState()==rr.IDLE&&(c[v.getKey()]=!0,h.isKeyQueued(v.getKey())||h.enqueue([v,u,r.getTileCoordCenter(v.tileCoord),_])),f!==void 0&&f(v)):n.useTile(E,x,w,a));n.updateCacheSize(m,a)}}const sut=out;class lut extends Zlt{constructor(t){super(t)}createRenderer(){return new sut(this)}}const kpt=lut,G3={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},Kp=[0,0,0],Uf=5;class uut{constructor(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,Rr(Ait(this.resolutions_,function(i,a){return a-i},!0),17);let n;if(!t.origins){for(let i=0,a=this.resolutions_.length-1;i<a;++i)if(!n)n=this.resolutions_[i]/this.resolutions_[i+1];else if(this.resolutions_[i]/this.resolutions_[i+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,Rr(this.origins_.length==this.resolutions_.length,20));const r=t.extent;r!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=cp(r)),Rr(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,Rr(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:BS,Rr(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=r!==void 0?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map(function(i,a){const s=new T7(Math.min(0,i[0]),Math.max(i[0]-1,-1),Math.min(0,i[1]),Math.max(i[1]-1,-1));if(r){const o=this.getTileRangeForExtentAndZ(r,a);s.minX=Math.max(o.minX,s.minX),s.maxX=Math.min(o.maxX,s.maxX),s.minY=Math.max(o.minY,s.minY),s.maxY=Math.min(o.maxY,s.maxY)}return s},this):r&&this.calculateTileRanges_(r)}forEachTileCoord(t,n,r){const i=this.getTileRangeForExtentAndZ(t,n);for(let a=i.minX,s=i.maxX;a<=s;++a)for(let o=i.minY,l=i.maxY;o<=l;++o)r([n,a,o])}forEachTileCoordParentTileRange(t,n,r,i){let a,s,o,l=null,f=t[0]-1;for(this.zoomFactor_===2?(s=t[1],o=t[2]):l=this.getTileCoordExtent(t,i);f>=this.minZoom;){if(this.zoomFactor_===2?(s=Math.floor(s/2),o=Math.floor(o/2),a=Xp(s,s,o,o,r)):a=this.getTileRangeForExtentAndZ(l,f,r),n(f,a))return!0;--f}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,n,r){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){const a=t[1]*2,s=t[2]*2;return Xp(a,a+1,s,s+1,n)}const i=this.getTileCoordExtent(t,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,t[0]+1,n)}return null}getTileRangeForTileCoordAndZ(t,n,r){if(n>this.maxZoom||n<this.minZoom)return null;const i=t[0],a=t[1],s=t[2];if(n===i)return Xp(a,s,a,s,r);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,n-i),f=Math.floor(a*l),u=Math.floor(s*l);if(n<i)return Xp(f,f,u,u,r);const c=Math.floor(l*(a+1))-1,h=Math.floor(l*(s+1))-1;return Xp(f,c,u,h,r)}const o=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,n,r)}getTileRangeForExtentAndZ(t,n,r){this.getTileCoordForXYAndZ_(t[0],t[3],n,!1,Kp);const i=Kp[1],a=Kp[2];this.getTileCoordForXYAndZ_(t[2],t[1],n,!0,Kp);const s=Kp[1],o=Kp[2];return Xp(i,s,a,o,r)}getTileCoordCenter(t){const n=this.getOrigin(t[0]),r=this.getResolution(t[0]),i=xs(this.getTileSize(t[0]),this.tmpSize_);return[n[0]+(t[1]+.5)*i[0]*r,n[1]-(t[2]+.5)*i[1]*r]}getTileCoordExtent(t,n){const r=this.getOrigin(t[0]),i=this.getResolution(t[0]),a=xs(this.getTileSize(t[0]),this.tmpSize_),s=r[0]+t[1]*a[0]*i,o=r[1]-(t[2]+1)*a[1]*i,l=s+a[0]*i,f=o+a[1]*i;return nf(s,o,l,f,n)}getTileCoordForCoordAndResolution(t,n,r){return this.getTileCoordForXYAndResolution_(t[0],t[1],n,!1,r)}getTileCoordForXYAndResolution_(t,n,r,i,a){const s=this.getZForResolution(r),o=r/this.getResolution(s),l=this.getOrigin(s),f=xs(this.getTileSize(s),this.tmpSize_);let u=o*(t-l[0])/r/f[0],c=o*(l[1]-n)/r/f[1];return i?(u=T1(u,Uf)-1,c=T1(c,Uf)-1):(u=w1(u,Uf),c=w1(c,Uf)),uL(s,u,c,a)}getTileCoordForXYAndZ_(t,n,r,i,a){const s=this.getOrigin(r),o=this.getResolution(r),l=xs(this.getTileSize(r),this.tmpSize_);let f=(t-s[0])/o/l[0],u=(s[1]-n)/o/l[1];return i?(f=T1(f,Uf)-1,u=T1(u,Uf)-1):(f=w1(f,Uf),u=w1(u,Uf)),uL(r,f,u,a)}getTileCoordForCoordAndZ(t,n,r){return this.getTileCoordForXYAndZ_(t[0],t[1],n,!1,r)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,n){const r=xS(this.resolutions_,t,n||0);return ca(r,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,n){return D8(n,0,n.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const n=this.resolutions_.length,r=new Array(n);for(let i=this.minZoom;i<n;++i)r[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=r}}const N7=uut;function k7(e){let t=e.getDefaultTileGrid();return t||(t=dut(e),e.setDefaultTileGrid(t)),t}function cut(e,t,n){const r=t[0],i=e.getTileCoordCenter(t),a=ZS(n);if(!s2(a,i)){const s=Ei(a),o=Math.ceil((a[0]-i[0])/s);return i[0]+=s*o,e.getTileCoordForCoordAndZ(i,r)}return t}function fut(e,t,n,r){r=r!==void 0?r:"top-left";const i=D7(e,t,n);return new N7({extent:e,origin:Pnt(e,r),resolutions:i,tileSize:n})}function hut(e){const t=e||{},n=t.extent||Di("EPSG:3857").getExtent(),r={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:D7(n,t.maxZoom,t.tileSize,t.maxResolution)};return new N7(r)}function D7(e,t,n,r){t=t!==void 0?t:Rat,n=xs(n!==void 0?n:BS);const i=uc(e),a=Ei(e);r=r>0?r:Math.max(a/n[0],i/n[1]);const s=t+1,o=new Array(s);for(let l=0;l<s;++l)o[l]=r/Math.pow(2,l);return o}function dut(e,t,n,r){const i=ZS(e);return fut(i,t,n,r)}function ZS(e){e=Di(e);let t=e.getExtent();if(!t){const n=180*vv.degrees/e.getMetersPerUnit();t=nf(-n,-n,n,n)}return t}class put extends c7{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.opaque_=t.opaque!==void 0?t.opaque:!1,this.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,this.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;const n=[256,256];this.tileGrid&&xs(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tileCache=new b7(t.cacheSize||0),this.tmpSize=[0,0],this.key_=t.key||"",this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(t,n){const r=this.getTileCacheForProjection(t);r&&r.expireCache(n)}forEachLoadedTile(t,n,r,i){const a=this.getTileCacheForProjection(t);if(!a)return!1;let s=!0,o,l,f;for(let u=r.minX;u<=r.maxX;++u)for(let c=r.minY;c<=r.maxY;++c)l=T2(n,u,c),f=!1,a.containsKey(l)&&(o=a.get(l),f=o.getState()===rr.LOADED,f&&(f=i(o)!==!1)),f||(s=!1);return s}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getOpaque(t){return this.opaque_}getResolutions(t){const n=t?this.getTileGridForProjection(t):this.tileGrid;return n?n.getResolutions():null}getTile(t,n,r,i,a){return er()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:k7(t)}getTileCacheForProjection(t){const n=this.getProjection();return Rr(n===null||fd(n,t),68),this.tileCache}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,n,r){const i=this.getTileGridForProjection(r),a=this.getTilePixelRatio(n),s=xs(i.getTileSize(t),this.tmpSize);return a==1?s:H8(s,a,this.tmpSize)}getTileCoordForTileUrlFunction(t,n){n=n!==void 0?n:this.getProjection();const r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=cut(r,t,n)),flt(t,r)?t:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(t,n){const r=this.getTileCacheForProjection(n);t>r.highWaterMark&&(r.highWaterMark=t)}useTile(t,n,r,i){}}class gut extends vf{constructor(t,n){super(t),this.tile=n}}const mut=put;function vut(e,t){const n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,a=/\{-y\}/g;return function(s,o,l){if(s)return e.replace(n,s[0].toString()).replace(r,s[1].toString()).replace(i,s[2].toString()).replace(a,function(){const f=s[0],u=t.getFullTileRange(f);return Rr(u,55),(u.getHeight()-s[2]-1).toString()})}}function yut(e,t){const n=e.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=vut(e[i],t);return _ut(r)}function _ut(e){return e.length===1?e[0]:function(t,n,r){if(!t)return;const i=x7(t),a=Od(i,e.length);return e[a](t,n,r)}}function xut(e){const t=[];let n=/\{([a-z])-([a-z])\}/.exec(e);if(n){const r=n[1].charCodeAt(0),i=n[2].charCodeAt(0);let a;for(a=r;a<=i;++a)t.push(e.replace(n[0],String.fromCharCode(a)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e),n){const r=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=r;i++)t.push(e.replace(n[0],i.toString()));return t}return t.push(e),t}class JS extends mut{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===JS.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const n=t.target,r=si(n),i=n.getState();let a;i==rr.LOADING?(this.tileLoadingKeys_[r]=!0,a=G3.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],a=i==rr.ERROR?G3.TILELOADERROR:i==rr.LOADED?G3.TILELOADEND:void 0),a!=null&&this.dispatchEvent(new gut(a,n))}setTileLoadFunction(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,n){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof n<"u"?this.setKey(n):this.changed()}setUrl(t){const n=xut(t);this.urls=n,this.setUrls(n)}setUrls(t){this.urls=t;const n=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(yut(t,this.tileGrid),n):this.setKey(n)}tileUrlFunction(t,n,r){}useTile(t,n,r){const i=T2(t,n,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}const but=JS;class wut extends but{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:Tut,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate!==void 0?t.interpolate:!0,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,this.tileClass=t.tileClass!==void 0?t.tileClass:h7,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1}expireCache(t,n){const r=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==r?n:{});for(const i in this.tileCacheForProjection){const a=this.tileCacheForProjection[i];a.expireCache(a==r?n:{})}}getGutterForProjection(t){return this.getProjection()&&t&&!fd(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getOpaque(t){return this.getProjection()&&t&&!fd(this.getProjection(),t)?!1:super.getOpaque(t)}getTileGridForProjection(t){const n=this.getProjection();if(this.tileGrid&&(!n||fd(n,t)))return this.tileGrid;const r=si(t);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=k7(t)),this.tileGridForProjection[r]}getTileCacheForProjection(t){const n=this.getProjection();if(!n||fd(n,t))return this.tileCache;const r=si(t);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new b7(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]}createTile_(t,n,r,i,a,s){const o=[t,n,r],l=this.getTileCoordForTileUrlFunction(o,a),f=l?this.tileUrlFunction(l,i,a):void 0,u=new this.tileClass(o,f!==void 0?rr.IDLE:rr.EMPTY,f!==void 0?f:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=s,u.addEventListener(Sr.CHANGE,this.handleTileChange.bind(this)),u}getTile(t,n,r,i,a){const s=this.getProjection();if(!s||!a||fd(s,a))return this.getTileInternal(t,n,r,i,s||a);const o=this.getTileCacheForProjection(a),l=[t,n,r];let f;const u=_7(l);o.containsKey(u)&&(f=o.get(u));const c=this.getKey();if(f&&f.key==c)return f;const h=this.getTileGridForProjection(s),d=this.getTileGridForProjection(a),p=this.getTileCoordForTileUrlFunction(l,a),g=new dE(s,h,a,d,l,p,this.getTilePixelRatio(i),this.getGutter(),(m,v,y,_)=>this.getTileInternal(m,v,y,_,s),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return g.key=c,f?(g.interimTile=f,g.refreshInterimChain(),o.replace(u,g)):o.set(u,g),g}getTileInternal(t,n,r,i,a){let s=null;const o=T2(t,n,r),l=this.getKey();if(!this.tileCache.containsKey(o))s=this.createTile_(t,n,r,i,a,l),this.tileCache.set(o,s);else if(s=this.tileCache.get(o),s.key!=l){const f=s;s=this.createTile_(t,n,r,i,a,l),f.getState()==rr.IDLE?s.interimTile=f.interimTile:s.interimTile=f,s.refreshInterimChain(),this.tileCache.replace(o,s)}return s}setRenderReprojectionEdges(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(const n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}}setTileGridForProjection(t,n){const r=Di(t);if(r){const i=si(r);i in this.tileGridForProjection||(this.tileGridForProjection[i]=n)}}clear(){super.clear();for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear()}}function Tut(e,t){e.getImage().src=t}const F7=wut;class Eut extends F7{constructor(t){t=t||{};const n=t.projection!==void 0?t.projection:"EPSG:3857",r=t.tileGrid!==void 0?t.tileGrid:hut({extent:ZS(n),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,opaque:t.opaque,projection:n,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0}getGutter(){return this.gutter_}}const Mut=Eut,Sut='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class Cut extends Mut{constructor(t){t=t||{};let n;t.attributions!==void 0?n=t.attributions:n=[Sut];const r=t.crossOrigin!==void 0?t.crossOrigin:"anonymous",i=t.url!==void 0?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:r,interpolate:t.interpolate,maxZoom:t.maxZoom!==void 0?t.maxZoom:19,opaque:t.opaque!==void 0?t.opaque:!0,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:i,wrapX:t.wrapX,zDirection:t.zDirection})}}const Dpt=Cut,N1="1.3.0";function dL(e,t){const n=[];Object.keys(t).forEach(function(i){t[i]!==null&&t[i]!==void 0&&n.push(i+"="+encodeURIComponent(t[i]))});const r=n.join("&");return e=e.replace(/[?&]$/,""),e+=e.includes("?")?"&":"?",e+r}class Aut extends F7{constructor(t){t=t||{};const n=Object.assign({},t.params),r="TRANSPARENT"in n?n.TRANSPARENT:!0;super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,opaque:!r,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0,this.params_=n,this.v13_=!0,this.serverType_=t.serverType,this.hidpi_=t.hidpi!==void 0?t.hidpi:!0,this.tmpExtent_=tl(),this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(t,n,r,i){const a=Di(r),s=this.getProjection();let o=this.getTileGrid();o||(o=this.getTileGridForProjection(a));const l=o.getZForResolution(n,this.zDirection),f=o.getTileCoordForCoordAndZ(t,l);if(o.getResolutions().length<=f[0])return;let u=o.getResolution(f[0]),c=o.getTileCoordExtent(f,this.tmpExtent_),h=xs(o.getTileSize(f[0]),this.tmpSize);const d=this.gutter_;d!==0&&(h=kO(h,d,this.tmpSize),c=yv(c,u*d,c)),s&&s!==a&&(u=hE(s,a,t,u),c=qnt(c,a,s),t=KN(t,a,s));const p={SERVICE:"WMS",VERSION:N1,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object.assign(p,this.params_,i);const g=Math.floor((t[0]-c[0])/u),m=Math.floor((c[3]-t[1])/u);return p[this.v13_?"I":"X"]=g,p[this.v13_?"J":"Y"]=m,this.getRequestUrl_(f,h,c,1,s||a,p)}getLegendUrl(t,n){if(this.urls[0]===void 0)return;const r={SERVICE:"WMS",VERSION:N1,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(n===void 0||n.LAYER===void 0){const i=this.params_.LAYERS;if(!(!Array.isArray(i)||i.length===1))return;r.LAYER=i}if(t!==void 0){const i=this.getProjection()?this.getProjection().getMetersPerUnit():1,a=28e-5;r.SCALE=t*i/a}return Object.assign(r,n),dL(this.urls[0],r)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(t,n,r,i,a,s){const o=this.urls;if(!o)return;if(s.WIDTH=n[0],s.HEIGHT=n[1],s[this.v13_?"CRS":"SRS"]=a.getCode(),"STYLES"in this.params_||(s.STYLES=""),i!=1)switch(this.serverType_){case"geoserver":const c=90*i+.5|0;"FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+=";dpi:"+c:s.FORMAT_OPTIONS="dpi:"+c;break;case"mapserver":s.MAP_RESOLUTION=90*i;break;case"carmentaserver":case"qgis":s.DPI=90*i;break;default:Rr(!1,52);break}const l=a.getAxisOrientation(),f=r;if(this.v13_&&l.substr(0,2)=="ne"){let c;c=r[0],f[0]=r[1],f[1]=c,c=r[2],f[2]=r[3],f[3]=c}s.BBOX=f.join(",");let u;if(o.length==1)u=o[0];else{const c=Od(x7(t),o.length);u=o[c]}return dL(u,s)}getTilePixelRatio(t){return!this.hidpi_||this.serverType_===void 0?1:t}getKeyForParams_(){let t=0;const n=[];for(const r in this.params_)n[t++]=r+"-"+this.params_[r];return n.join("/")}updateParams(t){Object.assign(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())}updateV13_(){const t=this.params_.VERSION||N1;this.v13_=Bnt(t,"1.3")>=0}tileUrlFunction(t,n,r){let i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(r)),i.getResolutions().length<=t[0])return;n!=1&&(!this.hidpi_||this.serverType_===void 0)&&(n=1);const a=i.getResolution(t[0]);let s=i.getTileCoordExtent(t,this.tmpExtent_),o=xs(i.getTileSize(t[0]),this.tmpSize);const l=this.gutter_;l!==0&&(o=kO(o,l,this.tmpSize),s=yv(s,a*l,s)),n!=1&&(o=H8(o,n,this.tmpSize));const f={SERVICE:"WMS",VERSION:N1,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object.assign(f,this.params_),this.getRequestUrl_(t,o,s,n,r,f)}}const Fpt=Aut;function km(e){return{current:e}}function ib(e,t){var n=void 0;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];n&&clearTimeout(n),n=setTimeout(function(){return e.apply(void 0,i)},t)}}function Pv(e){return e.reduce(function(t,n){return t.concat(n)},[])}var Iut=0;function z7(){return"autocomplete-".concat(Iut++)}function ab(e,t){return t.reduce(function(n,r){return n&&n[r]},e)}function Rv(e){return e.collections.length===0?0:e.collections.reduce(function(t,n){return t+n.items.length},0)}function pL(e){return e!==Object(e)}function B7(e,t){if(e===t)return!0;if(pL(e)||pL(t)||typeof e=="function"||typeof t=="function")return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(!(i in t)||!B7(e[i],t[i]))return!1}return!0}var ob=function(){};function Out(e){if(typeof window<"u")return e({window})}var G7="1.12.1",Lut=[{segment:"autocomplete-core",version:G7}];function gL(e){var t=e.item,n=e.items,r=n===void 0?[]:n;return{index:t.__autocomplete_indexName,items:[t],positions:[1+r.findIndex(function(i){return i.objectID===t.objectID})],queryID:t.__autocomplete_queryID,algoliaSource:["autocomplete"]}}function Put(e,t){return Dut(e)||kut(e,t)||Nut(e,t)||Rut()}function Rut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nut(e,t){if(e){if(typeof e=="string")return mL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mL(e,t)}}function mL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kut(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,f=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){f=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function Dut(e){if(Array.isArray(e))return e}function Fut(e){var t=(e.version||"").split(".").map(Number),n=Put(t,2),r=n[0],i=n[1],a=r>=3,s=r===2&&i>=4,o=r===1&&i>=10;return a||s||o}var zut=["items"],But=["items"];function Nv(e){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nv(e)}function k1(e){return Vut(e)||Uut(e)||jut(e)||Gut()}function Gut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jut(e,t){if(e){if(typeof e=="string")return pE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pE(e,t)}}function Uut(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vut(e){if(Array.isArray(e))return pE(e)}function pE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j7(e,t){if(e==null)return{};var n=Hut(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Hut(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function vL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function i0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vL(Object(n),!0).forEach(function(r){Yut(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yut(e,t,n){return t=Wut(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wut(e){var t=$ut(e,"string");return Nv(t)==="symbol"?t:String(t)}function $ut(e,t){if(Nv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Nv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qut(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,n=[],r=0;r<e.objectIDs.length;r+=t)n.push(i0(i0({},e),{},{objectIDs:e.objectIDs.slice(r,r+t)}));return n}function D1(e){return e.map(function(t){var n=t.items,r=j7(t,zut);return i0(i0({},r),{},{objectIDs:n?.map(function(i){var a=i.objectID;return a})||r.objectIDs})})}function Xut(e){var t=Fut(e);function n(r,i,a){if(t&&typeof a<"u"){var s=a[0].__autocomplete_algoliaCredentials,o=s.appId,l=s.apiKey,f={"X-Algolia-Application-Id":o,"X-Algolia-API-Key":l};e.apply(void 0,[r].concat(k1(i),[{headers:f}]))}else e.apply(void 0,[r].concat(k1(i)))}return{init:function(i,a){e("init",{appId:i,apiKey:a})},setUserToken:function(i){e("setUserToken",i)},clickedObjectIDsAfterSearch:function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];a.length>0&&n("clickedObjectIDsAfterSearch",D1(a),a[0].items)},clickedObjectIDs:function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];a.length>0&&n("clickedObjectIDs",D1(a),a[0].items)},clickedFilters:function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];a.length>0&&e.apply(void 0,["clickedFilters"].concat(a))},convertedObjectIDsAfterSearch:function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];a.length>0&&n("convertedObjectIDsAfterSearch",D1(a),a[0].items)},convertedObjectIDs:function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];a.length>0&&n("convertedObjectIDs",D1(a),a[0].items)},convertedFilters:function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];a.length>0&&e.apply(void 0,["convertedFilters"].concat(a))},viewedObjectIDs:function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];a.length>0&&a.reduce(function(o,l){var f=l.items,u=j7(l,But);return[].concat(k1(o),k1(qut(i0(i0({},u),{},{objectIDs:f?.map(function(c){var h=c.objectID;return h})||u.objectIDs})).map(function(c){return{items:f,payload:c}})))},[]).forEach(function(o){var l=o.items,f=o.payload;return n("viewedObjectIDs",[f],l)})},viewedFilters:function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];a.length>0&&e.apply(void 0,["viewedFilters"].concat(a))}}}function Kut(e){var t=e.items,n=t.reduce(function(r,i){var a;return r[i.__autocomplete_indexName]=((a=r[i.__autocomplete_indexName])!==null&&a!==void 0?a:[]).concat(i),r},{});return Object.keys(n).map(function(r){var i=n[r];return{index:r,items:i,algoliaSource:["autocomplete"]}})}function Em(e){return e.objectID&&e.__autocomplete_indexName&&e.__autocomplete_queryID}function kv(e){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kv(e)}function a0(e){return tct(e)||Qut(e)||Jut(e)||Zut()}function Zut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jut(e,t){if(e){if(typeof e=="string")return gE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gE(e,t)}}function Qut(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tct(e){if(Array.isArray(e))return gE(e)}function gE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yL(Object(n),!0).forEach(function(r){ect(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ect(e,t,n){return t=nct(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nct(e){var t=rct(e,"string");return kv(t)==="symbol"?t:String(t)}function rct(e,t){if(kv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(kv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ict=400,U7="2.6.0",act="https://cdn.jsdelivr.net/npm/search-insights@".concat(U7,"/dist/search-insights.min.js"),oct=ib(function(e){var t=e.onItemsChange,n=e.items,r=e.insights,i=e.state;t({insights:r,insightsEvents:Kut({items:n}).map(function(a){return Yu({eventName:"Items Viewed"},a)}),state:i})},ict);function _L(e){var t=sct(e),n=t.insightsClient,r=t.onItemsChange,i=t.onSelect,a=t.onActive,s=t.__autocomplete_clickAnalytics,o=n;n||Out(function(c){var h=c.window,d=h.AlgoliaAnalyticsObject||"aa";typeof d=="string"&&(o=h[d]),o||(h.AlgoliaAnalyticsObject=d,h[d]||(h[d]=function(){h[d].queue||(h[d].queue=[]);for(var p=arguments.length,g=new Array(p),m=0;m<p;m++)g[m]=arguments[m];h[d].queue.push(g)}),h[d].version=U7,o=h[d],lct(h))});var l=Xut(o),f=km([]),u=ib(function(c){var h=c.state;if(h.isOpen){var d=h.collections.reduce(function(p,g){return[].concat(a0(p),a0(g.items))},[]).filter(Em);B7(f.current.map(function(p){return p.objectID}),d.map(function(p){return p.objectID}))||(f.current=d,d.length>0&&oct({onItemsChange:r,items:d,insights:l,state:h}))}},0);return{name:"aa.algoliaInsightsPlugin",subscribe:function(h){var d=h.setContext,p=h.onSelect,g=h.onActive;function m(v){d({algoliaInsightsPlugin:{__algoliaSearchParameters:Yu(Yu({},s?{clickAnalytics:!0}:{}),v?{userToken:v}:{}),insights:l}})}o("addAlgoliaAgent","insights-plugin"),m(),o("onUserTokenChange",m),o("getUserToken",null,function(v,y){m(y)}),p(function(v){var y=v.item,_=v.state,x=v.event,w=v.source;Em(y)&&i({state:_,event:x,insights:l,item:y,insightsEvents:[Yu({eventName:"Item Selected"},gL({item:y,items:w.getItems().filter(Em)}))]})}),g(function(v){var y=v.item,_=v.source,x=v.state,w=v.event;Em(y)&&a({state:x,event:w,insights:l,item:y,insightsEvents:[Yu({eventName:"Item Active"},gL({item:y,items:_.getItems().filter(Em)}))]})})},onStateChange:function(h){var d=h.state;u({state:d})},__autocomplete_pluginOptions:e}}function xL(){var e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return[].concat(a0(t),["autocomplete-internal"],a0((e=n.algoliaInsightsPlugin)!==null&&e!==void 0&&e.__automaticInsights?["autocomplete-automatic"]:[]))}function sct(e){return Yu({onItemsChange:function(n){var r=n.insights,i=n.insightsEvents,a=n.state;r.viewedObjectIDs.apply(r,a0(i.map(function(s){return Yu(Yu({},s),{},{algoliaSource:xL(s.algoliaSource,a.context)})})))},onSelect:function(n){var r=n.insights,i=n.insightsEvents,a=n.state;r.clickedObjectIDsAfterSearch.apply(r,a0(i.map(function(s){return Yu(Yu({},s),{},{algoliaSource:xL(s.algoliaSource,a.context)})})))},onActive:ob,__autocomplete_clickAnalytics:!0},e)}function lct(e){var t="[Autocomplete]: Could not load search-insights.js. Please load it manually following https://alg.li/insights-autocomplete";try{var n=e.document.createElement("script");n.async=!0,n.src=act,n.onerror=function(){console.error(t)},document.body.appendChild(n)}catch{console.error(t)}}function lx(e,t){var n=t;return{then:function(i,a){return lx(e.then(F1(i,n,e),F1(a,n,e)),n)},catch:function(i){return lx(e.catch(F1(i,n,e)),n)},finally:function(i){return i&&n.onCancelList.push(i),lx(e.finally(F1(i&&function(){return n.onCancelList=[],i()},n,e)),n)},cancel:function(){n.isCanceled=!0;var i=n.onCancelList;n.onCancelList=[],i.forEach(function(a){a()})},isCanceled:function(){return n.isCanceled===!0}}}function bL(e){return lx(e,{isCanceled:!1,onCancelList:[]})}function F1(e,t,n){return e?function(i){return t.isCanceled?i:e(i)}:n}function uct(){var e=[];return{add:function(n){return e.push(n),n.finally(function(){e=e.filter(function(r){return r!==n})})},cancelAll:function(){e.forEach(function(n){return n.cancel()})},isEmpty:function(){return e.length===0}}}function cct(){var e=-1,t=-1,n=void 0;return function(i){e++;var a=e;return Promise.resolve(i).then(function(s){return n&&a<t?n:(t=a,n=s,s)})}}function wL(e,t,n,r){if(!n)return null;if(e<0&&(t===null||r!==null&&t===0))return n+e;var i=(t===null?-1:t)+e;return i<=-1||i>=n?r===null?null:0:i}function TL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TL(Object(n),!0).forEach(function(r){fct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fct(e,t,n){return t=hct(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hct(e){var t=dct(e,"string");return Dv(t)==="symbol"?t:String(t)}function dct(e,t){if(Dv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Dv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dv(e){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dv(e)}function pct(e,t){var n=[];return Promise.resolve(e(t)).then(function(r){return Promise.all(r.filter(function(i){return!!i}).map(function(i){if(i.sourceId,n.includes(i.sourceId))throw new Error("[Autocomplete] The `sourceId` ".concat(JSON.stringify(i.sourceId)," is not unique."));n.push(i.sourceId);var a={getItemInputValue:function(l){var f=l.state;return f.query},getItemUrl:function(){},onSelect:function(l){var f=l.setIsOpen;f(!1)},onActive:ob,onResolve:ob};Object.keys(a).forEach(function(o){a[o].__default=!0});var s=EL(EL({},a),i);return Promise.resolve(s)}))})}function gct(e){var t=e.collections.map(function(r){return r.items.length}).reduce(function(r,i,a){var s=r[a-1]||0,o=s+i;return r.push(o),r},[]),n=t.reduce(function(r,i){return i<=e.activeItemId?r+1:r},0);return e.collections[n]}function mct(e){for(var t=e.state,n=e.collection,r=!1,i=0,a=0;r===!1;){var s=t.collections[i];if(s===n){r=!0;break}a+=s.items.length,i++}return t.activeItemId-a}function Pd(e){var t=gct(e);if(!t)return null;var n=t.items[mct({state:e,collection:t})],r=t.source,i=r.getItemInputValue({item:n,state:e}),a=r.getItemUrl({item:n,state:e});return{item:n,itemInputValue:i,itemUrl:a,source:r}}function _l(e,t,n){return[e,n?.sourceId,t].filter(Boolean).join("-").replace(/\s/g,"")}function vct(e,t){return e===t||e.contains(t)}var yct=/((gt|sm)-|galaxy nexus)|samsung[- ]|samsungbrowser/i;function _ct(e){return!!(e&&e.match(yct))}function xct(e){return{results:e,hits:e.map(function(t){return t.hits}).filter(Boolean),facetHits:e.map(function(t){var n;return(n=t.facetHits)===null||n===void 0?void 0:n.map(function(r){return{label:r.value,count:r.count,_highlightResult:{label:{value:r.highlighted}}}})}).filter(Boolean)}}function Fv(e){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fv(e)}function ML(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bct(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ML(Object(n),!0).forEach(function(r){wct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ML(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wct(e,t,n){return t=Tct(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tct(e){var t=Ect(e,"string");return Fv(t)==="symbol"?t:String(t)}function Ect(e,t){if(Fv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mct(e,t,n){var r=t.initialState;return{getState:function(){return r},dispatch:function(a,s){var o=bct({},r);r=e(r,{type:a,props:t,payload:s}),n({state:r,prevState:o})},pendingRequests:uct()}}function zv(e){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zv(e)}function SL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function z1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SL(Object(n),!0).forEach(function(r){Sct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sct(e,t,n){return t=Cct(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cct(e){var t=Act(e,"string");return zv(t)==="symbol"?t:String(t)}function Act(e,t){if(zv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ict(e){var t=e.store,n=function(f){t.dispatch("setActiveItemId",f)},r=function(f){t.dispatch("setQuery",f)},i=function(f){var u=0,c=f.map(function(h){return z1(z1({},h),{},{items:Pv(h.items).map(function(d){return z1(z1({},d),{},{__autocomplete_id:u++})})})});t.dispatch("setCollections",c)},a=function(f){t.dispatch("setIsOpen",f)},s=function(f){t.dispatch("setStatus",f)},o=function(f){t.dispatch("setContext",f)};return{setActiveItemId:n,setQuery:r,setCollections:i,setIsOpen:a,setStatus:s,setContext:o}}function Bv(e){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bv(e)}function Oct(e){return Nct(e)||Rct(e)||Pct(e)||Lct()}function Lct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pct(e,t){if(e){if(typeof e=="string")return mE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mE(e,t)}}function Rct(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nct(e){if(Array.isArray(e))return mE(e)}function mE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CL(Object(n),!0).forEach(function(r){kct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kct(e,t,n){return t=Dct(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dct(e){var t=Fct(e,"string");return Bv(t)==="symbol"?t:String(t)}function Fct(e,t){if(Bv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zct(e,t){var n,r=typeof window<"u"?window:{},i=e.plugins||[];return Zp(Zp({debug:!1,openOnFocus:!1,enterKeyHint:void 0,placeholder:"",autoFocus:!1,defaultActiveItemId:null,stallThreshold:300,insights:void 0,environment:r,shouldPanelOpen:function(s){var o=s.state;return Rv(o)>0},reshape:function(s){var o=s.sources;return o}},e),{},{id:(n=e.id)!==null&&n!==void 0?n:z7(),plugins:i,initialState:Zp({activeItemId:null,query:"",completion:null,collections:[],isOpen:!1,status:"idle",context:{}},e.initialState),onStateChange:function(s){var o;(o=e.onStateChange)===null||o===void 0||o.call(e,s),i.forEach(function(l){var f;return(f=l.onStateChange)===null||f===void 0?void 0:f.call(l,s)})},onSubmit:function(s){var o;(o=e.onSubmit)===null||o===void 0||o.call(e,s),i.forEach(function(l){var f;return(f=l.onSubmit)===null||f===void 0?void 0:f.call(l,s)})},onReset:function(s){var o;(o=e.onReset)===null||o===void 0||o.call(e,s),i.forEach(function(l){var f;return(f=l.onReset)===null||f===void 0?void 0:f.call(l,s)})},getSources:function(s){return Promise.all([].concat(Oct(i.map(function(o){return o.getSources})),[e.getSources]).filter(Boolean).map(function(o){return pct(o,s)})).then(function(o){return Pv(o)}).then(function(o){return o.map(function(l){return Zp(Zp({},l),{},{onSelect:function(u){l.onSelect(u),t.forEach(function(c){var h;return(h=c.onSelect)===null||h===void 0?void 0:h.call(c,u)})},onActive:function(u){l.onActive(u),t.forEach(function(c){var h;return(h=c.onActive)===null||h===void 0?void 0:h.call(c,u)})},onResolve:function(u){l.onResolve(u),t.forEach(function(c){var h;return(h=c.onResolve)===null||h===void 0?void 0:h.call(c,u)})}})})})},navigator:Zp({navigate:function(s){var o=s.itemUrl;r.location.assign(o)},navigateNewTab:function(s){var o=s.itemUrl,l=r.open(o,"_blank","noopener");l?.focus()},navigateNewWindow:function(s){var o=s.itemUrl;r.open(o,"_blank","noopener")}},e.navigator)})}function Gv(e){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gv(e)}function AL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function B1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AL(Object(n),!0).forEach(function(r){V7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V7(e,t,n){return t=Bct(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bct(e){var t=Gct(e,"string");return Gv(t)==="symbol"?t:String(t)}function Gct(e,t){if(Gv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jct(e){var t=e.collections,n=e.props,r=e.state,i=t.reduce(function(l,f){return B1(B1({},l),{},V7({},f.source.sourceId,B1(B1({},f.source),{},{getItems:function(){return Pv(f.items)}})))},{}),a=n.plugins.reduce(function(l,f){return f.reshape?f.reshape(l):l},{sourcesBySourceId:i,state:r}),s=a.sourcesBySourceId,o=n.reshape({sourcesBySourceId:s,sources:Object.values(s),state:r});return Pv(o).filter(Boolean).map(function(l){return{source:l,items:l.getItems()}})}function jv(e){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jv(e)}function IL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IL(Object(n),!0).forEach(function(r){Uct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uct(e,t,n){return t=Vct(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vct(e){var t=Hct(e,"string");return jv(t)==="symbol"?t:String(t)}function Hct(e,t){if(jv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(jv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H7(e){return qct(e)||$ct(e)||Wct(e)||Yct()}function Yct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wct(e,t){if(e){if(typeof e=="string")return vE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vE(e,t)}}function $ct(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qct(e){if(Array.isArray(e))return vE(e)}function vE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G1(e){return!!e.execute}function Xct(e){return!!e?.execute}function Kct(e,t,n){if(Xct(e)){var r=e.requesterId==="algolia"?Object.assign.apply(Object,[{}].concat(H7(Object.keys(n.context).map(function(i){var a;return(a=n.context[i])===null||a===void 0?void 0:a.__algoliaSearchParameters})))):{};return Jp(Jp({},e),{},{requests:e.queries.map(function(i){return{query:e.requesterId==="algolia"?Jp(Jp({},i),{},{params:Jp(Jp({},r),i.params)}):i,sourceId:t,transformResponse:e.transformResponse}})})}return{items:e,sourceId:t}}function Zct(e){var t=e.reduce(function(r,i){if(!G1(i))return r.push(i),r;var a=i.searchClient,s=i.execute,o=i.requesterId,l=i.requests,f=r.find(function(h){return G1(i)&&G1(h)&&h.searchClient===a&&!!o&&h.requesterId===o});if(f){var u;(u=f.items).push.apply(u,H7(l))}else{var c={execute:s,requesterId:o,items:l,searchClient:a};r.push(c)}return r},[]),n=t.map(function(r){if(!G1(r))return Promise.resolve(r);var i=r,a=i.execute,s=i.items,o=i.searchClient;return a({searchClient:o,requests:s})});return Promise.all(n).then(function(r){return Pv(r)})}function Jct(e,t,n){return t.map(function(r){var i=e.filter(function(l){return l.sourceId===r.sourceId}),a=i.map(function(l){var f=l.items;return f}),s=i[0].transformResponse,o=s?s(xct(a)):a;return r.onResolve({source:r,results:a,items:o,state:n.getState()}),o.every(Boolean),'The `getItems` function from source "'.concat(r.sourceId,'" must return an array of items but returned ').concat(JSON.stringify(void 0),`.

Did you forget to return items?

See: https://www.algolia.com/doc/ui-libraries/autocomplete/core-concepts/sources/#param-getitems`),{source:r,items:o}})}function Uv(e){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uv(e)}var Qct=["event","nextState","props","query","refresh","store"];function OL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function id(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OL(Object(n),!0).forEach(function(r){tft(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tft(e,t,n){return t=eft(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eft(e){var t=nft(e,"string");return Uv(t)==="symbol"?t:String(t)}function nft(e,t){if(Uv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Uv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rft(e,t){if(e==null)return{};var n=ift(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ift(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Mm=null,LL=cct();function Og(e){var t=e.event,n=e.nextState,r=n===void 0?{}:n,i=e.props,a=e.query,s=e.refresh,o=e.store,l=rft(e,Qct);Mm&&i.environment.clearTimeout(Mm);var f=l.setCollections,u=l.setIsOpen,c=l.setQuery,h=l.setActiveItemId,d=l.setStatus,p=l.setContext;if(c(a),h(i.defaultActiveItemId),!a&&i.openOnFocus===!1){var g,m=o.getState().collections.map(function(_){return id(id({},_),{},{items:[]})});d("idle"),f(m),u((g=r.isOpen)!==null&&g!==void 0?g:i.shouldPanelOpen({state:o.getState()}));var v=bL(LL(m).then(function(){return Promise.resolve()}));return o.pendingRequests.add(v)}d("loading"),Mm=i.environment.setTimeout(function(){d("stalled")},i.stallThreshold);var y=bL(LL(i.getSources(id({query:a,refresh:s,state:o.getState()},l)).then(function(_){return Promise.all(_.map(function(x){return Promise.resolve(x.getItems(id({query:a,refresh:s,state:o.getState()},l))).then(function(w){return Kct(w,x.sourceId,o.getState())})})).then(Zct).then(function(x){var w=x.some(function(S){var C=S.items;return aft(C)});if(w){var E;p({algoliaInsightsPlugin:id(id({},((E=o.getState().context)===null||E===void 0?void 0:E.algoliaInsightsPlugin)||{}),{},{__automaticInsights:w})})}return Jct(x,_,o)}).then(function(x){return jct({collections:x,props:i,state:o.getState()})})}))).then(function(_){var x;d("idle"),f(_);var w=i.shouldPanelOpen({state:o.getState()});u((x=r.isOpen)!==null&&x!==void 0?x:i.openOnFocus&&!a&&w||w);var E=Pd(o.getState());if(o.getState().activeItemId!==null&&E){var S=E.item,C=E.itemInputValue,T=E.itemUrl,A=E.source;A.onActive(id({event:t,item:S,itemInputValue:C,itemUrl:T,refresh:s,source:A,state:o.getState()},l))}}).finally(function(){d("idle"),Mm&&i.environment.clearTimeout(Mm)});return o.pendingRequests.add(y)}function aft(e){return!Array.isArray(e)&&!!e?._automaticInsights}function Vv(e){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vv(e)}var oft=["event","props","refresh","store"];function PL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ad(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PL(Object(n),!0).forEach(function(r){sft(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sft(e,t,n){return t=lft(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lft(e){var t=uft(e,"string");return Vv(t)==="symbol"?t:String(t)}function uft(e,t){if(Vv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cft(e,t){if(e==null)return{};var n=fft(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function fft(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function hft(e){var t=e.event,n=e.props,r=e.refresh,i=e.store,a=cft(e,oft);if(t.key==="ArrowUp"||t.key==="ArrowDown"){var s=function(){var p=Pd(i.getState()),g=n.environment.document.getElementById(_l(n.id,"item-".concat(i.getState().activeItemId),p?.source));g&&(g.scrollIntoViewIfNeeded?g.scrollIntoViewIfNeeded(!1):g.scrollIntoView(!1))},o=function(){var p=Pd(i.getState());if(i.getState().activeItemId!==null&&p){var g=p.item,m=p.itemInputValue,v=p.itemUrl,y=p.source;y.onActive(ad({event:t,item:g,itemInputValue:m,itemUrl:v,refresh:r,source:y,state:i.getState()},a))}};t.preventDefault(),i.getState().isOpen===!1&&(n.openOnFocus||i.getState().query)?Og(ad({event:t,props:n,query:i.getState().query,refresh:r,store:i},a)).then(function(){i.dispatch(t.key,{nextActiveItemId:n.defaultActiveItemId}),o(),setTimeout(s,0)}):(i.dispatch(t.key,{}),o(),s())}else if(t.key==="Escape")t.preventDefault(),i.dispatch(t.key,null),i.pendingRequests.cancelAll();else if(t.key==="Tab")i.dispatch("blur",null),i.pendingRequests.cancelAll();else if(t.key==="Enter"){if(i.getState().activeItemId===null||i.getState().collections.every(function(d){return d.items.length===0})){n.debug||i.pendingRequests.cancelAll();return}t.preventDefault();var l=Pd(i.getState()),f=l.item,u=l.itemInputValue,c=l.itemUrl,h=l.source;if(t.metaKey||t.ctrlKey)c!==void 0&&(h.onSelect(ad({event:t,item:f,itemInputValue:u,itemUrl:c,refresh:r,source:h,state:i.getState()},a)),n.navigator.navigateNewTab({itemUrl:c,item:f,state:i.getState()}));else if(t.shiftKey)c!==void 0&&(h.onSelect(ad({event:t,item:f,itemInputValue:u,itemUrl:c,refresh:r,source:h,state:i.getState()},a)),n.navigator.navigateNewWindow({itemUrl:c,item:f,state:i.getState()}));else if(!t.altKey){if(c!==void 0){h.onSelect(ad({event:t,item:f,itemInputValue:u,itemUrl:c,refresh:r,source:h,state:i.getState()},a)),n.navigator.navigate({itemUrl:c,item:f,state:i.getState()});return}Og(ad({event:t,nextState:{isOpen:!1},props:n,query:u,refresh:r,store:i},a)).then(function(){h.onSelect(ad({event:t,item:f,itemInputValue:u,itemUrl:c,refresh:r,source:h,state:i.getState()},a))})}}}function Hv(e){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hv(e)}var dft=["props","refresh","store"],pft=["inputElement","formElement","panelElement"],gft=["inputElement"],mft=["inputElement","maxLength"],vft=["source"],yft=["item","source"];function RL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RL(Object(n),!0).forEach(function(r){_ft(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _ft(e,t,n){return t=xft(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xft(e){var t=bft(e,"string");return Hv(t)==="symbol"?t:String(t)}function bft(e,t){if(Hv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qp(e,t){if(e==null)return{};var n=wft(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wft(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Tft(e){var t=e.props,n=e.refresh,r=e.store,i=Qp(e,dft),a=function(p){var g=p.inputElement,m=p.formElement,v=p.panelElement,y=Qp(p,pft);function _(x){var w=r.getState().isOpen||!r.pendingRequests.isEmpty();if(!(!w||x.target===g)){var E=[m,v].some(function(S){return vct(S,x.target)});E===!1&&(r.dispatch("blur",null),t.debug||r.pendingRequests.cancelAll())}}return bo({onTouchStart:_,onMouseDown:_,onTouchMove:function(w){r.getState().isOpen===!1||g!==t.environment.document.activeElement||w.target===g||g.blur()}},y)},s=function(p){return bo({role:"combobox","aria-expanded":r.getState().isOpen,"aria-haspopup":"listbox","aria-owns":r.getState().isOpen?r.getState().collections.map(function(g){var m=g.source;return _l(t.id,"list",m)}).join(" "):void 0,"aria-labelledby":_l(t.id,"label")},p)},o=function(p){p.inputElement;var g=Qp(p,gft);return bo({action:"",noValidate:!0,role:"search",onSubmit:function(v){var y;v.preventDefault(),t.onSubmit(bo({event:v,refresh:n,state:r.getState()},i)),r.dispatch("submit",null),(y=p.inputElement)===null||y===void 0||y.blur()},onReset:function(v){var y;v.preventDefault(),t.onReset(bo({event:v,refresh:n,state:r.getState()},i)),r.dispatch("reset",null),(y=p.inputElement)===null||y===void 0||y.focus()}},g)},l=function(p){var g;function m(T){(t.openOnFocus||r.getState().query)&&Og(bo({event:T,props:t,query:r.getState().completion||r.getState().query,refresh:n,store:r},i)),r.dispatch("focus",null)}var v=p||{};v.inputElement;var y=v.maxLength,_=y===void 0?512:y,x=Qp(v,mft),w=Pd(r.getState()),E=((g=t.environment.navigator)===null||g===void 0?void 0:g.userAgent)||"",S=_ct(E),C=t.enterKeyHint||(w!=null&&w.itemUrl&&!S?"go":"search");return bo({"aria-autocomplete":"both","aria-activedescendant":r.getState().isOpen&&r.getState().activeItemId!==null?_l(t.id,"item-".concat(r.getState().activeItemId),w?.source):void 0,"aria-controls":r.getState().isOpen?r.getState().collections.map(function(T){var A=T.source;return _l(t.id,"list",A)}).join(" "):void 0,"aria-labelledby":_l(t.id,"label"),value:r.getState().completion||r.getState().query,id:_l(t.id,"input"),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",enterKeyHint:C,spellCheck:"false",autoFocus:t.autoFocus,placeholder:t.placeholder,maxLength:_,type:"search",onChange:function(A){Og(bo({event:A,props:t,query:A.currentTarget.value.slice(0,_),refresh:n,store:r},i))},onKeyDown:function(A){hft(bo({event:A,props:t,refresh:n,store:r},i))},onFocus:m,onBlur:ob,onClick:function(A){p.inputElement===t.environment.document.activeElement&&!r.getState().isOpen&&m(A)}},x)},f=function(p){return bo({htmlFor:_l(t.id,"input"),id:_l(t.id,"label")},p)},u=function(p){var g=p||{},m=g.source,v=Qp(g,vft);return bo({role:"listbox","aria-labelledby":_l(t.id,"label"),id:_l(t.id,"list",m)},v)},c=function(p){return bo({onMouseDown:function(m){m.preventDefault()},onMouseLeave:function(){r.dispatch("mouseleave",null)}},p)},h=function(p){var g=p.item,m=p.source,v=Qp(p,yft);return bo({id:_l(t.id,"item-".concat(g.__autocomplete_id),m),role:"option","aria-selected":r.getState().activeItemId===g.__autocomplete_id,onMouseMove:function(_){if(g.__autocomplete_id!==r.getState().activeItemId){r.dispatch("mousemove",g.__autocomplete_id);var x=Pd(r.getState());if(r.getState().activeItemId!==null&&x){var w=x.item,E=x.itemInputValue,S=x.itemUrl,C=x.source;C.onActive(bo({event:_,item:w,itemInputValue:E,itemUrl:S,refresh:n,source:C,state:r.getState()},i))}}},onMouseDown:function(_){_.preventDefault()},onClick:function(_){var x=m.getItemInputValue({item:g,state:r.getState()}),w=m.getItemUrl({item:g,state:r.getState()}),E=w?Promise.resolve():Og(bo({event:_,nextState:{isOpen:!1},props:t,query:x,refresh:n,store:r},i));E.then(function(){m.onSelect(bo({event:_,item:g,itemInputValue:x,itemUrl:w,refresh:n,source:m,state:r.getState()},i))})}},v)};return{getEnvironmentProps:a,getRootProps:s,getFormProps:o,getLabelProps:f,getInputProps:l,getPanelProps:c,getListProps:u,getItemProps:h}}function Yv(e){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yv(e)}function NL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Eft(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NL(Object(n),!0).forEach(function(r){Y7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y7(e,t,n){return t=Mft(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mft(e){var t=Sft(e,"string");return Yv(t)==="symbol"?t:String(t)}function Sft(e,t){if(Yv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cft(e){var t,n,r,i,a=e.plugins,s=e.options,o=(t=(((n=s.__autocomplete_metadata)===null||n===void 0?void 0:n.userAgents)||[])[0])===null||t===void 0?void 0:t.segment,l=o?Y7({},o,Object.keys(((r=s.__autocomplete_metadata)===null||r===void 0?void 0:r.options)||{})):{};return{plugins:a.map(function(f){return{name:f.name,options:Object.keys(f.__autocomplete_pluginOptions||[])}}),options:Eft({"autocomplete-core":Object.keys(s)},l),ua:Lut.concat(((i=s.__autocomplete_metadata)===null||i===void 0?void 0:i.userAgents)||[])}}function Aft(e){var t,n,r=e.metadata,i=e.environment,a=(t=i.navigator)===null||t===void 0||(n=t.userAgent)===null||n===void 0?void 0:n.includes("Algolia Crawler");if(a){var s=i.document.createElement("meta"),o=i.document.querySelector("head");s.name="algolia:metadata",setTimeout(function(){s.content=JSON.stringify(r),o.appendChild(s)},0)}}function kL(e){var t,n=e.state;return n.isOpen===!1||n.activeItemId===null?null:((t=Pd(n))===null||t===void 0?void 0:t.itemInputValue)||null}function Wv(e){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wv(e)}function DL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DL(Object(n),!0).forEach(function(r){Ift(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ift(e,t,n){return t=Oft(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oft(e){var t=Lft(e,"string");return Wv(t)==="symbol"?t:String(t)}function Lft(e,t){if(Wv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pft=function(t,n){switch(n.type){case"setActiveItemId":return kr(kr({},t),{},{activeItemId:n.payload});case"setQuery":return kr(kr({},t),{},{query:n.payload,completion:null});case"setCollections":return kr(kr({},t),{},{collections:n.payload});case"setIsOpen":return kr(kr({},t),{},{isOpen:n.payload});case"setStatus":return kr(kr({},t),{},{status:n.payload});case"setContext":return kr(kr({},t),{},{context:kr(kr({},t.context),n.payload)});case"ArrowDown":{var r=kr(kr({},t),{},{activeItemId:n.payload.hasOwnProperty("nextActiveItemId")?n.payload.nextActiveItemId:wL(1,t.activeItemId,Rv(t),n.props.defaultActiveItemId)});return kr(kr({},r),{},{completion:kL({state:r})})}case"ArrowUp":{var i=kr(kr({},t),{},{activeItemId:wL(-1,t.activeItemId,Rv(t),n.props.defaultActiveItemId)});return kr(kr({},i),{},{completion:kL({state:i})})}case"Escape":return t.isOpen?kr(kr({},t),{},{activeItemId:null,isOpen:!1,completion:null}):kr(kr({},t),{},{activeItemId:null,query:"",status:"idle",collections:[]});case"submit":return kr(kr({},t),{},{activeItemId:null,isOpen:!1,status:"idle"});case"reset":return kr(kr({},t),{},{activeItemId:n.props.openOnFocus===!0?n.props.defaultActiveItemId:null,status:"idle",completion:null,query:""});case"focus":return kr(kr({},t),{},{activeItemId:n.props.defaultActiveItemId,isOpen:(n.props.openOnFocus||!!t.query)&&n.props.shouldPanelOpen({state:t})});case"blur":return n.props.debug?t:kr(kr({},t),{},{isOpen:!1,activeItemId:null});case"mousemove":return kr(kr({},t),{},{activeItemId:n.payload});case"mouseleave":return kr(kr({},t),{},{activeItemId:n.props.defaultActiveItemId});default:return"The reducer action ".concat(JSON.stringify(n.type)," is not supported."),t}};function $v(e){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$v(e)}function FL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FL(Object(n),!0).forEach(function(r){Rft(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rft(e,t,n){return t=Nft(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nft(e){var t=kft(e,"string");return $v(t)==="symbol"?t:String(t)}function kft(e,t){if($v(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($v(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dft(e){var t=[],n=zct(e,t),r=Mct(Pft,n,s),i=Ict({store:r}),a=Tft(od({props:n,refresh:o,store:r,navigator:n.navigator},i));function s(c){var h,d,p=c.prevState,g=c.state;if(n.onStateChange(od({prevState:p,state:g,refresh:o,navigator:n.navigator},i)),!f()&&(h=g.context)!==null&&h!==void 0&&(d=h.algoliaInsightsPlugin)!==null&&d!==void 0&&d.__automaticInsights&&n.insights!==!1){var m=_L({__autocomplete_clickAnalytics:!1});n.plugins.push(m),l([m])}}function o(){return Og(od({event:new Event("input"),nextState:{isOpen:r.getState().isOpen},props:n,navigator:n.navigator,query:r.getState().query,refresh:o,store:r},i))}function l(c){c.forEach(function(h){var d;return(d=h.subscribe)===null||d===void 0?void 0:d.call(h,od(od({},i),{},{navigator:n.navigator,refresh:o,onSelect:function(g){t.push({onSelect:g})},onActive:function(g){t.push({onActive:g})},onResolve:function(g){t.push({onResolve:g})}}))})}function f(){return n.plugins.some(function(c){return c.name==="aa.algoliaInsightsPlugin"})}if(n.insights&&!f()){var u=typeof n.insights=="boolean"?{}:n.insights;n.plugins.push(_L(u))}return l(n.plugins),Aft({metadata:Cft({plugins:n.plugins,options:e}),environment:n.environment}),od(od({refresh:o,navigator:n.navigator},a),i)}var W7=function(e,t,n,r){var i;t[0]=0;for(var a=1;a<t.length;a++){var s=t[a++],o=t[a]?(t[0]|=s?1:2,n[t[a++]]):t[++a];s===3?r[0]=o:s===4?r[1]=Object.assign(r[1]||{},o):s===5?(r[1]=r[1]||{})[t[++a]]=o:s===6?r[1][t[++a]]+=o+"":s?(i=e.apply(o,W7(e,o,n,["",null])),r.push(i),o[0]?t[0]|=2:(t[a-2]=0,t[a]=i)):r.push(o)}return r},zL=new Map;function Fft(e){var t=zL.get(this);return t||(t=new Map,zL.set(this,t)),(t=W7(this,t.get(e)||(t.set(e,t=function(n){for(var r,i,a=1,s="",o="",l=[0],f=function(h){a===1&&(h||(s=s.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?l.push(0,h,s):a===3&&(h||s)?(l.push(3,h,s),a=2):a===2&&s==="..."&&h?l.push(4,h,0):a===2&&s&&!h?l.push(5,0,!0,s):a>=5&&((s||!h&&a===5)&&(l.push(a,0,s,i),a=6),h&&(l.push(a,h,0,i),a=6)),s=""},u=0;u<n.length;u++){u&&(a===1&&f(),f(u));for(var c=0;c<n[u].length;c++)r=n[u][c],a===1?r==="<"?(f(),l=[l],a=3):s+=r:a===4?s==="--"&&r===">"?(a=1,s=""):s=r+s[0]:o?r===o?o="":s+=r:r==='"'||r==="'"?o=r:r===">"?(f(),a=1):a&&(r==="="?(a=5,i=s,s=""):r==="/"&&(a<5||n[u][c+1]===">")?(f(),a===3&&(l=l[0]),a=l,(l=l[0]).push(2,0,a),a=0):r===" "||r==="	"||r===`
`||r==="\r"?(f(),a=2):s+=r),a===3&&s==="!--"&&(a=4,l=l[0])}return f(),l}(e)),t),arguments,[])).length>1?t:t[0]}var zft=function(t){var n=t.environment,r=n.document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("class","aa-ClearIcon"),r.setAttribute("viewBox","0 0 24 24"),r.setAttribute("width","18"),r.setAttribute("height","18"),r.setAttribute("fill","currentColor");var i=n.document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d","M5.293 6.707l5.293 5.293-5.293 5.293c-0.391 0.391-0.391 1.024 0 1.414s1.024 0.391 1.414 0l5.293-5.293 5.293 5.293c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414l-5.293-5.293 5.293-5.293c0.391-0.391 0.391-1.024 0-1.414s-1.024-0.391-1.414 0l-5.293 5.293-5.293-5.293c-0.391-0.391-1.024-0.391-1.414 0s-0.391 1.024 0 1.414z"),r.appendChild(i),r};function BL(e,t){if(typeof t=="string"){var n=e.document.querySelector(t);return"The element ".concat(JSON.stringify(t)," is not in the document."),n}return t}function Bft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(r,i){return Object.keys(i).forEach(function(a){var s=r[a],o=i[a];s!==o&&(r[a]=[s,o].filter(Boolean).join(" "))}),r},{})}function Gft(e){return Hft(e)||Vft(e)||Uft(e)||jft()}function jft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uft(e,t){if(e){if(typeof e=="string")return yE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yE(e,t)}}function Vft(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hft(e){if(Array.isArray(e))return yE(e)}function yE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _E(e){"@babel/helpers - typeof";return _E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_E(e)}var GL=function(t){return t&&_E(t)==="object"&&Object.prototype.toString.call(t)==="[object Object]"};function $7(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(r,i){return Object.keys(i).forEach(function(a){var s=r[a],o=i[a];Array.isArray(s)&&Array.isArray(o)?r[a]=s.concat.apply(s,Gft(o)):GL(s)&&GL(o)?r[a]=$7(s,o):r[a]=o}),r},{})}function qv(e){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qv(e)}function jL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jL(Object(n),!0).forEach(function(r){q7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q7(e,t,n){return t=Yft(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yft(e){var t=Wft(e,"string");return qv(t)==="symbol"?t:String(t)}function Wft(e,t){if(qv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $ft(e,t){return Zft(e)||Kft(e,t)||Xft(e,t)||qft()}function qft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xft(e,t){if(e){if(typeof e=="string")return VL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VL(e,t)}}function VL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kft(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,f=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){f=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function Zft(e){if(Array.isArray(e))return e}function Jft(e,t){return Object.entries(e).reduce(function(n,r){var i=$ft(r,2),a=i[0],s=i[1];return t({key:a,value:s})?UL(UL({},n),{},q7({},a,s)):n},{})}var Qft=["ontouchstart","ontouchend","ontouchmove","ontouchcancel"];function tht(e,t,n){n===null?e[t]="":typeof n!="number"?e[t]=n:e[t]=n+"px"}function HL(e){this._listeners[e.type](e)}function X7(e,t,n){var r,i,a=e[t];if(t==="style")if(typeof n=="string")e.style=n;else if(n===null)e.style="";else for(t in n)(!a||n[t]!==a[t])&&tht(e.style,t,n[t]);else t[0]==="o"&&t[1]==="n"?(r=t!==(t=t.replace(/Capture$/,"")),i=t.toLowerCase(),(i in e||Qft.includes(i))&&(t=i),t=t.slice(2),e._listeners||(e._listeners={}),e._listeners[t]=n,n?a||e.addEventListener(t,HL,r):e.removeEventListener(t,HL,r)):t!=="list"&&t!=="tagName"&&t!=="form"&&t!=="type"&&t!=="size"&&t!=="download"&&t!=="href"&&t in e?e[t]=n??"":typeof n!="function"&&t!=="dangerouslySetInnerHTML"&&(n==null||n===!1&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function K7(e){switch(e){case"onChange":return"onInput";default:return e}}function Wu(e,t){for(var n in t)X7(e,K7(n),t[n])}function YL(e,t){for(var n in t)n[0]==="o"&&n[1]==="n"||X7(e,K7(n),t[n])}var eht=["children"];function nht(e){return oht(e)||aht(e)||iht(e)||rht()}function rht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iht(e,t){if(e){if(typeof e=="string")return xE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xE(e,t)}}function aht(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oht(e){if(Array.isArray(e))return xE(e)}function xE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sht(e,t){if(e==null)return{};var n=lht(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lht(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Z7(e){return function(n,r){var i=r.children,a=i===void 0?[]:i,s=sht(r,eht),o=e.document.createElement(n);return Wu(o,s),o.append.apply(o,nht(a)),o}}function Xv(e){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xv(e)}var uht=["autocompleteScopeApi","environment","classNames","getInputProps","getInputPropsCore","isDetached","state"];function WL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function j3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WL(Object(n),!0).forEach(function(r){cht(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cht(e,t,n){return t=fht(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fht(e){var t=hht(e,"string");return Xv(t)==="symbol"?t:String(t)}function hht(e,t){if(Xv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dht(e,t){if(e==null)return{};var n=pht(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pht(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var ght=function(t){var n=t.autocompleteScopeApi,r=t.environment;t.classNames;var i=t.getInputProps,a=t.getInputPropsCore,s=t.isDetached,o=t.state,l=dht(t,uht),f=Z7(r),u=f("input",l),c=i(j3({state:o,props:a({inputElement:u}),inputElement:u},n));return Wu(u,j3(j3({},c),{},{onKeyDown:function(d){s&&d.key==="Tab"||c.onKeyDown(d)}})),u},mht=function(t){var n=t.environment,r=n.document.createElementNS("http://www.w3.org/2000/svg","svg");return r.setAttribute("class","aa-LoadingIcon"),r.setAttribute("viewBox","0 0 100 100"),r.setAttribute("width","20"),r.setAttribute("height","20"),r.innerHTML=`<circle
  cx="50"
  cy="50"
  fill="none"
  r="35"
  stroke="currentColor"
  stroke-dasharray="164.93361431346415 56.97787143782138"
  stroke-width="6"
>
  <animateTransform
    attributeName="transform"
    type="rotate"
    repeatCount="indefinite"
    dur="1s"
    values="0 50 50;90 50 50;180 50 50;360 50 50"
    keyTimes="0;0.40;0.65;1"
  />
</circle>`,r},$L=function(t){var n=t.environment,r=n.document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("class","aa-SubmitIcon"),r.setAttribute("viewBox","0 0 24 24"),r.setAttribute("width","20"),r.setAttribute("height","20"),r.setAttribute("fill","currentColor");var i=n.document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d","M16.041 15.856c-0.034 0.026-0.067 0.055-0.099 0.087s-0.060 0.064-0.087 0.099c-1.258 1.213-2.969 1.958-4.855 1.958-1.933 0-3.682-0.782-4.95-2.050s-2.050-3.017-2.050-4.95 0.782-3.682 2.050-4.95 3.017-2.050 4.95-2.050 3.682 0.782 4.95 2.050 2.050 3.017 2.050 4.95c0 1.886-0.745 3.597-1.959 4.856zM21.707 20.293l-3.675-3.675c1.231-1.54 1.968-3.493 1.968-5.618 0-2.485-1.008-4.736-2.636-6.364s-3.879-2.636-6.364-2.636-4.736 1.008-6.364 2.636-2.636 3.879-2.636 6.364 1.008 4.736 2.636 6.364 3.879 2.636 6.364 2.636c2.125 0 4.078-0.737 5.618-1.968l3.675 3.675c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414z"),r.appendChild(i),r};function Kv(e){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kv(e)}function qL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qL(Object(n),!0).forEach(function(r){vht(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vht(e,t,n){return t=yht(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yht(e){var t=_ht(e,"string");return Kv(t)==="symbol"?t:String(t)}function _ht(e,t){if(Kv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Kv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xht(e){var t=e.autocomplete,n=e.autocompleteScopeApi,r=e.classNames,i=e.environment,a=e.isDetached,s=e.placeholder,o=s===void 0?"Search":s,l=e.propGetters,f=e.setIsModalOpen,u=e.state,c=e.translations,h=Z7(i),d=l.getRootProps(Vf({state:u,props:t.getRootProps({})},n)),p=h("div",Vf({class:r.root},d)),g=h("div",{class:r.detachedContainer,onMouseDown:function(et){et.stopPropagation()}}),m=h("div",{class:r.detachedOverlay,children:[g],onMouseDown:function(){f(!1),t.setIsOpen(!1)}}),v=l.getLabelProps(Vf({state:u,props:t.getLabelProps({})},n)),y=h("button",{class:r.submitButton,type:"submit",title:c.submitButtonTitle,children:[$L({environment:i})]}),_=h("label",Vf({class:r.label,children:[y]},v)),x=h("button",{class:r.clearButton,type:"reset",title:c.clearButtonTitle,children:[zft({environment:i})]}),w=h("div",{class:r.loadingIndicator,children:[mht({environment:i})]}),E=ght({class:r.input,environment:i,state:u,getInputProps:l.getInputProps,getInputPropsCore:t.getInputProps,autocompleteScopeApi:n,isDetached:a}),S=h("div",{class:r.inputWrapperPrefix,children:[_,w]}),C=h("div",{class:r.inputWrapperSuffix,children:[x]}),T=h("div",{class:r.inputWrapper,children:[E]}),A=l.getFormProps(Vf({state:u,props:t.getFormProps({inputElement:E})},n)),O=h("form",Vf({class:r.form,children:[S,T,C]},A)),P=l.getPanelProps(Vf({state:u,props:t.getPanelProps({})},n)),F=h("div",Vf({class:r.panel},P)),R=h("div",{class:r.detachedSearchButtonQuery,textContent:u.query}),N=h("div",{class:r.detachedSearchButtonPlaceholder,hidden:!!u.query,textContent:o});if(a){var D=h("div",{class:r.detachedSearchButtonIcon,children:[$L({environment:i})]}),I=h("button",{type:"button",class:r.detachedSearchButton,onClick:function(){f(!0)},children:[D,N,R]}),B=h("button",{type:"button",class:r.detachedCancelButton,textContent:c.detachedCancelButtonText,onTouchStart:function(et){et.stopPropagation()},onClick:function(){t.setIsOpen(!1),f(!1)}}),j=h("div",{class:r.detachedFormContainer,children:[O,B]});g.appendChild(j),p.appendChild(I)}else p.appendChild(O);return{detachedContainer:g,detachedOverlay:m,detachedSearchButtonQuery:R,detachedSearchButtonPlaceholder:N,inputWrapper:T,input:E,root:p,form:O,label:_,submitButton:y,clearButton:x,loadingIndicator:w,panel:F}}function bht(){var e=[],t=[];function n(r){e.push(r);var i=r();t.push(i)}return{runEffect:n,cleanupEffects:function(){var i=t;t=[],i.forEach(function(a){a()})},runEffects:function(){var i=e;e=[],i.forEach(function(a){n(a)})}}}function wht(){var e=[];return{reactive:function(n){var r=n(),i={_fn:n,_ref:{current:r},get value(){return this._ref.current},set value(a){this._ref.current=a}};return e.push(i),i},runReactives:function(){e.forEach(function(n){n._ref.current=n._fn()})}}}var E2,fa,J7,hd,XL,Q7,bE,Lg={},tk=[],Tht=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,QS=Array.isArray;function nh(e,t){for(var n in t)e[n]=t[n];return e}function ek(e){var t=e.parentNode;t&&t.removeChild(e)}function nk(e,t,n){var r,i,a,s={};for(a in t)a=="key"?r=t[a]:a=="ref"?i=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?E2.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)s[a]===void 0&&(s[a]=e.defaultProps[a]);return ux(e,s,r,i,null)}function ux(e,t,n,r,i){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++J7,__i:-1};return i==null&&fa.vnode!=null&&fa.vnode(a),a}function Yy(e){return e.children}function cx(e,t){this.props=e,this.context=t}function Zv(e,t){if(t==null)return e.__?Zv(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Zv(e):null}function rk(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return rk(e)}}function KL(e){(!e.__d&&(e.__d=!0)&&hd.push(e)&&!sb.__r++||XL!==fa.debounceRendering)&&((XL=fa.debounceRendering)||Q7)(sb)}function sb(){var e,t,n,r,i,a,s,o,l;for(hd.sort(bE);e=hd.shift();)e.__d&&(t=hd.length,r=void 0,i=void 0,a=void 0,o=(s=(n=e).__v).__e,(l=n.__P)&&(r=[],i=[],(a=nh({},s)).__v=s.__v+1,tC(l,a,s,n.__n,l.ownerSVGElement!==void 0,s.__h!=null?[o]:null,r,o??Zv(s),s.__h,i),a.__.__k[a.__i]=a,sk(r,a,i),a.__e!=o&&rk(a)),hd.length>t&&hd.sort(bE));sb.__r=0}function ik(e,t,n,r,i,a,s,o,l,f,u){var c,h,d,p,g,m,v,y,_,x=0,w=r&&r.__k||tk,E=w.length,S=E,C=t.length;for(n.__k=[],c=0;c<C;c++)(p=n.__k[c]=(p=t[c])==null||typeof p=="boolean"||typeof p=="function"?null:p.constructor==String||typeof p=="number"||typeof p=="bigint"?ux(null,p,null,null,p):QS(p)?ux(Yy,{children:p},null,null,null):p.__b>0?ux(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null?(p.__=n,p.__b=n.__b+1,p.__i=c,(y=Eht(p,w,v=c+x,S))===-1?d=Lg:(d=w[y]||Lg,w[y]=void 0,S--),tC(e,p,d,i,a,s,o,l,f,u),g=p.__e,(h=p.ref)&&d.ref!=h&&(d.ref&&eC(d.ref,null,p),u.push(h,p.__c||g,p)),m==null&&g!=null&&(m=g),(_=d===Lg||d.__v===null)?y==-1&&x--:y!==v&&(y===v+1?x++:y>v?S>C-v?x+=y-v:x--:x=y<v&&y==v-1?y-v:0),v=c+x,typeof p.type=="function"?(y!==v||d.__k===p.__k?l=ak(p,l,e):p.__d!==void 0?l=p.__d:g&&(l=g.nextSibling),p.__d=void 0):g&&(l=y!==v||_?ok(e,g,l):g.nextSibling),typeof n.type=="function"&&(n.__d=l)):(d=w[c])&&d.key==null&&d.__e&&(d.__e==l&&(l=Zv(d),typeof n.type=="function"&&(n.__d=l)),wE(d,d,!1),w[c]=null);for(n.__e=m,c=E;c--;)w[c]!=null&&(typeof n.type=="function"&&w[c].__e!=null&&w[c].__e==l&&(n.__d=w[c].__e.nextSibling),wE(w[c],w[c]))}function ak(e,t,n){for(var r,i=e.__k,a=0;i&&a<i.length;a++)(r=i[a])&&(r.__=e,t=typeof r.type=="function"?ak(r,t,n):ok(n,r.__e,t));return t}function ok(e,t,n){return t!=n&&e.insertBefore(t,n||null),t.nextSibling}function Eht(e,t,n,r){var i=e.key,a=e.type,s=n-1,o=n+1,l=t[n];if(l===null||l&&i==l.key&&a===l.type)return n;if(r>(l!=null?1:0))for(;s>=0||o<t.length;){if(s>=0){if((l=t[s])&&i==l.key&&a===l.type)return s;s--}if(o<t.length){if((l=t[o])&&i==l.key&&a===l.type)return o;o++}}return-1}function Mht(e,t,n,r,i){var a;for(a in n)a==="children"||a==="key"||a in t||lb(e,a,null,n[a],r);for(a in t)i&&typeof t[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||n[a]===t[a]||lb(e,a,t[a],n[a],r)}function ZL(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Tht.test(t)?n:n+"px"}function lb(e,t,n,r,i){var a;t:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||ZL(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||ZL(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")a=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,a?QL:JL,a)):e.removeEventListener(t,a?QL:JL,a);else if(t!=="dangerouslySetInnerHTML"){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break t}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function JL(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(fa.event?fa.event(e):e)}function QL(e){return this.l[e.type+!0](fa.event?fa.event(e):e)}function tC(e,t,n,r,i,a,s,o,l,f){var u,c,h,d,p,g,m,v,y,_,x,w,E,S,C,T=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,o=t.__e=n.__e,t.__h=null,a=[o]),(u=fa.__b)&&u(t);t:if(typeof T=="function")try{if(v=t.props,y=(u=T.contextType)&&r[u.__c],_=u?y?y.props.value:u.__:r,n.__c?m=(c=t.__c=n.__c).__=c.__E:("prototype"in T&&T.prototype.render?t.__c=c=new T(v,_):(t.__c=c=new cx(v,_),c.constructor=T,c.render=Cht),y&&y.sub(c),c.props=v,c.state||(c.state={}),c.context=_,c.__n=r,h=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),T.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=nh({},c.__s)),nh(c.__s,T.getDerivedStateFromProps(v,c.__s))),d=c.props,p=c.state,c.__v=t,h)T.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(T.getDerivedStateFromProps==null&&v!==d&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(v,_),!c.__e&&(c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(v,c.__s,_)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(c.props=v,c.state=c.__s,c.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(A){A&&(A.__=t)}),x=0;x<c._sb.length;x++)c.__h.push(c._sb[x]);c._sb=[],c.__h.length&&s.push(c);break t}c.componentWillUpdate!=null&&c.componentWillUpdate(v,c.__s,_),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(d,p,g)})}if(c.context=_,c.props=v,c.__P=e,c.__e=!1,w=fa.__r,E=0,"prototype"in T&&T.prototype.render){for(c.state=c.__s,c.__d=!1,w&&w(t),u=c.render(c.props,c.state,c.context),S=0;S<c._sb.length;S++)c.__h.push(c._sb[S]);c._sb=[]}else do c.__d=!1,w&&w(t),u=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++E<25);c.state=c.__s,c.getChildContext!=null&&(r=nh(nh({},r),c.getChildContext())),h||c.getSnapshotBeforeUpdate==null||(g=c.getSnapshotBeforeUpdate(d,p)),ik(e,QS(C=u!=null&&u.type===Yy&&u.key==null?u.props.children:u)?C:[C],t,n,r,i,a,s,o,l,f),c.base=t.__e,t.__h=null,c.__h.length&&s.push(c),m&&(c.__E=c.__=null)}catch(A){t.__v=null,l||a!=null?(t.__e=o,t.__h=!!l,a[a.indexOf(o)]=null):(t.__e=n.__e,t.__k=n.__k),fa.__e(A,t,n)}else a==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Sht(n.__e,t,n,r,i,a,s,l,f);(u=fa.diffed)&&u(t)}function sk(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)eC(n[r],n[++r],n[++r]);fa.__c&&fa.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(a){a.call(i)})}catch(a){fa.__e(a,i.__v)}})}function Sht(e,t,n,r,i,a,s,o,l){var f,u,c,h=n.props,d=t.props,p=t.type,g=0;if(p==="svg"&&(i=!0),a!=null){for(;g<a.length;g++)if((f=a[g])&&"setAttribute"in f==!!p&&(p?f.localName===p:f.nodeType===3)){e=f,a[g]=null;break}}if(e==null){if(p===null)return document.createTextNode(d);e=i?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,d.is&&d),a=null,o=!1}if(p===null)h===d||o&&e.data===d||(e.data=d);else{if(a=a&&E2.call(e.childNodes),u=(h=n.props||Lg).dangerouslySetInnerHTML,c=d.dangerouslySetInnerHTML,!o){if(a!=null)for(h={},g=0;g<e.attributes.length;g++)h[e.attributes[g].name]=e.attributes[g].value;(c||u)&&(c&&(u&&c.__html==u.__html||c.__html===e.innerHTML)||(e.innerHTML=c&&c.__html||""))}if(Mht(e,d,h,i,o),c)t.__k=[];else if(ik(e,QS(g=t.props.children)?g:[g],t,n,r,i&&p!=="foreignObject",a,s,a?a[0]:n.__k&&Zv(n,0),o,l),a!=null)for(g=a.length;g--;)a[g]!=null&&ek(a[g]);o||("value"in d&&(g=d.value)!==void 0&&(g!==e.value||p==="progress"&&!g||p==="option"&&g!==h.value)&&lb(e,"value",g,h.value,!1),"checked"in d&&(g=d.checked)!==void 0&&g!==e.checked&&lb(e,"checked",g,h.checked,!1))}return e}function eC(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){fa.__e(r,n)}}function wE(e,t,n){var r,i;if(fa.unmount&&fa.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||eC(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){fa.__e(a,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&wE(r[i],t,n||typeof e.type!="function");n||e.__e==null||ek(e.__e),e.__=e.__e=e.__d=void 0}function Cht(e,t,n){return this.constructor(e,n)}function Aht(e,t,n){var r,i,a,s;fa.__&&fa.__(e,t),i=(r=typeof n=="function")?null:n&&n.__k||t.__k,a=[],s=[],tC(t,e=(!r&&n||t).__k=nk(Yy,null,[e]),i||Lg,Lg,t.ownerSVGElement!==void 0,!r&&n?[n]:i?null:t.firstChild?E2.call(t.childNodes):null,a,!r&&n?n:i?i.__e:t.firstChild,r,s),sk(a,e,s)}E2=tk.slice,fa={__e:function(e,t,n,r){for(var i,a,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(e)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),s=i.__d),s)return i.__E=i}catch(o){e=o}throw e}},J7=0,cx.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=nh({},this.state),typeof e=="function"&&(e=e(nh({},n),this.props)),e&&nh(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),KL(this))},cx.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),KL(this))},cx.prototype.render=Yy,hd=[],Q7=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,bE=function(e,t){return e.__v.__b-t.__v.__b},sb.__r=0;var Iht="__aa-highlight__",Oht="__/aa-highlight__";function Lht(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=e;return{get:function(){return t},add:function(r){var i=t[t.length-1];i?.isHighlighted===r.isHighlighted?t[t.length-1]={value:i.value+r.value,isHighlighted:i.isHighlighted}:t.push(r)}}}function lk(e){var t=e.highlightedValue,n=t.split(Iht),r=n.shift(),i=Lht(r?[{value:r,isHighlighted:!1}]:[]);return n.forEach(function(a){var s=a.split(Oht);i.add({value:s[0],isHighlighted:!0}),s[1]!==""&&i.add({value:s[1],isHighlighted:!1})}),i.get()}function Pht(e){return Dht(e)||kht(e)||Nht(e)||Rht()}function Rht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nht(e,t){if(e){if(typeof e=="string")return TE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TE(e,t)}}function kht(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dht(e){if(Array.isArray(e))return TE(e)}function TE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uk(e){var t=e.hit,n=e.attribute,r=Array.isArray(n)?n:[n],i=ab(t,["_highlightResult"].concat(Pht(r),["value"]));return typeof i!="string"&&(i=ab(t,r)||""),lk({highlightedValue:i})}var Fht={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},zht=new RegExp(/\w/i),ck=/&(amp|quot|lt|gt|#39);/g,Bht=RegExp(ck.source);function Ght(e){return e&&Bht.test(e)?e.replace(ck,function(t){return Fht[t]}):e}function jht(e,t){var n,r,i=e[t],a=((n=e[t+1])===null||n===void 0?void 0:n.isHighlighted)||!0,s=((r=e[t-1])===null||r===void 0?void 0:r.isHighlighted)||!0;return!zht.test(Ght(i.value))&&s===a?s:i.isHighlighted}function Jv(e){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jv(e)}function tP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function j1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tP(Object(n),!0).forEach(function(r){Uht(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uht(e,t,n){return t=Vht(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vht(e){var t=Hht(e,"string");return Jv(t)==="symbol"?t:String(t)}function Hht(e,t){if(Jv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fk(e){return e.some(function(t){return t.isHighlighted})?e.map(function(t,n){return j1(j1({},t),{},{isHighlighted:!jht(e,n)})}):e.map(function(t){return j1(j1({},t),{},{isHighlighted:!1})})}function Yht(e){return fk(uk(e))}function Wht(e){return Kht(e)||Xht(e)||qht(e)||$ht()}function $ht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qht(e,t){if(e){if(typeof e=="string")return EE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EE(e,t)}}function Xht(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kht(e){if(Array.isArray(e))return EE(e)}function EE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hk(e){var t=e.hit,n=e.attribute,r=Array.isArray(n)?n:[n],i=ab(t,["_snippetResult"].concat(Wht(r),["value"]));return typeof i!="string"&&(i=ab(t,r)||""),lk({highlightedValue:i})}function Zht(e){return fk(hk(e))}function Jht(e){var t=e.createElement,n=e.Fragment;function r(i){var a=i.hit,s=i.attribute,o=i.tagName,l=o===void 0?"mark":o;return t(n,{},uk({hit:a,attribute:s}).map(function(f,u){return f.isHighlighted?t(l,{key:u},f.value):f.value}))}return r.__autocomplete_componentName="Highlight",r}function Qht(e){var t=e.createElement,n=e.Fragment;function r(i){var a=i.hit,s=i.attribute,o=i.tagName,l=o===void 0?"mark":o;return t(n,{},Yht({hit:a,attribute:s}).map(function(f,u){return f.isHighlighted?t(l,{key:u},f.value):f.value}))}return r.__autocomplete_componentName="ReverseHighlight",r}function tdt(e){var t=e.createElement,n=e.Fragment;function r(i){var a=i.hit,s=i.attribute,o=i.tagName,l=o===void 0?"mark":o;return t(n,{},Zht({hit:a,attribute:s}).map(function(f,u){return f.isHighlighted?t(l,{key:u},f.value):f.value}))}return r.__autocomplete_componentName="ReverseSnippet",r}function edt(e){var t=e.createElement,n=e.Fragment;function r(i){var a=i.hit,s=i.attribute,o=i.tagName,l=o===void 0?"mark":o;return t(n,{},hk({hit:a,attribute:s}).map(function(f,u){return f.isHighlighted?t(l,{key:u},f.value):f.value}))}return r.__autocomplete_componentName="Snippet",r}function Qv(e){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qv(e)}var ndt=["classNames","container","getEnvironmentProps","getFormProps","getInputProps","getItemProps","getLabelProps","getListProps","getPanelProps","getRootProps","panelContainer","panelPlacement","render","renderNoResults","renderer","detachedMediaQuery","components","translations"];function eP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(n),!0).forEach(function(r){rdt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rdt(e,t,n){return t=idt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function idt(e){var t=adt(e,"string");return Qv(t)==="symbol"?t:String(t)}function adt(e,t){if(Qv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function odt(e,t){if(e==null)return{};var n=sdt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sdt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var ldt={clearButton:"aa-ClearButton",detachedCancelButton:"aa-DetachedCancelButton",detachedContainer:"aa-DetachedContainer",detachedFormContainer:"aa-DetachedFormContainer",detachedOverlay:"aa-DetachedOverlay",detachedSearchButton:"aa-DetachedSearchButton",detachedSearchButtonIcon:"aa-DetachedSearchButtonIcon",detachedSearchButtonPlaceholder:"aa-DetachedSearchButtonPlaceholder",detachedSearchButtonQuery:"aa-DetachedSearchButtonQuery",form:"aa-Form",input:"aa-Input",inputWrapper:"aa-InputWrapper",inputWrapperPrefix:"aa-InputWrapperPrefix",inputWrapperSuffix:"aa-InputWrapperSuffix",item:"aa-Item",label:"aa-Label",list:"aa-List",loadingIndicator:"aa-LoadingIndicator",panel:"aa-Panel",panelLayout:"aa-PanelLayout aa-Panel--scrollable",root:"aa-Autocomplete",source:"aa-Source",sourceFooter:"aa-SourceFooter",sourceHeader:"aa-SourceHeader",sourceNoResults:"aa-SourceNoResults",submitButton:"aa-SubmitButton"},udt=function(t,n){var r=t.children,i=t.render;i(r,n)},cdt={createElement:nk,Fragment:Yy,render:Aht};function fdt(e){var t,n=e.classNames,r=e.container,i=e.getEnvironmentProps,a=e.getFormProps,s=e.getInputProps,o=e.getItemProps,l=e.getLabelProps,f=e.getListProps,u=e.getPanelProps,c=e.getRootProps,h=e.panelContainer,d=e.panelPlacement,p=e.render,g=e.renderNoResults,m=e.renderer,v=e.detachedMediaQuery,y=e.components,_=e.translations,x=odt(e,ndt),w=typeof window<"u"?window:{},E=BL(w,r);E.tagName;var S=Hf(Hf({},cdt),m),C={Highlight:Jht(S),ReverseHighlight:Qht(S),ReverseSnippet:tdt(S),Snippet:edt(S)},T={clearButtonTitle:"Clear",detachedCancelButtonText:"Cancel",submitButtonTitle:"Submit"};return{renderer:{classNames:Bft(ldt,n??{}),container:E,getEnvironmentProps:i??function(A){var O=A.props;return O},getFormProps:a??function(A){var O=A.props;return O},getInputProps:s??function(A){var O=A.props;return O},getItemProps:o??function(A){var O=A.props;return O},getLabelProps:l??function(A){var O=A.props;return O},getListProps:f??function(A){var O=A.props;return O},getPanelProps:u??function(A){var O=A.props;return O},getRootProps:c??function(A){var O=A.props;return O},panelContainer:h?BL(w,h):w.document.body,panelPlacement:d??"input-wrapper-width",render:p??udt,renderNoResults:g,renderer:S,detachedMediaQuery:v??getComputedStyle(w.document.documentElement).getPropertyValue("--aa-detached-media-query"),components:Hf(Hf({},C),y),translations:Hf(Hf({},T),_)},core:Hf(Hf({},x),{},{id:(t=x.id)!==null&&t!==void 0?t:z7(),environment:w})}}function hdt(e){var t=e.panelPlacement,n=e.container,r=e.form,i=e.environment,a=n.getBoundingClientRect(),s=i.pageYOffset||i.document.documentElement.scrollTop||i.document.body.scrollTop||0,o=s+a.top+a.height;switch(t){case"start":return{top:o,left:a.left};case"end":return{top:o,right:i.document.documentElement.clientWidth-(a.left+a.width)};case"full-width":return{top:o,left:0,right:0,width:"unset",maxWidth:"unset"};case"input-wrapper-width":{var l=r.getBoundingClientRect();return{top:o,left:l.left,right:i.document.documentElement.clientWidth-(l.left+l.width),width:"unset",maxWidth:"unset"}}default:throw new Error("[Autocomplete] The `panelPlacement` value ".concat(JSON.stringify(t)," is not valid."))}}function ty(e){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ty(e)}function ub(){return ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ub.apply(this,arguments)}function nP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(n),!0).forEach(function(r){ddt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ddt(e,t,n){return t=pdt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pdt(e){var t=gdt(e,"string");return ty(t)==="symbol"?t:String(t)}function gdt(e,t){if(ty(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ty(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mdt(e){var t=e.autocomplete,n=e.autocompleteScopeApi,r=e.dom,i=e.propGetters,a=e.state;YL(r.root,i.getRootProps(yg({state:a,props:t.getRootProps({})},n))),YL(r.input,i.getInputProps(yg({state:a,props:t.getInputProps({inputElement:r.input}),inputElement:r.input},n))),Wu(r.label,{hidden:a.status==="stalled"}),Wu(r.loadingIndicator,{hidden:a.status!=="stalled"}),Wu(r.clearButton,{hidden:!a.query}),Wu(r.detachedSearchButtonQuery,{textContent:a.query}),Wu(r.detachedSearchButtonPlaceholder,{hidden:!!a.query})}function vdt(e,t){var n=t.autocomplete,r=t.autocompleteScopeApi,i=t.classNames,a=t.html,s=t.dom,o=t.panelContainer,l=t.propGetters,f=t.state,u=t.components,c=t.renderer;if(!f.isOpen){o.contains(s.panel)&&o.removeChild(s.panel);return}!o.contains(s.panel)&&f.status!=="loading"&&o.appendChild(s.panel),s.panel.classList.toggle("aa-Panel--stalled",f.status==="stalled");var h=f.collections.filter(function(g){var m=g.source,v=g.items;return m.templates.noResults||v.length>0}).map(function(g,m){var v=g.source,y=g.items;return c.createElement("section",{key:m,className:i.source,"data-autocomplete-source-id":v.sourceId},v.templates.header&&c.createElement("div",{className:i.sourceHeader},v.templates.header({components:u,createElement:c.createElement,Fragment:c.Fragment,items:y,source:v,state:f,html:a})),v.templates.noResults&&y.length===0?c.createElement("div",{className:i.sourceNoResults},v.templates.noResults({components:u,createElement:c.createElement,Fragment:c.Fragment,source:v,state:f,html:a})):c.createElement("ul",ub({className:i.list},l.getListProps(yg({state:f,props:n.getListProps({source:v})},r))),y.map(function(_){var x=n.getItemProps({item:_,source:v});return c.createElement("li",ub({key:x.id,className:i.item},l.getItemProps(yg({state:f,props:x},r))),v.templates.item({components:u,createElement:c.createElement,Fragment:c.Fragment,item:_,state:f,html:a}))})),v.templates.footer&&c.createElement("div",{className:i.sourceFooter},v.templates.footer({components:u,createElement:c.createElement,Fragment:c.Fragment,items:y,source:v,state:f,html:a})))}),d=c.createElement(c.Fragment,null,c.createElement("div",{className:i.panelLayout},h),c.createElement("div",{className:"aa-GradientBottom"})),p=h.reduce(function(g,m){return g[m.props["data-autocomplete-source-id"]]=m,g},{});e(yg(yg({children:d,state:f,sections:h,elements:p},c),{},{components:u,html:a},r),s.panel)}var ydt=[{segment:"autocomplete-js",version:G7}],_dt=["components"];function ey(e){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ey(e)}function xdt(e,t){if(e==null)return{};var n=bdt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bdt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function rP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rP(Object(n),!0).forEach(function(r){dk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dk(e,t,n){return t=wdt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wdt(e){var t=Tdt(e,"string");return ey(t)==="symbol"?t:String(t)}function Tdt(e,t){if(ey(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ey(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zpt(e){var t=bht(),n=t.runEffect,r=t.cleanupEffects,i=t.runEffects,a=wht(),s=a.reactive,o=a.runReactives,l=km(!1),f=km(e),u=km(void 0),c=s(function(){return fdt(f.current)}),h=s(function(){return c.value.core.environment.matchMedia(c.value.renderer.detachedMediaQuery).matches}),d=s(function(){return Dft(sd(sd({},c.value.core),{},{onStateChange:function(T){var A,O,P;l.current=T.state.collections.some(function(F){return F.source.templates.noResults}),(A=u.current)===null||A===void 0||A.call(u,T),(O=(P=c.value.core).onStateChange)===null||O===void 0||O.call(P,T)},shouldPanelOpen:f.current.shouldPanelOpen||function(C){var T=C.state;if(h.value)return!0;var A=Rv(T)>0;if(!c.value.core.openOnFocus&&!T.query)return A;var O=!!(l.current||c.value.renderer.renderNoResults);return!A&&O||A},__autocomplete_metadata:{userAgents:ydt,options:e}}))}),p=km(sd({collections:[],completion:null,context:{},isOpen:!1,query:"",activeItemId:null,status:"idle"},c.value.core.initialState)),g={getEnvironmentProps:c.value.renderer.getEnvironmentProps,getFormProps:c.value.renderer.getFormProps,getInputProps:c.value.renderer.getInputProps,getItemProps:c.value.renderer.getItemProps,getLabelProps:c.value.renderer.getLabelProps,getListProps:c.value.renderer.getListProps,getPanelProps:c.value.renderer.getPanelProps,getRootProps:c.value.renderer.getRootProps},m={setActiveItemId:d.value.setActiveItemId,setQuery:d.value.setQuery,setCollections:d.value.setCollections,setIsOpen:d.value.setIsOpen,setStatus:d.value.setStatus,setContext:d.value.setContext,refresh:d.value.refresh,navigator:d.value.navigator},v=s(function(){return Fft.bind(c.value.renderer.renderer.createElement)}),y=s(function(){return xht({autocomplete:d.value,autocompleteScopeApi:m,classNames:c.value.renderer.classNames,environment:c.value.core.environment,isDetached:h.value,placeholder:c.value.core.placeholder,propGetters:g,setIsModalOpen:S,state:p.current,translations:c.value.renderer.translations})});function _(){Wu(y.value.panel,{style:h.value?{}:hdt({panelPlacement:c.value.renderer.panelPlacement,container:y.value.root,form:y.value.form,environment:c.value.core.environment})})}function x(C){p.current=C;var T={autocomplete:d.value,autocompleteScopeApi:m,classNames:c.value.renderer.classNames,components:c.value.renderer.components,container:c.value.renderer.container,html:v.value,dom:y.value,panelContainer:h.value?y.value.detachedContainer:c.value.renderer.panelContainer,propGetters:g,state:p.current,renderer:c.value.renderer.renderer},A=!Rv(C)&&!l.current&&c.value.renderer.renderNoResults||c.value.renderer.render;mdt(T),vdt(A,T)}n(function(){var C=d.value.getEnvironmentProps({formElement:y.value.form,panelElement:y.value.panel,inputElement:y.value.input});return Wu(c.value.core.environment,C),function(){Wu(c.value.core.environment,Object.keys(C).reduce(function(T,A){return sd(sd({},T),{},dk({},A,void 0))},{}))}}),n(function(){var C=h.value?c.value.core.environment.document.body:c.value.renderer.panelContainer,T=h.value?y.value.detachedOverlay:y.value.panel;return h.value&&p.current.isOpen&&S(!0),x(p.current),function(){C.contains(T)&&C.removeChild(T)}}),n(function(){var C=c.value.renderer.container;return C.appendChild(y.value.root),function(){C.removeChild(y.value.root)}}),n(function(){var C=ib(function(T){var A=T.state;x(A)},0);return u.current=function(T){var A=T.state,O=T.prevState;if(h.value&&O.isOpen!==A.isOpen&&S(A.isOpen),!h.value&&A.isOpen&&!O.isOpen&&_(),A.query!==O.query){var P=c.value.core.environment.document.querySelectorAll(".aa-Panel--scrollable");P.forEach(function(F){F.scrollTop!==0&&(F.scrollTop=0)})}C({state:A})},function(){u.current=void 0}}),n(function(){var C=ib(function(){var T=h.value;h.value=c.value.core.environment.matchMedia(c.value.renderer.detachedMediaQuery).matches,T!==h.value?E({}):requestAnimationFrame(_)},20);return c.value.core.environment.addEventListener("resize",C),function(){c.value.core.environment.removeEventListener("resize",C)}}),n(function(){if(!h.value)return function(){};function C(P){y.value.detachedContainer.classList.toggle("aa-DetachedContainer--modal",P)}function T(P){C(P.matches)}var A=c.value.core.environment.matchMedia(getComputedStyle(c.value.core.environment.document.documentElement).getPropertyValue("--aa-detached-modal-media-query"));C(A.matches);var O=!!A.addEventListener;return O?A.addEventListener("change",T):A.addListener(T),function(){O?A.removeEventListener("change",T):A.removeListener(T)}}),n(function(){return requestAnimationFrame(_),function(){}});function w(){r()}function E(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r();var T=c.value.renderer,A=T.components,O=xdt(T,_dt);f.current=$7(O,c.value.core,{components:Jft(A,function(P){var F=P.value;return!F.hasOwnProperty("__autocomplete_componentName")}),initialState:p.current},C),o(),i(),d.value.refresh().then(function(){x(p.current)})}function S(C){requestAnimationFrame(function(){var T=c.value.core.environment.document.body.contains(y.value.detachedOverlay);C!==T&&(C?(c.value.core.environment.document.body.appendChild(y.value.detachedOverlay),c.value.core.environment.document.body.classList.add("aa-Detached"),y.value.input.focus()):(c.value.core.environment.document.body.removeChild(y.value.detachedOverlay),c.value.core.environment.document.body.classList.remove("aa-Detached")))})}return sd(sd({},m),{},{update:E,destroy:w})}var cb={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */cb.exports;(function(e,t){(function(){var n,r="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",o="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",f=500,u="__lodash_placeholder__",c=1,h=2,d=4,p=1,g=2,m=1,v=2,y=4,_=8,x=16,w=32,E=64,S=128,C=256,T=512,A=30,O="...",P=800,F=16,R=1,N=2,D=3,I=1/0,B=9007199254740991,j=17976931348623157e292,q=0/0,et=4294967295,U=et-1,Z=et>>>1,rt=[["ary",S],["bind",m],["bindKey",v],["curry",_],["curryRight",x],["flip",T],["partial",w],["partialRight",E],["rearg",C]],ft="[object Arguments]",z="[object Array]",W="[object AsyncFunction]",X="[object Boolean]",it="[object Date]",lt="[object DOMException]",dt="[object Error]",nt="[object Function]",V="[object GeneratorFunction]",G="[object Map]",H="[object Number]",$="[object Null]",J="[object Object]",Q="[object Promise]",ot="[object Proxy]",st="[object RegExp]",ht="[object Set]",xt="[object String]",Pt="[object Symbol]",It="[object Undefined]",zt="[object WeakMap]",pt="[object WeakSet]",yt="[object ArrayBuffer]",wt="[object DataView]",St="[object Float32Array]",Ut="[object Float64Array]",Gt="[object Int8Array]",mt="[object Int16Array]",Tt="[object Int32Array]",At="[object Uint8Array]",Et="[object Uint8ClampedArray]",Mt="[object Uint16Array]",Nt="[object Uint32Array]",Ft=/\b__p \+= '';/g,Lt=/\b(__p \+=) '' \+/g,Dt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,kt=/&(?:amp|lt|gt|quot|#39);/g,Wt=/[&<>"']/g,Qt=RegExp(kt.source),Ht=RegExp(Wt.source),oe=/<%-([\s\S]+?)%>/g,ce=/<%([\s\S]+?)%>/g,pe=/<%=([\s\S]+?)%>/g,we=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Le=/^\w*$/,jt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rt=/[\\^$.*+?()[\]{}|]/g,te=RegExp(Rt.source),ae=/^\s+/,Se=/\s/,ne=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ge=/\{\n\/\* \[wrapped with (.+)\] \*/,xe=/,? & /,Fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ae=/[()=,{}\[\]\/\s]/,$e=/\\(\\)?/g,Me=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ct=/\w*$/,gt=/^[-+]0x[0-9a-f]+$/i,qt=/^0b[01]+$/i,Vt=/^\[object .+?Constructor\]$/,Jt=/^0o[0-7]+$/i,Xt=/^(?:0|[1-9]\d*)$/,ee=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,re=/($^)/,fe=/['\n\r\u2028\u2029\\]/g,ye="\\ud800-\\udfff",se="\\u0300-\\u036f",Ge="\\ufe20-\\ufe2f",nn="\\u20d0-\\u20ff",Oe=se+Ge+nn,We="\\u2700-\\u27bf",je="a-z\\xdf-\\xf6\\xf8-\\xff",_e="\\xac\\xb1\\xd7\\xf7",he="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Pe="\\u2000-\\u206f",an=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tn="A-Z\\xc0-\\xd6\\xd8-\\xde",on="\\ufe0e\\ufe0f",be=_e+he+Pe+an,Re="['’]",ze="["+ye+"]",qe="["+be+"]",He="["+Oe+"]",Xe="\\d+",Ye="["+We+"]",rn="["+je+"]",Ue="[^"+ye+be+Xe+We+je+tn+"]",Je="\\ud83c[\\udffb-\\udfff]",dn="(?:"+He+"|"+Je+")",Mn="[^"+ye+"]",Sn="(?:\\ud83c[\\udde6-\\uddff]){2}",vn="[\\ud800-\\udbff][\\udc00-\\udfff]",bn="["+tn+"]",Dn="\\u200d",yn="(?:"+rn+"|"+Ue+")",In="(?:"+bn+"|"+Ue+")",pn="(?:"+Re+"(?:d|ll|m|re|s|t|ve))?",Bn="(?:"+Re+"(?:D|LL|M|RE|S|T|VE))?",Vn=dn+"?",Kn="["+on+"]?",qn="(?:"+Dn+"(?:"+[Mn,Sn,vn].join("|")+")"+Kn+Vn+")*",Wn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",fr="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",bi=Kn+Vn+qn,so="(?:"+[Ye,Sn,vn].join("|")+")"+bi,wi="(?:"+[Mn+He+"?",He,Sn,vn,ze].join("|")+")",ka=RegExp(Re,"g"),Ni=RegExp(He,"g"),qr=RegExp(Je+"(?="+Je+")|"+wi+bi,"g"),Da=RegExp([bn+"?"+rn+"+"+pn+"(?="+[qe,bn,"$"].join("|")+")",In+"+"+Bn+"(?="+[qe,bn+yn,"$"].join("|")+")",bn+"?"+yn+"+"+pn,bn+"+"+Bn,fr,Wn,Xe,so].join("|"),"g"),Ci=RegExp("["+Dn+ye+Oe+on+"]"),Zn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,En=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],mr=-1,hr={};hr[St]=hr[Ut]=hr[Gt]=hr[mt]=hr[Tt]=hr[At]=hr[Et]=hr[Mt]=hr[Nt]=!0,hr[ft]=hr[z]=hr[yt]=hr[X]=hr[wt]=hr[it]=hr[dt]=hr[nt]=hr[G]=hr[H]=hr[J]=hr[st]=hr[ht]=hr[xt]=hr[zt]=!1;var Rn={};Rn[ft]=Rn[z]=Rn[yt]=Rn[wt]=Rn[X]=Rn[it]=Rn[St]=Rn[Ut]=Rn[Gt]=Rn[mt]=Rn[Tt]=Rn[G]=Rn[H]=Rn[J]=Rn[st]=Rn[ht]=Rn[xt]=Rn[Pt]=Rn[At]=Rn[Et]=Rn[Mt]=Rn[Nt]=!0,Rn[dt]=Rn[nt]=Rn[zt]=!1;var wr={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ar={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ni={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},hi={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ai=parseFloat,Ii=parseInt,Wa=typeof Tm=="object"&&Tm&&Tm.Object===Object&&Tm,No=typeof self=="object"&&self&&self.Object===Object&&self,jr=Wa||No||Function("return this")(),ra=t&&!t.nodeType&&t,Hn=ra&&!0&&e&&!e.nodeType&&e,ha=Hn&&Hn.exports===ra,wa=ha&&Wa.process,Xr=function(){try{var ke=Hn&&Hn.require&&Hn.require("util").types;return ke||wa&&wa.binding&&wa.binding("util")}catch{}}(),Kl=Xr&&Xr.isArrayBuffer,Cu=Xr&&Xr.isDate,Rs=Xr&&Xr.isMap,rs=Xr&&Xr.isRegExp,is=Xr&&Xr.isSet,xc=Xr&&Xr.isTypedArray;function Ta(ke,sn,en){switch(en.length){case 0:return ke.call(sn);case 1:return ke.call(sn,en[0]);case 2:return ke.call(sn,en[0],en[1]);case 3:return ke.call(sn,en[0],en[1],en[2])}return ke.apply(sn,en)}function yp(ke,sn,en,zn){for(var vr=-1,Wr=ke==null?0:ke.length;++vr<Wr;){var pa=ke[vr];sn(zn,pa,en(pa),ke)}return zn}function da(ke,sn){for(var en=-1,zn=ke==null?0:ke.length;++en<zn&&sn(ke[en],en,ke)!==!1;);return ke}function _p(ke,sn){for(var en=ke==null?0:ke.length;en--&&sn(ke[en],en,ke)!==!1;);return ke}function Qy(ke,sn){for(var en=-1,zn=ke==null?0:ke.length;++en<zn;)if(!sn(ke[en],en,ke))return!1;return!0}function as(ke,sn){for(var en=-1,zn=ke==null?0:ke.length,vr=0,Wr=[];++en<zn;){var pa=ke[en];sn(pa,en,ke)&&(Wr[vr++]=pa)}return Wr}function yf(ke,sn){var en=ke==null?0:ke.length;return!!en&&bc(ke,sn,0)>-1}function xp(ke,sn,en){for(var zn=-1,vr=ke==null?0:ke.length;++zn<vr;)if(en(sn,ke[zn]))return!0;return!1}function Yr(ke,sn){for(var en=-1,zn=ke==null?0:ke.length,vr=Array(zn);++en<zn;)vr[en]=sn(ke[en],en,ke);return vr}function Zl(ke,sn){for(var en=-1,zn=sn.length,vr=ke.length;++en<zn;)ke[vr+en]=sn[en];return ke}function zh(ke,sn,en,zn){var vr=-1,Wr=ke==null?0:ke.length;for(zn&&Wr&&(en=ke[++vr]);++vr<Wr;)en=sn(en,ke[vr],vr,ke);return en}function Y0(ke,sn,en,zn){var vr=ke==null?0:ke.length;for(zn&&vr&&(en=ke[--vr]);vr--;)en=sn(en,ke[vr],vr,ke);return en}function Jl(ke,sn){for(var en=-1,zn=ke==null?0:ke.length;++en<zn;)if(sn(ke[en],en,ke))return!0;return!1}var bp=W0("length");function t_(ke){return ke.split("")}function F2(ke){return ke.match(Fe)||[]}function e_(ke,sn,en){var zn;return en(ke,function(vr,Wr,pa){if(sn(vr,Wr,pa))return zn=Wr,!1}),zn}function Bh(ke,sn,en,zn){for(var vr=ke.length,Wr=en+(zn?1:-1);zn?Wr--:++Wr<vr;)if(sn(ke[Wr],Wr,ke))return Wr;return-1}function bc(ke,sn,en){return sn===sn?Y2(ke,sn,en):Bh(ke,n_,en)}function z2(ke,sn,en,zn){for(var vr=en-1,Wr=ke.length;++vr<Wr;)if(zn(ke[vr],sn))return vr;return-1}function n_(ke){return ke!==ke}function r_(ke,sn){var en=ke==null?0:ke.length;return en?wp(ke,sn)/en:q}function W0(ke){return function(sn){return sn==null?n:sn[ke]}}function $0(ke){return function(sn){return ke==null?n:ke[sn]}}function i_(ke,sn,en,zn,vr){return vr(ke,function(Wr,pa,di){en=zn?(zn=!1,Wr):sn(en,Wr,pa,di)}),en}function B2(ke,sn){var en=ke.length;for(ke.sort(sn);en--;)ke[en]=ke[en].value;return ke}function wp(ke,sn){for(var en,zn=-1,vr=ke.length;++zn<vr;){var Wr=sn(ke[zn]);Wr!==n&&(en=en===n?Wr:en+Wr)}return en}function Tp(ke,sn){for(var en=-1,zn=Array(ke);++en<ke;)zn[en]=sn(en);return zn}function a_(ke,sn){return Yr(sn,function(en){return[en,ke[en]]})}function q0(ke){return ke&&ke.slice(0,K0(ke)+1).replace(ae,"")}function ko(ke){return function(sn){return ke(sn)}}function Au(ke,sn){return Yr(sn,function(en){return ke[en]})}function _f(ke,sn){return ke.has(sn)}function o_(ke,sn){for(var en=-1,zn=ke.length;++en<zn&&bc(sn,ke[en],0)>-1;);return en}function s_(ke,sn){for(var en=ke.length;en--&&bc(sn,ke[en],0)>-1;);return en}function G2(ke,sn){for(var en=ke.length,zn=0;en--;)ke[en]===sn&&++zn;return zn}var l_=$0(wr),j2=$0(ar);function U2(ke){return"\\"+hi[ke]}function V2(ke,sn){return ke==null?n:ke[sn]}function xf(ke){return Ci.test(ke)}function u_(ke){return Zn.test(ke)}function H2(ke){for(var sn,en=[];!(sn=ke.next()).done;)en.push(sn.value);return en}function X0(ke){var sn=-1,en=Array(ke.size);return ke.forEach(function(zn,vr){en[++sn]=[vr,zn]}),en}function c_(ke,sn){return function(en){return ke(sn(en))}}function os(ke,sn){for(var en=-1,zn=ke.length,vr=0,Wr=[];++en<zn;){var pa=ke[en];(pa===sn||pa===u)&&(ke[en]=u,Wr[vr++]=en)}return Wr}function Iu(ke){var sn=-1,en=Array(ke.size);return ke.forEach(function(zn){en[++sn]=zn}),en}function fl(ke){var sn=-1,en=Array(ke.size);return ke.forEach(function(zn){en[++sn]=[zn,zn]}),en}function Y2(ke,sn,en){for(var zn=en-1,vr=ke.length;++zn<vr;)if(ke[zn]===sn)return zn;return-1}function W2(ke,sn,en){for(var zn=en+1;zn--;)if(ke[zn]===sn)return zn;return zn}function bf(ke){return xf(ke)?q2(ke):bp(ke)}function Ns(ke){return xf(ke)?X2(ke):t_(ke)}function K0(ke){for(var sn=ke.length;sn--&&Se.test(ke.charAt(sn)););return sn}var $2=$0(ni);function q2(ke){for(var sn=qr.lastIndex=0;qr.test(ke);)++sn;return sn}function X2(ke){return ke.match(qr)||[]}function K2(ke){return ke.match(Da)||[]}var Z2=function ke(sn){sn=sn==null?jr:Ou.defaults(jr.Object(),sn,Ou.pick(jr,En));var en=sn.Array,zn=sn.Date,vr=sn.Error,Wr=sn.Function,pa=sn.Math,di=sn.Object,Gh=sn.RegExp,f_=sn.String,Do=sn.TypeError,jh=en.prototype,J2=Wr.prototype,wf=di.prototype,Uh=sn["__core-js_shared__"],Vh=J2.toString,ti=wf.hasOwnProperty,Z0=0,Ep=function(){var b=/[^.]+$/.exec(Uh&&Uh.keys&&Uh.keys.IE_PROTO||"");return b?"Symbol(src)_1."+b:""}(),Mp=wf.toString,Q2=Vh.call(di),h_=jr._,d_=Gh("^"+Vh.call(ti).replace(Rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tf=ha?sn.Buffer:n,Ql=sn.Symbol,wc=sn.Uint8Array,Hh=Tf?Tf.allocUnsafe:n,Sp=c_(di.getPrototypeOf,di),Cp=di.create,J0=wf.propertyIsEnumerable,Ap=jh.splice,p_=Ql?Ql.isConcatSpreadable:n,Ef=Ql?Ql.iterator:n,Lu=Ql?Ql.toStringTag:n,Yh=function(){try{var b=Zh(di,"defineProperty");return b({},"",{}),b}catch{}}(),Q0=sn.clearTimeout!==jr.clearTimeout&&sn.clearTimeout,tm=zn&&zn.now!==jr.Date.now&&zn.now,g_=sn.setTimeout!==jr.setTimeout&&sn.setTimeout,Ip=pa.ceil,Wh=pa.floor,Mf=di.getOwnPropertySymbols,m_=Tf?Tf.isBuffer:n,v_=sn.isFinite,tw=jh.join,ew=c_(di.keys,di),ga=pa.max,Fa=pa.min,y_=zn.now,__=sn.parseInt,em=pa.random,nw=jh.reverse,Sf=Zh(sn,"DataView"),$h=Zh(sn,"Map"),nm=Zh(sn,"Promise"),Tc=Zh(sn,"Set"),Cf=Zh(sn,"WeakMap"),qh=Zh(di,"create"),Ec=Cf&&new Cf,tu={},x_=Jh(Sf),b_=Jh($h),rm=Jh(nm),ks=Jh(Tc),w_=Jh(Cf),Af=Ql?Ql.prototype:n,Mc=Af?Af.valueOf:n,Xh=Af?Af.toString:n;function $t(b){if(oa(b)&&!br(b)&&!(b instanceof Or)){if(b instanceof Fo)return b;if(ti.call(b,"__wrapped__"))return nA(b)}return new Fo(b)}var Sc=function(){function b(){}return function(L){if(!Ki(L))return{};if(Cp)return Cp(L);b.prototype=L;var K=new b;return b.prototype=n,K}}();function lo(){}function Fo(b,L){this.__wrapped__=b,this.__actions__=[],this.__chain__=!!L,this.__index__=0,this.__values__=n}$t.templateSettings={escape:oe,evaluate:ce,interpolate:pe,variable:"",imports:{_:$t}},$t.prototype=lo.prototype,$t.prototype.constructor=$t,Fo.prototype=Sc(lo.prototype),Fo.prototype.constructor=Fo;function Or(b){this.__wrapped__=b,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=et,this.__views__=[]}function Pu(){var b=new Or(this.__wrapped__);return b.__actions__=ls(this.__actions__),b.__dir__=this.__dir__,b.__filtered__=this.__filtered__,b.__iteratees__=ls(this.__iteratees__),b.__takeCount__=this.__takeCount__,b.__views__=ls(this.__views__),b}function im(){if(this.__filtered__){var b=new Or(this);b.__dir__=-1,b.__filtered__=!0}else b=this.clone(),b.__dir__*=-1;return b}function am(){var b=this.__wrapped__.value(),L=this.__dir__,K=br(b),_t=L<0,Bt=K?b.length:0,Zt=OD(0,Bt,this.__views__),ve=Zt.start,Ie=Zt.end,Be=Ie-ve,un=_t?Ie:ve-1,cn=this.__iteratees__,gn=cn.length,Nn=0,$n=Fa(Be,this.__takeCount__);if(!K||!_t&&Bt==Be&&$n==Be)return MC(b,this.__actions__);var lr=[];t:for(;Be--&&Nn<$n;){un+=L;for(var Ar=-1,ur=b[un];++Ar<gn;){var Dr=cn[Ar],Ur=Dr.iteratee,Gs=Dr.type,jo=Ur(ur);if(Gs==N)ur=jo;else if(!jo){if(Gs==R)continue t;break t}}lr[Nn++]=ur}return lr}Or.prototype=Sc(lo.prototype),Or.prototype.constructor=Or;function Ru(b){var L=-1,K=b==null?0:b.length;for(this.clear();++L<K;){var _t=b[L];this.set(_t[0],_t[1])}}function T_(){this.__data__=qh?qh(null):{},this.size=0}function E_(b){var L=this.has(b)&&delete this.__data__[b];return this.size-=L?1:0,L}function M_(b){var L=this.__data__;if(qh){var K=L[b];return K===l?n:K}return ti.call(L,b)?L[b]:n}function rw(b){var L=this.__data__;return qh?L[b]!==n:ti.call(L,b)}function S_(b,L){var K=this.__data__;return this.size+=this.has(b)?0:1,K[b]=qh&&L===n?l:L,this}Ru.prototype.clear=T_,Ru.prototype.delete=E_,Ru.prototype.get=M_,Ru.prototype.has=rw,Ru.prototype.set=S_;function eu(b){var L=-1,K=b==null?0:b.length;for(this.clear();++L<K;){var _t=b[L];this.set(_t[0],_t[1])}}function iw(){this.__data__=[],this.size=0}function C_(b){var L=this.__data__,K=Y(L,b);if(K<0)return!1;var _t=L.length-1;return K==_t?L.pop():Ap.call(L,K,1),--this.size,!0}function A_(b){var L=this.__data__,K=Y(L,b);return K<0?n:L[K][1]}function Op(b){return Y(this.__data__,b)>-1}function I_(b,L){var K=this.__data__,_t=Y(K,b);return _t<0?(++this.size,K.push([b,L])):K[_t][1]=L,this}eu.prototype.clear=iw,eu.prototype.delete=C_,eu.prototype.get=A_,eu.prototype.has=Op,eu.prototype.set=I_;function ss(b){var L=-1,K=b==null?0:b.length;for(this.clear();++L<K;){var _t=b[L];this.set(_t[0],_t[1])}}function O_(){this.size=0,this.__data__={hash:new Ru,map:new($h||eu),string:new Ru}}function Kh(b){var L=j_(this,b).delete(b);return this.size-=L?1:0,L}function Cc(b){return j_(this,b).get(b)}function Lp(b){return j_(this,b).has(b)}function Xi(b,L){var K=j_(this,b),_t=K.size;return K.set(b,L),this.size+=K.size==_t?0:1,this}ss.prototype.clear=O_,ss.prototype.delete=Kh,ss.prototype.get=Cc,ss.prototype.has=Lp,ss.prototype.set=Xi;function Nu(b){var L=-1,K=b==null?0:b.length;for(this.__data__=new ss;++L<K;)this.add(b[L])}function om(b){return this.__data__.set(b,l),this}function aw(b){return this.__data__.has(b)}Nu.prototype.add=Nu.prototype.push=om,Nu.prototype.has=aw;function zo(b){var L=this.__data__=new eu(b);this.size=L.size}function Pp(){this.__data__=new eu,this.size=0}function L_(b){var L=this.__data__,K=L.delete(b);return this.size=L.size,K}function ow(b){return this.__data__.get(b)}function sw(b){return this.__data__.has(b)}function lw(b,L){var K=this.__data__;if(K instanceof eu){var _t=K.__data__;if(!$h||_t.length<i-1)return _t.push([b,L]),this.size=++K.size,this;K=this.__data__=new ss(_t)}return K.set(b,L),this.size=K.size,this}zo.prototype.clear=Pp,zo.prototype.delete=L_,zo.prototype.get=ow,zo.prototype.has=sw,zo.prototype.set=lw;function P_(b,L){var K=br(b),_t=!K&&Qh(b),Bt=!K&&!_t&&Pf(b),Zt=!K&&!_t&&!Bt&&zp(b),ve=K||_t||Bt||Zt,Ie=ve?Tp(b.length,f_):[],Be=Ie.length;for(var un in b)(L||ti.call(b,un))&&!(ve&&(un=="length"||Bt&&(un=="offset"||un=="parent")||Zt&&(un=="buffer"||un=="byteLength"||un=="byteOffset")||Oc(un,Be)))&&Ie.push(un);return Ie}function Rp(b){var L=b.length;return L?b[hw(0,L-1)]:n}function uw(b,L){return U_(ls(b),Ct(L,0,b.length))}function cw(b){return U_(ls(b))}function M(b,L,K){(K!==n&&!nu(b[L],K)||K===n&&!(L in b))&&vt(b,L,K)}function k(b,L,K){var _t=b[L];(!(ti.call(b,L)&&nu(_t,K))||K===n&&!(L in b))&&vt(b,L,K)}function Y(b,L){for(var K=b.length;K--;)if(nu(b[K][0],L))return K;return-1}function tt(b,L,K,_t){return Ce(b,function(Bt,Zt,ve){L(_t,Bt,K(Bt),ve)}),_t}function at(b,L){return b&&ku(L,$a(L),b)}function ut(b,L){return b&&ku(L,cs(L),b)}function vt(b,L,K){L=="__proto__"&&Yh?Yh(b,L,{configurable:!0,enumerable:!0,value:K,writable:!0}):b[L]=K}function bt(b,L){for(var K=-1,_t=L.length,Bt=en(_t),Zt=b==null;++K<_t;)Bt[K]=Zt?n:Fw(b,L[K]);return Bt}function Ct(b,L,K){return b===b&&(K!==n&&(b=b<=K?b:K),L!==n&&(b=b>=L?b:L)),b}function Ot(b,L,K,_t,Bt,Zt){var ve,Ie=L&c,Be=L&h,un=L&d;if(K&&(ve=Bt?K(b,_t,Bt,Zt):K(b)),ve!==n)return ve;if(!Ki(b))return b;var cn=br(b);if(cn){if(ve=PD(b),!Ie)return ls(b,ve)}else{var gn=xo(b),Nn=gn==nt||gn==V;if(Pf(b))return AC(b,Ie);if(gn==J||gn==ft||Nn&&!Bt){if(ve=Be||Nn?{}:$C(b),!Ie)return Be?bD(b,ut(ve,b)):xD(b,at(ve,b))}else{if(!Rn[gn])return Bt?b:{};ve=RD(b,gn,Ie)}}Zt||(Zt=new zo);var $n=Zt.get(b);if($n)return $n;Zt.set(b,ve),wA(b)?b.forEach(function(ur){ve.add(Ot(ur,L,K,ur,b,Zt))}):xA(b)&&b.forEach(function(ur,Dr){ve.set(Dr,Ot(ur,L,K,Dr,b,Zt))});var lr=un?Be?Tw:ww:Be?cs:$a,Ar=cn?n:lr(b);return da(Ar||b,function(ur,Dr){Ar&&(Dr=ur,ur=b[Dr]),k(ve,Dr,Ot(ur,L,K,Dr,b,Zt))}),ve}function Yt(b){var L=$a(b);return function(K){return Kt(K,b,L)}}function Kt(b,L,K){var _t=K.length;if(b==null)return!_t;for(b=di(b);_t--;){var Bt=K[_t],Zt=L[Bt],ve=b[Bt];if(ve===n&&!(Bt in b)||!Zt(ve))return!1}return!0}function ie(b,L,K){if(typeof b!="function")throw new Do(s);return fm(function(){b.apply(n,K)},L)}function me(b,L,K,_t){var Bt=-1,Zt=yf,ve=!0,Ie=b.length,Be=[],un=L.length;if(!Ie)return Be;K&&(L=Yr(L,ko(K))),_t?(Zt=xp,ve=!1):L.length>=i&&(Zt=_f,ve=!1,L=new Nu(L));t:for(;++Bt<Ie;){var cn=b[Bt],gn=K==null?cn:K(cn);if(cn=_t||cn!==0?cn:0,ve&&gn===gn){for(var Nn=un;Nn--;)if(L[Nn]===gn)continue t;Be.push(cn)}else Zt(L,gn,_t)||Be.push(cn)}return Be}var Ce=RC(ln),de=RC(hn,!0);function Te(b,L){var K=!0;return Ce(b,function(_t,Bt,Zt){return K=!!L(_t,Bt,Zt),K}),K}function le(b,L,K){for(var _t=-1,Bt=b.length;++_t<Bt;){var Zt=b[_t],ve=L(Zt);if(ve!=null&&(Ie===n?ve===ve&&!Bs(ve):K(ve,Ie)))var Ie=ve,Be=Zt}return Be}function Ne(b,L,K,_t){var Bt=b.length;for(K=Mr(K),K<0&&(K=-K>Bt?0:Bt+K),_t=_t===n||_t>Bt?Bt:Mr(_t),_t<0&&(_t+=Bt),_t=K>_t?0:EA(_t);K<_t;)b[K++]=L;return b}function Ee(b,L){var K=[];return Ce(b,function(_t,Bt,Zt){L(_t,Bt,Zt)&&K.push(_t)}),K}function ue(b,L,K,_t,Bt){var Zt=-1,ve=b.length;for(K||(K=kD),Bt||(Bt=[]);++Zt<ve;){var Ie=b[Zt];L>0&&K(Ie)?L>1?ue(Ie,L-1,K,_t,Bt):Zl(Bt,Ie):_t||(Bt[Bt.length]=Ie)}return Bt}var Ke=NC(),Ze=NC(!0);function ln(b,L){return b&&Ke(b,L,$a)}function hn(b,L){return b&&Ze(b,L,$a)}function Ln(b,L){return as(L,function(K){return Lc(b[K])})}function Pn(b,L){L=Of(L,b);for(var K=0,_t=L.length;b!=null&&K<_t;)b=b[Du(L[K++])];return K&&K==_t?b:n}function Yn(b,L,K){var _t=L(b);return br(b)?_t:Zl(_t,K(b))}function Cn(b){return b==null?b===n?It:$:Lu&&Lu in di(b)?ID(b):UD(b)}function sr(b,L){return b>L}function Nr(b,L){return b!=null&&ti.call(b,L)}function pi(b,L){return b!=null&&L in di(b)}function xn(b,L,K){return b>=Fa(L,K)&&b<ga(L,K)}function On(b,L,K){for(var _t=K?xp:yf,Bt=b[0].length,Zt=b.length,ve=Zt,Ie=en(Zt),Be=1/0,un=[];ve--;){var cn=b[ve];ve&&L&&(cn=Yr(cn,ko(L))),Be=Fa(cn.length,Be),Ie[ve]=!K&&(L||Bt>=120&&cn.length>=120)?new Nu(ve&&cn):n}cn=b[0];var gn=-1,Nn=Ie[0];t:for(;++gn<Bt&&un.length<Be;){var $n=cn[gn],lr=L?L($n):$n;if($n=K||$n!==0?$n:0,!(Nn?_f(Nn,lr):_t(un,lr,K))){for(ve=Zt;--ve;){var Ar=Ie[ve];if(!(Ar?_f(Ar,lr):_t(b[ve],lr,K)))continue t}Nn&&Nn.push(lr),un.push($n)}}return un}function tr(b,L,K,_t){return ln(b,function(Bt,Zt,ve){L(_t,K(Bt),Zt,ve)}),_t}function Qn(b,L,K){L=Of(L,b),b=ZC(b,L);var _t=b==null?b:b[Du(ml(L))];return _t==null?n:Ta(_t,b,K)}function Er(b){return oa(b)&&Cn(b)==ft}function ri(b){return oa(b)&&Cn(b)==yt}function Ui(b){return oa(b)&&Cn(b)==it}function li(b,L,K,_t,Bt){return b===L?!0:b==null||L==null||!oa(b)&&!oa(L)?b!==b&&L!==L:ia(b,L,K,_t,li,Bt)}function ia(b,L,K,_t,Bt,Zt){var ve=br(b),Ie=br(L),Be=ve?z:xo(b),un=Ie?z:xo(L);Be=Be==ft?J:Be,un=un==ft?J:un;var cn=Be==J,gn=un==J,Nn=Be==un;if(Nn&&Pf(b)){if(!Pf(L))return!1;ve=!0,cn=!1}if(Nn&&!cn)return Zt||(Zt=new zo),ve||zp(b)?HC(b,L,K,_t,Bt,Zt):CD(b,L,Be,K,_t,Bt,Zt);if(!(K&p)){var $n=cn&&ti.call(b,"__wrapped__"),lr=gn&&ti.call(L,"__wrapped__");if($n||lr){var Ar=$n?b.value():b,ur=lr?L.value():L;return Zt||(Zt=new zo),Bt(Ar,ur,K,_t,Zt)}}return Nn?(Zt||(Zt=new zo),AD(b,L,K,_t,Bt,Zt)):!1}function Vi(b){return oa(b)&&xo(b)==G}function Hi(b,L,K,_t){var Bt=K.length,Zt=Bt,ve=!_t;if(b==null)return!Zt;for(b=di(b);Bt--;){var Ie=K[Bt];if(ve&&Ie[2]?Ie[1]!==b[Ie[0]]:!(Ie[0]in b))return!1}for(;++Bt<Zt;){Ie=K[Bt];var Be=Ie[0],un=b[Be],cn=Ie[1];if(ve&&Ie[2]){if(un===n&&!(Be in b))return!1}else{var gn=new zo;if(_t)var Nn=_t(un,cn,Be,b,L,gn);if(!(Nn===n?li(cn,un,p|g,_t,gn):Nn))return!1}}return!0}function za(b){if(!Ki(b)||FD(b))return!1;var L=Lc(b)?d_:Vt;return L.test(Jh(b))}function Ds(b){return oa(b)&&Cn(b)==st}function hl(b){return oa(b)&&xo(b)==ht}function dl(b){return oa(b)&&q_(b.length)&&!!hr[Cn(b)]}function aa(b){return typeof b=="function"?b:b==null?fs:typeof b=="object"?br(b)?pl(b[0],b[1]):Bo(b):kA(b)}function Oi(b){if(!cm(b))return ew(b);var L=[];for(var K in di(b))ti.call(b,K)&&K!="constructor"&&L.push(K);return L}function uo(b){if(!Ki(b))return jD(b);var L=cm(b),K=[];for(var _t in b)_t=="constructor"&&(L||!ti.call(b,_t))||K.push(_t);return K}function Ba(b,L){return b<L}function co(b,L){var K=-1,_t=us(b)?en(b.length):[];return Ce(b,function(Bt,Zt,ve){_t[++K]=L(Bt,Zt,ve)}),_t}function Bo(b){var L=Mw(b);return L.length==1&&L[0][2]?XC(L[0][0],L[0][1]):function(K){return K===b||Hi(K,b,L)}}function pl(b,L){return Cw(b)&&qC(L)?XC(Du(b),L):function(K){var _t=Fw(K,b);return _t===n&&_t===L?zw(K,b):li(L,_t,p|g)}}function Fs(b,L,K,_t,Bt){b!==L&&Ke(L,function(Zt,ve){if(Bt||(Bt=new zo),Ki(Zt))Np(b,L,ve,K,Fs,_t,Bt);else{var Ie=_t?_t(Iw(b,ve),Zt,ve+"",b,L,Bt):n;Ie===n&&(Ie=Zt),M(b,ve,Ie)}},cs)}function Np(b,L,K,_t,Bt,Zt,ve){var Ie=Iw(b,K),Be=Iw(L,K),un=ve.get(Be);if(un){M(b,K,un);return}var cn=Zt?Zt(Ie,Be,K+"",b,L,ve):n,gn=cn===n;if(gn){var Nn=br(Be),$n=!Nn&&Pf(Be),lr=!Nn&&!$n&&zp(Be);cn=Be,Nn||$n||lr?br(Ie)?cn=Ie:ma(Ie)?cn=ls(Ie):$n?(gn=!1,cn=AC(Be,!0)):lr?(gn=!1,cn=IC(Be,!0)):cn=[]:hm(Be)||Qh(Be)?(cn=Ie,Qh(Ie)?cn=MA(Ie):(!Ki(Ie)||Lc(Ie))&&(cn=$C(Be))):gn=!1}gn&&(ve.set(Be,cn),Bt(cn,Be,_t,Zt,ve),ve.delete(Be)),M(b,K,cn)}function sm(b,L){var K=b.length;if(K)return L+=L<0?K:0,Oc(L,K)?b[L]:n}function yC(b,L,K){L.length?L=Yr(L,function(Zt){return br(Zt)?function(ve){return Pn(ve,Zt.length===1?Zt[0]:Zt)}:Zt}):L=[fs];var _t=-1;L=Yr(L,ko(or()));var Bt=co(b,function(Zt,ve,Ie){var Be=Yr(L,function(un){return un(Zt)});return{criteria:Be,index:++_t,value:Zt}});return B2(Bt,function(Zt,ve){return _D(Zt,ve,K)})}function sD(b,L){return _C(b,L,function(K,_t){return zw(b,_t)})}function _C(b,L,K){for(var _t=-1,Bt=L.length,Zt={};++_t<Bt;){var ve=L[_t],Ie=Pn(b,ve);K(Ie,ve)&&lm(Zt,Of(ve,b),Ie)}return Zt}function lD(b){return function(L){return Pn(L,b)}}function fw(b,L,K,_t){var Bt=_t?z2:bc,Zt=-1,ve=L.length,Ie=b;for(b===L&&(L=ls(L)),K&&(Ie=Yr(b,ko(K)));++Zt<ve;)for(var Be=0,un=L[Zt],cn=K?K(un):un;(Be=Bt(Ie,cn,Be,_t))>-1;)Ie!==b&&Ap.call(Ie,Be,1),Ap.call(b,Be,1);return b}function xC(b,L){for(var K=b?L.length:0,_t=K-1;K--;){var Bt=L[K];if(K==_t||Bt!==Zt){var Zt=Bt;Oc(Bt)?Ap.call(b,Bt,1):gw(b,Bt)}}return b}function hw(b,L){return b+Wh(em()*(L-b+1))}function uD(b,L,K,_t){for(var Bt=-1,Zt=ga(Ip((L-b)/(K||1)),0),ve=en(Zt);Zt--;)ve[_t?Zt:++Bt]=b,b+=K;return ve}function dw(b,L){var K="";if(!b||L<1||L>B)return K;do L%2&&(K+=b),L=Wh(L/2),L&&(b+=b);while(L);return K}function Lr(b,L){return Ow(KC(b,L,fs),b+"")}function cD(b){return Rp(Bp(b))}function fD(b,L){var K=Bp(b);return U_(K,Ct(L,0,K.length))}function lm(b,L,K,_t){if(!Ki(b))return b;L=Of(L,b);for(var Bt=-1,Zt=L.length,ve=Zt-1,Ie=b;Ie!=null&&++Bt<Zt;){var Be=Du(L[Bt]),un=K;if(Be==="__proto__"||Be==="constructor"||Be==="prototype")return b;if(Bt!=ve){var cn=Ie[Be];un=_t?_t(cn,Be,Ie):n,un===n&&(un=Ki(cn)?cn:Oc(L[Bt+1])?[]:{})}k(Ie,Be,un),Ie=Ie[Be]}return b}var bC=Ec?function(b,L){return Ec.set(b,L),b}:fs,hD=Yh?function(b,L){return Yh(b,"toString",{configurable:!0,enumerable:!1,value:Gw(L),writable:!0})}:fs;function dD(b){return U_(Bp(b))}function gl(b,L,K){var _t=-1,Bt=b.length;L<0&&(L=-L>Bt?0:Bt+L),K=K>Bt?Bt:K,K<0&&(K+=Bt),Bt=L>K?0:K-L>>>0,L>>>=0;for(var Zt=en(Bt);++_t<Bt;)Zt[_t]=b[_t+L];return Zt}function pD(b,L){var K;return Ce(b,function(_t,Bt,Zt){return K=L(_t,Bt,Zt),!K}),!!K}function R_(b,L,K){var _t=0,Bt=b==null?_t:b.length;if(typeof L=="number"&&L===L&&Bt<=Z){for(;_t<Bt;){var Zt=_t+Bt>>>1,ve=b[Zt];ve!==null&&!Bs(ve)&&(K?ve<=L:ve<L)?_t=Zt+1:Bt=Zt}return Bt}return pw(b,L,fs,K)}function pw(b,L,K,_t){var Bt=0,Zt=b==null?0:b.length;if(Zt===0)return 0;L=K(L);for(var ve=L!==L,Ie=L===null,Be=Bs(L),un=L===n;Bt<Zt;){var cn=Wh((Bt+Zt)/2),gn=K(b[cn]),Nn=gn!==n,$n=gn===null,lr=gn===gn,Ar=Bs(gn);if(ve)var ur=_t||lr;else un?ur=lr&&(_t||Nn):Ie?ur=lr&&Nn&&(_t||!$n):Be?ur=lr&&Nn&&!$n&&(_t||!Ar):$n||Ar?ur=!1:ur=_t?gn<=L:gn<L;ur?Bt=cn+1:Zt=cn}return Fa(Zt,U)}function wC(b,L){for(var K=-1,_t=b.length,Bt=0,Zt=[];++K<_t;){var ve=b[K],Ie=L?L(ve):ve;if(!K||!nu(Ie,Be)){var Be=Ie;Zt[Bt++]=ve===0?0:ve}}return Zt}function TC(b){return typeof b=="number"?b:Bs(b)?q:+b}function zs(b){if(typeof b=="string")return b;if(br(b))return Yr(b,zs)+"";if(Bs(b))return Xh?Xh.call(b):"";var L=b+"";return L=="0"&&1/b==-I?"-0":L}function If(b,L,K){var _t=-1,Bt=yf,Zt=b.length,ve=!0,Ie=[],Be=Ie;if(K)ve=!1,Bt=xp;else if(Zt>=i){var un=L?null:MD(b);if(un)return Iu(un);ve=!1,Bt=_f,Be=new Nu}else Be=L?[]:Ie;t:for(;++_t<Zt;){var cn=b[_t],gn=L?L(cn):cn;if(cn=K||cn!==0?cn:0,ve&&gn===gn){for(var Nn=Be.length;Nn--;)if(Be[Nn]===gn)continue t;L&&Be.push(gn),Ie.push(cn)}else Bt(Be,gn,K)||(Be!==Ie&&Be.push(gn),Ie.push(cn))}return Ie}function gw(b,L){return L=Of(L,b),b=ZC(b,L),b==null||delete b[Du(ml(L))]}function EC(b,L,K,_t){return lm(b,L,K(Pn(b,L)),_t)}function N_(b,L,K,_t){for(var Bt=b.length,Zt=_t?Bt:-1;(_t?Zt--:++Zt<Bt)&&L(b[Zt],Zt,b););return K?gl(b,_t?0:Zt,_t?Zt+1:Bt):gl(b,_t?Zt+1:0,_t?Bt:Zt)}function MC(b,L){var K=b;return K instanceof Or&&(K=K.value()),zh(L,function(_t,Bt){return Bt.func.apply(Bt.thisArg,Zl([_t],Bt.args))},K)}function mw(b,L,K){var _t=b.length;if(_t<2)return _t?If(b[0]):[];for(var Bt=-1,Zt=en(_t);++Bt<_t;)for(var ve=b[Bt],Ie=-1;++Ie<_t;)Ie!=Bt&&(Zt[Bt]=me(Zt[Bt]||ve,b[Ie],L,K));return If(ue(Zt,1),L,K)}function SC(b,L,K){for(var _t=-1,Bt=b.length,Zt=L.length,ve={};++_t<Bt;){var Ie=_t<Zt?L[_t]:n;K(ve,b[_t],Ie)}return ve}function vw(b){return ma(b)?b:[]}function yw(b){return typeof b=="function"?b:fs}function Of(b,L){return br(b)?b:Cw(b,L)?[b]:eA(ui(b))}var gD=Lr;function Lf(b,L,K){var _t=b.length;return K=K===n?_t:K,!L&&K>=_t?b:gl(b,L,K)}var CC=Q0||function(b){return jr.clearTimeout(b)};function AC(b,L){if(L)return b.slice();var K=b.length,_t=Hh?Hh(K):new b.constructor(K);return b.copy(_t),_t}function _w(b){var L=new b.constructor(b.byteLength);return new wc(L).set(new wc(b)),L}function mD(b,L){var K=L?_w(b.buffer):b.buffer;return new b.constructor(K,b.byteOffset,b.byteLength)}function vD(b){var L=new b.constructor(b.source,ct.exec(b));return L.lastIndex=b.lastIndex,L}function yD(b){return Mc?di(Mc.call(b)):{}}function IC(b,L){var K=L?_w(b.buffer):b.buffer;return new b.constructor(K,b.byteOffset,b.length)}function OC(b,L){if(b!==L){var K=b!==n,_t=b===null,Bt=b===b,Zt=Bs(b),ve=L!==n,Ie=L===null,Be=L===L,un=Bs(L);if(!Ie&&!un&&!Zt&&b>L||Zt&&ve&&Be&&!Ie&&!un||_t&&ve&&Be||!K&&Be||!Bt)return 1;if(!_t&&!Zt&&!un&&b<L||un&&K&&Bt&&!_t&&!Zt||Ie&&K&&Bt||!ve&&Bt||!Be)return-1}return 0}function _D(b,L,K){for(var _t=-1,Bt=b.criteria,Zt=L.criteria,ve=Bt.length,Ie=K.length;++_t<ve;){var Be=OC(Bt[_t],Zt[_t]);if(Be){if(_t>=Ie)return Be;var un=K[_t];return Be*(un=="desc"?-1:1)}}return b.index-L.index}function LC(b,L,K,_t){for(var Bt=-1,Zt=b.length,ve=K.length,Ie=-1,Be=L.length,un=ga(Zt-ve,0),cn=en(Be+un),gn=!_t;++Ie<Be;)cn[Ie]=L[Ie];for(;++Bt<ve;)(gn||Bt<Zt)&&(cn[K[Bt]]=b[Bt]);for(;un--;)cn[Ie++]=b[Bt++];return cn}function PC(b,L,K,_t){for(var Bt=-1,Zt=b.length,ve=-1,Ie=K.length,Be=-1,un=L.length,cn=ga(Zt-Ie,0),gn=en(cn+un),Nn=!_t;++Bt<cn;)gn[Bt]=b[Bt];for(var $n=Bt;++Be<un;)gn[$n+Be]=L[Be];for(;++ve<Ie;)(Nn||Bt<Zt)&&(gn[$n+K[ve]]=b[Bt++]);return gn}function ls(b,L){var K=-1,_t=b.length;for(L||(L=en(_t));++K<_t;)L[K]=b[K];return L}function ku(b,L,K,_t){var Bt=!K;K||(K={});for(var Zt=-1,ve=L.length;++Zt<ve;){var Ie=L[Zt],Be=_t?_t(K[Ie],b[Ie],Ie,K,b):n;Be===n&&(Be=b[Ie]),Bt?vt(K,Ie,Be):k(K,Ie,Be)}return K}function xD(b,L){return ku(b,Sw(b),L)}function bD(b,L){return ku(b,YC(b),L)}function k_(b,L){return function(K,_t){var Bt=br(K)?yp:tt,Zt=L?L():{};return Bt(K,b,or(_t,2),Zt)}}function kp(b){return Lr(function(L,K){var _t=-1,Bt=K.length,Zt=Bt>1?K[Bt-1]:n,ve=Bt>2?K[2]:n;for(Zt=b.length>3&&typeof Zt=="function"?(Bt--,Zt):n,ve&&Go(K[0],K[1],ve)&&(Zt=Bt<3?n:Zt,Bt=1),L=di(L);++_t<Bt;){var Ie=K[_t];Ie&&b(L,Ie,_t,Zt)}return L})}function RC(b,L){return function(K,_t){if(K==null)return K;if(!us(K))return b(K,_t);for(var Bt=K.length,Zt=L?Bt:-1,ve=di(K);(L?Zt--:++Zt<Bt)&&_t(ve[Zt],Zt,ve)!==!1;);return K}}function NC(b){return function(L,K,_t){for(var Bt=-1,Zt=di(L),ve=_t(L),Ie=ve.length;Ie--;){var Be=ve[b?Ie:++Bt];if(K(Zt[Be],Be,Zt)===!1)break}return L}}function wD(b,L,K){var _t=L&m,Bt=um(b);function Zt(){var ve=this&&this!==jr&&this instanceof Zt?Bt:b;return ve.apply(_t?K:this,arguments)}return Zt}function kC(b){return function(L){L=ui(L);var K=xf(L)?Ns(L):n,_t=K?K[0]:L.charAt(0),Bt=K?Lf(K,1).join(""):L.slice(1);return _t[b]()+Bt}}function Dp(b){return function(L){return zh(RA(PA(L).replace(ka,"")),b,"")}}function um(b){return function(){var L=arguments;switch(L.length){case 0:return new b;case 1:return new b(L[0]);case 2:return new b(L[0],L[1]);case 3:return new b(L[0],L[1],L[2]);case 4:return new b(L[0],L[1],L[2],L[3]);case 5:return new b(L[0],L[1],L[2],L[3],L[4]);case 6:return new b(L[0],L[1],L[2],L[3],L[4],L[5]);case 7:return new b(L[0],L[1],L[2],L[3],L[4],L[5],L[6])}var K=Sc(b.prototype),_t=b.apply(K,L);return Ki(_t)?_t:K}}function TD(b,L,K){var _t=um(b);function Bt(){for(var Zt=arguments.length,ve=en(Zt),Ie=Zt,Be=Fp(Bt);Ie--;)ve[Ie]=arguments[Ie];var un=Zt<3&&ve[0]!==Be&&ve[Zt-1]!==Be?[]:os(ve,Be);if(Zt-=un.length,Zt<K)return GC(b,L,D_,Bt.placeholder,n,ve,un,n,n,K-Zt);var cn=this&&this!==jr&&this instanceof Bt?_t:b;return Ta(cn,this,ve)}return Bt}function DC(b){return function(L,K,_t){var Bt=di(L);if(!us(L)){var Zt=or(K,3);L=$a(L),K=function(Ie){return Zt(Bt[Ie],Ie,Bt)}}var ve=b(L,K,_t);return ve>-1?Bt[Zt?L[ve]:ve]:n}}function FC(b){return Ic(function(L){var K=L.length,_t=K,Bt=Fo.prototype.thru;for(b&&L.reverse();_t--;){var Zt=L[_t];if(typeof Zt!="function")throw new Do(s);if(Bt&&!ve&&G_(Zt)=="wrapper")var ve=new Fo([],!0)}for(_t=ve?_t:K;++_t<K;){Zt=L[_t];var Ie=G_(Zt),Be=Ie=="wrapper"?Ew(Zt):n;Be&&Aw(Be[0])&&Be[1]==(S|_|w|C)&&!Be[4].length&&Be[9]==1?ve=ve[G_(Be[0])].apply(ve,Be[3]):ve=Zt.length==1&&Aw(Zt)?ve[Ie]():ve.thru(Zt)}return function(){var un=arguments,cn=un[0];if(ve&&un.length==1&&br(cn))return ve.plant(cn).value();for(var gn=0,Nn=K?L[gn].apply(this,un):cn;++gn<K;)Nn=L[gn].call(this,Nn);return Nn}})}function D_(b,L,K,_t,Bt,Zt,ve,Ie,Be,un){var cn=L&S,gn=L&m,Nn=L&v,$n=L&(_|x),lr=L&T,Ar=Nn?n:um(b);function ur(){for(var Dr=arguments.length,Ur=en(Dr),Gs=Dr;Gs--;)Ur[Gs]=arguments[Gs];if($n)var jo=Fp(ur),js=G2(Ur,jo);if(_t&&(Ur=LC(Ur,_t,Bt,$n)),Zt&&(Ur=PC(Ur,Zt,ve,$n)),Dr-=js,$n&&Dr<un){var va=os(Ur,jo);return GC(b,L,D_,ur.placeholder,K,Ur,va,Ie,Be,un-Dr)}var ru=gn?K:this,Rc=Nn?ru[b]:b;return Dr=Ur.length,Ie?Ur=VD(Ur,Ie):lr&&Dr>1&&Ur.reverse(),cn&&Be<Dr&&(Ur.length=Be),this&&this!==jr&&this instanceof ur&&(Rc=Ar||um(Rc)),Rc.apply(ru,Ur)}return ur}function zC(b,L){return function(K,_t){return tr(K,b,L(_t),{})}}function F_(b,L){return function(K,_t){var Bt;if(K===n&&_t===n)return L;if(K!==n&&(Bt=K),_t!==n){if(Bt===n)return _t;typeof K=="string"||typeof _t=="string"?(K=zs(K),_t=zs(_t)):(K=TC(K),_t=TC(_t)),Bt=b(K,_t)}return Bt}}function xw(b){return Ic(function(L){return L=Yr(L,ko(or())),Lr(function(K){var _t=this;return b(L,function(Bt){return Ta(Bt,_t,K)})})})}function z_(b,L){L=L===n?" ":zs(L);var K=L.length;if(K<2)return K?dw(L,b):L;var _t=dw(L,Ip(b/bf(L)));return xf(L)?Lf(Ns(_t),0,b).join(""):_t.slice(0,b)}function ED(b,L,K,_t){var Bt=L&m,Zt=um(b);function ve(){for(var Ie=-1,Be=arguments.length,un=-1,cn=_t.length,gn=en(cn+Be),Nn=this&&this!==jr&&this instanceof ve?Zt:b;++un<cn;)gn[un]=_t[un];for(;Be--;)gn[un++]=arguments[++Ie];return Ta(Nn,Bt?K:this,gn)}return ve}function BC(b){return function(L,K,_t){return _t&&typeof _t!="number"&&Go(L,K,_t)&&(K=_t=n),L=Pc(L),K===n?(K=L,L=0):K=Pc(K),_t=_t===n?L<K?1:-1:Pc(_t),uD(L,K,_t,b)}}function B_(b){return function(L,K){return typeof L=="string"&&typeof K=="string"||(L=vl(L),K=vl(K)),b(L,K)}}function GC(b,L,K,_t,Bt,Zt,ve,Ie,Be,un){var cn=L&_,gn=cn?ve:n,Nn=cn?n:ve,$n=cn?Zt:n,lr=cn?n:Zt;L|=cn?w:E,L&=~(cn?E:w),L&y||(L&=~(m|v));var Ar=[b,L,Bt,$n,gn,lr,Nn,Ie,Be,un],ur=K.apply(n,Ar);return Aw(b)&&JC(ur,Ar),ur.placeholder=_t,QC(ur,b,L)}function bw(b){var L=pa[b];return function(K,_t){if(K=vl(K),_t=_t==null?0:Fa(Mr(_t),292),_t&&v_(K)){var Bt=(ui(K)+"e").split("e"),Zt=L(Bt[0]+"e"+(+Bt[1]+_t));return Bt=(ui(Zt)+"e").split("e"),+(Bt[0]+"e"+(+Bt[1]-_t))}return L(K)}}var MD=Tc&&1/Iu(new Tc([,-0]))[1]==I?function(b){return new Tc(b)}:Vw;function jC(b){return function(L){var K=xo(L);return K==G?X0(L):K==ht?fl(L):a_(L,b(L))}}function Ac(b,L,K,_t,Bt,Zt,ve,Ie){var Be=L&v;if(!Be&&typeof b!="function")throw new Do(s);var un=_t?_t.length:0;if(un||(L&=~(w|E),_t=Bt=n),ve=ve===n?ve:ga(Mr(ve),0),Ie=Ie===n?Ie:Mr(Ie),un-=Bt?Bt.length:0,L&E){var cn=_t,gn=Bt;_t=Bt=n}var Nn=Be?n:Ew(b),$n=[b,L,K,_t,Bt,cn,gn,Zt,ve,Ie];if(Nn&&GD($n,Nn),b=$n[0],L=$n[1],K=$n[2],_t=$n[3],Bt=$n[4],Ie=$n[9]=$n[9]===n?Be?0:b.length:ga($n[9]-un,0),!Ie&&L&(_|x)&&(L&=~(_|x)),!L||L==m)var lr=wD(b,L,K);else L==_||L==x?lr=TD(b,L,Ie):(L==w||L==(m|w))&&!Bt.length?lr=ED(b,L,K,_t):lr=D_.apply(n,$n);var Ar=Nn?bC:JC;return QC(Ar(lr,$n),b,L)}function UC(b,L,K,_t){return b===n||nu(b,wf[K])&&!ti.call(_t,K)?L:b}function VC(b,L,K,_t,Bt,Zt){return Ki(b)&&Ki(L)&&(Zt.set(L,b),Fs(b,L,n,VC,Zt),Zt.delete(L)),b}function SD(b){return hm(b)?n:b}function HC(b,L,K,_t,Bt,Zt){var ve=K&p,Ie=b.length,Be=L.length;if(Ie!=Be&&!(ve&&Be>Ie))return!1;var un=Zt.get(b),cn=Zt.get(L);if(un&&cn)return un==L&&cn==b;var gn=-1,Nn=!0,$n=K&g?new Nu:n;for(Zt.set(b,L),Zt.set(L,b);++gn<Ie;){var lr=b[gn],Ar=L[gn];if(_t)var ur=ve?_t(Ar,lr,gn,L,b,Zt):_t(lr,Ar,gn,b,L,Zt);if(ur!==n){if(ur)continue;Nn=!1;break}if($n){if(!Jl(L,function(Dr,Ur){if(!_f($n,Ur)&&(lr===Dr||Bt(lr,Dr,K,_t,Zt)))return $n.push(Ur)})){Nn=!1;break}}else if(!(lr===Ar||Bt(lr,Ar,K,_t,Zt))){Nn=!1;break}}return Zt.delete(b),Zt.delete(L),Nn}function CD(b,L,K,_t,Bt,Zt,ve){switch(K){case wt:if(b.byteLength!=L.byteLength||b.byteOffset!=L.byteOffset)return!1;b=b.buffer,L=L.buffer;case yt:return!(b.byteLength!=L.byteLength||!Zt(new wc(b),new wc(L)));case X:case it:case H:return nu(+b,+L);case dt:return b.name==L.name&&b.message==L.message;case st:case xt:return b==L+"";case G:var Ie=X0;case ht:var Be=_t&p;if(Ie||(Ie=Iu),b.size!=L.size&&!Be)return!1;var un=ve.get(b);if(un)return un==L;_t|=g,ve.set(b,L);var cn=HC(Ie(b),Ie(L),_t,Bt,Zt,ve);return ve.delete(b),cn;case Pt:if(Mc)return Mc.call(b)==Mc.call(L)}return!1}function AD(b,L,K,_t,Bt,Zt){var ve=K&p,Ie=ww(b),Be=Ie.length,un=ww(L),cn=un.length;if(Be!=cn&&!ve)return!1;for(var gn=Be;gn--;){var Nn=Ie[gn];if(!(ve?Nn in L:ti.call(L,Nn)))return!1}var $n=Zt.get(b),lr=Zt.get(L);if($n&&lr)return $n==L&&lr==b;var Ar=!0;Zt.set(b,L),Zt.set(L,b);for(var ur=ve;++gn<Be;){Nn=Ie[gn];var Dr=b[Nn],Ur=L[Nn];if(_t)var Gs=ve?_t(Ur,Dr,Nn,L,b,Zt):_t(Dr,Ur,Nn,b,L,Zt);if(!(Gs===n?Dr===Ur||Bt(Dr,Ur,K,_t,Zt):Gs)){Ar=!1;break}ur||(ur=Nn=="constructor")}if(Ar&&!ur){var jo=b.constructor,js=L.constructor;jo!=js&&"constructor"in b&&"constructor"in L&&!(typeof jo=="function"&&jo instanceof jo&&typeof js=="function"&&js instanceof js)&&(Ar=!1)}return Zt.delete(b),Zt.delete(L),Ar}function Ic(b){return Ow(KC(b,n,aA),b+"")}function ww(b){return Yn(b,$a,Sw)}function Tw(b){return Yn(b,cs,YC)}var Ew=Ec?function(b){return Ec.get(b)}:Vw;function G_(b){for(var L=b.name+"",K=tu[L],_t=ti.call(tu,L)?K.length:0;_t--;){var Bt=K[_t],Zt=Bt.func;if(Zt==null||Zt==b)return Bt.name}return L}function Fp(b){var L=ti.call($t,"placeholder")?$t:b;return L.placeholder}function or(){var b=$t.iteratee||jw;return b=b===jw?aa:b,arguments.length?b(arguments[0],arguments[1]):b}function j_(b,L){var K=b.__data__;return DD(L)?K[typeof L=="string"?"string":"hash"]:K.map}function Mw(b){for(var L=$a(b),K=L.length;K--;){var _t=L[K],Bt=b[_t];L[K]=[_t,Bt,qC(Bt)]}return L}function Zh(b,L){var K=V2(b,L);return za(K)?K:n}function ID(b){var L=ti.call(b,Lu),K=b[Lu];try{b[Lu]=n;var _t=!0}catch{}var Bt=Mp.call(b);return _t&&(L?b[Lu]=K:delete b[Lu]),Bt}var Sw=Mf?function(b){return b==null?[]:(b=di(b),as(Mf(b),function(L){return J0.call(b,L)}))}:Hw,YC=Mf?function(b){for(var L=[];b;)Zl(L,Sw(b)),b=Sp(b);return L}:Hw,xo=Cn;(Sf&&xo(new Sf(new ArrayBuffer(1)))!=wt||$h&&xo(new $h)!=G||nm&&xo(nm.resolve())!=Q||Tc&&xo(new Tc)!=ht||Cf&&xo(new Cf)!=zt)&&(xo=function(b){var L=Cn(b),K=L==J?b.constructor:n,_t=K?Jh(K):"";if(_t)switch(_t){case x_:return wt;case b_:return G;case rm:return Q;case ks:return ht;case w_:return zt}return L});function OD(b,L,K){for(var _t=-1,Bt=K.length;++_t<Bt;){var Zt=K[_t],ve=Zt.size;switch(Zt.type){case"drop":b+=ve;break;case"dropRight":L-=ve;break;case"take":L=Fa(L,b+ve);break;case"takeRight":b=ga(b,L-ve);break}}return{start:b,end:L}}function LD(b){var L=b.match(ge);return L?L[1].split(xe):[]}function WC(b,L,K){L=Of(L,b);for(var _t=-1,Bt=L.length,Zt=!1;++_t<Bt;){var ve=Du(L[_t]);if(!(Zt=b!=null&&K(b,ve)))break;b=b[ve]}return Zt||++_t!=Bt?Zt:(Bt=b==null?0:b.length,!!Bt&&q_(Bt)&&Oc(ve,Bt)&&(br(b)||Qh(b)))}function PD(b){var L=b.length,K=new b.constructor(L);return L&&typeof b[0]=="string"&&ti.call(b,"index")&&(K.index=b.index,K.input=b.input),K}function $C(b){return typeof b.constructor=="function"&&!cm(b)?Sc(Sp(b)):{}}function RD(b,L,K){var _t=b.constructor;switch(L){case yt:return _w(b);case X:case it:return new _t(+b);case wt:return mD(b,K);case St:case Ut:case Gt:case mt:case Tt:case At:case Et:case Mt:case Nt:return IC(b,K);case G:return new _t;case H:case xt:return new _t(b);case st:return vD(b);case ht:return new _t;case Pt:return yD(b)}}function ND(b,L){var K=L.length;if(!K)return b;var _t=K-1;return L[_t]=(K>1?"& ":"")+L[_t],L=L.join(K>2?", ":" "),b.replace(ne,`{
/* [wrapped with `+L+`] */
`)}function kD(b){return br(b)||Qh(b)||!!(p_&&b&&b[p_])}function Oc(b,L){var K=typeof b;return L=L??B,!!L&&(K=="number"||K!="symbol"&&Xt.test(b))&&b>-1&&b%1==0&&b<L}function Go(b,L,K){if(!Ki(K))return!1;var _t=typeof L;return(_t=="number"?us(K)&&Oc(L,K.length):_t=="string"&&L in K)?nu(K[L],b):!1}function Cw(b,L){if(br(b))return!1;var K=typeof b;return K=="number"||K=="symbol"||K=="boolean"||b==null||Bs(b)?!0:Le.test(b)||!we.test(b)||L!=null&&b in di(L)}function DD(b){var L=typeof b;return L=="string"||L=="number"||L=="symbol"||L=="boolean"?b!=="__proto__":b===null}function Aw(b){var L=G_(b),K=$t[L];if(typeof K!="function"||!(L in Or.prototype))return!1;if(b===K)return!0;var _t=Ew(K);return!!_t&&b===_t[0]}function FD(b){return!!Ep&&Ep in b}var zD=Uh?Lc:Yw;function cm(b){var L=b&&b.constructor,K=typeof L=="function"&&L.prototype||wf;return b===K}function qC(b){return b===b&&!Ki(b)}function XC(b,L){return function(K){return K==null?!1:K[b]===L&&(L!==n||b in di(K))}}function BD(b){var L=W_(b,function(_t){return K.size===f&&K.clear(),_t}),K=L.cache;return L}function GD(b,L){var K=b[1],_t=L[1],Bt=K|_t,Zt=Bt<(m|v|S),ve=_t==S&&K==_||_t==S&&K==C&&b[7].length<=L[8]||_t==(S|C)&&L[7].length<=L[8]&&K==_;if(!(Zt||ve))return b;_t&m&&(b[2]=L[2],Bt|=K&m?0:y);var Ie=L[3];if(Ie){var Be=b[3];b[3]=Be?LC(Be,Ie,L[4]):Ie,b[4]=Be?os(b[3],u):L[4]}return Ie=L[5],Ie&&(Be=b[5],b[5]=Be?PC(Be,Ie,L[6]):Ie,b[6]=Be?os(b[5],u):L[6]),Ie=L[7],Ie&&(b[7]=Ie),_t&S&&(b[8]=b[8]==null?L[8]:Fa(b[8],L[8])),b[9]==null&&(b[9]=L[9]),b[0]=L[0],b[1]=Bt,b}function jD(b){var L=[];if(b!=null)for(var K in di(b))L.push(K);return L}function UD(b){return Mp.call(b)}function KC(b,L,K){return L=ga(L===n?b.length-1:L,0),function(){for(var _t=arguments,Bt=-1,Zt=ga(_t.length-L,0),ve=en(Zt);++Bt<Zt;)ve[Bt]=_t[L+Bt];Bt=-1;for(var Ie=en(L+1);++Bt<L;)Ie[Bt]=_t[Bt];return Ie[L]=K(ve),Ta(b,this,Ie)}}function ZC(b,L){return L.length<2?b:Pn(b,gl(L,0,-1))}function VD(b,L){for(var K=b.length,_t=Fa(L.length,K),Bt=ls(b);_t--;){var Zt=L[_t];b[_t]=Oc(Zt,K)?Bt[Zt]:n}return b}function Iw(b,L){if(!(L==="constructor"&&typeof b[L]=="function")&&L!="__proto__")return b[L]}var JC=tA(bC),fm=g_||function(b,L){return jr.setTimeout(b,L)},Ow=tA(hD);function QC(b,L,K){var _t=L+"";return Ow(b,ND(_t,HD(LD(_t),K)))}function tA(b){var L=0,K=0;return function(){var _t=y_(),Bt=F-(_t-K);if(K=_t,Bt>0){if(++L>=P)return arguments[0]}else L=0;return b.apply(n,arguments)}}function U_(b,L){var K=-1,_t=b.length,Bt=_t-1;for(L=L===n?_t:L;++K<L;){var Zt=hw(K,Bt),ve=b[Zt];b[Zt]=b[K],b[K]=ve}return b.length=L,b}var eA=BD(function(b){var L=[];return b.charCodeAt(0)===46&&L.push(""),b.replace(jt,function(K,_t,Bt,Zt){L.push(Bt?Zt.replace($e,"$1"):_t||K)}),L});function Du(b){if(typeof b=="string"||Bs(b))return b;var L=b+"";return L=="0"&&1/b==-I?"-0":L}function Jh(b){if(b!=null){try{return Vh.call(b)}catch{}try{return b+""}catch{}}return""}function HD(b,L){return da(rt,function(K){var _t="_."+K[0];L&K[1]&&!yf(b,_t)&&b.push(_t)}),b.sort()}function nA(b){if(b instanceof Or)return b.clone();var L=new Fo(b.__wrapped__,b.__chain__);return L.__actions__=ls(b.__actions__),L.__index__=b.__index__,L.__values__=b.__values__,L}function YD(b,L,K){(K?Go(b,L,K):L===n)?L=1:L=ga(Mr(L),0);var _t=b==null?0:b.length;if(!_t||L<1)return[];for(var Bt=0,Zt=0,ve=en(Ip(_t/L));Bt<_t;)ve[Zt++]=gl(b,Bt,Bt+=L);return ve}function WD(b){for(var L=-1,K=b==null?0:b.length,_t=0,Bt=[];++L<K;){var Zt=b[L];Zt&&(Bt[_t++]=Zt)}return Bt}function $D(){var b=arguments.length;if(!b)return[];for(var L=en(b-1),K=arguments[0],_t=b;_t--;)L[_t-1]=arguments[_t];return Zl(br(K)?ls(K):[K],ue(L,1))}var qD=Lr(function(b,L){return ma(b)?me(b,ue(L,1,ma,!0)):[]}),XD=Lr(function(b,L){var K=ml(L);return ma(K)&&(K=n),ma(b)?me(b,ue(L,1,ma,!0),or(K,2)):[]}),KD=Lr(function(b,L){var K=ml(L);return ma(K)&&(K=n),ma(b)?me(b,ue(L,1,ma,!0),n,K):[]});function ZD(b,L,K){var _t=b==null?0:b.length;return _t?(L=K||L===n?1:Mr(L),gl(b,L<0?0:L,_t)):[]}function JD(b,L,K){var _t=b==null?0:b.length;return _t?(L=K||L===n?1:Mr(L),L=_t-L,gl(b,0,L<0?0:L)):[]}function QD(b,L){return b&&b.length?N_(b,or(L,3),!0,!0):[]}function t9(b,L){return b&&b.length?N_(b,or(L,3),!0):[]}function e9(b,L,K,_t){var Bt=b==null?0:b.length;return Bt?(K&&typeof K!="number"&&Go(b,L,K)&&(K=0,_t=Bt),Ne(b,L,K,_t)):[]}function rA(b,L,K){var _t=b==null?0:b.length;if(!_t)return-1;var Bt=K==null?0:Mr(K);return Bt<0&&(Bt=ga(_t+Bt,0)),Bh(b,or(L,3),Bt)}function iA(b,L,K){var _t=b==null?0:b.length;if(!_t)return-1;var Bt=_t-1;return K!==n&&(Bt=Mr(K),Bt=K<0?ga(_t+Bt,0):Fa(Bt,_t-1)),Bh(b,or(L,3),Bt,!0)}function aA(b){var L=b==null?0:b.length;return L?ue(b,1):[]}function n9(b){var L=b==null?0:b.length;return L?ue(b,I):[]}function r9(b,L){var K=b==null?0:b.length;return K?(L=L===n?1:Mr(L),ue(b,L)):[]}function i9(b){for(var L=-1,K=b==null?0:b.length,_t={};++L<K;){var Bt=b[L];_t[Bt[0]]=Bt[1]}return _t}function oA(b){return b&&b.length?b[0]:n}function a9(b,L,K){var _t=b==null?0:b.length;if(!_t)return-1;var Bt=K==null?0:Mr(K);return Bt<0&&(Bt=ga(_t+Bt,0)),bc(b,L,Bt)}function o9(b){var L=b==null?0:b.length;return L?gl(b,0,-1):[]}var s9=Lr(function(b){var L=Yr(b,vw);return L.length&&L[0]===b[0]?On(L):[]}),l9=Lr(function(b){var L=ml(b),K=Yr(b,vw);return L===ml(K)?L=n:K.pop(),K.length&&K[0]===b[0]?On(K,or(L,2)):[]}),u9=Lr(function(b){var L=ml(b),K=Yr(b,vw);return L=typeof L=="function"?L:n,L&&K.pop(),K.length&&K[0]===b[0]?On(K,n,L):[]});function c9(b,L){return b==null?"":tw.call(b,L)}function ml(b){var L=b==null?0:b.length;return L?b[L-1]:n}function f9(b,L,K){var _t=b==null?0:b.length;if(!_t)return-1;var Bt=_t;return K!==n&&(Bt=Mr(K),Bt=Bt<0?ga(_t+Bt,0):Fa(Bt,_t-1)),L===L?W2(b,L,Bt):Bh(b,n_,Bt,!0)}function h9(b,L){return b&&b.length?sm(b,Mr(L)):n}var d9=Lr(sA);function sA(b,L){return b&&b.length&&L&&L.length?fw(b,L):b}function p9(b,L,K){return b&&b.length&&L&&L.length?fw(b,L,or(K,2)):b}function g9(b,L,K){return b&&b.length&&L&&L.length?fw(b,L,n,K):b}var m9=Ic(function(b,L){var K=b==null?0:b.length,_t=bt(b,L);return xC(b,Yr(L,function(Bt){return Oc(Bt,K)?+Bt:Bt}).sort(OC)),_t});function v9(b,L){var K=[];if(!(b&&b.length))return K;var _t=-1,Bt=[],Zt=b.length;for(L=or(L,3);++_t<Zt;){var ve=b[_t];L(ve,_t,b)&&(K.push(ve),Bt.push(_t))}return xC(b,Bt),K}function Lw(b){return b==null?b:nw.call(b)}function y9(b,L,K){var _t=b==null?0:b.length;return _t?(K&&typeof K!="number"&&Go(b,L,K)?(L=0,K=_t):(L=L==null?0:Mr(L),K=K===n?_t:Mr(K)),gl(b,L,K)):[]}function _9(b,L){return R_(b,L)}function x9(b,L,K){return pw(b,L,or(K,2))}function b9(b,L){var K=b==null?0:b.length;if(K){var _t=R_(b,L);if(_t<K&&nu(b[_t],L))return _t}return-1}function w9(b,L){return R_(b,L,!0)}function T9(b,L,K){return pw(b,L,or(K,2),!0)}function E9(b,L){var K=b==null?0:b.length;if(K){var _t=R_(b,L,!0)-1;if(nu(b[_t],L))return _t}return-1}function M9(b){return b&&b.length?wC(b):[]}function S9(b,L){return b&&b.length?wC(b,or(L,2)):[]}function C9(b){var L=b==null?0:b.length;return L?gl(b,1,L):[]}function A9(b,L,K){return b&&b.length?(L=K||L===n?1:Mr(L),gl(b,0,L<0?0:L)):[]}function I9(b,L,K){var _t=b==null?0:b.length;return _t?(L=K||L===n?1:Mr(L),L=_t-L,gl(b,L<0?0:L,_t)):[]}function O9(b,L){return b&&b.length?N_(b,or(L,3),!1,!0):[]}function L9(b,L){return b&&b.length?N_(b,or(L,3)):[]}var P9=Lr(function(b){return If(ue(b,1,ma,!0))}),R9=Lr(function(b){var L=ml(b);return ma(L)&&(L=n),If(ue(b,1,ma,!0),or(L,2))}),N9=Lr(function(b){var L=ml(b);return L=typeof L=="function"?L:n,If(ue(b,1,ma,!0),n,L)});function k9(b){return b&&b.length?If(b):[]}function D9(b,L){return b&&b.length?If(b,or(L,2)):[]}function F9(b,L){return L=typeof L=="function"?L:n,b&&b.length?If(b,n,L):[]}function Pw(b){if(!(b&&b.length))return[];var L=0;return b=as(b,function(K){if(ma(K))return L=ga(K.length,L),!0}),Tp(L,function(K){return Yr(b,W0(K))})}function lA(b,L){if(!(b&&b.length))return[];var K=Pw(b);return L==null?K:Yr(K,function(_t){return Ta(L,n,_t)})}var z9=Lr(function(b,L){return ma(b)?me(b,L):[]}),B9=Lr(function(b){return mw(as(b,ma))}),G9=Lr(function(b){var L=ml(b);return ma(L)&&(L=n),mw(as(b,ma),or(L,2))}),j9=Lr(function(b){var L=ml(b);return L=typeof L=="function"?L:n,mw(as(b,ma),n,L)}),U9=Lr(Pw);function V9(b,L){return SC(b||[],L||[],k)}function H9(b,L){return SC(b||[],L||[],lm)}var Y9=Lr(function(b){var L=b.length,K=L>1?b[L-1]:n;return K=typeof K=="function"?(b.pop(),K):n,lA(b,K)});function uA(b){var L=$t(b);return L.__chain__=!0,L}function W9(b,L){return L(b),b}function V_(b,L){return L(b)}var $9=Ic(function(b){var L=b.length,K=L?b[0]:0,_t=this.__wrapped__,Bt=function(Zt){return bt(Zt,b)};return L>1||this.__actions__.length||!(_t instanceof Or)||!Oc(K)?this.thru(Bt):(_t=_t.slice(K,+K+(L?1:0)),_t.__actions__.push({func:V_,args:[Bt],thisArg:n}),new Fo(_t,this.__chain__).thru(function(Zt){return L&&!Zt.length&&Zt.push(n),Zt}))});function q9(){return uA(this)}function X9(){return new Fo(this.value(),this.__chain__)}function K9(){this.__values__===n&&(this.__values__=TA(this.value()));var b=this.__index__>=this.__values__.length,L=b?n:this.__values__[this.__index__++];return{done:b,value:L}}function Z9(){return this}function J9(b){for(var L,K=this;K instanceof lo;){var _t=nA(K);_t.__index__=0,_t.__values__=n,L?Bt.__wrapped__=_t:L=_t;var Bt=_t;K=K.__wrapped__}return Bt.__wrapped__=b,L}function Q9(){var b=this.__wrapped__;if(b instanceof Or){var L=b;return this.__actions__.length&&(L=new Or(this)),L=L.reverse(),L.__actions__.push({func:V_,args:[Lw],thisArg:n}),new Fo(L,this.__chain__)}return this.thru(Lw)}function tF(){return MC(this.__wrapped__,this.__actions__)}var eF=k_(function(b,L,K){ti.call(b,K)?++b[K]:vt(b,K,1)});function nF(b,L,K){var _t=br(b)?Qy:Te;return K&&Go(b,L,K)&&(L=n),_t(b,or(L,3))}function rF(b,L){var K=br(b)?as:Ee;return K(b,or(L,3))}var iF=DC(rA),aF=DC(iA);function oF(b,L){return ue(H_(b,L),1)}function sF(b,L){return ue(H_(b,L),I)}function lF(b,L,K){return K=K===n?1:Mr(K),ue(H_(b,L),K)}function cA(b,L){var K=br(b)?da:Ce;return K(b,or(L,3))}function fA(b,L){var K=br(b)?_p:de;return K(b,or(L,3))}var uF=k_(function(b,L,K){ti.call(b,K)?b[K].push(L):vt(b,K,[L])});function cF(b,L,K,_t){b=us(b)?b:Bp(b),K=K&&!_t?Mr(K):0;var Bt=b.length;return K<0&&(K=ga(Bt+K,0)),X_(b)?K<=Bt&&b.indexOf(L,K)>-1:!!Bt&&bc(b,L,K)>-1}var fF=Lr(function(b,L,K){var _t=-1,Bt=typeof L=="function",Zt=us(b)?en(b.length):[];return Ce(b,function(ve){Zt[++_t]=Bt?Ta(L,ve,K):Qn(ve,L,K)}),Zt}),hF=k_(function(b,L,K){vt(b,K,L)});function H_(b,L){var K=br(b)?Yr:co;return K(b,or(L,3))}function dF(b,L,K,_t){return b==null?[]:(br(L)||(L=L==null?[]:[L]),K=_t?n:K,br(K)||(K=K==null?[]:[K]),yC(b,L,K))}var pF=k_(function(b,L,K){b[K?0:1].push(L)},function(){return[[],[]]});function gF(b,L,K){var _t=br(b)?zh:i_,Bt=arguments.length<3;return _t(b,or(L,4),K,Bt,Ce)}function mF(b,L,K){var _t=br(b)?Y0:i_,Bt=arguments.length<3;return _t(b,or(L,4),K,Bt,de)}function vF(b,L){var K=br(b)?as:Ee;return K(b,$_(or(L,3)))}function yF(b){var L=br(b)?Rp:cD;return L(b)}function _F(b,L,K){(K?Go(b,L,K):L===n)?L=1:L=Mr(L);var _t=br(b)?uw:fD;return _t(b,L)}function xF(b){var L=br(b)?cw:dD;return L(b)}function bF(b){if(b==null)return 0;if(us(b))return X_(b)?bf(b):b.length;var L=xo(b);return L==G||L==ht?b.size:Oi(b).length}function wF(b,L,K){var _t=br(b)?Jl:pD;return K&&Go(b,L,K)&&(L=n),_t(b,or(L,3))}var TF=Lr(function(b,L){if(b==null)return[];var K=L.length;return K>1&&Go(b,L[0],L[1])?L=[]:K>2&&Go(L[0],L[1],L[2])&&(L=[L[0]]),yC(b,ue(L,1),[])}),Y_=tm||function(){return jr.Date.now()};function EF(b,L){if(typeof L!="function")throw new Do(s);return b=Mr(b),function(){if(--b<1)return L.apply(this,arguments)}}function hA(b,L,K){return L=K?n:L,L=b&&L==null?b.length:L,Ac(b,S,n,n,n,n,L)}function dA(b,L){var K;if(typeof L!="function")throw new Do(s);return b=Mr(b),function(){return--b>0&&(K=L.apply(this,arguments)),b<=1&&(L=n),K}}var Rw=Lr(function(b,L,K){var _t=m;if(K.length){var Bt=os(K,Fp(Rw));_t|=w}return Ac(b,_t,L,K,Bt)}),pA=Lr(function(b,L,K){var _t=m|v;if(K.length){var Bt=os(K,Fp(pA));_t|=w}return Ac(L,_t,b,K,Bt)});function gA(b,L,K){L=K?n:L;var _t=Ac(b,_,n,n,n,n,n,L);return _t.placeholder=gA.placeholder,_t}function mA(b,L,K){L=K?n:L;var _t=Ac(b,x,n,n,n,n,n,L);return _t.placeholder=mA.placeholder,_t}function vA(b,L,K){var _t,Bt,Zt,ve,Ie,Be,un=0,cn=!1,gn=!1,Nn=!0;if(typeof b!="function")throw new Do(s);L=vl(L)||0,Ki(K)&&(cn=!!K.leading,gn="maxWait"in K,Zt=gn?ga(vl(K.maxWait)||0,L):Zt,Nn="trailing"in K?!!K.trailing:Nn);function $n(va){var ru=_t,Rc=Bt;return _t=Bt=n,un=va,ve=b.apply(Rc,ru),ve}function lr(va){return un=va,Ie=fm(Dr,L),cn?$n(va):ve}function Ar(va){var ru=va-Be,Rc=va-un,DA=L-ru;return gn?Fa(DA,Zt-Rc):DA}function ur(va){var ru=va-Be,Rc=va-un;return Be===n||ru>=L||ru<0||gn&&Rc>=Zt}function Dr(){var va=Y_();if(ur(va))return Ur(va);Ie=fm(Dr,Ar(va))}function Ur(va){return Ie=n,Nn&&_t?$n(va):(_t=Bt=n,ve)}function Gs(){Ie!==n&&CC(Ie),un=0,_t=Be=Bt=Ie=n}function jo(){return Ie===n?ve:Ur(Y_())}function js(){var va=Y_(),ru=ur(va);if(_t=arguments,Bt=this,Be=va,ru){if(Ie===n)return lr(Be);if(gn)return CC(Ie),Ie=fm(Dr,L),$n(Be)}return Ie===n&&(Ie=fm(Dr,L)),ve}return js.cancel=Gs,js.flush=jo,js}var MF=Lr(function(b,L){return ie(b,1,L)}),SF=Lr(function(b,L,K){return ie(b,vl(L)||0,K)});function CF(b){return Ac(b,T)}function W_(b,L){if(typeof b!="function"||L!=null&&typeof L!="function")throw new Do(s);var K=function(){var _t=arguments,Bt=L?L.apply(this,_t):_t[0],Zt=K.cache;if(Zt.has(Bt))return Zt.get(Bt);var ve=b.apply(this,_t);return K.cache=Zt.set(Bt,ve)||Zt,ve};return K.cache=new(W_.Cache||ss),K}W_.Cache=ss;function $_(b){if(typeof b!="function")throw new Do(s);return function(){var L=arguments;switch(L.length){case 0:return!b.call(this);case 1:return!b.call(this,L[0]);case 2:return!b.call(this,L[0],L[1]);case 3:return!b.call(this,L[0],L[1],L[2])}return!b.apply(this,L)}}function AF(b){return dA(2,b)}var IF=gD(function(b,L){L=L.length==1&&br(L[0])?Yr(L[0],ko(or())):Yr(ue(L,1),ko(or()));var K=L.length;return Lr(function(_t){for(var Bt=-1,Zt=Fa(_t.length,K);++Bt<Zt;)_t[Bt]=L[Bt].call(this,_t[Bt]);return Ta(b,this,_t)})}),Nw=Lr(function(b,L){var K=os(L,Fp(Nw));return Ac(b,w,n,L,K)}),yA=Lr(function(b,L){var K=os(L,Fp(yA));return Ac(b,E,n,L,K)}),OF=Ic(function(b,L){return Ac(b,C,n,n,n,L)});function LF(b,L){if(typeof b!="function")throw new Do(s);return L=L===n?L:Mr(L),Lr(b,L)}function PF(b,L){if(typeof b!="function")throw new Do(s);return L=L==null?0:ga(Mr(L),0),Lr(function(K){var _t=K[L],Bt=Lf(K,0,L);return _t&&Zl(Bt,_t),Ta(b,this,Bt)})}function RF(b,L,K){var _t=!0,Bt=!0;if(typeof b!="function")throw new Do(s);return Ki(K)&&(_t="leading"in K?!!K.leading:_t,Bt="trailing"in K?!!K.trailing:Bt),vA(b,L,{leading:_t,maxWait:L,trailing:Bt})}function NF(b){return hA(b,1)}function kF(b,L){return Nw(yw(L),b)}function DF(){if(!arguments.length)return[];var b=arguments[0];return br(b)?b:[b]}function FF(b){return Ot(b,d)}function zF(b,L){return L=typeof L=="function"?L:n,Ot(b,d,L)}function BF(b){return Ot(b,c|d)}function GF(b,L){return L=typeof L=="function"?L:n,Ot(b,c|d,L)}function jF(b,L){return L==null||Kt(b,L,$a(L))}function nu(b,L){return b===L||b!==b&&L!==L}var UF=B_(sr),VF=B_(function(b,L){return b>=L}),Qh=Er(function(){return arguments}())?Er:function(b){return oa(b)&&ti.call(b,"callee")&&!J0.call(b,"callee")},br=en.isArray,HF=Kl?ko(Kl):ri;function us(b){return b!=null&&q_(b.length)&&!Lc(b)}function ma(b){return oa(b)&&us(b)}function YF(b){return b===!0||b===!1||oa(b)&&Cn(b)==X}var Pf=m_||Yw,WF=Cu?ko(Cu):Ui;function $F(b){return oa(b)&&b.nodeType===1&&!hm(b)}function qF(b){if(b==null)return!0;if(us(b)&&(br(b)||typeof b=="string"||typeof b.splice=="function"||Pf(b)||zp(b)||Qh(b)))return!b.length;var L=xo(b);if(L==G||L==ht)return!b.size;if(cm(b))return!Oi(b).length;for(var K in b)if(ti.call(b,K))return!1;return!0}function XF(b,L){return li(b,L)}function KF(b,L,K){K=typeof K=="function"?K:n;var _t=K?K(b,L):n;return _t===n?li(b,L,n,K):!!_t}function kw(b){if(!oa(b))return!1;var L=Cn(b);return L==dt||L==lt||typeof b.message=="string"&&typeof b.name=="string"&&!hm(b)}function ZF(b){return typeof b=="number"&&v_(b)}function Lc(b){if(!Ki(b))return!1;var L=Cn(b);return L==nt||L==V||L==W||L==ot}function _A(b){return typeof b=="number"&&b==Mr(b)}function q_(b){return typeof b=="number"&&b>-1&&b%1==0&&b<=B}function Ki(b){var L=typeof b;return b!=null&&(L=="object"||L=="function")}function oa(b){return b!=null&&typeof b=="object"}var xA=Rs?ko(Rs):Vi;function JF(b,L){return b===L||Hi(b,L,Mw(L))}function QF(b,L,K){return K=typeof K=="function"?K:n,Hi(b,L,Mw(L),K)}function tz(b){return bA(b)&&b!=+b}function ez(b){if(zD(b))throw new vr(a);return za(b)}function nz(b){return b===null}function rz(b){return b==null}function bA(b){return typeof b=="number"||oa(b)&&Cn(b)==H}function hm(b){if(!oa(b)||Cn(b)!=J)return!1;var L=Sp(b);if(L===null)return!0;var K=ti.call(L,"constructor")&&L.constructor;return typeof K=="function"&&K instanceof K&&Vh.call(K)==Q2}var Dw=rs?ko(rs):Ds;function iz(b){return _A(b)&&b>=-B&&b<=B}var wA=is?ko(is):hl;function X_(b){return typeof b=="string"||!br(b)&&oa(b)&&Cn(b)==xt}function Bs(b){return typeof b=="symbol"||oa(b)&&Cn(b)==Pt}var zp=xc?ko(xc):dl;function az(b){return b===n}function oz(b){return oa(b)&&xo(b)==zt}function sz(b){return oa(b)&&Cn(b)==pt}var lz=B_(Ba),uz=B_(function(b,L){return b<=L});function TA(b){if(!b)return[];if(us(b))return X_(b)?Ns(b):ls(b);if(Ef&&b[Ef])return H2(b[Ef]());var L=xo(b),K=L==G?X0:L==ht?Iu:Bp;return K(b)}function Pc(b){if(!b)return b===0?b:0;if(b=vl(b),b===I||b===-I){var L=b<0?-1:1;return L*j}return b===b?b:0}function Mr(b){var L=Pc(b),K=L%1;return L===L?K?L-K:L:0}function EA(b){return b?Ct(Mr(b),0,et):0}function vl(b){if(typeof b=="number")return b;if(Bs(b))return q;if(Ki(b)){var L=typeof b.valueOf=="function"?b.valueOf():b;b=Ki(L)?L+"":L}if(typeof b!="string")return b===0?b:+b;b=q0(b);var K=qt.test(b);return K||Jt.test(b)?Ii(b.slice(2),K?2:8):gt.test(b)?q:+b}function MA(b){return ku(b,cs(b))}function cz(b){return b?Ct(Mr(b),-B,B):b===0?b:0}function ui(b){return b==null?"":zs(b)}var fz=kp(function(b,L){if(cm(L)||us(L)){ku(L,$a(L),b);return}for(var K in L)ti.call(L,K)&&k(b,K,L[K])}),SA=kp(function(b,L){ku(L,cs(L),b)}),K_=kp(function(b,L,K,_t){ku(L,cs(L),b,_t)}),hz=kp(function(b,L,K,_t){ku(L,$a(L),b,_t)}),dz=Ic(bt);function pz(b,L){var K=Sc(b);return L==null?K:at(K,L)}var gz=Lr(function(b,L){b=di(b);var K=-1,_t=L.length,Bt=_t>2?L[2]:n;for(Bt&&Go(L[0],L[1],Bt)&&(_t=1);++K<_t;)for(var Zt=L[K],ve=cs(Zt),Ie=-1,Be=ve.length;++Ie<Be;){var un=ve[Ie],cn=b[un];(cn===n||nu(cn,wf[un])&&!ti.call(b,un))&&(b[un]=Zt[un])}return b}),mz=Lr(function(b){return b.push(n,VC),Ta(CA,n,b)});function vz(b,L){return e_(b,or(L,3),ln)}function yz(b,L){return e_(b,or(L,3),hn)}function _z(b,L){return b==null?b:Ke(b,or(L,3),cs)}function xz(b,L){return b==null?b:Ze(b,or(L,3),cs)}function bz(b,L){return b&&ln(b,or(L,3))}function wz(b,L){return b&&hn(b,or(L,3))}function Tz(b){return b==null?[]:Ln(b,$a(b))}function Ez(b){return b==null?[]:Ln(b,cs(b))}function Fw(b,L,K){var _t=b==null?n:Pn(b,L);return _t===n?K:_t}function Mz(b,L){return b!=null&&WC(b,L,Nr)}function zw(b,L){return b!=null&&WC(b,L,pi)}var Sz=zC(function(b,L,K){L!=null&&typeof L.toString!="function"&&(L=Mp.call(L)),b[L]=K},Gw(fs)),Cz=zC(function(b,L,K){L!=null&&typeof L.toString!="function"&&(L=Mp.call(L)),ti.call(b,L)?b[L].push(K):b[L]=[K]},or),Az=Lr(Qn);function $a(b){return us(b)?P_(b):Oi(b)}function cs(b){return us(b)?P_(b,!0):uo(b)}function Iz(b,L){var K={};return L=or(L,3),ln(b,function(_t,Bt,Zt){vt(K,L(_t,Bt,Zt),_t)}),K}function Oz(b,L){var K={};return L=or(L,3),ln(b,function(_t,Bt,Zt){vt(K,Bt,L(_t,Bt,Zt))}),K}var Lz=kp(function(b,L,K){Fs(b,L,K)}),CA=kp(function(b,L,K,_t){Fs(b,L,K,_t)}),Pz=Ic(function(b,L){var K={};if(b==null)return K;var _t=!1;L=Yr(L,function(Zt){return Zt=Of(Zt,b),_t||(_t=Zt.length>1),Zt}),ku(b,Tw(b),K),_t&&(K=Ot(K,c|h|d,SD));for(var Bt=L.length;Bt--;)gw(K,L[Bt]);return K});function Rz(b,L){return AA(b,$_(or(L)))}var Nz=Ic(function(b,L){return b==null?{}:sD(b,L)});function AA(b,L){if(b==null)return{};var K=Yr(Tw(b),function(_t){return[_t]});return L=or(L),_C(b,K,function(_t,Bt){return L(_t,Bt[0])})}function kz(b,L,K){L=Of(L,b);var _t=-1,Bt=L.length;for(Bt||(Bt=1,b=n);++_t<Bt;){var Zt=b==null?n:b[Du(L[_t])];Zt===n&&(_t=Bt,Zt=K),b=Lc(Zt)?Zt.call(b):Zt}return b}function Dz(b,L,K){return b==null?b:lm(b,L,K)}function Fz(b,L,K,_t){return _t=typeof _t=="function"?_t:n,b==null?b:lm(b,L,K,_t)}var IA=jC($a),OA=jC(cs);function zz(b,L,K){var _t=br(b),Bt=_t||Pf(b)||zp(b);if(L=or(L,4),K==null){var Zt=b&&b.constructor;Bt?K=_t?new Zt:[]:Ki(b)?K=Lc(Zt)?Sc(Sp(b)):{}:K={}}return(Bt?da:ln)(b,function(ve,Ie,Be){return L(K,ve,Ie,Be)}),K}function Bz(b,L){return b==null?!0:gw(b,L)}function Gz(b,L,K){return b==null?b:EC(b,L,yw(K))}function jz(b,L,K,_t){return _t=typeof _t=="function"?_t:n,b==null?b:EC(b,L,yw(K),_t)}function Bp(b){return b==null?[]:Au(b,$a(b))}function Uz(b){return b==null?[]:Au(b,cs(b))}function Vz(b,L,K){return K===n&&(K=L,L=n),K!==n&&(K=vl(K),K=K===K?K:0),L!==n&&(L=vl(L),L=L===L?L:0),Ct(vl(b),L,K)}function Hz(b,L,K){return L=Pc(L),K===n?(K=L,L=0):K=Pc(K),b=vl(b),xn(b,L,K)}function Yz(b,L,K){if(K&&typeof K!="boolean"&&Go(b,L,K)&&(L=K=n),K===n&&(typeof L=="boolean"?(K=L,L=n):typeof b=="boolean"&&(K=b,b=n)),b===n&&L===n?(b=0,L=1):(b=Pc(b),L===n?(L=b,b=0):L=Pc(L)),b>L){var _t=b;b=L,L=_t}if(K||b%1||L%1){var Bt=em();return Fa(b+Bt*(L-b+Ai("1e-"+((Bt+"").length-1))),L)}return hw(b,L)}var Wz=Dp(function(b,L,K){return L=L.toLowerCase(),b+(K?LA(L):L)});function LA(b){return Bw(ui(b).toLowerCase())}function PA(b){return b=ui(b),b&&b.replace(ee,l_).replace(Ni,"")}function $z(b,L,K){b=ui(b),L=zs(L);var _t=b.length;K=K===n?_t:Ct(Mr(K),0,_t);var Bt=K;return K-=L.length,K>=0&&b.slice(K,Bt)==L}function qz(b){return b=ui(b),b&&Ht.test(b)?b.replace(Wt,j2):b}function Xz(b){return b=ui(b),b&&te.test(b)?b.replace(Rt,"\\$&"):b}var Kz=Dp(function(b,L,K){return b+(K?"-":"")+L.toLowerCase()}),Zz=Dp(function(b,L,K){return b+(K?" ":"")+L.toLowerCase()}),Jz=kC("toLowerCase");function Qz(b,L,K){b=ui(b),L=Mr(L);var _t=L?bf(b):0;if(!L||_t>=L)return b;var Bt=(L-_t)/2;return z_(Wh(Bt),K)+b+z_(Ip(Bt),K)}function tB(b,L,K){b=ui(b),L=Mr(L);var _t=L?bf(b):0;return L&&_t<L?b+z_(L-_t,K):b}function eB(b,L,K){b=ui(b),L=Mr(L);var _t=L?bf(b):0;return L&&_t<L?z_(L-_t,K)+b:b}function nB(b,L,K){return K||L==null?L=0:L&&(L=+L),__(ui(b).replace(ae,""),L||0)}function rB(b,L,K){return(K?Go(b,L,K):L===n)?L=1:L=Mr(L),dw(ui(b),L)}function iB(){var b=arguments,L=ui(b[0]);return b.length<3?L:L.replace(b[1],b[2])}var aB=Dp(function(b,L,K){return b+(K?"_":"")+L.toLowerCase()});function oB(b,L,K){return K&&typeof K!="number"&&Go(b,L,K)&&(L=K=n),K=K===n?et:K>>>0,K?(b=ui(b),b&&(typeof L=="string"||L!=null&&!Dw(L))&&(L=zs(L),!L&&xf(b))?Lf(Ns(b),0,K):b.split(L,K)):[]}var sB=Dp(function(b,L,K){return b+(K?" ":"")+Bw(L)});function lB(b,L,K){return b=ui(b),K=K==null?0:Ct(Mr(K),0,b.length),L=zs(L),b.slice(K,K+L.length)==L}function uB(b,L,K){var _t=$t.templateSettings;K&&Go(b,L,K)&&(L=n),b=ui(b),L=K_({},L,_t,UC);var Bt=K_({},L.imports,_t.imports,UC),Zt=$a(Bt),ve=Au(Bt,Zt),Ie,Be,un=0,cn=L.interpolate||re,gn="__p += '",Nn=Gh((L.escape||re).source+"|"+cn.source+"|"+(cn===pe?Me:re).source+"|"+(L.evaluate||re).source+"|$","g"),$n="//# sourceURL="+(ti.call(L,"sourceURL")?(L.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++mr+"]")+`
`;b.replace(Nn,function(ur,Dr,Ur,Gs,jo,js){return Ur||(Ur=Gs),gn+=b.slice(un,js).replace(fe,U2),Dr&&(Ie=!0,gn+=`' +
__e(`+Dr+`) +
'`),jo&&(Be=!0,gn+=`';
`+jo+`;
__p += '`),Ur&&(gn+=`' +
((__t = (`+Ur+`)) == null ? '' : __t) +
'`),un=js+ur.length,ur}),gn+=`';
`;var lr=ti.call(L,"variable")&&L.variable;if(!lr)gn=`with (obj) {
`+gn+`
}
`;else if(Ae.test(lr))throw new vr(o);gn=(Be?gn.replace(Ft,""):gn).replace(Lt,"$1").replace(Dt,"$1;"),gn="function("+(lr||"obj")+`) {
`+(lr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ie?", __e = _.escape":"")+(Be?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+gn+`return __p
}`;var Ar=NA(function(){return Wr(Zt,$n+"return "+gn).apply(n,ve)});if(Ar.source=gn,kw(Ar))throw Ar;return Ar}function cB(b){return ui(b).toLowerCase()}function fB(b){return ui(b).toUpperCase()}function hB(b,L,K){if(b=ui(b),b&&(K||L===n))return q0(b);if(!b||!(L=zs(L)))return b;var _t=Ns(b),Bt=Ns(L),Zt=o_(_t,Bt),ve=s_(_t,Bt)+1;return Lf(_t,Zt,ve).join("")}function dB(b,L,K){if(b=ui(b),b&&(K||L===n))return b.slice(0,K0(b)+1);if(!b||!(L=zs(L)))return b;var _t=Ns(b),Bt=s_(_t,Ns(L))+1;return Lf(_t,0,Bt).join("")}function pB(b,L,K){if(b=ui(b),b&&(K||L===n))return b.replace(ae,"");if(!b||!(L=zs(L)))return b;var _t=Ns(b),Bt=o_(_t,Ns(L));return Lf(_t,Bt).join("")}function gB(b,L){var K=A,_t=O;if(Ki(L)){var Bt="separator"in L?L.separator:Bt;K="length"in L?Mr(L.length):K,_t="omission"in L?zs(L.omission):_t}b=ui(b);var Zt=b.length;if(xf(b)){var ve=Ns(b);Zt=ve.length}if(K>=Zt)return b;var Ie=K-bf(_t);if(Ie<1)return _t;var Be=ve?Lf(ve,0,Ie).join(""):b.slice(0,Ie);if(Bt===n)return Be+_t;if(ve&&(Ie+=Be.length-Ie),Dw(Bt)){if(b.slice(Ie).search(Bt)){var un,cn=Be;for(Bt.global||(Bt=Gh(Bt.source,ui(ct.exec(Bt))+"g")),Bt.lastIndex=0;un=Bt.exec(cn);)var gn=un.index;Be=Be.slice(0,gn===n?Ie:gn)}}else if(b.indexOf(zs(Bt),Ie)!=Ie){var Nn=Be.lastIndexOf(Bt);Nn>-1&&(Be=Be.slice(0,Nn))}return Be+_t}function mB(b){return b=ui(b),b&&Qt.test(b)?b.replace(kt,$2):b}var vB=Dp(function(b,L,K){return b+(K?" ":"")+L.toUpperCase()}),Bw=kC("toUpperCase");function RA(b,L,K){return b=ui(b),L=K?n:L,L===n?u_(b)?K2(b):F2(b):b.match(L)||[]}var NA=Lr(function(b,L){try{return Ta(b,n,L)}catch(K){return kw(K)?K:new vr(K)}}),yB=Ic(function(b,L){return da(L,function(K){K=Du(K),vt(b,K,Rw(b[K],b))}),b});function _B(b){var L=b==null?0:b.length,K=or();return b=L?Yr(b,function(_t){if(typeof _t[1]!="function")throw new Do(s);return[K(_t[0]),_t[1]]}):[],Lr(function(_t){for(var Bt=-1;++Bt<L;){var Zt=b[Bt];if(Ta(Zt[0],this,_t))return Ta(Zt[1],this,_t)}})}function xB(b){return Yt(Ot(b,c))}function Gw(b){return function(){return b}}function bB(b,L){return b==null||b!==b?L:b}var wB=FC(),TB=FC(!0);function fs(b){return b}function jw(b){return aa(typeof b=="function"?b:Ot(b,c))}function EB(b){return Bo(Ot(b,c))}function MB(b,L){return pl(b,Ot(L,c))}var SB=Lr(function(b,L){return function(K){return Qn(K,b,L)}}),CB=Lr(function(b,L){return function(K){return Qn(b,K,L)}});function Uw(b,L,K){var _t=$a(L),Bt=Ln(L,_t);K==null&&!(Ki(L)&&(Bt.length||!_t.length))&&(K=L,L=b,b=this,Bt=Ln(L,$a(L)));var Zt=!(Ki(K)&&"chain"in K)||!!K.chain,ve=Lc(b);return da(Bt,function(Ie){var Be=L[Ie];b[Ie]=Be,ve&&(b.prototype[Ie]=function(){var un=this.__chain__;if(Zt||un){var cn=b(this.__wrapped__),gn=cn.__actions__=ls(this.__actions__);return gn.push({func:Be,args:arguments,thisArg:b}),cn.__chain__=un,cn}return Be.apply(b,Zl([this.value()],arguments))})}),b}function AB(){return jr._===this&&(jr._=h_),this}function Vw(){}function IB(b){return b=Mr(b),Lr(function(L){return sm(L,b)})}var OB=xw(Yr),LB=xw(Qy),PB=xw(Jl);function kA(b){return Cw(b)?W0(Du(b)):lD(b)}function RB(b){return function(L){return b==null?n:Pn(b,L)}}var NB=BC(),kB=BC(!0);function Hw(){return[]}function Yw(){return!1}function DB(){return{}}function FB(){return""}function zB(){return!0}function BB(b,L){if(b=Mr(b),b<1||b>B)return[];var K=et,_t=Fa(b,et);L=or(L),b-=et;for(var Bt=Tp(_t,L);++K<b;)L(K);return Bt}function GB(b){return br(b)?Yr(b,Du):Bs(b)?[b]:ls(eA(ui(b)))}function jB(b){var L=++Z0;return ui(b)+L}var UB=F_(function(b,L){return b+L},0),VB=bw("ceil"),HB=F_(function(b,L){return b/L},1),YB=bw("floor");function WB(b){return b&&b.length?le(b,fs,sr):n}function $B(b,L){return b&&b.length?le(b,or(L,2),sr):n}function qB(b){return r_(b,fs)}function XB(b,L){return r_(b,or(L,2))}function KB(b){return b&&b.length?le(b,fs,Ba):n}function ZB(b,L){return b&&b.length?le(b,or(L,2),Ba):n}var JB=F_(function(b,L){return b*L},1),QB=bw("round"),tG=F_(function(b,L){return b-L},0);function eG(b){return b&&b.length?wp(b,fs):0}function nG(b,L){return b&&b.length?wp(b,or(L,2)):0}return $t.after=EF,$t.ary=hA,$t.assign=fz,$t.assignIn=SA,$t.assignInWith=K_,$t.assignWith=hz,$t.at=dz,$t.before=dA,$t.bind=Rw,$t.bindAll=yB,$t.bindKey=pA,$t.castArray=DF,$t.chain=uA,$t.chunk=YD,$t.compact=WD,$t.concat=$D,$t.cond=_B,$t.conforms=xB,$t.constant=Gw,$t.countBy=eF,$t.create=pz,$t.curry=gA,$t.curryRight=mA,$t.debounce=vA,$t.defaults=gz,$t.defaultsDeep=mz,$t.defer=MF,$t.delay=SF,$t.difference=qD,$t.differenceBy=XD,$t.differenceWith=KD,$t.drop=ZD,$t.dropRight=JD,$t.dropRightWhile=QD,$t.dropWhile=t9,$t.fill=e9,$t.filter=rF,$t.flatMap=oF,$t.flatMapDeep=sF,$t.flatMapDepth=lF,$t.flatten=aA,$t.flattenDeep=n9,$t.flattenDepth=r9,$t.flip=CF,$t.flow=wB,$t.flowRight=TB,$t.fromPairs=i9,$t.functions=Tz,$t.functionsIn=Ez,$t.groupBy=uF,$t.initial=o9,$t.intersection=s9,$t.intersectionBy=l9,$t.intersectionWith=u9,$t.invert=Sz,$t.invertBy=Cz,$t.invokeMap=fF,$t.iteratee=jw,$t.keyBy=hF,$t.keys=$a,$t.keysIn=cs,$t.map=H_,$t.mapKeys=Iz,$t.mapValues=Oz,$t.matches=EB,$t.matchesProperty=MB,$t.memoize=W_,$t.merge=Lz,$t.mergeWith=CA,$t.method=SB,$t.methodOf=CB,$t.mixin=Uw,$t.negate=$_,$t.nthArg=IB,$t.omit=Pz,$t.omitBy=Rz,$t.once=AF,$t.orderBy=dF,$t.over=OB,$t.overArgs=IF,$t.overEvery=LB,$t.overSome=PB,$t.partial=Nw,$t.partialRight=yA,$t.partition=pF,$t.pick=Nz,$t.pickBy=AA,$t.property=kA,$t.propertyOf=RB,$t.pull=d9,$t.pullAll=sA,$t.pullAllBy=p9,$t.pullAllWith=g9,$t.pullAt=m9,$t.range=NB,$t.rangeRight=kB,$t.rearg=OF,$t.reject=vF,$t.remove=v9,$t.rest=LF,$t.reverse=Lw,$t.sampleSize=_F,$t.set=Dz,$t.setWith=Fz,$t.shuffle=xF,$t.slice=y9,$t.sortBy=TF,$t.sortedUniq=M9,$t.sortedUniqBy=S9,$t.split=oB,$t.spread=PF,$t.tail=C9,$t.take=A9,$t.takeRight=I9,$t.takeRightWhile=O9,$t.takeWhile=L9,$t.tap=W9,$t.throttle=RF,$t.thru=V_,$t.toArray=TA,$t.toPairs=IA,$t.toPairsIn=OA,$t.toPath=GB,$t.toPlainObject=MA,$t.transform=zz,$t.unary=NF,$t.union=P9,$t.unionBy=R9,$t.unionWith=N9,$t.uniq=k9,$t.uniqBy=D9,$t.uniqWith=F9,$t.unset=Bz,$t.unzip=Pw,$t.unzipWith=lA,$t.update=Gz,$t.updateWith=jz,$t.values=Bp,$t.valuesIn=Uz,$t.without=z9,$t.words=RA,$t.wrap=kF,$t.xor=B9,$t.xorBy=G9,$t.xorWith=j9,$t.zip=U9,$t.zipObject=V9,$t.zipObjectDeep=H9,$t.zipWith=Y9,$t.entries=IA,$t.entriesIn=OA,$t.extend=SA,$t.extendWith=K_,Uw($t,$t),$t.add=UB,$t.attempt=NA,$t.camelCase=Wz,$t.capitalize=LA,$t.ceil=VB,$t.clamp=Vz,$t.clone=FF,$t.cloneDeep=BF,$t.cloneDeepWith=GF,$t.cloneWith=zF,$t.conformsTo=jF,$t.deburr=PA,$t.defaultTo=bB,$t.divide=HB,$t.endsWith=$z,$t.eq=nu,$t.escape=qz,$t.escapeRegExp=Xz,$t.every=nF,$t.find=iF,$t.findIndex=rA,$t.findKey=vz,$t.findLast=aF,$t.findLastIndex=iA,$t.findLastKey=yz,$t.floor=YB,$t.forEach=cA,$t.forEachRight=fA,$t.forIn=_z,$t.forInRight=xz,$t.forOwn=bz,$t.forOwnRight=wz,$t.get=Fw,$t.gt=UF,$t.gte=VF,$t.has=Mz,$t.hasIn=zw,$t.head=oA,$t.identity=fs,$t.includes=cF,$t.indexOf=a9,$t.inRange=Hz,$t.invoke=Az,$t.isArguments=Qh,$t.isArray=br,$t.isArrayBuffer=HF,$t.isArrayLike=us,$t.isArrayLikeObject=ma,$t.isBoolean=YF,$t.isBuffer=Pf,$t.isDate=WF,$t.isElement=$F,$t.isEmpty=qF,$t.isEqual=XF,$t.isEqualWith=KF,$t.isError=kw,$t.isFinite=ZF,$t.isFunction=Lc,$t.isInteger=_A,$t.isLength=q_,$t.isMap=xA,$t.isMatch=JF,$t.isMatchWith=QF,$t.isNaN=tz,$t.isNative=ez,$t.isNil=rz,$t.isNull=nz,$t.isNumber=bA,$t.isObject=Ki,$t.isObjectLike=oa,$t.isPlainObject=hm,$t.isRegExp=Dw,$t.isSafeInteger=iz,$t.isSet=wA,$t.isString=X_,$t.isSymbol=Bs,$t.isTypedArray=zp,$t.isUndefined=az,$t.isWeakMap=oz,$t.isWeakSet=sz,$t.join=c9,$t.kebabCase=Kz,$t.last=ml,$t.lastIndexOf=f9,$t.lowerCase=Zz,$t.lowerFirst=Jz,$t.lt=lz,$t.lte=uz,$t.max=WB,$t.maxBy=$B,$t.mean=qB,$t.meanBy=XB,$t.min=KB,$t.minBy=ZB,$t.stubArray=Hw,$t.stubFalse=Yw,$t.stubObject=DB,$t.stubString=FB,$t.stubTrue=zB,$t.multiply=JB,$t.nth=h9,$t.noConflict=AB,$t.noop=Vw,$t.now=Y_,$t.pad=Qz,$t.padEnd=tB,$t.padStart=eB,$t.parseInt=nB,$t.random=Yz,$t.reduce=gF,$t.reduceRight=mF,$t.repeat=rB,$t.replace=iB,$t.result=kz,$t.round=QB,$t.runInContext=ke,$t.sample=yF,$t.size=bF,$t.snakeCase=aB,$t.some=wF,$t.sortedIndex=_9,$t.sortedIndexBy=x9,$t.sortedIndexOf=b9,$t.sortedLastIndex=w9,$t.sortedLastIndexBy=T9,$t.sortedLastIndexOf=E9,$t.startCase=sB,$t.startsWith=lB,$t.subtract=tG,$t.sum=eG,$t.sumBy=nG,$t.template=uB,$t.times=BB,$t.toFinite=Pc,$t.toInteger=Mr,$t.toLength=EA,$t.toLower=cB,$t.toNumber=vl,$t.toSafeInteger=cz,$t.toString=ui,$t.toUpper=fB,$t.trim=hB,$t.trimEnd=dB,$t.trimStart=pB,$t.truncate=gB,$t.unescape=mB,$t.uniqueId=jB,$t.upperCase=vB,$t.upperFirst=Bw,$t.each=cA,$t.eachRight=fA,$t.first=oA,Uw($t,function(){var b={};return ln($t,function(L,K){ti.call($t.prototype,K)||(b[K]=L)}),b}(),{chain:!1}),$t.VERSION=r,da(["bind","bindKey","curry","curryRight","partial","partialRight"],function(b){$t[b].placeholder=$t}),da(["drop","take"],function(b,L){Or.prototype[b]=function(K){K=K===n?1:ga(Mr(K),0);var _t=this.__filtered__&&!L?new Or(this):this.clone();return _t.__filtered__?_t.__takeCount__=Fa(K,_t.__takeCount__):_t.__views__.push({size:Fa(K,et),type:b+(_t.__dir__<0?"Right":"")}),_t},Or.prototype[b+"Right"]=function(K){return this.reverse()[b](K).reverse()}}),da(["filter","map","takeWhile"],function(b,L){var K=L+1,_t=K==R||K==D;Or.prototype[b]=function(Bt){var Zt=this.clone();return Zt.__iteratees__.push({iteratee:or(Bt,3),type:K}),Zt.__filtered__=Zt.__filtered__||_t,Zt}}),da(["head","last"],function(b,L){var K="take"+(L?"Right":"");Or.prototype[b]=function(){return this[K](1).value()[0]}}),da(["initial","tail"],function(b,L){var K="drop"+(L?"":"Right");Or.prototype[b]=function(){return this.__filtered__?new Or(this):this[K](1)}}),Or.prototype.compact=function(){return this.filter(fs)},Or.prototype.find=function(b){return this.filter(b).head()},Or.prototype.findLast=function(b){return this.reverse().find(b)},Or.prototype.invokeMap=Lr(function(b,L){return typeof b=="function"?new Or(this):this.map(function(K){return Qn(K,b,L)})}),Or.prototype.reject=function(b){return this.filter($_(or(b)))},Or.prototype.slice=function(b,L){b=Mr(b);var K=this;return K.__filtered__&&(b>0||L<0)?new Or(K):(b<0?K=K.takeRight(-b):b&&(K=K.drop(b)),L!==n&&(L=Mr(L),K=L<0?K.dropRight(-L):K.take(L-b)),K)},Or.prototype.takeRightWhile=function(b){return this.reverse().takeWhile(b).reverse()},Or.prototype.toArray=function(){return this.take(et)},ln(Or.prototype,function(b,L){var K=/^(?:filter|find|map|reject)|While$/.test(L),_t=/^(?:head|last)$/.test(L),Bt=$t[_t?"take"+(L=="last"?"Right":""):L],Zt=_t||/^find/.test(L);Bt&&($t.prototype[L]=function(){var ve=this.__wrapped__,Ie=_t?[1]:arguments,Be=ve instanceof Or,un=Ie[0],cn=Be||br(ve),gn=function(Dr){var Ur=Bt.apply($t,Zl([Dr],Ie));return _t&&Nn?Ur[0]:Ur};cn&&K&&typeof un=="function"&&un.length!=1&&(Be=cn=!1);var Nn=this.__chain__,$n=!!this.__actions__.length,lr=Zt&&!Nn,Ar=Be&&!$n;if(!Zt&&cn){ve=Ar?ve:new Or(this);var ur=b.apply(ve,Ie);return ur.__actions__.push({func:V_,args:[gn],thisArg:n}),new Fo(ur,Nn)}return lr&&Ar?b.apply(this,Ie):(ur=this.thru(gn),lr?_t?ur.value()[0]:ur.value():ur)})}),da(["pop","push","shift","sort","splice","unshift"],function(b){var L=jh[b],K=/^(?:push|sort|unshift)$/.test(b)?"tap":"thru",_t=/^(?:pop|shift)$/.test(b);$t.prototype[b]=function(){var Bt=arguments;if(_t&&!this.__chain__){var Zt=this.value();return L.apply(br(Zt)?Zt:[],Bt)}return this[K](function(ve){return L.apply(br(ve)?ve:[],Bt)})}}),ln(Or.prototype,function(b,L){var K=$t[L];if(K){var _t=K.name+"";ti.call(tu,_t)||(tu[_t]=[]),tu[_t].push({name:L,func:K})}}),tu[D_(n,v).name]=[{name:"wrapper",func:n}],Or.prototype.clone=Pu,Or.prototype.reverse=im,Or.prototype.value=am,$t.prototype.at=$9,$t.prototype.chain=q9,$t.prototype.commit=X9,$t.prototype.next=K9,$t.prototype.plant=J9,$t.prototype.reverse=Q9,$t.prototype.toJSON=$t.prototype.valueOf=$t.prototype.value=tF,$t.prototype.first=$t.prototype.head,Ef&&($t.prototype[Ef]=Z9),$t},Ou=Z2();Hn?((Hn.exports=Ou)._=Ou,ra._=Ou):jr._=Ou}).call(Tm)})(cb,cb.exports);var Bpt=cb.exports,Vo=63710088e-1,pk={centimeters:Vo*100,centimetres:Vo*100,degrees:Vo/111325,feet:Vo*3.28084,inches:Vo*39.37,kilometers:Vo/1e3,kilometres:Vo/1e3,meters:Vo,metres:Vo,miles:Vo/1609.344,millimeters:Vo*1e3,millimetres:Vo*1e3,nauticalmiles:Vo/1852,radians:1,yards:Vo*1.0936};function gk(e,t,n){n===void 0&&(n={});var r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function Edt(e,t,n){if(n===void 0&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!iP(e[0])||!iP(e[1]))throw new Error("coordinates must contain numbers");var r={type:"Point",coordinates:e};return gk(r,t,n)}function ME(e,t){t===void 0&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function Mdt(e,t){t===void 0&&(t="kilometers");var n=pk[t];if(!n)throw new Error(t+" units is invalid");return e*n}function Sdt(e,t){t===void 0&&(t="kilometers");var n=pk[t];if(!n)throw new Error(t+" units is invalid");return e/n}function iP(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function mk(e,t,n){if(e!==null)for(var r,i,a,s,o,l,f,u=0,c=0,h,d=e.type,p=d==="FeatureCollection",g=d==="Feature",m=p?e.features.length:1,v=0;v<m;v++){f=p?e.features[v].geometry:g?e.geometry:e,h=f?f.type==="GeometryCollection":!1,o=h?f.geometries.length:1;for(var y=0;y<o;y++){var _=0,x=0;if(s=h?f.geometries[y]:f,s!==null){l=s.coordinates;var w=s.type;switch(u=n&&(w==="Polygon"||w==="MultiPolygon")?1:0,w){case null:break;case"Point":if(t(l,c,v,_,x)===!1)return!1;c++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<l.length;r++){if(t(l[r],c,v,_,x)===!1)return!1;c++,w==="MultiPoint"&&_++}w==="LineString"&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<l.length;r++){for(i=0;i<l[r].length-u;i++){if(t(l[r][i],c,v,_,x)===!1)return!1;c++}w==="MultiLineString"&&_++,w==="Polygon"&&x++}w==="Polygon"&&_++;break;case"MultiPolygon":for(r=0;r<l.length;r++){for(x=0,i=0;i<l[r].length;i++){for(a=0;a<l[r][i].length-u;a++){if(t(l[r][i][a],c,v,_,x)===!1)return!1;c++}x++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(mk(s.geometries[r],t,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function aP(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var n=0;n<e.features.length&&t(e.features[n],n)!==!1;n++);}function vk(e,t){var n,r,i,a,s,o,l,f,u,c,h=0,d=e.type==="FeatureCollection",p=e.type==="Feature",g=d?e.features.length:1;for(n=0;n<g;n++){for(o=d?e.features[n].geometry:p?e.geometry:e,f=d?e.features[n].properties:p?e.properties:{},u=d?e.features[n].bbox:p?e.bbox:void 0,c=d?e.features[n].id:p?e.id:void 0,l=o?o.type==="GeometryCollection":!1,s=l?o.geometries.length:1,i=0;i<s;i++){if(a=l?o.geometries[i]:o,a===null){if(t(null,h,f,u,c)===!1)return!1;continue}switch(a.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(a,h,f,u,c)===!1)return!1;break}case"GeometryCollection":{for(r=0;r<a.geometries.length;r++)if(t(a.geometries[r],h,f,u,c)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}h++}}function SE(e){var t=[1/0,1/0,-1/0,-1/0];return mk(e,function(n){t[0]>n[0]&&(t[0]=n[0]),t[1]>n[1]&&(t[1]=n[1]),t[2]<n[0]&&(t[2]=n[0]),t[3]<n[1]&&(t[3]=n[1])}),t}SE.default=SE;function Cdt(e,t){t===void 0&&(t={});var n=SE(e),r=(n[0]+n[2])/2,i=(n[1]+n[3])/2;return Edt([r,i],t.properties,t)}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(this===void 0||this===null)throw new TypeError(this+" is not an object");var n=Object(this),r=Math.max(Math.min(n.length,9007199254740991),0)||0,i=1 in arguments&&parseInt(Number(arguments[1]),10)||0;i=i<0?Math.max(r+i,0):Math.min(i,r);var a=2 in arguments&&arguments[2]!==void 0?parseInt(Number(arguments[2]),10)||0:r;for(a=a<0?Math.max(r+arguments[2],0):Math.min(a,r);i<a;)n[i]=t,++i;return n},writable:!0});Number.isFinite=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)};Number.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};Number.parseFloat=Number.parseFloat||parseFloat;Number.isNaN=Number.isNaN||function(e){return e!==e};Math.trunc=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};var Hd=function(){};Hd.prototype.interfaces_=function(){return[]};Hd.prototype.getClass=function(){return Hd};Hd.prototype.equalsWithTolerance=function(t,n,r){return Math.abs(t-n)<=r};var Ti=function(e){function t(n){e.call(this,n),this.name="IllegalArgumentException",this.message=n,this.stack=new e().stack}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),ir=function(){},yk={MAX_VALUE:{configurable:!0}};ir.isNaN=function(t){return Number.isNaN(t)};ir.doubleToLongBits=function(t){return t};ir.longBitsToDouble=function(t){return t};ir.isInfinite=function(t){return!Number.isFinite(t)};yk.MAX_VALUE.get=function(){return Number.MAX_VALUE};Object.defineProperties(ir,yk);var Ls=function(){},M2=function(){},o0=function(){};function Ps(){}var De=function e(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)this.x=0,this.y=0,this.z=e.NULL_ORDINATE;else if(arguments.length===1){var t=arguments[0];this.x=t.x,this.y=t.y,this.z=t.z}else arguments.length===2?(this.x=arguments[0],this.y=arguments[1],this.z=e.NULL_ORDINATE):arguments.length===3&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},dp={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};De.prototype.setOrdinate=function(t,n){switch(t){case De.X:this.x=n;break;case De.Y:this.y=n;break;case De.Z:this.z=n;break;default:throw new Ti("Invalid ordinate index: "+t)}};De.prototype.equals2D=function(){if(arguments.length===1){var t=arguments[0];return!(this.x!==t.x||this.y!==t.y)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return!(!Hd.equalsWithTolerance(this.x,n.x,r)||!Hd.equalsWithTolerance(this.y,n.y,r))}};De.prototype.getOrdinate=function(t){switch(t){case De.X:return this.x;case De.Y:return this.y;case De.Z:return this.z}throw new Ti("Invalid ordinate index: "+t)};De.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||ir.isNaN(this.z))&&ir.isNaN(t.z)};De.prototype.equals=function(t){return t instanceof De?this.equals2D(t):!1};De.prototype.equalInZ=function(t,n){return Hd.equalsWithTolerance(this.z,t.z,n)};De.prototype.compareTo=function(t){var n=t;return this.x<n.x?-1:this.x>n.x?1:this.y<n.y?-1:this.y>n.y?1:0};De.prototype.clone=function(){};De.prototype.copy=function(){return new De(this)};De.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"};De.prototype.distance3D=function(t){var n=this.x-t.x,r=this.y-t.y,i=this.z-t.z;return Math.sqrt(n*n+r*r+i*i)};De.prototype.distance=function(t){var n=this.x-t.x,r=this.y-t.y;return Math.sqrt(n*n+r*r)};De.prototype.hashCode=function(){var t=17;return t=37*t+De.hashCode(this.x),t=37*t+De.hashCode(this.y),t};De.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z};De.prototype.interfaces_=function(){return[Ls,M2,Ps]};De.prototype.getClass=function(){return De};De.hashCode=function(){if(arguments.length===1){var t=arguments[0],n=ir.doubleToLongBits(t);return Math.trunc((n^n)>>>32)}};dp.DimensionalComparator.get=function(){return Vc};dp.serialVersionUID.get=function(){return 6683108902428367e3};dp.NULL_ORDINATE.get=function(){return ir.NaN};dp.X.get=function(){return 0};dp.Y.get=function(){return 1};dp.Z.get=function(){return 2};Object.defineProperties(De,dp);var Vc=function(t){if(this._dimensionsToTest=2,arguments.length!==0){if(arguments.length===1){var n=arguments[0];if(n!==2&&n!==3)throw new Ti("only 2 or 3 dimensions may be specified");this._dimensionsToTest=n}}};Vc.prototype.compare=function(t,n){var r=t,i=n,a=Vc.compare(r.x,i.x);if(a!==0)return a;var s=Vc.compare(r.y,i.y);if(s!==0)return s;if(this._dimensionsToTest<=2)return 0;var o=Vc.compare(r.z,i.z);return o};Vc.prototype.interfaces_=function(){return[o0]};Vc.prototype.getClass=function(){return Vc};Vc.compare=function(t,n){return t<n?-1:t>n?1:ir.isNaN(t)?ir.isNaN(n)?0:-1:ir.isNaN(n)?1:0};var s0=function(){};s0.prototype.create=function(){};s0.prototype.interfaces_=function(){return[]};s0.prototype.getClass=function(){return s0};var Ve=function(){},Wy={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};Ve.prototype.interfaces_=function(){return[]};Ve.prototype.getClass=function(){return Ve};Ve.toLocationSymbol=function(t){switch(t){case Ve.EXTERIOR:return"e";case Ve.BOUNDARY:return"b";case Ve.INTERIOR:return"i";case Ve.NONE:return"-"}throw new Ti("Unknown location value: "+t)};Wy.INTERIOR.get=function(){return 0};Wy.BOUNDARY.get=function(){return 1};Wy.EXTERIOR.get=function(){return 2};Wy.NONE.get=function(){return-1};Object.defineProperties(Ve,Wy);var Jn=function(e,t){return e.interfaces_&&e.interfaces_().indexOf(t)>-1},Jo=function(){},_k={LOG_10:{configurable:!0}};Jo.prototype.interfaces_=function(){return[]};Jo.prototype.getClass=function(){return Jo};Jo.log10=function(t){var n=Math.log(t);return ir.isInfinite(n)||ir.isNaN(n)?n:n/Jo.LOG_10};Jo.min=function(t,n,r,i){var a=t;return n<a&&(a=n),r<a&&(a=r),i<a&&(a=i),a};Jo.clamp=function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],n=arguments[1],r=arguments[2];return t<n?n:t>r?r:t}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],a=arguments[1],s=arguments[2];return i<a?a:i>s?s:i}};Jo.wrap=function(t,n){return t<0?n- -t%n:t%n};Jo.max=function(){if(arguments.length===3){var t=arguments[0],n=arguments[1],r=arguments[2],i=t;return n>i&&(i=n),r>i&&(i=r),i}else if(arguments.length===4){var a=arguments[0],s=arguments[1],o=arguments[2],l=arguments[3],f=a;return s>f&&(f=s),o>f&&(f=o),l>f&&(f=l),f}};Jo.average=function(t,n){return(t+n)/2};_k.LOG_10.get=function(){return Math.log(10)};Object.defineProperties(Jo,_k);var ql=function(t){this.str=t};ql.prototype.append=function(t){this.str+=t};ql.prototype.setCharAt=function(t,n){this.str=this.str.substr(0,t)+n+this.str.substr(t+1)};ql.prototype.toString=function(t){return this.str};var Fl=function(t){this.value=t};Fl.prototype.intValue=function(){return this.value};Fl.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0};Fl.isNaN=function(t){return Number.isNaN(t)};var ny=function(){};ny.isWhitespace=function(t){return t<=32&&t>=0||t===127};ny.toUpperCase=function(t){return t.toUpperCase()};var Qe=function e(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}else if(typeof arguments[0]=="string"){var r=arguments[0];e.call(this,e.parse(r))}}else if(arguments.length===2){var i=arguments[0],a=arguments[1];this.init(i,a)}},ul={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};Qe.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo};Qe.prototype.extractSignificantDigits=function(t,n){var r=this.abs(),i=Qe.magnitude(r._hi),a=Qe.TEN.pow(i);r=r.divide(a),r.gt(Qe.TEN)?(r=r.divide(Qe.TEN),i+=1):r.lt(Qe.ONE)&&(r=r.multiply(Qe.TEN),i-=1);for(var s=i+1,o=new ql,l=Qe.MAX_PRINT_DIGITS-1,f=0;f<=l;f++){t&&f===s&&o.append(".");var u=Math.trunc(r._hi);if(u<0)break;var c=!1,h=0;u>9?(c=!0,h="9"):h="0"+u,o.append(h),r=r.subtract(Qe.valueOf(u)).multiply(Qe.TEN),c&&r.selfAdd(Qe.TEN);var d=!0,p=Qe.magnitude(r._hi);if(p<0&&Math.abs(p)>=l-f&&(d=!1),!d)break}return n[0]=i,o.toString()};Qe.prototype.sqr=function(){return this.multiply(this)};Qe.prototype.doubleValue=function(){return this._hi+this._lo};Qe.prototype.subtract=function(){if(arguments[0]instanceof Qe){var t=arguments[0];return this.add(t.negate())}else if(typeof arguments[0]=="number"){var n=arguments[0];return this.add(-n)}};Qe.prototype.equals=function(){if(arguments.length===1){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}};Qe.prototype.isZero=function(){return this._hi===0&&this._lo===0};Qe.prototype.selfSubtract=function(){if(arguments[0]instanceof Qe){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}else if(typeof arguments[0]=="number"){var n=arguments[0];return this.isNaN()?this:this.selfAdd(-n,0)}};Qe.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null};Qe.prototype.min=function(t){return this.le(t)?this:t};Qe.prototype.selfDivide=function(){if(arguments.length===1){if(arguments[0]instanceof Qe){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}else if(typeof arguments[0]=="number"){var n=arguments[0];return this.selfDivide(n,0)}}else if(arguments.length===2){var r=arguments[0],i=arguments[1],a=null,s=null,o=null,l=null,f=null,u=null,c=null,h=null;return f=this._hi/r,u=Qe.SPLIT*f,a=u-f,h=Qe.SPLIT*r,a=u-a,s=f-a,o=h-r,c=f*r,o=h-o,l=r-o,h=a*o-c+a*l+s*o+s*l,u=(this._hi-c-h+this._lo-f*i)/r,h=f+u,this._hi=h,this._lo=f-h+u,this}};Qe.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"};Qe.prototype.divide=function(){if(arguments[0]instanceof Qe){var t=arguments[0],n=null,r=null,i=null,a=null,s=null,o=null,l=null,f=null;s=this._hi/t._hi,o=Qe.SPLIT*s,n=o-s,f=Qe.SPLIT*t._hi,n=o-n,r=s-n,i=f-t._hi,l=s*t._hi,i=f-i,a=t._hi-i,f=n*i-l+n*a+r*i+r*a,o=(this._hi-l-f+this._lo-s*t._lo)/t._hi,f=s+o;var u=f,c=s-f+o;return new Qe(u,c)}else if(typeof arguments[0]=="number"){var h=arguments[0];return ir.isNaN(h)?Qe.createNaN():Qe.copy(this).selfDivide(h,0)}};Qe.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo};Qe.prototype.pow=function(t){if(t===0)return Qe.valueOf(1);var n=new Qe(this),r=Qe.valueOf(1),i=Math.abs(t);if(i>1)for(;i>0;)i%2===1&&r.selfMultiply(n),i/=2,i>0&&(n=n.sqr());else r=n;return t<0?r.reciprocal():r};Qe.prototype.ceil=function(){if(this.isNaN())return Qe.NaN;var t=Math.ceil(this._hi),n=0;return t===this._hi&&(n=Math.ceil(this._lo)),new Qe(t,n)};Qe.prototype.compareTo=function(t){var n=t;return this._hi<n._hi?-1:this._hi>n._hi?1:this._lo<n._lo?-1:this._lo>n._lo?1:0};Qe.prototype.rint=function(){if(this.isNaN())return this;var t=this.add(.5);return t.floor()};Qe.prototype.setValue=function(){if(arguments[0]instanceof Qe){var t=arguments[0];return this.init(t),this}else if(typeof arguments[0]=="number"){var n=arguments[0];return this.init(n),this}};Qe.prototype.max=function(t){return this.ge(t)?this:t};Qe.prototype.sqrt=function(){if(this.isZero())return Qe.valueOf(0);if(this.isNegative())return Qe.NaN;var t=1/Math.sqrt(this._hi),n=this._hi*t,r=Qe.valueOf(n),i=this.subtract(r.sqr()),a=i._hi*(t*.5);return r.add(a)};Qe.prototype.selfAdd=function(){if(arguments.length===1){if(arguments[0]instanceof Qe){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}else if(typeof arguments[0]=="number"){var n=arguments[0],r=null,i=null,a=null,s=null,o=null,l=null;return a=this._hi+n,o=a-this._hi,s=a-o,s=n-o+(this._hi-s),l=s+this._lo,r=a+l,i=l+(a-r),this._hi=r+i,this._lo=i+(r-this._hi),this}}else if(arguments.length===2){var f=arguments[0],u=arguments[1],c=null,h=null,d=null,p=null,g=null,m=null,v=null,y=null;g=this._hi+f,d=this._lo+u,v=g-this._hi,y=d-this._lo,m=g-v,p=d-y,m=f-v+(this._hi-m),p=u-y+(this._lo-p),v=m+d,c=g+v,h=v+(g-c),v=p+h;var _=c+v,x=v+(c-_);return this._hi=_,this._lo=x,this}};Qe.prototype.selfMultiply=function(){if(arguments.length===1){if(arguments[0]instanceof Qe){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}else if(typeof arguments[0]=="number"){var n=arguments[0];return this.selfMultiply(n,0)}}else if(arguments.length===2){var r=arguments[0],i=arguments[1],a=null,s=null,o=null,l=null,f=null,u=null;f=Qe.SPLIT*this._hi,a=f-this._hi,u=Qe.SPLIT*r,a=f-a,s=this._hi-a,o=u-r,f=this._hi*r,o=u-o,l=r-o,u=a*o-f+a*l+s*o+s*l+(this._hi*i+this._lo*r);var c=f+u;a=f-c;var h=u+a;return this._hi=c,this._lo=h,this}};Qe.prototype.selfSqr=function(){return this.selfMultiply(this)};Qe.prototype.floor=function(){if(this.isNaN())return Qe.NaN;var t=Math.floor(this._hi),n=0;return t===this._hi&&(n=Math.floor(this._lo)),new Qe(t,n)};Qe.prototype.negate=function(){return this.isNaN()?this:new Qe(-this._hi,-this._lo)};Qe.prototype.clone=function(){};Qe.prototype.multiply=function(){if(arguments[0]instanceof Qe){var t=arguments[0];return t.isNaN()?Qe.createNaN():Qe.copy(this).selfMultiply(t)}else if(typeof arguments[0]=="number"){var n=arguments[0];return ir.isNaN(n)?Qe.createNaN():Qe.copy(this).selfMultiply(n,0)}};Qe.prototype.isNaN=function(){return ir.isNaN(this._hi)};Qe.prototype.intValue=function(){return Math.trunc(this._hi)};Qe.prototype.toString=function(){var t=Qe.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()};Qe.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(t!==null)return t;var n=new Array(1).fill(null),r=this.extractSignificantDigits(!0,n),i=n[0]+1,a=r;if(r.charAt(0)===".")a="0"+r;else if(i<0)a="0."+Qe.stringOfChar("0",-i)+r;else if(r.indexOf(".")===-1){var s=i-r.length,o=Qe.stringOfChar("0",s);a=r+o+".0"}return this.isNegative()?"-"+a:a};Qe.prototype.reciprocal=function(){var t=null,n=null,r=null,i=null,a=null,s=null,o=null,l=null;a=1/this._hi,s=Qe.SPLIT*a,t=s-a,l=Qe.SPLIT*this._hi,t=s-t,n=a-t,r=l-this._hi,o=a*this._hi,r=l-r,i=this._hi-r,l=t*r-o+t*i+n*r+n*i,s=(1-o-l-a*this._lo)/this._hi;var f=a+s,u=a-f+s;return new Qe(f,u)};Qe.prototype.toSciNotation=function(){if(this.isZero())return Qe.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(t!==null)return t;var n=new Array(1).fill(null),r=this.extractSignificantDigits(!1,n),i=Qe.SCI_NOT_EXPONENT_CHAR+n[0];if(r.charAt(0)==="0")throw new Error("Found leading zero: "+r);var a="";r.length>1&&(a=r.substring(1));var s=r.charAt(0)+"."+a;return this.isNegative()?"-"+s+i:s+i};Qe.prototype.abs=function(){return this.isNaN()?Qe.NaN:this.isNegative()?this.negate():new Qe(this)};Qe.prototype.isPositive=function(){return(this._hi>0||this._hi===0)&&this._lo>0};Qe.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo};Qe.prototype.add=function(){if(arguments[0]instanceof Qe){var t=arguments[0];return Qe.copy(this).selfAdd(t)}else if(typeof arguments[0]=="number"){var n=arguments[0];return Qe.copy(this).selfAdd(n)}};Qe.prototype.init=function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof Qe){var n=arguments[0];this._hi=n._hi,this._lo=n._lo}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];this._hi=r,this._lo=i}};Qe.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo};Qe.prototype.isNegative=function(){return(this._hi<0||this._hi===0)&&this._lo<0};Qe.prototype.trunc=function(){return this.isNaN()?Qe.NaN:this.isPositive()?this.floor():this.ceil()};Qe.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0};Qe.prototype.interfaces_=function(){return[Ps,Ls,M2]};Qe.prototype.getClass=function(){return Qe};Qe.sqr=function(t){return Qe.valueOf(t).selfMultiply(t)};Qe.valueOf=function(){if(typeof arguments[0]=="string"){var t=arguments[0];return Qe.parse(t)}else if(typeof arguments[0]=="number"){var n=arguments[0];return new Qe(n)}};Qe.sqrt=function(t){return Qe.valueOf(t).sqrt()};Qe.parse=function(t){for(var n=0,r=t.length;ny.isWhitespace(t.charAt(n));)n++;var i=!1;if(n<r){var a=t.charAt(n);(a==="-"||a==="+")&&(n++,a==="-"&&(i=!0))}for(var s=new Qe,o=0,l=0,f=0;!(n>=r);){var u=t.charAt(n);if(n++,ny.isDigit(u)){var c=u-"0";s.selfMultiply(Qe.TEN),s.selfAdd(c),o++;continue}if(u==="."){l=o;continue}if(u==="e"||u==="E"){var h=t.substring(n);try{f=Fl.parseInt(h)}catch(v){throw v instanceof Error?new Error("Invalid exponent "+h+" in string "+t):v}finally{}break}throw new Error("Unexpected character '"+u+"' at position "+n+" in string "+t)}var d=s,p=o-l-f;if(p===0)d=s;else if(p>0){var g=Qe.TEN.pow(p);d=s.divide(g)}else if(p<0){var m=Qe.TEN.pow(-p);d=s.multiply(m)}return i?d.negate():d};Qe.createNaN=function(){return new Qe(ir.NaN,ir.NaN)};Qe.copy=function(t){return new Qe(t)};Qe.magnitude=function(t){var n=Math.abs(t),r=Math.log(n)/Math.log(10),i=Math.trunc(Math.floor(r)),a=Math.pow(10,i);return a*10<=n&&(i+=1),i};Qe.stringOfChar=function(t,n){for(var r=new ql,i=0;i<n;i++)r.append(t);return r.toString()};ul.PI.get=function(){return new Qe(3.141592653589793,12246467991473532e-32)};ul.TWO_PI.get=function(){return new Qe(6.283185307179586,24492935982947064e-32)};ul.PI_2.get=function(){return new Qe(1.5707963267948966,6123233995736766e-32)};ul.E.get=function(){return new Qe(2.718281828459045,14456468917292502e-32)};ul.NaN.get=function(){return new Qe(ir.NaN,ir.NaN)};ul.EPS.get=function(){return 123259516440783e-46};ul.SPLIT.get=function(){return 134217729};ul.MAX_PRINT_DIGITS.get=function(){return 32};ul.TEN.get=function(){return Qe.valueOf(10)};ul.ONE.get=function(){return Qe.valueOf(1)};ul.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"};ul.SCI_NOT_ZERO.get=function(){return"0.0E0"};Object.defineProperties(Qe,ul);var mo=function(){},xk={DP_SAFE_EPSILON:{configurable:!0}};mo.prototype.interfaces_=function(){return[]};mo.prototype.getClass=function(){return mo};mo.orientationIndex=function(t,n,r){var i=mo.orientationIndexFilter(t,n,r);if(i<=1)return i;var a=Qe.valueOf(n.x).selfAdd(-t.x),s=Qe.valueOf(n.y).selfAdd(-t.y),o=Qe.valueOf(r.x).selfAdd(-n.x),l=Qe.valueOf(r.y).selfAdd(-n.y);return a.selfMultiply(l).selfSubtract(s.selfMultiply(o)).signum()};mo.signOfDet2x2=function(t,n,r,i){var a=t.multiply(i).selfSubtract(n.multiply(r));return a.signum()};mo.intersection=function(t,n,r,i){var a=Qe.valueOf(i.y).selfSubtract(r.y).selfMultiply(Qe.valueOf(n.x).selfSubtract(t.x)),s=Qe.valueOf(i.x).selfSubtract(r.x).selfMultiply(Qe.valueOf(n.y).selfSubtract(t.y)),o=a.subtract(s),l=Qe.valueOf(i.x).selfSubtract(r.x).selfMultiply(Qe.valueOf(t.y).selfSubtract(r.y)),f=Qe.valueOf(i.y).selfSubtract(r.y).selfMultiply(Qe.valueOf(t.x).selfSubtract(r.x)),u=l.subtract(f),c=u.selfDivide(o).doubleValue(),h=Qe.valueOf(t.x).selfAdd(Qe.valueOf(n.x).selfSubtract(t.x).selfMultiply(c)).doubleValue(),d=Qe.valueOf(n.x).selfSubtract(t.x).selfMultiply(Qe.valueOf(t.y).selfSubtract(r.y)),p=Qe.valueOf(n.y).selfSubtract(t.y).selfMultiply(Qe.valueOf(t.x).selfSubtract(r.x)),g=d.subtract(p),m=g.selfDivide(o).doubleValue(),v=Qe.valueOf(r.y).selfAdd(Qe.valueOf(i.y).selfSubtract(r.y).selfMultiply(m)).doubleValue();return new De(h,v)};mo.orientationIndexFilter=function(t,n,r){var i=null,a=(t.x-r.x)*(n.y-r.y),s=(t.y-r.y)*(n.x-r.x),o=a-s;if(a>0){if(s<=0)return mo.signum(o);i=a+s}else if(a<0){if(s>=0)return mo.signum(o);i=-a-s}else return mo.signum(o);var l=mo.DP_SAFE_EPSILON*i;return o>=l||-o>=l?mo.signum(o):2};mo.signum=function(t){return t>0?1:t<0?-1:0};xk.DP_SAFE_EPSILON.get=function(){return 1e-15};Object.defineProperties(mo,xk);var Ir=function(){},$y={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};$y.X.get=function(){return 0};$y.Y.get=function(){return 1};$y.Z.get=function(){return 2};$y.M.get=function(){return 3};Ir.prototype.setOrdinate=function(t,n,r){};Ir.prototype.size=function(){};Ir.prototype.getOrdinate=function(t,n){};Ir.prototype.getCoordinate=function(){};Ir.prototype.getCoordinateCopy=function(t){};Ir.prototype.getDimension=function(){};Ir.prototype.getX=function(t){};Ir.prototype.clone=function(){};Ir.prototype.expandEnvelope=function(t){};Ir.prototype.copy=function(){};Ir.prototype.getY=function(t){};Ir.prototype.toCoordinateArray=function(){};Ir.prototype.interfaces_=function(){return[M2]};Ir.prototype.getClass=function(){return Ir};Object.defineProperties(Ir,$y);var bk=function(){},G0=function(e){function t(){e.call(this,"Projective point not representable on the Cartesian plane.")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(bk),Oa=function(){};Oa.arraycopy=function(t,n,r,i,a){for(var s=0,o=n;o<n+a;o++)r[i+s]=t[o],s++};Oa.getProperty=function(t){return{"line.separator":`
`}[t]};var Xs=function e(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof e&&arguments[1]instanceof e){var i=arguments[0],a=arguments[1];this.x=i.y*a.w-a.y*i.w,this.y=a.x*i.w-i.x*a.w,this.w=i.x*a.y-a.x*i.y}else if(arguments[0]instanceof De&&arguments[1]instanceof De){var s=arguments[0],o=arguments[1];this.x=s.y-o.y,this.y=o.x-s.x,this.w=s.x*o.y-o.x*s.y}}else if(arguments.length===3){var l=arguments[0],f=arguments[1],u=arguments[2];this.x=l,this.y=f,this.w=u}else if(arguments.length===4){var c=arguments[0],h=arguments[1],d=arguments[2],p=arguments[3],g=c.y-h.y,m=h.x-c.x,v=c.x*h.y-h.x*c.y,y=d.y-p.y,_=p.x-d.x,x=d.x*p.y-p.x*d.y;this.x=m*x-_*v,this.y=y*v-g*x,this.w=g*_-y*m}};Xs.prototype.getY=function(){var t=this.y/this.w;if(ir.isNaN(t)||ir.isInfinite(t))throw new G0;return t};Xs.prototype.getX=function(){var t=this.x/this.w;if(ir.isNaN(t)||ir.isInfinite(t))throw new G0;return t};Xs.prototype.getCoordinate=function(){var t=new De;return t.x=this.getX(),t.y=this.getY(),t};Xs.prototype.interfaces_=function(){return[]};Xs.prototype.getClass=function(){return Xs};Xs.intersection=function(t,n,r,i){var a=t.y-n.y,s=n.x-t.x,o=t.x*n.y-n.x*t.y,l=r.y-i.y,f=i.x-r.x,u=r.x*i.y-i.x*r.y,c=s*u-f*o,h=l*o-a*u,d=a*f-l*s,p=c/d,g=h/d;if(ir.isNaN(p)||ir.isInfinite(p)||ir.isNaN(g)||ir.isInfinite(g))throw new G0;return new De(p,g)};var jn=function e(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof De){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(arguments.length===4){var a=arguments[0],s=arguments[1],o=arguments[2],l=arguments[3];this.init(a,s,o,l)}},wk={serialVersionUID:{configurable:!0}};jn.prototype.getArea=function(){return this.getWidth()*this.getHeight()};jn.prototype.equals=function(t){if(!(t instanceof jn))return!1;var n=t;return this.isNull()?n.isNull():this._maxx===n.getMaxX()&&this._maxy===n.getMaxY()&&this._minx===n.getMinX()&&this._miny===n.getMinY()};jn.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new jn;var n=this._minx>t._minx?this._minx:t._minx,r=this._miny>t._miny?this._miny:t._miny,i=this._maxx<t._maxx?this._maxx:t._maxx,a=this._maxy<t._maxy?this._maxy:t._maxy;return new jn(n,i,r,a)};jn.prototype.isNull=function(){return this._maxx<this._minx};jn.prototype.getMaxX=function(){return this._maxx};jn.prototype.covers=function(){if(arguments.length===1){if(arguments[0]instanceof De){var t=arguments[0];return this.covers(t.x,t.y)}else if(arguments[0]instanceof jn){var n=arguments[0];return this.isNull()||n.isNull()?!1:n.getMinX()>=this._minx&&n.getMaxX()<=this._maxx&&n.getMinY()>=this._miny&&n.getMaxY()<=this._maxy}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];return this.isNull()?!1:r>=this._minx&&r<=this._maxx&&i>=this._miny&&i<=this._maxy}};jn.prototype.intersects=function(){if(arguments.length===1){if(arguments[0]instanceof jn){var t=arguments[0];return this.isNull()||t.isNull()?!1:!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}else if(arguments[0]instanceof De){var n=arguments[0];return this.intersects(n.x,n.y)}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];return this.isNull()?!1:!(r>this._maxx||r<this._minx||i>this._maxy||i<this._miny)}};jn.prototype.getMinY=function(){return this._miny};jn.prototype.getMinX=function(){return this._minx};jn.prototype.expandToInclude=function(){if(arguments.length===1){if(arguments[0]instanceof De){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof jn){var n=arguments[0];if(n.isNull())return null;this.isNull()?(this._minx=n.getMinX(),this._maxx=n.getMaxX(),this._miny=n.getMinY(),this._maxy=n.getMaxY()):(n._minx<this._minx&&(this._minx=n._minx),n._maxx>this._maxx&&(this._maxx=n._maxx),n._miny<this._miny&&(this._miny=n._miny),n._maxy>this._maxy&&(this._maxy=n._maxy))}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];this.isNull()?(this._minx=r,this._maxx=r,this._miny=i,this._maxy=i):(r<this._minx&&(this._minx=r),r>this._maxx&&(this._maxx=r),i<this._miny&&(this._miny=i),i>this._maxy&&(this._maxy=i))}};jn.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),n=this.getHeight();return t<n?t:n};jn.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx};jn.prototype.compareTo=function(t){var n=t;return this.isNull()?n.isNull()?0:-1:n.isNull()?1:this._minx<n._minx?-1:this._minx>n._minx?1:this._miny<n._miny?-1:this._miny>n._miny?1:this._maxx<n._maxx?-1:this._maxx>n._maxx?1:this._maxy<n._maxy?-1:this._maxy>n._maxy?1:0};jn.prototype.translate=function(t,n){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+n,this.getMaxY()+n)};jn.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"};jn.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1};jn.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny};jn.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),n=this.getHeight();return t>n?t:n};jn.prototype.expandBy=function(){if(arguments.length===1){var t=arguments[0];this.expandBy(t,t)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];if(this.isNull())return null;this._minx-=n,this._maxx+=n,this._miny-=r,this._maxy+=r,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}};jn.prototype.contains=function(){if(arguments.length===1){if(arguments[0]instanceof jn){var t=arguments[0];return this.covers(t)}else if(arguments[0]instanceof De){var n=arguments[0];return this.covers(n)}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];return this.covers(r,i)}};jn.prototype.centre=function(){return this.isNull()?null:new De((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)};jn.prototype.init=function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof De){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof jn){var n=arguments[0];this._minx=n._minx,this._maxx=n._maxx,this._miny=n._miny,this._maxy=n._maxy}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(arguments.length===4){var a=arguments[0],s=arguments[1],o=arguments[2],l=arguments[3];a<s?(this._minx=a,this._maxx=s):(this._minx=s,this._maxx=a),o<l?(this._miny=o,this._maxy=l):(this._miny=l,this._maxy=o)}};jn.prototype.getMaxY=function(){return this._maxy};jn.prototype.distance=function(t){if(this.intersects(t))return 0;var n=0;this._maxx<t._minx?n=t._minx-this._maxx:this._minx>t._maxx&&(n=this._minx-t._maxx);var r=0;return this._maxy<t._miny?r=t._miny-this._maxy:this._miny>t._maxy&&(r=this._miny-t._maxy),n===0?r:r===0?n:Math.sqrt(n*n+r*r)};jn.prototype.hashCode=function(){var t=17;return t=37*t+De.hashCode(this._minx),t=37*t+De.hashCode(this._maxx),t=37*t+De.hashCode(this._miny),t=37*t+De.hashCode(this._maxy),t};jn.prototype.interfaces_=function(){return[Ls,Ps]};jn.prototype.getClass=function(){return jn};jn.intersects=function(){if(arguments.length===3){var t=arguments[0],n=arguments[1],r=arguments[2];return r.x>=(t.x<n.x?t.x:n.x)&&r.x<=(t.x>n.x?t.x:n.x)&&r.y>=(t.y<n.y?t.y:n.y)&&r.y<=(t.y>n.y?t.y:n.y)}else if(arguments.length===4){var i=arguments[0],a=arguments[1],s=arguments[2],o=arguments[3],l=Math.min(s.x,o.x),f=Math.max(s.x,o.x),u=Math.min(i.x,a.x),c=Math.max(i.x,a.x);return!(u>f||c<l||(l=Math.min(s.y,o.y),f=Math.max(s.y,o.y),u=Math.min(i.y,a.y),c=Math.max(i.y,a.y),u>f)||c<l)}};wk.serialVersionUID.get=function(){return 5873921885273102e3};Object.defineProperties(jn,wk);var bl={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},S2=function(t){this.geometryFactory=t||new _r};S2.prototype.read=function(t){var n,r,i;t=t.replace(/[\n\r]/g," ");var a=bl.typeStr.exec(t);if(t.search("EMPTY")!==-1&&(a=bl.emptyTypeStr.exec(t),a[2]=void 0),a&&(r=a[1].toLowerCase(),i=a[2],_g[r]&&(n=_g[r].apply(this,[i]))),n===void 0)throw new Error("Could not parse WKT "+t);return n};S2.prototype.write=function(t){return this.extractGeometry(t)};S2.prototype.extractGeometry=function(t){var n=t.getGeometryType().toLowerCase();if(!Bu[n])return null;var r=n.toUpperCase(),i;return t.isEmpty()?i=r+" EMPTY":i=r+"("+Bu[n].apply(this,[t])+")",i};var Bu={coordinate:function(t){return t.x+" "+t.y},point:function(t){return Bu.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var n=this,r=[],i=0,a=t._geometries.length;i<a;++i)r.push("("+Bu.point.apply(n,[t._geometries[i]])+")");return r.join(",")},linestring:function(t){for(var n=this,r=[],i=0,a=t._points._coordinates.length;i<a;++i)r.push(Bu.coordinate.apply(n,[t._points._coordinates[i]]));return r.join(",")},linearring:function(t){for(var n=this,r=[],i=0,a=t._points._coordinates.length;i<a;++i)r.push(Bu.coordinate.apply(n,[t._points._coordinates[i]]));return r.join(",")},multilinestring:function(t){for(var n=this,r=[],i=0,a=t._geometries.length;i<a;++i)r.push("("+Bu.linestring.apply(n,[t._geometries[i]])+")");return r.join(",")},polygon:function(t){var n=this,r=[];r.push("("+Bu.linestring.apply(this,[t._shell])+")");for(var i=0,a=t._holes.length;i<a;++i)r.push("("+Bu.linestring.apply(n,[t._holes[i]])+")");return r.join(",")},multipolygon:function(t){for(var n=this,r=[],i=0,a=t._geometries.length;i<a;++i)r.push("("+Bu.polygon.apply(n,[t._geometries[i]])+")");return r.join(",")},geometrycollection:function(t){for(var n=this,r=[],i=0,a=t._geometries.length;i<a;++i)r.push(n.extractGeometry(t._geometries[i]));return r.join(",")}},_g={point:function(t){if(t===void 0)return this.geometryFactory.createPoint();var n=t.trim().split(bl.spaces);return this.geometryFactory.createPoint(new De(Number.parseFloat(n[0]),Number.parseFloat(n[1])))},multipoint:function(t){var n=this;if(t===void 0)return this.geometryFactory.createMultiPoint();for(var r,i=t.trim().split(","),a=[],s=0,o=i.length;s<o;++s)r=i[s].replace(bl.trimParens,"$1"),a.push(_g.point.apply(n,[r]));return this.geometryFactory.createMultiPoint(a)},linestring:function(t){if(t===void 0)return this.geometryFactory.createLineString();for(var n=t.trim().split(","),r=[],i,a=0,s=n.length;a<s;++a)i=n[a].trim().split(bl.spaces),r.push(new De(Number.parseFloat(i[0]),Number.parseFloat(i[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(t===void 0)return this.geometryFactory.createLinearRing();for(var n=t.trim().split(","),r=[],i,a=0,s=n.length;a<s;++a)i=n[a].trim().split(bl.spaces),r.push(new De(Number.parseFloat(i[0]),Number.parseFloat(i[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){var n=this;if(t===void 0)return this.geometryFactory.createMultiLineString();for(var r,i=t.trim().split(bl.parenComma),a=[],s=0,o=i.length;s<o;++s)r=i[s].replace(bl.trimParens,"$1"),a.push(_g.linestring.apply(n,[r]));return this.geometryFactory.createMultiLineString(a)},polygon:function(t){var n=this;if(t===void 0)return this.geometryFactory.createPolygon();for(var r,i,a,s=t.trim().split(bl.parenComma),o,l=[],f=0,u=s.length;f<u;++f)r=s[f].replace(bl.trimParens,"$1"),i=_g.linestring.apply(n,[r]),a=n.geometryFactory.createLinearRing(i._points),f===0?o=a:l.push(a);return this.geometryFactory.createPolygon(o,l)},multipolygon:function(t){var n=this;if(t===void 0)return this.geometryFactory.createMultiPolygon();for(var r,i=t.trim().split(bl.doubleParenComma),a=[],s=0,o=i.length;s<o;++s)r=i[s].replace(bl.trimParens,"$1"),a.push(_g.polygon.apply(n,[r]));return this.geometryFactory.createMultiPolygon(a)},geometrycollection:function(t){var n=this;if(t===void 0)return this.geometryFactory.createGeometryCollection();t=t.replace(/,\s*([A-Za-z])/g,"|$1");for(var r=t.trim().split("|"),i=[],a=0,s=r.length;a<s;++a)i.push(n.read(r[a]));return this.geometryFactory.createGeometryCollection(i)}},el=function(t){this.parser=new S2(t)};el.prototype.write=function(t){return this.parser.write(t)};el.toLineString=function(t,n){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+n.x+" "+n.y+" )"};var cc=function(e){function t(n){e.call(this,n),this.name="RuntimeException",this.message=n,this.stack=new e().stack}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),fb=function(e){function t(){if(e.call(this),arguments.length===0)e.call(this);else if(arguments.length===1){var n=arguments[0];e.call(this,n)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(cc),pr=function(){};pr.prototype.interfaces_=function(){return[]};pr.prototype.getClass=function(){return pr};pr.shouldNeverReachHere=function(){if(arguments.length===0)pr.shouldNeverReachHere(null);else if(arguments.length===1){var t=arguments[0];throw new fb("Should never reach here"+(t!==null?": "+t:""))}};pr.isTrue=function(){var t,n;if(arguments.length===1)t=arguments[0],pr.isTrue(t,null);else if(arguments.length===2&&(t=arguments[0],n=arguments[1],!t))throw n===null?new fb:new fb(n)};pr.equals=function(){var t,n,r;if(arguments.length===2)t=arguments[0],n=arguments[1],pr.equals(t,n,null);else if(arguments.length===3&&(t=arguments[0],n=arguments[1],r=arguments[2],!n.equals(t)))throw new fb("Expected "+t+" but encountered "+n+(r!==null?": "+r:""))};var Mi=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new De,this._intPt[1]=new De,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},pp={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Mi.prototype.getIndexAlongSegment=function(t,n){return this.computeIntLineIndex(),this._intLineIndex[t][n]};Mi.prototype.getTopologySummary=function(){var t=new ql;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()};Mi.prototype.computeIntersection=function(t,n,r,i){this._inputLines[0][0]=t,this._inputLines[0][1]=n,this._inputLines[1][0]=r,this._inputLines[1][1]=i,this._result=this.computeIntersect(t,n,r,i)};Mi.prototype.getIntersectionNum=function(){return this._result};Mi.prototype.computeIntLineIndex=function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var t=arguments[0],n=this.getEdgeDistance(t,0),r=this.getEdgeDistance(t,1);n>r?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}};Mi.prototype.isProper=function(){return this.hasIntersection()&&this._isProper};Mi.prototype.setPrecisionModel=function(t){this._precisionModel=t};Mi.prototype.isInteriorIntersection=function(){var t=this;if(arguments.length===0)return!!(this.isInteriorIntersection(0)||this.isInteriorIntersection(1));if(arguments.length===1){for(var n=arguments[0],r=0;r<this._result;r++)if(!(t._intPt[r].equals2D(t._inputLines[n][0])||t._intPt[r].equals2D(t._inputLines[n][1])))return!0;return!1}};Mi.prototype.getIntersection=function(t){return this._intPt[t]};Mi.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper};Mi.prototype.hasIntersection=function(){return this._result!==Mi.NO_INTERSECTION};Mi.prototype.getEdgeDistance=function(t,n){var r=Mi.computeEdgeDistance(this._intPt[n],this._inputLines[t][0],this._inputLines[t][1]);return r};Mi.prototype.isCollinear=function(){return this._result===Mi.COLLINEAR_INTERSECTION};Mi.prototype.toString=function(){return el.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+el.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()};Mi.prototype.getEndpoint=function(t,n){return this._inputLines[t][n]};Mi.prototype.isIntersection=function(t){for(var n=this,r=0;r<this._result;r++)if(n._intPt[r].equals2D(t))return!0;return!1};Mi.prototype.getIntersectionAlongSegment=function(t,n){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][n]]};Mi.prototype.interfaces_=function(){return[]};Mi.prototype.getClass=function(){return Mi};Mi.computeEdgeDistance=function(t,n,r){var i=Math.abs(r.x-n.x),a=Math.abs(r.y-n.y),s=-1;if(t.equals(n))s=0;else if(t.equals(r))i>a?s=i:s=a;else{var o=Math.abs(t.x-n.x),l=Math.abs(t.y-n.y);i>a?s=o:s=l,s===0&&!t.equals(n)&&(s=Math.max(o,l))}return pr.isTrue(!(s===0&&!t.equals(n)),"Bad distance calculation"),s};Mi.nonRobustComputeEdgeDistance=function(t,n,r){var i=t.x-n.x,a=t.y-n.y,s=Math.sqrt(i*i+a*a);return pr.isTrue(!(s===0&&!t.equals(n)),"Invalid distance calculation"),s};pp.DONT_INTERSECT.get=function(){return 0};pp.DO_INTERSECT.get=function(){return 1};pp.COLLINEAR.get=function(){return 2};pp.NO_INTERSECTION.get=function(){return 0};pp.POINT_INTERSECTION.get=function(){return 1};pp.COLLINEAR_INTERSECTION.get=function(){return 2};Object.defineProperties(Mi,pp);var Dh=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isInSegmentEnvelopes=function(r){var i=new jn(this._inputLines[0][0],this._inputLines[0][1]),a=new jn(this._inputLines[1][0],this._inputLines[1][1]);return i.contains(r)&&a.contains(r)},t.prototype.computeIntersection=function(){if(arguments.length===3){var r=arguments[0],i=arguments[1],a=arguments[2];if(this._isProper=!1,jn.intersects(i,a,r)&&An.orientationIndex(i,a,r)===0&&An.orientationIndex(a,i,r)===0)return this._isProper=!0,(r.equals(i)||r.equals(a))&&(this._isProper=!1),this._result=e.POINT_INTERSECTION,null;this._result=e.NO_INTERSECTION}else return e.prototype.computeIntersection.apply(this,arguments)},t.prototype.normalizeToMinimum=function(r,i,a,s,o){o.x=this.smallestInAbsValue(r.x,i.x,a.x,s.x),o.y=this.smallestInAbsValue(r.y,i.y,a.y,s.y),r.x-=o.x,r.y-=o.y,i.x-=o.x,i.y-=o.y,a.x-=o.x,a.y-=o.y,s.x-=o.x,s.y-=o.y},t.prototype.safeHCoordinateIntersection=function(r,i,a,s){var o=null;try{o=Xs.intersection(r,i,a,s)}catch(l){if(l instanceof G0)o=t.nearestEndpoint(r,i,a,s);else throw l}finally{}return o},t.prototype.intersection=function(r,i,a,s){var o=this.intersectionWithNormalization(r,i,a,s);return this.isInSegmentEnvelopes(o)||(o=new De(t.nearestEndpoint(r,i,a,s))),this._precisionModel!==null&&this._precisionModel.makePrecise(o),o},t.prototype.smallestInAbsValue=function(r,i,a,s){var o=r,l=Math.abs(o);return Math.abs(i)<l&&(o=i,l=Math.abs(i)),Math.abs(a)<l&&(o=a,l=Math.abs(a)),Math.abs(s)<l&&(o=s),o},t.prototype.checkDD=function(r,i,a,s,o){var l=mo.intersection(r,i,a,s),f=this.isInSegmentEnvelopes(l);Oa.out.println("DD in env = "+f+"  --------------------- "+l),o.distance(l)>1e-4&&Oa.out.println("Distance = "+o.distance(l))},t.prototype.intersectionWithNormalization=function(r,i,a,s){var o=new De(r),l=new De(i),f=new De(a),u=new De(s),c=new De;this.normalizeToEnvCentre(o,l,f,u,c);var h=this.safeHCoordinateIntersection(o,l,f,u);return h.x+=c.x,h.y+=c.y,h},t.prototype.computeCollinearIntersection=function(r,i,a,s){var o=jn.intersects(r,i,a),l=jn.intersects(r,i,s),f=jn.intersects(a,s,r),u=jn.intersects(a,s,i);return o&&l?(this._intPt[0]=a,this._intPt[1]=s,e.COLLINEAR_INTERSECTION):f&&u?(this._intPt[0]=r,this._intPt[1]=i,e.COLLINEAR_INTERSECTION):o&&f?(this._intPt[0]=a,this._intPt[1]=r,a.equals(r)&&!l&&!u?e.POINT_INTERSECTION:e.COLLINEAR_INTERSECTION):o&&u?(this._intPt[0]=a,this._intPt[1]=i,a.equals(i)&&!l&&!f?e.POINT_INTERSECTION:e.COLLINEAR_INTERSECTION):l&&f?(this._intPt[0]=s,this._intPt[1]=r,s.equals(r)&&!o&&!u?e.POINT_INTERSECTION:e.COLLINEAR_INTERSECTION):l&&u?(this._intPt[0]=s,this._intPt[1]=i,s.equals(i)&&!o&&!f?e.POINT_INTERSECTION:e.COLLINEAR_INTERSECTION):e.NO_INTERSECTION},t.prototype.normalizeToEnvCentre=function(r,i,a,s,o){var l=r.x<i.x?r.x:i.x,f=r.y<i.y?r.y:i.y,u=r.x>i.x?r.x:i.x,c=r.y>i.y?r.y:i.y,h=a.x<s.x?a.x:s.x,d=a.y<s.y?a.y:s.y,p=a.x>s.x?a.x:s.x,g=a.y>s.y?a.y:s.y,m=l>h?l:h,v=u<p?u:p,y=f>d?f:d,_=c<g?c:g,x=(m+v)/2,w=(y+_)/2;o.x=x,o.y=w,r.x-=o.x,r.y-=o.y,i.x-=o.x,i.y-=o.y,a.x-=o.x,a.y-=o.y,s.x-=o.x,s.y-=o.y},t.prototype.computeIntersect=function(r,i,a,s){if(this._isProper=!1,!jn.intersects(r,i,a,s))return e.NO_INTERSECTION;var o=An.orientationIndex(r,i,a),l=An.orientationIndex(r,i,s);if(o>0&&l>0||o<0&&l<0)return e.NO_INTERSECTION;var f=An.orientationIndex(a,s,r),u=An.orientationIndex(a,s,i);if(f>0&&u>0||f<0&&u<0)return e.NO_INTERSECTION;var c=o===0&&l===0&&f===0&&u===0;return c?this.computeCollinearIntersection(r,i,a,s):(o===0||l===0||f===0||u===0?(this._isProper=!1,r.equals2D(a)||r.equals2D(s)?this._intPt[0]=r:i.equals2D(a)||i.equals2D(s)?this._intPt[0]=i:o===0?this._intPt[0]=new De(a):l===0?this._intPt[0]=new De(s):f===0?this._intPt[0]=new De(r):u===0&&(this._intPt[0]=new De(i))):(this._isProper=!0,this._intPt[0]=this.intersection(r,i,a,s)),e.POINT_INTERSECTION)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.nearestEndpoint=function(r,i,a,s){var o=r,l=An.distancePointLine(r,a,s),f=An.distancePointLine(i,a,s);return f<l&&(l=f,o=i),f=An.distancePointLine(a,r,i),f<l&&(l=f,o=a),f=An.distancePointLine(s,r,i),f<l&&(l=f,o=s),o},t}(Mi),Yd=function(){};Yd.prototype.interfaces_=function(){return[]};Yd.prototype.getClass=function(){return Yd};Yd.orientationIndex=function(t,n,r){var i=n.x-t.x,a=n.y-t.y,s=r.x-n.x,o=r.y-n.y;return Yd.signOfDet2x2(i,a,s,o)};Yd.signOfDet2x2=function(t,n,r,i){var a=null,s=null,o=null;if(a=1,t===0||i===0)return n===0||r===0?0:n>0?r>0?-a:a:r>0?a:-a;if(n===0||r===0)return i>0?t>0?a:-a:t>0?-a:a;if(n>0?i>0?n<=i||(a=-a,s=t,t=r,r=s,s=n,n=i,i=s):n<=-i?(a=-a,r=-r,i=-i):(s=t,t=-r,r=s,s=n,n=-i,i=s):i>0?-n<=i?(a=-a,t=-t,n=-n):(s=-t,t=r,r=s,s=-n,n=i,i=s):n>=i?(t=-t,n=-n,r=-r,i=-i):(a=-a,s=-t,t=-r,r=s,s=-n,n=-i,i=s),t>0)if(r>0){if(!(t<=r))return a}else return a;else{if(r>0)return-a;if(t>=r)a=-a,t=-t,r=-r;else return-a}for(;;){if(o=Math.floor(r/t),r=r-o*t,i=i-o*n,i<0)return-a;if(i>n)return a;if(t>r+r){if(n<i+i)return a}else{if(n>i+i)return-a;r=t-r,i=n-i,a=-a}if(i===0)return r===0?0:-a;if(r===0||(o=Math.floor(t/r),t=t-o*r,n=n-o*i,n<0))return a;if(n>i)return-a;if(r>t+t){if(i<n+n)return-a}else{if(i>n+n)return a;t=r-t,n=i-n,a=-a}if(n===0)return t===0?0:a;if(t===0)return-a}};var Ll=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};Ll.prototype.countSegment=function(t,n){if(t.x<this._p.x&&n.x<this._p.x)return null;if(this._p.x===n.x&&this._p.y===n.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&n.y===this._p.y){var r=t.x,i=n.x;return r>i&&(r=n.x,i=t.x),this._p.x>=r&&this._p.x<=i&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&n.y<=this._p.y||n.y>this._p.y&&t.y<=this._p.y){var a=t.x-this._p.x,s=t.y-this._p.y,o=n.x-this._p.x,l=n.y-this._p.y,f=Yd.signOfDet2x2(a,s,o,l);if(f===0)return this._isPointOnSegment=!0,null;l<s&&(f=-f),f>0&&this._crossingCount++}};Ll.prototype.isPointInPolygon=function(){return this.getLocation()!==Ve.EXTERIOR};Ll.prototype.getLocation=function(){return this._isPointOnSegment?Ve.BOUNDARY:this._crossingCount%2===1?Ve.INTERIOR:Ve.EXTERIOR};Ll.prototype.isOnSegment=function(){return this._isPointOnSegment};Ll.prototype.interfaces_=function(){return[]};Ll.prototype.getClass=function(){return Ll};Ll.locatePointInRing=function(){if(arguments[0]instanceof De&&Jn(arguments[1],Ir)){for(var t=arguments[0],n=arguments[1],r=new Ll(t),i=new De,a=new De,s=1;s<n.size();s++)if(n.getCoordinate(s,i),n.getCoordinate(s-1,a),r.countSegment(i,a),r.isOnSegment())return r.getLocation();return r.getLocation()}else if(arguments[0]instanceof De&&arguments[1]instanceof Array){for(var o=arguments[0],l=arguments[1],f=new Ll(o),u=1;u<l.length;u++){var c=l[u],h=l[u-1];if(f.countSegment(c,h),f.isOnSegment())return f.getLocation()}return f.getLocation()}};var An=function(){},gp={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};An.prototype.interfaces_=function(){return[]};An.prototype.getClass=function(){return An};An.orientationIndex=function(t,n,r){return mo.orientationIndex(t,n,r)};An.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var n=0,r=t[0].x,i=1;i<t.length-1;i++){var a=t[i].x-r,s=t[i+1].y,o=t[i-1].y;n+=a*(o-s)}return n/2}else if(Jn(arguments[0],Ir)){var l=arguments[0],f=l.size();if(f<3)return 0;var u=new De,c=new De,h=new De;l.getCoordinate(0,c),l.getCoordinate(1,h);var d=c.x;h.x-=d;for(var p=0,g=1;g<f-1;g++)u.y=c.y,c.x=h.x,c.y=h.y,l.getCoordinate(g+1,h),h.x-=d,p+=c.x*(u.y-h.y);return p/2}};An.distanceLineLine=function(t,n,r,i){if(t.equals(n))return An.distancePointLine(t,r,i);if(r.equals(i))return An.distancePointLine(i,t,n);var a=!1;if(!jn.intersects(t,n,r,i))a=!0;else{var s=(n.x-t.x)*(i.y-r.y)-(n.y-t.y)*(i.x-r.x);if(s===0)a=!0;else{var o=(t.y-r.y)*(i.x-r.x)-(t.x-r.x)*(i.y-r.y),l=(t.y-r.y)*(n.x-t.x)-(t.x-r.x)*(n.y-t.y),f=l/s,u=o/s;(u<0||u>1||f<0||f>1)&&(a=!0)}}return a?Jo.min(An.distancePointLine(t,r,i),An.distancePointLine(n,r,i),An.distancePointLine(r,t,n),An.distancePointLine(i,t,n)):0};An.isPointInRing=function(t,n){return An.locatePointInRing(t,n)!==Ve.EXTERIOR};An.computeLength=function(t){var n=t.size();if(n<=1)return 0;var r=0,i=new De;t.getCoordinate(0,i);for(var a=i.x,s=i.y,o=1;o<n;o++){t.getCoordinate(o,i);var l=i.x,f=i.y,u=l-a,c=f-s;r+=Math.sqrt(u*u+c*c),a=l,s=f}return r};An.isCCW=function(t){var n=t.length-1;if(n<3)throw new Ti("Ring has fewer than 4 points, so orientation cannot be determined");for(var r=t[0],i=0,a=1;a<=n;a++){var s=t[a];s.y>r.y&&(r=s,i=a)}var o=i;do o=o-1,o<0&&(o=n);while(t[o].equals2D(r)&&o!==i);var l=i;do l=(l+1)%n;while(t[l].equals2D(r)&&l!==i);var f=t[o],u=t[l];if(f.equals2D(r)||u.equals2D(r)||f.equals2D(u))return!1;var c=An.computeOrientation(f,r,u),h=!1;return c===0?h=f.x>u.x:h=c>0,h};An.locatePointInRing=function(t,n){return Ll.locatePointInRing(t,n)};An.distancePointLinePerpendicular=function(t,n,r){var i=(r.x-n.x)*(r.x-n.x)+(r.y-n.y)*(r.y-n.y),a=((n.y-t.y)*(r.x-n.x)-(n.x-t.x)*(r.y-n.y))/i;return Math.abs(a)*Math.sqrt(i)};An.computeOrientation=function(t,n,r){return An.orientationIndex(t,n,r)};An.distancePointLine=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];if(n.length===0)throw new Ti("Line array must contain at least one vertex");for(var r=t.distance(n[0]),i=0;i<n.length-1;i++){var a=An.distancePointLine(t,n[i],n[i+1]);a<r&&(r=a)}return r}else if(arguments.length===3){var s=arguments[0],o=arguments[1],l=arguments[2];if(o.x===l.x&&o.y===l.y)return s.distance(o);var f=(l.x-o.x)*(l.x-o.x)+(l.y-o.y)*(l.y-o.y),u=((s.x-o.x)*(l.x-o.x)+(s.y-o.y)*(l.y-o.y))/f;if(u<=0)return s.distance(o);if(u>=1)return s.distance(l);var c=((o.y-s.y)*(l.x-o.x)-(o.x-s.x)*(l.y-o.y))/f;return Math.abs(c)*Math.sqrt(f)}};An.isOnLine=function(t,n){for(var r=new Dh,i=1;i<n.length;i++){var a=n[i-1],s=n[i];if(r.computeIntersection(t,a,s),r.hasIntersection())return!0}return!1};gp.CLOCKWISE.get=function(){return-1};gp.RIGHT.get=function(){return An.CLOCKWISE};gp.COUNTERCLOCKWISE.get=function(){return 1};gp.LEFT.get=function(){return An.COUNTERCLOCKWISE};gp.COLLINEAR.get=function(){return 0};gp.STRAIGHT.get=function(){return An.COLLINEAR};Object.defineProperties(An,gp);var fc=function(){};fc.prototype.filter=function(t){};fc.prototype.interfaces_=function(){return[]};fc.prototype.getClass=function(){return fc};var Xn=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},Su={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Xn.prototype.isGeometryCollection=function(){return this.getSortIndex()===Xn.SORTINDEX_GEOMETRYCOLLECTION};Xn.prototype.getFactory=function(){return this._factory};Xn.prototype.getGeometryN=function(t){return this};Xn.prototype.getArea=function(){return 0};Xn.prototype.isRectangle=function(){return!1};Xn.prototype.equals=function(){if(arguments[0]instanceof Xn){var t=arguments[0];return t===null?!1:this.equalsTopo(t)}else if(arguments[0]instanceof Object){var n=arguments[0];if(!(n instanceof Xn))return!1;var r=n;return this.equalsExact(r)}};Xn.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)};Xn.prototype.geometryChanged=function(){this.apply(Xn.geometryChangedFilter)};Xn.prototype.geometryChangedAction=function(){this._envelope=null};Xn.prototype.equalsNorm=function(t){return t===null?!1:this.norm().equalsExact(t.norm())};Xn.prototype.getLength=function(){return 0};Xn.prototype.getNumGeometries=function(){return 1};Xn.prototype.compareTo=function(){if(arguments.length===1){var t=arguments[0],n=t;return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(t)}else if(arguments.length===2){var r=arguments[0],i=arguments[1];return this.getSortIndex()!==r.getSortIndex()?this.getSortIndex()-r.getSortIndex():this.isEmpty()&&r.isEmpty()?0:this.isEmpty()?-1:r.isEmpty()?1:this.compareToSameClass(r,i)}};Xn.prototype.getUserData=function(){return this._userData};Xn.prototype.getSRID=function(){return this._SRID};Xn.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())};Xn.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===Xn.SORTINDEX_GEOMETRYCOLLECTION)throw new Ti("This method does not support GeometryCollection arguments")};Xn.prototype.equal=function(t,n,r){return r===0?t.equals(n):t.distance(n)<=r};Xn.prototype.norm=function(){var t=this.copy();return t.normalize(),t};Xn.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()};Xn.prototype.getEnvelopeInternal=function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new jn(this._envelope)};Xn.prototype.setSRID=function(t){this._SRID=t};Xn.prototype.setUserData=function(t){this._userData=t};Xn.prototype.compare=function(t,n){for(var r=t.iterator(),i=n.iterator();r.hasNext()&&i.hasNext();){var a=r.next(),s=i.next(),o=a.compareTo(s);if(o!==0)return o}return r.hasNext()?1:i.hasNext()?-1:0};Xn.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()};Xn.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Xn.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Xn.SORTINDEX_MULTIPOINT||this.getSortIndex()===Xn.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Xn.SORTINDEX_MULTIPOLYGON};Xn.prototype.interfaces_=function(){return[M2,Ls,Ps]};Xn.prototype.getClass=function(){return Xn};Xn.hasNonEmptyElements=function(t){for(var n=0;n<t.length;n++)if(!t[n].isEmpty())return!0;return!1};Xn.hasNullElements=function(t){for(var n=0;n<t.length;n++)if(t[n]===null)return!0;return!1};Su.serialVersionUID.get=function(){return 8763622679187377e3};Su.SORTINDEX_POINT.get=function(){return 0};Su.SORTINDEX_MULTIPOINT.get=function(){return 1};Su.SORTINDEX_LINESTRING.get=function(){return 2};Su.SORTINDEX_LINEARRING.get=function(){return 3};Su.SORTINDEX_MULTILINESTRING.get=function(){return 4};Su.SORTINDEX_POLYGON.get=function(){return 5};Su.SORTINDEX_MULTIPOLYGON.get=function(){return 6};Su.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7};Su.geometryChangedFilter.get=function(){return nC};Object.defineProperties(Xn,Su);var nC=function(){};nC.interfaces_=function(){return[fc]};nC.filter=function(t){t.geometryChangedAction()};var gu=function(){};gu.prototype.filter=function(t){};gu.prototype.interfaces_=function(){return[]};gu.prototype.getClass=function(){return gu};var Ms=function(){},yc={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};Ms.prototype.isInBoundary=function(t){};Ms.prototype.interfaces_=function(){return[]};Ms.prototype.getClass=function(){return Ms};yc.Mod2BoundaryNodeRule.get=function(){return l0};yc.EndPointBoundaryNodeRule.get=function(){return u0};yc.MultiValentEndPointBoundaryNodeRule.get=function(){return c0};yc.MonoValentEndPointBoundaryNodeRule.get=function(){return f0};yc.MOD2_BOUNDARY_RULE.get=function(){return new l0};yc.ENDPOINT_BOUNDARY_RULE.get=function(){return new u0};yc.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new c0};yc.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new f0};yc.OGC_SFS_BOUNDARY_RULE.get=function(){return Ms.MOD2_BOUNDARY_RULE};Object.defineProperties(Ms,yc);var l0=function(){};l0.prototype.isInBoundary=function(t){return t%2===1};l0.prototype.interfaces_=function(){return[Ms]};l0.prototype.getClass=function(){return l0};var u0=function(){};u0.prototype.isInBoundary=function(t){return t>0};u0.prototype.interfaces_=function(){return[Ms]};u0.prototype.getClass=function(){return u0};var c0=function(){};c0.prototype.isInBoundary=function(t){return t>1};c0.prototype.interfaces_=function(){return[Ms]};c0.prototype.getClass=function(){return c0};var f0=function(){};f0.prototype.isInBoundary=function(t){return t===1};f0.prototype.interfaces_=function(){return[Ms]};f0.prototype.getClass=function(){return f0};var Ji=function(){};Ji.prototype.add=function(){};Ji.prototype.addAll=function(){};Ji.prototype.isEmpty=function(){};Ji.prototype.iterator=function(){};Ji.prototype.size=function(){};Ji.prototype.toArray=function(){};Ji.prototype.remove=function(){};function rC(e){this.message=e||""}rC.prototype=new Error;rC.prototype.name="IndexOutOfBoundsException";var j0=function(){};j0.prototype.hasNext=function(){};j0.prototype.next=function(){};j0.prototype.remove=function(){};var Ks=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(){},t.prototype.set=function(){},t.prototype.isEmpty=function(){},t}(Ji);function U0(e){this.message=e||""}U0.prototype=new Error;U0.prototype.name="NoSuchElementException";var Tn=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof Ji&&this.addAll(arguments[0])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.ensureCapacity=function(){},t.prototype.interfaces_=function(){return[e,Ji]},t.prototype.add=function(r){return arguments.length===1?this.array_.push(r):this.array_.splice(arguments[0],arguments[1]),!0},t.prototype.clear=function(){this.array_=[]},t.prototype.addAll=function(r){for(var i=this,a=r.iterator();a.hasNext();)i.add(a.next());return!0},t.prototype.set=function(r,i){var a=this.array_[r];return this.array_[r]=i,a},t.prototype.iterator=function(){return new Adt(this)},t.prototype.get=function(r){if(r<0||r>=this.size())throw new rC;return this.array_[r]},t.prototype.isEmpty=function(){return this.array_.length===0},t.prototype.size=function(){return this.array_.length},t.prototype.toArray=function(){for(var r=this,i=[],a=0,s=this.array_.length;a<s;a++)i.push(r.array_[a]);return i},t.prototype.remove=function(r){for(var i=this,a=!1,s=0,o=this.array_.length;s<o;s++)if(i.array_[s]===r){i.array_.splice(s,1),a=!0;break}return a},t}(Ks),Adt=function(e){function t(n){e.call(this),this.arrayList_=n,this.position_=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new U0;return this.arrayList_.get(this.position_++)},t.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},t.prototype.set=function(r){return this.arrayList_.set(this.position_-1,r)},t.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},t}(j0),qy=function(e){function t(){if(e.call(this),arguments.length!==0){if(arguments.length===1){var r=arguments[0];this.ensureCapacity(r.length),this.add(r,!0)}else if(arguments.length===2){var i=arguments[0],a=arguments[1];this.ensureCapacity(i.length),this.add(i,a)}}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},t.prototype.getCoordinate=function(i){return this.get(i)},t.prototype.addAll=function(){var i=this;if(arguments.length===2){for(var a=arguments[0],s=arguments[1],o=!1,l=a.iterator();l.hasNext();)i.add(l.next(),s),o=!0;return o}else return e.prototype.addAll.apply(this,arguments)},t.prototype.clone=function(){for(var i=this,a=e.prototype.clone.call(this),s=0;s<this.size();s++)a.add(s,i.get(s).copy());return a},t.prototype.toCoordinateArray=function(){return this.toArray(t.coordArrayType)},t.prototype.add=function(){var i=this;if(arguments.length===1){var a=arguments[0];e.prototype.add.call(this,a)}else if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var s=arguments[0],o=arguments[1];return this.add(s,o,!0),!0}else if(arguments[0]instanceof De&&typeof arguments[1]=="boolean"){var l=arguments[0],f=arguments[1];if(!f&&this.size()>=1){var u=this.get(this.size()-1);if(u.equals2D(l))return null}e.prototype.add.call(this,l)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var c=arguments[0],h=arguments[1];return this.add(c,h),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var d=arguments[0],p=arguments[1],g=arguments[2];if(g)for(var m=0;m<d.length;m++)i.add(d[m],p);else for(var v=d.length-1;v>=0;v--)i.add(d[v],p);return!0}else if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof De){var y=arguments[0],_=arguments[1],x=arguments[2];if(!x){var w=this.size();if(w>0){if(y>0){var E=this.get(y-1);if(E.equals2D(_))return null}if(y<w){var S=this.get(y);if(S.equals2D(_))return null}}}e.prototype.add.call(this,y,_)}}else if(arguments.length===4){var C=arguments[0],T=arguments[1],A=arguments[2],O=arguments[3],P=1;A>O&&(P=-1);for(var F=A;F!==O;F+=P)i.add(C[F],T);return!0}},t.prototype.closeRing=function(){this.size()>0&&this.add(new De(this.get(0)),!1)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},Object.defineProperties(t,n),t}(Tn),xr=function(){},C2={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};C2.ForwardComparator.get=function(){return ry};C2.BidirectionalComparator.get=function(){return h0};C2.coordArrayType.get=function(){return new Array(0).fill(null)};xr.prototype.interfaces_=function(){return[]};xr.prototype.getClass=function(){return xr};xr.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))};xr.ptNotInList=function(t,n){for(var r=0;r<t.length;r++){var i=t[r];if(xr.indexOf(i,n)<0)return i}return null};xr.scroll=function(t,n){var r=xr.indexOf(n,t);if(r<0)return null;var i=new Array(t.length).fill(null);Oa.arraycopy(t,r,i,0,t.length-r),Oa.arraycopy(t,0,i,t.length-r,r),Oa.arraycopy(i,0,t,0,t.length)};xr.equals=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];if(t===n)return!0;if(t===null||n===null||t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!t[r].equals(n[r]))return!1;return!0}else if(arguments.length===3){var i=arguments[0],a=arguments[1],s=arguments[2];if(i===a)return!0;if(i===null||a===null||i.length!==a.length)return!1;for(var o=0;o<i.length;o++)if(s.compare(i[o],a[o])!==0)return!1;return!0}};xr.intersection=function(t,n){for(var r=new qy,i=0;i<t.length;i++)n.intersects(t[i])&&r.add(t[i],!0);return r.toCoordinateArray()};xr.hasRepeatedPoints=function(t){for(var n=1;n<t.length;n++)if(t[n-1].equals(t[n]))return!0;return!1};xr.removeRepeatedPoints=function(t){if(!xr.hasRepeatedPoints(t))return t;var n=new qy(t,!1);return n.toCoordinateArray()};xr.reverse=function(t){for(var n=t.length-1,r=Math.trunc(n/2),i=0;i<=r;i++){var a=t[i];t[i]=t[n-i],t[n-i]=a}};xr.removeNull=function(t){for(var n=0,r=0;r<t.length;r++)t[r]!==null&&n++;var i=new Array(n).fill(null);if(n===0)return i;for(var a=0,s=0;s<t.length;s++)t[s]!==null&&(i[a++]=t[s]);return i};xr.copyDeep=function(){if(arguments.length===1){for(var t=arguments[0],n=new Array(t.length).fill(null),r=0;r<t.length;r++)n[r]=new De(t[r]);return n}else if(arguments.length===5)for(var i=arguments[0],a=arguments[1],s=arguments[2],o=arguments[3],l=arguments[4],f=0;f<l;f++)s[o+f]=new De(i[a+f])};xr.isEqualReversed=function(t,n){for(var r=0;r<t.length;r++){var i=t[r],a=n[t.length-r-1];if(i.compareTo(a)!==0)return!1}return!0};xr.envelope=function(t){for(var n=new jn,r=0;r<t.length;r++)n.expandToInclude(t[r]);return n};xr.toCoordinateArray=function(t){return t.toArray(xr.coordArrayType)};xr.atLeastNCoordinatesOrNothing=function(t,n){return n.length>=t?n:[]};xr.indexOf=function(t,n){for(var r=0;r<n.length;r++)if(t.equals(n[r]))return r;return-1};xr.increasingDirection=function(t){for(var n=0;n<Math.trunc(t.length/2);n++){var r=t.length-1-n,i=t[n].compareTo(t[r]);if(i!==0)return i}return 1};xr.compare=function(t,n){for(var r=0;r<t.length&&r<n.length;){var i=t[r].compareTo(n[r]);if(i!==0)return i;r++}return r<n.length?-1:r<t.length?1:0};xr.minCoordinate=function(t){for(var n=null,r=0;r<t.length;r++)(n===null||n.compareTo(t[r])>0)&&(n=t[r]);return n};xr.extract=function(t,n,r){n=Jo.clamp(n,0,t.length),r=Jo.clamp(r,-1,t.length);var i=r-n+1;r<0&&(i=0),n>=t.length&&(i=0),r<n&&(i=0);var a=new Array(i).fill(null);if(i===0)return a;for(var s=0,o=n;o<=r;o++)a[s++]=t[o];return a};Object.defineProperties(xr,C2);var ry=function(){};ry.prototype.compare=function(t,n){var r=t,i=n;return xr.compare(r,i)};ry.prototype.interfaces_=function(){return[o0]};ry.prototype.getClass=function(){return ry};var h0=function(){};h0.prototype.compare=function(t,n){var r=t,i=n;if(r.length<i.length)return-1;if(r.length>i.length)return 1;if(r.length===0)return 0;var a=xr.compare(r,i),s=xr.isEqualReversed(r,i);return s?0:a};h0.prototype.OLDcompare=function(t,n){var r=t,i=n;if(r.length<i.length)return-1;if(r.length>i.length)return 1;if(r.length===0)return 0;for(var a=xr.increasingDirection(r),s=xr.increasingDirection(i),o=a>0?0:r.length-1,l=s>0?0:r.length-1,f=0;f<r.length;f++){var u=r[o].compareTo(i[l]);if(u!==0)return u;o+=a,l+=s}return 0};h0.prototype.interfaces_=function(){return[o0]};h0.prototype.getClass=function(){return h0};var mp=function(){};mp.prototype.get=function(){};mp.prototype.put=function(){};mp.prototype.size=function(){};mp.prototype.values=function(){};mp.prototype.entrySet=function(){};var Idt=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(mp);function Xy(e){this.message=e||""}Xy.prototype=new Error;Xy.prototype.name="OperationNotSupported";function A2(){}A2.prototype=new Ji;A2.prototype.contains=function(){};var iC=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof Ji&&this.addAll(arguments[0])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contains=function(r){for(var i=this,a=0,s=this.array_.length;a<s;a++){var o=i.array_[a];if(o===r)return!0}return!1},t.prototype.add=function(r){return this.contains(r)?!1:(this.array_.push(r),!0)},t.prototype.addAll=function(r){for(var i=this,a=r.iterator();a.hasNext();)i.add(a.next());return!0},t.prototype.remove=function(r){throw new Error},t.prototype.size=function(){return this.array_.length},t.prototype.isEmpty=function(){return this.array_.length===0},t.prototype.toArray=function(){for(var r=this,i=[],a=0,s=this.array_.length;a<s;a++)i.push(r.array_[a]);return i},t.prototype.iterator=function(){return new Odt(this)},t}(A2),Odt=function(e){function t(n){e.call(this),this.hashSet_=n,this.position_=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new U0;return this.hashSet_.array_[this.position_++]},t.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},t.prototype.remove=function(){throw new Xy},t}(j0),Uu=0,Yf=1;function oP(e){return e===null?Uu:e.color}function ii(e){return e===null?null:e.parent}function zu(e,t){e!==null&&(e.color=t)}function U3(e){return e===null?null:e.left}function sP(e){return e===null?null:e.right}function Va(){this.root_=null,this.size_=0}Va.prototype=new Idt;Va.prototype.get=function(e){for(var t=this.root_;t!==null;){var n=e.compareTo(t.key);if(n<0)t=t.left;else if(n>0)t=t.right;else return t.value}return null};Va.prototype.put=function(e,t){if(this.root_===null)return this.root_={key:e,value:t,left:null,right:null,parent:null,color:Uu,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n=this.root_,r,i;do if(r=n,i=e.compareTo(n.key),i<0)n=n.left;else if(i>0)n=n.right;else{var a=n.value;return n.value=t,a}while(n!==null);var s={key:e,left:null,right:null,value:t,parent:r,color:Uu,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?r.left=s:r.right=s,this.fixAfterInsertion(s),this.size_++,null};Va.prototype.fixAfterInsertion=function(e){var t=this;for(e.color=Yf;e!=null&&e!==this.root_&&e.parent.color===Yf;)if(ii(e)===U3(ii(ii(e)))){var n=sP(ii(ii(e)));oP(n)===Yf?(zu(ii(e),Uu),zu(n,Uu),zu(ii(ii(e)),Yf),e=ii(ii(e))):(e===sP(ii(e))&&(e=ii(e),t.rotateLeft(e)),zu(ii(e),Uu),zu(ii(ii(e)),Yf),t.rotateRight(ii(ii(e))))}else{var r=U3(ii(ii(e)));oP(r)===Yf?(zu(ii(e),Uu),zu(r,Uu),zu(ii(ii(e)),Yf),e=ii(ii(e))):(e===U3(ii(e))&&(e=ii(e),t.rotateRight(e)),zu(ii(e),Uu),zu(ii(ii(e)),Yf),t.rotateLeft(ii(ii(e))))}this.root_.color=Uu};Va.prototype.values=function(){var e=new Tn,t=this.getFirstEntry();if(t!==null)for(e.add(t.value);(t=Va.successor(t))!==null;)e.add(t.value);return e};Va.prototype.entrySet=function(){var e=new iC,t=this.getFirstEntry();if(t!==null)for(e.add(t);(t=Va.successor(t))!==null;)e.add(t);return e};Va.prototype.rotateLeft=function(e){if(e!=null){var t=e.right;e.right=t.left,t.left!=null&&(t.left.parent=e),t.parent=e.parent,e.parent===null?this.root_=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}};Va.prototype.rotateRight=function(e){if(e!=null){var t=e.left;e.left=t.right,t.right!=null&&(t.right.parent=e),t.parent=e.parent,e.parent===null?this.root_=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}};Va.prototype.getFirstEntry=function(){var e=this.root_;if(e!=null)for(;e.left!=null;)e=e.left;return e};Va.successor=function(e){if(e===null)return null;if(e.right!==null){for(var t=e.right;t.left!==null;)t=t.left;return t}else{for(var n=e.parent,r=e;n!==null&&r===n.right;)r=n,n=n.parent;return n}};Va.prototype.size=function(){return this.size_};var iy=function(){};iy.prototype.interfaces_=function(){return[]};iy.prototype.getClass=function(){return iy};function Tk(){}Tk.prototype=new A2;function zl(){this.array_=[],arguments[0]instanceof Ji&&this.addAll(arguments[0])}zl.prototype=new Tk;zl.prototype.contains=function(e){for(var t=this,n=0,r=this.array_.length;n<r;n++){var i=t.array_[n];if(i.compareTo(e)===0)return!0}return!1};zl.prototype.add=function(e){var t=this;if(this.contains(e))return!1;for(var n=0,r=this.array_.length;n<r;n++){var i=t.array_[n];if(i.compareTo(e)===1)return t.array_.splice(n,0,e),!0}return this.array_.push(e),!0};zl.prototype.addAll=function(e){for(var t=this,n=e.iterator();n.hasNext();)t.add(n.next());return!0};zl.prototype.remove=function(e){throw new Xy};zl.prototype.size=function(){return this.array_.length};zl.prototype.isEmpty=function(){return this.array_.length===0};zl.prototype.toArray=function(){for(var e=this,t=[],n=0,r=this.array_.length;n<r;n++)t.push(e.array_[n]);return t};zl.prototype.iterator=function(){return new I2(this)};var I2=function(e){this.treeSet_=e,this.position_=0};I2.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new U0;return this.treeSet_.array_[this.position_++]};I2.prototype.hasNext=function(){return this.position_<this.treeSet_.size()};I2.prototype.remove=function(){throw new Xy};var lh=function(){};lh.sort=function(){var t=arguments[0],n,r,i,a;if(arguments.length===1)a=function(o,l){return o.compareTo(l)},t.sort(a);else if(arguments.length===2)i=arguments[1],a=function(o,l){return i.compare(o,l)},t.sort(a);else if(arguments.length===3){r=t.slice(arguments[1],arguments[2]),r.sort();var s=t.slice(0,arguments[1]).concat(r,t.slice(arguments[2],t.length));for(t.splice(0,t.length),n=0;n<s.length;n++)t.push(s[n])}else if(arguments.length===4)for(r=t.slice(arguments[1],arguments[2]),i=arguments[3],a=function(o,l){return i.compare(o,l)},r.sort(a),s=t.slice(0,arguments[1]).concat(r,t.slice(arguments[2],t.length)),t.splice(0,t.length),n=0;n<s.length;n++)t.push(s[n])};lh.asList=function(t){for(var n=new Tn,r=0,i=t.length;r<i;r++)n.add(t[r]);return n};var Fr=function(){},cl={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};cl.P.get=function(){return 0};cl.L.get=function(){return 1};cl.A.get=function(){return 2};cl.FALSE.get=function(){return-1};cl.TRUE.get=function(){return-2};cl.DONTCARE.get=function(){return-3};cl.SYM_FALSE.get=function(){return"F"};cl.SYM_TRUE.get=function(){return"T"};cl.SYM_DONTCARE.get=function(){return"*"};cl.SYM_P.get=function(){return"0"};cl.SYM_L.get=function(){return"1"};cl.SYM_A.get=function(){return"2"};Fr.prototype.interfaces_=function(){return[]};Fr.prototype.getClass=function(){return Fr};Fr.toDimensionSymbol=function(t){switch(t){case Fr.FALSE:return Fr.SYM_FALSE;case Fr.TRUE:return Fr.SYM_TRUE;case Fr.DONTCARE:return Fr.SYM_DONTCARE;case Fr.P:return Fr.SYM_P;case Fr.L:return Fr.SYM_L;case Fr.A:return Fr.SYM_A}throw new Ti("Unknown dimension value: "+t)};Fr.toDimensionValue=function(t){switch(ny.toUpperCase(t)){case Fr.SYM_FALSE:return Fr.FALSE;case Fr.SYM_TRUE:return Fr.TRUE;case Fr.SYM_DONTCARE:return Fr.DONTCARE;case Fr.SYM_P:return Fr.P;case Fr.SYM_L:return Fr.L;case Fr.SYM_A:return Fr.A}throw new Ti("Unknown dimension symbol: "+t)};Object.defineProperties(Fr,cl);var Bl=function(){};Bl.prototype.filter=function(t){};Bl.prototype.interfaces_=function(){return[]};Bl.prototype.getClass=function(){return Bl};var nl=function(){};nl.prototype.filter=function(t,n){};nl.prototype.isDone=function(){};nl.prototype.isGeometryChanged=function(){};nl.prototype.interfaces_=function(){return[]};nl.prototype.getClass=function(){return nl};var no=function(e){function t(r,i){if(e.call(this,i),this._geometries=r||[],e.hasNullElements(this._geometries))throw new Ti("geometries must not contain null elements")}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){for(var i=this,a=new jn,s=0;s<this._geometries.length;s++)a.expandToInclude(i._geometries[s].getEnvelopeInternal());return a},t.prototype.getGeometryN=function(i){return this._geometries[i]},t.prototype.getSortIndex=function(){return e.SORTINDEX_GEOMETRYCOLLECTION},t.prototype.getCoordinates=function(){for(var i=this,a=new Array(this.getNumPoints()).fill(null),s=-1,o=0;o<this._geometries.length;o++)for(var l=i._geometries[o].getCoordinates(),f=0;f<l.length;f++)s++,a[s]=l[f];return a},t.prototype.getArea=function(){for(var i=this,a=0,s=0;s<this._geometries.length;s++)a+=i._geometries[s].getArea();return a},t.prototype.equalsExact=function(){var i=this;if(arguments.length===2){var a=arguments[0],s=arguments[1];if(!this.isEquivalentClass(a))return!1;var o=a;if(this._geometries.length!==o._geometries.length)return!1;for(var l=0;l<this._geometries.length;l++)if(!i._geometries[l].equalsExact(o._geometries[l],s))return!1;return!0}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var i=this,a=0;a<this._geometries.length;a++)i._geometries[a].normalize();lh.sort(this._geometries)},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},t.prototype.getBoundaryDimension=function(){for(var i=this,a=Fr.FALSE,s=0;s<this._geometries.length;s++)a=Math.max(a,i._geometries[s].getBoundaryDimension());return a},t.prototype.getDimension=function(){for(var i=this,a=Fr.FALSE,s=0;s<this._geometries.length;s++)a=Math.max(a,i._geometries[s].getDimension());return a},t.prototype.getLength=function(){for(var i=this,a=0,s=0;s<this._geometries.length;s++)a+=i._geometries[s].getLength();return a},t.prototype.getNumPoints=function(){for(var i=this,a=0,s=0;s<this._geometries.length;s++)a+=i._geometries[s].getNumPoints();return a},t.prototype.getNumGeometries=function(){return this._geometries.length},t.prototype.reverse=function(){for(var i=this,a=this._geometries.length,s=new Array(a).fill(null),o=0;o<this._geometries.length;o++)s[o]=i._geometries[o].reverse();return this.getFactory().createGeometryCollection(s)},t.prototype.compareToSameClass=function(){var i=this;if(arguments.length===1){var a=arguments[0],s=new zl(lh.asList(this._geometries)),o=new zl(lh.asList(a._geometries));return this.compare(s,o)}else if(arguments.length===2){for(var l=arguments[0],f=arguments[1],u=l,c=this.getNumGeometries(),h=u.getNumGeometries(),d=0;d<c&&d<h;){var p=i.getGeometryN(d),g=u.getGeometryN(d),m=p.compareToSameClass(g,f);if(m!==0)return m;d++}return d<c?1:d<h?-1:0}},t.prototype.apply=function(){var i=this;if(Jn(arguments[0],gu))for(var a=arguments[0],s=0;s<this._geometries.length;s++)i._geometries[s].apply(a);else if(Jn(arguments[0],nl)){var o=arguments[0];if(this._geometries.length===0)return null;for(var l=0;l<this._geometries.length&&(i._geometries[l].apply(o),!o.isDone());l++);o.isGeometryChanged()&&this.geometryChanged()}else if(Jn(arguments[0],Bl)){var f=arguments[0];f.filter(this);for(var u=0;u<this._geometries.length;u++)i._geometries[u].apply(f)}else if(Jn(arguments[0],fc)){var c=arguments[0];c.filter(this);for(var h=0;h<this._geometries.length;h++)i._geometries[h].apply(c)}},t.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),pr.shouldNeverReachHere(),null},t.prototype.clone=function(){var i=this,a=e.prototype.clone.call(this);a._geometries=new Array(this._geometries.length).fill(null);for(var s=0;s<this._geometries.length;s++)a._geometries[s]=i._geometries[s].clone();return a},t.prototype.getGeometryType=function(){return"GeometryCollection"},t.prototype.copy=function(){for(var i=this,a=new Array(this._geometries.length).fill(null),s=0;s<a.length;s++)a[s]=i._geometries[s].copy();return new t(a,this._factory)},t.prototype.isEmpty=function(){for(var i=this,a=0;a<this._geometries.length;a++)if(!i._geometries[a].isEmpty())return!1;return!0},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-5694727726395021e3},Object.defineProperties(t,n),t}(Xn),Th=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Xn.SORTINDEX_MULTILINESTRING},t.prototype.equalsExact=function(){if(arguments.length===2){var i=arguments[0],a=arguments[1];return this.isEquivalentClass(i)?e.prototype.equalsExact.call(this,i,a):!1}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?Fr.FALSE:0},t.prototype.isClosed=function(){var i=this;if(this.isEmpty())return!1;for(var a=0;a<this._geometries.length;a++)if(!i._geometries[a].isClosed())return!1;return!0},t.prototype.getDimension=function(){return 1},t.prototype.reverse=function(){for(var i=this,a=this._geometries.length,s=new Array(a).fill(null),o=0;o<this._geometries.length;o++)s[a-1-o]=i._geometries[o].reverse();return this.getFactory().createMultiLineString(s)},t.prototype.getBoundary=function(){return new bs(this).getBoundary()},t.prototype.getGeometryType=function(){return"MultiLineString"},t.prototype.copy=function(){for(var i=this,a=new Array(this._geometries.length).fill(null),s=0;s<a.length;s++)a[s]=i._geometries[s].copy();return new t(a,this._factory)},t.prototype.interfaces_=function(){return[iy]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 8166665132445434e3},Object.defineProperties(t,n),t}(no),bs=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,arguments.length===1){var t=arguments[0],n=Ms.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=n}else if(arguments.length===2){var r=arguments[0],i=arguments[1];this._geom=r,this._geomFact=r.getFactory(),this._bnRule=i}};bs.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var n=this.computeBoundaryCoordinates(t);return n.length===1?this._geomFact.createPoint(n[0]):this._geomFact.createMultiPointFromCoords(n)};bs.prototype.getBoundary=function(){return this._geom instanceof Pi?this.boundaryLineString(this._geom):this._geom instanceof Th?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()};bs.prototype.boundaryLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();if(t.isClosed()){var n=this._bnRule.isInBoundary(2);return n?t.getStartPoint():this._geomFact.createMultiPoint()}return this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])};bs.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()};bs.prototype.computeBoundaryCoordinates=function(t){var n=this,r=new Tn;this._endpointMap=new Va;for(var i=0;i<t.getNumGeometries();i++){var a=t.getGeometryN(i);a.getNumPoints()!==0&&(n.addEndpoint(a.getCoordinateN(0)),n.addEndpoint(a.getCoordinateN(a.getNumPoints()-1)))}for(var s=this._endpointMap.entrySet().iterator();s.hasNext();){var o=s.next(),l=o.getValue(),f=l.count;n._bnRule.isInBoundary(f)&&r.add(o.getKey())}return xr.toCoordinateArray(r)};bs.prototype.addEndpoint=function(t){var n=this._endpointMap.get(t);n===null&&(n=new hb,this._endpointMap.put(t,n)),n.count++};bs.prototype.interfaces_=function(){return[]};bs.prototype.getClass=function(){return bs};bs.getBoundary=function(){if(arguments.length===1){var t=arguments[0],n=new bs(t);return n.getBoundary()}else if(arguments.length===2){var r=arguments[0],i=arguments[1],a=new bs(r,i);return a.getBoundary()}};var hb=function(){this.count=null};hb.prototype.interfaces_=function(){return[]};hb.prototype.getClass=function(){return hb};function Ldt(){}function Pdt(){}var Rdt=function(){};function Ndt(){}function kdt(){}function Ddt(){}var ws=function(){},aC={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};ws.prototype.interfaces_=function(){return[]};ws.prototype.getClass=function(){return ws};ws.chars=function(t,n){for(var r=new Array(n).fill(null),i=0;i<n;i++)r[i]=t;return String(r)};ws.getStackTrace=function(){if(arguments.length===1){var t=arguments[0],n=new Ndt,r=new Ldt;return t.printStackTrace(r),n.toString()}else if(arguments.length===2){var i=arguments[0],a=arguments[1],s="";new Pdt(ws.getStackTrace(i));for(var o=new Ddt,l=0;l<a;l++)try{s+=o.readLine()+ws.NEWLINE}catch(f){if(f instanceof kdt)pr.shouldNeverReachHere();else throw f}finally{}return s}};ws.split=function(t,n){for(var r=n.length,i=new Tn,a=""+t,s=a.indexOf(n);s>=0;){var o=a.substring(0,s);i.add(o),a=a.substring(s+r),s=a.indexOf(n)}a.length>0&&i.add(a);for(var l=new Array(i.size()).fill(null),f=0;f<l.length;f++)l[f]=i.get(f);return l};ws.toString=function(){if(arguments.length===1){var t=arguments[0];return ws.SIMPLE_ORDINATE_FORMAT.format(t)}};ws.spaces=function(t){return ws.chars(" ",t)};aC.NEWLINE.get=function(){return Oa.getProperty("line.separator")};aC.SIMPLE_ORDINATE_FORMAT.get=function(){return new Rdt};Object.defineProperties(ws,aC);var Gi=function(){};Gi.prototype.interfaces_=function(){return[]};Gi.prototype.getClass=function(){return Gi};Gi.copyCoord=function(t,n,r,i){for(var a=Math.min(t.getDimension(),r.getDimension()),s=0;s<a;s++)r.setOrdinate(i,s,t.getOrdinate(n,s))};Gi.isRing=function(t){var n=t.size();return n===0?!0:n<=3?!1:t.getOrdinate(0,Ir.X)===t.getOrdinate(n-1,Ir.X)&&t.getOrdinate(0,Ir.Y)===t.getOrdinate(n-1,Ir.Y)};Gi.isEqual=function(t,n){var r=t.size(),i=n.size();if(r!==i)return!1;for(var a=Math.min(t.getDimension(),n.getDimension()),s=0;s<r;s++)for(var o=0;o<a;o++){var l=t.getOrdinate(s,o),f=n.getOrdinate(s,o);if(t.getOrdinate(s,o)!==n.getOrdinate(s,o)&&!(ir.isNaN(l)&&ir.isNaN(f)))return!1}return!0};Gi.extend=function(t,n,r){var i=t.create(r,n.getDimension()),a=n.size();if(Gi.copy(n,0,i,0,a),a>0)for(var s=a;s<r;s++)Gi.copy(n,a-1,i,s,1);return i};Gi.reverse=function(t){for(var n=t.size()-1,r=Math.trunc(n/2),i=0;i<=r;i++)Gi.swap(t,i,n-i)};Gi.swap=function(t,n,r){if(n===r)return null;for(var i=0;i<t.getDimension();i++){var a=t.getOrdinate(n,i);t.setOrdinate(n,i,t.getOrdinate(r,i)),t.setOrdinate(r,i,a)}};Gi.copy=function(t,n,r,i,a){for(var s=0;s<a;s++)Gi.copyCoord(t,n+s,r,i+s)};Gi.toString=function(){if(arguments.length===1){var t=arguments[0],n=t.size();if(n===0)return"()";var r=t.getDimension(),i=new ql;i.append("(");for(var a=0;a<n;a++){a>0&&i.append(" ");for(var s=0;s<r;s++)s>0&&i.append(","),i.append(ws.toString(t.getOrdinate(a,s)))}return i.append(")"),i.toString()}};Gi.ensureValidRing=function(t,n){var r=n.size();if(r===0)return n;if(r<=3)return Gi.createClosedRing(t,n,4);var i=n.getOrdinate(0,Ir.X)===n.getOrdinate(r-1,Ir.X)&&n.getOrdinate(0,Ir.Y)===n.getOrdinate(r-1,Ir.Y);return i?n:Gi.createClosedRing(t,n,r+1)};Gi.createClosedRing=function(t,n,r){var i=t.create(r,n.getDimension()),a=n.size();Gi.copy(n,0,i,0,a);for(var s=a;s<r;s++)Gi.copy(n,0,i,s,1);return i};var Pi=function(e){function t(r,i){e.call(this,i),this._points=null,this.init(r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new jn:this._points.expandEnvelope(new jn)},t.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},t.prototype.getSortIndex=function(){return e.SORTINDEX_LINESTRING},t.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},t.prototype.equalsExact=function(){var i=this;if(arguments.length===2){var a=arguments[0],s=arguments[1];if(!this.isEquivalentClass(a))return!1;var o=a;if(this._points.size()!==o._points.size())return!1;for(var l=0;l<this._points.size();l++)if(!i.equal(i._points.getCoordinate(l),o._points.getCoordinate(l),s))return!1;return!0}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var i=this,a=0;a<Math.trunc(this._points.size()/2);a++){var s=i._points.size()-1-a;if(!i._points.getCoordinate(a).equals(i._points.getCoordinate(s)))return i._points.getCoordinate(a).compareTo(i._points.getCoordinate(s))>0&&Gi.reverse(i._points),null}},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?Fr.FALSE:0},t.prototype.isClosed=function(){return this.isEmpty()?!1:this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},t.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},t.prototype.getDimension=function(){return 1},t.prototype.getLength=function(){return An.computeLength(this._points)},t.prototype.getNumPoints=function(){return this._points.size()},t.prototype.reverse=function(){var i=this._points.copy();Gi.reverse(i);var a=this.getFactory().createLineString(i);return a},t.prototype.compareToSameClass=function(){var i=this;if(arguments.length===1){for(var a=arguments[0],s=a,o=0,l=0;o<this._points.size()&&l<s._points.size();){var f=i._points.getCoordinate(o).compareTo(s._points.getCoordinate(l));if(f!==0)return f;o++,l++}return o<this._points.size()?1:l<s._points.size()?-1:0}else if(arguments.length===2){var u=arguments[0],c=arguments[1],h=u;return c.compare(this._points,h._points)}},t.prototype.apply=function(){var i=this;if(Jn(arguments[0],gu))for(var a=arguments[0],s=0;s<this._points.size();s++)a.filter(i._points.getCoordinate(s));else if(Jn(arguments[0],nl)){var o=arguments[0];if(this._points.size()===0)return null;for(var l=0;l<this._points.size()&&(o.filter(i._points,l),!o.isDone());l++);o.isGeometryChanged()&&this.geometryChanged()}else if(Jn(arguments[0],Bl)){var f=arguments[0];f.filter(this)}else if(Jn(arguments[0],fc)){var u=arguments[0];u.filter(this)}},t.prototype.getBoundary=function(){return new bs(this).getBoundary()},t.prototype.isEquivalentClass=function(i){return i instanceof t},t.prototype.clone=function(){var i=e.prototype.clone.call(this);return i._points=this._points.clone(),i},t.prototype.getCoordinateN=function(i){return this._points.getCoordinate(i)},t.prototype.getGeometryType=function(){return"LineString"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._points},t.prototype.isEmpty=function(){return this._points.size()===0},t.prototype.init=function(i){if(i===null&&(i=this.getFactory().getCoordinateSequenceFactory().create([])),i.size()===1)throw new Ti("Invalid number of points in LineString (found "+i.size()+" - must be 0 or >= 2)");this._points=i},t.prototype.isCoordinate=function(i){for(var a=this,s=0;s<this._points.size();s++)if(a._points.getCoordinate(s).equals(i))return!0;return!1},t.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},t.prototype.getPointN=function(i){return this.getFactory().createPoint(this._points.getCoordinate(i))},t.prototype.interfaces_=function(){return[iy]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(t,n),t}(Xn),ay=function(){};ay.prototype.interfaces_=function(){return[]};ay.prototype.getClass=function(){return ay};var Oo=function(e){function t(r,i){e.call(this,i),this._coordinates=r||null,this.init(this._coordinates)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new jn;var i=new jn;return i.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),i},t.prototype.getSortIndex=function(){return e.SORTINDEX_POINT},t.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},t.prototype.equalsExact=function(){if(arguments.length===2){var i=arguments[0],a=arguments[1];return this.isEquivalentClass(i)?this.isEmpty()&&i.isEmpty()?!0:this.isEmpty()!==i.isEmpty()?!1:this.equal(i.getCoordinate(),this.getCoordinate(),a):!1}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){},t.prototype.getCoordinate=function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null},t.prototype.getBoundaryDimension=function(){return Fr.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getNumPoints=function(){return this.isEmpty()?0:1},t.prototype.reverse=function(){return this.copy()},t.prototype.getX=function(){if(this.getCoordinate()===null)throw new Error("getX called on empty Point");return this.getCoordinate().x},t.prototype.compareToSameClass=function(){if(arguments.length===1){var i=arguments[0],a=i;return this.getCoordinate().compareTo(a.getCoordinate())}else if(arguments.length===2){var s=arguments[0],o=arguments[1],l=s;return o.compare(this._coordinates,l._coordinates)}},t.prototype.apply=function(){if(Jn(arguments[0],gu)){var i=arguments[0];if(this.isEmpty())return null;i.filter(this.getCoordinate())}else if(Jn(arguments[0],nl)){var a=arguments[0];if(this.isEmpty())return null;a.filter(this._coordinates,0),a.isGeometryChanged()&&this.geometryChanged()}else if(Jn(arguments[0],Bl)){var s=arguments[0];s.filter(this)}else if(Jn(arguments[0],fc)){var o=arguments[0];o.filter(this)}},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.clone=function(){var i=e.prototype.clone.call(this);return i._coordinates=this._coordinates.clone(),i},t.prototype.getGeometryType=function(){return"Point"},t.prototype.copy=function(){return new t(this._coordinates.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._coordinates},t.prototype.getY=function(){if(this.getCoordinate()===null)throw new Error("getY called on empty Point");return this.getCoordinate().y},t.prototype.isEmpty=function(){return this._coordinates.size()===0},t.prototype.init=function(i){i===null&&(i=this.getFactory().getCoordinateSequenceFactory().create([])),pr.isTrue(i.size()<=1),this._coordinates=i},t.prototype.isSimple=function(){return!0},t.prototype.interfaces_=function(){return[ay]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 4902022702746615e3},Object.defineProperties(t,n),t}(Xn),rf=function(){};rf.prototype.interfaces_=function(){return[]};rf.prototype.getClass=function(){return rf};var na=function(e){function t(r,i,a){if(e.call(this,a),this._shell=null,this._holes=null,r===null&&(r=this.getFactory().createLinearRing()),i===null&&(i=[]),e.hasNullElements(i))throw new Ti("holes must not contain null elements");if(r.isEmpty()&&e.hasNonEmptyElements(i))throw new Ti("shell is empty but holes are not");this._shell=r,this._holes=i}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},t.prototype.getSortIndex=function(){return e.SORTINDEX_POLYGON},t.prototype.getCoordinates=function(){var i=this;if(this.isEmpty())return[];for(var a=new Array(this.getNumPoints()).fill(null),s=-1,o=this._shell.getCoordinates(),l=0;l<o.length;l++)s++,a[s]=o[l];for(var f=0;f<this._holes.length;f++)for(var u=i._holes[f].getCoordinates(),c=0;c<u.length;c++)s++,a[s]=u[c];return a},t.prototype.getArea=function(){var i=this,a=0;a+=Math.abs(An.signedArea(this._shell.getCoordinateSequence()));for(var s=0;s<this._holes.length;s++)a-=Math.abs(An.signedArea(i._holes[s].getCoordinateSequence()));return a},t.prototype.isRectangle=function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var i=this._shell.getCoordinateSequence(),a=this.getEnvelopeInternal(),s=0;s<5;s++){var o=i.getX(s);if(!(o===a.getMinX()||o===a.getMaxX()))return!1;var l=i.getY(s);if(!(l===a.getMinY()||l===a.getMaxY()))return!1}for(var f=i.getX(0),u=i.getY(0),c=1;c<=4;c++){var h=i.getX(c),d=i.getY(c),p=h!==f,g=d!==u;if(p===g)return!1;f=h,u=d}return!0},t.prototype.equalsExact=function(){var i=this;if(arguments.length===2){var a=arguments[0],s=arguments[1];if(!this.isEquivalentClass(a))return!1;var o=a,l=this._shell,f=o._shell;if(!l.equalsExact(f,s)||this._holes.length!==o._holes.length)return!1;for(var u=0;u<this._holes.length;u++)if(!i._holes[u].equalsExact(o._holes[u],s))return!1;return!0}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){var i=this;if(arguments.length===0){this.normalize(this._shell,!0);for(var a=0;a<this._holes.length;a++)i.normalize(i._holes[a],!1);lh.sort(this._holes)}else if(arguments.length===2){var s=arguments[0],o=arguments[1];if(s.isEmpty())return null;var l=new Array(s.getCoordinates().length-1).fill(null);Oa.arraycopy(s.getCoordinates(),0,l,0,l.length);var f=xr.minCoordinate(s.getCoordinates());xr.scroll(l,f),Oa.arraycopy(l,0,s.getCoordinates(),0,l.length),s.getCoordinates()[l.length]=l[0],An.isCCW(s.getCoordinates())===o&&xr.reverse(s.getCoordinates())}},t.prototype.getCoordinate=function(){return this._shell.getCoordinate()},t.prototype.getNumInteriorRing=function(){return this._holes.length},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.getLength=function(){var i=this,a=0;a+=this._shell.getLength();for(var s=0;s<this._holes.length;s++)a+=i._holes[s].getLength();return a},t.prototype.getNumPoints=function(){for(var i=this,a=this._shell.getNumPoints(),s=0;s<this._holes.length;s++)a+=i._holes[s].getNumPoints();return a},t.prototype.reverse=function(){var i=this,a=this.copy();a._shell=this._shell.copy().reverse(),a._holes=new Array(this._holes.length).fill(null);for(var s=0;s<this._holes.length;s++)a._holes[s]=i._holes[s].copy().reverse();return a},t.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},t.prototype.compareToSameClass=function(){var i=this;if(arguments.length===1){var a=arguments[0],s=this._shell,o=a._shell;return s.compareToSameClass(o)}else if(arguments.length===2){var l=arguments[0],f=arguments[1],u=l,c=this._shell,h=u._shell,d=c.compareToSameClass(h,f);if(d!==0)return d;for(var p=this.getNumInteriorRing(),g=u.getNumInteriorRing(),m=0;m<p&&m<g;){var v=i.getInteriorRingN(m),y=u.getInteriorRingN(m),_=v.compareToSameClass(y,f);if(_!==0)return _;m++}return m<p?1:m<g?-1:0}},t.prototype.apply=function(i){var a=this;if(Jn(i,gu)){this._shell.apply(i);for(var s=0;s<this._holes.length;s++)a._holes[s].apply(i)}else if(Jn(i,nl)){if(this._shell.apply(i),!i.isDone())for(var o=0;o<this._holes.length&&(a._holes[o].apply(i),!i.isDone());o++);i.isGeometryChanged()&&this.geometryChanged()}else if(Jn(i,Bl))i.filter(this);else if(Jn(i,fc)){i.filter(this),this._shell.apply(i);for(var l=0;l<this._holes.length;l++)a._holes[l].apply(i)}},t.prototype.getBoundary=function(){var i=this;if(this.isEmpty())return this.getFactory().createMultiLineString();var a=new Array(this._holes.length+1).fill(null);a[0]=this._shell;for(var s=0;s<this._holes.length;s++)a[s+1]=i._holes[s];return a.length<=1?this.getFactory().createLinearRing(a[0].getCoordinateSequence()):this.getFactory().createMultiLineString(a)},t.prototype.clone=function(){var i=this,a=e.prototype.clone.call(this);a._shell=this._shell.clone(),a._holes=new Array(this._holes.length).fill(null);for(var s=0;s<this._holes.length;s++)a._holes[s]=i._holes[s].clone();return a},t.prototype.getGeometryType=function(){return"Polygon"},t.prototype.copy=function(){for(var i=this,a=this._shell.copy(),s=new Array(this._holes.length).fill(null),o=0;o<s.length;o++)s[o]=i._holes[o].copy();return new t(a,s,this._factory)},t.prototype.getExteriorRing=function(){return this._shell},t.prototype.isEmpty=function(){return this._shell.isEmpty()},t.prototype.getInteriorRingN=function(i){return this._holes[i]},t.prototype.interfaces_=function(){return[rf]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(t,n),t}(Xn),d0=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Xn.SORTINDEX_MULTIPOINT},t.prototype.isValid=function(){return!0},t.prototype.equalsExact=function(){if(arguments.length===2){var i=arguments[0],a=arguments[1];return this.isEquivalentClass(i)?e.prototype.equalsExact.call(this,i,a):!1}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getCoordinate=function(){if(arguments.length===1){var i=arguments[0];return this._geometries[i].getCoordinate()}else return e.prototype.getCoordinate.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return Fr.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.getGeometryType=function(){return"MultiPoint"},t.prototype.copy=function(){for(var i=this,a=new Array(this._geometries.length).fill(null),s=0;s<a.length;s++)a[s]=i._geometries[s].copy();return new t(a,this._factory)},t.prototype.interfaces_=function(){return[ay]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-8048474874175356e3},Object.defineProperties(t,n),t}(no),mu=function(e){function t(r,i){r instanceof De&&i instanceof _r&&(r=i.getCoordinateSequenceFactory().create(r)),e.call(this,r,i),this.validateConstruction()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Xn.SORTINDEX_LINEARRING},t.prototype.getBoundaryDimension=function(){return Fr.FALSE},t.prototype.isClosed=function(){return this.isEmpty()?!0:e.prototype.isClosed.call(this)},t.prototype.reverse=function(){var i=this._points.copy();Gi.reverse(i);var a=this.getFactory().createLinearRing(i);return a},t.prototype.validateConstruction=function(){if(!this.isEmpty()&&!e.prototype.isClosed.call(this))throw new Ti("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<t.MINIMUM_VALID_SIZE)throw new Ti("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},t.prototype.getGeometryType=function(){return"LinearRing"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(t,n),t}(Pi),hu=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Xn.SORTINDEX_MULTIPOLYGON},t.prototype.equalsExact=function(){if(arguments.length===2){var i=arguments[0],a=arguments[1];return this.isEquivalentClass(i)?e.prototype.equalsExact.call(this,i,a):!1}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.reverse=function(){for(var i=this,a=this._geometries.length,s=new Array(a).fill(null),o=0;o<this._geometries.length;o++)s[o]=i._geometries[o].reverse();return this.getFactory().createMultiPolygon(s)},t.prototype.getBoundary=function(){var i=this;if(this.isEmpty())return this.getFactory().createMultiLineString();for(var a=new Tn,s=0;s<this._geometries.length;s++)for(var o=i._geometries[s],l=o.getBoundary(),f=0;f<l.getNumGeometries();f++)a.add(l.getGeometryN(f));var u=new Array(a.size()).fill(null);return this.getFactory().createMultiLineString(a.toArray(u))},t.prototype.getGeometryType=function(){return"MultiPolygon"},t.prototype.copy=function(){for(var i=this,a=new Array(this._geometries.length).fill(null),s=0;s<a.length;s++)a[s]=i._geometries[s].copy();return new t(a,this._factory)},t.prototype.interfaces_=function(){return[rf]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(t,n),t}(no),Ss=function(t){this._factory=t||null,this._isUserDataCopied=!1},O2={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Ss.prototype.setCopyUserData=function(t){this._isUserDataCopied=t};Ss.prototype.edit=function(t,n){if(t===null)return null;var r=this.editInternal(t,n);return this._isUserDataCopied&&r.setUserData(t.getUserData()),r};Ss.prototype.editInternal=function(t,n){return this._factory===null&&(this._factory=t.getFactory()),t instanceof no?this.editGeometryCollection(t,n):t instanceof na?this.editPolygon(t,n):t instanceof Oo?n.edit(t,this._factory):t instanceof Pi?n.edit(t,this._factory):(pr.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)};Ss.prototype.editGeometryCollection=function(t,n){for(var r=this,i=n.edit(t,this._factory),a=new Tn,s=0;s<i.getNumGeometries();s++){var o=r.edit(i.getGeometryN(s),n);o===null||o.isEmpty()||a.add(o)}return i.getClass()===d0?this._factory.createMultiPoint(a.toArray([])):i.getClass()===Th?this._factory.createMultiLineString(a.toArray([])):i.getClass()===hu?this._factory.createMultiPolygon(a.toArray([])):this._factory.createGeometryCollection(a.toArray([]))};Ss.prototype.editPolygon=function(t,n){var r=this,i=n.edit(t,this._factory);if(i===null&&(i=this._factory.createPolygon(null)),i.isEmpty())return i;var a=this.edit(i.getExteriorRing(),n);if(a===null||a.isEmpty())return this._factory.createPolygon();for(var s=new Tn,o=0;o<i.getNumInteriorRing();o++){var l=r.edit(i.getInteriorRingN(o),n);l===null||l.isEmpty()||s.add(l)}return this._factory.createPolygon(a,s.toArray([]))};Ss.prototype.interfaces_=function(){return[]};Ss.prototype.getClass=function(){return Ss};Ss.GeometryEditorOperation=function(){};O2.NoOpGeometryOperation.get=function(){return oy};O2.CoordinateOperation.get=function(){return sy};O2.CoordinateSequenceOperation.get=function(){return ly};Object.defineProperties(Ss,O2);var oy=function(){};oy.prototype.edit=function(t,n){return t};oy.prototype.interfaces_=function(){return[Ss.GeometryEditorOperation]};oy.prototype.getClass=function(){return oy};var sy=function(){};sy.prototype.edit=function(t,n){var r=this.editCoordinates(t.getCoordinates(),t);return r===null?t:t instanceof mu?n.createLinearRing(r):t instanceof Pi?n.createLineString(r):t instanceof Oo?r.length>0?n.createPoint(r[0]):n.createPoint():t};sy.prototype.interfaces_=function(){return[Ss.GeometryEditorOperation]};sy.prototype.getClass=function(){return sy};var ly=function(){};ly.prototype.edit=function(t,n){return t instanceof mu?n.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Pi?n.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Oo?n.createPoint(this.edit(t.getCoordinateSequence(),t)):t};ly.prototype.interfaces_=function(){return[Ss.GeometryEditorOperation]};ly.prototype.getClass=function(){return ly};var zi=function(){var t=this;if(this._dimension=3,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var n=arguments[0];this._coordinates=new Array(n).fill(null);for(var r=0;r<n;r++)t._coordinates[r]=new De}else if(Jn(arguments[0],Ir)){var i=arguments[0];if(i===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=i.getDimension(),this._coordinates=new Array(i.size()).fill(null);for(var a=0;a<this._coordinates.length;a++)t._coordinates[a]=i.getCoordinateCopy(a)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var s=arguments[0],o=arguments[1];this._coordinates=s,this._dimension=o,s===null&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var l=arguments[0],f=arguments[1];this._coordinates=new Array(l).fill(null),this._dimension=f;for(var u=0;u<l;u++)t._coordinates[u]=new De}}},Ek={serialVersionUID:{configurable:!0}};zi.prototype.setOrdinate=function(t,n,r){switch(n){case Ir.X:this._coordinates[t].x=r;break;case Ir.Y:this._coordinates[t].y=r;break;case Ir.Z:this._coordinates[t].z=r;break;default:throw new Ti("invalid ordinateIndex")}};zi.prototype.size=function(){return this._coordinates.length};zi.prototype.getOrdinate=function(t,n){switch(n){case Ir.X:return this._coordinates[t].x;case Ir.Y:return this._coordinates[t].y;case Ir.Z:return this._coordinates[t].z}return ir.NaN};zi.prototype.getCoordinate=function(){if(arguments.length===1){var t=arguments[0];return this._coordinates[t]}else if(arguments.length===2){var n=arguments[0],r=arguments[1];r.x=this._coordinates[n].x,r.y=this._coordinates[n].y,r.z=this._coordinates[n].z}};zi.prototype.getCoordinateCopy=function(t){return new De(this._coordinates[t])};zi.prototype.getDimension=function(){return this._dimension};zi.prototype.getX=function(t){return this._coordinates[t].x};zi.prototype.clone=function(){for(var t=this,n=new Array(this.size()).fill(null),r=0;r<this._coordinates.length;r++)n[r]=t._coordinates[r].clone();return new zi(n,this._dimension)};zi.prototype.expandEnvelope=function(t){for(var n=this,r=0;r<this._coordinates.length;r++)t.expandToInclude(n._coordinates[r]);return t};zi.prototype.copy=function(){for(var t=this,n=new Array(this.size()).fill(null),r=0;r<this._coordinates.length;r++)n[r]=t._coordinates[r].copy();return new zi(n,this._dimension)};zi.prototype.toString=function(){var t=this;if(this._coordinates.length>0){var n=new ql(17*this._coordinates.length);n.append("("),n.append(this._coordinates[0]);for(var r=1;r<this._coordinates.length;r++)n.append(", "),n.append(t._coordinates[r]);return n.append(")"),n.toString()}else return"()"};zi.prototype.getY=function(t){return this._coordinates[t].y};zi.prototype.toCoordinateArray=function(){return this._coordinates};zi.prototype.interfaces_=function(){return[Ir,Ps]};zi.prototype.getClass=function(){return zi};Ek.serialVersionUID.get=function(){return-0xcb44a778db18e00};Object.defineProperties(zi,Ek);var vu=function(){},oC={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};vu.prototype.readResolve=function(){return vu.instance()};vu.prototype.create=function(){if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return new zi(t)}else if(Jn(arguments[0],Ir)){var n=arguments[0];return new zi(n)}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];return i>3&&(i=3),i<2?new zi(r):new zi(r,i)}};vu.prototype.interfaces_=function(){return[s0,Ps]};vu.prototype.getClass=function(){return vu};vu.instance=function(){return vu.instanceObject};oC.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00};oC.instanceObject.get=function(){return new vu};Object.defineProperties(vu,oC);var Mk=function(e){function t(){e.call(this),this.map_=new Map}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r){return this.map_.get(r)||null},t.prototype.put=function(r,i){return this.map_.set(r,i),i},t.prototype.values=function(){for(var r=new Tn,i=this.map_.values(),a=i.next();!a.done;)r.add(a.value),a=i.next();return r},t.prototype.entrySet=function(){var r=new iC;return this.map_.entries().forEach(function(i){return r.add(i)}),r},t.prototype.size=function(){return this.map_.size()},t}(mp),Br=function e(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=e.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Gl){var t=arguments[0];this._modelType=t,t===e.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var n=arguments[0];this._modelType=e.FIXED,this.setScale(n)}else if(arguments[0]instanceof e){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}}},sC={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Br.prototype.equals=function(t){if(!(t instanceof Br))return!1;var n=t;return this._modelType===n._modelType&&this._scale===n._scale};Br.prototype.compareTo=function(t){var n=t,r=this.getMaximumSignificantDigits(),i=n.getMaximumSignificantDigits();return new Fl(r).compareTo(new Fl(i))};Br.prototype.getScale=function(){return this._scale};Br.prototype.isFloating=function(){return this._modelType===Br.FLOATING||this._modelType===Br.FLOATING_SINGLE};Br.prototype.getType=function(){return this._modelType};Br.prototype.toString=function(){var t="UNKNOWN";return this._modelType===Br.FLOATING?t="Floating":this._modelType===Br.FLOATING_SINGLE?t="Floating-Single":this._modelType===Br.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t};Br.prototype.makePrecise=function(){if(typeof arguments[0]=="number"){var t=arguments[0];if(ir.isNaN(t))return t;if(this._modelType===Br.FLOATING_SINGLE){var n=t;return n}return this._modelType===Br.FIXED?Math.round(t*this._scale)/this._scale:t}else if(arguments[0]instanceof De){var r=arguments[0];if(this._modelType===Br.FLOATING)return null;r.x=this.makePrecise(r.x),r.y=this.makePrecise(r.y)}};Br.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===Br.FLOATING?t=16:this._modelType===Br.FLOATING_SINGLE?t=6:this._modelType===Br.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t};Br.prototype.setScale=function(t){this._scale=Math.abs(t)};Br.prototype.interfaces_=function(){return[Ps,Ls]};Br.prototype.getClass=function(){return Br};Br.mostPrecise=function(t,n){return t.compareTo(n)>=0?t:n};sC.serialVersionUID.get=function(){return 7777263578777804e3};sC.maximumPreciseValue.get=function(){return 9007199254740992};Object.defineProperties(Br,sC);var Gl=function e(t){this._name=t||null,e.nameToTypeMap.put(t,this)},lC={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Gl.prototype.readResolve=function(){return Gl.nameToTypeMap.get(this._name)};Gl.prototype.toString=function(){return this._name};Gl.prototype.interfaces_=function(){return[Ps]};Gl.prototype.getClass=function(){return Gl};lC.serialVersionUID.get=function(){return-552860263173159e4};lC.nameToTypeMap.get=function(){return new Mk};Object.defineProperties(Gl,lC);Br.Type=Gl;Br.FIXED=new Gl("FIXED");Br.FLOATING=new Gl("FLOATING");Br.FLOATING_SINGLE=new Gl("FLOATING SINGLE");var _r=function e(){this._precisionModel=new Br,this._SRID=0,this._coordinateSequenceFactory=e.getDefaultCoordinateSequenceFactory(),arguments.length===0||(arguments.length===1?Jn(arguments[0],s0)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Br&&(this._precisionModel=arguments[0]):arguments.length===2?(this._precisionModel=arguments[0],this._SRID=arguments[1]):arguments.length===3&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Sk={serialVersionUID:{configurable:!0}};_r.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new De(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new De(t.getMinX(),t.getMinY()),new De(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new De(t.getMinX(),t.getMinY()),new De(t.getMinX(),t.getMaxY()),new De(t.getMaxX(),t.getMaxY()),new De(t.getMaxX(),t.getMinY()),new De(t.getMinX(),t.getMinY())]),null)};_r.prototype.createLineString=function(t){if(t){if(t instanceof Array)return new Pi(this.getCoordinateSequenceFactory().create(t),this);if(Jn(t,Ir))return new Pi(t,this)}else return new Pi(this.getCoordinateSequenceFactory().create([]),this)};_r.prototype.createMultiLineString=function(){if(arguments.length===0)return new Th(null,this);if(arguments.length===1){var t=arguments[0];return new Th(t,this)}};_r.prototype.buildGeometry=function(t){for(var n=null,r=!1,i=!1,a=t.iterator();a.hasNext();){var s=a.next(),o=s.getClass();n===null&&(n=o),o!==n&&(r=!0),s.isGeometryCollectionOrDerived()&&(i=!0)}if(n===null)return this.createGeometryCollection();if(r||i)return this.createGeometryCollection(_r.toGeometryArray(t));var l=t.iterator().next(),f=t.size()>1;if(f){if(l instanceof na)return this.createMultiPolygon(_r.toPolygonArray(t));if(l instanceof Pi)return this.createMultiLineString(_r.toLineStringArray(t));if(l instanceof Oo)return this.createMultiPoint(_r.toPointArray(t));pr.shouldNeverReachHere("Unhandled class: "+l.getClass().getName())}return l};_r.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(t!==null?this.getCoordinateSequenceFactory().create(t):null)};_r.prototype.createPoint=function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof De){var t=arguments[0];return this.createPoint(t!==null?this.getCoordinateSequenceFactory().create([t]):null)}else if(Jn(arguments[0],Ir)){var n=arguments[0];return new Oo(n,this)}}};_r.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory};_r.prototype.createPolygon=function(){if(arguments.length===0)return new na(null,null,this);if(arguments.length===1){if(Jn(arguments[0],Ir)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}else if(arguments[0]instanceof Array){var n=arguments[0];return this.createPolygon(this.createLinearRing(n))}else if(arguments[0]instanceof mu){var r=arguments[0];return this.createPolygon(r,null)}}else if(arguments.length===2){var i=arguments[0],a=arguments[1];return new na(i,a,this)}};_r.prototype.getSRID=function(){return this._SRID};_r.prototype.createGeometryCollection=function(){if(arguments.length===0)return new no(null,this);if(arguments.length===1){var t=arguments[0];return new no(t,this)}};_r.prototype.createGeometry=function(t){var n=new Ss(this);return n.edit(t,{edit:function(){if(arguments.length===2){var r=arguments[0];return this._coordinateSequenceFactory.create(r)}}})};_r.prototype.getPrecisionModel=function(){return this._precisionModel};_r.prototype.createLinearRing=function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(t!==null?this.getCoordinateSequenceFactory().create(t):null)}else if(Jn(arguments[0],Ir)){var n=arguments[0];return new mu(n,this)}}};_r.prototype.createMultiPolygon=function(){if(arguments.length===0)return new hu(null,this);if(arguments.length===1){var t=arguments[0];return new hu(t,this)}};_r.prototype.createMultiPoint=function(){var t=this;if(arguments.length===0)return new d0(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];return new d0(n,this)}else if(arguments[0]instanceof Array){var r=arguments[0];return this.createMultiPoint(r!==null?this.getCoordinateSequenceFactory().create(r):null)}else if(Jn(arguments[0],Ir)){var i=arguments[0];if(i===null)return this.createMultiPoint(new Array(0).fill(null));for(var a=new Array(i.size()).fill(null),s=0;s<i.size();s++){var o=t.getCoordinateSequenceFactory().create(1,i.getDimension());Gi.copy(i,s,o,0,1),a[s]=t.createPoint(o)}return this.createMultiPoint(a)}}};_r.prototype.interfaces_=function(){return[Ps]};_r.prototype.getClass=function(){return _r};_r.toMultiPolygonArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)};_r.toGeometryArray=function(t){if(t===null)return null;var n=new Array(t.size()).fill(null);return t.toArray(n)};_r.getDefaultCoordinateSequenceFactory=function(){return vu.instance()};_r.toMultiLineStringArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)};_r.toLineStringArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)};_r.toMultiPointArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)};_r.toLinearRingArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)};_r.toPointArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)};_r.toPolygonArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)};_r.createPointFromInternalCoord=function(t,n){return n.getPrecisionModel().makePrecise(t),n.getFactory().createPoint(t)};Sk.serialVersionUID.get=function(){return-6820524753094096e3};Object.defineProperties(_r,Sk);var Fdt=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],L2=function(t){this.geometryFactory=t||new _r};L2.prototype.read=function(t){var n;typeof t=="string"?n=JSON.parse(t):n=t;var r=n.type;if(!Tl[r])throw new Error("Unknown GeoJSON type: "+n.type);return Fdt.indexOf(r)!==-1?Tl[r].apply(this,[n.coordinates]):r==="GeometryCollection"?Tl[r].apply(this,[n.geometries]):Tl[r].apply(this,[n])};L2.prototype.write=function(t){var n=t.getGeometryType();if(!Gu[n])throw new Error("Geometry is not supported");return Gu[n].apply(this,[t])};var Tl={Feature:function(e){var t={};for(var n in e)t[n]=e[n];if(e.geometry){var r=e.geometry.type;if(!Tl[r])throw new Error("Unknown GeoJSON type: "+e.type);t.geometry=this.read(e.geometry)}return e.bbox&&(t.bbox=Tl.bbox.apply(this,[e.bbox])),t},FeatureCollection:function(e){var t=this,n={};if(e.features){n.features=[];for(var r=0;r<e.features.length;++r)n.features.push(t.read(e.features[r]))}return e.bbox&&(n.bbox=this.parse.bbox.apply(this,[e.bbox])),n},coordinates:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(new De(r[0],r[1]))}return t},bbox:function(e){return this.geometryFactory.createLinearRing([new De(e[0],e[1]),new De(e[2],e[1]),new De(e[2],e[3]),new De(e[0],e[3]),new De(e[0],e[1])])},Point:function(e){var t=new De(e[0],e[1]);return this.geometryFactory.createPoint(t)},MultiPoint:function(e){for(var t=this,n=[],r=0;r<e.length;++r)n.push(Tl.Point.apply(t,[e[r]]));return this.geometryFactory.createMultiPoint(n)},LineString:function(e){var t=Tl.coordinates.apply(this,[e]);return this.geometryFactory.createLineString(t)},MultiLineString:function(e){for(var t=this,n=[],r=0;r<e.length;++r)n.push(Tl.LineString.apply(t,[e[r]]));return this.geometryFactory.createMultiLineString(n)},Polygon:function(e){for(var t=this,n=Tl.coordinates.apply(this,[e[0]]),r=this.geometryFactory.createLinearRing(n),i=[],a=1;a<e.length;++a){var s=e[a],o=Tl.coordinates.apply(t,[s]),l=t.geometryFactory.createLinearRing(o);i.push(l)}return this.geometryFactory.createPolygon(r,i)},MultiPolygon:function(e){for(var t=this,n=[],r=0;r<e.length;++r){var i=e[r];n.push(Tl.Polygon.apply(t,[i]))}return this.geometryFactory.createMultiPolygon(n)},GeometryCollection:function(e){for(var t=this,n=[],r=0;r<e.length;++r){var i=e[r];n.push(t.read(i))}return this.geometryFactory.createGeometryCollection(n)}},Gu={coordinate:function(e){return[e.x,e.y]},Point:function(e){var t=Gu.coordinate.apply(this,[e.getCoordinate()]);return{type:"Point",coordinates:t}},MultiPoint:function(e){for(var t=this,n=[],r=0;r<e._geometries.length;++r){var i=e._geometries[r],a=Gu.Point.apply(t,[i]);n.push(a.coordinates)}return{type:"MultiPoint",coordinates:n}},LineString:function(e){for(var t=this,n=[],r=e.getCoordinates(),i=0;i<r.length;++i){var a=r[i];n.push(Gu.coordinate.apply(t,[a]))}return{type:"LineString",coordinates:n}},MultiLineString:function(e){for(var t=this,n=[],r=0;r<e._geometries.length;++r){var i=e._geometries[r],a=Gu.LineString.apply(t,[i]);n.push(a.coordinates)}return{type:"MultiLineString",coordinates:n}},Polygon:function(e){var t=this,n=[],r=Gu.LineString.apply(this,[e._shell]);n.push(r.coordinates);for(var i=0;i<e._holes.length;++i){var a=e._holes[i],s=Gu.LineString.apply(t,[a]);n.push(s.coordinates)}return{type:"Polygon",coordinates:n}},MultiPolygon:function(e){for(var t=this,n=[],r=0;r<e._geometries.length;++r){var i=e._geometries[r],a=Gu.Polygon.apply(t,[i]);n.push(a.coordinates)}return{type:"MultiPolygon",coordinates:n}},GeometryCollection:function(e){for(var t=this,n=[],r=0;r<e._geometries.length;++r){var i=e._geometries[r],a=i.getGeometryType();n.push(Gu[a].apply(t,[i]))}return{type:"GeometryCollection",geometries:n}}},uC=function(t){this.geometryFactory=t||new _r,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new L2(this.geometryFactory)};uC.prototype.read=function(t){var n=this.parser.read(t);return this.precisionModel.getType()===Br.FIXED&&this.reducePrecision(n),n};uC.prototype.reducePrecision=function(t){var n=this,r,i;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(r=0,i=t.points.length;r<i;r++)n.precisionModel.makePrecise(t.points[r]);else if(t.geometries)for(r=0,i=t.geometries.length;r<i;r++)n.reducePrecision(t.geometries[r])};var Ck=function(){this.parser=new L2(this.geometryFactory)};Ck.prototype.write=function(t){return this.parser.write(t)};var mn=function(){},P2={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};mn.prototype.interfaces_=function(){return[]};mn.prototype.getClass=function(){return mn};mn.opposite=function(t){return t===mn.LEFT?mn.RIGHT:t===mn.RIGHT?mn.LEFT:t};P2.ON.get=function(){return 0};P2.LEFT.get=function(){return 1};P2.RIGHT.get=function(){return 2};Object.defineProperties(mn,P2);function R2(e){this.message=e||""}R2.prototype=new Error;R2.prototype.name="EmptyStackException";function Xl(){this.array_=[]}Xl.prototype=new Ks;Xl.prototype.add=function(e){return this.array_.push(e),!0};Xl.prototype.get=function(e){if(e<0||e>=this.size())throw new Error;return this.array_[e]};Xl.prototype.push=function(e){return this.array_.push(e),e};Xl.prototype.pop=function(e){if(this.array_.length===0)throw new R2;return this.array_.pop()};Xl.prototype.peek=function(){if(this.array_.length===0)throw new R2;return this.array_[this.array_.length-1]};Xl.prototype.empty=function(){return this.array_.length===0};Xl.prototype.isEmpty=function(){return this.empty()};Xl.prototype.search=function(e){return this.array_.indexOf(e)};Xl.prototype.size=function(){return this.array_.length};Xl.prototype.toArray=function(){for(var e=this,t=[],n=0,r=this.array_.length;n<r;n++)t.push(e.array_[n]);return t};var jl=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};jl.prototype.getCoordinate=function(){return this._minCoord};jl.prototype.getRightmostSide=function(t,n){var r=this.getRightmostSideOfSegment(t,n);return r<0&&(r=this.getRightmostSideOfSegment(t,n-1)),r<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),r};jl.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();pr.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var n=t[this._minIndex-1],r=t[this._minIndex+1],i=An.computeOrientation(this._minCoord,r,n),a=!1;(n.y<this._minCoord.y&&r.y<this._minCoord.y&&i===An.COUNTERCLOCKWISE||n.y>this._minCoord.y&&r.y>this._minCoord.y&&i===An.CLOCKWISE)&&(a=!0),a&&(this._minIndex=this._minIndex-1)};jl.prototype.getRightmostSideOfSegment=function(t,n){var r=t.getEdge(),i=r.getCoordinates();if(n<0||n+1>=i.length||i[n].y===i[n+1].y)return-1;var a=mn.LEFT;return i[n].y<i[n+1].y&&(a=mn.RIGHT),a};jl.prototype.getEdge=function(){return this._orientedDe};jl.prototype.checkForRightmostCoordinate=function(t){for(var n=this,r=t.getEdge().getCoordinates(),i=0;i<r.length-1;i++)(n._minCoord===null||r[i].x>n._minCoord.x)&&(n._minDe=t,n._minIndex=i,n._minCoord=r[i])};jl.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode(),n=t.getEdges();this._minDe=n.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)};jl.prototype.findEdge=function(t){for(var n=this,r=t.iterator();r.hasNext();){var i=r.next();i.isForward()&&n.checkForRightmostCoordinate(i)}pr.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe;var a=this.getRightmostSide(this._minDe,this._minIndex);a===mn.LEFT&&(this._orientedDe=this._minDe.getSym())};jl.prototype.interfaces_=function(){return[]};jl.prototype.getClass=function(){return jl};var hc=function(e){function t(n,r){e.call(this,t.msgWithCoord(n,r)),this.pt=r?new De(r):null,this.name="TopologyException"}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCoordinate=function(){return this.pt},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.msgWithCoord=function(r,i){return i?r:r+" [ "+i+" ]"},t}(cc),N2=function(){this.array_=[]};N2.prototype.addLast=function(t){this.array_.push(t)};N2.prototype.removeFirst=function(){return this.array_.shift()};N2.prototype.isEmpty=function(){return this.array_.length===0};var ro=function(){this._finder=null,this._dirEdgeList=new Tn,this._nodes=new Tn,this._rightMostCoord=null,this._env=null,this._finder=new jl};ro.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var n=t.next();n.setVisited(!1)}};ro.prototype.getRightmostCoordinate=function(){return this._rightMostCoord};ro.prototype.computeNodeDepth=function(t){for(var n=this,r=null,i=t.getEdges().iterator();i.hasNext();){var a=i.next();if(a.isVisited()||a.getSym().isVisited()){r=a;break}}if(r===null)throw new hc("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(r);for(var s=t.getEdges().iterator();s.hasNext();){var o=s.next();o.setVisited(!0),n.copySymDepths(o)}};ro.prototype.computeDepth=function(t){this.clearVisitedEdges();var n=this._finder.getEdge();n.setEdgeDepths(mn.RIGHT,t),this.copySymDepths(n),this.computeDepths(n)};ro.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()};ro.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var n=t.next();n.getDepth(mn.RIGHT)>=1&&n.getDepth(mn.LEFT)<=0&&!n.isInteriorAreaEdge()&&n.setInResult(!0)}};ro.prototype.computeDepths=function(t){var n=this,r=new iC,i=new N2,a=t.getNode();for(i.addLast(a),r.add(a),t.setVisited(!0);!i.isEmpty();){var s=i.removeFirst();r.add(s),n.computeNodeDepth(s);for(var o=s.getEdges().iterator();o.hasNext();){var l=o.next(),f=l.getSym();if(!f.isVisited()){var u=f.getNode();r.contains(u)||(i.addLast(u),r.add(u))}}}};ro.prototype.compareTo=function(t){var n=t;return this._rightMostCoord.x<n._rightMostCoord.x?-1:this._rightMostCoord.x>n._rightMostCoord.x?1:0};ro.prototype.getEnvelope=function(){if(this._env===null){for(var t=new jn,n=this._dirEdgeList.iterator();n.hasNext();)for(var r=n.next(),i=r.getEdge().getCoordinates(),a=0;a<i.length-1;a++)t.expandToInclude(i[a]);this._env=t}return this._env};ro.prototype.addReachable=function(t){var n=this,r=new Xl;for(r.add(t);!r.empty();){var i=r.pop();n.add(i,r)}};ro.prototype.copySymDepths=function(t){var n=t.getSym();n.setDepth(mn.LEFT,t.getDepth(mn.RIGHT)),n.setDepth(mn.RIGHT,t.getDepth(mn.LEFT))};ro.prototype.add=function(t,n){var r=this;t.setVisited(!0),this._nodes.add(t);for(var i=t.getEdges().iterator();i.hasNext();){var a=i.next();r._dirEdgeList.add(a);var s=a.getSym(),o=s.getNode();o.isVisited()||n.push(o)}};ro.prototype.getNodes=function(){return this._nodes};ro.prototype.getDirectedEdges=function(){return this._dirEdgeList};ro.prototype.interfaces_=function(){return[Ls]};ro.prototype.getClass=function(){return ro};var oi=function e(){var t=this;if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];this.init(n.length)}else if(Number.isInteger(arguments[0])){var r=arguments[0];this.init(1),this.location[mn.ON]=r}else if(arguments[0]instanceof e){var i=arguments[0];if(this.init(i.location.length),i!==null)for(var a=0;a<this.location.length;a++)t.location[a]=i.location[a]}}else if(arguments.length===3){var s=arguments[0],o=arguments[1],l=arguments[2];this.init(3),this.location[mn.ON]=s,this.location[mn.LEFT]=o,this.location[mn.RIGHT]=l}};oi.prototype.setAllLocations=function(t){for(var n=this,r=0;r<this.location.length;r++)n.location[r]=t};oi.prototype.isNull=function(){for(var t=this,n=0;n<this.location.length;n++)if(t.location[n]!==Ve.NONE)return!1;return!0};oi.prototype.setAllLocationsIfNull=function(t){for(var n=this,r=0;r<this.location.length;r++)n.location[r]===Ve.NONE&&(n.location[r]=t)};oi.prototype.isLine=function(){return this.location.length===1};oi.prototype.merge=function(t){var n=this;if(t.location.length>this.location.length){var r=new Array(3).fill(null);r[mn.ON]=this.location[mn.ON],r[mn.LEFT]=Ve.NONE,r[mn.RIGHT]=Ve.NONE,this.location=r}for(var i=0;i<this.location.length;i++)n.location[i]===Ve.NONE&&i<t.location.length&&(n.location[i]=t.location[i])};oi.prototype.getLocations=function(){return this.location};oi.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[mn.LEFT];this.location[mn.LEFT]=this.location[mn.RIGHT],this.location[mn.RIGHT]=t};oi.prototype.toString=function(){var t=new ql;return this.location.length>1&&t.append(Ve.toLocationSymbol(this.location[mn.LEFT])),t.append(Ve.toLocationSymbol(this.location[mn.ON])),this.location.length>1&&t.append(Ve.toLocationSymbol(this.location[mn.RIGHT])),t.toString()};oi.prototype.setLocations=function(t,n,r){this.location[mn.ON]=t,this.location[mn.LEFT]=n,this.location[mn.RIGHT]=r};oi.prototype.get=function(t){return t<this.location.length?this.location[t]:Ve.NONE};oi.prototype.isArea=function(){return this.location.length>1};oi.prototype.isAnyNull=function(){for(var t=this,n=0;n<this.location.length;n++)if(t.location[n]===Ve.NONE)return!0;return!1};oi.prototype.setLocation=function(){if(arguments.length===1){var t=arguments[0];this.setLocation(mn.ON,t)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.location[n]=r}};oi.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(Ve.NONE)};oi.prototype.isEqualOnSide=function(t,n){return this.location[n]===t.location[n]};oi.prototype.allPositionsEqual=function(t){for(var n=this,r=0;r<this.location.length;r++)if(n.location[r]!==t)return!1;return!0};oi.prototype.interfaces_=function(){return[]};oi.prototype.getClass=function(){return oi};var Hr=function e(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new oi(t),this.elt[1]=new oi(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.elt[0]=new oi(n.elt[0]),this.elt[1]=new oi(n.elt[1])}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];this.elt[0]=new oi(Ve.NONE),this.elt[1]=new oi(Ve.NONE),this.elt[r].setLocation(i)}else if(arguments.length===3){var a=arguments[0],s=arguments[1],o=arguments[2];this.elt[0]=new oi(a,s,o),this.elt[1]=new oi(a,s,o)}else if(arguments.length===4){var l=arguments[0],f=arguments[1],u=arguments[2],c=arguments[3];this.elt[0]=new oi(Ve.NONE,Ve.NONE,Ve.NONE),this.elt[1]=new oi(Ve.NONE,Ve.NONE,Ve.NONE),this.elt[l].setLocations(f,u,c)}};Hr.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t};Hr.prototype.setAllLocations=function(t,n){this.elt[t].setAllLocations(n)};Hr.prototype.isNull=function(t){return this.elt[t].isNull()};Hr.prototype.setAllLocationsIfNull=function(){if(arguments.length===1){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.elt[n].setAllLocationsIfNull(r)}};Hr.prototype.isLine=function(t){return this.elt[t].isLine()};Hr.prototype.merge=function(t){for(var n=this,r=0;r<2;r++)n.elt[r]===null&&t.elt[r]!==null?n.elt[r]=new oi(t.elt[r]):n.elt[r].merge(t.elt[r])};Hr.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()};Hr.prototype.getLocation=function(){if(arguments.length===1){var t=arguments[0];return this.elt[t].get(mn.ON)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return this.elt[n].get(r)}};Hr.prototype.toString=function(){var t=new ql;return this.elt[0]!==null&&(t.append("A:"),t.append(this.elt[0].toString())),this.elt[1]!==null&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()};Hr.prototype.isArea=function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var t=arguments[0];return this.elt[t].isArea()}};Hr.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()};Hr.prototype.setLocation=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];this.elt[t].setLocation(mn.ON,n)}else if(arguments.length===3){var r=arguments[0],i=arguments[1],a=arguments[2];this.elt[r].setLocation(i,a)}};Hr.prototype.isEqualOnSide=function(t,n){return this.elt[0].isEqualOnSide(t.elt[0],n)&&this.elt[1].isEqualOnSide(t.elt[1],n)};Hr.prototype.allPositionsEqual=function(t,n){return this.elt[t].allPositionsEqual(n)};Hr.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new oi(this.elt[t].location[0]))};Hr.prototype.interfaces_=function(){return[]};Hr.prototype.getClass=function(){return Hr};Hr.toLineLabel=function(t){for(var n=new Hr(Ve.NONE),r=0;r<2;r++)n.setLocation(r,t.getLocation(r));return n};var qi=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Tn,this._pts=new Tn,this._label=new Hr(Ve.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Tn,this._geometryFactory=null;var t=arguments[0],n=arguments[1];this._geometryFactory=n,this.computePoints(t),this.computeRing()};qi.prototype.computeRing=function(){var t=this;if(this._ring!==null)return null;for(var n=new Array(this._pts.size()).fill(null),r=0;r<this._pts.size();r++)n[r]=t._pts.get(r);this._ring=this._geometryFactory.createLinearRing(n),this._isHole=An.isCCW(this._ring.getCoordinates())};qi.prototype.isIsolated=function(){return this._label.getGeometryCount()===1};qi.prototype.computePoints=function(t){var n=this;this._startDe=t;var r=t,i=!0;do{if(r===null)throw new hc("Found null DirectedEdge");if(r.getEdgeRing()===n)throw new hc("Directed Edge visited twice during ring-building at "+r.getCoordinate());n._edges.add(r);var a=r.getLabel();pr.isTrue(a.isArea()),n.mergeLabel(a),n.addPoints(r.getEdge(),r.isForward(),i),i=!1,n.setEdgeRing(r,n),r=n.getNext(r)}while(r!==this._startDe)};qi.prototype.getLinearRing=function(){return this._ring};qi.prototype.getCoordinate=function(t){return this._pts.get(t)};qi.prototype.computeMaxNodeDegree=function(){var t=this;this._maxNodeDegree=0;var n=this._startDe;do{var r=n.getNode(),i=r.getEdges().getOutgoingDegree(t);i>t._maxNodeDegree&&(t._maxNodeDegree=i),n=t.getNext(n)}while(n!==this._startDe);this._maxNodeDegree*=2};qi.prototype.addPoints=function(t,n,r){var i=this,a=t.getCoordinates();if(n){var s=1;r&&(s=0);for(var o=s;o<a.length;o++)i._pts.add(a[o])}else{var l=a.length-2;r&&(l=a.length-1);for(var f=l;f>=0;f--)i._pts.add(a[f])}};qi.prototype.isHole=function(){return this._isHole};qi.prototype.setInResult=function(){var t=this._startDe;do t.getEdge().setInResult(!0),t=t.getNext();while(t!==this._startDe)};qi.prototype.containsPoint=function(t){var n=this.getLinearRing(),r=n.getEnvelopeInternal();if(!r.contains(t)||!An.isPointInRing(t,n.getCoordinates()))return!1;for(var i=this._holes.iterator();i.hasNext();){var a=i.next();if(a.containsPoint(t))return!1}return!0};qi.prototype.addHole=function(t){this._holes.add(t)};qi.prototype.isShell=function(){return this._shell===null};qi.prototype.getLabel=function(){return this._label};qi.prototype.getEdges=function(){return this._edges};qi.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree};qi.prototype.getShell=function(){return this._shell};qi.prototype.mergeLabel=function(){if(arguments.length===1){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(arguments.length===2){var n=arguments[0],r=arguments[1],i=n.getLocation(r,mn.RIGHT);if(i===Ve.NONE)return null;if(this._label.getLocation(r)===Ve.NONE)return this._label.setLocation(r,i),null}};qi.prototype.setShell=function(t){this._shell=t,t!==null&&t.addHole(this)};qi.prototype.toPolygon=function(t){for(var n=this,r=new Array(this._holes.size()).fill(null),i=0;i<this._holes.size();i++)r[i]=n._holes.get(i).getLinearRing();var a=t.createPolygon(this.getLinearRing(),r);return a};qi.prototype.interfaces_=function(){return[]};qi.prototype.getClass=function(){return qi};var zdt=function(e){function t(){var n=arguments[0],r=arguments[1];e.call(this,n,r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setEdgeRing=function(r,i){r.setMinEdgeRing(i)},t.prototype.getNext=function(r){return r.getNextMin()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(qi),Bdt=function(e){function t(){var n=arguments[0],r=arguments[1];e.call(this,n,r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.buildMinimalRings=function(){var r=this,i=new Tn,a=this._startDe;do{if(a.getMinEdgeRing()===null){var s=new zdt(a,r._geometryFactory);i.add(s)}a=a.getNext()}while(a!==this._startDe);return i},t.prototype.setEdgeRing=function(r,i){r.setEdgeRing(i)},t.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var r=this,i=this._startDe;do{var a=i.getNode();a.getEdges().linkMinimalDirectedEdges(r),i=i.getNext()}while(i!==this._startDe)},t.prototype.getNext=function(r){return r.getNext()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(qi),Qo=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this._label=t}}};Qo.prototype.setVisited=function(t){this._isVisited=t};Qo.prototype.setInResult=function(t){this._isInResult=t};Qo.prototype.isCovered=function(){return this._isCovered};Qo.prototype.isCoveredSet=function(){return this._isCoveredSet};Qo.prototype.setLabel=function(t){this._label=t};Qo.prototype.getLabel=function(){return this._label};Qo.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0};Qo.prototype.updateIM=function(t){pr.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)};Qo.prototype.isInResult=function(){return this._isInResult};Qo.prototype.isVisited=function(){return this._isVisited};Qo.prototype.interfaces_=function(){return[]};Qo.prototype.getClass=function(){return Qo};var k2=function(e){function t(){e.call(this),this._coord=null,this._edges=null;var n=arguments[0],r=arguments[1];this._coord=n,this._edges=r,this._label=new Hr(0,Ve.NONE)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isIncidentEdgeInResult=function(){for(var r=this.getEdges().getEdges().iterator();r.hasNext();){var i=r.next();if(i.getEdge().isInResult())return!0}return!1},t.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},t.prototype.getCoordinate=function(){return this._coord},t.prototype.print=function(r){r.println("node "+this._coord+" lbl: "+this._label)},t.prototype.computeIM=function(r){},t.prototype.computeMergedLocation=function(r,i){var a=Ve.NONE;if(a=this._label.getLocation(i),!r.isNull(i)){var s=r.getLocation(i);a!==Ve.BOUNDARY&&(a=s)}return a},t.prototype.setLabel=function(){if(arguments.length===2){var r=arguments[0],i=arguments[1];this._label===null?this._label=new Hr(r,i):this._label.setLocation(r,i)}else return e.prototype.setLabel.apply(this,arguments)},t.prototype.getEdges=function(){return this._edges},t.prototype.mergeLabel=function(){var r=this;if(arguments[0]instanceof t){var i=arguments[0];this.mergeLabel(i._label)}else if(arguments[0]instanceof Hr)for(var a=arguments[0],s=0;s<2;s++){var o=r.computeMergedLocation(a,s),l=r._label.getLocation(s);l===Ve.NONE&&r._label.setLocation(s,o)}},t.prototype.add=function(r){this._edges.insert(r),r.setNode(this)},t.prototype.setLabelBoundary=function(r){if(this._label===null)return null;var i=Ve.NONE;this._label!==null&&(i=this._label.getLocation(r));var a=null;switch(i){case Ve.BOUNDARY:a=Ve.INTERIOR;break;case Ve.INTERIOR:a=Ve.BOUNDARY;break;default:a=Ve.BOUNDARY;break}this._label.setLocation(r,a)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Qo),Ul=function(){this.nodeMap=new Va,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};Ul.prototype.find=function(t){return this.nodeMap.get(t)};Ul.prototype.addNode=function(){if(arguments[0]instanceof De){var t=arguments[0],n=this.nodeMap.get(t);return n===null&&(n=this.nodeFact.createNode(t),this.nodeMap.put(t,n)),n}else if(arguments[0]instanceof k2){var r=arguments[0],i=this.nodeMap.get(r.getCoordinate());return i===null?(this.nodeMap.put(r.getCoordinate(),r),r):(i.mergeLabel(r),i)}};Ul.prototype.print=function(t){for(var n=this.iterator();n.hasNext();){var r=n.next();r.print(t)}};Ul.prototype.iterator=function(){return this.nodeMap.values().iterator()};Ul.prototype.values=function(){return this.nodeMap.values()};Ul.prototype.getBoundaryNodes=function(t){for(var n=new Tn,r=this.iterator();r.hasNext();){var i=r.next();i.getLabel().getLocation(t)===Ve.BOUNDARY&&n.add(i)}return n};Ul.prototype.add=function(t){var n=t.getCoordinate(),r=this.addNode(n);r.add(t)};Ul.prototype.interfaces_=function(){return[]};Ul.prototype.getClass=function(){return Ul};var Zr=function(){},Ky={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Zr.prototype.interfaces_=function(){return[]};Zr.prototype.getClass=function(){return Zr};Zr.isNorthern=function(t){return t===Zr.NE||t===Zr.NW};Zr.isOpposite=function(t,n){if(t===n)return!1;var r=(t-n+4)%4;return r===2};Zr.commonHalfPlane=function(t,n){if(t===n)return t;var r=(t-n+4)%4;if(r===2)return-1;var i=t<n?t:n,a=t>n?t:n;return i===0&&a===3?3:i};Zr.isInHalfPlane=function(t,n){return n===Zr.SE?t===Zr.SE||t===Zr.SW:t===n||t===n+1};Zr.quadrant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],n=arguments[1];if(t===0&&n===0)throw new Ti("Cannot compute the quadrant for point ( "+t+", "+n+" )");return t>=0?n>=0?Zr.NE:Zr.SE:n>=0?Zr.NW:Zr.SW}else if(arguments[0]instanceof De&&arguments[1]instanceof De){var r=arguments[0],i=arguments[1];if(i.x===r.x&&i.y===r.y)throw new Ti("Cannot compute the quadrant for two identical points "+r);return i.x>=r.x?i.y>=r.y?Zr.NE:Zr.SE:i.y>=r.y?Zr.NW:Zr.SW}};Ky.NE.get=function(){return 0};Ky.NW.get=function(){return 1};Ky.SW.get=function(){return 2};Ky.SE.get=function(){return 3};Object.defineProperties(Zr,Ky);var Ha=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var t=arguments[0];this._edge=t}else if(arguments.length===3){var n=arguments[0],r=arguments[1],i=arguments[2],a=null;this._edge=n,this.init(r,i),this._label=a}else if(arguments.length===4){var s=arguments[0],o=arguments[1],l=arguments[2],f=arguments[3];this._edge=s,this.init(o,l),this._label=f}};Ha.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:An.computeOrientation(t._p0,t._p1,this._p1)};Ha.prototype.getDy=function(){return this._dy};Ha.prototype.getCoordinate=function(){return this._p0};Ha.prototype.setNode=function(t){this._node=t};Ha.prototype.print=function(t){var n=Math.atan2(this._dy,this._dx),r=this.getClass().getName(),i=r.lastIndexOf("."),a=r.substring(i+1);t.print("  "+a+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+n+"   "+this._label)};Ha.prototype.compareTo=function(t){var n=t;return this.compareDirection(n)};Ha.prototype.getDirectedCoordinate=function(){return this._p1};Ha.prototype.getDx=function(){return this._dx};Ha.prototype.getLabel=function(){return this._label};Ha.prototype.getEdge=function(){return this._edge};Ha.prototype.getQuadrant=function(){return this._quadrant};Ha.prototype.getNode=function(){return this._node};Ha.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);return"  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label};Ha.prototype.computeLabel=function(t){};Ha.prototype.init=function(t,n){this._p0=t,this._p1=n,this._dx=n.x-t.x,this._dy=n.y-t.y,this._quadrant=Zr.quadrant(this._dx,this._dy),pr.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")};Ha.prototype.interfaces_=function(){return[Ls]};Ha.prototype.getClass=function(){return Ha};var CE=function(e){function t(){var n=arguments[0],r=arguments[1];if(e.call(this,n),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=r,r)this.init(n.getCoordinate(0),n.getCoordinate(1));else{var i=n.getNumPoints()-1;this.init(n.getCoordinate(i),n.getCoordinate(i-1))}this.computeDirectedLabel()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getNextMin=function(){return this._nextMin},t.prototype.getDepth=function(r){return this._depth[r]},t.prototype.setVisited=function(r){this._isVisited=r},t.prototype.computeDirectedLabel=function(){this._label=new Hr(this._edge.getLabel()),this._isForward||this._label.flip()},t.prototype.getNext=function(){return this._next},t.prototype.setDepth=function(r,i){if(this._depth[r]!==-999&&this._depth[r]!==i)throw new hc("assigned depths do not match",this.getCoordinate());this._depth[r]=i},t.prototype.isInteriorAreaEdge=function(){for(var r=this,i=!0,a=0;a<2;a++)r._label.isArea(a)&&r._label.getLocation(a,mn.LEFT)===Ve.INTERIOR&&r._label.getLocation(a,mn.RIGHT)===Ve.INTERIOR||(i=!1);return i},t.prototype.setNextMin=function(r){this._nextMin=r},t.prototype.print=function(r){e.prototype.print.call(this,r),r.print(" "+this._depth[mn.LEFT]+"/"+this._depth[mn.RIGHT]),r.print(" ("+this.getDepthDelta()+")"),this._isInResult&&r.print(" inResult")},t.prototype.setMinEdgeRing=function(r){this._minEdgeRing=r},t.prototype.isLineEdge=function(){var r=this._label.isLine(0)||this._label.isLine(1),i=!this._label.isArea(0)||this._label.allPositionsEqual(0,Ve.EXTERIOR),a=!this._label.isArea(1)||this._label.allPositionsEqual(1,Ve.EXTERIOR);return r&&i&&a},t.prototype.setEdgeRing=function(r){this._edgeRing=r},t.prototype.getMinEdgeRing=function(){return this._minEdgeRing},t.prototype.getDepthDelta=function(){var r=this._edge.getDepthDelta();return this._isForward||(r=-r),r},t.prototype.setInResult=function(r){this._isInResult=r},t.prototype.getSym=function(){return this._sym},t.prototype.isForward=function(){return this._isForward},t.prototype.getEdge=function(){return this._edge},t.prototype.printEdge=function(r){this.print(r),r.print(" "),this._isForward?this._edge.print(r):this._edge.printReverse(r)},t.prototype.setSym=function(r){this._sym=r},t.prototype.setVisitedEdge=function(r){this.setVisited(r),this._sym.setVisited(r)},t.prototype.setEdgeDepths=function(r,i){var a=this.getEdge().getDepthDelta();this._isForward||(a=-a);var s=1;r===mn.LEFT&&(s=-1);var o=mn.opposite(r),l=a*s,f=i+l;this.setDepth(r,i),this.setDepth(o,f)},t.prototype.getEdgeRing=function(){return this._edgeRing},t.prototype.isInResult=function(){return this._isInResult},t.prototype.setNext=function(r){this._next=r},t.prototype.isVisited=function(){return this._isVisited},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.depthFactor=function(r,i){return r===Ve.EXTERIOR&&i===Ve.INTERIOR?1:r===Ve.INTERIOR&&i===Ve.EXTERIOR?-1:0},t}(Ha),p0=function(){};p0.prototype.createNode=function(t){return new k2(t,null)};p0.prototype.interfaces_=function(){return[]};p0.prototype.getClass=function(){return p0};var Si=function(){if(this._edges=new Tn,this._nodes=null,this._edgeEndList=new Tn,arguments.length===0)this._nodes=new Ul(new p0);else if(arguments.length===1){var t=arguments[0];this._nodes=new Ul(t)}};Si.prototype.printEdges=function(t){var n=this;t.println("Edges:");for(var r=0;r<this._edges.size();r++){t.println("edge "+r+":");var i=n._edges.get(r);i.print(t),i.eiList.print(t)}};Si.prototype.find=function(t){return this._nodes.find(t)};Si.prototype.addNode=function(){if(arguments[0]instanceof k2){var t=arguments[0];return this._nodes.addNode(t)}else if(arguments[0]instanceof De){var n=arguments[0];return this._nodes.addNode(n)}};Si.prototype.getNodeIterator=function(){return this._nodes.iterator()};Si.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();){var n=t.next();n.getEdges().linkResultDirectedEdges()}};Si.prototype.debugPrintln=function(t){Oa.out.println(t)};Si.prototype.isBoundaryNode=function(t,n){var r=this._nodes.find(n);if(r===null)return!1;var i=r.getLabel();return i!==null&&i.getLocation(t)===Ve.BOUNDARY};Si.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();){var n=t.next();n.getEdges().linkAllDirectedEdges()}};Si.prototype.matchInSameDirection=function(t,n,r,i){return t.equals(r)?An.computeOrientation(t,n,i)===An.COLLINEAR&&Zr.quadrant(t,n)===Zr.quadrant(r,i):!1};Si.prototype.getEdgeEnds=function(){return this._edgeEndList};Si.prototype.debugPrint=function(t){Oa.out.print(t)};Si.prototype.getEdgeIterator=function(){return this._edges.iterator()};Si.prototype.findEdgeInSameDirection=function(t,n){for(var r=this,i=0;i<this._edges.size();i++){var a=r._edges.get(i),s=a.getCoordinates();if(r.matchInSameDirection(t,n,s[0],s[1])||r.matchInSameDirection(t,n,s[s.length-1],s[s.length-2]))return a}return null};Si.prototype.insertEdge=function(t){this._edges.add(t)};Si.prototype.findEdgeEnd=function(t){for(var n=this.getEdgeEnds().iterator();n.hasNext();){var r=n.next();if(r.getEdge()===t)return r}return null};Si.prototype.addEdges=function(t){for(var n=this,r=t.iterator();r.hasNext();){var i=r.next();n._edges.add(i);var a=new CE(i,!0),s=new CE(i,!1);a.setSym(s),s.setSym(a),n.add(a),n.add(s)}};Si.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)};Si.prototype.getNodes=function(){return this._nodes.values()};Si.prototype.findEdge=function(t,n){for(var r=this,i=0;i<this._edges.size();i++){var a=r._edges.get(i),s=a.getCoordinates();if(t.equals(s[0])&&n.equals(s[1]))return a}return null};Si.prototype.interfaces_=function(){return[]};Si.prototype.getClass=function(){return Si};Si.linkResultDirectedEdges=function(t){for(var n=t.iterator();n.hasNext();){var r=n.next();r.getEdges().linkResultDirectedEdges()}};var Lo=function(){this._geometryFactory=null,this._shellList=new Tn;var t=arguments[0];this._geometryFactory=t};Lo.prototype.sortShellsAndHoles=function(t,n,r){for(var i=t.iterator();i.hasNext();){var a=i.next();a.isHole()?r.add(a):n.add(a)}};Lo.prototype.computePolygons=function(t){for(var n=this,r=new Tn,i=t.iterator();i.hasNext();){var a=i.next(),s=a.toPolygon(n._geometryFactory);r.add(s)}return r};Lo.prototype.placeFreeHoles=function(t,n){for(var r=this,i=n.iterator();i.hasNext();){var a=i.next();if(a.getShell()===null){var s=r.findEdgeRingContaining(a,t);if(s===null)throw new hc("unable to assign hole to a shell",a.getCoordinate(0));a.setShell(s)}}};Lo.prototype.buildMinimalEdgeRings=function(t,n,r){for(var i=this,a=new Tn,s=t.iterator();s.hasNext();){var o=s.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var l=o.buildMinimalRings(),f=i.findShell(l);f!==null?(i.placePolygonHoles(f,l),n.add(f)):r.addAll(l)}else a.add(o)}return a};Lo.prototype.containsPoint=function(t){for(var n=this._shellList.iterator();n.hasNext();){var r=n.next();if(r.containsPoint(t))return!0}return!1};Lo.prototype.buildMaximalEdgeRings=function(t){for(var n=this,r=new Tn,i=t.iterator();i.hasNext();){var a=i.next();if(a.isInResult()&&a.getLabel().isArea()&&a.getEdgeRing()===null){var s=new Bdt(a,n._geometryFactory);r.add(s),s.setInResult()}}return r};Lo.prototype.placePolygonHoles=function(t,n){for(var r=n.iterator();r.hasNext();){var i=r.next();i.isHole()&&i.setShell(t)}};Lo.prototype.getPolygons=function(){var t=this.computePolygons(this._shellList);return t};Lo.prototype.findEdgeRingContaining=function(t,n){for(var r=t.getLinearRing(),i=r.getEnvelopeInternal(),a=r.getCoordinateN(0),s=null,o=null,l=n.iterator();l.hasNext();){var f=l.next(),u=f.getLinearRing(),c=u.getEnvelopeInternal();s!==null&&(o=s.getLinearRing().getEnvelopeInternal());var h=!1;c.contains(i)&&An.isPointInRing(a,u.getCoordinates())&&(h=!0),h&&(s===null||o.contains(c))&&(s=f)}return s};Lo.prototype.findShell=function(t){for(var n=0,r=null,i=t.iterator();i.hasNext();){var a=i.next();a.isHole()||(r=a,n++)}return pr.isTrue(n<=1,"found two shells in MinimalEdgeRing list"),r};Lo.prototype.add=function(){if(arguments.length===1){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(arguments.length===2){var n=arguments[0],r=arguments[1];Si.linkResultDirectedEdges(r);var i=this.buildMaximalEdgeRings(n),a=new Tn,s=this.buildMinimalEdgeRings(i,this._shellList,a);this.sortShellsAndHoles(s,this._shellList,a),this.placeFreeHoles(this._shellList,a)}};Lo.prototype.interfaces_=function(){return[]};Lo.prototype.getClass=function(){return Lo};var g0=function(){};g0.prototype.getBounds=function(){};g0.prototype.interfaces_=function(){return[]};g0.prototype.getClass=function(){return g0};var rl=function(){this._bounds=null,this._item=null;var t=arguments[0],n=arguments[1];this._bounds=t,this._item=n};rl.prototype.getItem=function(){return this._item};rl.prototype.getBounds=function(){return this._bounds};rl.prototype.interfaces_=function(){return[g0,Ps]};rl.prototype.getClass=function(){return rl};var dc=function(){this._size=null,this._items=null,this._size=0,this._items=new Tn,this._items.add(null)};dc.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t};dc.prototype.size=function(){return this._size};dc.prototype.reorder=function(t){for(var n=this,r=null,i=this._items.get(t);t*2<=this._size&&(r=t*2,r!==n._size&&n._items.get(r+1).compareTo(n._items.get(r))<0&&r++,n._items.get(r).compareTo(i)<0);t=r)n._items.set(t,n._items.get(r));this._items.set(t,i)};dc.prototype.clear=function(){this._size=0,this._items.clear()};dc.prototype.isEmpty=function(){return this._size===0};dc.prototype.add=function(t){var n=this;this._items.add(null),this._size+=1;var r=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(r/2)))<0;r/=2)n._items.set(r,n._items.get(Math.trunc(r/2)));this._items.set(r,t)};dc.prototype.interfaces_=function(){return[]};dc.prototype.getClass=function(){return dc};var af=function(){};af.prototype.visitItem=function(t){};af.prototype.interfaces_=function(){return[]};af.prototype.getClass=function(){return af};var Wd=function(){};Wd.prototype.insert=function(t,n){};Wd.prototype.remove=function(t,n){};Wd.prototype.query=function(){};Wd.prototype.interfaces_=function(){return[]};Wd.prototype.getClass=function(){return Wd};var ea=function(){if(this._childBoundables=new Tn,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this._level=t}}},Ak={serialVersionUID:{configurable:!0}};ea.prototype.getLevel=function(){return this._level};ea.prototype.size=function(){return this._childBoundables.size()};ea.prototype.getChildBoundables=function(){return this._childBoundables};ea.prototype.addChildBoundable=function(t){pr.isTrue(this._bounds===null),this._childBoundables.add(t)};ea.prototype.isEmpty=function(){return this._childBoundables.isEmpty()};ea.prototype.getBounds=function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds};ea.prototype.interfaces_=function(){return[g0,Ps]};ea.prototype.getClass=function(){return ea};Ak.serialVersionUID.get=function(){return 6493722185909574e3};Object.defineProperties(ea,Ak);var il=function(){};il.reverseOrder=function(){return{compare:function(n,r){return r.compareTo(n)}}};il.min=function(t){return il.sort(t),t.get(0)};il.sort=function(t,n){var r=t.toArray();n?lh.sort(r,n):lh.sort(r);for(var i=t.iterator(),a=0,s=r.length;a<s;a++)i.next(),i.set(r[a])};il.singletonList=function(t){var n=new Tn;return n.add(t),n};var Wi=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],n=arguments[1],r=arguments[2];this._boundable1=t,this._boundable2=n,this._itemDistance=r,this._distance=this.distance()};Wi.prototype.expandToQueue=function(t,n){var r=Wi.isComposite(this._boundable1),i=Wi.isComposite(this._boundable2);if(r&&i)return Wi.area(this._boundable1)>Wi.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,n),null):(this.expand(this._boundable2,this._boundable1,t,n),null);if(r)return this.expand(this._boundable1,this._boundable2,t,n),null;if(i)return this.expand(this._boundable2,this._boundable1,t,n),null;throw new Ti("neither boundable is composite")};Wi.prototype.isLeaves=function(){return!(Wi.isComposite(this._boundable1)||Wi.isComposite(this._boundable2))};Wi.prototype.compareTo=function(t){var n=t;return this._distance<n._distance?-1:this._distance>n._distance?1:0};Wi.prototype.expand=function(t,n,r,i){for(var a=this,s=t.getChildBoundables(),o=s.iterator();o.hasNext();){var l=o.next(),f=new Wi(l,n,a._itemDistance);f.getDistance()<i&&r.add(f)}};Wi.prototype.getBoundable=function(t){return t===0?this._boundable1:this._boundable2};Wi.prototype.getDistance=function(){return this._distance};Wi.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())};Wi.prototype.interfaces_=function(){return[Ls]};Wi.prototype.getClass=function(){return Wi};Wi.area=function(t){return t.getBounds().getArea()};Wi.isComposite=function(t){return t instanceof ea};var _a=function e(){if(this._root=null,this._built=!1,this._itemBoundables=new Tn,this._nodeCapacity=null,arguments.length===0){var t=e.DEFAULT_NODE_CAPACITY;this._nodeCapacity=t}else if(arguments.length===1){var n=arguments[0];pr.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},D2={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};_a.prototype.getNodeCapacity=function(){return this._nodeCapacity};_a.prototype.lastNode=function(t){return t.get(t.size()-1)};_a.prototype.size=function(){var t=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var n=arguments[0],r=0,i=n.getChildBoundables().iterator();i.hasNext();){var a=i.next();a instanceof ea?r+=t.size(a):a instanceof rl&&(r+=1)}return r}};_a.prototype.removeItem=function(t,n){for(var r=null,i=t.getChildBoundables().iterator();i.hasNext();){var a=i.next();a instanceof rl&&a.getItem()===n&&(r=a)}return r!==null?(t.getChildBoundables().remove(r),!0):!1};_a.prototype.itemsTree=function(){var t=this;if(arguments.length===0){this.build();var n=this.itemsTree(this._root);return n===null?new Tn:n}else if(arguments.length===1){for(var r=arguments[0],i=new Tn,a=r.getChildBoundables().iterator();a.hasNext();){var s=a.next();if(s instanceof ea){var o=t.itemsTree(s);o!==null&&i.add(o)}else s instanceof rl?i.add(s.getItem()):pr.shouldNeverReachHere()}return i.size()<=0?null:i}};_a.prototype.insert=function(t,n){pr.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new rl(t,n))};_a.prototype.boundablesAtLevel=function(){var t=this;if(arguments.length===1){var n=arguments[0],r=new Tn;return this.boundablesAtLevel(n,this._root,r),r}else if(arguments.length===3){var i=arguments[0],a=arguments[1],s=arguments[2];if(pr.isTrue(i>-2),a.getLevel()===i)return s.add(a),null;for(var o=a.getChildBoundables().iterator();o.hasNext();){var l=o.next();l instanceof ea?t.boundablesAtLevel(i,l,s):(pr.isTrue(l instanceof rl),i===-1&&s.add(l))}return null}};_a.prototype.query=function(){var t=this;if(arguments.length===1){var n=arguments[0];this.build();var r=new Tn;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r),r}else if(arguments.length===2){var i=arguments[0],a=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),i)&&this.query(i,this._root,a)}else if(arguments.length===3){if(Jn(arguments[2],af)&&arguments[0]instanceof Object&&arguments[1]instanceof ea)for(var s=arguments[0],o=arguments[1],l=arguments[2],f=o.getChildBoundables(),u=0;u<f.size();u++){var c=f.get(u);t.getIntersectsOp().intersects(c.getBounds(),s)&&(c instanceof ea?t.query(s,c,l):c instanceof rl?l.visitItem(c.getItem()):pr.shouldNeverReachHere())}else if(Jn(arguments[2],Ks)&&arguments[0]instanceof Object&&arguments[1]instanceof ea)for(var h=arguments[0],d=arguments[1],p=arguments[2],g=d.getChildBoundables(),m=0;m<g.size();m++){var v=g.get(m);t.getIntersectsOp().intersects(v.getBounds(),h)&&(v instanceof ea?t.query(h,v,p):v instanceof rl?p.add(v.getItem()):pr.shouldNeverReachHere())}}};_a.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0};_a.prototype.getRoot=function(){return this.build(),this._root};_a.prototype.remove=function(){var t=this;if(arguments.length===2){var n=arguments[0],r=arguments[1];return this.build(),this.getIntersectsOp().intersects(this._root.getBounds(),n)?this.remove(n,this._root,r):!1}else if(arguments.length===3){var i=arguments[0],a=arguments[1],s=arguments[2],o=this.removeItem(a,s);if(o)return!0;for(var l=null,f=a.getChildBoundables().iterator();f.hasNext();){var u=f.next();if(t.getIntersectsOp().intersects(u.getBounds(),i)&&u instanceof ea&&(o=t.remove(i,u,s),o)){l=u;break}}return l!==null&&l.getChildBoundables().isEmpty()&&a.getChildBoundables().remove(l),o}};_a.prototype.createHigherLevels=function(t,n){pr.isTrue(!t.isEmpty());var r=this.createParentBoundables(t,n+1);return r.size()===1?r.get(0):this.createHigherLevels(r,n+1)};_a.prototype.depth=function(){var t=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var n=arguments[0],r=0,i=n.getChildBoundables().iterator();i.hasNext();){var a=i.next();if(a instanceof ea){var s=t.depth(a);s>r&&(r=s)}}return r+1}};_a.prototype.createParentBoundables=function(t,n){var r=this;pr.isTrue(!t.isEmpty());var i=new Tn;i.add(this.createNode(n));var a=new Tn(t);il.sort(a,this.getComparator());for(var s=a.iterator();s.hasNext();){var o=s.next();r.lastNode(i).getChildBoundables().size()===r.getNodeCapacity()&&i.add(r.createNode(n)),r.lastNode(i).addChildBoundable(o)}return i};_a.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()};_a.prototype.interfaces_=function(){return[Ps]};_a.prototype.getClass=function(){return _a};_a.compareDoubles=function(t,n){return t>n?1:t<n?-1:0};D2.IntersectsOp.get=function(){return Gdt};D2.serialVersionUID.get=function(){return-3886435814360241e3};D2.DEFAULT_NODE_CAPACITY.get=function(){return 10};Object.defineProperties(_a,D2);var Gdt=function(){},m0=function(){};m0.prototype.distance=function(t,n){};m0.prototype.interfaces_=function(){return[]};m0.prototype.getClass=function(){return m0};var Ik=function(e){function t(r){r=r||t.DEFAULT_NODE_CAPACITY,e.call(this,r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return t.prototype.createParentBoundablesFromVerticalSlices=function(i,a){var s=this;pr.isTrue(i.length>0);for(var o=new Tn,l=0;l<i.length;l++)o.addAll(s.createParentBoundablesFromVerticalSlice(i[l],a));return o},t.prototype.createNode=function(i){return new lP(i)},t.prototype.size=function(){return arguments.length===0?e.prototype.size.call(this):e.prototype.size.apply(this,arguments)},t.prototype.insert=function(){if(arguments.length===2){var i=arguments[0],a=arguments[1];if(i.isNull())return null;e.prototype.insert.call(this,i,a)}else return e.prototype.insert.apply(this,arguments)},t.prototype.getIntersectsOp=function(){return t.intersectsOp},t.prototype.verticalSlices=function(i,a){for(var s=Math.trunc(Math.ceil(i.size()/a)),o=new Array(a).fill(null),l=i.iterator(),f=0;f<a;f++){o[f]=new Tn;for(var u=0;l.hasNext()&&u<s;){var c=l.next();o[f].add(c),u++}}return o},t.prototype.query=function(){if(arguments.length===1){var i=arguments[0];return e.prototype.query.call(this,i)}else if(arguments.length===2){var a=arguments[0],s=arguments[1];e.prototype.query.call(this,a,s)}else if(arguments.length===3){if(Jn(arguments[2],af)&&arguments[0]instanceof Object&&arguments[1]instanceof ea){var o=arguments[0],l=arguments[1],f=arguments[2];e.prototype.query.call(this,o,l,f)}else if(Jn(arguments[2],Ks)&&arguments[0]instanceof Object&&arguments[1]instanceof ea){var u=arguments[0],c=arguments[1],h=arguments[2];e.prototype.query.call(this,u,c,h)}}},t.prototype.getComparator=function(){return t.yComparator},t.prototype.createParentBoundablesFromVerticalSlice=function(i,a){return e.prototype.createParentBoundables.call(this,i,a)},t.prototype.remove=function(){if(arguments.length===2){var i=arguments[0],a=arguments[1];return e.prototype.remove.call(this,i,a)}else return e.prototype.remove.apply(this,arguments)},t.prototype.depth=function(){return arguments.length===0?e.prototype.depth.call(this):e.prototype.depth.apply(this,arguments)},t.prototype.createParentBoundables=function(i,a){pr.isTrue(!i.isEmpty());var s=Math.trunc(Math.ceil(i.size()/this.getNodeCapacity())),o=new Tn(i);il.sort(o,t.xComparator);var l=this.verticalSlices(o,Math.trunc(Math.ceil(Math.sqrt(s))));return this.createParentBoundablesFromVerticalSlices(l,a)},t.prototype.nearestNeighbour=function(){if(arguments.length===1){if(Jn(arguments[0],m0)){var i=arguments[0],a=new Wi(this.getRoot(),this.getRoot(),i);return this.nearestNeighbour(a)}else if(arguments[0]instanceof Wi){var s=arguments[0];return this.nearestNeighbour(s,ir.POSITIVE_INFINITY)}}else if(arguments.length===2){if(arguments[0]instanceof t&&Jn(arguments[1],m0)){var o=arguments[0],l=arguments[1],f=new Wi(this.getRoot(),o.getRoot(),l);return this.nearestNeighbour(f)}else if(arguments[0]instanceof Wi&&typeof arguments[1]=="number"){var u=arguments[0],c=arguments[1],h=c,d=null,p=new dc;for(p.add(u);!p.isEmpty()&&h>0;){var g=p.poll(),m=g.getDistance();if(m>=h)break;g.isLeaves()?(h=m,d=g):g.expandToQueue(p,h)}return[d.getBoundable(0).getItem(),d.getBoundable(1).getItem()]}}else if(arguments.length===3){var v=arguments[0],y=arguments[1],_=arguments[2],x=new rl(v,y),w=new Wi(this.getRoot(),x,_);return this.nearestNeighbour(w)[0]}},t.prototype.interfaces_=function(){return[Wd,Ps]},t.prototype.getClass=function(){return t},t.centreX=function(i){return t.avg(i.getMinX(),i.getMaxX())},t.avg=function(i,a){return(i+a)/2},t.centreY=function(i){return t.avg(i.getMinY(),i.getMaxY())},n.STRtreeNode.get=function(){return lP},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[o0]},compare:function(r,i){return e.compareDoubles(t.centreX(r.getBounds()),t.centreX(i.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[o0]},compare:function(r,i){return e.compareDoubles(t.centreY(r.getBounds()),t.centreY(i.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[e.IntersectsOp]},intersects:function(r,i){return r.intersects(i)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(t,n),t}(_a),lP=function(e){function t(){var n=arguments[0];e.call(this,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.computeBounds=function(){for(var r=null,i=this.getChildBoundables().iterator();i.hasNext();){var a=i.next();r===null?r=new jn(a.getBounds()):r.expandToInclude(a.getBounds())}return r},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(ea),po=function(){};po.prototype.interfaces_=function(){return[]};po.prototype.getClass=function(){return po};po.relativeSign=function(t,n){return t<n?-1:t>n?1:0};po.compare=function(t,n,r){if(n.equals2D(r))return 0;var i=po.relativeSign(n.x,r.x),a=po.relativeSign(n.y,r.y);switch(t){case 0:return po.compareValue(i,a);case 1:return po.compareValue(a,i);case 2:return po.compareValue(a,-i);case 3:return po.compareValue(-i,a);case 4:return po.compareValue(-i,-a);case 5:return po.compareValue(-a,-i);case 6:return po.compareValue(-a,i);case 7:return po.compareValue(i,-a)}return pr.shouldNeverReachHere("invalid octant value"),0};po.compareValue=function(t,n){return t<0?-1:t>0?1:n<0?-1:n>0?1:0};var of=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this._segString=t,this.coord=new De(n),this.segmentIndex=r,this._segmentOctant=i,this._isInterior=!n.equals2D(t.getCoordinate(r))};of.prototype.getCoordinate=function(){return this.coord};of.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)};of.prototype.compareTo=function(t){var n=t;return this.segmentIndex<n.segmentIndex?-1:this.segmentIndex>n.segmentIndex?1:this.coord.equals2D(n.coord)?0:po.compare(this._segmentOctant,this.coord,n.coord)};of.prototype.isEndPoint=function(t){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===t};of.prototype.isInterior=function(){return this._isInterior};of.prototype.interfaces_=function(){return[Ls]};of.prototype.getClass=function(){return of};var io=function(){this._nodeMap=new Va,this._edge=null;var t=arguments[0];this._edge=t};io.prototype.getSplitCoordinates=function(){var t=this,n=new qy;this.addEndpoints();for(var r=this.iterator(),i=r.next();r.hasNext();){var a=r.next();t.addEdgeCoordinates(i,a,n),i=a}return n.toCoordinateArray()};io.prototype.addCollapsedNodes=function(){var t=this,n=new Tn;this.findCollapsesFromInsertedNodes(n),this.findCollapsesFromExistingVertices(n);for(var r=n.iterator();r.hasNext();){var i=r.next().intValue();t.add(t._edge.getCoordinate(i),i)}};io.prototype.print=function(t){t.println("Intersections:");for(var n=this.iterator();n.hasNext();){var r=n.next();r.print(t)}};io.prototype.findCollapsesFromExistingVertices=function(t){for(var n=this,r=0;r<this._edge.size()-2;r++){var i=n._edge.getCoordinate(r),a=n._edge.getCoordinate(r+2);i.equals2D(a)&&t.add(new Fl(r+1))}};io.prototype.addEdgeCoordinates=function(t,n,r){var i=this,a=this._edge.getCoordinate(n.segmentIndex),s=n.isInterior()||!n.coord.equals2D(a);r.add(new De(t.coord),!1);for(var o=t.segmentIndex+1;o<=n.segmentIndex;o++)r.add(i._edge.getCoordinate(o));s&&r.add(new De(n.coord))};io.prototype.iterator=function(){return this._nodeMap.values().iterator()};io.prototype.addSplitEdges=function(t){var n=this;this.addEndpoints(),this.addCollapsedNodes();for(var r=this.iterator(),i=r.next();r.hasNext();){var a=r.next(),s=n.createSplitEdge(i,a);t.add(s),i=a}};io.prototype.findCollapseIndex=function(t,n,r){if(!t.coord.equals2D(n.coord))return!1;var i=n.segmentIndex-t.segmentIndex;return n.isInterior()||i--,i===1?(r[0]=t.segmentIndex+1,!0):!1};io.prototype.findCollapsesFromInsertedNodes=function(t){for(var n=this,r=new Array(1).fill(null),i=this.iterator(),a=i.next();i.hasNext();){var s=i.next(),o=n.findCollapseIndex(a,s,r);o&&t.add(new Fl(r[0])),a=s}};io.prototype.getEdge=function(){return this._edge};io.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)};io.prototype.createSplitEdge=function(t,n){var r=this,i=n.segmentIndex-t.segmentIndex+2,a=this._edge.getCoordinate(n.segmentIndex),s=n.isInterior()||!n.coord.equals2D(a);s||i--;var o=new Array(i).fill(null),l=0;o[l++]=new De(t.coord);for(var f=t.segmentIndex+1;f<=n.segmentIndex;f++)o[l++]=r._edge.getCoordinate(f);return s&&(o[l]=new De(n.coord)),new ji(o,this._edge.getData())};io.prototype.add=function(t,n){var r=new of(this._edge,t,n,this._edge.getSegmentOctant(n)),i=this._nodeMap.get(r);return i!==null?(pr.isTrue(i.coord.equals2D(t),"Found equal nodes with different coordinates"),i):(this._nodeMap.put(r,r),r)};io.prototype.checkSplitEdgesCorrectness=function(t){var n=this._edge.getCoordinates(),r=t.get(0),i=r.getCoordinate(0);if(!i.equals2D(n[0]))throw new cc("bad split edge start point at "+i);var a=t.get(t.size()-1),s=a.getCoordinates(),o=s[s.length-1];if(!o.equals2D(n[n.length-1]))throw new cc("bad split edge end point at "+o)};io.prototype.interfaces_=function(){return[]};io.prototype.getClass=function(){return io};var $d=function(){};$d.prototype.interfaces_=function(){return[]};$d.prototype.getClass=function(){return $d};$d.octant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],n=arguments[1];if(t===0&&n===0)throw new Ti("Cannot compute the octant for point ( "+t+", "+n+" )");var r=Math.abs(t),i=Math.abs(n);return t>=0?n>=0?r>=i?0:1:r>=i?7:6:n>=0?r>=i?3:2:r>=i?4:5}else if(arguments[0]instanceof De&&arguments[1]instanceof De){var a=arguments[0],s=arguments[1],o=s.x-a.x,l=s.y-a.y;if(o===0&&l===0)throw new Ti("Cannot compute the octant for two identical points "+a);return $d.octant(o,l)}};var yu=function(){};yu.prototype.getCoordinates=function(){};yu.prototype.size=function(){};yu.prototype.getCoordinate=function(t){};yu.prototype.isClosed=function(){};yu.prototype.setData=function(t){};yu.prototype.getData=function(){};yu.prototype.interfaces_=function(){return[]};yu.prototype.getClass=function(){return yu};var uy=function(){};uy.prototype.addIntersection=function(t,n){};uy.prototype.interfaces_=function(){return[yu]};uy.prototype.getClass=function(){return uy};var ji=function(){this._nodeList=new io(this),this._pts=null,this._data=null;var t=arguments[0],n=arguments[1];this._pts=t,this._data=n};ji.prototype.getCoordinates=function(){return this._pts};ji.prototype.size=function(){return this._pts.length};ji.prototype.getCoordinate=function(t){return this._pts[t]};ji.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])};ji.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))};ji.prototype.setData=function(t){this._data=t};ji.prototype.safeOctant=function(t,n){return t.equals2D(n)?0:$d.octant(t,n)};ji.prototype.getData=function(){return this._data};ji.prototype.addIntersection=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];this.addIntersectionNode(t,n)}else if(arguments.length===4){var r=arguments[0],i=arguments[1],a=arguments[3],s=new De(r.getIntersection(a));this.addIntersection(s,i)}};ji.prototype.toString=function(){return el.toLineString(new zi(this._pts))};ji.prototype.getNodeList=function(){return this._nodeList};ji.prototype.addIntersectionNode=function(t,n){var r=n,i=r+1;if(i<this._pts.length){var a=this._pts[i];t.equals2D(a)&&(r=i)}var s=this._nodeList.add(t,r);return s};ji.prototype.addIntersections=function(t,n,r){for(var i=this,a=0;a<t.getIntersectionNum();a++)i.addIntersection(t,n,r,a)};ji.prototype.interfaces_=function(){return[uy]};ji.prototype.getClass=function(){return ji};ji.getNodedSubstrings=function(){if(arguments.length===1){var t=arguments[0],n=new Tn;return ji.getNodedSubstrings(t,n),n}else if(arguments.length===2)for(var r=arguments[0],i=arguments[1],a=r.iterator();a.hasNext();){var s=a.next();s.getNodeList().addSplitEdges(i)}};var Un=function(){if(this.p0=null,this.p1=null,arguments.length===0)this.p0=new De,this.p1=new De;else if(arguments.length===1){var t=arguments[0];this.p0=new De(t.p0),this.p1=new De(t.p1)}else if(arguments.length===2)this.p0=arguments[0],this.p1=arguments[1];else if(arguments.length===4){var n=arguments[0],r=arguments[1],i=arguments[2],a=arguments[3];this.p0=new De(n,r),this.p1=new De(i,a)}},Ok={serialVersionUID:{configurable:!0}};Un.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)};Un.prototype.orientationIndex=function(){if(arguments[0]instanceof Un){var t=arguments[0],n=An.orientationIndex(this.p0,this.p1,t.p0),r=An.orientationIndex(this.p0,this.p1,t.p1);return n>=0&&r>=0||n<=0&&r<=0?Math.max(n,r):0}else if(arguments[0]instanceof De){var i=arguments[0];return An.orientationIndex(this.p0,this.p1,i)}};Un.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])};Un.prototype.isVertical=function(){return this.p0.x===this.p1.x};Un.prototype.equals=function(t){if(!(t instanceof Un))return!1;var n=t;return this.p0.equals(n.p0)&&this.p1.equals(n.p1)};Un.prototype.intersection=function(t){var n=new Dh;return n.computeIntersection(this.p0,this.p1,t.p0,t.p1),n.hasIntersection()?n.getIntersection(0):null};Un.prototype.project=function(){if(arguments[0]instanceof De){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new De(t);var n=this.projectionFactor(t),r=new De;return r.x=this.p0.x+n*(this.p1.x-this.p0.x),r.y=this.p0.y+n*(this.p1.y-this.p0.y),r}else if(arguments[0]instanceof Un){var i=arguments[0],a=this.projectionFactor(i.p0),s=this.projectionFactor(i.p1);if(a>=1&&s>=1||a<=0&&s<=0)return null;var o=this.project(i.p0);a<0&&(o=this.p0),a>1&&(o=this.p1);var l=this.project(i.p1);return s<0&&(l=this.p0),s>1&&(l=this.p1),new Un(o,l)}};Un.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()};Un.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)};Un.prototype.getCoordinate=function(t){return t===0?this.p0:this.p1};Un.prototype.distancePerpendicular=function(t){return An.distancePointLinePerpendicular(t,this.p0,this.p1)};Un.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)};Un.prototype.midPoint=function(){return Un.midPoint(this.p0,this.p1)};Un.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var n=this.p1.x-this.p0.x,r=this.p1.y-this.p0.y,i=n*n+r*r;if(i<=0)return ir.NaN;var a=((t.x-this.p0.x)*n+(t.y-this.p0.y)*r)/i;return a};Un.prototype.closestPoints=function(t){var n=this.intersection(t);if(n!==null)return[n,n];var r=new Array(2).fill(null),i=ir.MAX_VALUE,a=null,s=this.closestPoint(t.p0);i=s.distance(t.p0),r[0]=s,r[1]=t.p0;var o=this.closestPoint(t.p1);a=o.distance(t.p1),a<i&&(i=a,r[0]=o,r[1]=t.p1);var l=t.closestPoint(this.p0);a=l.distance(this.p0),a<i&&(i=a,r[0]=this.p0,r[1]=l);var f=t.closestPoint(this.p1);return a=f.distance(this.p1),a<i&&(i=a,r[0]=this.p1,r[1]=f),r};Un.prototype.closestPoint=function(t){var n=this.projectionFactor(t);if(n>0&&n<1)return this.project(t);var r=this.p0.distance(t),i=this.p1.distance(t);return r<i?this.p0:this.p1};Un.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)};Un.prototype.getLength=function(){return this.p0.distance(this.p1)};Un.prototype.compareTo=function(t){var n=t,r=this.p0.compareTo(n.p0);return r!==0?r:this.p1.compareTo(n.p1)};Un.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t};Un.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)};Un.prototype.lineIntersection=function(t){try{var n=Xs.intersection(this.p0,this.p1,t.p0,t.p1);return n}catch(r){if(!(r instanceof G0))throw r}finally{}return null};Un.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)};Un.prototype.pointAlongOffset=function(t,n){var r=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),a=this.p1.x-this.p0.x,s=this.p1.y-this.p0.y,o=Math.sqrt(a*a+s*s),l=0,f=0;if(n!==0){if(o<=0)throw new Error("Cannot compute offset from zero-length line segment");l=n*a/o,f=n*s/o}var u=r-f,c=i+l,h=new De(u,c);return h};Un.prototype.setCoordinates=function(){if(arguments.length===1){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.p0.x=n.x,this.p0.y=n.y,this.p1.x=r.x,this.p1.y=r.y}};Un.prototype.segmentFraction=function(t){var n=this.projectionFactor(t);return n<0?n=0:(n>1||ir.isNaN(n))&&(n=1),n};Un.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"};Un.prototype.isHorizontal=function(){return this.p0.y===this.p1.y};Un.prototype.distance=function(){if(arguments[0]instanceof Un){var t=arguments[0];return An.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}else if(arguments[0]instanceof De){var n=arguments[0];return An.distancePointLine(n,this.p0,this.p1)}};Un.prototype.pointAlong=function(t){var n=new De;return n.x=this.p0.x+t*(this.p1.x-this.p0.x),n.y=this.p0.y+t*(this.p1.y-this.p0.y),n};Un.prototype.hashCode=function(){var t=ir.doubleToLongBits(this.p0.x);t^=ir.doubleToLongBits(this.p0.y)*31;var n=Math.trunc(t)^Math.trunc(t>>32),r=ir.doubleToLongBits(this.p1.x);r^=ir.doubleToLongBits(this.p1.y)*31;var i=Math.trunc(r)^Math.trunc(r>>32);return n^i};Un.prototype.interfaces_=function(){return[Ls,Ps]};Un.prototype.getClass=function(){return Un};Un.midPoint=function(t,n){return new De((t.x+n.x)/2,(t.y+n.y)/2)};Ok.serialVersionUID.get=function(){return 0x2d2172135f411c00};Object.defineProperties(Un,Ok);var cy=function(){this.tempEnv1=new jn,this.tempEnv2=new jn,this._overlapSeg1=new Un,this._overlapSeg2=new Un};cy.prototype.overlap=function(){if(arguments.length!==2){if(arguments.length===4){var t=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];t.getLineSegment(n,this._overlapSeg1),r.getLineSegment(i,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}};cy.prototype.interfaces_=function(){return[]};cy.prototype.getClass=function(){return cy};var Po=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this._pts=t,this._start=n,this._end=r,this._context=i};Po.prototype.getLineSegment=function(t,n){n.p0=this._pts[t],n.p1=this._pts[t+1]};Po.prototype.computeSelect=function(t,n,r,i){var a=this._pts[n],s=this._pts[r];if(i.tempEnv1.init(a,s),r-n===1)return i.select(this,n),null;if(!t.intersects(i.tempEnv1))return null;var o=Math.trunc((n+r)/2);n<o&&this.computeSelect(t,n,o,i),o<r&&this.computeSelect(t,o,r,i)};Po.prototype.getCoordinates=function(){for(var t=this,n=new Array(this._end-this._start+1).fill(null),r=0,i=this._start;i<=this._end;i++)n[r++]=t._pts[i];return n};Po.prototype.computeOverlaps=function(t,n){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,n)};Po.prototype.setId=function(t){this._id=t};Po.prototype.select=function(t,n){this.computeSelect(t,this._start,this._end,n)};Po.prototype.getEnvelope=function(){if(this._env===null){var t=this._pts[this._start],n=this._pts[this._end];this._env=new jn(t,n)}return this._env};Po.prototype.getEndIndex=function(){return this._end};Po.prototype.getStartIndex=function(){return this._start};Po.prototype.getContext=function(){return this._context};Po.prototype.getId=function(){return this._id};Po.prototype.computeOverlapsInternal=function(t,n,r,i,a,s){var o=this._pts[t],l=this._pts[n],f=r._pts[i],u=r._pts[a];if(n-t===1&&a-i===1)return s.overlap(this,t,r,i),null;if(s.tempEnv1.init(o,l),s.tempEnv2.init(f,u),!s.tempEnv1.intersects(s.tempEnv2))return null;var c=Math.trunc((t+n)/2),h=Math.trunc((i+a)/2);t<c&&(i<h&&this.computeOverlapsInternal(t,c,r,i,h,s),h<a&&this.computeOverlapsInternal(t,c,r,h,a,s)),c<n&&(i<h&&this.computeOverlapsInternal(c,n,r,i,h,s),h<a&&this.computeOverlapsInternal(c,n,r,h,a,s))};Po.prototype.interfaces_=function(){return[]};Po.prototype.getClass=function(){return Po};var Pl=function(){};Pl.prototype.interfaces_=function(){return[]};Pl.prototype.getClass=function(){return Pl};Pl.getChainStartIndices=function(t){var n=0,r=new Tn;r.add(new Fl(n));do{var i=Pl.findChainEnd(t,n);r.add(new Fl(i)),n=i}while(n<t.length-1);var a=Pl.toIntArray(r);return a};Pl.findChainEnd=function(t,n){for(var r=n;r<t.length-1&&t[r].equals2D(t[r+1]);)r++;if(r>=t.length-1)return t.length-1;for(var i=Zr.quadrant(t[r],t[r+1]),a=n+1;a<t.length;){if(!t[a-1].equals2D(t[a])){var s=Zr.quadrant(t[a-1],t[a]);if(s!==i)break}a++}return a-1};Pl.getChains=function(){if(arguments.length===1){var t=arguments[0];return Pl.getChains(t,null)}else if(arguments.length===2){for(var n=arguments[0],r=arguments[1],i=new Tn,a=Pl.getChainStartIndices(n),s=0;s<a.length-1;s++){var o=new Po(n,a[s],a[s+1],r);i.add(o)}return i}};Pl.toIntArray=function(t){for(var n=new Array(t.size()).fill(null),r=0;r<n.length;r++)n[r]=t.get(r).intValue();return n};var Eh=function(){};Eh.prototype.computeNodes=function(t){};Eh.prototype.getNodedSubstrings=function(){};Eh.prototype.interfaces_=function(){return[]};Eh.prototype.getClass=function(){return Eh};var fy=function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this.setSegmentIntersector(t)}}};fy.prototype.setSegmentIntersector=function(t){this._segInt=t};fy.prototype.interfaces_=function(){return[Eh]};fy.prototype.getClass=function(){return fy};var cC=function(e){function t(r){r?e.call(this,r):e.call(this),this._monoChains=new Tn,this._index=new Ik,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={SegmentOverlapAction:{configurable:!0}};return t.prototype.getMonotoneChains=function(){return this._monoChains},t.prototype.getNodedSubstrings=function(){return ji.getNodedSubstrings(this._nodedSegStrings)},t.prototype.getIndex=function(){return this._index},t.prototype.add=function(i){for(var a=this,s=Pl.getChains(i.getCoordinates(),i),o=s.iterator();o.hasNext();){var l=o.next();l.setId(a._idCounter++),a._index.insert(l.getEnvelope(),l),a._monoChains.add(l)}},t.prototype.computeNodes=function(i){var a=this;this._nodedSegStrings=i;for(var s=i.iterator();s.hasNext();)a.add(s.next());this.intersectChains()},t.prototype.intersectChains=function(){for(var i=this,a=new uP(this._segInt),s=this._monoChains.iterator();s.hasNext();)for(var o=s.next(),l=i._index.query(o.getEnvelope()),f=l.iterator();f.hasNext();){var u=f.next();if(u.getId()>o.getId()&&(o.computeOverlaps(u,a),i._nOverlaps++),i._segInt.isDone())return null}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.SegmentOverlapAction.get=function(){return uP},Object.defineProperties(t,n),t}(fy),uP=function(e){function t(){e.call(this),this._si=null;var n=arguments[0];this._si=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.overlap=function(){if(arguments.length===4){var r=arguments[0],i=arguments[1],a=arguments[2],s=arguments[3],o=r.getContext(),l=a.getContext();this._si.processIntersections(o,i,l,s)}else return e.prototype.overlap.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(cy),zr=function e(){if(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=e.CAP_ROUND,this._joinStyle=e.JOIN_ROUND,this._mitreLimit=e.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=e.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this.setQuadrantSegments(t)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(arguments.length===4){var i=arguments[0],a=arguments[1],s=arguments[2],o=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(a),this.setJoinStyle(s),this.setMitreLimit(o)}}},_c={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};zr.prototype.getEndCapStyle=function(){return this._endCapStyle};zr.prototype.isSingleSided=function(){return this._isSingleSided};zr.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,this._quadrantSegments===0&&(this._joinStyle=zr.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=zr.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==zr.JOIN_ROUND&&(this._quadrantSegments=zr.DEFAULT_QUADRANT_SEGMENTS)};zr.prototype.getJoinStyle=function(){return this._joinStyle};zr.prototype.setJoinStyle=function(t){this._joinStyle=t};zr.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t};zr.prototype.getSimplifyFactor=function(){return this._simplifyFactor};zr.prototype.getQuadrantSegments=function(){return this._quadrantSegments};zr.prototype.setEndCapStyle=function(t){this._endCapStyle=t};zr.prototype.getMitreLimit=function(){return this._mitreLimit};zr.prototype.setMitreLimit=function(t){this._mitreLimit=t};zr.prototype.setSingleSided=function(t){this._isSingleSided=t};zr.prototype.interfaces_=function(){return[]};zr.prototype.getClass=function(){return zr};zr.bufferDistanceError=function(t){var n=Math.PI/2/t;return 1-Math.cos(n/2)};_c.CAP_ROUND.get=function(){return 1};_c.CAP_FLAT.get=function(){return 2};_c.CAP_SQUARE.get=function(){return 3};_c.JOIN_ROUND.get=function(){return 1};_c.JOIN_MITRE.get=function(){return 2};_c.JOIN_BEVEL.get=function(){return 3};_c.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8};_c.DEFAULT_MITRE_LIMIT.get=function(){return 5};_c.DEFAULT_SIMPLIFY_FACTOR.get=function(){return .01};Object.defineProperties(zr,_c);var Ri=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=An.COUNTERCLOCKWISE,this._inputLine=t||null},Zy={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Ri.prototype.isDeletable=function(t,n,r,i){var a=this._inputLine[t],s=this._inputLine[n],o=this._inputLine[r];return!this.isConcave(a,s,o)||!this.isShallow(a,s,o,i)?!1:this.isShallowSampled(a,s,t,r,i)};Ri.prototype.deleteShallowConcavities=function(){for(var t=this,n=1,r=this.findNextNonDeletedIndex(n),i=this.findNextNonDeletedIndex(r),a=!1;i<this._inputLine.length;){var s=!1;t.isDeletable(n,r,i,t._distanceTol)&&(t._isDeleted[r]=Ri.DELETE,s=!0,a=!0),s?n=i:n=r,r=t.findNextNonDeletedIndex(n),i=t.findNextNonDeletedIndex(r)}return a};Ri.prototype.isShallowConcavity=function(t,n,r,i){var a=An.computeOrientation(t,n,r),s=a===this._angleOrientation;if(!s)return!1;var o=An.distancePointLine(n,t,r);return o<i};Ri.prototype.isShallowSampled=function(t,n,r,i,a){var s=this,o=Math.trunc((i-r)/Ri.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var l=r;l<i;l+=o)if(!s.isShallow(t,n,s._inputLine[l],a))return!1;return!0};Ri.prototype.isConcave=function(t,n,r){var i=An.computeOrientation(t,n,r),a=i===this._angleOrientation;return a};Ri.prototype.simplify=function(t){var n=this;this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=An.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var r=!1;do r=n.deleteShallowConcavities();while(r);return this.collapseLine()};Ri.prototype.findNextNonDeletedIndex=function(t){for(var n=t+1;n<this._inputLine.length&&this._isDeleted[n]===Ri.DELETE;)n++;return n};Ri.prototype.isShallow=function(t,n,r,i){var a=An.distancePointLine(n,t,r);return a<i};Ri.prototype.collapseLine=function(){for(var t=this,n=new qy,r=0;r<this._inputLine.length;r++)t._isDeleted[r]!==Ri.DELETE&&n.add(t._inputLine[r]);return n.toCoordinateArray()};Ri.prototype.interfaces_=function(){return[]};Ri.prototype.getClass=function(){return Ri};Ri.simplify=function(t,n){var r=new Ri(t);return r.simplify(n)};Zy.INIT.get=function(){return 0};Zy.DELETE.get=function(){return 1};Zy.KEEP.get=function(){return 1};Zy.NUM_PTS_TO_CHECK.get=function(){return 10};Object.defineProperties(Ri,Zy);var ts=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Tn},Lk={COORDINATE_ARRAY_TYPE:{configurable:!0}};ts.prototype.getCoordinates=function(){var t=this._ptList.toArray(ts.COORDINATE_ARRAY_TYPE);return t};ts.prototype.setPrecisionModel=function(t){this._precisionModel=t};ts.prototype.addPt=function(t){var n=new De(t);if(this._precisionModel.makePrecise(n),this.isRedundant(n))return null;this._ptList.add(n)};ts.prototype.revere=function(){};ts.prototype.addPts=function(t,n){var r=this;if(n)for(var i=0;i<t.length;i++)r.addPt(t[i]);else for(var a=t.length-1;a>=0;a--)r.addPt(t[a])};ts.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var n=this._ptList.get(this._ptList.size()-1),r=t.distance(n);return r<this._minimimVertexDistance};ts.prototype.toString=function(){var t=new _r,n=t.createLineString(this.getCoordinates());return n.toString()};ts.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new De(this._ptList.get(0)),n=this._ptList.get(this._ptList.size()-1);if(t.equals(n))return null;this._ptList.add(t)};ts.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t};ts.prototype.interfaces_=function(){return[]};ts.prototype.getClass=function(){return ts};Lk.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)};Object.defineProperties(ts,Lk);var Cr=function(){},vp={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Cr.prototype.interfaces_=function(){return[]};Cr.prototype.getClass=function(){return Cr};Cr.toDegrees=function(t){return t*180/Math.PI};Cr.normalize=function(t){for(;t>Math.PI;)t-=Cr.PI_TIMES_2;for(;t<=-Math.PI;)t+=Cr.PI_TIMES_2;return t};Cr.angle=function(){if(arguments.length===1){var t=arguments[0];return Math.atan2(t.y,t.x)}else if(arguments.length===2){var n=arguments[0],r=arguments[1],i=r.x-n.x,a=r.y-n.y;return Math.atan2(a,i)}};Cr.isAcute=function(t,n,r){var i=t.x-n.x,a=t.y-n.y,s=r.x-n.x,o=r.y-n.y,l=i*s+a*o;return l>0};Cr.isObtuse=function(t,n,r){var i=t.x-n.x,a=t.y-n.y,s=r.x-n.x,o=r.y-n.y,l=i*s+a*o;return l<0};Cr.interiorAngle=function(t,n,r){var i=Cr.angle(n,t),a=Cr.angle(n,r);return Math.abs(a-i)};Cr.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Cr.PI_TIMES_2;t>=Cr.PI_TIMES_2&&(t=0)}else{for(;t>=Cr.PI_TIMES_2;)t-=Cr.PI_TIMES_2;t<0&&(t=0)}return t};Cr.angleBetween=function(t,n,r){var i=Cr.angle(n,t),a=Cr.angle(n,r);return Cr.diff(i,a)};Cr.diff=function(t,n){var r=null;return t<n?r=n-t:r=t-n,r>Math.PI&&(r=2*Math.PI-r),r};Cr.toRadians=function(t){return t*Math.PI/180};Cr.getTurn=function(t,n){var r=Math.sin(n-t);return r>0?Cr.COUNTERCLOCKWISE:r<0?Cr.CLOCKWISE:Cr.NONE};Cr.angleBetweenOriented=function(t,n,r){var i=Cr.angle(n,t),a=Cr.angle(n,r),s=a-i;return s<=-Math.PI?s+Cr.PI_TIMES_2:s>Math.PI?s-Cr.PI_TIMES_2:s};vp.PI_TIMES_2.get=function(){return 2*Math.PI};vp.PI_OVER_2.get=function(){return Math.PI/2};vp.PI_OVER_4.get=function(){return Math.PI/4};vp.COUNTERCLOCKWISE.get=function(){return An.COUNTERCLOCKWISE};vp.CLOCKWISE.get=function(){return An.CLOCKWISE};vp.NONE.get=function(){return An.COLLINEAR};Object.defineProperties(Cr,vp);var xi=function e(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Un,this._seg1=new Un,this._offset0=new Un,this._offset1=new Un,this._side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=t,this._bufParams=n,this._li=new Dh,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===zr.JOIN_ROUND&&(this._closingSegLengthFactor=e.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},Jy={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};xi.prototype.addNextSegment=function(t,n){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var r=An.computeOrientation(this._s0,this._s1,this._s2),i=r===An.CLOCKWISE&&this._side===mn.LEFT||r===An.COUNTERCLOCKWISE&&this._side===mn.RIGHT;r===0?this.addCollinear(n):i?this.addOutsideTurn(r,n):this.addInsideTurn(r,n)};xi.prototype.addLineEndCap=function(t,n){var r=new Un(t,n),i=new Un;this.computeOffsetSegment(r,mn.LEFT,this._distance,i);var a=new Un;this.computeOffsetSegment(r,mn.RIGHT,this._distance,a);var s=n.x-t.x,o=n.y-t.y,l=Math.atan2(o,s);switch(this._bufParams.getEndCapStyle()){case zr.CAP_ROUND:this._segList.addPt(i.p1),this.addFilletArc(n,l+Math.PI/2,l-Math.PI/2,An.CLOCKWISE,this._distance),this._segList.addPt(a.p1);break;case zr.CAP_FLAT:this._segList.addPt(i.p1),this._segList.addPt(a.p1);break;case zr.CAP_SQUARE:var f=new De;f.x=Math.abs(this._distance)*Math.cos(l),f.y=Math.abs(this._distance)*Math.sin(l);var u=new De(i.p1.x+f.x,i.p1.y+f.y),c=new De(a.p1.x+f.x,a.p1.y+f.y);this._segList.addPt(u),this._segList.addPt(c);break}};xi.prototype.getCoordinates=function(){var t=this._segList.getCoordinates();return t};xi.prototype.addMitreJoin=function(t,n,r,i){var a=!0,s=null;try{s=Xs.intersection(n.p0,n.p1,r.p0,r.p1);var o=i<=0?1:s.distance(t)/Math.abs(i);o>this._bufParams.getMitreLimit()&&(a=!1)}catch(l){if(l instanceof G0)s=new De(0,0),a=!1;else throw l}finally{}a?this._segList.addPt(s):this.addLimitedMitreJoin(n,r,i,this._bufParams.getMitreLimit())};xi.prototype.addFilletCorner=function(t,n,r,i,a){var s=n.x-t.x,o=n.y-t.y,l=Math.atan2(o,s),f=r.x-t.x,u=r.y-t.y,c=Math.atan2(u,f);i===An.CLOCKWISE?l<=c&&(l+=2*Math.PI):l>=c&&(l-=2*Math.PI),this._segList.addPt(n),this.addFilletArc(t,l,c,i,a),this._segList.addPt(r)};xi.prototype.addOutsideTurn=function(t,n){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*xi.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===zr.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===zr.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(n&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))};xi.prototype.createSquare=function(t){this._segList.addPt(new De(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new De(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new De(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new De(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()};xi.prototype.addSegments=function(t,n){this._segList.addPts(t,n)};xi.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)};xi.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)};xi.prototype.initSideSegments=function(t,n,r){this._s1=t,this._s2=n,this._side=r,this._seg1.setCoordinates(t,n),this.computeOffsetSegment(this._seg1,r,this._distance,this._offset1)};xi.prototype.addLimitedMitreJoin=function(t,n,r,i){var a=this._seg0.p1,s=Cr.angle(a,this._seg0.p0),o=Cr.angleBetweenOriented(this._seg0.p0,a,this._seg1.p1),l=o/2,f=Cr.normalize(s+l),u=Cr.normalize(f+Math.PI),c=i*r,h=c*Math.abs(Math.sin(l)),d=r-h,p=a.x+c*Math.cos(u),g=a.y+c*Math.sin(u),m=new De(p,g),v=new Un(a,m),y=v.pointAlongOffset(1,d),_=v.pointAlongOffset(1,-d);this._side===mn.LEFT?(this._segList.addPt(y),this._segList.addPt(_)):(this._segList.addPt(_),this._segList.addPt(y))};xi.prototype.computeOffsetSegment=function(t,n,r,i){var a=n===mn.LEFT?1:-1,s=t.p1.x-t.p0.x,o=t.p1.y-t.p0.y,l=Math.sqrt(s*s+o*o),f=a*r*s/l,u=a*r*o/l;i.p0.x=t.p0.x-u,i.p0.y=t.p0.y+f,i.p1.x=t.p1.x-u,i.p1.y=t.p1.y+f};xi.prototype.addFilletArc=function(t,n,r,i,a){var s=this,o=i===An.CLOCKWISE?-1:1,l=Math.abs(n-r),f=Math.trunc(l/this._filletAngleQuantum+.5);if(f<1)return null;for(var u=0,c=l/f,h=u,d=new De;h<l;){var p=n+o*h;d.x=t.x+a*Math.cos(p),d.y=t.y+a*Math.sin(p),s._segList.addPt(d),h+=c}};xi.prototype.addInsideTurn=function(t,n){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*xi.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var r=new De((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r);var i=new De((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}};xi.prototype.createCircle=function(t){var n=new De(t.x+this._distance,t.y);this._segList.addPt(n),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()};xi.prototype.addBevelJoin=function(t,n){this._segList.addPt(t.p1),this._segList.addPt(n.p0)};xi.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new ts,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*xi.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)};xi.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2);var n=this._li.getIntersectionNum();n>=2&&(this._bufParams.getJoinStyle()===zr.JOIN_BEVEL||this._bufParams.getJoinStyle()===zr.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,An.CLOCKWISE,this._distance))};xi.prototype.closeRing=function(){this._segList.closeRing()};xi.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle};xi.prototype.interfaces_=function(){return[]};xi.prototype.getClass=function(){return xi};Jy.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return .001};Jy.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return .001};Jy.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6};Jy.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80};Object.defineProperties(xi,Jy);var vo=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],n=arguments[1];this._precisionModel=t,this._bufParams=n};vo.prototype.getOffsetCurve=function(t,n){if(this._distance=n,n===0)return null;var r=n<0,i=Math.abs(n),a=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],a):this.computeOffsetCurve(t,r,a);var s=a.getCoordinates();return r&&xr.reverse(s),s};vo.prototype.computeSingleSidedBufferCurve=function(t,n,r){var i=this.simplifyTolerance(this._distance);if(n){r.addSegments(t,!0);var a=Ri.simplify(t,-i),s=a.length-1;r.initSideSegments(a[s],a[s-1],mn.LEFT),r.addFirstSegment();for(var o=s-2;o>=0;o--)r.addNextSegment(a[o],!0)}else{r.addSegments(t,!1);var l=Ri.simplify(t,i),f=l.length-1;r.initSideSegments(l[0],l[1],mn.LEFT),r.addFirstSegment();for(var u=2;u<=f;u++)r.addNextSegment(l[u],!0)}r.addLastSegment(),r.closeRing()};vo.prototype.computeRingBufferCurve=function(t,n,r){var i=this.simplifyTolerance(this._distance);n===mn.RIGHT&&(i=-i);var a=Ri.simplify(t,i),s=a.length-1;r.initSideSegments(a[s-1],a[0],n);for(var o=1;o<=s;o++){var l=o!==1;r.addNextSegment(a[o],l)}r.closeRing()};vo.prototype.computeLineBufferCurve=function(t,n){var r=this.simplifyTolerance(this._distance),i=Ri.simplify(t,r),a=i.length-1;n.initSideSegments(i[0],i[1],mn.LEFT);for(var s=2;s<=a;s++)n.addNextSegment(i[s],!0);n.addLastSegment(),n.addLineEndCap(i[a-1],i[a]);var o=Ri.simplify(t,-r),l=o.length-1;n.initSideSegments(o[l],o[l-1],mn.LEFT);for(var f=l-2;f>=0;f--)n.addNextSegment(o[f],!0);n.addLastSegment(),n.addLineEndCap(o[1],o[0]),n.closeRing()};vo.prototype.computePointCurve=function(t,n){switch(this._bufParams.getEndCapStyle()){case zr.CAP_ROUND:n.createCircle(t);break;case zr.CAP_SQUARE:n.createSquare(t);break}};vo.prototype.getLineCurve=function(t,n){if(this._distance=n,n<0&&!this._bufParams.isSingleSided()||n===0)return null;var r=Math.abs(n),i=this.getSegGen(r);if(t.length<=1)this.computePointCurve(t[0],i);else if(this._bufParams.isSingleSided()){var a=n<0;this.computeSingleSidedBufferCurve(t,a,i)}else this.computeLineBufferCurve(t,i);var s=i.getCoordinates();return s};vo.prototype.getBufferParameters=function(){return this._bufParams};vo.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()};vo.prototype.getRingCurve=function(t,n,r){if(this._distance=r,t.length<=2)return this.getLineCurve(t,r);if(r===0)return vo.copyCoordinates(t);var i=this.getSegGen(r);return this.computeRingBufferCurve(t,n,i),i.getCoordinates()};vo.prototype.computeOffsetCurve=function(t,n,r){var i=this.simplifyTolerance(this._distance);if(n){var a=Ri.simplify(t,-i),s=a.length-1;r.initSideSegments(a[s],a[s-1],mn.LEFT),r.addFirstSegment();for(var o=s-2;o>=0;o--)r.addNextSegment(a[o],!0)}else{var l=Ri.simplify(t,i),f=l.length-1;r.initSideSegments(l[0],l[1],mn.LEFT),r.addFirstSegment();for(var u=2;u<=f;u++)r.addNextSegment(l[u],!0)}r.addLastSegment()};vo.prototype.getSegGen=function(t){return new xi(this._precisionModel,this._bufParams,t)};vo.prototype.interfaces_=function(){return[]};vo.prototype.getClass=function(){return vo};vo.copyCoordinates=function(t){for(var n=new Array(t.length).fill(null),r=0;r<n.length;r++)n[r]=new De(t[r]);return n};var qd=function(){this._subgraphs=null,this._seg=new Un,this._cga=new An;var t=arguments[0];this._subgraphs=t},Pk={DepthSegment:{configurable:!0}};qd.prototype.findStabbedSegments=function(){var t=this;if(arguments.length===1){for(var n=arguments[0],r=new Tn,i=this._subgraphs.iterator();i.hasNext();){var a=i.next(),s=a.getEnvelope();n.y<s.getMinY()||n.y>s.getMaxY()||t.findStabbedSegments(n,a.getDirectedEdges(),r)}return r}else if(arguments.length===3){if(Jn(arguments[2],Ks)&&arguments[0]instanceof De&&arguments[1]instanceof CE)for(var o=arguments[0],l=arguments[1],f=arguments[2],u=l.getEdge().getCoordinates(),c=0;c<u.length-1;c++){t._seg.p0=u[c],t._seg.p1=u[c+1],t._seg.p0.y>t._seg.p1.y&&t._seg.reverse();var h=Math.max(t._seg.p0.x,t._seg.p1.x);if(!(h<o.x)&&!t._seg.isHorizontal()&&!(o.y<t._seg.p0.y||o.y>t._seg.p1.y)&&An.computeOrientation(t._seg.p0,t._seg.p1,o)!==An.RIGHT){var d=l.getDepth(mn.LEFT);t._seg.p0.equals(u[c])||(d=l.getDepth(mn.RIGHT));var p=new Mh(t._seg,d);f.add(p)}}else if(Jn(arguments[2],Ks)&&arguments[0]instanceof De&&Jn(arguments[1],Ks))for(var g=arguments[0],m=arguments[1],v=arguments[2],y=m.iterator();y.hasNext();){var _=y.next();_.isForward()&&t.findStabbedSegments(g,_,v)}}};qd.prototype.getDepth=function(t){var n=this.findStabbedSegments(t);if(n.size()===0)return 0;var r=il.min(n);return r._leftDepth};qd.prototype.interfaces_=function(){return[]};qd.prototype.getClass=function(){return qd};Pk.DepthSegment.get=function(){return Mh};Object.defineProperties(qd,Pk);var Mh=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],n=arguments[1];this._upwardSeg=new Un(t),this._leftDepth=n};Mh.prototype.compareTo=function(t){var n=t;if(this._upwardSeg.minX()>=n._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=n._upwardSeg.minX())return-1;var r=this._upwardSeg.orientationIndex(n._upwardSeg);return r!==0||(r=-1*n._upwardSeg.orientationIndex(this._upwardSeg),r!==0)?r:this._upwardSeg.compareTo(n._upwardSeg)};Mh.prototype.compareX=function(t,n){var r=t.p0.compareTo(n.p0);return r!==0?r:t.p1.compareTo(n.p1)};Mh.prototype.toString=function(){return this._upwardSeg.toString()};Mh.prototype.interfaces_=function(){return[Ls]};Mh.prototype.getClass=function(){return Mh};var Gr=function(t,n,r){this.p0=t||null,this.p1=n||null,this.p2=r||null};Gr.prototype.area=function(){return Gr.area(this.p0,this.p1,this.p2)};Gr.prototype.signedArea=function(){return Gr.signedArea(this.p0,this.p1,this.p2)};Gr.prototype.interpolateZ=function(t){if(t===null)throw new Ti("Supplied point is null.");return Gr.interpolateZ(t,this.p0,this.p1,this.p2)};Gr.prototype.longestSideLength=function(){return Gr.longestSideLength(this.p0,this.p1,this.p2)};Gr.prototype.isAcute=function(){return Gr.isAcute(this.p0,this.p1,this.p2)};Gr.prototype.circumcentre=function(){return Gr.circumcentre(this.p0,this.p1,this.p2)};Gr.prototype.area3D=function(){return Gr.area3D(this.p0,this.p1,this.p2)};Gr.prototype.centroid=function(){return Gr.centroid(this.p0,this.p1,this.p2)};Gr.prototype.inCentre=function(){return Gr.inCentre(this.p0,this.p1,this.p2)};Gr.prototype.interfaces_=function(){return[]};Gr.prototype.getClass=function(){return Gr};Gr.area=function(t,n,r){return Math.abs(((r.x-t.x)*(n.y-t.y)-(n.x-t.x)*(r.y-t.y))/2)};Gr.signedArea=function(t,n,r){return((r.x-t.x)*(n.y-t.y)-(n.x-t.x)*(r.y-t.y))/2};Gr.det=function(t,n,r,i){return t*i-n*r};Gr.interpolateZ=function(t,n,r,i){var a=n.x,s=n.y,o=r.x-a,l=i.x-a,f=r.y-s,u=i.y-s,c=o*u-l*f,h=t.x-a,d=t.y-s,p=(u*h-l*d)/c,g=(-f*h+o*d)/c,m=n.z+p*(r.z-n.z)+g*(i.z-n.z);return m};Gr.longestSideLength=function(t,n,r){var i=t.distance(n),a=n.distance(r),s=r.distance(t),o=i;return a>o&&(o=a),s>o&&(o=s),o};Gr.isAcute=function(t,n,r){return!(!Cr.isAcute(t,n,r)||!Cr.isAcute(n,r,t)||!Cr.isAcute(r,t,n))};Gr.circumcentre=function(t,n,r){var i=r.x,a=r.y,s=t.x-i,o=t.y-a,l=n.x-i,f=n.y-a,u=2*Gr.det(s,o,l,f),c=Gr.det(o,s*s+o*o,f,l*l+f*f),h=Gr.det(s,s*s+o*o,l,l*l+f*f),d=i-c/u,p=a+h/u;return new De(d,p)};Gr.perpendicularBisector=function(t,n){var r=n.x-t.x,i=n.y-t.y,a=new Xs(t.x+r/2,t.y+i/2,1),s=new Xs(t.x-i+r/2,t.y+r+i/2,1);return new Xs(a,s)};Gr.angleBisector=function(t,n,r){var i=n.distance(t),a=n.distance(r),s=i/(i+a),o=r.x-t.x,l=r.y-t.y,f=new De(t.x+s*o,t.y+s*l);return f};Gr.area3D=function(t,n,r){var i=n.x-t.x,a=n.y-t.y,s=n.z-t.z,o=r.x-t.x,l=r.y-t.y,f=r.z-t.z,u=a*f-s*l,c=s*o-i*f,h=i*l-a*o,d=u*u+c*c+h*h,p=Math.sqrt(d)/2;return p};Gr.centroid=function(t,n,r){var i=(t.x+n.x+r.x)/3,a=(t.y+n.y+r.y)/3;return new De(i,a)};Gr.inCentre=function(t,n,r){var i=n.distance(r),a=t.distance(r),s=t.distance(n),o=i+a+s,l=(i*t.x+a*n.x+s*r.x)/o,f=(i*t.y+a*n.y+s*r.y)/o;return new De(l,f)};var Cs=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Tn;var t=arguments[0],n=arguments[1],r=arguments[2];this._inputGeom=t,this._distance=n,this._curveBuilder=r};Cs.prototype.addPoint=function(t){if(this._distance<=0)return null;var n=t.getCoordinates(),r=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(r,Ve.EXTERIOR,Ve.INTERIOR)};Cs.prototype.addPolygon=function(t){var n=this,r=this._distance,i=mn.LEFT;this._distance<0&&(r=-this._distance,i=mn.RIGHT);var a=t.getExteriorRing(),s=xr.removeRepeatedPoints(a.getCoordinates());if(this._distance<0&&this.isErodedCompletely(a,this._distance)||this._distance<=0&&s.length<3)return null;this.addPolygonRing(s,r,i,Ve.EXTERIOR,Ve.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var l=t.getInteriorRingN(o),f=xr.removeRepeatedPoints(l.getCoordinates());n._distance>0&&n.isErodedCompletely(l,-n._distance)||n.addPolygonRing(f,r,mn.opposite(i),Ve.INTERIOR,Ve.EXTERIOR)}};Cs.prototype.isTriangleErodedCompletely=function(t,n){var r=new Gr(t[0],t[1],t[2]),i=r.inCentre(),a=An.distancePointLine(i,r.p0,r.p1);return a<Math.abs(n)};Cs.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var n=xr.removeRepeatedPoints(t.getCoordinates()),r=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(r,Ve.EXTERIOR,Ve.INTERIOR)};Cs.prototype.addCurve=function(t,n,r){if(t===null||t.length<2)return null;var i=new ji(t,new Hr(0,Ve.BOUNDARY,n,r));this._curveList.add(i)};Cs.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList};Cs.prototype.addPolygonRing=function(t,n,r,i,a){if(n===0&&t.length<mu.MINIMUM_VALID_SIZE)return null;var s=i,o=a;t.length>=mu.MINIMUM_VALID_SIZE&&An.isCCW(t)&&(s=a,o=i,r=mn.opposite(r));var l=this._curveBuilder.getRingCurve(t,r,n);this.addCurve(l,s,o)};Cs.prototype.add=function(t){if(t.isEmpty())return null;t instanceof na?this.addPolygon(t):t instanceof Pi?this.addLineString(t):t instanceof Oo?this.addPoint(t):t instanceof d0?this.addCollection(t):t instanceof Th?this.addCollection(t):t instanceof hu?this.addCollection(t):t instanceof no&&this.addCollection(t)};Cs.prototype.isErodedCompletely=function(t,n){var r=t.getCoordinates();if(r.length<4)return n<0;if(r.length===4)return this.isTriangleErodedCompletely(r,n);var i=t.getEnvelopeInternal(),a=Math.min(i.getHeight(),i.getWidth());return n<0&&2*Math.abs(n)>a};Cs.prototype.addCollection=function(t){for(var n=this,r=0;r<t.getNumGeometries();r++){var i=t.getGeometryN(r);n.add(i)}};Cs.prototype.interfaces_=function(){return[]};Cs.prototype.getClass=function(){return Cs};var v0=function(){};v0.prototype.locate=function(t){};v0.prototype.interfaces_=function(){return[]};v0.prototype.getClass=function(){return v0};var du=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};du.prototype.next=function(){if(this._atStart)return this._atStart=!1,du.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new U0;var t=this._parent.getGeometryN(this._index++);return t instanceof no?(this._subcollectionIterator=new du(t),this._subcollectionIterator.next()):t};du.prototype.remove=function(){throw new Error(this.getClass().getName())};du.prototype.hasNext=function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)};du.prototype.interfaces_=function(){return[j0]};du.prototype.getClass=function(){return du};du.isAtomic=function(t){return!(t instanceof no)};var Ko=function(){this._geom=null;var t=arguments[0];this._geom=t};Ko.prototype.locate=function(t){return Ko.locate(t,this._geom)};Ko.prototype.interfaces_=function(){return[v0]};Ko.prototype.getClass=function(){return Ko};Ko.isPointInRing=function(t,n){return n.getEnvelopeInternal().intersects(t)?An.isPointInRing(t,n.getCoordinates()):!1};Ko.containsPointInPolygon=function(t,n){if(n.isEmpty())return!1;var r=n.getExteriorRing();if(!Ko.isPointInRing(t,r))return!1;for(var i=0;i<n.getNumInteriorRing();i++){var a=n.getInteriorRingN(i);if(Ko.isPointInRing(t,a))return!1}return!0};Ko.containsPoint=function(t,n){if(n instanceof na)return Ko.containsPointInPolygon(t,n);if(n instanceof no)for(var r=new du(n);r.hasNext();){var i=r.next();if(i!==n&&Ko.containsPoint(t,i))return!0}return!1};Ko.locate=function(t,n){return n.isEmpty()?Ve.EXTERIOR:Ko.containsPoint(t,n)?Ve.INTERIOR:Ve.EXTERIOR};var Ya=function(){this._edgeMap=new Va,this._edgeList=null,this._ptInAreaLocation=[Ve.NONE,Ve.NONE]};Ya.prototype.getNextCW=function(t){this.getEdges();var n=this._edgeList.indexOf(t),r=n-1;return n===0&&(r=this._edgeList.size()-1),this._edgeList.get(r)};Ya.prototype.propagateSideLabels=function(t){for(var n=Ve.NONE,r=this.iterator();r.hasNext();){var i=r.next(),a=i.getLabel();a.isArea(t)&&a.getLocation(t,mn.LEFT)!==Ve.NONE&&(n=a.getLocation(t,mn.LEFT))}if(n===Ve.NONE)return null;for(var s=n,o=this.iterator();o.hasNext();){var l=o.next(),f=l.getLabel();if(f.getLocation(t,mn.ON)===Ve.NONE&&f.setLocation(t,mn.ON,s),f.isArea(t)){var u=f.getLocation(t,mn.LEFT),c=f.getLocation(t,mn.RIGHT);if(c!==Ve.NONE){if(c!==s)throw new hc("side location conflict",l.getCoordinate());u===Ve.NONE&&pr.shouldNeverReachHere("found single null side (at "+l.getCoordinate()+")"),s=u}else pr.isTrue(f.getLocation(t,mn.LEFT)===Ve.NONE,"found single null side"),f.setLocation(t,mn.RIGHT,s),f.setLocation(t,mn.LEFT,s)}}};Ya.prototype.getCoordinate=function(){var t=this.iterator();if(!t.hasNext())return null;var n=t.next();return n.getCoordinate()};Ya.prototype.print=function(t){Oa.out.println("EdgeEndStar:   "+this.getCoordinate());for(var n=this.iterator();n.hasNext();){var r=n.next();r.print(t)}};Ya.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)};Ya.prototype.checkAreaLabelsConsistent=function(t){var n=this.getEdges();if(n.size()<=0)return!0;var r=n.size()-1,i=n.get(r).getLabel(),a=i.getLocation(t,mn.LEFT);pr.isTrue(a!==Ve.NONE,"Found unlabelled area edge");for(var s=a,o=this.iterator();o.hasNext();){var l=o.next(),f=l.getLabel();pr.isTrue(f.isArea(t),"Found non-area edge");var u=f.getLocation(t,mn.LEFT),c=f.getLocation(t,mn.RIGHT);if(u===c||c!==s)return!1;s=u}return!0};Ya.prototype.findIndex=function(t){var n=this;this.iterator();for(var r=0;r<this._edgeList.size();r++){var i=n._edgeList.get(r);if(i===t)return r}return-1};Ya.prototype.iterator=function(){return this.getEdges().iterator()};Ya.prototype.getEdges=function(){return this._edgeList===null&&(this._edgeList=new Tn(this._edgeMap.values())),this._edgeList};Ya.prototype.getLocation=function(t,n,r){return this._ptInAreaLocation[t]===Ve.NONE&&(this._ptInAreaLocation[t]=Ko.locate(n,r[t].getGeometry())),this._ptInAreaLocation[t]};Ya.prototype.toString=function(){var t=new ql;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append(`
`);for(var n=this.iterator();n.hasNext();){var r=n.next();t.append(r),t.append(`
`)}return t.toString()};Ya.prototype.computeEdgeEndLabels=function(t){for(var n=this.iterator();n.hasNext();){var r=n.next();r.computeLabel(t)}};Ya.prototype.computeLabelling=function(t){var n=this;this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var r=[!1,!1],i=this.iterator();i.hasNext();)for(var a=i.next(),s=a.getLabel(),o=0;o<2;o++)s.isLine(o)&&s.getLocation(o)===Ve.BOUNDARY&&(r[o]=!0);for(var l=this.iterator();l.hasNext();)for(var f=l.next(),u=f.getLabel(),c=0;c<2;c++)if(u.isAnyNull(c)){var h=Ve.NONE;if(r[c])h=Ve.EXTERIOR;else{var d=f.getCoordinate();h=n.getLocation(c,d,t)}u.setAllLocationsIfNull(c,h)}};Ya.prototype.getDegree=function(){return this._edgeMap.size()};Ya.prototype.insertEdgeEnd=function(t,n){this._edgeMap.put(t,n),this._edgeList=null};Ya.prototype.interfaces_=function(){return[]};Ya.prototype.getClass=function(){return Ya};var jdt=function(e){function t(){e.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.linkResultDirectedEdges=function(){var r=this;this.getResultAreaEdges();for(var i=null,a=null,s=this._SCANNING_FOR_INCOMING,o=0;o<this._resultAreaEdgeList.size();o++){var l=r._resultAreaEdgeList.get(o),f=l.getSym();if(l.getLabel().isArea())switch(i===null&&l.isInResult()&&(i=l),s){case r._SCANNING_FOR_INCOMING:if(!f.isInResult())continue;a=f,s=r._LINKING_TO_OUTGOING;break;case r._LINKING_TO_OUTGOING:if(!l.isInResult())continue;a.setNext(l),s=r._SCANNING_FOR_INCOMING;break}}if(s===this._LINKING_TO_OUTGOING){if(i===null)throw new hc("no outgoing dirEdge found",this.getCoordinate());pr.isTrue(i.isInResult(),"unable to link last incoming dirEdge"),a.setNext(i)}},t.prototype.insert=function(r){var i=r;this.insertEdgeEnd(i,i)},t.prototype.getRightmostEdge=function(){var r=this.getEdges(),i=r.size();if(i<1)return null;var a=r.get(0);if(i===1)return a;var s=r.get(i-1),o=a.getQuadrant(),l=s.getQuadrant();return Zr.isNorthern(o)&&Zr.isNorthern(l)?a:!Zr.isNorthern(o)&&!Zr.isNorthern(l)?s:a.getDy()!==0?a:s.getDy()!==0?s:(pr.shouldNeverReachHere("found two horizontal edges incident on node"),null)},t.prototype.print=function(r){Oa.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var i=this.iterator();i.hasNext();){var a=i.next();r.print("out "),a.print(r),r.println(),r.print("in "),a.getSym().print(r),r.println()}},t.prototype.getResultAreaEdges=function(){var r=this;if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Tn;for(var i=this.iterator();i.hasNext();){var a=i.next();(a.isInResult()||a.getSym().isInResult())&&r._resultAreaEdgeList.add(a)}return this._resultAreaEdgeList},t.prototype.updateLabelling=function(r){for(var i=this.iterator();i.hasNext();){var a=i.next(),s=a.getLabel();s.setAllLocationsIfNull(0,r.getLocation(0)),s.setAllLocationsIfNull(1,r.getLocation(1))}},t.prototype.linkAllDirectedEdges=function(){var r=this;this.getEdges();for(var i=null,a=null,s=this._edgeList.size()-1;s>=0;s--){var o=r._edgeList.get(s),l=o.getSym();a===null&&(a=l),i!==null&&l.setNext(i),i=o}a.setNext(i)},t.prototype.computeDepths=function(){var r=this;if(arguments.length===1){var i=arguments[0],a=this.findIndex(i),s=i.getDepth(mn.LEFT),o=i.getDepth(mn.RIGHT),l=this.computeDepths(a+1,this._edgeList.size(),s),f=this.computeDepths(0,a,l);if(f!==o)throw new hc("depth mismatch at "+i.getCoordinate())}else if(arguments.length===3){for(var u=arguments[0],c=arguments[1],h=arguments[2],d=h,p=u;p<c;p++){var g=r._edgeList.get(p);g.setEdgeDepths(mn.RIGHT,d),d=g.getDepth(mn.LEFT)}return d}},t.prototype.mergeSymLabels=function(){for(var r=this.iterator();r.hasNext();){var i=r.next(),a=i.getLabel();a.merge(i.getSym().getLabel())}},t.prototype.linkMinimalDirectedEdges=function(r){for(var i=this,a=null,s=null,o=this._SCANNING_FOR_INCOMING,l=this._resultAreaEdgeList.size()-1;l>=0;l--){var f=i._resultAreaEdgeList.get(l),u=f.getSym();switch(a===null&&f.getEdgeRing()===r&&(a=f),o){case i._SCANNING_FOR_INCOMING:if(u.getEdgeRing()!==r)continue;s=u,o=i._LINKING_TO_OUTGOING;break;case i._LINKING_TO_OUTGOING:if(f.getEdgeRing()!==r)continue;s.setNextMin(f),o=i._SCANNING_FOR_INCOMING;break}}o===this._LINKING_TO_OUTGOING&&(pr.isTrue(a!==null,"found null for first outgoing dirEdge"),pr.isTrue(a.getEdgeRing()===r,"unable to link last incoming dirEdge"),s.setNextMin(a))},t.prototype.getOutgoingDegree=function(){if(arguments.length===0){for(var r=0,i=this.iterator();i.hasNext();){var a=i.next();a.isInResult()&&r++}return r}else if(arguments.length===1){for(var s=arguments[0],o=0,l=this.iterator();l.hasNext();){var f=l.next();f.getEdgeRing()===s&&o++}return o}},t.prototype.getLabel=function(){return this._label},t.prototype.findCoveredLineEdges=function(){for(var r=Ve.NONE,i=this.iterator();i.hasNext();){var a=i.next(),s=a.getSym();if(!a.isLineEdge()){if(a.isInResult()){r=Ve.INTERIOR;break}if(s.isInResult()){r=Ve.EXTERIOR;break}}}if(r===Ve.NONE)return null;for(var o=r,l=this.iterator();l.hasNext();){var f=l.next(),u=f.getSym();f.isLineEdge()?f.getEdge().setCovered(o===Ve.INTERIOR):(f.isInResult()&&(o=Ve.EXTERIOR),u.isInResult()&&(o=Ve.INTERIOR))}},t.prototype.computeLabelling=function(r){var i=this;e.prototype.computeLabelling.call(this,r),this._label=new Hr(Ve.NONE);for(var a=this.iterator();a.hasNext();)for(var s=a.next(),o=s.getEdge(),l=o.getLabel(),f=0;f<2;f++){var u=l.getLocation(f);(u===Ve.INTERIOR||u===Ve.BOUNDARY)&&i._label.setLocation(f,Ve.INTERIOR)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Ya),Rk=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createNode=function(r){return new k2(r,new jdt)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(p0),sf=function e(){this._pts=null,this._orientation=null;var t=arguments[0];this._pts=t,this._orientation=e.orientation(t)};sf.prototype.compareTo=function(t){var n=t,r=sf.compareOriented(this._pts,this._orientation,n._pts,n._orientation);return r};sf.prototype.interfaces_=function(){return[Ls]};sf.prototype.getClass=function(){return sf};sf.orientation=function(t){return xr.increasingDirection(t)===1};sf.compareOriented=function(t,n,r,i){for(var a=n?1:-1,s=i?1:-1,o=n?t.length:-1,l=i?r.length:-1,f=n?0:t.length-1,u=i?0:r.length-1;;){var c=t[f].compareTo(r[u]);if(c!==0)return c;f+=a,u+=s;var h=f===o,d=u===l;if(h&&!d)return-1;if(!h&&d)return 1;if(h&&d)return 0}};var al=function(){this._edges=new Tn,this._ocaMap=new Va};al.prototype.print=function(t){var n=this;t.print("MULTILINESTRING ( ");for(var r=0;r<this._edges.size();r++){var i=n._edges.get(r);r>0&&t.print(","),t.print("(");for(var a=i.getCoordinates(),s=0;s<a.length;s++)s>0&&t.print(","),t.print(a[s].x+" "+a[s].y);t.println(")")}t.print(")  ")};al.prototype.addAll=function(t){for(var n=this,r=t.iterator();r.hasNext();)n.add(r.next())};al.prototype.findEdgeIndex=function(t){for(var n=this,r=0;r<this._edges.size();r++)if(n._edges.get(r).equals(t))return r;return-1};al.prototype.iterator=function(){return this._edges.iterator()};al.prototype.getEdges=function(){return this._edges};al.prototype.get=function(t){return this._edges.get(t)};al.prototype.findEqualEdge=function(t){var n=new sf(t.getCoordinates()),r=this._ocaMap.get(n);return r};al.prototype.add=function(t){this._edges.add(t);var n=new sf(t.getCoordinates());this._ocaMap.put(n,t)};al.prototype.interfaces_=function(){return[]};al.prototype.getClass=function(){return al};var Sh=function(){};Sh.prototype.processIntersections=function(t,n,r,i){};Sh.prototype.isDone=function(){};Sh.prototype.interfaces_=function(){return[]};Sh.prototype.getClass=function(){return Sh};var es=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};es.prototype.isTrivialIntersection=function(t,n,r,i){if(t===r&&this._li.getIntersectionNum()===1){if(es.isAdjacentSegments(n,i))return!0;if(t.isClosed()){var a=t.size()-1;if(n===0&&i===a||i===0&&n===a)return!0}}return!1};es.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint};es.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior};es.prototype.getLineIntersector=function(){return this._li};es.prototype.hasProperIntersection=function(){return this._hasProper};es.prototype.processIntersections=function(t,n,r,i){if(t===r&&n===i)return null;this.numTests++;var a=t.getCoordinates()[n],s=t.getCoordinates()[n+1],o=r.getCoordinates()[i],l=r.getCoordinates()[i+1];this._li.computeIntersection(a,s,o,l),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,n,r,i)||(this._hasIntersection=!0,t.addIntersections(this._li,n,0),r.addIntersections(this._li,i,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))};es.prototype.hasIntersection=function(){return this._hasIntersection};es.prototype.isDone=function(){return!1};es.prototype.hasInteriorIntersection=function(){return this._hasInterior};es.prototype.interfaces_=function(){return[Sh]};es.prototype.getClass=function(){return es};es.isAdjacentSegments=function(t,n){return Math.abs(t-n)===1};var Vl=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],n=arguments[1],r=arguments[2];this.coord=new De(t),this.segmentIndex=n,this.dist=r};Vl.prototype.getSegmentIndex=function(){return this.segmentIndex};Vl.prototype.getCoordinate=function(){return this.coord};Vl.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)};Vl.prototype.compareTo=function(t){var n=t;return this.compare(n.segmentIndex,n.dist)};Vl.prototype.isEndPoint=function(t){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===t};Vl.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist};Vl.prototype.getDistance=function(){return this.dist};Vl.prototype.compare=function(t,n){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<n?-1:this.dist>n?1:0};Vl.prototype.interfaces_=function(){return[Ls]};Vl.prototype.getClass=function(){return Vl};var _u=function(){this._nodeMap=new Va,this.edge=null;var t=arguments[0];this.edge=t};_u.prototype.print=function(t){t.println("Intersections:");for(var n=this.iterator();n.hasNext();){var r=n.next();r.print(t)}};_u.prototype.iterator=function(){return this._nodeMap.values().iterator()};_u.prototype.addSplitEdges=function(t){var n=this;this.addEndpoints();for(var r=this.iterator(),i=r.next();r.hasNext();){var a=r.next(),s=n.createSplitEdge(i,a);t.add(s),i=a}};_u.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)};_u.prototype.createSplitEdge=function(t,n){var r=this,i=n.segmentIndex-t.segmentIndex+2,a=this.edge.pts[n.segmentIndex],s=n.dist>0||!n.coord.equals2D(a);s||i--;var o=new Array(i).fill(null),l=0;o[l++]=new De(t.coord);for(var f=t.segmentIndex+1;f<=n.segmentIndex;f++)o[l++]=r.edge.pts[f];return s&&(o[l]=n.coord),new db(o,new Hr(this.edge._label))};_u.prototype.add=function(t,n,r){var i=new Vl(t,n,r),a=this._nodeMap.get(i);return a!==null?a:(this._nodeMap.put(i,i),i)};_u.prototype.isIntersection=function(t){for(var n=this.iterator();n.hasNext();){var r=n.next();if(r.coord.equals(t))return!0}return!1};_u.prototype.interfaces_=function(){return[]};_u.prototype.getClass=function(){return _u};var Ch=function(){};Ch.prototype.getChainStartIndices=function(t){var n=this,r=0,i=new Tn;i.add(new Fl(r));do{var a=n.findChainEnd(t,r);i.add(new Fl(a)),r=a}while(r<t.length-1);var s=Ch.toIntArray(i);return s};Ch.prototype.findChainEnd=function(t,n){for(var r=Zr.quadrant(t[n],t[n+1]),i=n+1;i<t.length;){var a=Zr.quadrant(t[i-1],t[i]);if(a!==r)break;i++}return i-1};Ch.prototype.interfaces_=function(){return[]};Ch.prototype.getClass=function(){return Ch};Ch.toIntArray=function(t){for(var n=new Array(t.size()).fill(null),r=0;r<n.length;r++)n[r]=t.get(r).intValue();return n};var pc=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new jn,this.env2=new jn;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var n=new Ch;this.startIndex=n.getChainStartIndices(this.pts)};pc.prototype.getCoordinates=function(){return this.pts};pc.prototype.getMaxX=function(t){var n=this.pts[this.startIndex[t]].x,r=this.pts[this.startIndex[t+1]].x;return n>r?n:r};pc.prototype.getMinX=function(t){var n=this.pts[this.startIndex[t]].x,r=this.pts[this.startIndex[t+1]].x;return n<r?n:r};pc.prototype.computeIntersectsForChain=function(){if(arguments.length===4){var t=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],n,n.startIndex[r],n.startIndex[r+1],i)}else if(arguments.length===6){var a=arguments[0],s=arguments[1],o=arguments[2],l=arguments[3],f=arguments[4],u=arguments[5],c=this.pts[a],h=this.pts[s],d=o.pts[l],p=o.pts[f];if(s-a===1&&f-l===1)return u.addIntersections(this.e,a,o.e,l),null;if(this.env1.init(c,h),this.env2.init(d,p),!this.env1.intersects(this.env2))return null;var g=Math.trunc((a+s)/2),m=Math.trunc((l+f)/2);a<g&&(l<m&&this.computeIntersectsForChain(a,g,o,l,m,u),m<f&&this.computeIntersectsForChain(a,g,o,m,f,u)),g<s&&(l<m&&this.computeIntersectsForChain(g,s,o,l,m,u),m<f&&this.computeIntersectsForChain(g,s,o,m,f,u))}};pc.prototype.getStartIndexes=function(){return this.startIndex};pc.prototype.computeIntersects=function(t,n){for(var r=this,i=0;i<this.startIndex.length-1;i++)for(var a=0;a<t.startIndex.length-1;a++)r.computeIntersectsForChain(i,t,a,n)};pc.prototype.interfaces_=function(){return[]};pc.prototype.getClass=function(){return pc};var Aa=function e(){var t=this;this._depth=Array(2).fill().map(function(){return Array(3)});for(var n=0;n<2;n++)for(var r=0;r<3;r++)t._depth[n][r]=e.NULL_VALUE},Nk={NULL_VALUE:{configurable:!0}};Aa.prototype.getDepth=function(t,n){return this._depth[t][n]};Aa.prototype.setDepth=function(t,n,r){this._depth[t][n]=r};Aa.prototype.isNull=function(){var t=this;if(arguments.length===0){for(var n=0;n<2;n++)for(var r=0;r<3;r++)if(t._depth[n][r]!==Aa.NULL_VALUE)return!1;return!0}else if(arguments.length===1){var i=arguments[0];return this._depth[i][1]===Aa.NULL_VALUE}else if(arguments.length===2){var a=arguments[0],s=arguments[1];return this._depth[a][s]===Aa.NULL_VALUE}};Aa.prototype.normalize=function(){for(var t=this,n=0;n<2;n++)if(!t.isNull(n)){var r=t._depth[n][1];t._depth[n][2]<r&&(r=t._depth[n][2]),r<0&&(r=0);for(var i=1;i<3;i++){var a=0;t._depth[n][i]>r&&(a=1),t._depth[n][i]=a}}};Aa.prototype.getDelta=function(t){return this._depth[t][mn.RIGHT]-this._depth[t][mn.LEFT]};Aa.prototype.getLocation=function(t,n){return this._depth[t][n]<=0?Ve.EXTERIOR:Ve.INTERIOR};Aa.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]};Aa.prototype.add=function(){var t=this;if(arguments.length===1)for(var n=arguments[0],r=0;r<2;r++)for(var i=1;i<3;i++){var a=n.getLocation(r,i);(a===Ve.EXTERIOR||a===Ve.INTERIOR)&&(t.isNull(r,i)?t._depth[r][i]=Aa.depthAtLocation(a):t._depth[r][i]+=Aa.depthAtLocation(a))}else if(arguments.length===3){var s=arguments[0],o=arguments[1],l=arguments[2];l===Ve.INTERIOR&&this._depth[s][o]++}};Aa.prototype.interfaces_=function(){return[]};Aa.prototype.getClass=function(){return Aa};Aa.depthAtLocation=function(t){return t===Ve.EXTERIOR?0:t===Ve.INTERIOR?1:Aa.NULL_VALUE};Nk.NULL_VALUE.get=function(){return-1};Object.defineProperties(Aa,Nk);var db=function(e){function t(){if(e.call(this),this.pts=null,this._env=null,this.eiList=new _u(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Aa,this._depthDelta=0,arguments.length===1){var n=arguments[0];t.call(this,n,null)}else if(arguments.length===2){var r=arguments[0],i=arguments[1];this.pts=r,this._label=i}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDepth=function(){return this._depth},t.prototype.getCollapsedEdge=function(){var r=new Array(2).fill(null);r[0]=this.pts[0],r[1]=this.pts[1];var i=new t(r,Hr.toLineLabel(this._label));return i},t.prototype.isIsolated=function(){return this._isIsolated},t.prototype.getCoordinates=function(){return this.pts},t.prototype.setIsolated=function(r){this._isIsolated=r},t.prototype.setName=function(r){this._name=r},t.prototype.equals=function(r){var i=this;if(!(r instanceof t))return!1;var a=r;if(this.pts.length!==a.pts.length)return!1;for(var s=!0,o=!0,l=this.pts.length,f=0;f<this.pts.length;f++)if(i.pts[f].equals2D(a.pts[f])||(s=!1),i.pts[f].equals2D(a.pts[--l])||(o=!1),!s&&!o)return!1;return!0},t.prototype.getCoordinate=function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var r=arguments[0];return this.pts[r]}},t.prototype.print=function(r){var i=this;r.print("edge "+this._name+": "),r.print("LINESTRING (");for(var a=0;a<this.pts.length;a++)a>0&&r.print(","),r.print(i.pts[a].x+" "+i.pts[a].y);r.print(")  "+this._label+" "+this._depthDelta)},t.prototype.computeIM=function(r){t.updateIM(this._label,r)},t.prototype.isCollapsed=function(){return!this._label.isArea()||this.pts.length!==3?!1:!!this.pts[0].equals(this.pts[2])},t.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},t.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},t.prototype.getDepthDelta=function(){return this._depthDelta},t.prototype.getNumPoints=function(){return this.pts.length},t.prototype.printReverse=function(r){var i=this;r.print("edge "+this._name+": ");for(var a=this.pts.length-1;a>=0;a--)r.print(i.pts[a]+" ");r.println("")},t.prototype.getMonotoneChainEdge=function(){return this._mce===null&&(this._mce=new pc(this)),this._mce},t.prototype.getEnvelope=function(){var r=this;if(this._env===null){this._env=new jn;for(var i=0;i<this.pts.length;i++)r._env.expandToInclude(r.pts[i])}return this._env},t.prototype.addIntersection=function(r,i,a,s){var o=new De(r.getIntersection(s)),l=i,f=r.getEdgeDistance(a,s),u=l+1;if(u<this.pts.length){var c=this.pts[u];o.equals2D(c)&&(l=u,f=0)}this.eiList.add(o,l,f)},t.prototype.toString=function(){var r=this,i=new ql;i.append("edge "+this._name+": "),i.append("LINESTRING (");for(var a=0;a<this.pts.length;a++)a>0&&i.append(","),i.append(r.pts[a].x+" "+r.pts[a].y);return i.append(")  "+this._label+" "+this._depthDelta),i.toString()},t.prototype.isPointwiseEqual=function(r){var i=this;if(this.pts.length!==r.pts.length)return!1;for(var a=0;a<this.pts.length;a++)if(!i.pts[a].equals2D(r.pts[a]))return!1;return!0},t.prototype.setDepthDelta=function(r){this._depthDelta=r},t.prototype.getEdgeIntersectionList=function(){return this.eiList},t.prototype.addIntersections=function(r,i,a){for(var s=this,o=0;o<r.getIntersectionNum();o++)s.addIntersection(r,i,a,o)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.updateIM=function(){if(arguments.length===2){var r=arguments[0],i=arguments[1];i.setAtLeastIfValid(r.getLocation(0,mn.ON),r.getLocation(1,mn.ON),1),r.isArea()&&(i.setAtLeastIfValid(r.getLocation(0,mn.LEFT),r.getLocation(1,mn.LEFT),2),i.setAtLeastIfValid(r.getLocation(0,mn.RIGHT),r.getLocation(1,mn.RIGHT),2))}else return e.prototype.updateIM.apply(this,arguments)},t}(Qo),eo=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new al,this._bufParams=t||null};eo.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t};eo.prototype.insertUniqueEdge=function(t){var n=this._edgeList.findEqualEdge(t);if(n!==null){var r=n.getLabel(),i=t.getLabel();n.isPointwiseEqual(t)||(i=new Hr(t.getLabel()),i.flip()),r.merge(i);var a=eo.depthDelta(i),s=n.getDepthDelta(),o=s+a;n.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(eo.depthDelta(t.getLabel()))};eo.prototype.buildSubgraphs=function(t,n){for(var r=new Tn,i=t.iterator();i.hasNext();){var a=i.next(),s=a.getRightmostCoordinate(),o=new qd(r),l=o.getDepth(s);a.computeDepth(l),a.findResultEdges(),r.add(a),n.add(a.getDirectedEdges(),a.getNodes())}};eo.prototype.createSubgraphs=function(t){for(var n=new Tn,r=t.getNodes().iterator();r.hasNext();){var i=r.next();if(!i.isVisited()){var a=new ro;a.create(i),n.add(a)}}return il.sort(n,il.reverseOrder()),n};eo.prototype.createEmptyResultGeometry=function(){var t=this._geomFact.createPolygon();return t};eo.prototype.getNoder=function(t){if(this._workingNoder!==null)return this._workingNoder;var n=new cC,r=new Dh;return r.setPrecisionModel(t),n.setSegmentIntersector(new es(r)),n};eo.prototype.buffer=function(t,n){var r=this._workingPrecisionModel;r===null&&(r=t.getPrecisionModel()),this._geomFact=t.getFactory();var i=new vo(r,this._bufParams),a=new Cs(t,n,i),s=a.getCurves();if(s.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(s,r),this._graph=new Si(new Rk),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),l=new Lo(this._geomFact);this.buildSubgraphs(o,l);var f=l.getPolygons();if(f.size()<=0)return this.createEmptyResultGeometry();var u=this._geomFact.buildGeometry(f);return u};eo.prototype.computeNodedEdges=function(t,n){var r=this,i=this.getNoder(n);i.computeNodes(t);for(var a=i.getNodedSubstrings(),s=a.iterator();s.hasNext();){var o=s.next(),l=o.getCoordinates();if(!(l.length===2&&l[0].equals2D(l[1]))){var f=o.getData(),u=new db(o.getCoordinates(),new Hr(f));r.insertUniqueEdge(u)}}};eo.prototype.setNoder=function(t){this._workingNoder=t};eo.prototype.interfaces_=function(){return[]};eo.prototype.getClass=function(){return eo};eo.depthDelta=function(t){var n=t.getLocation(0,mn.LEFT),r=t.getLocation(0,mn.RIGHT);return n===Ve.INTERIOR&&r===Ve.EXTERIOR?1:n===Ve.EXTERIOR&&r===Ve.INTERIOR?-1:0};eo.convertSegStrings=function(t){for(var n=new _r,r=new Tn;t.hasNext();){var i=t.next(),a=n.createLineString(i.getCoordinates());r.add(a)}return n.buildGeometry(r)};var lf=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var t=arguments[0],n=arguments[1];this._noder=t,this._scaleFactor=n,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(arguments.length===4){var r=arguments[0],i=arguments[1],a=arguments[2],s=arguments[3];this._noder=r,this._scaleFactor=i,this._offsetX=a,this._offsetY=s,this._isScaled=!this.isIntegerPrecision()}};lf.prototype.rescale=function(){var t=this;if(Jn(arguments[0],Ji))for(var n=arguments[0],r=n.iterator();r.hasNext();){var i=r.next();t.rescale(i.getCoordinates())}else if(arguments[0]instanceof Array){for(var a=arguments[0],s=0;s<a.length;s++)a[s].x=a[s].x/t._scaleFactor+t._offsetX,a[s].y=a[s].y/t._scaleFactor+t._offsetY;a.length===2&&a[0].equals2D(a[1])&&Oa.out.println(a)}};lf.prototype.scale=function(){var t=this;if(Jn(arguments[0],Ji)){for(var n=arguments[0],r=new Tn,i=n.iterator();i.hasNext();){var a=i.next();r.add(new ji(t.scale(a.getCoordinates()),a.getData()))}return r}else if(arguments[0]instanceof Array){for(var s=arguments[0],o=new Array(s.length).fill(null),l=0;l<s.length;l++)o[l]=new De(Math.round((s[l].x-t._offsetX)*t._scaleFactor),Math.round((s[l].y-t._offsetY)*t._scaleFactor),s[l].z);var f=xr.removeRepeatedPoints(o);return f}};lf.prototype.isIntegerPrecision=function(){return this._scaleFactor===1};lf.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t};lf.prototype.computeNodes=function(t){var n=t;this._isScaled&&(n=this.scale(t)),this._noder.computeNodes(n)};lf.prototype.interfaces_=function(){return[Eh]};lf.prototype.getClass=function(){return lf};var Hl=function(){this._li=new Dh,this._segStrings=null;var t=arguments[0];this._segStrings=t},kk={fact:{configurable:!0}};Hl.prototype.checkEndPtVertexIntersections=function(){var t=this;if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();){var r=n.next(),i=r.getCoordinates();t.checkEndPtVertexIntersections(i[0],t._segStrings),t.checkEndPtVertexIntersections(i[i.length-1],t._segStrings)}else if(arguments.length===2){for(var a=arguments[0],s=arguments[1],o=s.iterator();o.hasNext();)for(var l=o.next(),f=l.getCoordinates(),u=1;u<f.length-1;u++)if(f[u].equals(a))throw new cc("found endpt/interior pt intersection at index "+u+" :pt "+a)}};Hl.prototype.checkInteriorIntersections=function(){var t=this;if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();)for(var r=n.next(),i=this._segStrings.iterator();i.hasNext();){var a=i.next();t.checkInteriorIntersections(r,a)}else if(arguments.length===2)for(var s=arguments[0],o=arguments[1],l=s.getCoordinates(),f=o.getCoordinates(),u=0;u<l.length-1;u++)for(var c=0;c<f.length-1;c++)t.checkInteriorIntersections(s,u,o,c);else if(arguments.length===4){var h=arguments[0],d=arguments[1],p=arguments[2],g=arguments[3];if(h===p&&d===g)return null;var m=h.getCoordinates()[d],v=h.getCoordinates()[d+1],y=p.getCoordinates()[g],_=p.getCoordinates()[g+1];if(this._li.computeIntersection(m,v,y,_),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,m,v)||this.hasInteriorIntersection(this._li,y,_)))throw new cc("found non-noded intersection at "+m+"-"+v+" and "+y+"-"+_)}};Hl.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()};Hl.prototype.checkCollapses=function(){var t=this;if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();){var r=n.next();t.checkCollapses(r)}else if(arguments.length===1)for(var i=arguments[0],a=i.getCoordinates(),s=0;s<a.length-2;s++)t.checkCollapse(a[s],a[s+1],a[s+2])};Hl.prototype.hasInteriorIntersection=function(t,n,r){for(var i=0;i<t.getIntersectionNum();i++){var a=t.getIntersection(i);if(!(a.equals(n)||a.equals(r)))return!0}return!1};Hl.prototype.checkCollapse=function(t,n,r){if(t.equals(r))throw new cc("found non-noded collapse at "+Hl.fact.createLineString([t,n,r]))};Hl.prototype.interfaces_=function(){return[]};Hl.prototype.getClass=function(){return Hl};kk.fact.get=function(){return new _r};Object.defineProperties(Hl,kk);var yo=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],n=arguments[1],r=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=n,this._li=r,n<=0)throw new Ti("Scale factor must be non-zero");n!==1&&(this._pt=new De(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new De,this._p1Scaled=new De),this.initCorners(this._pt)},Dk={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};yo.prototype.intersectsScaled=function(t,n){var r=Math.min(t.x,n.x),i=Math.max(t.x,n.x),a=Math.min(t.y,n.y),s=Math.max(t.y,n.y),o=this._maxx<r||this._minx>i||this._maxy<a||this._miny>s;if(o)return!1;var l=this.intersectsToleranceSquare(t,n);return pr.isTrue(!(o&&l),"Found bad envelope test"),l};yo.prototype.initCorners=function(t){var n=.5;this._minx=t.x-n,this._maxx=t.x+n,this._miny=t.y-n,this._maxy=t.y+n,this._corner[0]=new De(this._maxx,this._maxy),this._corner[1]=new De(this._minx,this._maxy),this._corner[2]=new De(this._minx,this._miny),this._corner[3]=new De(this._maxx,this._miny)};yo.prototype.intersects=function(t,n){return this._scaleFactor===1?this.intersectsScaled(t,n):(this.copyScaled(t,this._p0Scaled),this.copyScaled(n,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))};yo.prototype.scale=function(t){return Math.round(t*this._scaleFactor)};yo.prototype.getCoordinate=function(){return this._originalPt};yo.prototype.copyScaled=function(t,n){n.x=this.scale(t.x),n.y=this.scale(t.y)};yo.prototype.getSafeEnvelope=function(){if(this._safeEnv===null){var t=yo.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new jn(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv};yo.prototype.intersectsPixelClosure=function(t,n){return this._li.computeIntersection(t,n,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,n,this._corner[1],this._corner[2]),this._li.hasIntersection())||(this._li.computeIntersection(t,n,this._corner[2],this._corner[3]),this._li.hasIntersection())||(this._li.computeIntersection(t,n,this._corner[3],this._corner[0]),this._li.hasIntersection()))};yo.prototype.intersectsToleranceSquare=function(t,n){var r=!1,i=!1;return this._li.computeIntersection(t,n,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,n,this._corner[1],this._corner[2]),this._li.isProper())||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,n,this._corner[2],this._corner[3]),this._li.isProper())||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,n,this._corner[3],this._corner[0]),this._li.isProper())||r&&i||t.equals(this._pt)||n.equals(this._pt))};yo.prototype.addSnappedNode=function(t,n){var r=t.getCoordinate(n),i=t.getCoordinate(n+1);return this.intersects(r,i)?(t.addIntersection(this.getCoordinate(),n),!0):!1};yo.prototype.interfaces_=function(){return[]};yo.prototype.getClass=function(){return yo};Dk.SAFE_ENV_EXPANSION_FACTOR.get=function(){return .75};Object.defineProperties(yo,Dk);var hy=function(){this.tempEnv1=new jn,this.selectedSegment=new Un};hy.prototype.select=function(){if(arguments.length!==1){if(arguments.length===2){var t=arguments[0],n=arguments[1];t.getLineSegment(n,this.selectedSegment),this.select(this.selectedSegment)}}};hy.prototype.interfaces_=function(){return[]};hy.prototype.getClass=function(){return hy};var y0=function(){this._index=null;var t=arguments[0];this._index=t},Fk={HotPixelSnapAction:{configurable:!0}};y0.prototype.snap=function(){if(arguments.length===1){var t=arguments[0];return this.snap(t,null,-1)}else if(arguments.length===3){var n=arguments[0],r=arguments[1],i=arguments[2],a=n.getSafeEnvelope(),s=new zk(n,r,i);return this._index.query(a,{interfaces_:function(){return[af]},visitItem:function(o){var l=o;l.select(a,s)}}),s.isNodeAdded()}};y0.prototype.interfaces_=function(){return[]};y0.prototype.getClass=function(){return y0};Fk.HotPixelSnapAction.get=function(){return zk};Object.defineProperties(y0,Fk);var zk=function(e){function t(){e.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var n=arguments[0],r=arguments[1],i=arguments[2];this._hotPixel=n,this._parentEdge=r,this._hotPixelVertexIndex=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isNodeAdded=function(){return this._isNodeAdded},t.prototype.select=function(){if(arguments.length===2){var r=arguments[0],i=arguments[1],a=r.getContext();if(this._parentEdge!==null&&a===this._parentEdge&&i===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(a,i)}else return e.prototype.select.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(hy),Xd=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new Tn};Xd.prototype.processIntersections=function(t,n,r,i){var a=this;if(t===r&&n===i)return null;var s=t.getCoordinates()[n],o=t.getCoordinates()[n+1],l=r.getCoordinates()[i],f=r.getCoordinates()[i+1];if(this._li.computeIntersection(s,o,l,f),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)a._interiorIntersections.add(a._li.getIntersection(u));t.addIntersections(this._li,n,0),r.addIntersections(this._li,i,1)}};Xd.prototype.isDone=function(){return!1};Xd.prototype.getInteriorIntersections=function(){return this._interiorIntersections};Xd.prototype.interfaces_=function(){return[Sh]};Xd.prototype.getClass=function(){return Xd};var xu=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new Dh,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};xu.prototype.checkCorrectness=function(t){var n=ji.getNodedSubstrings(t),r=new Hl(n);try{r.checkValid()}catch(i){if(i instanceof bk)i.printStackTrace();else throw i}finally{}};xu.prototype.getNodedSubstrings=function(){return ji.getNodedSubstrings(this._nodedSegStrings)};xu.prototype.snapRound=function(t,n){var r=this.findInteriorIntersections(t,n);this.computeIntersectionSnaps(r),this.computeVertexSnaps(t)};xu.prototype.findInteriorIntersections=function(t,n){var r=new Xd(n);return this._noder.setSegmentIntersector(r),this._noder.computeNodes(t),r.getInteriorIntersections()};xu.prototype.computeVertexSnaps=function(){var t=this;if(Jn(arguments[0],Ji))for(var n=arguments[0],r=n.iterator();r.hasNext();){var i=r.next();t.computeVertexSnaps(i)}else if(arguments[0]instanceof ji)for(var a=arguments[0],s=a.getCoordinates(),o=0;o<s.length;o++){var l=new yo(s[o],t._scaleFactor,t._li),f=t._pointSnapper.snap(l,a,o);f&&a.addIntersection(s[o],o)}};xu.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new cC,this._pointSnapper=new y0(this._noder.getIndex()),this.snapRound(t,this._li)};xu.prototype.computeIntersectionSnaps=function(t){for(var n=this,r=t.iterator();r.hasNext();){var i=r.next(),a=new yo(i,n._scaleFactor,n._li);n._pointSnapper.snap(a)}};xu.prototype.interfaces_=function(){return[Eh]};xu.prototype.getClass=function(){return xu};var Ca=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new zr,this._resultGeometry=null,this._saveException=null,arguments.length===1){var t=arguments[0];this._argGeom=t}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this._argGeom=n,this._bufParams=r}},V0={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Ca.prototype.bufferFixedPrecision=function(t){var n=new lf(new xu(new Br(1)),t.getScale()),r=new eo(this._bufParams);r.setWorkingPrecisionModel(t),r.setNoder(n),this._resultGeometry=r.buffer(this._argGeom,this._distance)};Ca.prototype.bufferReducedPrecision=function(){var t=this;if(arguments.length===0){for(var n=Ca.MAX_PRECISION_DIGITS;n>=0;n--){try{t.bufferReducedPrecision(n)}catch(s){if(s instanceof hc)t._saveException=s;else throw s}finally{}if(t._resultGeometry!==null)return null}throw this._saveException}else if(arguments.length===1){var r=arguments[0],i=Ca.precisionScaleFactor(this._argGeom,this._distance,r),a=new Br(i);this.bufferFixedPrecision(a)}};Ca.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===Br.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()};Ca.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)};Ca.prototype.bufferOriginalPrecision=function(){try{var t=new eo(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(n){if(n instanceof cc)this._saveException=n;else throw n}finally{}};Ca.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry};Ca.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)};Ca.prototype.interfaces_=function(){return[]};Ca.prototype.getClass=function(){return Ca};Ca.bufferOp=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1],r=new Ca(t),i=r.getResultGeometry(n);return i}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Xn&&typeof arguments[1]=="number"){var a=arguments[0],s=arguments[1],o=arguments[2],l=new Ca(a);l.setQuadrantSegments(o);var f=l.getResultGeometry(s);return f}else if(arguments[2]instanceof zr&&arguments[0]instanceof Xn&&typeof arguments[1]=="number"){var u=arguments[0],c=arguments[1],h=arguments[2],d=new Ca(u,h),p=d.getResultGeometry(c);return p}}else if(arguments.length===4){var g=arguments[0],m=arguments[1],v=arguments[2],y=arguments[3],_=new Ca(g);_.setQuadrantSegments(v),_.setEndCapStyle(y);var x=_.getResultGeometry(m);return x}};Ca.precisionScaleFactor=function(t,n,r){var i=t.getEnvelopeInternal(),a=Jo.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY())),s=n>0?n:0,o=a+2*s,l=Math.trunc(Math.log(o)/Math.log(10)+1),f=r-l,u=Math.pow(10,f);return u};V0.CAP_ROUND.get=function(){return zr.CAP_ROUND};V0.CAP_BUTT.get=function(){return zr.CAP_FLAT};V0.CAP_FLAT.get=function(){return zr.CAP_FLAT};V0.CAP_SQUARE.get=function(){return zr.CAP_SQUARE};V0.MAX_PRECISION_DIGITS.get=function(){return 12};Object.defineProperties(Ca,V0);var Ja=function(){this._pt=[new De,new De],this._distance=ir.NaN,this._isNull=!0};Ja.prototype.getCoordinates=function(){return this._pt};Ja.prototype.getCoordinate=function(t){return this._pt[t]};Ja.prototype.setMinimum=function(){if(arguments.length===1){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(arguments.length===2){var n=arguments[0],r=arguments[1];if(this._isNull)return this.initialize(n,r),null;var i=n.distance(r);i<this._distance&&this.initialize(n,r,i)}};Ja.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var t=arguments[0],n=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(n),this._distance=t.distance(n),this._isNull=!1}else if(arguments.length===3){var r=arguments[0],i=arguments[1],a=arguments[2];this._pt[0].setCoordinate(r),this._pt[1].setCoordinate(i),this._distance=a,this._isNull=!1}};Ja.prototype.getDistance=function(){return this._distance};Ja.prototype.setMaximum=function(){if(arguments.length===1){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(arguments.length===2){var n=arguments[0],r=arguments[1];if(this._isNull)return this.initialize(n,r),null;var i=n.distance(r);i>this._distance&&this.initialize(n,r,i)}};Ja.prototype.interfaces_=function(){return[]};Ja.prototype.getClass=function(){return Ja};var ou=function(){};ou.prototype.interfaces_=function(){return[]};ou.prototype.getClass=function(){return ou};ou.computeDistance=function(){if(arguments[2]instanceof Ja&&arguments[0]instanceof Pi&&arguments[1]instanceof De)for(var t=arguments[0],n=arguments[1],r=arguments[2],i=t.getCoordinates(),a=new Un,s=0;s<i.length-1;s++){a.setCoordinates(i[s],i[s+1]);var o=a.closestPoint(n);r.setMinimum(o,n)}else if(arguments[2]instanceof Ja&&arguments[0]instanceof na&&arguments[1]instanceof De){var l=arguments[0],f=arguments[1],u=arguments[2];ou.computeDistance(l.getExteriorRing(),f,u);for(var c=0;c<l.getNumInteriorRing();c++)ou.computeDistance(l.getInteriorRingN(c),f,u)}else if(arguments[2]instanceof Ja&&arguments[0]instanceof Xn&&arguments[1]instanceof De){var h=arguments[0],d=arguments[1],p=arguments[2];if(h instanceof Pi)ou.computeDistance(h,d,p);else if(h instanceof na)ou.computeDistance(h,d,p);else if(h instanceof no)for(var g=h,m=0;m<g.getNumGeometries();m++){var v=g.getGeometryN(m);ou.computeDistance(v,d,p)}else p.setMinimum(h.getCoordinate(),d)}else if(arguments[2]instanceof Ja&&arguments[0]instanceof Un&&arguments[1]instanceof De){var y=arguments[0],_=arguments[1],x=arguments[2],w=y.closestPoint(_);x.setMinimum(w,_)}};var Ah=function(t){this._maxPtDist=new Ja,this._inputGeom=t||null},fC={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Ah.prototype.computeMaxMidpointDistance=function(t){var n=new uf(this._inputGeom);t.apply(n),this._maxPtDist.setMaximum(n.getMaxPointDistance())};Ah.prototype.computeMaxVertexDistance=function(t){var n=new Kd(this._inputGeom);t.apply(n),this._maxPtDist.setMaximum(n.getMaxPointDistance())};Ah.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()};Ah.prototype.getDistancePoints=function(){return this._maxPtDist};Ah.prototype.interfaces_=function(){return[]};Ah.prototype.getClass=function(){return Ah};fC.MaxPointDistanceFilter.get=function(){return Kd};fC.MaxMidpointDistanceFilter.get=function(){return uf};Object.defineProperties(Ah,fC);var Kd=function(t){this._maxPtDist=new Ja,this._minPtDist=new Ja,this._geom=t||null};Kd.prototype.filter=function(t){this._minPtDist.initialize(),ou.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)};Kd.prototype.getMaxPointDistance=function(){return this._maxPtDist};Kd.prototype.interfaces_=function(){return[gu]};Kd.prototype.getClass=function(){return Kd};var uf=function(t){this._maxPtDist=new Ja,this._minPtDist=new Ja,this._geom=t||null};uf.prototype.filter=function(t,n){if(n===0)return null;var r=t.getCoordinate(n-1),i=t.getCoordinate(n),a=new De((r.x+i.x)/2,(r.y+i.y)/2);this._minPtDist.initialize(),ou.computeDistance(this._geom,a,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)};uf.prototype.isDone=function(){return!1};uf.prototype.isGeometryChanged=function(){return!1};uf.prototype.getMaxPointDistance=function(){return this._maxPtDist};uf.prototype.interfaces_=function(){return[nl]};uf.prototype.getClass=function(){return uf};var ac=function(t){this._comps=t||null};ac.prototype.filter=function(t){t instanceof na&&this._comps.add(t)};ac.prototype.interfaces_=function(){return[Bl]};ac.prototype.getClass=function(){return ac};ac.getPolygons=function(){if(arguments.length===1){var t=arguments[0];return ac.getPolygons(t,new Tn)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return n instanceof na?r.add(n):n instanceof no&&n.apply(new ac(r)),r}};var Ea=function(){if(this._lines=null,this._isForcedToLineString=!1,arguments.length===1){var t=arguments[0];this._lines=t}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this._lines=n,this._isForcedToLineString=r}};Ea.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof mu){var n=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(n),null}t instanceof Pi&&this._lines.add(t)};Ea.prototype.setForceToLineString=function(t){this._isForcedToLineString=t};Ea.prototype.interfaces_=function(){return[fc]};Ea.prototype.getClass=function(){return Ea};Ea.getGeometry=function(){if(arguments.length===1){var t=arguments[0];return t.getFactory().buildGeometry(Ea.getLines(t))}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return n.getFactory().buildGeometry(Ea.getLines(n,r))}};Ea.getLines=function(){if(arguments.length===1){var t=arguments[0];return Ea.getLines(t,!1)}else if(arguments.length===2){if(Jn(arguments[0],Ji)&&Jn(arguments[1],Ji)){for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();){var a=i.next();Ea.getLines(a,r)}return r}else if(arguments[0]instanceof Xn&&typeof arguments[1]=="boolean"){var s=arguments[0],o=arguments[1],l=new Tn;return s.apply(new Ea(l,o)),l}else if(arguments[0]instanceof Xn&&Jn(arguments[1],Ji)){var f=arguments[0],u=arguments[1];return f instanceof Pi?u.add(f):f.apply(new Ea(u)),u}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&Jn(arguments[0],Ji)&&Jn(arguments[1],Ji)){for(var c=arguments[0],h=arguments[1],d=arguments[2],p=c.iterator();p.hasNext();){var g=p.next();Ea.getLines(g,h,d)}return h}else if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Xn&&Jn(arguments[1],Ji)){var m=arguments[0],v=arguments[1],y=arguments[2];return m.apply(new Ea(v,y)),v}}};var ol=function(){if(this._boundaryRule=Ms.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];if(t===null)throw new Ti("Rule must be non-null");this._boundaryRule=t}}};ol.prototype.locateInternal=function(){var t=this;if(arguments[0]instanceof De&&arguments[1]instanceof na){var n=arguments[0],r=arguments[1];if(r.isEmpty())return Ve.EXTERIOR;var i=r.getExteriorRing(),a=this.locateInPolygonRing(n,i);if(a===Ve.EXTERIOR)return Ve.EXTERIOR;if(a===Ve.BOUNDARY)return Ve.BOUNDARY;for(var s=0;s<r.getNumInteriorRing();s++){var o=r.getInteriorRingN(s),l=t.locateInPolygonRing(n,o);if(l===Ve.INTERIOR)return Ve.EXTERIOR;if(l===Ve.BOUNDARY)return Ve.BOUNDARY}return Ve.INTERIOR}else if(arguments[0]instanceof De&&arguments[1]instanceof Pi){var f=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(f))return Ve.EXTERIOR;var c=u.getCoordinates();return!u.isClosed()&&(f.equals(c[0])||f.equals(c[c.length-1]))?Ve.BOUNDARY:An.isOnLine(f,c)?Ve.INTERIOR:Ve.EXTERIOR}else if(arguments[0]instanceof De&&arguments[1]instanceof Oo){var h=arguments[0],d=arguments[1],p=d.getCoordinate();return p.equals2D(h)?Ve.INTERIOR:Ve.EXTERIOR}};ol.prototype.locateInPolygonRing=function(t,n){return n.getEnvelopeInternal().intersects(t)?An.locatePointInRing(t,n.getCoordinates()):Ve.EXTERIOR};ol.prototype.intersects=function(t,n){return this.locate(t,n)!==Ve.EXTERIOR};ol.prototype.updateLocationInfo=function(t){t===Ve.INTERIOR&&(this._isIn=!0),t===Ve.BOUNDARY&&this._numBoundaries++};ol.prototype.computeLocation=function(t,n){var r=this;if(n instanceof Oo&&this.updateLocationInfo(this.locateInternal(t,n)),n instanceof Pi)this.updateLocationInfo(this.locateInternal(t,n));else if(n instanceof na)this.updateLocationInfo(this.locateInternal(t,n));else if(n instanceof Th)for(var i=n,a=0;a<i.getNumGeometries();a++){var s=i.getGeometryN(a);r.updateLocationInfo(r.locateInternal(t,s))}else if(n instanceof hu)for(var o=n,l=0;l<o.getNumGeometries();l++){var f=o.getGeometryN(l);r.updateLocationInfo(r.locateInternal(t,f))}else if(n instanceof no)for(var u=new du(n);u.hasNext();){var c=u.next();c!==n&&r.computeLocation(t,c)}};ol.prototype.locate=function(t,n){return n.isEmpty()?Ve.EXTERIOR:n instanceof Pi?this.locateInternal(t,n):n instanceof na?this.locateInternal(t,n):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,n),this._boundaryRule.isInBoundary(this._numBoundaries)?Ve.BOUNDARY:this._numBoundaries>0||this._isIn?Ve.INTERIOR:Ve.EXTERIOR)};ol.prototype.interfaces_=function(){return[]};ol.prototype.getClass=function(){return ol};var Qa=function e(){if(this._component=null,this._segIndex=null,this._pt=null,arguments.length===2){var t=arguments[0],n=arguments[1];e.call(this,t,e.INSIDE_AREA,n)}else if(arguments.length===3){var r=arguments[0],i=arguments[1],a=arguments[2];this._component=r,this._segIndex=i,this._pt=a}},Bk={INSIDE_AREA:{configurable:!0}};Qa.prototype.isInsideArea=function(){return this._segIndex===Qa.INSIDE_AREA};Qa.prototype.getCoordinate=function(){return this._pt};Qa.prototype.getGeometryComponent=function(){return this._component};Qa.prototype.getSegmentIndex=function(){return this._segIndex};Qa.prototype.interfaces_=function(){return[]};Qa.prototype.getClass=function(){return Qa};Bk.INSIDE_AREA.get=function(){return-1};Object.defineProperties(Qa,Bk);var Jc=function(t){this._pts=t||null};Jc.prototype.filter=function(t){t instanceof Oo&&this._pts.add(t)};Jc.prototype.interfaces_=function(){return[Bl]};Jc.prototype.getClass=function(){return Jc};Jc.getPoints=function(){if(arguments.length===1){var t=arguments[0];return t instanceof Oo?il.singletonList(t):Jc.getPoints(t,new Tn)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return n instanceof Oo?r.add(n):n instanceof no&&n.apply(new Jc(r)),r}};var Zd=function(){this._locations=null;var t=arguments[0];this._locations=t};Zd.prototype.filter=function(t){(t instanceof Oo||t instanceof Pi||t instanceof na)&&this._locations.add(new Qa(t,0,t.getCoordinate()))};Zd.prototype.interfaces_=function(){return[Bl]};Zd.prototype.getClass=function(){return Zd};Zd.getLocations=function(t){var n=new Tn;return t.apply(new Zd(n)),n};var Pa=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new ol,this._minDistanceLocation=null,this._minDistance=ir.MAX_VALUE,arguments.length===2){var t=arguments[0],n=arguments[1];this._geom=[t,n],this._terminateDistance=0}else if(arguments.length===3){var r=arguments[0],i=arguments[1],a=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=r,this._geom[1]=i,this._terminateDistance=a}};Pa.prototype.computeContainmentDistance=function(){var t=this;if(arguments.length===0){var n=new Array(2).fill(null);if(this.computeContainmentDistance(0,n),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,n)}else if(arguments.length===2){var r=arguments[0],i=arguments[1],a=1-r,s=ac.getPolygons(this._geom[r]);if(s.size()>0){var o=Zd.getLocations(this._geom[a]);if(this.computeContainmentDistance(o,s,i),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[a]=i[0],this._minDistanceLocation[r]=i[1],null}}else if(arguments.length===3){if(arguments[2]instanceof Array&&Jn(arguments[0],Ks)&&Jn(arguments[1],Ks)){for(var l=arguments[0],f=arguments[1],u=arguments[2],c=0;c<l.size();c++)for(var h=l.get(c),d=0;d<f.size();d++)if(t.computeContainmentDistance(h,f.get(d),u),t._minDistance<=t._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Qa&&arguments[1]instanceof na){var p=arguments[0],g=arguments[1],m=arguments[2],v=p.getCoordinate();if(Ve.EXTERIOR!==this._ptLocator.locate(v,g))return this._minDistance=0,m[0]=p,m[1]=new Qa(g,v),null}}};Pa.prototype.computeMinDistanceLinesPoints=function(t,n,r){for(var i=this,a=0;a<t.size();a++)for(var s=t.get(a),o=0;o<n.size();o++){var l=n.get(o);if(i.computeMinDistance(s,l,r),i._minDistance<=i._terminateDistance)return null}};Pa.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),n=Ea.getLines(this._geom[0]),r=Ea.getLines(this._geom[1]),i=Jc.getPoints(this._geom[0]),a=Jc.getPoints(this._geom[1]);if(this.computeMinDistanceLines(n,r,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance||(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,a,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance)||(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(r,i,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance))return null;t[0]=null,t[1]=null,this.computeMinDistancePoints(i,a,t),this.updateMinDistance(t,!1)};Pa.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation};Pa.prototype.updateMinDistance=function(t,n){if(t[0]===null)return null;n?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])};Pa.prototype.nearestPoints=function(){this.computeMinDistance();var t=[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()];return t};Pa.prototype.computeMinDistance=function(){var t=this;if(arguments.length===0){if(this._minDistanceLocation!==null||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(arguments.length===3){if(arguments[2]instanceof Array&&arguments[0]instanceof Pi&&arguments[1]instanceof Oo){var n=arguments[0],r=arguments[1],i=arguments[2];if(n.getEnvelopeInternal().distance(r.getEnvelopeInternal())>this._minDistance)return null;for(var a=n.getCoordinates(),s=r.getCoordinate(),o=0;o<a.length-1;o++){var l=An.distancePointLine(s,a[o],a[o+1]);if(l<t._minDistance){t._minDistance=l;var f=new Un(a[o],a[o+1]),u=f.closestPoint(s);i[0]=new Qa(n,o,u),i[1]=new Qa(r,0,s)}if(t._minDistance<=t._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Pi&&arguments[1]instanceof Pi){var c=arguments[0],h=arguments[1],d=arguments[2];if(c.getEnvelopeInternal().distance(h.getEnvelopeInternal())>this._minDistance)return null;for(var p=c.getCoordinates(),g=h.getCoordinates(),m=0;m<p.length-1;m++)for(var v=0;v<g.length-1;v++){var y=An.distanceLineLine(p[m],p[m+1],g[v],g[v+1]);if(y<t._minDistance){t._minDistance=y;var _=new Un(p[m],p[m+1]),x=new Un(g[v],g[v+1]),w=_.closestPoints(x);d[0]=new Qa(c,m,w[0]),d[1]=new Qa(h,v,w[1])}if(t._minDistance<=t._terminateDistance)return null}}}};Pa.prototype.computeMinDistancePoints=function(t,n,r){for(var i=this,a=0;a<t.size();a++)for(var s=t.get(a),o=0;o<n.size();o++){var l=n.get(o),f=s.getCoordinate().distance(l.getCoordinate());if(f<i._minDistance&&(i._minDistance=f,r[0]=new Qa(s,0,s.getCoordinate()),r[1]=new Qa(l,0,l.getCoordinate())),i._minDistance<=i._terminateDistance)return null}};Pa.prototype.distance=function(){if(this._geom[0]===null||this._geom[1]===null)throw new Ti("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)};Pa.prototype.computeMinDistanceLines=function(t,n,r){for(var i=this,a=0;a<t.size();a++)for(var s=t.get(a),o=0;o<n.size();o++){var l=n.get(o);if(i.computeMinDistance(s,l,r),i._minDistance<=i._terminateDistance)return null}};Pa.prototype.interfaces_=function(){return[]};Pa.prototype.getClass=function(){return Pa};Pa.distance=function(t,n){var r=new Pa(t,n);return r.distance()};Pa.isWithinDistance=function(t,n,r){var i=new Pa(t,n,r);return i.distance()<=r};Pa.nearestPoints=function(t,n){var r=new Pa(t,n);return r.nearestPoints()};var ja=function(){this._pt=[new De,new De],this._distance=ir.NaN,this._isNull=!0};ja.prototype.getCoordinates=function(){return this._pt};ja.prototype.getCoordinate=function(t){return this._pt[t]};ja.prototype.setMinimum=function(){if(arguments.length===1){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(arguments.length===2){var n=arguments[0],r=arguments[1];if(this._isNull)return this.initialize(n,r),null;var i=n.distance(r);i<this._distance&&this.initialize(n,r,i)}};ja.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var t=arguments[0],n=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(n),this._distance=t.distance(n),this._isNull=!1}else if(arguments.length===3){var r=arguments[0],i=arguments[1],a=arguments[2];this._pt[0].setCoordinate(r),this._pt[1].setCoordinate(i),this._distance=a,this._isNull=!1}};ja.prototype.toString=function(){return el.toLineString(this._pt[0],this._pt[1])};ja.prototype.getDistance=function(){return this._distance};ja.prototype.setMaximum=function(){if(arguments.length===1){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(arguments.length===2){var n=arguments[0],r=arguments[1];if(this._isNull)return this.initialize(n,r),null;var i=n.distance(r);i>this._distance&&this.initialize(n,r,i)}};ja.prototype.interfaces_=function(){return[]};ja.prototype.getClass=function(){return ja};var Ml=function(){};Ml.prototype.interfaces_=function(){return[]};Ml.prototype.getClass=function(){return Ml};Ml.computeDistance=function(){if(arguments[2]instanceof ja&&arguments[0]instanceof Pi&&arguments[1]instanceof De)for(var t=arguments[0],n=arguments[1],r=arguments[2],i=new Un,a=t.getCoordinates(),s=0;s<a.length-1;s++){i.setCoordinates(a[s],a[s+1]);var o=i.closestPoint(n);r.setMinimum(o,n)}else if(arguments[2]instanceof ja&&arguments[0]instanceof na&&arguments[1]instanceof De){var l=arguments[0],f=arguments[1],u=arguments[2];Ml.computeDistance(l.getExteriorRing(),f,u);for(var c=0;c<l.getNumInteriorRing();c++)Ml.computeDistance(l.getInteriorRingN(c),f,u)}else if(arguments[2]instanceof ja&&arguments[0]instanceof Xn&&arguments[1]instanceof De){var h=arguments[0],d=arguments[1],p=arguments[2];if(h instanceof Pi)Ml.computeDistance(h,d,p);else if(h instanceof na)Ml.computeDistance(h,d,p);else if(h instanceof no)for(var g=h,m=0;m<g.getNumGeometries();m++){var v=g.getGeometryN(m);Ml.computeDistance(v,d,p)}else p.setMinimum(h.getCoordinate(),d)}else if(arguments[2]instanceof ja&&arguments[0]instanceof Un&&arguments[1]instanceof De){var y=arguments[0],_=arguments[1],x=arguments[2],w=y.closestPoint(_);x.setMinimum(w,_)}};var Ts=function(){this._g0=null,this._g1=null,this._ptDist=new ja,this._densifyFrac=0;var t=arguments[0],n=arguments[1];this._g0=t,this._g1=n},hC={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Ts.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()};Ts.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new Ti("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t};Ts.prototype.compute=function(t,n){this.computeOrientedDistance(t,n,this._ptDist),this.computeOrientedDistance(n,t,this._ptDist)};Ts.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()};Ts.prototype.computeOrientedDistance=function(t,n,r){var i=new Jd(n);if(t.apply(i),r.setMaximum(i.getMaxPointDistance()),this._densifyFrac>0){var a=new cf(n,this._densifyFrac);t.apply(a),r.setMaximum(a.getMaxPointDistance())}};Ts.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()};Ts.prototype.interfaces_=function(){return[]};Ts.prototype.getClass=function(){return Ts};Ts.distance=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1],r=new Ts(t,n);return r.distance()}else if(arguments.length===3){var i=arguments[0],a=arguments[1],s=arguments[2],o=new Ts(i,a);return o.setDensifyFraction(s),o.distance()}};hC.MaxPointDistanceFilter.get=function(){return Jd};hC.MaxDensifiedByFractionDistanceFilter.get=function(){return cf};Object.defineProperties(Ts,hC);var Jd=function(){this._maxPtDist=new ja,this._minPtDist=new ja,this._euclideanDist=new Ml,this._geom=null;var t=arguments[0];this._geom=t};Jd.prototype.filter=function(t){this._minPtDist.initialize(),Ml.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)};Jd.prototype.getMaxPointDistance=function(){return this._maxPtDist};Jd.prototype.interfaces_=function(){return[gu]};Jd.prototype.getClass=function(){return Jd};var cf=function(){this._maxPtDist=new ja,this._minPtDist=new ja,this._geom=null,this._numSubSegs=0;var t=arguments[0],n=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/n))};cf.prototype.filter=function(t,n){var r=this;if(n===0)return null;for(var i=t.getCoordinate(n-1),a=t.getCoordinate(n),s=(a.x-i.x)/this._numSubSegs,o=(a.y-i.y)/this._numSubSegs,l=0;l<this._numSubSegs;l++){var f=i.x+l*s,u=i.y+l*o,c=new De(f,u);r._minPtDist.initialize(),Ml.computeDistance(r._geom,c,r._minPtDist),r._maxPtDist.setMaximum(r._minPtDist)}};cf.prototype.isDone=function(){return!1};cf.prototype.isGeometryChanged=function(){return!1};cf.prototype.getMaxPointDistance=function(){return this._maxPtDist};cf.prototype.interfaces_=function(){return[nl]};cf.prototype.getClass=function(){return cf};var Io=function(t,n,r){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=n||null,this._result=r||null},dC={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Io.prototype.checkMaximumDistance=function(t,n,r){var i=new Ts(n,t);if(i.setDensifyFraction(.25),this._maxDistanceFound=i.orientedDistance(),this._maxDistanceFound>r){this._isValid=!1;var a=i.getCoordinates();this._errorLocation=a[1],this._errorIndicator=t.getFactory().createLineString(a),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+el.toLineString(a[0],a[1])+")"}};Io.prototype.isValid=function(){var t=Math.abs(this._bufDistance),n=Io.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-n,this._maxValidDistance=t+n,this._input.isEmpty()||this._result.isEmpty()?!0:(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Io.VERBOSE&&Oa.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)};Io.prototype.checkNegativeValid=function(){if(!(this._input instanceof na||this._input instanceof hu||this._input instanceof no))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)};Io.prototype.getErrorIndicator=function(){return this._errorIndicator};Io.prototype.checkMinimumDistance=function(t,n,r){var i=new Pa(t,n,r);if(this._minDistanceFound=i.distance(),this._minDistanceFound<r){this._isValid=!1;var a=i.nearestPoints();this._errorLocation=i.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(a),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+el.toLineString(a[0],a[1])+" )"}};Io.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)};Io.prototype.getErrorLocation=function(){return this._errorLocation};Io.prototype.getPolygonLines=function(t){for(var n=new Tn,r=new Ea(n),i=ac.getPolygons(t),a=i.iterator();a.hasNext();){var s=a.next();s.apply(r)}return t.getFactory().buildGeometry(n)};Io.prototype.getErrorMessage=function(){return this._errMsg};Io.prototype.interfaces_=function(){return[]};Io.prototype.getClass=function(){return Io};dC.VERBOSE.get=function(){return!1};dC.MAX_DISTANCE_DIFF_FRAC.get=function(){return .012};Object.defineProperties(Io,dC);var Ra=function(t,n,r){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=n||null,this._result=r||null},pC={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Ra.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid};Ra.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*Ra.MAX_ENV_DIFF_FRAC;t===0&&(t=.001);var n=new jn(this._input.getEnvelopeInternal());n.expandBy(this._distance);var r=new jn(this._result.getEnvelopeInternal());r.expandBy(t),r.contains(n)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(r)),this.report("Envelope")};Ra.prototype.checkDistance=function(){var t=new Io(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")};Ra.prototype.checkArea=function(){var t=this._input.getArea(),n=this._result.getArea();this._distance>0&&t>n&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<n&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")};Ra.prototype.checkPolygonal=function(){this._result instanceof na||this._result instanceof hu||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")};Ra.prototype.getErrorIndicator=function(){return this._errorIndicator};Ra.prototype.getErrorLocation=function(){return this._errorLocation};Ra.prototype.checkExpectedEmpty=function(){if(this._input.getDimension()>=2||this._distance>0)return null;this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),this.report("ExpectedEmpty")};Ra.prototype.report=function(t){if(!Ra.VERBOSE)return null;Oa.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))};Ra.prototype.getErrorMessage=function(){return this._errorMsg};Ra.prototype.interfaces_=function(){return[]};Ra.prototype.getClass=function(){return Ra};Ra.isValidMsg=function(t,n,r){var i=new Ra(t,n,r);return i.isValid()?null:i.getErrorMessage()};Ra.isValid=function(t,n,r){var i=new Ra(t,n,r);return!!i.isValid()};pC.VERBOSE.get=function(){return!1};pC.MAX_ENV_DIFF_FRAC.get=function(){return .012};Object.defineProperties(Ra,pC);var Yl=function(){this._pts=null,this._data=null;var t=arguments[0],n=arguments[1];this._pts=t,this._data=n};Yl.prototype.getCoordinates=function(){return this._pts};Yl.prototype.size=function(){return this._pts.length};Yl.prototype.getCoordinate=function(t){return this._pts[t]};Yl.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])};Yl.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:$d.octant(this.getCoordinate(t),this.getCoordinate(t+1))};Yl.prototype.setData=function(t){this._data=t};Yl.prototype.getData=function(){return this._data};Yl.prototype.toString=function(){return el.toLineString(new zi(this._pts))};Yl.prototype.interfaces_=function(){return[yu]};Yl.prototype.getClass=function(){return Yl};var xa=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Tn,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};xa.prototype.getInteriorIntersection=function(){return this._interiorIntersection};xa.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t};xa.prototype.getIntersectionSegments=function(){return this._intSegments};xa.prototype.count=function(){return this._intersectionCount};xa.prototype.getIntersections=function(){return this._intersections};xa.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t};xa.prototype.setKeepIntersections=function(t){this._keepIntersections=t};xa.prototype.processIntersections=function(t,n,r,i){if(!this._findAllIntersections&&this.hasIntersection()||t===r&&n===i)return null;if(this._isCheckEndSegmentsOnly){var a=this.isEndSegment(t,n)||this.isEndSegment(r,i);if(!a)return null}var s=t.getCoordinates()[n],o=t.getCoordinates()[n+1],l=r.getCoordinates()[i],f=r.getCoordinates()[i+1];this._li.computeIntersection(s,o,l,f),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=s,this._intSegments[1]=o,this._intSegments[2]=l,this._intSegments[3]=f,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)};xa.prototype.isEndSegment=function(t,n){return n===0||n>=t.size()-2};xa.prototype.hasIntersection=function(){return this._interiorIntersection!==null};xa.prototype.isDone=function(){return this._findAllIntersections?!1:this._interiorIntersection!==null};xa.prototype.interfaces_=function(){return[Sh]};xa.prototype.getClass=function(){return xa};xa.createAllIntersectionsFinder=function(t){var n=new xa(t);return n.setFindAllIntersections(!0),n};xa.createAnyIntersectionFinder=function(t){return new xa(t)};xa.createIntersectionCounter=function(t){var n=new xa(t);return n.setFindAllIntersections(!0),n.setKeepIntersections(!1),n};var sl=function(){this._li=new Dh,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};sl.prototype.execute=function(){if(this._segInt!==null)return null;this.checkInteriorIntersections()};sl.prototype.getIntersections=function(){return this._segInt.getIntersections()};sl.prototype.isValid=function(){return this.execute(),this._isValid};sl.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t};sl.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new xa(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new cC;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null};sl.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new hc(this.getErrorMessage(),this._segInt.getInteriorIntersection())};sl.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+el.toLineString(t[0],t[1])+" and "+el.toLineString(t[2],t[3])};sl.prototype.interfaces_=function(){return[]};sl.prototype.getClass=function(){return sl};sl.computeIntersections=function(t){var n=new sl(t);return n.setFindAllIntersections(!0),n.isValid(),n.getIntersections()};var Ih=function e(){this._nv=null;var t=arguments[0];this._nv=new sl(e.toSegmentStrings(t))};Ih.prototype.checkValid=function(){this._nv.checkValid()};Ih.prototype.interfaces_=function(){return[]};Ih.prototype.getClass=function(){return Ih};Ih.toSegmentStrings=function(t){for(var n=new Tn,r=t.iterator();r.hasNext();){var i=r.next();n.add(new Yl(i.getCoordinates(),i))}return n};Ih.checkValid=function(t){var n=new Ih(t);n.checkValid()};var Qd=function(t){this._mapOp=t};Qd.prototype.map=function(t){for(var n=this,r=new Tn,i=0;i<t.getNumGeometries();i++){var a=n._mapOp.map(t.getGeometryN(i));a.isEmpty()||r.add(a)}return t.getFactory().createGeometryCollection(_r.toGeometryArray(r))};Qd.prototype.interfaces_=function(){return[]};Qd.prototype.getClass=function(){return Qd};Qd.map=function(t,n){var r=new Qd(n);return r.map(t)};var Wl=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Tn,this._resultLineList=new Tn;var t=arguments[0],n=arguments[1],r=arguments[2];this._op=t,this._geometryFactory=n,this._ptLocator=r};Wl.prototype.collectLines=function(t){for(var n=this,r=this._op.getGraph().getEdgeEnds().iterator();r.hasNext();){var i=r.next();n.collectLineEdge(i,t,n._lineEdgesList),n.collectBoundaryTouchEdge(i,t,n._lineEdgesList)}};Wl.prototype.labelIsolatedLine=function(t,n){var r=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(n));t.getLabel().setLocation(n,r)};Wl.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList};Wl.prototype.collectLineEdge=function(t,n,r){var i=t.getLabel(),a=t.getEdge();t.isLineEdge()&&!t.isVisited()&&cr.isResultOfOp(i,n)&&!a.isCovered()&&(r.add(a),t.setVisitedEdge(!0))};Wl.prototype.findCoveredLineEdges=function(){for(var t=this,n=this._op.getGraph().getNodes().iterator();n.hasNext();){var r=n.next();r.getEdges().findCoveredLineEdges()}for(var i=this._op.getGraph().getEdgeEnds().iterator();i.hasNext();){var a=i.next(),s=a.getEdge();if(a.isLineEdge()&&!s.isCoveredSet()){var o=t._op.isCoveredByA(a.getCoordinate());s.setCovered(o)}}};Wl.prototype.labelIsolatedLines=function(t){for(var n=this,r=t.iterator();r.hasNext();){var i=r.next(),a=i.getLabel();i.isIsolated()&&(a.isNull(0)?n.labelIsolatedLine(i,0):n.labelIsolatedLine(i,1))}};Wl.prototype.buildLines=function(t){for(var n=this,r=this._lineEdgesList.iterator();r.hasNext();){var i=r.next(),a=n._geometryFactory.createLineString(i.getCoordinates());n._resultLineList.add(a),i.setInResult(!0)}};Wl.prototype.collectBoundaryTouchEdge=function(t,n,r){var i=t.getLabel();if(t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult())return null;pr.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),cr.isResultOfOp(i,n)&&n===cr.INTERSECTION&&(r.add(t.getEdge()),t.setVisitedEdge(!0))};Wl.prototype.interfaces_=function(){return[]};Wl.prototype.getClass=function(){return Wl};var tp=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new Tn;var t=arguments[0],n=arguments[1];this._op=t,this._geometryFactory=n};tp.prototype.filterCoveredNodeToPoint=function(t){var n=t.getCoordinate();if(!this._op.isCoveredByLA(n)){var r=this._geometryFactory.createPoint(n);this._resultPointList.add(r)}};tp.prototype.extractNonCoveredResultNodes=function(t){for(var n=this,r=this._op.getGraph().getNodes().iterator();r.hasNext();){var i=r.next();if(!i.isInResult()&&!i.isIncidentEdgeInResult()&&(i.getEdges().getDegree()===0||t===cr.INTERSECTION)){var a=i.getLabel();cr.isResultOfOp(a,t)&&n.filterCoveredNodeToPoint(i)}}};tp.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList};tp.prototype.interfaces_=function(){return[]};tp.prototype.getClass=function(){return tp};var _o=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};_o.prototype.transformPoint=function(t,n){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))};_o.prototype.transformPolygon=function(t,n){var r=this,i=!0,a=this.transformLinearRing(t.getExteriorRing(),t);(a===null||!(a instanceof mu)||a.isEmpty())&&(i=!1);for(var s=new Tn,o=0;o<t.getNumInteriorRing();o++){var l=r.transformLinearRing(t.getInteriorRingN(o),t);l===null||l.isEmpty()||(l instanceof mu||(i=!1),s.add(l))}if(i)return this._factory.createPolygon(a,s.toArray([]));var f=new Tn;return a!==null&&f.add(a),f.addAll(s),this._factory.buildGeometry(f)};_o.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)};_o.prototype.getInputGeometry=function(){return this._inputGeom};_o.prototype.transformMultiLineString=function(t,n){for(var r=this,i=new Tn,a=0;a<t.getNumGeometries();a++){var s=r.transformLineString(t.getGeometryN(a),t);s!==null&&(s.isEmpty()||i.add(s))}return this._factory.buildGeometry(i)};_o.prototype.transformCoordinates=function(t,n){return this.copy(t)};_o.prototype.transformLineString=function(t,n){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))};_o.prototype.transformMultiPoint=function(t,n){for(var r=this,i=new Tn,a=0;a<t.getNumGeometries();a++){var s=r.transformPoint(t.getGeometryN(a),t);s!==null&&(s.isEmpty()||i.add(s))}return this._factory.buildGeometry(i)};_o.prototype.transformMultiPolygon=function(t,n){for(var r=this,i=new Tn,a=0;a<t.getNumGeometries();a++){var s=r.transformPolygon(t.getGeometryN(a),t);s!==null&&(s.isEmpty()||i.add(s))}return this._factory.buildGeometry(i)};_o.prototype.copy=function(t){return t.copy()};_o.prototype.transformGeometryCollection=function(t,n){for(var r=this,i=new Tn,a=0;a<t.getNumGeometries();a++){var s=r.transform(t.getGeometryN(a));s!==null&&(r._pruneEmptyGeometry&&s.isEmpty()||i.add(s))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(_r.toGeometryArray(i)):this._factory.buildGeometry(i)};_o.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Oo)return this.transformPoint(t,null);if(t instanceof d0)return this.transformMultiPoint(t,null);if(t instanceof mu)return this.transformLinearRing(t,null);if(t instanceof Pi)return this.transformLineString(t,null);if(t instanceof Th)return this.transformMultiLineString(t,null);if(t instanceof na)return this.transformPolygon(t,null);if(t instanceof hu)return this.transformMultiPolygon(t,null);if(t instanceof no)return this.transformGeometryCollection(t,null);throw new Ti("Unknown Geometry subtype: "+t.getClass().getName())};_o.prototype.transformLinearRing=function(t,n){var r=this.transformCoordinates(t.getCoordinateSequence(),t);if(r===null)return this._factory.createLinearRing(null);var i=r.size();return i>0&&i<4&&!this._preserveType?this._factory.createLineString(r):this._factory.createLinearRing(r)};_o.prototype.interfaces_=function(){return[]};_o.prototype.getClass=function(){return _o};var bu=function e(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Un,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Pi&&typeof arguments[1]=="number"){var t=arguments[0],n=arguments[1];e.call(this,t.getCoordinates(),n)}else if(arguments[0]instanceof Array&&typeof arguments[1]=="number"){var r=arguments[0],i=arguments[1];this._srcPts=r,this._isClosed=e.isClosed(r),this._snapTolerance=i}};bu.prototype.snapVertices=function(t,n){for(var r=this,i=this._isClosed?t.size()-1:t.size(),a=0;a<i;a++){var s=t.get(a),o=r.findSnapForVertex(s,n);o!==null&&(t.set(a,new De(o)),a===0&&r._isClosed&&t.set(t.size()-1,new De(o)))}};bu.prototype.findSnapForVertex=function(t,n){for(var r=this,i=0;i<n.length;i++){if(t.equals2D(n[i]))return null;if(t.distance(n[i])<r._snapTolerance)return n[i]}return null};bu.prototype.snapTo=function(t){var n=new qy(this._srcPts);this.snapVertices(n,t),this.snapSegments(n,t);var r=n.toCoordinateArray();return r};bu.prototype.snapSegments=function(t,n){var r=this;if(n.length===0)return null;var i=n.length;n[0].equals2D(n[n.length-1])&&(i=n.length-1);for(var a=0;a<i;a++){var s=n[a],o=r.findSegmentIndexToSnap(s,t);o>=0&&t.add(o+1,new De(s),!1)}};bu.prototype.findSegmentIndexToSnap=function(t,n){for(var r=this,i=ir.MAX_VALUE,a=-1,s=0;s<n.size()-1;s++){if(r._seg.p0=n.get(s),r._seg.p1=n.get(s+1),r._seg.p0.equals2D(t)||r._seg.p1.equals2D(t)){if(r._allowSnappingToSourceVertices)continue;return-1}var o=r._seg.distance(t);o<r._snapTolerance&&o<i&&(i=o,a=s)}return a};bu.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t};bu.prototype.interfaces_=function(){return[]};bu.prototype.getClass=function(){return bu};bu.isClosed=function(t){return t.length<=1?!1:t[0].equals2D(t[t.length-1])};var Bi=function(t){this._srcGeom=t||null},Gk={SNAP_PRECISION_FACTOR:{configurable:!0}};Bi.prototype.snapTo=function(t,n){var r=this.extractTargetCoordinates(t),i=new jk(n,r);return i.transform(this._srcGeom)};Bi.prototype.snapToSelf=function(t,n){var r=this.extractTargetCoordinates(this._srcGeom),i=new jk(t,r,!0),a=i.transform(this._srcGeom),s=a;return n&&Jn(s,rf)&&(s=a.buffer(0)),s};Bi.prototype.computeSnapTolerance=function(t){var n=this.computeMinimumSegmentLength(t),r=n/10;return r};Bi.prototype.extractTargetCoordinates=function(t){for(var n=new zl,r=t.getCoordinates(),i=0;i<r.length;i++)n.add(r[i]);return n.toArray(new Array(0).fill(null))};Bi.prototype.computeMinimumSegmentLength=function(t){for(var n=ir.MAX_VALUE,r=0;r<t.length-1;r++){var i=t[r].distance(t[r+1]);i<n&&(n=i)}return n};Bi.prototype.interfaces_=function(){return[]};Bi.prototype.getClass=function(){return Bi};Bi.snap=function(t,n,r){var i=new Array(2).fill(null),a=new Bi(t);i[0]=a.snapTo(n,r);var s=new Bi(n);return i[1]=s.snapTo(i[0],r),i};Bi.computeOverlaySnapTolerance=function(){if(arguments.length===1){var t=arguments[0],n=Bi.computeSizeBasedSnapTolerance(t),r=t.getPrecisionModel();if(r.getType()===Br.FIXED){var i=1/r.getScale()*2/1.415;i>n&&(n=i)}return n}else if(arguments.length===2){var a=arguments[0],s=arguments[1];return Math.min(Bi.computeOverlaySnapTolerance(a),Bi.computeOverlaySnapTolerance(s))}};Bi.computeSizeBasedSnapTolerance=function(t){var n=t.getEnvelopeInternal(),r=Math.min(n.getHeight(),n.getWidth()),i=r*Bi.SNAP_PRECISION_FACTOR;return i};Bi.snapToSelf=function(t,n,r){var i=new Bi(t);return i.snapToSelf(n,r)};Gk.SNAP_PRECISION_FACTOR.get=function(){return 1e-9};Object.defineProperties(Bi,Gk);var jk=function(e){function t(n,r,i){e.call(this),this._snapTolerance=n||null,this._snapPts=r||null,this._isSelfSnap=i!==void 0?i:!1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.snapLine=function(r,i){var a=new bu(r,this._snapTolerance);return a.setAllowSnappingToSourceVertices(this._isSelfSnap),a.snapTo(i)},t.prototype.transformCoordinates=function(r,i){var a=r.toCoordinateArray(),s=this.snapLine(a,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(s)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(_o),Ka=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Ka.prototype.getCommon=function(){return ir.longBitsToDouble(this._commonBits)};Ka.prototype.add=function(t){var n=ir.doubleToLongBits(t);if(this._isFirst)return this._commonBits=n,this._commonSignExp=Ka.signExpBits(this._commonBits),this._isFirst=!1,null;var r=Ka.signExpBits(n);if(r!==this._commonSignExp)return this._commonBits=0,null;this._commonMantissaBitsCount=Ka.numCommonMostSigMantissaBits(this._commonBits,n),this._commonBits=Ka.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))};Ka.prototype.toString=function(){if(arguments.length===1){var t=arguments[0],n=ir.longBitsToDouble(t),r=ir.toBinaryString(t),i="0000000000000000000000000000000000000000000000000000000000000000"+r,a=i.substring(i.length-64),s=a.substring(0,1)+"  "+a.substring(1,12)+"(exp) "+a.substring(12)+" [ "+n+" ]";return s}};Ka.prototype.interfaces_=function(){return[]};Ka.prototype.getClass=function(){return Ka};Ka.getBit=function(t,n){var r=1<<n;return t&r?1:0};Ka.signExpBits=function(t){return t>>52};Ka.zeroLowerBits=function(t,n){var r=(1<<n)-1,i=~r,a=t&i;return a};Ka.numCommonMostSigMantissaBits=function(t,n){for(var r=0,i=52;i>=0;i--){if(Ka.getBit(t,i)!==Ka.getBit(n,i))return r;r++}return 52};var ff=function(){this._commonCoord=null,this._ccFilter=new ep},gC={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};ff.prototype.addCommonBits=function(t){var n=new hf(this._commonCoord);t.apply(n),t.geometryChanged()};ff.prototype.removeCommonBits=function(t){if(this._commonCoord.x===0&&this._commonCoord.y===0)return t;var n=new De(this._commonCoord);n.x=-n.x,n.y=-n.y;var r=new hf(n);return t.apply(r),t.geometryChanged(),t};ff.prototype.getCommonCoordinate=function(){return this._commonCoord};ff.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()};ff.prototype.interfaces_=function(){return[]};ff.prototype.getClass=function(){return ff};gC.CommonCoordinateFilter.get=function(){return ep};gC.Translater.get=function(){return hf};Object.defineProperties(ff,gC);var ep=function(){this._commonBitsX=new Ka,this._commonBitsY=new Ka};ep.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)};ep.prototype.getCommonCoordinate=function(){return new De(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())};ep.prototype.interfaces_=function(){return[gu]};ep.prototype.getClass=function(){return ep};var hf=function(){this.trans=null;var t=arguments[0];this.trans=t};hf.prototype.filter=function(t,n){var r=t.getOrdinate(n,0)+this.trans.x,i=t.getOrdinate(n,1)+this.trans.y;t.setOrdinate(n,0,r),t.setOrdinate(n,1,i)};hf.prototype.isDone=function(){return!1};hf.prototype.isGeometryChanged=function(){return!0};hf.prototype.interfaces_=function(){return[nl]};hf.prototype.getClass=function(){return hf};var ba=function(t,n){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=n,this.computeSnapTolerance()};ba.prototype.selfSnap=function(t){var n=new Bi(t),r=n.snapTo(t,this._snapTolerance);return r};ba.prototype.removeCommonBits=function(t){this._cbr=new ff,this._cbr.add(t[0]),this._cbr.add(t[1]);var n=new Array(2).fill(null);return n[0]=this._cbr.removeCommonBits(t[0].copy()),n[1]=this._cbr.removeCommonBits(t[1].copy()),n};ba.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t};ba.prototype.getResultGeometry=function(t){var n=this.snap(this._geom),r=cr.overlayOp(n[0],n[1],t);return this.prepareResult(r)};ba.prototype.checkValid=function(t){t.isValid()||Oa.out.println("Snapped geometry is invalid")};ba.prototype.computeSnapTolerance=function(){this._snapTolerance=Bi.computeOverlaySnapTolerance(this._geom[0],this._geom[1])};ba.prototype.snap=function(t){var n=this.removeCommonBits(t),r=Bi.snap(n[0],n[1],this._snapTolerance);return r};ba.prototype.interfaces_=function(){return[]};ba.prototype.getClass=function(){return ba};ba.overlayOp=function(t,n,r){var i=new ba(t,n);return i.getResultGeometry(r)};ba.union=function(t,n){return ba.overlayOp(t,n,cr.UNION)};ba.intersection=function(t,n){return ba.overlayOp(t,n,cr.INTERSECTION)};ba.symDifference=function(t,n){return ba.overlayOp(t,n,cr.SYMDIFFERENCE)};ba.difference=function(t,n){return ba.overlayOp(t,n,cr.DIFFERENCE)};var ao=function(t,n){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=n};ao.prototype.getResultGeometry=function(t){var n=null,r=!1,i=null;try{n=cr.overlayOp(this._geom[0],this._geom[1],t);var a=!0;a&&(r=!0)}catch(s){if(s instanceof cc)i=s;else throw s}finally{}if(!r)try{n=ba.overlayOp(this._geom[0],this._geom[1],t)}catch(s){throw s instanceof cc?i:s}finally{}return n};ao.prototype.interfaces_=function(){return[]};ao.prototype.getClass=function(){return ao};ao.overlayOp=function(t,n,r){var i=new ao(t,n);return i.getResultGeometry(r)};ao.union=function(t,n){return ao.overlayOp(t,n,cr.UNION)};ao.intersection=function(t,n){return ao.overlayOp(t,n,cr.INTERSECTION)};ao.symDifference=function(t,n){return ao.overlayOp(t,n,cr.SYMDIFFERENCE)};ao.difference=function(t,n){return ao.overlayOp(t,n,cr.DIFFERENCE)};var dy=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],n=arguments[1];this.mce=t,this.chainIndex=n};dy.prototype.computeIntersections=function(t,n){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,n)};dy.prototype.interfaces_=function(){return[]};dy.prototype.getClass=function(){return dy};var Ro=function e(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,arguments.length===2){var t=arguments[0],n=arguments[1];this._eventType=e.DELETE,this._xValue=t,this._insertEvent=n}else if(arguments.length===3){var r=arguments[0],i=arguments[1],a=arguments[2];this._eventType=e.INSERT,this._label=r,this._xValue=i,this._obj=a}},mC={INSERT:{configurable:!0},DELETE:{configurable:!0}};Ro.prototype.isDelete=function(){return this._eventType===Ro.DELETE};Ro.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t};Ro.prototype.getObject=function(){return this._obj};Ro.prototype.compareTo=function(t){var n=t;return this._xValue<n._xValue?-1:this._xValue>n._xValue?1:this._eventType<n._eventType?-1:this._eventType>n._eventType?1:0};Ro.prototype.getInsertEvent=function(){return this._insertEvent};Ro.prototype.isInsert=function(){return this._eventType===Ro.INSERT};Ro.prototype.isSameLabel=function(t){return this._label===null?!1:this._label===t._label};Ro.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex};Ro.prototype.interfaces_=function(){return[Ls]};Ro.prototype.getClass=function(){return Ro};mC.INSERT.get=function(){return 1};mC.DELETE.get=function(){return 2};Object.defineProperties(Ro,mC);var pb=function(){};pb.prototype.interfaces_=function(){return[]};pb.prototype.getClass=function(){return pb};var Na=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],n=arguments[1],r=arguments[2];this._li=t,this._includeProper=n,this._recordIsolated=r};Na.prototype.isTrivialIntersection=function(t,n,r,i){if(t===r&&this._li.getIntersectionNum()===1){if(Na.isAdjacentSegments(n,i))return!0;if(t.isClosed()){var a=t.getNumPoints()-1;if(n===0&&i===a||i===0&&n===a)return!0}}return!1};Na.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint};Na.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t};Na.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior};Na.prototype.isBoundaryPointInternal=function(t,n){for(var r=n.iterator();r.hasNext();){var i=r.next(),a=i.getCoordinate();if(t.isIntersection(a))return!0}return!1};Na.prototype.hasProperIntersection=function(){return this._hasProper};Na.prototype.hasIntersection=function(){return this._hasIntersection};Na.prototype.isDone=function(){return this._isDone};Na.prototype.isBoundaryPoint=function(t,n){return n===null?!1:!!(this.isBoundaryPointInternal(t,n[0])||this.isBoundaryPointInternal(t,n[1]))};Na.prototype.setBoundaryNodes=function(t,n){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=n};Na.prototype.addIntersections=function(t,n,r,i){if(t===r&&n===i)return null;this.numTests++;var a=t.getCoordinates()[n],s=t.getCoordinates()[n+1],o=r.getCoordinates()[i],l=r.getCoordinates()[i+1];this._li.computeIntersection(a,s,o,l),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),r.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,n,r,i)||(this._hasIntersection=!0,(this._includeProper||!this._li.isProper())&&(t.addIntersections(this._li,n,0),r.addIntersections(this._li,i,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))};Na.prototype.interfaces_=function(){return[]};Na.prototype.getClass=function(){return Na};Na.isAdjacentSegments=function(t,n){return Math.abs(t-n)===1};var Udt=function(e){function t(){e.call(this),this.events=new Tn,this.nOverlaps=null}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.prepareEvents=function(){var r=this;il.sort(this.events);for(var i=0;i<this.events.size();i++){var a=r.events.get(i);a.isDelete()&&a.getInsertEvent().setDeleteEventIndex(i)}},t.prototype.computeIntersections=function(){var r=this;if(arguments.length===1){var i=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var a=0;a<this.events.size();a++){var s=r.events.get(a);if(s.isInsert()&&r.processOverlaps(a,s.getDeleteEventIndex(),s,i),i.isDone())break}}else if(arguments.length===3){if(arguments[2]instanceof Na&&Jn(arguments[0],Ks)&&Jn(arguments[1],Ks)){var o=arguments[0],l=arguments[1],f=arguments[2];this.addEdges(o,o),this.addEdges(l,l),this.computeIntersections(f)}else if(typeof arguments[2]=="boolean"&&Jn(arguments[0],Ks)&&arguments[1]instanceof Na){var u=arguments[0],c=arguments[1],h=arguments[2];h?this.addEdges(u,null):this.addEdges(u),this.computeIntersections(c)}}},t.prototype.addEdge=function(r,i){for(var a=this,s=r.getMonotoneChainEdge(),o=s.getStartIndexes(),l=0;l<o.length-1;l++){var f=new dy(s,l),u=new Ro(i,s.getMinX(l),f);a.events.add(u),a.events.add(new Ro(s.getMaxX(l),u))}},t.prototype.processOverlaps=function(r,i,a,s){for(var o=this,l=a.getObject(),f=r;f<i;f++){var u=o.events.get(f);if(u.isInsert()){var c=u.getObject();a.isSameLabel(u)||(l.computeIntersections(c,s),o.nOverlaps++)}}},t.prototype.addEdges=function(){var r=this;if(arguments.length===1)for(var i=arguments[0],a=i.iterator();a.hasNext();){var s=a.next();r.addEdge(s,s)}else if(arguments.length===2)for(var o=arguments[0],l=arguments[1],f=o.iterator();f.hasNext();){var u=f.next();r.addEdge(u,l)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(pb),wu=function(){this._min=ir.POSITIVE_INFINITY,this._max=ir.NEGATIVE_INFINITY},Uk={NodeComparator:{configurable:!0}};wu.prototype.getMin=function(){return this._min};wu.prototype.intersects=function(t,n){return!(this._min>n||this._max<t)};wu.prototype.getMax=function(){return this._max};wu.prototype.toString=function(){return el.toLineString(new De(this._min,0),new De(this._max,0))};wu.prototype.interfaces_=function(){return[]};wu.prototype.getClass=function(){return wu};Uk.NodeComparator.get=function(){return py};Object.defineProperties(wu,Uk);var py=function(){};py.prototype.compare=function(t,n){var r=t,i=n,a=(r._min+r._max)/2,s=(i._min+i._max)/2;return a<s?-1:a>s?1:0};py.prototype.interfaces_=function(){return[o0]};py.prototype.getClass=function(){return py};var Vdt=function(e){function t(){e.call(this),this._item=null;var n=arguments[0],r=arguments[1],i=arguments[2];this._min=n,this._max=r,this._item=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.query=function(r,i,a){if(!this.intersects(r,i))return null;a.visitItem(this._item)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(wu),Hdt=function(e){function t(){e.call(this),this._node1=null,this._node2=null;var n=arguments[0],r=arguments[1];this._node1=n,this._node2=r,this.buildExtent(this._node1,this._node2)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.buildExtent=function(r,i){this._min=Math.min(r._min,i._min),this._max=Math.max(r._max,i._max)},t.prototype.query=function(r,i,a){if(!this.intersects(r,i))return null;this._node1!==null&&this._node1.query(r,i,a),this._node2!==null&&this._node2.query(r,i,a)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(wu),Tu=function(){this._leaves=new Tn,this._root=null,this._level=0};Tu.prototype.buildTree=function(){var t=this;il.sort(this._leaves,new wu.NodeComparator);for(var n=this._leaves,r=null,i=new Tn;;){if(t.buildLevel(n,i),i.size()===1)return i.get(0);r=n,n=i,i=r}};Tu.prototype.insert=function(t,n,r){if(this._root!==null)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Vdt(t,n,r))};Tu.prototype.query=function(t,n,r){this.init(),this._root.query(t,n,r)};Tu.prototype.buildRoot=function(){if(this._root!==null)return null;this._root=this.buildTree()};Tu.prototype.printNode=function(t){Oa.out.println(el.toLineString(new De(t._min,this._level),new De(t._max,this._level)))};Tu.prototype.init=function(){if(this._root!==null)return null;this.buildRoot()};Tu.prototype.buildLevel=function(t,n){this._level++,n.clear();for(var r=0;r<t.size();r+=2){var i=t.get(r),a=r+1<t.size()?t.get(r):null;if(a===null)n.add(i);else{var s=new Hdt(t.get(r),t.get(r+1));n.add(s)}}};Tu.prototype.interfaces_=function(){return[]};Tu.prototype.getClass=function(){return Tu};var _0=function(){this._items=new Tn};_0.prototype.visitItem=function(t){this._items.add(t)};_0.prototype.getItems=function(){return this._items};_0.prototype.interfaces_=function(){return[af]};_0.prototype.getClass=function(){return _0};var x0=function(){this._index=null;var t=arguments[0];if(!Jn(t,rf))throw new Ti("Argument must be Polygonal");this._index=new Oh(t)},vC={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};x0.prototype.locate=function(t){var n=new Ll(t),r=new b0(n);return this._index.query(t.y,t.y,r),n.getLocation()};x0.prototype.interfaces_=function(){return[v0]};x0.prototype.getClass=function(){return x0};vC.SegmentVisitor.get=function(){return b0};vC.IntervalIndexedGeometry.get=function(){return Oh};Object.defineProperties(x0,vC);var b0=function(){this._counter=null;var t=arguments[0];this._counter=t};b0.prototype.visitItem=function(t){var n=t;this._counter.countSegment(n.getCoordinate(0),n.getCoordinate(1))};b0.prototype.interfaces_=function(){return[af]};b0.prototype.getClass=function(){return b0};var Oh=function(){this._index=new Tu;var t=arguments[0];this.init(t)};Oh.prototype.init=function(t){for(var n=this,r=Ea.getLines(t),i=r.iterator();i.hasNext();){var a=i.next(),s=a.getCoordinates();n.addLine(s)}};Oh.prototype.addLine=function(t){for(var n=this,r=1;r<t.length;r++){var i=new Un(t[r-1],t[r]),a=Math.min(i.p0.y,i.p1.y),s=Math.max(i.p0.y,i.p1.y);n._index.insert(a,s,i)}};Oh.prototype.query=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1],r=new _0;return this._index.query(t,n,r),r.getItems()}else if(arguments.length===3){var i=arguments[0],a=arguments[1],s=arguments[2];this._index.query(i,a,s)}};Oh.prototype.interfaces_=function(){return[]};Oh.prototype.getClass=function(){return Oh};var Sm=function(e){function t(){if(e.call(this),this._parentGeom=null,this._lineEdgeMap=new Mk,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new ol,arguments.length===2){var n=arguments[0],r=arguments[1],i=Ms.OGC_SFS_BOUNDARY_RULE;this._argIndex=n,this._parentGeom=r,this._boundaryNodeRule=i,r!==null&&this.add(r)}else if(arguments.length===3){var a=arguments[0],s=arguments[1],o=arguments[2];this._argIndex=a,this._parentGeom=s,this._boundaryNodeRule=o,s!==null&&this.add(s)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.insertBoundaryPoint=function(r,i){var a=this._nodes.addNode(i),s=a.getLabel(),o=1,l=Ve.NONE;l=s.getLocation(r,mn.ON),l===Ve.BOUNDARY&&o++;var f=t.determineBoundary(this._boundaryNodeRule,o);s.setLocation(r,f)},t.prototype.computeSelfNodes=function(){if(arguments.length===2){var r=arguments[0],i=arguments[1];return this.computeSelfNodes(r,i,!1)}else if(arguments.length===3){var a=arguments[0],s=arguments[1],o=arguments[2],l=new Na(a,!0,!1);l.setIsDoneIfProperInt(o);var f=this.createEdgeSetIntersector(),u=this._parentGeom instanceof mu||this._parentGeom instanceof na||this._parentGeom instanceof hu,c=s||!u;return f.computeIntersections(this._edges,l,c),this.addSelfIntersectionNodes(this._argIndex),l}},t.prototype.computeSplitEdges=function(r){for(var i=this._edges.iterator();i.hasNext();){var a=i.next();a.eiList.addSplitEdges(r)}},t.prototype.computeEdgeIntersections=function(r,i,a){var s=new Na(i,a,!0);s.setBoundaryNodes(this.getBoundaryNodes(),r.getBoundaryNodes());var o=this.createEdgeSetIntersector();return o.computeIntersections(this._edges,r._edges,s),s},t.prototype.getGeometry=function(){return this._parentGeom},t.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},t.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},t.prototype.addPoint=function(){if(arguments[0]instanceof Oo){var r=arguments[0],i=r.getCoordinate();this.insertPoint(this._argIndex,i,Ve.INTERIOR)}else if(arguments[0]instanceof De){var a=arguments[0];this.insertPoint(this._argIndex,a,Ve.INTERIOR)}},t.prototype.addPolygon=function(r){var i=this;this.addPolygonRing(r.getExteriorRing(),Ve.EXTERIOR,Ve.INTERIOR);for(var a=0;a<r.getNumInteriorRing();a++){var s=r.getInteriorRingN(a);i.addPolygonRing(s,Ve.INTERIOR,Ve.EXTERIOR)}},t.prototype.addEdge=function(r){this.insertEdge(r);var i=r.getCoordinates();this.insertPoint(this._argIndex,i[0],Ve.BOUNDARY),this.insertPoint(this._argIndex,i[i.length-1],Ve.BOUNDARY)},t.prototype.addLineString=function(r){var i=xr.removeRepeatedPoints(r.getCoordinates());if(i.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=i[0],null;var a=new db(i,new Hr(this._argIndex,Ve.INTERIOR));this._lineEdgeMap.put(r,a),this.insertEdge(a),pr.isTrue(i.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,i[0]),this.insertBoundaryPoint(this._argIndex,i[i.length-1])},t.prototype.getInvalidPoint=function(){return this._invalidPoint},t.prototype.getBoundaryPoints=function(){for(var r=this.getBoundaryNodes(),i=new Array(r.size()).fill(null),a=0,s=r.iterator();s.hasNext();){var o=s.next();i[a++]=o.getCoordinate().copy()}return i},t.prototype.getBoundaryNodes=function(){return this._boundaryNodes===null&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},t.prototype.addSelfIntersectionNode=function(r,i,a){if(this.isBoundaryNode(r,i))return null;a===Ve.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(r,i):this.insertPoint(r,i,a)},t.prototype.addPolygonRing=function(r,i,a){if(r.isEmpty())return null;var s=xr.removeRepeatedPoints(r.getCoordinates());if(s.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=s[0],null;var o=i,l=a;An.isCCW(s)&&(o=a,l=i);var f=new db(s,new Hr(this._argIndex,Ve.BOUNDARY,o,l));this._lineEdgeMap.put(r,f),this.insertEdge(f),this.insertPoint(this._argIndex,s[0],Ve.BOUNDARY)},t.prototype.insertPoint=function(r,i,a){var s=this._nodes.addNode(i),o=s.getLabel();o===null?s._label=new Hr(r,a):o.setLocation(r,a)},t.prototype.createEdgeSetIntersector=function(){return new Udt},t.prototype.addSelfIntersectionNodes=function(r){for(var i=this,a=this._edges.iterator();a.hasNext();)for(var s=a.next(),o=s.getLabel().getLocation(r),l=s.eiList.iterator();l.hasNext();){var f=l.next();i.addSelfIntersectionNode(r,f.coord,o)}},t.prototype.add=function(){if(arguments.length===1){var r=arguments[0];if(r.isEmpty())return null;if(r instanceof hu&&(this._useBoundaryDeterminationRule=!1),r instanceof na)this.addPolygon(r);else if(r instanceof Pi)this.addLineString(r);else if(r instanceof Oo)this.addPoint(r);else if(r instanceof d0)this.addCollection(r);else if(r instanceof Th)this.addCollection(r);else if(r instanceof hu)this.addCollection(r);else if(r instanceof no)this.addCollection(r);else throw new Error(r.getClass().getName())}else return e.prototype.add.apply(this,arguments)},t.prototype.addCollection=function(r){for(var i=this,a=0;a<r.getNumGeometries();a++){var s=r.getGeometryN(a);i.add(s)}},t.prototype.locate=function(r){return Jn(this._parentGeom,rf)&&this._parentGeom.getNumGeometries()>50?(this._areaPtLocator===null&&(this._areaPtLocator=new x0(this._parentGeom)),this._areaPtLocator.locate(r)):this._ptLocator.locate(r,this._parentGeom)},t.prototype.findEdge=function(){if(arguments.length===1){var r=arguments[0];return this._lineEdgeMap.get(r)}else return e.prototype.findEdge.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.determineBoundary=function(r,i){return r.isInBoundary(i)?Ve.BOUNDARY:Ve.INTERIOR},t}(Si),w0=function(){if(this._li=new Dh,this._resultPrecisionModel=null,this._arg=null,arguments.length===1){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Sm(0,t)}else if(arguments.length===2){var n=arguments[0],r=arguments[1],i=Ms.OGC_SFS_BOUNDARY_RULE;n.getPrecisionModel().compareTo(r.getPrecisionModel())>=0?this.setComputationPrecision(n.getPrecisionModel()):this.setComputationPrecision(r.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Sm(0,n,i),this._arg[1]=new Sm(1,r,i)}else if(arguments.length===3){var a=arguments[0],s=arguments[1],o=arguments[2];a.getPrecisionModel().compareTo(s.getPrecisionModel())>=0?this.setComputationPrecision(a.getPrecisionModel()):this.setComputationPrecision(s.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Sm(0,a,o),this._arg[1]=new Sm(1,s,o)}};w0.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()};w0.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)};w0.prototype.interfaces_=function(){return[]};w0.prototype.getClass=function(){return w0};var uh=function(){};uh.prototype.interfaces_=function(){return[]};uh.prototype.getClass=function(){return uh};uh.map=function(){if(arguments[0]instanceof Xn&&Jn(arguments[1],uh.MapOp)){for(var t=arguments[0],n=arguments[1],r=new Tn,i=0;i<t.getNumGeometries();i++){var a=n.map(t.getGeometryN(i));a!==null&&r.add(a)}return t.getFactory().buildGeometry(r)}else if(Jn(arguments[0],Ji)&&Jn(arguments[1],uh.MapOp)){for(var s=arguments[0],o=arguments[1],l=new Tn,f=s.iterator();f.hasNext();){var u=f.next(),c=o.map(u);c!==null&&l.add(c)}return l}};uh.MapOp=function(){};var cr=function(e){function t(){var n=arguments[0],r=arguments[1];e.call(this,n,r),this._ptLocator=new ol,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new al,this._resultPolyList=new Tn,this._resultLineList=new Tn,this._resultPointList=new Tn,this._graph=new Si(new Rk),this._geomFact=n.getFactory()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.insertUniqueEdge=function(r){var i=this._edgeList.findEqualEdge(r);if(i!==null){var a=i.getLabel(),s=r.getLabel();i.isPointwiseEqual(r)||(s=new Hr(r.getLabel()),s.flip());var o=i.getDepth();o.isNull()&&o.add(a),o.add(s),a.merge(s)}else this._edgeList.add(r)},t.prototype.getGraph=function(){return this._graph},t.prototype.cancelDuplicateResultEdges=function(){for(var r=this._graph.getEdgeEnds().iterator();r.hasNext();){var i=r.next(),a=i.getSym();i.isInResult()&&a.isInResult()&&(i.setInResult(!1),a.setInResult(!1))}},t.prototype.isCoveredByLA=function(r){return!!(this.isCovered(r,this._resultLineList)||this.isCovered(r,this._resultPolyList))},t.prototype.computeGeometry=function(r,i,a,s){var o=new Tn;return o.addAll(r),o.addAll(i),o.addAll(a),o.isEmpty()?t.createEmptyResult(s,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},t.prototype.mergeSymLabels=function(){for(var r=this._graph.getNodes().iterator();r.hasNext();){var i=r.next();i.getEdges().mergeSymLabels()}},t.prototype.isCovered=function(r,i){for(var a=this,s=i.iterator();s.hasNext();){var o=s.next(),l=a._ptLocator.locate(r,o);if(l!==Ve.EXTERIOR)return!0}return!1},t.prototype.replaceCollapsedEdges=function(){for(var r=new Tn,i=this._edgeList.iterator();i.hasNext();){var a=i.next();a.isCollapsed()&&(i.remove(),r.add(a.getCollapsedEdge()))}this._edgeList.addAll(r)},t.prototype.updateNodeLabelling=function(){for(var r=this._graph.getNodes().iterator();r.hasNext();){var i=r.next(),a=i.getEdges().getLabel();i.getLabel().merge(a)}},t.prototype.getResultGeometry=function(r){return this.computeOverlay(r),this._resultGeom},t.prototype.insertUniqueEdges=function(r){for(var i=this,a=r.iterator();a.hasNext();){var s=a.next();i.insertUniqueEdge(s)}},t.prototype.computeOverlay=function(r){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var i=new Tn;this._arg[0].computeSplitEdges(i),this._arg[1].computeSplitEdges(i),this.insertUniqueEdges(i),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Ih.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(r),this.cancelDuplicateResultEdges();var a=new Lo(this._geomFact);a.add(this._graph),this._resultPolyList=a.getPolygons();var s=new Wl(this,this._geomFact,this._ptLocator);this._resultLineList=s.build(r);var o=new tp(this,this._geomFact,this._ptLocator);this._resultPointList=o.build(r),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,r)},t.prototype.labelIncompleteNode=function(r,i){var a=this._ptLocator.locate(r.getCoordinate(),this._arg[i].getGeometry());r.getLabel().setLocation(i,a)},t.prototype.copyPoints=function(r){for(var i=this,a=this._arg[r].getNodeIterator();a.hasNext();){var s=a.next(),o=i._graph.addNode(s.getCoordinate());o.setLabel(r,s.getLabel().getLocation(r))}},t.prototype.findResultAreaEdges=function(r){for(var i=this._graph.getEdgeEnds().iterator();i.hasNext();){var a=i.next(),s=a.getLabel();s.isArea()&&!a.isInteriorAreaEdge()&&t.isResultOfOp(s.getLocation(0,mn.RIGHT),s.getLocation(1,mn.RIGHT),r)&&a.setInResult(!0)}},t.prototype.computeLabelsFromDepths=function(){for(var r=this._edgeList.iterator();r.hasNext();){var i=r.next(),a=i.getLabel(),s=i.getDepth();if(!s.isNull()){s.normalize();for(var o=0;o<2;o++)!a.isNull(o)&&a.isArea()&&!s.isNull(o)&&(s.getDelta(o)===0?a.toLine(o):(pr.isTrue(!s.isNull(o,mn.LEFT),"depth of LEFT side has not been initialized"),a.setLocation(o,mn.LEFT,s.getLocation(o,mn.LEFT)),pr.isTrue(!s.isNull(o,mn.RIGHT),"depth of RIGHT side has not been initialized"),a.setLocation(o,mn.RIGHT,s.getLocation(o,mn.RIGHT))))}}},t.prototype.computeLabelling=function(){for(var r=this,i=this._graph.getNodes().iterator();i.hasNext();){var a=i.next();a.getEdges().computeLabelling(r._arg)}this.mergeSymLabels(),this.updateNodeLabelling()},t.prototype.labelIncompleteNodes=function(){for(var r=this,i=this._graph.getNodes().iterator();i.hasNext();){var a=i.next(),s=a.getLabel();a.isIsolated()&&(s.isNull(0)?r.labelIncompleteNode(a,0):r.labelIncompleteNode(a,1)),a.getEdges().updateLabelling(s)}},t.prototype.isCoveredByA=function(r){return!!this.isCovered(r,this._resultPolyList)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(w0);cr.overlayOp=function(e,t,n){var r=new cr(e,t),i=r.getResultGeometry(n);return i};cr.intersection=function(e,t){if(e.isEmpty()||t.isEmpty())return cr.createEmptyResult(cr.INTERSECTION,e,t,e.getFactory());if(e.isGeometryCollection()){var n=t;return Qd.map(e,{interfaces_:function(){return[uh.MapOp]},map:function(r){return r.intersection(n)}})}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),ao.overlayOp(e,t,cr.INTERSECTION)};cr.symDifference=function(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return cr.createEmptyResult(cr.SYMDIFFERENCE,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),ao.overlayOp(e,t,cr.SYMDIFFERENCE)};cr.resultDimension=function(e,t,n){var r=t.getDimension(),i=n.getDimension(),a=-1;switch(e){case cr.INTERSECTION:a=Math.min(r,i);break;case cr.UNION:a=Math.max(r,i);break;case cr.DIFFERENCE:a=r;break;case cr.SYMDIFFERENCE:a=Math.max(r,i);break}return a};cr.createEmptyResult=function(e,t,n,r){var i=null;switch(cr.resultDimension(e,t,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon();break}return i};cr.difference=function(e,t){return e.isEmpty()?cr.createEmptyResult(cr.DIFFERENCE,e,t,e.getFactory()):t.isEmpty()?e.copy():(e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),ao.overlayOp(e,t,cr.DIFFERENCE))};cr.isResultOfOp=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1],n=e.getLocation(0),r=e.getLocation(1);return cr.isResultOfOp(n,r,t)}else if(arguments.length===3){var i=arguments[0],a=arguments[1],s=arguments[2];switch(i===Ve.BOUNDARY&&(i=Ve.INTERIOR),a===Ve.BOUNDARY&&(a=Ve.INTERIOR),s){case cr.INTERSECTION:return i===Ve.INTERIOR&&a===Ve.INTERIOR;case cr.UNION:return i===Ve.INTERIOR||a===Ve.INTERIOR;case cr.DIFFERENCE:return i===Ve.INTERIOR&&a!==Ve.INTERIOR;case cr.SYMDIFFERENCE:return i===Ve.INTERIOR&&a!==Ve.INTERIOR||i!==Ve.INTERIOR&&a===Ve.INTERIOR}return!1}};cr.INTERSECTION=1;cr.UNION=2;cr.DIFFERENCE=3;cr.SYMDIFFERENCE=4;var Qc=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new ol,this._seg=new Un;var t=arguments[0],n=arguments[1];this._g=t,this._boundaryDistanceTolerance=n,this._linework=this.extractLinework(t)};Qc.prototype.isWithinToleranceOfBoundary=function(t){for(var n=this,r=0;r<this._linework.getNumGeometries();r++)for(var i=n._linework.getGeometryN(r),a=i.getCoordinateSequence(),s=0;s<a.size()-1;s++){a.getCoordinate(s,n._seg.p0),a.getCoordinate(s+1,n._seg.p1);var o=n._seg.distance(t);if(o<=n._boundaryDistanceTolerance)return!0}return!1};Qc.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?Ve.BOUNDARY:this._ptLocator.locate(t,this._g)};Qc.prototype.extractLinework=function(t){var n=new T0;t.apply(n);var r=n.getLinework(),i=_r.toLineStringArray(r);return t.getFactory().createMultiLineString(i)};Qc.prototype.interfaces_=function(){return[]};Qc.prototype.getClass=function(){return Qc};var T0=function(){this._linework=null,this._linework=new Tn};T0.prototype.getLinework=function(){return this._linework};T0.prototype.filter=function(t){var n=this;if(t instanceof na){var r=t;this._linework.add(r.getExteriorRing());for(var i=0;i<r.getNumInteriorRing();i++)n._linework.add(r.getInteriorRingN(i))}};T0.prototype.interfaces_=function(){return[Bl]};T0.prototype.getClass=function(){return T0};var Lh=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};Lh.prototype.extractPoints=function(t,n,r){for(var i=this,a=t.getCoordinates(),s=0;s<a.length-1;s++)i.computeOffsetPoints(a[s],a[s+1],n,r)};Lh.prototype.setSidesToGenerate=function(t,n){this._doLeft=t,this._doRight=n};Lh.prototype.getPoints=function(t){for(var n=this,r=new Tn,i=Ea.getLines(this._g),a=i.iterator();a.hasNext();){var s=a.next();n.extractPoints(s,t,r)}return r};Lh.prototype.computeOffsetPoints=function(t,n,r,i){var a=n.x-t.x,s=n.y-t.y,o=Math.sqrt(a*a+s*s),l=r*a/o,f=r*s/o,u=(n.x+t.x)/2,c=(n.y+t.y)/2;if(this._doLeft){var h=new De(u-f,c+l);i.add(h)}if(this._doRight){var d=new De(u+f,c-l);i.add(d)}};Lh.prototype.interfaces_=function(){return[]};Lh.prototype.getClass=function(){return Lh};var ns=function e(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=e.TOLERANCE,this._testCoords=new Tn;var t=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=e.computeBoundaryDistanceTolerance(t,n),this._geom=[t,n,r],this._locFinder=[new Qc(this._geom[0],this._boundaryDistanceTolerance),new Qc(this._geom[1],this._boundaryDistanceTolerance),new Qc(this._geom[2],this._boundaryDistanceTolerance)]},Vk={TOLERANCE:{configurable:!0}};ns.prototype.reportResult=function(t,n,r){Oa.out.println("Overlay result invalid - A:"+Ve.toLocationSymbol(n[0])+" B:"+Ve.toLocationSymbol(n[1])+" expected:"+(r?"i":"e")+" actual:"+Ve.toLocationSymbol(n[2]))};ns.prototype.isValid=function(t){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var n=this.checkValid(t);return n};ns.prototype.checkValid=function(){var t=this;if(arguments.length===1){for(var n=arguments[0],r=0;r<this._testCoords.size();r++){var i=t._testCoords.get(r);if(!t.checkValid(n,i))return t._invalidLocation=i,!1}return!0}else if(arguments.length===2){var a=arguments[0],s=arguments[1];return this._location[0]=this._locFinder[0].getLocation(s),this._location[1]=this._locFinder[1].getLocation(s),this._location[2]=this._locFinder[2].getLocation(s),ns.hasLocation(this._location,Ve.BOUNDARY)?!0:this.isValidResult(a,this._location)}};ns.prototype.addTestPts=function(t){var n=new Lh(t);this._testCoords.addAll(n.getPoints(5*this._boundaryDistanceTolerance))};ns.prototype.isValidResult=function(t,n){var r=cr.isResultOfOp(n[0],n[1],t),i=n[2]===Ve.INTERIOR,a=!(r^i);return a||this.reportResult(t,n,r),a};ns.prototype.getInvalidLocation=function(){return this._invalidLocation};ns.prototype.interfaces_=function(){return[]};ns.prototype.getClass=function(){return ns};ns.hasLocation=function(t,n){for(var r=0;r<3;r++)if(t[r]===n)return!0;return!1};ns.computeBoundaryDistanceTolerance=function(t,n){return Math.min(Bi.computeSizeBasedSnapTolerance(t),Bi.computeSizeBasedSnapTolerance(n))};ns.isValid=function(t,n,r,i){var a=new ns(t,n,i);return a.isValid(r)};Vk.TOLERANCE.get=function(){return 1e-6};Object.defineProperties(ns,Vk);var Yo=function e(t){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=e.extractFactory(t),this._inputGeoms=t};Yo.prototype.extractElements=function(t,n){var r=this;if(t===null)return null;for(var i=0;i<t.getNumGeometries();i++){var a=t.getGeometryN(i);r._skipEmpty&&a.isEmpty()||n.add(a)}};Yo.prototype.combine=function(){for(var t=this,n=new Tn,r=this._inputGeoms.iterator();r.hasNext();){var i=r.next();t.extractElements(i,n)}return n.size()===0?this._geomFactory!==null?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(n)};Yo.prototype.interfaces_=function(){return[]};Yo.prototype.getClass=function(){return Yo};Yo.combine=function(){if(arguments.length===1){var t=arguments[0],n=new Yo(t);return n.combine()}else if(arguments.length===2){var r=arguments[0],i=arguments[1],a=new Yo(Yo.createList(r,i));return a.combine()}else if(arguments.length===3){var s=arguments[0],o=arguments[1],l=arguments[2],f=new Yo(Yo.createList(s,o,l));return f.combine()}};Yo.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()};Yo.createList=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1],r=new Tn;return r.add(t),r.add(n),r}else if(arguments.length===3){var i=arguments[0],a=arguments[1],s=arguments[2],o=new Tn;return o.add(i),o.add(a),o.add(s),o}};var $i=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,this._inputPolys===null&&(this._inputPolys=new Tn)},Hk={STRTREE_NODE_CAPACITY:{configurable:!0}};$i.prototype.reduceToGeometries=function(t){for(var n=this,r=new Tn,i=t.iterator();i.hasNext();){var a=i.next(),s=null;Jn(a,Ks)?s=n.unionTree(a):a instanceof Xn&&(s=a),r.add(s)}return r};$i.prototype.extractByEnvelope=function(t,n,r){for(var i=new Tn,a=0;a<n.getNumGeometries();a++){var s=n.getGeometryN(a);s.getEnvelopeInternal().intersects(t)?i.add(s):r.add(s)}return this._geomFactory.buildGeometry(i)};$i.prototype.unionOptimized=function(t,n){var r=t.getEnvelopeInternal(),i=n.getEnvelopeInternal();if(!r.intersects(i)){var a=Yo.combine(t,n);return a}if(t.getNumGeometries()<=1&&n.getNumGeometries()<=1)return this.unionActual(t,n);var s=r.intersection(i);return this.unionUsingEnvelopeIntersection(t,n,s)};$i.prototype.union=function(){if(this._inputPolys===null)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new Ik($i.STRTREE_NODE_CAPACITY),n=this._inputPolys.iterator();n.hasNext();){var r=n.next();t.insert(r.getEnvelopeInternal(),r)}this._inputPolys=null;var i=t.itemsTree(),a=this.unionTree(i);return a};$i.prototype.binaryUnion=function(){if(arguments.length===1){var t=arguments[0];return this.binaryUnion(t,0,t.size())}else if(arguments.length===3){var n=arguments[0],r=arguments[1],i=arguments[2];if(i-r<=1){var a=$i.getGeometry(n,r);return this.unionSafe(a,null)}else{if(i-r===2)return this.unionSafe($i.getGeometry(n,r),$i.getGeometry(n,r+1));var s=Math.trunc((i+r)/2),o=this.binaryUnion(n,r,s),l=this.binaryUnion(n,s,i);return this.unionSafe(o,l)}}};$i.prototype.repeatedUnion=function(t){for(var n=null,r=t.iterator();r.hasNext();){var i=r.next();n===null?n=i.copy():n=n.union(i)}return n};$i.prototype.unionSafe=function(t,n){return t===null&&n===null?null:t===null?n.copy():n===null?t.copy():this.unionOptimized(t,n)};$i.prototype.unionActual=function(t,n){return $i.restrictToPolygons(t.union(n))};$i.prototype.unionTree=function(t){var n=this.reduceToGeometries(t),r=this.binaryUnion(n);return r};$i.prototype.unionUsingEnvelopeIntersection=function(t,n,r){var i=new Tn,a=this.extractByEnvelope(r,t,i),s=this.extractByEnvelope(r,n,i),o=this.unionActual(a,s);i.add(o);var l=Yo.combine(i);return l};$i.prototype.bufferUnion=function(){if(arguments.length===1){var t=arguments[0],n=t.get(0).getFactory(),r=n.buildGeometry(t),i=r.buffer(0);return i}else if(arguments.length===2){var a=arguments[0],s=arguments[1],o=a.getFactory(),l=o.createGeometryCollection([a,s]),f=l.buffer(0);return f}};$i.prototype.interfaces_=function(){return[]};$i.prototype.getClass=function(){return $i};$i.restrictToPolygons=function(t){if(Jn(t,rf))return t;var n=ac.getPolygons(t);return n.size()===1?n.get(0):t.getFactory().createMultiPolygon(_r.toPolygonArray(n))};$i.getGeometry=function(t,n){return n>=t.size()?null:t.get(n)};$i.union=function(t){var n=new $i(t);return n.union()};Hk.STRTREE_NODE_CAPACITY.get=function(){return 4};Object.defineProperties($i,Hk);var gb=function(){};gb.prototype.interfaces_=function(){return[]};gb.prototype.getClass=function(){return gb};gb.union=function(t,n){if(t.isEmpty()||n.isEmpty()){if(t.isEmpty()&&n.isEmpty())return cr.createEmptyResult(cr.UNION,t,n,t.getFactory());if(t.isEmpty())return n.copy();if(n.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(n),ao.overlayOp(t,n,cr.UNION)};function Fh(){return new mb}function mb(){this.reset()}mb.prototype={constructor:mb,reset:function(){this.s=this.t=0},add:function(e){cP(U1,e,this.t),cP(this,U1.s,this.s),this.s?this.t+=U1.t:this.s=U1.t},valueOf:function(){return this.s}};var U1=new mb;function cP(e,t,n){var r=e.s=t+n,i=r-t,a=r-i;e.t=t-a+(n-i)}var Li=1e-6,ei=Math.PI,Zu=ei/2,fP=ei/4,gc=ei*2,Wf=180/ei,wl=ei/180,to=Math.abs,Ydt=Math.atan,E0=Math.atan2,Qi=Math.cos,ta=Math.sin,H0=Math.sqrt;function Yk(e){return e>1?0:e<-1?ei:Math.acos(e)}function np(e){return e>1?Zu:e<-1?-Zu:Math.asin(e)}function Dm(){}function vb(e,t){e&&dP.hasOwnProperty(e.type)&&dP[e.type](e,t)}var hP={Feature:function(e,t){vb(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)vb(n[r].geometry,t)}},dP={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){AE(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)AE(n[r],t,0)},Polygon:function(e,t){pP(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)pP(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)vb(n[r],t)}};function AE(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function pP(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)AE(e[n],t,1);t.polygonEnd()}function Wdt(e,t){e&&hP.hasOwnProperty(e.type)?hP[e.type](e,t):vb(e,t)}Fh();Fh();function IE(e){return[E0(e[1],e[0]),np(e[2])]}function M0(e){var t=e[0],n=e[1],r=Qi(n);return[r*Qi(t),r*ta(t),ta(n)]}function V1(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function yb(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function V3(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function H1(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function OE(e){var t=H0(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}Fh();function Wk(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function LE(e,t){return[e>ei?e-gc:e<-ei?e+gc:e,t]}LE.invert=LE;function $dt(e,t,n){return(e%=gc)?t||n?Wk(mP(e),vP(t,n)):mP(e):t||n?vP(t,n):LE}function gP(e){return function(t,n){return t+=e,[t>ei?t-gc:t<-ei?t+gc:t,n]}}function mP(e){var t=gP(e);return t.invert=gP(-e),t}function vP(e,t){var n=Qi(e),r=ta(e),i=Qi(t),a=ta(t);function s(o,l){var f=Qi(l),u=Qi(o)*f,c=ta(o)*f,h=ta(l),d=h*n+u*r;return[E0(c*i-d*a,u*n-h*r),np(d*i+c*a)]}return s.invert=function(o,l){var f=Qi(l),u=Qi(o)*f,c=ta(o)*f,h=ta(l),d=h*i-c*a;return[E0(c*i+h*a,u*n+d*r),np(d*n-u*r)]},s}function qdt(e,t,n,r,i,a){if(n){var s=Qi(t),o=ta(t),l=r*n;i==null?(i=t+r*gc,a=t-l/2):(i=yP(s,i),a=yP(s,a),(r>0?i<a:i>a)&&(i+=r*gc));for(var f,u=i;r>0?u>a:u<a;u-=l)f=IE([s,-o*Qi(u),-o*ta(u)]),e.point(f[0],f[1])}}function yP(e,t){t=M0(t),t[0]-=e,OE(t);var n=Yk(-t[1]);return((-t[2]<0?-n:n)+gc-Li)%gc}function $k(){var e=[],t;return{point:function(n,r){t.push([n,r])},lineStart:function(){e.push(t=[])},lineEnd:Dm,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Xdt(e,t,n,r,i,a){var s=e[0],o=e[1],l=t[0],f=t[1],u=0,c=1,h=l-s,d=f-o,p;if(p=n-s,!(!h&&p>0)){if(p/=h,h<0){if(p<u)return;p<c&&(c=p)}else if(h>0){if(p>c)return;p>u&&(u=p)}if(p=i-s,!(!h&&p<0)){if(p/=h,h<0){if(p>c)return;p>u&&(u=p)}else if(h>0){if(p<u)return;p<c&&(c=p)}if(p=r-o,!(!d&&p>0)){if(p/=d,d<0){if(p<u)return;p<c&&(c=p)}else if(d>0){if(p>c)return;p>u&&(u=p)}if(p=a-o,!(!d&&p<0)){if(p/=d,d<0){if(p>c)return;p>u&&(u=p)}else if(d>0){if(p<u)return;p<c&&(c=p)}return u>0&&(e[0]=s+u*h,e[1]=o+u*d),c<1&&(t[0]=s+c*h,t[1]=o+c*d),!0}}}}}function fx(e,t){return to(e[0]-t[0])<Li&&to(e[1]-t[1])<Li}function Y1(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function qk(e,t,n,r,i){var a=[],s=[],o,l;if(e.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],v=p[g],y;if(fx(m,v)){for(i.lineStart(),o=0;o<g;++o)i.point((m=p[o])[0],m[1]);i.lineEnd();return}a.push(y=new Y1(m,p,null,!0)),s.push(y.o=new Y1(m,null,y,!1)),a.push(y=new Y1(v,p,null,!1)),s.push(y.o=new Y1(v,null,y,!0))}}),!!a.length){for(s.sort(t),_P(a),_P(s),o=0,l=s.length;o<l;++o)s[o].e=n=!n;for(var f=a[0],u,c;;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,l=u.length;o<l;++o)i.point((c=u[o])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(u=h.p.z,o=u.length-1;o>=0;--o)i.point((c=u[o])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,d=!d}while(!h.v);i.lineEnd()}}}function _P(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Xk(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Kdt(e){return e.length===1&&(e=Zdt(e)),{left:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}}function Zdt(e){return function(t,n){return Xk(e(t),n)}}Kdt(Xk);function Kk(e){for(var t=e.length,n,r=-1,i=0,a,s;++r<t;)i+=e[r].length;for(a=new Array(i);--t>=0;)for(s=e[t],n=s.length;--n>=0;)a[--i]=s[n];return a}var Fm=1e9,W1=-Fm;function Jdt(e,t,n,r){function i(f,u){return e<=f&&f<=n&&t<=u&&u<=r}function a(f,u,c,h){var d=0,p=0;if(f==null||(d=s(f,c))!==(p=s(u,c))||l(f,u)<0^c>0)do h.point(d===0||d===3?e:n,d>1?r:t);while((d=(d+c+4)%4)!==p);else h.point(u[0],u[1])}function s(f,u){return to(f[0]-e)<Li?u>0?0:3:to(f[0]-n)<Li?u>0?2:1:to(f[1]-t)<Li?u>0?1:0:u>0?3:2}function o(f,u){return l(f.x,u.x)}function l(f,u){var c=s(f,1),h=s(u,1);return c!==h?c-h:c===0?u[1]-f[1]:c===1?f[0]-u[0]:c===2?f[1]-u[1]:u[0]-f[0]}return function(f){var u=f,c=$k(),h,d,p,g,m,v,y,_,x,w,E,S={point:C,lineStart:P,lineEnd:F,polygonStart:A,polygonEnd:O};function C(N,D){i(N,D)&&u.point(N,D)}function T(){for(var N=0,D=0,I=d.length;D<I;++D)for(var B=d[D],j=1,q=B.length,et=B[0],U,Z,rt=et[0],ft=et[1];j<q;++j)U=rt,Z=ft,et=B[j],rt=et[0],ft=et[1],Z<=r?ft>r&&(rt-U)*(r-Z)>(ft-Z)*(e-U)&&++N:ft<=r&&(rt-U)*(r-Z)<(ft-Z)*(e-U)&&--N;return N}function A(){u=c,h=[],d=[],E=!0}function O(){var N=T(),D=E&&N,I=(h=Kk(h)).length;(D||I)&&(f.polygonStart(),D&&(f.lineStart(),a(null,null,1,f),f.lineEnd()),I&&qk(h,o,N,a,f),f.polygonEnd()),u=f,h=d=p=null}function P(){S.point=R,d&&d.push(p=[]),w=!0,x=!1,y=_=NaN}function F(){h&&(R(g,m),v&&x&&c.rejoin(),h.push(c.result())),S.point=C,x&&u.lineEnd()}function R(N,D){var I=i(N,D);if(d&&p.push([N,D]),w)g=N,m=D,v=I,w=!1,I&&(u.lineStart(),u.point(N,D));else if(I&&x)u.point(N,D);else{var B=[y=Math.max(W1,Math.min(Fm,y)),_=Math.max(W1,Math.min(Fm,_))],j=[N=Math.max(W1,Math.min(Fm,N)),D=Math.max(W1,Math.min(Fm,D))];Xdt(B,j,e,t,n,r)?(x||(u.lineStart(),u.point(B[0],B[1])),u.point(j[0],j[1]),I||u.lineEnd(),E=!1):I&&(u.lineStart(),u.point(N,D),E=!1)}y=N,_=D,x=I}return S}}var H3=Fh();function Qdt(e,t){var n=t[0],r=t[1],i=[ta(n),-Qi(n),0],a=0,s=0;H3.reset();for(var o=0,l=e.length;o<l;++o)if(u=(f=e[o]).length)for(var f,u,c=f[u-1],h=c[0],d=c[1]/2+fP,p=ta(d),g=Qi(d),m=0;m<u;++m,h=y,p=x,g=w,c=v){var v=f[m],y=v[0],_=v[1]/2+fP,x=ta(_),w=Qi(_),E=y-h,S=E>=0?1:-1,C=S*E,T=C>ei,A=p*x;if(H3.add(E0(A*S*ta(C),g*w+A*Qi(C))),a+=T?E+S*gc:E,T^h>=n^y>=n){var O=yb(M0(c),M0(v));OE(O);var P=yb(i,O);OE(P);var F=(T^E>=0?-1:1)*np(P[2]);(r>F||r===F&&(O[0]||O[1]))&&(s+=T^E>=0?1:-1)}}return(a<-Li||a<Li&&H3<-Li)^s&1}Fh();function xP(e){return e}Fh();Fh();var S0=1/0,_b=S0,gy=-S0,xb=gy,bP={point:tpt,lineStart:Dm,lineEnd:Dm,polygonStart:Dm,polygonEnd:Dm,result:function(){var e=[[S0,_b],[gy,xb]];return gy=xb=-(_b=S0=1/0),e}};function tpt(e,t){e<S0&&(S0=e),e>gy&&(gy=e),t<_b&&(_b=t),t>xb&&(xb=t)}Fh();function Zk(e,t,n,r){return function(i,a){var s=t(a),o=i.invert(r[0],r[1]),l=$k(),f=t(l),u=!1,c,h,d,p={point:g,lineStart:v,lineEnd:y,polygonStart:function(){p.point=_,p.lineStart=x,p.lineEnd=w,h=[],c=[]},polygonEnd:function(){p.point=g,p.lineStart=v,p.lineEnd=y,h=Kk(h);var E=Qdt(c,o);h.length?(u||(a.polygonStart(),u=!0),qk(h,npt,E,n,a)):E&&(u||(a.polygonStart(),u=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),u&&(a.polygonEnd(),u=!1),h=c=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function g(E,S){var C=i(E,S);e(E=C[0],S=C[1])&&a.point(E,S)}function m(E,S){var C=i(E,S);s.point(C[0],C[1])}function v(){p.point=m,s.lineStart()}function y(){p.point=g,s.lineEnd()}function _(E,S){d.push([E,S]);var C=i(E,S);f.point(C[0],C[1])}function x(){f.lineStart(),d=[]}function w(){_(d[0][0],d[0][1]),f.lineEnd();var E=f.clean(),S=l.result(),C,T=S.length,A,O,P;if(d.pop(),c.push(d),d=null,!!T){if(E&1){if(O=S[0],(A=O.length-1)>0){for(u||(a.polygonStart(),u=!0),a.lineStart(),C=0;C<A;++C)a.point((P=O[C])[0],P[1]);a.lineEnd()}return}T>1&&E&2&&S.push(S.pop().concat(S.shift())),h.push(S.filter(ept))}}return p}}function ept(e){return e.length>1}function npt(e,t){return((e=e.x)[0]<0?e[1]-Zu-Li:Zu-e[1])-((t=t.x)[0]<0?t[1]-Zu-Li:Zu-t[1])}const wP=Zk(function(){return!0},rpt,apt,[-ei,-Zu]);function rpt(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,s){var o=a>0?ei:-ei,l=to(a-t);to(l-ei)<Li?(e.point(t,n=(n+s)/2>0?Zu:-Zu),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),e.point(a,n),i=0):r!==o&&l>=ei&&(to(t-r)<Li&&(t-=r*Li),to(a-o)<Li&&(a-=o*Li),n=ipt(t,n,a,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),i=0),e.point(t=a,n=s),r=o},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function ipt(e,t,n,r){var i,a,s=ta(e-n);return to(s)>Li?Ydt((ta(t)*(a=Qi(r))*ta(n)-ta(r)*(i=Qi(t))*ta(e))/(i*a*s)):(t+r)/2}function apt(e,t,n,r){var i;if(e==null)i=n*Zu,r.point(-ei,i),r.point(0,i),r.point(ei,i),r.point(ei,0),r.point(ei,-i),r.point(0,-i),r.point(-ei,-i),r.point(-ei,0),r.point(-ei,i);else if(to(e[0]-t[0])>Li){var a=e[0]<t[0]?ei:-ei;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function opt(e,t){var n=Qi(e),r=n>0,i=to(n)>Li;function a(u,c,h,d){qdt(d,e,t,h,u,c)}function s(u,c){return Qi(u)*Qi(c)>n}function o(u){var c,h,d,p,g;return{lineStart:function(){p=d=!1,g=1},point:function(m,v){var y=[m,v],_,x=s(m,v),w=r?x?0:f(m,v):x?f(m+(m<0?ei:-ei),v):0;if(!c&&(p=d=x)&&u.lineStart(),x!==d&&(_=l(c,y),(!_||fx(c,_)||fx(y,_))&&(y[0]+=Li,y[1]+=Li,x=s(y[0],y[1]))),x!==d)g=0,x?(u.lineStart(),_=l(y,c),u.point(_[0],_[1])):(_=l(c,y),u.point(_[0],_[1]),u.lineEnd()),c=_;else if(i&&c&&r^x){var E;!(w&h)&&(E=l(y,c,!0))&&(g=0,r?(u.lineStart(),u.point(E[0][0],E[0][1]),u.point(E[1][0],E[1][1]),u.lineEnd()):(u.point(E[1][0],E[1][1]),u.lineEnd(),u.lineStart(),u.point(E[0][0],E[0][1])))}x&&(!c||!fx(c,y))&&u.point(y[0],y[1]),c=y,d=x,h=w},lineEnd:function(){d&&u.lineEnd(),c=null},clean:function(){return g|(p&&d)<<1}}}function l(u,c,h){var d=M0(u),p=M0(c),g=[1,0,0],m=yb(d,p),v=V1(m,m),y=m[0],_=v-y*y;if(!_)return!h&&u;var x=n*v/_,w=-n*y/_,E=yb(g,m),S=H1(g,x),C=H1(m,w);V3(S,C);var T=E,A=V1(S,T),O=V1(T,T),P=A*A-O*(V1(S,S)-1);if(!(P<0)){var F=H0(P),R=H1(T,(-A-F)/O);if(V3(R,S),R=IE(R),!h)return R;var N=u[0],D=c[0],I=u[1],B=c[1],j;D<N&&(j=N,N=D,D=j);var q=D-N,et=to(q-ei)<Li,U=et||q<Li;if(!et&&B<I&&(j=I,I=B,B=j),U?et?I+B>0^R[1]<(to(R[0]-N)<Li?I:B):I<=R[1]&&R[1]<=B:q>ei^(N<=R[0]&&R[0]<=D)){var Z=H1(T,(-A+F)/O);return V3(Z,S),[R,IE(Z)]}}}function f(u,c){var h=r?e:ei-e,d=0;return u<-h?d|=1:u>h&&(d|=2),c<-h?d|=4:c>h&&(d|=8),d}return Zk(s,o,a,r?[0,-e]:[-ei,e-ei])}function Jk(e){return function(t){var n=new PE;for(var r in e)n[r]=e[r];return n.stream=t,n}}function PE(){}PE.prototype={constructor:PE,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Qk(e,t,n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],a=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),a!=null&&e.clipExtent(null),Wdt(n,e.stream(bP));var s=bP.result(),o=Math.min(r/(s[1][0]-s[0][0]),i/(s[1][1]-s[0][1])),l=+t[0][0]+(r-o*(s[1][0]+s[0][0]))/2,f=+t[0][1]+(i-o*(s[1][1]+s[0][1]))/2;return a!=null&&e.clipExtent(a),e.scale(o*150).translate([l,f])}function spt(e,t,n){return Qk(e,[[0,0],t],n)}var TP=16,lpt=Qi(30*wl);function EP(e,t){return+t?cpt(e,t):upt(e)}function upt(e){return Jk({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function cpt(e,t){function n(r,i,a,s,o,l,f,u,c,h,d,p,g,m){var v=f-r,y=u-i,_=v*v+y*y;if(_>4*t&&g--){var x=s+h,w=o+d,E=l+p,S=H0(x*x+w*w+E*E),C=np(E/=S),T=to(to(E)-1)<Li||to(a-c)<Li?(a+c)/2:E0(w,x),A=e(T,C),O=A[0],P=A[1],F=O-r,R=P-i,N=y*F-v*R;(N*N/_>t||to((v*F+y*R)/_-.5)>.3||s*h+o*d+l*p<lpt)&&(n(r,i,a,s,o,l,O,P,T,x/=S,w/=S,E,g,m),m.point(O,P),n(O,P,T,x,w,E,f,u,c,h,d,p,g,m))}}return function(r){var i,a,s,o,l,f,u,c,h,d,p,g,m={point:v,lineStart:y,lineEnd:x,polygonStart:function(){r.polygonStart(),m.lineStart=w},polygonEnd:function(){r.polygonEnd(),m.lineStart=y}};function v(C,T){C=e(C,T),r.point(C[0],C[1])}function y(){c=NaN,m.point=_,r.lineStart()}function _(C,T){var A=M0([C,T]),O=e(C,T);n(c,h,u,d,p,g,c=O[0],h=O[1],u=C,d=A[0],p=A[1],g=A[2],TP,r),r.point(c,h)}function x(){m.point=v,r.lineEnd()}function w(){y(),m.point=E,m.lineEnd=S}function E(C,T){_(i=C,T),a=c,s=h,o=d,l=p,f=g,m.point=_}function S(){n(c,h,u,d,p,g,a,s,i,o,l,f,TP,r),m.lineEnd=x,x()}return m}}var fpt=Jk({point:function(e,t){this.stream.point(e*wl,t*wl)}});function hpt(e){return dpt(function(){return e})()}function dpt(e){var t,n=150,r=480,i=250,a,s,o=0,l=0,f=0,u=0,c=0,h,d,p=null,g=wP,m=null,v,y,_,x=xP,w=.5,E=EP(O,w),S,C;function T(R){return R=d(R[0]*wl,R[1]*wl),[R[0]*n+a,s-R[1]*n]}function A(R){return R=d.invert((R[0]-a)/n,(s-R[1])/n),R&&[R[0]*Wf,R[1]*Wf]}function O(R,N){return R=t(R,N),[R[0]*n+a,s-R[1]*n]}T.stream=function(R){return S&&C===R?S:S=fpt(g(h,E(x(C=R))))},T.clipAngle=function(R){return arguments.length?(g=+R?opt(p=R*wl,6*wl):(p=null,wP),F()):p*Wf},T.clipExtent=function(R){return arguments.length?(x=R==null?(m=v=y=_=null,xP):Jdt(m=+R[0][0],v=+R[0][1],y=+R[1][0],_=+R[1][1]),F()):m==null?null:[[m,v],[y,_]]},T.scale=function(R){return arguments.length?(n=+R,P()):n},T.translate=function(R){return arguments.length?(r=+R[0],i=+R[1],P()):[r,i]},T.center=function(R){return arguments.length?(o=R[0]%360*wl,l=R[1]%360*wl,P()):[o*Wf,l*Wf]},T.rotate=function(R){return arguments.length?(f=R[0]%360*wl,u=R[1]%360*wl,c=R.length>2?R[2]%360*wl:0,P()):[f*Wf,u*Wf,c*Wf]},T.precision=function(R){return arguments.length?(E=EP(O,w=R*R),F()):H0(w)},T.fitExtent=function(R,N){return Qk(T,R,N)},T.fitSize=function(R,N){return spt(T,R,N)};function P(){d=Wk(h=$dt(f,u,c),t);var R=t(o,l);return a=r-R[0]*n,s=i+R[1]*n,F()}function F(){return S=C=null,T}return function(){return t=e.apply(this,arguments),T.invert=t.invert&&A,P()}}function tD(e){return function(t,n){var r=Qi(t),i=Qi(n),a=e(r*i);return[a*i*ta(t),a*ta(n)]}}function eD(e){return function(t,n){var r=H0(t*t+n*n),i=e(r),a=ta(i),s=Qi(i);return[E0(t*a,r*s),np(r&&n*a/r)]}}var ppt=tD(function(e){return H0(2/(1+e))});ppt.invert=eD(function(e){return 2*np(e/2)});var nD=tD(function(e){return(e=Yk(e))&&e/ta(e)});nD.invert=eD(function(e){return e});function gpt(){return hpt(nD).scale(79.4188).clipAngle(180-.001)}function MP(e,t){return[e,t]}MP.invert=MP;function Gpt(e,t,n){n=n||{};var r=n.units||"kilometers",i=n.steps||8;if(!e)throw new Error("geojson is required");if(typeof n!="object")throw new Error("options must be an object");if(typeof i!="number")throw new Error("steps must be an number");if(t===void 0)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");var a=[];switch(e.type){case"GeometryCollection":return vk(e,function(s){var o=hx(s,t,r,i);o&&a.push(o)}),ME(a);case"FeatureCollection":return aP(e,function(s){var o=hx(s,t,r,i);o&&aP(o,function(l){l&&a.push(l)})}),ME(a)}return hx(e,t,r,i)}function hx(e,t,n,r){var i=e.properties||{},a=e.type==="Feature"?e.geometry:e;if(a.type==="GeometryCollection"){var s=[];return vk(e,function(g){var m=hx(g,t,n,r);m&&s.push(m)}),ME(s)}var o=mpt(a),l={type:a.type,coordinates:iD(a.coordinates,o)},f=new uC,u=f.read(l),c=Mdt(Sdt(t,n),"meters"),h=Ca.bufferOp(u,c,r),d=new Ck;if(h=d.write(h),!rD(h.coordinates)){var p={type:h.type,coordinates:aD(h.coordinates,o)};return gk(p,i)}}function rD(e){return Array.isArray(e[0])?rD(e[0]):isNaN(e[0])}function iD(e,t){return typeof e[0]!="object"?t(e):e.map(function(n){return iD(n,t)})}function aD(e,t){return typeof e[0]!="object"?t.invert(e):e.map(function(n){return aD(n,t)})}function mpt(e){var t=Cdt(e).geometry.coordinates,n=[-t[0],-t[1]];return gpt().rotate(n).scale(Vo)}var oD={exports:{}};(function(e,t){/*! For license information please see plotly-basic.min.js.LICENSE.txt */(function(n,r){e.exports=r()})(self,function(){return function(){var n={8847:function(a,s,o){var l=o(1828),f={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var u in f){var c=u.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");l.addStyleRule(c,f[u])}},8222:function(a,s,o){a.exports=o(2887)},7206:function(a,s,o){a.exports=o(822)},9509:function(a,s,o){a.exports=o(2201)},9548:function(a,s,o){a.exports=o(8729)},1039:function(a,s,o){a.exports=o(4382)},4296:function(a,s,o){a.exports=o(3102)},2576:function(a,s,o){var l=o(9548);l.register([o(7206),o(4201),o(8222),o(1039),o(4296),o(6398),o(9509)]),a.exports=l},4201:function(a,s,o){a.exports=o(8810)},6398:function(a,s,o){a.exports=o(2275)},2884:function(a){a.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},215:function(a,s,o){var l=o(2884),f=o(1940),u=o(5555),c=o(4467).templatedArray;o(4695),a.exports=c("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:f({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:l.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:l.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",u.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",u.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",u.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",u.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:f({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(a,s,o){var l=o(1828),f=o(9298),u=o(2605).draw;function c(d){var p=d._fullLayout;l.filterVisible(p.annotations).forEach(function(g){var m=f.getFromId(d,g.xref),v=f.getFromId(d,g.yref),y=f.getRefType(g.xref),_=f.getRefType(g.yref);g._extremes={},y==="range"&&h(g,m),_==="range"&&h(g,v)})}function h(d,p){var g,m=p._id,v=m.charAt(0),y=d[v],_=d["a"+v],x=d[v+"ref"],w=d["a"+v+"ref"],E=d["_"+v+"padplus"],S=d["_"+v+"padminus"],C={x:1,y:-1}[v]*d[v+"shift"],T=3*d.arrowsize*d.arrowwidth||0,A=T+C,O=T-C,P=3*d.startarrowsize*d.arrowwidth||0,F=P+C,R=P-C;if(w===x){var N=f.findExtremes(p,[p.r2c(y)],{ppadplus:A,ppadminus:O}),D=f.findExtremes(p,[p.r2c(_)],{ppadplus:Math.max(E,F),ppadminus:Math.max(S,R)});g={min:[N.min[0],D.min[0]],max:[N.max[0],D.max[0]]}}else F=_?F+_:F,R=_?R-_:R,g=f.findExtremes(p,[p.r2c(y)],{ppadplus:Math.max(E,A,F),ppadminus:Math.max(S,O,R)});d._extremes[m]=g}a.exports=function(d){var p=d._fullLayout;if(l.filterVisible(p.annotations).length&&d._fullData.length)return l.syncOrAsync([u,c],d)}},4317:function(a,s,o){var l=o(1828),f=o(3972),u=o(4467).arrayEditor;function c(d,p){var g,m,v,y,_,x,w,E=d._fullLayout.annotations,S=[],C=[],T=[],A=(p||[]).length;for(g=0;g<E.length;g++)if(y=(v=E[g]).clicktoshow){for(m=0;m<A;m++)if(x=(_=p[m]).xaxis,w=_.yaxis,x._id===v.xref&&w._id===v.yref&&x.d2r(_.x)===h(v._xclick,x)&&w.d2r(_.y)===h(v._yclick,w)){(v.visible?y==="onout"?C:T:S).push(g);break}m===A&&v.visible&&y==="onout"&&C.push(g)}return{on:S,off:C,explicitOff:T}}function h(d,p){return p.type==="log"?p.l2r(d):p.d2r(d)}a.exports={hasClickToShow:function(d,p){var g=c(d,p);return g.on.length>0||g.explicitOff.length>0},onClick:function(d,p){var g,m,v=c(d,p),y=v.on,_=v.off.concat(v.explicitOff),x={},w=d._fullLayout.annotations;if(y.length||_.length){for(g=0;g<y.length;g++)(m=u(d.layout,"annotations",w[y[g]])).modifyItem("visible",!0),l.extendFlat(x,m.getUpdateObj());for(g=0;g<_.length;g++)(m=u(d.layout,"annotations",w[_[g]])).modifyItem("visible",!1),l.extendFlat(x,m.getUpdateObj());return f.call("update",d,{},x)}}}},5625:function(a,s,o){var l=o(1828),f=o(7901);a.exports=function(u,c,h,d){d("opacity");var p=d("bgcolor"),g=d("bordercolor"),m=f.opacity(g);d("borderpad");var v=d("borderwidth"),y=d("showarrow");if(d("text",y?" ":h._dfltTitle.annotation),d("textangle"),l.coerceFont(d,"font",h.font),d("width"),d("align"),d("height")&&d("valign"),y){var _,x,w=d("arrowside");w.indexOf("end")!==-1&&(_=d("arrowhead"),x=d("arrowsize")),w.indexOf("start")!==-1&&(d("startarrowhead",_),d("startarrowsize",x)),d("arrowcolor",m?c.bordercolor:f.defaultLine),d("arrowwidth",2*(m&&v||1)),d("standoff"),d("startstandoff")}var E=d("hovertext"),S=h.hoverlabel||{};if(E){var C=d("hoverlabel.bgcolor",S.bgcolor||(f.opacity(p)?f.rgb(p):f.defaultLine)),T=d("hoverlabel.bordercolor",S.bordercolor||f.contrast(C));l.coerceFont(d,"hoverlabel.font",{family:S.font.family,size:S.font.size,color:S.font.color||T})}d("captureevents",!!E)}},4128:function(a,s,o){var l=o(2770),f=o(8163);a.exports=function(u,c,h,d){c=c||{};var p=h==="log"&&c.type==="linear",g=h==="linear"&&c.type==="log";if(p||g)for(var m,v,y=u._fullLayout.annotations,_=c._id.charAt(0),x=0;x<y.length;x++)m=y[x],v="annotations["+x+"].",m[_+"ref"]===c._id&&w(_),m["a"+_+"ref"]===c._id&&w("a"+_);function w(E){var S=m[E],C=null;C=p?f(S,c.range):Math.pow(10,S),l(C)||(C=null),d(v+E,C)}}},4046:function(a,s,o){var l=o(1828),f=o(9298),u=o(5501),c=o(5625),h=o(215);function d(p,g,m){function v(D,I){return l.coerce(p,g,h,D,I)}var y=v("visible"),_=v("clicktoshow");if(y||_){c(p,g,m,v);for(var x=g.showarrow,w=["x","y"],E=[-10,-30],S={_fullLayout:m},C=0;C<2;C++){var T=w[C],A=f.coerceRef(p,g,S,T,"","paper");if(A!=="paper"&&f.getFromId(S,A)._annIndices.push(g._index),f.coercePosition(g,S,v,A,T,.5),x){var O="a"+T,P=f.coerceRef(p,g,S,O,"pixel",["pixel","paper"]);P!=="pixel"&&P!==A&&(P=g[O]="pixel");var F=P==="pixel"?E[C]:.4;f.coercePosition(g,S,v,P,O,F)}v(T+"anchor"),v(T+"shift")}if(l.noneOrAll(p,g,["x","y"]),x&&l.noneOrAll(p,g,["ax","ay"]),_){var R=v("xclick"),N=v("yclick");g._xclick=R===void 0?g.x:f.cleanPosition(R,S,g.xref),g._yclick=N===void 0?g.y:f.cleanPosition(N,S,g.yref)}}}a.exports=function(p,g){u(p,g,{name:"annotations",handleItemDefaults:d})}},2605:function(a,s,o){var l=o(9898),f=o(3972),u=o(4875),c=o(1828),h=c.strTranslate,d=o(9298),p=o(7901),g=o(1424),m=o(211),v=o(3893),y=o(6964),_=o(8569),x=o(4467).arrayEditor,w=o(3011);function E(T,A){var O=T._fullLayout.annotations[A]||{},P=d.getFromId(T,O.xref),F=d.getFromId(T,O.yref);P&&P.setScale(),F&&F.setScale(),C(T,O,A,!1,P,F)}function S(T,A,O,P,F){var R=F[O],N=F[O+"ref"],D=O.indexOf("y")!==-1,I=d.getRefType(N)==="domain",B=D?P.h:P.w;return T?I?R+(D?-A:A)/T._length:T.p2r(T.r2p(R)+A):R+(D?-A:A)/B}function C(T,A,O,P,F,R){var N,D,I=T._fullLayout,B=T._fullLayout._size,j=T._context.edits;P?(N="annotation-"+P,D=P+".annotations"):(N="annotation",D="annotations");var q=x(T.layout,D,A),et=q.modifyBase,U=q.modifyItem,Z=q.getUpdateObj;I._infolayer.selectAll("."+N+'[data-index="'+O+'"]').remove();var rt="clip"+I._uid+"_ann"+O;if(A._input&&A.visible!==!1){var ft={x:{},y:{}},z=+A.textangle||0,W=I._infolayer.append("g").classed(N,!0).attr("data-index",String(O)).style("opacity",A.opacity),X=W.append("g").classed("annotation-text-g",!0),it=j[A.showarrow?"annotationTail":"annotationPosition"],lt=A.captureevents||j.annotationText||it,dt=X.append("g").style("pointer-events",lt?"all":null).call(y,"pointer").on("click",function(){T._dragging=!1,T.emit("plotly_clickannotation",ht(l.event))});A.hovertext&&dt.on("mouseover",function(){var It=A.hoverlabel,zt=It.font,pt=this.getBoundingClientRect(),yt=T.getBoundingClientRect();m.loneHover({x0:pt.left-yt.left,x1:pt.right-yt.left,y:(pt.top+pt.bottom)/2-yt.top,text:A.hovertext,color:It.bgcolor,borderColor:It.bordercolor,fontFamily:zt.family,fontSize:zt.size,fontColor:zt.color},{container:I._hoverlayer.node(),outerContainer:I._paper.node(),gd:T})}).on("mouseout",function(){m.loneUnhover(I._hoverlayer.node())});var nt=A.borderwidth,V=A.borderpad,G=nt+V,H=dt.append("rect").attr("class","bg").style("stroke-width",nt+"px").call(p.stroke,A.bordercolor).call(p.fill,A.bgcolor),$=A.width||A.height,J=I._topclips.selectAll("#"+rt).data($?[0]:[]);J.enter().append("clipPath").classed("annclip",!0).attr("id",rt).append("rect"),J.exit().remove();var Q=A.font,ot=I._meta?c.templateString(A.text,I._meta):A.text,st=dt.append("text").classed("annotation-text",!0).text(ot);j.annotationText?st.call(v.makeEditable,{delegate:dt,gd:T}).call(xt).on("edit",function(It){A.text=It,this.call(xt),U("text",It),F&&F.autorange&&et(F._name+".autorange",!0),R&&R.autorange&&et(R._name+".autorange",!0),f.call("_guiRelayout",T,Z())}):st.call(xt)}else l.selectAll("#"+rt).remove();function ht(It){var zt={index:O,annotation:A._input,fullAnnotation:A,event:It};return P&&(zt.subplotId=P),zt}function xt(It){return It.call(g.font,Q).attr({"text-anchor":{left:"start",right:"end"}[A.align]||"middle"}),v.convertToTspans(It,T,Pt),It}function Pt(){var It=st.selectAll("a");It.size()===1&&It.text()===st.text()&&dt.insert("a",":first-child").attr({"xlink:xlink:href":It.attr("xlink:href"),"xlink:xlink:show":It.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(H.node());var zt=dt.select(".annotation-text-math-group"),pt=!zt.empty(),yt=g.bBox((pt?zt:st).node()),wt=yt.width,St=yt.height,Ut=A.width||wt,Gt=A.height||St,mt=Math.round(Ut+2*G),Tt=Math.round(Gt+2*G);function At(ee,re){return re==="auto"&&(re=ee<.3333333333333333?"left":ee>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[re]}for(var Et=!1,Mt=["x","y"],Nt=0;Nt<Mt.length;Nt++){var Ft,Lt,Dt,kt,Wt,Qt=Mt[Nt],Ht=A[Qt+"ref"]||Qt,oe=A["a"+Qt+"ref"],ce={x:F,y:R}[Qt],pe=(z+(Qt==="x"?0:-90))*Math.PI/180,we=mt*Math.cos(pe),Le=Tt*Math.sin(pe),jt=Math.abs(we)+Math.abs(Le),Rt=A[Qt+"anchor"],te=A[Qt+"shift"]*(Qt==="x"?1:-1),ae=ft[Qt],Se=d.getRefType(Ht);if(ce&&Se!=="domain"){var ne=ce.r2fraction(A[Qt]);(ne<0||ne>1)&&(oe===Ht?((ne=ce.r2fraction(A["a"+Qt]))<0||ne>1)&&(Et=!0):Et=!0),Ft=ce._offset+ce.r2p(A[Qt]),kt=.5}else{var ge=Se==="domain";Qt==="x"?(Dt=A[Qt],Ft=ge?ce._offset+ce._length*Dt:Ft=B.l+B.w*Dt):(Dt=1-A[Qt],Ft=ge?ce._offset+ce._length*Dt:Ft=B.t+B.h*Dt),kt=A.showarrow?.5:Dt}if(A.showarrow){ae.head=Ft;var xe=A["a"+Qt];if(Wt=we*At(.5,A.xanchor)-Le*At(.5,A.yanchor),oe===Ht){var Fe=d.getRefType(oe);Fe==="domain"?(Qt==="y"&&(xe=1-xe),ae.tail=ce._offset+ce._length*xe):Fe==="paper"?Qt==="y"?(xe=1-xe,ae.tail=B.t+B.h*xe):ae.tail=B.l+B.w*xe:ae.tail=ce._offset+ce.r2p(xe),Lt=Wt}else ae.tail=Ft+xe,Lt=Wt+xe;ae.text=ae.tail+Wt;var Ae=I[Qt==="x"?"width":"height"];if(Ht==="paper"&&(ae.head=c.constrain(ae.head,1,Ae-1)),oe==="pixel"){var $e=-Math.max(ae.tail-3,ae.text),Me=Math.min(ae.tail+3,ae.text)-Ae;$e>0?(ae.tail+=$e,ae.text+=$e):Me>0&&(ae.tail-=Me,ae.text-=Me)}ae.tail+=te,ae.head+=te}else Lt=Wt=jt*At(kt,Rt),ae.text=Ft+Wt;ae.text+=te,Wt+=te,Lt+=te,A["_"+Qt+"padplus"]=jt/2+Lt,A["_"+Qt+"padminus"]=jt/2-Lt,A["_"+Qt+"size"]=jt,A["_"+Qt+"shift"]=Wt}if(Et)dt.remove();else{var ct=0,gt=0;if(A.align!=="left"&&(ct=(Ut-wt)*(A.align==="center"?.5:1)),A.valign!=="top"&&(gt=(Gt-St)*(A.valign==="middle"?.5:1)),pt)zt.select("svg").attr({x:G+ct-1,y:G+gt}).call(g.setClipUrl,$?rt:null,T);else{var qt=G+gt-yt.top,Vt=G+ct-yt.left;st.call(v.positionText,Vt,qt).call(g.setClipUrl,$?rt:null,T)}J.select("rect").call(g.setRect,G,G,Ut,Gt),H.call(g.setRect,nt/2,nt/2,mt-nt,Tt-nt),dt.call(g.setTranslate,Math.round(ft.x.text-mt/2),Math.round(ft.y.text-Tt/2)),X.attr({transform:"rotate("+z+","+ft.x.text+","+ft.y.text+")"});var Jt,Xt=function(ee,re){W.selectAll(".annotation-arrow-g").remove();var fe=ft.x.head,ye=ft.y.head,se=ft.x.tail+ee,Ge=ft.y.tail+re,nn=ft.x.text+ee,Oe=ft.y.text+re,We=c.rotationXYMatrix(z,nn,Oe),je=c.apply2DTransform(We),_e=c.apply2DTransform2(We),he=+H.attr("width"),Pe=+H.attr("height"),an=nn-.5*he,tn=an+he,on=Oe-.5*Pe,be=on+Pe,Re=[[an,on,an,be],[an,be,tn,be],[tn,be,tn,on],[tn,on,an,on]].map(_e);if(!Re.reduce(function(vn,bn){return vn^!!c.segmentsIntersect(fe,ye,fe+1e6,ye+1e6,bn[0],bn[1],bn[2],bn[3])},!1)){Re.forEach(function(vn){var bn=c.segmentsIntersect(se,Ge,fe,ye,vn[0],vn[1],vn[2],vn[3]);bn&&(se=bn.x,Ge=bn.y)});var ze=A.arrowwidth,qe=A.arrowcolor,He=A.arrowside,Xe=W.append("g").style({opacity:p.opacity(qe)}).classed("annotation-arrow-g",!0),Ye=Xe.append("path").attr("d","M"+se+","+Ge+"L"+fe+","+ye).style("stroke-width",ze+"px").call(p.stroke,p.rgb(qe));if(w(Ye,He,A),j.annotationPosition&&Ye.node().parentNode&&!P){var rn=fe,Ue=ye;if(A.standoff){var Je=Math.sqrt(Math.pow(fe-se,2)+Math.pow(ye-Ge,2));rn+=A.standoff*(se-fe)/Je,Ue+=A.standoff*(Ge-ye)/Je}var dn,Mn,Sn=Xe.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(se-rn)+","+(Ge-Ue),transform:h(rn,Ue)}).style("stroke-width",ze+6+"px").call(p.stroke,"rgba(0,0,0,0)").call(p.fill,"rgba(0,0,0,0)");_.init({element:Sn.node(),gd:T,prepFn:function(){var vn=g.getTranslate(dt);dn=vn.x,Mn=vn.y,F&&F.autorange&&et(F._name+".autorange",!0),R&&R.autorange&&et(R._name+".autorange",!0)},moveFn:function(vn,bn){var Dn=je(dn,Mn),yn=Dn[0]+vn,In=Dn[1]+bn;dt.call(g.setTranslate,yn,In),U("x",S(F,vn,"x",B,A)),U("y",S(R,bn,"y",B,A)),A.axref===A.xref&&U("ax",S(F,vn,"ax",B,A)),A.ayref===A.yref&&U("ay",S(R,bn,"ay",B,A)),Xe.attr("transform",h(vn,bn)),X.attr({transform:"rotate("+z+","+yn+","+In+")"})},doneFn:function(){f.call("_guiRelayout",T,Z());var vn=document.querySelector(".js-notes-box-panel");vn&&vn.redraw(vn.selectedObj)}})}}};A.showarrow&&Xt(0,0),it&&_.init({element:dt.node(),gd:T,prepFn:function(){Jt=X.attr("transform")},moveFn:function(ee,re){var fe="pointer";if(A.showarrow)A.axref===A.xref?U("ax",S(F,ee,"ax",B,A)):U("ax",A.ax+ee),A.ayref===A.yref?U("ay",S(R,re,"ay",B.w,A)):U("ay",A.ay+re),Xt(ee,re);else{if(P)return;var ye,se;if(F)ye=S(F,ee,"x",B,A);else{var Ge=A._xsize/B.w,nn=A.x+(A._xshift-A.xshift)/B.w-Ge/2;ye=_.align(nn+ee/B.w,Ge,0,1,A.xanchor)}if(R)se=S(R,re,"y",B,A);else{var Oe=A._ysize/B.h,We=A.y-(A._yshift+A.yshift)/B.h-Oe/2;se=_.align(We-re/B.h,Oe,0,1,A.yanchor)}U("x",ye),U("y",se),F&&R||(fe=_.getCursor(F?.5:ye,R?.5:se,A.xanchor,A.yanchor))}X.attr({transform:h(ee,re)+Jt}),y(dt,fe)},clickFn:function(ee,re){A.captureevents&&T.emit("plotly_clickannotation",ht(re))},doneFn:function(){y(dt),f.call("_guiRelayout",T,Z());var ee=document.querySelector(".js-notes-box-panel");ee&&ee.redraw(ee.selectedObj)}})}}}a.exports={draw:function(T){var A=T._fullLayout;A._infolayer.selectAll(".annotation").remove();for(var O=0;O<A.annotations.length;O++)A.annotations[O].visible&&E(T,O);return u.previousPromises(T)},drawOne:E,drawRaw:C}},3011:function(a,s,o){var l=o(9898),f=o(7901),u=o(2884),c=o(1828),h=c.strScale,d=c.strRotate,p=c.strTranslate;a.exports=function(g,m,v){var y,_,x,w,E=g.node(),S=u[v.arrowhead||0],C=u[v.startarrowhead||0],T=(v.arrowwidth||1)*(v.arrowsize||1),A=(v.arrowwidth||1)*(v.startarrowsize||1),O=m.indexOf("start")>=0,P=m.indexOf("end")>=0,F=S.backoff*T+v.standoff,R=C.backoff*A+v.startstandoff;if(E.nodeName==="line"){y={x:+g.attr("x1"),y:+g.attr("y1")},_={x:+g.attr("x2"),y:+g.attr("y2")};var N=y.x-_.x,D=y.y-_.y;if(w=(x=Math.atan2(D,N))+Math.PI,F&&R&&F+R>Math.sqrt(N*N+D*D))return void W();if(F){if(F*F>N*N+D*D)return void W();var I=F*Math.cos(x),B=F*Math.sin(x);_.x+=I,_.y+=B,g.attr({x2:_.x,y2:_.y})}if(R){if(R*R>N*N+D*D)return void W();var j=R*Math.cos(x),q=R*Math.sin(x);y.x-=j,y.y-=q,g.attr({x1:y.x,y1:y.y})}}else if(E.nodeName==="path"){var et=E.getTotalLength(),U="";if(et<F+R)return void W();var Z=E.getPointAtLength(0),rt=E.getPointAtLength(.1);x=Math.atan2(Z.y-rt.y,Z.x-rt.x),y=E.getPointAtLength(Math.min(R,et)),U="0px,"+R+"px,";var ft=E.getPointAtLength(et),z=E.getPointAtLength(et-.1);w=Math.atan2(ft.y-z.y,ft.x-z.x),_=E.getPointAtLength(Math.max(0,et-F)),U+=et-(U?R+F:F)+"px,"+et+"px",g.style("stroke-dasharray",U)}function W(){g.style("stroke-dasharray","0px,100px")}function X(it,lt,dt,nt){it.path&&(it.noRotate&&(dt=0),l.select(E.parentNode).append("path").attr({class:g.attr("class"),d:it.path,transform:p(lt.x,lt.y)+d(180*dt/Math.PI)+h(nt)}).style({fill:f.rgb(v.arrowcolor),"stroke-width":0}))}O&&X(C,y,x,A),P&&X(S,_,w,T)}},2745:function(a,s,o){var l=o(2605),f=o(4317);a.exports={moduleType:"component",name:"annotations",layoutAttributes:o(215),supplyLayoutDefaults:o(4046),includeBasePlot:o(6325)("annotations"),calcAutorange:o(3749),draw:l.draw,drawOne:l.drawOne,drawRaw:l.drawRaw,hasClickToShow:f.hasClickToShow,onClick:f.onClick,convertCoords:o(4128)}},6997:function(a,s,o){var l=o(215),f=o(962).overrideAll,u=o(4467).templatedArray;a.exports=f(u("annotation",{visible:l.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:l.xanchor,xshift:l.xshift,yanchor:l.yanchor,yshift:l.yshift,text:l.text,textangle:l.textangle,font:l.font,width:l.width,height:l.height,opacity:l.opacity,align:l.align,valign:l.valign,bgcolor:l.bgcolor,bordercolor:l.bordercolor,borderpad:l.borderpad,borderwidth:l.borderwidth,showarrow:l.showarrow,arrowcolor:l.arrowcolor,arrowhead:l.arrowhead,startarrowhead:l.startarrowhead,arrowside:l.arrowside,arrowsize:l.arrowsize,startarrowsize:l.startarrowsize,arrowwidth:l.arrowwidth,standoff:l.standoff,startstandoff:l.startstandoff,hovertext:l.hovertext,hoverlabel:l.hoverlabel,captureevents:l.captureevents}),"calc","from-root")},5485:function(a,s,o){var l=o(1828),f=o(9298);function u(c,h){var d=h.fullSceneLayout.domain,p=h.fullLayout._size,g={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};c._xa={},l.extendFlat(c._xa,g),f.setConvert(c._xa),c._xa._offset=p.l+d.x[0]*p.w,c._xa.l2p=function(){return .5*(1+c._pdata[0]/c._pdata[3])*p.w*(d.x[1]-d.x[0])},c._ya={},l.extendFlat(c._ya,g),f.setConvert(c._ya),c._ya._offset=p.t+(1-d.y[1])*p.h,c._ya.l2p=function(){return .5*(1-c._pdata[1]/c._pdata[3])*p.h*(d.y[1]-d.y[0])}}a.exports=function(c){for(var h=c.fullSceneLayout.annotations,d=0;d<h.length;d++)u(h[d],c);c.fullLayout._infolayer.selectAll(".annotation-"+c.id).remove()}},226:function(a,s,o){var l=o(1828),f=o(9298),u=o(5501),c=o(5625),h=o(6997);function d(p,g,m,v){function y(x,w){return l.coerce(p,g,h,x,w)}function _(x){var w=x+"axis",E={_fullLayout:{}};return E._fullLayout[w]=m[w],f.coercePosition(g,E,y,x,x,.5)}y("visible")&&(c(p,g,v.fullLayout,y),_("x"),_("y"),_("z"),l.noneOrAll(p,g,["x","y","z"]),g.xref="x",g.yref="y",g.zref="z",y("xanchor"),y("yanchor"),y("xshift"),y("yshift"),g.showarrow&&(g.axref="pixel",g.ayref="pixel",y("ax",-10),y("ay",-30),l.noneOrAll(p,g,["ax","ay"])))}a.exports=function(p,g,m){u(p,g,{name:"annotations",handleItemDefaults:d,fullLayout:m.fullLayout})}},2188:function(a,s,o){var l=o(2605).drawRaw,f=o(3538),u=["x","y","z"];a.exports=function(c){for(var h=c.fullSceneLayout,d=c.dataScale,p=h.annotations,g=0;g<p.length;g++){for(var m=p[g],v=!1,y=0;y<3;y++){var _=u[y],x=m[_],w=h[_+"axis"].r2fraction(x);if(w<0||w>1){v=!0;break}}v?c.fullLayout._infolayer.select(".annotation-"+c.id+'[data-index="'+g+'"]').remove():(m._pdata=f(c.glplot.cameraParams,[h.xaxis.r2l(m.x)*d[0],h.yaxis.r2l(m.y)*d[1],h.zaxis.r2l(m.z)*d[2]]),l(c.graphDiv,m,g,c.id,m._xa,m._ya))}}},2468:function(a,s,o){var l=o(3972),f=o(1828);a.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:o(6997)}}},layoutAttributes:o(6997),handleDefaults:o(226),includeBasePlot:function(u,c){var h=l.subplotsRegistry.gl3d;if(h)for(var d=h.attrRegex,p=Object.keys(u),g=0;g<p.length;g++){var m=p[g];d.test(m)&&(u[m].annotations||[]).length&&(f.pushUnique(c._basePlotModules,h),f.pushUnique(c._subplots.gl3d,m))}},convert:o(5485),draw:o(2188)}},7561:function(a,s,o){a.exports=o(3489),o(4338),o(3961),o(8751),o(6825),o(7715),o(9384),o(3805),o(8874),o(3290),o(9108),o(5422),o(4320),o(1320),o(1367),o(1457)},2201:function(a,s,o){var l=o(7561),f=o(1828),u=o(606),c=u.EPOCHJD,h=u.ONEDAY,d={valType:"enumerated",values:f.sortObjectKeys(l.calendars),editType:"calc",dflt:"gregorian"},p=function(T,A,O,P){var F={};return F[O]=d,f.coerce(T,A,F,O,P)},g="##",m={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:g,w:g,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},v={};function y(T){var A=v[T];return A||(v[T]=l.instance(T))}function _(T){return f.extendFlat({},d,{description:T})}function x(T){return"Sets the calendar system to use with `"+T+"` date data."}var w={xcalendar:_(x("x"))},E=f.extendFlat({},w,{ycalendar:_(x("y"))}),S=f.extendFlat({},E,{zcalendar:_(x("z"))}),C=_(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));a.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:E,bar:E,box:E,heatmap:E,contour:E,histogram:E,histogram2d:E,histogram2dcontour:E,scatter3d:S,surface:S,mesh3d:S,scattergl:E,ohlc:w,candlestick:w},layout:{calendar:_(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:C},yaxis:{calendar:C},scene:{xaxis:{calendar:C},yaxis:{calendar:C},zaxis:{calendar:C}},polar:{radialaxis:{calendar:C}}},transforms:{filter:{valuecalendar:_(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:_(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:d,handleDefaults:p,handleTraceDefaults:function(T,A,O,P){for(var F=0;F<O.length;F++)p(T,A,O[F]+"calendar",P.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:y,worldCalFmt:function(T,A,O){for(var P,F,R,N,D,I=Math.floor((A+.05)/h)+c,B=y(O).fromJD(I),j=0;(j=T.indexOf("%",j))!==-1;)(P=T.charAt(j+1))==="0"||P==="-"||P==="_"?(R=3,F=T.charAt(j+2),P==="_"&&(P="-")):(F=P,P="0",R=2),(N=m[F])?(D=N===g?g:B.formatDate(N[P]),T=T.substr(0,j)+D+T.substr(j+R),j+=D.length):j+=R;return T}}},2399:function(a,s){s.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],s.defaultLine="#444",s.lightLine="#eee",s.background="#fff",s.borderLine="#BEC8D9",s.lightFraction=90.9090909090909},7901:function(a,s,o){var l=o(4267),f=o(2770),u=o(3627).isTypedArray,c=a.exports={},h=o(2399);c.defaults=h.defaults;var d=c.defaultLine=h.defaultLine;c.lightLine=h.lightLine;var p=c.background=h.background;function g(m){if(f(m)||typeof m!="string")return m;var v=m.trim();if(v.substr(0,3)!=="rgb")return m;var y=v.match(/^rgba?\s*\(([^()]*)\)$/);if(!y)return m;var _=y[1].trim().split(/\s*[\s,]\s*/),x=v.charAt(3)==="a"&&_.length===4;if(!x&&_.length!==3)return m;for(var w=0;w<_.length;w++){if(!_[w].length||(_[w]=Number(_[w]),!(_[w]>=0)))return m;if(w===3)_[w]>1&&(_[w]=1);else if(_[w]>=1)return m}var E=Math.round(255*_[0])+", "+Math.round(255*_[1])+", "+Math.round(255*_[2]);return x?"rgba("+E+", "+_[3]+")":"rgb("+E+")"}c.tinyRGB=function(m){var v=m.toRgb();return"rgb("+Math.round(v.r)+", "+Math.round(v.g)+", "+Math.round(v.b)+")"},c.rgb=function(m){return c.tinyRGB(l(m))},c.opacity=function(m){return m?l(m).getAlpha():0},c.addOpacity=function(m,v){var y=l(m).toRgb();return"rgba("+Math.round(y.r)+", "+Math.round(y.g)+", "+Math.round(y.b)+", "+v+")"},c.combine=function(m,v){var y=l(m).toRgb();if(y.a===1)return l(m).toRgbString();var _=l(v||p).toRgb(),x=_.a===1?_:{r:255*(1-_.a)+_.r*_.a,g:255*(1-_.a)+_.g*_.a,b:255*(1-_.a)+_.b*_.a},w={r:x.r*(1-y.a)+y.r*y.a,g:x.g*(1-y.a)+y.g*y.a,b:x.b*(1-y.a)+y.b*y.a};return l(w).toRgbString()},c.contrast=function(m,v,y){var _=l(m);return _.getAlpha()!==1&&(_=l(c.combine(m,p))),(_.isDark()?v?_.lighten(v):p:y?_.darken(y):d).toString()},c.stroke=function(m,v){var y=l(v);m.style({stroke:c.tinyRGB(y),"stroke-opacity":y.getAlpha()})},c.fill=function(m,v){var y=l(v);m.style({fill:c.tinyRGB(y),"fill-opacity":y.getAlpha()})},c.clean=function(m){if(m&&typeof m=="object"){var v,y,_,x,w=Object.keys(m);for(v=0;v<w.length;v++)if(x=m[_=w[v]],_.substr(_.length-5)==="color")if(Array.isArray(x))for(y=0;y<x.length;y++)x[y]=g(x[y]);else m[_]=g(x);else if(_.substr(_.length-10)==="colorscale"&&Array.isArray(x))for(y=0;y<x.length;y++)Array.isArray(x[y])&&(x[y][1]=g(x[y][1]));else if(Array.isArray(x)){var E=x[0];if(!Array.isArray(E)&&E&&typeof E=="object")for(y=0;y<x.length;y++)c.clean(x[y])}else x&&typeof x=="object"&&!u(x)&&c.clean(x)}}},3583:function(a,s,o){var l=o(3838),f=o(1940),u=o(1426).extendFlat,c=o(962).overrideAll;a.exports=c({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:l.linecolor,outlinewidth:l.linewidth,bordercolor:l.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:l.minor.tickmode,nticks:l.nticks,tick0:l.tick0,dtick:l.dtick,tickvals:l.tickvals,ticktext:l.ticktext,ticks:u({},l.ticks,{dflt:""}),ticklabeloverflow:u({},l.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:l.ticklen,tickwidth:l.tickwidth,tickcolor:l.tickcolor,ticklabelstep:l.ticklabelstep,showticklabels:l.showticklabels,labelalias:l.labelalias,tickfont:f({}),tickangle:l.tickangle,tickformat:l.tickformat,tickformatstops:l.tickformatstops,tickprefix:l.tickprefix,showtickprefix:l.showtickprefix,ticksuffix:l.ticksuffix,showticksuffix:l.showticksuffix,separatethousands:l.separatethousands,exponentformat:l.exponentformat,minexponent:l.minexponent,showexponent:l.showexponent,title:{text:{valType:"string"},font:f({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:f({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},939:function(a){a.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},2499:function(a,s,o){var l=o(1828),f=o(4467),u=o(6218),c=o(8701),h=o(6115),d=o(9426),p=o(3583);a.exports=function(g,m,v){var y=f.newContainer(m,"colorbar"),_=g.colorbar||{};function x(U,Z){return l.coerce(_,y,p,U,Z)}var w=v.margin||{t:0,b:0,l:0,r:0},E=v.width-w.l-w.r,S=v.height-w.t-w.b,C=x("orientation")==="v",T=x("thicknessmode");x("thickness",T==="fraction"?30/(C?E:S):30);var A=x("lenmode");x("len",A==="fraction"?1:C?S:E);var O,P,F,R=x("yref")==="paper",N=x("xref")==="paper",D="left";C?(F="middle",D=N?"left":"right",O=N?1.02:1,P=.5):(F=R?"bottom":"top",D="center",O=.5,P=R?1.02:1),l.coerce(_,y,{x:{valType:"number",min:N?-2:0,max:N?3:1,dflt:O}},"x"),l.coerce(_,y,{y:{valType:"number",min:R?-2:0,max:R?3:1,dflt:P}},"y"),x("xanchor",D),x("xpad"),x("yanchor",F),x("ypad"),l.noneOrAll(_,y,["x","y"]),x("outlinecolor"),x("outlinewidth"),x("bordercolor"),x("borderwidth"),x("bgcolor");var I=l.coerce(_,y,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:C?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");x("ticklabeloverflow",I.indexOf("inside")!==-1?"hide past domain":"hide past div"),u(_,y,x,"linear");var B=v.font,j={outerTicks:!1,font:B};I.indexOf("inside")!==-1&&(j.bgColor="black"),d(_,y,x,"linear",j),h(_,y,x,"linear",j),c(_,y,x,"linear",j),x("title.text",v._dfltTitle.colorbar);var q=y.showticklabels?y.tickfont:B,et=l.extendFlat({},q,{color:B.color,size:l.bigFont(q.size)});l.coerceFont(x,"title.font",et),x("title.side",C?"top":"right")}},8981:function(a,s,o){var l=o(9898),f=o(4267),u=o(4875),c=o(3972),h=o(9298),d=o(8569),p=o(1828),g=p.strTranslate,m=o(1426).extendFlat,v=o(6964),y=o(1424),_=o(7901),x=o(2998),w=o(3893),E=o(2869).flipScale,S=o(1453),C=o(2830),T=o(3838),A=o(8783),O=A.LINE_SPACING,P=A.FROM_TL,F=A.FROM_BR,R=o(939).cn;a.exports={draw:function(N){var D=N._fullLayout._infolayer.selectAll("g."+R.colorbar).data(function(I){var B,j,q,et,U=I._fullLayout,Z=I.calcdata,rt=[];function ft($){return m($,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function z(){typeof et.calc=="function"?et.calc(I,q,B):(B._fillgradient=j.reversescale?E(j.colorscale):j.colorscale,B._zrange=[j[et.min],j[et.max]])}for(var W=0;W<Z.length;W++){var X=Z[W];if((q=X[0].trace)._module){var it=q._module.colorbar;if(q.visible===!0&&it)for(var lt=Array.isArray(it),dt=lt?it:[it],nt=0;nt<dt.length;nt++){var V=(et=dt[nt]).container;(j=V?q[V]:q)&&j.showscale&&((B=ft(j.colorbar))._id="cb"+q.uid+(lt&&V?"-"+V:""),B._traceIndex=q.index,B._propPrefix=(V?V+".":"")+"colorbar.",B._meta=q._meta,z(),rt.push(B))}}}for(var G in U._colorAxes)if((j=U[G]).showscale){var H=U._colorAxes[G];(B=ft(j.colorbar))._id="cb"+G,B._propPrefix=G+".colorbar.",B._meta=U._meta,et={min:"cmin",max:"cmax"},H[0]!=="heatmap"&&(q=H[1],et.calc=q._module.colorbar.calc),z(),rt.push(B)}return rt}(N),function(I){return I._id});D.enter().append("g").attr("class",function(I){return I._id}).classed(R.colorbar,!0),D.each(function(I){var B=l.select(this);p.ensureSingle(B,"rect",R.cbbg),p.ensureSingle(B,"g",R.cbfills),p.ensureSingle(B,"g",R.cblines),p.ensureSingle(B,"g",R.cbaxis,function(q){q.classed(R.crisp,!0)}),p.ensureSingle(B,"g",R.cbtitleunshift,function(q){q.append("g").classed(R.cbtitle,!0)}),p.ensureSingle(B,"rect",R.cboutline);var j=function(q,et,U){var Z=et.orientation==="v",rt=et.len,ft=et.lenmode,z=et.thickness,W=et.thicknessmode,X=et.outlinewidth,it=et.borderwidth,lt=et.bgcolor,dt=et.xanchor,nt=et.yanchor,V=et.xpad,G=et.ypad,H=et.x,$=Z?et.y:1-et.y,J=et.yref==="paper",Q=et.xref==="paper",ot=U._fullLayout,st=ot._size,ht=et._fillcolor,xt=et._line,Pt=et.title,It=Pt.side,zt=et._zrange||l.extent((typeof ht=="function"?ht:xt.color).domain()),pt=typeof xt.color=="function"?xt.color:function(){return xt.color},yt=typeof ht=="function"?ht:function(){return ht},wt=et._levels,St=function(Fe,Ae,$e){var Me,ct,gt=Ae._levels,qt=[],Vt=[],Jt=gt.end+gt.size/100,Xt=gt.size,ee=1.001*$e[0]-.001*$e[1],re=1.001*$e[1]-.001*$e[0];for(ct=0;ct<1e5&&(Me=gt.start+ct*Xt,!(Xt>0?Me>=Jt:Me<=Jt));ct++)Me>ee&&Me<re&&qt.push(Me);if(Ae._fillgradient)Vt=[0];else if(typeof Ae._fillcolor=="function"){var fe=Ae._filllevels;if(fe)for(Jt=fe.end+fe.size/100,Xt=fe.size,ct=0;ct<1e5&&(Me=fe.start+ct*Xt,!(Xt>0?Me>=Jt:Me<=Jt));ct++)Me>$e[0]&&Me<$e[1]&&Vt.push(Me);else(Vt=qt.map(function(ye){return ye-gt.size/2})).push(Vt[Vt.length-1]+gt.size)}else Ae._fillcolor&&typeof Ae._fillcolor=="string"&&(Vt=[0]);return gt.size<0&&(qt.reverse(),Vt.reverse()),{line:qt,fill:Vt}}(0,et,zt),Ut=St.fill,Gt=St.line,mt=Math.round(z*(W==="fraction"?Z?st.w:st.h:1)),Tt=mt/(Z?st.w:st.h),At=Math.round(rt*(ft==="fraction"?Z?st.h:st.w:1)),Et=At/(Z?st.h:st.w),Mt=Q?st.w:U._fullLayout.width,Nt=J?st.h:U._fullLayout.height,Ft=Math.round(Z?H*Mt+V:$*Nt+G),Lt={center:.5,right:1}[dt]||0,Dt={top:1,middle:.5}[nt]||0,kt=Z?H-Lt*Tt:$-Dt*Tt,Wt=Z?$-Dt*Et:H-Lt*Et,Qt=Math.round(Z?Nt*(1-Wt):Mt*Wt);et._lenFrac=Et,et._thickFrac=Tt,et._uFrac=kt,et._vFrac=Wt;var Ht=et._axis=function(Fe,Ae,$e){var Me=Fe._fullLayout,ct=Ae.orientation==="v",gt={type:"linear",range:$e,tickmode:Ae.tickmode,nticks:Ae.nticks,tick0:Ae.tick0,dtick:Ae.dtick,tickvals:Ae.tickvals,ticktext:Ae.ticktext,ticks:Ae.ticks,ticklen:Ae.ticklen,tickwidth:Ae.tickwidth,tickcolor:Ae.tickcolor,showticklabels:Ae.showticklabels,labelalias:Ae.labelalias,ticklabelposition:Ae.ticklabelposition,ticklabeloverflow:Ae.ticklabeloverflow,ticklabelstep:Ae.ticklabelstep,tickfont:Ae.tickfont,tickangle:Ae.tickangle,tickformat:Ae.tickformat,exponentformat:Ae.exponentformat,minexponent:Ae.minexponent,separatethousands:Ae.separatethousands,showexponent:Ae.showexponent,showtickprefix:Ae.showtickprefix,tickprefix:Ae.tickprefix,showticksuffix:Ae.showticksuffix,ticksuffix:Ae.ticksuffix,title:Ae.title,showline:!0,anchor:"free",side:ct?"right":"bottom",position:1},qt=ct?"y":"x",Vt={type:"linear",_id:qt+Ae._id},Jt={letter:qt,font:Me.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:Me.calendar};function Xt(ee,re){return p.coerce(gt,Vt,T,ee,re)}return S(gt,Vt,Xt,Jt,Me),C(gt,Vt,Xt,Jt),Vt}(U,et,zt);Ht.position=Tt+(Z?H+V/st.w:$+G/st.h);var oe=["top","bottom"].indexOf(It)!==-1;if(Z&&oe&&(Ht.title.side=It,Ht.titlex=H+V/st.w,Ht.titley=Wt+(Pt.side==="top"?Et-G/st.h:G/st.h)),Z||oe||(Ht.title.side=It,Ht.titley=$+G/st.h,Ht.titlex=Wt+V/st.w),xt.color&&et.tickmode==="auto"){Ht.tickmode="linear",Ht.tick0=wt.start;var ce=wt.size,pe=p.constrain(At/50,4,15)+1,we=(zt[1]-zt[0])/((et.nticks||pe)*ce);if(we>1){var Le=Math.pow(10,Math.floor(Math.log(we)/Math.LN10));ce*=Le*p.roundUp(we/Le,[2,5,10]),(Math.abs(wt.start)/wt.size+1e-6)%1<2e-6&&(Ht.tick0=0)}Ht.dtick=ce}Ht.domain=Z?[Wt+G/st.h,Wt+Et-G/st.h]:[Wt+V/st.w,Wt+Et-V/st.w],Ht.setScale(),q.attr("transform",g(Math.round(st.l),Math.round(st.t)));var jt,Rt=q.select("."+R.cbtitleunshift).attr("transform",g(-Math.round(st.l),-Math.round(st.t))),te=Ht.ticklabelposition,ae=Ht.title.font.size,Se=q.select("."+R.cbaxis),ne=0,ge=0;function xe(Fe,Ae){var $e={propContainer:Ht,propName:et._propPrefix+"title",traceIndex:et._traceIndex,_meta:et._meta,placeholder:ot._dfltTitle.colorbar,containerGroup:q.select("."+R.cbtitle)},Me=Fe.charAt(0)==="h"?Fe.substr(1):"h"+Fe;q.selectAll("."+Me+",."+Me+"-math-group").remove(),x.draw(U,Fe,m($e,Ae||{}))}return p.syncOrAsync([u.previousPromises,function(){var Fe,Ae;(Z&&oe||!Z&&!oe)&&(It==="top"&&(Fe=V+st.l+Mt*H,Ae=G+st.t+Nt*(1-Wt-Et)+3+.75*ae),It==="bottom"&&(Fe=V+st.l+Mt*H,Ae=G+st.t+Nt*(1-Wt)-3-.25*ae),It==="right"&&(Ae=G+st.t+Nt*$+3+.75*ae,Fe=V+st.l+Mt*Wt),xe(Ht._id+"title",{attributes:{x:Fe,y:Ae,"text-anchor":Z?"start":"middle"}}))},function(){if(!Z&&!oe||Z&&oe){var Fe,Ae=q.select("."+R.cbtitle),$e=Ae.select("text"),Me=[-X/2,X/2],ct=Ae.select(".h"+Ht._id+"title-math-group").node(),gt=15.6;if($e.node()&&(gt=parseInt($e.node().style.fontSize,10)*O),ct?(Fe=y.bBox(ct),ge=Fe.width,(ne=Fe.height)>gt&&(Me[1]-=(ne-gt)/2)):$e.node()&&!$e.classed(R.jsPlaceholder)&&(Fe=y.bBox($e.node()),ge=Fe.width,ne=Fe.height),Z){if(ne){if(ne+=5,It==="top")Ht.domain[1]-=ne/st.h,Me[1]*=-1;else{Ht.domain[0]+=ne/st.h;var qt=w.lineCount($e);Me[1]+=(1-qt)*gt}Ae.attr("transform",g(Me[0],Me[1])),Ht.setScale()}}else ge&&(It==="right"&&(Ht.domain[0]+=(ge+ae/2)/st.w),Ae.attr("transform",g(Me[0],Me[1])),Ht.setScale())}q.selectAll("."+R.cbfills+",."+R.cblines).attr("transform",Z?g(0,Math.round(st.h*(1-Ht.domain[1]))):g(Math.round(st.w*Ht.domain[0]),0)),Se.attr("transform",Z?g(0,Math.round(-st.t)):g(Math.round(-st.l),0));var Vt=q.select("."+R.cbfills).selectAll("rect."+R.cbfill).attr("style","").data(Ut);Vt.enter().append("rect").classed(R.cbfill,!0).attr("style",""),Vt.exit().remove();var Jt=zt.map(Ht.c2p).map(Math.round).sort(function(ye,se){return ye-se});Vt.each(function(ye,se){var Ge=[se===0?zt[0]:(Ut[se]+Ut[se-1])/2,se===Ut.length-1?zt[1]:(Ut[se]+Ut[se+1])/2].map(Ht.c2p).map(Math.round);Z&&(Ge[1]=p.constrain(Ge[1]+(Ge[1]>Ge[0])?1:-1,Jt[0],Jt[1]));var nn=l.select(this).attr(Z?"x":"y",Ft).attr(Z?"y":"x",l.min(Ge)).attr(Z?"width":"height",Math.max(mt,2)).attr(Z?"height":"width",Math.max(l.max(Ge)-l.min(Ge),2));if(et._fillgradient)y.gradient(nn,U,et._id,Z?"vertical":"horizontalreversed",et._fillgradient,"fill");else{var Oe=yt(ye).replace("e-","");nn.attr("fill",f(Oe).toHexString())}});var Xt=q.select("."+R.cblines).selectAll("path."+R.cbline).data(xt.color&&xt.width?Gt:[]);Xt.enter().append("path").classed(R.cbline,!0),Xt.exit().remove(),Xt.each(function(ye){var se=Ft,Ge=Math.round(Ht.c2p(ye))+xt.width/2%1;l.select(this).attr("d","M"+(Z?se+","+Ge:Ge+","+se)+(Z?"h":"v")+mt).call(y.lineGroupStyle,xt.width,pt(ye),xt.dash)}),Se.selectAll("g."+Ht._id+"tick,path").remove();var ee=Ft+mt+(X||0)/2-(et.ticks==="outside"?1:0),re=h.calcTicks(Ht),fe=h.getTickSigns(Ht)[2];return h.drawTicks(U,Ht,{vals:Ht.ticks==="inside"?h.clipEnds(Ht,re):re,layer:Se,path:h.makeTickPath(Ht,ee,fe),transFn:h.makeTransTickFn(Ht)}),h.drawLabels(U,Ht,{vals:re,layer:Se,transFn:h.makeTransTickLabelFn(Ht),labelFns:h.makeLabelFns(Ht,ee)})},function(){if(Z&&!oe||!Z&&oe){var Fe,Ae,$e=Ht.position||0,Me=Ht._offset+Ht._length/2;if(It==="right")Ae=Me,Fe=st.l+Mt*$e+10+ae*(Ht.showticklabels?1:.5);else if(Fe=Me,It==="bottom"&&(Ae=st.t+Nt*$e+10+(te.indexOf("inside")===-1?Ht.tickfont.size:0)+(Ht.ticks!=="intside"&&et.ticklen||0)),It==="top"){var ct=Pt.text.split("<br>").length;Ae=st.t+Nt*$e+10-mt-O*ae*ct}xe((Z?"h":"v")+Ht._id+"title",{avoid:{selection:l.select(U).selectAll("g."+Ht._id+"tick"),side:It,offsetTop:Z?0:st.t,offsetLeft:Z?st.l:0,maxShift:Z?ot.width:ot.height},attributes:{x:Fe,y:Ae,"text-anchor":"middle"},transform:{rotate:Z?-90:0,offset:0}})}},u.previousPromises,function(){var Fe,Ae=mt+X/2;te.indexOf("inside")===-1&&(Fe=y.bBox(Se.node()),Ae+=Z?Fe.width:Fe.height),jt=Rt.select("text");var $e=0,Me=Z&&It==="top",ct=!Z&&It==="right",gt=0;if(jt.node()&&!jt.classed(R.jsPlaceholder)){var qt,Vt=Rt.select(".h"+Ht._id+"title-math-group").node();Vt&&(Z&&oe||!Z&&!oe)?($e=(Fe=y.bBox(Vt)).width,qt=Fe.height):($e=(Fe=y.bBox(Rt.node())).right-st.l-(Z?Ft:Qt),qt=Fe.bottom-st.t-(Z?Qt:Ft),Z||It!=="top"||(Ae+=Fe.height,gt=Fe.height)),ct&&(jt.attr("transform",g($e/2+ae/2,0)),$e*=2),Ae=Math.max(Ae,Z?$e:qt)}var Jt=2*(Z?V:G)+Ae+it+X/2,Xt=0;!Z&&Pt.text&&nt==="bottom"&&$<=0&&(Jt+=Xt=Jt/2,gt+=Xt),ot._hColorbarMoveTitle=Xt,ot._hColorbarMoveCBTitle=gt;var ee=it+X,re=(Z?Ft:Qt)-ee/2-(Z?V:0),fe=(Z?Qt:Ft)-(Z?At:G+gt-Xt);q.select("."+R.cbbg).attr("x",re).attr("y",fe).attr(Z?"width":"height",Math.max(Jt-Xt,2)).attr(Z?"height":"width",Math.max(At+ee,2)).call(_.fill,lt).call(_.stroke,et.bordercolor).style("stroke-width",it);var ye=ct?Math.max($e-10,0):0;q.selectAll("."+R.cboutline).attr("x",(Z?Ft:Qt+V)+ye).attr("y",(Z?Qt+G-At:Ft)+(Me?ne:0)).attr(Z?"width":"height",Math.max(mt,2)).attr(Z?"height":"width",Math.max(At-(Z?2*G+ne:2*V+ye),2)).call(_.stroke,et.outlinecolor).style({fill:"none","stroke-width":X});var se=Z?Lt*Jt:0,Ge=Z?0:(1-Dt)*Jt-gt;if(se=Q?st.l-se:-se,Ge=J?st.t-Ge:-Ge,q.attr("transform",g(se,Ge)),!Z&&(it||f(lt).getAlpha()&&!f.equals(ot.paper_bgcolor,lt))){var nn=Se.selectAll("text"),Oe=nn[0].length,We=q.select("."+R.cbbg).node(),je=y.bBox(We),_e=y.getTranslate(q);nn.each(function(He,Xe){var Ye=Oe-1;if(Xe===0||Xe===Ye){var rn,Ue=y.bBox(this),Je=y.getTranslate(this);if(Xe===Ye){var dn=Ue.right+Je.x;(rn=je.right+_e.x+Qt-it-2+H-dn)>0&&(rn=0)}else if(Xe===0){var Mn=Ue.left+Je.x;(rn=je.left+_e.x+Qt+it+2-Mn)<0&&(rn=0)}rn&&(Oe<3?this.setAttribute("transform","translate("+rn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var he={},Pe=P[dt],an=F[dt],tn=P[nt],on=F[nt],be=Jt-mt;Z?(ft==="pixels"?(he.y=$,he.t=At*tn,he.b=At*on):(he.t=he.b=0,he.yt=$+rt*tn,he.yb=$-rt*on),W==="pixels"?(he.x=H,he.l=Jt*Pe,he.r=Jt*an):(he.l=be*Pe,he.r=be*an,he.xl=H-z*Pe,he.xr=H+z*an)):(ft==="pixels"?(he.x=H,he.l=At*Pe,he.r=At*an):(he.l=he.r=0,he.xl=H+rt*Pe,he.xr=H-rt*an),W==="pixels"?(he.y=1-$,he.t=Jt*tn,he.b=Jt*on):(he.t=be*tn,he.b=be*on,he.yt=$-z*tn,he.yb=$+z*on));var Re=et.y<.5?"b":"t",ze=et.x<.5?"l":"r";U._fullLayout._reservedMargin[et._id]={};var qe={r:ot.width-re-se,l:re+he.r,b:ot.height-fe-Ge,t:fe+he.b};Q&&J?u.autoMargin(U,et._id,he):Q?U._fullLayout._reservedMargin[et._id][Re]=qe[Re]:J||Z?U._fullLayout._reservedMargin[et._id][ze]=qe[ze]:U._fullLayout._reservedMargin[et._id][Re]=qe[Re]}],U)}(B,I,N);j&&j.then&&(N._promises||[]).push(j),N._context.edits.colorbarPosition&&function(q,et,U){var Z,rt,ft,z=et.orientation==="v",W=U._fullLayout._size;d.init({element:q.node(),gd:U,prepFn:function(){Z=q.attr("transform"),v(q)},moveFn:function(X,it){q.attr("transform",Z+g(X,it)),rt=d.align((z?et._uFrac:et._vFrac)+X/W.w,z?et._thickFrac:et._lenFrac,0,1,et.xanchor),ft=d.align((z?et._vFrac:1-et._uFrac)-it/W.h,z?et._lenFrac:et._thickFrac,0,1,et.yanchor);var lt=d.getCursor(rt,ft,et.xanchor,et.yanchor);v(q,lt)},doneFn:function(){if(v(q),rt!==void 0&&ft!==void 0){var X={};X[et._propPrefix+"x"]=rt,X[et._propPrefix+"y"]=ft,et._traceIndex!==void 0?c.call("_guiRestyle",U,X,et._traceIndex):c.call("_guiRelayout",U,X)}}})}(B,I,N)}),D.exit().each(function(I){u.autoMargin(N,I._id)}).remove(),D.order()}}},6228:function(a,s,o){var l=o(1828);a.exports=function(f){return l.isPlainObject(f.colorbar)}},2311:function(a,s,o){a.exports={moduleType:"component",name:"colorbar",attributes:o(3583),supplyDefaults:o(2499),draw:o(8981).draw,hasColorbar:o(6228)}},693:function(a,s,o){var l=o(3583),f=o(587).counter,u=o(8607),c=o(3282).scales;function h(d){return"`"+d+"`"}u(c),a.exports=function(d,p){d=d||"";var g,m=(p=p||{}).cLetter||"c",v=("onlyIfNumerical"in p&&p.onlyIfNumerical,"noScale"in p?p.noScale:d==="marker.line"),y="showScaleDflt"in p?p.showScaleDflt:m==="z",_=typeof p.colorscaleDflt=="string"?c[p.colorscaleDflt]:null,x=p.editTypeOverride||"",w=d?d+".":"";"colorAttr"in p?(g=p.colorAttr,p.colorAttr):h(w+(g={z:"z",c:"color"}[m]));var E=m+"auto",S=m+"min",C=m+"max",T=m+"mid",A={};A[S]=A[C]=void 0;var O={};O[E]=!1;var P={};return g==="color"&&(P.color={valType:"color",arrayOk:!0,editType:x||"style"},p.anim&&(P.color.anim=!0)),P[E]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:A},P[S]={valType:"number",dflt:null,editType:x||"plot",impliedEdits:O},P[C]={valType:"number",dflt:null,editType:x||"plot",impliedEdits:O},P[T]={valType:"number",dflt:null,editType:"calc",impliedEdits:A},P.colorscale={valType:"colorscale",editType:"calc",dflt:_,impliedEdits:{autocolorscale:!1}},P.autocolorscale={valType:"boolean",dflt:p.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},P.reversescale={valType:"boolean",dflt:!1,editType:"plot"},v||(P.showscale={valType:"boolean",dflt:y,editType:"calc"},P.colorbar=l),p.noColorAxis||(P.coloraxis={valType:"subplotid",regex:f("coloraxis"),dflt:null,editType:"calc"}),P}},8803:function(a,s,o){var l=o(2770),f=o(1828),u=o(2869).extractOpts;a.exports=function(c,h,d){var p,g=c._fullLayout,m=d.vals,v=d.containerStr,y=v?f.nestedProperty(h,v).get():h,_=u(y),x=_.auto!==!1,w=_.min,E=_.max,S=_.mid,C=function(){return f.aggNums(Math.min,null,m)},T=function(){return f.aggNums(Math.max,null,m)};w===void 0?w=C():x&&(w=y._colorAx&&l(w)?Math.min(w,C()):C()),E===void 0?E=T():x&&(E=y._colorAx&&l(E)?Math.max(E,T()):T()),x&&S!==void 0&&(E-S>S-w?w=S-(E-S):E-S<S-w&&(E=S+(S-w))),w===E&&(w-=.5,E+=.5),_._sync("min",w),_._sync("max",E),_.autocolorscale&&(p=w*E<0?g.colorscale.diverging:w>=0?g.colorscale.sequential:g.colorscale.sequentialminus,_._sync("colorscale",p))}},3046:function(a,s,o){var l=o(1828),f=o(2869).hasColorscale,u=o(2869).extractOpts;a.exports=function(c,h){function d(x,w){var E=x["_"+w];E!==void 0&&(x[w]=E)}function p(x,w){var E=w.container?l.nestedProperty(x,w.container).get():x;if(E)if(E.coloraxis)E._colorAx=h[E.coloraxis];else{var S=u(E),C=S.auto;(C||S.min===void 0)&&d(E,w.min),(C||S.max===void 0)&&d(E,w.max),S.autocolorscale&&d(E,"colorscale")}}for(var g=0;g<c.length;g++){var m=c[g],v=m._module.colorbar;if(v)if(Array.isArray(v))for(var y=0;y<v.length;y++)p(m,v[y]);else p(m,v);f(m,"marker.line")&&p(m,{container:"marker.line",min:"cmin",max:"cmax"})}for(var _ in h._colorAxes)p(h[_],{min:"cmin",max:"cmax"})}},1586:function(a,s,o){var l=o(2770),f=o(1828),u=o(6228),c=o(2499),h=o(3282).isValid,d=o(3972).traceIs;function p(g,m){var v=m.slice(0,m.length-1);return m?f.nestedProperty(g,v).get()||{}:g}a.exports=function g(m,v,y,_,x){var w=x.prefix,E=x.cLetter,S="_module"in v,C=p(m,w),T=p(v,w),A=p(v._template||{},w)||{},O=function(){return delete m.coloraxis,delete v.coloraxis,g(m,v,y,_,x)};if(S){var P=y._colorAxes||{},F=_(w+"coloraxis");if(F){var R=d(v,"contour")&&f.nestedProperty(v,"contours.coloring").get()||"heatmap",N=P[F];return void(N?(N[2].push(O),N[0]!==R&&(N[0]=!1,f.warn(["Ignoring coloraxis:",F,"setting","as it is linked to incompatible colorscales."].join(" ")))):P[F]=[R,v,[O]])}}var D=C[E+"min"],I=C[E+"max"],B=l(D)&&l(I)&&D<I;_(w+E+"auto",!B)?_(w+E+"mid"):(_(w+E+"min"),_(w+E+"max"));var j,q,et=C.colorscale,U=A.colorscale;et!==void 0&&(j=!h(et)),U!==void 0&&(j=!h(U)),_(w+"autocolorscale",j),_(w+"colorscale"),_(w+"reversescale"),w!=="marker.line."&&(w&&S&&(q=u(C)),_(w+"showscale",q)&&(w&&A&&(T._template=A),c(C,T,y)))}},2869:function(a,s,o){var l=o(9898),f=o(4267),u=o(2770),c=o(1828),h=o(7901),d=o(3282).isValid,p=["showscale","autocolorscale","colorscale","reversescale","colorbar"],g=["min","max","mid","auto"];function m(w){var E,S,C,T=w._colorAx,A=T||w,O={};for(S=0;S<p.length;S++)O[C=p[S]]=A[C];if(T)for(E="c",S=0;S<g.length;S++)O[C=g[S]]=A["c"+C];else{var P;for(S=0;S<g.length;S++)((P="c"+(C=g[S]))in A||(P="z"+C)in A)&&(O[C]=A[P]);E=P.charAt(0)}return O._sync=function(F,R){var N=g.indexOf(F)!==-1?E+F:F;A[N]=A["_"+N]=R},O}function v(w){for(var E=m(w),S=E.min,C=E.max,T=E.reversescale?y(E.colorscale):E.colorscale,A=T.length,O=new Array(A),P=new Array(A),F=0;F<A;F++){var R=T[F];O[F]=S+R[0]*(C-S),P[F]=R[1]}return{domain:O,range:P}}function y(w){for(var E=w.length,S=new Array(E),C=E-1,T=0;C>=0;C--,T++){var A=w[C];S[T]=[1-A[0],A[1]]}return S}function _(w,E){E=E||{};for(var S=w.domain,C=w.range,T=C.length,A=new Array(T),O=0;O<T;O++){var P=f(C[O]).toRgb();A[O]=[P.r,P.g,P.b,P.a]}var F,R=l.scale.linear().domain(S).range(A).clamp(!0),N=E.noNumericCheck,D=E.returnArray;return(F=N&&D?R:N?function(I){return x(R(I))}:D?function(I){return u(I)?R(I):f(I).isValid()?I:h.defaultLine}:function(I){return u(I)?x(R(I)):f(I).isValid()?I:h.defaultLine}).domain=R.domain,F.range=function(){return C},F}function x(w){var E={r:w[0],g:w[1],b:w[2],a:w[3]};return f(E).toRgbString()}a.exports={hasColorscale:function(w,E,S){var C=E?c.nestedProperty(w,E).get()||{}:w,T=C[S||"color"],A=!1;if(c.isArrayOrTypedArray(T)){for(var O=0;O<T.length;O++)if(u(T[O])){A=!0;break}}return c.isPlainObject(C)&&(A||C.showscale===!0||u(C.cmin)&&u(C.cmax)||d(C.colorscale)||c.isPlainObject(C.colorbar))},extractOpts:m,extractScale:v,flipScale:y,makeColorScaleFunc:_,makeColorScaleFuncFromTrace:function(w,E){return _(v(w),E)}}},1081:function(a,s,o){var l=o(3282),f=o(2869);a.exports={moduleType:"component",name:"colorscale",attributes:o(693),layoutAttributes:o(2673),supplyLayoutDefaults:o(959),handleDefaults:o(1586),crossTraceDefaults:o(3046),calc:o(8803),scales:l.scales,defaultScale:l.defaultScale,getScale:l.get,isValidScale:l.isValid,hasColorscale:f.hasColorscale,extractOpts:f.extractOpts,extractScale:f.extractScale,flipScale:f.flipScale,makeColorScaleFunc:f.makeColorScaleFunc,makeColorScaleFuncFromTrace:f.makeColorScaleFuncFromTrace}},2673:function(a,s,o){var l=o(1426).extendFlat,f=o(693),u=o(3282).scales;a.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:u.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:u.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:u.RdBu,editType:"calc"}},coloraxis:l({_isSubplotObj:!0,editType:"calc"},f("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},959:function(a,s,o){var l=o(1828),f=o(4467),u=o(2673),c=o(1586);a.exports=function(h,d){function p(E,S){return l.coerce(h,d,u,E,S)}p("colorscale.sequential"),p("colorscale.sequentialminus"),p("colorscale.diverging");var g,m,v=d._colorAxes;function y(E,S){return l.coerce(g,m,u.coloraxis,E,S)}for(var _ in v){var x=v[_];if(x[0])g=h[_]||{},(m=f.newContainer(d,_,"coloraxis"))._name=_,c(g,m,d,y,{prefix:"",cLetter:"c"});else{for(var w=0;w<x[2].length;w++)x[2][w]();delete d._colorAxes[_]}}}},3282:function(a,s,o){var l=o(4267),f={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},u=f.RdBu;function c(h){var d=0;if(!Array.isArray(h)||h.length<2||!h[0]||!h[h.length-1]||+h[0][0]!=0||+h[h.length-1][0]!=1)return!1;for(var p=0;p<h.length;p++){var g=h[p];if(g.length!==2||+g[0]<d||!l(g[1]).isValid())return!1;d=+g[0]}return!0}a.exports={scales:f,defaultScale:u,get:function(h,d){if(d||(d=u),!h)return d;function p(){try{h=f[h]||JSON.parse(h)}catch{h=d}}return typeof h=="string"&&(p(),typeof h=="string"&&p()),c(h)?h:d},isValid:function(h){return f[h]!==void 0||c(h)}}},2807:function(a){a.exports=function(s,o,l,f,u){var c=(s-l)/(f-l),h=c+o/(f-l),d=(c+h)/2;return u==="left"||u==="bottom"?c:u==="center"||u==="middle"?d:u==="right"||u==="top"?h:c<.6666666666666666-d?c:h>1.3333333333333333-d?h:d}},461:function(a,s,o){var l=o(1828),f=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];a.exports=function(u,c,h,d){return u=h==="left"?0:h==="center"?1:h==="right"?2:l.constrain(Math.floor(3*u),0,2),c=d==="bottom"?0:d==="middle"?1:d==="top"?2:l.constrain(Math.floor(3*c),0,2),f[c][u]}},4505:function(a,s){s.selectMode=function(o){return o==="lasso"||o==="select"},s.drawMode=function(o){return o==="drawclosedpath"||o==="drawopenpath"||o==="drawline"||o==="drawrect"||o==="drawcircle"},s.openMode=function(o){return o==="drawline"||o==="drawopenpath"},s.rectMode=function(o){return o==="select"||o==="drawline"||o==="drawrect"||o==="drawcircle"},s.freeMode=function(o){return o==="lasso"||o==="drawclosedpath"||o==="drawopenpath"},s.selectingOrDrawing=function(o){return s.freeMode(o)||s.rectMode(o)}},8569:function(a,s,o){var l=o(8956),f=o(7035),u=o(8520),c=o(1828).removeElement,h=o(5555),d=a.exports={};d.align=o(2807),d.getCursor=o(461);var p=o(6041);function g(){var v=document.createElement("div");v.className="dragcover";var y=v.style;return y.position="fixed",y.left=0,y.right=0,y.top=0,y.bottom=0,y.zIndex=999999999,y.background="none",document.body.appendChild(v),v}function m(v){return l(v.changedTouches?v.changedTouches[0]:v,document.body)}d.unhover=p.wrapped,d.unhoverRaw=p.raw,d.init=function(v){var y,_,x,w,E,S,C,T,A=v.gd,O=1,P=A._context.doubleClickDelay,F=v.element;A._mouseDownTime||(A._mouseDownTime=0),F.style.pointerEvents="all",F.onmousedown=N,u?(F._ontouchstart&&F.removeEventListener("touchstart",F._ontouchstart),F._ontouchstart=N,F.addEventListener("touchstart",N,{passive:!1})):F.ontouchstart=N;var R=v.clampFn||function(B,j,q){return Math.abs(B)<q&&(B=0),Math.abs(j)<q&&(j=0),[B,j]};function N(B){A._dragged=!1,A._dragging=!0;var j=m(B);y=j[0],_=j[1],C=B.target,S=B,T=B.buttons===2||B.ctrlKey,B.clientX===void 0&&B.clientY===void 0&&(B.clientX=y,B.clientY=_),(x=new Date().getTime())-A._mouseDownTime<P?O+=1:(O=1,A._mouseDownTime=x),v.prepFn&&v.prepFn(B,y,_),f&&!T?(E=g()).style.cursor=window.getComputedStyle(F).cursor:f||(E=document,w=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(F).cursor),document.addEventListener("mouseup",I),document.addEventListener("touchend",I),v.dragmode!==!1&&(B.preventDefault(),document.addEventListener("mousemove",D),document.addEventListener("touchmove",D,{passive:!1}))}function D(B){B.preventDefault();var j=m(B),q=v.minDrag||h.MINDRAG,et=R(j[0]-y,j[1]-_,q),U=et[0],Z=et[1];(U||Z)&&(A._dragged=!0,d.unhover(A,B)),A._dragged&&v.moveFn&&!T&&(A._dragdata={element:F,dx:U,dy:Z},v.moveFn(U,Z))}function I(B){if(delete A._dragdata,v.dragmode!==!1&&(B.preventDefault(),document.removeEventListener("mousemove",D),document.removeEventListener("touchmove",D)),document.removeEventListener("mouseup",I),document.removeEventListener("touchend",I),f?c(E):w&&(E.documentElement.style.cursor=w,w=null),A._dragging){if(A._dragging=!1,new Date().getTime()-A._mouseDownTime>P&&(O=Math.max(O-1,1)),A._dragged)v.doneFn&&v.doneFn();else if(v.clickFn&&v.clickFn(O,S),!T){var j;try{j=new MouseEvent("click",B)}catch{var q=m(B);(j=document.createEvent("MouseEvents")).initMouseEvent("click",B.bubbles,B.cancelable,B.view,B.detail,B.screenX,B.screenY,q[0],q[1],B.ctrlKey,B.altKey,B.shiftKey,B.metaKey,B.button,B.relatedTarget)}C.dispatchEvent(j)}A._dragging=!1,A._dragged=!1}else A._dragged=!1}},d.coverSlip=g},6041:function(a,s,o){var l=o(1086),f=o(9990),u=o(4401).getGraphDiv,c=o(6675),h=a.exports={};h.wrapped=function(d,p,g){(d=u(d))._fullLayout&&f.clear(d._fullLayout._uid+c.HOVERID),h.raw(d,p,g)},h.raw=function(d,p){var g=d._fullLayout,m=d._hoverdata;p||(p={}),p.target&&!d._dragged&&l.triggerHandler(d,"plotly_beforehover",p)===!1||(g._hoverlayer.selectAll("g").remove(),g._hoverlayer.selectAll("line").remove(),g._hoverlayer.selectAll("circle").remove(),d._hoverdata=void 0,p.target&&m&&d.emit("plotly_unhover",{event:p,points:m}))}},9952:function(a,s){s.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},s.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},1424:function(a,s,o){var l=o(9898),f=o(1828),u=f.numberFormat,c=o(2770),h=o(4267),d=o(3972),p=o(7901),g=o(1081),m=f.strTranslate,v=o(3893),y=o(7922),_=o(8783).LINE_SPACING,x=o(7822).DESELECTDIM,w=o(4098),E=o(9984),S=o(3469).appendArrayPointValue,C=a.exports={};function T(pt,yt,wt){var St=yt.fillpattern,Ut=St&&C.getPatternAttr(St.shape,0,"");if(Ut){var Gt=C.getPatternAttr(St.bgcolor,0,null),mt=C.getPatternAttr(St.fgcolor,0,null),Tt=St.fgopacity,At=C.getPatternAttr(St.size,0,8),Et=C.getPatternAttr(St.solidity,0,.3),Mt=yt.uid;C.pattern(pt,"point",wt,Mt,Ut,At,Et,void 0,St.fillmode,Gt,mt,Tt)}else yt.fillcolor&&pt.call(p.fill,yt.fillcolor)}C.font=function(pt,yt,wt,St){f.isPlainObject(yt)&&(St=yt.color,wt=yt.size,yt=yt.family),yt&&pt.style("font-family",yt),wt+1&&pt.style("font-size",wt+"px"),St&&pt.call(p.fill,St)},C.setPosition=function(pt,yt,wt){pt.attr("x",yt).attr("y",wt)},C.setSize=function(pt,yt,wt){pt.attr("width",yt).attr("height",wt)},C.setRect=function(pt,yt,wt,St,Ut){pt.call(C.setPosition,yt,wt).call(C.setSize,St,Ut)},C.translatePoint=function(pt,yt,wt,St){var Ut=wt.c2p(pt.x),Gt=St.c2p(pt.y);return!!(c(Ut)&&c(Gt)&&yt.node())&&(yt.node().nodeName==="text"?yt.attr("x",Ut).attr("y",Gt):yt.attr("transform",m(Ut,Gt)),!0)},C.translatePoints=function(pt,yt,wt){pt.each(function(St){var Ut=l.select(this);C.translatePoint(St,Ut,yt,wt)})},C.hideOutsideRangePoint=function(pt,yt,wt,St,Ut,Gt){yt.attr("display",wt.isPtWithinRange(pt,Ut)&&St.isPtWithinRange(pt,Gt)?null:"none")},C.hideOutsideRangePoints=function(pt,yt){if(yt._hasClipOnAxisFalse){var wt=yt.xaxis,St=yt.yaxis;pt.each(function(Ut){var Gt=Ut[0].trace,mt=Gt.xcalendar,Tt=Gt.ycalendar,At=d.traceIs(Gt,"bar-like")?".bartext":".point,.textpoint";pt.selectAll(At).each(function(Et){C.hideOutsideRangePoint(Et,l.select(this),wt,St,mt,Tt)})})}},C.crispRound=function(pt,yt,wt){return yt&&c(yt)?pt._context.staticPlot?yt:yt<1?1:Math.round(yt):wt||0},C.singleLineStyle=function(pt,yt,wt,St,Ut){yt.style("fill","none");var Gt=(((pt||[])[0]||{}).trace||{}).line||{},mt=wt||Gt.width||0,Tt=Ut||Gt.dash||"";p.stroke(yt,St||Gt.color),C.dashLine(yt,Tt,mt)},C.lineGroupStyle=function(pt,yt,wt,St){pt.style("fill","none").each(function(Ut){var Gt=(((Ut||[])[0]||{}).trace||{}).line||{},mt=yt||Gt.width||0,Tt=St||Gt.dash||"";l.select(this).call(p.stroke,wt||Gt.color).call(C.dashLine,Tt,mt)})},C.dashLine=function(pt,yt,wt){wt=+wt||0,yt=C.dashStyle(yt,wt),pt.style({"stroke-dasharray":yt,"stroke-width":wt+"px"})},C.dashStyle=function(pt,yt){yt=+yt||1;var wt=Math.max(yt,3);return pt==="solid"?pt="":pt==="dot"?pt=wt+"px,"+wt+"px":pt==="dash"?pt=3*wt+"px,"+3*wt+"px":pt==="longdash"?pt=5*wt+"px,"+5*wt+"px":pt==="dashdot"?pt=3*wt+"px,"+wt+"px,"+wt+"px,"+wt+"px":pt==="longdashdot"&&(pt=5*wt+"px,"+2*wt+"px,"+wt+"px,"+2*wt+"px"),pt},C.singleFillStyle=function(pt,yt){var wt=l.select(pt.node());T(pt,((wt.data()[0]||[])[0]||{}).trace||{},yt)},C.fillGroupStyle=function(pt,yt){pt.style("stroke-width",0).each(function(wt){var St=l.select(this);wt[0].trace&&T(St,wt[0].trace,yt)})};var A=o(998);C.symbolNames=[],C.symbolFuncs=[],C.symbolBackOffs=[],C.symbolNeedLines={},C.symbolNoDot={},C.symbolNoFill={},C.symbolList=[],Object.keys(A).forEach(function(pt){var yt=A[pt],wt=yt.n;C.symbolList.push(wt,String(wt),pt,wt+100,String(wt+100),pt+"-open"),C.symbolNames[wt]=pt,C.symbolFuncs[wt]=yt.f,C.symbolBackOffs[wt]=yt.backoff||0,yt.needLine&&(C.symbolNeedLines[wt]=!0),yt.noDot?C.symbolNoDot[wt]=!0:C.symbolList.push(wt+200,String(wt+200),pt+"-dot",wt+300,String(wt+300),pt+"-open-dot"),yt.noFill&&(C.symbolNoFill[wt]=!0)});var O=C.symbolNames.length;function P(pt,yt,wt,St){var Ut=pt%100;return C.symbolFuncs[Ut](yt,wt,St)+(pt>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}C.symbolNumber=function(pt){if(c(pt))pt=+pt;else if(typeof pt=="string"){var yt=0;pt.indexOf("-open")>0&&(yt=100,pt=pt.replace("-open","")),pt.indexOf("-dot")>0&&(yt+=200,pt=pt.replace("-dot","")),(pt=C.symbolNames.indexOf(pt))>=0&&(pt+=yt)}return pt%100>=O||pt>=400?0:Math.floor(Math.max(pt,0))};var F={x1:1,x2:0,y1:0,y2:0},R={x1:0,x2:0,y1:1,y2:0},N=u("~f"),D={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:F},horizontalreversed:{node:"linearGradient",attrs:F,reversed:!0},vertical:{node:"linearGradient",attrs:R},verticalreversed:{node:"linearGradient",attrs:R,reversed:!0}};C.gradient=function(pt,yt,wt,St,Ut,Gt){for(var mt=Ut.length,Tt=D[St],At=new Array(mt),Et=0;Et<mt;Et++)Tt.reversed?At[mt-1-Et]=[N(100*(1-Ut[Et][0])),Ut[Et][1]]:At[Et]=[N(100*Ut[Et][0]),Ut[Et][1]];var Mt=yt._fullLayout,Nt="g"+Mt._uid+"-"+wt,Ft=Mt._defs.select(".gradients").selectAll("#"+Nt).data([St+At.join(";")],f.identity);Ft.exit().remove(),Ft.enter().append(Tt.node).each(function(){var Lt=l.select(this);Tt.attrs&&Lt.attr(Tt.attrs),Lt.attr("id",Nt);var Dt=Lt.selectAll("stop").data(At);Dt.exit().remove(),Dt.enter().append("stop"),Dt.each(function(kt){var Wt=h(kt[1]);l.select(this).attr({offset:kt[0]+"%","stop-color":p.tinyRGB(Wt),"stop-opacity":Wt.getAlpha()})})}),pt.style(Gt,dt(Nt,yt)).style(Gt+"-opacity",null),pt.classed("gradient_filled",!0)},C.pattern=function(pt,yt,wt,St,Ut,Gt,mt,Tt,At,Et,Mt,Nt){var Ft=yt==="legend";Tt&&(At==="overlay"?(Et=Tt,Mt=p.contrast(Et)):(Et=void 0,Mt=Tt));var Lt,Dt,kt,Wt,Qt,Ht,oe,ce,pe,we=wt._fullLayout,Le="p"+we._uid+"-"+St,jt={},Rt=h(Mt),te=p.tinyRGB(Rt),ae=Nt*Rt.getAlpha();switch(Ut){case"/":Lt=Gt*Math.sqrt(2),Dt=Gt*Math.sqrt(2),Ht="path",jt={d:kt="M-"+Lt/4+","+Dt/4+"l"+Lt/2+",-"+Dt/2+"M0,"+Dt+"L"+Lt+",0M"+Lt/4*3+","+Dt/4*5+"l"+Lt/2+",-"+Dt/2,opacity:ae,stroke:te,"stroke-width":(Wt=mt*Gt)+"px"};break;case"\\":Lt=Gt*Math.sqrt(2),Dt=Gt*Math.sqrt(2),Ht="path",jt={d:kt="M"+Lt/4*3+",-"+Dt/4+"l"+Lt/2+","+Dt/2+"M0,0L"+Lt+","+Dt+"M-"+Lt/4+","+Dt/4*3+"l"+Lt/2+","+Dt/2,opacity:ae,stroke:te,"stroke-width":(Wt=mt*Gt)+"px"};break;case"x":Lt=Gt*Math.sqrt(2),Dt=Gt*Math.sqrt(2),kt="M-"+Lt/4+","+Dt/4+"l"+Lt/2+",-"+Dt/2+"M0,"+Dt+"L"+Lt+",0M"+Lt/4*3+","+Dt/4*5+"l"+Lt/2+",-"+Dt/2+"M"+Lt/4*3+",-"+Dt/4+"l"+Lt/2+","+Dt/2+"M0,0L"+Lt+","+Dt+"M-"+Lt/4+","+Dt/4*3+"l"+Lt/2+","+Dt/2,Wt=Gt-Gt*Math.sqrt(1-mt),Ht="path",jt={d:kt,opacity:ae,stroke:te,"stroke-width":Wt+"px"};break;case"|":Ht="path",Ht="path",jt={d:kt="M"+(Lt=Gt)/2+",0L"+Lt/2+","+(Dt=Gt),opacity:ae,stroke:te,"stroke-width":(Wt=mt*Gt)+"px"};break;case"-":Ht="path",Ht="path",jt={d:kt="M0,"+(Dt=Gt)/2+"L"+(Lt=Gt)+","+Dt/2,opacity:ae,stroke:te,"stroke-width":(Wt=mt*Gt)+"px"};break;case"+":Ht="path",kt="M"+(Lt=Gt)/2+",0L"+Lt/2+","+(Dt=Gt)+"M0,"+Dt/2+"L"+Lt+","+Dt/2,Wt=Gt-Gt*Math.sqrt(1-mt),Ht="path",jt={d:kt,opacity:ae,stroke:te,"stroke-width":Wt+"px"};break;case".":Lt=Gt,Dt=Gt,mt<Math.PI/4?Qt=Math.sqrt(mt*Gt*Gt/Math.PI):(oe=mt,ce=Math.PI/4,Qt=(pe=Gt/2)+(Gt/Math.sqrt(2)-pe)*(oe-ce)/(1-ce)),Ht="circle",jt={cx:Lt/2,cy:Dt/2,r:Qt,opacity:ae,fill:te}}var Se=[Ut||"noSh",Et||"noBg",Mt||"noFg",Gt,mt].join(";"),ne=we._defs.select(".patterns").selectAll("#"+Le).data([Se],f.identity);ne.exit().remove(),ne.enter().append("pattern").each(function(){var ge=l.select(this);if(ge.attr({id:Le,width:Lt+"px",height:Dt+"px",patternUnits:"userSpaceOnUse",patternTransform:Ft?"scale(0.8)":""}),Et){var xe=h(Et),Fe=p.tinyRGB(xe),Ae=xe.getAlpha(),$e=ge.selectAll("rect").data([0]);$e.exit().remove(),$e.enter().append("rect").attr({width:Lt+"px",height:Dt+"px",fill:Fe,"fill-opacity":Ae})}var Me=ge.selectAll(Ht).data([0]);Me.exit().remove(),Me.enter().append(Ht).attr(jt)}),pt.style("fill",dt(Le,wt)).style("fill-opacity",null),pt.classed("pattern_filled",!0)},C.initGradients=function(pt){var yt=pt._fullLayout;f.ensureSingle(yt._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),l.select(pt).selectAll(".gradient_filled").classed("gradient_filled",!1)},C.initPatterns=function(pt){var yt=pt._fullLayout;f.ensureSingle(yt._defs,"g","patterns").selectAll("pattern").remove(),l.select(pt).selectAll(".pattern_filled").classed("pattern_filled",!1)},C.getPatternAttr=function(pt,yt,wt){return pt&&f.isArrayOrTypedArray(pt)?yt<pt.length?pt[yt]:wt:pt},C.pointStyle=function(pt,yt,wt,St){if(pt.size()){var Ut=C.makePointStyleFns(yt);pt.each(function(Gt){C.singlePointStyle(Gt,l.select(this),yt,Ut,wt,St)})}},C.singlePointStyle=function(pt,yt,wt,St,Ut,Gt){var mt=wt.marker,Tt=mt.line;if(Gt&&Gt.i>=0&&pt.i===void 0&&(pt.i=Gt.i),yt.style("opacity",St.selectedOpacityFn?St.selectedOpacityFn(pt):pt.mo===void 0?mt.opacity:pt.mo),St.ms2mrc){var At;At=pt.ms==="various"||mt.size==="various"?3:St.ms2mrc(pt.ms),pt.mrc=At,St.selectedSizeFn&&(At=pt.mrc=St.selectedSizeFn(pt));var Et=C.symbolNumber(pt.mx||mt.symbol)||0;pt.om=Et%200>=100;var Mt=zt(pt,wt),Nt=G(pt,wt);yt.attr("d",P(Et,At,Mt,Nt))}var Ft,Lt,Dt,kt=!1;if(pt.so)Dt=Tt.outlierwidth,Lt=Tt.outliercolor,Ft=mt.outliercolor;else{var Wt=(Tt||{}).width;Dt=(pt.mlw+1||Wt+1||(pt.trace?(pt.trace.marker.line||{}).width:0)+1)-1||0,Lt="mlc"in pt?pt.mlcc=St.lineScale(pt.mlc):f.isArrayOrTypedArray(Tt.color)?p.defaultLine:Tt.color,f.isArrayOrTypedArray(mt.color)&&(Ft=p.defaultLine,kt=!0),Ft="mc"in pt?pt.mcc=St.markerScale(pt.mc):mt.color||mt.colors||"rgba(0,0,0,0)",St.selectedColorFn&&(Ft=St.selectedColorFn(pt))}if(pt.om)yt.call(p.stroke,Ft).style({"stroke-width":(Dt||1)+"px",fill:"none"});else{yt.style("stroke-width",(pt.isBlank?0:Dt)+"px");var Qt=mt.gradient,Ht=pt.mgt;Ht?kt=!0:Ht=Qt&&Qt.type,f.isArrayOrTypedArray(Ht)&&(Ht=Ht[0],D[Ht]||(Ht=0));var oe=mt.pattern,ce=oe&&C.getPatternAttr(oe.shape,pt.i,"");if(Ht&&Ht!=="none"){var pe=pt.mgc;pe?kt=!0:pe=Qt.color;var we=wt.uid;kt&&(we+="-"+pt.i),C.gradient(yt,Ut,we,Ht,[[0,pe],[1,Ft]],"fill")}else if(ce){var Le=!1,jt=oe.fgcolor;!jt&&Gt&&Gt.color&&(jt=Gt.color,Le=!0);var Rt=C.getPatternAttr(jt,pt.i,Gt&&Gt.color||null),te=C.getPatternAttr(oe.bgcolor,pt.i,null),ae=oe.fgopacity,Se=C.getPatternAttr(oe.size,pt.i,8),ne=C.getPatternAttr(oe.solidity,pt.i,.3);Le=Le||pt.mcc||f.isArrayOrTypedArray(oe.shape)||f.isArrayOrTypedArray(oe.bgcolor)||f.isArrayOrTypedArray(oe.fgcolor)||f.isArrayOrTypedArray(oe.size)||f.isArrayOrTypedArray(oe.solidity);var ge=wt.uid;Le&&(ge+="-"+pt.i),C.pattern(yt,"point",Ut,ge,ce,Se,ne,pt.mcc,oe.fillmode,te,Rt,ae)}else f.isArrayOrTypedArray(Ft)?p.fill(yt,Ft[pt.i]):p.fill(yt,Ft);Dt&&p.stroke(yt,Lt)}},C.makePointStyleFns=function(pt){var yt={},wt=pt.marker;return yt.markerScale=C.tryColorscale(wt,""),yt.lineScale=C.tryColorscale(wt,"line"),d.traceIs(pt,"symbols")&&(yt.ms2mrc=w.isBubble(pt)?E(pt):function(){return(wt.size||6)/2}),pt.selectedpoints&&f.extendFlat(yt,C.makeSelectedPointStyleFns(pt)),yt},C.makeSelectedPointStyleFns=function(pt){var yt={},wt=pt.selected||{},St=pt.unselected||{},Ut=pt.marker||{},Gt=wt.marker||{},mt=St.marker||{},Tt=Ut.opacity,At=Gt.opacity,Et=mt.opacity,Mt=At!==void 0,Nt=Et!==void 0;(f.isArrayOrTypedArray(Tt)||Mt||Nt)&&(yt.selectedOpacityFn=function(ce){var pe=ce.mo===void 0?Ut.opacity:ce.mo;return ce.selected?Mt?At:pe:Nt?Et:x*pe});var Ft=Ut.color,Lt=Gt.color,Dt=mt.color;(Lt||Dt)&&(yt.selectedColorFn=function(ce){var pe=ce.mcc||Ft;return ce.selected?Lt||pe:Dt||pe});var kt=Ut.size,Wt=Gt.size,Qt=mt.size,Ht=Wt!==void 0,oe=Qt!==void 0;return d.traceIs(pt,"symbols")&&(Ht||oe)&&(yt.selectedSizeFn=function(ce){var pe=ce.mrc||kt/2;return ce.selected?Ht?Wt/2:pe:oe?Qt/2:pe}),yt},C.makeSelectedTextStyleFns=function(pt){var yt={},wt=pt.selected||{},St=pt.unselected||{},Ut=pt.textfont||{},Gt=wt.textfont||{},mt=St.textfont||{},Tt=Ut.color,At=Gt.color,Et=mt.color;return yt.selectedTextColorFn=function(Mt){var Nt=Mt.tc||Tt;return Mt.selected?At||Nt:Et||(At?Nt:p.addOpacity(Nt,x))},yt},C.selectedPointStyle=function(pt,yt){if(pt.size()&&yt.selectedpoints){var wt=C.makeSelectedPointStyleFns(yt),St=yt.marker||{},Ut=[];wt.selectedOpacityFn&&Ut.push(function(Gt,mt){Gt.style("opacity",wt.selectedOpacityFn(mt))}),wt.selectedColorFn&&Ut.push(function(Gt,mt){p.fill(Gt,wt.selectedColorFn(mt))}),wt.selectedSizeFn&&Ut.push(function(Gt,mt){var Tt=mt.mx||St.symbol||0,At=wt.selectedSizeFn(mt);Gt.attr("d",P(C.symbolNumber(Tt),At,zt(mt,yt),G(mt,yt))),mt.mrc2=At}),Ut.length&&pt.each(function(Gt){for(var mt=l.select(this),Tt=0;Tt<Ut.length;Tt++)Ut[Tt](mt,Gt)})}},C.tryColorscale=function(pt,yt){var wt=yt?f.nestedProperty(pt,yt).get():pt;if(wt){var St=wt.color;if((wt.colorscale||wt._colorAx)&&f.isArrayOrTypedArray(St))return g.makeColorScaleFuncFromTrace(wt)}return f.identity};var I,B,j={start:1,end:-1,middle:0,bottom:1,top:-1};function q(pt,yt,wt,St,Ut){var Gt=l.select(pt.node().parentNode),mt=yt.indexOf("top")!==-1?"top":yt.indexOf("bottom")!==-1?"bottom":"middle",Tt=yt.indexOf("left")!==-1?"end":yt.indexOf("right")!==-1?"start":"middle",At=St?St/.8+1:0,Et=(v.lineCount(pt)-1)*_+1,Mt=j[Tt]*At,Nt=.75*wt+j[mt]*At+(j[mt]-1)*Et*wt/2;pt.attr("text-anchor",Tt),Ut||Gt.attr("transform",m(Mt,Nt))}function et(pt,yt){var wt=pt.ts||yt.textfont.size;return c(wt)&&wt>0?wt:0}function U(pt,yt,wt){return wt&&(pt=X(pt)),yt?rt(pt[1]):Z(pt[0])}function Z(pt){var yt=l.round(pt,2);return I=yt,yt}function rt(pt){var yt=l.round(pt,2);return B=yt,yt}function ft(pt,yt,wt,St){var Ut=pt[0]-yt[0],Gt=pt[1]-yt[1],mt=wt[0]-yt[0],Tt=wt[1]-yt[1],At=Math.pow(Ut*Ut+Gt*Gt,.25),Et=Math.pow(mt*mt+Tt*Tt,.25),Mt=(Et*Et*Ut-At*At*mt)*St,Nt=(Et*Et*Gt-At*At*Tt)*St,Ft=3*Et*(At+Et),Lt=3*At*(At+Et);return[[Z(yt[0]+(Ft&&Mt/Ft)),rt(yt[1]+(Ft&&Nt/Ft))],[Z(yt[0]-(Lt&&Mt/Lt)),rt(yt[1]-(Lt&&Nt/Lt))]]}C.textPointStyle=function(pt,yt,wt){if(pt.size()){var St;if(yt.selectedpoints){var Ut=C.makeSelectedTextStyleFns(yt);St=Ut.selectedTextColorFn}var Gt=yt.texttemplate,mt=wt._fullLayout;pt.each(function(Tt){var At=l.select(this),Et=Gt?f.extractOption(Tt,yt,"txt","texttemplate"):f.extractOption(Tt,yt,"tx","text");if(Et||Et===0){if(Gt){var Mt=yt._module.formatLabels,Nt=Mt?Mt(Tt,yt,mt):{},Ft={};S(Ft,yt,Tt.i);var Lt=yt._meta||{};Et=f.texttemplateString(Et,Nt,mt._d3locale,Ft,Tt,Lt)}var Dt=Tt.tp||yt.textposition,kt=et(Tt,yt),Wt=St?St(Tt):Tt.tc||yt.textfont.color;At.call(C.font,Tt.tf||yt.textfont.family,kt,Wt).text(Et).call(v.convertToTspans,wt).call(q,Dt,kt,Tt.mrc)}else At.remove()})}},C.selectedTextStyle=function(pt,yt){if(pt.size()&&yt.selectedpoints){var wt=C.makeSelectedTextStyleFns(yt);pt.each(function(St){var Ut=l.select(this),Gt=wt.selectedTextColorFn(St),mt=St.tp||yt.textposition,Tt=et(St,yt);p.fill(Ut,Gt);var At=d.traceIs(yt,"bar-like");q(Ut,mt,Tt,St.mrc2||St.mrc,At)})}},C.smoothopen=function(pt,yt){if(pt.length<3)return"M"+pt.join("L");var wt,St="M"+pt[0],Ut=[];for(wt=1;wt<pt.length-1;wt++)Ut.push(ft(pt[wt-1],pt[wt],pt[wt+1],yt));for(St+="Q"+Ut[0][0]+" "+pt[1],wt=2;wt<pt.length-1;wt++)St+="C"+Ut[wt-2][1]+" "+Ut[wt-1][0]+" "+pt[wt];return St+"Q"+Ut[pt.length-3][1]+" "+pt[pt.length-1]},C.smoothclosed=function(pt,yt){if(pt.length<3)return"M"+pt.join("L")+"Z";var wt,St="M"+pt[0],Ut=pt.length-1,Gt=[ft(pt[Ut],pt[0],pt[1],yt)];for(wt=1;wt<Ut;wt++)Gt.push(ft(pt[wt-1],pt[wt],pt[wt+1],yt));for(Gt.push(ft(pt[Ut-1],pt[Ut],pt[0],yt)),wt=1;wt<=Ut;wt++)St+="C"+Gt[wt-1][1]+" "+Gt[wt][0]+" "+pt[wt];return St+"C"+Gt[Ut][1]+" "+Gt[0][0]+" "+pt[0]+"Z"};var z={hv:function(pt,yt,wt){return"H"+Z(yt[0])+"V"+U(yt,1,wt)},vh:function(pt,yt,wt){return"V"+rt(yt[1])+"H"+U(yt,0,wt)},hvh:function(pt,yt,wt){return"H"+Z((pt[0]+yt[0])/2)+"V"+rt(yt[1])+"H"+U(yt,0,wt)},vhv:function(pt,yt,wt){return"V"+rt((pt[1]+yt[1])/2)+"H"+Z(yt[0])+"V"+U(yt,1,wt)}},W=function(pt,yt,wt){return"L"+U(yt,0,wt)+","+U(yt,1,wt)};function X(pt,yt){var wt=pt.backoff,St=pt.trace,Ut=pt.d,Gt=pt.i;if(wt&&St&&St.marker&&St.marker.angle%360==0&&St.line&&St.line.shape!=="spline"){var mt=f.isArrayOrTypedArray(wt),Tt=pt,At=yt?yt[0]:I||0,Et=yt?yt[1]:B||0,Mt=Tt[0],Nt=Tt[1],Ft=Mt-At,Lt=Nt-Et,Dt=Math.atan2(Lt,Ft),kt=mt?wt[Gt]:wt;if(kt==="auto"){var Wt=Tt.i;St.type==="scatter"&&Wt--;var Qt=Tt.marker,Ht=Qt.symbol;f.isArrayOrTypedArray(Ht)&&(Ht=Ht[Wt]);var oe=Qt.size;f.isArrayOrTypedArray(oe)&&(oe=oe[Wt]),kt=Qt?C.symbolBackOffs[C.symbolNumber(Ht)]*oe:0,kt+=C.getMarkerStandoff(Ut[Wt],St)||0}var ce=Mt-kt*Math.cos(Dt),pe=Nt-kt*Math.sin(Dt);(ce<=Mt&&ce>=At||ce>=Mt&&ce<=At)&&(pe<=Nt&&pe>=Et||pe>=Nt&&pe<=Et)&&(pt=[ce,pe])}return pt}C.steps=function(pt){var yt=z[pt]||W;return function(wt){for(var St="M"+Z(wt[0][0])+","+rt(wt[0][1]),Ut=wt.length,Gt=1;Gt<Ut;Gt++)St+=yt(wt[Gt-1],wt[Gt],Gt===Ut-1);return St}},C.applyBackoff=X,C.makeTester=function(){var pt=f.ensureSingleById(l.select("body"),"svg","js-plotly-tester",function(wt){wt.attr(y.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),yt=f.ensureSingle(pt,"path","js-reference-point",function(wt){wt.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});C.tester=pt,C.testref=yt},C.savedBBoxes={};var it=0;function lt(pt){var yt=pt.getAttribute("data-unformatted");if(yt!==null)return yt+pt.getAttribute("data-math")+pt.getAttribute("text-anchor")+pt.getAttribute("style")}function dt(pt,yt){if(!pt)return null;var wt=yt._context,St=wt._exportedPlot?"":wt._baseUrl||"";return St?"url('"+St+"#"+pt+"')":"url(#"+pt+")"}C.bBox=function(pt,yt,wt){var St,Ut,Gt;if(wt||(wt=lt(pt)),wt){if(St=C.savedBBoxes[wt])return f.extendFlat({},St)}else if(pt.childNodes.length===1){var mt=pt.childNodes[0];if(wt=lt(mt)){var Tt=+mt.getAttribute("x")||0,At=+mt.getAttribute("y")||0,Et=mt.getAttribute("transform");if(!Et){var Mt=C.bBox(mt,!1,wt);return Tt&&(Mt.left+=Tt,Mt.right+=Tt),At&&(Mt.top+=At,Mt.bottom+=At),Mt}if(wt+="~"+Tt+"~"+At+"~"+Et,St=C.savedBBoxes[wt])return f.extendFlat({},St)}}yt?Ut=pt:(Gt=C.tester.node(),Ut=pt.cloneNode(!0),Gt.appendChild(Ut)),l.select(Ut).attr("transform",null).call(v.positionText,0,0);var Nt=Ut.getBoundingClientRect(),Ft=C.testref.node().getBoundingClientRect();yt||Gt.removeChild(Ut);var Lt={height:Nt.height,width:Nt.width,left:Nt.left-Ft.left,top:Nt.top-Ft.top,right:Nt.right-Ft.left,bottom:Nt.bottom-Ft.top};return it>=1e4&&(C.savedBBoxes={},it=0),wt&&(C.savedBBoxes[wt]=Lt),it++,f.extendFlat({},Lt)},C.setClipUrl=function(pt,yt,wt){pt.attr("clip-path",dt(yt,wt))},C.getTranslate=function(pt){var yt=(pt[pt.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(wt,St,Ut){return[St,Ut].join(" ")}).split(" ");return{x:+yt[0]||0,y:+yt[1]||0}},C.setTranslate=function(pt,yt,wt){var St=pt.attr?"attr":"getAttribute",Ut=pt.attr?"attr":"setAttribute",Gt=pt[St]("transform")||"";return yt=yt||0,wt=wt||0,Gt=Gt.replace(/(\btranslate\(.*?\);?)/,"").trim(),Gt=(Gt+=m(yt,wt)).trim(),pt[Ut]("transform",Gt),Gt},C.getScale=function(pt){var yt=(pt[pt.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(wt,St,Ut){return[St,Ut].join(" ")}).split(" ");return{x:+yt[0]||1,y:+yt[1]||1}},C.setScale=function(pt,yt,wt){var St=pt.attr?"attr":"getAttribute",Ut=pt.attr?"attr":"setAttribute",Gt=pt[St]("transform")||"";return yt=yt||1,wt=wt||1,Gt=Gt.replace(/(\bscale\(.*?\);?)/,"").trim(),Gt=(Gt+="scale("+yt+","+wt+")").trim(),pt[Ut]("transform",Gt),Gt};var nt=/\s*sc.*/;C.setPointGroupScale=function(pt,yt,wt){if(yt=yt||1,wt=wt||1,pt){var St=yt===1&&wt===1?"":"scale("+yt+","+wt+")";pt.each(function(){var Ut=(this.getAttribute("transform")||"").replace(nt,"");Ut=(Ut+=St).trim(),this.setAttribute("transform",Ut)})}};var V=/translate\([^)]*\)\s*$/;function G(pt,yt){var wt;return pt&&(wt=pt.mf),wt===void 0&&(wt=yt.marker&&yt.marker.standoff||0),yt._geo||yt._xA?wt:-wt}C.setTextPointsScale=function(pt,yt,wt){pt&&pt.each(function(){var St,Ut=l.select(this),Gt=Ut.select("text");if(Gt.node()){var mt=parseFloat(Gt.attr("x")||0),Tt=parseFloat(Gt.attr("y")||0),At=(Ut.attr("transform")||"").match(V);St=yt===1&&wt===1?[]:[m(mt,Tt),"scale("+yt+","+wt+")",m(-mt,-Tt)],At&&St.push(At),Ut.attr("transform",St.join(""))}})},C.getMarkerStandoff=G;var H,$,J,Q,ot,st,ht=Math.atan2,xt=Math.cos,Pt=Math.sin;function It(pt,yt){var wt=yt[0],St=yt[1];return[wt*xt(pt)-St*Pt(pt),wt*Pt(pt)+St*xt(pt)]}function zt(pt,yt){var wt,St,Ut=pt.ma;Ut===void 0&&(Ut=yt.marker.angle||0);var Gt=yt.marker.angleref;if(Gt==="previous"||Gt==="north"){if(yt._geo){var mt=yt._geo.project(pt.lonlat);wt=mt[0],St=mt[1]}else{var Tt=yt._xA,At=yt._yA;if(!Tt||!At)return 90;wt=Tt.c2p(pt.x),St=At.c2p(pt.y)}if(yt._geo){var Et,Mt=pt.lonlat[0],Nt=pt.lonlat[1],Ft=yt._geo.project([Mt,Nt+1e-5]),Lt=yt._geo.project([Mt+1e-5,Nt]),Dt=ht(Lt[1]-St,Lt[0]-wt),kt=ht(Ft[1]-St,Ft[0]-wt);if(Gt==="north")Et=Ut/180*Math.PI;else if(Gt==="previous"){var Wt=Mt/180*Math.PI,Qt=Nt/180*Math.PI,Ht=H/180*Math.PI,oe=$/180*Math.PI,ce=Ht-Wt,pe=xt(oe)*Pt(ce),we=Pt(oe)*xt(Qt)-xt(oe)*Pt(Qt)*xt(ce);Et=-ht(pe,we)-Math.PI,H=Mt,$=Nt}var Le=It(Dt,[xt(Et),0]),jt=It(kt,[Pt(Et),0]);Ut=ht(Le[1]+jt[1],Le[0]+jt[0])/Math.PI*180,Gt!=="previous"||st===yt.uid&&pt.i===ot+1||(Ut=null)}if(Gt==="previous"&&!yt._geo)if(st===yt.uid&&pt.i===ot+1&&c(wt)&&c(St)){var Rt=wt-J,te=St-Q,ae=yt.line&&yt.line.shape||"",Se=ae.slice(ae.length-1);Se==="h"&&(te=0),Se==="v"&&(Rt=0),Ut+=ht(te,Rt)/Math.PI*180+90}else Ut=null}return J=wt,Q=St,ot=pt.i,st=yt.uid,Ut}C.getMarkerAngle=zt},998:function(a,s,o){var l,f,u,c,h=o(5616),d=o(9898).round,p="M0,0Z",g=Math.sqrt(2),m=Math.sqrt(3),v=Math.PI,y=Math.cos,_=Math.sin;function x(E){return E===null}function w(E,S,C){if(!(E&&E%360!=0||S))return C;if(u===E&&c===S&&l===C)return f;function T(U,Z){var rt=y(U),ft=_(U),z=Z[0],W=Z[1]+(S||0);return[z*rt-W*ft,z*ft+W*rt]}u=E,c=S,l=C;for(var A=E/180*v,O=0,P=0,F=h(C),R="",N=0;N<F.length;N++){var D=F[N],I=D[0],B=O,j=P;if(I==="M"||I==="L")O=+D[1],P=+D[2];else if(I==="m"||I==="l")O+=+D[1],P+=+D[2];else if(I==="H")O=+D[1];else if(I==="h")O+=+D[1];else if(I==="V")P=+D[1];else if(I==="v")P+=+D[1];else if(I==="A"){O=+D[1],P=+D[2];var q=T(A,[+D[6],+D[7]]);D[6]=q[0],D[7]=q[1],D[3]=+D[3]+E}I!=="H"&&I!=="V"||(I="L"),I!=="h"&&I!=="v"||(I="l"),I!=="m"&&I!=="l"||(O-=B,P-=j);var et=T(A,[O,P]);I!=="H"&&I!=="V"||(I="L"),I!=="M"&&I!=="L"&&I!=="m"&&I!=="l"||(D[1]=et[0],D[2]=et[1]),D[0]=I,R+=D[0]+D.slice(1).join(",")}return f=R,R}a.exports={circle:{n:0,f:function(E,S,C){if(x(S))return p;var T=d(E,2),A="M"+T+",0A"+T+","+T+" 0 1,1 0,-"+T+"A"+T+","+T+" 0 0,1 "+T+",0Z";return C?w(S,C,A):A}},square:{n:1,f:function(E,S,C){if(x(S))return p;var T=d(E,2);return w(S,C,"M"+T+","+T+"H-"+T+"V-"+T+"H"+T+"Z")}},diamond:{n:2,f:function(E,S,C){if(x(S))return p;var T=d(1.3*E,2);return w(S,C,"M"+T+",0L0,"+T+"L-"+T+",0L0,-"+T+"Z")}},cross:{n:3,f:function(E,S,C){if(x(S))return p;var T=d(.4*E,2),A=d(1.2*E,2);return w(S,C,"M"+A+","+T+"H"+T+"V"+A+"H-"+T+"V"+T+"H-"+A+"V-"+T+"H-"+T+"V-"+A+"H"+T+"V-"+T+"H"+A+"Z")}},x:{n:4,f:function(E,S,C){if(x(S))return p;var T=d(.8*E/g,2),A="l"+T+","+T,O="l"+T+",-"+T,P="l-"+T+",-"+T,F="l-"+T+","+T;return w(S,C,"M0,"+T+A+O+P+O+P+F+P+F+A+F+A+"Z")}},"triangle-up":{n:5,f:function(E,S,C){if(x(S))return p;var T=d(2*E/m,2);return w(S,C,"M-"+T+","+d(E/2,2)+"H"+T+"L0,-"+d(E,2)+"Z")}},"triangle-down":{n:6,f:function(E,S,C){if(x(S))return p;var T=d(2*E/m,2);return w(S,C,"M-"+T+",-"+d(E/2,2)+"H"+T+"L0,"+d(E,2)+"Z")}},"triangle-left":{n:7,f:function(E,S,C){if(x(S))return p;var T=d(2*E/m,2);return w(S,C,"M"+d(E/2,2)+",-"+T+"V"+T+"L-"+d(E,2)+",0Z")}},"triangle-right":{n:8,f:function(E,S,C){if(x(S))return p;var T=d(2*E/m,2);return w(S,C,"M-"+d(E/2,2)+",-"+T+"V"+T+"L"+d(E,2)+",0Z")}},"triangle-ne":{n:9,f:function(E,S,C){if(x(S))return p;var T=d(.6*E,2),A=d(1.2*E,2);return w(S,C,"M-"+A+",-"+T+"H"+T+"V"+A+"Z")}},"triangle-se":{n:10,f:function(E,S,C){if(x(S))return p;var T=d(.6*E,2),A=d(1.2*E,2);return w(S,C,"M"+T+",-"+A+"V"+T+"H-"+A+"Z")}},"triangle-sw":{n:11,f:function(E,S,C){if(x(S))return p;var T=d(.6*E,2),A=d(1.2*E,2);return w(S,C,"M"+A+","+T+"H-"+T+"V-"+A+"Z")}},"triangle-nw":{n:12,f:function(E,S,C){if(x(S))return p;var T=d(.6*E,2),A=d(1.2*E,2);return w(S,C,"M-"+T+","+A+"V-"+T+"H"+A+"Z")}},pentagon:{n:13,f:function(E,S,C){if(x(S))return p;var T=d(.951*E,2),A=d(.588*E,2),O=d(-E,2),P=d(-.309*E,2);return w(S,C,"M"+T+","+P+"L"+A+","+d(.809*E,2)+"H-"+A+"L-"+T+","+P+"L0,"+O+"Z")}},hexagon:{n:14,f:function(E,S,C){if(x(S))return p;var T=d(E,2),A=d(E/2,2),O=d(E*m/2,2);return w(S,C,"M"+O+",-"+A+"V"+A+"L0,"+T+"L-"+O+","+A+"V-"+A+"L0,-"+T+"Z")}},hexagon2:{n:15,f:function(E,S,C){if(x(S))return p;var T=d(E,2),A=d(E/2,2),O=d(E*m/2,2);return w(S,C,"M-"+A+","+O+"H"+A+"L"+T+",0L"+A+",-"+O+"H-"+A+"L-"+T+",0Z")}},octagon:{n:16,f:function(E,S,C){if(x(S))return p;var T=d(.924*E,2),A=d(.383*E,2);return w(S,C,"M-"+A+",-"+T+"H"+A+"L"+T+",-"+A+"V"+A+"L"+A+","+T+"H-"+A+"L-"+T+","+A+"V-"+A+"Z")}},star:{n:17,f:function(E,S,C){if(x(S))return p;var T=1.4*E,A=d(.225*T,2),O=d(.951*T,2),P=d(.363*T,2),F=d(.588*T,2),R=d(-T,2),N=d(-.309*T,2),D=d(.118*T,2),I=d(.809*T,2);return w(S,C,"M"+A+","+N+"H"+O+"L"+P+","+D+"L"+F+","+I+"L0,"+d(.382*T,2)+"L-"+F+","+I+"L-"+P+","+D+"L-"+O+","+N+"H-"+A+"L0,"+R+"Z")}},hexagram:{n:18,f:function(E,S,C){if(x(S))return p;var T=d(.66*E,2),A=d(.38*E,2),O=d(.76*E,2);return w(S,C,"M-"+O+",0l-"+A+",-"+T+"h"+O+"l"+A+",-"+T+"l"+A+","+T+"h"+O+"l-"+A+","+T+"l"+A+","+T+"h-"+O+"l-"+A+","+T+"l-"+A+",-"+T+"h-"+O+"Z")}},"star-triangle-up":{n:19,f:function(E,S,C){if(x(S))return p;var T=d(E*m*.8,2),A=d(.8*E,2),O=d(1.6*E,2),P=d(4*E,2),F="A "+P+","+P+" 0 0 1 ";return w(S,C,"M-"+T+","+A+F+T+","+A+F+"0,-"+O+F+"-"+T+","+A+"Z")}},"star-triangle-down":{n:20,f:function(E,S,C){if(x(S))return p;var T=d(E*m*.8,2),A=d(.8*E,2),O=d(1.6*E,2),P=d(4*E,2),F="A "+P+","+P+" 0 0 1 ";return w(S,C,"M"+T+",-"+A+F+"-"+T+",-"+A+F+"0,"+O+F+T+",-"+A+"Z")}},"star-square":{n:21,f:function(E,S,C){if(x(S))return p;var T=d(1.1*E,2),A=d(2*E,2),O="A "+A+","+A+" 0 0 1 ";return w(S,C,"M-"+T+",-"+T+O+"-"+T+","+T+O+T+","+T+O+T+",-"+T+O+"-"+T+",-"+T+"Z")}},"star-diamond":{n:22,f:function(E,S,C){if(x(S))return p;var T=d(1.4*E,2),A=d(1.9*E,2),O="A "+A+","+A+" 0 0 1 ";return w(S,C,"M-"+T+",0"+O+"0,"+T+O+T+",0"+O+"0,-"+T+O+"-"+T+",0Z")}},"diamond-tall":{n:23,f:function(E,S,C){if(x(S))return p;var T=d(.7*E,2),A=d(1.4*E,2);return w(S,C,"M0,"+A+"L"+T+",0L0,-"+A+"L-"+T+",0Z")}},"diamond-wide":{n:24,f:function(E,S,C){if(x(S))return p;var T=d(1.4*E,2),A=d(.7*E,2);return w(S,C,"M0,"+A+"L"+T+",0L0,-"+A+"L-"+T+",0Z")}},hourglass:{n:25,f:function(E,S,C){if(x(S))return p;var T=d(E,2);return w(S,C,"M"+T+","+T+"H-"+T+"L"+T+",-"+T+"H-"+T+"Z")},noDot:!0},bowtie:{n:26,f:function(E,S,C){if(x(S))return p;var T=d(E,2);return w(S,C,"M"+T+","+T+"V-"+T+"L-"+T+","+T+"V-"+T+"Z")},noDot:!0},"circle-cross":{n:27,f:function(E,S,C){if(x(S))return p;var T=d(E,2);return w(S,C,"M0,"+T+"V-"+T+"M"+T+",0H-"+T+"M"+T+",0A"+T+","+T+" 0 1,1 0,-"+T+"A"+T+","+T+" 0 0,1 "+T+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(E,S,C){if(x(S))return p;var T=d(E,2),A=d(E/g,2);return w(S,C,"M"+A+","+A+"L-"+A+",-"+A+"M"+A+",-"+A+"L-"+A+","+A+"M"+T+",0A"+T+","+T+" 0 1,1 0,-"+T+"A"+T+","+T+" 0 0,1 "+T+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(E,S,C){if(x(S))return p;var T=d(E,2);return w(S,C,"M0,"+T+"V-"+T+"M"+T+",0H-"+T+"M"+T+","+T+"H-"+T+"V-"+T+"H"+T+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(E,S,C){if(x(S))return p;var T=d(E,2);return w(S,C,"M"+T+","+T+"L-"+T+",-"+T+"M"+T+",-"+T+"L-"+T+","+T+"M"+T+","+T+"H-"+T+"V-"+T+"H"+T+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(E,S,C){if(x(S))return p;var T=d(1.3*E,2);return w(S,C,"M"+T+",0L0,"+T+"L-"+T+",0L0,-"+T+"ZM0,-"+T+"V"+T+"M-"+T+",0H"+T)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(E,S,C){if(x(S))return p;var T=d(1.3*E,2),A=d(.65*E,2);return w(S,C,"M"+T+",0L0,"+T+"L-"+T+",0L0,-"+T+"ZM-"+A+",-"+A+"L"+A+","+A+"M-"+A+","+A+"L"+A+",-"+A)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(E,S,C){if(x(S))return p;var T=d(1.4*E,2);return w(S,C,"M0,"+T+"V-"+T+"M"+T+",0H-"+T)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(E,S,C){if(x(S))return p;var T=d(E,2);return w(S,C,"M"+T+","+T+"L-"+T+",-"+T+"M"+T+",-"+T+"L-"+T+","+T)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(E,S,C){if(x(S))return p;var T=d(1.2*E,2),A=d(.85*E,2);return w(S,C,"M0,"+T+"V-"+T+"M"+T+",0H-"+T+"M"+A+","+A+"L-"+A+",-"+A+"M"+A+",-"+A+"L-"+A+","+A)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(E,S,C){if(x(S))return p;var T=d(E/2,2),A=d(E,2);return w(S,C,"M"+T+","+A+"V-"+A+"M"+(T-A)+",-"+A+"V"+A+"M"+A+","+T+"H-"+A+"M-"+A+","+(T-A)+"H"+A)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(E,S,C){if(x(S))return p;var T=d(1.2*E,2),A=d(1.6*E,2),O=d(.8*E,2);return w(S,C,"M-"+T+","+O+"L0,0M"+T+","+O+"L0,0M0,-"+A+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(E,S,C){if(x(S))return p;var T=d(1.2*E,2),A=d(1.6*E,2),O=d(.8*E,2);return w(S,C,"M-"+T+",-"+O+"L0,0M"+T+",-"+O+"L0,0M0,"+A+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(E,S,C){if(x(S))return p;var T=d(1.2*E,2),A=d(1.6*E,2),O=d(.8*E,2);return w(S,C,"M"+O+","+T+"L0,0M"+O+",-"+T+"L0,0M-"+A+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(E,S,C){if(x(S))return p;var T=d(1.2*E,2),A=d(1.6*E,2),O=d(.8*E,2);return w(S,C,"M-"+O+","+T+"L0,0M-"+O+",-"+T+"L0,0M"+A+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(E,S,C){if(x(S))return p;var T=d(1.4*E,2);return w(S,C,"M"+T+",0H-"+T)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(E,S,C){if(x(S))return p;var T=d(1.4*E,2);return w(S,C,"M0,"+T+"V-"+T)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(E,S,C){if(x(S))return p;var T=d(E,2);return w(S,C,"M"+T+",-"+T+"L-"+T+","+T)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(E,S,C){if(x(S))return p;var T=d(E,2);return w(S,C,"M"+T+","+T+"L-"+T+",-"+T)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(E,S,C){if(x(S))return p;var T=d(E,2);return w(S,C,"M0,0L-"+T+","+d(2*E,2)+"H"+T+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(E,S,C){if(x(S))return p;var T=d(E,2);return w(S,C,"M0,0L-"+T+",-"+d(2*E,2)+"H"+T+"Z")},noDot:!0},"arrow-left":{n:47,f:function(E,S,C){if(x(S))return p;var T=d(2*E,2),A=d(E,2);return w(S,C,"M0,0L"+T+",-"+A+"V"+A+"Z")},noDot:!0},"arrow-right":{n:48,f:function(E,S,C){if(x(S))return p;var T=d(2*E,2),A=d(E,2);return w(S,C,"M0,0L-"+T+",-"+A+"V"+A+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(E,S,C){if(x(S))return p;var T=d(E,2);return w(S,C,"M-"+T+",0H"+T+"M0,0L-"+T+","+d(2*E,2)+"H"+T+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(E,S,C){if(x(S))return p;var T=d(E,2);return w(S,C,"M-"+T+",0H"+T+"M0,0L-"+T+",-"+d(2*E,2)+"H"+T+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(E,S,C){if(x(S))return p;var T=d(2*E,2),A=d(E,2);return w(S,C,"M0,-"+A+"V"+A+"M0,0L"+T+",-"+A+"V"+A+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(E,S,C){if(x(S))return p;var T=d(2*E,2),A=d(E,2);return w(S,C,"M0,-"+A+"V"+A+"M0,0L-"+T+",-"+A+"V"+A+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(E,S,C){if(x(S))return p;var T=v/2.5,A=2*E*y(T),O=2*E*_(T);return w(S,C,"M0,0L"+-A+","+O+"L"+A+","+O+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(E,S,C){if(x(S))return p;var T=v/4,A=2*E*y(T),O=2*E*_(T);return w(S,C,"M0,0L"+-A+","+O+"A "+2*E+","+2*E+" 0 0 1 "+A+","+O+"Z")},backoff:.4,noDot:!0}}},5673:function(a){a.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},4532:function(a,s,o){var l=o(2770),f=o(3972),u=o(9298),c=o(1828),h=o(5827);function d(p,g,m,v){var y=g["error_"+v]||{},_=[];if(y.visible&&["linear","log"].indexOf(m.type)!==-1){for(var x=h(y),w=0;w<p.length;w++){var E=p[w],S=E.i;if(S===void 0)S=w;else if(S===null)continue;var C=E[v];if(l(m.c2l(C))){var T=x(C,S);if(l(T[0])&&l(T[1])){var A=E[v+"s"]=C-T[0],O=E[v+"h"]=C+T[1];_.push(A,O)}}}var P=m._id,F=g._extremes[P],R=u.findExtremes(m,_,c.extendFlat({tozero:F.opts.tozero},{padded:!0}));F.min=F.min.concat(R.min),F.max=F.max.concat(R.max)}}a.exports=function(p){for(var g=p.calcdata,m=0;m<g.length;m++){var v=g[m],y=v[0].trace;if(y.visible===!0&&f.traceIs(y,"errorBarsOK")){var _=u.getFromId(p,y.xaxis),x=u.getFromId(p,y.yaxis);d(v,y,_,"x"),d(v,y,x,"y")}}}},5827:function(a){function s(o,l){return o==="percent"?function(f){return Math.abs(f*l/100)}:o==="constant"?function(){return Math.abs(l)}:o==="sqrt"?function(f){return Math.sqrt(Math.abs(f))}:void 0}a.exports=function(o){var l=o.type,f=o.symmetric;if(l==="data"){var u=o.array||[];if(f)return function(p,g){var m=+u[g];return[m,m]};var c=o.arrayminus||[];return function(p,g){var m=+u[g],v=+c[g];return isNaN(m)&&isNaN(v)?[NaN,NaN]:[v||0,m||0]}}var h=s(l,o.value),d=s(l,o.valueminus);return f||o.valueminus===void 0?function(p){var g=h(p);return[g,g]}:function(p){return[d(p),h(p)]}}},7587:function(a,s,o){var l=o(2770),f=o(3972),u=o(1828),c=o(4467),h=o(5673);a.exports=function(d,p,g,m){var v="error_"+m.axis,y=c.newContainer(p,v),_=d[v]||{};function x(C,T){return u.coerce(_,y,h,C,T)}if(x("visible",_.array!==void 0||_.value!==void 0||_.type==="sqrt")!==!1){var w=x("type","array"in _?"data":"percent"),E=!0;w!=="sqrt"&&(E=x("symmetric",!((w==="data"?"arrayminus":"valueminus")in _))),w==="data"?(x("array"),x("traceref"),E||(x("arrayminus"),x("tracerefminus"))):w!=="percent"&&w!=="constant"||(x("value"),E||x("valueminus"));var S="copy_"+m.inherit+"style";m.inherit&&(p["error_"+m.inherit]||{}).visible&&x(S,!(_.color||l(_.thickness)||l(_.width))),m.inherit&&y[S]||(x("color",g),x("thickness"),x("width",f.traceIs(p,"gl3d")?0:4))}}},7369:function(a,s,o){var l=o(1828),f=o(962).overrideAll,u=o(5673),c={error_x:l.extendFlat({},u),error_y:l.extendFlat({},u)};delete c.error_x.copy_zstyle,delete c.error_y.copy_zstyle,delete c.error_y.copy_ystyle;var h={error_x:l.extendFlat({},u),error_y:l.extendFlat({},u),error_z:l.extendFlat({},u)};delete h.error_x.copy_ystyle,delete h.error_y.copy_ystyle,delete h.error_z.copy_ystyle,delete h.error_z.copy_zstyle,a.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:c,bar:c,histogram:c,scatter3d:f(h,"calc","nested"),scattergl:f(c,"calc","nested")}},supplyDefaults:o(7587),calc:o(4532),makeComputeError:o(5827),plot:o(9398),style:o(2662),hoverInfo:function(d,p,g){(p.error_y||{}).visible&&(g.yerr=d.yh-d.y,p.error_y.symmetric||(g.yerrneg=d.y-d.ys)),(p.error_x||{}).visible&&(g.xerr=d.xh-d.x,p.error_x.symmetric||(g.xerrneg=d.x-d.xs))}}},9398:function(a,s,o){var l=o(9898),f=o(2770),u=o(1424),c=o(4098);a.exports=function(h,d,p,g){var m=p.xaxis,v=p.yaxis,y=g&&g.duration>0,_=h._context.staticPlot;d.each(function(x){var w,E=x[0].trace,S=E.error_x||{},C=E.error_y||{};E.ids&&(w=function(P){return P.id});var T=c.hasMarkers(E)&&E.marker.maxdisplayed>0;C.visible||S.visible||(x=[]);var A=l.select(this).selectAll("g.errorbar").data(x,w);if(A.exit().remove(),x.length){S.visible||A.selectAll("path.xerror").remove(),C.visible||A.selectAll("path.yerror").remove(),A.style("opacity",1);var O=A.enter().append("g").classed("errorbar",!0);y&&O.style("opacity",0).transition().duration(g.duration).style("opacity",1),u.setClipUrl(A,p.layerClipId,h),A.each(function(P){var F=l.select(this),R=function(q,et,U){var Z={x:et.c2p(q.x),y:U.c2p(q.y)};return q.yh!==void 0&&(Z.yh=U.c2p(q.yh),Z.ys=U.c2p(q.ys),f(Z.ys)||(Z.noYS=!0,Z.ys=U.c2p(q.ys,!0))),q.xh!==void 0&&(Z.xh=et.c2p(q.xh),Z.xs=et.c2p(q.xs),f(Z.xs)||(Z.noXS=!0,Z.xs=et.c2p(q.xs,!0))),Z}(P,m,v);if(!T||P.vis){var N,D=F.select("path.yerror");if(C.visible&&f(R.x)&&f(R.yh)&&f(R.ys)){var I=C.width;N="M"+(R.x-I)+","+R.yh+"h"+2*I+"m-"+I+",0V"+R.ys,R.noYS||(N+="m-"+I+",0h"+2*I),D.size()?y&&(D=D.transition().duration(g.duration).ease(g.easing)):D=F.append("path").style("vector-effect",_?"none":"non-scaling-stroke").classed("yerror",!0),D.attr("d",N)}else D.remove();var B=F.select("path.xerror");if(S.visible&&f(R.y)&&f(R.xh)&&f(R.xs)){var j=(S.copy_ystyle?C:S).width;N="M"+R.xh+","+(R.y-j)+"v"+2*j+"m0,-"+j+"H"+R.xs,R.noXS||(N+="m0,-"+j+"v"+2*j),B.size()?y&&(B=B.transition().duration(g.duration).ease(g.easing)):B=F.append("path").style("vector-effect",_?"none":"non-scaling-stroke").classed("xerror",!0),B.attr("d",N)}else B.remove()}})}})}},2662:function(a,s,o){var l=o(9898),f=o(7901);a.exports=function(u){u.each(function(c){var h=c[0].trace,d=h.error_y||{},p=h.error_x||{},g=l.select(this);g.selectAll("path.yerror").style("stroke-width",d.thickness+"px").call(f.stroke,d.color),p.copy_ystyle&&(p=d),g.selectAll("path.xerror").style("stroke-width",p.thickness+"px").call(f.stroke,p.color)})}},7914:function(a,s,o){var l=o(1940),f=o(528).hoverlabel,u=o(1426).extendFlat;a.exports={hoverlabel:{bgcolor:u({},f.bgcolor,{arrayOk:!0}),bordercolor:u({},f.bordercolor,{arrayOk:!0}),font:l({arrayOk:!0,editType:"none"}),align:u({},f.align,{arrayOk:!0}),namelength:u({},f.namelength,{arrayOk:!0}),editType:"none"}}},732:function(a,s,o){var l=o(1828),f=o(3972);function u(c,h,d,p){p=p||l.identity,Array.isArray(c)&&(h[0][d]=p(c))}a.exports=function(c){var h=c.calcdata,d=c._fullLayout;function p(_){return function(x){return l.coerceHoverinfo({hoverinfo:x},{_module:_._module},d)}}for(var g=0;g<h.length;g++){var m=h[g],v=m[0].trace;if(!f.traceIs(v,"pie-like")){var y=f.traceIs(v,"2dMap")?u:l.fillArray;y(v.hoverinfo,m,"hi",p(v)),v.hovertemplate&&y(v.hovertemplate,m,"ht"),v.hoverlabel&&(y(v.hoverlabel.bgcolor,m,"hbg"),y(v.hoverlabel.bordercolor,m,"hbc"),y(v.hoverlabel.font.size,m,"hts"),y(v.hoverlabel.font.color,m,"htc"),y(v.hoverlabel.font.family,m,"htf"),y(v.hoverlabel.namelength,m,"hnl"),y(v.hoverlabel.align,m,"hta"))}}}},5914:function(a,s,o){var l=o(3972),f=o(8335).hover;a.exports=function(u,c,h){var d=l.getComponentMethod("annotations","onClick")(u,u._hoverdata);function p(){u.emit("plotly_click",{points:u._hoverdata,event:c})}h!==void 0&&f(u,c,h,!0),u._hoverdata&&c&&c.target&&(d&&d.then?d.then(p):p(),c.stopImmediatePropagation&&c.stopImmediatePropagation())}},6675:function(a){a.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},4268:function(a,s,o){var l=o(1828),f=o(7914),u=o(8048);a.exports=function(c,h,d,p){var g=l.extendFlat({},p.hoverlabel);h.hovertemplate&&(g.namelength=-1),u(c,h,function(m,v){return l.coerce(c,h,f,m,v)},g)}},3469:function(a,s,o){var l=o(1828);s.getSubplot=function(p){return p.subplot||p.xaxis+p.yaxis||p.geo},s.isTraceInSubplots=function(p,g){if(p.type==="splom"){for(var m=p.xaxes||[],v=p.yaxes||[],y=0;y<m.length;y++)for(var _=0;_<v.length;_++)if(g.indexOf(m[y]+v[_])!==-1)return!0;return!1}return g.indexOf(s.getSubplot(p))!==-1},s.flat=function(p,g){for(var m=new Array(p.length),v=0;v<p.length;v++)m[v]=g;return m},s.p2c=function(p,g){for(var m=new Array(p.length),v=0;v<p.length;v++)m[v]=p[v].p2c(g);return m},s.getDistanceFunction=function(p,g,m,v){return p==="closest"?v||s.quadrature(g,m):p.charAt(0)==="x"?g:m},s.getClosest=function(p,g,m){if(m.index!==!1)m.index>=0&&m.index<p.length?m.distance=0:m.index=!1;else for(var v=0;v<p.length;v++){var y=g(p[v]);y<=m.distance&&(m.index=v,m.distance=y)}return m},s.inbox=function(p,g,m){return p*g<0||p===0?m:1/0},s.quadrature=function(p,g){return function(m){var v=p(m),y=g(m);return Math.sqrt(v*v+y*y)}},s.makeEventData=function(p,g,m){var v="index"in p?p.index:p.pointNumber,y={data:g._input,fullData:g,curveNumber:g.index,pointNumber:v};if(g._indexToPoints){var _=g._indexToPoints[v];_.length===1?y.pointIndex=_[0]:y.pointIndices=_}else y.pointIndex=v;return g._module.eventData?y=g._module.eventData(y,p,g,m,v):("xVal"in p?y.x=p.xVal:"x"in p&&(y.x=p.x),"yVal"in p?y.y=p.yVal:"y"in p&&(y.y=p.y),p.xa&&(y.xaxis=p.xa),p.ya&&(y.yaxis=p.ya),p.zLabelVal!==void 0&&(y.z=p.zLabelVal)),s.appendArrayPointValue(y,g,v),y},s.appendArrayPointValue=function(p,g,m){var v=g._arrayAttrs;if(v)for(var y=0;y<v.length;y++){var _=v[y],x=u(_);if(p[x]===void 0){var w=c(l.nestedProperty(g,_).get(),m);w!==void 0&&(p[x]=w)}}},s.appendArrayMultiPointValues=function(p,g,m){var v=g._arrayAttrs;if(v)for(var y=0;y<v.length;y++){var _=v[y],x=u(_);if(p[x]===void 0){for(var w=l.nestedProperty(g,_).get(),E=new Array(m.length),S=0;S<m.length;S++)E[S]=c(w,m[S]);p[x]=E}}};var f={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function u(p){return f[p]||p}function c(p,g){return Array.isArray(g)?Array.isArray(p)&&Array.isArray(p[g[0]])?p[g[0]][g[1]]:void 0:p[g]}var h={x:!0,y:!0},d={"x unified":!0,"y unified":!0};s.isUnifiedHover=function(p){return typeof p=="string"&&!!d[p]},s.isXYhover=function(p){return typeof p=="string"&&!!h[p]}},8335:function(a,s,o){var l=o(9898),f=o(2770),u=o(4267),c=o(1828),h=c.strTranslate,d=c.strRotate,p=o(1086),g=o(3893),m=o(9918),v=o(1424),y=o(7901),_=o(8569),x=o(9298),w=o(3972),E=o(3469),S=o(6675),C=o(9017),T=o(3969),A=S.YANGLE,O=Math.PI*A/180,P=1/Math.sin(O),F=Math.cos(O),R=Math.sin(O),N=S.HOVERARROWSIZE,D=S.HOVERTEXTPAD,I={box:!0,ohlc:!0,violin:!0,candlestick:!0},B={scatter:!0,scattergl:!0,splom:!0};function j(V){return[V.trace.index,V.index,V.x0,V.y0,V.name,V.attr,V.xa?V.xa._id:"",V.ya?V.ya._id:""].join(",")}s.hover=function(V,G,H,$){V=c.getGraphDiv(V);var J=G.target;c.throttle(V._fullLayout._uid+S.HOVERID,S.HOVERMINTIME,function(){(function(Q,ot,st,ht,xt){st||(st="xy");var Pt=Array.isArray(st)?st:[st],It=Q._fullLayout,zt=It._plots||[],pt=zt[st],yt=It._has("cartesian");if(pt){var wt=pt.overlays.map(function(yn){return yn.id});Pt=Pt.concat(wt)}for(var St=Pt.length,Ut=new Array(St),Gt=new Array(St),mt=!1,Tt=0;Tt<St;Tt++){var At=Pt[Tt];if(zt[At])mt=!0,Ut[Tt]=zt[At].xaxis,Gt[Tt]=zt[At].yaxis;else{if(!It[At]||!It[At]._subplot)return void c.warn("Unrecognized subplot: "+At);var Et=It[At]._subplot;Ut[Tt]=Et.xaxis,Gt[Tt]=Et.yaxis}}var Mt=ot.hovermode||It.hovermode;if(Mt&&!mt&&(Mt="closest"),["x","y","closest","x unified","y unified"].indexOf(Mt)===-1||!Q.calcdata||Q.querySelector(".zoombox")||Q._dragging)return _.unhoverRaw(Q,ot);var Nt=It.hoverdistance;Nt===-1&&(Nt=1/0);var Ft=It.spikedistance;Ft===-1&&(Ft=1/0);var Lt,Dt,kt,Wt,Qt,Ht,oe,ce,pe,we,Le,jt,Rt,te=[],ae=[],Se={hLinePoint:null,vLinePoint:null},ne=!1;if(Array.isArray(ot))for(Mt="array",kt=0;kt<ot.length;kt++)(Qt=Q.calcdata[ot[kt].curveNumber||0])&&(Ht=Qt[0].trace,Qt[0].trace.hoverinfo!=="skip"&&(ae.push(Qt),Ht.orientation==="h"&&(ne=!0)));else{for(Wt=0;Wt<Q.calcdata.length;Wt++)Qt=Q.calcdata[Wt],(Ht=Qt[0].trace).hoverinfo!=="skip"&&E.isTraceInSubplots(Ht,Pt)&&(ae.push(Qt),Ht.orientation==="h"&&(ne=!0));var ge,xe;if(xt){if(p.triggerHandler(Q,"plotly_beforehover",ot)===!1)return;var Fe=xt.getBoundingClientRect();ge=ot.clientX-Fe.left,xe=ot.clientY-Fe.top,It._calcInverseTransform(Q);var Ae=c.apply3DTransform(It._invTransform)(ge,xe);if(ge=Ae[0],xe=Ae[1],ge<0||ge>Ut[0]._length||xe<0||xe>Gt[0]._length)return _.unhoverRaw(Q,ot)}else ge="xpx"in ot?ot.xpx:Ut[0]._length/2,xe="ypx"in ot?ot.ypx:Gt[0]._length/2;if(ot.pointerX=ge+Ut[0]._offset,ot.pointerY=xe+Gt[0]._offset,Lt="xval"in ot?E.flat(Pt,ot.xval):E.p2c(Ut,ge),Dt="yval"in ot?E.flat(Pt,ot.yval):E.p2c(Gt,xe),!f(Lt[0])||!f(Dt[0]))return c.warn("Fx.hover failed",ot,Q),_.unhoverRaw(Q,ot)}var $e=1/0;function Me(yn,In){for(Wt=0;Wt<ae.length;Wt++)if((Qt=ae[Wt])&&Qt[0]&&Qt[0].trace&&(Ht=Qt[0].trace).visible===!0&&Ht._length!==0&&["carpet","contourcarpet"].indexOf(Ht._module.name)===-1){if(Ht.type==="splom"?oe=Pt[ce=0]:(oe=E.getSubplot(Ht),ce=Pt.indexOf(oe)),pe=Mt,E.isUnifiedHover(pe)&&(pe=pe.charAt(0)),jt={cd:Qt,trace:Ht,xa:Ut[ce],ya:Gt[ce],maxHoverDistance:Nt,maxSpikeDistance:Ft,index:!1,distance:Math.min($e,Nt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:y.defaultLine,name:Ht.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},It[oe]&&(jt.subplot=It[oe]._subplot),It._splomScenes&&It._splomScenes[Ht.uid]&&(jt.scene=It._splomScenes[Ht.uid]),Rt=te.length,pe==="array"){var pn=ot[Wt];"pointNumber"in pn?(jt.index=pn.pointNumber,pe="closest"):(pe="","xval"in pn&&(we=pn.xval,pe="x"),"yval"in pn&&(Le=pn.yval,pe=pe?"closest":"y"))}else yn!==void 0&&In!==void 0?(we=yn,Le=In):(we=Lt[ce],Le=Dt[ce]);if(Nt!==0)if(Ht._module&&Ht._module.hoverPoints){var Bn=Ht._module.hoverPoints(jt,we,Le,pe,{finiteRange:!0,hoverLayer:It._hoverlayer});if(Bn)for(var Vn,Kn=0;Kn<Bn.length;Kn++)Vn=Bn[Kn],f(Vn.x0)&&f(Vn.y0)&&te.push(ft(Vn,Mt))}else c.log("Unrecognized trace type in hover:",Ht);if(Mt==="closest"&&te.length>Rt&&(te.splice(0,Rt),$e=te[0].distance),yt&&Ft!==0&&te.length===0){jt.distance=Ft,jt.index=!1;var qn=Ht._module.hoverPoints(jt,we,Le,"closest",{hoverLayer:It._hoverlayer});if(qn&&(qn=qn.filter(function(ka){return ka.spikeDistance<=Ft})),qn&&qn.length){var Wn,fr=qn.filter(function(ka){return ka.xa.showspikes&&ka.xa.spikesnap!=="hovered data"});if(fr.length){var bi=fr[0];f(bi.x0)&&f(bi.y0)&&(Wn=gt(bi),(!Se.vLinePoint||Se.vLinePoint.spikeDistance>Wn.spikeDistance)&&(Se.vLinePoint=Wn))}var so=qn.filter(function(ka){return ka.ya.showspikes&&ka.ya.spikesnap!=="hovered data"});if(so.length){var wi=so[0];f(wi.x0)&&f(wi.y0)&&(Wn=gt(wi),(!Se.hLinePoint||Se.hLinePoint.spikeDistance>Wn.spikeDistance)&&(Se.hLinePoint=Wn))}}}}}function ct(yn,In,pn){for(var Bn,Vn=null,Kn=1/0,qn=0;qn<yn.length;qn++)Bn=yn[qn].spikeDistance,pn&&qn===0&&(Bn=-1/0),Bn<=Kn&&Bn<=In&&(Vn=yn[qn],Kn=Bn);return Vn}function gt(yn){return yn?{xa:yn.xa,ya:yn.ya,x:yn.xSpike!==void 0?yn.xSpike:(yn.x0+yn.x1)/2,y:yn.ySpike!==void 0?yn.ySpike:(yn.y0+yn.y1)/2,distance:yn.distance,spikeDistance:yn.spikeDistance,curveNumber:yn.trace.index,color:yn.color,pointNumber:yn.index}:null}Me();var qt={fullLayout:It,container:It._hoverlayer,event:ot},Vt=Q._spikepoints,Jt={vLinePoint:Se.vLinePoint,hLinePoint:Se.hLinePoint};Q._spikepoints=Jt;var Xt=function(){te.sort(function(yn,In){return yn.distance-In.distance}),te=function(yn,In){for(var pn=In.charAt(0),Bn=[],Vn=[],Kn=[],qn=0;qn<yn.length;qn++){var Wn=yn[qn];w.traceIs(Wn.trace,"bar-like")||w.traceIs(Wn.trace,"box-violin")?Kn.push(Wn):Wn.trace[pn+"period"]?Vn.push(Wn):Bn.push(Wn)}return Bn.concat(Vn).concat(Kn)}(te,Mt)};Xt();var ee=Mt.charAt(0),re=(ee==="x"||ee==="y")&&te[0]&&B[te[0].trace.type];if(yt&&Ft!==0&&te.length!==0){var fe=ct(te.filter(function(yn){return yn.ya.showspikes}),Ft,re);Se.hLinePoint=gt(fe);var ye=ct(te.filter(function(yn){return yn.xa.showspikes}),Ft,re);Se.vLinePoint=gt(ye)}if(te.length===0){var se=_.unhoverRaw(Q,ot);return!yt||Se.hLinePoint===null&&Se.vLinePoint===null||W(Vt)&&z(Q,Se,qt),se}if(yt&&W(Vt)&&z(Q,Se,qt),E.isXYhover(pe)&&te[0].length!==0&&te[0].trace.type!=="splom"){var Ge=te[0],nn=(te=I[Ge.trace.type]?te.filter(function(yn){return yn.trace.index===Ge.trace.index}):[Ge]).length;Me(it("x",Ge,It),it("y",Ge,It));var Oe,We=[],je={},_e=0,he=function(yn){var In=I[yn.trace.type]?j(yn):yn.trace.index;if(je[In]){var pn=je[In]-1,Bn=We[pn];pn>0&&Math.abs(yn.distance)<Math.abs(Bn.distance)&&(We[pn]=yn)}else _e++,je[In]=_e,We.push(yn)};for(Oe=0;Oe<nn;Oe++)he(te[Oe]);for(Oe=te.length-1;Oe>nn-1;Oe--)he(te[Oe]);te=We,Xt()}var Pe=Q._hoverdata,an=[],tn=lt(Q),on=dt(Q);for(kt=0;kt<te.length;kt++){var be=te[kt],Re=E.makeEventData(be,be.trace,be.cd);if(be.hovertemplate!==!1){var ze=!1;be.cd[be.index]&&be.cd[be.index].ht&&(ze=be.cd[be.index].ht),be.hovertemplate=ze||be.trace.hovertemplate||!1}if(be.xa&&be.ya){var qe=be.x0+be.xa._offset,He=be.x1+be.xa._offset,Xe=be.y0+be.ya._offset,Ye=be.y1+be.ya._offset,rn=Math.min(qe,He),Ue=Math.max(qe,He),Je=Math.min(Xe,Ye),dn=Math.max(Xe,Ye);Re.bbox={x0:rn+on,x1:Ue+on,y0:Je+tn,y1:dn+tn}}be.eventData=[Re],an.push(Re)}Q._hoverdata=an;var Mn=Mt==="y"&&(ae.length>1||te.length>1)||Mt==="closest"&&ne&&te.length>1,Sn=y.combine(It.plot_bgcolor||y.background,It.paper_bgcolor),vn=et(te,{gd:Q,hovermode:Mt,rotateLabels:Mn,bgColor:Sn,container:It._hoverlayer,outerContainer:It._paper.node(),commonLabelOpts:It.hoverlabel,hoverdistance:It.hoverdistance}),bn=vn.hoverLabels;if(E.isUnifiedHover(Mt)||(function(yn,In,pn,Bn){var Vn,Kn,qn,Wn,fr,bi,so,wi=In?"xa":"ya",ka=In?"ya":"xa",Ni=0,qr=1,Da=yn.size(),Ci=new Array(Da),Zn=0,En=Bn.minX,mr=Bn.maxX,hr=Bn.minY,Rn=Bn.maxY,wr=function(Hn){return Hn*pn._invScaleX},ar=function(Hn){return Hn*pn._invScaleY};function ni(Hn){var ha=Hn[0],wa=Hn[Hn.length-1];if(Kn=ha.pmin-ha.pos-ha.dp+ha.size,qn=wa.pos+wa.dp+wa.size-ha.pmax,Kn>.01){for(fr=Hn.length-1;fr>=0;fr--)Hn[fr].dp+=Kn;Vn=!1}if(!(qn<.01)){if(Kn<-.01){for(fr=Hn.length-1;fr>=0;fr--)Hn[fr].dp-=qn;Vn=!1}if(Vn){var Xr=0;for(Wn=0;Wn<Hn.length;Wn++)(bi=Hn[Wn]).pos+bi.dp+bi.size>ha.pmax&&Xr++;for(Wn=Hn.length-1;Wn>=0&&!(Xr<=0);Wn--)(bi=Hn[Wn]).pos>ha.pmax-1&&(bi.del=!0,Xr--);for(Wn=0;Wn<Hn.length&&!(Xr<=0);Wn++)if((bi=Hn[Wn]).pos<ha.pmin+1)for(bi.del=!0,Xr--,qn=2*bi.size,fr=Hn.length-1;fr>=0;fr--)Hn[fr].dp-=qn;for(Wn=Hn.length-1;Wn>=0&&!(Xr<=0);Wn--)(bi=Hn[Wn]).pos+bi.dp+bi.size>ha.pmax&&(bi.del=!0,Xr--)}}}for(yn.each(function(Hn){var ha=Hn[wi],wa=Hn[ka],Xr=ha._id.charAt(0)==="x",Kl=ha.range;Zn===0&&Kl&&Kl[0]>Kl[1]!==Xr&&(qr=-1);var Cu=0,Rs=Xr?pn.width:pn.height;if(pn.hovermode==="x"||pn.hovermode==="y"){var rs,is,xc=Z(Hn,In),Ta=Hn.anchor,yp=Ta==="end"?-1:1;if(Ta==="middle")is=(rs=Hn.crossPos+(Xr?ar(xc.y-Hn.by/2):wr(Hn.bx/2+Hn.tx2width/2)))+(Xr?ar(Hn.by):wr(Hn.bx));else if(Xr)is=(rs=Hn.crossPos+ar(N+xc.y)-ar(Hn.by/2-N))+ar(Hn.by);else{var da=wr(yp*N+xc.x),_p=da+wr(yp*Hn.bx);rs=Hn.crossPos+Math.min(da,_p),is=Hn.crossPos+Math.max(da,_p)}Xr?hr!==void 0&&Rn!==void 0&&Math.min(is,Rn)-Math.max(rs,hr)>1&&(wa.side==="left"?(Cu=wa._mainLinePosition,Rs=pn.width):Rs=wa._mainLinePosition):En!==void 0&&mr!==void 0&&Math.min(is,mr)-Math.max(rs,En)>1&&(wa.side==="top"?(Cu=wa._mainLinePosition,Rs=pn.height):Rs=wa._mainLinePosition)}Ci[Zn++]=[{datum:Hn,traceIndex:Hn.trace.index,dp:0,pos:Hn.pos,posref:Hn.posref,size:Hn.by*(Xr?P:1)/2,pmin:Cu,pmax:Rs}]}),Ci.sort(function(Hn,ha){return Hn[0].posref-ha[0].posref||qr*(ha[0].traceIndex-Hn[0].traceIndex)});!Vn&&Ni<=Da;){for(Ni++,Vn=!0,Wn=0;Wn<Ci.length-1;){var hi=Ci[Wn],Ai=Ci[Wn+1],Ii=hi[hi.length-1],Wa=Ai[0];if((Kn=Ii.pos+Ii.dp+Ii.size-Wa.pos-Wa.dp+Wa.size)>.01&&Ii.pmin===Wa.pmin&&Ii.pmax===Wa.pmax){for(fr=Ai.length-1;fr>=0;fr--)Ai[fr].dp+=Kn;for(hi.push.apply(hi,Ai),Ci.splice(Wn+1,1),so=0,fr=hi.length-1;fr>=0;fr--)so+=hi[fr].dp;for(qn=so/hi.length,fr=hi.length-1;fr>=0;fr--)hi[fr].dp-=qn;Vn=!1}else Wn++}Ci.forEach(ni)}for(Wn=Ci.length-1;Wn>=0;Wn--){var No=Ci[Wn];for(fr=No.length-1;fr>=0;fr--){var jr=No[fr],ra=jr.datum;ra.offset=jr.dp,ra.del=jr.del}}}(bn,Mn,It,vn.commonLabelBoundingBox),rt(bn,Mn,It._invScaleX,It._invScaleY)),xt&&xt.tagName){var Dn=w.getComponentMethod("annotations","hasClickToShow")(Q,an);m(l.select(xt),Dn?"pointer":"")}xt&&!ht&&function(yn,In,pn){if(!pn||pn.length!==yn._hoverdata.length)return!0;for(var Bn=pn.length-1;Bn>=0;Bn--){var Vn=pn[Bn],Kn=yn._hoverdata[Bn];if(Vn.curveNumber!==Kn.curveNumber||String(Vn.pointNumber)!==String(Kn.pointNumber)||String(Vn.pointNumbers)!==String(Kn.pointNumbers))return!0}return!1}(Q,0,Pe)&&(Pe&&Q.emit("plotly_unhover",{event:ot,points:Pe}),Q.emit("plotly_hover",{event:ot,points:Q._hoverdata,xaxes:Ut,yaxes:Gt,xvals:Lt,yvals:Dt}))})(V,G,H,$,J)})},s.loneHover=function(V,G){var H=!0;Array.isArray(V)||(H=!1,V=[V]);var $=G.gd,J=lt($),Q=dt($),ot=et(V.map(function(xt){var Pt=xt._x0||xt.x0||xt.x||0,It=xt._x1||xt.x1||xt.x||0,zt=xt._y0||xt.y0||xt.y||0,pt=xt._y1||xt.y1||xt.y||0,yt=xt.eventData;if(yt){var wt=Math.min(Pt,It),St=Math.max(Pt,It),Ut=Math.min(zt,pt),Gt=Math.max(zt,pt),mt=xt.trace;if(w.traceIs(mt,"gl3d")){var Tt=$._fullLayout[mt.scene]._scene.container,At=Tt.offsetLeft,Et=Tt.offsetTop;wt+=At,St+=At,Ut+=Et,Gt+=Et}yt.bbox={x0:wt+Q,x1:St+Q,y0:Ut+J,y1:Gt+J},G.inOut_bbox&&G.inOut_bbox.push(yt.bbox)}else yt=!1;return{color:xt.color||y.defaultLine,x0:xt.x0||xt.x||0,x1:xt.x1||xt.x||0,y0:xt.y0||xt.y||0,y1:xt.y1||xt.y||0,xLabel:xt.xLabel,yLabel:xt.yLabel,zLabel:xt.zLabel,text:xt.text,name:xt.name,idealAlign:xt.idealAlign,borderColor:xt.borderColor,fontFamily:xt.fontFamily,fontSize:xt.fontSize,fontColor:xt.fontColor,nameLength:xt.nameLength,textAlign:xt.textAlign,trace:xt.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:xt.hovertemplate||!1,hovertemplateLabels:xt.hovertemplateLabels||!1,eventData:yt}}),{gd:$,hovermode:"closest",rotateLabels:!1,bgColor:G.bgColor||y.background,container:l.select(G.container),outerContainer:G.outerContainer||G.container}).hoverLabels,st=0,ht=0;return ot.sort(function(xt,Pt){return xt.y0-Pt.y0}).each(function(xt,Pt){var It=xt.y0-xt.by/2;xt.offset=It-5<st?st-It+5:0,st=It+xt.by+xt.offset,Pt===G.anchorIndex&&(ht=xt.offset)}).each(function(xt){xt.offset-=ht}),rt(ot,!1,$._fullLayout._invScaleX,$._fullLayout._invScaleY),H?ot:ot.node()};var q=/<extra>([\s\S]*)<\/extra>/;function et(V,G){var H=G.gd,$=H._fullLayout,J=G.hovermode,Q=G.rotateLabels,ot=G.bgColor,st=G.container,ht=G.outerContainer,xt=G.commonLabelOpts||{};if(V.length===0)return[[]];var Pt=G.fontFamily||S.HOVERFONT,It=G.fontSize||S.HOVERFONTSIZE,zt=V[0],pt=zt.xa,yt=zt.ya,wt=J.charAt(0),St=wt+"Label",Ut=zt[St];if(Ut===void 0&&pt.type==="multicategory")for(var Gt=0;Gt<V.length&&(Ut=V[Gt][St])===void 0;Gt++);var mt=nt(H,ht),Tt=mt.top,At=mt.width,Et=mt.height,Mt=Ut!==void 0&&zt.distance<=G.hoverdistance&&(J==="x"||J==="y");if(Mt){var Nt,Ft,Lt=!0;for(Nt=0;Nt<V.length;Nt++)if(Lt&&V[Nt].zLabel===void 0&&(Lt=!1),Ft=V[Nt].hoverinfo||V[Nt].trace.hoverinfo){var Dt=Array.isArray(Ft)?Ft:Ft.split("+");if(Dt.indexOf("all")===-1&&Dt.indexOf(J)===-1){Mt=!1;break}}Lt&&(Mt=!1)}var kt=st.selectAll("g.axistext").data(Mt?[0]:[]);kt.enter().append("g").classed("axistext",!0),kt.exit().remove();var Wt={minX:0,maxX:0,minY:0,maxY:0};if(kt.each(function(){var se=l.select(this),Ge=c.ensureSingle(se,"path","",function(Je){Je.style({"stroke-width":"1px"})}),nn=c.ensureSingle(se,"text","",function(Je){Je.attr("data-notex",1)}),Oe=xt.bgcolor||y.defaultLine,We=xt.bordercolor||y.contrast(Oe),je=y.contrast(Oe),_e={family:xt.font.family||Pt,size:xt.font.size||It,color:xt.font.color||je};Ge.style({fill:Oe,stroke:We}),nn.text(Ut).call(v.font,_e).call(g.positionText,0,0).call(g.convertToTspans,H),se.attr("transform","");var he,Pe,an=nt(H,nn.node());if(J==="x"){var tn=pt.side==="top"?"-":"";nn.attr("text-anchor","middle").call(g.positionText,0,pt.side==="top"?Tt-an.bottom-N-D:Tt-an.top+N+D),he=pt._offset+(zt.x0+zt.x1)/2,Pe=yt._offset+(pt.side==="top"?0:yt._length);var on=an.width/2+D;he<on?(he=on,Ge.attr("d","M-"+(on-N)+",0L-"+(on-2*N)+","+tn+N+"H"+on+"v"+tn+(2*D+an.height)+"H-"+on+"V"+tn+N+"Z")):he>$.width-on?(he=$.width-on,Ge.attr("d","M"+(on-N)+",0L"+on+","+tn+N+"v"+tn+(2*D+an.height)+"H-"+on+"V"+tn+N+"H"+(on-2*N)+"Z")):Ge.attr("d","M0,0L"+N+","+tn+N+"H"+on+"v"+tn+(2*D+an.height)+"H-"+on+"V"+tn+N+"H-"+N+"Z"),Wt.minX=he-on,Wt.maxX=he+on,pt.side==="top"?(Wt.minY=Pe-(2*D+an.height),Wt.maxY=Pe-D):(Wt.minY=Pe+D,Wt.maxY=Pe+(2*D+an.height))}else{var be,Re,ze;yt.side==="right"?(be="start",Re=1,ze="",he=pt._offset+pt._length):(be="end",Re=-1,ze="-",he=pt._offset),Pe=yt._offset+(zt.y0+zt.y1)/2,nn.attr("text-anchor",be),Ge.attr("d","M0,0L"+ze+N+","+N+"V"+(D+an.height/2)+"h"+ze+(2*D+an.width)+"V-"+(D+an.height/2)+"H"+ze+N+"V-"+N+"Z"),Wt.minY=Pe-(D+an.height/2),Wt.maxY=Pe+(D+an.height/2),yt.side==="right"?(Wt.minX=he+N,Wt.maxX=he+N+(2*D+an.width)):(Wt.minX=he-N-(2*D+an.width),Wt.maxX=he-N);var qe,He=an.height/2,Xe=Tt-an.top-He,Ye="clip"+$._uid+"commonlabel"+yt._id;if(he<an.width+2*D+N){qe="M-"+(N+D)+"-"+He+"h-"+(an.width-D)+"V"+He+"h"+(an.width-D)+"Z";var rn=an.width-he+D;g.positionText(nn,rn,Xe),be==="end"&&nn.selectAll("tspan").each(function(){var Je=l.select(this),dn=v.tester.append("text").text(Je.text()).call(v.font,_e),Mn=nt(H,dn.node());Math.round(Mn.width)<Math.round(an.width)&&Je.attr("x",rn-Mn.width),dn.remove()})}else g.positionText(nn,Re*(D+N),Xe),qe=null;var Ue=$._topclips.selectAll("#"+Ye).data(qe?[0]:[]);Ue.enter().append("clipPath").attr("id",Ye).append("path"),Ue.exit().remove(),Ue.select("path").attr("d",qe),v.setClipUrl(nn,qe?Ye:null,H)}se.attr("transform",h(he,Pe))}),E.isUnifiedHover(J)){st.selectAll("g.hovertext").remove();var Qt=V.filter(function(se){return se.hoverinfo!=="none"});if(Qt.length===0)return[];var Ht=$.hoverlabel,oe=Ht.font,ce={showlegend:!0,legend:{title:{text:Ut,font:oe},font:oe,bgcolor:Ht.bgcolor,bordercolor:Ht.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:$.legend?$.legend.traceorder:void 0,orientation:"v"}},pe={font:oe};C(ce,pe,H._fullData);var we=pe.legend;we.entries=[];for(var Le=0;Le<Qt.length;Le++){var jt=Qt[Le];if(jt.hoverinfo!=="none"){var Rt=U(jt,!0,J,$,Ut),te=Rt[0],ae=Rt[1];jt.name=ae,jt.text=ae!==""?ae+" : "+te:te;var Se=jt.cd[jt.index];Se&&(Se.mc&&(jt.mc=Se.mc),Se.mcc&&(jt.mc=Se.mcc),Se.mlc&&(jt.mlc=Se.mlc),Se.mlcc&&(jt.mlc=Se.mlcc),Se.mlw&&(jt.mlw=Se.mlw),Se.mrc&&(jt.mrc=Se.mrc),Se.dir&&(jt.dir=Se.dir)),jt._distinct=!0,we.entries.push([jt])}}we.entries.sort(function(se,Ge){return se[0].trace.index-Ge[0].trace.index}),we.layer=st,we._inHover=!0,we._groupTitleFont=Ht.grouptitlefont,T(H,we);var ne,ge,xe,Fe,Ae=st.select("g.legend"),$e=nt(H,Ae.node()),Me=$e.width+2*D,ct=$e.height+2*D,gt=Qt[0],qt=(gt.x0+gt.x1)/2,Vt=(gt.y0+gt.y1)/2,Jt=!(w.traceIs(gt.trace,"bar-like")||w.traceIs(gt.trace,"box-violin"));wt==="y"?Jt?(ge=Vt-D,ne=Vt+D):(ge=Math.min.apply(null,Qt.map(function(se){return Math.min(se.y0,se.y1)})),ne=Math.max.apply(null,Qt.map(function(se){return Math.max(se.y0,se.y1)}))):ge=ne=c.mean(Qt.map(function(se){return(se.y0+se.y1)/2}))-ct/2,wt==="x"?Jt?(xe=qt+D,Fe=qt-D):(xe=Math.max.apply(null,Qt.map(function(se){return Math.max(se.x0,se.x1)})),Fe=Math.min.apply(null,Qt.map(function(se){return Math.min(se.x0,se.x1)}))):xe=Fe=c.mean(Qt.map(function(se){return(se.x0+se.x1)/2}))-Me/2;var Xt,ee,re=pt._offset,fe=yt._offset;return Fe+=re-Me,ge+=fe-ct,Xt=(xe+=re)+Me<At&&xe>=0?xe:Fe+Me<At&&Fe>=0?Fe:re+Me<At?re:xe-qt<qt-Fe+Me?At-Me:0,Xt+=D,ee=(ne+=fe)+ct<Et&&ne>=0?ne:ge+ct<Et&&ge>=0?ge:fe+ct<Et?fe:ne-Vt<Vt-ge+ct?Et-ct:0,ee+=D,Ae.attr("transform",h(Xt-1,ee-1)),Ae}var ye=st.selectAll("g.hovertext").data(V,function(se){return j(se)});return ye.enter().append("g").classed("hovertext",!0).each(function(){var se=l.select(this);se.append("rect").call(y.fill,y.addOpacity(ot,.8)),se.append("text").classed("name",!0),se.append("path").style("stroke-width","1px"),se.append("text").classed("nums",!0).call(v.font,Pt,It)}),ye.exit().remove(),ye.each(function(se){var Ge=l.select(this).attr("transform",""),nn=se.color;Array.isArray(nn)&&(nn=nn[se.eventData[0].pointNumber]);var Oe=se.bgcolor||nn,We=y.combine(y.opacity(Oe)?Oe:y.defaultLine,ot),je=y.combine(y.opacity(nn)?nn:y.defaultLine,ot),_e=se.borderColor||y.contrast(We),he=U(se,Mt,J,$,Ut,Ge),Pe=he[0],an=he[1],tn=Ge.select("text.nums").call(v.font,se.fontFamily||Pt,se.fontSize||It,se.fontColor||_e).text(Pe).attr("data-notex",1).call(g.positionText,0,0).call(g.convertToTspans,H),on=Ge.select("text.name"),be=0,Re=0;if(an&&an!==Pe){on.call(v.font,se.fontFamily||Pt,se.fontSize||It,je).text(an).attr("data-notex",1).call(g.positionText,0,0).call(g.convertToTspans,H);var ze=nt(H,on.node());be=ze.width+2*D,Re=ze.height+2*D}else on.remove(),Ge.select("rect").remove();Ge.select("path").style({fill:We,stroke:_e});var qe=se.xa._offset+(se.x0+se.x1)/2,He=se.ya._offset+(se.y0+se.y1)/2,Xe=Math.abs(se.x1-se.x0),Ye=Math.abs(se.y1-se.y0),rn=nt(H,tn.node()),Ue=rn.width/$._invScaleX,Je=rn.height/$._invScaleY;se.ty0=(Tt-rn.top)/$._invScaleY,se.bx=Ue+2*D,se.by=Math.max(Je+2*D,Re),se.anchor="start",se.txwidth=Ue,se.tx2width=be,se.offset=0;var dn,Mn,Sn=(Ue+N+D+be)*$._invScaleX;if(Q)se.pos=qe,dn=He+Ye/2+Sn<=Et,Mn=He-Ye/2-Sn>=0,se.idealAlign!=="top"&&dn||!Mn?dn?(He+=Ye/2,se.anchor="start"):se.anchor="middle":(He-=Ye/2,se.anchor="end"),se.crossPos=He;else{if(se.pos=He,dn=qe+Xe/2+Sn<=At,Mn=qe-Xe/2-Sn>=0,se.idealAlign!=="left"&&dn||!Mn)if(dn)qe+=Xe/2,se.anchor="start";else{se.anchor="middle";var vn=Sn/2,bn=qe+vn-At,Dn=qe-vn;bn>0&&(qe-=bn),Dn<0&&(qe+=-Dn)}else qe-=Xe/2,se.anchor="end";se.crossPos=qe}tn.attr("text-anchor",se.anchor),be&&on.attr("text-anchor",se.anchor),Ge.attr("transform",h(qe,He)+(Q?d(A):""))}),{hoverLabels:ye,commonLabelBoundingBox:Wt}}function U(V,G,H,$,J,Q){var ot="",st="";V.nameOverride!==void 0&&(V.name=V.nameOverride),V.name&&(V.trace._meta&&(V.name=c.templateString(V.name,V.trace._meta)),ot=X(V.name,V.nameLength));var ht=H.charAt(0),xt=ht==="x"?"y":"x";V.zLabel!==void 0?(V.xLabel!==void 0&&(st+="x: "+V.xLabel+"<br>"),V.yLabel!==void 0&&(st+="y: "+V.yLabel+"<br>"),V.trace.type!=="choropleth"&&V.trace.type!=="choroplethmapbox"&&(st+=(st?"z: ":"")+V.zLabel)):G&&V[ht+"Label"]===J?st=V[xt+"Label"]||"":V.xLabel===void 0?V.yLabel!==void 0&&V.trace.type!=="scattercarpet"&&(st=V.yLabel):st=V.yLabel===void 0?V.xLabel:"("+V.xLabel+", "+V.yLabel+")",!V.text&&V.text!==0||Array.isArray(V.text)||(st+=(st?"<br>":"")+V.text),V.extraText!==void 0&&(st+=(st?"<br>":"")+V.extraText),Q&&st===""&&!V.hovertemplate&&(ot===""&&Q.remove(),st=ot);var Pt=V.hovertemplate||!1;if(Pt){var It=V.hovertemplateLabels||V;V[ht+"Label"]!==J&&(It[ht+"other"]=It[ht+"Val"],It[ht+"otherLabel"]=It[ht+"Label"]),st=(st=c.hovertemplateString(Pt,It,$._d3locale,V.eventData[0]||{},V.trace._meta)).replace(q,function(zt,pt){return ot=X(pt,V.nameLength),""})}return[st,ot]}function Z(V,G){var H=0,$=V.offset;return G&&($*=-R,H=V.offset*F),{x:H,y:$}}function rt(V,G,H,$){var J=function(ot){return ot*H},Q=function(ot){return ot*$};V.each(function(ot){var st=l.select(this);if(ot.del)return st.remove();var ht,xt,Pt,It,zt=st.select("text.nums"),pt=ot.anchor,yt=pt==="end"?-1:1,wt=(It=(Pt=(xt={start:1,end:-1,middle:0}[(ht=ot).anchor])*(N+D))+xt*(ht.txwidth+D),ht.anchor==="middle"&&(Pt-=ht.tx2width/2,It+=ht.txwidth/2+D),{alignShift:xt,textShiftX:Pt,text2ShiftX:It}),St=Z(ot,G),Ut=St.x,Gt=St.y,mt=pt==="middle";st.select("path").attr("d",mt?"M-"+J(ot.bx/2+ot.tx2width/2)+","+Q(Gt-ot.by/2)+"h"+J(ot.bx)+"v"+Q(ot.by)+"h-"+J(ot.bx)+"Z":"M0,0L"+J(yt*N+Ut)+","+Q(N+Gt)+"v"+Q(ot.by/2-N)+"h"+J(yt*ot.bx)+"v-"+Q(ot.by)+"H"+J(yt*N+Ut)+"V"+Q(Gt-N)+"Z");var Tt=Ut+wt.textShiftX,At=Gt+ot.ty0-ot.by/2+D,Et=ot.textAlign||"auto";Et!=="auto"&&(Et==="left"&&pt!=="start"?(zt.attr("text-anchor","start"),Tt=mt?-ot.bx/2-ot.tx2width/2+D:-ot.bx-D):Et==="right"&&pt!=="end"&&(zt.attr("text-anchor","end"),Tt=mt?ot.bx/2-ot.tx2width/2-D:ot.bx+D)),zt.call(g.positionText,J(Tt),Q(At)),ot.tx2width&&(st.select("text.name").call(g.positionText,J(wt.text2ShiftX+wt.alignShift*D+Ut),Q(Gt+ot.ty0-ot.by/2+D)),st.select("rect").call(v.setRect,J(wt.text2ShiftX+(wt.alignShift-1)*ot.tx2width/2+Ut),Q(Gt-ot.by/2-1),J(ot.tx2width),Q(ot.by+2)))})}function ft(V,G){var H=V.index,$=V.trace||{},J=V.cd[0],Q=V.cd[H]||{};function ot(zt){return zt||f(zt)&&zt===0}var st=Array.isArray(H)?function(zt,pt){var yt=c.castOption(J,H,zt);return ot(yt)?yt:c.extractOption({},$,"",pt)}:function(zt,pt){return c.extractOption(Q,$,zt,pt)};function ht(zt,pt,yt){var wt=st(pt,yt);ot(wt)&&(V[zt]=wt)}if(ht("hoverinfo","hi","hoverinfo"),ht("bgcolor","hbg","hoverlabel.bgcolor"),ht("borderColor","hbc","hoverlabel.bordercolor"),ht("fontFamily","htf","hoverlabel.font.family"),ht("fontSize","hts","hoverlabel.font.size"),ht("fontColor","htc","hoverlabel.font.color"),ht("nameLength","hnl","hoverlabel.namelength"),ht("textAlign","hta","hoverlabel.align"),V.posref=G==="y"||G==="closest"&&$.orientation==="h"?V.xa._offset+(V.x0+V.x1)/2:V.ya._offset+(V.y0+V.y1)/2,V.x0=c.constrain(V.x0,0,V.xa._length),V.x1=c.constrain(V.x1,0,V.xa._length),V.y0=c.constrain(V.y0,0,V.ya._length),V.y1=c.constrain(V.y1,0,V.ya._length),V.xLabelVal!==void 0&&(V.xLabel="xLabel"in V?V.xLabel:x.hoverLabelText(V.xa,V.xLabelVal,$.xhoverformat),V.xVal=V.xa.c2d(V.xLabelVal)),V.yLabelVal!==void 0&&(V.yLabel="yLabel"in V?V.yLabel:x.hoverLabelText(V.ya,V.yLabelVal,$.yhoverformat),V.yVal=V.ya.c2d(V.yLabelVal)),V.zLabelVal!==void 0&&V.zLabel===void 0&&(V.zLabel=String(V.zLabelVal)),!(isNaN(V.xerr)||V.xa.type==="log"&&V.xerr<=0)){var xt=x.tickText(V.xa,V.xa.c2l(V.xerr),"hover").text;V.xerrneg!==void 0?V.xLabel+=" +"+xt+" / -"+x.tickText(V.xa,V.xa.c2l(V.xerrneg),"hover").text:V.xLabel+=" ± "+xt,G==="x"&&(V.distance+=1)}if(!(isNaN(V.yerr)||V.ya.type==="log"&&V.yerr<=0)){var Pt=x.tickText(V.ya,V.ya.c2l(V.yerr),"hover").text;V.yerrneg!==void 0?V.yLabel+=" +"+Pt+" / -"+x.tickText(V.ya,V.ya.c2l(V.yerrneg),"hover").text:V.yLabel+=" ± "+Pt,G==="y"&&(V.distance+=1)}var It=V.hoverinfo||V.trace.hoverinfo;return It&&It!=="all"&&((It=Array.isArray(It)?It:It.split("+")).indexOf("x")===-1&&(V.xLabel=void 0),It.indexOf("y")===-1&&(V.yLabel=void 0),It.indexOf("z")===-1&&(V.zLabel=void 0),It.indexOf("text")===-1&&(V.text=void 0),It.indexOf("name")===-1&&(V.name=void 0)),V}function z(V,G,H){var $,J,Q=H.container,ot=H.fullLayout,st=ot._size,ht=H.event,xt=!!G.hLinePoint,Pt=!!G.vLinePoint;if(Q.selectAll(".spikeline").remove(),Pt||xt){var It=y.combine(ot.plot_bgcolor,ot.paper_bgcolor);if(xt){var zt,pt,yt=G.hLinePoint;$=yt&&yt.xa,(J=yt&&yt.ya).spikesnap==="cursor"?(zt=ht.pointerX,pt=ht.pointerY):(zt=$._offset+yt.x,pt=J._offset+yt.y);var wt,St,Ut=u.readability(yt.color,It)<1.5?y.contrast(It):yt.color,Gt=J.spikemode,mt=J.spikethickness,Tt=J.spikecolor||Ut,At=x.getPxPosition(V,J);if(Gt.indexOf("toaxis")!==-1||Gt.indexOf("across")!==-1){if(Gt.indexOf("toaxis")!==-1&&(wt=At,St=zt),Gt.indexOf("across")!==-1){var Et=J._counterDomainMin,Mt=J._counterDomainMax;J.anchor==="free"&&(Et=Math.min(Et,J.position),Mt=Math.max(Mt,J.position)),wt=st.l+Et*st.w,St=st.l+Mt*st.w}Q.insert("line",":first-child").attr({x1:wt,x2:St,y1:pt,y2:pt,"stroke-width":mt,stroke:Tt,"stroke-dasharray":v.dashStyle(J.spikedash,mt)}).classed("spikeline",!0).classed("crisp",!0),Q.insert("line",":first-child").attr({x1:wt,x2:St,y1:pt,y2:pt,"stroke-width":mt+2,stroke:It}).classed("spikeline",!0).classed("crisp",!0)}Gt.indexOf("marker")!==-1&&Q.insert("circle",":first-child").attr({cx:At+(J.side!=="right"?mt:-mt),cy:pt,r:mt,fill:Tt}).classed("spikeline",!0)}if(Pt){var Nt,Ft,Lt=G.vLinePoint;$=Lt&&Lt.xa,J=Lt&&Lt.ya,$.spikesnap==="cursor"?(Nt=ht.pointerX,Ft=ht.pointerY):(Nt=$._offset+Lt.x,Ft=J._offset+Lt.y);var Dt,kt,Wt=u.readability(Lt.color,It)<1.5?y.contrast(It):Lt.color,Qt=$.spikemode,Ht=$.spikethickness,oe=$.spikecolor||Wt,ce=x.getPxPosition(V,$);if(Qt.indexOf("toaxis")!==-1||Qt.indexOf("across")!==-1){if(Qt.indexOf("toaxis")!==-1&&(Dt=ce,kt=Ft),Qt.indexOf("across")!==-1){var pe=$._counterDomainMin,we=$._counterDomainMax;$.anchor==="free"&&(pe=Math.min(pe,$.position),we=Math.max(we,$.position)),Dt=st.t+(1-we)*st.h,kt=st.t+(1-pe)*st.h}Q.insert("line",":first-child").attr({x1:Nt,x2:Nt,y1:Dt,y2:kt,"stroke-width":Ht,stroke:oe,"stroke-dasharray":v.dashStyle($.spikedash,Ht)}).classed("spikeline",!0).classed("crisp",!0),Q.insert("line",":first-child").attr({x1:Nt,x2:Nt,y1:Dt,y2:kt,"stroke-width":Ht+2,stroke:It}).classed("spikeline",!0).classed("crisp",!0)}Qt.indexOf("marker")!==-1&&Q.insert("circle",":first-child").attr({cx:Nt,cy:ce-($.side!=="top"?Ht:-Ht),r:Ht,fill:oe}).classed("spikeline",!0)}}}function W(V,G){return!G||G.vLinePoint!==V._spikepoints.vLinePoint||G.hLinePoint!==V._spikepoints.hLinePoint}function X(V,G){return g.plainText(V||"",{len:G,allowedTags:["br","sub","sup","b","i","em"]})}function it(V,G,H){var $=G[V+"a"],J=G[V+"Val"],Q=G.cd[0];if($.type==="category"||$.type==="multicategory")J=$._categoriesMap[J];else if($.type==="date"){var ot=G.trace[V+"periodalignment"];if(ot){var st=G.cd[G.index],ht=st[V+"Start"];ht===void 0&&(ht=st[V]);var xt=st[V+"End"];xt===void 0&&(xt=st[V]);var Pt=xt-ht;ot==="end"?J+=Pt:ot==="middle"&&(J+=Pt/2)}J=$.d2c(J)}return Q&&Q.t&&Q.t.posLetter===$._id&&(H.boxmode!=="group"&&H.violinmode!=="group"||(J+=Q.t.dPos)),J}function lt(V){return V.offsetTop+V.clientTop}function dt(V){return V.offsetLeft+V.clientLeft}function nt(V,G){var H=V._fullLayout,$=G.getBoundingClientRect(),J=$.left,Q=$.top,ot=J+$.width,st=Q+$.height,ht=c.apply3DTransform(H._invTransform)(J,Q),xt=c.apply3DTransform(H._invTransform)(ot,st),Pt=ht[0],It=ht[1],zt=xt[0],pt=xt[1];return{x:Pt,y:It,width:zt-Pt,height:pt-It,top:Math.min(It,pt),left:Math.min(Pt,zt),right:Math.max(Pt,zt),bottom:Math.max(It,pt)}}},8048:function(a,s,o){var l=o(1828),f=o(7901),u=o(3469).isUnifiedHover;a.exports=function(c,h,d,p){p=p||{};var g=h.legend;function m(v){p.font[v]||(p.font[v]=g?h.legend.font[v]:h.font[v])}h&&u(h.hovermode)&&(p.font||(p.font={}),m("size"),m("family"),m("color"),g?(p.bgcolor||(p.bgcolor=f.combine(h.legend.bgcolor,h.paper_bgcolor)),p.bordercolor||(p.bordercolor=h.legend.bordercolor)):p.bgcolor||(p.bgcolor=h.paper_bgcolor)),d("hoverlabel.bgcolor",p.bgcolor),d("hoverlabel.bordercolor",p.bordercolor),d("hoverlabel.namelength",p.namelength),l.coerceFont(d,"hoverlabel.font",p.font),d("hoverlabel.align",p.align)}},8212:function(a,s,o){var l=o(1828),f=o(528);a.exports=function(u,c){function h(d,p){return c[d]!==void 0?c[d]:l.coerce(u,c,f,d,p)}return h("clickmode"),h("hovermode")}},211:function(a,s,o){var l=o(9898),f=o(1828),u=o(8569),c=o(3469),h=o(528),d=o(8335);a.exports={moduleType:"component",name:"fx",constants:o(6675),schema:{layout:h},attributes:o(7914),layoutAttributes:h,supplyLayoutGlobalDefaults:o(2774),supplyDefaults:o(4268),supplyLayoutDefaults:o(4938),calc:o(732),getDistanceFunction:c.getDistanceFunction,getClosest:c.getClosest,inbox:c.inbox,quadrature:c.quadrature,appendArrayPointValue:c.appendArrayPointValue,castHoverOption:function(p,g,m){return f.castOption(p,g,"hoverlabel."+m)},castHoverinfo:function(p,g,m){return f.castOption(p,m,"hoverinfo",function(v){return f.coerceHoverinfo({hoverinfo:v},{_module:p._module},g)})},hover:d.hover,unhover:u.unhover,loneHover:d.loneHover,loneUnhover:function(p){var g=f.isD3Selection(p)?p:l.select(p);g.selectAll("g.hovertext").remove(),g.selectAll(".spikeline").remove()},click:o(5914)}},528:function(a,s,o){var l=o(6675),f=o(1940),u=f({editType:"none"});u.family.dflt=l.HOVERFONT,u.size.dflt=l.HOVERFONTSIZE,a.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:u,grouptitlefont:f({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},4938:function(a,s,o){var l=o(1828),f=o(528),u=o(8212),c=o(8048);a.exports=function(h,d){function p(y,_){return l.coerce(h,d,f,y,_)}u(h,d)&&(p("hoverdistance"),p("spikedistance")),p("dragmode")==="select"&&p("selectdirection");var g=d._has("mapbox"),m=d._has("geo"),v=d._basePlotModules.length;d.dragmode==="zoom"&&((g||m)&&v===1||g&&m&&v===2)&&(d.dragmode="pan"),c(h,d,p),l.coerceFont(p,"hoverlabel.grouptitlefont",d.hoverlabel.font)}},2774:function(a,s,o){var l=o(1828),f=o(8048),u=o(528);a.exports=function(c,h){f(c,h,function(d,p){return l.coerce(c,h,u,d,p)})}},3312:function(a,s,o){var l=o(1828),f=o(587).counter,u=o(7670).Y,c=o(5555).idRegex,h=o(4467),d={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[f("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[c.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[c.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:u({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function p(v,y,_){var x=y[_+"axes"],w=Object.keys((v._splomAxes||{})[_]||{});return Array.isArray(x)?x:w.length?w:void 0}function g(v,y,_,x,w,E){var S=y(v+"gap",_),C=y("domain."+v);y(v+"side",x);for(var T=new Array(w),A=C[0],O=(C[1]-A)/(w-S),P=O*(1-S),F=0;F<w;F++){var R=A+O*F;T[E?w-1-F:F]=[R,R+P]}return T}function m(v,y,_,x,w){var E,S=new Array(_);function C(T,A){y.indexOf(A)!==-1&&x[A]===void 0?(S[T]=A,x[A]=T):S[T]=""}if(Array.isArray(v))for(E=0;E<_;E++)C(E,v[E]);else for(C(0,w),E=1;E<_;E++)C(E,w+(E+1));return S}a.exports={moduleType:"component",name:"grid",schema:{layout:{grid:d}},layoutAttributes:d,sizeDefaults:function(v,y){var _=v.grid||{},x=p(y,_,"x"),w=p(y,_,"y");if(v.grid||x||w){var E,S,C=Array.isArray(_.subplots)&&Array.isArray(_.subplots[0]),T=Array.isArray(x),A=Array.isArray(w),O=T&&x!==_.xaxes&&A&&w!==_.yaxes;C?(E=_.subplots.length,S=_.subplots[0].length):(A&&(E=w.length),T&&(S=x.length));var P=h.newContainer(y,"grid"),F=q("rows",E),R=q("columns",S);if(F*R>1){C||T||A||q("pattern")==="independent"&&(C=!0),P._hasSubplotGrid=C;var N,D,I=q("roworder")==="top to bottom",B=C?.2:.1,j=C?.3:.1;O&&y._splomGridDflt&&(N=y._splomGridDflt.xside,D=y._splomGridDflt.yside),P._domains={x:g("x",q,B,N,R),y:g("y",q,j,D,F,I)}}else delete y.grid}function q(et,U){return l.coerce(_,P,d,et,U)}},contentDefaults:function(v,y){var _=y.grid;if(_&&_._domains){var x,w,E,S,C,T,A,O=v.grid||{},P=y._subplots,F=_._hasSubplotGrid,R=_.rows,N=_.columns,D=_.pattern==="independent",I=_._axisMap={};if(F){var B=O.subplots||[];T=_.subplots=new Array(R);var j=1;for(x=0;x<R;x++){var q=T[x]=new Array(N),et=B[x]||[];for(w=0;w<N;w++)if(D?(C=j===1?"xy":"x"+j+"y"+j,j++):C=et[w],q[w]="",P.cartesian.indexOf(C)!==-1){if(A=C.indexOf("y"),E=C.slice(0,A),S=C.slice(A),I[E]!==void 0&&I[E]!==w||I[S]!==void 0&&I[S]!==x)continue;q[w]=C,I[E]=w,I[S]=x}}}else{var U=p(y,O,"x"),Z=p(y,O,"y");_.xaxes=m(U,P.xaxis,N,I,"x"),_.yaxes=m(Z,P.yaxis,R,I,"y")}var rt=_._anchors={},ft=_.roworder==="top to bottom";for(var z in I){var W,X,it,lt=z.charAt(0),dt=_[lt+"side"];if(dt.length<8)rt[z]="free";else if(lt==="x"){if(dt.charAt(0)==="t"===ft?(W=0,X=1,it=R):(W=R-1,X=-1,it=-1),F){var nt=I[z];for(x=W;x!==it;x+=X)if((C=T[x][nt])&&(A=C.indexOf("y"),C.slice(0,A)===z)){rt[z]=C.slice(A);break}}else for(x=W;x!==it;x+=X)if(S=_.yaxes[x],P.cartesian.indexOf(z+S)!==-1){rt[z]=S;break}}else if(dt.charAt(0)==="l"?(W=0,X=1,it=N):(W=N-1,X=-1,it=-1),F){var V=I[z];for(x=W;x!==it;x+=X)if((C=T[V][x])&&(A=C.indexOf("y"),C.slice(A)===z)){rt[z]=C.slice(0,A);break}}else for(x=W;x!==it;x+=X)if(E=_.xaxes[x],P.cartesian.indexOf(E+z)!==-1){rt[z]=E;break}}}}}},9819:function(a,s,o){var l=o(5555),f=o(4467).templatedArray;o(4695),a.exports=f("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",l.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",l.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},5378:function(a,s,o){var l=o(2770),f=o(8163);a.exports=function(u,c,h,d){c=c||{};var p=h==="log"&&c.type==="linear",g=h==="linear"&&c.type==="log";if(p||g){for(var m,v,y=u._fullLayout.images,_=c._id.charAt(0),x=0;x<y.length;x++)if(v="images["+x+"].",(m=y[x])[_+"ref"]===c._id){var w=m[_],E=m["size"+_],S=null,C=null;if(p){S=f(w,c.range);var T=E/Math.pow(10,S)/2;C=2*Math.log(T+Math.sqrt(1+T*T))/Math.LN10}else C=(S=Math.pow(10,w))*(Math.pow(10,E/2)-Math.pow(10,-E/2));l(S)?l(C)||(C=null):(S=null,C=null),d(v+_,S),d(v+"size"+_,C)}}}},1603:function(a,s,o){var l=o(1828),f=o(9298),u=o(5501),c=o(9819);function h(d,p,g){function m(S,C){return l.coerce(d,p,c,S,C)}var v=m("source");if(!m("visible",!!v))return p;m("layer"),m("xanchor"),m("yanchor"),m("sizex"),m("sizey"),m("sizing"),m("opacity");for(var y={_fullLayout:g},_=["x","y"],x=0;x<2;x++){var w=_[x],E=f.coerceRef(d,p,y,w,"paper",void 0);E!=="paper"&&f.getFromId(y,E)._imgIndices.push(p._index),f.coercePosition(p,y,m,E,w,0)}return p}a.exports=function(d,p){u(d,p,{name:"images",handleItemDefaults:h})}},750:function(a,s,o){var l=o(9898),f=o(1424),u=o(9298),c=o(1675),h=o(7922);a.exports=function(d){var p,g,m=d._fullLayout,v=[],y={},_=[];for(g=0;g<m.images.length;g++){var x=m.images[g];if(x.visible)if(x.layer==="below"&&x.xref!=="paper"&&x.yref!=="paper"){p=c.ref2id(x.xref)+c.ref2id(x.yref);var w=m._plots[p];if(!w){_.push(x);continue}w.mainplot&&(p=w.mainplot.id),y[p]||(y[p]=[]),y[p].push(x)}else x.layer==="above"?v.push(x):_.push(x)}var E={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},S={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function C(N){var D=l.select(this);if(this._imgSrc!==N.source)if(D.attr("xmlns",h.svg),N.source&&N.source.slice(0,5)==="data:")D.attr("xlink:href",N.source),this._imgSrc=N.source;else{var I=new Promise(function(B){var j=new Image;function q(){D.remove(),B()}this.img=j,j.setAttribute("crossOrigin","anonymous"),j.onerror=q,j.onload=function(){var et=document.createElement("canvas");et.width=this.width,et.height=this.height,et.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var U=et.toDataURL("image/png");D.attr("xlink:href",U),B()},D.on("error",q),j.src=N.source,this._imgSrc=N.source}.bind(this));d._promises.push(I)}}function T(N){var D,I,B=l.select(this),j=u.getFromId(d,N.xref),q=u.getFromId(d,N.yref),et=u.getRefType(N.xref)==="domain",U=u.getRefType(N.yref)==="domain",Z=m._size;D=j!==void 0?typeof N.xref=="string"&&et?j._length*N.sizex:Math.abs(j.l2p(N.sizex)-j.l2p(0)):N.sizex*Z.w,I=q!==void 0?typeof N.yref=="string"&&U?q._length*N.sizey:Math.abs(q.l2p(N.sizey)-q.l2p(0)):N.sizey*Z.h;var rt,ft,z=D*E[N.xanchor].offset,W=I*S[N.yanchor].offset,X=E[N.xanchor].sizing+S[N.yanchor].sizing;switch(rt=j!==void 0?typeof N.xref=="string"&&et?j._length*N.x+j._offset:j.r2p(N.x)+j._offset:N.x*Z.w+Z.l,rt+=z,ft=q!==void 0?typeof N.yref=="string"&&U?q._length*(1-N.y)+q._offset:q.r2p(N.y)+q._offset:Z.h-N.y*Z.h+Z.t,ft+=W,N.sizing){case"fill":X+=" slice";break;case"stretch":X="none"}B.attr({x:rt,y:ft,width:D,height:I,preserveAspectRatio:X,opacity:N.opacity});var it=(j&&u.getRefType(N.xref)!=="domain"?j._id:"")+(q&&u.getRefType(N.yref)!=="domain"?q._id:"");f.setClipUrl(B,it?"clip"+m._uid+it:null,d)}var A=m._imageLowerLayer.selectAll("image").data(_),O=m._imageUpperLayer.selectAll("image").data(v);A.enter().append("image"),O.enter().append("image"),A.exit().remove(),O.exit().remove(),A.each(function(N){C.bind(this)(N),T.bind(this)(N)}),O.each(function(N){C.bind(this)(N),T.bind(this)(N)});var P=Object.keys(m._plots);for(g=0;g<P.length;g++){p=P[g];var F=m._plots[p];if(F.imagelayer){var R=F.imagelayer.selectAll("image").data(y[p]||[]);R.enter().append("image"),R.exit().remove(),R.each(function(N){C.bind(this)(N),T.bind(this)(N)})}}}},8804:function(a,s,o){a.exports={moduleType:"component",name:"images",layoutAttributes:o(9819),supplyLayoutDefaults:o(1603),includeBasePlot:o(6325)("images"),draw:o(750),convertCoords:o(5378)}},3030:function(a,s,o){var l=o(1940),f=o(2399);a.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:f.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:l({editType:"legend"}),grouptitlefont:l({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:l({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},4928:function(a){a.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},9017:function(a,s,o){var l=o(3972),f=o(1828),u=o(4467),c=o(9012),h=o(3030),d=o(820),p=o(130);function g(m,v,y,_){var x=v[m]||{},w=u.newContainer(y,m);function E(X,it){return f.coerce(x,w,h,X,it)}var S=f.coerceFont(E,"font",y.font);if(E("bgcolor",y.paper_bgcolor),E("bordercolor"),E("visible")){for(var C,T=function(X,it){var lt=C._input,dt=C;return f.coerce(lt,dt,c,X,it)},A=y.font||{},O=f.coerceFont(E,"grouptitlefont",f.extendFlat({},A,{size:Math.round(1.1*A.size)})),P=0,F=!1,R="normal",N=(y.shapes||[]).filter(function(X){return X.showlegend}),D=_.concat(N).filter(function(X){return m===(X.legend||"legend")}),I=0;I<D.length;I++)if((C=D[I]).visible){var B=C._isShape;(C.showlegend||C._dfltShowLegend&&!(C._module&&C._module.attributes&&C._module.attributes.showlegend&&C._module.attributes.showlegend.dflt===!1))&&(P++,C.showlegend&&(F=!0,(!B&&l.traceIs(C,"pie-like")||C._input.showlegend===!0)&&P++),f.coerceFont(T,"legendgrouptitle.font",O)),(!B&&l.traceIs(C,"bar")&&y.barmode==="stack"||["tonextx","tonexty"].indexOf(C.fill)!==-1)&&(R=p.isGrouped({traceorder:R})?"grouped+reversed":"reversed"),C.legendgroup!==void 0&&C.legendgroup!==""&&(R=p.isReversed({traceorder:R})?"reversed+grouped":"grouped")}var j=f.coerce(v,y,d,"showlegend",F&&P>(m==="legend"?1:0));if(j===!1&&(y[m]=void 0),(j!==!1||x.uirevision)&&(E("uirevision",y.uirevision),j!==!1)){E("borderwidth");var q,et,U,Z=E("orientation")==="h",rt=E("yref")==="paper",ft=E("xref")==="paper",z="left";if(Z?(q=0,l.getComponentMethod("rangeslider","isVisible")(v.xaxis)?rt?(et=1.1,U="bottom"):(et=1,U="top"):rt?(et=-.1,U="top"):(et=0,U="bottom")):(et=1,U="auto",ft?q=1.02:(q=1,z="right")),f.coerce(x,w,{x:{valType:"number",editType:"legend",min:ft?-2:0,max:ft?3:1,dflt:q}},"x"),f.coerce(x,w,{y:{valType:"number",editType:"legend",min:rt?-2:0,max:rt?3:1,dflt:et}},"y"),E("traceorder",R),p.isGrouped(y[m])&&E("tracegroupgap"),E("entrywidth"),E("entrywidthmode"),E("itemsizing"),E("itemwidth"),E("itemclick"),E("itemdoubleclick"),E("groupclick"),E("xanchor",z),E("yanchor",U),E("valign"),f.noneOrAll(x,w,["x","y"]),E("title.text")){E("title.side",Z?"left":"top");var W=f.extendFlat({},S,{size:f.bigFont(S.size)});f.coerceFont(E,"title.font",W)}}}}a.exports=function(m,v,y){var _,x=y.slice(),w=v.shapes;if(w)for(_=0;_<w.length;_++){var E=w[_];if(E.showlegend){var S={_input:E._input,visible:E.visible,showlegend:E.showlegend,legend:E.legend};x.push(S)}}var C=["legend"];for(_=0;_<x.length;_++)f.pushUnique(C,x[_].legend);for(v._legends=[],_=0;_<C.length;_++){var T=C[_];g(T,m,v,x),v[T]&&v[T].visible&&(v[T]._id=T),v._legends.push(T)}}},3969:function(a,s,o){var l=o(9898),f=o(1828),u=o(4875),c=o(3972),h=o(1086),d=o(8569),p=o(1424),g=o(7901),m=o(3893),v=o(5167),y=o(4928),_=o(8783),x=_.LINE_SPACING,w=_.FROM_TL,E=_.FROM_BR,S=o(2424),C=o(3630),T=o(130),A=1,O=/^legend[0-9]*$/;function P(U,Z){var rt,ft,z=Z||{},W=U._fullLayout,X=et(z),it=z._inHover;if(it?(ft=z.layer,rt="hover"):(ft=W._infolayer,rt=X),ft){var lt;if(rt+=W._uid,U._legendMouseDownTime||(U._legendMouseDownTime=0),it){if(!z.entries)return;lt=S(z.entries,z)}else{for(var dt=(U.calcdata||[]).slice(),nt=W.shapes,V=0;V<nt.length;V++){var G=nt[V];if(G.showlegend){var H={_isShape:!0,_fullInput:G,index:G._index,name:G.name||G.label.text||"shape "+G._index,legend:G.legend,legendgroup:G.legendgroup,legendgrouptitle:G.legendgrouptitle,legendrank:G.legendrank,legendwidth:G.legendwidth,showlegend:G.showlegend,visible:G.visible,opacity:G.opacity,mode:G.type==="line"?"lines":"markers",line:G.line,marker:{line:G.line,color:G.fillcolor,size:12,symbol:G.type==="rect"?"square":G.type==="circle"?"circle":"hexagon2"}};dt.push([{trace:H}])}}lt=W.showlegend&&S(dt,z,W._legends.length>1)}var $=W.hiddenlabels||[];if(!(it||W.showlegend&&lt.length))return ft.selectAll("."+X).remove(),W._topdefs.select("#"+rt).remove(),u.autoMargin(U,X);var J=f.ensureSingle(ft,"g",X,function(pt){it||pt.attr("pointer-events","all")}),Q=f.ensureSingleById(W._topdefs,"clipPath",rt,function(pt){pt.append("rect")}),ot=f.ensureSingle(J,"rect","bg",function(pt){pt.attr("shape-rendering","crispEdges")});ot.call(g.stroke,z.bordercolor).call(g.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px");var st,ht=f.ensureSingle(J,"g","scrollbox"),xt=z.title;z._titleWidth=0,z._titleHeight=0,xt.text?((st=f.ensureSingle(ht,"text",X+"titletext")).attr("text-anchor","start").call(p.font,xt.font).text(xt.text),B(st,ht,U,z,A)):ht.selectAll("."+X+"titletext").remove();var Pt=f.ensureSingle(J,"rect","scrollbar",function(pt){pt.attr(y.scrollBarEnterAttrs).call(g.fill,y.scrollBarColor)}),It=ht.selectAll("g.groups").data(lt);It.enter().append("g").attr("class","groups"),It.exit().remove();var zt=It.selectAll("g.traces").data(f.identity);zt.enter().append("g").attr("class","traces"),zt.exit().remove(),zt.style("opacity",function(pt){var yt=pt[0].trace;return c.traceIs(yt,"pie-like")?$.indexOf(pt[0].label)!==-1?.5:1:yt.visible==="legendonly"?.5:1}).each(function(){l.select(this).call(N,U,z)}).call(C,U,z).each(function(){it||l.select(this).call(I,U,X)}),f.syncOrAsync([u.previousPromises,function(){return function(pt,yt,wt,St){var Ut=pt._fullLayout,Gt=et(St);St||(St=Ut[Gt]);var mt=Ut._size,Tt=T.isVertical(St),At=T.isGrouped(St),Et=St.entrywidthmode==="fraction",Mt=St.borderwidth,Nt=2*Mt,Ft=y.itemGap,Lt=St.itemwidth+2*Ft,Dt=2*(Mt+Ft),kt=q(St),Wt=St.y<0||St.y===0&&kt==="top",Qt=St.y>1||St.y===1&&kt==="bottom",Ht=St.tracegroupgap,oe={};St._maxHeight=Math.max(Wt||Qt?Ut.height/2:mt.h,30);var ce=0;St._width=0,St._height=0;var pe=function(Xt){var ee=0,re=0,fe=Xt.title.side;return fe&&(fe.indexOf("left")!==-1&&(ee=Xt._titleWidth),fe.indexOf("top")!==-1&&(re=Xt._titleHeight)),[ee,re]}(St);if(Tt)wt.each(function(Xt){var ee=Xt[0].height;p.setTranslate(this,Mt+pe[0],Mt+pe[1]+St._height+ee/2+Ft),St._height+=ee,St._width=Math.max(St._width,Xt[0].width)}),ce=Lt+St._width,St._width+=Ft+Lt+Nt,St._height+=Dt,At&&(yt.each(function(Xt,ee){p.setTranslate(this,0,ee*St.tracegroupgap)}),St._height+=(St._lgroupsLength-1)*St.tracegroupgap);else{var we=j(St),Le=St.x<0||St.x===0&&we==="right",jt=St.x>1||St.x===1&&we==="left",Rt=Qt||Wt,te=Ut.width/2;St._maxWidth=Math.max(Le?Rt&&we==="left"?mt.l+mt.w:te:jt?Rt&&we==="right"?mt.r+mt.w:te:mt.w,2*Lt);var ae=0,Se=0;wt.each(function(Xt){var ee=F(Xt,St,Lt);ae=Math.max(ae,ee),Se+=ee}),ce=null;var ne=0;if(At){var ge=0,xe=0,Fe=0;yt.each(function(){var Xt=0,ee=0;l.select(this).selectAll("g.traces").each(function(fe){var ye=F(fe,St,Lt),se=fe[0].height;p.setTranslate(this,pe[0],pe[1]+Mt+Ft+se/2+ee),ee+=se,Xt=Math.max(Xt,ye),oe[fe[0].trace.legendgroup]=Xt});var re=Xt+Ft;xe>0&&re+Mt+xe>St._maxWidth?(ne=Math.max(ne,xe),xe=0,Fe+=ge+Ht,ge=ee):ge=Math.max(ge,ee),p.setTranslate(this,xe,Fe),xe+=re}),St._width=Math.max(ne,xe)+Mt,St._height=Fe+ge+Dt}else{var Ae=wt.size(),$e=Se+Nt+(Ae-1)*Ft<St._maxWidth,Me=0,ct=0,gt=0,qt=0;wt.each(function(Xt){var ee=Xt[0].height,re=F(Xt,St,Lt),fe=$e?re:ae;Et||(fe+=Ft),fe+Mt+ct-Ft>=St._maxWidth&&(ne=Math.max(ne,qt),ct=0,gt+=Me,St._height+=Me,Me=0),p.setTranslate(this,pe[0]+Mt+ct,pe[1]+Mt+gt+ee/2+Ft),qt=ct+re+Ft,ct+=fe,Me=Math.max(Me,ee)}),$e?(St._width=ct+Nt,St._height=Me+Dt):(St._width=Math.max(ne,qt)+Nt,St._height+=Me+Dt)}}St._width=Math.ceil(Math.max(St._width+pe[0],St._titleWidth+2*(Mt+y.titlePad))),St._height=Math.ceil(Math.max(St._height+pe[1],St._titleHeight+2*(Mt+y.itemGap))),St._effHeight=Math.min(St._height,St._maxHeight);var Vt=pt._context.edits,Jt=Vt.legendText||Vt.legendPosition;wt.each(function(Xt){var ee=l.select(this).select("."+Gt+"toggle"),re=Xt[0].height,fe=Xt[0].trace.legendgroup,ye=F(Xt,St,Lt);At&&fe!==""&&(ye=oe[fe]);var se=Jt?Lt:ce||ye;Tt||Et||(se+=Ft/2),p.setRect(ee,0,-re/2,se,re)})}(U,It,zt,z)},function(){var pt,yt,wt,St,Ut=W._size,Gt=z.borderwidth,mt=z.xref==="paper",Tt=z.yref==="paper";if(xt.text&&function(Rt,te,ae){if(te.title.side==="top center"||te.title.side==="top right"){var Se=te.title.font.size*x,ne=0,ge=Rt.node(),xe=p.bBox(ge).width;te.title.side==="top center"?ne=.5*(te._width-2*ae-2*y.titlePad-xe):te.title.side==="top right"&&(ne=te._width-2*ae-2*y.titlePad-xe),m.positionText(Rt,ae+y.titlePad+ne,ae+Se)}}(st,z,Gt),!it){var At,Et;At=mt?Ut.l+Ut.w*z.x-w[j(z)]*z._width:W.width*z.x-w[j(z)]*z._width,Et=Tt?Ut.t+Ut.h*(1-z.y)-w[q(z)]*z._effHeight:W.height*(1-z.y)-w[q(z)]*z._effHeight;var Mt=function(Rt,te,ae,Se){var ne=Rt._fullLayout,ge=ne[te],xe=j(ge),Fe=q(ge),Ae=ge.xref==="paper",$e=ge.yref==="paper";Rt._fullLayout._reservedMargin[te]={};var Me=ge.y<.5?"b":"t",ct=ge.x<.5?"l":"r",gt={r:ne.width-ae,l:ae+ge._width,b:ne.height-Se,t:Se+ge._effHeight};if(Ae&&$e)return u.autoMargin(Rt,te,{x:ge.x,y:ge.y,l:ge._width*w[xe],r:ge._width*E[xe],b:ge._effHeight*E[Fe],t:ge._effHeight*w[Fe]});Ae?Rt._fullLayout._reservedMargin[te][Me]=gt[Me]:$e||ge.orientation==="v"?Rt._fullLayout._reservedMargin[te][ct]=gt[ct]:Rt._fullLayout._reservedMargin[te][Me]=gt[Me]}(U,X,At,Et);if(Mt)return;if(W.margin.autoexpand){var Nt=At,Ft=Et;At=mt?f.constrain(At,0,W.width-z._width):Nt,Et=Tt?f.constrain(Et,0,W.height-z._effHeight):Ft,At!==Nt&&f.log("Constrain "+X+".x to make legend fit inside graph"),Et!==Ft&&f.log("Constrain "+X+".y to make legend fit inside graph")}p.setTranslate(J,At,Et)}if(Pt.on(".drag",null),J.on("wheel",null),it||z._height<=z._maxHeight||U._context.staticPlot){var Lt=z._effHeight;it&&(Lt=z._height),ot.attr({width:z._width-Gt,height:Lt-Gt,x:Gt/2,y:Gt/2}),p.setTranslate(ht,0,0),Q.select("rect").attr({width:z._width-2*Gt,height:Lt-2*Gt,x:Gt,y:Gt}),p.setClipUrl(ht,rt,U),p.setRect(Pt,0,0,0,0),delete z._scrollY}else{var Dt,kt,Wt,Qt=Math.max(y.scrollBarMinHeight,z._effHeight*z._effHeight/z._height),Ht=z._effHeight-Qt-2*y.scrollBarMargin,oe=z._height-z._effHeight,ce=Ht/oe,pe=Math.min(z._scrollY||0,oe);ot.attr({width:z._width-2*Gt+y.scrollBarWidth+y.scrollBarMargin,height:z._effHeight-Gt,x:Gt/2,y:Gt/2}),Q.select("rect").attr({width:z._width-2*Gt+y.scrollBarWidth+y.scrollBarMargin,height:z._effHeight-2*Gt,x:Gt,y:Gt+pe}),p.setClipUrl(ht,rt,U),jt(pe,Qt,ce),J.on("wheel",function(){jt(pe=f.constrain(z._scrollY+l.event.deltaY/Ht*oe,0,oe),Qt,ce),pe!==0&&pe!==oe&&l.event.preventDefault()});var we=l.behavior.drag().on("dragstart",function(){var Rt=l.event.sourceEvent;Dt=Rt.type==="touchstart"?Rt.changedTouches[0].clientY:Rt.clientY,Wt=pe}).on("drag",function(){var Rt=l.event.sourceEvent;Rt.buttons===2||Rt.ctrlKey||(kt=Rt.type==="touchmove"?Rt.changedTouches[0].clientY:Rt.clientY,pe=function(te,ae,Se){var ne=(Se-ae)/ce+te;return f.constrain(ne,0,oe)}(Wt,Dt,kt),jt(pe,Qt,ce))});Pt.call(we);var Le=l.behavior.drag().on("dragstart",function(){var Rt=l.event.sourceEvent;Rt.type==="touchstart"&&(Dt=Rt.changedTouches[0].clientY,Wt=pe)}).on("drag",function(){var Rt=l.event.sourceEvent;Rt.type==="touchmove"&&(kt=Rt.changedTouches[0].clientY,pe=function(te,ae,Se){var ne=(ae-Se)/ce+te;return f.constrain(ne,0,oe)}(Wt,Dt,kt),jt(pe,Qt,ce))});ht.call(Le)}function jt(Rt,te,ae){z._scrollY=U._fullLayout[X]._scrollY=Rt,p.setTranslate(ht,0,-Rt),p.setRect(Pt,z._width,y.scrollBarMargin+Rt*ae,y.scrollBarWidth,te),Q.select("rect").attr("y",Gt+Rt)}U._context.edits.legendPosition&&(J.classed("cursor-move",!0),d.init({element:J.node(),gd:U,prepFn:function(){var Rt=p.getTranslate(J);wt=Rt.x,St=Rt.y},moveFn:function(Rt,te){var ae=wt+Rt,Se=St+te;p.setTranslate(J,ae,Se),pt=d.align(ae,z._width,Ut.l,Ut.l+Ut.w,z.xanchor),yt=d.align(Se+z._height,-z._height,Ut.t+Ut.h,Ut.t,z.yanchor)},doneFn:function(){if(pt!==void 0&&yt!==void 0){var Rt={};Rt[X+".x"]=pt,Rt[X+".y"]=yt,c.call("_guiRelayout",U,Rt)}},clickFn:function(Rt,te){var ae=ft.selectAll("g.traces").filter(function(){var Se=this.getBoundingClientRect();return te.clientX>=Se.left&&te.clientX<=Se.right&&te.clientY>=Se.top&&te.clientY<=Se.bottom});ae.size()>0&&R(U,J,ae,Rt,te)}}))}],U)}}function F(U,Z,rt){var ft=U[0],z=ft.width,W=Z.entrywidthmode,X=ft.trace.legendwidth||Z.entrywidth;return W==="fraction"?Z._maxWidth*X:rt+(X||z)}function R(U,Z,rt,ft,z){var W=rt.data()[0][0].trace,X={event:z,node:rt.node(),curveNumber:W.index,expandedIndex:W._expandedIndex,data:U.data,layout:U.layout,frames:U._transitionData._frames,config:U._context,fullData:U._fullData,fullLayout:U._fullLayout};W._group&&(X.group=W._group),c.traceIs(W,"pie-like")&&(X.label=rt.datum()[0].label);var it=h.triggerHandler(U,"plotly_legendclick",X);if(ft===1){if(it===!1)return;Z._clickTimeout=setTimeout(function(){U._fullLayout&&v(rt,U,ft)},U._context.doubleClickDelay)}else ft===2&&(Z._clickTimeout&&clearTimeout(Z._clickTimeout),U._legendMouseDownTime=0,h.triggerHandler(U,"plotly_legenddoubleclick",X)!==!1&&it!==!1&&v(rt,U,ft))}function N(U,Z,rt){var ft,z,W=et(rt),X=U.data()[0][0],it=X.trace,lt=c.traceIs(it,"pie-like"),dt=!rt._inHover&&Z._context.edits.legendText&&!lt,nt=rt._maxNameLength;X.groupTitle?(ft=X.groupTitle.text,z=X.groupTitle.font):(z=rt.font,rt.entries?ft=X.text:(ft=lt?X.label:it.name,it._meta&&(ft=f.templateString(ft,it._meta))));var V=f.ensureSingle(U,"text",W+"text");V.attr("text-anchor","start").call(p.font,z).text(dt?D(ft,nt):ft);var G=rt.itemwidth+2*y.itemGap;m.positionText(V,G,0),dt?V.call(m.makeEditable,{gd:Z,text:ft}).call(B,U,Z,rt).on("edit",function(H){this.text(D(H,nt)).call(B,U,Z,rt);var $=X.trace._fullInput||{},J={};if(c.hasTransform($,"groupby")){var Q=c.getTransformIndices($,"groupby"),ot=Q[Q.length-1],st=f.keyedContainer($,"transforms["+ot+"].styles","target","value.name");st.set(X.trace._group,H),J=st.constructUpdate()}else J.name=H;return $._isShape?c.call("_guiRelayout",Z,"shapes["+it.index+"].name",J.name):c.call("_guiRestyle",Z,J,it.index)}):B(V,U,Z,rt)}function D(U,Z){var rt=Math.max(4,Z);if(U&&U.trim().length>=rt/2)return U;for(var ft=rt-(U=U||"").length;ft>0;ft--)U+=" ";return U}function I(U,Z,rt){var ft,z=Z._context.doubleClickDelay,W=1,X=f.ensureSingle(U,"rect",rt+"toggle",function(it){Z._context.staticPlot||it.style("cursor","pointer").attr("pointer-events","all"),it.call(g.fill,"rgba(0,0,0,0)")});Z._context.staticPlot||(X.on("mousedown",function(){(ft=new Date().getTime())-Z._legendMouseDownTime<z?W+=1:(W=1,Z._legendMouseDownTime=ft)}),X.on("mouseup",function(){if(!Z._dragged&&!Z._editing){var it=Z._fullLayout[rt];new Date().getTime()-Z._legendMouseDownTime>z&&(W=Math.max(W-1,1)),R(Z,it,U,W,l.event)}}))}function B(U,Z,rt,ft,z){ft._inHover&&U.attr("data-notex",!0),m.convertToTspans(U,rt,function(){(function(W,X,it,lt){var dt=W.data()[0][0];if(it._inHover||!dt||dt.trace.showlegend){var nt=W.select("g[class*=math-group]"),V=nt.node(),G=et(it);it||(it=X._fullLayout[G]);var H,$,J=it.borderwidth,Q=(lt===A?it.title.font:dt.groupTitle?dt.groupTitle.font:it.font).size*x;if(V){var ot=p.bBox(V);H=ot.height,$=ot.width,lt===A?p.setTranslate(nt,J,J+.75*H):p.setTranslate(nt,0,.25*H)}else{var st="."+G+(lt===A?"title":"")+"text",ht=W.select(st),xt=m.lineCount(ht),Pt=ht.node();if(H=Q*xt,$=Pt?p.bBox(Pt).width:0,lt===A)it.title.side==="left"&&($+=2*y.itemGap),m.positionText(ht,J+y.titlePad,J+Q);else{var It=2*y.itemGap+it.itemwidth;dt.groupTitle&&(It=y.itemGap,$-=it.itemwidth),m.positionText(ht,It,-Q*((xt-1)/2-.3))}}lt===A?(it._titleWidth=$,it._titleHeight=H):(dt.lineHeight=Q,dt.height=Math.max(H,16)+3,dt.width=$)}else W.remove()})(Z,rt,ft,z)})}function j(U){return f.isRightAnchor(U)?"right":f.isCenterAnchor(U)?"center":"left"}function q(U){return f.isBottomAnchor(U)?"bottom":f.isMiddleAnchor(U)?"middle":"top"}function et(U){return U._id||"legend"}a.exports=function(U,Z){if(Z)P(U,Z);else{var rt=U._fullLayout,ft=rt._legends;rt._infolayer.selectAll('[class^="legend"]').each(function(){var X=l.select(this),it=X.attr("class").split(" ")[0];it.match(O)&&ft.indexOf(it)===-1&&X.remove()});for(var z=0;z<ft.length;z++){var W=ft[z];P(U,U._fullLayout[W])}}}},2424:function(a,s,o){var l=o(3972),f=o(130);a.exports=function(u,c,h){var d,p,g=c._inHover,m=f.isGrouped(c),v=f.isReversed(c),y={},_=[],x=!1,w={},E=0,S=0;function C(ft,z,W){if(c.visible!==!1&&(!h||ft===c._id))if(z!==""&&f.isGrouped(c))_.indexOf(z)===-1?(_.push(z),x=!0,y[z]=[W]):y[z].push(W);else{var X="~~i"+E;_.push(X),y[X]=[W],E++}}for(d=0;d<u.length;d++){var T=u[d],A=T[0],O=A.trace,P=O.legend,F=O.legendgroup;if(g||O.visible&&O.showlegend)if(l.traceIs(O,"pie-like"))for(w[F]||(w[F]={}),p=0;p<T.length;p++){var R=T[p].label;w[F][R]||(C(P,F,{label:R,color:T[p].color,i:T[p].i,trace:O,pts:T[p].pts}),w[F][R]=!0,S=Math.max(S,(R||"").length))}else C(P,F,A),S=Math.max(S,(O.name||"").length)}if(!_.length)return[];var N=!x||!m,D=[];for(d=0;d<_.length;d++){var I=y[_[d]];N?D.push(I[0]):D.push(I)}for(N&&(D=[D]),d=0;d<D.length;d++){var B=1/0;for(p=0;p<D[d].length;p++){var j=D[d][p].trace.legendrank;B>j&&(B=j)}D[d][0]._groupMinRank=B,D[d][0]._preGroupSort=d}var q=function(ft,z){return ft.trace.legendrank-z.trace.legendrank||ft._preSort-z._preSort};for(D.forEach(function(ft,z){ft[0]._preGroupSort=z}),D.sort(function(ft,z){return ft[0]._groupMinRank-z[0]._groupMinRank||ft[0]._preGroupSort-z[0]._preGroupSort}),d=0;d<D.length;d++){D[d].forEach(function(ft,z){ft._preSort=z}),D[d].sort(q);var et=D[d][0].trace,U=null;for(p=0;p<D[d].length;p++){var Z=D[d][p].trace.legendgrouptitle;if(Z&&Z.text){U=Z,g&&(Z.font=c._groupTitleFont);break}}if(v&&D[d].reverse(),U){var rt=!1;for(p=0;p<D[d].length;p++)if(l.traceIs(D[d][p].trace,"pie-like")){rt=!0;break}D[d].unshift({i:-1,groupTitle:U,noClick:rt,trace:{showlegend:et.showlegend,legendgroup:et.legendgroup,visible:c.groupclick==="toggleitem"||et.visible}})}for(p=0;p<D[d].length;p++)D[d][p]=[D[d][p]]}return c._lgroupsLength=D.length,c._maxNameLength=S,D}},5167:function(a,s,o){var l=o(3972),f=o(1828),u=f.pushUnique,c=!0;a.exports=function(h,d,p){var g=d._fullLayout;if(!d._dragged&&!d._editing){var m,v=g.legend.itemclick,y=g.legend.itemdoubleclick,_=g.legend.groupclick;if(p===1&&v==="toggle"&&y==="toggleothers"&&c&&d.data&&d._context.showTips&&f.notifier(f._(d,"Double-click on legend to isolate one trace"),"long"),c=!1,p===1?m=v:p===2&&(m=y),m){var x=_==="togglegroup",w=g.hiddenlabels?g.hiddenlabels.slice():[],E=h.data()[0][0];if(!E.groupTitle||!E.noClick){var S=d._fullData,C=(g.shapes||[]).filter(function(yt){return yt.showlegend}),T=S.concat(C),A=E.trace;A._isShape&&(A=A._fullInput);var O,P,F,R,N,D=A.legendgroup,I={},B=[],j=[],q=[],et=(g.shapes||[]).map(function(yt){return yt._input}),U=!1,Z=A.legend,rt=A._fullInput;if(rt&&rt._isShape||!l.traceIs(A,"pie-like")){var ft,z=D&&D.length,W=[];if(z)for(O=0;O<T.length;O++)(ft=T[O]).visible&&ft.legendgroup===D&&W.push(O);if(m==="toggle"){var X;switch(A.visible){case!0:X="legendonly";break;case!1:X=!1;break;case"legendonly":X=!0}if(z)if(x)for(O=0;O<T.length;O++){var it=T[O];it.visible!==!1&&it.legendgroup===D&&pt(it,X)}else pt(A,X);else pt(A,X)}else if(m==="toggleothers"){var lt,dt,nt,V,G=!0;for(O=0;O<T.length;O++)if(lt=(V=T[O])===A,dt=V.showlegend!==!0,!(lt||dt||z&&V.legendgroup===D||V.legend!==Z||V.visible!==!0||l.traceIs(V,"notLegendIsolatable"))){G=!1;break}for(O=0;O<T.length;O++)if((V=T[O]).visible!==!1&&V.legend===Z&&!l.traceIs(V,"notLegendIsolatable"))switch(A.visible){case"legendonly":pt(V,!0);break;case!0:nt=!!G||"legendonly",lt=V===A,dt=V.showlegend!==!0&&!V.legendgroup,pt(V,!!(lt||z&&V.legendgroup===D||dt)||nt)}}for(O=0;O<j.length;O++)if(F=j[O]){var H=F.constructUpdate(),$=Object.keys(H);for(P=0;P<$.length;P++)R=$[P],(I[R]=I[R]||[])[q[O]]=H[R]}for(N=Object.keys(I),O=0;O<N.length;O++)for(R=N[O],P=0;P<B.length;P++)I[R].hasOwnProperty(P)||(I[R][P]=void 0);U?l.call("_guiUpdate",d,I,{shapes:et},B):l.call("_guiRestyle",d,I,B)}else{var J=E.label,Q=w.indexOf(J);if(m==="toggle")Q===-1?w.push(J):w.splice(Q,1);else if(m==="toggleothers"){var ot=Q!==-1,st=[];for(O=0;O<d.calcdata.length;O++){var ht=d.calcdata[O];for(P=0;P<ht.length;P++){var xt=ht[P].label;Z===ht[0].trace.legend&&J!==xt&&(w.indexOf(xt)===-1&&(ot=!0),u(w,xt),st.push(xt))}}if(!ot)for(var Pt=0;Pt<st.length;Pt++){var It=w.indexOf(st[Pt]);It!==-1&&w.splice(It,1)}}l.call("_guiRelayout",d,"hiddenlabels",w)}}}}function zt(yt,wt){var St=B.indexOf(yt),Ut=I.visible;return Ut||(Ut=I.visible=[]),B.indexOf(yt)===-1&&(B.push(yt),St=B.length-1),Ut[St]=wt,St}function pt(yt,wt){if(!E.groupTitle||x){var St,Ut=yt._fullInput||yt,Gt=Ut._isShape,mt=Ut.index;if(mt===void 0&&(mt=Ut._index),l.hasTransform(Ut,"groupby")){var Tt=j[mt];if(!Tt){var At=l.getTransformIndices(Ut,"groupby"),Et=At[At.length-1];Tt=f.keyedContainer(Ut,"transforms["+Et+"].styles","target","value.visible"),j[mt]=Tt}var Mt=Tt.get(yt._group);Mt===void 0&&(Mt=!0),Mt!==!1&&Tt.set(yt._group,wt),q[mt]=zt(mt,Ut.visible!==!1)}else{var Nt=Ut.visible!==!1&&wt;Gt?(St=Nt,et[mt].visible=St,U=!0):zt(mt,Nt)}}}}},130:function(a,s){s.isGrouped=function(o){return(o.traceorder||"").indexOf("grouped")!==-1},s.isVertical=function(o){return o.orientation!=="h"},s.isReversed=function(o){return(o.traceorder||"").indexOf("reversed")!==-1}},2199:function(a,s,o){a.exports={moduleType:"component",name:"legend",layoutAttributes:o(3030),supplyLayoutDefaults:o(9017),draw:o(3969),style:o(3630)}},3630:function(a,s,o){var l=o(9898),f=o(3972),u=o(1828),c=u.strTranslate,h=o(1424),d=o(7901),p=o(2869).extractOpts,g=o(4098),m=o(3463),v=o(3581).castOption,y=o(4928);function _(E,S){return(S?"radial":"horizontal")+(E?"":"reversed")}function x(E){var S=E[0].trace,C=S.contours,T=g.hasLines(S),A=g.hasMarkers(S),O=S.visible&&S.fill&&S.fill!=="none",P=!1,F=!1;if(C){var R=C.coloring;R==="lines"?P=!0:T=R==="none"||R==="heatmap"||C.showlines,C.type==="constraint"?O=C._operation!=="=":R!=="fill"&&R!=="heatmap"||(F=!0)}return{showMarker:A,showLine:T,showFill:O,showGradientLine:P,showGradientFill:F,anyLine:T||P,anyFill:O||F}}function w(E,S,C){return E&&u.isArrayOrTypedArray(E)?S:E>C?C:E}a.exports=function(E,S,C){var T=S._fullLayout;C||(C=T.legend);var A=C.itemsizing==="constant",O=C.itemwidth,P=(O+2*y.itemGap)/2,F=c(P,0),R=function(I,B,j,q){var et;if(I+1)et=I;else{if(!(B&&B.width>0))return 0;et=B.width}return A?q:Math.min(et,j)};function N(I,B,j){var q=I[0].trace,et=q.marker||{},U=et.line||{},Z=j?q.visible&&q.type===j:f.traceIs(q,"bar"),rt=l.select(B).select("g.legendpoints").selectAll("path.legend"+j).data(Z?[I]:[]);rt.enter().append("path").classed("legend"+j,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",F),rt.exit().remove(),rt.each(function(ft){var z=l.select(this),W=ft[0],X=R(W.mlw,et.line,5,2);z.style("stroke-width",X+"px");var it=W.mcc;if(!C._inHover&&"mc"in W){var lt=p(et),dt=lt.mid;dt===void 0&&(dt=(lt.max+lt.min)/2),it=h.tryColorscale(et,"")(dt)}var nt=it||W.mc||et.color,V=et.pattern,G=V&&h.getPatternAttr(V.shape,0,"");if(G){var H=h.getPatternAttr(V.bgcolor,0,null),$=h.getPatternAttr(V.fgcolor,0,null),J=V.fgopacity,Q=w(V.size,8,10),ot=w(V.solidity,.5,1),st="legend-"+q.uid;z.call(h.pattern,"legend",S,st,G,Q,ot,it,V.fillmode,H,$,J)}else z.call(d.fill,nt);X&&d.stroke(z,W.mlc||U.color)})}function D(I,B,j){var q=I[0],et=q.trace,U=j?et.visible&&et.type===j:f.traceIs(et,j),Z=l.select(B).select("g.legendpoints").selectAll("path.legend"+j).data(U?[I]:[]);if(Z.enter().append("path").classed("legend"+j,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",F),Z.exit().remove(),Z.size()){var rt=et.marker||{},ft=R(v(rt.line.width,q.pts),rt.line,5,2),z="pieLike",W=u.minExtend(et,{marker:{line:{width:ft}}},z),X=u.minExtend(q,{trace:W},z);m(Z,X,W,S)}}E.each(function(I){var B=l.select(this),j=u.ensureSingle(B,"g","layers");j.style("opacity",I[0].trace.opacity);var q=C.valign,et=I[0].lineHeight,U=I[0].height;if(q!=="middle"&&et&&U){var Z={top:1,bottom:-1}[q]*(.5*(et-U+3));j.attr("transform",c(0,Z))}else j.attr("transform",null);j.selectAll("g.legendfill").data([I]).enter().append("g").classed("legendfill",!0),j.selectAll("g.legendlines").data([I]).enter().append("g").classed("legendlines",!0);var rt=j.selectAll("g.legendsymbols").data([I]);rt.enter().append("g").classed("legendsymbols",!0),rt.selectAll("g.legendpoints").data([I]).enter().append("g").classed("legendpoints",!0)}).each(function(I){var B,j=I[0].trace,q=[];if(j.visible)switch(j.type){case"histogram2d":case"heatmap":q=[["M-15,-2V4H15V-2Z"]],B=!0;break;case"choropleth":case"choroplethmapbox":q=[["M-6,-6V6H6V-6Z"]],B=!0;break;case"densitymapbox":q=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],B="radial";break;case"cone":q=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],B=!1;break;case"streamtube":q=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],B=!1;break;case"surface":q=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],B=!0;break;case"mesh3d":q=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],B=!1;break;case"volume":q=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],B=!0;break;case"isosurface":q=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],B=!1}var et=l.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(q);et.enter().append("path").classed("legend3dandfriends",!0).attr("transform",F).style("stroke-miterlimit",1),et.exit().remove(),et.each(function(U,Z){var rt,ft=l.select(this),z=p(j),W=z.colorscale,X=z.reversescale;if(W){if(!B){var it=W.length;rt=Z===0?W[X?it-1:0][1]:Z===1?W[X?0:it-1][1]:W[Math.floor((it-1)/2)][1]}}else{var lt=j.vertexcolor||j.facecolor||j.color;rt=u.isArrayOrTypedArray(lt)?lt[Z]||lt[0]:lt}ft.attr("d",U[0]),rt?ft.call(d.fill,rt):ft.call(function(dt){if(dt.size()){var nt="legendfill-"+j.uid;h.gradient(dt,S,nt,_(X,B==="radial"),W,"fill")}})})}).each(function(I){var B=I[0].trace,j=B.type==="waterfall";if(I[0]._distinct&&j){var q=I[0].trace[I[0].dir].marker;return I[0].mc=q.color,I[0].mlw=q.line.width,I[0].mlc=q.line.color,N(I,this,"waterfall")}var et=[];B.visible&&j&&(et=I[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var U=l.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(et);U.enter().append("path").classed("legendwaterfall",!0).attr("transform",F).style("stroke-miterlimit",1),U.exit().remove(),U.each(function(Z){var rt=l.select(this),ft=B[Z[0]].marker,z=R(void 0,ft.line,5,2);rt.attr("d",Z[1]).style("stroke-width",z+"px").call(d.fill,ft.color),z&&rt.call(d.stroke,ft.line.color)})}).each(function(I){N(I,this,"funnel")}).each(function(I){N(I,this)}).each(function(I){var B=I[0].trace,j=l.select(this).select("g.legendpoints").selectAll("path.legendbox").data(B.visible&&f.traceIs(B,"box-violin")?[I]:[]);j.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",F),j.exit().remove(),j.each(function(){var q=l.select(this);if(B.boxpoints!=="all"&&B.points!=="all"||d.opacity(B.fillcolor)!==0||d.opacity((B.line||{}).color)!==0){var et=R(void 0,B.line,5,2);q.style("stroke-width",et+"px").call(d.fill,B.fillcolor),et&&d.stroke(q,B.line.color)}else{var U=u.minExtend(B,{marker:{size:A?12:u.constrain(B.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});j.call(h.pointStyle,U,S)}})}).each(function(I){D(I,this,"funnelarea")}).each(function(I){D(I,this,"pie")}).each(function(I){var B,j,q=x(I),et=q.showFill,U=q.showLine,Z=q.showGradientLine,rt=q.showGradientFill,ft=q.anyFill,z=q.anyLine,W=I[0],X=W.trace,it=p(X),lt=it.colorscale,dt=it.reversescale,nt=g.hasMarkers(X)||!ft?"M5,0":z?"M5,-2":"M5,-3",V=l.select(this),G=V.select(".legendfill").selectAll("path").data(et||rt?[I]:[]);if(G.enter().append("path").classed("js-fill",!0),G.exit().remove(),G.attr("d",nt+"h"+O+"v6h-"+O+"z").call(function(J){if(J.size())if(et)h.fillGroupStyle(J,S);else{var Q="legendfill-"+X.uid;h.gradient(J,S,Q,_(dt),lt,"fill")}}),U||Z){var H=R(void 0,X.line,10,5);j=u.minExtend(X,{line:{width:H}}),B=[u.minExtend(W,{trace:j})]}var $=V.select(".legendlines").selectAll("path").data(U||Z?[B]:[]);$.enter().append("path").classed("js-line",!0),$.exit().remove(),$.attr("d",nt+(Z?"l"+O+",0.0001":"h"+O)).call(U?h.lineGroupStyle:function(J){if(J.size()){var Q="legendline-"+X.uid;h.lineGroupStyle(J),h.gradient(J,S,Q,_(dt),lt,"stroke")}})}).each(function(I){var B,j,q=x(I),et=q.anyFill,U=q.anyLine,Z=q.showLine,rt=q.showMarker,ft=I[0],z=ft.trace,W=!rt&&!U&&!et&&g.hasText(z);function X($,J,Q,ot){var st=u.nestedProperty(z,$).get(),ht=u.isArrayOrTypedArray(st)&&J?J(st):st;if(A&&ht&&ot!==void 0&&(ht=ot),Q){if(ht<Q[0])return Q[0];if(ht>Q[1])return Q[1]}return ht}function it($){return ft._distinct&&ft.index&&$[ft.index]?$[ft.index]:$[0]}if(rt||W||Z){var lt={},dt={};if(rt){lt.mc=X("marker.color",it),lt.mx=X("marker.symbol",it),lt.mo=X("marker.opacity",u.mean,[.2,1]),lt.mlc=X("marker.line.color",it),lt.mlw=X("marker.line.width",u.mean,[0,5],2),dt.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var nt=X("marker.size",u.mean,[2,16],12);lt.ms=nt,dt.marker.size=nt}Z&&(dt.line={width:X("line.width",it,[0,10],5)}),W&&(lt.tx="Aa",lt.tp=X("textposition",it),lt.ts=10,lt.tc=X("textfont.color",it),lt.tf=X("textfont.family",it)),B=[u.minExtend(ft,lt)],(j=u.minExtend(z,dt)).selectedpoints=null,j.texttemplate=null}var V=l.select(this).select("g.legendpoints"),G=V.selectAll("path.scatterpts").data(rt?B:[]);G.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",F),G.exit().remove(),G.call(h.pointStyle,j,S),rt&&(B[0].mrc=3);var H=V.selectAll("g.pointtext").data(W?B:[]);H.enter().append("g").classed("pointtext",!0).append("text").attr("transform",F),H.exit().remove(),H.selectAll("text").call(h.textPointStyle,j,S)}).each(function(I){var B=I[0].trace,j=l.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(B.visible&&B.type==="candlestick"?[I,I]:[]);j.enter().append("path").classed("legendcandle",!0).attr("d",function(q,et){return et?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",F).style("stroke-miterlimit",1),j.exit().remove(),j.each(function(q,et){var U=l.select(this),Z=B[et?"increasing":"decreasing"],rt=R(void 0,Z.line,5,2);U.style("stroke-width",rt+"px").call(d.fill,Z.fillcolor),rt&&d.stroke(U,Z.line.color)})}).each(function(I){var B=I[0].trace,j=l.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(B.visible&&B.type==="ohlc"?[I,I]:[]);j.enter().append("path").classed("legendohlc",!0).attr("d",function(q,et){return et?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",F).style("stroke-miterlimit",1),j.exit().remove(),j.each(function(q,et){var U=l.select(this),Z=B[et?"increasing":"decreasing"],rt=R(void 0,Z.line,5,2);U.style("fill","none").call(h.dashLine,Z.line.dash,rt),rt&&d.stroke(U,Z.line.color)})})}},2068:function(a,s,o){o(3348),a.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},6023:function(a,s,o){var l=o(3972),f=o(4875),u=o(1675),c=o(4255),h=o(4031).eraseActiveShape,d=o(1828),p=d._,g=a.exports={};function m(T,A){var O,P,F=A.currentTarget,R=F.getAttribute("data-attr"),N=F.getAttribute("data-val")||!0,D=T._fullLayout,I={},B=u.list(T,null,!0),j=D._cartesianSpikesEnabled;if(R==="zoom"){var q,et=N==="in"?.5:2,U=(1+et)/2,Z=(1-et)/2;for(P=0;P<B.length;P++)if(!(O=B[P]).fixedrange)if(q=O._name,N==="auto")I[q+".autorange"]=!0;else if(N==="reset")O._rangeInitial0===void 0&&O._rangeInitial1===void 0?I[q+".autorange"]=!0:O._rangeInitial0===void 0?(I[q+".autorange"]=O._autorangeInitial,I[q+".range"]=[null,O._rangeInitial1]):O._rangeInitial1===void 0?(I[q+".range"]=[O._rangeInitial0,null],I[q+".autorange"]=O._autorangeInitial):I[q+".range"]=[O._rangeInitial0,O._rangeInitial1],O._showSpikeInitial!==void 0&&(I[q+".showspikes"]=O._showSpikeInitial,j!=="on"||O._showSpikeInitial||(j="off"));else{var rt=[O.r2l(O.range[0]),O.r2l(O.range[1])],ft=[U*rt[0]+Z*rt[1],U*rt[1]+Z*rt[0]];I[q+".range[0]"]=O.l2r(ft[0]),I[q+".range[1]"]=O.l2r(ft[1])}}else R!=="hovermode"||N!=="x"&&N!=="y"||(N=D._isHoriz?"y":"x",F.setAttribute("data-val",N)),I[R]=N;D._cartesianSpikesEnabled=j,l.call("_guiRelayout",T,I)}function v(T,A){for(var O=A.currentTarget,P=O.getAttribute("data-attr"),F=O.getAttribute("data-val")||!0,R=T._fullLayout._subplots.gl3d||[],N={},D=P.split("."),I=0;I<R.length;I++)N[R[I]+"."+D[1]]=F;var B=F==="pan"?F:"zoom";N.dragmode=B,l.call("_guiRelayout",T,N)}function y(T,A){for(var O=A.currentTarget.getAttribute("data-attr"),P=O==="resetLastSave",F=O==="resetDefault",R=T._fullLayout,N=R._subplots.gl3d||[],D={},I=0;I<N.length;I++){var B,j=N[I],q=j+".camera",et=j+".aspectratio",U=j+".aspectmode",Z=R[j]._scene;P?(D[q+".up"]=Z.viewInitial.up,D[q+".eye"]=Z.viewInitial.eye,D[q+".center"]=Z.viewInitial.center,B=!0):F&&(D[q+".up"]=null,D[q+".eye"]=null,D[q+".center"]=null,B=!0),B&&(D[et+".x"]=Z.viewInitial.aspectratio.x,D[et+".y"]=Z.viewInitial.aspectratio.y,D[et+".z"]=Z.viewInitial.aspectratio.z,D[U]=Z.viewInitial.aspectmode)}l.call("_guiRelayout",T,D)}function _(T,A){var O=A.currentTarget,P=O._previousVal,F=T._fullLayout,R=F._subplots.gl3d||[],N=["xaxis","yaxis","zaxis"],D={},I={};if(P)I=P,O._previousVal=null;else{for(var B=0;B<R.length;B++){var j=R[B],q=F[j],et=j+".hovermode";D[et]=q.hovermode,I[et]=!1;for(var U=0;U<3;U++){var Z=N[U],rt=j+"."+Z+".showspikes";I[rt]=!1,D[rt]=q[Z].showspikes}}O._previousVal=D}return I}function x(T,A){for(var O=A.currentTarget,P=O.getAttribute("data-attr"),F=O.getAttribute("data-val")||!0,R=T._fullLayout,N=R._subplots.geo||[],D=0;D<N.length;D++){var I=N[D],B=R[I];if(P==="zoom"){var j=B.projection.scale,q=F==="in"?2*j:.5*j;l.call("_guiRelayout",T,I+".projection.scale",q)}}P==="reset"&&C(T,"geo")}function w(T){var A=T._fullLayout;return!A.hovermode&&(A._has("cartesian")?A._isHoriz?"y":"x":"closest")}function E(T){var A=w(T);l.call("_guiRelayout",T,"hovermode",A)}function S(T,A){for(var O=A.currentTarget.getAttribute("data-val"),P=T._fullLayout,F=P._subplots.mapbox||[],R={},N=0;N<F.length;N++){var D=F[N],I=P[D].zoom,B=O==="in"?1.05*I:I/1.05;R[D+".zoom"]=B}l.call("_guiRelayout",T,R)}function C(T,A){for(var O=T._fullLayout,P=O._subplots[A]||[],F={},R=0;R<P.length;R++)for(var N=P[R],D=O[N]._subplot.viewInitial,I=Object.keys(D),B=0;B<I.length;B++){var j=I[B];F[N+"."+j]=D[j]}l.call("_guiRelayout",T,F)}g.toImage={name:"toImage",title:function(T){var A=(T._context.toImageButtonOptions||{}).format||"png";return p(T,A==="png"?"Download plot as a png":"Download plot")},icon:c.camera,click:function(T){var A=T._context.toImageButtonOptions,O={format:A.format||"png"};d.notifier(p(T,"Taking snapshot - this may take a few seconds"),"long"),O.format!=="svg"&&d.isIE()&&(d.notifier(p(T,"IE only supports svg.  Changing format to svg."),"long"),O.format="svg"),["filename","width","height","scale"].forEach(function(P){P in A&&(O[P]=A[P])}),l.call("downloadImage",T,O).then(function(P){d.notifier(p(T,"Snapshot succeeded")+" - "+P,"long")}).catch(function(){d.notifier(p(T,"Sorry, there was a problem downloading your snapshot!"),"long")})}},g.sendDataToCloud={name:"sendDataToCloud",title:function(T){return p(T,"Edit in Chart Studio")},icon:c.disk,click:function(T){f.sendDataToCloud(T)}},g.editInChartStudio={name:"editInChartStudio",title:function(T){return p(T,"Edit in Chart Studio")},icon:c.pencil,click:function(T){f.sendDataToCloud(T)}},g.zoom2d={name:"zoom2d",_cat:"zoom",title:function(T){return p(T,"Zoom")},attr:"dragmode",val:"zoom",icon:c.zoombox,click:m},g.pan2d={name:"pan2d",_cat:"pan",title:function(T){return p(T,"Pan")},attr:"dragmode",val:"pan",icon:c.pan,click:m},g.select2d={name:"select2d",_cat:"select",title:function(T){return p(T,"Box Select")},attr:"dragmode",val:"select",icon:c.selectbox,click:m},g.lasso2d={name:"lasso2d",_cat:"lasso",title:function(T){return p(T,"Lasso Select")},attr:"dragmode",val:"lasso",icon:c.lasso,click:m},g.drawclosedpath={name:"drawclosedpath",title:function(T){return p(T,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:c.drawclosedpath,click:m},g.drawopenpath={name:"drawopenpath",title:function(T){return p(T,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:c.drawopenpath,click:m},g.drawline={name:"drawline",title:function(T){return p(T,"Draw line")},attr:"dragmode",val:"drawline",icon:c.drawline,click:m},g.drawrect={name:"drawrect",title:function(T){return p(T,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:c.drawrect,click:m},g.drawcircle={name:"drawcircle",title:function(T){return p(T,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:c.drawcircle,click:m},g.eraseshape={name:"eraseshape",title:function(T){return p(T,"Erase active shape")},icon:c.eraseshape,click:h},g.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(T){return p(T,"Zoom in")},attr:"zoom",val:"in",icon:c.zoom_plus,click:m},g.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(T){return p(T,"Zoom out")},attr:"zoom",val:"out",icon:c.zoom_minus,click:m},g.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(T){return p(T,"Autoscale")},attr:"zoom",val:"auto",icon:c.autoscale,click:m},g.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(T){return p(T,"Reset axes")},attr:"zoom",val:"reset",icon:c.home,click:m},g.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(T){return p(T,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:c.tooltip_basic,gravity:"ne",click:m},g.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(T){return p(T,"Compare data on hover")},attr:"hovermode",val:function(T){return T._fullLayout._isHoriz?"y":"x"},icon:c.tooltip_compare,gravity:"ne",click:m},g.zoom3d={name:"zoom3d",_cat:"zoom",title:function(T){return p(T,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:c.zoombox,click:v},g.pan3d={name:"pan3d",_cat:"pan",title:function(T){return p(T,"Pan")},attr:"scene.dragmode",val:"pan",icon:c.pan,click:v},g.orbitRotation={name:"orbitRotation",title:function(T){return p(T,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:c["3d_rotate"],click:v},g.tableRotation={name:"tableRotation",title:function(T){return p(T,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:c["z-axis"],click:v},g.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(T){return p(T,"Reset camera to default")},attr:"resetDefault",icon:c.home,click:y},g.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(T){return p(T,"Reset camera to last save")},attr:"resetLastSave",icon:c.movie,click:y},g.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(T){return p(T,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:c.tooltip_basic,gravity:"ne",click:function(T,A){var O=_(T,A);l.call("_guiRelayout",T,O)}},g.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(T){return p(T,"Zoom in")},attr:"zoom",val:"in",icon:c.zoom_plus,click:x},g.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(T){return p(T,"Zoom out")},attr:"zoom",val:"out",icon:c.zoom_minus,click:x},g.resetGeo={name:"resetGeo",_cat:"reset",title:function(T){return p(T,"Reset")},attr:"reset",val:null,icon:c.autoscale,click:x},g.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(T){return p(T,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:c.tooltip_basic,gravity:"ne",click:E},g.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(T){return p(T,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:c.tooltip_basic,gravity:"ne",click:E},g.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(T){return p(T,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:c.tooltip_basic,gravity:"ne",click:E},g.resetViewSankey={name:"resetSankeyGroup",title:function(T){return p(T,"Reset view")},icon:c.home,click:function(T){for(var A={"node.groups":[],"node.x":[],"node.y":[]},O=0;O<T._fullData.length;O++){var P=T._fullData[O]._viewInitial;A["node.groups"].push(P.node.groups.slice()),A["node.x"].push(P.node.x.slice()),A["node.y"].push(P.node.y.slice())}l.call("restyle",T,A)}},g.toggleHover={name:"toggleHover",title:function(T){return p(T,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:c.tooltip_basic,gravity:"ne",click:function(T,A){var O=_(T,A);O.hovermode=w(T),l.call("_guiRelayout",T,O)}},g.resetViews={name:"resetViews",title:function(T){return p(T,"Reset views")},icon:c.home,click:function(T,A){var O=A.currentTarget;O.setAttribute("data-attr","zoom"),O.setAttribute("data-val","reset"),m(T,A),O.setAttribute("data-attr","resetLastSave"),y(T,A),C(T,"geo"),C(T,"mapbox")}},g.toggleSpikelines={name:"toggleSpikelines",title:function(T){return p(T,"Toggle Spike Lines")},icon:c.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(T){var A=T._fullLayout,O=A._cartesianSpikesEnabled;A._cartesianSpikesEnabled=O==="on"?"off":"on",l.call("_guiRelayout",T,function(P){for(var F=P._fullLayout._cartesianSpikesEnabled==="on",R=u.list(P,null,!0),N={},D=0;D<R.length;D++){var I=R[D];N[I._name+".showspikes"]=!!F||I._showSpikeInitial}return N}(T))}},g.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(T){return p(T,"Reset view")},attr:"reset",icon:c.home,click:function(T){C(T,"mapbox")}},g.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(T){return p(T,"Zoom in")},attr:"zoom",val:"in",icon:c.zoom_plus,click:S},g.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(T){return p(T,"Zoom out")},attr:"zoom",val:"out",icon:c.zoom_minus,click:S}},3348:function(a,s,o){var l=o(6023),f=Object.keys(l),u=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],c=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(u),h=[];f.forEach(function(d){(function(p){if(c.indexOf(p._cat||p.name)===-1){var g=p.name,m=(p._cat||p.name).toLowerCase();h.indexOf(g)===-1&&h.push(g),h.indexOf(m)===-1&&h.push(m)}})(l[d])}),h.sort(),a.exports={DRAW_MODES:u,backButtons:c,foreButtons:h}},5750:function(a,s,o){var l=o(1828),f=o(7901),u=o(4467),c=o(2068);a.exports=function(h,d){var p=h.modebar||{},g=u.newContainer(d,"modebar");function m(y,_){return l.coerce(p,g,c,y,_)}m("orientation"),m("bgcolor",f.addOpacity(d.paper_bgcolor,.5));var v=f.contrast(f.rgb(d.modebar.bgcolor));m("color",f.addOpacity(v,.3)),m("activecolor",f.addOpacity(v,.7)),m("uirevision",d.uirevision),m("add"),m("remove")}},4168:function(a,s,o){a.exports={moduleType:"component",name:"modebar",layoutAttributes:o(2068),supplyLayoutDefaults:o(5750),manage:o(4192)}},4192:function(a,s,o){var l=o(1675),f=o(4098),u=o(3972),c=o(3469).isUnifiedHover,h=o(7676),d=o(6023),p=o(3348).DRAW_MODES,g=o(1828).extendDeep;a.exports=function(m){var v=m._fullLayout,y=m._context,_=v._modeBar;if(y.displayModeBar||y.watermark){if(!Array.isArray(y.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(y.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var x,w=y.modeBarButtons;x=Array.isArray(w)&&w.length?function(E){for(var S=g([],E),C=0;C<S.length;C++)for(var T=S[C],A=0;A<T.length;A++){var O=T[A];if(typeof O=="string"){if(d[O]===void 0)throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));S[C][A]=d[O]}}return S}(w):!y.displayModeBar&&y.watermark?[]:function(E){var S=E._fullLayout,C=E._fullData,T=E._context;function A(st,ht){if(typeof ht=="string"){if(ht.toLowerCase()===st.toLowerCase())return!0}else{var xt=ht.name,Pt=ht._cat||ht.name;if(xt===st||Pt===st.toLowerCase())return!0}return!1}var O=S.modebar.add;typeof O=="string"&&(O=[O]);var P=S.modebar.remove;typeof P=="string"&&(P=[P]);var F=T.modeBarButtonsToAdd.concat(O.filter(function(st){for(var ht=0;ht<T.modeBarButtonsToRemove.length;ht++)if(A(st,T.modeBarButtonsToRemove[ht]))return!1;return!0})),R=T.modeBarButtonsToRemove.concat(P.filter(function(st){for(var ht=0;ht<T.modeBarButtonsToAdd.length;ht++)if(A(st,T.modeBarButtonsToAdd[ht]))return!1;return!0})),N=S._has("cartesian"),D=S._has("gl3d"),I=S._has("geo"),B=S._has("pie"),j=S._has("funnelarea"),q=S._has("gl2d"),et=S._has("ternary"),U=S._has("mapbox"),Z=S._has("polar"),rt=S._has("smith"),ft=S._has("sankey"),z=function(st){for(var ht=l.list({_fullLayout:st},null,!0),xt=0;xt<ht.length;xt++)if(!ht[xt].fixedrange)return!1;return!0}(S),W=c(S.hovermode),X=[];function it(st){if(st.length){for(var ht=[],xt=0;xt<st.length;xt++){for(var Pt=st[xt],It=d[Pt],zt=It.name.toLowerCase(),pt=(It._cat||It.name).toLowerCase(),yt=!1,wt=0;wt<R.length;wt++){var St=R[wt].toLowerCase();if(St===zt||St===pt){yt=!0;break}}yt||ht.push(d[Pt])}X.push(ht)}}var lt=["toImage"];T.showEditInChartStudio?lt.push("editInChartStudio"):T.showSendToCloud&&lt.push("sendDataToCloud"),it(lt);var dt=[],nt=[],V=[],G=[];(N||q||B||j||et)+I+D+U+Z+rt>1?(nt=["toggleHover"],V=["resetViews"]):I?(dt=["zoomInGeo","zoomOutGeo"],nt=["hoverClosestGeo"],V=["resetGeo"]):D?(nt=["hoverClosest3d"],V=["resetCameraDefault3d","resetCameraLastSave3d"]):U?(dt=["zoomInMapbox","zoomOutMapbox"],nt=["toggleHover"],V=["resetViewMapbox"]):q?nt=["hoverClosestGl2d"]:B?nt=["hoverClosestPie"]:ft?(nt=["hoverClosestCartesian","hoverCompareCartesian"],V=["resetViewSankey"]):nt=["toggleHover"],N&&(nt=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(st){for(var ht=0;ht<st.length;ht++)if(!u.traceIs(st[ht],"noHover"))return!1;return!0}(C)||W)&&(nt=[]),!N&&!q||z||(dt=["zoomIn2d","zoomOut2d","autoScale2d"],V[0]!=="resetViews"&&(V=["resetScale2d"])),D?G=["zoom3d","pan3d","orbitRotation","tableRotation"]:(N||q)&&!z||et?G=["zoom2d","pan2d"]:U||I?G=["pan2d"]:Z&&(G=["zoom2d"]),function(st){for(var ht=!1,xt=0;xt<st.length&&!ht;xt++){var Pt=st[xt];Pt._module&&Pt._module.selectPoints&&(u.traceIs(Pt,"scatter-like")?(f.hasMarkers(Pt)||f.hasText(Pt))&&(ht=!0):u.traceIs(Pt,"box-violin")&&Pt.boxpoints!=="all"&&Pt.points!=="all"||(ht=!0))}return ht}(C)&&G.push("select2d","lasso2d");var H=[],$=function(st){H.indexOf(st)===-1&&nt.indexOf(st)!==-1&&H.push(st)};if(Array.isArray(F)){for(var J=[],Q=0;Q<F.length;Q++){var ot=F[Q];typeof ot=="string"?(ot=ot.toLowerCase(),p.indexOf(ot)!==-1?(S._has("mapbox")||S._has("cartesian"))&&G.push(ot):ot==="togglespikelines"?$("toggleSpikelines"):ot==="togglehover"?$("toggleHover"):ot==="hovercompare"?$("hoverCompareCartesian"):ot==="hoverclosest"?($("hoverClosestCartesian"),$("hoverClosestGeo"),$("hoverClosest3d"),$("hoverClosestGl2d"),$("hoverClosestPie")):ot==="v1hovermode"&&($("toggleHover"),$("hoverClosestCartesian"),$("hoverCompareCartesian"),$("hoverClosestGeo"),$("hoverClosest3d"),$("hoverClosestGl2d"),$("hoverClosestPie"))):J.push(ot)}F=J}return it(G),it(dt.concat(V)),it(H),function(st,ht){if(ht.length)if(Array.isArray(ht[0]))for(var xt=0;xt<ht.length;xt++)st.push(ht[xt]);else st.push(ht);return st}(X,F)}(m),_?_.update(m,x):v._modeBar=h(m,x)}else _&&(_.destroy(),delete v._modeBar)}},7676:function(a,s,o){var l=o(9898),f=o(2770),u=o(1828),c=o(4255),h=o(1506).version,d=new DOMParser;function p(m){this.container=m.container,this.element=document.createElement("div"),this.update(m.graphInfo,m.buttons),this.container.appendChild(this.element)}var g=p.prototype;g.update=function(m,v){this.graphInfo=m;var y=this.graphInfo._context,_=this.graphInfo._fullLayout,x="modebar-"+_._uid;this.element.setAttribute("id",x),this._uid=x,this.element.className="modebar",y.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),_.modebar.orientation==="v"&&(this.element.className+=" vertical",v=v.reverse());var w=_.modebar,E=y.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";u.deleteRelatedStyleRule(x),u.addRelatedStyleRule(x,E+"#"+x+" .modebar-group","background-color: "+w.bgcolor),u.addRelatedStyleRule(x,"#"+x+" .modebar-btn .icon path","fill: "+w.color),u.addRelatedStyleRule(x,"#"+x+" .modebar-btn:hover .icon path","fill: "+w.activecolor),u.addRelatedStyleRule(x,"#"+x+" .modebar-btn.active .icon path","fill: "+w.activecolor);var S=!this.hasButtons(v),C=this.hasLogo!==y.displaylogo,T=this.locale!==y.locale;if(this.locale=y.locale,(S||C||T)&&(this.removeAllButtons(),this.updateButtons(v),y.watermark||y.displaylogo)){var A=this.getLogo();y.watermark&&(A.className=A.className+" watermark"),_.modebar.orientation==="v"?this.element.insertBefore(A,this.element.childNodes[0]):this.element.appendChild(A),this.hasLogo=!0}this.updateActiveButton()},g.updateButtons=function(m){var v=this;this.buttons=m,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(y){var _=v.createGroup();y.forEach(function(x){var w=x.name;if(!w)throw new Error("must provide button 'name' in button config");if(v.buttonsNames.indexOf(w)!==-1)throw new Error("button name '"+w+"' is taken");v.buttonsNames.push(w);var E=v.createButton(x);v.buttonElements.push(E),_.appendChild(E)}),v.element.appendChild(_)})},g.createGroup=function(){var m=document.createElement("div");return m.className="modebar-group",m},g.createButton=function(m){var v=this,y=document.createElement("a");y.setAttribute("rel","tooltip"),y.className="modebar-btn";var _=m.title;_===void 0?_=m.name:typeof _=="function"&&(_=_(this.graphInfo)),(_||_===0)&&y.setAttribute("data-title",_),m.attr!==void 0&&y.setAttribute("data-attr",m.attr);var x=m.val;if(x!==void 0&&(typeof x=="function"&&(x=x(this.graphInfo)),y.setAttribute("data-val",x)),typeof m.click!="function")throw new Error("must provide button 'click' function in button config");y.addEventListener("click",function(E){m.click(v.graphInfo,E),v.updateActiveButton(E.currentTarget)}),y.setAttribute("data-toggle",m.toggle||!1),m.toggle&&l.select(y).classed("active",!0);var w=m.icon;return typeof w=="function"?y.appendChild(w()):y.appendChild(this.createIcon(w||c.question)),y.setAttribute("data-gravity",m.gravity||"n"),y},g.createIcon=function(m){var v,y=f(m.height)?Number(m.height):m.ascent-m.descent,_="http://www.w3.org/2000/svg";if(m.path){(v=document.createElementNS(_,"svg")).setAttribute("viewBox",[0,0,m.width,y].join(" ")),v.setAttribute("class","icon");var x=document.createElementNS(_,"path");x.setAttribute("d",m.path),m.transform?x.setAttribute("transform",m.transform):m.ascent!==void 0&&x.setAttribute("transform","matrix(1 0 0 -1 0 "+m.ascent+")"),v.appendChild(x)}return m.svg&&(v=d.parseFromString(m.svg,"application/xml").childNodes[0]),v.setAttribute("height","1em"),v.setAttribute("width","1em"),v},g.updateActiveButton=function(m){var v=this.graphInfo._fullLayout,y=m!==void 0?m.getAttribute("data-attr"):null;this.buttonElements.forEach(function(_){var x=_.getAttribute("data-val")||!0,w=_.getAttribute("data-attr"),E=_.getAttribute("data-toggle")==="true",S=l.select(_);if(E)w===y&&S.classed("active",!S.classed("active"));else{var C=w===null?w:u.nestedProperty(v,w).get();S.classed("active",C===x)}})},g.hasButtons=function(m){var v=this.buttons;if(!v||m.length!==v.length)return!1;for(var y=0;y<m.length;++y){if(m[y].length!==v[y].length)return!1;for(var _=0;_<m[y].length;_++)if(m[y][_].name!==v[y][_].name)return!1}return!0},g.getLogo=function(){var m=this.createGroup(),v=document.createElement("a");return v.href="https://plotly.com/",v.target="_blank",v.setAttribute("data-title",u._(this.graphInfo,"Produced with Plotly.js")+" (v"+h+")"),v.className="modebar-btn plotlyjsicon modebar-btn--logo",v.appendChild(this.createIcon(c.newplotlylogo)),m.appendChild(v),m},g.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},g.destroy=function(){u.removeElement(this.container.querySelector(".modebar")),u.deleteRelatedStyleRule(this._uid)},a.exports=function(m,v){var y=m._fullLayout,_=new p({graphInfo:m,container:y._modebardiv.node(),buttons:v});return y._privateplot&&l.select(_.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),_}},7113:function(a,s,o){var l=o(1940),f=o(2399),u=(0,o(4467).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});a.exports={visible:{valType:"boolean",editType:"plot"},buttons:u,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:l({editType:"plot"}),bgcolor:{valType:"color",dflt:f.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:f.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},9573:function(a){a.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},8674:function(a,s,o){var l=o(1828),f=o(7901),u=o(4467),c=o(5501),h=o(7113),d=o(9573);function p(g,m,v,y){var _=y.calendar;function x(E,S){return l.coerce(g,m,h.buttons,E,S)}if(x("visible")){var w=x("step");w!=="all"&&(!_||_==="gregorian"||w!=="month"&&w!=="year"?x("stepmode"):m.stepmode="backward",x("count")),x("label")}}a.exports=function(g,m,v,y,_){var x=g.rangeselector||{},w=u.newContainer(m,"rangeselector");function E(T,A){return l.coerce(x,w,h,T,A)}if(E("visible",c(x,w,{name:"buttons",handleItemDefaults:p,calendar:_}).length>0)){var S=function(T,A,O){for(var P=O.filter(function(D){return A[D].anchor===T._id}),F=0,R=0;R<P.length;R++){var N=A[P[R]].domain;N&&(F=Math.max(N[1],F))}return[T.domain[0],F+d.yPad]}(m,v,y);E("x",S[0]),E("y",S[1]),l.noneOrAll(g,m,["x","y"]),E("xanchor"),E("yanchor"),l.coerceFont(E,"font",v.font);var C=E("bgcolor");E("activecolor",f.contrast(C,d.lightAmount,d.darkAmount)),E("bordercolor"),E("borderwidth")}}},1598:function(a,s,o){var l=o(9898),f=o(3972),u=o(4875),c=o(7901),h=o(1424),d=o(1828),p=d.strTranslate,g=o(3893),m=o(1675),v=o(8783),y=v.LINE_SPACING,_=v.FROM_TL,x=v.FROM_BR,w=o(9573),E=o(7917);function S(A){return A._id}function C(A,O,P){var F=d.ensureSingle(A,"rect","selector-rect",function(R){R.attr("shape-rendering","crispEdges")});F.attr({rx:w.rx,ry:w.ry}),F.call(c.stroke,O.bordercolor).call(c.fill,function(R,N){return N._isActive||N._isHovered?R.activecolor:R.bgcolor}(O,P)).style("stroke-width",O.borderwidth+"px")}function T(A,O,P,F){var R,N;d.ensureSingle(A,"text","selector-text",function(D){D.attr("text-anchor","middle")}).call(h.font,O.font).text((R=P,N=F._fullLayout._meta,R.label?N?d.templateString(R.label,N):R.label:R.step==="all"?"all":R.count+R.step.charAt(0))).call(function(D){g.convertToTspans(D,F)})}a.exports=function(A){var O=A._fullLayout._infolayer.selectAll(".rangeselector").data(function(P){for(var F=m.list(P,"x",!0),R=[],N=0;N<F.length;N++){var D=F[N];D.rangeselector&&D.rangeselector.visible&&R.push(D)}return R}(A),S);O.enter().append("g").classed("rangeselector",!0),O.exit().remove(),O.style({cursor:"pointer","pointer-events":"all"}),O.each(function(P){var F=l.select(this),R=P,N=R.rangeselector,D=F.selectAll("g.button").data(d.filterVisible(N.buttons));D.enter().append("g").classed("button",!0),D.exit().remove(),D.each(function(I){var B=l.select(this),j=E(R,I);I._isActive=function(q,et,U){if(et.step==="all")return q.autorange===!0;var Z=Object.keys(U);return q.range[0]===U[Z[0]]&&q.range[1]===U[Z[1]]}(R,I,j),B.call(C,N,I),B.call(T,N,I,A),B.on("click",function(){A._dragged||f.call("_guiRelayout",A,j)}),B.on("mouseover",function(){I._isHovered=!0,B.call(C,N,I)}),B.on("mouseout",function(){I._isHovered=!1,B.call(C,N,I)})}),function(I,B,j,q,et){var U=0,Z=0,rt=j.borderwidth;B.each(function(){var lt=l.select(this).select(".selector-text"),dt=j.font.size*y,nt=Math.max(dt*g.lineCount(lt),16)+3;Z=Math.max(Z,nt)}),B.each(function(){var lt=l.select(this),dt=lt.select(".selector-rect"),nt=lt.select(".selector-text"),V=nt.node()&&h.bBox(nt.node()).width,G=j.font.size*y,H=g.lineCount(nt),$=Math.max(V+10,w.minButtonWidth);lt.attr("transform",p(rt+U,rt)),dt.attr({x:0,y:0,width:$,height:Z}),g.positionText(nt,$/2,Z/2-(H-1)*G/2+3),U+=$+5});var ft=I._fullLayout._size,z=ft.l+ft.w*j.x,W=ft.t+ft.h*(1-j.y),X="left";d.isRightAnchor(j)&&(z-=U,X="right"),d.isCenterAnchor(j)&&(z-=U/2,X="center");var it="top";d.isBottomAnchor(j)&&(W-=Z,it="bottom"),d.isMiddleAnchor(j)&&(W-=Z/2,it="middle"),U=Math.ceil(U),Z=Math.ceil(Z),z=Math.round(z),W=Math.round(W),u.autoMargin(I,q+"-range-selector",{x:j.x,y:j.y,l:U*_[X],r:U*x[X],b:Z*x[it],t:Z*_[it]}),et.attr("transform",p(z,W))}(A,D,N,R._name,F)})}},7917:function(a,s,o){var l=o(1041),f=o(1828).titleCase;a.exports=function(u,c){var h=u._name,d={};if(c.step==="all")d[h+".autorange"]=!0;else{var p=function(g,m){var v,y=g.range,_=new Date(g.r2l(y[1])),x=m.step,w=l["utc"+f(x)],E=m.count;switch(m.stepmode){case"backward":v=g.l2r(+w.offset(_,-E));break;case"todate":var S=w.offset(_,-E);v=g.l2r(+w.ceil(S))}return[v,y[1]]}(u,c);d[h+".range[0]"]=p[0],d[h+".range[1]"]=p[1]}return d}},7218:function(a,s,o){a.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:o(7113)}}},layoutAttributes:o(7113),handleDefaults:o(8674),draw:o(1598)}},5148:function(a,s,o){var l=o(2399);a.exports={bgcolor:{valType:"color",dflt:l.background,editType:"plot"},bordercolor:{valType:"color",dflt:l.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},8443:function(a,s,o){var l=o(1675).list,f=o(1739).getAutoRange,u=o(3251);a.exports=function(c){for(var h=l(c,"x",!0),d=0;d<h.length;d++){var p=h[d],g=p[u.name];g&&g.visible&&g.autorange&&(g._input.autorange=!0,g._input.range=g.range=f(c,p))}}},3251:function(a){a.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},6377:function(a,s,o){var l=o(1828),f=o(4467),u=o(1675),c=o(5148),h=o(7850);a.exports=function(d,p,g){var m=d[g],v=p[g];if(m.rangeslider||p._requestRangeslider[v._id]){l.isPlainObject(m.rangeslider)||(m.rangeslider={});var y,_,x=m.rangeslider,w=f.newContainer(v,"rangeslider");if(F("visible")){F("bgcolor",p.plot_bgcolor),F("bordercolor"),F("borderwidth"),F("thickness"),F("autorange",!v.isValidRange(x.range)),F("range");var E=p._subplots;if(E)for(var S=E.cartesian.filter(function(N){return N.substr(0,N.indexOf("y"))===u.name2id(g)}).map(function(N){return N.substr(N.indexOf("y"),N.length)}),C=l.simpleMap(S,u.id2name),T=0;T<C.length;T++){var A=C[T];y=x[A]||{},_=f.newContainer(w,A,"yaxis");var O,P=p[A];y.range&&P.isValidRange(y.range)&&(O="fixed"),R("rangemode",O)!=="match"&&R("range",P.range.slice())}w._input=x}}function F(N,D){return l.coerce(x,w,c,N,D)}function R(N,D){return l.coerce(y,_,h,N,D)}}},2413:function(a,s,o){var l=o(9898),f=o(3972),u=o(4875),c=o(1828),h=c.strTranslate,d=o(1424),p=o(7901),g=o(2998),m=o(3612),v=o(1675),y=o(8569),_=o(6964),x=o(3251);function w(O,P,F,R){var N=c.ensureSingle(O,"rect",x.bgClassName,function(j){j.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),D=R.borderwidth%2==0?R.borderwidth:R.borderwidth-1,I=-R._offsetShift,B=d.crispRound(P,R.borderwidth);N.attr({width:R._width+D,height:R._height+D,transform:h(I,I),"stroke-width":B}).call(p.stroke,R.bordercolor).call(p.fill,R.bgcolor)}function E(O,P,F,R){var N=P._fullLayout;c.ensureSingleById(N._topdefs,"clipPath",R._clipId,function(D){D.append("rect").attr({x:0,y:0})}).select("rect").attr({width:R._width,height:R._height})}function S(O,P,F,R){var N,D=P.calcdata,I=O.selectAll("g."+x.rangePlotClassName).data(F._subplotsWith,c.identity);I.enter().append("g").attr("class",function(B){return x.rangePlotClassName+" "+B}).call(d.setClipUrl,R._clipId,P),I.order(),I.exit().remove(),I.each(function(B,j){var q=l.select(this),et=j===0,U=v.getFromId(P,B,"y"),Z=U._name,rt=R[Z],ft={data:[],layout:{xaxis:{type:F.type,domain:[0,1],range:R.range.slice(),calendar:F.calendar},width:R._width,height:R._height,margin:{t:0,b:0,l:0,r:0}},_context:P._context};F.rangebreaks&&(ft.layout.xaxis.rangebreaks=F.rangebreaks),ft.layout[Z]={type:U.type,domain:[0,1],range:rt.rangemode!=="match"?rt.range.slice():U.range.slice(),calendar:U.calendar},U.rangebreaks&&(ft.layout[Z].rangebreaks=U.rangebreaks),u.supplyDefaults(ft);var z=ft._fullLayout.xaxis,W=ft._fullLayout[Z];z.clearCalc(),z.setScale(),W.clearCalc(),W.setScale();var X={id:B,plotgroup:q,xaxis:z,yaxis:W,isRangePlot:!0};et?N=X:(X.mainplot="xy",X.mainplotinfo=N),m.rangePlot(P,X,function(it,lt){for(var dt=[],nt=0;nt<it.length;nt++){var V=it[nt],G=V[0].trace;G.xaxis+G.yaxis===lt&&dt.push(V)}return dt}(D,B))})}function C(O,P,F,R,N){c.ensureSingle(O,"rect",x.maskMinClassName,function(D){D.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",R._height).call(p.fill,x.maskColor),c.ensureSingle(O,"rect",x.maskMaxClassName,function(D){D.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",R._height).call(p.fill,x.maskColor),N.rangemode!=="match"&&(c.ensureSingle(O,"rect",x.maskMinOppAxisClassName,function(D){D.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",R._width).call(p.fill,x.maskOppAxisColor),c.ensureSingle(O,"rect",x.maskMaxOppAxisClassName,function(D){D.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",R._width).style("border-top",x.maskOppBorder).call(p.fill,x.maskOppAxisColor))}function T(O,P,F,R){P._context.staticPlot||c.ensureSingle(O,"rect",x.slideBoxClassName,function(N){N.attr({y:0,cursor:x.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:R._height,fill:x.slideBoxFill})}function A(O,P,F,R){var N=c.ensureSingle(O,"g",x.grabberMinClassName),D=c.ensureSingle(O,"g",x.grabberMaxClassName),I={x:0,width:x.handleWidth,rx:x.handleRadius,fill:p.background,stroke:p.defaultLine,"stroke-width":x.handleStrokeWidth,"shape-rendering":"crispEdges"},B={y:Math.round(R._height/4),height:Math.round(R._height/2)};c.ensureSingle(N,"rect",x.handleMinClassName,function(q){q.attr(I)}).attr(B),c.ensureSingle(D,"rect",x.handleMaxClassName,function(q){q.attr(I)}).attr(B);var j={width:x.grabAreaWidth,x:0,y:0,fill:x.grabAreaFill,cursor:P._context.staticPlot?void 0:x.grabAreaCursor};c.ensureSingle(N,"rect",x.grabAreaMinClassName,function(q){q.attr(j)}).attr("height",R._height),c.ensureSingle(D,"rect",x.grabAreaMaxClassName,function(q){q.attr(j)}).attr("height",R._height)}a.exports=function(O){for(var P=O._fullLayout,F=P._rangeSliderData,R=0;R<F.length;R++){var N=F[R][x.name];N._clipId=N._id+"-"+P._uid}var D=P._infolayer.selectAll("g."+x.containerClassName).data(F,function(I){return I._name});D.exit().each(function(I){var B=I[x.name];P._topdefs.select("#"+B._clipId).remove()}).remove(),F.length!==0&&(D.enter().append("g").classed(x.containerClassName,!0).attr("pointer-events","all"),D.each(function(I){var B=l.select(this),j=I[x.name],q=P[v.id2name(I.anchor)],et=j[v.id2name(I.anchor)];if(j.range){var U,Z=c.simpleMap(j.range,I.r2l),rt=c.simpleMap(I.range,I.r2l);U=rt[0]<rt[1]?[Math.min(Z[0],rt[0]),Math.max(Z[1],rt[1])]:[Math.max(Z[0],rt[0]),Math.min(Z[1],rt[1])],j.range=j._input.range=c.simpleMap(U,I.l2r)}I.cleanRange("rangeslider.range");var ft=P._size,z=I.domain;j._width=ft.w*(z[1]-z[0]);var W=Math.round(ft.l+ft.w*z[0]),X=Math.round(ft.t+ft.h*(1-I._counterDomainMin)+(I.side==="bottom"?I._depth:0)+j._offsetShift+x.extraPad);B.attr("transform",h(W,X)),j._rl=c.simpleMap(j.range,I.r2l);var it=j._rl[0],lt=j._rl[1],dt=lt-it;if(j.p2d=function(st){return st/j._width*dt+it},j.d2p=function(st){return(st-it)/dt*j._width},I.rangebreaks){var nt=I.locateBreaks(it,lt);if(nt.length){var V,G,H=0;for(V=0;V<nt.length;V++)H+=(G=nt[V]).max-G.min;var $=j._width/(lt-it-H),J=[-$*it];for(V=0;V<nt.length;V++)G=nt[V],J.push(J[J.length-1]-$*(G.max-G.min));for(j.d2p=function(st){for(var ht=J[0],xt=0;xt<nt.length;xt++){var Pt=nt[xt];if(st>=Pt.max)ht=J[xt+1];else if(st<Pt.min)break}return ht+$*st},V=0;V<nt.length;V++)(G=nt[V]).pmin=j.d2p(G.min),G.pmax=j.d2p(G.max);j.p2d=function(st){for(var ht=J[0],xt=0;xt<nt.length;xt++){var Pt=nt[xt];if(st>=Pt.pmax)ht=J[xt+1];else if(st<Pt.pmin)break}return(st-ht)/$}}}if(et.rangemode!=="match"){var Q=q.r2l(et.range[0]),ot=q.r2l(et.range[1])-Q;j.d2pOppAxis=function(st){return(st-Q)/ot*j._height}}B.call(w,O,I,j).call(E,O,I,j).call(S,O,I,j).call(C,O,I,j,et).call(T,O,I,j).call(A,O,I,j),function(st,ht,xt,Pt){if(!ht._context.staticPlot){var It=st.select("rect."+x.slideBoxClassName).node(),zt=st.select("rect."+x.grabAreaMinClassName).node(),pt=st.select("rect."+x.grabAreaMaxClassName).node();st.on("mousedown",yt),st.on("touchstart",yt)}function yt(){var wt=l.event,St=wt.target,Ut=wt.clientX||wt.touches[0].clientX,Gt=Ut-st.node().getBoundingClientRect().left,mt=Pt.d2p(xt._rl[0]),Tt=Pt.d2p(xt._rl[1]),At=y.coverSlip();function Et(Nt){var Ft,Lt,Dt,kt=+(Nt.clientX||Nt.touches[0].clientX)-Ut;switch(St){case It:if(Dt="ew-resize",mt+kt>xt._length||Tt+kt<0)return;Ft=mt+kt,Lt=Tt+kt;break;case zt:if(Dt="col-resize",mt+kt>xt._length)return;Ft=mt+kt,Lt=Tt;break;case pt:if(Dt="col-resize",Tt+kt<0)return;Ft=mt,Lt=Tt+kt;break;default:Dt="ew-resize",Ft=Gt,Lt=Gt+kt}if(Lt<Ft){var Wt=Lt;Lt=Ft,Ft=Wt}Pt._pixelMin=Ft,Pt._pixelMax=Lt,_(l.select(At),Dt),function(Qt,Ht,oe,ce){function pe(jt){return oe.l2r(c.constrain(jt,ce._rl[0],ce._rl[1]))}var we=pe(ce.p2d(ce._pixelMin)),Le=pe(ce.p2d(ce._pixelMax));window.requestAnimationFrame(function(){f.call("_guiRelayout",Ht,oe._name+".range",[we,Le])})}(0,ht,xt,Pt)}function Mt(){At.removeEventListener("mousemove",Et),At.removeEventListener("mouseup",Mt),this.removeEventListener("touchmove",Et),this.removeEventListener("touchend",Mt),c.removeElement(At)}this.addEventListener("touchmove",Et),this.addEventListener("touchend",Mt),At.addEventListener("mousemove",Et),At.addEventListener("mouseup",Mt)}}(B,O,I,j),function(st,ht,xt,Pt,It,zt){var pt=x.handleWidth/2;function yt(Nt){return c.constrain(Nt,0,Pt._width)}function wt(Nt){return c.constrain(Nt,0,Pt._height)}function St(Nt){return c.constrain(Nt,-pt,Pt._width+pt)}var Ut=yt(Pt.d2p(xt._rl[0])),Gt=yt(Pt.d2p(xt._rl[1]));if(st.select("rect."+x.slideBoxClassName).attr("x",Ut).attr("width",Gt-Ut),st.select("rect."+x.maskMinClassName).attr("width",Ut),st.select("rect."+x.maskMaxClassName).attr("x",Gt).attr("width",Pt._width-Gt),zt.rangemode!=="match"){var mt=Pt._height-wt(Pt.d2pOppAxis(It._rl[1])),Tt=Pt._height-wt(Pt.d2pOppAxis(It._rl[0]));st.select("rect."+x.maskMinOppAxisClassName).attr("x",Ut).attr("height",mt).attr("width",Gt-Ut),st.select("rect."+x.maskMaxOppAxisClassName).attr("x",Ut).attr("y",Tt).attr("height",Pt._height-Tt).attr("width",Gt-Ut),st.select("rect."+x.slideBoxClassName).attr("y",mt).attr("height",Tt-mt)}var At=.5,Et=Math.round(St(Ut-pt))-At,Mt=Math.round(St(Gt-pt))+At;st.select("g."+x.grabberMinClassName).attr("transform",h(Et,At)),st.select("g."+x.grabberMaxClassName).attr("transform",h(Mt,At))}(B,0,I,j,q,et),I.side==="bottom"&&g.draw(O,I._id+"title",{propContainer:I,propName:I._name+".title",placeholder:P._dfltTitle.x,attributes:{x:I._offset+I._length/2,y:X+j._height+j._offsetShift+10+1.5*I.title.font.size,"text-anchor":"middle"}})}))}},549:function(a,s,o){var l=o(1675),f=o(3893),u=o(3251),c=o(8783).LINE_SPACING,h=u.name;function d(p){var g=p&&p[h];return g&&g.visible}s.isVisible=d,s.makeData=function(p){var g=l.list({_fullLayout:p},"x",!0),m=p.margin,v=[];if(!p._has("gl2d"))for(var y=0;y<g.length;y++){var _=g[y];if(d(_)){v.push(_);var x=_[h];x._id=h+_._id,x._height=(p.height-m.b-m.t)*x.thickness,x._offsetShift=Math.floor(x.borderwidth/2)}}p._rangeSliderData=v},s.autoMarginOpts=function(p,g){var m=p._fullLayout,v=g[h],y=g._id.charAt(0),_=0,x=0;return g.side==="bottom"&&(_=g._depth,g.title.text!==m._dfltTitle[y]&&(x=1.5*g.title.font.size+10+v._offsetShift,x+=(g.title.text.match(f.BR_TAG_ALL)||[]).length*g.title.font.size*c)),{x:0,y:g._counterDomainMin,l:0,r:0,t:0,b:v._height+_+Math.max(m.margin.b,x),pad:u.extraPad+2*v._offsetShift}}},3137:function(a,s,o){var l=o(1828),f=o(5148),u=o(7850),c=o(549);a.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:l.extendFlat({},f,{yaxis:u})}}},layoutAttributes:o(5148),handleDefaults:o(6377),calcAutorange:o(8443),draw:o(2413),isVisible:c.isVisible,makeData:c.makeData,autoMarginOpts:c.autoMarginOpts}},7850:function(a){a.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(a,s,o){var l=o(215),f=o(2196).line,u=o(9952).P,c=o(1426).extendFlat,h=o(962).overrideAll,d=o(4467).templatedArray;o(4695),a.exports=h(d("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:c({},l.xref,{}),yref:c({},l.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:f.color,width:c({},f.width,{min:1,dflt:1}),dash:c({},u,{dflt:"dot"})}}),"arraydraw","from-root")},4122:function(a){a.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},9402:function(a,s,o){var l=o(1828),f=o(9298),u=o(5501),c=o(8389),h=o(477);function d(p,g,m){function v(B,j){return l.coerce(p,g,c,B,j)}var y=v("path"),_=v("type",y?"path":"rect")!=="path";_&&delete g.path,v("opacity"),v("line.color"),v("line.width"),v("line.dash");for(var x=["x","y"],w=0;w<2;w++){var E,S,C,T=x[w],A={_fullLayout:m},O=f.coerceRef(p,g,A,T);if((E=f.getFromId(A,O))._selectionIndices.push(g._index),C=h.rangeToShapePosition(E),S=h.shapePositionToRange(E),_){var P=T+"0",F=T+"1",R=p[P],N=p[F];p[P]=S(p[P],!0),p[F]=S(p[F],!0),f.coercePosition(g,A,v,O,P),f.coercePosition(g,A,v,O,F);var D=g[P],I=g[F];D!==void 0&&I!==void 0&&(g[P]=C(D),g[F]=C(I),p[P]=R,p[F]=N)}}_&&l.noneOrAll(p,g,["x0","x1","y0","y1"])}a.exports=function(p,g){u(p,g,{name:"selections",handleItemDefaults:d});for(var m=g.selections,v=0;v<m.length;v++){var y=m[v];y&&y.path===void 0&&(y.x0!==void 0&&y.x1!==void 0&&y.y0!==void 0&&y.y1!==void 0||(g.selections[v]=null))}}},2485:function(a,s,o){var l=o(165).readPaths,f=o(2359),u=o(1873).clearOutlineControllers,c=o(7901),h=o(1424),d=o(4467).arrayEditor,p=o(477),g=p.getPathString;function m(w){var E=w._fullLayout;for(var S in u(w),E._selectionLayer.selectAll("path").remove(),E._plots){var C=E._plots[S].selectionLayer;C&&C.selectAll("path").remove()}for(var T=0;T<E.selections.length;T++)y(w,T)}function v(w){return w._context.editSelection}function y(w,E){w._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+E+'"]').remove();var S=p.makeSelectionsOptionsAndPlotinfo(w,E),C=S.options,T=S.plotinfo;C._input&&function(A){var O=g(w,C),P={"data-index":E,"fill-rule":"evenodd",d:O},F=C.opacity,R="rgba(0,0,0,0)",N=C.line.color||c.contrast(w._fullLayout.plot_bgcolor),D=C.line.width,I=C.line.dash;D||(D=5,I="solid");var B=v(w)&&w._fullLayout._activeSelectionIndex===E;B&&(R=w._fullLayout.activeselection.fillcolor,F=w._fullLayout.activeselection.opacity);for(var j=[],q=1;q>=0;q--){var et=A.append("path").attr(P).style("opacity",q?.1:F).call(c.stroke,N).call(c.fill,R).call(h.dashLine,q?"solid":I,q?4+D:D);if(_(et,w,C),B){var U=d(w.layout,"selections",C);et.style({cursor:"move"});var Z={element:et.node(),plotinfo:T,gd:w,editHelpers:U,isActiveSelection:!0},rt=l(O,w);f(rt,et,Z)}else et.style("pointer-events",q?"all":"none");j[q]=et}var ft=j[0];j[1].node().addEventListener("click",function(){return function(z,W){if(v(z)){var X=+W.node().getAttribute("data-index");if(X>=0){if(X===z._fullLayout._activeSelectionIndex)return void x(z);z._fullLayout._activeSelectionIndex=X,z._fullLayout._deactivateSelection=x,m(z)}}}(w,ft)})}(w._fullLayout._selectionLayer)}function _(w,E,S){var C=S.xref+S.yref;h.setClipUrl(w,"clip"+E._fullLayout._uid+C,E)}function x(w){v(w)&&w._fullLayout._activeSelectionIndex>=0&&(u(w),delete w._fullLayout._activeSelectionIndex,m(w))}a.exports={draw:m,drawOne:y,activateLastSelection:function(w){if(v(w)){var E=w._fullLayout.selections.length-1;w._fullLayout._activeSelectionIndex=E,w._fullLayout._deactivateSelection=x,m(w)}}}},3777:function(a,s,o){var l=o(9952).P,f=o(1426).extendFlat;a.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:f({},l,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},849:function(a){a.exports=function(s,o,l){l("newselection.mode"),l("newselection.line.width")&&(l("newselection.line.color"),l("newselection.line.dash")),l("activeselection.fillcolor"),l("activeselection.opacity")}},5855:function(a,s,o){var l=o(4505).selectMode,f=o(1873).clearOutline,u=o(165),c=u.readPaths,h=u.writePaths,d=u.fixDatesForPaths;a.exports=function(p,g){if(p.length){var m=p[0][0];if(m){var v=m.getAttribute("d"),y=g.gd,_=y._fullLayout.newselection,x=g.plotinfo,w=x.xaxis,E=x.yaxis,S=g.isActiveSelection,C=g.dragmode,T=(y.layout||{}).selections||[];if(!l(C)&&S!==void 0){var A=y._fullLayout._activeSelectionIndex;if(A<T.length)switch(y._fullLayout.selections[A].type){case"rect":C="select";break;case"path":C="lasso"}}var O,P=c(v,y,x,S),F={xref:w._id,yref:E._id,opacity:_.opacity,line:{color:_.line.color,width:_.line.width,dash:_.line.dash}};P.length===1&&(O=P[0]),O&&O.length===5&&C==="select"?(F.type="rect",F.x0=O[0][1],F.y0=O[0][2],F.x1=O[2][1],F.y1=O[2][2]):(F.type="path",w&&E&&d(P,w,E),F.path=h(P),O=null),f(y);for(var R=g.editHelpers,N=(R||{}).modifyItem,D=[],I=0;I<T.length;I++){var B=y._fullLayout.selections[I];if(B){if(D[I]=B._input,S!==void 0&&I===y._fullLayout._activeSelectionIndex){var j=F;switch(B.type){case"rect":N("x0",j.x0),N("x1",j.x1),N("y0",j.y0),N("y1",j.y1);break;case"path":N("path",j.path)}}}else D[I]=B}return S===void 0?(D.push(F),D):R?R.getUpdateObj():{}}}}},5549:function(a,s,o){var l=o(1828).strTranslate;function f(u,c){switch(u.type){case"log":return u.p2d(c);case"date":return u.p2r(c,0,u.calendar);default:return u.p2r(c)}}a.exports={p2r:f,r2p:function(u,c){switch(u.type){case"log":return u.d2p(c);case"date":return u.r2p(c,0,u.calendar);default:return u.r2p(c)}},axValue:function(u){var c=u._id.charAt(0)==="y"?1:0;return function(h){return f(u,h[c])}},getTransform:function(u){return l(u.xaxis._offset,u.yaxis._offset)}}},7322:function(a,s,o){var l=o(2485),f=o(3937);a.exports={moduleType:"component",name:"selections",layoutAttributes:o(8389),supplyLayoutDefaults:o(9402),supplyDrawNewSelectionDefaults:o(849),includeBasePlot:o(6325)("selections"),draw:l.draw,drawOne:l.drawOne,reselect:f.reselect,prepSelect:f.prepSelect,clearOutline:f.clearOutline,clearSelectionsCache:f.clearSelectionsCache,selectOnClick:f.selectOnClick}},3937:function(a,s,o){var l=o(2142),f=o(8258),u=o(3972),c=o(1424).dashStyle,h=o(7901),d=o(211),p=o(3469).makeEventData,g=o(4505),m=g.freeMode,v=g.rectMode,y=g.drawMode,_=g.openMode,x=g.selectMode,w=o(477),E=o(1459),S=o(2359),C=o(1873).clearOutline,T=o(165),A=T.handleEllipse,O=T.readPaths,P=o(551).newShapes,F=o(5855),R=o(2485).activateLastSelection,N=o(1828),D=N.sorterAsc,I=o(1082),B=o(9990),j=o(1675).getFromId,q=o(3306),et=o(1549).redrawReglTraces,U=o(4122),Z=U.MINSELECT,rt=I.filter,ft=I.tester,z=o(5549),W=z.p2r,X=z.axValue,it=z.getTransform;function lt(Mt){return Mt.subplot!==void 0}function dt(Mt,Nt,Ft,Lt,Dt,kt,Wt){var Qt,Ht,oe,ce,pe,we,Le,jt,Rt,te=Nt._hoverdata,ae=Nt._fullLayout.clickmode.indexOf("event")>-1,Se=[];if(function(Ae){return Ae&&Array.isArray(Ae)&&Ae[0].hoverOnBox!==!0}(te)){H(Mt,Nt,kt);var ne=function(Ae,$e){var Me,ct,gt=Ae[0],qt=-1,Vt=[];for(ct=0;ct<$e.length;ct++)if(Me=$e[ct],gt.fullData._expandedIndex===Me.cd[0].trace._expandedIndex){if(gt.hoverOnBox===!0)break;gt.pointNumber!==void 0?qt=gt.pointNumber:gt.binNumber!==void 0&&(qt=gt.binNumber,Vt=gt.pointNumbers);break}return{pointNumber:qt,pointNumbers:Vt,searchInfo:Me}}(te,Qt=Q(Nt,Ft,Lt,Dt));if(ne.pointNumbers.length>0?function(Ae,$e){var Me,ct,gt,qt=[];for(gt=0;gt<Ae.length;gt++)(Me=Ae[gt]).cd[0].trace.selectedpoints&&Me.cd[0].trace.selectedpoints.length>0&&qt.push(Me);if(qt.length===1&&qt[0]===$e.searchInfo&&(ct=$e.searchInfo.cd[0].trace).selectedpoints.length===$e.pointNumbers.length){for(gt=0;gt<$e.pointNumbers.length;gt++)if(ct.selectedpoints.indexOf($e.pointNumbers[gt])<0)return!1;return!0}return!1}(Qt,ne):function(Ae){var $e,Me,ct=0;for(Me=0;Me<Ae.length;Me++)if(($e=Ae[Me].cd[0].trace).selectedpoints&&($e.selectedpoints.length>1||(ct+=$e.selectedpoints.length)>1))return!1;return ct===1}(Qt)&&(we=st(ne))){for(Wt&&Wt.remove(),Rt=0;Rt<Qt.length;Rt++)(Ht=Qt[Rt])._module.selectPoints(Ht,!1);ht(Nt,Qt),$(kt),ae&&Et(Nt)}else{for(Le=Mt.shiftKey&&(we!==void 0?we:st(ne)),oe=function(Ae,$e,Me){return{pointNumber:Ae,searchInfo:$e,subtract:!!Me}}(ne.pointNumber,ne.searchInfo,Le),ce=G(kt.selectionDefs.concat([oe])),Rt=0;Rt<Qt.length;Rt++)if(pe=Pt(Qt[Rt]._module.selectPoints(Qt[Rt],ce),Qt[Rt]),Se.length)for(var ge=0;ge<pe.length;ge++)Se.push(pe[ge]);else Se=pe;if(ht(Nt,Qt,jt={points:Se}),oe&&kt&&kt.selectionDefs.push(oe),Wt){var xe=kt.mergedPolygons,Fe=_(kt.dragmode);S(It(xe,Fe),Wt,kt)}ae&&At(Nt,jt)}}}function nt(Mt){return"pointNumber"in Mt&&"searchInfo"in Mt}function V(Mt){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Nt,Ft,Lt,Dt){var kt=Mt.searchInfo.cd[0].trace._expandedIndex;return Dt.cd[0].trace._expandedIndex===kt&&Lt===Mt.pointNumber},isRect:!1,degenerate:!1,subtract:!!Mt.subtract}}function G(Mt){if(Mt.length){for(var Nt=[],Ft=nt(Mt[0])?0:Mt[0][0][0],Lt=Ft,Dt=nt(Mt[0])?0:Mt[0][0][1],kt=Dt,Wt=0;Wt<Mt.length;Wt++)if(nt(Mt[Wt]))Nt.push(V(Mt[Wt]));else{var Qt=ft(Mt[Wt]);Qt.subtract=!!Mt[Wt].subtract,Nt.push(Qt),Ft=Math.min(Ft,Qt.xmin),Lt=Math.max(Lt,Qt.xmax),Dt=Math.min(Dt,Qt.ymin),kt=Math.max(kt,Qt.ymax)}return{xmin:Ft,xmax:Lt,ymin:Dt,ymax:kt,pts:[],contains:function(Ht,oe,ce,pe){for(var we=!1,Le=0;Le<Nt.length;Le++)Nt[Le].contains(Ht,oe,ce,pe)&&(we=!Nt[Le].subtract);return we},isRect:!1,degenerate:!1}}}function H(Mt,Nt,Ft){var Lt=Nt._fullLayout,Dt=Ft.plotinfo,kt=Ft.dragmode,Wt=Lt._lastSelectedSubplot&&Lt._lastSelectedSubplot===Dt.id,Qt=(Mt.shiftKey||Mt.altKey)&&!(y(kt)&&_(kt));Wt&&Qt&&Dt.selection&&Dt.selection.selectionDefs&&!Ft.selectionDefs?(Ft.selectionDefs=Dt.selection.selectionDefs,Ft.mergedPolygons=Dt.selection.mergedPolygons):Qt&&Dt.selection||$(Ft),Wt||(C(Nt),Lt._lastSelectedSubplot=Dt.id)}function $(Mt,Nt){var Ft=Mt.dragmode,Lt=Mt.plotinfo,Dt=Mt.gd;(function(pe){return pe._fullLayout._activeShapeIndex>=0})(Dt)&&Dt._fullLayout._deactivateShape(Dt),function(pe){return pe._fullLayout._activeSelectionIndex>=0}(Dt)&&Dt._fullLayout._deactivateSelection(Dt);var kt=Dt._fullLayout._zoomlayer,Wt=y(Ft),Qt=x(Ft);if(Wt||Qt){var Ht,oe,ce=kt.selectAll(".select-outline-"+Lt.id);ce&&Dt._fullLayout._outlining&&(Wt&&(Ht=P(ce,Mt)),Ht&&u.call("_guiRelayout",Dt,{shapes:Ht}),Qt&&!lt(Mt)&&(oe=F(ce,Mt)),oe&&(Dt._fullLayout._noEmitSelectedAtStart=!0,u.call("_guiRelayout",Dt,{selections:oe}).then(function(){Nt&&R(Dt)})),Dt._fullLayout._outlining=!1)}Lt.selection={},Lt.selection.selectionDefs=Mt.selectionDefs=[],Lt.selection.mergedPolygons=Mt.mergedPolygons=[]}function J(Mt){return Mt._id}function Q(Mt,Nt,Ft,Lt){if(!Mt.calcdata)return[];var Dt,kt,Wt,Qt=[],Ht=Nt.map(J),oe=Ft.map(J);for(Wt=0;Wt<Mt.calcdata.length;Wt++)if((kt=(Dt=Mt.calcdata[Wt])[0].trace).visible===!0&&kt._module&&kt._module.selectPoints)if(!lt({subplot:Lt})||kt.subplot!==Lt&&kt.geo!==Lt)if(kt.type==="splom"){if(kt._xaxes[Ht[0]]&&kt._yaxes[oe[0]]){var ce=ot(kt._module,Dt,Nt[0],Ft[0]);ce.scene=Mt._fullLayout._splomScenes[kt.uid],Qt.push(ce)}}else if(kt.type==="sankey"){var pe=ot(kt._module,Dt,Nt[0],Ft[0]);Qt.push(pe)}else{if(Ht.indexOf(kt.xaxis)===-1||oe.indexOf(kt.yaxis)===-1)continue;Qt.push(ot(kt._module,Dt,j(Mt,kt.xaxis),j(Mt,kt.yaxis)))}else Qt.push(ot(kt._module,Dt,Nt[0],Ft[0]));return Qt}function ot(Mt,Nt,Ft,Lt){return{_module:Mt,cd:Nt,xaxis:Ft,yaxis:Lt}}function st(Mt){var Nt=Mt.searchInfo.cd[0].trace,Ft=Mt.pointNumber,Lt=Mt.pointNumbers,Dt=Lt.length>0?Lt[0]:Ft;return!!Nt.selectedpoints&&Nt.selectedpoints.indexOf(Dt)>-1}function ht(Mt,Nt,Ft){var Lt,Dt;for(Lt=0;Lt<Nt.length;Lt++){var kt=Nt[Lt].cd[0].trace._fullInput,Wt=Mt._fullLayout._tracePreGUI[kt.uid]||{};Wt.selectedpoints===void 0&&(Wt.selectedpoints=kt._input.selectedpoints||null)}if(Ft){var Qt=Ft.points||[];for(Lt=0;Lt<Nt.length;Lt++)(Dt=Nt[Lt].cd[0].trace)._input.selectedpoints=Dt._fullInput.selectedpoints=[],Dt._fullInput!==Dt&&(Dt.selectedpoints=[]);for(var Ht=0;Ht<Qt.length;Ht++){var oe=Qt[Ht],ce=oe.data,pe=oe.fullData,we=oe.pointIndex,Le=oe.pointIndices;Le?([].push.apply(ce.selectedpoints,Le),Dt._fullInput!==Dt&&[].push.apply(pe.selectedpoints,Le)):(ce.selectedpoints.push(we),Dt._fullInput!==Dt&&pe.selectedpoints.push(we))}}else for(Lt=0;Lt<Nt.length;Lt++)delete(Dt=Nt[Lt].cd[0].trace).selectedpoints,delete Dt._input.selectedpoints,Dt._fullInput!==Dt&&delete Dt._fullInput.selectedpoints;(function(jt,Rt){for(var te=!1,ae=0;ae<Rt.length;ae++){var Se=Rt[ae],ne=Se.cd;u.traceIs(ne[0].trace,"regl")&&(te=!0);var ge=Se._module,xe=ge.styleOnSelect||ge.style;xe&&(xe(jt,ne,ne[0].node3),ne[0].nodeRangePlot3&&xe(jt,ne,ne[0].nodeRangePlot3))}te&&(q(jt),et(jt))})(Mt,Nt)}function xt(Mt,Nt,Ft){for(var Lt=(Ft?l.difference:l.union)({regions:Mt},{regions:[Nt]}).regions.reverse(),Dt=0;Dt<Lt.length;Dt++){var kt=Lt[Dt];kt.subtract=Ut(kt,Lt.slice(0,Dt))}return Lt}function Pt(Mt,Nt){if(Array.isArray(Mt))for(var Ft=Nt.cd,Lt=Nt.cd[0].trace,Dt=0;Dt<Mt.length;Dt++)Mt[Dt]=p(Mt[Dt],Lt,Ft);return Mt}function It(Mt,Nt){for(var Ft=[],Lt=0;Lt<Mt.length;Lt++){Ft[Lt]=[];for(var Dt=0;Dt<Mt[Lt].length;Dt++){Ft[Lt][Dt]=[],Ft[Lt][Dt][0]=Dt?"L":"M";for(var kt=0;kt<Mt[Lt][Dt].length;kt++)Ft[Lt][Dt].push(Mt[Lt][Dt][kt])}Nt||Ft[Lt].push(["Z",Ft[Lt][0][1],Ft[Lt][0][2]])}return Ft}function zt(Mt,Nt){for(var Ft,Lt,Dt=[],kt=[],Wt=0;Wt<Nt.length;Wt++){var Qt=Nt[Wt];Lt=Qt._module.selectPoints(Qt,Mt),kt.push(Lt),Ft=Pt(Lt,Qt),Dt=Dt.concat(Ft)}return Dt}function pt(Mt,Nt,Ft,Lt,Dt){var kt,Wt,Qt,Ht=!!Lt;Dt&&(kt=Dt.plotinfo,Wt=Dt.xaxes[0]._id,Qt=Dt.yaxes[0]._id);var oe=[],ce=[],pe=St(Mt),we=Mt._fullLayout;if(kt){var Le=we._zoomlayer,jt=we.dragmode,Rt=y(jt),te=x(jt);if(Rt||te){var ae=j(Mt,Wt,"x"),Se=j(Mt,Qt,"y");if(ae&&Se){var ne=Le.selectAll(".select-outline-"+kt.id);if(ne&&Mt._fullLayout._outlining&&ne.length){for(var ge=ne[0][0].getAttribute("d"),xe=O(ge,Mt,kt),Fe=[],Ae=0;Ae<xe.length;Ae++){for(var $e=xe[Ae],Me=[],ct=0;ct<$e.length;ct++)Me.push([Gt(ae,$e[ct][1]),Gt(Se,$e[ct][2])]);Me.xref=Wt,Me.yref=Qt,Me.subtract=Ut(Me,Fe),Fe.push(Me)}pe=pe.concat(Fe)}}}}var gt=Wt&&Qt?[Wt+Qt]:we._subplots.cartesian;(function(Ye){var rn=Ye.calcdata;if(rn)for(var Ue=0;Ue<rn.length;Ue++){var Je=rn[Ue][0].trace,dn=Ye._fullLayout._splomScenes;if(dn){var Mn=dn[Je.uid];Mn&&(Mn.selectBatch=[])}}})(Mt);for(var qt={},Vt=0;Vt<gt.length;Vt++){var Jt=gt[Vt],Xt=Jt.indexOf("y"),ee=Jt.slice(0,Xt),re=Jt.slice(Xt),fe=Wt&&Qt?Ft:void 0;if(fe=wt(pe,ee,re,fe)){var ye=Lt;if(!Ht){var se=j(Mt,ee,"x"),Ge=j(Mt,re,"y");ye=Q(Mt,[se],[Ge],Jt);for(var nn=0;nn<ye.length;nn++){var Oe=ye[nn],We=Oe.cd[0],je=We.trace;if(Oe._module.name==="scattergl"&&!We.t.xpx){var _e=je.x,he=je.y,Pe=je._length;We.t.xpx=[],We.t.ypx=[];for(var an=0;an<Pe;an++)We.t.xpx[an]=se.c2p(_e[an]),We.t.ypx[an]=Ge.c2p(he[an])}Oe._module.name==="splom"&&(qt[je.uid]||(qt[je.uid]=!0))}}var tn=zt(fe,ye);oe=oe.concat(tn),ce=ce.concat(ye)}}var on={points:oe};ht(Mt,ce,on);var be=we.clickmode.indexOf("event")>-1&&Nt;if(!kt&&Nt){var Re=St(Mt,!0);if(Re.length){var ze=Re[0].xref,qe=Re[0].yref;if(ze&&qe){var He=mt(Re);Tt([j(Mt,ze,"x"),j(Mt,qe,"y")])(on,He)}}Mt._fullLayout._noEmitSelectedAtStart?Mt._fullLayout._noEmitSelectedAtStart=!1:be&&At(Mt,on),we._reselect=!1}if(!kt&&we._deselect){var Xe=we._deselect;(function(Ye,rn,Ue){for(var Je=0;Je<Ue.length;Je++){var dn=Ue[Je];if(dn.xaxis&&dn.xaxis._id===Ye&&dn.yaxis&&dn.yaxis._id===rn)return!0}return!1})(Wt=Xe.xref,Qt=Xe.yref,ce)||yt(Mt,Wt,Qt,Lt),be&&(on.points.length?At(Mt,on):Et(Mt)),we._deselect=!1}return{eventData:on,selectionTesters:Ft}}function yt(Mt,Nt,Ft,Lt){Lt=Q(Mt,[j(Mt,Nt,"x")],[j(Mt,Ft,"y")],Nt+Ft);for(var Dt=0;Dt<Lt.length;Dt++){var kt=Lt[Dt];kt._module.selectPoints(kt,!1)}ht(Mt,Lt)}function wt(Mt,Nt,Ft,Lt){for(var Dt,kt=0;kt<Mt.length;kt++){var Wt=Mt[kt];Nt===Wt.xref&&Ft===Wt.yref&&(Dt?Lt=G(Dt=xt(Dt,Wt,!!Wt.subtract)):(Dt=[Wt],Lt=ft(Wt)))}return Lt}function St(Mt,Nt){for(var Ft=[],Lt=Mt._fullLayout,Dt=Lt.selections,kt=Dt.length,Wt=0;Wt<kt;Wt++)if(!Nt||Wt===Lt._activeSelectionIndex){var Qt=Dt[Wt];if(Qt){var Ht,oe,ce,pe,we,Le=Qt.xref,jt=Qt.yref,Rt=j(Mt,Le,"x"),te=j(Mt,jt,"y");if(Qt.type==="rect"){we=[];var ae=Gt(Rt,Qt.x0),Se=Gt(Rt,Qt.x1),ne=Gt(te,Qt.y0),ge=Gt(te,Qt.y1);we=[[ae,ne],[ae,ge],[Se,ge],[Se,ne]],Ht=Math.min(ae,Se),oe=Math.max(ae,Se),ce=Math.min(ne,ge),pe=Math.max(ne,ge),we.xmin=Ht,we.xmax=oe,we.ymin=ce,we.ymax=pe,we.xref=Le,we.yref=jt,we.subtract=!1,we.isRect=!0,Ft.push(we)}else if(Qt.type==="path")for(var xe=Qt.path.split("Z"),Fe=[],Ae=0;Ae<xe.length;Ae++){var $e=xe[Ae];if($e){$e+="Z";var Me=w.extractPathCoords($e,E.paramIsX,"raw"),ct=w.extractPathCoords($e,E.paramIsY,"raw");Ht=1/0,oe=-1/0,ce=1/0,pe=-1/0,we=[];for(var gt=0;gt<Me.length;gt++){var qt=Gt(Rt,Me[gt]),Vt=Gt(te,ct[gt]);we.push([qt,Vt]),Ht=Math.min(qt,Ht),oe=Math.max(qt,oe),ce=Math.min(Vt,ce),pe=Math.max(Vt,pe)}we.xmin=Ht,we.xmax=oe,we.ymin=ce,we.ymax=pe,we.xref=Le,we.yref=jt,we.subtract=Ut(we,Fe),Fe.push(we),Ft.push(we)}}}}return Ft}function Ut(Mt,Nt){for(var Ft=!1,Lt=0;Lt<Nt.length;Lt++)for(var Dt=Nt[Lt],kt=0;kt<Mt.length;kt++)if(f(Mt[kt],Dt)){Ft=!Ft;break}return Ft}function Gt(Mt,Nt){return Mt.type==="date"&&(Nt=Nt.replace("_"," ")),Mt.type==="log"?Mt.c2p(Nt):Mt.r2p(Nt,null,Mt.calendar)}function mt(Mt){for(var Nt=Mt.length,Ft=[],Lt=0;Lt<Nt;Lt++){var Dt=Mt[Lt];Ft=(Ft=Ft.concat(Dt)).concat([Dt[0]])}return(kt=Ft).isRect=kt.length===5&&kt[0][0]===kt[4][0]&&kt[0][1]===kt[4][1]&&kt[0][0]===kt[1][0]&&kt[2][0]===kt[3][0]&&kt[0][1]===kt[3][1]&&kt[1][1]===kt[2][1]||kt[0][1]===kt[1][1]&&kt[2][1]===kt[3][1]&&kt[0][0]===kt[3][0]&&kt[1][0]===kt[2][0],kt.isRect&&(kt.xmin=Math.min(kt[0][0],kt[2][0]),kt.xmax=Math.max(kt[0][0],kt[2][0]),kt.ymin=Math.min(kt[0][1],kt[2][1]),kt.ymax=Math.max(kt[0][1],kt[2][1])),kt;var kt}function Tt(Mt){return function(Nt,Ft){for(var Lt,Dt,kt=0;kt<Mt.length;kt++){var Wt=Mt[kt],Qt=Wt._id,Ht=Qt.charAt(0);if(Ft.isRect){Lt||(Lt={});var oe=Ft[Ht+"min"],ce=Ft[Ht+"max"];oe!==void 0&&ce!==void 0&&(Lt[Qt]=[W(Wt,oe),W(Wt,ce)].sort(D))}else Dt||(Dt={}),Dt[Qt]=Ft.map(X(Wt))}Lt&&(Nt.range=Lt),Dt&&(Nt.lassoPoints=Dt)}}function At(Mt,Nt){Nt&&(Nt.selections=(Mt.layout||{}).selections||[]),Mt.emit("plotly_selected",Nt)}function Et(Mt){Mt.emit("plotly_deselect",null)}a.exports={reselect:pt,prepSelect:function(Mt,Nt,Ft,Lt,Dt){var kt=!lt(Lt),Wt=m(Dt),Qt=v(Dt),Ht=_(Dt),oe=y(Dt),ce=x(Dt),pe=Dt==="drawcircle",we=Dt==="drawline"||pe,Le=Lt.gd,jt=Le._fullLayout,Rt=ce&&jt.newselection.mode==="immediate"&&kt,te=jt._zoomlayer,ae=Lt.element.getBoundingClientRect(),Se=Lt.plotinfo,ne=it(Se),ge=Nt-ae.left,xe=Ft-ae.top;jt._calcInverseTransform(Le);var Fe=N.apply3DTransform(jt._invTransform)(ge,xe);ge=Fe[0],xe=Fe[1];var Ae,$e,Me,ct,gt,qt,Vt,Jt=jt._invScaleX,Xt=jt._invScaleY,ee=ge,re=xe,fe="M"+ge+","+xe,ye=Lt.xaxes[0],se=Lt.yaxes[0],Ge=ye._length,nn=se._length,Oe=Mt.altKey&&!(y(Dt)&&Ht);H(Mt,Le,Lt),Wt&&(Ae=rt([[ge,xe]],U.BENDPX));var We=te.selectAll("path.select-outline-"+Se.id).data([1]),je=oe?jt.newshape:jt.newselection;oe&&(Lt.hasText=je.label.text||je.label.texttemplate);var _e=oe&&!Ht?je.fillcolor:"rgba(0,0,0,0)",he=je.line.color||(kt?h.contrast(Le._fullLayout.plot_bgcolor):"#7f7f7f");We.enter().append("path").attr("class","select-outline select-outline-"+Se.id).style({opacity:oe?je.opacity/2:1,"stroke-dasharray":c(je.line.dash,je.line.width),"stroke-width":je.line.width+"px","shape-rendering":"crispEdges"}).call(h.stroke,he).call(h.fill,_e).attr("fill-rule","evenodd").classed("cursor-move",!!oe).attr("transform",ne).attr("d",fe+"Z");var Pe=te.append("path").attr("class","zoombox-corners").style({fill:h.background,stroke:h.defaultLine,"stroke-width":1}).attr("transform",ne).attr("d","M0,0Z");if(oe&&Lt.hasText){var an=te.select(".label-temp");an.empty()&&(an=te.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var tn=jt._uid+U.SELECTID,on=[],be=Q(Le,Lt.xaxes,Lt.yaxes,Lt.subplot);Rt&&!Mt.shiftKey&&(Lt._clearSubplotSelections=function(){if(kt){var ze=ye._id,qe=se._id;yt(Le,ze,qe,be);for(var He=(Le.layout||{}).selections||[],Xe=[],Ye=!1,rn=0;rn<He.length;rn++){var Ue=jt.selections[rn];Ue.xref!==ze||Ue.yref!==qe?Xe.push(He[rn]):Ye=!0}Ye&&(Le._fullLayout._noEmitSelectedAtStart=!0,u.call("_guiRelayout",Le,{selections:Xe}))}});var Re=function(ze){return ze.plotinfo.fillRangeItems||Tt(ze.xaxes.concat(ze.yaxes))}(Lt);Lt.moveFn=function(ze,qe){Lt._clearSubplotSelections&&(Lt._clearSubplotSelections(),Lt._clearSubplotSelections=void 0),ee=Math.max(0,Math.min(Ge,Jt*ze+ge)),re=Math.max(0,Math.min(nn,Xt*qe+xe));var He=Math.abs(ee-ge),Xe=Math.abs(re-xe);if(Qt){var Ye,rn,Ue;if(ce){var Je=jt.selectdirection;switch(Ye=Je==="any"?Xe<Math.min(.6*He,Z)?"h":He<Math.min(.6*Xe,Z)?"v":"d":Je){case"h":rn=pe?nn/2:0,Ue=nn;break;case"v":rn=pe?Ge/2:0,Ue=Ge}}if(oe)switch(jt.newshape.drawdirection){case"vertical":Ye="h",rn=pe?nn/2:0,Ue=nn;break;case"horizontal":Ye="v",rn=pe?Ge/2:0,Ue=Ge;break;case"ortho":He<Xe?(Ye="h",rn=xe,Ue=re):(Ye="v",rn=ge,Ue=ee);break;default:Ye="d"}Ye==="h"?((ct=we?A(pe,[ee,rn],[ee,Ue]):[[ge,rn],[ge,Ue],[ee,Ue],[ee,rn]]).xmin=we?ee:Math.min(ge,ee),ct.xmax=we?ee:Math.max(ge,ee),ct.ymin=Math.min(rn,Ue),ct.ymax=Math.max(rn,Ue),Pe.attr("d","M"+ct.xmin+","+(xe-Z)+"h-4v"+2*Z+"h4ZM"+(ct.xmax-1)+","+(xe-Z)+"h4v"+2*Z+"h-4Z")):Ye==="v"?((ct=we?A(pe,[rn,re],[Ue,re]):[[rn,xe],[rn,re],[Ue,re],[Ue,xe]]).xmin=Math.min(rn,Ue),ct.xmax=Math.max(rn,Ue),ct.ymin=we?re:Math.min(xe,re),ct.ymax=we?re:Math.max(xe,re),Pe.attr("d","M"+(ge-Z)+","+ct.ymin+"v-4h"+2*Z+"v4ZM"+(ge-Z)+","+(ct.ymax-1)+"v4h"+2*Z+"v-4Z")):Ye==="d"&&((ct=we?A(pe,[ge,xe],[ee,re]):[[ge,xe],[ge,re],[ee,re],[ee,xe]]).xmin=Math.min(ge,ee),ct.xmax=Math.max(ge,ee),ct.ymin=Math.min(xe,re),ct.ymax=Math.max(xe,re),Pe.attr("d","M0,0Z"))}else Wt&&(Ae.addPt([ee,re]),ct=Ae.filtered);if(Lt.selectionDefs&&Lt.selectionDefs.length?(Me=xt(Lt.mergedPolygons,ct,Oe),ct.subtract=Oe,$e=G(Lt.selectionDefs.concat([ct]))):(Me=[ct],$e=ft(ct)),S(It(Me,Ht),We,Lt),ce){var dn,Mn=pt(Le,!1),Sn=Mn.eventData?Mn.eventData.points.slice():[];Mn=pt(Le,!1,$e,be,Lt),$e=Mn.selectionTesters,Vt=Mn.eventData,dn=Ae?Ae.filtered:mt(Me),B.throttle(tn,U.SELECTDELAY,function(){for(var vn=(on=zt($e,be)).slice(),bn=0;bn<Sn.length;bn++){for(var Dn=Sn[bn],yn=!1,In=0;In<vn.length;In++)if(vn[In].curveNumber===Dn.curveNumber&&vn[In].pointNumber===Dn.pointNumber){yn=!0;break}yn||vn.push(Dn)}vn.length&&(Vt||(Vt={}),Vt.points=vn),Re(Vt,dn),function(pn,Bn){pn.emit("plotly_selecting",Bn)}(Le,Vt)})}},Lt.clickFn=function(ze,qe){if(Pe.remove(),Le._fullLayout._activeShapeIndex>=0)Le._fullLayout._deactivateShape(Le);else if(!oe){var He=jt.clickmode;B.done(tn).then(function(){if(B.clear(tn),ze===2){for(We.remove(),gt=0;gt<be.length;gt++)(qt=be[gt])._module.selectPoints(qt,!1);if(ht(Le,be),$(Lt),Et(Le),be.length){var Xe=be[0].xaxis,Ye=be[0].yaxis;if(Xe&&Ye){for(var rn=[],Ue=Le._fullLayout.selections,Je=0;Je<Ue.length;Je++){var dn=Ue[Je];dn&&(dn.xref===Xe._id&&dn.yref===Ye._id||rn.push(dn))}rn.length<Ue.length&&(Le._fullLayout._noEmitSelectedAtStart=!0,u.call("_guiRelayout",Le,{selections:rn}))}}}else He.indexOf("select")>-1&&dt(qe,Le,Lt.xaxes,Lt.yaxes,Lt.subplot,Lt,We),He==="event"&&At(Le,void 0);d.click(Le,qe,Se.id)}).catch(N.error)}},Lt.doneFn=function(){Pe.remove(),B.done(tn).then(function(){B.clear(tn),!Rt&&ct&&Lt.selectionDefs&&(ct.subtract=Oe,Lt.selectionDefs.push(ct),Lt.mergedPolygons.length=0,[].push.apply(Lt.mergedPolygons,Me)),(Rt||oe)&&$(Lt,Rt),Lt.doneFnCompleted&&Lt.doneFnCompleted(on),ce&&At(Le,Vt)}).catch(N.error)}},clearOutline:C,clearSelectionsCache:$,selectOnClick:dt}},9827:function(a,s,o){var l=o(215),f=o(1940),u=o(2196).line,c=o(9952).P,h=o(1426).extendFlat,d=o(4467).templatedArray,p=(o(4695),o(9012)),g=o(5386).R,m=o(7281);a.exports=d("shape",{visible:h({},p.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:h({},p.legend,{editType:"calc+arraydraw"}),legendgroup:h({},p.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:h({},p.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:f({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:h({},p.legendrank,{editType:"calc+arraydraw"}),legendwidth:h({},p.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:h({},l.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:h({},l.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:h({},u.color,{editType:"arraydraw"}),width:h({},u.width,{editType:"calc+arraydraw"}),dash:h({},c,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:g({},{keys:Object.keys(m)}),font:f({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(a,s,o){var l=o(1828),f=o(9298),u=o(1459),c=o(477);function h(m){return p(m.line.width,m.xsizemode,m.x0,m.x1,m.path,!1)}function d(m){return p(m.line.width,m.ysizemode,m.y0,m.y1,m.path,!0)}function p(m,v,y,_,x,w){var E=m/2,S=w;if(v==="pixel"){var C=x?c.extractPathCoords(x,w?u.paramIsY:u.paramIsX):[y,_],T=l.aggNums(Math.max,null,C),A=l.aggNums(Math.min,null,C),O=A<0?Math.abs(A)+E:E,P=T>0?T+E:E;return{ppad:E,ppadplus:S?O:P,ppadminus:S?P:O}}return{ppad:E}}function g(m,v,y,_,x){var w=m.type==="category"||m.type==="multicategory"?m.r2c:m.d2c;if(v!==void 0)return[w(v),w(y)];if(_){var E,S,C,T,A=1/0,O=-1/0,P=_.match(u.segmentRE);for(m.type==="date"&&(w=c.decodeDate(w)),E=0;E<P.length;E++)(S=x[P[E].charAt(0)].drawn)!==void 0&&(!(C=P[E].substr(1).match(u.paramRE))||C.length<S||((T=w(C[S]))<A&&(A=T),T>O&&(O=T)));return O>=A?[A,O]:void 0}}a.exports=function(m){var v=m._fullLayout,y=l.filterVisible(v.shapes);if(y.length&&m._fullData.length)for(var _=0;_<y.length;_++){var x,w,E=y[_];E._extremes={};var S=f.getRefType(E.xref),C=f.getRefType(E.yref);if(E.xref!=="paper"&&S!=="domain"){var T=E.xsizemode==="pixel"?E.xanchor:E.x0,A=E.xsizemode==="pixel"?E.xanchor:E.x1;(w=g(x=f.getFromId(m,E.xref),T,A,E.path,u.paramIsX))&&(E._extremes[x._id]=f.findExtremes(x,w,h(E)))}if(E.yref!=="paper"&&C!=="domain"){var O=E.ysizemode==="pixel"?E.yanchor:E.y0,P=E.ysizemode==="pixel"?E.yanchor:E.y1;(w=g(x=f.getFromId(m,E.yref),O,P,E.path,u.paramIsY))&&(E._extremes[x._id]=f.findExtremes(x,w,d(E)))}}}},1459:function(a){a.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},4726:function(a,s,o){var l=o(1828),f=o(9298),u=o(5501),c=o(9827),h=o(477);function d(p,g,m){function v(z,W){return l.coerce(p,g,c,z,W)}if(g._isShape=!0,v("visible")){v("showlegend")&&(v("legend"),v("legendwidth"),v("legendgroup"),v("legendgrouptitle.text"),l.coerceFont(v,"legendgrouptitle.font"),v("legendrank"));var y=v("path"),_=v("type",y?"path":"rect"),x=_!=="path";x&&delete g.path,v("editable"),v("layer"),v("opacity"),v("fillcolor"),v("fillrule"),v("line.width")&&(v("line.color"),v("line.dash"));for(var w=v("xsizemode"),E=v("ysizemode"),S=["x","y"],C=0;C<2;C++){var T,A,O,P=S[C],F=P+"anchor",R=P==="x"?w:E,N={_fullLayout:m},D=f.coerceRef(p,g,N,P,void 0,"paper");if(f.getRefType(D)==="range"?((T=f.getFromId(N,D))._shapeIndices.push(g._index),O=h.rangeToShapePosition(T),A=h.shapePositionToRange(T)):A=O=l.identity,x){var I=P+"0",B=P+"1",j=p[I],q=p[B];p[I]=A(p[I],!0),p[B]=A(p[B],!0),R==="pixel"?(v(I,0),v(B,10)):(f.coercePosition(g,N,v,D,I,.25),f.coercePosition(g,N,v,D,B,.75)),g[I]=O(g[I]),g[B]=O(g[B]),p[I]=j,p[B]=q}if(R==="pixel"){var et=p[F];p[F]=A(p[F],!0),f.coercePosition(g,N,v,D,F,.25),g[F]=O(g[F]),p[F]=et}}x&&l.noneOrAll(p,g,["x0","x1","y0","y1"]);var U,Z,rt=_==="line";if(x&&(U=v("label.texttemplate")),U||(Z=v("label.text")),Z||U){v("label.textangle");var ft=v("label.textposition",rt?"middle":"middle center");v("label.xanchor"),v("label.yanchor",function(z,W){return z?"bottom":W.indexOf("top")!==-1?"top":W.indexOf("bottom")!==-1?"bottom":"middle"}(rt,ft)),v("label.padding"),l.coerceFont(v,"label.font",m.font)}}}a.exports=function(p,g){u(p,g,{name:"shapes",handleItemDefaults:d})}},8100:function(a,s,o){var l=o(1828),f=o(9298),u=o(3893),c=o(1424),h=o(165).readPaths,d=o(477),p=d.getPathString,g=o(7281),m=o(8783).FROM_TL;a.exports=function(v,y,_,x){if(x.selectAll(".shape-label").remove(),_.label.text||_.label.texttemplate){var w;if(_.label.texttemplate){var E={};if(_.type!=="path"){var S=f.getFromId(v,_.xref),C=f.getFromId(v,_.yref);for(var T in g){var A=g[T](_,S,C);A!==void 0&&(E[T]=A)}}w=l.texttemplateStringForShapes(_.label.texttemplate,{},v._fullLayout._d3locale,E)}else w=_.label.text;var O,P,F,R,N={"data-index":y},D=_.label.font,I=x.append("g").attr(N).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(w);if(_.path){var B=p(v,_),j=h(B,v);O=1/0,F=1/0,P=-1/0,R=-1/0;for(var q=0;q<j.length;q++)for(var et=0;et<j[q].length;et++)for(var U=j[q][et],Z=1;Z<U.length;Z+=2){var rt=U[Z],ft=U[Z+1];O=Math.min(O,rt),P=Math.max(P,rt),F=Math.min(F,ft),R=Math.max(R,ft)}}else{var z=f.getFromId(v,_.xref),W=f.getRefType(_.xref),X=f.getFromId(v,_.yref),it=f.getRefType(_.yref),lt=d.getDataToPixel(v,z,!1,W),dt=d.getDataToPixel(v,X,!0,it);O=lt(_.x0),P=lt(_.x1),F=dt(_.y0),R=dt(_.y1)}var nt=_.label.textangle;nt==="auto"&&(nt=_.type==="line"?function(J,Q,ot,st){var ht,xt;return xt=Math.abs(ot-J),ht=ot>=J?Q-st:st-Q,-180/Math.PI*Math.atan2(ht,xt)}(O,F,P,R):0),I.call(function(J){return J.call(c.font,D).attr({}),u.convertToTspans(J,v),J});var V=function(J,Q,ot,st,ht,xt,Pt){var It,zt,pt,yt,wt=ht.label.textposition,St=ht.label.textangle,Ut=ht.label.padding,Gt=ht.type,mt=Math.PI/180*xt,Tt=Math.sin(mt),At=Math.cos(mt),Et=ht.label.xanchor,Mt=ht.label.yanchor;if(Gt==="line"){wt==="start"?(It=J,zt=Q):wt==="end"?(It=ot,zt=st):(It=(J+ot)/2,zt=(Q+st)/2),Et==="auto"&&(Et=wt==="start"?St==="auto"?ot>J?"left":ot<J?"right":"center":ot>J?"right":ot<J?"left":"center":wt==="end"?St==="auto"?ot>J?"right":ot<J?"left":"center":ot>J?"left":ot<J?"right":"center":"center");var Nt={bottom:-1,middle:0,top:1};if(St==="auto"){var Ft=Nt[Mt];pt=-Ut*Tt*Ft,yt=Ut*At*Ft}else pt=Ut*{left:1,center:0,right:-1}[Et],yt=Ut*Nt[Mt];It+=pt,zt+=yt}else pt=Ut+3,wt.indexOf("right")!==-1?(It=Math.max(J,ot)-pt,Et==="auto"&&(Et="right")):wt.indexOf("left")!==-1?(It=Math.min(J,ot)+pt,Et==="auto"&&(Et="left")):(It=(J+ot)/2,Et==="auto"&&(Et="center")),zt=wt.indexOf("top")!==-1?Math.min(Q,st):wt.indexOf("bottom")!==-1?Math.max(Q,st):(Q+st)/2,yt=Ut,Mt==="bottom"?zt-=yt:Mt==="top"&&(zt+=yt);var Lt=m[Mt],Dt=ht.label.font.size,kt=Pt.height;return{textx:It+(kt*Lt-Dt)*Tt,texty:zt+-(kt*Lt-Dt)*At,xanchor:Et}}(O,F,P,R,_,nt,c.bBox(I.node())),G=V.textx,H=V.texty,$=V.xanchor;I.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[$],y:H,x:G,transform:"rotate("+nt+","+G+","+H+")"}).call(u.positionText,G,H)}}},2359:function(a,s,o){var l=o(1828).strTranslate,f=o(8569),u=o(4505),c=u.drawMode,h=u.selectMode,d=o(3972),p=o(7901),g=o(9995),m=g.i000,v=g.i090,y=g.i180,_=g.i270,x=o(1873).clearOutlineControllers,w=o(165),E=w.pointsOnRectangle,S=w.pointsOnEllipse,C=w.writePaths,T=o(551).newShapes,A=o(551).createShapeObj,O=o(5855),P=o(8100);function F(R,N){var D,I,B,j=R[N][1],q=R[N][2],et=R.length;return I=R[D=(N+1)%et][1],B=R[D][2],I===j&&B===q&&(I=R[D=(N+2)%et][1],B=R[D][2]),[D,I,B]}a.exports=function R(N,D,I,B){B||(B=0);var j=I.gd;function q(){R(N,D,I,B++),(S(N[0])||I.hasText)&&et({redrawing:!0})}function et(ht){var xt={};I.isActiveShape!==void 0&&(I.isActiveShape=!1,xt=T(D,I)),I.isActiveSelection!==void 0&&(I.isActiveSelection=!1,xt=O(D,I),j._fullLayout._reselect=!0),Object.keys(xt).length&&d.call((ht||{}).redrawing?"relayout":"_guiRelayout",j,xt)}var U,Z,rt,ft,z,W=j._fullLayout._zoomlayer,X=I.dragmode,it=c(X),lt=h(X);if((it||lt)&&(j._fullLayout._outlining=!0),x(j),D.attr("d",C(N)),B||!I.isActiveShape&&!I.isActiveSelection||(z=function(ht,xt){for(var Pt=0;Pt<xt.length;Pt++){var It=xt[Pt];ht[Pt]=[];for(var zt=0;zt<It.length;zt++){ht[Pt][zt]=[];for(var pt=0;pt<It[zt].length;pt++)ht[Pt][zt][pt]=It[zt][pt]}}return ht}([],N),function(ht){U=[];for(var xt=0;xt<N.length;xt++){var Pt=N[xt],It=E(Pt),zt=!It&&S(Pt);U[xt]=[];for(var pt=Pt.length,yt=0;yt<pt;yt++)if(Pt[yt][0]!=="Z"&&(!zt||yt===m||yt===v||yt===y||yt===_)){var wt,St=It&&I.isActiveSelection;St&&(wt=F(Pt,yt));var Ut=Pt[yt][1],Gt=Pt[yt][2],mt=ht.append(St?"rect":"circle").attr("data-i",xt).attr("data-j",yt).style({fill:p.background,stroke:p.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(St){var Tt=wt[1]-Ut,At=wt[2]-Gt,Et=At?5:Math.max(Math.min(25,Math.abs(Tt)-5),5),Mt=Tt?5:Math.max(Math.min(25,Math.abs(At)-5),5);mt.classed(At?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Et).attr("height",Mt).attr("x",Ut-Et/2).attr("y",Gt-Mt/2).attr("transform",l(Tt/2,At/2))}else mt.classed("cursor-grab",!0).attr("r",5).attr("cx",Ut).attr("cy",Gt);U[xt][yt]={element:mt.node(),gd:j,prepFn:V,doneFn:H,clickFn:$},f.init(U[xt][yt])}}}(W.append("g").attr("class","outline-controllers")),function(){Z=[],N.length&&(Z[0]={element:D[0][0],gd:j,prepFn:Q,doneFn:ot,clickFn:st},f.init(Z[0]))}()),it&&I.hasText){var dt=W.select(".label-temp"),nt=A(D,I,I.dragmode);P(j,"label-temp",nt,dt)}function V(ht){rt=+ht.srcElement.getAttribute("data-i"),ft=+ht.srcElement.getAttribute("data-j"),U[rt][ft].moveFn=G}function G(ht,xt){if(N.length){var Pt=z[rt][ft][1],It=z[rt][ft][2],zt=N[rt],pt=zt.length;if(E(zt)){var yt=ht,wt=xt;I.isActiveSelection&&(F(zt,ft)[1]===zt[ft][1]?wt=0:yt=0);for(var St=0;St<pt;St++)if(St!==ft){var Ut=zt[St];Ut[1]===zt[ft][1]&&(Ut[1]=Pt+yt),Ut[2]===zt[ft][2]&&(Ut[2]=It+wt)}if(zt[ft][1]=Pt+yt,zt[ft][2]=It+wt,!E(zt))for(var Gt=0;Gt<pt;Gt++)for(var mt=0;mt<zt[Gt].length;mt++)zt[Gt][mt]=z[rt][Gt][mt]}else zt[ft][1]=Pt+ht,zt[ft][2]=It+xt;q()}}function H(){et()}function $(ht,xt){if(ht===2){rt=+xt.srcElement.getAttribute("data-i"),ft=+xt.srcElement.getAttribute("data-j");var Pt=N[rt];E(Pt)||S(Pt)||function(){if(N.length&&N[rt]&&N[rt].length){for(var It=[],zt=0;zt<N[rt].length;zt++)zt!==ft&&It.push(N[rt][zt]);It.length>1&&(It.length!==2||It[1][0]!=="Z")&&(ft===0&&(It[0][0]="M"),N[rt]=It,q(),et())}}()}}function J(ht,xt){(function(Pt,It){if(N.length)for(var zt=0;zt<N.length;zt++)for(var pt=0;pt<N[zt].length;pt++)for(var yt=0;yt+2<N[zt][pt].length;yt+=2)N[zt][pt][yt+1]=z[zt][pt][yt+1]+Pt,N[zt][pt][yt+2]=z[zt][pt][yt+2]+It})(ht,xt),q()}function Q(ht){(rt=+ht.srcElement.getAttribute("data-i"))||(rt=0),Z[rt].moveFn=J}function ot(){et()}function st(ht){ht===2&&function(xt){if(h(xt._fullLayout.dragmode)){x(xt);var Pt=xt._fullLayout._activeSelectionIndex,It=(xt.layout||{}).selections||[];if(Pt<It.length){for(var zt=[],pt=0;pt<It.length;pt++)pt!==Pt&&zt.push(It[pt]);delete xt._fullLayout._activeSelectionIndex;var yt=xt._fullLayout.selections[Pt];xt._fullLayout._deselect={xref:yt.xref,yref:yt.yref},d.call("_guiRelayout",xt,{selections:zt})}}}(j)}}},4031:function(a,s,o){var l=o(9898),f=o(3972),u=o(1828),c=o(9298),h=o(165).readPaths,d=o(2359),p=o(8100),g=o(1873).clearOutlineControllers,m=o(7901),v=o(1424),y=o(4467).arrayEditor,_=o(8569),x=o(6964),w=o(1459),E=o(477),S=E.getPathString;function C(N){var D=N._fullLayout;for(var I in D._shapeUpperLayer.selectAll("path").remove(),D._shapeLowerLayer.selectAll("path").remove(),D._shapeUpperLayer.selectAll("text").remove(),D._shapeLowerLayer.selectAll("text").remove(),D._plots){var B=D._plots[I].shapelayer;B&&(B.selectAll("path").remove(),B.selectAll("text").remove())}for(var j=0;j<D.shapes.length;j++)D.shapes[j].visible===!0&&O(N,j)}function T(N){return!!N._fullLayout._outlining}function A(N){return!N._context.edits.shapePosition}function O(N,D){N._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+D+'"]').remove();var I=E.makeShapesOptionsAndPlotinfo(N,D),B=I.options,j=I.plotinfo;function q(et){var U=S(N,B),Z={"data-index":D,"fill-rule":B.fillrule,d:U},rt=B.opacity,ft=B.fillcolor,z=B.line.width?B.line.color:"rgba(0,0,0,0)",W=B.line.width,X=B.line.dash;W||B.editable!==!0||(W=5,X="solid");var it=U[U.length-1]!=="Z",lt=A(N)&&B.editable&&N._fullLayout._activeShapeIndex===D;lt&&(ft=it?"rgba(0,0,0,0)":N._fullLayout.activeshape.fillcolor,rt=N._fullLayout.activeshape.opacity);var dt,nt=et.append("g").classed("shape-group",!0).attr({"data-index":D}),V=nt.append("path").attr(Z).style("opacity",rt).call(m.stroke,z).call(m.fill,ft).call(v.dashLine,X,W);if(P(nt,N,B),p(N,D,B,nt),(lt||N._context.edits.shapePosition)&&(dt=y(N.layout,"shapes",B)),lt){V.style({cursor:"move"});var G={element:V.node(),plotinfo:j,gd:N,editHelpers:dt,hasText:B.label.text||B.label.texttemplate,isActiveShape:!0},H=h(U,N);d(H,V,G)}else N._context.edits.shapePosition?function($,J,Q,ot,st,ht){var xt,Pt,It,zt,pt,yt,wt,St,Ut,Gt,mt,Tt,At,Et,Mt,Nt,Ft=10,Lt=10,Dt=Q.xsizemode==="pixel",kt=Q.ysizemode==="pixel",Wt=Q.type==="line",Qt=Q.type==="path",Ht=ht.modifyItem,oe=l.select(J.node().parentNode),ce=c.getFromId($,Q.xref),pe=c.getRefType(Q.xref),we=c.getFromId($,Q.yref),Le=c.getRefType(Q.yref),jt=E.getDataToPixel($,ce,!1,pe),Rt=E.getDataToPixel($,we,!0,Le),te=E.getPixelToData($,ce,!1,pe),ae=E.getPixelToData($,we,!0,Le),Se=Wt?function(){var Me=10,ct=Math.max(Q.line.width,Me),gt=st.append("g").attr("data-index",ot).attr("drag-helper",!0);gt.append("path").attr("d",J.attr("d")).style({cursor:"move","stroke-width":ct,"stroke-opacity":"0"});var qt={"fill-opacity":"0"},Vt=Math.max(ct/2,Me);return gt.append("circle").attr({"data-line-point":"start-point",cx:Dt?jt(Q.xanchor)+Q.x0:jt(Q.x0),cy:kt?Rt(Q.yanchor)-Q.y0:Rt(Q.y0),r:Vt}).style(qt).classed("cursor-grab",!0),gt.append("circle").attr({"data-line-point":"end-point",cx:Dt?jt(Q.xanchor)+Q.x1:jt(Q.x1),cy:kt?Rt(Q.yanchor)-Q.y1:Rt(Q.y1),r:Vt}).style(qt).classed("cursor-grab",!0),gt}():J,ne={element:Se.node(),gd:$,prepFn:function(Me){T($)||(Dt&&(pt=jt(Q.xanchor)),kt&&(yt=Rt(Q.yanchor)),Q.type==="path"?Mt=Q.path:(xt=Dt?Q.x0:jt(Q.x0),Pt=kt?Q.y0:Rt(Q.y0),It=Dt?Q.x1:jt(Q.x1),zt=kt?Q.y1:Rt(Q.y1)),xt<It?(Ut=xt,At="x0",Gt=It,Et="x1"):(Ut=It,At="x1",Gt=xt,Et="x0"),!kt&&Pt<zt||kt&&Pt>zt?(wt=Pt,mt="y0",St=zt,Tt="y1"):(wt=zt,mt="y1",St=Pt,Tt="y0"),ge(Me),Ae(st,Q),function(ct,gt,qt){var Vt=gt.xref,Jt=gt.yref,Xt=c.getFromId(qt,Vt),ee=c.getFromId(qt,Jt),re="";Vt==="paper"||Xt.autorange||(re+=Vt),Jt==="paper"||ee.autorange||(re+=Jt),v.setClipUrl(ct,re?"clip"+qt._fullLayout._uid+re:null,qt)}(J,Q,$),ne.moveFn=Nt==="move"?xe:Fe,ne.altKey=Me.altKey)},doneFn:function(){T($)||(x(J),$e(st),P(J,$,Q),f.call("_guiRelayout",$,ht.getUpdateObj()))},clickFn:function(){T($)||$e(st)}};function ge(Me){if(T($))Nt=null;else if(Wt)Nt=Me.target.tagName==="path"?"move":Me.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var ct=ne.element.getBoundingClientRect(),gt=ct.right-ct.left,qt=ct.bottom-ct.top,Vt=Me.clientX-ct.left,Jt=Me.clientY-ct.top,Xt=!Qt&&gt>Ft&&qt>Lt&&!Me.shiftKey?_.getCursor(Vt/gt,1-Jt/qt):"move";x(J,Xt),Nt=Xt.split("-")[0]}}function xe(Me,ct){if(Q.type==="path"){var gt=function(Jt){return Jt},qt=gt,Vt=gt;Dt?Ht("xanchor",Q.xanchor=te(pt+Me)):(qt=function(Jt){return te(jt(Jt)+Me)},ce&&ce.type==="date"&&(qt=E.encodeDate(qt))),kt?Ht("yanchor",Q.yanchor=ae(yt+ct)):(Vt=function(Jt){return ae(Rt(Jt)+ct)},we&&we.type==="date"&&(Vt=E.encodeDate(Vt))),Ht("path",Q.path=F(Mt,qt,Vt))}else Dt?Ht("xanchor",Q.xanchor=te(pt+Me)):(Ht("x0",Q.x0=te(xt+Me)),Ht("x1",Q.x1=te(It+Me))),kt?Ht("yanchor",Q.yanchor=ae(yt+ct)):(Ht("y0",Q.y0=ae(Pt+ct)),Ht("y1",Q.y1=ae(zt+ct)));J.attr("d",S($,Q)),Ae(st,Q),p($,ot,Q,oe)}function Fe(Me,ct){if(Qt){var gt=function(he){return he},qt=gt,Vt=gt;Dt?Ht("xanchor",Q.xanchor=te(pt+Me)):(qt=function(he){return te(jt(he)+Me)},ce&&ce.type==="date"&&(qt=E.encodeDate(qt))),kt?Ht("yanchor",Q.yanchor=ae(yt+ct)):(Vt=function(he){return ae(Rt(he)+ct)},we&&we.type==="date"&&(Vt=E.encodeDate(Vt))),Ht("path",Q.path=F(Mt,qt,Vt))}else if(Wt){if(Nt==="resize-over-start-point"){var Jt=xt+Me,Xt=kt?Pt-ct:Pt+ct;Ht("x0",Q.x0=Dt?Jt:te(Jt)),Ht("y0",Q.y0=kt?Xt:ae(Xt))}else if(Nt==="resize-over-end-point"){var ee=It+Me,re=kt?zt-ct:zt+ct;Ht("x1",Q.x1=Dt?ee:te(ee)),Ht("y1",Q.y1=kt?re:ae(re))}}else{var fe=function(he){return Nt.indexOf(he)!==-1},ye=fe("n"),se=fe("s"),Ge=fe("w"),nn=fe("e"),Oe=ye?wt+ct:wt,We=se?St+ct:St,je=Ge?Ut+Me:Ut,_e=nn?Gt+Me:Gt;kt&&(ye&&(Oe=wt-ct),se&&(We=St-ct)),(!kt&&We-Oe>Lt||kt&&Oe-We>Lt)&&(Ht(mt,Q[mt]=kt?Oe:ae(Oe)),Ht(Tt,Q[Tt]=kt?We:ae(We))),_e-je>Ft&&(Ht(At,Q[At]=Dt?je:te(je)),Ht(Et,Q[Et]=Dt?_e:te(_e)))}J.attr("d",S($,Q)),Ae(st,Q),p($,ot,Q,oe)}function Ae(Me,ct){(Dt||kt)&&function(){var gt=ct.type!=="path",qt=Me.selectAll(".visual-cue").data([0]);qt.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var Vt=jt(Dt?ct.xanchor:u.midRange(gt?[ct.x0,ct.x1]:E.extractPathCoords(ct.path,w.paramIsX))),Jt=Rt(kt?ct.yanchor:u.midRange(gt?[ct.y0,ct.y1]:E.extractPathCoords(ct.path,w.paramIsY)));if(Vt=E.roundPositionForSharpStrokeRendering(Vt,1),Jt=E.roundPositionForSharpStrokeRendering(Jt,1),Dt&&kt){var Xt="M"+(Vt-1-1)+","+(Jt-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";qt.attr("d",Xt)}else if(Dt){var ee="M"+(Vt-1-1)+","+(Jt-9-1)+"v18 h2 v-18 Z";qt.attr("d",ee)}else{var re="M"+(Vt-9-1)+","+(Jt-1-1)+"h18 v2 h-18 Z";qt.attr("d",re)}}()}function $e(Me){Me.selectAll(".visual-cue").remove()}_.init(ne),Se.node().onmousemove=ge}(N,V,B,D,et,dt):B.editable===!0&&V.style("pointer-events",it||m.opacity(ft)*rt<=.5?"stroke":"all");V.node().addEventListener("click",function(){return function($,J){if(A($)){var Q=+J.node().getAttribute("data-index");if(Q>=0){if(Q===$._fullLayout._activeShapeIndex)return void R($);$._fullLayout._activeShapeIndex=Q,$._fullLayout._deactivateShape=R,C($)}}}(N,V)})}B._input&&B.visible===!0&&(B.layer!=="below"?q(N._fullLayout._shapeUpperLayer):B.xref==="paper"||B.yref==="paper"?q(N._fullLayout._shapeLowerLayer):j._hadPlotinfo?q((j.mainplotinfo||j).shapelayer):q(N._fullLayout._shapeLowerLayer))}function P(N,D,I){var B=(I.xref+I.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");v.setClipUrl(N,B?"clip"+D._fullLayout._uid+B:null,D)}function F(N,D,I){return N.replace(w.segmentRE,function(B){var j=0,q=B.charAt(0),et=w.paramIsX[q],U=w.paramIsY[q],Z=w.numParams[q];return q+B.substr(1).replace(w.paramRE,function(rt){return j>=Z||(et[j]?rt=D(rt):U[j]&&(rt=I(rt)),j++),rt})})}function R(N){A(N)&&N._fullLayout._activeShapeIndex>=0&&(g(N),delete N._fullLayout._activeShapeIndex,C(N))}a.exports={draw:C,drawOne:O,eraseActiveShape:function(N){if(A(N)){g(N);var D=N._fullLayout._activeShapeIndex,I=(N.layout||{}).shapes||[];if(D<I.length){for(var B=[],j=0;j<I.length;j++)j!==D&&B.push(I[j]);return delete N._fullLayout._activeShapeIndex,f.call("_guiRelayout",N,{shapes:B})}}},drawLabel:p}},9241:function(a,s,o){var l=o(962).overrideAll,f=o(9012),u=o(1940),c=o(9952).P,h=o(1426).extendFlat,d=o(5386).R,p=o(7281);a.exports=l({newshape:{visible:h({},f.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:h({},f.legend,{}),legendgroup:h({},f.legendgroup,{}),legendgrouptitle:{text:h({},f.legendgrouptitle.text,{}),font:u({})},legendrank:h({},f.legendrank,{}),legendwidth:h({},f.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:h({},c,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:h({},f.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:d({newshape:!0},{keys:Object.keys(p)}),font:u({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},9995:function(a){a.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},5547:function(a,s,o){var l=o(7901),f=o(1828);a.exports=function(u,c,h){if(h("newshape.visible"),h("newshape.name"),h("newshape.showlegend"),h("newshape.legend"),h("newshape.legendwidth"),h("newshape.legendgroup"),h("newshape.legendgrouptitle.text"),f.coerceFont(h,"newshape.legendgrouptitle.font"),h("newshape.legendrank"),h("newshape.drawdirection"),h("newshape.layer"),h("newshape.fillcolor"),h("newshape.fillrule"),h("newshape.opacity"),h("newshape.line.width")){var d=(u||{}).plot_bgcolor||"#FFF";h("newshape.line.color",l.contrast(d)),h("newshape.line.dash")}var p=u.dragmode==="drawline",g=h("newshape.label.text"),m=h("newshape.label.texttemplate");if(g||m){h("newshape.label.textangle");var v=h("newshape.label.textposition",p?"middle":"middle center");h("newshape.label.xanchor"),h("newshape.label.yanchor",function(y,_){return y?"bottom":_.indexOf("top")!==-1?"top":_.indexOf("bottom")!==-1?"bottom":"middle"}(p,v)),h("newshape.label.padding"),f.coerceFont(h,"newshape.label.font",c.font)}h("activeshape.fillcolor"),h("activeshape.opacity")}},165:function(a,s,o){var l=o(5616),f=o(9995),u=f.CIRCLE_SIDES,c=f.SQRT2,h=o(5549),d=h.p2r,p=h.r2p,g=[0,3,4,5,6,1,2],m=[0,3,4,1,2];function v(_,x){return Math.abs(_-x)<=1e-6}function y(_,x){var w=x[1]-_[1],E=x[2]-_[2];return Math.sqrt(w*w+E*E)}s.writePaths=function(_){var x=_.length;if(!x)return"M0,0Z";for(var w="",E=0;E<x;E++)for(var S=_[E].length,C=0;C<S;C++){var T=_[E][C][0];if(T==="Z")w+="Z";else for(var A=_[E][C].length,O=0;O<A;O++){var P=O;T==="Q"||T==="S"?P=m[O]:T==="C"&&(P=g[O]),w+=_[E][C][P],O>0&&O<A-1&&(w+=",")}}return w},s.readPaths=function(_,x,w,E){var S,C,T,A=l(_),O=[],P=-1,F=0,R=0,N=function(){C=F,T=R};N();for(var D=0;D<A.length;D++){var I,B,j,q,et=[],U=A[D][0],Z=U;switch(U){case"M":O[++P]=[],F=+A[D][1],R=+A[D][2],et.push([Z,F,R]),N();break;case"Q":case"S":I=+A[D][1],j=+A[D][2],F=+A[D][3],R=+A[D][4],et.push([Z,F,R,I,j]);break;case"C":I=+A[D][1],j=+A[D][2],B=+A[D][3],q=+A[D][4],F=+A[D][5],R=+A[D][6],et.push([Z,F,R,I,j,B,q]);break;case"T":case"L":F=+A[D][1],R=+A[D][2],et.push([Z,F,R]);break;case"H":Z="L",F=+A[D][1],et.push([Z,F,R]);break;case"V":Z="L",R=+A[D][1],et.push([Z,F,R]);break;case"A":Z="L";var rt=+A[D][1],ft=+A[D][2];+A[D][4]||(rt=-rt,ft=-ft);var z=F-rt,W=R;for(S=1;S<=u/2;S++){var X=2*Math.PI*S/u;et.push([Z,z+rt*Math.cos(X),W+ft*Math.sin(X)])}break;case"Z":F===C&&R===T||(F=C,R=T,et.push([Z,F,R]))}for(var it=(w||{}).domain,lt=x._fullLayout._size,dt=w&&w.xsizemode==="pixel",nt=w&&w.ysizemode==="pixel",V=E===!1,G=0;G<et.length;G++){for(S=0;S+2<7;S+=2){var H=et[G][S+1],$=et[G][S+2];H!==void 0&&$!==void 0&&(F=H,R=$,w&&(w.xaxis&&w.xaxis.p2r?(V&&(H-=w.xaxis._offset),H=dt?p(w.xaxis,w.xanchor)+H:d(w.xaxis,H)):(V&&(H-=lt.l),it?H=it.x[0]+H/lt.w:H/=lt.w),w.yaxis&&w.yaxis.p2r?(V&&($-=w.yaxis._offset),$=nt?p(w.yaxis,w.yanchor)-$:d(w.yaxis,$)):(V&&($-=lt.t),$=it?it.y[1]-$/lt.h:1-$/lt.h)),et[G][S+1]=H,et[G][S+2]=$)}O[P].push(et[G].slice())}}return O},s.pointsOnRectangle=function(_){if(_.length!==5)return!1;for(var x=1;x<3;x++)if(!v(_[0][x]-_[1][x],_[3][x]-_[2][x])||!v(_[0][x]-_[3][x],_[1][x]-_[2][x]))return!1;return!(!v(_[0][1],_[1][1])&&!v(_[0][1],_[3][1])||!(y(_[0],_[1])*y(_[0],_[3])))},s.pointsOnEllipse=function(_){var x=_.length;if(x!==u+1)return!1;x=u;for(var w=0;w<x;w++){var E=(2*x-w)%x,S=(x/2+E)%x,C=(x/2+w)%x;if(!v(y(_[w],_[C]),y(_[E],_[S])))return!1}return!0},s.handleEllipse=function(_,x,w){if(!_)return[x,w];var E=s.ellipseOver({x0:x[0],y0:x[1],x1:w[0],y1:w[1]}),S=(E.x1+E.x0)/2,C=(E.y1+E.y0)/2,T=(E.x1-E.x0)/2,A=(E.y1-E.y0)/2;T||(T=A/=c),A||(A=T/=c);for(var O=[],P=0;P<u;P++){var F=2*P*Math.PI/u;O.push([S+T*Math.cos(F),C+A*Math.sin(F)])}return O},s.ellipseOver=function(_){var x=_.x0,w=_.y0,E=_.x1,S=_.y1,C=E-x,T=S-w,A=((x-=C)+E)/2,O=((w-=T)+S)/2;return{x0:A-(C*=c),y0:O-(T*=c),x1:A+C,y1:O+T}},s.fixDatesForPaths=function(_,x,w){var E=x.type==="date",S=w.type==="date";if(!E&&!S)return _;for(var C=0;C<_.length;C++)for(var T=0;T<_[C].length;T++)for(var A=0;A+2<_[C][T].length;A+=2)E&&(_[C][T][A+1]=_[C][T][A+1].replace(" ","_")),S&&(_[C][T][A+2]=_[C][T][A+2].replace(" ","_"));return _}},551:function(a,s,o){var l=o(4505),f=l.drawMode,u=l.openMode,c=o(9995),h=c.i000,d=c.i090,p=c.i180,g=c.i270,m=c.cos45,v=c.sin45,y=o(5549),_=y.p2r,x=y.r2p,w=o(1873).clearOutline,E=o(165),S=E.readPaths,C=E.writePaths,T=E.ellipseOver,A=E.fixDatesForPaths;function O(P,F,R){var N,D=P[0][0],I=F.gd,B=D.getAttribute("d"),j=I._fullLayout.newshape,q=F.plotinfo,et=F.isActiveShape,U=q.xaxis,Z=q.yaxis,rt=!!q.domain||!q.xaxis,ft=!!q.domain||!q.yaxis,z=u(R),W=S(B,I,q,et),X={editable:!0,visible:j.visible,name:j.name,showlegend:j.showlegend,legend:j.legend,legendwidth:j.legendwidth,legendgroup:j.legendgroup,legendgrouptitle:{text:j.legendgrouptitle.text,font:j.legendgrouptitle.font},legendrank:j.legendrank,label:j.label,xref:rt?"paper":U._id,yref:ft?"paper":Z._id,layer:j.layer,opacity:j.opacity,line:{color:j.line.color,width:j.line.width,dash:j.line.dash}};if(z||(X.fillcolor=j.fillcolor,X.fillrule=j.fillrule),W.length===1&&(N=W[0]),N&&N.length===5&&R==="drawrect")X.type="rect",X.x0=N[0][1],X.y0=N[0][2],X.x1=N[2][1],X.y1=N[2][2];else if(N&&R==="drawline")X.type="line",X.x0=N[0][1],X.y0=N[0][2],X.x1=N[1][1],X.y1=N[1][2];else if(N&&R==="drawcircle"){X.type="circle";var it=N[h][1],lt=N[d][1],dt=N[p][1],nt=N[g][1],V=N[h][2],G=N[d][2],H=N[p][2],$=N[g][2],J=q.xaxis&&(q.xaxis.type==="date"||q.xaxis.type==="log"),Q=q.yaxis&&(q.yaxis.type==="date"||q.yaxis.type==="log");J&&(it=x(q.xaxis,it),lt=x(q.xaxis,lt),dt=x(q.xaxis,dt),nt=x(q.xaxis,nt)),Q&&(V=x(q.yaxis,V),G=x(q.yaxis,G),H=x(q.yaxis,H),$=x(q.yaxis,$));var ot=(lt+nt)/2,st=(V+H)/2,ht=T({x0:ot,y0:st,x1:ot+(nt-lt+dt-it)/2*m,y1:st+($-G+H-V)/2*v});J&&(ht.x0=_(q.xaxis,ht.x0),ht.x1=_(q.xaxis,ht.x1)),Q&&(ht.y0=_(q.yaxis,ht.y0),ht.y1=_(q.yaxis,ht.y1)),X.x0=ht.x0,X.y0=ht.y0,X.x1=ht.x1,X.y1=ht.y1}else X.type="path",U&&Z&&A(W,U,Z),X.path=C(W),N=null;return X}a.exports={newShapes:function(P,F){if(P.length&&P[0][0]){var R=F.gd,N=F.isActiveShape,D=F.dragmode,I=(R.layout||{}).shapes||[];if(!f(D)&&N!==void 0){var B=R._fullLayout._activeShapeIndex;if(B<I.length)switch(R._fullLayout.shapes[B].type){case"rect":D="drawrect";break;case"circle":D="drawcircle";break;case"line":D="drawline";break;case"path":var j=I[B].path||"";D=j[j.length-1]==="Z"?"drawclosedpath":"drawopenpath"}}var q=O(P,F,D);w(R);for(var et=F.editHelpers,U=(et||{}).modifyItem,Z=[],rt=0;rt<I.length;rt++){var ft=R._fullLayout.shapes[rt];if(Z[rt]=ft._input,N!==void 0&&rt===R._fullLayout._activeShapeIndex){var z=q;switch(ft.type){case"line":case"rect":case"circle":U("x0",z.x0),U("x1",z.x1),U("y0",z.y0),U("y1",z.y1);break;case"path":U("path",z.path)}}}return N===void 0?(Z.push(q),Z):et?et.getUpdateObj():{}}},createShapeObj:O}},1873:function(a){a.exports={clearOutlineControllers:function(s){var o=s._fullLayout._zoomlayer;o&&o.selectAll(".outline-controllers").remove()},clearOutline:function(s){var o=s._fullLayout._zoomlayer;o&&o.selectAll(".select-outline").remove(),s._fullLayout._outlining=!1}}},477:function(a,s,o){var l=o(1459),f=o(1828),u=o(9298);s.rangeToShapePosition=function(c){return c.type==="log"?c.r2d:function(h){return h}},s.shapePositionToRange=function(c){return c.type==="log"?c.d2r:function(h){return h}},s.decodeDate=function(c){return function(h){return h.replace&&(h=h.replace("_"," ")),c(h)}},s.encodeDate=function(c){return function(h){return c(h).replace(" ","_")}},s.extractPathCoords=function(c,h,d){var p=[];return c.match(l.segmentRE).forEach(function(g){var m=h[g.charAt(0)].drawn;if(m!==void 0){var v=g.substr(1).match(l.paramRE);if(v&&!(v.length<m)){var y=v[m],_=d?y:f.cleanNumber(y);p.push(_)}}}),p},s.getDataToPixel=function(c,h,d,p){var g,m=c._fullLayout._size;if(h)if(p==="domain")g=function(y){return h._length*(d?1-y:y)+h._offset};else{var v=s.shapePositionToRange(h);g=function(y){return h._offset+h.r2p(v(y,!0))},h.type==="date"&&(g=s.decodeDate(g))}else g=d?function(y){return m.t+m.h*(1-y)}:function(y){return m.l+m.w*y};return g},s.getPixelToData=function(c,h,d,p){var g,m=c._fullLayout._size;if(h)if(p==="domain")g=function(y){var _=(y-h._offset)/h._length;return d?1-_:_};else{var v=s.rangeToShapePosition(h);g=function(y){return v(h.p2r(y-h._offset))}}else g=d?function(y){return 1-(y-m.t)/m.h}:function(y){return(y-m.l)/m.w};return g},s.roundPositionForSharpStrokeRendering=function(c,h){var d=Math.round(h%2)===1,p=Math.round(c);return d?p+.5:p},s.makeShapesOptionsAndPlotinfo=function(c,h){var d=c._fullLayout.shapes[h]||{},p=c._fullLayout._plots[d.xref+d.yref];return p?p._hadPlotinfo=!0:(p={},d.xref&&d.xref!=="paper"&&(p.xaxis=c._fullLayout[d.xref+"axis"]),d.yref&&d.yref!=="paper"&&(p.yaxis=c._fullLayout[d.yref+"axis"])),p.xsizemode=d.xsizemode,p.ysizemode=d.ysizemode,p.xanchor=d.xanchor,p.yanchor=d.yanchor,{options:d,plotinfo:p}},s.makeSelectionsOptionsAndPlotinfo=function(c,h){var d=c._fullLayout.selections[h]||{},p=c._fullLayout._plots[d.xref+d.yref];return p?p._hadPlotinfo=!0:(p={},d.xref&&(p.xaxis=c._fullLayout[d.xref+"axis"]),d.yref&&(p.yaxis=c._fullLayout[d.yref+"axis"])),{options:d,plotinfo:p}},s.getPathString=function(c,h){var d,p,g,m,v,y,_,x,w=h.type,E=u.getRefType(h.xref),S=u.getRefType(h.yref),C=u.getFromId(c,h.xref),T=u.getFromId(c,h.yref),A=c._fullLayout._size;if(C?E==="domain"?p=function(j){return C._offset+C._length*j}:(d=s.shapePositionToRange(C),p=function(j){return C._offset+C.r2p(d(j,!0))}):p=function(j){return A.l+A.w*j},T?S==="domain"?m=function(j){return T._offset+T._length*(1-j)}:(g=s.shapePositionToRange(T),m=function(j){return T._offset+T.r2p(g(j,!0))}):m=function(j){return A.t+A.h*(1-j)},w==="path")return C&&C.type==="date"&&(p=s.decodeDate(p)),T&&T.type==="date"&&(m=s.decodeDate(m)),function(j,q,et){var U=j.path,Z=j.xsizemode,rt=j.ysizemode,ft=j.xanchor,z=j.yanchor;return U.replace(l.segmentRE,function(W){var X=0,it=W.charAt(0),lt=l.paramIsX[it],dt=l.paramIsY[it],nt=l.numParams[it],V=W.substr(1).replace(l.paramRE,function(G){return lt[X]?G=Z==="pixel"?q(ft)+Number(G):q(G):dt[X]&&(G=rt==="pixel"?et(z)-Number(G):et(G)),++X>nt&&(G="X"),G});return X>nt&&(V=V.replace(/[\s,]*X.*/,""),f.log("Ignoring extra params in segment "+W)),it+V})}(h,p,m);if(h.xsizemode==="pixel"){var O=p(h.xanchor);v=O+h.x0,y=O+h.x1}else v=p(h.x0),y=p(h.x1);if(h.ysizemode==="pixel"){var P=m(h.yanchor);_=P-h.y0,x=P-h.y1}else _=m(h.y0),x=m(h.y1);if(w==="line")return"M"+v+","+_+"L"+y+","+x;if(w==="rect")return"M"+v+","+_+"H"+y+"V"+x+"H"+v+"Z";var F=(v+y)/2,R=(_+x)/2,N=Math.abs(F-v),D=Math.abs(R-_),I="A"+N+","+D,B=F+N+","+R;return"M"+B+I+" 0 1,1 "+F+","+(R-D)+I+" 0 0,1 "+B+"Z"}},9853:function(a,s,o){var l=o(4031);a.exports={moduleType:"component",name:"shapes",layoutAttributes:o(9827),supplyLayoutDefaults:o(4726),supplyDrawNewShapeDefaults:o(5547),includeBasePlot:o(6325)("shapes"),calcAutorange:o(5627),draw:l.draw,drawOne:l.drawOne}},7281:function(a){function s(u,c){return c?c.d2l(u):u}function o(u,c){return c?c.l2d(u):u}function l(u,c){return s(u.x1,c)-s(u.x0,c)}function f(u,c,h){return s(u.y1,h)-s(u.y0,h)}a.exports={x0:function(u){return u.x0},x1:function(u){return u.x1},y0:function(u){return u.y0},y1:function(u){return u.y1},slope:function(u,c,h){return u.type!=="line"?void 0:f(u,0,h)/l(u,c)},dx:l,dy:f,width:function(u,c){return Math.abs(l(u,c))},height:function(u,c,h){return Math.abs(f(u,0,h))},length:function(u,c,h){return u.type!=="line"?void 0:Math.sqrt(Math.pow(l(u,c),2)+Math.pow(f(u,0,h),2))},xcenter:function(u,c){return o((s(u.x1,c)+s(u.x0,c))/2,c)},ycenter:function(u,c,h){return o((s(u.y1,h)+s(u.y0,h))/2,h)}}},5067:function(a,s,o){var l=o(1940),f=o(5025),u=o(1426).extendDeepAll,c=o(962).overrideAll,h=o(5594),d=o(4467).templatedArray,p=o(8292),g=d("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});a.exports=c(d("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:g,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:u(f({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:h.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:l({})},font:l({}),activebgcolor:{valType:"color",dflt:p.gripBgActiveColor},bgcolor:{valType:"color",dflt:p.railBgColor},bordercolor:{valType:"color",dflt:p.railBorderColor},borderwidth:{valType:"number",min:0,dflt:p.railBorderWidth},ticklen:{valType:"number",min:0,dflt:p.tickLength},tickcolor:{valType:"color",dflt:p.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:p.minorTickLength}}),"arraydraw","from-root")},8292:function(a){a.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},2343:function(a,s,o){var l=o(1828),f=o(5501),u=o(5067),c=o(8292).name,h=u.steps;function d(g,m,v){function y(S,C){return l.coerce(g,m,u,S,C)}for(var _=f(g,m,{name:"steps",handleItemDefaults:p}),x=0,w=0;w<_.length;w++)_[w].visible&&x++;if(x<2?m.visible=!1:y("visible")){m._stepCount=x;var E=m._visibleSteps=l.filterVisible(_);(_[y("active")]||{}).visible||(m.active=E[0]._index),y("x"),y("y"),l.noneOrAll(g,m,["x","y"]),y("xanchor"),y("yanchor"),y("len"),y("lenmode"),y("pad.t"),y("pad.r"),y("pad.b"),y("pad.l"),l.coerceFont(y,"font",v.font),y("currentvalue.visible")&&(y("currentvalue.xanchor"),y("currentvalue.prefix"),y("currentvalue.suffix"),y("currentvalue.offset"),l.coerceFont(y,"currentvalue.font",m.font)),y("transition.duration"),y("transition.easing"),y("bgcolor"),y("activebgcolor"),y("bordercolor"),y("borderwidth"),y("ticklen"),y("tickwidth"),y("tickcolor"),y("minorticklen")}}function p(g,m){function v(_,x){return l.coerce(g,m,h,_,x)}if(g.method==="skip"||Array.isArray(g.args)?v("visible"):m.visible=!1){v("method"),v("args");var y=v("label","step-"+m._index);v("value",y),v("execute")}}a.exports=function(g,m){f(g,m,{name:c,handleItemDefaults:d})}},4504:function(a,s,o){var l=o(9898),f=o(4875),u=o(7901),c=o(1424),h=o(1828),d=h.strTranslate,p=o(3893),g=o(4467).arrayEditor,m=o(8292),v=o(8783),y=v.LINE_SPACING,_=v.FROM_TL,x=v.FROM_BR;function w(et){return m.autoMarginIdRoot+et._index}function E(et){return et._index}function S(et,U){var Z=c.tester.selectAll("g."+m.labelGroupClass).data(U._visibleSteps);Z.enter().append("g").classed(m.labelGroupClass,!0);var rt=0,ft=0;Z.each(function(G){var H=A(l.select(this),{step:G},U).node();if(H){var $=c.bBox(H);ft=Math.max(ft,$.height),rt=Math.max(rt,$.width)}}),Z.remove();var z=U._dims={};z.inputAreaWidth=Math.max(m.railWidth,m.gripHeight);var W=et._fullLayout._size;z.lx=W.l+W.w*U.x,z.ly=W.t+W.h*(1-U.y),U.lenmode==="fraction"?z.outerLength=Math.round(W.w*U.len):z.outerLength=U.len,z.inputAreaStart=0,z.inputAreaLength=Math.round(z.outerLength-U.pad.l-U.pad.r);var X=(z.inputAreaLength-2*m.stepInset)/(U._stepCount-1),it=rt+m.labelPadding;if(z.labelStride=Math.max(1,Math.ceil(it/X)),z.labelHeight=ft,z.currentValueMaxWidth=0,z.currentValueHeight=0,z.currentValueTotalHeight=0,z.currentValueMaxLines=1,U.currentvalue.visible){var lt=c.tester.append("g");Z.each(function(G){var H=C(lt,U,G.label),$=H.node()&&c.bBox(H.node())||{width:0,height:0},J=p.lineCount(H);z.currentValueMaxWidth=Math.max(z.currentValueMaxWidth,Math.ceil($.width)),z.currentValueHeight=Math.max(z.currentValueHeight,Math.ceil($.height)),z.currentValueMaxLines=Math.max(z.currentValueMaxLines,J)}),z.currentValueTotalHeight=z.currentValueHeight+U.currentvalue.offset,lt.remove()}z.height=z.currentValueTotalHeight+m.tickOffset+U.ticklen+m.labelOffset+z.labelHeight+U.pad.t+U.pad.b;var dt="left";h.isRightAnchor(U)&&(z.lx-=z.outerLength,dt="right"),h.isCenterAnchor(U)&&(z.lx-=z.outerLength/2,dt="center");var nt="top";h.isBottomAnchor(U)&&(z.ly-=z.height,nt="bottom"),h.isMiddleAnchor(U)&&(z.ly-=z.height/2,nt="middle"),z.outerLength=Math.ceil(z.outerLength),z.height=Math.ceil(z.height),z.lx=Math.round(z.lx),z.ly=Math.round(z.ly);var V={y:U.y,b:z.height*x[nt],t:z.height*_[nt]};U.lenmode==="fraction"?(V.l=0,V.xl=U.x-U.len*_[dt],V.r=0,V.xr=U.x+U.len*x[dt]):(V.x=U.x,V.l=z.outerLength*_[dt],V.r=z.outerLength*x[dt]),f.autoMargin(et,w(U),V)}function C(et,U,Z){if(U.currentvalue.visible){var rt,ft,z=U._dims;switch(U.currentvalue.xanchor){case"right":rt=z.inputAreaLength-m.currentValueInset-z.currentValueMaxWidth,ft="left";break;case"center":rt=.5*z.inputAreaLength,ft="middle";break;default:rt=m.currentValueInset,ft="left"}var W=h.ensureSingle(et,"text",m.labelClass,function(V){V.attr({"text-anchor":ft,"data-notex":1})}),X=U.currentvalue.prefix?U.currentvalue.prefix:"";if(typeof Z=="string")X+=Z;else{var it=U.steps[U.active].label,lt=U._gd._fullLayout._meta;lt&&(it=h.templateString(it,lt)),X+=it}U.currentvalue.suffix&&(X+=U.currentvalue.suffix),W.call(c.font,U.currentvalue.font).text(X).call(p.convertToTspans,U._gd);var dt=p.lineCount(W),nt=(z.currentValueMaxLines+1-dt)*U.currentvalue.font.size*y;return p.positionText(W,rt,nt),W}}function T(et,U,Z){h.ensureSingle(et,"rect",m.gripRectClass,function(rt){rt.call(R,U,et,Z).style("pointer-events","all")}).attr({width:m.gripWidth,height:m.gripHeight,rx:m.gripRadius,ry:m.gripRadius}).call(u.stroke,Z.bordercolor).call(u.fill,Z.bgcolor).style("stroke-width",Z.borderwidth+"px")}function A(et,U,Z){var rt=h.ensureSingle(et,"text",m.labelClass,function(W){W.attr({"text-anchor":"middle","data-notex":1})}),ft=U.step.label,z=Z._gd._fullLayout._meta;return z&&(ft=h.templateString(ft,z)),rt.call(c.font,Z.font).text(ft).call(p.convertToTspans,Z._gd),rt}function O(et,U){var Z=h.ensureSingle(et,"g",m.labelsClass),rt=U._dims,ft=Z.selectAll("g."+m.labelGroupClass).data(rt.labelSteps);ft.enter().append("g").classed(m.labelGroupClass,!0),ft.exit().remove(),ft.each(function(z){var W=l.select(this);W.call(A,z,U),c.setTranslate(W,I(U,z.fraction),m.tickOffset+U.ticklen+U.font.size*y+m.labelOffset+rt.currentValueTotalHeight)})}function P(et,U,Z,rt,ft){var z=Math.round(rt*(Z._stepCount-1)),W=Z._visibleSteps[z]._index;W!==Z.active&&F(et,U,Z,W,!0,ft)}function F(et,U,Z,rt,ft,z){var W=Z.active;Z.active=rt,g(et.layout,m.name,Z).applyUpdate("active",rt);var X=Z.steps[Z.active];U.call(D,Z,z),U.call(C,Z),et.emit("plotly_sliderchange",{slider:Z,step:Z.steps[Z.active],interaction:ft,previousActive:W}),X&&X.method&&ft&&(U._nextMethod?(U._nextMethod.step=X,U._nextMethod.doCallback=ft,U._nextMethod.doTransition=z):(U._nextMethod={step:X,doCallback:ft,doTransition:z},U._nextMethodRaf=window.requestAnimationFrame(function(){var it=U._nextMethod.step;it.method&&(it.execute&&f.executeAPICommand(et,it.method,it.args),U._nextMethod=null,U._nextMethodRaf=null)})))}function R(et,U,Z){if(!U._context.staticPlot){var rt=Z.node(),ft=l.select(U);et.on("mousedown",W),et.on("touchstart",W)}function z(){return Z.data()[0]}function W(){var X=z();U.emit("plotly_sliderstart",{slider:X});var it=Z.select("."+m.gripRectClass);l.event.stopPropagation(),l.event.preventDefault(),it.call(u.fill,X.activebgcolor);var lt=B(X,l.mouse(rt)[0]);function dt(){var V=z(),G=B(V,l.mouse(rt)[0]);P(U,Z,V,G,!1)}function nt(){var V=z();V._dragging=!1,it.call(u.fill,V.bgcolor),ft.on("mouseup",null),ft.on("mousemove",null),ft.on("touchend",null),ft.on("touchmove",null),U.emit("plotly_sliderend",{slider:V,step:V.steps[V.active]})}P(U,Z,X,lt,!0),X._dragging=!0,ft.on("mousemove",dt),ft.on("touchmove",dt),ft.on("mouseup",nt),ft.on("touchend",nt)}}function N(et,U){var Z=et.selectAll("rect."+m.tickRectClass).data(U._visibleSteps),rt=U._dims;Z.enter().append("rect").classed(m.tickRectClass,!0),Z.exit().remove(),Z.attr({width:U.tickwidth+"px","shape-rendering":"crispEdges"}),Z.each(function(ft,z){var W=z%rt.labelStride==0,X=l.select(this);X.attr({height:W?U.ticklen:U.minorticklen}).call(u.fill,U.tickcolor),c.setTranslate(X,I(U,z/(U._stepCount-1))-.5*U.tickwidth,(W?m.tickOffset:m.minorTickOffset)+rt.currentValueTotalHeight)})}function D(et,U,Z){for(var rt=et.select("rect."+m.gripRectClass),ft=0,z=0;z<U._stepCount;z++)if(U._visibleSteps[z]._index===U.active){ft=z;break}var W=I(U,ft/(U._stepCount-1));if(!U._invokingCommand){var X=rt;Z&&U.transition.duration>0&&(X=X.transition().duration(U.transition.duration).ease(U.transition.easing)),X.attr("transform",d(W-.5*m.gripWidth,U._dims.currentValueTotalHeight))}}function I(et,U){var Z=et._dims;return Z.inputAreaStart+m.stepInset+(Z.inputAreaLength-2*m.stepInset)*Math.min(1,Math.max(0,U))}function B(et,U){var Z=et._dims;return Math.min(1,Math.max(0,(U-m.stepInset-Z.inputAreaStart)/(Z.inputAreaLength-2*m.stepInset-2*Z.inputAreaStart)))}function j(et,U,Z){var rt=Z._dims,ft=h.ensureSingle(et,"rect",m.railTouchRectClass,function(z){z.call(R,U,et,Z).style("pointer-events","all")});ft.attr({width:rt.inputAreaLength,height:Math.max(rt.inputAreaWidth,m.tickOffset+Z.ticklen+rt.labelHeight)}).call(u.fill,Z.bgcolor).attr("opacity",0),c.setTranslate(ft,0,rt.currentValueTotalHeight)}function q(et,U){var Z=U._dims,rt=Z.inputAreaLength-2*m.railInset,ft=h.ensureSingle(et,"rect",m.railRectClass);ft.attr({width:rt,height:m.railWidth,rx:m.railRadius,ry:m.railRadius,"shape-rendering":"crispEdges"}).call(u.stroke,U.bordercolor).call(u.fill,U.bgcolor).style("stroke-width",U.borderwidth+"px"),c.setTranslate(ft,m.railInset,.5*(Z.inputAreaWidth-m.railWidth)+Z.currentValueTotalHeight)}a.exports=function(et){var U=et._context.staticPlot,Z=et._fullLayout,rt=function(lt,dt){for(var nt=lt[m.name],V=[],G=0;G<nt.length;G++){var H=nt[G];H.visible&&(H._gd=dt,V.push(H))}return V}(Z,et),ft=Z._infolayer.selectAll("g."+m.containerClassName).data(rt.length>0?[0]:[]);function z(lt){lt._commandObserver&&(lt._commandObserver.remove(),delete lt._commandObserver),f.autoMargin(et,w(lt))}if(ft.enter().append("g").classed(m.containerClassName,!0).style("cursor",U?null:"ew-resize"),ft.exit().each(function(){l.select(this).selectAll("g."+m.groupClassName).each(z)}).remove(),rt.length!==0){var W=ft.selectAll("g."+m.groupClassName).data(rt,E);W.enter().append("g").classed(m.groupClassName,!0),W.exit().each(z).remove();for(var X=0;X<rt.length;X++){var it=rt[X];S(et,it)}W.each(function(lt){var dt=l.select(this);(function(nt){var V=nt._dims;V.labelSteps=[];for(var G=nt._stepCount,H=0;H<G;H+=V.labelStride)V.labelSteps.push({fraction:H/(G-1),step:nt._visibleSteps[H]})})(lt),f.manageCommandObserver(et,lt,lt._visibleSteps,function(nt){var V=dt.data()[0];V.active!==nt.index&&(V._dragging||F(et,dt,V,nt.index,!1,!0))}),function(nt,V,G){(G.steps[G.active]||{}).visible||(G.active=G._visibleSteps[0]._index),V.call(C,G).call(q,G).call(O,G).call(N,G).call(j,nt,G).call(T,nt,G);var H=G._dims;c.setTranslate(V,H.lx+G.pad.l,H.ly+G.pad.t),V.call(D,G,!1),V.call(C,G)}(et,l.select(this),lt)})}}},3243:function(a,s,o){var l=o(8292);a.exports={moduleType:"component",name:l.name,layoutAttributes:o(5067),supplyLayoutDefaults:o(2343),draw:o(4504)}},2998:function(a,s,o){var l=o(9898),f=o(2770),u=o(4875),c=o(3972),h=o(1828),d=h.strTranslate,p=o(1424),g=o(7901),m=o(3893),v=o(7822),y=o(8783).OPPOSITE_SIDE,_=/ [XY][0-9]* /;a.exports={draw:function(x,w,E){var S,C=E.propContainer,T=E.propName,A=E.placeholder,O=E.traceIndex,P=E.avoid||{},F=E.attributes,R=E.transform,N=E.containerGroup,D=x._fullLayout,I=1,B=!1,j=C.title,q=(j&&j.text?j.text:"").trim(),et=j&&j.font?j.font:{},U=et.family,Z=et.size,rt=et.color;T==="title.text"?S="titleText":T.indexOf("axis")!==-1?S="axisTitleText":T.indexOf(!0)&&(S="colorbarTitleText");var ft=x._context.edits[S];q===""?I=0:q.replace(_," % ")===A.replace(_," % ")&&(I=.2,B=!0,ft||(q="")),E._meta?q=h.templateString(q,E._meta):D._meta&&(q=h.templateString(q,D._meta));var z,W=q||ft;N||(N=h.ensureSingle(D._infolayer,"g","g-"+w),z=D._hColorbarMoveTitle);var X=N.selectAll("text").data(W?[0]:[]);if(X.enter().append("text"),X.text(q).attr("class",w),X.exit().remove(),!W)return N;function it(nt){h.syncOrAsync([lt,dt],nt)}function lt(nt){var V;return!R&&z&&(R={}),R?(V="",R.rotate&&(V+="rotate("+[R.rotate,F.x,F.y]+")"),(R.offset||z)&&(V+=d(0,(R.offset||0)-(z||0)))):V=null,nt.attr("transform",V),nt.style({"font-family":U,"font-size":l.round(Z,2)+"px",fill:g.rgb(rt),opacity:I*g.opacity(rt),"font-weight":u.fontWeight}).attr(F).call(m.convertToTspans,x),u.previousPromises(x)}function dt(nt){var V=l.select(nt.node().parentNode);if(P&&P.selection&&P.side&&q){V.attr("transform",null);var G=y[P.side],H=P.side==="left"||P.side==="top"?-1:1,$=f(P.pad)?P.pad:2,J=p.bBox(V.node()),Q={t:0,b:0,l:0,r:0},ot=x._fullLayout._reservedMargin;for(var st in ot)for(var ht in ot[st]){var xt=ot[st][ht];Q[ht]=Math.max(Q[ht],xt)}var Pt={left:Q.l,top:Q.t,right:D.width-Q.r,bottom:D.height-Q.b},It=P.maxShift||H*(Pt[P.side]-J[P.side]),zt=0;if(It<0)zt=It;else{var pt=P.offsetLeft||0,yt=P.offsetTop||0;J.left-=pt,J.right-=pt,J.top-=yt,J.bottom-=yt,P.selection.each(function(){var St=p.bBox(this);h.bBoxIntersect(J,St,$)&&(zt=Math.max(zt,H*(St[P.side]-J[G])+$))}),zt=Math.min(It,zt),C._titleScoot=Math.abs(zt)}if(zt>0||It<0){var wt={left:[-zt,0],right:[zt,0],top:[0,-zt],bottom:[0,zt]}[P.side];V.attr("transform",d(wt[0],wt[1]))}}}return X.call(it),ft&&(q?X.on(".opacity",null):(I=0,B=!0,X.text(A).on("mouseover.opacity",function(){l.select(this).transition().duration(v.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){l.select(this).transition().duration(v.HIDE_PLACEHOLDER).style("opacity",0)})),X.call(m.makeEditable,{gd:x}).on("edit",function(nt){O!==void 0?c.call("_guiRestyle",x,T,nt,O):c.call("_guiRelayout",x,T,nt)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(it)}).on("input",function(nt){this.text(nt||" ").call(m.positionText,F.x,F.y)})),X.classed("js-placeholder",B),N}}},7163:function(a,s,o){var l=o(1940),f=o(2399),u=o(1426).extendFlat,c=o(962).overrideAll,h=o(5025),d=o(4467).templatedArray,p=d("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});a.exports=c(d("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:p,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:u(h({editType:"arraydraw"}),{}),font:l({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:f.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},5909:function(a){a.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},4897:function(a,s,o){var l=o(1828),f=o(5501),u=o(7163),c=o(5909).name,h=u.buttons;function d(g,m,v){function y(_,x){return l.coerce(g,m,u,_,x)}y("visible",f(g,m,{name:"buttons",handleItemDefaults:p}).length>0)&&(y("active"),y("direction"),y("type"),y("showactive"),y("x"),y("y"),l.noneOrAll(g,m,["x","y"]),y("xanchor"),y("yanchor"),y("pad.t"),y("pad.r"),y("pad.b"),y("pad.l"),l.coerceFont(y,"font",v.font),y("bgcolor",v.paper_bgcolor),y("bordercolor"),y("borderwidth"))}function p(g,m){function v(y,_){return l.coerce(g,m,h,y,_)}v("visible",g.method==="skip"||Array.isArray(g.args))&&(v("method"),v("args"),v("args2"),v("label"),v("execute"))}a.exports=function(g,m){f(g,m,{name:c,handleItemDefaults:d})}},3689:function(a,s,o){var l=o(9898),f=o(4875),u=o(7901),c=o(1424),h=o(1828),d=o(3893),p=o(4467).arrayEditor,g=o(8783).LINE_SPACING,m=o(5909),v=o(5849);function y(I){return I._index}function _(I,B){return+I.attr(m.menuIndexAttrName)===B._index}function x(I,B,j,q,et,U,Z,rt){B.active=Z,p(I.layout,m.name,B).applyUpdate("active",Z),B.type==="buttons"?E(I,q,null,null,B):B.type==="dropdown"&&(et.attr(m.menuIndexAttrName,"-1"),w(I,q,et,U,B),rt||E(I,q,et,U,B))}function w(I,B,j,q,et){var U=h.ensureSingle(B,"g",m.headerClassName,function(X){X.style("pointer-events","all")}),Z=et._dims,rt=et.active,ft=et.buttons[rt]||m.blankHeaderOpts,z={y:et.pad.t,yPad:0,x:et.pad.l,xPad:0,index:0},W={width:Z.headerWidth,height:Z.headerHeight};U.call(S,et,ft,I).call(N,et,z,W),h.ensureSingle(B,"text",m.headerArrowClassName,function(X){X.attr("text-anchor","end").call(c.font,et.font).text(m.arrowSymbol[et.direction])}).attr({x:Z.headerWidth-m.arrowOffsetX+et.pad.l,y:Z.headerHeight/2+m.textOffsetY+et.pad.t}),U.on("click",function(){j.call(D,String(_(j,et)?-1:et._index)),E(I,B,j,q,et)}),U.on("mouseover",function(){U.call(O)}),U.on("mouseout",function(){U.call(P,et)}),c.setTranslate(B,Z.lx,Z.ly)}function E(I,B,j,q,et){j||(j=B).attr("pointer-events","all");var U=function(V){return+V.attr(m.menuIndexAttrName)==-1}(j)&&et.type!=="buttons"?[]:et.buttons,Z=et.type==="dropdown"?m.dropdownButtonClassName:m.buttonClassName,rt=j.selectAll("g."+Z).data(h.filterVisible(U)),ft=rt.enter().append("g").classed(Z,!0),z=rt.exit();et.type==="dropdown"?(ft.attr("opacity","0").transition().attr("opacity","1"),z.transition().attr("opacity","0").remove()):z.remove();var W=0,X=0,it=et._dims,lt=["up","down"].indexOf(et.direction)!==-1;et.type==="dropdown"&&(lt?X=it.headerHeight+m.gapButtonHeader:W=it.headerWidth+m.gapButtonHeader),et.type==="dropdown"&&et.direction==="up"&&(X=-m.gapButtonHeader+m.gapButton-it.openHeight),et.type==="dropdown"&&et.direction==="left"&&(W=-m.gapButtonHeader+m.gapButton-it.openWidth);var dt={x:it.lx+W+et.pad.l,y:it.ly+X+et.pad.t,yPad:m.gapButton,xPad:m.gapButton,index:0},nt={l:dt.x+et.borderwidth,t:dt.y+et.borderwidth};rt.each(function(V,G){var H=l.select(this);H.call(S,et,V,I).call(N,et,dt),H.on("click",function(){l.event.defaultPrevented||(V.execute&&(V.args2&&et.active===G?(x(I,et,0,B,j,q,-1),f.executeAPICommand(I,V.method,V.args2)):(x(I,et,0,B,j,q,G),f.executeAPICommand(I,V.method,V.args))),I.emit("plotly_buttonclicked",{menu:et,button:V,active:et.active}))}),H.on("mouseover",function(){H.call(O)}),H.on("mouseout",function(){H.call(P,et),rt.call(A,et)})}),rt.call(A,et),lt?(nt.w=Math.max(it.openWidth,it.headerWidth),nt.h=dt.y-nt.t):(nt.w=dt.x-nt.l,nt.h=Math.max(it.openHeight,it.headerHeight)),nt.direction=et.direction,q&&(rt.size()?function(V,G,H,$,J,Q){var ot,st,ht,xt=J.direction,Pt=xt==="up"||xt==="down",It=J._dims,zt=J.active;if(Pt)for(st=0,ht=0;ht<zt;ht++)st+=It.heights[ht]+m.gapButton;else for(ot=0,ht=0;ht<zt;ht++)ot+=It.widths[ht]+m.gapButton;$.enable(Q,ot,st),$.hbar&&$.hbar.attr("opacity","0").transition().attr("opacity","1"),$.vbar&&$.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,q,et,nt):function(V){var G=!!V.hbar,H=!!V.vbar;G&&V.hbar.transition().attr("opacity","0").each("end",function(){G=!1,H||V.disable()}),H&&V.vbar.transition().attr("opacity","0").each("end",function(){H=!1,G||V.disable()})}(q))}function S(I,B,j,q){I.call(C,B).call(T,B,j,q)}function C(I,B){h.ensureSingle(I,"rect",m.itemRectClassName,function(j){j.attr({rx:m.rx,ry:m.ry,"shape-rendering":"crispEdges"})}).call(u.stroke,B.bordercolor).call(u.fill,B.bgcolor).style("stroke-width",B.borderwidth+"px")}function T(I,B,j,q){var et=h.ensureSingle(I,"text",m.itemTextClassName,function(rt){rt.attr({"text-anchor":"start","data-notex":1})}),U=j.label,Z=q._fullLayout._meta;Z&&(U=h.templateString(U,Z)),et.call(c.font,B.font).text(U).call(d.convertToTspans,q)}function A(I,B){var j=B.active;I.each(function(q,et){var U=l.select(this);et===j&&B.showactive&&U.select("rect."+m.itemRectClassName).call(u.fill,m.activeColor)})}function O(I){I.select("rect."+m.itemRectClassName).call(u.fill,m.hoverColor)}function P(I,B){I.select("rect."+m.itemRectClassName).call(u.fill,B.bgcolor)}function F(I,B){var j=B._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},q=c.tester.selectAll("g."+m.dropdownButtonClassName).data(h.filterVisible(B.buttons));q.enter().append("g").classed(m.dropdownButtonClassName,!0);var et=["up","down"].indexOf(B.direction)!==-1;q.each(function(W,X){var it=l.select(this);it.call(S,B,W,I);var lt=it.select("."+m.itemTextClassName),dt=lt.node()&&c.bBox(lt.node()).width,nt=Math.max(dt+m.textPadX,m.minWidth),V=B.font.size*g,G=d.lineCount(lt),H=Math.max(V*G,m.minHeight)+m.textOffsetY;H=Math.ceil(H),nt=Math.ceil(nt),j.widths[X]=nt,j.heights[X]=H,j.height1=Math.max(j.height1,H),j.width1=Math.max(j.width1,nt),et?(j.totalWidth=Math.max(j.totalWidth,nt),j.openWidth=j.totalWidth,j.totalHeight+=H+m.gapButton,j.openHeight+=H+m.gapButton):(j.totalWidth+=nt+m.gapButton,j.openWidth+=nt+m.gapButton,j.totalHeight=Math.max(j.totalHeight,H),j.openHeight=j.totalHeight)}),et?j.totalHeight-=m.gapButton:j.totalWidth-=m.gapButton,j.headerWidth=j.width1+m.arrowPadX,j.headerHeight=j.height1,B.type==="dropdown"&&(et?(j.width1+=m.arrowPadX,j.totalHeight=j.height1):j.totalWidth=j.width1,j.totalWidth+=m.arrowPadX),q.remove();var U=j.totalWidth+B.pad.l+B.pad.r,Z=j.totalHeight+B.pad.t+B.pad.b,rt=I._fullLayout._size;j.lx=rt.l+rt.w*B.x,j.ly=rt.t+rt.h*(1-B.y);var ft="left";h.isRightAnchor(B)&&(j.lx-=U,ft="right"),h.isCenterAnchor(B)&&(j.lx-=U/2,ft="center");var z="top";h.isBottomAnchor(B)&&(j.ly-=Z,z="bottom"),h.isMiddleAnchor(B)&&(j.ly-=Z/2,z="middle"),j.totalWidth=Math.ceil(j.totalWidth),j.totalHeight=Math.ceil(j.totalHeight),j.lx=Math.round(j.lx),j.ly=Math.round(j.ly),f.autoMargin(I,R(B),{x:B.x,y:B.y,l:U*({right:1,center:.5}[ft]||0),r:U*({left:1,center:.5}[ft]||0),b:Z*({top:1,middle:.5}[z]||0),t:Z*({bottom:1,middle:.5}[z]||0)})}function R(I){return m.autoMarginIdRoot+I._index}function N(I,B,j,q){q=q||{};var et=I.select("."+m.itemRectClassName),U=I.select("."+m.itemTextClassName),Z=B.borderwidth,rt=j.index,ft=B._dims;c.setTranslate(I,Z+j.x,Z+j.y);var z=["up","down"].indexOf(B.direction)!==-1,W=q.height||(z?ft.heights[rt]:ft.height1);et.attr({x:0,y:0,width:q.width||(z?ft.width1:ft.widths[rt]),height:W});var X=B.font.size*g,it=(d.lineCount(U)-1)*X/2;d.positionText(U,m.textOffsetX,W/2-it+m.textOffsetY),z?j.y+=ft.heights[rt]+j.yPad:j.x+=ft.widths[rt]+j.xPad,j.index++}function D(I,B){I.attr(m.menuIndexAttrName,B||"-1").selectAll("g."+m.dropdownButtonClassName).remove()}a.exports=function(I){var B=I._fullLayout,j=h.filterVisible(B[m.name]);function q(X){f.autoMargin(I,R(X))}var et=B._menulayer.selectAll("g."+m.containerClassName).data(j.length>0?[0]:[]);if(et.enter().append("g").classed(m.containerClassName,!0).style("cursor","pointer"),et.exit().each(function(){l.select(this).selectAll("g."+m.headerGroupClassName).each(q)}).remove(),j.length!==0){var U=et.selectAll("g."+m.headerGroupClassName).data(j,y);U.enter().append("g").classed(m.headerGroupClassName,!0);for(var Z=h.ensureSingle(et,"g",m.dropdownButtonGroupClassName,function(X){X.style("pointer-events","all")}),rt=0;rt<j.length;rt++){var ft=j[rt];F(I,ft)}var z="updatemenus"+B._uid,W=new v(I,Z,z);U.enter().size()&&(Z.node().parentNode.appendChild(Z.node()),Z.call(D)),U.exit().each(function(X){Z.call(D),q(X)}).remove(),U.each(function(X){var it=l.select(this),lt=X.type==="dropdown"?Z:null;f.manageCommandObserver(I,X,X.buttons,function(dt){x(I,X,X.buttons[dt.index],it,lt,W,dt.index,!0)}),X.type==="dropdown"?(w(I,it,Z,W,X),_(Z,X)&&E(I,it,Z,W,X)):E(I,it,null,null,X)})}}},763:function(a,s,o){var l=o(5909);a.exports={moduleType:"component",name:l.name,layoutAttributes:o(7163),supplyLayoutDefaults:o(4897),draw:o(3689)}},5849:function(a,s,o){a.exports=h;var l=o(9898),f=o(7901),u=o(1424),c=o(1828);function h(d,p,g){this.gd=d,this.container=p,this.id=g,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}h.barWidth=2,h.barLength=20,h.barRadius=2,h.barPad=1,h.barColor="#808BA4",h.prototype.enable=function(d,p,g){var m=this.gd._fullLayout,v=m.width,y=m.height;this.position=d;var _,x,w,E,S=this.position.l,C=this.position.w,T=this.position.t,A=this.position.h,O=this.position.direction,P=O==="down",F=O==="left",R=O==="up",N=C,D=A;P||F||O==="right"||R||(this.position.direction="down",P=!0),P||R?(x=(_=S)+N,P?(w=T,D=(E=Math.min(w+D,y))-w):D=(E=T+D)-(w=Math.max(E-D,0))):(E=(w=T)+D,F?N=(x=S+N)-(_=Math.max(x-N,0)):(_=S,N=(x=Math.min(_+N,v))-_)),this._box={l:_,t:w,w:N,h:D};var I=C>N,B=h.barLength+2*h.barPad,j=h.barWidth+2*h.barPad,q=S,et=T+A;et+j>y&&(et=y-j);var U=this.container.selectAll("rect.scrollbar-horizontal").data(I?[0]:[]);U.exit().on(".drag",null).remove(),U.enter().append("rect").classed("scrollbar-horizontal",!0).call(f.fill,h.barColor),I?(this.hbar=U.attr({rx:h.barRadius,ry:h.barRadius,x:q,y:et,width:B,height:j}),this._hbarXMin=q+B/2,this._hbarTranslateMax=N-B):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var Z=A>D,rt=h.barWidth+2*h.barPad,ft=h.barLength+2*h.barPad,z=S+C,W=T;z+rt>v&&(z=v-rt);var X=this.container.selectAll("rect.scrollbar-vertical").data(Z?[0]:[]);X.exit().on(".drag",null).remove(),X.enter().append("rect").classed("scrollbar-vertical",!0).call(f.fill,h.barColor),Z?(this.vbar=X.attr({rx:h.barRadius,ry:h.barRadius,x:z,y:W,width:rt,height:ft}),this._vbarYMin=W+ft/2,this._vbarTranslateMax=D-ft):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var it=this.id,lt=_-.5,dt=Z?x+rt+.5:x+.5,nt=w-.5,V=I?E+j+.5:E+.5,G=m._topdefs.selectAll("#"+it).data(I||Z?[0]:[]);if(G.exit().remove(),G.enter().append("clipPath").attr("id",it).append("rect"),I||Z?(this._clipRect=G.select("rect").attr({x:Math.floor(lt),y:Math.floor(nt),width:Math.ceil(dt)-Math.floor(lt),height:Math.ceil(V)-Math.floor(nt)}),this.container.call(u.setClipUrl,it,this.gd),this.bg.attr({x:S,y:T,width:C,height:A})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(u.setClipUrl,null),delete this._clipRect),I||Z){var H=l.behavior.drag().on("dragstart",function(){l.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(H);var $=l.behavior.drag().on("dragstart",function(){l.event.sourceEvent.preventDefault(),l.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));I&&this.hbar.on(".drag",null).call($),Z&&this.vbar.on(".drag",null).call($)}this.setTranslate(p,g)},h.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(u.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},h.prototype._onBoxDrag=function(){var d=this.translateX,p=this.translateY;this.hbar&&(d-=l.event.dx),this.vbar&&(p-=l.event.dy),this.setTranslate(d,p)},h.prototype._onBoxWheel=function(){var d=this.translateX,p=this.translateY;this.hbar&&(d+=l.event.deltaY),this.vbar&&(p+=l.event.deltaY),this.setTranslate(d,p)},h.prototype._onBarDrag=function(){var d=this.translateX,p=this.translateY;if(this.hbar){var g=d+this._hbarXMin,m=g+this._hbarTranslateMax;d=(c.constrain(l.event.x,g,m)-g)/(m-g)*(this.position.w-this._box.w)}if(this.vbar){var v=p+this._vbarYMin,y=v+this._vbarTranslateMax;p=(c.constrain(l.event.y,v,y)-v)/(y-v)*(this.position.h-this._box.h)}this.setTranslate(d,p)},h.prototype.setTranslate=function(d,p){var g=this.position.w-this._box.w,m=this.position.h-this._box.h;if(d=c.constrain(d||0,0,g),p=c.constrain(p||0,0,m),this.translateX=d,this.translateY=p,this.container.call(u.setTranslate,this._box.l-this.position.l-d,this._box.t-this.position.t-p),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+d-.5),y:Math.floor(this.position.t+p-.5)}),this.hbar){var v=d/g;this.hbar.call(u.setTranslate,d+v*this._hbarTranslateMax,p)}if(this.vbar){var y=p/m;this.vbar.call(u.setTranslate,d,p+y*this._vbarTranslateMax)}}},8783:function(a){a.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},4695:function(a){a.exports={axisRefDescription:function(s,o,l){return["If set to a",s,"axis id (e.g. *"+s+"* or","*"+s+"2*), the `"+s+"` position refers to a",s,"coordinate. If set to *paper*, the `"+s+"`","position refers to the distance from the",o,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",o,"("+l+"). If set to a",s,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",o,"of the domain of that axis: e.g.,","*"+s+"2 domain* refers to the domain of the second",s," axis and a",s,"position of 0.5 refers to the","point between the",o,"and the",l,"of the domain of the","second",s,"axis."].join(" ")}}},1562:function(a){a.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},4808:function(a){a.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},7822:function(a){a.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},606:function(a){a.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},7922:function(a,s){s.xmlns="http://www.w3.org/2000/xmlns/",s.svg="http://www.w3.org/2000/svg",s.xlink="http://www.w3.org/1999/xlink",s.svgAttrs={xmlns:s.svg,"xmlns:xlink":s.xlink}},8729:function(a,s,o){s.version=o(1506).version,o(7417),o(8847);for(var l=o(3972),f=s.register=l.register,u=o(641),c=Object.keys(u),h=0;h<c.length;h++){var d=c[h];d.charAt(0)!=="_"&&(s[d]=u[d]),f({moduleType:"apiMethod",name:d,fn:u[d]})}f(o(7368)),f([o(2745),o(2468),o(7322),o(9853),o(8804),o(763),o(3243),o(3137),o(7218),o(3312),o(7369),o(1081),o(2311),o(2199),o(211),o(4168)]),f([o(2177),o(7815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(f(window.PlotlyLocales),delete window.PlotlyLocales),s.Icons=o(4255);var p=o(211),g=o(4875);s.Plots={resize:g.resize,graphJson:g.graphJson,sendDataToCloud:g.sendDataToCloud},s.Fx={hover:p.hover,unhover:p.unhover,loneHover:p.loneHover,loneUnhover:p.loneUnhover},s.Snapshot=o(4511),s.PlotSchema=o(6281)},4255:function(a){a.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},9863:function(a,s){s.isLeftAnchor=function(o){return o.xanchor==="left"||o.xanchor==="auto"&&o.x<=.3333333333333333},s.isCenterAnchor=function(o){return o.xanchor==="center"||o.xanchor==="auto"&&o.x>.3333333333333333&&o.x<.6666666666666666},s.isRightAnchor=function(o){return o.xanchor==="right"||o.xanchor==="auto"&&o.x>=.6666666666666666},s.isTopAnchor=function(o){return o.yanchor==="top"||o.yanchor==="auto"&&o.y>=.6666666666666666},s.isMiddleAnchor=function(o){return o.yanchor==="middle"||o.yanchor==="auto"&&o.y>.3333333333333333&&o.y<.6666666666666666},s.isBottomAnchor=function(o){return o.yanchor==="bottom"||o.yanchor==="auto"&&o.y<=.3333333333333333}},6348:function(a,s,o){var l=o(4872),f=l.mod,u=l.modHalf,c=Math.PI,h=2*c;function d(v){return Math.abs(v[1]-v[0])>h-1e-14}function p(v,y){return u(y-v,h)}function g(v,y){if(d(y))return!0;var _,x;y[0]<y[1]?(_=y[0],x=y[1]):(_=y[1],x=y[0]),(_=f(_,h))>(x=f(x,h))&&(x+=h);var w=f(v,h),E=w+h;return w>=_&&w<=x||E>=_&&E<=x}function m(v,y,_,x,w,E,S){w=w||0,E=E||0;var C,T,A,O,P,F=d([_,x]);function R(B,j){return[B*Math.cos(j)+w,E-B*Math.sin(j)]}F?(C=0,T=c,A=h):_<x?(C=_,A=x):(C=x,A=_),v<y?(O=v,P=y):(O=y,P=v);var N,D=Math.abs(A-C)<=c?0:1;function I(B,j,q){return"A"+[B,B]+" "+[0,D,q]+" "+R(B,j)}return F?N=O===null?"M"+R(P,C)+I(P,T,0)+I(P,A,0)+"Z":"M"+R(O,C)+I(O,T,0)+I(O,A,0)+"ZM"+R(P,C)+I(P,T,1)+I(P,A,1)+"Z":O===null?(N="M"+R(P,C)+I(P,A,0),S&&(N+="L0,0Z")):N="M"+R(O,C)+"L"+R(P,C)+I(P,A,0)+"L"+R(O,A)+I(O,C,1)+"Z",N}a.exports={deg2rad:function(v){return v/180*c},rad2deg:function(v){return v/c*180},angleDelta:p,angleDist:function(v,y){return Math.abs(p(v,y))},isFullCircle:d,isAngleInsideSector:g,isPtInsideSector:function(v,y,_,x){return!!g(y,x)&&(_[0]<_[1]?(w=_[0],E=_[1]):(w=_[1],E=_[0]),v>=w&&v<=E);var w,E},pathArc:function(v,y,_,x,w){return m(null,v,y,_,x,w,0)},pathSector:function(v,y,_,x,w){return m(null,v,y,_,x,w,1)},pathAnnulus:function(v,y,_,x,w,E){return m(v,y,_,x,w,E,1)}}},3627:function(a,s){var o=Array.isArray,l=ArrayBuffer,f=DataView;function u(d){return l.isView(d)&&!(d instanceof f)}function c(d){return o(d)||u(d)}function h(d,p,g){if(c(d)){if(c(d[0])){for(var m=g,v=0;v<d.length;v++)m=p(m,d[v].length);return m}return d.length}return 0}s.isTypedArray=u,s.isArrayOrTypedArray=c,s.isArray1D=function(d){return!c(d[0])},s.ensureArray=function(d,p){return o(d)||(d=[]),d.length=p,d},s.concat=function(){var d,p,g,m,v,y,_,x,w=[],E=!0,S=0;for(g=0;g<arguments.length;g++)(y=(m=arguments[g]).length)&&(p?w.push(m):(p=m,v=y),o(m)?d=!1:(E=!1,S?d!==m.constructor&&(d=!1):d=m.constructor),S+=y);if(!S)return[];if(!w.length)return p;if(E)return p.concat.apply(p,w);if(d){for((_=new d(S)).set(p),g=0;g<w.length;g++)m=w[g],_.set(m,v),v+=m.length;return _}for(_=new Array(S),x=0;x<p.length;x++)_[x]=p[x];for(g=0;g<w.length;g++){for(m=w[g],x=0;x<m.length;x++)_[v+x]=m[x];v+=x}return _},s.maxRowLength=function(d){return h(d,Math.max,0)},s.minRowLength=function(d){return h(d,Math.min,1/0)}},5218:function(a,s,o){var l=o(2770),f=o(606).BADNUM,u=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;a.exports=function(c){return typeof c=="string"&&(c=c.replace(u,"")),l(c)?Number(c):f}},3306:function(a){a.exports=function(s){var o=s._fullLayout;o._glcanvas&&o._glcanvas.size()&&o._glcanvas.each(function(l){l.regl&&l.regl.clear({color:!0,depth:!0})})}},6367:function(a){a.exports=function(s){s._responsiveChartHandler&&(window.removeEventListener("resize",s._responsiveChartHandler),delete s._responsiveChartHandler)}},6554:function(a,s,o){var l=o(2770),f=o(4267),u=o(9012),c=o(3282),h=o(7901),d=o(7822).DESELECTDIM,p=o(5487),g=o(587).counter,m=o(4872).modHalf,v=o(3627).isArrayOrTypedArray;function y(_,x){var w=s.valObjectMeta[x.valType];if(x.arrayOk&&v(_))return!0;if(w.validateFunction)return w.validateFunction(_,x);var E={},S=E,C={set:function(T){S=T}};return w.coerceFunction(_,C,E,x),S!==E}s.valObjectMeta={data_array:{coerceFunction:function(_,x,w){v(_)?x.set(_):w!==void 0&&x.set(w)}},enumerated:{coerceFunction:function(_,x,w,E){E.coerceNumber&&(_=+_),E.values.indexOf(_)===-1?x.set(w):x.set(_)},validateFunction:function(_,x){x.coerceNumber&&(_=+_);for(var w=x.values,E=0;E<w.length;E++){var S=String(w[E]);if(S.charAt(0)==="/"&&S.charAt(S.length-1)==="/"){if(new RegExp(S.substr(1,S.length-2)).test(_))return!0}else if(_===w[E])return!0}return!1}},boolean:{coerceFunction:function(_,x,w){_===!0||_===!1?x.set(_):x.set(w)}},number:{coerceFunction:function(_,x,w,E){!l(_)||E.min!==void 0&&_<E.min||E.max!==void 0&&_>E.max?x.set(w):x.set(+_)}},integer:{coerceFunction:function(_,x,w,E){_%1||!l(_)||E.min!==void 0&&_<E.min||E.max!==void 0&&_>E.max?x.set(w):x.set(+_)}},string:{coerceFunction:function(_,x,w,E){if(typeof _!="string"){var S=typeof _=="number";E.strict!==!0&&S?x.set(String(_)):x.set(w)}else E.noBlank&&!_?x.set(w):x.set(_)}},color:{coerceFunction:function(_,x,w){f(_).isValid()?x.set(_):x.set(w)}},colorlist:{coerceFunction:function(_,x,w){Array.isArray(_)&&_.length&&_.every(function(E){return f(E).isValid()})?x.set(_):x.set(w)}},colorscale:{coerceFunction:function(_,x,w){x.set(c.get(_,w))}},angle:{coerceFunction:function(_,x,w){_==="auto"?x.set("auto"):l(_)?x.set(m(+_,360)):x.set(w)}},subplotid:{coerceFunction:function(_,x,w,E){var S=E.regex||g(w);typeof _=="string"&&S.test(_)?x.set(_):x.set(w)},validateFunction:function(_,x){var w=x.dflt;return _===w||typeof _=="string"&&!!g(w).test(_)}},flaglist:{coerceFunction:function(_,x,w,E){if((E.extras||[]).indexOf(_)===-1)if(typeof _=="string"){for(var S=_.split("+"),C=0;C<S.length;){var T=S[C];E.flags.indexOf(T)===-1||S.indexOf(T)<C?S.splice(C,1):C++}S.length?x.set(S.join("+")):x.set(w)}else x.set(w);else x.set(_)}},any:{coerceFunction:function(_,x,w){_===void 0?x.set(w):x.set(_)}},info_array:{coerceFunction:function(_,x,w,E){function S(et,U,Z){var rt,ft={set:function(z){rt=z}};return Z===void 0&&(Z=U.dflt),s.valObjectMeta[U.valType].coerceFunction(et,ft,Z,U),rt}var C=E.dimensions===2||E.dimensions==="1-2"&&Array.isArray(_)&&Array.isArray(_[0]);if(Array.isArray(_)){var T,A,O,P,F,R,N=E.items,D=[],I=Array.isArray(N),B=I&&C&&Array.isArray(N[0]),j=C&&I&&!B,q=I&&!j?N.length:_.length;if(w=Array.isArray(w)?w:[],C)for(T=0;T<q;T++)for(D[T]=[],O=Array.isArray(_[T])?_[T]:[],F=j?N.length:I?N[T].length:O.length,A=0;A<F;A++)P=j?N[A]:I?N[T][A]:N,(R=S(O[A],P,(w[T]||[])[A]))!==void 0&&(D[T][A]=R);else for(T=0;T<q;T++)(R=S(_[T],I?N[T]:N,w[T]))!==void 0&&(D[T]=R);x.set(D)}else x.set(w)},validateFunction:function(_,x){if(!Array.isArray(_))return!1;var w=x.items,E=Array.isArray(w),S=x.dimensions===2;if(!x.freeLength&&_.length!==w.length)return!1;for(var C=0;C<_.length;C++)if(S){if(!Array.isArray(_[C])||!x.freeLength&&_[C].length!==w[C].length)return!1;for(var T=0;T<_[C].length;T++)if(!y(_[C][T],E?w[C][T]:w))return!1}else if(!y(_[C],E?w[C]:w))return!1;return!0}}},s.coerce=function(_,x,w,E,S){var C=p(w,E).get(),T=p(_,E),A=p(x,E),O=T.get(),P=x._template;if(O===void 0&&P&&(O=p(P,E).get(),P=0),S===void 0&&(S=C.dflt),C.arrayOk&&v(O))return A.set(O),O;var F=s.valObjectMeta[C.valType].coerceFunction;F(O,A,S,C);var R=A.get();return P&&R===S&&!y(O,C)&&(F(O=p(P,E).get(),A,S,C),R=A.get()),R},s.coerce2=function(_,x,w,E,S){var C=p(_,E),T=s.coerce(_,x,w,E,S);return C.get()!=null&&T},s.coerceFont=function(_,x,w){var E={};return w=w||{},E.family=_(x+".family",w.family),E.size=_(x+".size",w.size),E.color=_(x+".color",w.color),E},s.coercePattern=function(_,x,w,E){if(_(x+".shape")){_(x+".solidity"),_(x+".size");var S=_(x+".fillmode")==="overlay";if(!E){var C=_(x+".bgcolor",S?w:void 0);_(x+".fgcolor",S?h.contrast(C):w)}_(x+".fgopacity",S?.5:1)}},s.coerceHoverinfo=function(_,x,w){var E,S=x._module.attributes,C=S.hoverinfo?S:u,T=C.hoverinfo;if(w._dataLength===1){var A=T.dflt==="all"?T.flags.slice():T.dflt.split("+");A.splice(A.indexOf("name"),1),E=A.join("+")}return s.coerce(_,x,C,"hoverinfo",E)},s.coerceSelectionMarkerOpacity=function(_,x){if(_.marker){var w,E,S=_.marker.opacity;S!==void 0&&(v(S)||_.selected||_.unselected||(w=S,E=d*S),x("selected.marker.opacity",w),x("unselected.marker.opacity",E))}},s.validate=y},1631:function(a,s,o){var l,f,u=o(4096).i$,c=o(2770),h=o(7769),d=o(4872).mod,p=o(606),g=p.BADNUM,m=p.ONEDAY,v=p.ONEHOUR,y=p.ONEMIN,_=p.ONESEC,x=p.EPOCHJD,w=o(3972),E=o(4096).g0,S=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,C=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,T=new Date().getFullYear()-70;function A(U){return U&&w.componentsRegistry.calendars&&typeof U=="string"&&U!=="gregorian"}function O(U,Z){return String(U+Math.pow(10,Z)).substr(1)}s.dateTick0=function(U,Z){var rt=function(z,W){return A(z)?W?w.getComponentMethod("calendars","CANONICAL_SUNDAY")[z]:w.getComponentMethod("calendars","CANONICAL_TICK")[z]:W?"2000-01-02":"2000-01-01"}(U,!!Z);if(Z<2)return rt;var ft=s.dateTime2ms(rt,U);return ft+=m*(Z-1),s.ms2DateTime(ft,0,U)},s.dfltRange=function(U){return A(U)?w.getComponentMethod("calendars","DFLTRANGE")[U]:["2000-01-01","2001-01-01"]},s.isJSDate=function(U){return typeof U=="object"&&U!==null&&typeof U.getTime=="function"},s.dateTime2ms=function(U,Z){if(s.isJSDate(U)){var rt=U.getTimezoneOffset()*y,ft=(U.getUTCMinutes()-U.getMinutes())*y+(U.getUTCSeconds()-U.getSeconds())*_+(U.getUTCMilliseconds()-U.getMilliseconds());if(ft){var z=3*y;rt=rt-z/2+d(ft-rt+z/2,z)}return(U=Number(U)-rt)>=l&&U<=f?U:g}if(typeof U!="string"&&typeof U!="number")return g;U=String(U);var W=A(Z),X=U.charAt(0);!W||X!=="G"&&X!=="g"||(U=U.substr(1),Z="");var it=W&&Z.substr(0,7)==="chinese",lt=U.match(it?C:S);if(!lt)return g;var dt=lt[1],nt=lt[3]||"1",V=Number(lt[5]||1),G=Number(lt[7]||0),H=Number(lt[9]||0),$=Number(lt[11]||0);if(W){if(dt.length===2)return g;var J;dt=Number(dt);try{var Q=w.getComponentMethod("calendars","getCal")(Z);if(it){var ot=nt.charAt(nt.length-1)==="i";nt=parseInt(nt,10),J=Q.newDate(dt,Q.toMonthIndex(dt,nt,ot),V)}else J=Q.newDate(dt,Number(nt),V)}catch{return g}return J?(J.toJD()-x)*m+G*v+H*y+$*_:g}dt=dt.length===2?(Number(dt)+2e3-T)%100+T:Number(dt),nt-=1;var st=new Date(Date.UTC(2e3,nt,V,G,H));return st.setUTCFullYear(dt),st.getUTCMonth()!==nt||st.getUTCDate()!==V?g:st.getTime()+$*_},l=s.MIN_MS=s.dateTime2ms("-9999"),f=s.MAX_MS=s.dateTime2ms("9999-12-31 23:59:59.9999"),s.isDateTime=function(U,Z){return s.dateTime2ms(U,Z)!==g};var P=90*m,F=3*v,R=5*y;function N(U,Z,rt,ft,z){if((Z||rt||ft||z)&&(U+=" "+O(Z,2)+":"+O(rt,2),(ft||z)&&(U+=":"+O(ft,2),z))){for(var W=4;z%10==0;)W-=1,z/=10;U+="."+O(z,W)}return U}s.ms2DateTime=function(U,Z,rt){if(typeof U!="number"||!(U>=l&&U<=f))return g;Z||(Z=0);var ft,z,W,X,it,lt,dt=Math.floor(10*d(U+.05,1)),nt=Math.round(U-dt/10);if(A(rt)){var V=Math.floor(nt/m)+x,G=Math.floor(d(U,m));try{ft=w.getComponentMethod("calendars","getCal")(rt).fromJD(V).formatDate("yyyy-mm-dd")}catch{ft=E("G%Y-%m-%d")(new Date(nt))}if(ft.charAt(0)==="-")for(;ft.length<11;)ft="-0"+ft.substr(1);else for(;ft.length<10;)ft="0"+ft;z=Z<P?Math.floor(G/v):0,W=Z<P?Math.floor(G%v/y):0,X=Z<F?Math.floor(G%y/_):0,it=Z<R?G%_*10+dt:0}else lt=new Date(nt),ft=E("%Y-%m-%d")(lt),z=Z<P?lt.getUTCHours():0,W=Z<P?lt.getUTCMinutes():0,X=Z<F?lt.getUTCSeconds():0,it=Z<R?10*lt.getUTCMilliseconds()+dt:0;return N(ft,z,W,X,it)},s.ms2DateTimeLocal=function(U){if(!(U>=l+m&&U<=f-m))return g;var Z=Math.floor(10*d(U+.05,1)),rt=new Date(Math.round(U-Z/10));return N(u("%Y-%m-%d")(rt),rt.getHours(),rt.getMinutes(),rt.getSeconds(),10*rt.getUTCMilliseconds()+Z)},s.cleanDate=function(U,Z,rt){if(U===g)return Z;if(s.isJSDate(U)||typeof U=="number"&&isFinite(U)){if(A(rt))return h.error("JS Dates and milliseconds are incompatible with world calendars",U),Z;if(!(U=s.ms2DateTimeLocal(+U))&&Z!==void 0)return Z}else if(!s.isDateTime(U,rt))return h.error("unrecognized date",U),Z;return U};var D=/%\d?f/g,I=/%h/g,B={1:"1",2:"1",3:"2",4:"2"};function j(U,Z,rt,ft){U=U.replace(D,function(W){var X=Math.min(+W.charAt(1)||6,6);return(Z/1e3%1+2).toFixed(X).substr(2).replace(/0+$/,"")||"0"});var z=new Date(Math.floor(Z+.05));if(U=U.replace(I,function(){return B[rt("%q")(z)]}),A(ft))try{U=w.getComponentMethod("calendars","worldCalFmt")(U,Z,ft)}catch{return"Invalid"}return rt(U)(z)}var q=[59,59.9,59.99,59.999,59.9999];s.formatDate=function(U,Z,rt,ft,z,W){if(z=A(z)&&z,!Z)if(rt==="y")Z=W.year;else if(rt==="m")Z=W.month;else{if(rt!=="d")return function(X,it){var lt=d(X+.05,m),dt=O(Math.floor(lt/v),2)+":"+O(d(Math.floor(lt/y),60),2);if(it!=="M"){c(it)||(it=0);var nt=(100+Math.min(d(X/_,60),q[it])).toFixed(it).substr(1);it>0&&(nt=nt.replace(/0+$/,"").replace(/[\.]$/,"")),dt+=":"+nt}return dt}(U,rt)+`
`+j(W.dayMonthYear,U,ft,z);Z=W.dayMonth+`
`+W.year}return j(Z,U,ft,z)};var et=3*m;s.incrementMonth=function(U,Z,rt){rt=A(rt)&&rt;var ft=d(U,m);if(U=Math.round(U-ft),rt)try{var z=Math.round(U/m)+x,W=w.getComponentMethod("calendars","getCal")(rt),X=W.fromJD(z);return Z%12?W.add(X,Z,"m"):W.add(X,Z/12,"y"),(X.toJD()-x)*m+ft}catch{h.error("invalid ms "+U+" in calendar "+rt)}var it=new Date(U+et);return it.setUTCMonth(it.getUTCMonth()+Z)+ft-et},s.findExactDates=function(U,Z){for(var rt,ft,z=0,W=0,X=0,it=0,lt=A(Z)&&w.getComponentMethod("calendars","getCal")(Z),dt=0;dt<U.length;dt++)if(ft=U[dt],c(ft)){if(!(ft%m))if(lt)try{(rt=lt.fromJD(ft/m+x)).day()===1?rt.month()===1?z++:W++:X++}catch{}else(rt=new Date(ft)).getUTCDate()===1?rt.getUTCMonth()===0?z++:W++:X++}else it++;X+=W+=z;var nt=U.length-it;return{exactYears:z/nt,exactMonths:W/nt,exactDays:X/nt}}},4401:function(a,s,o){var l=o(9898),f=o(7769),u=o(5657),c=o(9576);function h(v){var y=v&&v.parentNode;y&&y.removeChild(v)}function d(v,y,_){var x="plotly.js-style-"+v,w=document.getElementById(x);w||((w=document.createElement("style")).setAttribute("id",x),w.appendChild(document.createTextNode("")),document.head.appendChild(w));var E=w.sheet;E.insertRule?E.insertRule(y+"{"+_+"}",0):E.addRule?E.addRule(y,_,0):f.warn("addStyleRule failed")}function p(v){var y=window.getComputedStyle(v,null),_=y.getPropertyValue("-webkit-transform")||y.getPropertyValue("-moz-transform")||y.getPropertyValue("-ms-transform")||y.getPropertyValue("-o-transform")||y.getPropertyValue("transform");return _==="none"?null:_.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(x){return+x})}function g(v){for(var y=[];m(v);)y.push(v),v=v.parentNode;return y}function m(v){return v&&(v instanceof Element||v instanceof HTMLElement)}a.exports={getGraphDiv:function(v){var y;if(typeof v=="string"){if((y=document.getElementById(v))===null)throw new Error("No DOM element with id '"+v+"' exists on the page.");return y}if(v==null)throw new Error("DOM element provided is null or undefined");return v},isPlotDiv:function(v){var y=l.select(v);return y.node()instanceof HTMLElement&&y.size()&&y.classed("js-plotly-plot")},removeElement:h,addStyleRule:function(v,y){d("global",v,y)},addRelatedStyleRule:d,deleteRelatedStyleRule:function(v){var y="plotly.js-style-"+v,_=document.getElementById(y);_&&h(_)},getFullTransformMatrix:function(v){var y=g(v),_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return y.forEach(function(x){var w=p(x);if(w){var E=u.convertCssMatrix(w);_=c.multiply(_,_,E)}}),_},getElementTransformMatrix:p,getElementAndAncestors:g,equalDomRects:function(v,y){return v&&y&&v.top===y.top&&v.left===y.left&&v.right===y.right&&v.bottom===y.bottom}}},1086:function(a,s,o){var l=o(5398).EventEmitter,f={init:function(u){if(u._ev instanceof l)return u;var c=new l,h=new l;return u._ev=c,u._internalEv=h,u.on=c.on.bind(c),u.once=c.once.bind(c),u.removeListener=c.removeListener.bind(c),u.removeAllListeners=c.removeAllListeners.bind(c),u._internalOn=h.on.bind(h),u._internalOnce=h.once.bind(h),u._removeInternalListener=h.removeListener.bind(h),u._removeAllInternalListeners=h.removeAllListeners.bind(h),u.emit=function(d,p){typeof jQuery<"u"&&jQuery(u).trigger(d,p),c.emit(d,p),h.emit(d,p)},u},triggerHandler:function(u,c,h){var d,p;typeof jQuery<"u"&&(d=jQuery(u).triggerHandler(c,h));var g=u._ev;if(!g)return d;var m,v=g._events[c];if(!v)return d;function y(_){return _.listener?(g.removeListener(c,_.listener),_.fired?void 0:(_.fired=!0,_.listener.apply(g,[h]))):_.apply(g,[h])}for(v=Array.isArray(v)?v:[v],m=0;m<v.length-1;m++)y(v[m]);return p=y(v[m]),d!==void 0?d:p},purge:function(u){return delete u._ev,delete u.on,delete u.once,delete u.removeListener,delete u.removeAllListeners,delete u.emit,delete u._ev,delete u._internalEv,delete u._internalOn,delete u._internalOnce,delete u._removeInternalListener,delete u._removeAllInternalListeners,u}};a.exports=f},1426:function(a,s,o){var l=o(1965),f=Array.isArray;function u(c,h,d,p){var g,m,v,y,_,x,w,E=c[0],S=c.length;if(S===2&&f(E)&&f(c[1])&&E.length===0){if(w=function(T,A){var O,P;for(O=0;O<T.length;O++){if((P=T[O])!==null&&typeof P=="object")return!1;P!==void 0&&(A[O]=P)}return!0}(c[1],E),w)return E;E.splice(0,E.length)}for(var C=1;C<S;C++)for(m in g=c[C])v=E[m],y=g[m],p&&f(y)?E[m]=y:h&&y&&(l(y)||(_=f(y)))?(_?(_=!1,x=v&&f(v)?v:[]):x=v&&l(v)?v:{},E[m]=u([x,y],h,d,p)):(y!==void 0||d)&&(E[m]=y);return E}s.extendFlat=function(){return u(arguments,!1,!1,!1)},s.extendDeep=function(){return u(arguments,!0,!1,!1)},s.extendDeepAll=function(){return u(arguments,!0,!0,!1)},s.extendDeepNoArrays=function(){return u(arguments,!0,!1,!0)}},5744:function(a){a.exports=function(s){for(var o={},l=[],f=0,u=0;u<s.length;u++){var c=s[u];o[c]!==1&&(o[c]=1,l[f++]=c)}return l}},6756:function(a){function s(l){return l.visible===!0}function o(l){var f=l[0].trace;return f.visible===!0&&f._length!==0}a.exports=function(l){for(var f,u=(f=l,Array.isArray(f)&&Array.isArray(f[0])&&f[0][0]&&f[0][0].trace?o:s),c=[],h=0;h<l.length;h++){var d=l[h];u(d)&&c.push(d)}return c}},7642:function(a,s,o){var l,f,u,c=o(4872).mod;function h(p,g,m,v,y,_,x,w){var E=m-p,S=y-p,C=x-y,T=v-g,A=_-g,O=w-_,P=E*O-C*T;if(P===0)return null;var F=(S*O-C*A)/P,R=(S*T-E*A)/P;return R<0||R>1||F<0||F>1?null:{x:p+E*F,y:g+T*F}}function d(p,g,m,v,y){var _=v*p+y*g;if(_<0)return v*v+y*y;if(_>m){var x=v-p,w=y-g;return x*x+w*w}var E=v*g-y*p;return E*E/m}s.segmentsIntersect=h,s.segmentDistance=function(p,g,m,v,y,_,x,w){if(h(p,g,m,v,y,_,x,w))return 0;var E=m-p,S=v-g,C=x-y,T=w-_,A=E*E+S*S,O=C*C+T*T,P=Math.min(d(E,S,A,y-p,_-g),d(E,S,A,x-p,w-g),d(C,T,O,p-y,g-_),d(C,T,O,m-y,v-_));return Math.sqrt(P)},s.getTextLocation=function(p,g,m,v){if(p===f&&v===u||(l={},f=p,u=v),l[m])return l[m];var y=p.getPointAtLength(c(m-v/2,g)),_=p.getPointAtLength(c(m+v/2,g)),x=Math.atan((_.y-y.y)/(_.x-y.x)),w=p.getPointAtLength(c(m,g)),E={x:(4*w.x+y.x+_.x)/6,y:(4*w.y+y.y+_.y)/6,theta:x};return l[m]=E,E},s.clearLocationCache=function(){f=null},s.getVisibleSegment=function(p,g,m){var v,y,_=g.left,x=g.right,w=g.top,E=g.bottom,S=0,C=p.getTotalLength(),T=C;function A(P){var F=p.getPointAtLength(P);P===0?v=F:P===C&&(y=F);var R=F.x<_?_-F.x:F.x>x?F.x-x:0,N=F.y<w?w-F.y:F.y>E?F.y-E:0;return Math.sqrt(R*R+N*N)}for(var O=A(S);O;){if((S+=O+m)>T)return;O=A(S)}for(O=A(T);O;){if(S>(T-=O+m))return;O=A(T)}return{min:S,max:T,len:T-S,total:C,isClosed:S===0&&T===C&&Math.abs(v.x-y.x)<.1&&Math.abs(v.y-y.y)<.1}},s.findPointOnPath=function(p,g,m,v){for(var y,_,x,w=(v=v||{}).pathLength||p.getTotalLength(),E=v.tolerance||.001,S=v.iterationLimit||30,C=p.getPointAtLength(0)[m]>p.getPointAtLength(w)[m]?-1:1,T=0,A=0,O=w;T<S;){if(y=(A+O)/2,x=(_=p.getPointAtLength(y))[m]-g,Math.abs(x)<E)return _;C*x>0?O=y:A=y,T++}return _}},3389:function(a){a.exports=function(s){return s}},9240:function(a){a.exports=function(s,o){if(!o)return s;var l=1/Math.abs(o),f=l>1?(l*s+l*o)/l:s+o,u=String(f).length;if(u>16){var c=String(o).length;if(u>=String(s).length+c){var h=parseFloat(f).toPrecision(12);h.indexOf("e+")===-1&&(f=+h)}}return f}},1828:function(a,s,o){var l=o(9898),f=o(4096).g0,u=o(721).WU,c=o(2770),h=o(606),d=h.FP_SAFE,p=-d,g=h.BADNUM,m=a.exports={};m.adjustFormat=function(G){return!G||/^\d[.]\df/.test(G)||/[.]\d%/.test(G)?G:G==="0.f"?"~f":/^\d%/.test(G)?"~%":/^\ds/.test(G)?"~s":!/^[~,.0$]/.test(G)&&/[&fps]/.test(G)?"~"+G:G};var v={};m.warnBadFormat=function(G){var H=String(G);v[H]||(v[H]=1,m.warn('encountered bad format: "'+H+'"'))},m.noFormat=function(G){return String(G)},m.numberFormat=function(G){var H;try{H=u(m.adjustFormat(G))}catch{return m.warnBadFormat(G),m.noFormat}return H},m.nestedProperty=o(5487),m.keyedContainer=o(6636),m.relativeAttr=o(6962),m.isPlainObject=o(1965),m.toLogRange=o(8163),m.relinkPrivateKeys=o(1332);var y=o(3627);m.isTypedArray=y.isTypedArray,m.isArrayOrTypedArray=y.isArrayOrTypedArray,m.isArray1D=y.isArray1D,m.ensureArray=y.ensureArray,m.concat=y.concat,m.maxRowLength=y.maxRowLength,m.minRowLength=y.minRowLength;var _=o(4872);m.mod=_.mod,m.modHalf=_.modHalf;var x=o(6554);m.valObjectMeta=x.valObjectMeta,m.coerce=x.coerce,m.coerce2=x.coerce2,m.coerceFont=x.coerceFont,m.coercePattern=x.coercePattern,m.coerceHoverinfo=x.coerceHoverinfo,m.coerceSelectionMarkerOpacity=x.coerceSelectionMarkerOpacity,m.validate=x.validate;var w=o(1631);m.dateTime2ms=w.dateTime2ms,m.isDateTime=w.isDateTime,m.ms2DateTime=w.ms2DateTime,m.ms2DateTimeLocal=w.ms2DateTimeLocal,m.cleanDate=w.cleanDate,m.isJSDate=w.isJSDate,m.formatDate=w.formatDate,m.incrementMonth=w.incrementMonth,m.dateTick0=w.dateTick0,m.dfltRange=w.dfltRange,m.findExactDates=w.findExactDates,m.MIN_MS=w.MIN_MS,m.MAX_MS=w.MAX_MS;var E=o(5888);m.findBin=E.findBin,m.sorterAsc=E.sorterAsc,m.sorterDes=E.sorterDes,m.distinctVals=E.distinctVals,m.roundUp=E.roundUp,m.sort=E.sort,m.findIndexOfMin=E.findIndexOfMin,m.sortObjectKeys=o(8607);var S=o(38);m.aggNums=S.aggNums,m.len=S.len,m.mean=S.mean,m.median=S.median,m.midRange=S.midRange,m.variance=S.variance,m.stdev=S.stdev,m.interp=S.interp;var C=o(5657);m.init2dArray=C.init2dArray,m.transposeRagged=C.transposeRagged,m.dot=C.dot,m.translationMatrix=C.translationMatrix,m.rotationMatrix=C.rotationMatrix,m.rotationXYMatrix=C.rotationXYMatrix,m.apply3DTransform=C.apply3DTransform,m.apply2DTransform=C.apply2DTransform,m.apply2DTransform2=C.apply2DTransform2,m.convertCssMatrix=C.convertCssMatrix,m.inverseTransformMatrix=C.inverseTransformMatrix;var T=o(6348);m.deg2rad=T.deg2rad,m.rad2deg=T.rad2deg,m.angleDelta=T.angleDelta,m.angleDist=T.angleDist,m.isFullCircle=T.isFullCircle,m.isAngleInsideSector=T.isAngleInsideSector,m.isPtInsideSector=T.isPtInsideSector,m.pathArc=T.pathArc,m.pathSector=T.pathSector,m.pathAnnulus=T.pathAnnulus;var A=o(9863);m.isLeftAnchor=A.isLeftAnchor,m.isCenterAnchor=A.isCenterAnchor,m.isRightAnchor=A.isRightAnchor,m.isTopAnchor=A.isTopAnchor,m.isMiddleAnchor=A.isMiddleAnchor,m.isBottomAnchor=A.isBottomAnchor;var O=o(7642);m.segmentsIntersect=O.segmentsIntersect,m.segmentDistance=O.segmentDistance,m.getTextLocation=O.getTextLocation,m.clearLocationCache=O.clearLocationCache,m.getVisibleSegment=O.getVisibleSegment,m.findPointOnPath=O.findPointOnPath;var P=o(1426);m.extendFlat=P.extendFlat,m.extendDeep=P.extendDeep,m.extendDeepAll=P.extendDeepAll,m.extendDeepNoArrays=P.extendDeepNoArrays;var F=o(7769);m.log=F.log,m.warn=F.warn,m.error=F.error;var R=o(587);m.counterRegex=R.counter;var N=o(9990);m.throttle=N.throttle,m.throttleDone=N.done,m.clearThrottle=N.clear;var D=o(4401);function I(G){var H={};for(var $ in G)for(var J=G[$],Q=0;Q<J.length;Q++)H[J[Q]]=+$;return H}m.getGraphDiv=D.getGraphDiv,m.isPlotDiv=D.isPlotDiv,m.removeElement=D.removeElement,m.addStyleRule=D.addStyleRule,m.addRelatedStyleRule=D.addRelatedStyleRule,m.deleteRelatedStyleRule=D.deleteRelatedStyleRule,m.getFullTransformMatrix=D.getFullTransformMatrix,m.getElementTransformMatrix=D.getElementTransformMatrix,m.getElementAndAncestors=D.getElementAndAncestors,m.equalDomRects=D.equalDomRects,m.clearResponsive=o(6367),m.preserveDrawingBuffer=o(5142),m.makeTraceGroups=o(7310),m._=o(5867),m.notifier=o(5046),m.filterUnique=o(5744),m.filterVisible=o(6756),m.pushUnique=o(5138),m.increment=o(9240),m.cleanNumber=o(5218),m.ensureNumber=function(G){return c(G)?(G=Number(G))>d||G<p?g:G:g},m.isIndex=function(G,H){return!(H!==void 0&&G>=H)&&c(G)&&G>=0&&G%1==0},m.noop=o(4213),m.identity=o(3389),m.repeat=function(G,H){for(var $=new Array(H),J=0;J<H;J++)$[J]=G;return $},m.swapAttrs=function(G,H,$,J){$||($="x"),J||(J="y");for(var Q=0;Q<H.length;Q++){var ot=H[Q],st=m.nestedProperty(G,ot.replace("?",$)),ht=m.nestedProperty(G,ot.replace("?",J)),xt=st.get();st.set(ht.get()),ht.set(xt)}},m.raiseToTop=function(G){G.parentNode.appendChild(G)},m.cancelTransition=function(G){return G.transition().duration(0)},m.constrain=function(G,H,$){return H>$?Math.max($,Math.min(H,G)):Math.max(H,Math.min($,G))},m.bBoxIntersect=function(G,H,$){return $=$||0,G.left<=H.right+$&&H.left<=G.right+$&&G.top<=H.bottom+$&&H.top<=G.bottom+$},m.simpleMap=function(G,H,$,J,Q){for(var ot=G.length,st=new Array(ot),ht=0;ht<ot;ht++)st[ht]=H(G[ht],$,J,Q);return st},m.randstr=function G(H,$,J,Q){if(J||(J=16),$===void 0&&($=24),$<=0)return"0";var ot,st,ht=Math.log(Math.pow(2,$))/Math.log(J),xt="";for(ot=2;ht===1/0;ot*=2)ht=Math.log(Math.pow(2,$/ot))/Math.log(J)*ot;var Pt=ht-Math.floor(ht);for(ot=0;ot<Math.floor(ht);ot++)xt=Math.floor(Math.random()*J).toString(J)+xt;Pt&&(st=Math.pow(J,Pt),xt=Math.floor(Math.random()*st).toString(J)+xt);var It=parseInt(xt,J);return H&&H[xt]||It!==1/0&&It>=Math.pow(2,$)?Q>10?(m.warn("randstr failed uniqueness"),xt):G(H,$,J,(Q||0)+1):xt},m.OptionControl=function(G,H){G||(G={}),H||(H="opt");var $={optionList:[],_newoption:function(J){J[H]=G,$[J.name]=J,$.optionList.push(J)}};return $["_"+H]=G,$},m.smooth=function(G,H){if((H=Math.round(H)||0)<2)return G;var $,J,Q,ot,st=G.length,ht=2*st,xt=2*H-1,Pt=new Array(xt),It=new Array(st);for($=0;$<xt;$++)Pt[$]=(1-Math.cos(Math.PI*($+1)/H))/(2*H);for($=0;$<st;$++){for(ot=0,J=0;J<xt;J++)(Q=$+J+1-H)<-st?Q-=ht*Math.round(Q/ht):Q>=ht&&(Q-=ht*Math.floor(Q/ht)),Q<0?Q=-1-Q:Q>=st&&(Q=ht-1-Q),ot+=G[Q]*Pt[J];It[$]=ot}return It},m.syncOrAsync=function(G,H,$){var J;function Q(){return m.syncOrAsync(G,H,$)}for(;G.length;)if((J=(0,G.splice(0,1)[0])(H))&&J.then)return J.then(Q);return $&&$(H)},m.stripTrailingSlash=function(G){return G.substr(-1)==="/"?G.substr(0,G.length-1):G},m.noneOrAll=function(G,H,$){if(G){var J,Q=!1,ot=!0;for(J=0;J<$.length;J++)G[$[J]]!=null?Q=!0:ot=!1;if(Q&&!ot)for(J=0;J<$.length;J++)G[$[J]]=H[$[J]]}},m.mergeArray=function(G,H,$,J){var Q=typeof J=="function";if(m.isArrayOrTypedArray(G))for(var ot=Math.min(G.length,H.length),st=0;st<ot;st++){var ht=G[st];H[st][$]=Q?J(ht):ht}},m.mergeArrayCastPositive=function(G,H,$){return m.mergeArray(G,H,$,function(J){var Q=+J;return isFinite(Q)&&Q>0?Q:0})},m.fillArray=function(G,H,$,J){if(J=J||m.identity,m.isArrayOrTypedArray(G))for(var Q=0;Q<H.length;Q++)H[Q][$]=J(G[Q])},m.castOption=function(G,H,$,J){J=J||m.identity;var Q=m.nestedProperty(G,$).get();return m.isArrayOrTypedArray(Q)?Array.isArray(H)&&m.isArrayOrTypedArray(Q[H[0]])?J(Q[H[0]][H[1]]):J(Q[H]):Q},m.extractOption=function(G,H,$,J){if($ in G)return G[$];var Q=m.nestedProperty(H,J).get();return Array.isArray(Q)?void 0:Q},m.tagSelected=function(G,H,$){var J,Q,ot=H.selectedpoints,st=H._indexToPoints;st&&(J=I(st));for(var ht=0;ht<ot.length;ht++){var xt=ot[ht];if(m.isIndex(xt)||m.isArrayOrTypedArray(xt)&&m.isIndex(xt[0])&&m.isIndex(xt[1])){var Pt=J?J[xt]:xt,It=$?$[Pt]:Pt;(Q=It)!==void 0&&Q<G.length&&(G[It].selected=1)}}},m.selIndices2selPoints=function(G){var H=G.selectedpoints,$=G._indexToPoints;if($){for(var J=I($),Q=[],ot=0;ot<H.length;ot++){var st=H[ot];if(m.isIndex(st)){var ht=J[st];m.isIndex(ht)&&Q.push(ht)}}return Q}return H},m.getTargetArray=function(G,H){var $=H.target;if(typeof $=="string"&&$){var J=m.nestedProperty(G,$).get();return!!Array.isArray(J)&&J}return!!Array.isArray($)&&$},m.minExtend=function G(H,$,J){var Q={};typeof $!="object"&&($={});var ot,st,ht,xt=J==="pieLike"?-1:3,Pt=Object.keys(H);for(ot=0;ot<Pt.length;ot++)ht=H[st=Pt[ot]],st.charAt(0)!=="_"&&typeof ht!="function"&&(st==="module"?Q[st]=ht:Array.isArray(ht)?Q[st]=st==="colorscale"||xt===-1?ht.slice():ht.slice(0,xt):m.isTypedArray(ht)?Q[st]=xt===-1?ht.subarray():ht.subarray(0,xt):Q[st]=ht&&typeof ht=="object"?G(H[st],$[st],J):ht);for(Pt=Object.keys($),ot=0;ot<Pt.length;ot++)typeof(ht=$[st=Pt[ot]])=="object"&&st in Q&&typeof Q[st]=="object"||(Q[st]=ht);return Q},m.titleCase=function(G){return G.charAt(0).toUpperCase()+G.substr(1)},m.containsAny=function(G,H){for(var $=0;$<H.length;$++)if(G.indexOf(H[$])!==-1)return!0;return!1},m.isIE=function(){return window.navigator.msSaveBlob!==void 0};var B=/Version\/[\d\.]+.*Safari/;m.isSafari=function(){return B.test(window.navigator.userAgent)};var j=/iPad|iPhone|iPod/;m.isIOS=function(){return j.test(window.navigator.userAgent)};var q=/Firefox\/(\d+)\.\d+/;m.getFirefoxVersion=function(){var G=q.exec(window.navigator.userAgent);if(G&&G.length===2){var H=parseInt(G[1]);if(!isNaN(H))return H}return null},m.isD3Selection=function(G){return G instanceof l.selection},m.ensureSingle=function(G,H,$,J){var Q=G.select(H+($?"."+$:""));if(Q.size())return Q;var ot=G.append(H);return $&&ot.classed($,!0),J&&ot.call(J),ot},m.ensureSingleById=function(G,H,$,J){var Q=G.select(H+"#"+$);if(Q.size())return Q;var ot=G.append(H).attr("id",$);return J&&ot.call(J),ot},m.objectFromPath=function(G,H){for(var $,J=G.split("."),Q=$={},ot=0;ot<J.length;ot++){var st=J[ot],ht=null,xt=J[ot].match(/(.*)\[([0-9]+)\]/);xt?(st=xt[1],ht=xt[2],$=$[st]=[],ot===J.length-1?$[ht]=H:$[ht]={},$=$[ht]):(ot===J.length-1?$[st]=H:$[st]={},$=$[st])}return Q};var et=/^([^\[\.]+)\.(.+)?/,U=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function Z(G){return G.slice(0,2)==="__"}m.expandObjectPaths=function(G){var H,$,J,Q,ot,st,ht;if(typeof G=="object"&&!Array.isArray(G)){for($ in G)if(G.hasOwnProperty($))if(H=$.match(et)){if(Q=G[$],Z(J=H[1]))continue;delete G[$],G[J]=m.extendDeepNoArrays(G[J]||{},m.objectFromPath($,m.expandObjectPaths(Q))[J])}else if(H=$.match(U)){if(Q=G[$],Z(J=H[1]))continue;if(ot=parseInt(H[2]),delete G[$],G[J]=G[J]||[],H[3]===".")ht=H[4],st=G[J][ot]=G[J][ot]||{},m.extendDeepNoArrays(st,m.objectFromPath(ht,m.expandObjectPaths(Q)));else{if(Z(J))continue;G[J][ot]=m.expandObjectPaths(Q)}}else{if(Z($))continue;G[$]=m.expandObjectPaths(G[$])}}return G},m.numSeparate=function(G,H,$){if($||($=!1),typeof H!="string"||H.length===0)throw new Error("Separator string required for formatting!");typeof G=="number"&&(G=String(G));var J=/(\d+)(\d{3})/,Q=H.charAt(0),ot=H.charAt(1),st=G.split("."),ht=st[0],xt=st.length>1?Q+st[1]:"";if(ot&&(st.length>1||ht.length>4||$))for(;J.test(ht);)ht=ht.replace(J,"$1"+ot+"$2");return ht+xt},m.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var rt=/^\w*$/;m.templateString=function(G,H){var $={};return G.replace(m.TEMPLATE_STRING_REGEX,function(J,Q){var ot;return rt.test(Q)?ot=H[Q]:($[Q]=$[Q]||m.nestedProperty(H,Q).get,ot=$[Q]()),m.isValidTextValue(ot)?ot:""})};var ft={max:10,count:0,name:"hovertemplate"};m.hovertemplateString=function(){return lt.apply(ft,arguments)};var z={max:10,count:0,name:"texttemplate"};m.texttemplateString=function(){return lt.apply(z,arguments)};var W=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/,X={max:10,count:0,name:"texttemplate",parseMultDiv:!0};m.texttemplateStringForShapes=function(){return lt.apply(X,arguments)};var it=/^[:|\|]/;function lt(G,H,$){var J=this,Q=arguments;H||(H={});var ot={};return G.replace(m.TEMPLATE_STRING_REGEX,function(st,ht,xt){var Pt=ht==="_xother"||ht==="_yother",It=ht==="_xother_"||ht==="_yother_",zt=ht==="xother_"||ht==="yother_",pt=ht==="xother"||ht==="yother"||Pt||zt||It,yt=ht;(Pt||It)&&(yt=yt.substring(1)),(zt||It)&&(yt=yt.substring(0,yt.length-1));var wt,St,Ut,Gt=null,mt=null;if(J.parseMultDiv){var Tt=function(Nt){var Ft=Nt.match(W);return Ft?{key:Ft[1],op:Ft[2],number:Number(Ft[3])}:{key:Nt,op:null,number:null}}(yt);yt=Tt.key,Gt=Tt.op,mt=Tt.number}if(pt){if((wt=H[yt])===void 0)return""}else for(Ut=3;Ut<Q.length;Ut++)if(St=Q[Ut]){if(St.hasOwnProperty(yt)){wt=St[yt];break}if(rt.test(yt)||(wt=m.nestedProperty(St,yt).get(),(wt=ot[yt]||m.nestedProperty(St,yt).get())&&(ot[yt]=wt)),wt!==void 0)break}if(wt!==void 0&&(Gt==="*"&&(wt*=mt),Gt==="/"&&(wt/=mt)),wt===void 0&&J)return J.count<J.max&&(m.warn("Variable '"+yt+"' in "+J.name+" could not be found!"),wt=st),J.count===J.max&&m.warn("Too many "+J.name+" warnings - additional warnings will be suppressed"),J.count++,st;if(xt){var At;if(xt[0]===":"&&(wt=(At=$?$.numberFormat:m.numberFormat)(xt.replace(it,""))(wt)),xt[0]==="|"){At=$?$.timeFormat:f;var Et=m.dateTime2ms(wt);wt=m.formatDate(Et,xt.replace(it,""),!1,At)}}else{var Mt=yt+"Label";H.hasOwnProperty(Mt)&&(wt=H[Mt])}return pt&&(wt="("+wt+")",(Pt||It)&&(wt=" "+wt),(zt||It)&&(wt+=" ")),wt})}m.subplotSort=function(G,H){for(var $=Math.min(G.length,H.length)+1,J=0,Q=0,ot=0;ot<$;ot++){var st=G.charCodeAt(ot)||0,ht=H.charCodeAt(ot)||0,xt=st>=48&&st<=57,Pt=ht>=48&&ht<=57;if(xt&&(J=10*J+st-48),Pt&&(Q=10*Q+ht-48),!xt||!Pt){if(J!==Q)return J-Q;if(st!==ht)return st-ht}}return Q-J};var dt=2e9;m.seedPseudoRandom=function(){dt=2e9},m.pseudoRandom=function(){var G=dt;return dt=(69069*dt+1)%4294967296,Math.abs(dt-G)<429496729?m.pseudoRandom():dt/4294967296},m.fillText=function(G,H,$){var J=Array.isArray($)?function(st){$.push(st)}:function(st){$.text=st},Q=m.extractOption(G,H,"htx","hovertext");if(m.isValidTextValue(Q))return J(Q);var ot=m.extractOption(G,H,"tx","text");return m.isValidTextValue(ot)?J(ot):void 0},m.isValidTextValue=function(G){return G||G===0},m.formatPercent=function(G,H){H=H||0;for(var $=(Math.round(100*G*Math.pow(10,H))*Math.pow(.1,H)).toFixed(H)+"%",J=0;J<H;J++)$.indexOf(".")!==-1&&($=($=$.replace("0%","%")).replace(".%","%"));return $},m.isHidden=function(G){var H=window.getComputedStyle(G).display;return!H||H==="none"},m.strTranslate=function(G,H){return G||H?"translate("+G+","+H+")":""},m.strRotate=function(G){return G?"rotate("+G+")":""},m.strScale=function(G){return G!==1?"scale("+G+")":""},m.getTextTransform=function(G){var H=G.noCenter,$=G.textX,J=G.textY,Q=G.targetX,ot=G.targetY,st=G.anchorX||0,ht=G.anchorY||0,xt=G.rotate,Pt=G.scale;return Pt?Pt>1&&(Pt=1):Pt=0,m.strTranslate(Q-Pt*($+st),ot-Pt*(J+ht))+m.strScale(Pt)+(xt?"rotate("+xt+(H?"":" "+$+" "+J)+")":"")},m.setTransormAndDisplay=function(G,H){G.attr("transform",m.getTextTransform(H)),G.style("display",H.scale?null:"none")},m.ensureUniformFontSize=function(G,H){var $=m.extendFlat({},H);return $.size=Math.max(H.size,G._fullLayout.uniformtext.minsize||0),$},m.join2=function(G,H,$){var J=G.length;return J>1?G.slice(0,-1).join(H)+$+G[J-1]:G.join(H)},m.bigFont=function(G){return Math.round(1.2*G)};var nt=m.getFirefoxVersion(),V=nt!==null&&nt<86;m.getPositionFromD3Event=function(){return V?[l.event.layerX,l.event.layerY]:[l.event.offsetX,l.event.offsetY]}},1965:function(a){a.exports=function(s){return window&&window.process&&window.process.versions?Object.prototype.toString.call(s)==="[object Object]":Object.prototype.toString.call(s)==="[object Object]"&&Object.getPrototypeOf(s).hasOwnProperty("hasOwnProperty")}},6636:function(a,s,o){var l=o(5487),f=/^\w*$/;a.exports=function(u,c,h,d){var p,g,m;h=h||"name",d=d||"value";var v={};c&&c.length?(m=l(u,c),g=m.get()):g=u,c=c||"";var y={};if(g)for(p=0;p<g.length;p++)y[g[p][h]]=p;var _=f.test(d),x={set:function(w,E){var S=E===null?4:0;if(!g){if(!m||S===4)return;g=[],m.set(g)}var C=y[w];if(C===void 0){if(S===4)return;S|=3,C=g.length,y[w]=C}else E!==(_?g[C][d]:l(g[C],d).get())&&(S|=2);var T=g[C]=g[C]||{};return T[h]=w,_?T[d]=E:l(T,d).set(E),E!==null&&(S&=-5),v[C]=v[C]|S,x},get:function(w){if(g){var E=y[w];return E===void 0?void 0:_?g[E][d]:l(g[E],d).get()}},rename:function(w,E){var S=y[w];return S===void 0||(v[S]=1|v[S],y[E]=S,delete y[w],g[S][h]=E),x},remove:function(w){var E=y[w];if(E===void 0)return x;var S=g[E];if(Object.keys(S).length>2)return v[E]=2|v[E],x.set(w,null);if(_){for(p=E;p<g.length;p++)v[p]=3|v[p];for(p=E;p<g.length;p++)y[g[p][h]]--;g.splice(E,1),delete y[w]}else l(S,d).set(null),v[E]=6|v[E];return x},constructUpdate:function(){for(var w,E,S={},C=Object.keys(v),T=0;T<C.length;T++)E=C[T],w=c+"["+E+"]",g[E]?(1&v[E]&&(S[w+"."+h]=g[E][h]),2&v[E]&&(S[w+"."+d]=_?4&v[E]?null:g[E][d]:4&v[E]?null:l(g[E],d).get())):S[w]=null;return S}};return x}},5867:function(a,s,o){var l=o(3972);a.exports=function(f,u){for(var c=f._context.locale,h=0;h<2;h++){for(var d=f._context.locales,p=0;p<2;p++){var g=(d[c]||{}).dictionary;if(g){var m=g[u];if(m)return m}d=l.localeRegistry}var v=c.split("-")[0];if(v===c)break;c=v}return u}},7769:function(a,s,o){var l=o(2075).dfltConfig,f=o(5046),u=a.exports={};u.log=function(){var c;if(l.logging>1){var h=["LOG:"];for(c=0;c<arguments.length;c++)h.push(arguments[c]);console.trace.apply(console,h)}if(l.notifyOnLogging>1){var d=[];for(c=0;c<arguments.length;c++)d.push(arguments[c]);f(d.join("<br>"),"long")}},u.warn=function(){var c;if(l.logging>0){var h=["WARN:"];for(c=0;c<arguments.length;c++)h.push(arguments[c]);console.trace.apply(console,h)}if(l.notifyOnLogging>0){var d=[];for(c=0;c<arguments.length;c++)d.push(arguments[c]);f(d.join("<br>"),"stick")}},u.error=function(){var c;if(l.logging>0){var h=["ERROR:"];for(c=0;c<arguments.length;c++)h.push(arguments[c]);console.error.apply(console,h)}if(l.notifyOnLogging>0){var d=[];for(c=0;c<arguments.length;c++)d.push(arguments[c]);f(d.join("<br>"),"stick")}}},7310:function(a,s,o){var l=o(9898);a.exports=function(f,u,c){var h=f.selectAll("g."+c.replace(/\s/g,".")).data(u,function(p){return p[0].trace.uid});h.exit().remove(),h.enter().append("g").attr("class",c),h.order();var d=f.classed("rangeplot")?"nodeRangePlot3":"node3";return h.each(function(p){p[0][d]=l.select(this)}),h}},5657:function(a,s,o){var l=o(9576);s.init2dArray=function(f,u){for(var c=new Array(f),h=0;h<f;h++)c[h]=new Array(u);return c},s.transposeRagged=function(f){var u,c,h=0,d=f.length;for(u=0;u<d;u++)h=Math.max(h,f[u].length);var p=new Array(h);for(u=0;u<h;u++)for(p[u]=new Array(d),c=0;c<d;c++)p[u][c]=f[c][u];return p},s.dot=function(f,u){if(!f.length||!u.length||f.length!==u.length)return null;var c,h,d=f.length;if(f[0].length)for(c=new Array(d),h=0;h<d;h++)c[h]=s.dot(f[h],u);else if(u[0].length){var p=s.transposeRagged(u);for(c=new Array(p.length),h=0;h<p.length;h++)c[h]=s.dot(f,p[h])}else for(c=0,h=0;h<d;h++)c+=f[h]*u[h];return c},s.translationMatrix=function(f,u){return[[1,0,f],[0,1,u],[0,0,1]]},s.rotationMatrix=function(f){var u=f*Math.PI/180;return[[Math.cos(u),-Math.sin(u),0],[Math.sin(u),Math.cos(u),0],[0,0,1]]},s.rotationXYMatrix=function(f,u,c){return s.dot(s.dot(s.translationMatrix(u,c),s.rotationMatrix(f)),s.translationMatrix(-u,-c))},s.apply3DTransform=function(f){return function(){var u=arguments,c=arguments.length===1?u[0]:[u[0],u[1],u[2]||0];return s.dot(f,[c[0],c[1],c[2],1]).slice(0,3)}},s.apply2DTransform=function(f){return function(){var u=arguments;u.length===3&&(u=u[0]);var c=arguments.length===1?u[0]:[u[0],u[1]];return s.dot(f,[c[0],c[1],1]).slice(0,2)}},s.apply2DTransform2=function(f){var u=s.apply2DTransform(f);return function(c){return u(c.slice(0,2)).concat(u(c.slice(2,4)))}},s.convertCssMatrix=function(f){if(f){var u=f.length;if(u===16)return f;if(u===6)return[f[0],f[1],0,0,f[2],f[3],0,0,0,0,1,0,f[4],f[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},s.inverseTransformMatrix=function(f){var u=[];return l.invert(u,f),[[u[0],u[1],u[2],u[3]],[u[4],u[5],u[6],u[7]],[u[8],u[9],u[10],u[11]],[u[12],u[13],u[14],u[15]]]}},4872:function(a){a.exports={mod:function(s,o){var l=s%o;return l<0?l+o:l},modHalf:function(s,o){return Math.abs(s)>o/2?s-Math.round(s/o)*o:s}}},5487:function(a,s,o){var l=o(2770),f=o(3627).isArrayOrTypedArray;function u(v,y){return function(){var _,x,w,E,S,C=v;for(E=0;E<y.length-1;E++){if((_=y[E])===-1){for(x=!0,w=[],S=0;S<C.length;S++)w[S]=u(C[S],y.slice(E+1))(),w[S]!==w[0]&&(x=!1);return x?w[0]:w}if(typeof _=="number"&&!f(C)||typeof(C=C[_])!="object"||C===null)return}if(typeof C=="object"&&C!==null&&(w=C[y[E]])!==null)return w}}a.exports=function(v,y){if(l(y))y=String(y);else if(typeof y!="string"||y.substr(y.length-4)==="[-1]")throw"bad property string";var _,x,w,E,S=y.split(".");for(E=0;E<S.length;E++)if(String(S[E]).slice(0,2)==="__")throw"bad property string";for(E=0;E<S.length;){if(_=String(S[E]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(_[1])S[E]=_[1];else{if(E!==0)throw"bad property string";S.splice(0,1)}for(x=_[2].substr(1,_[2].length-2).split("]["),w=0;w<x.length;w++)E++,S.splice(E,0,Number(x[w]))}E++}return typeof v!="object"?function(C,T,A){return{set:function(){throw"bad container"},get:function(){},astr:T,parts:A,obj:C}}(v,y,S):{set:d(v,S,y),get:u(v,S),astr:y,parts:S,obj:v}};var c=/(^|\.)args\[/;function h(v,y){return v===void 0||v===null&&!y.match(c)}function d(v,y,_){return function(x){var w,E,S=v,C="",T=h(x,_);for(E=0;E<y.length-1;E++){if(typeof(w=y[E])=="number"&&!f(S))throw"array index but container is not an array";if(w===-1){if(T=!g(S,y.slice(E+1),x,_))break;return}if(!m(S,w,y[E+1],T))break;if(typeof(S=S[w])!="object"||S===null)throw"container is not an object";C=p(C,w)}if(T){if(E===y.length-1&&(delete S[y[E]],Array.isArray(S)&&+y[E]==S.length-1))for(;S.length&&S[S.length-1]===void 0;)S.pop()}else S[y[E]]=x}}function p(v,y){var _=y;return l(y)?_="["+y+"]":v&&(_="."+y),v+_}function g(v,y,_,x){var w,E=f(_),S=!0,C=_,T=x.replace("-1",0),A=!E&&h(_,T),O=y[0];for(w=0;w<v.length;w++)T=x.replace("-1",w),E&&(A=h(C=_[w%_.length],T)),A&&(S=!1),m(v,w,O,A)&&d(v[w],y,x.replace("-1",w))(C);return S}function m(v,y,_,x){if(v[y]===void 0){if(x)return!1;v[y]=typeof _=="number"?[]:{}}return!0}},4213:function(a){a.exports=function(){}},5046:function(a,s,o){var l=o(9898),f=o(2770),u=[];a.exports=function(c,h){if(u.indexOf(c)===-1){u.push(c);var d=1e3;f(h)?d=h:h==="long"&&(d=3e3);var p=l.select("body").selectAll(".plotly-notifier").data([0]);p.enter().append("div").classed("plotly-notifier",!0),p.selectAll(".notifier-note").data(u).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(m){var v=l.select(this);v.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){v.transition().call(g)});for(var y=v.append("p"),_=m.split(/<br\s*\/?>/g),x=0;x<_.length;x++)x&&y.append("br"),y.append("span").text(_[x]);h==="stick"?v.transition().duration(350).style("opacity",1):v.transition().duration(700).style("opacity",1).transition().delay(d).call(g)})}function g(m){m.duration(700).style("opacity",0).each("end",function(v){var y=u.indexOf(v);y!==-1&&u.splice(y,1),l.select(this).remove()})}}},9918:function(a,s,o){var l=o(6964),f="data-savedcursor";a.exports=function(u,c){var h=u.attr(f);if(c){if(!h){for(var d=(u.attr("class")||"").split(" "),p=0;p<d.length;p++){var g=d[p];g.indexOf("cursor-")===0&&u.attr(f,g.substr(7)).classed(g,!1)}u.attr(f)||u.attr(f,"!!")}l(u,c)}else h&&(u.attr(f,null),h==="!!"?l(u):l(u,h))}},1082:function(a,s,o){var l=o(5657).dot,f=o(606).BADNUM,u=a.exports={};u.tester=function(c){var h,d=c.slice(),p=d[0][0],g=p,m=d[0][1],v=m;for(d[d.length-1][0]===d[0][0]&&d[d.length-1][1]===d[0][1]||d.push(d[0]),h=1;h<d.length;h++)p=Math.min(p,d[h][0]),g=Math.max(g,d[h][0]),m=Math.min(m,d[h][1]),v=Math.max(v,d[h][1]);var y,_=!1;d.length===5&&(d[0][0]===d[1][0]?d[2][0]===d[3][0]&&d[0][1]===d[3][1]&&d[1][1]===d[2][1]&&(_=!0,y=function(E){return E[0]===d[0][0]}):d[0][1]===d[1][1]&&d[2][1]===d[3][1]&&d[0][0]===d[3][0]&&d[1][0]===d[2][0]&&(_=!0,y=function(E){return E[1]===d[0][1]}));var x=!0,w=d[0];for(h=1;h<d.length;h++)if(w[0]!==d[h][0]||w[1]!==d[h][1]){x=!1;break}return{xmin:p,xmax:g,ymin:m,ymax:v,pts:d,contains:_?function(E,S){var C=E[0],T=E[1];return!(C===f||C<p||C>g||T===f||T<m||T>v||S&&y(E))}:function(E,S){var C=E[0],T=E[1];if(C===f||C<p||C>g||T===f||T<m||T>v)return!1;var A,O,P,F,R,N=d.length,D=d[0][0],I=d[0][1],B=0;for(A=1;A<N;A++)if(O=D,P=I,D=d[A][0],I=d[A][1],!(C<(F=Math.min(O,D))||C>Math.max(O,D)||T>Math.max(P,I)))if(T<Math.min(P,I))C!==F&&B++;else{if(T===(R=D===O?T:P+(C-O)*(I-P)/(D-O)))return A!==1||!S;T<=R&&C!==F&&B++}return B%2==1},isRect:_,degenerate:x}},u.isSegmentBent=function(c,h,d,p){var g,m,v,y=c[h],_=[c[d][0]-y[0],c[d][1]-y[1]],x=l(_,_),w=Math.sqrt(x),E=[-_[1]/w,_[0]/w];for(g=h+1;g<d;g++)if(m=[c[g][0]-y[0],c[g][1]-y[1]],(v=l(m,_))<0||v>x||Math.abs(l(m,E))>p)return!0;return!1},u.filter=function(c,h){var d=[c[0]],p=0,g=0;function m(v){c.push(v);var y=d.length,_=p;d.splice(g+1);for(var x=_+1;x<c.length;x++)(x===c.length-1||u.isSegmentBent(c,_,x+1,h))&&(d.push(c[x]),d.length<y-2&&(p=x,g=d.length-1),_=x)}return c.length>1&&m(c.pop()),{addPt:m,raw:c,filtered:d}}},5142:function(a,s,o){var l=o(2770),f=o(5791);a.exports=function(u){var c;if(typeof(c=u&&u.hasOwnProperty("userAgent")?u.userAgent:function(){var y;return typeof navigator<"u"&&(y=navigator.userAgent),y&&y.headers&&typeof y.headers["user-agent"]=="string"&&(y=y.headers["user-agent"]),y}())!="string")return!0;var h=f({ua:{headers:{"user-agent":c}},tablet:!0,featureDetect:!1});if(!h){for(var d=c.split(" "),p=1;p<d.length;p++)if(d[p].indexOf("Safari")!==-1)for(var g=p-1;g>-1;g--){var m=d[g];if(m.substr(0,8)==="Version/"){var v=m.substr(8).split(".")[0];if(l(v)&&(v=+v),v>=13)return!0}}}return h}},5138:function(a){a.exports=function(s,o){if(o instanceof RegExp){for(var l=o.toString(),f=0;f<s.length;f++)if(s[f]instanceof RegExp&&s[f].toString()===l)return s;s.push(o)}else!o&&o!==0||s.indexOf(o)!==-1||s.push(o);return s}},847:function(a,s,o){var l=o(1828),f=o(2075).dfltConfig,u={add:function(c,h,d,p,g){var m,v;c.undoQueue=c.undoQueue||{index:0,queue:[],sequence:!1},v=c.undoQueue.index,c.autoplay?c.undoQueue.inSequence||(c.autoplay=!1):(!c.undoQueue.sequence||c.undoQueue.beginSequence?(m={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},c.undoQueue.queue.splice(v,c.undoQueue.queue.length-v,m),c.undoQueue.index+=1):m=c.undoQueue.queue[v-1],c.undoQueue.beginSequence=!1,m&&(m.undo.calls.unshift(h),m.undo.args.unshift(d),m.redo.calls.push(p),m.redo.args.push(g)),c.undoQueue.queue.length>f.queueLength&&(c.undoQueue.queue.shift(),c.undoQueue.index--))},startSequence:function(c){c.undoQueue=c.undoQueue||{index:0,queue:[],sequence:!1},c.undoQueue.sequence=!0,c.undoQueue.beginSequence=!0},stopSequence:function(c){c.undoQueue=c.undoQueue||{index:0,queue:[],sequence:!1},c.undoQueue.sequence=!1,c.undoQueue.beginSequence=!1},undo:function(c){var h,d;if(!(c.undoQueue===void 0||isNaN(c.undoQueue.index)||c.undoQueue.index<=0)){for(c.undoQueue.index--,h=c.undoQueue.queue[c.undoQueue.index],c.undoQueue.inSequence=!0,d=0;d<h.undo.calls.length;d++)u.plotDo(c,h.undo.calls[d],h.undo.args[d]);c.undoQueue.inSequence=!1,c.autoplay=!1}},redo:function(c){var h,d;if(!(c.undoQueue===void 0||isNaN(c.undoQueue.index)||c.undoQueue.index>=c.undoQueue.queue.length)){for(h=c.undoQueue.queue[c.undoQueue.index],c.undoQueue.inSequence=!0,d=0;d<h.redo.calls.length;d++)u.plotDo(c,h.redo.calls[d],h.redo.args[d]);c.undoQueue.inSequence=!1,c.autoplay=!1,c.undoQueue.index++}},plotDo:function(c,h,d){c.autoplay=!0,d=function(p,g){for(var m,v=[],y=0;y<g.length;y++)m=g[y],v[y]=m===p?m:typeof m=="object"?Array.isArray(m)?l.extendDeep([],m):l.extendDeepAll({},m):m;return v}(c,d),h.apply(null,d)}};a.exports=u},587:function(a,s){s.counter=function(o,l,f,u){var c=(l||"")+(f?"":"$"),h=u===!1?"":"^";return o==="xy"?new RegExp(h+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+c):new RegExp(h+o+"([2-9]|[1-9][0-9]+)?"+c)}},6962:function(a){var s=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,o=/^[^\.\[\]]+$/;a.exports=function(l,f){for(;f;){var u=l.match(s);if(u)l=u[1];else{if(!l.match(o))throw new Error("bad relativeAttr call:"+[l,f]);l=""}if(f.charAt(0)!=="^")break;f=f.slice(1)}return l&&f.charAt(0)!=="["?l+"."+f:l+f}},1332:function(a,s,o){var l=o(3627).isArrayOrTypedArray,f=o(1965);a.exports=function u(c,h){for(var d in h){var p=h[d],g=c[d];if(g!==p)if(d.charAt(0)==="_"||typeof p=="function"){if(d in c)continue;c[d]=p}else if(l(p)&&l(g)&&f(p[0])){if(d==="customdata"||d==="ids")continue;for(var m=Math.min(p.length,g.length),v=0;v<m;v++)g[v]!==p[v]&&f(p[v])&&f(g[v])&&u(g[v],p[v])}else f(p)&&f(g)&&(u(g,p),Object.keys(g).length||delete c[d])}}},5888:function(a,s,o){var l=o(2770),f=o(7769),u=o(3389),c=o(606).BADNUM,h=1e-9;function d(v,y){return v<y}function p(v,y){return v<=y}function g(v,y){return v>y}function m(v,y){return v>=y}s.findBin=function(v,y,_){if(l(y.start))return _?Math.ceil((v-y.start)/y.size-h)-1:Math.floor((v-y.start)/y.size+h);var x,w,E=0,S=y.length,C=0,T=S>1?(y[S-1]-y[0])/(S-1):1;for(w=T>=0?_?d:p:_?m:g,v+=T*h*(_?-1:1)*(T>=0?1:-1);E<S&&C++<100;)w(y[x=Math.floor((E+S)/2)],v)?E=x+1:S=x;return C>90&&f.log("Long binary search..."),E-1},s.sorterAsc=function(v,y){return v-y},s.sorterDes=function(v,y){return y-v},s.distinctVals=function(v){var y,_=v.slice();for(_.sort(s.sorterAsc),y=_.length-1;y>-1&&_[y]===c;y--);for(var x,w=_[y]-_[0]||1,E=w/(y||1)/1e4,S=[],C=0;C<=y;C++){var T=_[C],A=T-x;x===void 0?(S.push(T),x=T):A>E&&(w=Math.min(w,A),S.push(T),x=T)}return{vals:S,minDiff:w}},s.roundUp=function(v,y,_){for(var x,w=0,E=y.length-1,S=0,C=_?0:1,T=_?1:0,A=_?Math.ceil:Math.floor;w<E&&S++<100;)y[x=A((w+E)/2)]<=v?w=x+C:E=x-T;return y[w]},s.sort=function(v,y){for(var _=0,x=0,w=1;w<v.length;w++){var E=y(v[w],v[w-1]);if(E<0?_=1:E>0&&(x=1),_&&x)return v.sort(y)}return x?v:v.reverse()},s.findIndexOfMin=function(v,y){y=y||u;for(var _,x=1/0,w=0;w<v.length;w++){var E=y(v[w]);E<x&&(x=E,_=w)}return _}},6964:function(a){a.exports=function(s,o){(s.attr("class")||"").split(" ").forEach(function(l){l.indexOf("cursor-")===0&&s.classed(l,!1)}),o&&s.classed("cursor-"+o,!0)}},8607:function(a){a.exports=function(s){return Object.keys(s).sort()}},38:function(a,s,o){var l=o(2770),f=o(3627).isArrayOrTypedArray;s.aggNums=function(u,c,h,d){var p,g;if((!d||d>h.length)&&(d=h.length),l(c)||(c=!1),f(h[0])){for(g=new Array(d),p=0;p<d;p++)g[p]=s.aggNums(u,c,h[p]);h=g}for(p=0;p<d;p++)l(c)?l(h[p])&&(c=u(+c,+h[p])):c=h[p];return c},s.len=function(u){return s.aggNums(function(c){return c+1},0,u)},s.mean=function(u,c){return c||(c=s.len(u)),s.aggNums(function(h,d){return h+d},0,u)/c},s.midRange=function(u){if(u!==void 0&&u.length!==0)return(s.aggNums(Math.max,null,u)+s.aggNums(Math.min,null,u))/2},s.variance=function(u,c,h){return c||(c=s.len(u)),l(h)||(h=s.mean(u,c)),s.aggNums(function(d,p){return d+Math.pow(p-h,2)},0,u)/c},s.stdev=function(u,c,h){return Math.sqrt(s.variance(u,c,h))},s.median=function(u){var c=u.slice().sort();return s.interp(c,.5)},s.interp=function(u,c){if(!l(c))throw"n should be a finite number";if((c=c*u.length-.5)<0)return u[0];if(c>u.length-1)return u[u.length-1];var h=c%1;return h*u[Math.ceil(c)]+(1-h)*u[Math.floor(c)]}},3893:function(a,s,o){var l=o(9898),f=o(1828),u=f.strTranslate,c=o(7922),h=o(8783).LINE_SPACING,d=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;s.convertToTspans=function(U,Z,rt){var ft=U.text(),z=!U.attr("data-notex")&&Z&&Z._context.typesetMath&&typeof MathJax<"u"&&ft.match(d),W=l.select(U.node().parentNode);if(!W.empty()){var X=U.attr("class")?U.attr("class").split(" ")[0]:"text";return X+="-math",W.selectAll("svg."+X).remove(),W.selectAll("g."+X+"-group").remove(),U.style("display",null).attr({"data-unformatted":ft,"data-math":"N"}),z?(Z&&Z._promises||[]).push(new Promise(function(lt){U.style("display","none");var dt=parseInt(U.node().style.fontSize,10),nt={fontSize:dt};(function(V,G,H){var $,J,Q,ot,st=parseInt((MathJax.version||"").split(".")[0]);if(st===2||st===3){var ht=function(){var Pt="math-output-"+f.randstr({},64),It=(ot=l.select("body").append("div").attr({id:Pt}).style({visibility:"hidden",position:"absolute","font-size":G.fontSize+"px"}).text(V.replace(p,"\\lt ").replace(g,"\\gt "))).node();return st===2?MathJax.Hub.Typeset(It):MathJax.typeset([It])},xt=function(){var Pt=ot.select(st===2?".MathJax_SVG":".MathJax"),It=!Pt.empty()&&ot.select("svg").node();if(It){var zt,pt=It.getBoundingClientRect();zt=st===2?l.select("body").select("#MathJax_SVG_glyphs"):Pt.select("defs"),H(Pt,zt,pt)}else f.log("There was an error in the tex syntax.",V),H();ot.remove()};st===2?MathJax.Hub.Queue(function(){return J=f.extendDeepAll({},MathJax.Hub.config),Q=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:m},displayAlign:"left"})},function(){if(($=MathJax.Hub.config.menuSettings.renderer)!=="SVG")return MathJax.Hub.setRenderer("SVG")},ht,xt,function(){if($!=="SVG")return MathJax.Hub.setRenderer($)},function(){return Q!==void 0&&(MathJax.Hub.processSectionDelay=Q),MathJax.Hub.Config(J)}):st===3&&(J=f.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=m,($=MathJax.config.startup.output)!=="svg"&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){ht(),xt(),$!=="svg"&&(MathJax.config.startup.output=$),MathJax.config=J}))}else f.warn("No MathJax version:",MathJax.version)})(z[2],nt,function(V,G,H){W.selectAll("svg."+X).remove(),W.selectAll("g."+X+"-group").remove();var $=V&&V.select("svg");if(!$||!$.node())return it(),void lt();var J=W.append("g").classed(X+"-group",!0).attr({"pointer-events":"none","data-unformatted":ft,"data-math":"Y"});J.node().appendChild($.node()),G&&G.node()&&$.node().insertBefore(G.node().cloneNode(!0),$.node().firstChild);var Q=H.width,ot=H.height;$.attr({class:X,height:ot,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var st=U.node().style.fill||"black",ht=$.select("g");ht.attr({fill:st,stroke:st});var xt=ht.node().getBoundingClientRect(),Pt=xt.width,It=xt.height;(Pt>Q||It>ot)&&($.style("overflow","hidden"),Pt=(xt=$.node().getBoundingClientRect()).width,It=xt.height);var zt=+U.attr("x"),pt=+U.attr("y"),yt=-(dt||U.node().getBoundingClientRect().height)/4;if(X[0]==="y")J.attr({transform:"rotate("+[-90,zt,pt]+")"+u(-Pt/2,yt-It/2)});else if(X[0]==="l")pt=yt-It/2;else if(X[0]==="a"&&X.indexOf("atitle")!==0)zt=0,pt=yt;else{var wt=U.attr("text-anchor");zt-=Pt*(wt==="middle"?.5:wt==="end"?1:0),pt=pt+yt-It/2}$.attr({x:zt,y:pt}),rt&&rt.call(U,J),lt(J)})})):it(),U}function it(){W.empty()||(X=U.attr("class")+"-math",W.select("svg."+X).remove()),U.text("").style("white-space","pre");var lt=function(dt,nt){nt=nt.replace(E," ");var V,G=!1,H=[],$=-1;function J(){$++;var mt=document.createElementNS(c.svg,"tspan");l.select(mt).attr({class:"line",dy:$*h+"em"}),dt.appendChild(mt),V=mt;var Tt=H;if(H=[{node:mt}],Tt.length>1)for(var At=1;At<Tt.length;At++)Q(Tt[At])}function Q(mt){var Tt,At=mt.type,Et={};if(At==="a"){Tt="a";var Mt=mt.target,Nt=mt.href,Ft=mt.popup;Nt&&(Et={"xlink:xlink:show":Mt==="_blank"||Mt.charAt(0)!=="_"?"new":"replace",target:Mt,"xlink:xlink:href":Nt},Ft&&(Et.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ft+'");return false;'))}else Tt="tspan";mt.style&&(Et.style=mt.style);var Lt=document.createElementNS(c.svg,Tt);if(At==="sup"||At==="sub"){ot(V,x),V.appendChild(Lt);var Dt=document.createElementNS(c.svg,"tspan");ot(Dt,x),l.select(Dt).attr("dy",_[At]),Et.dy=y[At],V.appendChild(Lt),V.appendChild(Dt)}else V.appendChild(Lt);l.select(Lt).attr(Et),V=mt.node=Lt,H.push(mt)}function ot(mt,Tt){mt.appendChild(document.createTextNode(Tt))}function st(mt){if(H.length!==1){var Tt=H.pop();mt!==Tt.type&&f.log("Start tag <"+Tt.type+"> doesnt match end tag <"+mt+">. Pretending it did match.",nt),V=H[H.length-1].node}else f.log("Ignoring unexpected end tag </"+mt+">.",nt)}T.test(nt)?J():(V=dt,H=[{node:dt}]);for(var ht=nt.split(S),xt=0;xt<ht.length;xt++){var Pt=ht[xt],It=Pt.match(C),zt=It&&It[2].toLowerCase(),pt=v[zt];if(zt==="br")J();else if(pt===void 0)ot(V,B(Pt));else if(It[1])st(zt);else{var yt=It[4],wt={type:zt},St=R(yt,A);if(St?(St=St.replace(N,"$1 fill:"),pt&&(St+=";"+pt)):pt&&(St=pt),St&&(wt.style=St),zt==="a"){G=!0;var Ut=R(yt,O);if(Ut){var Gt=j(Ut);Gt&&(wt.href=Gt,wt.target=R(yt,P)||"_blank",wt.popup=R(yt,F))}}Q(wt)}}return G}(U.node(),ft);lt&&U.style("pointer-events","all"),s.positionText(U),rt&&rt.call(U)}};var p=/(<|&lt;|&#60;)/g,g=/(>|&gt;|&#62;)/g,m=[["$","$"],["\\(","\\)"]],v={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},y={sub:"0.3em",sup:"-0.6em"},_={sub:"-0.21em",sup:"0.42em"},x="​",w=["http:","https:","mailto:","",void 0,":"],E=s.NEWLINES=/(\r\n?|\n)/g,S=/(<[^<>]*>)/,C=/<(\/?)([^ >]*)(\s+(.*))?>/i,T=/<br(\s+.*)?>/i;s.BR_TAG_ALL=/<br(\s+.*)?>/gi;var A=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,O=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,P=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,F=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function R(U,Z){if(!U)return null;var rt=U.match(Z),ft=rt&&(rt[3]||rt[4]);return ft&&B(ft)}var N=/(^|;)\s*color:/;s.plainText=function(U,Z){for(var rt=(Z=Z||{}).len!==void 0&&Z.len!==-1?Z.len:1/0,ft=Z.allowedTags!==void 0?Z.allowedTags:["br"],z=U.split(S),W=[],X="",it=0,lt=0;lt<z.length;lt++){var dt=z[lt],nt=dt.match(C),V=nt&&nt[2].toLowerCase();if(V)ft.indexOf(V)!==-1&&(W.push(dt),X=V);else{var G=dt.length;if(it+G<rt)W.push(dt),it+=G;else if(it<rt){var H=rt-it;X&&(X!=="br"||H<=3||G<=3)&&W.pop(),rt>3?W.push(dt.substr(0,H-3)+"..."):W.push(dt.substr(0,H));break}X=""}}return W.join("")};var D={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},I=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function B(U){return U.replace(I,function(Z,rt){return(rt.charAt(0)==="#"?function(ft){if(!(ft>1114111)){var z=String.fromCodePoint;if(z)return z(ft);var W=String.fromCharCode;return ft<=65535?W(ft):W(55232+(ft>>10),ft%1024+56320)}}(rt.charAt(1)==="x"?parseInt(rt.substr(2),16):parseInt(rt.substr(1),10)):D[rt])||Z})}function j(U){var Z=encodeURI(decodeURI(U)),rt=document.createElement("a"),ft=document.createElement("a");rt.href=U,ft.href=Z;var z=rt.protocol,W=ft.protocol;return w.indexOf(z)!==-1&&w.indexOf(W)!==-1?Z:""}function q(U,Z,rt){var ft,z,W,X=rt.horizontalAlign,it=rt.verticalAlign||"top",lt=U.node().getBoundingClientRect(),dt=Z.node().getBoundingClientRect();return z=it==="bottom"?function(){return lt.bottom-ft.height}:it==="middle"?function(){return lt.top+(lt.height-ft.height)/2}:function(){return lt.top},W=X==="right"?function(){return lt.right-ft.width}:X==="center"?function(){return lt.left+(lt.width-ft.width)/2}:function(){return lt.left},function(){ft=this.node().getBoundingClientRect();var nt=W()-dt.left,V=z()-dt.top,G=rt.gd||{};if(rt.gd){G._fullLayout._calcInverseTransform(G);var H=f.apply3DTransform(G._fullLayout._invTransform)(nt,V);nt=H[0],V=H[1]}return this.style({top:V+"px",left:nt+"px","z-index":1e3}),this}}s.convertEntities=B,s.sanitizeHTML=function(U){U=U.replace(E," ");for(var Z=document.createElement("p"),rt=Z,ft=[],z=U.split(S),W=0;W<z.length;W++){var X=z[W],it=X.match(C),lt=it&&it[2].toLowerCase();if(lt in v)if(it[1])ft.length&&(rt=ft.pop());else{var dt=it[4],nt=R(dt,A),V=nt?{style:nt}:{};if(lt==="a"){var G=R(dt,O);if(G){var H=j(G);if(H){V.href=H;var $=R(dt,P);$&&(V.target=$)}}}var J=document.createElement(lt);rt.appendChild(J),l.select(J).attr(V),rt=J,ft.push(J)}else rt.appendChild(document.createTextNode(B(X)))}return Z.innerHTML},s.lineCount=function(U){return U.selectAll("tspan.line").size()||1},s.positionText=function(U,Z,rt){return U.each(function(){var ft=l.select(this);function z(it,lt){return lt===void 0?(lt=ft.attr(it))===null&&(ft.attr(it,0),lt=0):ft.attr(it,lt),lt}var W=z("x",Z),X=z("y",rt);this.nodeName==="text"&&ft.selectAll("tspan.line").attr({x:W,y:X})})};var et="1px ";s.makeTextShadow=function(U){return et+et+et+U+", -"+et+"-"+et+et+U+", "+et+"-"+et+et+U+", -"+et+et+et+U},s.makeEditable=function(U,Z){var rt=Z.gd,ft=Z.delegate,z=l.dispatch("edit","input","cancel"),W=ft||U;if(U.style({"pointer-events":ft?"none":"all"}),U.size()!==1)throw new Error("boo");function X(){var lt,dt,nt,V,G;lt=l.select(rt).select(".svg-container"),dt=lt.append("div"),nt=U.node().style,V=parseFloat(nt.fontSize||12),(G=Z.text)===void 0&&(G=U.attr("data-unformatted")),dt.classed("plugin-editable editable",!0).style({position:"absolute","font-family":nt.fontFamily||"Arial","font-size":V,color:Z.fill||nt.fill||"black",opacity:1,"background-color":Z.background||"transparent",outline:"#ffffff33 1px solid",margin:[-V/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(G).call(q(U,lt,Z)).on("blur",function(){rt._editing=!1,U.text(this.textContent).style({opacity:1});var J,Q=l.select(this).attr("class");(J=Q?"."+Q.split(" ")[0]+"-math-group":"[class*=-math-group]")&&l.select(U.node().parentNode).select(J).style({opacity:0});var ot=this.textContent;l.select(this).transition().duration(0).remove(),l.select(document).on("mouseup",null),z.edit.call(U,ot)}).on("focus",function(){var J=this;rt._editing=!0,l.select(document).on("mouseup",function(){if(l.event.target===J)return!1;document.activeElement===dt.node()&&dt.node().blur()})}).on("keyup",function(){l.event.which===27?(rt._editing=!1,U.style({opacity:1}),l.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),z.cancel.call(U,this.textContent)):(z.input.call(U,this.textContent),l.select(this).call(q(U,lt,Z)))}).on("keydown",function(){l.event.which===13&&this.blur()}).call(it),U.style({opacity:0});var H,$=W.attr("class");(H=$?"."+$.split(" ")[0]+"-math-group":"[class*=-math-group]")&&l.select(U.node().parentNode).select(H).style({opacity:0})}function it(lt){var dt=lt.node(),nt=document.createRange();nt.selectNodeContents(dt);var V=window.getSelection();V.removeAllRanges(),V.addRange(nt),dt.focus()}return Z.immediate?X():W.on("click",X),l.rebind(U,z,"on")}},9990:function(a,s){var o={};function l(f){f&&f.timer!==null&&(clearTimeout(f.timer),f.timer=null)}s.throttle=function(f,u,c){var h=o[f],d=Date.now();if(!h){for(var p in o)o[p].ts<d-6e4&&delete o[p];h=o[f]={ts:0,timer:null}}function g(){c(),h.ts=Date.now(),h.onDone&&(h.onDone(),h.onDone=null)}l(h),d>h.ts+u?g():h.timer=setTimeout(function(){g(),h.timer=null},u)},s.done=function(f){var u=o[f];return u&&u.timer?new Promise(function(c){var h=u.onDone;u.onDone=function(){h&&h(),c(),u.onDone=null}}):Promise.resolve()},s.clear=function(f){if(f)l(o[f]),delete o[f];else for(var u in o)s.clear(u)}},8163:function(a,s,o){var l=o(2770);a.exports=function(f,u){if(f>0)return Math.log(f)/Math.LN10;var c=Math.log(Math.min(u[0],u[1]))/Math.LN10;return l(c)||(c=Math.log(Math.max(u[0],u[1]))/Math.LN10-6),c}},7815:function(a){a.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},2177:function(a){a.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},4458:function(a,s,o){var l=o(3972);a.exports=function(f){for(var u,c,h=l.layoutArrayContainers,d=l.layoutArrayRegexes,p=f.split("[")[0],g=0;g<d.length;g++)if((c=f.match(d[g]))&&c.index===0){u=c[0];break}if(u||(u=h[h.indexOf(p)]),!u)return!1;var m=f.substr(u.length);return m?!!(c=m.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:u,index:Number(c[1]),property:c[3]||""}:{array:u,index:"",property:""}}},962:function(a,s,o){var l=o(1426).extendFlat,f=o(1965),u={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},c={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},h=u.flags.slice().concat(["fullReplot"]),d=c.flags.slice().concat("layoutReplot");function p(v){for(var y={},_=0;_<v.length;_++)y[v[_]]=!1;return y}function g(v,y,_){var x=l({},v);for(var w in x){var E=x[w];f(E)&&(x[w]=m(E,y,0,w))}return _==="from-root"&&(x.editType=y),x}function m(v,y,_,x){if(v.valType){var w=l({},v);if(w.editType=y,Array.isArray(v.items)){w.items=new Array(v.items.length);for(var E=0;E<v.items.length;E++)w.items[E]=m(v.items[E],y)}return w}return g(v,y,x.charAt(0)==="_"?"nested":"from-root")}a.exports={traces:u,layout:c,traceFlags:function(){return p(h)},layoutFlags:function(){return p(d)},update:function(v,y){var _=y.editType;if(_&&_!=="none")for(var x=_.split("+"),w=0;w<x.length;w++)v[x[w]]=!0},overrideAll:g}},8377:function(a,s,o){var l=o(2770),f=o(7812),u=o(3972),c=o(1828),h=o(4875),d=o(1675),p=o(7901),g=d.cleanId,m=d.getFromTrace,v=u.traceIs;function y(O,P){var F=O[P],R=P.charAt(0);F&&F!=="paper"&&(O[P]=g(F,R,!0))}function _(O){function P(F,R){var N=O[F],D=O.title&&O.title[R];N&&!D&&(O.title||(O.title={}),O.title[R]=O[F],delete O[F])}O&&(typeof O.title!="string"&&typeof O.title!="number"||(O.title={text:O.title}),P("titlefont","font"),P("titleposition","position"),P("titleside","side"),P("titleoffset","offset"))}function x(O){if(!c.isPlainObject(O))return!1;var P=O.name;return delete O.name,delete O.showlegend,(typeof P=="string"||typeof P=="number")&&String(P)}function w(O,P,F,R){if(F&&!R)return O;if(R&&!F||!O.trim())return P;if(!P.trim())return O;var N,D=Math.min(O.length,P.length);for(N=0;N<D&&O.charAt(N)===P.charAt(N);N++);return O.substr(0,N).trim()}function E(O){var P="middle",F="center";return typeof O=="string"&&(O.indexOf("top")!==-1?P="top":O.indexOf("bottom")!==-1&&(P="bottom"),O.indexOf("left")!==-1?F="left":O.indexOf("right")!==-1&&(F="right")),P+" "+F}function S(O,P){return P in O&&typeof O[P]=="object"&&Object.keys(O[P]).length===0}s.clearPromiseQueue=function(O){Array.isArray(O._promises)&&O._promises.length>0&&c.log("Clearing previous rejected promises from queue."),O._promises=[]},s.cleanLayout=function(O){var P,F;O||(O={}),O.xaxis1&&(O.xaxis||(O.xaxis=O.xaxis1),delete O.xaxis1),O.yaxis1&&(O.yaxis||(O.yaxis=O.yaxis1),delete O.yaxis1),O.scene1&&(O.scene||(O.scene=O.scene1),delete O.scene1);var R=(h.subplotsRegistry.cartesian||{}).attrRegex,N=(h.subplotsRegistry.polar||{}).attrRegex,D=(h.subplotsRegistry.ternary||{}).attrRegex,I=(h.subplotsRegistry.gl3d||{}).attrRegex,B=Object.keys(O);for(P=0;P<B.length;P++){var j=B[P];if(R&&R.test(j)){var q=O[j];q.anchor&&q.anchor!=="free"&&(q.anchor=g(q.anchor)),q.overlaying&&(q.overlaying=g(q.overlaying)),q.type||(q.isdate?q.type="date":q.islog?q.type="log":q.isdate===!1&&q.islog===!1&&(q.type="linear")),q.autorange!=="withzero"&&q.autorange!=="tozero"||(q.autorange=!0,q.rangemode="tozero"),q.insiderange&&delete q.range,delete q.islog,delete q.isdate,delete q.categories,S(q,"domain")&&delete q.domain,q.autotick!==void 0&&(q.tickmode===void 0&&(q.tickmode=q.autotick?"auto":"linear"),delete q.autotick),_(q)}else if(N&&N.test(j))_(O[j].radialaxis);else if(D&&D.test(j)){var et=O[j];_(et.aaxis),_(et.baxis),_(et.caxis)}else if(I&&I.test(j)){var U=O[j],Z=U.cameraposition;if(Array.isArray(Z)&&Z[0].length===4){var rt=Z[0],ft=Z[1],z=Z[2],W=f([],rt),X=[];for(F=0;F<3;++F)X[F]=ft[F]+z*W[2+4*F];U.camera={eye:{x:X[0],y:X[1],z:X[2]},center:{x:ft[0],y:ft[1],z:ft[2]},up:{x:0,y:0,z:1}},delete U.cameraposition}_(U.xaxis),_(U.yaxis),_(U.zaxis)}}var it=Array.isArray(O.annotations)?O.annotations.length:0;for(P=0;P<it;P++){var lt=O.annotations[P];c.isPlainObject(lt)&&(lt.ref&&(lt.ref==="paper"?(lt.xref="paper",lt.yref="paper"):lt.ref==="data"&&(lt.xref="x",lt.yref="y"),delete lt.ref),y(lt,"xref"),y(lt,"yref"))}var dt=Array.isArray(O.shapes)?O.shapes.length:0;for(P=0;P<dt;P++){var nt=O.shapes[P];c.isPlainObject(nt)&&(y(nt,"xref"),y(nt,"yref"))}var V=Array.isArray(O.images)?O.images.length:0;for(P=0;P<V;P++){var G=O.images[P];c.isPlainObject(G)&&(y(G,"xref"),y(G,"yref"))}var H=O.legend;return H&&(H.x>3?(H.x=1.02,H.xanchor="left"):H.x<-2&&(H.x=-.02,H.xanchor="right"),H.y>3?(H.y=1.02,H.yanchor="bottom"):H.y<-2&&(H.y=-.02,H.yanchor="top")),_(O),O.dragmode==="rotate"&&(O.dragmode="orbit"),p.clean(O),O.template&&O.template.layout&&s.cleanLayout(O.template.layout),O},s.cleanData=function(O){for(var P=0;P<O.length;P++){var F,R=O[P];if(R.type==="histogramy"&&"xbins"in R&&!("ybins"in R)&&(R.ybins=R.xbins,delete R.xbins),R.error_y&&"opacity"in R.error_y){var N=p.defaults,D=R.error_y.color||(v(R,"bar")?p.defaultLine:N[P%N.length]);R.error_y.color=p.addOpacity(p.rgb(D),p.opacity(D)*R.error_y.opacity),delete R.error_y.opacity}if("bardir"in R&&(R.bardir!=="h"||!v(R,"bar")&&R.type.substr(0,9)!=="histogram"||(R.orientation="h",s.swapXYData(R)),delete R.bardir),R.type==="histogramy"&&s.swapXYData(R),R.type!=="histogramx"&&R.type!=="histogramy"||(R.type="histogram"),"scl"in R&&!("colorscale"in R)&&(R.colorscale=R.scl,delete R.scl),"reversescl"in R&&!("reversescale"in R)&&(R.reversescale=R.reversescl,delete R.reversescl),R.xaxis&&(R.xaxis=g(R.xaxis,"x")),R.yaxis&&(R.yaxis=g(R.yaxis,"y")),v(R,"gl3d")&&R.scene&&(R.scene=h.subplotsRegistry.gl3d.cleanId(R.scene)),!v(R,"pie-like")&&!v(R,"bar-like"))if(Array.isArray(R.textposition))for(F=0;F<R.textposition.length;F++)R.textposition[F]=E(R.textposition[F]);else R.textposition&&(R.textposition=E(R.textposition));var I=u.getModule(R);if(I&&I.colorbar){var B=I.colorbar.container,j=B?R[B]:R;j&&j.colorscale&&(j.colorscale==="YIGnBu"&&(j.colorscale="YlGnBu"),j.colorscale==="YIOrRd"&&(j.colorscale="YlOrRd"))}if(R.type==="surface"&&c.isPlainObject(R.contours)){var q=["x","y","z"];for(F=0;F<q.length;F++){var et=R.contours[q[F]];c.isPlainObject(et)&&(et.highlightColor&&(et.highlightcolor=et.highlightColor,delete et.highlightColor),et.highlightWidth&&(et.highlightwidth=et.highlightWidth,delete et.highlightWidth))}}if(R.type==="candlestick"||R.type==="ohlc"){var U=(R.increasing||{}).showlegend!==!1,Z=(R.decreasing||{}).showlegend!==!1,rt=x(R.increasing),ft=x(R.decreasing);if(rt!==!1&&ft!==!1){var z=w(rt,ft,U,Z);z&&(R.name=z)}else!rt&&!ft||R.name||(R.name=rt||ft)}if(Array.isArray(R.transforms)){var W=R.transforms;for(F=0;F<W.length;F++){var X=W[F];if(c.isPlainObject(X))switch(X.type){case"filter":X.filtersrc&&(X.target=X.filtersrc,delete X.filtersrc),X.calendar&&(X.valuecalendar||(X.valuecalendar=X.calendar),delete X.calendar);break;case"groupby":if(X.styles=X.styles||X.style,X.styles&&!Array.isArray(X.styles)){var it=X.styles,lt=Object.keys(it);X.styles=[];for(var dt=0;dt<lt.length;dt++)X.styles.push({target:lt[dt],value:it[lt[dt]]})}}}}S(R,"line")&&delete R.line,"marker"in R&&(S(R.marker,"line")&&delete R.marker.line,S(R,"marker")&&delete R.marker),p.clean(R),R.autobinx&&(delete R.autobinx,delete R.xbins),R.autobiny&&(delete R.autobiny,delete R.ybins),_(R),R.colorbar&&_(R.colorbar),R.marker&&R.marker.colorbar&&_(R.marker.colorbar),R.line&&R.line.colorbar&&_(R.line.colorbar),R.aaxis&&_(R.aaxis),R.baxis&&_(R.baxis)}},s.swapXYData=function(O){var P;if(c.swapAttrs(O,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(O.z)&&Array.isArray(O.z[0])&&(O.transpose?delete O.transpose:O.transpose=!0),O.error_x&&O.error_y){var F=O.error_y,R="copy_ystyle"in F?F.copy_ystyle:!(F.color||F.thickness||F.width);c.swapAttrs(O,["error_?.copy_ystyle"]),R&&c.swapAttrs(O,["error_?.color","error_?.thickness","error_?.width"])}if(typeof O.hoverinfo=="string"){var N=O.hoverinfo.split("+");for(P=0;P<N.length;P++)N[P]==="x"?N[P]="y":N[P]==="y"&&(N[P]="x");O.hoverinfo=N.join("+")}},s.coerceTraceIndices=function(O,P){if(l(P))return[P];if(!Array.isArray(P)||!P.length)return O.data.map(function(N,D){return D});if(Array.isArray(P)){for(var F=[],R=0;R<P.length;R++)c.isIndex(P[R],O.data.length)?F.push(P[R]):c.warn("trace index (",P[R],") is not a number or is out of bounds");return F}return P},s.manageArrayContainers=function(O,P,F){var R=O.obj,N=O.parts,D=N.length,I=N[D-1],B=l(I);if(B&&P===null){var j=N.slice(0,D-1).join(".");c.nestedProperty(R,j).get().splice(I,1)}else B&&O.get()===void 0&&O.get()===void 0&&(F[O.astr]=null),O.set(P)};var C=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function T(O){var P=O.search(C);if(P>0)return O.substr(0,P)}s.hasParent=function(O,P){for(var F=T(P);F;){if(F in O)return!0;F=T(F)}return!1};var A=["x","y","z"];s.clearAxisTypes=function(O,P,F){for(var R=0;R<P.length;R++)for(var N=O._fullData[R],D=0;D<3;D++){var I=m(O,N,A[D]);if(I&&I.type!=="log"){var B=I._name,j=I._id.substr(1);if(j.substr(0,5)==="scene"){if(F[j]!==void 0)continue;B=j+"."+B}var q=B+".type";F[B]===void 0&&F[q]===void 0&&c.nestedProperty(O.layout,q).set(null)}}}},641:function(a,s,o){var l=o(2391);s._doPlot=l._doPlot,s.newPlot=l.newPlot,s.restyle=l.restyle,s.relayout=l.relayout,s.redraw=l.redraw,s.update=l.update,s._guiRestyle=l._guiRestyle,s._guiRelayout=l._guiRelayout,s._guiUpdate=l._guiUpdate,s._storeDirectGUIEdit=l._storeDirectGUIEdit,s.react=l.react,s.extendTraces=l.extendTraces,s.prependTraces=l.prependTraces,s.addTraces=l.addTraces,s.deleteTraces=l.deleteTraces,s.moveTraces=l.moveTraces,s.purge=l.purge,s.addFrames=l.addFrames,s.deleteFrames=l.deleteFrames,s.animate=l.animate,s.setPlotConfig=l.setPlotConfig;var f=o(4401).getGraphDiv,u=o(4031).eraseActiveShape;s.deleteActiveShape=function(h){return u(f(h))},s.toImage=o(403),s.validate=o(4936),s.downloadImage=o(7239);var c=o(6318);s.makeTemplate=c.makeTemplate,s.validateTemplate=c.validateTemplate},6611:function(a,s,o){var l=o(1965),f=o(4213),u=o(7769),c=o(5888).sorterAsc,h=o(3972);s.containerArrayMatch=o(4458);var d=s.isAddVal=function(g){return g==="add"||l(g)},p=s.isRemoveVal=function(g){return g===null||g==="remove"};s.applyContainerArrayChanges=function(g,m,v,y,_){var x=m.astr,w=h.getComponentMethod(x,"supplyLayoutDefaults"),E=h.getComponentMethod(x,"draw"),S=h.getComponentMethod(x,"drawOne"),C=y.replot||y.recalc||w===f||E===f,T=g.layout,A=g._fullLayout;if(v[""]){Object.keys(v).length>1&&u.warn("Full array edits are incompatible with other edits",x);var O=v[""][""];if(p(O))m.set(null);else{if(!Array.isArray(O))return u.warn("Unrecognized full array edit value",x,O),!0;m.set(O)}return!C&&(w(T,A),E(g),!0)}var P,F,R,N,D,I,B,j,q=Object.keys(v).map(Number).sort(c),et=m.get(),U=et||[],Z=_(A,x).get(),rt=[],ft=-1,z=U.length;for(P=0;P<q.length;P++)if(N=v[R=q[P]],D=Object.keys(N),I=N[""],B=d(I),R<0||R>U.length-(B?0:1))u.warn("index out of range",x,R);else if(I!==void 0)D.length>1&&u.warn("Insertion & removal are incompatible with edits to the same index.",x,R),p(I)?rt.push(R):B?(I==="add"&&(I={}),U.splice(R,0,I),Z&&Z.splice(R,0,{})):u.warn("Unrecognized full object edit value",x,R,I),ft===-1&&(ft=R);else for(F=0;F<D.length;F++)j=x+"["+R+"].",_(U[R],D[F],j).set(N[D[F]]);for(P=rt.length-1;P>=0;P--)U.splice(rt[P],1),Z&&Z.splice(rt[P],1);if(U.length?et||m.set(U):m.set(null),C)return!1;if(w(T,A),S!==f){var W;if(ft===-1)W=q;else{for(z=Math.max(U.length,z),W=[],P=0;P<q.length&&!((R=q[P])>=ft);P++)W.push(R);for(P=ft;P<z;P++)W.push(P)}for(P=0;P<W.length;P++)S(g,W[P])}else E(g);return!0}},2391:function(a,s,o){var l=o(9898),f=o(2770),u=o(7035),c=o(1828),h=c.nestedProperty,d=o(1086),p=o(847),g=o(3972),m=o(6281),v=o(4875),y=o(9298),_=o(3608),x=o(3838),w=o(1424),E=o(7901),S=o(4305).initInteractions,C=o(7922),T=o(7322).clearOutline,A=o(2075).dfltConfig,O=o(6611),P=o(8377),F=o(1549),R=o(962),N=o(5555).AX_NAME_PATTERN,D=0;function I(mt){var Tt=mt._fullLayout;Tt._redrawFromAutoMarginCount?Tt._redrawFromAutoMarginCount--:mt.emit("plotly_afterplot")}function B(mt,Tt){try{mt._fullLayout._paper.style("background",Tt)}catch(At){c.error(At)}}function j(mt,Tt){B(mt,E.combine(Tt,"white"))}function q(mt,Tt){if(!mt._context){mt._context=c.extendDeep({},A);var At=l.select("base");mt._context._baseUrl=At.size()&&At.attr("href")?window.location.href.split("#")[0]:""}var Et,Mt,Nt,Ft=mt._context;if(Tt){for(Mt=Object.keys(Tt),Et=0;Et<Mt.length;Et++)(Nt=Mt[Et])!=="editable"&&Nt!=="edits"&&Nt in Ft&&(Nt==="setBackground"&&Tt[Nt]==="opaque"?Ft[Nt]=j:Ft[Nt]=Tt[Nt]);Tt.plot3dPixelRatio&&!Ft.plotGlPixelRatio&&(Ft.plotGlPixelRatio=Ft.plot3dPixelRatio);var Lt=Tt.editable;if(Lt!==void 0)for(Ft.editable=Lt,Mt=Object.keys(Ft.edits),Et=0;Et<Mt.length;Et++)Ft.edits[Mt[Et]]=Lt;if(Tt.edits)for(Mt=Object.keys(Tt.edits),Et=0;Et<Mt.length;Et++)(Nt=Mt[Et])in Ft.edits&&(Ft.edits[Nt]=Tt.edits[Nt]);Ft._exportedPlot=Tt._exportedPlot}Ft.staticPlot&&(Ft.editable=!1,Ft.edits={},Ft.autosizable=!1,Ft.scrollZoom=!1,Ft.doubleClick=!1,Ft.showTips=!1,Ft.showLink=!1,Ft.displayModeBar=!1),Ft.displayModeBar!=="hover"||u||(Ft.displayModeBar=!0),Ft.setBackground!=="transparent"&&typeof Ft.setBackground=="function"||(Ft.setBackground=B),Ft._hasZeroHeight=Ft._hasZeroHeight||mt.clientHeight===0,Ft._hasZeroWidth=Ft._hasZeroWidth||mt.clientWidth===0;var Dt=Ft.scrollZoom,kt=Ft._scrollZoom={};if(Dt===!0)kt.cartesian=1,kt.gl3d=1,kt.geo=1,kt.mapbox=1;else if(typeof Dt=="string"){var Wt=Dt.split("+");for(Et=0;Et<Wt.length;Et++)kt[Wt[Et]]=1}else Dt!==!1&&(kt.gl3d=1,kt.geo=1,kt.mapbox=1)}function et(mt,Tt){var At,Et,Mt=Tt+1,Nt=[];for(At=0;At<mt.length;At++)(Et=mt[At])<0?Nt.push(Mt+Et):Nt.push(Et);return Nt}function U(mt,Tt,At){var Et,Mt;for(Et=0;Et<Tt.length;Et++){if((Mt=Tt[Et])!==parseInt(Mt,10))throw new Error("all values in "+At+" must be integers");if(Mt>=mt.data.length||Mt<-mt.data.length)throw new Error(At+" must be valid indices for gd.data.");if(Tt.indexOf(Mt,Et+1)>-1||Mt>=0&&Tt.indexOf(-mt.data.length+Mt)>-1||Mt<0&&Tt.indexOf(mt.data.length+Mt)>-1)throw new Error("each index in "+At+" must be unique.")}}function Z(mt,Tt,At){if(!Array.isArray(mt.data))throw new Error("gd.data must be an array.");if(Tt===void 0)throw new Error("currentIndices is a required argument.");if(Array.isArray(Tt)||(Tt=[Tt]),U(mt,Tt,"currentIndices"),At===void 0||Array.isArray(At)||(At=[At]),At!==void 0&&U(mt,At,"newIndices"),At!==void 0&&Tt.length!==At.length)throw new Error("current and new indices must be of equal length.")}function rt(mt,Tt,At,Et,Mt){(function(Ht,oe,ce,pe){var we=c.isPlainObject(pe);if(!Array.isArray(Ht.data))throw new Error("gd.data must be an array");if(!c.isPlainObject(oe))throw new Error("update must be a key:value object");if(ce===void 0)throw new Error("indices must be an integer or array of integers");for(var Le in U(Ht,ce,"indices"),oe){if(!Array.isArray(oe[Le])||oe[Le].length!==ce.length)throw new Error("attribute "+Le+" must be an array of length equal to indices array length");if(we&&(!(Le in pe)||!Array.isArray(pe[Le])||pe[Le].length!==oe[Le].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}})(mt,Tt,At,Et);for(var Nt=function(Ht,oe,ce,pe){var we,Le,jt,Rt,te,ae=c.isPlainObject(pe),Se=[];for(var ne in Array.isArray(ce)||(ce=[ce]),ce=et(ce,Ht.data.length-1),oe)for(var ge=0;ge<ce.length;ge++){if(we=Ht.data[ce[ge]],Le=(jt=h(we,ne)).get(),Rt=oe[ne][ge],!c.isArrayOrTypedArray(Rt))throw new Error("attribute: "+ne+" index: "+ge+" must be an array");if(!c.isArrayOrTypedArray(Le))throw new Error("cannot extend missing or non-array attribute: "+ne);if(Le.constructor!==Rt.constructor)throw new Error("cannot extend array with an array of a different type: "+ne);te=ae?pe[ne][ge]:pe,f(te)||(te=-1),Se.push({prop:jt,target:Le,insert:Rt,maxp:Math.floor(te)})}return Se}(mt,Tt,At,Et),Ft={},Lt={},Dt=0;Dt<Nt.length;Dt++){var kt=Nt[Dt].prop,Wt=Nt[Dt].maxp,Qt=Mt(Nt[Dt].target,Nt[Dt].insert,Wt);kt.set(Qt[0]),Array.isArray(Ft[kt.astr])||(Ft[kt.astr]=[]),Ft[kt.astr].push(Qt[1]),Array.isArray(Lt[kt.astr])||(Lt[kt.astr]=[]),Lt[kt.astr].push(Nt[Dt].target.length)}return{update:Ft,maxPoints:Lt}}function ft(mt,Tt){var At=new mt.constructor(mt.length+Tt.length);return At.set(mt),At.set(Tt,mt.length),At}function z(mt,Tt,At,Et){mt=c.getGraphDiv(mt),P.clearPromiseQueue(mt);var Mt={};if(typeof Tt=="string")Mt[Tt]=At;else{if(!c.isPlainObject(Tt))return c.warn("Restyle fail.",Tt,At,Et),Promise.reject();Mt=c.extendFlat({},Tt),Et===void 0&&(Et=At)}Object.keys(Mt).length&&(mt.changed=!0);var Nt=P.coerceTraceIndices(mt,Et),Ft=lt(mt,Mt,Nt),Lt=Ft.flags;Lt.calc&&(mt.calcdata=void 0),Lt.clearAxisTypes&&P.clearAxisTypes(mt,Nt,{});var Dt=[];Lt.fullReplot?Dt.push(s._doPlot):(Dt.push(v.previousPromises),v.supplyDefaults(mt),Lt.markerSize&&(v.doCalcdata(mt),G(Dt)),Lt.style&&Dt.push(F.doTraceStyle),Lt.colorbars&&Dt.push(F.doColorBars),Dt.push(I)),Dt.push(v.rehover,v.redrag,v.reselect),p.add(mt,z,[mt,Ft.undoit,Ft.traces],z,[mt,Ft.redoit,Ft.traces]);var kt=c.syncOrAsync(Dt,mt);return kt&&kt.then||(kt=Promise.resolve()),kt.then(function(){return mt.emit("plotly_restyle",Ft.eventData),mt})}function W(mt){return mt===void 0?null:mt}function X(mt,Tt){return Tt?function(At,Et,Mt){var Nt=h(At,Et),Ft=Nt.set;return Nt.set=function(Lt){it((Mt||"")+Et,Nt.get(),Lt,mt),Ft(Lt)},Nt}:h}function it(mt,Tt,At,Et){if(Array.isArray(Tt)||Array.isArray(At))for(var Mt=Array.isArray(Tt)?Tt:[],Nt=Array.isArray(At)?At:[],Ft=Math.max(Mt.length,Nt.length),Lt=0;Lt<Ft;Lt++)it(mt+"["+Lt+"]",Mt[Lt],Nt[Lt],Et);else if(c.isPlainObject(Tt)||c.isPlainObject(At)){var Dt=c.isPlainObject(Tt)?Tt:{},kt=c.isPlainObject(At)?At:{},Wt=c.extendFlat({},Dt,kt);for(var Qt in Wt)it(mt+"."+Qt,Dt[Qt],kt[Qt],Et)}else Et[mt]===void 0&&(Et[mt]=W(Tt))}function lt(mt,Tt,At){var Et,Mt=mt._fullLayout,Nt=mt._fullData,Ft=mt.data,Lt=Mt._guiEditing,Dt=X(Mt._preGUI,Lt),kt=c.extendDeepAll({},Tt);dt(Tt);var Wt,Qt=R.traceFlags(),Ht={},oe={};function ce(){return At.map(function(){})}function pe(_e){var he=y.id2name(_e);Wt.indexOf(he)===-1&&Wt.push(he)}function we(_e){return"LAYOUT"+_e+".autorange"}function Le(_e){return"LAYOUT"+_e+".range"}function jt(_e){for(var he=_e;he<Nt.length;he++)if(Nt[he]._input===Ft[_e])return Nt[he]}function Rt(_e,he,Pe){if(Array.isArray(_e))_e.forEach(function(on){Rt(on,he,Pe)});else if(!(_e in Tt)&&!P.hasParent(Tt,_e)){var an;if(_e.substr(0,6)==="LAYOUT")an=Dt(mt.layout,_e.replace("LAYOUT",""));else{var tn=At[Pe];an=X(Mt._tracePreGUI[jt(tn)._fullInput.uid],Lt)(Ft[tn],_e)}_e in oe||(oe[_e]=ce()),oe[_e][Pe]===void 0&&(oe[_e][Pe]=W(an.get())),he!==void 0&&an.set(he)}}function te(_e){return function(he){return Nt[he][_e]}}function ae(_e){return function(he,Pe){return he===!1?Nt[At[Pe]][_e]:null}}for(var Se in Tt){if(P.hasParent(Tt,Se))throw new Error("cannot set "+Se+" and a parent attribute simultaneously");var ne,ge,xe,Fe,Ae,$e,Me=Tt[Se];if(Se!=="autobinx"&&Se!=="autobiny"||(Se=Se.charAt(Se.length-1)+"bins",Me=Array.isArray(Me)?Me.map(ae(Se)):Me===!1?At.map(te(Se)):null),Ht[Se]=Me,Se.substr(0,6)!=="LAYOUT"){for(oe[Se]=ce(),Et=0;Et<At.length;Et++)if(ne=Ft[At[Et]],ge=jt(At[Et]),Fe=(xe=X(Mt._tracePreGUI[ge._fullInput.uid],Lt)(ne,Se)).get(),(Ae=Array.isArray(Me)?Me[Et%Me.length]:Me)!==void 0){var ct=xe.parts[xe.parts.length-1],gt=Se.substr(0,Se.length-ct.length-1),qt=gt?gt+".":"",Vt=gt?h(ge,gt).get():ge;if(($e=m.getTraceValObject(ge,xe.parts))&&$e.impliedEdits&&Ae!==null)for(var Jt in $e.impliedEdits)Rt(c.relativeAttr(Se,Jt),$e.impliedEdits[Jt],Et);else if(ct!=="thicknessmode"&&ct!=="lenmode"||Fe===Ae||Ae!=="fraction"&&Ae!=="pixels"||!Vt){if(Se==="type"&&(Ae==="pie"!=(Fe==="pie")||Ae==="funnelarea"!=(Fe==="funnelarea"))){var Xt="x",ee="y";Ae!=="bar"&&Fe!=="bar"||ne.orientation!=="h"||(Xt="y",ee="x"),c.swapAttrs(ne,["?","?src"],"labels",Xt),c.swapAttrs(ne,["d?","?0"],"label",Xt),c.swapAttrs(ne,["?","?src"],"values",ee),Fe==="pie"||Fe==="funnelarea"?(h(ne,"marker.color").set(h(ne,"marker.colors").get()),Mt._pielayer.selectAll("g.trace").remove()):g.traceIs(ne,"cartesian")&&h(ne,"marker.colors").set(h(ne,"marker.color").get())}}else{var re=Mt._size,fe=Vt.orient,ye=fe==="top"||fe==="bottom";if(ct==="thicknessmode"){var se=ye?re.h:re.w;Rt(qt+"thickness",Vt.thickness*(Ae==="fraction"?1/se:se),Et)}else{var Ge=ye?re.w:re.h;Rt(qt+"len",Vt.len*(Ae==="fraction"?1/Ge:Ge),Et)}}if(oe[Se][Et]=W(Fe),["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Se)!==-1){if(Se==="orientation"){xe.set(Ae);var nn=ne.x&&!ne.y?"h":"v";if((xe.get()||nn)===ge.orientation)continue}else Se==="orientationaxes"&&(ne.orientation={v:"h",h:"v"}[ge.orientation]);P.swapXYData(ne),Qt.calc=Qt.clearAxisTypes=!0}else v.dataArrayContainers.indexOf(xe.parts[0])!==-1?(P.manageArrayContainers(xe,Ae,oe),Qt.calc=!0):($e?$e.arrayOk&&!g.traceIs(ge,"regl")&&(c.isArrayOrTypedArray(Ae)||c.isArrayOrTypedArray(Fe))?Qt.calc=!0:R.update(Qt,$e):Qt.calc=!0,xe.set(Ae))}if(["swapxyaxes","orientationaxes"].indexOf(Se)!==-1&&y.swap(mt,At),Se==="orientationaxes"){var Oe=h(mt.layout,"hovermode"),We=Oe.get();We==="x"?Oe.set("y"):We==="y"?Oe.set("x"):We==="x unified"?Oe.set("y unified"):We==="y unified"&&Oe.set("x unified")}if(["orientation","type"].indexOf(Se)!==-1){for(Wt=[],Et=0;Et<At.length;Et++){var je=Ft[At[Et]];g.traceIs(je,"cartesian")&&(pe(je.xaxis||"x"),pe(je.yaxis||"y"))}Rt(Wt.map(we),!0,0),Rt(Wt.map(Le),[0,1],0)}}else xe=Dt(mt.layout,Se.replace("LAYOUT","")),oe[Se]=[W(xe.get())],xe.set(Array.isArray(Me)?Me[0]:Me),Qt.calc=!0}return(Qt.calc||Qt.plot)&&(Qt.fullReplot=!0),{flags:Qt,undoit:oe,redoit:Ht,traces:At,eventData:c.extendDeepNoArrays([],[kt,At])}}function dt(mt){var Tt,At,Et,Mt=c.counterRegex("axis",".title",!1,!1),Nt=/colorbar\.title$/,Ft=Object.keys(mt);for(Tt=0;Tt<Ft.length;Tt++)At=Ft[Tt],Et=mt[At],At!=="title"&&!Mt.test(At)&&!Nt.test(At)||typeof Et!="string"&&typeof Et!="number"?At.indexOf("titlefont")>-1&&At.indexOf("grouptitlefont")===-1?Lt(At,At.replace("titlefont","title.font")):At.indexOf("titleposition")>-1?Lt(At,At.replace("titleposition","title.position")):At.indexOf("titleside")>-1?Lt(At,At.replace("titleside","title.side")):At.indexOf("titleoffset")>-1&&Lt(At,At.replace("titleoffset","title.offset")):Lt(At,At.replace("title","title.text"));function Lt(Dt,kt){mt[kt]=mt[Dt],delete mt[Dt]}}function nt(mt,Tt,At){mt=c.getGraphDiv(mt),P.clearPromiseQueue(mt);var Et={};if(typeof Tt=="string")Et[Tt]=At;else{if(!c.isPlainObject(Tt))return c.warn("Relayout fail.",Tt,At),Promise.reject();Et=c.extendFlat({},Tt)}Object.keys(Et).length&&(mt.changed=!0);var Mt=Q(mt,Et),Nt=Mt.flags;Nt.calc&&(mt.calcdata=void 0);var Ft=[v.previousPromises];Nt.layoutReplot?Ft.push(F.layoutReplot):Object.keys(Et).length&&(V(mt,Nt,Mt)||v.supplyDefaults(mt),Nt.legend&&Ft.push(F.doLegend),Nt.layoutstyle&&Ft.push(F.layoutStyles),Nt.axrange&&G(Ft,Mt.rangesAltered),Nt.ticks&&Ft.push(F.doTicksRelayout),Nt.modebar&&Ft.push(F.doModeBar),Nt.camera&&Ft.push(F.doCamera),Nt.colorbars&&Ft.push(F.doColorBars),Ft.push(I)),Ft.push(v.rehover,v.redrag,v.reselect),p.add(mt,nt,[mt,Mt.undoit],nt,[mt,Mt.redoit]);var Lt=c.syncOrAsync(Ft,mt);return Lt&&Lt.then||(Lt=Promise.resolve(mt)),Lt.then(function(){return mt.emit("plotly_relayout",Mt.eventData),mt})}function V(mt,Tt,At){var Et,Mt,Nt=mt._fullLayout;if(!Tt.axrange)return!1;for(var Ft in Tt)if(Ft!=="axrange"&&Tt[Ft])return!1;var Lt=function(oe,ce){return c.coerce(Et,Mt,x,oe,ce)},Dt={};for(var kt in At.rangesAltered){var Wt=y.id2name(kt);if(Et=mt.layout[Wt],Mt=Nt[Wt],_(Et,Mt,Lt,Dt),Mt._matchGroup){for(var Qt in Mt._matchGroup)if(Qt!==kt){var Ht=Nt[y.id2name(Qt)];Ht.autorange=Mt.autorange,Ht.range=Mt.range.slice(),Ht._input.range=Mt.range.slice()}}}return!0}function G(mt,Tt){var At=Tt?function(Et){var Mt=[];for(var Nt in Tt){var Ft=y.getFromId(Et,Nt);if(Mt.push(Nt),(Ft.ticklabelposition||"").indexOf("inside")!==-1&&Ft._anchorAxis&&Mt.push(Ft._anchorAxis._id),Ft._matchGroup)for(var Lt in Ft._matchGroup)Tt[Lt]||Mt.push(Lt)}return y.draw(Et,Mt,{skipTitle:!0})}:function(Et){return y.draw(Et,"redraw")};mt.push(T,F.doAutoRangeAndConstraints,At,F.drawData,F.finalDraw)}var H=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,$=/^[xyz]axis[0-9]*\.autorange$/,J=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Q(mt,Tt){var At,Et,Mt,Nt=mt.layout,Ft=mt._fullLayout,Lt=Ft._guiEditing,Dt=X(Ft._preGUI,Lt),kt=Object.keys(Tt),Wt=y.list(mt),Qt=c.extendDeepAll({},Tt),Ht={};for(dt(Tt),kt=Object.keys(Tt),Et=0;Et<kt.length;Et++)if(kt[Et].indexOf("allaxes")===0){for(Mt=0;Mt<Wt.length;Mt++){var oe=Wt[Mt]._id.substr(1),ce=oe.indexOf("scene")!==-1?oe+".":"",pe=kt[Et].replace("allaxes",ce+Wt[Mt]._name);Tt[pe]||(Tt[pe]=Tt[kt[Et]])}delete Tt[kt[Et]]}var we=R.layoutFlags(),Le={},jt={};function Rt(on,be){if(Array.isArray(on))on.forEach(function(ze){Rt(ze,be)});else if(!(on in Tt)&&!P.hasParent(Tt,on)){var Re=Dt(Nt,on);on in jt||(jt[on]=W(Re.get())),be!==void 0&&Re.set(be)}}var te,ae={};function Se(on){var be=y.name2id(on.split(".")[0]);return ae[be]=1,be}for(var ne in Tt){if(P.hasParent(Tt,ne))throw new Error("cannot set "+ne+" and a parent attribute simultaneously");for(var ge=Dt(Nt,ne),xe=Tt[ne],Fe=ge.parts.length-1;Fe>0&&typeof ge.parts[Fe]!="string";)Fe--;var Ae=ge.parts[Fe],$e=ge.parts[Fe-1]+"."+Ae,Me=ge.parts.slice(0,Fe).join("."),ct=h(mt.layout,Me).get(),gt=h(Ft,Me).get(),qt=ge.get();if(xe!==void 0){Le[ne]=xe,jt[ne]=Ae==="reverse"?xe:W(qt);var Vt=m.getLayoutValObject(Ft,ge.parts);if(Vt&&Vt.impliedEdits&&xe!==null)for(var Jt in Vt.impliedEdits)Rt(c.relativeAttr(ne,Jt),Vt.impliedEdits[Jt]);if(["width","height"].indexOf(ne)!==-1)if(xe){Rt("autosize",null);var Xt=ne==="height"?"width":"height";Rt(Xt,Ft[Xt])}else Ft[ne]=mt._initialAutoSize[ne];else if(ne==="autosize")Rt("width",xe?null:Ft.width),Rt("height",xe?null:Ft.height);else if($e.match(H))Se($e),h(Ft,Me+"._inputRange").set(null);else if($e.match($)){Se($e),h(Ft,Me+"._inputRange").set(null);var ee=h(Ft,Me).get();ee._inputDomain&&(ee._input.domain=ee._inputDomain.slice())}else $e.match(J)&&h(Ft,Me+"._inputDomain").set(null);if(Ae==="type"){te=ct;var re=gt.type==="linear"&&xe==="log",fe=gt.type==="log"&&xe==="linear";if(re||fe){if(te&&te.range)if(gt.autorange)re&&(te.range=te.range[1]>te.range[0]?[1,2]:[2,1]);else{var ye=te.range[0],se=te.range[1];re?(ye<=0&&se<=0&&Rt(Me+".autorange",!0),ye<=0?ye=se/1e6:se<=0&&(se=ye/1e6),Rt(Me+".range[0]",Math.log(ye)/Math.LN10),Rt(Me+".range[1]",Math.log(se)/Math.LN10)):(Rt(Me+".range[0]",Math.pow(10,ye)),Rt(Me+".range[1]",Math.pow(10,se)))}else Rt(Me+".autorange",!0);Array.isArray(Ft._subplots.polar)&&Ft._subplots.polar.length&&Ft[ge.parts[0]]&&ge.parts[1]==="radialaxis"&&delete Ft[ge.parts[0]]._subplot.viewInitial["radialaxis.range"],g.getComponentMethod("annotations","convertCoords")(mt,gt,xe,Rt),g.getComponentMethod("images","convertCoords")(mt,gt,xe,Rt)}else Rt(Me+".autorange",!0),Rt(Me+".range",null);h(Ft,Me+"._inputRange").set(null)}else if(Ae.match(N)){var Ge=h(Ft,ne).get(),nn=(xe||{}).type;nn&&nn!=="-"||(nn="linear"),g.getComponentMethod("annotations","convertCoords")(mt,Ge,nn,Rt),g.getComponentMethod("images","convertCoords")(mt,Ge,nn,Rt)}var Oe=O.containerArrayMatch(ne);if(Oe){At=Oe.array,Et=Oe.index;var We=Oe.property,je=Vt||{editType:"calc"};Et!==""&&We===""&&(O.isAddVal(xe)?jt[ne]=null:O.isRemoveVal(xe)?jt[ne]=(h(Nt,At).get()||[])[Et]:c.warn("unrecognized full object value",Tt)),R.update(we,je),Ht[At]||(Ht[At]={});var _e=Ht[At][Et];_e||(_e=Ht[At][Et]={}),_e[We]=xe,delete Tt[ne]}else Ae==="reverse"?(ct.range?ct.range.reverse():(Rt(Me+".autorange",!0),ct.range=[1,0]),gt.autorange?we.calc=!0:we.plot=!0):(ne==="dragmode"&&(xe===!1&&qt!==!1||xe!==!1&&qt===!1)||Ft._has("scatter-like")&&Ft._has("regl")&&ne==="dragmode"&&(xe==="lasso"||xe==="select")&&qt!=="lasso"&&qt!=="select"||Ft._has("gl2d")?we.plot=!0:Vt?R.update(we,Vt):we.calc=!0,ge.set(xe))}}for(At in Ht)O.applyContainerArrayChanges(mt,Dt(Nt,At),Ht[At],we,Dt)||(we.plot=!0);for(var he in ae){var Pe=(te=y.getFromId(mt,he))&&te._constraintGroup;if(Pe)for(var an in we.calc=!0,Pe)ae[an]||(y.getFromId(mt,an)._constraintShrinkable=!0)}(ot(mt)||Tt.height||Tt.width)&&(we.plot=!0);var tn=Ft.shapes;for(Et=0;Et<tn.length;Et++)if(tn[Et].showlegend){we.calc=!0;break}return(we.plot||we.calc)&&(we.layoutReplot=!0),{flags:we,rangesAltered:ae,undoit:jt,redoit:Le,eventData:Qt}}function ot(mt){var Tt=mt._fullLayout,At=Tt.width,Et=Tt.height;return mt.layout.autosize&&v.plotAutoSize(mt,mt.layout,Tt),Tt.width!==At||Tt.height!==Et}function st(mt,Tt,At,Et){mt=c.getGraphDiv(mt),P.clearPromiseQueue(mt),c.isPlainObject(Tt)||(Tt={}),c.isPlainObject(At)||(At={}),Object.keys(Tt).length&&(mt.changed=!0),Object.keys(At).length&&(mt.changed=!0);var Mt=P.coerceTraceIndices(mt,Et),Nt=lt(mt,c.extendFlat({},Tt),Mt),Ft=Nt.flags,Lt=Q(mt,c.extendFlat({},At)),Dt=Lt.flags;(Ft.calc||Dt.calc)&&(mt.calcdata=void 0),Ft.clearAxisTypes&&P.clearAxisTypes(mt,Mt,At);var kt=[];Dt.layoutReplot?kt.push(F.layoutReplot):Ft.fullReplot?kt.push(s._doPlot):(kt.push(v.previousPromises),V(mt,Dt,Lt)||v.supplyDefaults(mt),Ft.style&&kt.push(F.doTraceStyle),(Ft.colorbars||Dt.colorbars)&&kt.push(F.doColorBars),Dt.legend&&kt.push(F.doLegend),Dt.layoutstyle&&kt.push(F.layoutStyles),Dt.axrange&&G(kt,Lt.rangesAltered),Dt.ticks&&kt.push(F.doTicksRelayout),Dt.modebar&&kt.push(F.doModeBar),Dt.camera&&kt.push(F.doCamera),kt.push(I)),kt.push(v.rehover,v.redrag,v.reselect),p.add(mt,st,[mt,Nt.undoit,Lt.undoit,Nt.traces],st,[mt,Nt.redoit,Lt.redoit,Nt.traces]);var Wt=c.syncOrAsync(kt,mt);return Wt&&Wt.then||(Wt=Promise.resolve(mt)),Wt.then(function(){return mt.emit("plotly_update",{data:Nt.eventData,layout:Lt.eventData}),mt})}function ht(mt){return function(Tt){Tt._fullLayout._guiEditing=!0;var At=mt.apply(null,arguments);return Tt._fullLayout._guiEditing=!1,At}}var xt=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Pt=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function It(mt,Tt){for(var At=0;At<Tt.length;At++){var Et=Tt[At],Mt=mt.match(Et.pattern);if(Mt){var Nt=Mt[1]||"";return{head:Nt,tail:mt.substr(Nt.length+1),attr:Et.attr}}}}function zt(mt,Tt){var At=h(Tt,mt).get();if(At!==void 0)return At;var Et=mt.split(".");for(Et.pop();Et.length>1;)if(Et.pop(),(At=h(Tt,Et.join(".")+".uirevision").get())!==void 0)return At;return Tt.uirevision}function pt(mt,Tt){for(var At=0;At<Tt.length;At++)if(Tt[At]._fullInput.uid===mt)return At;return-1}function yt(mt,Tt,At){for(var Et=0;Et<Tt.length;Et++)if(Tt[Et].uid===mt)return Et;return!Tt[At]||Tt[At].uid?-1:At}function wt(mt,Tt){var At=c.isPlainObject(mt),Et=Array.isArray(mt);return At||Et?(At&&c.isPlainObject(Tt)||Et&&Array.isArray(Tt))&&JSON.stringify(mt)===JSON.stringify(Tt):mt===Tt}function St(mt,Tt,At,Et){var Mt,Nt,Ft,Lt=Et.getValObject,Dt=Et.flags,kt=Et.immutable,Wt=Et.inArray,Qt=Et.arrayIndex;function Ht(){var ct=Mt.editType;Wt&&ct.indexOf("arraydraw")!==-1?c.pushUnique(Dt.arrays[Wt],Qt):(R.update(Dt,Mt),ct!=="none"&&Dt.nChanges++,Et.transition&&Mt.anim&&Dt.nChangesAnim++,(H.test(Ft)||$.test(Ft))&&(Dt.rangesAltered[At[0]]=1),J.test(Ft)&&h(Tt,"_inputDomain").set(null),Nt==="datarevision"&&(Dt.newDataRevision=1))}function oe(ct){return ct.valType==="data_array"||ct.arrayOk}for(Nt in mt){if(Dt.calc&&!Et.transition)return;var ce=mt[Nt],pe=Tt[Nt],we=At.concat(Nt);if(Ft=we.join("."),Nt.charAt(0)!=="_"&&typeof ce!="function"&&ce!==pe){if((Nt==="tick0"||Nt==="dtick")&&At[0]!=="geo"){var Le=Tt.tickmode;if(Le==="auto"||Le==="array"||!Le)continue}if((Nt!=="range"||!Tt.autorange)&&(Nt!=="zmin"&&Nt!=="zmax"||Tt.type!=="contourcarpet")&&(Mt=Lt(we))&&(!Mt._compareAsJSON||JSON.stringify(ce)!==JSON.stringify(pe))){var jt,Rt=Mt.valType,te=oe(Mt),ae=Array.isArray(ce),Se=Array.isArray(pe);if(ae&&Se){var ne="_input_"+Nt,ge=mt[ne],xe=Tt[ne];if(Array.isArray(ge)&&ge===xe)continue}if(pe===void 0)te&&ae?Dt.calc=!0:Ht();else if(Mt._isLinkedToArray){var Fe=[],Ae=!1;Wt||(Dt.arrays[Nt]=Fe);var $e=Math.min(ce.length,pe.length),Me=Math.max(ce.length,pe.length);if($e!==Me){if(Mt.editType!=="arraydraw"){Ht();continue}Ae=!0}for(jt=0;jt<$e;jt++)St(ce[jt],pe[jt],we.concat(jt),c.extendFlat({inArray:Nt,arrayIndex:jt},Et));if(Ae)for(jt=$e;jt<Me;jt++)Fe.push(jt)}else!Rt&&c.isPlainObject(ce)?St(ce,pe,we,Et):te?ae&&Se?(kt&&(Dt.calc=!0),(kt||Et.newDataRevision)&&Ht()):ae!==Se?Dt.calc=!0:Ht():ae&&Se&&ce.length===pe.length&&String(ce)===String(pe)||Ht()}}}for(Nt in Tt)if(!(Nt in mt)&&Nt.charAt(0)!=="_"&&typeof Tt[Nt]!="function"){if(oe(Mt=Lt(At.concat(Nt)))&&Array.isArray(Tt[Nt]))return void(Dt.calc=!0);Ht()}}function Ut(mt,Tt){var At;for(At in mt)if(At.charAt(0)!=="_"){var Et=mt[At],Mt=Tt[At];if(Et!==Mt)if(c.isPlainObject(Et)&&c.isPlainObject(Mt)){if(Ut(Et,Mt))return!0}else{if(!Array.isArray(Et)||!Array.isArray(Mt)||Et.length!==Mt.length)return!0;for(var Nt=0;Nt<Et.length;Nt++)if(Et[Nt]!==Mt[Nt]&&(!c.isPlainObject(Et[Nt])||!c.isPlainObject(Mt[Nt])||Ut(Et[Nt],Mt[Nt])))return!0}}}function Gt(mt){var Tt=mt._fullLayout,At=mt.getBoundingClientRect();if(!c.equalDomRects(At,Tt._lastBBox)){var Et=Tt._invTransform=c.inverseTransformMatrix(c.getFullTransformMatrix(mt));Tt._invScaleX=Math.sqrt(Et[0][0]*Et[0][0]+Et[0][1]*Et[0][1]+Et[0][2]*Et[0][2]),Tt._invScaleY=Math.sqrt(Et[1][0]*Et[1][0]+Et[1][1]*Et[1][1]+Et[1][2]*Et[1][2]),Tt._lastBBox=At}}s.animate=function(mt,Tt,At){if(mt=c.getGraphDiv(mt),!c.isPlotDiv(mt))throw new Error("This element is not a Plotly plot: "+mt+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Et=mt._transitionData;Et._frameQueue||(Et._frameQueue=[]);var Mt=(At=v.supplyAnimationDefaults(At)).transition,Nt=At.frame;function Ft(kt){return Array.isArray(Mt)?kt>=Mt.length?Mt[0]:Mt[kt]:Mt}function Lt(kt){return Array.isArray(Nt)?kt>=Nt.length?Nt[0]:Nt[kt]:Nt}function Dt(kt,Wt){var Qt=0;return function(){if(kt&&++Qt===Wt)return kt()}}return Et._frameWaitingCnt===void 0&&(Et._frameWaitingCnt=0),new Promise(function(kt,Wt){function Qt(){mt.emit("plotly_animating"),Et._lastFrameAt=-1/0,Et._timeToNext=0,Et._runningTransitions=0,Et._currentFrame=null;var ne=function(){Et._animationRaf=window.requestAnimationFrame(ne),Date.now()-Et._lastFrameAt>Et._timeToNext&&function(){Et._currentFrame&&Et._currentFrame.onComplete&&Et._currentFrame.onComplete();var ge=Et._currentFrame=Et._frameQueue.shift();if(ge){var xe=ge.name?ge.name.toString():null;mt._fullLayout._currentFrame=xe,Et._lastFrameAt=Date.now(),Et._timeToNext=ge.frameOpts.duration,v.transition(mt,ge.frame.data,ge.frame.layout,P.coerceTraceIndices(mt,ge.frame.traces),ge.frameOpts,ge.transitionOpts).then(function(){ge.onComplete&&ge.onComplete()}),mt.emit("plotly_animatingframe",{name:xe,frame:ge.frame,animation:{frame:ge.frameOpts,transition:ge.transitionOpts}})}else mt.emit("plotly_animated"),window.cancelAnimationFrame(Et._animationRaf),Et._animationRaf=null}()};ne()}var Ht,oe,ce=0;function pe(ne){return Array.isArray(Mt)?ce>=Mt.length?ne.transitionOpts=Mt[ce]:ne.transitionOpts=Mt[0]:ne.transitionOpts=Mt,ce++,ne}var we=[],Le=Tt==null,jt=Array.isArray(Tt);if(Le||jt||!c.isPlainObject(Tt)){if(Le||["string","number"].indexOf(typeof Tt)!==-1)for(Ht=0;Ht<Et._frames.length;Ht++)(oe=Et._frames[Ht])&&(Le||String(oe.group)===String(Tt))&&we.push({type:"byname",name:String(oe.name),data:pe({name:oe.name})});else if(jt)for(Ht=0;Ht<Tt.length;Ht++){var Rt=Tt[Ht];["number","string"].indexOf(typeof Rt)!==-1?(Rt=String(Rt),we.push({type:"byname",name:Rt,data:pe({name:Rt})})):c.isPlainObject(Rt)&&we.push({type:"object",data:pe(c.extendFlat({},Rt))})}}else we.push({type:"object",data:pe(c.extendFlat({},Tt))});for(Ht=0;Ht<we.length;Ht++)if((oe=we[Ht]).type==="byname"&&!Et._frameHash[oe.data.name])return c.warn('animate failure: frame not found: "'+oe.data.name+'"'),void Wt();["next","immediate"].indexOf(At.mode)!==-1&&function(){if(Et._frameQueue.length!==0){for(;Et._frameQueue.length;){var ne=Et._frameQueue.pop();ne.onInterrupt&&ne.onInterrupt()}mt.emit("plotly_animationinterrupted",[])}}(),At.direction==="reverse"&&we.reverse();var te=mt._fullLayout._currentFrame;if(te&&At.fromcurrent){var ae=-1;for(Ht=0;Ht<we.length;Ht++)if((oe=we[Ht]).type==="byname"&&oe.name===te){ae=Ht;break}if(ae>0&&ae<we.length-1){var Se=[];for(Ht=0;Ht<we.length;Ht++)oe=we[Ht],(we[Ht].type!=="byname"||Ht>ae)&&Se.push(oe);we=Se}}we.length>0?function(ne){if(ne.length!==0){for(var ge=0;ge<ne.length;ge++){var xe;xe=ne[ge].type==="byname"?v.computeFrame(mt,ne[ge].name):ne[ge].data;var Fe=Lt(ge),Ae=Ft(ge);Ae.duration=Math.min(Ae.duration,Fe.duration);var $e={frame:xe,name:ne[ge].name,frameOpts:Fe,transitionOpts:Ae};ge===ne.length-1&&($e.onComplete=Dt(kt,2),$e.onInterrupt=Wt),Et._frameQueue.push($e)}At.mode==="immediate"&&(Et._lastFrameAt=-1/0),Et._animationRaf||Qt()}}(we):(mt.emit("plotly_animated"),kt())})},s.addFrames=function(mt,Tt,At){if(mt=c.getGraphDiv(mt),Tt==null)return Promise.resolve();if(!c.isPlotDiv(mt))throw new Error("This element is not a Plotly plot: "+mt+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Et,Mt,Nt,Ft,Lt=mt._transitionData._frames,Dt=mt._transitionData._frameHash;if(!Array.isArray(Tt))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Tt);var kt=Lt.length+2*Tt.length,Wt=[],Qt={};for(Et=Tt.length-1;Et>=0;Et--)if(c.isPlainObject(Tt[Et])){var Ht=Tt[Et].name,oe=(Dt[Ht]||Qt[Ht]||{}).name,ce=Tt[Et].name,pe=Dt[oe]||Qt[oe];oe&&ce&&typeof ce=="number"&&pe&&D<5&&(D++,c.warn('addFrames: overwriting frame "'+(Dt[oe]||Qt[oe]).name+'" with a frame whose name of type "number" also equates to "'+oe+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),D===5&&c.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Qt[Ht]={name:Ht},Wt.push({frame:v.supplyFrameDefaults(Tt[Et]),index:At&&At[Et]!==void 0&&At[Et]!==null?At[Et]:kt+Et})}Wt.sort(function(ne,ge){return ne.index>ge.index?-1:ne.index<ge.index?1:0});var we=[],Le=[],jt=Lt.length;for(Et=Wt.length-1;Et>=0;Et--){if(typeof(Mt=Wt[Et].frame).name=="number"&&c.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Mt.name)for(;Dt[Mt.name="frame "+mt._transitionData._counter++];);if(Dt[Mt.name]){for(Nt=0;Nt<Lt.length&&(Lt[Nt]||{}).name!==Mt.name;Nt++);we.push({type:"replace",index:Nt,value:Mt}),Le.unshift({type:"replace",index:Nt,value:Lt[Nt]})}else Ft=Math.max(0,Math.min(Wt[Et].index,jt)),we.push({type:"insert",index:Ft,value:Mt}),Le.unshift({type:"delete",index:Ft}),jt++}var Rt=v.modifyFrames,te=v.modifyFrames,ae=[mt,Le],Se=[mt,we];return p&&p.add(mt,Rt,ae,te,Se),v.modifyFrames(mt,we)},s.deleteFrames=function(mt,Tt){if(mt=c.getGraphDiv(mt),!c.isPlotDiv(mt))throw new Error("This element is not a Plotly plot: "+mt);var At,Et,Mt=mt._transitionData._frames,Nt=[],Ft=[];if(!Tt)for(Tt=[],At=0;At<Mt.length;At++)Tt.push(At);for((Tt=Tt.slice()).sort(),At=Tt.length-1;At>=0;At--)Et=Tt[At],Nt.push({type:"delete",index:Et}),Ft.unshift({type:"insert",index:Et,value:Mt[Et]});var Lt=v.modifyFrames,Dt=v.modifyFrames,kt=[mt,Ft],Wt=[mt,Nt];return p&&p.add(mt,Lt,kt,Dt,Wt),v.modifyFrames(mt,Nt)},s.addTraces=function mt(Tt,At,Et){Tt=c.getGraphDiv(Tt);var Mt,Nt,Ft=[],Lt=s.deleteTraces,Dt=mt,kt=[Tt,Ft],Wt=[Tt,At];for(function(Qt,Ht,oe){var ce,pe;if(!Array.isArray(Qt.data))throw new Error("gd.data must be an array.");if(Ht===void 0)throw new Error("traces must be defined.");for(Array.isArray(Ht)||(Ht=[Ht]),ce=0;ce<Ht.length;ce++)if(typeof(pe=Ht[ce])!="object"||Array.isArray(pe)||pe===null)throw new Error("all values in traces array must be non-array objects");if(oe===void 0||Array.isArray(oe)||(oe=[oe]),oe!==void 0&&oe.length!==Ht.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(Tt,At,Et),Array.isArray(At)||(At=[At]),At=At.map(function(Qt){return c.extendFlat({},Qt)}),P.cleanData(At),Mt=0;Mt<At.length;Mt++)Tt.data.push(At[Mt]);for(Mt=0;Mt<At.length;Mt++)Ft.push(-At.length+Mt);if(Et===void 0)return Nt=s.redraw(Tt),p.add(Tt,Lt,kt,Dt,Wt),Nt;Array.isArray(Et)||(Et=[Et]);try{Z(Tt,Ft,Et)}catch(Qt){throw Tt.data.splice(Tt.data.length-At.length,At.length),Qt}return p.startSequence(Tt),p.add(Tt,Lt,kt,Dt,Wt),Nt=s.moveTraces(Tt,Ft,Et),p.stopSequence(Tt),Nt},s.deleteTraces=function mt(Tt,At){Tt=c.getGraphDiv(Tt);var Et,Mt,Nt=[],Ft=s.addTraces,Lt=mt,Dt=[Tt,Nt,At],kt=[Tt,At];if(At===void 0)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(At)||(At=[At]),U(Tt,At,"indices"),(At=et(At,Tt.data.length-1)).sort(c.sorterDes),Et=0;Et<At.length;Et+=1)Mt=Tt.data.splice(At[Et],1)[0],Nt.push(Mt);var Wt=s.redraw(Tt);return p.add(Tt,Ft,Dt,Lt,kt),Wt},s.extendTraces=function mt(Tt,At,Et,Mt){var Nt=rt(Tt=c.getGraphDiv(Tt),At,Et,Mt,function(Dt,kt,Wt){var Qt,Ht;if(c.isTypedArray(Dt))if(Wt<0){var oe=new Dt.constructor(0),ce=ft(Dt,kt);Wt<0?(Qt=ce,Ht=oe):(Qt=oe,Ht=ce)}else if(Qt=new Dt.constructor(Wt),Ht=new Dt.constructor(Dt.length+kt.length-Wt),Wt===kt.length)Qt.set(kt),Ht.set(Dt);else if(Wt<kt.length){var pe=kt.length-Wt;Qt.set(kt.subarray(pe)),Ht.set(Dt),Ht.set(kt.subarray(0,pe),Dt.length)}else{var we=Wt-kt.length,Le=Dt.length-we;Qt.set(Dt.subarray(Le)),Qt.set(kt,we),Ht.set(Dt.subarray(0,Le))}else Qt=Dt.concat(kt),Ht=Wt>=0&&Wt<Qt.length?Qt.splice(0,Qt.length-Wt):[];return[Qt,Ht]}),Ft=s.redraw(Tt),Lt=[Tt,Nt.update,Et,Nt.maxPoints];return p.add(Tt,s.prependTraces,Lt,mt,arguments),Ft},s.moveTraces=function mt(Tt,At,Et){var Mt,Nt=[],Ft=[],Lt=mt,Dt=mt,kt=[Tt=c.getGraphDiv(Tt),Et,At],Wt=[Tt,At,Et];if(Z(Tt,At,Et),At=Array.isArray(At)?At:[At],Et===void 0)for(Et=[],Mt=0;Mt<At.length;Mt++)Et.push(-At.length+Mt);for(Et=Array.isArray(Et)?Et:[Et],At=et(At,Tt.data.length-1),Et=et(Et,Tt.data.length-1),Mt=0;Mt<Tt.data.length;Mt++)At.indexOf(Mt)===-1&&Nt.push(Tt.data[Mt]);for(Mt=0;Mt<At.length;Mt++)Ft.push({newIndex:Et[Mt],trace:Tt.data[At[Mt]]});for(Ft.sort(function(Ht,oe){return Ht.newIndex-oe.newIndex}),Mt=0;Mt<Ft.length;Mt+=1)Nt.splice(Ft[Mt].newIndex,0,Ft[Mt].trace);Tt.data=Nt;var Qt=s.redraw(Tt);return p.add(Tt,Lt,kt,Dt,Wt),Qt},s.prependTraces=function mt(Tt,At,Et,Mt){var Nt=rt(Tt=c.getGraphDiv(Tt),At,Et,Mt,function(Dt,kt,Wt){var Qt,Ht;if(c.isTypedArray(Dt))if(Wt<=0){var oe=new Dt.constructor(0),ce=ft(kt,Dt);Wt<0?(Qt=ce,Ht=oe):(Qt=oe,Ht=ce)}else if(Qt=new Dt.constructor(Wt),Ht=new Dt.constructor(Dt.length+kt.length-Wt),Wt===kt.length)Qt.set(kt),Ht.set(Dt);else if(Wt<kt.length){var pe=kt.length-Wt;Qt.set(kt.subarray(0,pe)),Ht.set(kt.subarray(pe)),Ht.set(Dt,pe)}else{var we=Wt-kt.length;Qt.set(kt),Qt.set(Dt.subarray(0,we),kt.length),Ht.set(Dt.subarray(we))}else Qt=kt.concat(Dt),Ht=Wt>=0&&Wt<Qt.length?Qt.splice(Wt,Qt.length):[];return[Qt,Ht]}),Ft=s.redraw(Tt),Lt=[Tt,Nt.update,Et,Nt.maxPoints];return p.add(Tt,s.extendTraces,Lt,mt,arguments),Ft},s.newPlot=function(mt,Tt,At,Et){return mt=c.getGraphDiv(mt),v.cleanPlot([],{},mt._fullData||[],mt._fullLayout||{}),v.purge(mt),s._doPlot(mt,Tt,At,Et)},s._doPlot=function(mt,Tt,At,Et){var Mt;if(mt=c.getGraphDiv(mt),d.init(mt),c.isPlainObject(Tt)){var Nt=Tt;Tt=Nt.data,At=Nt.layout,Et=Nt.config,Mt=Nt.frames}if(d.triggerHandler(mt,"plotly_beforeplot",[Tt,At,Et])===!1)return Promise.reject();Tt||At||c.isPlotDiv(mt)||c.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",mt),q(mt,Et),At||(At={}),l.select(mt).classed("js-plotly-plot",!0),w.makeTester(),Array.isArray(mt._promises)||(mt._promises=[]);var Ft=(mt.data||[]).length===0&&Array.isArray(Tt);Array.isArray(Tt)&&(P.cleanData(Tt),Ft?mt.data=Tt:mt.data.push.apply(mt.data,Tt),mt.empty=!1),mt.layout&&!Ft||(mt.layout=P.cleanLayout(At)),v.supplyDefaults(mt);var Lt=mt._fullLayout,Dt=Lt._has("cartesian");Lt._replotting=!0,(Ft||Lt._shouldCreateBgLayer)&&(function(Le){var jt=l.select(Le),Rt=Le._fullLayout;if(Rt._calcInverseTransform=Gt,Rt._calcInverseTransform(Le),Rt._container=jt.selectAll(".plot-container").data([0]),Rt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Rt._paperdiv=Rt._container.selectAll(".svg-container").data([0]),Rt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Rt._glcontainer=Rt._paperdiv.selectAll(".gl-container").data([{}]),Rt._glcontainer.enter().append("div").classed("gl-container",!0),Rt._paperdiv.selectAll(".main-svg").remove(),Rt._paperdiv.select(".modebar-container").remove(),Rt._paper=Rt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Rt._toppaper=Rt._paperdiv.append("svg").classed("main-svg",!0),Rt._modebardiv=Rt._paperdiv.append("div"),delete Rt._modeBar,Rt._hoverpaper=Rt._paperdiv.append("svg").classed("main-svg",!0),!Rt._uid){var te={};l.selectAll("defs").each(function(){this.id&&(te[this.id.split("-")[1]]=1)}),Rt._uid=c.randstr(te)}Rt._paperdiv.selectAll(".main-svg").attr(C.svgAttrs),Rt._defs=Rt._paper.append("defs").attr("id","defs-"+Rt._uid),Rt._clips=Rt._defs.append("g").classed("clips",!0),Rt._topdefs=Rt._toppaper.append("defs").attr("id","topdefs-"+Rt._uid),Rt._topclips=Rt._topdefs.append("g").classed("clips",!0),Rt._bgLayer=Rt._paper.append("g").classed("bglayer",!0),Rt._draggers=Rt._paper.append("g").classed("draglayer",!0);var ae=Rt._paper.append("g").classed("layer-below",!0);Rt._imageLowerLayer=ae.append("g").classed("imagelayer",!0),Rt._shapeLowerLayer=ae.append("g").classed("shapelayer",!0),Rt._cartesianlayer=Rt._paper.append("g").classed("cartesianlayer",!0),Rt._polarlayer=Rt._paper.append("g").classed("polarlayer",!0),Rt._smithlayer=Rt._paper.append("g").classed("smithlayer",!0),Rt._ternarylayer=Rt._paper.append("g").classed("ternarylayer",!0),Rt._geolayer=Rt._paper.append("g").classed("geolayer",!0),Rt._funnelarealayer=Rt._paper.append("g").classed("funnelarealayer",!0),Rt._pielayer=Rt._paper.append("g").classed("pielayer",!0),Rt._iciclelayer=Rt._paper.append("g").classed("iciclelayer",!0),Rt._treemaplayer=Rt._paper.append("g").classed("treemaplayer",!0),Rt._sunburstlayer=Rt._paper.append("g").classed("sunburstlayer",!0),Rt._indicatorlayer=Rt._toppaper.append("g").classed("indicatorlayer",!0),Rt._glimages=Rt._paper.append("g").classed("glimages",!0);var Se=Rt._toppaper.append("g").classed("layer-above",!0);Rt._imageUpperLayer=Se.append("g").classed("imagelayer",!0),Rt._shapeUpperLayer=Se.append("g").classed("shapelayer",!0),Rt._selectionLayer=Rt._toppaper.append("g").classed("selectionlayer",!0),Rt._infolayer=Rt._toppaper.append("g").classed("infolayer",!0),Rt._menulayer=Rt._toppaper.append("g").classed("menulayer",!0),Rt._zoomlayer=Rt._toppaper.append("g").classed("zoomlayer",!0),Rt._hoverlayer=Rt._hoverpaper.append("g").classed("hoverlayer",!0),Rt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Le.emit("plotly_framework")}(mt),Lt._shouldCreateBgLayer&&delete Lt._shouldCreateBgLayer),w.initGradients(mt),w.initPatterns(mt),Ft&&y.saveShowSpikeInitial(mt);var kt=!mt.calcdata||mt.calcdata.length!==(mt._fullData||[]).length;kt&&v.doCalcdata(mt);for(var Wt=0;Wt<mt.calcdata.length;Wt++)mt.calcdata[Wt][0].trace=mt._fullData[Wt];mt._context.responsive?mt._responsiveChartHandler||(mt._responsiveChartHandler=function(){c.isHidden(mt)||v.resize(mt)},window.addEventListener("resize",mt._responsiveChartHandler)):c.clearResponsive(mt);var Qt=c.extendFlat({},Lt._size),Ht=0;function oe(){if(v.clearAutoMarginIds(mt),F.drawMarginPushers(mt),y.allowAutoMargin(mt),mt._fullLayout.title.text&&mt._fullLayout.title.automargin&&v.allowAutoMargin(mt,"title.automargin"),Lt._has("pie"))for(var Le=mt._fullData,jt=0;jt<Le.length;jt++){var Rt=Le[jt];Rt.type==="pie"&&Rt.automargin&&v.allowAutoMargin(mt,"pie."+Rt.uid+".automargin")}return v.doAutoMargin(mt),v.previousPromises(mt)}function ce(){mt._transitioning||(F.doAutoRangeAndConstraints(mt),Ft&&y.saveRangeInitial(mt),g.getComponentMethod("rangeslider","calcAutorange")(mt))}var pe=[v.previousPromises,function(){if(Mt)return s.addFrames(mt,Mt)},function Le(){for(var jt=Lt._basePlotModules,Rt=0;Rt<jt.length;Rt++)jt[Rt].drawFramework&&jt[Rt].drawFramework(mt);!Lt._glcanvas&&Lt._has("gl")&&(Lt._glcanvas=Lt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(ne){return ne.key}),Lt._glcanvas.enter().append("canvas").attr("class",function(ne){return"gl-canvas gl-canvas-"+ne.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var te=mt._context.plotGlPixelRatio;if(Lt._glcanvas){Lt._glcanvas.attr("width",Lt.width*te).attr("height",Lt.height*te).style("width",Lt.width+"px").style("height",Lt.height+"px");var ae=Lt._glcanvas.data()[0].regl;if(ae&&(Math.floor(Lt.width*te)!==ae._gl.drawingBufferWidth||Math.floor(Lt.height*te)!==ae._gl.drawingBufferHeight)){var Se="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Ht)return c.log(Se+" Clearing graph and plotting again."),v.cleanPlot([],{},mt._fullData,Lt),v.supplyDefaults(mt),Lt=mt._fullLayout,v.doCalcdata(mt),Ht++,Le();c.error(Se)}}return Lt.modebar.orientation==="h"?Lt._modebardiv.style("height",null).style("width","100%"):Lt._modebardiv.style("width",null).style("height",Lt.height+"px"),v.previousPromises(mt)},oe,function(){if(v.didMarginChange(Qt,Lt._size))return c.syncOrAsync([oe,F.layoutStyles],mt)}];Dt&&pe.push(function(){if(kt)return c.syncOrAsync([g.getComponentMethod("shapes","calcAutorange"),g.getComponentMethod("annotations","calcAutorange"),ce],mt);ce()}),pe.push(F.layoutStyles),Dt&&pe.push(function(){return y.draw(mt,Ft?"":"redraw")},function(Le){var jt=Le._fullLayout._insideTickLabelsUpdaterange;if(jt)return Le._fullLayout._insideTickLabelsUpdaterange=void 0,nt(Le,jt).then(function(){y.saveRangeInitial(Le,!0)})}),pe.push(F.drawData,F.finalDraw,S,v.addLinks,v.rehover,v.redrag,v.reselect,v.doAutoMargin,v.previousPromises);var we=c.syncOrAsync(pe,mt);return we&&we.then||(we=Promise.resolve()),we.then(function(){return I(mt),mt})},s.purge=function(mt){var Tt=(mt=c.getGraphDiv(mt))._fullLayout||{},At=mt._fullData||[];return v.cleanPlot([],{},At,Tt),v.purge(mt),d.purge(mt),Tt._container&&Tt._container.remove(),delete mt._context,mt},s.react=function(mt,Tt,At,Et){var Mt,Nt;mt=c.getGraphDiv(mt),P.clearPromiseQueue(mt);var Ft=mt._fullData,Lt=mt._fullLayout;if(c.isPlotDiv(mt)&&Ft&&Lt){if(c.isPlainObject(Tt)){var Dt=Tt;Tt=Dt.data,At=Dt.layout,Et=Dt.config,Mt=Dt.frames}var kt=!1;if(Et){var Wt=c.extendDeep({},mt._context);mt._context=void 0,q(mt,Et),kt=Ut(Wt,mt._context)}mt.data=Tt||[],P.cleanData(mt.data),mt.layout=At||{},P.cleanLayout(mt.layout),function(Me,ct,gt,qt){var Vt,Jt,Xt,ee,re,fe,ye,se,Ge,nn,Oe=qt._preGUI,We=[],je={},_e={};for(Vt in Oe){if(re=It(Vt,xt)){if(Ge=re.head,nn=re.tail,Jt=re.attr||Ge+".uirevision",(ee=(Xt=h(qt,Jt).get())&&zt(Jt,ct))&&ee===Xt){if((fe=Oe[Vt])===null&&(fe=void 0),wt(se=(ye=h(ct,Vt)).get(),fe)){se===void 0&&nn==="autorange"&&We.push(Ge),ye.set(W(h(qt,Vt).get()));continue}if(nn==="autorange"||nn.substr(0,6)==="range["){var he=Oe[Ge+".range[0]"],Pe=Oe[Ge+".range[1]"],an=Oe[Ge+".autorange"];if(an||an===null&&he===null&&Pe===null){if(!(Ge in je)){var tn=h(ct,Ge).get();je[Ge]=tn&&(tn.autorange||tn.autorange!==!1&&(!tn.range||tn.range.length!==2))}if(je[Ge]){ye.set(W(h(qt,Vt).get()));continue}}}}}else c.warn("unrecognized GUI edit: "+Vt);delete Oe[Vt],re&&re.tail.substr(0,6)==="range["&&(_e[re.head]=1)}for(var on=0;on<We.length;on++){var be=We[on];if(_e[be]){var Re=h(ct,be).get();Re&&delete Re.autorange}}var ze=qt._tracePreGUI;for(var qe in ze){var He,Xe=ze[qe],Ye=null;for(Vt in Xe){if(!Ye){var rn=pt(qe,gt);if(rn<0){delete ze[qe];break}var Ue=yt(qe,Me,(He=gt[rn]._fullInput).index);if(Ue<0){delete ze[qe];break}Ye=Me[Ue]}if(re=It(Vt,Pt)){if(re.attr?ee=(Xt=h(qt,re.attr).get())&&zt(re.attr,ct):(Xt=He.uirevision,(ee=Ye.uirevision)===void 0&&(ee=ct.uirevision)),ee&&ee===Xt&&((fe=Xe[Vt])===null&&(fe=void 0),wt(se=(ye=h(Ye,Vt)).get(),fe))){ye.set(W(h(He,Vt).get()));continue}}else c.warn("unrecognized GUI edit: "+Vt+" in trace uid "+qe);delete Xe[Vt]}}}(mt.data,mt.layout,Ft,Lt),v.supplyDefaults(mt,{skipUpdateCalc:!0});var Qt=mt._fullData,Ht=mt._fullLayout,oe=Ht.datarevision===void 0,ce=Ht.transition,pe=function(Me,ct,gt,qt,Vt){var Jt=R.layoutFlags();return Jt.arrays={},Jt.rangesAltered={},Jt.nChanges=0,Jt.nChangesAnim=0,St(ct,gt,[],{getValObject:function(Xt){return m.getLayoutValObject(gt,Xt)},flags:Jt,immutable:qt,transition:Vt,gd:Me}),(Jt.plot||Jt.calc)&&(Jt.layoutReplot=!0),Vt&&Jt.nChanges&&Jt.nChangesAnim&&(Jt.anim=Jt.nChanges===Jt.nChangesAnim?"all":"some"),Jt}(mt,Lt,Ht,oe,ce),we=pe.newDataRevision,Le=function(Me,ct,gt,qt,Vt,Jt){var Xt=ct.length===gt.length;if(!Vt&&!Xt)return{fullReplot:!0,calc:!0};var ee,re,fe=R.traceFlags();fe.arrays={},fe.nChanges=0,fe.nChangesAnim=0;var ye={getValObject:function(Ge){var nn=m.getTraceValObject(re,Ge);return!re._module.animatable&&nn.anim&&(nn.anim=!1),nn},flags:fe,immutable:qt,transition:Vt,newDataRevision:Jt,gd:Me},se={};for(ee=0;ee<ct.length;ee++)if(gt[ee]){if(re=gt[ee]._fullInput,v.hasMakesDataTransform(re)&&(re=gt[ee]),se[re.uid])continue;se[re.uid]=1,St(ct[ee]._fullInput,re,[],ye)}return(fe.calc||fe.plot)&&(fe.fullReplot=!0),Vt&&fe.nChanges&&fe.nChangesAnim&&(fe.anim=fe.nChanges===fe.nChangesAnim&&Xt?"all":"some"),fe}(mt,Ft,Qt,oe,ce,we);if(ot(mt)&&(pe.layoutReplot=!0),Le.calc||pe.calc){mt.calcdata=void 0;for(var jt=Object.getOwnPropertyNames(Ht),Rt=0;Rt<jt.length;Rt++){var te=jt[Rt],ae=te.substring(0,5);if(ae==="xaxis"||ae==="yaxis"){var Se=Ht[te]._emptyCategories;Se&&Se()}}}else v.supplyDefaultsUpdateCalc(mt.calcdata,Qt);var ne=[];if(Mt&&(mt._transitionData={},v.createTransitionData(mt),ne.push(function(){return s.addFrames(mt,Mt)})),Ht.transition&&!kt&&(Le.anim||pe.anim))pe.ticks&&ne.push(F.doTicksRelayout),v.doCalcdata(mt),F.doAutoRangeAndConstraints(mt),ne.push(function(){return v.transitionFromReact(mt,Le,pe,Lt)});else if(Le.fullReplot||pe.layoutReplot||kt)mt._fullLayout._skipDefaults=!0,ne.push(s._doPlot);else{for(var ge in pe.arrays){var xe=pe.arrays[ge];if(xe.length){var Fe=g.getComponentMethod(ge,"drawOne");if(Fe!==c.noop)for(var Ae=0;Ae<xe.length;Ae++)Fe(mt,xe[Ae]);else{var $e=g.getComponentMethod(ge,"draw");if($e===c.noop)throw new Error("cannot draw components: "+ge);$e(mt)}}}ne.push(v.previousPromises),Le.style&&ne.push(F.doTraceStyle),(Le.colorbars||pe.colorbars)&&ne.push(F.doColorBars),pe.legend&&ne.push(F.doLegend),pe.layoutstyle&&ne.push(F.layoutStyles),pe.axrange&&G(ne),pe.ticks&&ne.push(F.doTicksRelayout),pe.modebar&&ne.push(F.doModeBar),pe.camera&&ne.push(F.doCamera),ne.push(I)}ne.push(v.rehover,v.redrag,v.reselect),(Nt=c.syncOrAsync(ne,mt))&&Nt.then||(Nt=Promise.resolve(mt))}else Nt=s.newPlot(mt,Tt,At,Et);return Nt.then(function(){return mt.emit("plotly_react",{data:Tt,layout:At}),mt})},s.redraw=function(mt){if(mt=c.getGraphDiv(mt),!c.isPlotDiv(mt))throw new Error("This element is not a Plotly plot: "+mt);return P.cleanData(mt.data),P.cleanLayout(mt.layout),mt.calcdata=void 0,s._doPlot(mt).then(function(){return mt.emit("plotly_redraw"),mt})},s.relayout=nt,s.restyle=z,s.setPlotConfig=function(mt){return c.extendFlat(A,mt)},s.update=st,s._guiRelayout=ht(nt),s._guiRestyle=ht(z),s._guiUpdate=ht(st),s._storeDirectGUIEdit=function(mt,Tt,At){for(var Et in At)it(Et,h(mt,Et).get(),At[Et],Tt)}},2075:function(a){var s={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},o={};(function l(f,u){for(var c in f){var h=f[c];h.valType?u[c]=h.dflt:(u[c]||(u[c]={}),l(h,u[c]))}})(s,o),a.exports={configAttributes:s,dfltConfig:o}},6281:function(a,s,o){var l=o(3972),f=o(1828),u=o(9012),c=o(820),h=o(1391),d=o(5594),p=o(2075).configAttributes,g=o(962),m=f.extendDeepAll,v=f.isPlainObject,y=f.isArrayOrTypedArray,_=f.nestedProperty,x=f.valObjectMeta,w="_isSubplotObj",E="_isLinkedToArray",S="_deprecated",C=[w,E,"_arrayAttrRegexps",S];function T(N,D,I){if(!N)return!1;if(N._isLinkedToArray){if(A(D[I]))I++;else if(I<D.length)return!1}for(;I<D.length;I++){var B=N[D[I]];if(!v(B)||(N=B,I===D.length-1))break;if(N._isLinkedToArray){if(!A(D[++I]))return!1}else if(N.valType==="info_array"){var j=D[++I];if(!A(j))return!1;var q=N.items;if(Array.isArray(q)){if(j>=q.length)return!1;if(N.dimensions===2){if(I++,D.length===I)return N;var et=D[I];if(!A(et))return!1;N=q[j][et]}else N=q[j]}else N=q}}return N}function A(N){return N===Math.round(N)&&N>=0}function O(){var N,D,I={};for(N in m(I,c),l.subplotsRegistry)if((D=l.subplotsRegistry[N]).layoutAttributes)if(Array.isArray(D.attr))for(var B=0;B<D.attr.length;B++)F(I,D,D.attr[B]);else F(I,D,D.attr==="subplot"?D.name:D.attr);for(N in l.componentsRegistry){var j=(D=l.componentsRegistry[N]).schema;if(j&&(j.subplots||j.layout)){var q=j.subplots;if(q&&q.xaxis&&!q.yaxis)for(var et in q.xaxis)delete I.yaxis[et];delete I.xaxis.shift,delete I.xaxis.autoshift}else D.name==="colorscale"?m(I,D.layoutAttributes):D.layoutAttributes&&R(I,D.layoutAttributes,D.name)}return{layoutAttributes:P(I)}}function P(N){return function(D){s.crawl(D,function(I,B,j){s.isValObject(I)?I.arrayOk!==!0&&I.valType!=="data_array"||(j[B+"src"]={valType:"string",editType:"none"}):v(I)&&(I.role="object")})}(N),function(D){s.crawl(D,function(I,B,j){if(I){var q=I[E];q&&(delete I[E],j[B]={items:{}},j[B].items[q]=I,j[B].role="object")}})}(N),function(D){(function I(B){for(var j in B)if(v(B[j]))I(B[j]);else if(Array.isArray(B[j]))for(var q=0;q<B[j].length;q++)I(B[j][q]);else B[j]instanceof RegExp&&(B[j]=B[j].toString())})(D)}(N),N}function F(N,D,I){var B=_(N,I),j=m({},D.layoutAttributes);j[w]=!0,B.set(j)}function R(N,D,I){var B=_(N,I);B.set(m(B.get()||{},D))}s.IS_SUBPLOT_OBJ=w,s.IS_LINKED_TO_ARRAY=E,s.DEPRECATED=S,s.UNDERSCORE_ATTRS=C,s.get=function(){var N={};l.allTypes.forEach(function(B){N[B]=function(j){var q,et;et=(q=l.modules[j]._module).basePlotModule;var U={type:null},Z=m({},u),rt=m({},q.attributes);s.crawl(rt,function(W,X,it,lt,dt){_(Z,dt).set(void 0),W===void 0&&_(rt,dt).set(void 0)}),m(U,Z),l.traceIs(j,"noOpacity")&&delete U.opacity,l.traceIs(j,"showLegend")||(delete U.showlegend,delete U.legendgroup),l.traceIs(j,"noHover")&&(delete U.hoverinfo,delete U.hoverlabel),q.selectPoints||delete U.selectedpoints,m(U,rt),et.attributes&&m(U,et.attributes),U.type=j;var ft={meta:q.meta||{},categories:q.categories||{},animatable:!!q.animatable,type:j,attributes:P(U)};if(q.layoutAttributes){var z={};m(z,q.layoutAttributes),ft.layoutAttributes=P(z)}return q.animatable||s.crawl(ft,function(W){s.isValObject(W)&&"anim"in W&&delete W.anim}),ft}(B)});var D,I={};return Object.keys(l.transformsRegistry).forEach(function(B){I[B]=function(j){var q=l.transformsRegistry[j],et=m({},q.attributes);return Object.keys(l.componentsRegistry).forEach(function(U){var Z=l.componentsRegistry[U];Z.schema&&Z.schema.transforms&&Z.schema.transforms[j]&&Object.keys(Z.schema.transforms[j]).forEach(function(rt){R(et,Z.schema.transforms[j][rt],rt)})}),{attributes:P(et)}}(B)}),{defs:{valObjects:x,metaKeys:C.concat(["description","role","editType","impliedEdits"]),editType:{traces:g.traces,layout:g.layout},impliedEdits:{}},traces:N,layout:O(),transforms:I,frames:(D={frames:m({},h)},P(D),D.frames),animation:P(d),config:P(p)}},s.crawl=function(N,D,I,B){var j=I||0;B=B||"",Object.keys(N).forEach(function(q){var et=N[q];if(C.indexOf(q)===-1){var U=(B?B+".":"")+q;D(et,q,N,j,U),s.isValObject(et)||v(et)&&q!=="impliedEdits"&&s.crawl(et,D,j+1,U)}})},s.isValObject=function(N){return N&&N.valType!==void 0},s.findArrayAttributes=function(N){var D,I,B=[],j=[],q=[];function et(W,X,it,lt){j=j.slice(0,lt).concat([X]),q=q.slice(0,lt).concat([W&&W._isLinkedToArray]),W&&(W.valType==="data_array"||W.arrayOk===!0)&&(j[lt-1]!=="colorbar"||X!=="ticktext"&&X!=="tickvals")&&U(D,0,"")}function U(W,X,it){var lt=W[j[X]],dt=it+j[X];if(X===j.length-1)y(lt)&&B.push(I+dt);else if(q[X]){if(Array.isArray(lt))for(var nt=0;nt<lt.length;nt++)v(lt[nt])&&U(lt[nt],X+1,dt+"["+nt+"].")}else v(lt)&&U(lt,X+1,dt+".")}D=N,I="",s.crawl(u,et),N._module&&N._module.attributes&&s.crawl(N._module.attributes,et);var Z=N.transforms;if(Z)for(var rt=0;rt<Z.length;rt++){var ft=Z[rt],z=ft._module;z&&(I="transforms["+rt+"].",D=ft,s.crawl(z.attributes,et))}return B},s.getTraceValObject=function(N,D){var I,B,j=D[0],q=1;if(j==="transforms"){if(D.length===1)return u.transforms;var et=N.transforms;if(!Array.isArray(et)||!et.length)return!1;var U=D[1];if(!A(U)||U>=et.length)return!1;B=(I=(l.transformsRegistry[et[U].type]||{}).attributes)&&I[D[2]],q=3}else{var Z=N._module;if(Z||(Z=(l.modules[N.type||u.type.dflt]||{})._module),!Z)return!1;if(!(B=(I=Z.attributes)&&I[j])){var rt=Z.basePlotModule;rt&&rt.attributes&&(B=rt.attributes[j])}B||(B=u[j])}return T(B,D,q)},s.getLayoutValObject=function(N,D){var I=function(B,j){var q,et,U,Z,rt=B._basePlotModules;if(rt){var ft;for(q=0;q<rt.length;q++){if((U=rt[q]).attrRegex&&U.attrRegex.test(j)){if(U.layoutAttrOverrides)return U.layoutAttrOverrides;!ft&&U.layoutAttributes&&(ft=U.layoutAttributes)}var z=U.baseLayoutAttrOverrides;if(z&&j in z)return z[j]}if(ft)return ft}var W=B._modules;if(W){for(q=0;q<W.length;q++)if((Z=W[q].layoutAttributes)&&j in Z)return Z[j]}for(et in l.componentsRegistry){if((U=l.componentsRegistry[et]).name==="colorscale"&&j.indexOf("coloraxis")===0)return U.layoutAttributes[j];if(!U.schema&&j===U.name)return U.layoutAttributes}return j in c&&c[j]}(N,D[0]);return T(I,D,1)}},4467:function(a,s,o){var l=o(1828),f=o(9012),u="templateitemname",c={name:{valType:"string",editType:"none"}};function h(p){return p&&typeof p=="string"}function d(p){var g=p.length-1;return p.charAt(g)!=="s"&&l.warn("bad argument to arrayDefaultKey: "+p),p.substr(0,p.length-1)+"defaults"}c[u]={valType:"string",editType:"calc"},s.templatedArray=function(p,g){return g._isLinkedToArray=p,g.name=c.name,g[u]=c[u],g},s.traceTemplater=function(p){var g,m,v={};for(g in p)m=p[g],Array.isArray(m)&&m.length&&(v[g]=0);return{newTrace:function(y){var _={type:g=l.coerce(y,{},f,"type"),_template:null};if(g in v){m=p[g];var x=v[g]%m.length;v[g]++,_._template=m[x]}return _}}},s.newContainer=function(p,g,m){var v=p._template,y=v&&(v[g]||m&&v[m]);return l.isPlainObject(y)||(y=null),p[g]={_template:y}},s.arrayTemplater=function(p,g,m){var v=p._template,y=v&&v[d(g)],_=v&&v[g];Array.isArray(_)&&_.length||(_=[]);var x={};return{newItem:function(w){var E={name:w.name,_input:w},S=E[u]=w[u];if(!h(S))return E._template=y,E;for(var C=0;C<_.length;C++){var T=_[C];if(T.name===S)return x[S]=1,E._template=T,E}return E[m]=w[m]||!1,E._template=!1,E},defaultItems:function(){for(var w=[],E=0;E<_.length;E++){var S=_[E],C=S.name;if(h(C)&&!x[C]){var T={_template:S,name:C,_input:{_templateitemname:C}};T[u]=S[u],w.push(T),x[C]=1}}return w}}},s.arrayDefaultKey=d,s.arrayEditor=function(p,g,m){var v=(l.nestedProperty(p,g).get()||[]).length,y=m._index,_=y>=v&&(m._input||{})._templateitemname;_&&(y=v);var x,w=g+"["+y+"]";function E(){x={},_&&(x[w]={},x[w][u]=_)}function S(T,A){_?l.nestedProperty(x[w],T).set(A):x[w+"."+T]=A}function C(){var T=x;return E(),T}return E(),{modifyBase:function(T,A){x[T]=A},modifyItem:S,getUpdateObj:C,applyUpdate:function(T,A){T&&S(T,A);var O=C();for(var P in O)l.nestedProperty(p,P).set(O[P])}}}},1549:function(a,s,o){var l=o(9898),f=o(3972),u=o(4875),c=o(1828),h=o(3893),d=o(3306),p=o(7901),g=o(1424),m=o(2998),v=o(4168),y=o(9298),_=o(8783),x=o(9082),w=x.enforce,E=x.clean,S=o(1739).doAutoRange,C="start";function T(R,N,D){for(var I=0;I<D.length;I++){var B=D[I][0],j=D[I][1];if(!(B[0]>=R[1]||B[1]<=R[0])&&j[0]<N[1]&&j[1]>N[0])return!0}return!1}function A(R){var N,D,I,B,j,q,et=R._fullLayout,U=et._size,Z=U.p,rt=y.list(R,"",!0);if(et._paperdiv.style({width:R._context.responsive&&et.autosize&&!R._context._hasZeroWidth&&!R.layout.width?"100%":et.width+"px",height:R._context.responsive&&et.autosize&&!R._context._hasZeroHeight&&!R.layout.height?"100%":et.height+"px"}).selectAll(".main-svg").call(g.setSize,et.width,et.height),R._context.setBackground(R,et.paper_bgcolor),s.drawMainTitle(R),v.manage(R),!et._has("cartesian"))return u.previousPromises(R);function ft(kt,Wt,Qt){var Ht=kt._lw/2;return kt._id.charAt(0)==="x"?Wt?Qt==="top"?Wt._offset-Z-Ht:Wt._offset+Wt._length+Z+Ht:U.t+U.h*(1-(kt.position||0))+Ht%1:Wt?Qt==="right"?Wt._offset+Wt._length+Z+Ht:Wt._offset-Z-Ht:U.l+U.w*(kt.position||0)+Ht%1}for(N=0;N<rt.length;N++){var z=(B=rt[N])._anchorAxis;B._linepositions={},B._lw=g.crispRound(R,B.linewidth,1),B._mainLinePosition=ft(B,z,B.side),B._mainMirrorPosition=B.mirror&&z?ft(B,z,_.OPPOSITE_SIDE[B.side]):null}var W=[],X=[],it=[],lt=p.opacity(et.paper_bgcolor)===1&&p.opacity(et.plot_bgcolor)===1&&et.paper_bgcolor===et.plot_bgcolor;for(D in et._plots)if((I=et._plots[D]).mainplot)I.bg&&I.bg.remove(),I.bg=void 0;else{var dt=I.xaxis.domain,nt=I.yaxis.domain,V=I.plotgroup;if(T(dt,nt,it)){var G=V.node(),H=I.bg=c.ensureSingle(V,"rect","bg");G.insertBefore(H.node(),G.childNodes[0]),X.push(D)}else V.select("rect.bg").remove(),it.push([dt,nt]),lt||(W.push(D),X.push(D))}var $,J,Q,ot,st,ht,xt,Pt,It,zt,pt,yt,wt,St=et._bgLayer.selectAll(".bg").data(W);for(St.enter().append("rect").classed("bg",!0),St.exit().remove(),St.each(function(kt){et._plots[kt].bg=l.select(this)}),N=0;N<X.length;N++)I=et._plots[X[N]],j=I.xaxis,q=I.yaxis,I.bg&&j._offset!==void 0&&q._offset!==void 0&&I.bg.call(g.setRect,j._offset-Z,q._offset-Z,j._length+2*Z,q._length+2*Z).call(p.fill,et.plot_bgcolor).style("stroke-width",0);if(!et._hasOnlyLargeSploms)for(D in et._plots){I=et._plots[D],j=I.xaxis,q=I.yaxis;var Ut,Gt,mt=I.clipId="clip"+et._uid+D+"plot",Tt=c.ensureSingleById(et._clips,"clipPath",mt,function(kt){kt.classed("plotclip",!0).append("rect")});I.clipRect=Tt.select("rect").attr({width:j._length,height:q._length}),g.setTranslate(I.plot,j._offset,q._offset),I._hasClipOnAxisFalse?(Ut=null,Gt=mt):(Ut=mt,Gt=null),g.setClipUrl(I.plot,Ut,R),I.layerClipId=Gt}function At(kt){return"M"+$+","+kt+"H"+J}function Et(kt){return"M"+j._offset+","+kt+"h"+j._length}function Mt(kt){return"M"+kt+","+Pt+"V"+xt}function Nt(kt){return q._shift!==void 0&&(kt+=q._shift),"M"+kt+","+q._offset+"v"+q._length}function Ft(kt,Wt,Qt){if(!kt.showline||D!==kt._mainSubplot)return"";if(!kt._anchorAxis)return Qt(kt._mainLinePosition);var Ht=Wt(kt._mainLinePosition);return kt.mirror&&(Ht+=Wt(kt._mainMirrorPosition)),Ht}for(D in et._plots){I=et._plots[D],j=I.xaxis,q=I.yaxis;var Lt="M0,0";O(j,D)&&(st=F(j,"left",q,rt),$=j._offset-(st?Z+st:0),ht=F(j,"right",q,rt),J=j._offset+j._length+(ht?Z+ht:0),Q=ft(j,q,"bottom"),ot=ft(j,q,"top"),!(wt=!j._anchorAxis||D!==j._mainSubplot)||j.mirror!=="allticks"&&j.mirror!=="all"||(j._linepositions[D]=[Q,ot]),Lt=Ft(j,At,Et),wt&&j.showline&&(j.mirror==="all"||j.mirror==="allticks")&&(Lt+=At(Q)+At(ot)),I.xlines.style("stroke-width",j._lw+"px").call(p.stroke,j.showline?j.linecolor:"rgba(0,0,0,0)")),I.xlines.attr("d",Lt);var Dt="M0,0";O(q,D)&&(pt=F(q,"bottom",j,rt),xt=q._offset+q._length+(pt?Z:0),yt=F(q,"top",j,rt),Pt=q._offset-(yt?Z:0),It=ft(q,j,"left"),zt=ft(q,j,"right"),!(wt=!q._anchorAxis||D!==q._mainSubplot)||q.mirror!=="allticks"&&q.mirror!=="all"||(q._linepositions[D]=[It,zt]),Dt=Ft(q,Mt,Nt),wt&&q.showline&&(q.mirror==="all"||q.mirror==="allticks")&&(Dt+=Mt(It)+Mt(zt)),I.ylines.style("stroke-width",q._lw+"px").call(p.stroke,q.showline?q.linecolor:"rgba(0,0,0,0)")),I.ylines.attr("d",Dt)}return y.makeClipPaths(R),u.previousPromises(R)}function O(R,N){return(R.ticks||R.showline)&&(N===R._mainSubplot||R.mirror==="all"||R.mirror==="allticks")}function P(R,N,D){if(!D.showline||!D._lw)return!1;if(D.mirror==="all"||D.mirror==="allticks")return!0;var I=D._anchorAxis;if(!I)return!1;var B=_.FROM_BL[N];return D.side===N?I.domain[B]===R.domain[B]:D.mirror&&I.domain[1-B]===R.domain[1-B]}function F(R,N,D,I){if(P(R,N,D))return D._lw;for(var B=0;B<I.length;B++){var j=I[B];if(j._mainAxis===D._mainAxis&&P(R,N,j))return j._lw}return 0}s.layoutStyles=function(R){return c.syncOrAsync([u.doAutoMargin,A],R)},s.drawMainTitle=function(R){var N,D=R._fullLayout.title,I=R._fullLayout,B=function(ft){var z=ft.title,W="middle";return c.isRightAnchor(z)?W="end":c.isLeftAnchor(z)&&(W=C),W}(I),j=function(ft){var z=ft.title,W="0em";return c.isTopAnchor(z)?W=_.CAP_SHIFT+"em":c.isMiddleAnchor(z)&&(W=_.MID_SHIFT+"em"),W}(I),q=function(ft,z){var W=ft.title,X=ft._size,it=0;return z!=="0em"&&z?z===_.CAP_SHIFT+"em"&&(it=W.pad.t):it=-W.pad.b,W.y==="auto"?X.t/2:W.yref==="paper"?X.t+X.h-X.h*W.y+it:ft.height-ft.height*W.y+it}(I,j),et=function(ft,z){var W=ft.title,X=ft._size,it=0;return z===C?it=W.pad.l:z==="end"&&(it=-W.pad.r),W.xref==="paper"?X.l+X.w*W.x+it:ft.width*W.x+it}(I,B);if(m.draw(R,"gtitle",{propContainer:I,propName:"title.text",placeholder:I._dfltTitle.plot,attributes:{x:et,y:q,"text-anchor":B,dy:j}}),D.text&&D.automargin){var U=l.selectAll(".gtitle"),Z=g.bBox(U.node()).height,rt=function(ft,z,W){var X=z.y,it=z.yanchor,lt=X>.5?"t":"b",dt=ft._fullLayout.margin[lt],nt=0;return z.yref==="paper"?nt=W+z.pad.t+z.pad.b:z.yref==="container"&&(nt=function(V,G,H,$,J){var Q=0;return H==="middle"&&(Q+=J/2),V==="t"?(H==="top"&&(Q+=J),Q+=$-G*$):(H==="bottom"&&(Q+=J),Q+=G*$),Q}(lt,X,it,ft._fullLayout.height,W)+z.pad.t+z.pad.b),nt>dt?nt:0}(R,D,Z);rt>0&&(function(ft,z,W,X){var it="title.automargin",lt=ft._fullLayout.title,dt=lt.y>.5?"t":"b",nt={x:lt.x,y:lt.y,t:0,b:0},V={};lt.yref==="paper"&&function(G,H,$,J,Q){var ot=H.yref==="paper"?G._fullLayout._size.h:G._fullLayout.height,st=c.isTopAnchor(H)?J:J-Q,ht=$==="b"?ot-st:st;return!(c.isTopAnchor(H)&&$==="t"||c.isBottomAnchor(H)&&$==="b")&&ht<Q}(ft,lt,dt,z,X)?nt[dt]=W:lt.yref==="container"&&(V[dt]=W,ft._fullLayout._reservedMargin[it]=V),u.allowAutoMargin(ft,it),u.autoMargin(ft,it,nt)}(R,q,rt,Z),U.attr({x:et,y:q,"text-anchor":B,dy:(N=D.yanchor,N==="top"?_.CAP_SHIFT+.3+"em":N==="bottom"?"-0.3em":_.MID_SHIFT+"em")}).call(h.positionText,et,q))}},s.doTraceStyle=function(R){var N,D=R.calcdata,I=[];for(N=0;N<D.length;N++){var B=D[N],j=B[0]||{},q=j.trace||{},et=q._module||{},U=et.arraysToCalcdata;U&&U(B,q);var Z=et.editStyle;Z&&I.push({fn:Z,cd0:j})}if(I.length){for(N=0;N<I.length;N++){var rt=I[N];rt.fn(R,rt.cd0)}d(R),s.redrawReglTraces(R)}return u.style(R),f.getComponentMethod("legend","draw")(R),u.previousPromises(R)},s.doColorBars=function(R){return f.getComponentMethod("colorbar","draw")(R),u.previousPromises(R)},s.layoutReplot=function(R){var N=R.layout;return R.layout=void 0,f.call("_doPlot",R,"",N)},s.doLegend=function(R){return f.getComponentMethod("legend","draw")(R),u.previousPromises(R)},s.doTicksRelayout=function(R){return y.draw(R,"redraw"),R._fullLayout._hasOnlyLargeSploms&&(f.subplotsRegistry.splom.updateGrid(R),d(R),s.redrawReglTraces(R)),s.drawMainTitle(R),u.previousPromises(R)},s.doModeBar=function(R){var N=R._fullLayout;v.manage(R);for(var D=0;D<N._basePlotModules.length;D++){var I=N._basePlotModules[D].updateFx;I&&I(R)}return u.previousPromises(R)},s.doCamera=function(R){for(var N=R._fullLayout,D=N._subplots.gl3d,I=0;I<D.length;I++){var B=N[D[I]];B._scene.setViewport(B)}},s.drawData=function(R){var N=R._fullLayout;d(R);for(var D=N._basePlotModules,I=0;I<D.length;I++)D[I].plot(R);return s.redrawReglTraces(R),u.style(R),f.getComponentMethod("selections","draw")(R),f.getComponentMethod("shapes","draw")(R),f.getComponentMethod("annotations","draw")(R),f.getComponentMethod("images","draw")(R),N._replotting=!1,u.previousPromises(R)},s.redrawReglTraces=function(R){var N=R._fullLayout;if(N._has("regl")){var D,I,B=R._fullData,j=[],q=[];for(N._hasOnlyLargeSploms&&N._splomGrid.draw(),D=0;D<B.length;D++){var et=B[D];et.visible===!0&&et._length!==0&&(et.type==="splom"?N._splomScenes[et.uid].draw():et.type==="scattergl"?c.pushUnique(j,et.xaxis+et.yaxis):et.type==="scatterpolargl"&&c.pushUnique(q,et.subplot))}for(D=0;D<j.length;D++)(I=N._plots[j[D]])._scene&&I._scene.draw();for(D=0;D<q.length;D++)(I=N[q[D]]._subplot)._scene&&I._scene.draw()}},s.doAutoRangeAndConstraints=function(R){for(var N,D=y.list(R,"",!0),I={},B=0;B<D.length;B++)if(!I[(N=D[B])._id]){I[N._id]=1,E(R,N),S(R,N);var j=N._matchGroup;if(j)for(var q in j){var et=y.getFromId(R,q);S(R,et,N.range),I[q]=1}}w(R)},s.finalDraw=function(R){f.getComponentMethod("rangeslider","draw")(R),f.getComponentMethod("rangeselector","draw")(R)},s.drawMarginPushers=function(R){f.getComponentMethod("legend","draw")(R),f.getComponentMethod("rangeselector","draw")(R),f.getComponentMethod("sliders","draw")(R),f.getComponentMethod("updatemenus","draw")(R),f.getComponentMethod("colorbar","draw")(R)}},6318:function(a,s,o){var l=o(1828),f=l.isPlainObject,u=o(6281),c=o(4875),h=o(9012),d=o(4467),p=o(2075).dfltConfig;function g(S,C){S=l.extendDeep({},S);var T,A,O=Object.keys(S).sort();function P(I,B,j){if(f(B)&&f(I))g(I,B);else if(Array.isArray(B)&&Array.isArray(I)){var q=d.arrayTemplater({_template:S},j);for(A=0;A<B.length;A++){var et=B[A],U=q.newItem(et)._template;U&&g(U,et)}var Z=q.defaultItems();for(A=0;A<Z.length;A++)B.push(Z[A]._template);for(A=0;A<B.length;A++)delete B[A].templateitemname}}for(T=0;T<O.length;T++){var F=O[T],R=S[F];if(F in C?P(R,C[F],F):C[F]=R,m(F)===F)for(var N in C){var D=m(N);N===D||D!==F||N in S||P(R,C[N],F)}}}function m(S){return S.replace(/[0-9]+$/,"")}function v(S,C,T,A,O){var P=O&&T(O);for(var F in S){var R=S[F],N=x(S,F,A),D=x(S,F,O),I=T(D);if(!I){var B=m(F);B!==F&&(I=T(D=x(S,B,O)))}if(!(P&&P===I||!I||I._noTemplating||I.valType==="data_array"||I.arrayOk&&Array.isArray(R)))if(!I.valType&&f(R))v(R,C,T,N,D);else if(I._isLinkedToArray&&Array.isArray(R))for(var j=!1,q=0,et={},U=0;U<R.length;U++){var Z=R[U];if(f(Z)){var rt=Z.name;if(rt)et[rt]||(v(Z,C,T,x(R,q,N),x(R,q,D)),q++,et[rt]=1);else if(!j){var ft=x(S,d.arrayDefaultKey(F),A),z=x(R,q,N);v(Z,C,T,z,x(R,q,D));var W=l.nestedProperty(C,z);l.nestedProperty(C,ft).set(W.get()),W.set(null),j=!0}}}else l.nestedProperty(C,N).set(R)}}function y(S,C){return u.getLayoutValObject(S,l.nestedProperty({},C).parts)}function _(S,C){return u.getTraceValObject(S,l.nestedProperty({},C).parts)}function x(S,C,T){return T?Array.isArray(S)?T+"["+C+"]":T+"."+C:C}function w(S){for(var C=0;C<S.length;C++)if(f(S[C]))return!0}function E(S){var C;switch(S.code){case"data":C="The template has no key data.";break;case"layout":C="The template has no key layout.";break;case"missing":C=S.path?"There are no templates for item "+S.path+" with name "+S.templateitemname:"There are no templates for trace "+S.index+", of type "+S.traceType+".";break;case"unused":C=S.path?"The template item at "+S.path+" was not used in constructing the plot.":S.dataCount?"Some of the templates of type "+S.traceType+" were not used. The template has "+S.templateCount+" traces, the data only has "+S.dataCount+" of this type.":"The template has "+S.templateCount+" traces of type "+S.traceType+" but there are none in the data.";break;case"reused":C="Some of the templates of type "+S.traceType+" were used more than once. The template has "+S.templateCount+" traces, the data has "+S.dataCount+" of this type."}return S.msg=C,S}s.makeTemplate=function(S){S=l.isPlainObject(S)?S:l.getGraphDiv(S),S=l.extendDeep({_context:p},{data:S.data,layout:S.layout}),c.supplyDefaults(S);var C=S.data||[],T=S.layout||{};T._basePlotModules=S._fullLayout._basePlotModules,T._modules=S._fullLayout._modules;var A={data:{},layout:{}};C.forEach(function(q){var et={};v(q,et,_.bind(null,q));var U=l.coerce(q,{},h,"type"),Z=A.data[U];Z||(Z=A.data[U]=[]),Z.push(et)}),v(T,A.layout,y.bind(null,T)),delete A.layout.template;var O=T.template;if(f(O)){var P,F,R,N,D,I,B=O.layout;f(B)&&g(B,A.layout);var j=O.data;if(f(j)){for(F in A.data)if(R=j[F],Array.isArray(R)){for(I=(D=A.data[F]).length,N=R.length,P=0;P<I;P++)g(R[P%N],D[P]);for(P=I;P<N;P++)D.push(l.extendDeep({},R[P]))}for(F in j)F in A.data||(A.data[F]=l.extendDeep([],j[F]))}}return A},s.validateTemplate=function(S,C){var T=l.extendDeep({},{_context:p,data:S.data,layout:S.layout}),A=T.layout||{};f(C)||(C=A.template||{});var O=C.layout,P=C.data,F=[];T.layout=A,T.layout.template=C,c.supplyDefaults(T);var R=T._fullLayout,N=T._fullData,D={};if(f(O)?(function Z(rt,ft){for(var z in rt)if(z.charAt(0)!=="_"&&f(rt[z])){var W,X=m(z),it=[];for(W=0;W<ft.length;W++)it.push(x(rt,z,ft[W])),X!==z&&it.push(x(rt,X,ft[W]));for(W=0;W<it.length;W++)D[it[W]]=1;Z(rt[z],it)}}(R,["layout"]),function Z(rt,ft){for(var z in rt)if(z.indexOf("defaults")===-1&&f(rt[z])){var W=x(rt,z,ft);D[W]?Z(rt[z],W):F.push({code:"unused",path:W})}}(O,"layout")):F.push({code:"layout"}),f(P)){for(var I,B={},j=0;j<N.length;j++){var q=N[j];B[I=q.type]=(B[I]||0)+1,q._fullInput._template||F.push({code:"missing",index:q._fullInput.index,traceType:I})}for(I in P){var et=P[I].length,U=B[I]||0;et>U?F.push({code:"unused",traceType:I,templateCount:et,dataCount:U}):U>et&&F.push({code:"reused",traceType:I,templateCount:et,dataCount:U})}}else F.push({code:"data"});if(function Z(rt,ft){for(var z in rt)if(z.charAt(0)!=="_"){var W=rt[z],X=x(rt,z,ft);f(W)?(Array.isArray(rt)&&W._template===!1&&W.templateitemname&&F.push({code:"missing",path:X,templateitemname:W.templateitemname}),Z(W,X)):Array.isArray(W)&&w(W)&&Z(W,X)}}({data:N,layout:R},""),F.length)return F.map(E)}},403:function(a,s,o){var l=o(2770),f=o(2391),u=o(4875),c=o(1828),h=o(5095),d=o(5900),p=o(942),g=o(1506).version,m={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};a.exports=function(v,y){var _,x,w,E;function S(U){return!(U in y)||c.validate(y[U],m[U])}if(y=y||{},c.isPlainObject(v)?(_=v.data||[],x=v.layout||{},w=v.config||{},E={}):(v=c.getGraphDiv(v),_=c.extendDeep([],v.data),x=c.extendDeep({},v.layout),w=v._context,E=v._fullLayout||{}),!S("width")&&y.width!==null||!S("height")&&y.height!==null)throw new Error("Height and width should be pixel values.");if(!S("format"))throw new Error("Export format is not "+c.join2(m.format.values,", "," or ")+".");var C={};function T(U,Z){return c.coerce(y,C,m,U,Z)}var A=T("format"),O=T("width"),P=T("height"),F=T("scale"),R=T("setBackground"),N=T("imageDataOnly"),D=document.createElement("div");D.style.position="absolute",D.style.left="-5000px",document.body.appendChild(D);var I=c.extendFlat({},x);O?I.width=O:y.width===null&&l(E.width)&&(I.width=E.width),P?I.height=P:y.height===null&&l(E.height)&&(I.height=E.height);var B=c.extendFlat({},w,{_exportedPlot:!0,staticPlot:!0,setBackground:R}),j=h.getRedrawFunc(D);function q(){return new Promise(function(U){setTimeout(U,h.getDelay(D._fullLayout))})}function et(){return new Promise(function(U,Z){var rt=d(D,A,F),ft=D._fullLayout.width,z=D._fullLayout.height;function W(){f.purge(D),document.body.removeChild(D)}if(A==="full-json"){var X=u.graphJson(D,!1,"keepdata","object",!0,!0);return X.version=g,X=JSON.stringify(X),W(),U(N?X:h.encodeJSON(X))}if(W(),A==="svg")return U(N?rt:h.encodeSVG(rt));var it=document.createElement("canvas");it.id=c.randstr(),p({format:A,width:ft,height:z,scale:F,canvas:it,svg:rt,promise:!0}).then(U).catch(Z)})}return new Promise(function(U,Z){f.newPlot(D,_,I,B).then(j).then(q).then(et).then(function(rt){U(function(ft){return N?ft.replace(h.IMAGE_URL_PREFIX,""):ft}(rt))}).catch(function(rt){Z(rt)})})}},4936:function(a,s,o){var l=o(1828),f=o(4875),u=o(6281),c=o(2075).dfltConfig,h=l.isPlainObject,d=Array.isArray,p=l.isArrayOrTypedArray;function g(S,C,T,A,O,P){P=P||[];for(var F=Object.keys(S),R=0;R<F.length;R++){var N=F[R];if(N!=="transforms"){var D=P.slice();D.push(N);var I=S[N],B=C[N],j=x(T,N),q=(j||{}).valType,et=q==="info_array",U=q==="colorscale",Z=(j||{}).items;if(_(T,N))if(h(I)&&h(B)&&q!=="any")g(I,B,j,A,O,D);else if(et&&d(I)){I.length>B.length&&A.push(y("unused",O,D.concat(B.length)));var rt,ft,z,W,X,it=B.length,lt=Array.isArray(Z);if(lt&&(it=Math.min(it,Z.length)),j.dimensions===2)for(ft=0;ft<it;ft++)if(d(I[ft])){I[ft].length>B[ft].length&&A.push(y("unused",O,D.concat(ft,B[ft].length)));var dt=B[ft].length;for(rt=0;rt<(lt?Math.min(dt,Z[ft].length):dt);rt++)z=lt?Z[ft][rt]:Z,W=I[ft][rt],X=B[ft][rt],l.validate(W,z)?X!==W&&X!==+W&&A.push(y("dynamic",O,D.concat(ft,rt),W,X)):A.push(y("value",O,D.concat(ft,rt),W))}else A.push(y("array",O,D.concat(ft),I[ft]));else for(ft=0;ft<it;ft++)z=lt?Z[ft]:Z,W=I[ft],X=B[ft],l.validate(W,z)?X!==W&&X!==+W&&A.push(y("dynamic",O,D.concat(ft),W,X)):A.push(y("value",O,D.concat(ft),W))}else if(j.items&&!et&&d(I)){var nt,V,G=Z[Object.keys(Z)[0]],H=[];for(nt=0;nt<B.length;nt++){var $=B[nt]._index||nt;if((V=D.slice()).push($),h(I[$])&&h(B[nt])){H.push($);var J=I[$],Q=B[nt];h(J)&&J.visible!==!1&&Q.visible===!1?A.push(y("invisible",O,V)):g(J,Q,G,A,O,V)}}for(nt=0;nt<I.length;nt++)(V=D.slice()).push(nt),h(I[nt])?H.indexOf(nt)===-1&&A.push(y("unused",O,V)):A.push(y("object",O,V,I[nt]))}else!h(I)&&h(B)?A.push(y("object",O,D,I)):p(I)||!p(B)||et||U?N in C?l.validate(I,j)?j.valType==="enumerated"&&(j.coerceNumber&&I!==+B||I!==B)&&A.push(y("dynamic",O,D,I,B)):A.push(y("value",O,D,I)):A.push(y("unused",O,D,I)):A.push(y("array",O,D,I));else A.push(y("schema",O,D))}}return A}a.exports=function(S,C){S===void 0&&(S=[]),C===void 0&&(C={});var T,A,O=u.get(),P=[],F={_context:l.extendFlat({},c)};d(S)?(F.data=l.extendDeep([],S),T=S):(F.data=[],T=[],P.push(y("array","data"))),h(C)?(F.layout=l.extendDeep({},C),A=C):(F.layout={},A={},arguments.length>1&&P.push(y("object","layout"))),f.supplyDefaults(F);for(var R=F._fullData,N=T.length,D=0;D<N;D++){var I=T[D],B=["data",D];if(h(I)){var j=R[D],q=j.type,et=O.traces[q].attributes;et.type={valType:"enumerated",values:[q]},j.visible===!1&&I.visible!==!1&&P.push(y("invisible",B)),g(I,j,et,P,B);var U=I.transforms,Z=j.transforms;if(U){d(U)||P.push(y("array",B,["transforms"])),B.push("transforms");for(var rt=0;rt<U.length;rt++){var ft=["transforms",rt],z=U[rt].type;if(h(U[rt])){var W=O.transforms[z]?O.transforms[z].attributes:{};W.type={valType:"enumerated",values:Object.keys(O.transforms)},g(U[rt],Z[rt],W,P,B,ft)}else P.push(y("object",B,ft))}}}else P.push(y("object",B))}var X=F._fullLayout,it=function(lt,dt){for(var nt=lt.layout.layoutAttributes,V=0;V<dt.length;V++){var G=dt[V],H=lt.traces[G.type],$=H.layoutAttributes;$&&(G.subplot?l.extendFlat(nt[H.attributes.subplot.dflt],$):l.extendFlat(nt,$))}return nt}(O,R);return g(A,X,it,P,"layout"),P.length===0?void 0:P};var m={object:function(S,C){return(S==="layout"&&C===""?"The layout argument":S[0]==="data"&&C===""?"Trace "+S[1]+" in the data argument":v(S)+"key "+C)+" must be linked to an object container"},array:function(S,C){return(S==="data"?"The data argument":v(S)+"key "+C)+" must be linked to an array container"},schema:function(S,C){return v(S)+"key "+C+" is not part of the schema"},unused:function(S,C,T){var A=h(T)?"container":"key";return v(S)+A+" "+C+" did not get coerced"},dynamic:function(S,C,T,A){return[v(S)+"key",C,"(set to '"+T+"')","got reset to","'"+A+"'","during defaults."].join(" ")},invisible:function(S,C){return(C?v(S)+"item "+C:"Trace "+S[1])+" got defaulted to be not visible"},value:function(S,C,T){return[v(S)+"key "+C,"is set to an invalid value ("+T+")"].join(" ")}};function v(S){return d(S)?"In data trace "+S[1]+", ":"In "+S+", "}function y(S,C,T,A,O){var P,F;T=T||"",d(C)?(P=C[0],F=C[1]):(P=C,F=null);var R=function(D){if(!d(D))return String(D);for(var I="",B=0;B<D.length;B++){var j=D[B];typeof j=="number"?I=I.substr(0,I.length-1)+"["+j+"]":I+=j,B<D.length-1&&(I+=".")}return I}(T),N=m[S](C,R,A,O);return l.log(N),{code:S,container:P,trace:F,path:T,astr:R,msg:N}}function _(S,C){var T=E(C),A=T.keyMinusId,O=T.id;return!!(A in S&&S[A]._isSubplotObj&&O)||C in S}function x(S,C){return C in S?S[C]:S[E(C).keyMinusId]}var w=l.counterRegex("([a-z]+)");function E(S){var C=S.match(w);return{keyMinusId:C&&C[1],id:C&&C[2]}}},5594:function(a){a.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},5501:function(a,s,o){var l=o(1828),f=o(4467);a.exports=function(u,c,h){var d,p,g=h.name,m=h.inclusionAttr||"visible",v=c[g],y=l.isArrayOrTypedArray(u[g])?u[g]:[],_=c[g]=[],x=f.arrayTemplater(c,g,m);for(d=0;d<y.length;d++){var w=y[d];l.isPlainObject(w)?p=x.newItem(w):(p=x.newItem({}))[m]=!1,p._index=d,p[m]!==!1&&h.handleItemDefaults(w,p,c,h),_.push(p)}var E=x.defaultItems();for(d=0;d<E.length;d++)(p=E[d])._index=_.length,h.handleItemDefaults({},p,c,h,{}),_.push(p);if(l.isArrayOrTypedArray(v)){var S=Math.min(v.length,_.length);for(d=0;d<S;d++)l.relinkPrivateKeys(_[d],v[d])}return _}},9012:function(a,s,o){var l=o(1940),f=o(7914);a.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:l({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:f.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},2973:function(a,s,o){var l=o(2770),f=o(1828),u=f.dateTime2ms,c=f.incrementMonth,h=o(606).ONEAVGMONTH;a.exports=function(d,p,g,m){if(p.type!=="date")return{vals:m};var v=d[g+"periodalignment"];if(!v)return{vals:m};var y,_=d[g+"period"];if(l(_)){if((_=+_)<=0)return{vals:m}}else if(typeof _=="string"&&_.charAt(0)==="M"){var x=+_.substring(1);if(!(x>0&&Math.round(x)===x))return{vals:m};y=x}for(var w=p.calendar,E=v==="start",S=v==="end",C=d[g+"period0"],T=u(C,w)||0,A=[],O=[],P=[],F=m.length,R=0;R<F;R++){var N,D,I,B=m[R];if(y){for(N=Math.round((B-T)/(y*h)),I=c(T,y*N,w);I>B;)I=c(I,-y,w);for(;I<=B;)I=c(I,y,w);D=c(I,-y,w)}else{for(I=T+(N=Math.round((B-T)/_))*_;I>B;)I-=_;for(;I<=B;)I+=_;D=I-_}A[R]=E?D:S?I:(D+I)/2,O[R]=D,P[R]=I}return{vals:A,starts:O,ends:P}}},9502:function(a){a.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},1739:function(a,s,o){var l=o(9898),f=o(2770),u=o(1828),c=o(606).FP_SAFE,h=o(3972),d=o(1424),p=o(1675),g=p.getFromId,m=p.isLinked;function v(R,N){var D,I,B=[],j=R._fullLayout,q=_(j,N,0),et=_(j,N,1),U=w(R,N),Z=U.min,rt=U.max;if(Z.length===0||rt.length===0)return u.simpleMap(N.range,N.r2l);var ft=Z[0].val,z=rt[0].val;for(D=1;D<Z.length&&ft===z;D++)ft=Math.min(ft,Z[D].val);for(D=1;D<rt.length&&ft===z;D++)z=Math.max(z,rt[D].val);var W=N.autorange,X=W==="reversed"||W==="min reversed"||W==="max reversed";if(!X&&N.range){var it=u.simpleMap(N.range,N.r2l);X=it[1]<it[0]}N.autorange==="reversed"&&(N.autorange=!0);var lt,dt,nt,V,G,H,$=N.rangemode,J=$==="tozero",Q=$==="nonnegative",ot=N._length,st=ot/10,ht=0;for(D=0;D<Z.length;D++)for(lt=Z[D],I=0;I<rt.length;I++)(H=(dt=rt[I]).val-lt.val-y(N,lt.val,dt.val))>0&&((G=ot-q(lt)-et(dt))>st?H/G>ht&&(nt=lt,V=dt,ht=H/G):H/ot>ht&&(nt={val:lt.val,nopad:1},V={val:dt.val,nopad:1},ht=H/ot));if(ft===z){var xt=ft-1,Pt=ft+1;if(J)if(ft===0)B=[0,1];else{var It=(ft>0?rt:Z).reduce(function(pt,yt){return Math.max(pt,et(yt))},0),zt=ft/(1-Math.min(.5,It/ot));B=ft>0?[0,zt]:[zt,0]}else B=Q?[Math.max(0,xt),Math.max(1,Pt)]:[xt,Pt]}else J?(nt.val>=0&&(nt={val:0,nopad:1}),V.val<=0&&(V={val:0,nopad:1})):Q&&(nt.val-ht*q(nt)<0&&(nt={val:0,nopad:1}),V.val<=0&&(V={val:1,nopad:1})),ht=(V.val-nt.val-y(N,lt.val,dt.val))/(ot-q(nt)-et(V)),B=[nt.val-ht*q(nt),V.val+ht*et(V)];return B=F(B,N),N.limitRange&&N.limitRange(),X&&B.reverse(),u.simpleMap(B,N.l2r||Number)}function y(R,N,D){var I=0;if(R.rangebreaks)for(var B=R.locateBreaks(N,D),j=0;j<B.length;j++){var q=B[j];I+=q.max-q.min}return I}function _(R,N,D){var I=.05*N._length,B=N._anchorAxis||{};if((N.ticklabelposition||"").indexOf("inside")!==-1||(B.ticklabelposition||"").indexOf("inside")!==-1){var j=N.isReversed();if(!j){var q=u.simpleMap(N.range,N.r2l);j=q[1]<q[0]}j&&(D=!D)}var et=0;return m(R,N._id)||(et=function(U,Z,rt){var ft=0,z=Z._id.charAt(0)==="x";for(var W in U._plots){var X=U._plots[W];if(Z._id===X.xaxis._id||Z._id===X.yaxis._id){var it=(z?X.yaxis:X.xaxis)||{};if((it.ticklabelposition||"").indexOf("inside")!==-1&&(!rt&&(it.side==="left"||it.side==="bottom")||rt&&(it.side==="top"||it.side==="right"))){if(it._vals){var lt=u.deg2rad(it._tickAngles[it._id+"tick"]||0),dt=Math.abs(Math.cos(lt)),nt=Math.abs(Math.sin(lt));if(!it._vals[0].bb){var V=it._id+"tick";it._selections[V].each(function(Q){var ot=l.select(this);ot.select(".text-math-group").empty()&&(Q.bb=d.bBox(ot.node()))})}for(var G=0;G<it._vals.length;G++){var H=it._vals[G].bb;if(H){var $=2*x+H.width,J=2*x+H.height;ft=Math.max(ft,z?Math.max($*dt,J*nt):Math.max(J*dt,$*nt))}}}it.ticks==="inside"&&it.ticklabelposition==="inside"&&(ft+=it.ticklen||0)}}}return ft}(R,N,D)),I=Math.max(et,I),N.constrain==="domain"&&N._inputDomain&&(I*=(N._inputDomain[1]-N._inputDomain[0])/(N.domain[1]-N.domain[0])),function(U){return U.nopad?0:U.pad+(U.extrapad?I:et)}}a.exports={applyAutorangeOptions:F,getAutoRange:v,makePadFn:_,doAutoRange:function(R,N,D){if(N.setScale(),N.autorange){N.range=D?D.slice():v(R,N),N._r=N.range.slice(),N._rl=u.simpleMap(N._r,N.r2l);var I=N._input,B={};B[N._attr+".range"]=N.range,B[N._attr+".autorange"]=N.autorange,h.call("_storeDirectGUIEdit",R.layout,R._fullLayout._preGUI,B),I.range=N.range.slice(),I.autorange=N.autorange}var j=N._anchorAxis;if(j&&j.rangeslider){var q=j.rangeslider[N._name];q&&q.rangemode==="auto"&&(q.range=v(R,N)),j._input.rangeslider[N._name]=u.extendFlat({},q)}},findExtremes:function(R,N,D){D||(D={}),R._m||R.setScale();var I,B,j,q,et,U,Z,rt,ft,z=[],W=[],X=N.length,it=D.padded||!1,lt=D.tozero&&(R.type==="linear"||R.type==="-"),dt=R.type==="log",nt=!1,V=D.vpadLinearized||!1;function G(xt){if(Array.isArray(xt))return nt=!0,function(It){return Math.max(Number(xt[It]||0),0)};var Pt=Math.max(Number(xt||0),0);return function(){return Pt}}var H=G((R._m>0?D.ppadplus:D.ppadminus)||D.ppad||0),$=G((R._m>0?D.ppadminus:D.ppadplus)||D.ppad||0),J=G(D.vpadplus||D.vpad),Q=G(D.vpadminus||D.vpad);if(!nt){if(rt=1/0,ft=-1/0,dt)for(I=0;I<X;I++)(B=N[I])<rt&&B>0&&(rt=B),B>ft&&B<c&&(ft=B);else for(I=0;I<X;I++)(B=N[I])<rt&&B>-c&&(rt=B),B>ft&&B<c&&(ft=B);N=[rt,ft],X=2}var ot={tozero:lt,extrapad:it};function st(xt){j=N[xt],f(j)&&(U=H(xt),Z=$(xt),V?(q=R.c2l(j)-Q(xt),et=R.c2l(j)+J(xt)):(rt=j-Q(xt),ft=j+J(xt),dt&&rt<ft/10&&(rt=ft/10),q=R.c2l(rt),et=R.c2l(ft)),lt&&(q=Math.min(0,q),et=Math.max(0,et)),T(q)&&E(z,q,Z,ot),T(et)&&S(W,et,U,ot))}var ht=Math.min(6,X);for(I=0;I<ht;I++)st(I);for(I=X-1;I>=ht;I--)st(I);return{min:z,max:W,opts:D}},concatExtremes:w};var x=3;function w(R,N,D){var I,B,j,q=N._id,et=R._fullData,U=R._fullLayout,Z=[],rt=[];function ft(lt,dt){for(I=0;I<dt.length;I++){var nt=lt[dt[I]],V=(nt._extremes||{})[q];if(nt.visible===!0&&V){for(B=0;B<V.min.length;B++)j=V.min[B],E(Z,j.val,j.pad,{extrapad:j.extrapad});for(B=0;B<V.max.length;B++)j=V.max[B],S(rt,j.val,j.pad,{extrapad:j.extrapad})}}}if(ft(et,N._traceIndices),ft(U.annotations||[],N._annIndices||[]),ft(U.shapes||[],N._shapeIndices||[]),N._matchGroup&&!D){for(var z in N._matchGroup)if(z!==N._id){var W=g(R,z),X=w(R,W,!0),it=N._length/W._length;for(B=0;B<X.min.length;B++)j=X.min[B],E(Z,j.val,j.pad*it,{extrapad:j.extrapad});for(B=0;B<X.max.length;B++)j=X.max[B],S(rt,j.val,j.pad*it,{extrapad:j.extrapad})}}return{min:Z,max:rt}}function E(R,N,D,I){C(R,N,D,I,A)}function S(R,N,D,I){C(R,N,D,I,O)}function C(R,N,D,I,B){for(var j=I.tozero,q=I.extrapad,et=!0,U=0;U<R.length&&et;U++){var Z=R[U];if(B(Z.val,N)&&Z.pad>=D&&(Z.extrapad||!q)){et=!1;break}B(N,Z.val)&&Z.pad<=D&&(q||!Z.extrapad)&&(R.splice(U,1),U--)}if(et){var rt=j&&N===0;R.push({val:N,pad:rt?0:D,extrapad:!rt&&q})}}function T(R){return f(R)&&Math.abs(R)<c}function A(R,N){return R<=N}function O(R,N){return R>=N}function P(R,N,D){return N===void 0||D===void 0||(N=R.d2l(N))<R.d2l(D)}function F(R,N){if(!N||!N.autorangeoptions)return R;var D=R[0],I=R[1],B=N.autorangeoptions.include;if(B!==void 0){var j=N.d2l(D),q=N.d2l(I);u.isArrayOrTypedArray(B)||(B=[B]);for(var et=0;et<B.length;et++){var U=N.d2l(B[et]);j>=U&&(j=U,D=U),q<=U&&(q=U,I=U)}}return D=function(Z,rt){var ft=rt.autorangeoptions;return ft&&ft.minallowed!==void 0&&P(rt,ft.minallowed,ft.maxallowed)?ft.minallowed:ft&&ft.clipmin!==void 0&&P(rt,ft.clipmin,ft.clipmax)?Math.max(Z,rt.d2l(ft.clipmin)):Z}(D,N),I=function(Z,rt){var ft=rt.autorangeoptions;return ft&&ft.maxallowed!==void 0&&P(rt,ft.minallowed,ft.maxallowed)?ft.maxallowed:ft&&ft.clipmax!==void 0&&P(rt,ft.clipmin,ft.clipmax)?Math.min(Z,rt.d2l(ft.clipmax)):Z}(I,N),[D,I]}},3074:function(a){a.exports=function(s,o,l){var f,u;if(l){var c=o==="reversed"||o==="min reversed"||o==="max reversed";f=l[c?1:0],u=l[c?0:1]}var h=s("autorangeoptions.minallowed",u===null?f:void 0),d=s("autorangeoptions.maxallowed",f===null?u:void 0);h===void 0&&s("autorangeoptions.clipmin"),d===void 0&&s("autorangeoptions.clipmax"),s("autorangeoptions.include")}},9298:function(a,s,o){var l=o(9898),f=o(2770),u=o(4875),c=o(3972),h=o(1828),d=h.strTranslate,p=o(3893),g=o(2998),m=o(7901),v=o(1424),y=o(3838),_=o(6287),x=o(606),w=x.ONEMAXYEAR,E=x.ONEAVGYEAR,S=x.ONEMINYEAR,C=x.ONEMAXQUARTER,T=x.ONEAVGQUARTER,A=x.ONEMINQUARTER,O=x.ONEMAXMONTH,P=x.ONEAVGMONTH,F=x.ONEMINMONTH,R=x.ONEWEEK,N=x.ONEDAY,D=N/2,I=x.ONEHOUR,B=x.ONEMIN,j=x.ONESEC,q=x.MINUS_SIGN,et=x.BADNUM,U={K:"zeroline"},Z={K:"gridline",L:"path"},rt={K:"minor-gridline",L:"path"},ft={K:"tick",L:"path"},z={K:"tick",L:"text"},W={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},X=o(8783),it=X.MID_SHIFT,lt=X.CAP_SHIFT,dt=X.LINE_SPACING,nt=X.OPPOSITE_SIDE,V=a.exports={};V.setConvert=o(1994);var G=o(4322),H=o(1675),$=H.idSort,J=H.isLinked;V.id2name=H.id2name,V.name2id=H.name2id,V.cleanId=H.cleanId,V.list=H.list,V.listIds=H.listIds,V.getFromId=H.getFromId,V.getFromTrace=H.getFromTrace;var Q=o(1739);V.getAutoRange=Q.getAutoRange,V.findExtremes=Q.findExtremes;var ot=1e-4;function st(ct){var gt=(ct[1]-ct[0])*ot;return[ct[0]-gt,ct[1]+gt]}V.coerceRef=function(ct,gt,qt,Vt,Jt,Xt){var ee=Vt.charAt(Vt.length-1),re=qt._fullLayout._subplots[ee+"axis"],fe=Vt+"ref",ye={};return Jt||(Jt=re[0]||(typeof Xt=="string"?Xt:Xt[0])),Xt||(Xt=Jt),re=re.concat(re.map(function(se){return se+" domain"})),ye[fe]={valType:"enumerated",values:re.concat(Xt?typeof Xt=="string"?[Xt]:Xt:[]),dflt:Jt},h.coerce(ct,gt,ye,fe)},V.getRefType=function(ct){return ct===void 0?ct:ct==="paper"?"paper":ct==="pixel"?"pixel":/( domain)$/.test(ct)?"domain":"range"},V.coercePosition=function(ct,gt,qt,Vt,Jt,Xt){var ee,re;if(V.getRefType(Vt)!=="range")ee=h.ensureNumber,re=qt(Jt,Xt);else{var fe=V.getFromId(gt,Vt);re=qt(Jt,Xt=fe.fraction2r(Xt)),ee=fe.cleanPos}ct[Jt]=ee(re)},V.cleanPosition=function(ct,gt,qt){return(qt==="paper"||qt==="pixel"?h.ensureNumber:V.getFromId(gt,qt).cleanPos)(ct)},V.redrawComponents=function(ct,gt){gt=gt||V.listIds(ct);var qt=ct._fullLayout;function Vt(Jt,Xt,ee,re){for(var fe=c.getComponentMethod(Jt,Xt),ye={},se=0;se<gt.length;se++)for(var Ge=qt[V.id2name(gt[se])][ee],nn=0;nn<Ge.length;nn++){var Oe=Ge[nn];if(!ye[Oe]&&(fe(ct,Oe),ye[Oe]=1,re))return}}Vt("annotations","drawOne","_annIndices"),Vt("shapes","drawOne","_shapeIndices"),Vt("images","draw","_imgIndices",!0),Vt("selections","drawOne","_selectionIndices")};var ht=V.getDataConversions=function(ct,gt,qt,Vt){var Jt,Xt=qt==="x"||qt==="y"||qt==="z"?qt:Vt;if(Array.isArray(Xt)){if(Jt={type:G(Vt,void 0,{autotypenumbers:ct._fullLayout.autotypenumbers}),_categories:[]},V.setConvert(Jt),Jt.type==="category")for(var ee=0;ee<Vt.length;ee++)Jt.d2c(Vt[ee])}else Jt=V.getFromTrace(ct,gt,Xt);return Jt?{d2c:Jt.d2c,c2d:Jt.c2d}:Xt==="ids"?{d2c:Pt,c2d:Pt}:{d2c:xt,c2d:xt}};function xt(ct){return+ct}function Pt(ct){return String(ct)}function It(ct,gt){return Math.abs((ct/gt+.5)%1-.5)<.001}function zt(ct,gt){return Math.abs(ct/gt-1)<.001}function pt(ct){return+ct.substring(1)}function yt(ct,gt){return ct.rangebreaks&&(gt=gt.filter(function(qt){return ct.maskBreaks(qt.x)!==et})),gt}function wt(ct){var gt=ct._mainAxis,qt=[];if(gt._vals){for(var Vt=0;Vt<gt._vals.length;Vt++)if(!gt._vals[Vt].noTick){var Jt=gt.l2p(gt._vals[Vt].x),Xt=ct.p2l(Jt),ee=V.tickText(ct,Xt);gt._vals[Vt].minor&&(ee.minor=!0,ee.text=""),qt.push(ee)}}return yt(ct,qt)}function St(ct){var gt=st(h.simpleMap(ct.range,ct.r2l)),qt=Math.min(gt[0],gt[1]),Vt=Math.max(gt[0],gt[1]),Jt=ct.type==="category"?ct.d2l_noadd:ct.d2l;ct.type==="log"&&String(ct.dtick).charAt(0)!=="L"&&(ct.dtick="L"+Math.pow(10,Math.floor(Math.min(ct.range[0],ct.range[1]))-1));for(var Xt=[],ee=0;ee<=1;ee++)if(!ee||ct.minor){var re=ee?ct.minor.tickvals:ct.tickvals,fe=ee?[]:ct.ticktext;if(re){Array.isArray(fe)||(fe=[]);for(var ye=0;ye<re.length;ye++){var se=Jt(re[ye]);if(se>qt&&se<Vt){var Ge=fe[ye]===void 0?V.tickText(ct,se):Lt(ct,se,String(fe[ye]));ee&&(Ge.minor=!0,Ge.text=""),Xt.push(Ge)}}}}return yt(ct,Xt)}V.getDataToCoordFunc=function(ct,gt,qt,Vt){return ht(ct,gt,qt,Vt).d2c},V.counterLetter=function(ct){var gt=ct.charAt(0);return gt==="x"?"y":gt==="y"?"x":void 0},V.minDtick=function(ct,gt,qt,Vt){["log","category","multicategory"].indexOf(ct.type)===-1&&Vt?ct._minDtick===void 0?(ct._minDtick=gt,ct._forceTick0=qt):ct._minDtick&&((ct._minDtick/gt+1e-6)%1<2e-6&&((qt-ct._forceTick0)/gt%1+1.000001)%1<2e-6?(ct._minDtick=gt,ct._forceTick0=qt):((gt/ct._minDtick+1e-6)%1>2e-6||((qt-ct._forceTick0)/ct._minDtick%1+1.000001)%1>2e-6)&&(ct._minDtick=0)):ct._minDtick=0},V.saveRangeInitial=function(ct,gt){for(var qt=V.list(ct,"",!0),Vt=!1,Jt=0;Jt<qt.length;Jt++){var Xt=qt[Jt],ee=Xt._rangeInitial0===void 0&&Xt._rangeInitial1===void 0,re=ee||Xt.range[0]!==Xt._rangeInitial0||Xt.range[1]!==Xt._rangeInitial1,fe=Xt.autorange;(ee&&fe!==!0||gt&&re)&&(Xt._rangeInitial0=fe==="min"||fe==="max reversed"?void 0:Xt.range[0],Xt._rangeInitial1=fe==="max"||fe==="min reversed"?void 0:Xt.range[1],Xt._autorangeInitial=fe,Vt=!0)}return Vt},V.saveShowSpikeInitial=function(ct,gt){for(var qt=V.list(ct,"",!0),Vt=!1,Jt="on",Xt=0;Xt<qt.length;Xt++){var ee=qt[Xt],re=ee._showSpikeInitial===void 0,fe=re||ee.showspikes!==ee._showspikes;(re||gt&&fe)&&(ee._showSpikeInitial=ee.showspikes,Vt=!0),Jt!=="on"||ee.showspikes||(Jt="off")}return ct._fullLayout._cartesianSpikesEnabled=Jt,Vt},V.autoBin=function(ct,gt,qt,Vt,Jt,Xt){var ee,re=h.aggNums(Math.min,null,ct),fe=h.aggNums(Math.max,null,ct);if(gt.type==="category"||gt.type==="multicategory")return{start:re-.5,end:fe+.5,size:Math.max(1,Math.round(Xt)||1),_dataSpan:fe-re};if(Jt||(Jt=gt.calendar),ee=gt.type==="log"?{type:"linear",range:[re,fe]}:{type:gt.type,range:h.simpleMap([re,fe],gt.c2r,0,Jt),calendar:Jt},V.setConvert(ee),Xt=Xt&&_.dtick(Xt,ee.type))ee.dtick=Xt,ee.tick0=_.tick0(void 0,ee.type,Jt);else{var ye;if(qt)ye=(fe-re)/qt;else{var se=h.distinctVals(ct),Ge=Math.pow(10,Math.floor(Math.log(se.minDiff)/Math.LN10)),nn=Ge*h.roundUp(se.minDiff/Ge,[.9,1.9,4.9,9.9],!0);ye=Math.max(nn,2*h.stdev(ct)/Math.pow(ct.length,Vt?.25:.4)),f(ye)||(ye=1)}V.autoTicks(ee,ye)}var Oe,We=ee.dtick,je=V.tickIncrement(V.tickFirst(ee),We,"reverse",Jt);if(typeof We=="number")je=function(_e,he,Pe,an,tn){var on=0,be=0,Re=0,ze=0;function qe(rn){return(1+100*(rn-_e)/Pe.dtick)%100<2}for(var He=0;He<he.length;He++)he[He]%1==0?Re++:f(he[He])||ze++,qe(he[He])&&on++,qe(he[He]+Pe.dtick/2)&&be++;var Xe=he.length-ze;if(Re===Xe&&Pe.type!=="date")Pe.dtick<1?_e=an-.5*Pe.dtick:(_e-=.5)+Pe.dtick<an&&(_e+=Pe.dtick);else if(be<.1*Xe&&(on>.3*Xe||qe(an)||qe(tn))){var Ye=Pe.dtick/2;_e+=_e+Ye<an?Ye:-Ye}return _e}(je,ct,ee,re,fe),Oe=je+(1+Math.floor((fe-je)/We))*We;else for(ee.dtick.charAt(0)==="M"&&(je=function(_e,he,Pe,an,tn){var on=h.findExactDates(he,tn);if(on.exactDays>.8){var be=Number(Pe.substr(1));on.exactYears>.8&&be%12==0?_e=V.tickIncrement(_e,"M6","reverse")+1.5*N:on.exactMonths>.8?_e=V.tickIncrement(_e,"M1","reverse")+15.5*N:_e-=D;var Re=V.tickIncrement(_e,Pe);if(Re<=an)return Re}return _e}(je,ct,We,re,Jt)),Oe=je;Oe<=fe;)Oe=V.tickIncrement(Oe,We,!1,Jt);return{start:gt.c2r(je,0,Jt),end:gt.c2r(Oe,0,Jt),size:We,_dataSpan:fe-re}},V.prepMinorTicks=function(ct,gt,qt){if(!gt.minor.dtick){delete ct.dtick;var Vt,Jt=gt.dtick&&f(gt._tmin);if(Jt){var Xt=V.tickIncrement(gt._tmin,gt.dtick,!0);Vt=[gt._tmin,.99*Xt+.01*gt._tmin]}else{var ee=h.simpleMap(gt.range,gt.r2l);Vt=[ee[0],.8*ee[0]+.2*ee[1]]}if(ct.range=h.simpleMap(Vt,gt.l2r),ct._isMinor=!0,V.prepTicks(ct,qt),Jt){var re=f(gt.dtick),fe=f(ct.dtick),ye=re?gt.dtick:+gt.dtick.substring(1),se=fe?ct.dtick:+ct.dtick.substring(1);re&&fe?It(ye,se)?ye===2*R&&se===2*N&&(ct.dtick=R):ye===2*R&&se===3*N?ct.dtick=R:ye!==R||(gt._input.minor||{}).nticks?zt(ye/se,2.5)?ct.dtick=ye/2:ct.dtick=ye:ct.dtick=N:String(gt.dtick).charAt(0)==="M"?fe?ct.dtick="M1":It(ye,se)?ye>=12&&se===2&&(ct.dtick="M3"):ct.dtick=gt.dtick:String(ct.dtick).charAt(0)==="L"?String(gt.dtick).charAt(0)==="L"?It(ye,se)||(ct.dtick=zt(ye/se,2.5)?gt.dtick/2:gt.dtick):ct.dtick="D1":ct.dtick==="D2"&&+gt.dtick>1&&(ct.dtick=1)}ct.range=gt.range}gt.minor._tick0Init===void 0&&(ct.tick0=gt.tick0)},V.prepTicks=function(ct,gt){var qt=h.simpleMap(ct.range,ct.r2l,void 0,void 0,gt);if(ct.tickmode==="auto"||!ct.dtick){var Vt,Jt=ct.nticks;Jt||(ct.type==="category"||ct.type==="multicategory"?(Vt=ct.tickfont?h.bigFont(ct.tickfont.size||12):15,Jt=ct._length/Vt):(Vt=ct._id.charAt(0)==="y"?40:80,Jt=h.constrain(ct._length/Vt,4,9)+1),ct._name==="radialaxis"&&(Jt*=2)),ct.minor&&ct.minor.tickmode!=="array"||ct.tickmode==="array"&&(Jt*=100),ct._roughDTick=Math.abs(qt[1]-qt[0])/Jt,V.autoTicks(ct,ct._roughDTick),ct._minDtick>0&&ct.dtick<2*ct._minDtick&&(ct.dtick=ct._minDtick,ct.tick0=ct.l2r(ct._forceTick0))}ct.ticklabelmode==="period"&&function(Xt){var ee;function re(){return!(f(Xt.dtick)||Xt.dtick.charAt(0)!=="M")}var fe=re(),ye=V.getTickFormat(Xt);if(ye){var se=Xt._dtickInit!==Xt.dtick;/%[fLQsSMX]/.test(ye)||(/%[HI]/.test(ye)?(ee=I,se&&!fe&&Xt.dtick<I&&(Xt.dtick=I)):/%p/.test(ye)?(ee=D,se&&!fe&&Xt.dtick<D&&(Xt.dtick=D)):/%[Aadejuwx]/.test(ye)?(ee=N,se&&!fe&&Xt.dtick<N&&(Xt.dtick=N)):/%[UVW]/.test(ye)?(ee=R,se&&!fe&&Xt.dtick<R&&(Xt.dtick=R)):/%[Bbm]/.test(ye)?(ee=P,se&&(fe?pt(Xt.dtick)<1:Xt.dtick<F)&&(Xt.dtick="M1")):/%[q]/.test(ye)?(ee=T,se&&(fe?pt(Xt.dtick)<3:Xt.dtick<A)&&(Xt.dtick="M3")):/%[Yy]/.test(ye)&&(ee=E,se&&(fe?pt(Xt.dtick)<12:Xt.dtick<S)&&(Xt.dtick="M12")))}(fe=re())&&Xt.tick0===Xt._dowTick0&&(Xt.tick0=Xt._rawTick0),Xt._definedDelta=ee}(ct),ct.tick0||(ct.tick0=ct.type==="date"?"2000-01-01":0),ct.type==="date"&&ct.dtick<.1&&(ct.dtick=.1),Ft(ct)},V.calcTicks=function(ct,gt){for(var qt,Vt,Jt=ct.type,Xt=ct.calendar,ee=ct.ticklabelstep,re=ct.ticklabelmode==="period",fe=h.simpleMap(ct.range,ct.r2l,void 0,void 0,gt),ye=fe[1]<fe[0],se=Math.min(fe[0],fe[1]),Ge=Math.max(fe[0],fe[1]),nn=Math.max(1e3,ct._length||0),Oe=[],We=[],je=[],_e=[],he=ct.minor&&(ct.minor.ticks||ct.minor.showgrid),Pe=1;Pe>=(he?0:1);Pe--){var an=!Pe;Pe?(ct._dtickInit=ct.dtick,ct._tick0Init=ct.tick0):(ct.minor._dtickInit=ct.minor.dtick,ct.minor._tick0Init=ct.minor.tick0);var tn=Pe?ct:h.extendFlat({},ct,ct.minor);if(an?V.prepMinorTicks(tn,ct,gt):V.prepTicks(tn,gt),tn.tickmode!=="array")if(tn.tickmode!=="sync"){var on=st(fe),be=on[0],Re=on[1],ze=f(tn.dtick),qe=Jt==="log"&&!(ze||tn.dtick.charAt(0)==="L"),He=V.tickFirst(tn,gt);if(Pe){if(ct._tmin=He,He<be!==ye)break;Jt!=="category"&&Jt!=="multicategory"||(Re=ye?Math.max(-.5,Re):Math.min(ct._categories.length-.5,Re))}var Xe,Ye,rn=null,Ue=He;Pe&&(ze?Ye=ct.dtick:Jt==="date"?typeof ct.dtick=="string"&&ct.dtick.charAt(0)==="M"&&(Ye=P*ct.dtick.substring(1)):Ye=ct._roughDTick,Xe=Math.round((ct.r2l(Ue)-ct.r2l(ct.tick0))/Ye)-1);var Je=tn.dtick;for(tn.rangebreaks&&tn._tick0Init!==tn.tick0&&(Ue=Fe(Ue,ct),ye||(Ue=V.tickIncrement(Ue,Je,!ye,Xt))),Pe&&re&&(Ue=V.tickIncrement(Ue,Je,!ye,Xt),Xe--);ye?Ue>=Re:Ue<=Re;Ue=V.tickIncrement(Ue,Je,ye,Xt)){if(Pe&&Xe++,tn.rangebreaks&&!ye){if(Ue<be)continue;if(tn.maskBreaks(Ue)===et&&Fe(Ue,tn)>=Ge)break}if(je.length>nn||Ue===rn)break;rn=Ue;var dn={value:Ue};Pe?(qe&&Ue!==(0|Ue)&&(dn.simpleLabel=!0),ee>1&&Xe%ee&&(dn.skipLabel=!0),je.push(dn)):(dn.minor=!0,_e.push(dn))}}else je=[],Oe=wt(ct);else Pe?(je=[],Oe=St(ct)):(_e=[],We=St(ct))}if(he&&!(ct.minor.ticks==="inside"&&ct.ticks==="outside"||ct.minor.ticks==="outside"&&ct.ticks==="inside")){for(var Mn=je.map(function(wi){return wi.value}),Sn=[],vn=0;vn<_e.length;vn++){var bn=_e[vn],Dn=bn.value;if(Mn.indexOf(Dn)===-1){for(var yn=!1,In=0;!yn&&In<je.length;In++)1e7+je[In].value===1e7+Dn&&(yn=!0);yn||Sn.push(bn)}}_e=Sn}if(re&&function(wi,ka,Ni){for(var qr=0;qr<wi.length;qr++){var Da=wi[qr].value,Ci=qr,Zn=qr+1;qr<wi.length-1?(Ci=qr,Zn=qr+1):qr>0?(Ci=qr-1,Zn=qr):(Ci=qr,Zn=qr);var En,mr=wi[Ci].value,hr=wi[Zn].value,Rn=Math.abs(hr-mr),wr=Ni||Rn,ar=0;wr>=S?ar=Rn>=S&&Rn<=w?Rn:E:Ni===T&&wr>=A?ar=Rn>=A&&Rn<=C?Rn:T:wr>=F?ar=Rn>=F&&Rn<=O?Rn:P:Ni===R&&wr>=R?ar=R:wr>=N?ar=N:Ni===D&&wr>=D?ar=D:Ni===I&&wr>=I&&(ar=I),ar>=Rn&&(ar=Rn,En=!0);var ni=Da+ar;if(ka.rangebreaks&&ar>0){for(var hi=0,Ai=0;Ai<84;Ai++){var Ii=(Ai+.5)/84;ka.maskBreaks(Da*(1-Ii)+Ii*ni)!==et&&hi++}(ar*=hi/84)||(wi[qr].drop=!0),En&&Rn>R&&(ar=Rn)}(ar>0||qr===0)&&(wi[qr].periodX=Da+ar/2)}}(je,ct,ct._definedDelta),ct.rangebreaks){var pn=ct._id.charAt(0)==="y",Bn=1;ct.tickmode==="auto"&&(Bn=ct.tickfont?ct.tickfont.size:12);var Vn=NaN;for(qt=je.length-1;qt>-1;qt--)if(je[qt].drop)je.splice(qt,1);else{je[qt].value=Fe(je[qt].value,ct);var Kn=ct.c2p(je[qt].value);(pn?Vn>Kn-Bn:Vn<Kn+Bn)?je.splice(ye?qt+1:qt,1):Vn=Kn}}xe(ct)&&Math.abs(fe[1]-fe[0])===360&&je.pop(),ct._tmax=(je[je.length-1]||{}).value,ct._prevDateHead="",ct._inCalcTicks=!0;var qn,Wn,fr=function(wi){wi.text="",ct._prevDateHead=Vt};for(je=je.concat(_e),qt=0;qt<je.length;qt++){var bi=je[qt].minor,so=je[qt].value;bi?We.push({x:so,minor:!0}):(Vt=ct._prevDateHead,qn=V.tickText(ct,so,!1,je[qt].simpleLabel),(Wn=je[qt].periodX)!==void 0&&(qn.periodX=Wn,(Wn>Ge||Wn<se)&&(Wn>Ge&&(qn.periodX=Ge),Wn<se&&(qn.periodX=se),fr(qn))),je[qt].skipLabel&&fr(qn),Oe.push(qn))}return Oe=Oe.concat(We),ct._inCalcTicks=!1,re&&Oe.length&&(Oe[0].noTick=!0),Oe};var Ut=[2,5,10],Gt=[1,2,3,6,12],mt=[1,2,5,10,15,30],Tt=[1,2,3,7,14],At=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Et=[-.301,0,.301,.699,1],Mt=[15,30,45,90,180];function Nt(ct,gt,qt){return gt*h.roundUp(ct/gt,qt)}function Ft(ct){var gt=ct.dtick;if(ct._tickexponent=0,f(gt)||typeof gt=="string"||(gt=1),ct.type!=="category"&&ct.type!=="multicategory"||(ct._tickround=null),ct.type==="date"){var qt=ct.r2l(ct.tick0),Vt=ct.l2r(qt).replace(/(^-|i)/g,""),Jt=Vt.length;if(String(gt).charAt(0)==="M")Jt>10||Vt.substr(5)!=="01-01"?ct._tickround="d":ct._tickround=+gt.substr(1)%12==0?"y":"m";else if(gt>=N&&Jt<=10||gt>=15*N)ct._tickround="d";else if(gt>=B&&Jt<=16||gt>=I)ct._tickround="M";else if(gt>=j&&Jt<=19||gt>=B)ct._tickround="S";else{var Xt=ct.l2r(qt+gt).replace(/^-/,"").length;ct._tickround=Math.max(Jt,Xt)-20,ct._tickround<0&&(ct._tickround=4)}}else if(f(gt)||gt.charAt(0)==="L"){var ee=ct.range.map(ct.r2d||Number);f(gt)||(gt=Number(gt.substr(1))),ct._tickround=2-Math.floor(Math.log(gt)/Math.LN10+.01);var re=Math.max(Math.abs(ee[0]),Math.abs(ee[1])),fe=Math.floor(Math.log(re)/Math.LN10+.01),ye=ct.minexponent===void 0?3:ct.minexponent;Math.abs(fe)>ye&&(kt(ct.exponentformat)&&!Wt(fe)?ct._tickexponent=3*Math.round((fe-1)/3):ct._tickexponent=fe)}else ct._tickround=null}function Lt(ct,gt,qt){var Vt=ct.tickfont||{};return{x:gt,dx:0,dy:0,text:qt||"",fontSize:Vt.size,font:Vt.family,fontColor:Vt.color}}V.autoTicks=function(ct,gt,qt){var Vt;function Jt(Ge){return Math.pow(Ge,Math.floor(Math.log(gt)/Math.LN10))}if(ct.type==="date"){ct.tick0=h.dateTick0(ct.calendar,0);var Xt=2*gt;if(Xt>E)gt/=E,Vt=Jt(10),ct.dtick="M"+12*Nt(gt,Vt,Ut);else if(Xt>P)gt/=P,ct.dtick="M"+Nt(gt,1,Gt);else if(Xt>N){if(ct.dtick=Nt(gt,N,ct._hasDayOfWeekBreaks?[1,2,7,14]:Tt),!qt){var ee=V.getTickFormat(ct),re=ct.ticklabelmode==="period";re&&(ct._rawTick0=ct.tick0),/%[uVW]/.test(ee)?ct.tick0=h.dateTick0(ct.calendar,2):ct.tick0=h.dateTick0(ct.calendar,1),re&&(ct._dowTick0=ct.tick0)}}else Xt>I?ct.dtick=Nt(gt,I,Gt):Xt>B?ct.dtick=Nt(gt,B,mt):Xt>j?ct.dtick=Nt(gt,j,mt):(Vt=Jt(10),ct.dtick=Nt(gt,Vt,Ut))}else if(ct.type==="log"){ct.tick0=0;var fe=h.simpleMap(ct.range,ct.r2l);if(ct._isMinor&&(gt*=1.5),gt>.7)ct.dtick=Math.ceil(gt);else if(Math.abs(fe[1]-fe[0])<1){var ye=1.5*Math.abs((fe[1]-fe[0])/gt);gt=Math.abs(Math.pow(10,fe[1])-Math.pow(10,fe[0]))/ye,Vt=Jt(10),ct.dtick="L"+Nt(gt,Vt,Ut)}else ct.dtick=gt>.3?"D2":"D1"}else ct.type==="category"||ct.type==="multicategory"?(ct.tick0=0,ct.dtick=Math.ceil(Math.max(gt,1))):xe(ct)?(ct.tick0=0,Vt=1,ct.dtick=Nt(gt,Vt,Mt)):(ct.tick0=0,Vt=Jt(10),ct.dtick=Nt(gt,Vt,Ut));if(ct.dtick===0&&(ct.dtick=1),!f(ct.dtick)&&typeof ct.dtick!="string"){var se=ct.dtick;throw ct.dtick=1,"ax.dtick error: "+String(se)}},V.tickIncrement=function(ct,gt,qt,Vt){var Jt=qt?-1:1;if(f(gt))return h.increment(ct,Jt*gt);var Xt=gt.charAt(0),ee=Jt*Number(gt.substr(1));if(Xt==="M")return h.incrementMonth(ct,ee,Vt);if(Xt==="L")return Math.log(Math.pow(10,ct)+ee)/Math.LN10;if(Xt==="D"){var re=gt==="D2"?Et:At,fe=ct+.01*Jt,ye=h.roundUp(h.mod(fe,1),re,qt);return Math.floor(fe)+Math.log(l.round(Math.pow(10,ye),1))/Math.LN10}throw"unrecognized dtick "+String(gt)},V.tickFirst=function(ct,gt){var qt=ct.r2l||Number,Vt=h.simpleMap(ct.range,qt,void 0,void 0,gt),Jt=Vt[1]<Vt[0],Xt=Jt?Math.floor:Math.ceil,ee=st(Vt)[0],re=ct.dtick,fe=qt(ct.tick0);if(f(re)){var ye=Xt((ee-fe)/re)*re+fe;return ct.type!=="category"&&ct.type!=="multicategory"||(ye=h.constrain(ye,0,ct._categories.length-1)),ye}var se=re.charAt(0),Ge=Number(re.substr(1));if(se==="M"){for(var nn,Oe,We,je=0,_e=fe;je<10;){if(((nn=V.tickIncrement(_e,re,Jt,ct.calendar))-ee)*(_e-ee)<=0)return Jt?Math.min(_e,nn):Math.max(_e,nn);Oe=(ee-(_e+nn)/2)/(nn-_e),We=se+(Math.abs(Math.round(Oe))||1)*Ge,_e=V.tickIncrement(_e,We,Oe<0?!Jt:Jt,ct.calendar),je++}return h.error("tickFirst did not converge",ct),_e}if(se==="L")return Math.log(Xt((Math.pow(10,ee)-fe)/Ge)*Ge+fe)/Math.LN10;if(se==="D"){var he=re==="D2"?Et:At,Pe=h.roundUp(h.mod(ee,1),he,Jt);return Math.floor(ee)+Math.log(l.round(Math.pow(10,Pe),1))/Math.LN10}throw"unrecognized dtick "+String(re)},V.tickText=function(ct,gt,qt,Vt){var Jt,Xt=Lt(ct,gt),ee=ct.tickmode==="array",re=qt||ee,fe=ct.type,ye=fe==="category"?ct.d2l_noadd:ct.d2l;if(ee&&Array.isArray(ct.ticktext)){var se=h.simpleMap(ct.range,ct.r2l),Ge=(Math.abs(se[1]-se[0])-(ct._lBreaks||0))/1e4;for(Jt=0;Jt<ct.ticktext.length&&!(Math.abs(gt-ye(ct.tickvals[Jt]))<Ge);Jt++);if(Jt<ct.ticktext.length)return Xt.text=String(ct.ticktext[Jt]),Xt}function nn(_e){if(_e===void 0)return!0;if(qt)return _e==="none";var he={first:ct._tmin,last:ct._tmax}[_e];return _e!=="all"&&gt!==he}var Oe=qt?"never":ct.exponentformat!=="none"&&nn(ct.showexponent)?"hide":"";if(fe==="date"?function(_e,he,Pe,an){var tn=_e._tickround,on=Pe&&_e.hoverformat||V.getTickFormat(_e);(an=!on&&an)&&(tn=f(tn)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[tn]);var be,Re=h.formatDate(he.x,on,tn,_e._dateFormat,_e.calendar,_e._extraFormat),ze=Re.indexOf(`
`);if(ze!==-1&&(be=Re.substr(ze+1),Re=Re.substr(0,ze)),an&&(be===void 0||Re!=="00:00:00"&&Re!=="00:00"?Re.length===8&&(Re=Re.replace(/:00$/,"")):(Re=be,be="")),be)if(Pe)tn==="d"?Re+=", "+be:Re=be+(Re?", "+Re:"");else if(_e._inCalcTicks&&_e._prevDateHead===be){var qe=Ae(_e),He=_e._trueSide||_e.side;(!qe&&He==="top"||qe&&He==="bottom")&&(Re+="<br> ")}else _e._prevDateHead=be,Re+="<br>"+be;he.text=Re}(ct,Xt,qt,re):fe==="log"?function(_e,he,Pe,an,tn){var on=_e.dtick,be=he.x,Re=_e.tickformat,ze=typeof on=="string"&&on.charAt(0);if(tn==="never"&&(tn=""),an&&ze!=="L"&&(on="L3",ze="L"),Re||ze==="L")he.text=Qt(Math.pow(10,be),_e,tn,an);else if(f(on)||ze==="D"&&h.mod(be+.01,1)<.1){var qe=Math.round(be),He=Math.abs(qe),Xe=_e.exponentformat;Xe==="power"||kt(Xe)&&Wt(qe)?(he.text=qe===0?1:qe===1?"10":"10<sup>"+(qe>1?"":q)+He+"</sup>",he.fontSize*=1.25):(Xe==="e"||Xe==="E")&&He>2?he.text="1"+Xe+(qe>0?"+":q)+He:(he.text=Qt(Math.pow(10,be),_e,"","fakehover"),on==="D1"&&_e._id.charAt(0)==="y"&&(he.dy-=he.fontSize/6))}else{if(ze!=="D")throw"unrecognized dtick "+String(on);he.text=String(Math.round(Math.pow(10,h.mod(be,1)))),he.fontSize*=.75}if(_e.dtick==="D1"){var Ye=String(he.text).charAt(0);Ye!=="0"&&Ye!=="1"||(_e._id.charAt(0)==="y"?he.dx-=he.fontSize/4:(he.dy+=he.fontSize/2,he.dx+=(_e.range[1]>_e.range[0]?1:-1)*he.fontSize*(be<0?.5:.25)))}}(ct,Xt,0,re,Oe):fe==="category"?function(_e,he){var Pe=_e._categories[Math.round(he.x)];Pe===void 0&&(Pe=""),he.text=String(Pe)}(ct,Xt):fe==="multicategory"?function(_e,he,Pe){var an=Math.round(he.x),tn=_e._categories[an]||[],on=tn[1]===void 0?"":String(tn[1]),be=tn[0]===void 0?"":String(tn[0]);Pe?he.text=be+" - "+on:(he.text=on,he.text2=be)}(ct,Xt,qt):xe(ct)?function(_e,he,Pe,an,tn){if(_e.thetaunit!=="radians"||Pe)he.text=Qt(he.x,_e,tn,an);else{var on=he.x/180;if(on===0)he.text="0";else{var be=function(ze){function qe(rn,Ue){return Math.abs(rn-Ue)<=1e-6}var He=function(rn){for(var Ue=1;!qe(Math.round(rn*Ue)/Ue,rn);)Ue*=10;return Ue}(ze),Xe=ze*He,Ye=Math.abs(function rn(Ue,Je){return qe(Je,0)?Ue:rn(Je,Ue%Je)}(Xe,He));return[Math.round(Xe/Ye),Math.round(He/Ye)]}(on);if(be[1]>=100)he.text=Qt(h.deg2rad(he.x),_e,tn,an);else{var Re=he.x<0;be[1]===1?be[0]===1?he.text="π":he.text=be[0]+"π":he.text=["<sup>",be[0],"</sup>","⁄","<sub>",be[1],"</sub>","π"].join(""),Re&&(he.text=q+he.text)}}}}(ct,Xt,qt,re,Oe):function(_e,he,Pe,an,tn){tn==="never"?tn="":_e.showexponent==="all"&&Math.abs(he.x/_e.dtick)<1e-6&&(tn="hide"),he.text=Qt(he.x,_e,tn,an)}(ct,Xt,0,re,Oe),Vt||(ct.tickprefix&&!nn(ct.showtickprefix)&&(Xt.text=ct.tickprefix+Xt.text),ct.ticksuffix&&!nn(ct.showticksuffix)&&(Xt.text+=ct.ticksuffix)),ct.labelalias&&ct.labelalias.hasOwnProperty(Xt.text)){var We=ct.labelalias[Xt.text];typeof We=="string"&&(Xt.text=We)}if(ct.tickson==="boundaries"||ct.showdividers){var je=function(_e){var he=ct.l2p(_e);return he>=0&&he<=ct._length?_e:null};Xt.xbnd=[je(Xt.x-.5),je(Xt.x+ct.dtick-.5)]}return Xt},V.hoverLabelText=function(ct,gt,qt){qt&&(ct=h.extendFlat({},ct,{hoverformat:qt}));var Vt=Array.isArray(gt)?gt[0]:gt,Jt=Array.isArray(gt)?gt[1]:void 0;if(Jt!==void 0&&Jt!==Vt)return V.hoverLabelText(ct,Vt,qt)+" - "+V.hoverLabelText(ct,Jt,qt);var Xt=ct.type==="log"&&Vt<=0,ee=V.tickText(ct,ct.c2l(Xt?-Vt:Vt),"hover").text;return Xt?Vt===0?"0":q+ee:ee};var Dt=["f","p","n","μ","m","","k","M","G","T"];function kt(ct){return ct==="SI"||ct==="B"}function Wt(ct){return ct>14||ct<-15}function Qt(ct,gt,qt,Vt){var Jt=ct<0,Xt=gt._tickround,ee=qt||gt.exponentformat||"B",re=gt._tickexponent,fe=V.getTickFormat(gt),ye=gt.separatethousands;if(Vt){var se={exponentformat:ee,minexponent:gt.minexponent,dtick:gt.showexponent==="none"?gt.dtick:f(ct)&&Math.abs(ct)||1,range:gt.showexponent==="none"?gt.range.map(gt.r2d):[0,ct||1]};Ft(se),Xt=(Number(se._tickround)||0)+4,re=se._tickexponent,gt.hoverformat&&(fe=gt.hoverformat)}if(fe)return gt._numFormat(fe)(ct).replace(/-/g,q);var Ge,nn=Math.pow(10,-Xt)/2;if(ee==="none"&&(re=0),(ct=Math.abs(ct))<nn)ct="0",Jt=!1;else{if(ct+=nn,re&&(ct*=Math.pow(10,-re),Xt+=re),Xt===0)ct=String(Math.floor(ct));else if(Xt<0){ct=(ct=String(Math.round(ct))).substr(0,ct.length+Xt);for(var Oe=Xt;Oe<0;Oe++)ct+="0"}else{var We=(ct=String(ct)).indexOf(".")+1;We&&(ct=ct.substr(0,We+Xt).replace(/\.?0+$/,""))}ct=h.numSeparate(ct,gt._separators,ye)}return re&&ee!=="hide"&&(kt(ee)&&Wt(re)&&(ee="power"),Ge=re<0?q+-re:ee!=="power"?"+"+re:String(re),ee==="e"||ee==="E"?ct+=ee+Ge:ee==="power"?ct+="×10<sup>"+Ge+"</sup>":ee==="B"&&re===9?ct+="B":kt(ee)&&(ct+=Dt[re/3+5])),Jt?q+ct:ct}function Ht(ct,gt){if(ct){var qt=Object.keys(W).reduce(function(Vt,Jt){return gt.indexOf(Jt)!==-1&&W[Jt].forEach(function(Xt){Vt[Xt]=1}),Vt},{});Object.keys(ct).forEach(function(Vt){qt[Vt]||(Vt.length===1?ct[Vt]=0:delete ct[Vt])})}}function oe(ct,gt){for(var qt=[],Vt={},Jt=0;Jt<gt.length;Jt++){var Xt=gt[Jt];Vt[Xt.text2]?Vt[Xt.text2].push(Xt.x):Vt[Xt.text2]=[Xt.x]}for(var ee in Vt)qt.push(Lt(ct,h.interp(Vt[ee],.5),ee));return qt}function ce(ct){return ct.periodX!==void 0?ct.periodX:ct.x}function pe(ct){return[ct.text,ct.x,ct.axInfo,ct.font,ct.fontSize,ct.fontColor].join("_")}function we(ct){var gt=ct.title.font.size,qt=(ct.title.text.match(p.BR_TAG_ALL)||[]).length;return ct.title.hasOwnProperty("standoff")?qt?gt*(lt+qt*dt):gt*lt:qt?gt*(qt+1)*dt:gt}function Le(ct,gt){var qt=ct.l2p(gt);return qt>1&&qt<ct._length-1}function jt(ct){var gt=l.select(ct),qt=gt.select(".text-math-group");return qt.empty()?gt.select("text"):qt}function Rt(ct){return ct._id+".automargin"}function te(ct){return Rt(ct)+".mirror"}function ae(ct){return ct._id+".rangeslider"}function Se(ct,gt){for(var qt=0;qt<gt.length;qt++)ct.indexOf(gt[qt])===-1&&ct.push(gt[qt])}function ne(ct,gt,qt){var Vt,Jt,Xt=[],ee=[],re=ct.layout;for(Vt=0;Vt<gt.length;Vt++)Xt.push(V.getFromId(ct,gt[Vt]));for(Vt=0;Vt<qt.length;Vt++)ee.push(V.getFromId(ct,qt[Vt]));var fe=Object.keys(y),ye=["anchor","domain","overlaying","position","side","tickangle","editType"],se=["linear","log"];for(Vt=0;Vt<fe.length;Vt++){var Ge=fe[Vt],nn=Xt[0][Ge],Oe=ee[0][Ge],We=!0,je=!1,_e=!1;if(Ge.charAt(0)!=="_"&&typeof nn!="function"&&ye.indexOf(Ge)===-1){for(Jt=1;Jt<Xt.length&&We;Jt++){var he=Xt[Jt][Ge];Ge==="type"&&se.indexOf(nn)!==-1&&se.indexOf(he)!==-1&&nn!==he?je=!0:he!==nn&&(We=!1)}for(Jt=1;Jt<ee.length&&We;Jt++){var Pe=ee[Jt][Ge];Ge==="type"&&se.indexOf(Oe)!==-1&&se.indexOf(Pe)!==-1&&Oe!==Pe?_e=!0:ee[Jt][Ge]!==Oe&&(We=!1)}We&&(je&&(re[Xt[0]._name].type="linear"),_e&&(re[ee[0]._name].type="linear"),ge(re,Ge,Xt,ee,ct._fullLayout._dfltTitle))}}for(Vt=0;Vt<ct._fullLayout.annotations.length;Vt++){var an=ct._fullLayout.annotations[Vt];gt.indexOf(an.xref)!==-1&&qt.indexOf(an.yref)!==-1&&h.swapAttrs(re.annotations[Vt],["?"])}}function ge(ct,gt,qt,Vt,Jt){var Xt,ee=h.nestedProperty,re=ee(ct[qt[0]._name],gt).get(),fe=ee(ct[Vt[0]._name],gt).get();for(gt==="title"&&(re&&re.text===Jt.x&&(re.text=Jt.y),fe&&fe.text===Jt.y&&(fe.text=Jt.x)),Xt=0;Xt<qt.length;Xt++)ee(ct,qt[Xt]._name+"."+gt).set(fe);for(Xt=0;Xt<Vt.length;Xt++)ee(ct,Vt[Xt]._name+"."+gt).set(re)}function xe(ct){return ct._id==="angularaxis"}function Fe(ct,gt){for(var qt=gt._rangebreaks.length,Vt=0;Vt<qt;Vt++){var Jt=gt._rangebreaks[Vt];if(ct>=Jt.min&&ct<Jt.max)return Jt.max}return ct}function Ae(ct){return(ct.ticklabelposition||"").indexOf("inside")!==-1}function $e(ct,gt){Ae(ct._anchorAxis||{})&&ct._hideCounterAxisInsideTickLabels&&ct._hideCounterAxisInsideTickLabels(gt)}function Me(ct,gt,qt,Vt){var Jt,Xt=ct.anchor==="free"||ct.overlaying!==void 0&&ct.overlaying!==!1?ct.overlaying:ct._id;Jt=Vt?ct.side==="right"?gt:-gt:gt,Xt in qt||(qt[Xt]={}),ct.side in qt[Xt]||(qt[Xt][ct.side]=0),qt[Xt][ct.side]+=Jt}V.getTickFormat=function(ct){var gt,qt,Vt,Jt,Xt,ee,re,fe;function ye(nn){return typeof nn!="string"?nn:Number(nn.replace("M",""))*P}function se(nn,Oe){var We=["L","D"];if(typeof nn==typeof Oe){if(typeof nn=="number")return nn-Oe;var je=We.indexOf(nn.charAt(0)),_e=We.indexOf(Oe.charAt(0));return je===_e?Number(nn.replace(/(L|D)/g,""))-Number(Oe.replace(/(L|D)/g,"")):je-_e}return typeof nn=="number"?1:-1}function Ge(nn,Oe){var We=Oe[0]===null,je=Oe[1]===null,_e=se(nn,Oe[0])>=0,he=se(nn,Oe[1])<=0;return(We||_e)&&(je||he)}if(ct.tickformatstops&&ct.tickformatstops.length>0)switch(ct.type){case"date":case"linear":for(gt=0;gt<ct.tickformatstops.length;gt++)if((Vt=ct.tickformatstops[gt]).enabled&&(Jt=ct.dtick,ee=void 0,ee=ye||function(nn){return nn},re=(Xt=Vt.dtickrange)[0],fe=Xt[1],(!re&&typeof re!="number"||ee(re)<=ee(Jt))&&(!fe&&typeof fe!="number"||ee(fe)>=ee(Jt)))){qt=Vt;break}break;case"log":for(gt=0;gt<ct.tickformatstops.length;gt++)if((Vt=ct.tickformatstops[gt]).enabled&&Ge(ct.dtick,Vt.dtickrange)){qt=Vt;break}}return qt?qt.value:ct.tickformat},V.getSubplots=function(ct,gt){var qt=ct._fullLayout._subplots,Vt=qt.cartesian.concat(qt.gl2d||[]),Jt=gt?V.findSubplotsWithAxis(Vt,gt):Vt;return Jt.sort(function(Xt,ee){var re=Xt.substr(1).split("y"),fe=ee.substr(1).split("y");return re[0]===fe[0]?+re[1]-+fe[1]:+re[0]-+fe[0]}),Jt},V.findSubplotsWithAxis=function(ct,gt){for(var qt=new RegExp(gt._id.charAt(0)==="x"?"^"+gt._id+"y":gt._id+"$"),Vt=[],Jt=0;Jt<ct.length;Jt++){var Xt=ct[Jt];qt.test(Xt)&&Vt.push(Xt)}return Vt},V.makeClipPaths=function(ct){var gt=ct._fullLayout;if(!gt._hasOnlyLargeSploms){var qt,Vt,Jt={_offset:0,_length:gt.width,_id:""},Xt={_offset:0,_length:gt.height,_id:""},ee=V.list(ct,"x",!0),re=V.list(ct,"y",!0),fe=[];for(qt=0;qt<ee.length;qt++)for(fe.push({x:ee[qt],y:Xt}),Vt=0;Vt<re.length;Vt++)qt===0&&fe.push({x:Jt,y:re[Vt]}),fe.push({x:ee[qt],y:re[Vt]});var ye=gt._clips.selectAll(".axesclip").data(fe,function(se){return se.x._id+se.y._id});ye.enter().append("clipPath").classed("axesclip",!0).attr("id",function(se){return"clip"+gt._uid+se.x._id+se.y._id}).append("rect"),ye.exit().remove(),ye.each(function(se){l.select(this).select("rect").attr({x:se.x._offset||0,y:se.y._offset||0,width:se.x._length||1,height:se.y._length||1})})}},V.draw=function(ct,gt,qt){var Vt=ct._fullLayout;gt==="redraw"&&Vt._paper.selectAll("g.subplot").each(function(re){var fe=re[0],ye=Vt._plots[fe];if(ye){var se=ye.xaxis,Ge=ye.yaxis;ye.xaxislayer.selectAll("."+se._id+"tick").remove(),ye.yaxislayer.selectAll("."+Ge._id+"tick").remove(),ye.xaxislayer.selectAll("."+se._id+"tick2").remove(),ye.yaxislayer.selectAll("."+Ge._id+"tick2").remove(),ye.xaxislayer.selectAll("."+se._id+"divider").remove(),ye.yaxislayer.selectAll("."+Ge._id+"divider").remove(),ye.minorGridlayer&&ye.minorGridlayer.selectAll("path").remove(),ye.gridlayer&&ye.gridlayer.selectAll("path").remove(),ye.zerolinelayer&&ye.zerolinelayer.selectAll("path").remove(),Vt._infolayer.select(".g-"+se._id+"title").remove(),Vt._infolayer.select(".g-"+Ge._id+"title").remove()}});var Jt=gt&&gt!=="redraw"?gt:V.listIds(ct),Xt=V.list(ct).filter(function(re){return re.autoshift}).map(function(re){return re.overlaying});Jt.map(function(re){var fe=V.getFromId(ct,re);if(fe.tickmode==="sync"&&fe.overlaying){var ye=Jt.findIndex(function(se){return se===fe.overlaying});ye>=0&&Jt.unshift(Jt.splice(ye,1).shift())}});var ee={false:{left:0,right:0}};return h.syncOrAsync(Jt.map(function(re){return function(){if(re){var fe=V.getFromId(ct,re);qt||(qt={}),qt.axShifts=ee,qt.overlayingShiftedAx=Xt;var ye=V.drawOne(ct,fe,qt);return fe._shiftPusher&&Me(fe,fe._fullDepth||0,ee,!0),fe._r=fe.range.slice(),fe._rl=h.simpleMap(fe._r,fe.r2l),ye}}}))},V.drawOne=function(ct,gt,qt){var Vt,Jt,Xt,ee=(qt=qt||{}).axShifts||{},re=qt.overlayingShiftedAx||[];gt.setScale();var fe=ct._fullLayout,ye=gt._id,se=ye.charAt(0),Ge=V.counterLetter(ye),nn=fe._plots[gt._mainSubplot];if(nn){if(gt._shiftPusher=gt.autoshift||re.indexOf(gt._id)!==-1||re.indexOf(gt.overlaying)!==-1,gt._shiftPusher&gt.anchor==="free"){var Oe=gt.linewidth/2||0;gt.ticks==="inside"&&(Oe+=gt.ticklen),Me(gt,Oe,ee,!0),Me(gt,gt.shift||0,ee,!1)}qt.skipTitle===!0&&gt._shift!==void 0||(gt._shift=function(Zn,En){return Zn.autoshift?En[Zn.overlaying][Zn.side]:Zn.shift||0}(gt,ee));var We=nn[se+"axislayer"],je=gt._mainLinePosition,_e=je+=gt._shift,he=gt._mainMirrorPosition,Pe=gt._vals=V.calcTicks(gt),an=[gt.mirror,_e,he].join("_");for(Vt=0;Vt<Pe.length;Vt++)Pe[Vt].axInfo=an;gt._selections={},gt._tickAngles&&(gt._prevTickAngles=gt._tickAngles),gt._tickAngles={},gt._depth=null;var tn={};if(gt.visible){var on,be,Re=V.makeTransTickFn(gt),ze=V.makeTransTickLabelFn(gt),qe=gt.ticks==="inside",He=gt.ticks==="outside";if(gt.tickson==="boundaries"){var Xe=function(Zn,En){var mr,hr=[],Rn=function(wr,ar){var ni=wr.xbnd[ar];ni!==null&&hr.push(h.extendFlat({},wr,{x:ni}))};if(En.length){for(mr=0;mr<En.length;mr++)Rn(En[mr],0);Rn(En[mr-1],1)}return hr}(0,Pe);be=V.clipEnds(gt,Xe),on=qe?be:Xe}else be=V.clipEnds(gt,Pe),on=qe&&gt.ticklabelmode!=="period"?be:Pe;var Ye,rn=gt._gridVals=be,Ue=function(Zn,En){var mr,hr,Rn=[],wr=En.length&&En[En.length-1].x<En[0].x,ar=function(hi,Ai){var Ii=hi.xbnd[Ai];Ii!==null&&Rn.push(h.extendFlat({},hi,{x:Ii}))};if(Zn.showdividers&&En.length){for(mr=0;mr<En.length;mr++){var ni=En[mr];ni.text2!==hr&&ar(ni,wr?1:0),hr=ni.text2}ar(En[mr-1],wr?0:1)}return Rn}(gt,Pe);if(!fe._hasOnlyLargeSploms){var Je=gt._subplotsWith,dn={};for(Vt=0;Vt<Je.length;Vt++){Jt=Je[Vt];var Mn=(Xt=fe._plots[Jt])[Ge+"axis"],Sn=Mn._mainAxis._id;if(!dn[Sn]){dn[Sn]=1;var vn=se==="x"?"M0,"+Mn._offset+"v"+Mn._length:"M"+Mn._offset+",0h"+Mn._length;V.drawGrid(ct,gt,{vals:rn,counterAxis:Mn,layer:Xt.gridlayer.select("."+ye),minorLayer:Xt.minorGridlayer.select("."+ye),path:vn,transFn:Re}),V.drawZeroLine(ct,gt,{counterAxis:Mn,layer:Xt.zerolinelayer,path:vn,transFn:Re})}}}var bn=V.getTickSigns(gt),Dn=V.getTickSigns(gt,"minor");if(gt.ticks||gt.minor&&gt.minor.ticks){var yn,In,pn,Bn,Vn=V.makeTickPath(gt,_e,bn[2]),Kn=V.makeTickPath(gt,_e,Dn[2],{minor:!0});if(gt._anchorAxis&&gt.mirror&&gt.mirror!==!0?(yn=V.makeTickPath(gt,he,bn[3]),In=V.makeTickPath(gt,he,Dn[3],{minor:!0}),pn=Vn+yn,Bn=Kn+In):(yn="",In="",pn=Vn,Bn=Kn),gt.showdividers&&He&&gt.tickson==="boundaries"){var qn={};for(Vt=0;Vt<Ue.length;Vt++)qn[Ue[Vt].x]=1;Ye=function(Zn){return qn[Zn.x]?yn:pn}}else Ye=function(Zn){return Zn.minor?Bn:pn}}if(V.drawTicks(ct,gt,{vals:on,layer:We,path:Ye,transFn:Re}),gt.mirror==="allticks"){var Wn=Object.keys(gt._linepositions||{});for(Vt=0;Vt<Wn.length;Vt++){Jt=Wn[Vt],Xt=fe._plots[Jt];var fr=gt._linepositions[Jt]||[],bi=fr[0],so=fr[1],wi=fr[2],ka=V.makeTickPath(gt,bi,wi?bn[0]:Dn[0],{minor:wi})+V.makeTickPath(gt,so,wi?bn[1]:Dn[1],{minor:wi});V.drawTicks(ct,gt,{vals:on,layer:Xt[se+"axislayer"],path:ka,transFn:Re})}}var Ni=[];if(Ni.push(function(){return V.drawLabels(ct,gt,{vals:Pe,layer:We,plotinfo:Xt,transFn:ze,labelFns:V.makeLabelFns(gt,_e)})}),gt.type==="multicategory"){var qr={x:2,y:10}[se];Ni.push(function(){var Zn={x:"height",y:"width"}[se],En=Ci()[Zn]+qr+(gt._tickAngles[ye+"tick"]?gt.tickfont.size*dt:0);return V.drawLabels(ct,gt,{vals:oe(gt,Pe),layer:We,cls:ye+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Re,labelFns:V.makeLabelFns(gt,_e+En*bn[4])})}),Ni.push(function(){return gt._depth=bn[4]*(Ci("tick2")[gt.side]-_e),function(Zn,En,mr){var hr=En._id+"divider",Rn=mr.vals,wr=mr.layer.selectAll("path."+hr).data(Rn,pe);wr.exit().remove(),wr.enter().insert("path",":first-child").classed(hr,1).classed("crisp",1).call(m.stroke,En.dividercolor).style("stroke-width",v.crispRound(Zn,En.dividerwidth,1)+"px"),wr.attr("transform",mr.transFn).attr("d",mr.path)}(ct,gt,{vals:Ue,layer:We,path:V.makeTickPath(gt,_e,bn[4],{len:gt._depth}),transFn:Re})})}else gt.title.hasOwnProperty("standoff")&&Ni.push(function(){gt._depth=bn[4]*(Ci()[gt.side]-_e)});var Da=c.getComponentMethod("rangeslider","isVisible")(gt);return qt.skipTitle||Da&&gt.side==="bottom"||Ni.push(function(){return function(Zn,En){var mr,hr=Zn._fullLayout,Rn=En._id,wr=Rn.charAt(0),ar=En.title.font.size;if(En.title.hasOwnProperty("standoff"))mr=En._depth+En.title.standoff+we(En);else{var ni=Ae(En);if(En.type==="multicategory")mr=En._depth;else{var hi=1.5*ar;ni&&(hi=.5*ar,En.ticks==="outside"&&(hi+=En.ticklen)),mr=10+hi+(En.linewidth?En.linewidth-1:0)}ni||(mr+=wr==="x"?En.side==="top"?ar*(En.showticklabels?1:0):ar*(En.showticklabels?1.5:.5):En.side==="right"?ar*(En.showticklabels?1:.5):ar*(En.showticklabels?.5:0))}var Ai,Ii,Wa,No,jr=V.getPxPosition(Zn,En);if(wr==="x"?(Ii=En._offset+En._length/2,Wa=En.side==="top"?jr-mr:jr+mr):(Wa=En._offset+En._length/2,Ii=En.side==="right"?jr+mr:jr-mr,Ai={rotate:"-90",offset:0}),En.type!=="multicategory"){var ra=En._selections[En._id+"tick"];if(No={selection:ra,side:En.side},ra&&ra.node()&&ra.node().parentNode){var Hn=v.getTranslate(ra.node().parentNode);No.offsetLeft=Hn.x,No.offsetTop=Hn.y}En.title.hasOwnProperty("standoff")&&(No.pad=0)}return En._titleStandoff=mr,g.draw(Zn,Rn+"title",{propContainer:En,propName:En._name+".title.text",placeholder:hr._dfltTitle[wr],avoid:No,transform:Ai,attributes:{x:Ii,y:Wa,"text-anchor":"middle"}})}(ct,gt)}),Ni.push(function(){var Zn,En,mr,hr,Rn=gt.side.charAt(0),wr=nt[gt.side].charAt(0),ar=V.getPxPosition(ct,gt),ni=He?gt.ticklen:0;(gt.automargin||Da||gt._shiftPusher)&&(gt.type==="multicategory"?Zn=Ci("tick2"):(Zn=Ci(),se==="x"&&Rn==="b"&&(gt._depth=Math.max(Zn.width>0?Zn.bottom-ar:0,ni))));var hi=0,Ai=0;if(gt._shiftPusher&&(hi=Math.max(ni,Zn.height>0?Rn==="l"?ar-Zn.left:Zn.right-ar:0),gt.title.text!==fe._dfltTitle[se]&&(Ai=(gt._titleStandoff||0)+(gt._titleScoot||0),Rn==="l"&&(Ai+=we(gt))),gt._fullDepth=Math.max(hi,Ai)),gt.automargin){En={x:0,y:0,r:0,l:0,t:0,b:0};var Ii=[0,1],Wa=typeof gt._shift=="number"?gt._shift:0;if(se==="x"){if(Rn==="b"?En[Rn]=gt._depth:(En[Rn]=gt._depth=Math.max(Zn.width>0?ar-Zn.top:0,ni),Ii.reverse()),Zn.width>0){var No=Zn.right-(gt._offset+gt._length);No>0&&(En.xr=1,En.r=No);var jr=gt._offset-Zn.left;jr>0&&(En.xl=0,En.l=jr)}}else if(Rn==="l"?(gt._depth=Math.max(Zn.height>0?ar-Zn.left:0,ni),En[Rn]=gt._depth-Wa):(gt._depth=Math.max(Zn.height>0?Zn.right-ar:0,ni),En[Rn]=gt._depth+Wa,Ii.reverse()),Zn.height>0){var ra=Zn.bottom-(gt._offset+gt._length);ra>0&&(En.yb=0,En.b=ra);var Hn=gt._offset-Zn.top;Hn>0&&(En.yt=1,En.t=Hn)}En[Ge]=gt.anchor==="free"?gt.position:gt._anchorAxis.domain[Ii[0]],gt.title.text!==fe._dfltTitle[se]&&(En[Rn]+=we(gt)+(gt.title.standoff||0)),gt.mirror&&gt.anchor!=="free"&&((mr={x:0,y:0,r:0,l:0,t:0,b:0})[wr]=gt.linewidth,gt.mirror&&gt.mirror!==!0&&(mr[wr]+=ni),gt.mirror===!0||gt.mirror==="ticks"?mr[Ge]=gt._anchorAxis.domain[Ii[1]]:gt.mirror!=="all"&&gt.mirror!=="allticks"||(mr[Ge]=[gt._counterDomainMin,gt._counterDomainMax][Ii[1]]))}Da&&(hr=c.getComponentMethod("rangeslider","autoMarginOpts")(ct,gt)),typeof gt.automargin=="string"&&(Ht(En,gt.automargin),Ht(mr,gt.automargin)),u.autoMargin(ct,Rt(gt),En),u.autoMargin(ct,te(gt),mr),u.autoMargin(ct,ae(gt),hr)}),h.syncOrAsync(Ni)}}function Ci(Zn){var En=ye+(Zn||"tick");return tn[En]||(tn[En]=function(mr,hr){var Rn,wr,ar,ni;return mr._selections[hr].size()?(Rn=1/0,wr=-1/0,ar=1/0,ni=-1/0,mr._selections[hr].each(function(){var hi=jt(this),Ai=v.bBox(hi.node().parentNode);Rn=Math.min(Rn,Ai.top),wr=Math.max(wr,Ai.bottom),ar=Math.min(ar,Ai.left),ni=Math.max(ni,Ai.right)})):(Rn=0,wr=0,ar=0,ni=0),{top:Rn,bottom:wr,left:ar,right:ni,height:wr-Rn,width:ni-ar}}(gt,En)),tn[En]}},V.getTickSigns=function(ct,gt){var qt=ct._id.charAt(0),Vt={x:"top",y:"right"}[qt],Jt=ct.side===Vt?1:-1,Xt=[-1,1,Jt,-Jt];return(gt?(ct.minor||{}).ticks:ct.ticks)!=="inside"==(qt==="x")&&(Xt=Xt.map(function(ee){return-ee})),ct.side&&Xt.push({l:-1,t:-1,r:1,b:1}[ct.side.charAt(0)]),Xt},V.makeTransTickFn=function(ct){return ct._id.charAt(0)==="x"?function(gt){return d(ct._offset+ct.l2p(gt.x),0)}:function(gt){return d(0,ct._offset+ct.l2p(gt.x))}},V.makeTransTickLabelFn=function(ct){var gt=function(Jt){var Xt=Jt.ticklabelposition||"",ee=function(he){return Xt.indexOf(he)!==-1},re=ee("top"),fe=ee("left"),ye=ee("right"),se=ee("bottom"),Ge=ee("inside"),nn=se||fe||re||ye;if(!nn&&!Ge)return[0,0];var Oe=Jt.side,We=nn?(Jt.tickwidth||0)/2:0,je=3,_e=Jt.tickfont?Jt.tickfont.size:12;return(se||re)&&(We+=_e*lt,je+=(Jt.linewidth||0)/2),(fe||ye)&&(We+=(Jt.linewidth||0)/2,je+=3),Ge&&Oe==="top"&&(je-=_e*(1-lt)),(fe||re)&&(We=-We),Oe!=="bottom"&&Oe!=="right"||(je=-je),[nn?We:0,Ge?je:0]}(ct),qt=gt[0],Vt=gt[1];return ct._id.charAt(0)==="x"?function(Jt){return d(qt+ct._offset+ct.l2p(ce(Jt)),Vt)}:function(Jt){return d(Vt,qt+ct._offset+ct.l2p(ce(Jt)))}},V.makeTickPath=function(ct,gt,qt,Vt){Vt||(Vt={});var Jt=Vt.minor;if(Jt&&!ct.minor)return"";var Xt=Vt.len!==void 0?Vt.len:Jt?ct.minor.ticklen:ct.ticklen,ee=ct._id.charAt(0),re=(ct.linewidth||1)/2;return ee==="x"?"M0,"+(gt+re*qt)+"v"+Xt*qt:"M"+(gt+re*qt)+",0h"+Xt*qt},V.makeLabelFns=function(ct,gt,qt){var Vt=ct.ticklabelposition||"",Jt=function(Xe){return Vt.indexOf(Xe)!==-1},Xt=Jt("top"),ee=Jt("left"),re=Jt("right"),fe=Jt("bottom")||ee||Xt||re,ye=Jt("inside"),se=Vt==="inside"&&ct.ticks==="inside"||!ye&&ct.ticks==="outside"&&ct.tickson!=="boundaries",Ge=0,nn=0,Oe=se?ct.ticklen:0;if(ye?Oe*=-1:fe&&(Oe=0),se&&(Ge+=Oe,qt)){var We=h.deg2rad(qt);Ge=Oe*Math.cos(We)+1,nn=Oe*Math.sin(We)}ct.showticklabels&&(se||ct.showline)&&(Ge+=.2*ct.tickfont.size);var je,_e,he,Pe,an,tn={labelStandoff:Ge+=(ct.linewidth||1)/2*(ye?-1:1),labelShift:nn},on=0,be=ct.side,Re=ct._id.charAt(0),ze=ct.tickangle;if(Re==="x")Pe=(an=!ye&&be==="bottom"||ye&&be==="top")?1:-1,ye&&(Pe*=-1),je=nn*Pe,_e=gt+Ge*Pe,he=an?1:-.2,Math.abs(ze)===90&&(ye?he+=it:he=ze===-90&&be==="bottom"?lt:ze===90&&be==="top"?it:.5,on=it/2*(ze/90)),tn.xFn=function(Xe){return Xe.dx+je+on*Xe.fontSize},tn.yFn=function(Xe){return Xe.dy+_e+Xe.fontSize*he},tn.anchorFn=function(Xe,Ye){if(fe){if(ee)return"end";if(re)return"start"}return f(Ye)&&Ye!==0&&Ye!==180?Ye*Pe<0!==ye?"end":"start":"middle"},tn.heightFn=function(Xe,Ye,rn){return Ye<-60||Ye>60?-.5*rn:ct.side==="top"!==ye?-rn:0};else if(Re==="y"){if(Pe=(an=!ye&&be==="left"||ye&&be==="right")?1:-1,ye&&(Pe*=-1),je=Ge,_e=nn*Pe,he=0,ye||Math.abs(ze)!==90||(he=ze===-90&&be==="left"||ze===90&&be==="right"?lt:.5),ye){var qe=f(ze)?+ze:0;if(qe!==0){var He=h.deg2rad(qe);on=Math.abs(Math.sin(He))*lt*Pe,he=0}}tn.xFn=function(Xe){return Xe.dx+gt-(je+Xe.fontSize*he)*Pe+on*Xe.fontSize},tn.yFn=function(Xe){return Xe.dy+_e+Xe.fontSize*it},tn.anchorFn=function(Xe,Ye){return f(Ye)&&Math.abs(Ye)===90?"middle":an?"end":"start"},tn.heightFn=function(Xe,Ye,rn){return ct.side==="right"&&(Ye*=-1),Ye<-30?-rn:Ye<30?-.5*rn:0}}return tn},V.drawTicks=function(ct,gt,qt){qt=qt||{};var Vt=gt._id+"tick",Jt=[].concat(gt.minor&&gt.minor.ticks?qt.vals.filter(function(ee){return ee.minor&&!ee.noTick}):[]).concat(gt.ticks?qt.vals.filter(function(ee){return!ee.minor&&!ee.noTick}):[]),Xt=qt.layer.selectAll("path."+Vt).data(Jt,pe);Xt.exit().remove(),Xt.enter().append("path").classed(Vt,1).classed("ticks",1).classed("crisp",qt.crisp!==!1).each(function(ee){return m.stroke(l.select(this),ee.minor?gt.minor.tickcolor:gt.tickcolor)}).style("stroke-width",function(ee){return v.crispRound(ct,ee.minor?gt.minor.tickwidth:gt.tickwidth,1)+"px"}).attr("d",qt.path).style("display",null),$e(gt,[ft]),Xt.attr("transform",qt.transFn)},V.drawGrid=function(ct,gt,qt){if(qt=qt||{},gt.tickmode!=="sync"){var Vt=gt._id+"grid",Jt=gt.minor&&gt.minor.showgrid,Xt=Jt?qt.vals.filter(function(he){return he.minor}):[],ee=gt.showgrid?qt.vals.filter(function(he){return!he.minor}):[],re=qt.counterAxis;if(re&&V.shouldShowZeroLine(ct,gt,re))for(var fe=gt.tickmode==="array",ye=0;ye<ee.length;ye++){var se=ee[ye].x;if(fe?!se:Math.abs(se)<gt.dtick/100){if(ee=ee.slice(0,ye).concat(ee.slice(ye+1)),!fe)break;ye--}}gt._gw=v.crispRound(ct,gt.gridwidth,1);for(var Ge=Jt?v.crispRound(ct,gt.minor.gridwidth,1):0,nn=qt.layer,Oe=qt.minorLayer,We=1;We>=0;We--){var je=We?nn:Oe;if(je){var _e=je.selectAll("path."+Vt).data(We?ee:Xt,pe);_e.exit().remove(),_e.enter().append("path").classed(Vt,1).classed("crisp",qt.crisp!==!1),_e.attr("transform",qt.transFn).attr("d",qt.path).each(function(he){return m.stroke(l.select(this),he.minor?gt.minor.gridcolor:gt.gridcolor||"#ddd")}).style("stroke-dasharray",function(he){return v.dashStyle(he.minor?gt.minor.griddash:gt.griddash,he.minor?gt.minor.gridwidth:gt.gridwidth)}).style("stroke-width",function(he){return(he.minor?Ge:gt._gw)+"px"}).style("display",null),typeof qt.path=="function"&&_e.attr("d",qt.path)}}$e(gt,[Z,rt])}},V.drawZeroLine=function(ct,gt,qt){qt=qt||qt;var Vt=gt._id+"zl",Jt=V.shouldShowZeroLine(ct,gt,qt.counterAxis),Xt=qt.layer.selectAll("path."+Vt).data(Jt?[{x:0,id:gt._id}]:[]);Xt.exit().remove(),Xt.enter().append("path").classed(Vt,1).classed("zl",1).classed("crisp",qt.crisp!==!1).each(function(){qt.layer.selectAll("path").sort(function(ee,re){return $(ee.id,re.id)})}),Xt.attr("transform",qt.transFn).attr("d",qt.path).call(m.stroke,gt.zerolinecolor||m.defaultLine).style("stroke-width",v.crispRound(ct,gt.zerolinewidth,gt._gw||1)+"px").style("display",null),$e(gt,[U])},V.drawLabels=function(ct,gt,qt){qt=qt||{};var Vt=ct._fullLayout,Jt=gt._id,Xt=Jt.charAt(0),ee=qt.cls||Jt+"tick",re=qt.vals.filter(function(Ye){return Ye.text}),fe=qt.labelFns,ye=qt.secondary?0:gt.tickangle,se=(gt._prevTickAngles||{})[ee],Ge=qt.layer.selectAll("g."+ee).data(gt.showticklabels?re:[],pe),nn=[];function Oe(Ye,rn){Ye.each(function(Ue){var Je=l.select(this),dn=Je.select(".text-math-group"),Mn=fe.anchorFn(Ue,rn),Sn=qt.transFn.call(Je.node(),Ue)+(f(rn)&&+rn!=0?" rotate("+rn+","+fe.xFn(Ue)+","+(fe.yFn(Ue)-Ue.fontSize/2)+")":""),vn=p.lineCount(Je),bn=dt*Ue.fontSize,Dn=fe.heightFn(Ue,f(rn)?+rn:0,(vn-1)*bn);if(Dn&&(Sn+=d(0,Dn)),dn.empty()){var yn=Je.select("text");yn.attr({transform:Sn,"text-anchor":Mn}),yn.style("opacity",1),gt._adjustTickLabelsOverflow&&gt._adjustTickLabelsOverflow()}else{var In=v.bBox(dn.node()).width*{end:-.5,start:.5}[Mn];dn.attr("transform",Sn+d(In,0))}})}Ge.enter().append("g").classed(ee,1).append("text").attr("text-anchor","middle").each(function(Ye){var rn=l.select(this),Ue=ct._promises.length;rn.call(p.positionText,fe.xFn(Ye),fe.yFn(Ye)).call(v.font,Ye.font,Ye.fontSize,Ye.fontColor).text(Ye.text).call(p.convertToTspans,ct),ct._promises[Ue]?nn.push(ct._promises.pop().then(function(){Oe(rn,ye)})):Oe(rn,ye)}),$e(gt,[z]),Ge.exit().remove(),qt.repositionOnUpdate&&Ge.each(function(Ye){l.select(this).select("text").call(p.positionText,fe.xFn(Ye),fe.yFn(Ye))}),gt._adjustTickLabelsOverflow=function(){var Ye=gt.ticklabeloverflow;if(Ye&&Ye!=="allow"){var rn=Ye.indexOf("hide")!==-1,Ue=gt._id.charAt(0)==="x",Je=0,dn=Ue?ct._fullLayout.width:ct._fullLayout.height;if(Ye.indexOf("domain")!==-1){var Mn=h.simpleMap(gt.range,gt.r2l);Je=gt.l2p(Mn[0])+gt._offset,dn=gt.l2p(Mn[1])+gt._offset}var Sn=Math.min(Je,dn),vn=Math.max(Je,dn),bn=gt.side,Dn=1/0,yn=-1/0;for(var In in Ge.each(function(Vn){var Kn=l.select(this);if(Kn.select(".text-math-group").empty()){var qn=v.bBox(Kn.node()),Wn=0;Ue?(qn.right>vn||qn.left<Sn)&&(Wn=1):(qn.bottom>vn||qn.top+(gt.tickangle?0:Vn.fontSize/4)<Sn)&&(Wn=1);var fr=Kn.select("text");Wn?rn&&fr.style("opacity",0):(fr.style("opacity",1),Dn=bn==="bottom"||bn==="right"?Math.min(Dn,Ue?qn.top:qn.left):-1/0,yn=bn==="top"||bn==="left"?Math.max(yn,Ue?qn.bottom:qn.right):1/0)}}),Vt._plots){var pn=Vt._plots[In];if(gt._id===pn.xaxis._id||gt._id===pn.yaxis._id){var Bn=Ue?pn.yaxis:pn.xaxis;Bn&&(Bn["_visibleLabelMin_"+gt._id]=Dn,Bn["_visibleLabelMax_"+gt._id]=yn)}}}},gt._hideCounterAxisInsideTickLabels=function(Ye){var rn=gt._id.charAt(0)==="x",Ue=[];for(var Je in Vt._plots){var dn=Vt._plots[Je];gt._id!==dn.xaxis._id&&gt._id!==dn.yaxis._id||Ue.push(rn?dn.yaxis:dn.xaxis)}Ue.forEach(function(Mn,Sn){Mn&&Ae(Mn)&&(Ye||[U,rt,Z,ft,z]).forEach(function(vn){var bn=vn.K==="tick"&&vn.L==="text"&&gt.ticklabelmode==="period",Dn=Vt._plots[gt._mainSubplot];(vn.K===U.K?Dn.zerolinelayer.selectAll("."+gt._id+"zl"):vn.K===rt.K?Dn.minorGridlayer.selectAll("."+gt._id):vn.K===Z.K?Dn.gridlayer.selectAll("."+gt._id):Dn[gt._id.charAt(0)+"axislayer"]).each(function(){var yn=l.select(this);vn.L&&(yn=yn.selectAll(vn.L)),yn.each(function(In){var pn=gt.l2p(bn?ce(In):In.x)+gt._offset,Bn=l.select(this);pn<gt["_visibleLabelMax_"+Mn._id]&&pn>gt["_visibleLabelMin_"+Mn._id]?Bn.style("display","none"):vn.K!=="tick"||Sn||Bn.style("display",null)})})})})},Oe(Ge,se+1?se:ye);var We=null;gt._selections&&(gt._selections[ee]=Ge);var je=[function(){return nn.length&&Promise.all(nn)}];gt.automargin&&Vt._redrawFromAutoMarginCount&&se===90?(We=90,je.push(function(){Oe(Ge,se)})):je.push(function(){if(Oe(Ge,ye),re.length&&Xt==="x"&&!f(ye)&&(gt.type!=="log"||String(gt.dtick).charAt(0)!=="D")){We=0;var Ye,rn=0,Ue=[];if(Ge.each(function(Kn){rn=Math.max(rn,Kn.fontSize);var qn=gt.l2p(Kn.x),Wn=jt(this),fr=v.bBox(Wn.node());Ue.push({top:0,bottom:10,height:10,left:qn-fr.width/2,right:qn+fr.width/2+2,width:fr.width+2})}),gt.tickson!=="boundaries"&&!gt.showdividers||qt.secondary){var Je=re.length,dn=Math.abs((re[Je-1].x-re[0].x)*gt._m)/(Je-1),Mn=gt.ticklabelposition||"",Sn=function(Kn){return Mn.indexOf(Kn)!==-1},vn=Sn("top"),bn=Sn("left"),Dn=Sn("right"),yn=Sn("bottom")||bn||vn||Dn?(gt.tickwidth||0)+6:0,In=dn<2.5*rn||gt.type==="multicategory"||gt._name==="realaxis";for(Ye=0;Ye<Ue.length-1;Ye++)if(h.bBoxIntersect(Ue[Ye],Ue[Ye+1],yn)){We=In?90:30;break}}else{var pn=2;for(gt.ticks&&(pn+=gt.tickwidth/2),Ye=0;Ye<Ue.length;Ye++){var Bn=re[Ye].xbnd,Vn=Ue[Ye];if(Bn[0]!==null&&Vn.left-gt.l2p(Bn[0])<pn||Bn[1]!==null&&gt.l2p(Bn[1])-Vn.right<pn){We=90;break}}}We&&Oe(Ge,We)}}),gt._tickAngles&&je.push(function(){gt._tickAngles[ee]=We===null?f(ye)?ye:0:We});var _e=function(){var Ye=0,rn=0;return Ge.each(function(Ue,Je){var dn,Mn=jt(this);Mn.select(".text-math-group").empty()&&(gt._vals[Je]&&(dn=gt._vals[Je].bb||v.bBox(Mn.node()),gt._vals[Je].bb=dn),Ye=Math.max(Ye,dn.width),rn=Math.max(rn,dn.height))}),{labelsMaxW:Ye,labelsMaxH:rn}},he=gt._anchorAxis;if(he&&(he.autorange||he.insiderange)&&Ae(gt)&&!J(Vt,gt._id)&&(Vt._insideTickLabelsUpdaterange||(Vt._insideTickLabelsUpdaterange={}),he.autorange&&(Vt._insideTickLabelsUpdaterange[he._name+".autorange"]=he.autorange,je.push(_e)),he.insiderange)){var Pe=_e(),an=gt._id.charAt(0)==="y"?Pe.labelsMaxW:Pe.labelsMaxH;an+=6,gt.ticklabelposition==="inside"&&(an+=gt.ticklen||0);var tn=gt.side==="right"||gt.side==="top"?1:-1,on=tn===1?1:0,be=tn===1?0:1,Re=[];Re[be]=he.range[be];var ze=he.d2p(he.range[on]),qe=he.d2p(he.range[be]),He=Math.abs(qe-ze);He-an>0?an*=1+an/(He-=an):an=0,gt._id.charAt(0)!=="y"&&(an=-an),Re[on]=he.p2d(he.d2p(he.range[on])+tn*an),he.autorange==="min"||he.autorange==="max reversed"?(Re[0]=null,he._rangeInitial0=void 0,he._rangeInitial1=void 0):he.autorange!=="max"&&he.autorange!=="min reversed"||(Re[1]=null,he._rangeInitial0=void 0,he._rangeInitial1=void 0),Vt._insideTickLabelsUpdaterange[he._name+".range"]=Re}var Xe=h.syncOrAsync(je);return Xe&&Xe.then&&ct._promises.push(Xe),Xe},V.getPxPosition=function(ct,gt){var qt,Vt=ct._fullLayout._size,Jt=gt._id.charAt(0),Xt=gt.side;return gt.anchor!=="free"?qt=gt._anchorAxis:Jt==="x"?qt={_offset:Vt.t+(1-(gt.position||0))*Vt.h,_length:0}:Jt==="y"&&(qt={_offset:Vt.l+(gt.position||0)*Vt.w+gt._shift,_length:0}),Xt==="top"||Xt==="left"?qt._offset:Xt==="bottom"||Xt==="right"?qt._offset+qt._length:void 0},V.shouldShowZeroLine=function(ct,gt,qt){var Vt=h.simpleMap(gt.range,gt.r2l);return Vt[0]*Vt[1]<=0&&gt.zeroline&&(gt.type==="linear"||gt.type==="-")&&!(gt.rangebreaks&&gt.maskBreaks(0)===et)&&(Le(gt,0)||!function(Jt,Xt,ee,re){var fe=ee._mainAxis;if(fe){var ye=Jt._fullLayout,se=Xt._id.charAt(0),Ge=V.counterLetter(Xt._id),nn=Xt._offset+(Math.abs(re[0])<Math.abs(re[1])==(se==="x")?0:Xt._length),Oe=ye._plots[ee._mainSubplot];if(!(Oe.mainplotinfo||Oe).overlays.length)return he(ee);for(var We=V.list(Jt,Ge),je=0;je<We.length;je++){var _e=We[je];if(_e._mainAxis===fe&&he(_e))return!0}}function he(Pe){if(!Pe.showline||!Pe.linewidth)return!1;var an=Math.max((Pe.linewidth+Xt.zerolinewidth)/2,1);function tn(Re){return typeof Re=="number"&&Math.abs(Re-nn)<an}if(tn(Pe._mainLinePosition)||tn(Pe._mainMirrorPosition))return!0;var on=Pe._linepositions||{};for(var be in on)if(tn(on[be][0])||tn(on[be][1]))return!0}}(ct,gt,qt,Vt)||function(Jt,Xt){for(var ee=Jt._fullData,re=Xt._mainSubplot,fe=Xt._id.charAt(0),ye=0;ye<ee.length;ye++){var se=ee[ye];if(se.visible===!0&&se.xaxis+se.yaxis===re&&(c.traceIs(se,"bar-like")&&se.orientation==={x:"h",y:"v"}[fe]||se.fill&&se.fill.charAt(se.fill.length-1)===fe))return!0}return!1}(ct,gt))},V.clipEnds=function(ct,gt){return gt.filter(function(qt){return Le(ct,qt.x)})},V.allowAutoMargin=function(ct){for(var gt=V.list(ct,"",!0),qt=0;qt<gt.length;qt++){var Vt=gt[qt];Vt.automargin&&(u.allowAutoMargin(ct,Rt(Vt)),Vt.mirror&&u.allowAutoMargin(ct,te(Vt))),c.getComponentMethod("rangeslider","isVisible")(Vt)&&u.allowAutoMargin(ct,ae(Vt))}},V.swap=function(ct,gt){for(var qt=function(Jt,Xt){var ee,re,fe=[];for(ee=0;ee<Xt.length;ee++){var ye=[],se=Jt._fullData[Xt[ee]].xaxis,Ge=Jt._fullData[Xt[ee]].yaxis;if(se&&Ge){for(re=0;re<fe.length;re++)fe[re].x.indexOf(se)===-1&&fe[re].y.indexOf(Ge)===-1||ye.push(re);if(ye.length){var nn,Oe=fe[ye[0]];if(ye.length>1)for(re=1;re<ye.length;re++)nn=fe[ye[re]],Se(Oe.x,nn.x),Se(Oe.y,nn.y);Se(Oe.x,[se]),Se(Oe.y,[Ge])}else fe.push({x:[se],y:[Ge]})}}return fe}(ct,gt),Vt=0;Vt<qt.length;Vt++)ne(ct,qt[Vt].x,qt[Vt].y)}},4322:function(a,s,o){var l=o(2770),f=o(1828),u=o(606).BADNUM,c=f.isArrayOrTypedArray,h=f.isDateTime,d=f.cleanNumber,p=Math.round;function g(v,y){return y?l(v):typeof v=="number"}function m(v){return Math.max(1,(v-1)/1e3)}a.exports=function(v,y,_){var x=v,w=_.noMultiCategory;if(c(x)&&!x.length)return"-";if(!w&&function(A){return c(A[0])&&c(A[1])}(x))return"multicategory";if(w&&Array.isArray(x[0])){for(var E=[],S=0;S<x.length;S++)if(c(x[S]))for(var C=0;C<x[S].length;C++)E.push(x[S][C]);x=E}if(function(A,O){for(var P=A.length,F=m(P),R=0,N=0,D={},I=0;I<P;I+=F){var B=A[p(I)],j=String(B);D[j]||(D[j]=1,h(B,O)&&R++,l(B)&&N++)}return R>2*N}(x,y))return"date";var T=_.autotypenumbers!=="strict";return function(A,O){for(var P=A.length,F=m(P),R=0,N=0,D={},I=0;I<P;I+=F){var B=A[p(I)],j=String(B);if(!D[j]){D[j]=1;var q=typeof B;q==="boolean"?N++:(O?d(B)!==u:q==="number")?R++:q==="string"&&N++}}return N>2*R}(x,T)?"category":function(A,O){for(var P=A.length,F=0;F<P;F++)if(g(A[F],O))return!0;return!1}(x,T)?"linear":"-"}},1453:function(a,s,o){var l=o(2770),f=o(3972),u=o(1828),c=o(4467),h=o(5501),d=o(3838),p=o(6218),g=o(8701),m=o(6115),v=o(9426),y=o(5258),_=o(2128),x=o(3608),w=o(1994),E=o(5555).WEEKDAY_PATTERN,S=o(5555).HOUR_PATTERN;function C(O,P,F){function R(U,Z){return u.coerce(O,P,d.rangebreaks,U,Z)}if(R("enabled")){var N=R("bounds");if(N&&N.length>=2){var D,I,B="";if(N.length===2){for(D=0;D<2;D++)if(I=A(N[D])){B=E;break}}var j=R("pattern",B);if(j===E)for(D=0;D<2;D++)(I=A(N[D]))&&(P.bounds[D]=N[D]=I-1);if(j)for(D=0;D<2;D++)switch(I=N[D],j){case E:if(!l(I)||(I=+I)!==Math.floor(I)||I<0||I>=7)return void(P.enabled=!1);P.bounds[D]=N[D]=I;break;case S:if(!l(I)||(I=+I)<0||I>24)return void(P.enabled=!1);P.bounds[D]=N[D]=I}if(F.autorange===!1){var q=F.range;if(q[0]<q[1]){if(N[0]<q[0]&&N[1]>q[1])return void(P.enabled=!1)}else if(N[0]>q[0]&&N[1]<q[1])return void(P.enabled=!1)}}else{var et=R("values");if(!et||!et.length)return void(P.enabled=!1);R("dvalue")}}}a.exports=function(O,P,F,R,N){var D,I=R.letter,B=R.font||{},j=R.splomStash||{},q=F("visible",!R.visibleDflt),et=P._template||{},U=P.type||et.type||"-";U==="date"&&(f.getComponentMethod("calendars","handleDefaults")(O,P,"calendar",R.calendar),R.noTicklabelmode||(D=F("ticklabelmode")));var Z="";R.noTicklabelposition&&U!=="multicategory"||(Z=u.coerce(O,P,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:D==="period"?["outside","inside"]:I==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),R.noTicklabeloverflow||F("ticklabeloverflow",Z.indexOf("inside")!==-1?"hide past domain":U==="category"||U==="multicategory"?"allow":"hide past div"),w(P,N),x(O,P,F,R),y(O,P,F,R),U==="category"||R.noHover||F("hoverformat");var rt=F("color"),ft=rt!==d.color.dflt?rt:B.color,z=j.label||N._dfltTitle[I];if(v(O,P,F,U,R),!q)return P;F("title.text",z),u.coerceFont(F,"title.font",{family:B.family,size:u.bigFont(B.size),color:ft}),p(O,P,F,U);var W=R.hasMinor;if(W&&(c.newContainer(P,"minor"),p(O,P,F,U,{isMinor:!0})),m(O,P,F,U,R),g(O,P,F,R),W){var X=R.isMinor;R.isMinor=!0,g(O,P,F,R),R.isMinor=X}_(O,P,F,{dfltColor:rt,bgColor:R.bgColor,showGrid:R.showGrid,hasMinor:W,attributes:d}),!W||P.minor.ticks||P.minor.showgrid||delete P.minor,(P.showline||P.ticks)&&F("mirror");var it,lt=U==="multicategory";if(R.noTickson||U!=="category"&&!lt||!P.ticks&&!P.showgrid||(lt&&(it="boundaries"),F("tickson",it)==="boundaries"&&delete P.ticklabelposition),lt&&F("showdividers")&&(F("dividercolor"),F("dividerwidth")),U==="date")if(h(O,P,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:C}),P.rangebreaks.length){for(var dt=0;dt<P.rangebreaks.length;dt++)if(P.rangebreaks[dt].pattern===E){P._hasDayOfWeekBreaks=!0;break}if(w(P,N),N._has("scattergl")||N._has("splom"))for(var nt=0;nt<R.data.length;nt++){var V=R.data[nt];V.type!=="scattergl"&&V.type!=="splom"||(V.visible=!1,u.warn(V.type+" traces do not work on axes with rangebreaks. Setting trace "+V.index+" to `visible: false`."))}}else delete P.rangebreaks;return P};var T={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function A(O){if(typeof O=="string")return T[O.substr(0,3).toLowerCase()]}},2663:function(a,s,o){var l=o(1562),f=l.FORMAT_LINK,u=l.DATE_FORMAT_LINK;function c(d,p){return["Sets the "+d+" formatting rule"+(p?"for `"+p+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+f+"."].join(" ")}function h(d,p){return c(d,p)+[" And for dates see: "+u+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}a.exports={axisHoverFormat:function(d,p){return{valType:"string",dflt:"",editType:"none",description:(p?c:h)("hover text",d)+["By default the values are formatted using "+(p?"generic number format":"`"+d+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:c,descriptionWithDates:h}},1675:function(a,s,o){var l=o(3972),f=o(5555);function u(c,h){if(h&&h.length){for(var d=0;d<h.length;d++)if(h[d][c])return!0}return!1}s.id2name=function(c){if(typeof c=="string"&&c.match(f.AX_ID_PATTERN)){var h=c.split(" ")[0].substr(1);return h==="1"&&(h=""),c.charAt(0)+"axis"+h}},s.name2id=function(c){if(c.match(f.AX_NAME_PATTERN)){var h=c.substr(5);return h==="1"&&(h=""),c.charAt(0)+h}},s.cleanId=function(c,h,d){var p=/( domain)$/.test(c);if(typeof c=="string"&&c.match(f.AX_ID_PATTERN)&&(!h||c.charAt(0)===h)&&(!p||d)){var g=c.split(" ")[0].substr(1).replace(/^0+/,"");return g==="1"&&(g=""),c.charAt(0)+g+(p&&d?" domain":"")}},s.list=function(c,h,d){var p=c._fullLayout;if(!p)return[];var g,m=s.listIds(c,h),v=new Array(m.length);for(g=0;g<m.length;g++){var y=m[g];v[g]=p[y.charAt(0)+"axis"+y.substr(1)]}if(!d){var _=p._subplots.gl3d||[];for(g=0;g<_.length;g++){var x=p[_[g]];h?v.push(x[h+"axis"]):v.push(x.xaxis,x.yaxis,x.zaxis)}}return v},s.listIds=function(c,h){var d=c._fullLayout;if(!d)return[];var p=d._subplots;return h?p[h+"axis"]:p.xaxis.concat(p.yaxis)},s.getFromId=function(c,h,d){var p=c._fullLayout;return h=h===void 0||typeof h!="string"?h:h.replace(" domain",""),d==="x"?h=h.replace(/y[0-9]*/,""):d==="y"&&(h=h.replace(/x[0-9]*/,"")),p[s.id2name(h)]},s.getFromTrace=function(c,h,d){var p=c._fullLayout,g=null;if(l.traceIs(h,"gl3d")){var m=h.scene;m.substr(0,5)==="scene"&&(g=p[m][d+"axis"])}else g=s.getFromId(c,h[d+"axis"]||d);return g},s.idSort=function(c,h){var d=c.charAt(0),p=h.charAt(0);return d!==p?d>p?1:-1:+(c.substr(1)||1)-+(h.substr(1)||1)},s.ref2id=function(c){return!!/^[xyz]/.test(c)&&c.split(" ")[0]},s.isLinked=function(c,h){return u(h,c._axisMatchGroups)||u(h,c._axisConstraintGroups)}},5258:function(a){a.exports=function(s,o,l,f){if(o.type==="category"){var u,c=s.categoryarray,h=Array.isArray(c)&&c.length>0;h&&(u="array");var d,p=l("categoryorder",u);p==="array"&&(d=l("categoryarray")),h||p!=="array"||(p=o.categoryorder="trace"),p==="trace"?o._initialCategories=[]:p==="array"?o._initialCategories=d.slice():(d=function(g,m){var v,y,_,x=m.dataAttr||g._id.charAt(0),w={};if(m.axData)v=m.axData;else for(v=[],y=0;y<m.data.length;y++){var E=m.data[y];E[x+"axis"]===g._id&&v.push(E)}for(y=0;y<v.length;y++){var S=v[y][x];for(_=0;_<S.length;_++){var C=S[_];C!=null&&(w[C]=1)}}return Object.keys(w)}(o,f).sort(),p==="category ascending"?o._initialCategories=d:p==="category descending"&&(o._initialCategories=d.reverse()))}}},6287:function(a,s,o){var l=o(2770),f=o(1828),u=o(606),c=u.ONEDAY,h=u.ONEWEEK;s.dtick=function(d,p){var g=p==="log",m=p==="date",v=p==="category",y=m?c:1;if(!d)return y;if(l(d))return(d=Number(d))<=0?y:v?Math.max(1,Math.round(d)):m?Math.max(.1,d):d;if(typeof d!="string"||!m&&!g)return y;var _=d.charAt(0),x=d.substr(1);return(x=l(x)?Number(x):0)<=0||!(m&&_==="M"&&x===Math.round(x)||g&&_==="L"||g&&_==="D"&&(x===1||x===2))?y:d},s.tick0=function(d,p,g,m){return p==="date"?f.cleanDate(d,f.dateTick0(g,m%h==0?1:0)):m!=="D1"&&m!=="D2"?l(d)?Number(d):0:void 0}},5555:function(a,s,o){var l=o(587).counter;a.exports={idRegex:{x:l("x","( domain)?"),y:l("y","( domain)?")},attrRegex:l("[xy]axis"),xAxisMatch:l("xaxis"),yAxisMatch:l("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},9082:function(a,s,o){var l=o(1828),f=o(1739),u=o(1675).id2name,c=o(3838),h=o(2449),d=o(1994),p=o(606).ALMOST_EQUAL,g=o(8783).FROM_BL;function m(S,C,T){var A=T.axIds,O=T.layoutOut,P=T.hasImage,F=O._axisConstraintGroups,R=O._axisMatchGroups,N=C._id,D=N.charAt(0),I=((O._splomAxes||{})[D]||{})[N]||{},B=C._id,j=B.charAt(0)==="x";function q(G,H){return l.coerce(S,C,c,G,H)}C._matchGroup=null,C._constraintGroup=null,q("constrain",P?"domain":"range"),l.coerce(S,C,{constraintoward:{valType:"enumerated",values:j?["left","center","right"]:["bottom","middle","top"],dflt:j?"center":"middle"}},"constraintoward");var et,U,Z=C.type,rt=[];for(et=0;et<A.length;et++)(U=A[et])!==B&&O[u(U)].type===Z&&rt.push(U);var ft=y(F,B);if(ft){var z=[];for(et=0;et<rt.length;et++)ft[U=rt[et]]||z.push(U);rt=z}var W,X,it=rt.length;it&&(S.matches||I.matches)&&(W=l.coerce(S,C,{matches:{valType:"enumerated",values:rt,dflt:rt.indexOf(I.matches)!==-1?I.matches:void 0}},"matches"));var lt=P&&!j?C.anchor:void 0;if(it&&!W&&(S.scaleanchor||lt)&&(X=l.coerce(S,C,{scaleanchor:{valType:"enumerated",values:rt.concat([!1])}},"scaleanchor",lt)),W){C._matchGroup=_(R,B,W,1);var dt=O[u(W)],nt=v(O,C)/v(O,dt);j!==(W.charAt(0)==="x")&&(nt=(j?"x":"y")+nt),_(F,B,W,nt)}else S.matches&&A.indexOf(S.matches)!==-1&&l.warn("ignored "+C._name+'.matches: "'+S.matches+'" to avoid an infinite loop');if(X){var V=q("scaleratio");V||(V=C.scaleratio=1),_(F,B,X,V)}else S.scaleanchor&&A.indexOf(S.scaleanchor)!==-1&&l.warn("ignored "+C._name+'.scaleanchor: "'+S.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function v(S,C){var T=C.domain;return T||(T=S[u(C.overlaying)].domain),T[1]-T[0]}function y(S,C){for(var T=0;T<S.length;T++)if(S[T][C])return S[T];return null}function _(S,C,T,A){var O,P,F,R,N,D=y(S,C);D===null?((D={})[C]=1,N=S.length,S.push(D)):N=S.indexOf(D);var I=Object.keys(D);for(O=0;O<S.length;O++)if(F=S[O],O!==N&&F[T]){var B=F[T];for(P=0;P<I.length;P++)F[R=I[P]]=x(B,x(A,D[R]));return void S.splice(N,1)}if(A!==1)for(P=0;P<I.length;P++){var j=I[P];D[j]=x(A,D[j])}D[T]=1}function x(S,C){var T,A,O="",P="";typeof S=="string"&&(T=(O=S.match(/^[xy]*/)[0]).length,S=+S.substr(T)),typeof C=="string"&&(A=(P=C.match(/^[xy]*/)[0]).length,C=+C.substr(A));var F=S*C;return T||A?T&&A&&O.charAt(0)!==P.charAt(0)?T===A?F:(T>A?O.substr(A):P.substr(T))+F:O+P+S*C:F}function w(S,C){for(var T=C._size,A=T.h/T.w,O={},P=Object.keys(S),F=0;F<P.length;F++){var R=P[F],N=S[R];if(typeof N=="string"){var D=N.match(/^[xy]*/)[0],I=D.length;N=+N.substr(I);for(var B=D.charAt(0)==="y"?A:1/A,j=0;j<I;j++)N*=B}O[R]=N}return O}function E(S,C){var T=S._inputDomain,A=g[S.constraintoward],O=T[0]+(T[1]-T[0])*A;S.domain=S._input.domain=[O+(T[0]-O)/C,O+(T[1]-O)/C],S.setScale()}s.handleDefaults=function(S,C,T){var A,O,P,F,R,N,D,I,B=T.axIds,j=T.axHasImage,q=C._axisConstraintGroups=[],et=C._axisMatchGroups=[];for(A=0;A<B.length;A++)m(R=S[F=u(B[A])],N=C[F],{axIds:B,layoutOut:C,hasImage:j[F]});function U(dt,nt){for(A=0;A<dt.length;A++)for(P in O=dt[A])C[u(P)][nt]=O}for(U(et,"_matchGroup"),A=0;A<q.length;A++)for(P in O=q[A])if((N=C[u(P)]).fixedrange){for(var Z in O){var rt=u(Z);(S[rt]||{}).fixedrange===!1&&l.warn("fixedrange was specified as false for axis "+rt+" but was overridden because another axis in its constraint group has fixedrange true"),C[rt].fixedrange=!0}break}for(A=0;A<q.length;){for(P in O=q[A]){(N=C[u(P)])._matchGroup&&Object.keys(N._matchGroup).length===Object.keys(O).length&&(q.splice(A,1),A--);break}A++}U(q,"_constraintGroup");var ft=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],z=!1,W=!1;function X(){I=N[D],D==="rangebreaks"&&(W=N._hasDayOfWeekBreaks)}for(A=0;A<et.length;A++){O=et[A];for(var it=0;it<ft.length;it++){var lt;for(P in D=ft[it],I=null,O)if(R=S[F=u(P)],N=C[F],D in N){if(!N.matches&&(lt=N,D in R)){X();break}I===null&&D in R&&X()}if(D==="range"&&I&&R.range&&R.range.length===2&&R.range[0]!==null&&R.range[1]!==null&&(z=!0),D==="autorange"&&I===null&&z&&(I=!1),I===null&&D in lt&&(I=lt[D]),I!==null)for(P in O)(N=C[u(P)])[D]=D==="range"?I.slice():I,D==="rangebreaks"&&(N._hasDayOfWeekBreaks=W,d(N,C))}}},s.enforce=function(S){var C,T,A,O,P,F,R,N,D=S._fullLayout,I=D._axisConstraintGroups||[];for(C=0;C<I.length;C++){A=w(I[C],D);var B=Object.keys(A),j=1/0,q=0,et=1/0,U={},Z={},rt=!1;for(T=0;T<B.length;T++)Z[O=B[T]]=P=D[u(O)],P._inputDomain?P.domain=P._inputDomain.slice():P._inputDomain=P.domain.slice(),P._inputRange||(P._inputRange=P.range.slice()),P.setScale(),U[O]=F=Math.abs(P._m)/A[O],j=Math.min(j,F),P.constrain!=="domain"&&P._constraintShrinkable||(et=Math.min(et,F)),delete P._constraintShrinkable,q=Math.max(q,F),P.constrain==="domain"&&(rt=!0);if(!(j>p*q)||rt){for(T=0;T<B.length;T++)if(F=U[O=B[T]],R=(P=Z[O]).constrain,F!==et||R==="domain")if(N=F/et,R==="range")h(P,N);else{var ft=P._inputDomain,z=(P.domain[1]-P.domain[0])/(ft[1]-ft[0]),W=(P.r2l(P.range[1])-P.r2l(P.range[0]))/(P.r2l(P._inputRange[1])-P.r2l(P._inputRange[0]));if((N/=z)*W<1){P.domain=P._input.domain=ft.slice(),h(P,N);continue}if(W<1&&(P.range=P._input.range=P._inputRange.slice(),N*=W),P.autorange){var X=P.r2l(P.range[0]),it=P.r2l(P.range[1]),lt=(X+it)/2,dt=lt,nt=lt,V=Math.abs(it-lt),G=lt-V*N*1.0001,H=lt+V*N*1.0001,$=f.makePadFn(D,P,0),J=f.makePadFn(D,P,1);E(P,N);var Q,ot,st=Math.abs(P._m),ht=f.concatExtremes(S,P),xt=ht.min,Pt=ht.max;for(ot=0;ot<xt.length;ot++)(Q=xt[ot].val-$(xt[ot])/st)>G&&Q<dt&&(dt=Q);for(ot=0;ot<Pt.length;ot++)(Q=Pt[ot].val+J(Pt[ot])/st)<H&&Q>nt&&(nt=Q);N/=(nt-dt)/(2*V),dt=P.l2r(dt),nt=P.l2r(nt),P.range=P._input.range=X<it?[dt,nt]:[nt,dt]}E(P,N)}}}},s.getAxisGroup=function(S,C){for(var T=S._axisMatchGroups,A=0;A<T.length;A++)if(T[A][C])return"g"+A;return C},s.clean=function(S,C){if(C._inputDomain){for(var T=!1,A=C._id,O=S._fullLayout._axisConstraintGroups,P=0;P<O.length;P++)if(O[P][A]){T=!0;break}T&&C.constrain==="domain"||(C._input.domain=C.domain=C._inputDomain,delete C._inputDomain)}}},9323:function(a,s,o){var l=o(9898),f=o(1828),u=f.numberFormat,c=o(4267),h=o(8520),d=o(3972),p=f.strTranslate,g=o(3893),m=o(7901),v=o(1424),y=o(211),_=o(9298),x=o(6964),w=o(8569),E=o(4505),S=E.selectingOrDrawing,C=E.freeMode,T=o(8783).FROM_TL,A=o(3306),O=o(1549).redrawReglTraces,P=o(4875),F=o(1675).getFromId,R=o(7322).prepSelect,N=o(7322).clearOutline,D=o(7322).selectOnClick,I=o(2449),B=o(5555),j=B.MINDRAG,q=B.MINZOOM,et=!0;function U(Q,ot,st,ht){var xt=f.ensureSingle(Q.draglayer,ot,st,function(Pt){Pt.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",Q.id)});return xt.call(x,ht),xt.node()}function Z(Q,ot,st,ht,xt,Pt,It){var zt=U(Q,"rect",ot,st);return l.select(zt).call(v.setRect,ht,xt,Pt,It),zt}function rt(Q,ot){for(var st=0;st<Q.length;st++)if(!Q[st].fixedrange)return ot;return""}function ft(Q,ot,st,ht,xt){for(var Pt=0;Pt<Q.length;Pt++){var It=Q[Pt];if(!It.fixedrange)if(It.rangebreaks){var zt=It._id.charAt(0)==="y",pt=zt?1-ot:ot,yt=zt?1-st:st;ht[It._name+".range[0]"]=It.l2r(It.p2l(pt*It._length)),ht[It._name+".range[1]"]=It.l2r(It.p2l(yt*It._length))}else{var wt=It._rl[0],St=It._rl[1]-wt;ht[It._name+".range[0]"]=It.l2r(wt+St*ot),ht[It._name+".range[1]"]=It.l2r(wt+St*st)}}if(xt&&xt.length){var Ut=(ot+(1-st))/2;ft(xt,Ut,1-Ut,ht,[])}}function z(Q,ot){for(var st=0;st<Q.length;st++){var ht=Q[st];if(!ht.fixedrange){if(ht.rangebreaks){var xt=ht._length,Pt=(ht.p2l(0+ot)-ht.p2l(0)+(ht.p2l(xt+ot)-ht.p2l(xt)))/2;ht.range=[ht.l2r(ht._rl[0]-Pt),ht.l2r(ht._rl[1]-Pt)]}else ht.range=[ht.l2r(ht._rl[0]-ot/ht._m),ht.l2r(ht._rl[1]-ot/ht._m)];ht.limitRange&&ht.limitRange()}}}function W(Q){return 1-(Q>=0?Math.min(Q,.9):1/(1/Math.max(Q,-.3)+3.222))}function X(Q,ot,st,ht,xt){return Q.append("path").attr("class","zoombox").style({fill:ot>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",p(st,ht)).attr("d",xt+"Z")}function it(Q,ot,st){return Q.append("path").attr("class","zoombox-corners").style({fill:m.background,stroke:m.defaultLine,"stroke-width":1,opacity:0}).attr("transform",p(ot,st)).attr("d","M0,0Z")}function lt(Q,ot,st,ht,xt,Pt){Q.attr("d",ht+"M"+st.l+","+st.t+"v"+st.h+"h"+st.w+"v-"+st.h+"h-"+st.w+"Z"),dt(Q,ot,xt,Pt)}function dt(Q,ot,st,ht){st||(Q.transition().style("fill",ht>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ot.transition().style("opacity",1).duration(200))}function nt(Q){l.select(Q).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function V(Q){et&&Q.data&&Q._context.showTips&&(f.notifier(f._(Q,"Double-click to zoom back out"),"long"),et=!1)}function G(Q){var ot=Math.floor(Math.min(Q.b-Q.t,Q.r-Q.l,q)/2);return"M"+(Q.l-3.5)+","+(Q.t-.5+ot)+"h3v"+-ot+"h"+ot+"v-3h-"+(ot+3)+"ZM"+(Q.r+3.5)+","+(Q.t-.5+ot)+"h-3v"+-ot+"h"+-ot+"v-3h"+(ot+3)+"ZM"+(Q.r+3.5)+","+(Q.b+.5-ot)+"h-3v"+ot+"h"+-ot+"v3h"+(ot+3)+"ZM"+(Q.l-3.5)+","+(Q.b+.5-ot)+"h3v"+ot+"h"+ot+"v3h-"+(ot+3)+"Z"}function H(Q,ot,st,ht,xt){for(var Pt,It,zt,pt,yt=!1,wt={},St={},Ut=(xt||{}).xaHash,Gt=(xt||{}).yaHash,mt=0;mt<ot.length;mt++){var Tt=ot[mt];for(Pt in st)if(Tt[Pt]){for(zt in Tt)xt&&(Ut[zt]||Gt[zt])||(zt.charAt(0)==="x"?st:ht)[zt]||(wt[zt]=Pt);for(It in ht)xt&&(Ut[It]||Gt[It])||!Tt[It]||(yt=!0)}for(It in ht)if(Tt[It])for(pt in Tt)xt&&(Ut[pt]||Gt[pt])||(pt.charAt(0)==="x"?st:ht)[pt]||(St[pt]=It)}yt&&(f.extendFlat(wt,St),St={});var At={},Et=[];for(zt in wt){var Mt=F(Q,zt);Et.push(Mt),At[Mt._id]=Mt}var Nt={},Ft=[];for(pt in St){var Lt=F(Q,pt);Ft.push(Lt),Nt[Lt._id]=Lt}return{xaHash:At,yaHash:Nt,xaxes:Et,yaxes:Ft,xLinks:wt,yLinks:St,isSubplotConstrained:yt}}function $(Q,ot){if(h){var st=Q.onwheel!==void 0?"wheel":"mousewheel";Q._onwheel&&Q.removeEventListener(st,Q._onwheel),Q._onwheel=ot,Q.addEventListener(st,ot,{passive:!1})}else Q.onwheel!==void 0?Q.onwheel=ot:Q.onmousewheel!==void 0?Q.onmousewheel=ot:Q.isAddedWheelEvent||(Q.isAddedWheelEvent=!0,Q.addEventListener("wheel",ot,{passive:!1}))}function J(Q){var ot=[];for(var st in Q)ot.push(Q[st]);return ot}a.exports={makeDragBox:function(Q,ot,st,ht,xt,Pt,It,zt){var pt,yt,wt,St,Ut,Gt,mt,Tt,At,Et,Mt,Nt,Ft,Lt,Dt,kt,Wt,Qt,Ht,oe,ce,pe,we,Le=Q._fullLayout._zoomlayer,jt=It+zt==="nsew",Rt=(It+zt).length===1;function te(){if(pt=ot.xaxis,yt=ot.yaxis,At=pt._length,Et=yt._length,mt=pt._offset,Tt=yt._offset,(wt={})[pt._id]=pt,(St={})[yt._id]=yt,It&&zt)for(var be=ot.overlays,Re=0;Re<be.length;Re++){var ze=be[Re].xaxis;wt[ze._id]=ze;var qe=be[Re].yaxis;St[qe._id]=qe}Ut=J(wt),Gt=J(St),Ft=rt(Ut,zt),Lt=rt(Gt,It),Dt=!Lt&&!Ft,Nt=H(Q,Q._fullLayout._axisMatchGroups,wt,St);var He=(Mt=H(Q,Q._fullLayout._axisConstraintGroups,wt,St,Nt)).isSubplotConstrained||Nt.isSubplotConstrained;kt=zt||He,Wt=It||He;var Xe=Q._fullLayout;Qt=Xe._has("scattergl"),Ht=Xe._has("splom"),oe=Xe._has("svg")}st+=ot.yaxis._shift,te();var ae=function(be,Re,ze){return be?be==="nsew"?ze?"":Re==="pan"?"move":"crosshair":be.toLowerCase()+"-resize":"pointer"}(Lt+Ft,Q._fullLayout.dragmode,jt),Se=Z(ot,It+zt+"drag",ae,st,ht,xt,Pt);if(Dt&&!jt)return Se.onmousedown=null,Se.style.pointerEvents="none",Se;var ne,ge,xe,Fe,Ae,$e,Me,ct,gt,qt,Vt={element:Se,gd:Q,plotinfo:ot};function Jt(){Vt.plotinfo.selection=!1,N(Q)}function Xt(be,Re){var ze=Vt.gd;if(ze._fullLayout._activeShapeIndex>=0)ze._fullLayout._deactivateShape(ze);else{var qe=ze._fullLayout.clickmode;if(nt(ze),be!==2||Rt||_e(),jt)qe.indexOf("select")>-1&&D(Re,ze,Ut,Gt,ot.id,Vt),qe.indexOf("event")>-1&&y.click(ze,Re,ot.id);else if(be===1&&Rt){var He=It?yt:pt,Xe=It==="s"||zt==="w"?0:1,Ye=He._name+".range["+Xe+"]",rn=function(dn,Mn){var Sn,vn=dn.range[Mn],bn=Math.abs(vn-dn.range[1-Mn]);return dn.type==="date"?vn:dn.type==="log"?(Sn=Math.ceil(Math.max(0,-Math.log(bn)/Math.LN10))+3,u("."+Sn+"g")(Math.pow(10,vn))):(Sn=Math.floor(Math.log(Math.abs(vn))/Math.LN10)-Math.floor(Math.log(bn)/Math.LN10)+4,u("."+String(Sn)+"g")(vn))}(He,Xe),Ue="left",Je="middle";if(He.fixedrange)return;It?(Je=It==="n"?"top":"bottom",He.side==="right"&&(Ue="right")):zt==="e"&&(Ue="right"),ze._context.showAxisRangeEntryBoxes&&l.select(Se).call(g.makeEditable,{gd:ze,immediate:!0,background:ze._fullLayout.paper_bgcolor,text:String(rn),fill:He.tickfont?He.tickfont.color:"#444",horizontalAlign:Ue,verticalAlign:Je}).on("edit",function(dn){var Mn=He.d2r(dn);Mn!==void 0&&d.call("_guiRelayout",ze,Ye,Mn)})}}}function ee(be,Re){if(Q._transitioningWithDuration)return!1;var ze=Math.max(0,Math.min(At,pe*be+ne)),qe=Math.max(0,Math.min(Et,we*Re+ge)),He=Math.abs(ze-ne),Xe=Math.abs(qe-ge);function Ye(){Me="",xe.r=xe.l,xe.t=xe.b,gt.attr("d","M0,0Z")}if(xe.l=Math.min(ne,ze),xe.r=Math.max(ne,ze),xe.t=Math.min(ge,qe),xe.b=Math.max(ge,qe),Mt.isSubplotConstrained)He>q||Xe>q?(Me="xy",He/At>Xe/Et?(Xe=He*Et/At,ge>qe?xe.t=ge-Xe:xe.b=ge+Xe):(He=Xe*At/Et,ne>ze?xe.l=ne-He:xe.r=ne+He),gt.attr("d",G(xe))):Ye();else if(Nt.isSubplotConstrained)if(He>q||Xe>q){Me="xy";var rn=Math.min(xe.l/At,(Et-xe.b)/Et),Ue=Math.max(xe.r/At,(Et-xe.t)/Et);xe.l=rn*At,xe.r=Ue*At,xe.b=(1-rn)*Et,xe.t=(1-Ue)*Et,gt.attr("d",G(xe))}else Ye();else!Lt||Xe<Math.min(Math.max(.6*He,j),q)?He<j||!Ft?Ye():(xe.t=0,xe.b=Et,Me="x",gt.attr("d",function(Je,dn){return"M"+(Je.l-.5)+","+(dn-q-.5)+"h-3v"+(2*q+1)+"h3ZM"+(Je.r+.5)+","+(dn-q-.5)+"h3v"+(2*q+1)+"h-3Z"}(xe,ge))):!Ft||He<Math.min(.6*Xe,q)?(xe.l=0,xe.r=At,Me="y",gt.attr("d",function(Je,dn){return"M"+(dn-q-.5)+","+(Je.t-.5)+"v-3h"+(2*q+1)+"v3ZM"+(dn-q-.5)+","+(Je.b+.5)+"v3h"+(2*q+1)+"v-3Z"}(xe,ne))):(Me="xy",gt.attr("d",G(xe)));xe.w=xe.r-xe.l,xe.h=xe.b-xe.t,Me&&(qt=!0),Q._dragged=qt,lt(ct,gt,xe,Ae,$e,Fe),re(),Q.emit("plotly_relayouting",ce),$e=!0}function re(){ce={},Me!=="xy"&&Me!=="x"||(ft(Ut,xe.l/At,xe.r/At,ce,Mt.xaxes),We("x",ce)),Me!=="xy"&&Me!=="y"||(ft(Gt,(Et-xe.b)/Et,(Et-xe.t)/Et,ce,Mt.yaxes),We("y",ce))}function fe(){re(),nt(Q),he(),V(Q)}Vt.prepFn=function(be,Re,ze){var qe=Vt.dragmode,He=Q._fullLayout.dragmode;He!==qe&&(Vt.dragmode=He),te(),pe=Q._fullLayout._invScaleX,we=Q._fullLayout._invScaleY,Dt||(jt?be.shiftKey?He==="pan"?He="zoom":S(He)||(He="pan"):be.ctrlKey&&(He="pan"):He="pan"),C(He)?Vt.minDrag=1:Vt.minDrag=void 0,S(He)?(Vt.xaxes=Ut,Vt.yaxes=Gt,R(be,Re,ze,Vt,He)):(Vt.clickFn=Xt,S(qe)&&Jt(),Dt||(He==="zoom"?(Vt.moveFn=ee,Vt.doneFn=fe,Vt.minDrag=1,function(Xe,Ye,rn){var Ue=Se.getBoundingClientRect();ne=Ye-Ue.left,ge=rn-Ue.top,Q._fullLayout._calcInverseTransform(Q);var Je=f.apply3DTransform(Q._fullLayout._invTransform)(ne,ge);ne=Je[0],ge=Je[1],xe={l:ne,r:ne,w:0,t:ge,b:ge,h:0},Fe=Q._hmpixcount?Q._hmlumcount/Q._hmpixcount:c(Q._fullLayout.plot_bgcolor).getLuminance(),$e=!1,Me="xy",qt=!1,ct=X(Le,Fe,mt,Tt,Ae="M0,0H"+At+"V"+Et+"H0V0"),gt=it(Le,mt,Tt)}(0,Re,ze)):He==="pan"&&(Vt.moveFn=Oe,Vt.doneFn=he))),Q._fullLayout._redrag=function(){var Xe=Q._dragdata;if(Xe&&Xe.element===Se){var Ye=Q._fullLayout.dragmode;S(Ye)||(te(),Pe([0,0,At,Et]),Vt.moveFn(Xe.dx,Xe.dy))}}},w.init(Vt);var ye=[0,0,At,Et],se=null,Ge=B.REDRAWDELAY,nn=ot.mainplot?Q._fullLayout._plots[ot.mainplot]:ot;function Oe(be,Re){if(be*=pe,Re*=we,!Q._transitioningWithDuration){if(Q._fullLayout._replotting=!0,Ft==="ew"||Lt==="ns"){var ze=Ft?-be:0,qe=Lt?-Re:0;if(Nt.isSubplotConstrained){if(Ft&&Lt){var He=(be/At-Re/Et)/2;ze=-(be=He*At),qe=-(Re=-He*Et)}Lt?ze=-qe*At/Et:qe=-ze*Et/At}return Ft&&(z(Ut,be),We("x")),Lt&&(z(Gt,Re),We("y")),Pe([ze,qe,At,Et]),je(),void Q.emit("plotly_relayouting",ce)}var Xe,Ye,rn=Ft==="w"==(Lt==="n")?1:-1;if(Ft&&Lt&&(Mt.isSubplotConstrained||Nt.isSubplotConstrained)){var Ue=(be/At+rn*Re/Et)/2;be=Ue*At,Re=rn*Ue*Et}if(Ft==="w"?be=Sn(Ut,0,be):Ft==="e"?be=Sn(Ut,1,-be):Ft||(be=0),Lt==="n"?Re=Sn(Gt,1,Re):Lt==="s"?Re=Sn(Gt,0,-Re):Lt||(Re=0),Xe=Ft==="w"?be:0,Ye=Lt==="n"?Re:0,Mt.isSubplotConstrained&&!Nt.isSubplotConstrained||Nt.isSubplotConstrained&&Ft&&Lt&&rn>0){var Je;if(Nt.isSubplotConstrained||!Ft&&Lt.length===1){for(Je=0;Je<Ut.length;Je++)Ut[Je].range=Ut[Je]._r.slice(),I(Ut[Je],1-Re/Et);Xe=(be=Re*At/Et)/2}if(Nt.isSubplotConstrained||!Lt&&Ft.length===1){for(Je=0;Je<Gt.length;Je++)Gt[Je].range=Gt[Je]._r.slice(),I(Gt[Je],1-be/At);Ye=(Re=be*Et/At)/2}}Nt.isSubplotConstrained&&Lt||We("x"),Nt.isSubplotConstrained&&Ft||We("y");var dn=At-be,Mn=Et-Re;!Nt.isSubplotConstrained||Ft&&Lt||(Ft?(Ye=Xe?0:be*Et/At,Mn=dn*Et/At):(Xe=Ye?0:Re*At/Et,dn=Mn*At/Et)),Pe([Xe,Ye,dn,Mn]),je(),Q.emit("plotly_relayouting",ce)}function Sn(vn,bn,Dn){for(var yn,In,pn=1-bn,Bn=0;Bn<vn.length;Bn++){var Vn=vn[Bn];if(!Vn.fixedrange){yn=Vn,In=Vn._rl[pn]+(Vn._rl[bn]-Vn._rl[pn])/W(Dn/Vn._length);var Kn=Vn.l2r(In);Kn!==!1&&Kn!==void 0&&(Vn.range[bn]=Kn)}}return yn._length*(yn._rl[bn]-In)/(yn._rl[bn]-yn._rl[pn])}}function We(be,Re){for(var ze=Nt.isSubplotConstrained?{x:Gt,y:Ut}[be]:Nt[be+"axes"],qe=Nt.isSubplotConstrained?{x:Ut,y:Gt}[be]:[],He=0;He<ze.length;He++){var Xe=ze[He],Ye=Xe._id,rn=Nt.xLinks[Ye]||Nt.yLinks[Ye],Ue=qe[0]||wt[rn]||St[rn];Ue&&(Re?(Re[Xe._name+".range[0]"]=Re[Ue._name+".range[0]"],Re[Xe._name+".range[1]"]=Re[Ue._name+".range[1]"]):Xe.range=Ue.range.slice())}}function je(){var be,Re=[];function ze(Ye){for(be=0;be<Ye.length;be++)Ye[be].fixedrange||Re.push(Ye[be]._id)}function qe(Ye,rn){for(be=0;be<Ye.length;be++){var Ue=Ye[be],Je=Ue[rn];Ue.fixedrange||Je.tickmode!=="sync"||Re.push(Je._id)}}for(kt&&(ze(Ut),ze(Mt.xaxes),ze(Nt.xaxes),qe(ot.overlays,"xaxis")),Wt&&(ze(Gt),ze(Mt.yaxes),ze(Nt.yaxes),qe(ot.overlays,"yaxis")),ce={},be=0;be<Re.length;be++){var He=Re[be],Xe=F(Q,He);_.drawOne(Q,Xe,{skipTitle:!0}),ce[Xe._name+".range[0]"]=Xe.range[0],ce[Xe._name+".range[1]"]=Xe.range[1]}_.redrawComponents(Q,Re)}function _e(){if(!Q._transitioningWithDuration){var be=Q._context.doubleClick,Re=[];Ft&&(Re=Re.concat(Ut)),Lt&&(Re=Re.concat(Gt)),Nt.xaxes&&(Re=Re.concat(Nt.xaxes)),Nt.yaxes&&(Re=Re.concat(Nt.yaxes));var ze,qe,He={};if(be==="reset+autosize")for(be="autosize",qe=0;qe<Re.length;qe++){var Xe=(ze=Re[qe])._rangeInitial0,Ye=ze._rangeInitial1,rn=Xe!==void 0||Ye!==void 0;if(rn&&(Xe!==void 0&&Xe!==ze.range[0]||Ye!==void 0&&Ye!==ze.range[1])||!rn&&ze.autorange!==!0){be="reset";break}}if(be==="autosize")for(qe=0;qe<Re.length;qe++)(ze=Re[qe]).fixedrange||(He[ze._name+".autorange"]=!0);else if(be==="reset"){for((Ft||Mt.isSubplotConstrained)&&(Re=Re.concat(Mt.xaxes)),Lt&&!Mt.isSubplotConstrained&&(Re=Re.concat(Mt.yaxes)),Mt.isSubplotConstrained&&(Ft?Lt||(Re=Re.concat(Gt)):Re=Re.concat(Ut)),qe=0;qe<Re.length;qe++)if(!(ze=Re[qe]).fixedrange){var Ue=ze._name,Je=ze._autorangeInitial;ze._rangeInitial0===void 0&&ze._rangeInitial1===void 0?He[Ue+".autorange"]=!0:ze._rangeInitial0===void 0?(He[Ue+".autorange"]=Je,He[Ue+".range"]=[null,ze._rangeInitial1]):ze._rangeInitial1===void 0?(He[Ue+".range"]=[ze._rangeInitial0,null],He[Ue+".autorange"]=Je):He[Ue+".range"]=[ze._rangeInitial0,ze._rangeInitial1]}}Q.emit("plotly_doubleclick",null),d.call("_guiRelayout",Q,He)}}function he(){Pe([0,0,At,Et]),f.syncOrAsync([P.previousPromises,function(){Q._fullLayout._replotting=!1,d.call("_guiRelayout",Q,ce)}],Q)}function Pe(be){var Re,ze,qe,He,Xe=Q._fullLayout,Ye=Xe._plots,rn=Xe._subplots.cartesian;if(Ht&&d.subplotsRegistry.splom.drag(Q),Qt){for(Re=0;Re<rn.length;Re++)if(qe=(ze=Ye[rn[Re]]).xaxis,He=ze.yaxis,ze._scene){var Ue=f.simpleMap(qe.range,qe.r2l),Je=f.simpleMap(He.range,He.r2l);qe.limitRange&&qe.limitRange(),He.limitRange&&He.limitRange(),Ue=qe.range,Je=He.range,ze._scene.update({range:[Ue[0],Je[0],Ue[1],Je[1]]})}}if((Ht||Qt)&&(A(Q),O(Q)),oe){var dn=be[2]/pt._length,Mn=be[3]/yt._length;for(Re=0;Re<rn.length;Re++){qe=(ze=Ye[rn[Re]]).xaxis,He=ze.yaxis;var Sn,vn,bn,Dn,yn=(kt||Nt.isSubplotConstrained)&&!qe.fixedrange&&wt[qe._id],In=(Wt||Nt.isSubplotConstrained)&&!He.fixedrange&&St[He._id];if(yn?(Sn=dn,bn=zt||Nt.isSubplotConstrained?be[0]:on(qe,Sn)):Nt.xaHash[qe._id]?(Sn=dn,bn=be[0]*qe._length/pt._length):Nt.yaHash[qe._id]?(Sn=Mn,bn=Lt==="ns"?-be[1]*qe._length/yt._length:on(qe,Sn,{n:"top",s:"bottom"}[Lt])):bn=tn(qe,Sn=an(qe,dn,Mn)),Sn>1&&(qe.maxallowed!==void 0&&kt===(qe.range[0]<qe.range[1]?"e":"w")||qe.minallowed!==void 0&&kt===(qe.range[0]<qe.range[1]?"w":"e"))&&(Sn=1,bn=0),In?(vn=Mn,Dn=It||Nt.isSubplotConstrained?be[1]:on(He,vn)):Nt.yaHash[He._id]?(vn=Mn,Dn=be[1]*He._length/yt._length):Nt.xaHash[He._id]?(vn=dn,Dn=Ft==="ew"?-be[0]*He._length/pt._length:on(He,vn,{e:"right",w:"left"}[Ft])):Dn=tn(He,vn=an(He,dn,Mn)),vn>1&&(He.maxallowed!==void 0&&Wt===(He.range[0]<He.range[1]?"n":"s")||He.minallowed!==void 0&&Wt===(He.range[0]<He.range[1]?"s":"n"))&&(vn=1,Dn=0),Sn||vn){Sn||(Sn=1),vn||(vn=1);var pn=qe._offset-bn/Sn,Bn=He._offset-Dn/vn;ze.clipRect.call(v.setTranslate,bn,Dn).call(v.setScale,Sn,vn),ze.plot.call(v.setTranslate,pn,Bn).call(v.setScale,1/Sn,1/vn),Sn===ze.xScaleFactor&&vn===ze.yScaleFactor||(v.setPointGroupScale(ze.zoomScalePts,Sn,vn),v.setTextPointsScale(ze.zoomScaleTxt,Sn,vn)),v.hideOutsideRangePoints(ze.clipOnAxisFalseTraces,ze),ze.xScaleFactor=Sn,ze.yScaleFactor=vn}}}}function an(be,Re,ze){return be.fixedrange?0:kt&&Mt.xaHash[be._id]?Re:Wt&&(Mt.isSubplotConstrained?Mt.xaHash:Mt.yaHash)[be._id]?ze:0}function tn(be,Re){return Re?(be.range=be._r.slice(),I(be,Re),on(be,Re)):0}function on(be,Re,ze){return be._length*(1-Re)*T[ze||be.constraintoward||"middle"]}return It.length*zt.length!=1&&$(Se,function(be){if(Q._context._scrollZoom.cartesian||Q._fullLayout._enablescrollzoom){if(Jt(),Q._transitioningWithDuration)return be.preventDefault(),void be.stopPropagation();te(),clearTimeout(se);var Re=-be.deltaY;if(isFinite(Re)||(Re=be.wheelDelta/10),isFinite(Re)){var ze,qe=Math.exp(-Math.min(Math.max(Re,-20),20)/200),He=nn.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Xe=(be.clientX-He.left)/He.width,Ye=(He.bottom-be.clientY)/He.height;if(kt){for(zt||(Xe=.5),ze=0;ze<Ut.length;ze++)rn(Ut[ze],Xe,qe);We("x"),ye[2]*=qe,ye[0]+=ye[2]*Xe*(1/qe-1)}if(Wt){for(It||(Ye=.5),ze=0;ze<Gt.length;ze++)rn(Gt[ze],Ye,qe);We("y"),ye[3]*=qe,ye[1]+=ye[3]*(1-Ye)*(1/qe-1)}Pe(ye),je(),Q.emit("plotly_relayouting",ce),se=setTimeout(function(){Q._fullLayout&&(ye=[0,0,At,Et],he())},Ge),be.preventDefault()}else f.log("Did not find wheel motion attributes: ",be)}function rn(Ue,Je,dn){if(!Ue.fixedrange){var Mn=f.simpleMap(Ue.range,Ue.r2l),Sn=Mn[0]+(Mn[1]-Mn[0])*Je;Ue.range=Mn.map(function(vn){return Ue.l2r(Sn+(vn-Sn)*dn)})}}}),Se},makeDragger:U,makeRectDragger:Z,makeZoombox:X,makeCorners:it,updateZoombox:lt,xyCorners:G,transitionZoombox:dt,removeZoombox:nt,showDoubleClickNotifier:V,attachWheelEventHandler:$}},4305:function(a,s,o){var l=o(9898),f=o(211),u=o(8569),c=o(6964),h=o(9323).makeDragBox,d=o(5555).DRAGGERSIZE;s.initInteractions=function(p){var g=p._fullLayout;if(p._context.staticPlot)l.select(p).selectAll(".drag").remove();else if(g._has("cartesian")||g._has("splom")){Object.keys(g._plots||{}).sort(function(v,y){if((g._plots[v].mainplot&&!0)===(g._plots[y].mainplot&&!0)){var _=v.split("y"),x=y.split("y");return _[0]===x[0]?Number(_[1]||1)-Number(x[1]||1):Number(_[0]||1)-Number(x[0]||1)}return g._plots[v].mainplot?1:-1}).forEach(function(v){var y=g._plots[v],_=y.xaxis,x=y.yaxis;if(!y.mainplot){var w=h(p,y,_._offset,x._offset,_._length,x._length,"ns","ew");w.onmousemove=function(C){p._fullLayout._rehover=function(){p._fullLayout._hoversubplot===v&&p._fullLayout._plots[v]&&f.hover(p,C,v)},f.hover(p,C,v),p._fullLayout._lasthover=w,p._fullLayout._hoversubplot=v},w.onmouseout=function(C){p._dragging||(p._fullLayout._hoversubplot=null,u.unhover(p,C))},p._context.showAxisDragHandles&&(h(p,y,_._offset-d,x._offset-d,d,d,"n","w"),h(p,y,_._offset+_._length,x._offset-d,d,d,"n","e"),h(p,y,_._offset-d,x._offset+x._length,d,d,"s","w"),h(p,y,_._offset+_._length,x._offset+x._length,d,d,"s","e"))}if(p._context.showAxisDragHandles){if(v===_._mainSubplot){var E=_._mainLinePosition;_.side==="top"&&(E-=d),h(p,y,_._offset+.1*_._length,E,.8*_._length,d,"","ew"),h(p,y,_._offset,E,.1*_._length,d,"","w"),h(p,y,_._offset+.9*_._length,E,.1*_._length,d,"","e")}if(v===x._mainSubplot){var S=x._mainLinePosition;x.side!=="right"&&(S-=d),h(p,y,S,x._offset+.1*x._length,d,.8*x._length,"ns",""),h(p,y,S,x._offset+.9*x._length,d,.1*x._length,"s",""),h(p,y,S,x._offset,d,.1*x._length,"n","")}}});var m=g._hoverlayer.node();m.onmousemove=function(v){v.target=p._fullLayout._lasthover,f.hover(p,v,g._hoversubplot)},m.onclick=function(v){v.target=p._fullLayout._lasthover,f.click(p,v)},m.onmousedown=function(v){p._fullLayout._lasthover.onmousedown(v)},s.updateFx(p)}},s.updateFx=function(p){var g=p._fullLayout,m=g.dragmode==="pan"?"move":"crosshair";c(g._draggers,m)}},6325:function(a,s,o){var l=o(3972),f=o(1828),u=o(1675);a.exports=function(c){return function(h,d){var p=h[c];if(Array.isArray(p))for(var g=l.subplotsRegistry.cartesian,m=g.idRegex,v=d._subplots,y=v.xaxis,_=v.yaxis,x=v.cartesian,w=d._has("cartesian")||d._has("gl2d"),E=0;E<p.length;E++){var S=p[E];if(f.isPlainObject(S)){var C=u.cleanId(S.xref,"x",!1),T=u.cleanId(S.yref,"y",!1),A=m.x.test(C),O=m.y.test(T);if(A||O){w||f.pushUnique(d._basePlotModules,g);var P=!1;A&&y.indexOf(C)===-1&&(y.push(C),P=!0),O&&_.indexOf(T)===-1&&(_.push(T),P=!0),P&&A&&O&&x.push(C+T)}}}}}},3612:function(a,s,o){var l=o(9898),f=o(3972),u=o(1828),c=o(4875),h=o(1424),d=o(7659).a0,p=o(1675),g=o(5555),m=o(7922),v=u.ensureSingle;function y(S,C,T){return u.ensureSingle(S,C,T,function(A){A.datum(T)})}function _(S,C,T,A,O){for(var P,F,R,N=g.traceLayerClasses,D=S._fullLayout,I=D._modules,B=[],j=[],q=0;q<I.length;q++){var et=(P=I[q]).name,U=f.modules[et].categories;if(U.svg){var Z=P.layerName||et+"layer",rt=P.plot;R=(F=d(T,rt))[0],T=F[1],R.length&&B.push({i:N.indexOf(Z),className:Z,plotMethod:rt,cdModule:R}),U.zoomScale&&j.push("."+Z)}}B.sort(function(W,X){return W.i-X.i});var ft=C.plot.selectAll("g.mlayer").data(B,function(W){return W.className});if(ft.enter().append("g").attr("class",function(W){return W.className}).classed("mlayer",!0).classed("rangeplot",C.isRangePlot),ft.exit().remove(),ft.order(),ft.each(function(W){var X=l.select(this),it=W.className;W.plotMethod(S,C,W.cdModule,X,A,O),g.clipOnAxisFalseQuery.indexOf("."+it)===-1&&h.setClipUrl(X,C.layerClipId,S)}),D._has("scattergl")&&(P=f.getModule("scattergl"),R=d(T,P)[0],P.plot(S,C,R)),!S._context.staticPlot&&(C._hasClipOnAxisFalse&&(C.clipOnAxisFalseTraces=C.plot.selectAll(g.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),j.length)){var z=C.plot.selectAll(j.join(",")).selectAll(".trace");C.zoomScalePts=z.selectAll("path.point"),C.zoomScaleTxt=z.selectAll(".textpoint")}}function x(S,C){var T=C.plotgroup,A=C.id,O=g.layerValue2layerClass[C.xaxis.layer],P=g.layerValue2layerClass[C.yaxis.layer],F=S._fullLayout._hasOnlyLargeSploms;if(C.mainplot){var R=C.mainplotinfo,N=R.plotgroup,D=A+"-x",I=A+"-y";C.minorGridlayer=R.minorGridlayer,C.gridlayer=R.gridlayer,C.zerolinelayer=R.zerolinelayer,v(R.overlinesBelow,"path",D),v(R.overlinesBelow,"path",I),v(R.overaxesBelow,"g",D),v(R.overaxesBelow,"g",I),C.plot=v(R.overplot,"g",A),v(R.overlinesAbove,"path",D),v(R.overlinesAbove,"path",I),v(R.overaxesAbove,"g",D),v(R.overaxesAbove,"g",I),C.xlines=N.select(".overlines-"+O).select("."+D),C.ylines=N.select(".overlines-"+P).select("."+I),C.xaxislayer=N.select(".overaxes-"+O).select("."+D),C.yaxislayer=N.select(".overaxes-"+P).select("."+I)}else if(F)C.xlines=v(T,"path","xlines-above"),C.ylines=v(T,"path","ylines-above"),C.xaxislayer=v(T,"g","xaxislayer-above"),C.yaxislayer=v(T,"g","yaxislayer-above");else{var B=v(T,"g","layer-subplot");C.shapelayer=v(B,"g","shapelayer"),C.imagelayer=v(B,"g","imagelayer"),C.minorGridlayer=v(T,"g","minor-gridlayer"),C.gridlayer=v(T,"g","gridlayer"),C.zerolinelayer=v(T,"g","zerolinelayer"),v(T,"path","xlines-below"),v(T,"path","ylines-below"),C.overlinesBelow=v(T,"g","overlines-below"),v(T,"g","xaxislayer-below"),v(T,"g","yaxislayer-below"),C.overaxesBelow=v(T,"g","overaxes-below"),C.plot=v(T,"g","plot"),C.overplot=v(T,"g","overplot"),C.xlines=v(T,"path","xlines-above"),C.ylines=v(T,"path","ylines-above"),C.overlinesAbove=v(T,"g","overlines-above"),v(T,"g","xaxislayer-above"),v(T,"g","yaxislayer-above"),C.overaxesAbove=v(T,"g","overaxes-above"),C.xlines=T.select(".xlines-"+O),C.ylines=T.select(".ylines-"+P),C.xaxislayer=T.select(".xaxislayer-"+O),C.yaxislayer=T.select(".yaxislayer-"+P)}F||(y(C.minorGridlayer,"g",C.xaxis._id),y(C.minorGridlayer,"g",C.yaxis._id),C.minorGridlayer.selectAll("g").map(function(j){return j[0]}).sort(p.idSort),y(C.gridlayer,"g",C.xaxis._id),y(C.gridlayer,"g",C.yaxis._id),C.gridlayer.selectAll("g").map(function(j){return j[0]}).sort(p.idSort)),C.xlines.style("fill","none").classed("crisp",!0),C.ylines.style("fill","none").classed("crisp",!0)}function w(S,C){if(S){var T={};for(var A in S.each(function(R){var N=R[0];l.select(this).remove(),E(N,C),T[N]=!0}),C._plots)for(var O=C._plots[A].overlays||[],P=0;P<O.length;P++){var F=O[P];T[F.id]&&F.plot.selectAll(".trace").remove()}}}function E(S,C){C._draggers.selectAll("g."+S).remove(),C._defs.select("#clip"+C._uid+S+"plot").remove()}s.name="cartesian",s.attr=["xaxis","yaxis"],s.idRoot=["x","y"],s.idRegex=g.idRegex,s.attrRegex=g.attrRegex,s.attributes=o(9502),s.layoutAttributes=o(3838),s.supplyLayoutDefaults=o(6763),s.transitionAxes=o(6847),s.finalizeSubplots=function(S,C){var T,A,O,P=C._subplots,F=P.xaxis,R=P.yaxis,N=P.cartesian,D=N.concat(P.gl2d||[]),I={},B={};for(T=0;T<D.length;T++){var j=D[T].split("y");I[j[0]]=1,B["y"+j[1]]=1}for(T=0;T<F.length;T++)I[A=F[T]]||(O=(S[p.id2name(A)]||{}).anchor,g.idRegex.y.test(O)||(O="y"),N.push(A+O),D.push(A+O),B[O]||(B[O]=1,u.pushUnique(R,O)));for(T=0;T<R.length;T++)B[O=R[T]]||(A=(S[p.id2name(O)]||{}).anchor,g.idRegex.x.test(A)||(A="x"),N.push(A+O),D.push(A+O),I[A]||(I[A]=1,u.pushUnique(F,A)));if(!D.length){for(var q in A="",O="",S)g.attrRegex.test(q)&&(q.charAt(0)==="x"?(!A||+q.substr(5)<+A.substr(5))&&(A=q):(!O||+q.substr(5)<+O.substr(5))&&(O=q));A=A?p.name2id(A):"x",O=O?p.name2id(O):"y",F.push(A),R.push(O),N.push(A+O)}},s.plot=function(S,C,T,A){var O,P=S._fullLayout,F=P._subplots.cartesian,R=S.calcdata;if(!Array.isArray(C))for(C=[],O=0;O<R.length;O++)C.push(O);for(O=0;O<F.length;O++){for(var N,D=F[O],I=P._plots[D],B=[],j=0;j<R.length;j++){var q=R[j],et=q[0].trace;et.xaxis+et.yaxis===D&&((C.indexOf(et.index)!==-1||et.carpet)&&(N&&N[0].trace.xaxis+N[0].trace.yaxis===D&&["tonextx","tonexty","tonext"].indexOf(et.fill)!==-1&&B.indexOf(N)===-1&&B.push(N),B.push(q)),N=q)}_(S,I,B,T,A)}},s.clean=function(S,C,T,A){var O,P,F,R=A._plots||{},N=C._plots||{},D=A._subplots||{};if(A._hasOnlyLargeSploms&&!C._hasOnlyLargeSploms)for(F in R)(O=R[F]).plotgroup&&O.plotgroup.remove();var I=A._has&&A._has("gl"),B=C._has&&C._has("gl");if(I&&!B)for(F in R)(O=R[F])._scene&&O._scene.destroy();if(D.xaxis&&D.yaxis){var j=p.listIds({_fullLayout:A});for(P=0;P<j.length;P++){var q=j[P];C[p.id2name(q)]||A._infolayer.selectAll(".g-"+q+"title").remove()}}var et=A._has&&A._has("cartesian"),U=C._has&&C._has("cartesian");if(et&&!U)w(A._cartesianlayer.selectAll(".subplot"),A),A._defs.selectAll(".axesclip").remove(),delete A._axisConstraintGroups,delete A._axisMatchGroups;else if(D.cartesian)for(P=0;P<D.cartesian.length;P++){var Z=D.cartesian[P];if(!N[Z]){var rt="."+Z+",."+Z+"-x,."+Z+"-y";A._cartesianlayer.selectAll(rt).remove(),E(Z,A)}}},s.drawFramework=function(S){var C=S._fullLayout,T=function(O){var P,F,R,N,D,I,B=O._fullLayout,j=B._subplots.cartesian,q=j.length,et=[],U=[];for(P=0;P<q;P++){R=j[P],D=(N=B._plots[R]).xaxis,I=N.yaxis;var Z=D._mainAxis,rt=I._mainAxis,ft=Z._id+rt._id,z=B._plots[ft];N.overlays=[],ft!==R&&z?(N.mainplot=ft,N.mainplotinfo=z,U.push(R)):(N.mainplot=void 0,N.mainplotinfo=void 0,et.push(R))}for(P=0;P<U.length;P++)R=U[P],(N=B._plots[R]).mainplotinfo.overlays.push(N);var W=et.concat(U),X=new Array(q);for(P=0;P<q;P++){R=W[P],D=(N=B._plots[R]).xaxis,I=N.yaxis;var it=[R,D.layer,I.layer,D.overlaying||"",I.overlaying||""];for(F=0;F<N.overlays.length;F++)it.push(N.overlays[F].id);X[P]=it}return X}(S),A=C._cartesianlayer.selectAll(".subplot").data(T,String);A.enter().append("g").attr("class",function(O){return"subplot "+O[0]}),A.order(),A.exit().call(w,C),A.each(function(O){var P=O[0],F=C._plots[P];F.plotgroup=l.select(this),x(S,F),F.draglayer=v(C._draggers,"g",P)})},s.rangePlot=function(S,C,T){x(S,C),_(S,C,T),c.style(S)},s.toSVG=function(S){var C=S._fullLayout._glimages,T=l.select(S).selectAll(".svg-container");T.filter(function(A,O){return O===T.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var A=this,O=A.toDataURL("image/png");C.append("svg:image").attr({xmlns:m.svg,"xlink:href":O,preserveAspectRatio:"none",x:0,y:0,width:A.style.width,height:A.style.height})})},s.updateFx=o(4305).updateFx},3838:function(a,s,o){var l=o(1940),f=o(2399),u=o(9952).P,c=o(1426).extendFlat,h=o(4467).templatedArray,d=o(2663).descriptionWithDates,p=o(606).ONEDAY,g=o(5555),m=g.HOUR_PATTERN,v=g.WEEKDAY_PATTERN,y={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},_=c({},y,{values:y.values.slice().concat(["sync"])});function x(D){return{valType:"integer",min:0,dflt:D?5:0,editType:"ticks"}}var w={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},E={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},S={valType:"data_array",editType:"ticks"},C={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function T(D){var I={valType:"number",min:0,editType:"ticks"};return D||(I.dflt=5),I}function A(D){var I={valType:"number",min:0,editType:"ticks"};return D||(I.dflt=1),I}var O={valType:"color",dflt:f.defaultLine,editType:"ticks"},P={valType:"color",dflt:f.lightLine,editType:"ticks"};function F(D){var I={valType:"number",min:0,editType:"ticks"};return D||(I.dflt=1),I}var R=c({},u,{editType:"ticks"}),N={valType:"boolean",editType:"ticks"};a.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:f.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:l({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[g.idRegex.x.toString(),g.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[g.idRegex.x.toString(),g.idRegex.y.toString()],editType:"calc"},rangebreaks:h("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[v,m,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:p},editType:"calc"}),tickmode:_,nticks:x(),tick0:w,dtick:E,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:S,ticktext:{valType:"data_array",editType:"ticks"},ticks:C,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:T(),tickwidth:A(),tickcolor:O,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:c({},u,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:l({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:d("tick label")},tickformatstops:h("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:d("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:f.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:N,gridcolor:P,gridwidth:F(),griddash:R,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:f.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:f.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",g.idRegex.x.toString(),g.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",g.idRegex.x.toString(),g.idRegex.y.toString()],editType:"plot"},minor:{tickmode:y,nticks:x("minor"),tick0:w,dtick:E,tickvals:S,ticks:C,ticklen:T("minor"),tickwidth:A("minor"),tickcolor:O,gridcolor:P,gridwidth:F("minor"),griddash:R,showgrid:N,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:l({editType:"ticks"})}}},6763:function(a,s,o){var l=o(1828),f=o(7901),u=o(3469).isUnifiedHover,c=o(8212),h=o(4467),d=o(820),p=o(3838),g=o(951),m=o(1453),v=o(9082),y=o(2830),_=o(1675),x=_.id2name,w=_.name2id,E=o(5555).AX_ID_PATTERN,S=o(3972),C=S.traceIs,T=S.getComponentMethod;function A(O,P,F){Array.isArray(O[P])?O[P].push(F):O[P]=[F]}a.exports=function(O,P,F){var R,N,D=P.autotypenumbers,I={},B={},j={},q={},et={},U={},Z={},rt={},ft={},z={};for(R=0;R<F.length;R++){var W=F[R];if(C(W,"cartesian")||C(W,"gl2d")){var X,it;if(W.xaxis)X=x(W.xaxis),A(I,X,W);else if(W.xaxes)for(N=0;N<W.xaxes.length;N++)A(I,x(W.xaxes[N]),W);if(W.yaxis)it=x(W.yaxis),A(I,it,W);else if(W.yaxes)for(N=0;N<W.yaxes.length;N++)A(I,x(W.yaxes[N]),W);W.type==="funnel"?W.orientation==="h"?(X&&(B[X]=!0),it&&(Z[it]=!0)):it&&(j[it]=!0):W.type==="image"?(it&&(rt[it]=!0),X&&(rt[X]=!0)):(it&&(et[it]=!0,U[it]=!0),C(W,"carpet")&&(W.type!=="carpet"||W._cheater)||X&&(q[X]=!0)),W.type==="carpet"&&W._cheater&&X&&(B[X]=!0),C(W,"2dMap")&&(ft[X]=!0,ft[it]=!0),C(W,"oriented")&&(z[W.orientation==="h"?it:X]=!0)}}var lt=P._subplots,dt=lt.xaxis,nt=lt.yaxis,V=l.simpleMap(dt,x),G=l.simpleMap(nt,x),H=V.concat(G),$=f.background;dt.length&&nt.length&&($=l.coerce(O,P,d,"plot_bgcolor"));var J,Q,ot,st,ht,xt=f.combine($,P.paper_bgcolor);function Pt(){var Rt=I[J]||[];ht._traceIndices=Rt.map(function(te){return te._expandedIndex}),ht._annIndices=[],ht._shapeIndices=[],ht._selectionIndices=[],ht._imgIndices=[],ht._subplotsWith=[],ht._counterAxes=[],ht._name=ht._attr=J,ht._id=Q}function It(Rt,te){return l.coerce(st,ht,p,Rt,te)}function zt(Rt,te){return l.coerce2(st,ht,p,Rt,te)}function pt(Rt){return Rt==="x"?nt:dt}function yt(Rt,te){for(var ae=Rt==="x"?V:G,Se=[],ne=0;ne<ae.length;ne++){var ge=ae[ne];ge===te||(O[ge]||{}).overlaying||Se.push(w(ge))}return Se}var wt={x:pt("x"),y:pt("y")},St=wt.x.concat(wt.y),Ut={},Gt=[];function mt(){var Rt=st.matches;E.test(Rt)&&St.indexOf(Rt)===-1&&(Ut[Rt]=st.type,Gt=Object.keys(Ut))}var Tt=c(O,P),At=u(Tt);for(R=0;R<H.length;R++){J=H[R],Q=w(J),ot=J.charAt(0),l.isPlainObject(O[J])||(O[J]={}),st=O[J],ht=h.newContainer(P,J,ot+"axis"),Pt();var Et=ot==="x"&&!q[J]&&B[J]||ot==="y"&&!et[J]&&j[J],Mt=ot==="y"&&(!U[J]&&Z[J]||rt[J]),Nt={hasMinor:!0,letter:ot,font:P.font,outerTicks:ft[J],showGrid:!z[J],data:I[J]||[],bgColor:xt,calendar:P.calendar,automargin:!0,visibleDflt:Et,reverseDflt:Mt,autotypenumbersDflt:D,splomStash:((P._splomAxes||{})[ot]||{})[Q]};It("uirevision",P.uirevision),g(st,ht,It,Nt),m(st,ht,It,Nt,P);var Ft=At&&ot===Tt.charAt(0),Lt=zt("spikecolor",At?ht.color:void 0),Dt=zt("spikethickness",At?1.5:void 0),kt=zt("spikedash",At?"dot":void 0),Wt=zt("spikemode",At?"across":void 0),Qt=zt("spikesnap");It("showspikes",!!(Ft||Lt||Dt||kt||Wt||Qt))||(delete ht.spikecolor,delete ht.spikethickness,delete ht.spikedash,delete ht.spikemode,delete ht.spikesnap);var Ht=x(st.overlaying),oe=[0,1];if(P[Ht]!==void 0){var ce=x(P[Ht].anchor);P[ce]!==void 0&&(oe=P[ce].domain)}y(st,ht,It,{letter:ot,counterAxes:wt[ot],overlayableAxes:yt(ot,J),grid:P.grid,overlayingDomain:oe}),It("title.standoff"),mt(),ht._input=st}for(R=0;R<Gt.length;){Q=Gt[R++],ot=(J=x(Q)).charAt(0),l.isPlainObject(O[J])||(O[J]={}),st=O[J],ht=h.newContainer(P,J,ot+"axis"),Pt();var pe={letter:ot,font:P.font,outerTicks:ft[J],showGrid:!z[J],data:[],bgColor:xt,calendar:P.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:D,splomStash:((P._splomAxes||{})[ot]||{})[Q]};It("uirevision",P.uirevision),ht.type=Ut[Q]||"linear",m(st,ht,It,pe,P),y(st,ht,It,{letter:ot,counterAxes:wt[ot],overlayableAxes:yt(ot,J),grid:P.grid}),It("fixedrange"),mt(),ht._input=st}var we=T("rangeslider","handleDefaults"),Le=T("rangeselector","handleDefaults");for(R=0;R<V.length;R++)J=V[R],st=O[J],ht=P[J],we(O,P,J),ht.type==="date"&&Le(st,ht,P,G,ht.calendar),It("fixedrange");for(R=0;R<G.length;R++){J=G[R],st=O[J],ht=P[J];var jt=P[x(ht.anchor)];It("fixedrange",T("rangeslider","isVisible")(jt))}v.handleDefaults(O,P,{axIds:St.concat(Gt).sort(_.idSort),axHasImage:rt})}},2128:function(a,s,o){var l=o(4267).mix,f=o(2399),u=o(1828);a.exports=function(c,h,d,p){var g=(p=p||{}).dfltColor;function m(O,P){return u.coerce2(c,h,p.attributes,O,P)}var v=m("linecolor",g),y=m("linewidth");d("showline",p.showLine||!!v||!!y)||(delete h.linecolor,delete h.linewidth);var _=m("gridcolor",l(g,p.bgColor,p.blend||f.lightFraction).toRgbString()),x=m("gridwidth"),w=m("griddash");if(d("showgrid",p.showGrid||!!_||!!x||!!w)||(delete h.gridcolor,delete h.gridwidth,delete h.griddash),p.hasMinor){var E=m("minor.gridcolor",l(h.gridcolor,p.bgColor,67).toRgbString()),S=m("minor.gridwidth",h.gridwidth||1),C=m("minor.griddash",h.griddash||"solid");d("minor.showgrid",!!E||!!S||!!C)||(delete h.minor.gridcolor,delete h.minor.gridwidth,delete h.minor.griddash)}if(!p.noZeroLine){var T=m("zerolinecolor",g),A=m("zerolinewidth");d("zeroline",p.showGrid||!!T||!!A)||(delete h.zerolinecolor,delete h.zerolinewidth)}}},2830:function(a,s,o){var l=o(2770),f=o(1828);a.exports=function(u,c,h,d){var p,g,m,v,y,_,x=d.counterAxes||[],w=d.overlayableAxes||[],E=d.letter,S=d.grid,C=d.overlayingDomain;S&&(g=S._domains[E][S._axisMap[c._id]],p=S._anchors[c._id],g&&(m=S[E+"side"].split(" ")[0],v=S.domain[E][m==="right"||m==="top"?1:0])),g=g||[0,1],p=p||(l(u.position)?"free":x[0]||"free"),m=m||(E==="x"?"bottom":"left"),v=v||0,y=0,_=!1;var T=f.coerce(u,c,{anchor:{valType:"enumerated",values:["free"].concat(x),dflt:p}},"anchor"),A=f.coerce(u,c,{side:{valType:"enumerated",values:E==="x"?["bottom","top"]:["left","right"],dflt:m}},"side");T==="free"&&(E==="y"&&(h("autoshift")&&(v=A==="left"?C[0]:C[1],_=!c.automargin||c.automargin,y=A==="left"?-3:3),h("shift",y)),h("position",v)),h("automargin",_);var O=!1;if(w.length&&(O=f.coerce(u,c,{overlaying:{valType:"enumerated",values:[!1].concat(w),dflt:!1}},"overlaying")),!O){var P=h("domain",g);P[0]>P[1]-.000244140625&&(c.domain=g),f.noneOrAll(u.domain,c.domain,g),c.tickmode==="sync"&&(c.tickmode="auto")}return h("layer"),c}},9426:function(a,s,o){var l=o(9652);a.exports=function(f,u,c,h,d){d||(d={});var p=d.tickSuffixDflt,g=l(f);c("tickprefix")&&c("showtickprefix",g),c("ticksuffix",p)&&c("showticksuffix",g)}},3608:function(a,s,o){var l=o(3074);a.exports=function(f,u,c,h){var d=u._template||{},p=u.type||d.type||"-";c("minallowed"),c("maxallowed");var g,m=c("range");m||h.noInsiderange||p==="log"||(!(g=c("insiderange"))||g[0]!==null&&g[1]!==null||(u.insiderange=!1,g=void 0),g&&(m=c("range",g)));var v,y=u.getAutorangeDflt(m,h),_=c("autorange",y);!m||(m[0]!==null||m[1]!==null)&&(m[0]!==null&&m[1]!==null||_!=="reversed"&&_!==!0)&&(m[0]===null||_!=="min"&&_!=="max reversed")&&(m[1]===null||_!=="max"&&_!=="min reversed")||(m=void 0,delete u.range,u.autorange=!0,v=!0),v||(_=c("autorange",y=u.getAutorangeDflt(m,h))),_&&(l(c,_,m),p!=="linear"&&p!=="-"||c("rangemode")),u.cleanRange()}},2449:function(a,s,o){var l=o(8783).FROM_BL;a.exports=function(f,u,c){c===void 0&&(c=l[f.constraintoward||"center"]);var h=[f.r2l(f.range[0]),f.r2l(f.range[1])],d=h[0]+(h[1]-h[0])*c;f.range=f._input.range=[f.l2r(d+(h[0]-d)*u),f.l2r(d+(h[1]-d)*u)],f.setScale()}},1994:function(a,s,o){var l=o(9898),f=o(4096).g0,u=o(1828),c=u.numberFormat,h=o(2770),d=u.cleanNumber,p=u.ms2DateTime,g=u.dateTime2ms,m=u.ensureNumber,v=u.isArrayOrTypedArray,y=o(606),_=y.FP_SAFE,x=y.BADNUM,w=y.LOG_CLIP,E=y.ONEWEEK,S=y.ONEDAY,C=y.ONEHOUR,T=y.ONEMIN,A=y.ONESEC,O=o(1675),P=o(5555),F=P.HOUR_PATTERN,R=P.WEEKDAY_PATTERN;function N(I){return Math.pow(10,I)}function D(I){return I!=null}a.exports=function(I,B){B=B||{};var j=I._id||"x",q=j.charAt(0);function et(H,$){if(H>0)return Math.log(H)/Math.LN10;if(H<=0&&$&&I.range&&I.range.length===2){var J=I.range[0],Q=I.range[1];return .5*(J+Q-2*w*Math.abs(J-Q))}return x}function U(H,$,J,Q){if((Q||{}).msUTC&&h(H))return+H;var ot=g(H,J||I.calendar);if(ot===x){if(!h(H))return x;H=+H;var st=Math.floor(10*u.mod(H+.05,1)),ht=Math.round(H-st/10);ot=g(new Date(ht))+st/10}return ot}function Z(H,$,J){return p(H,$,J||I.calendar)}function rt(H){return I._categories[Math.round(H)]}function ft(H){if(D(H)){if(I._categoriesMap===void 0&&(I._categoriesMap={}),I._categoriesMap[H]!==void 0)return I._categoriesMap[H];I._categories.push(typeof H=="number"?String(H):H);var $=I._categories.length-1;return I._categoriesMap[H]=$,$}return x}function z(H){if(I._categoriesMap)return I._categoriesMap[H]}function W(H){var $=z(H);return $!==void 0?$:h(H)?+H:void 0}function X(H){return h(H)?+H:z(H)}function it(H,$,J){return l.round(J+$*H,2)}function lt(H,$,J){return(H-J)/$}var dt=function(H){return h(H)?it(H,I._m,I._b):x},nt=function(H){return lt(H,I._m,I._b)};if(I.rangebreaks){var V=q==="y";dt=function(H){if(!h(H))return x;var $=I._rangebreaks.length;if(!$)return it(H,I._m,I._b);var J=V;I.range[0]>I.range[1]&&(J=!J);for(var Q=J?-1:1,ot=Q*H,st=0,ht=0;ht<$;ht++){var xt=Q*I._rangebreaks[ht].min,Pt=Q*I._rangebreaks[ht].max;if(ot<xt)break;if(!(ot>Pt)){st=ot<(xt+Pt)/2?ht:ht+1;break}st=ht+1}var It=I._B[st]||0;return isFinite(It)?it(H,I._m2,It):0},nt=function(H){var $=I._rangebreaks.length;if(!$)return lt(H,I._m,I._b);for(var J=0,Q=0;Q<$&&!(H<I._rangebreaks[Q].pmin);Q++)H>I._rangebreaks[Q].pmax&&(J=Q+1);return lt(H,I._m2,I._B[J])}}I.c2l=I.type==="log"?et:m,I.l2c=I.type==="log"?N:m,I.l2p=dt,I.p2l=nt,I.c2p=I.type==="log"?function(H,$){return dt(et(H,$))}:dt,I.p2c=I.type==="log"?function(H){return N(nt(H))}:nt,["linear","-"].indexOf(I.type)!==-1?(I.d2r=I.r2d=I.d2c=I.r2c=I.d2l=I.r2l=d,I.c2d=I.c2r=I.l2d=I.l2r=m,I.d2p=I.r2p=function(H){return I.l2p(d(H))},I.p2d=I.p2r=nt,I.cleanPos=m):I.type==="log"?(I.d2r=I.d2l=function(H,$){return et(d(H),$)},I.r2d=I.r2c=function(H){return N(d(H))},I.d2c=I.r2l=d,I.c2d=I.l2r=m,I.c2r=et,I.l2d=N,I.d2p=function(H,$){return I.l2p(I.d2r(H,$))},I.p2d=function(H){return N(nt(H))},I.r2p=function(H){return I.l2p(d(H))},I.p2r=nt,I.cleanPos=m):I.type==="date"?(I.d2r=I.r2d=u.identity,I.d2c=I.r2c=I.d2l=I.r2l=U,I.c2d=I.c2r=I.l2d=I.l2r=Z,I.d2p=I.r2p=function(H,$,J){return I.l2p(U(H,0,J))},I.p2d=I.p2r=function(H,$,J){return Z(nt(H),$,J)},I.cleanPos=function(H){return u.cleanDate(H,x,I.calendar)}):I.type==="category"?(I.d2c=I.d2l=ft,I.r2d=I.c2d=I.l2d=rt,I.d2r=I.d2l_noadd=W,I.r2c=function(H){var $=X(H);return $!==void 0?$:I.fraction2r(.5)},I.l2r=I.c2r=m,I.r2l=X,I.d2p=function(H){return I.l2p(I.r2c(H))},I.p2d=function(H){return rt(nt(H))},I.r2p=I.d2p,I.p2r=nt,I.cleanPos=function(H){return typeof H=="string"&&H!==""?H:m(H)}):I.type==="multicategory"&&(I.r2d=I.c2d=I.l2d=rt,I.d2r=I.d2l_noadd=W,I.r2c=function(H){var $=W(H);return $!==void 0?$:I.fraction2r(.5)},I.r2c_just_indices=z,I.l2r=I.c2r=m,I.r2l=W,I.d2p=function(H){return I.l2p(I.r2c(H))},I.p2d=function(H){return rt(nt(H))},I.r2p=I.d2p,I.p2r=nt,I.cleanPos=function(H){return Array.isArray(H)||typeof H=="string"&&H!==""?H:m(H)},I.setupMultiCategory=function(H){var $,J,Q=I._traceIndices,ot=I._matchGroup;if(ot&&I._categories.length===0){for(var st in ot)if(st!==j){var ht=B[O.id2name(st)];Q=Q.concat(ht._traceIndices)}}var xt=[[0,{}],[0,{}]],Pt=[];for($=0;$<Q.length;$++){var It=H[Q[$]];if(q in It){var zt=It[q],pt=It._length||u.minRowLength(zt);if(v(zt[0])&&v(zt[1]))for(J=0;J<pt;J++){var yt=zt[0][J],wt=zt[1][J];D(yt)&&D(wt)&&(Pt.push([yt,wt]),yt in xt[0][1]||(xt[0][1][yt]=xt[0][0]++),wt in xt[1][1]||(xt[1][1][wt]=xt[1][0]++))}}}for(Pt.sort(function(St,Ut){var Gt=xt[0][1],mt=Gt[St[0]]-Gt[Ut[0]];if(mt)return mt;var Tt=xt[1][1];return Tt[St[1]]-Tt[Ut[1]]}),$=0;$<Pt.length;$++)ft(Pt[$])}),I.fraction2r=function(H){var $=I.r2l(I.range[0]),J=I.r2l(I.range[1]);return I.l2r($+H*(J-$))},I.r2fraction=function(H){var $=I.r2l(I.range[0]),J=I.r2l(I.range[1]);return(I.r2l(H)-$)/(J-$)},I.limitRange=function(H){var $=I.minallowed,J=I.maxallowed;if($!==void 0||J!==void 0){H||(H="range");var Q=u.nestedProperty(I,H).get(),ot=u.simpleMap(Q,I.r2l),st=ot[1]<ot[0];st&&ot.reverse();var ht=u.simpleMap([$,J],I.r2l);$!==void 0&&ot[0]<ht[0]&&(Q[st?1:0]=$),J!==void 0&&ot[1]>ht[1]&&(Q[st?0:1]=J)}},I.cleanRange=function(H,$){I._cleanRange(H,$),I.limitRange(H)},I._cleanRange=function(H,$){$||($={}),H||(H="range");var J,Q,ot=u.nestedProperty(I,H).get();if(Q=(Q=I.type==="date"?u.dfltRange(I.calendar):q==="y"?P.DFLTRANGEY:I._name==="realaxis"?[0,1]:$.dfltRange||P.DFLTRANGEX).slice(),I.rangemode!=="tozero"&&I.rangemode!=="nonnegative"||(Q[0]=0),ot&&ot.length===2){var st=ot[0]===null,ht=ot[1]===null;for(I.type!=="date"||I.autorange||(ot[0]=u.cleanDate(ot[0],x,I.calendar),ot[1]=u.cleanDate(ot[1],x,I.calendar)),J=0;J<2;J++)if(I.type==="date"){if(!u.isDateTime(ot[J],I.calendar)){I[H]=Q;break}if(I.r2l(ot[0])===I.r2l(ot[1])){var xt=u.constrain(I.r2l(ot[0]),u.MIN_MS+1e3,u.MAX_MS-1e3);ot[0]=I.l2r(xt-1e3),ot[1]=I.l2r(xt+1e3);break}}else{if(!h(ot[J])){if(st||ht||!h(ot[1-J])){I[H]=Q;break}ot[J]=ot[1-J]*(J?10:.1)}if(ot[J]<-_?ot[J]=-_:ot[J]>_&&(ot[J]=_),ot[0]===ot[1]){var Pt=Math.max(1,Math.abs(1e-6*ot[0]));ot[0]-=Pt,ot[1]+=Pt}}}else u.nestedProperty(I,H).set(Q)},I.setScale=function(H){var $=B._size;if(I.overlaying){var J=O.getFromId({_fullLayout:B},I.overlaying);I.domain=J.domain}var Q=H&&I._r?"_r":"range",ot=I.calendar;I.cleanRange(Q);var st,ht,xt=I.r2l(I[Q][0],ot),Pt=I.r2l(I[Q][1],ot),It=q==="y";if(It?(I._offset=$.t+(1-I.domain[1])*$.h,I._length=$.h*(I.domain[1]-I.domain[0]),I._m=I._length/(xt-Pt),I._b=-I._m*Pt):(I._offset=$.l+I.domain[0]*$.w,I._length=$.w*(I.domain[1]-I.domain[0]),I._m=I._length/(Pt-xt),I._b=-I._m*xt),I._rangebreaks=[],I._lBreaks=0,I._m2=0,I._B=[],I.rangebreaks&&(I._rangebreaks=I.locateBreaks(Math.min(xt,Pt),Math.max(xt,Pt)),I._rangebreaks.length)){for(st=0;st<I._rangebreaks.length;st++)ht=I._rangebreaks[st],I._lBreaks+=Math.abs(ht.max-ht.min);var zt=It;xt>Pt&&(zt=!zt),zt&&I._rangebreaks.reverse();var pt=zt?-1:1;for(I._m2=pt*I._length/(Math.abs(Pt-xt)-I._lBreaks),I._B.push(-I._m2*(It?Pt:xt)),st=0;st<I._rangebreaks.length;st++)ht=I._rangebreaks[st],I._B.push(I._B[I._B.length-1]-pt*I._m2*(ht.max-ht.min));for(st=0;st<I._rangebreaks.length;st++)(ht=I._rangebreaks[st]).pmin=dt(ht.min),ht.pmax=dt(ht.max)}if(!isFinite(I._m)||!isFinite(I._b)||I._length<0)throw B._replotting=!1,new Error("Something went wrong with axis scaling")},I.maskBreaks=function(H){var $,J,Q,ot,st,ht=I.rangebreaks||[];ht._cachedPatterns||(ht._cachedPatterns=ht.map(function(yt){return yt.enabled&&yt.bounds?u.simpleMap(yt.bounds,yt.pattern?d:I.d2c):null})),ht._cachedValues||(ht._cachedValues=ht.map(function(yt){return yt.enabled&&yt.values?u.simpleMap(yt.values,I.d2c).sort(u.sorterAsc):null}));for(var xt=0;xt<ht.length;xt++){var Pt=ht[xt];if(Pt.enabled){if(Pt.bounds){var It=Pt.pattern;switch(J=($=ht._cachedPatterns[xt])[0],Q=$[1],It){case R:ot=(st=new Date(H)).getUTCDay(),J>Q&&(Q+=7,ot<J&&(ot+=7));break;case F:ot=(st=new Date(H)).getUTCHours()+(st.getUTCMinutes()/60+st.getUTCSeconds()/3600+st.getUTCMilliseconds()/36e5),J>Q&&(Q+=24,ot<J&&(ot+=24));break;case"":ot=H}if(ot>=J&&ot<Q)return x}else for(var zt=ht._cachedValues[xt],pt=0;pt<zt.length;pt++)if(Q=(J=zt[pt])+Pt.dvalue,H>=J&&H<Q)return x}}return H},I.locateBreaks=function(H,$){var J,Q,ot,st,ht=[];if(!I.rangebreaks)return ht;var xt=I.rangebreaks.slice().sort(function(Tt,At){return Tt.pattern===R&&At.pattern===F?-1:At.pattern===R&&Tt.pattern===F?1:0}),Pt=function(Tt,At){if((Tt=u.constrain(Tt,H,$))!==(At=u.constrain(At,H,$))){for(var Et=!0,Mt=0;Mt<ht.length;Mt++){var Nt=ht[Mt];Tt<Nt.max&&At>=Nt.min&&(Tt<Nt.min&&(Nt.min=Tt),At>Nt.max&&(Nt.max=At),Et=!1)}Et&&ht.push({min:Tt,max:At})}};for(J=0;J<xt.length;J++){var It=xt[J];if(It.enabled)if(It.bounds){var zt=H,pt=$;It.pattern&&(zt=Math.floor(zt)),ot=(Q=u.simpleMap(It.bounds,It.pattern?d:I.r2l))[0],st=Q[1];var yt,wt,St=new Date(zt);switch(It.pattern){case R:wt=E,yt=(st-ot+(st<ot?7:0))*S,zt+=ot*S-(St.getUTCDay()*S+St.getUTCHours()*C+St.getUTCMinutes()*T+St.getUTCSeconds()*A+St.getUTCMilliseconds());break;case F:wt=S,yt=(st-ot+(st<ot?24:0))*C,zt+=ot*C-(St.getUTCHours()*C+St.getUTCMinutes()*T+St.getUTCSeconds()*A+St.getUTCMilliseconds());break;default:zt=Math.min(Q[0],Q[1]),yt=wt=(pt=Math.max(Q[0],Q[1]))-zt}for(var Ut=zt;Ut<pt;Ut+=wt)Pt(Ut,Ut+yt)}else for(var Gt=u.simpleMap(It.values,I.d2c),mt=0;mt<Gt.length;mt++)Pt(ot=Gt[mt],st=ot+It.dvalue)}return ht.sort(function(Tt,At){return Tt.min-At.min}),ht},I.makeCalcdata=function(H,$,J){var Q,ot,st,ht,xt=I.type,Pt=xt==="date"&&H[$+"calendar"];if($ in H){if(Q=H[$],ht=H._length||u.minRowLength(Q),u.isTypedArray(Q)&&(xt==="linear"||xt==="log")){if(ht===Q.length)return Q;if(Q.subarray)return Q.subarray(0,ht)}if(xt==="multicategory")return function(pt,yt){for(var wt=new Array(yt),St=0;St<yt;St++){var Ut=(pt[0]||[])[St],Gt=(pt[1]||[])[St];wt[St]=z([Ut,Gt])}return wt}(Q,ht);for(ot=new Array(ht),st=0;st<ht;st++)ot[st]=I.d2c(Q[st],0,Pt,J)}else{var It=$+"0"in H?I.d2c(H[$+"0"],0,Pt):0,zt=H["d"+$]?Number(H["d"+$]):1;for(Q=H[{x:"y",y:"x"}[$]],ht=H._length||Q.length,ot=new Array(ht),st=0;st<ht;st++)ot[st]=It+st*zt}if(I.rangebreaks)for(st=0;st<ht;st++)ot[st]=I.maskBreaks(ot[st]);return ot},I.isValidRange=function(H,$){return Array.isArray(H)&&H.length===2&&($&&H[0]===null||h(I.r2l(H[0])))&&($&&H[1]===null||h(I.r2l(H[1])))},I.getAutorangeDflt=function(H,$){var J=!I.isValidRange(H,"nullOk");return J&&$&&$.reverseDflt?J="reversed":H&&(H[0]===null&&H[1]===null?J=!0:H[0]===null&&H[1]!==null?J="min":H[0]!==null&&H[1]===null&&(J="max")),J},I.isReversed=function(){var H=I.autorange;return H==="reversed"||H==="min reversed"||H==="max reversed"},I.isPtWithinRange=function(H,$){var J=I.c2l(H[q],null,$),Q=I.r2l(I.range[0]),ot=I.r2l(I.range[1]);return Q<ot?Q<=J&&J<=ot:ot<=J&&J<=Q},I._emptyCategories=function(){I._categories=[],I._categoriesMap={}},I.clearCalc=function(){var H=I._matchGroup;if(H){var $=null,J=null;for(var Q in H){var ot=B[O.id2name(Q)];if(ot._categories){$=ot._categories,J=ot._categoriesMap;break}}$&&J?(I._categories=$,I._categoriesMap=J):I._emptyCategories()}else I._emptyCategories();if(I._initialCategories)for(var st=0;st<I._initialCategories.length;st++)ft(I._initialCategories[st])},I.sortByInitialCategories=function(){var H=[];if(I._emptyCategories(),I._initialCategories)for(var $=0;$<I._initialCategories.length;$++)ft(I._initialCategories[$]);H=H.concat(I._traceIndices);var J=I._matchGroup;for(var Q in J)if(j!==Q){var ot=B[O.id2name(Q)];ot._categories=I._categories,ot._categoriesMap=I._categoriesMap,H=H.concat(ot._traceIndices)}return H};var G=B._d3locale;I.type==="date"&&(I._dateFormat=G?G.timeFormat:f,I._extraFormat=B._extraFormat),I._separators=B.separators,I._numFormat=G?G.numberFormat:c,delete I._minDtick,delete I._forceTick0}},9652:function(a){a.exports=function(s){var o=["showexponent","showtickprefix","showticksuffix"].filter(function(l){return s[l]!==void 0});if(o.every(function(l){return s[l]===s[o[0]]})||o.length===1)return s[o[0]]}},6115:function(a,s,o){var l=o(1828),f=o(7901).contrast,u=o(3838),c=o(9652),h=o(5501);function d(p,g){function m(v,y){return l.coerce(p,g,u.tickformatstops,v,y)}m("enabled")&&(m("dtickrange"),m("value"))}a.exports=function(p,g,m,v,y){y||(y={});var _=m("labelalias");l.isPlainObject(_)||delete g.labelalias;var x=c(p);if(m("showticklabels")){var w=y.font||{},E=g.color,S=(g.ticklabelposition||"").indexOf("inside")!==-1?f(y.bgColor):E&&E!==u.color.dflt?E:w.color;if(l.coerceFont(m,"tickfont",{family:w.family,size:w.size,color:S}),y.noTicklabelstep||v==="multicategory"||v==="log"||m("ticklabelstep"),y.noAng||m("tickangle"),v!=="category"){var C=m("tickformat");h(p,g,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:d}),g.tickformatstops.length||delete g.tickformatstops,y.noExp||C||v==="date"||(m("showexponent",x),m("exponentformat"),m("minexponent"),m("separatethousands"))}}}},8701:function(a,s,o){var l=o(1828),f=o(3838);a.exports=function(u,c,h,d){var p=d.isMinor,g=p?u.minor||{}:u,m=p?c.minor:c,v=p?f.minor:f,y=p?"minor.":"",_=l.coerce2(g,m,v,"ticklen",p?.6*(c.ticklen||5):void 0),x=l.coerce2(g,m,v,"tickwidth",p?c.tickwidth||1:void 0),w=l.coerce2(g,m,v,"tickcolor",(p?c.tickcolor:void 0)||m.color);h(y+"ticks",!p&&d.outerTicks||_||x||w?"outside":"")||(delete m.ticklen,delete m.tickwidth,delete m.tickcolor)}},6218:function(a,s,o){var l=o(6287),f=o(1828).isArrayOrTypedArray;a.exports=function(u,c,h,d,p){p||(p={});var g=p.isMinor,m=g?u.minor||{}:u,v=g?c.minor:c,y=g?"minor.":"";function _(T){var A=m[T];return A!==void 0?A:(v._template||{})[T]}var x=_("tick0"),w=_("dtick"),E=_("tickvals"),S=h(y+"tickmode",f(E)?"array":w?"linear":"auto");if(S==="auto"||S==="sync")h(y+"nticks");else if(S==="linear"){var C=v.dtick=l.dtick(w,d);v.tick0=l.tick0(x,d,c.calendar,C)}else d!=="multicategory"&&(h(y+"tickvals")===void 0?v.tickmode="auto":g||h("ticktext"))}},6847:function(a,s,o){var l=o(9898),f=o(3972),u=o(1828),c=o(1424),h=o(9298);a.exports=function(d,p,g,m){var v=d._fullLayout;if(p.length!==0){var y,_,x,w;m&&(y=m());var E=l.ease(g.easing);return d._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(w),w=null,function(){for(var T={},A=0;A<p.length;A++){var O=p[A],P=O.plotinfo.xaxis,F=O.plotinfo.yaxis;O.xr0&&(T[P._name+".range"]=O.xr0.slice()),O.yr0&&(T[F._name+".range"]=O.yr0.slice())}return f.call("relayout",d,T).then(function(){for(var R=0;R<p.length;R++)S(p[R].plotinfo)})}()}),_=Date.now(),w=window.requestAnimationFrame(function T(){x=Date.now();for(var A=Math.min(1,(x-_)/g.duration),O=E(A),P=0;P<p.length;P++)C(p[P],O);x-_>g.duration?(function(){for(var F={},R=0;R<p.length;R++){var N=p[R],D=N.plotinfo.xaxis,I=N.plotinfo.yaxis;N.xr1&&(F[D._name+".range"]=N.xr1.slice()),N.yr1&&(F[I._name+".range"]=N.yr1.slice())}y&&y(),f.call("relayout",d,F).then(function(){for(var B=0;B<p.length;B++)S(p[B].plotinfo)})}(),w=window.cancelAnimationFrame(T)):w=window.requestAnimationFrame(T)}),Promise.resolve()}function S(T){var A=T.xaxis,O=T.yaxis;v._defs.select("#"+T.clipId+"> rect").call(c.setTranslate,0,0).call(c.setScale,1,1),T.plot.call(c.setTranslate,A._offset,O._offset).call(c.setScale,1,1);var P=T.plot.selectAll(".scatterlayer .trace");P.selectAll(".point").call(c.setPointGroupScale,1,1),P.selectAll(".textpoint").call(c.setTextPointsScale,1,1),P.call(c.hideOutsideRangePoints,T)}function C(T,A){var O=T.plotinfo,P=O.xaxis,F=O.yaxis,R=P._length,N=F._length,D=!!T.xr1,I=!!T.yr1,B=[];if(D){var j=u.simpleMap(T.xr0,P.r2l),q=u.simpleMap(T.xr1,P.r2l),et=j[1]-j[0],U=q[1]-q[0];B[0]=(j[0]*(1-A)+A*q[0]-j[0])/(j[1]-j[0])*R,B[2]=R*(1-A+A*U/et),P.range[0]=P.l2r(j[0]*(1-A)+A*q[0]),P.range[1]=P.l2r(j[1]*(1-A)+A*q[1])}else B[0]=0,B[2]=R;if(I){var Z=u.simpleMap(T.yr0,F.r2l),rt=u.simpleMap(T.yr1,F.r2l),ft=Z[1]-Z[0],z=rt[1]-rt[0];B[1]=(Z[1]*(1-A)+A*rt[1]-Z[1])/(Z[0]-Z[1])*N,B[3]=N*(1-A+A*z/ft),F.range[0]=P.l2r(Z[0]*(1-A)+A*rt[0]),F.range[1]=F.l2r(Z[1]*(1-A)+A*rt[1])}else B[1]=0,B[3]=N;h.drawOne(d,P,{skipTitle:!0}),h.drawOne(d,F,{skipTitle:!0}),h.redrawComponents(d,[P._id,F._id]);var W=D?R/B[2]:1,X=I?N/B[3]:1,it=D?B[0]:0,lt=I?B[1]:0,dt=D?B[0]/B[2]*R:0,nt=I?B[1]/B[3]*N:0,V=P._offset-dt,G=F._offset-nt;O.clipRect.call(c.setTranslate,it,lt).call(c.setScale,1/W,1/X),O.plot.call(c.setTranslate,V,G).call(c.setScale,W,X),c.setPointGroupScale(O.zoomScalePts,1/W,1/X),c.setTextPointsScale(O.zoomScaleTxt,1/W,1/X)}h.redrawComponents(d)}},951:function(a,s,o){var l=o(3972).traceIs,f=o(4322);function u(h){return{v:"x",h:"y"}[h.orientation||"v"]}function c(h,d){var p=u(h),g=l(h,"box-violin"),m=l(h._fullInput||{},"candlestick");return g&&!m&&d===p&&h[p]===void 0&&h[p+"0"]===void 0}a.exports=function(h,d,p,g){p("autotypenumbers",g.autotypenumbersDflt),p("type",(g.splomStash||{}).type)==="-"&&(function(m,v){if(m.type==="-"){var y,_=m._id,x=_.charAt(0);_.indexOf("scene")!==-1&&(_=x);var w=function(F,R,N){for(var D=0;D<F.length;D++){var I=F[D];if(I.type==="splom"&&I._length>0&&(I["_"+N+"axes"]||{})[R]||(I[N+"axis"]||N)===R&&(c(I,N)||(I[N]||[]).length||I[N+"0"]))return I}}(v,_,x);if(w)if(w.type!=="histogram"||x!=={v:"y",h:"x"}[w.orientation||"v"]){var E=x+"calendar",S=w[E],C={noMultiCategory:!l(w,"cartesian")||l(w,"noMultiCategory")};if(w.type==="box"&&w._hasPreCompStats&&x==={h:"x",v:"y"}[w.orientation||"v"]&&(C.noMultiCategory=!0),C.autotypenumbers=m.autotypenumbers,c(w,x)){var T=u(w),A=[];for(y=0;y<v.length;y++){var O=v[y];l(O,"box-violin")&&(O[x+"axis"]||x)===_&&(O[T]!==void 0?A.push(O[T][0]):O.name!==void 0?A.push(O.name):A.push("text"),O[E]!==S&&(S=void 0))}m.type=f(A,S,C)}else if(w.type==="splom"){var P=w.dimensions[w._axesDim[_]];P.visible&&(m.type=f(P.values,S,C))}else m.type=f(w[x]||[w[x+"0"]],S,C)}else m.type="linear"}}(d,g.data),d.type==="-"?d.type="linear":h.type=d.type)}},1137:function(a,s,o){var l=o(3972),f=o(1828);function u(p,g,m){var v,y,_,x=!1;if(g.type==="data")v=p._fullData[g.traces!==null?g.traces[0]:0];else{if(g.type!=="layout")return!1;v=p._fullLayout}return y=f.nestedProperty(v,g.prop).get(),(_=m[g.type]=m[g.type]||{}).hasOwnProperty(g.prop)&&_[g.prop]!==y&&(x=!0),_[g.prop]=y,{changed:x,value:y}}function c(p,g){var m=[],v=g[0],y={};if(typeof v=="string")y[v]=g[1];else{if(!f.isPlainObject(v))return m;y=v}return d(y,function(_,x,w){m.push({type:"layout",prop:_,value:w})},"",0),m}function h(p,g){var m,v,y,_,x=[];if(v=g[0],y=g[1],m=g[2],_={},typeof v=="string")_[v]=y;else{if(!f.isPlainObject(v))return x;_=v,m===void 0&&(m=y)}return m===void 0&&(m=null),d(_,function(w,E,S){var C,T;if(Array.isArray(S)){T=S.slice();var A=Math.min(T.length,p.data.length);m&&(A=Math.min(A,m.length)),C=[];for(var O=0;O<A;O++)C[O]=m?m[O]:O}else T=S,C=m?m.slice():null;if(C===null)Array.isArray(T)&&(T=T[0]);else if(Array.isArray(C)){if(!Array.isArray(T)){var P=T;T=[];for(var F=0;F<C.length;F++)T[F]=P}T.length=Math.min(C.length,T.length)}x.push({type:"data",prop:w,traces:C,value:T})},"",0),x}function d(p,g,m,v){Object.keys(p).forEach(function(y){var _=p[y];if(y[0]!=="_"){var x=m+(v>0?".":"")+y;f.isPlainObject(_)?d(_,g,x,v+1):g(x,y,_)}})}s.manageCommandObserver=function(p,g,m,v){var y={},_=!0;g&&g._commandObserver&&(y=g._commandObserver),y.cache||(y.cache={}),y.lookupTable={};var x=s.hasSimpleAPICommandBindings(p,m,y.lookupTable);if(g&&g._commandObserver){if(x)return y;if(g._commandObserver.remove)return g._commandObserver.remove(),g._commandObserver=null,y}if(x){u(p,x,y.cache),y.check=function(){if(_){var S=u(p,x,y.cache);return S.changed&&v&&y.lookupTable[S.value]!==void 0&&(y.disable(),Promise.resolve(v({value:S.value,type:x.type,prop:x.prop,traces:x.traces,index:y.lookupTable[S.value]})).then(y.enable,y.enable)),S.changed}};for(var w=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],E=0;E<w.length;E++)p._internalOn(w[E],y.check);y.remove=function(){for(var S=0;S<w.length;S++)p._removeInternalListener(w[S],y.check)}}else f.log("Unable to automatically bind plot updates to API command"),y.lookupTable={},y.remove=function(){};return y.disable=function(){_=!1},y.enable=function(){_=!0},g&&(g._commandObserver=y),y},s.hasSimpleAPICommandBindings=function(p,g,m){var v,y,_=g.length;for(v=0;v<_;v++){var x,w=g[v],E=w.method,S=w.args;if(Array.isArray(S)||(S=[]),!E)return!1;var C=s.computeAPICommandBindings(p,E,S);if(C.length!==1)return!1;if(y){if((x=C[0]).type!==y.type||x.prop!==y.prop)return!1;if(Array.isArray(y.traces)){if(!Array.isArray(x.traces))return!1;x.traces.sort();for(var T=0;T<y.traces.length;T++)if(y.traces[T]!==x.traces[T])return!1}else if(x.prop!==y.prop)return!1}else y=C[0],Array.isArray(y.traces)&&y.traces.sort();var A=(x=C[0]).value;if(Array.isArray(A)){if(A.length!==1)return!1;A=A[0]}m&&(m[A]=v)}return y},s.executeAPICommand=function(p,g,m){if(g==="skip")return Promise.resolve();var v=l.apiMethodRegistry[g],y=[p];Array.isArray(m)||(m=[]);for(var _=0;_<m.length;_++)y.push(m[_]);return v.apply(null,y).catch(function(x){return f.warn("API call to Plotly."+g+" rejected.",x),Promise.reject(x)})},s.computeAPICommandBindings=function(p,g,m){var v;switch(Array.isArray(m)||(m=[]),g){case"restyle":v=h(p,m);break;case"relayout":v=c(0,m);break;case"update":v=h(p,[m[0],m[2]]).concat(c(0,[m[1]]));break;case"animate":v=function(y,_){return Array.isArray(_[0])&&_[0].length===1&&["string","number"].indexOf(typeof _[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:_[0][0].toString()}]:[]}(0,m);break;default:v=[]}return v}},7670:function(a,s,o){var l=o(1426).extendFlat;s.Y=function(f,u){u=u||{};var c={valType:"info_array",editType:(f=f||{}).editType,items:[{valType:"number",min:0,max:1,editType:f.editType},{valType:"number",min:0,max:1,editType:f.editType}],dflt:[0,1]},h=(f.name&&f.name,f.trace,u.description&&u.description,{x:l({},c,{}),y:l({},c,{}),editType:f.editType});return f.noGridCell||(h.row={valType:"integer",min:0,dflt:0,editType:f.editType},h.column={valType:"integer",min:0,dflt:0,editType:f.editType}),h},s.c=function(f,u,c,h){var d=h&&h.x||[0,1],p=h&&h.y||[0,1],g=u.grid;if(g){var m=c("domain.column");m!==void 0&&(m<g.columns?d=g._domains.x[m]:delete f.domain.column);var v=c("domain.row");v!==void 0&&(v<g.rows?p=g._domains.y[v]:delete f.domain.row)}var y=c("domain.x",d),_=c("domain.y",p);y[0]<y[1]||(f.domain.x=d.slice()),_[0]<_[1]||(f.domain.y=p.slice())}},1940:function(a){a.exports=function(s){var o=s.editType,l=s.colorEditType;l===void 0&&(l=o);var f={family:{valType:"string",noBlank:!0,strict:!0,editType:o},size:{valType:"number",min:1,editType:o},color:{valType:"color",editType:l},editType:o};return s.autoSize&&(f.size.dflt="auto"),s.autoColor&&(f.color.dflt="auto"),s.arrayOk&&(f.family.arrayOk=!0,f.size.arrayOk=!0,f.color.arrayOk=!0),f}},1391:function(a){a.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},7659:function(a,s,o){var l=o(3972);o(5555).SUBPLOT_PATTERN,s.a0=function(f,u){var c,h=[],d=[];if(!(c=typeof u=="string"?l.getModule(u).plot:typeof u=="function"?u:u.plot))return[h,f];for(var p=0;p<f.length;p++){var g=f[p],m=g[0].trace;m.visible===!0&&m._length!==0&&(m._module&&m._module.plot===c?h.push(g):d.push(g))}return[h,d]}},3538:function(a){function s(o,l){var f,u,c=[0,0,0,0];for(f=0;f<4;++f)for(u=0;u<4;++u)c[u]+=o[4*f+u]*l[f];return c}a.exports=function(o,l){return s(o.projection,s(o.view,s(o.model,[l[0],l[1],l[2],1])))}},820:function(a,s,o){var l=o(1940),f=o(5594),u=o(2399),c=o(9241),h=o(3777),d=o(5025),p=o(1426).extendFlat,g=l({editType:"calc"});g.family.dflt='"Open Sans", verdana, arial, sans-serif',g.size.dflt=12,g.color.dflt=u.defaultLine,a.exports={font:g,title:{text:{valType:"string",editType:"layoutstyle"},font:l({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:p(d({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:u.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:u.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:u.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:c.newshape,activeshape:c.activeshape,newselection:h.newselection,activeselection:h.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:p({},f.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:l({editType:"layoutstyle"})}}},5025:function(a){a.exports=function(s){var o=s.editType;return{t:{valType:"number",dflt:0,editType:o},r:{valType:"number",dflt:0,editType:o},b:{valType:"number",dflt:0,editType:o},l:{valType:"number",dflt:0,editType:o},editType:o}}},4875:function(a,s,o){var l=o(9898),f=o(4096).Dq,u=o(721).FF,c=o(2770),h=o(3972),d=o(6281),p=o(4467),g=o(1828),m=o(7901),v=o(606).BADNUM,y=o(1675),_=o(1873).clearOutline,x=o(1479),w=o(5594),E=o(1391),S=o(7659).a0,C=g.relinkPrivateKeys,T=g._,A=a.exports={};g.extendFlat(A,h),A.attributes=o(9012),A.attributes.type.values=A.allTypes,A.fontAttrs=o(1940),A.layoutAttributes=o(820),A.fontWeight="normal";var O=A.transformsRegistry,P=o(1137);A.executeAPICommand=P.executeAPICommand,A.computeAPICommandBindings=P.computeAPICommandBindings,A.manageCommandObserver=P.manageCommandObserver,A.hasSimpleAPICommandBindings=P.hasSimpleAPICommandBindings,A.redrawText=function(z){return z=g.getGraphDiv(z),new Promise(function(W){setTimeout(function(){z._fullLayout&&(h.getComponentMethod("annotations","draw")(z),h.getComponentMethod("legend","draw")(z),h.getComponentMethod("colorbar","draw")(z),W(A.previousPromises(z)))},300)})},A.resize=function(z){var W;z=g.getGraphDiv(z);var X=new Promise(function(it,lt){z&&!g.isHidden(z)||lt(new Error("Resize must be passed a displayed plot div element.")),z._redrawTimer&&clearTimeout(z._redrawTimer),z._resolveResize&&(W=z._resolveResize),z._resolveResize=it,z._redrawTimer=setTimeout(function(){if(!z.layout||z.layout.width&&z.layout.height||g.isHidden(z))it(z);else{delete z.layout.width,delete z.layout.height;var dt=z.changed;z.autoplay=!0,h.call("relayout",z,{autosize:!0}).then(function(){z.changed=dt,z._resolveResize===it&&(delete z._resolveResize,it(z))})}},100)});return W&&W(X),X},A.previousPromises=function(z){if((z._promises||[]).length)return Promise.all(z._promises).then(function(){z._promises=[]})},A.addLinks=function(z){if(z._context.showLink||z._context.showSources){var W=z._fullLayout,X=g.ensureSingle(W._paper,"text","js-plot-link-container",function(G){G.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:m.defaultLine,"pointer-events":"all"}).each(function(){var H=l.select(this);H.append("tspan").classed("js-link-to-tool",!0),H.append("tspan").classed("js-link-spacer",!0),H.append("tspan").classed("js-sourcelinks",!0)})}),it=X.node(),lt={y:W._paper.attr("height")-9};document.body.contains(it)&&it.getComputedTextLength()>=W.width-20?(lt["text-anchor"]="start",lt.x=5):(lt["text-anchor"]="end",lt.x=W._paper.attr("width")-7),X.attr(lt);var dt=X.select(".js-link-to-tool"),nt=X.select(".js-link-spacer"),V=X.select(".js-sourcelinks");z._context.showSources&&z._context.showSources(z),z._context.showLink&&function(G,H){H.text("");var $=H.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(G._context.linkText+" "+String.fromCharCode(187));if(G._context.sendData)$.on("click",function(){A.sendDataToCloud(G)});else{var J=window.location.pathname.split("/"),Q=window.location.search;$.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+J[2].split(".")[0]+"/"+J[1]+Q})}}(z,dt),nt.text(dt.text()&&V.text()?" - ":"")}},A.sendDataToCloud=function(z){var W=(window.PLOTLYENV||{}).BASE_URL||z._context.plotlyServerURL;if(W){z.emit("plotly_beforeexport");var X=l.select(z).append("div").attr("id","hiddenform").style("display","none"),it=X.append("form").attr({action:W+"/external",method:"post",target:"_blank"});return it.append("input").attr({type:"text",name:"data"}).node().value=A.graphJson(z,!1,"keepdata"),it.node().submit(),X.remove(),z.emit("plotly_afterexport"),!1}};var F=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],R=["year","month","dayMonth","dayMonthYear"];function N(z,W){var X=z._context.locale;X||(X="en-US");var it=!1,lt={};function dt(J){for(var Q=!0,ot=0;ot<W.length;ot++){var st=W[ot];lt[st]||(J[st]?lt[st]=J[st]:Q=!1)}Q&&(it=!0)}for(var nt=0;nt<2;nt++){for(var V=z._context.locales,G=0;G<2;G++){var H=(V[X]||{}).format;if(H&&(dt(H),it))break;V=h.localeRegistry}var $=X.split("-")[0];if(it||$===X)break;X=$}return it||dt(h.localeRegistry.en.format),lt}function D(z,W){var X={_fullLayout:W},it=z._id.charAt(0)==="x",lt=z._mainAxis._anchorAxis,dt="",nt="",V="";if(lt&&(V=lt._mainAxis._id,dt=it?z._id+V:V+z._id),!dt||!W._plots[dt]){dt="";for(var G=z._counterAxes,H=0;H<G.length;H++){var $=G[H],J=it?z._id+$:$+z._id;nt||(nt=J);var Q=y.getFromId(X,$);if(V&&Q.overlaying===V){dt=J;break}}}return dt||nt}function I(z){var W=z.transforms;if(Array.isArray(W)&&W.length)for(var X=0;X<W.length;X++){var it=W[X],lt=it._module||O[it.type];if(lt&&lt.makesData)return!0}return!1}function B(z,W,X,it){for(var lt=z.transforms,dt=[z],nt=0;nt<lt.length;nt++){var V=lt[nt],G=O[V.type];G&&G.transform&&(dt=G.transform(dt,{transform:V,fullTrace:z,fullData:W,layout:X,fullLayout:it,transformIndex:nt}))}return dt}function j(z){return typeof z=="string"&&z.substr(z.length-2)==="px"&&parseFloat(z)}function q(z){var W=z.margin;if(!z._size){var X=z._size={l:Math.round(W.l),r:Math.round(W.r),t:Math.round(W.t),b:Math.round(W.b),p:Math.round(W.pad)};X.w=Math.round(z.width)-X.l-X.r,X.h=Math.round(z.height)-X.t-X.b}z._pushmargin||(z._pushmargin={}),z._pushmarginIds||(z._pushmarginIds={}),z._reservedMargin||(z._reservedMargin={})}A.supplyDefaults=function(z,W){var X=W&&W.skipUpdateCalc,it=z._fullLayout||{};if(it._skipDefaults)delete it._skipDefaults;else{var lt,dt=z._fullLayout={},nt=z.layout||{},V=z._fullData||[],G=z._fullData=[],H=z.data||[],$=z.calcdata||[],J=z._context||{};z._transitionData||A.createTransitionData(z),dt._dfltTitle={plot:T(z,"Click to enter Plot title"),x:T(z,"Click to enter X axis title"),y:T(z,"Click to enter Y axis title"),colorbar:T(z,"Click to enter Colorscale title"),annotation:T(z,"new text")},dt._traceWord=T(z,"trace");var Q=N(z,F);if(dt._mapboxAccessToken=J.mapboxAccessToken,it._initialAutoSizeIsDone){var ot=it.width,st=it.height;A.supplyLayoutGlobalDefaults(nt,dt,Q),nt.width||(dt.width=ot),nt.height||(dt.height=st),A.sanitizeMargins(dt)}else{A.supplyLayoutGlobalDefaults(nt,dt,Q);var ht=!nt.width||!nt.height,xt=dt.autosize,Pt=J.autosizable;ht&&(xt||Pt)?A.plotAutoSize(z,nt,dt):ht&&A.sanitizeMargins(dt),!xt&&ht&&(nt.width=dt.width,nt.height=dt.height)}dt._d3locale=function(Dt,kt){return Dt.decimal=kt.charAt(0),Dt.thousands=kt.charAt(1),{numberFormat:function(Wt){try{Wt=u(Dt).format(g.adjustFormat(Wt))}catch{return g.warnBadFormat(Wt),g.noFormat}return Wt},timeFormat:f(Dt).utcFormat}}(Q,dt.separators),dt._extraFormat=N(z,R),dt._initialAutoSizeIsDone=!0,dt._dataLength=H.length,dt._modules=[],dt._visibleModules=[],dt._basePlotModules=[];var It=dt._subplots=function(){var Dt,kt,Wt=h.collectableSubplotTypes,Qt={};if(!Wt){Wt=[];var Ht=h.subplotsRegistry;for(var oe in Ht){var ce=Ht[oe].attr;if(ce&&(Wt.push(oe),Array.isArray(ce)))for(kt=0;kt<ce.length;kt++)g.pushUnique(Wt,ce[kt])}}for(Dt=0;Dt<Wt.length;Dt++)Qt[Wt[Dt]]=[];return Qt}(),zt=dt._splomAxes={x:{},y:{}},pt=dt._splomSubplots={};dt._splomGridDflt={},dt._scatterStackOpts={},dt._firstScatter={},dt._alignmentOpts={},dt._colorAxes={},dt._requestRangeslider={},dt._traceUids=function(Dt,kt){var Wt,Qt,Ht=kt.length,oe=[];for(Wt=0;Wt<Dt.length;Wt++){var ce=Dt[Wt]._fullInput;ce!==Qt&&oe.push(ce),Qt=ce}var pe=oe.length,we=new Array(Ht),Le={};function jt(ae,Se){we[Se]=ae,Le[ae]=1}function Rt(ae,Se){if(ae&&typeof ae=="string"&&!Le[ae])return jt(ae,Se),!0}for(Wt=0;Wt<Ht;Wt++){var te=kt[Wt].uid;typeof te=="number"&&(te=String(te)),Rt(te,Wt)||Wt<pe&&Rt(oe[Wt].uid,Wt)||jt(g.randstr(Le),Wt)}return we}(V,H),dt._globalTransforms=(z._context||{}).globalTransforms,A.supplyDataDefaults(H,G,nt,dt);var yt=Object.keys(zt.x),wt=Object.keys(zt.y);if(yt.length>1&&wt.length>1){for(h.getComponentMethod("grid","sizeDefaults")(nt,dt),lt=0;lt<yt.length;lt++)g.pushUnique(It.xaxis,yt[lt]);for(lt=0;lt<wt.length;lt++)g.pushUnique(It.yaxis,wt[lt]);for(var St in pt)g.pushUnique(It.cartesian,St)}if(dt._has=A._hasPlotType.bind(dt),V.length===G.length)for(lt=0;lt<G.length;lt++)C(G[lt],V[lt]);A.supplyLayoutModuleDefaults(nt,dt,G,z._transitionData);var Ut=dt._visibleModules,Gt=[];for(lt=0;lt<Ut.length;lt++){var mt=Ut[lt].crossTraceDefaults;mt&&g.pushUnique(Gt,mt)}for(lt=0;lt<Gt.length;lt++)Gt[lt](G,dt);dt._hasOnlyLargeSploms=dt._basePlotModules.length===1&&dt._basePlotModules[0].name==="splom"&&yt.length>15&&wt.length>15&&dt.shapes.length===0&&dt.images.length===0,A.linkSubplots(G,dt,V,it),A.cleanPlot(G,dt,V,it);var Tt=!(!it._has||!it._has("gl2d")),At=!(!dt._has||!dt._has("gl2d")),Et=!(!it._has||!it._has("cartesian"))||Tt,Mt=!(!dt._has||!dt._has("cartesian"))||At;Et&&!Mt?it._bgLayer.remove():Mt&&!Et&&(dt._shouldCreateBgLayer=!0),it._zoomlayer&&!z._dragging&&_({_fullLayout:it}),function(Dt,kt){var Wt,Qt=[];kt.meta&&(Wt=kt._meta={meta:kt.meta,layout:{meta:kt.meta}});for(var Ht=0;Ht<Dt.length;Ht++){var oe=Dt[Ht];oe.meta?Qt[oe.index]=oe._meta={meta:oe.meta}:kt.meta&&(oe._meta={meta:kt.meta}),kt.meta&&(oe._meta.layout={meta:kt.meta})}Qt.length&&(Wt||(Wt=kt._meta={}),Wt.data=Qt)}(G,dt),C(dt,it),h.getComponentMethod("colorscale","crossTraceDefaults")(G,dt),dt._preGUI||(dt._preGUI={}),dt._tracePreGUI||(dt._tracePreGUI={});var Nt,Ft=dt._tracePreGUI,Lt={};for(Nt in Ft)Lt[Nt]="old";for(lt=0;lt<G.length;lt++)Lt[Nt=G[lt]._fullInput.uid]||(Ft[Nt]={}),Lt[Nt]="new";for(Nt in Lt)Lt[Nt]==="old"&&delete Ft[Nt];q(dt),h.getComponentMethod("rangeslider","makeData")(dt),X||$.length!==G.length||A.supplyDefaultsUpdateCalc($,G)}},A.supplyDefaultsUpdateCalc=function(z,W){for(var X=0;X<W.length;X++){var it=W[X],lt=(z[X]||[])[0];if(lt&&lt.trace){var dt=lt.trace;if(dt._hasCalcTransform){var nt,V,G,H=dt._arrayAttrs;for(nt=0;nt<H.length;nt++)V=H[nt],G=g.nestedProperty(dt,V).get().slice(),g.nestedProperty(it,V).set(G)}lt.trace=it}}},A.createTransitionData=function(z){z._transitionData||(z._transitionData={}),z._transitionData._frames||(z._transitionData._frames=[]),z._transitionData._frameHash||(z._transitionData._frameHash={}),z._transitionData._counter||(z._transitionData._counter=0),z._transitionData._interruptCallbacks||(z._transitionData._interruptCallbacks=[])},A._hasPlotType=function(z){var W,X=this._basePlotModules||[];for(W=0;W<X.length;W++)if(X[W].name===z)return!0;var it=this._modules||[];for(W=0;W<it.length;W++){var lt=it[W].name;if(lt===z)return!0;var dt=h.modules[lt];if(dt&&dt.categories[z])return!0}return!1},A.cleanPlot=function(z,W,X,it){var lt,dt,nt=it._basePlotModules||[];for(lt=0;lt<nt.length;lt++){var V=nt[lt];V.clean&&V.clean(z,W,X,it)}var G=it._has&&it._has("gl"),H=W._has&&W._has("gl");G&&!H&&it._glcontainer!==void 0&&(it._glcontainer.selectAll(".gl-canvas").remove(),it._glcontainer.selectAll(".no-webgl").remove(),it._glcanvas=null);var $=!!it._infolayer;t:for(lt=0;lt<X.length;lt++){var J=X[lt].uid;for(dt=0;dt<z.length;dt++)if(J===z[dt].uid)continue t;$&&it._infolayer.select(".cb"+J).remove()}},A.linkSubplots=function(z,W,X,it){var lt,dt,nt=it._plots||{},V=W._plots={},G=W._subplots,H={_fullData:z,_fullLayout:W},$=G.cartesian.concat(G.gl2d||[]);for(lt=0;lt<$.length;lt++){var J,Q=$[lt],ot=nt[Q],st=y.getFromId(H,Q,"x"),ht=y.getFromId(H,Q,"y");for(ot?J=V[Q]=ot:(J=V[Q]={}).id=Q,st._counterAxes.push(ht._id),ht._counterAxes.push(st._id),st._subplotsWith.push(Q),ht._subplotsWith.push(Q),J.xaxis=st,J.yaxis=ht,J._hasClipOnAxisFalse=!1,dt=0;dt<z.length;dt++){var xt=z[dt];if(xt.xaxis===J.xaxis._id&&xt.yaxis===J.yaxis._id&&xt.cliponaxis===!1){J._hasClipOnAxisFalse=!0;break}}}var Pt,It=y.list(H,null,!0);for(lt=0;lt<It.length;lt++){var zt=null;(Pt=It[lt]).overlaying&&(zt=y.getFromId(H,Pt.overlaying))&&zt.overlaying&&(Pt.overlaying=!1,zt=null),Pt._mainAxis=zt||Pt,zt&&(Pt.domain=zt.domain.slice()),Pt._anchorAxis=Pt.anchor==="free"?null:y.getFromId(H,Pt.anchor)}for(lt=0;lt<It.length;lt++)if((Pt=It[lt])._counterAxes.sort(y.idSort),Pt._subplotsWith.sort(g.subplotSort),Pt._mainSubplot=D(Pt,W),Pt._counterAxes.length&&(Pt.spikemode&&Pt.spikemode.indexOf("across")!==-1||Pt.automargin&&Pt.mirror&&Pt.anchor!=="free"||h.getComponentMethod("rangeslider","isVisible")(Pt))){var pt=1,yt=0;for(dt=0;dt<Pt._counterAxes.length;dt++){var wt=y.getFromId(H,Pt._counterAxes[dt]);pt=Math.min(pt,wt.domain[0]),yt=Math.max(yt,wt.domain[1])}pt<yt&&(Pt._counterDomainMin=pt,Pt._counterDomainMax=yt)}},A.clearExpandedTraceDefaultColors=function(z){var W,X,it;for(X=[],(W=z._module._colorAttrs)||(z._module._colorAttrs=W=[],d.crawl(z._module.attributes,function(lt,dt,nt,V){X[V]=dt,X.length=V+1,lt.valType==="color"&&lt.dflt===void 0&&W.push(X.join("."))})),it=0;it<W.length;it++)g.nestedProperty(z,"_input."+W[it]).get()||g.nestedProperty(z,W[it]).set(null)},A.supplyDataDefaults=function(z,W,X,it){var lt,dt,nt,V=it._modules,G=it._visibleModules,H=it._basePlotModules,$=0,J=0;function Q(St){W.push(St);var Ut=St._module;Ut&&(g.pushUnique(V,Ut),St.visible===!0&&g.pushUnique(G,Ut),g.pushUnique(H,St._module.basePlotModule),$++,St._input.visible!==!1&&J++)}it._transformModules=[];var ot={},st=[],ht=(X.template||{}).data||{},xt=p.traceTemplater(ht);for(lt=0;lt<z.length;lt++){if(nt=z[lt],(dt=xt.newTrace(nt)).uid=it._traceUids[lt],A.supplyTraceDefaults(nt,dt,J,it,lt),dt.index=lt,dt._input=nt,dt._expandedIndex=$,dt.transforms&&dt.transforms.length)for(var Pt=nt.visible!==!1&&dt.visible===!1,It=B(dt,W,X,it),zt=0;zt<It.length;zt++){var pt=It[zt],yt={_template:dt._template,type:dt.type,uid:dt.uid+zt};Pt&&pt.visible===!1&&delete pt.visible,A.supplyTraceDefaults(pt,yt,$,it,lt),C(yt,pt),yt.index=lt,yt._input=nt,yt._fullInput=dt,yt._expandedIndex=$,yt._expandedInput=pt,Q(yt)}else dt._fullInput=dt,dt._expandedInput=dt,Q(dt);h.traceIs(dt,"carpetAxis")&&(ot[dt.carpet]=dt),h.traceIs(dt,"carpetDependent")&&st.push(lt)}for(lt=0;lt<st.length;lt++)if((dt=W[st[lt]]).visible){var wt=ot[dt.carpet];dt._carpet=wt,wt&&wt.visible?(dt.xaxis=wt.xaxis,dt.yaxis=wt.yaxis):dt.visible=!1}},A.supplyAnimationDefaults=function(z){var W;z=z||{};var X={};function it(lt,dt){return g.coerce(z||{},X,w,lt,dt)}if(it("mode"),it("direction"),it("fromcurrent"),Array.isArray(z.frame))for(X.frame=[],W=0;W<z.frame.length;W++)X.frame[W]=A.supplyAnimationFrameDefaults(z.frame[W]||{});else X.frame=A.supplyAnimationFrameDefaults(z.frame||{});if(Array.isArray(z.transition))for(X.transition=[],W=0;W<z.transition.length;W++)X.transition[W]=A.supplyAnimationTransitionDefaults(z.transition[W]||{});else X.transition=A.supplyAnimationTransitionDefaults(z.transition||{});return X},A.supplyAnimationFrameDefaults=function(z){var W={};function X(it,lt){return g.coerce(z||{},W,w.frame,it,lt)}return X("duration"),X("redraw"),W},A.supplyAnimationTransitionDefaults=function(z){var W={};function X(it,lt){return g.coerce(z||{},W,w.transition,it,lt)}return X("duration"),X("easing"),W},A.supplyFrameDefaults=function(z){var W={};function X(it,lt){return g.coerce(z,W,E,it,lt)}return X("group"),X("name"),X("traces"),X("baseframe"),X("data"),X("layout"),W},A.supplyTraceDefaults=function(z,W,X,it,lt){var dt,nt=it.colorway||m.defaults,V=nt[X%nt.length];function G(It,zt){return g.coerce(z,W,A.attributes,It,zt)}var H=G("visible");G("type"),G("name",it._traceWord+" "+lt),G("uirevision",it.uirevision);var $=A.getModule(W);if(W._module=$,$){var J=$.basePlotModule,Q=J.attr,ot=J.attributes;if(Q&&ot){var st=it._subplots,ht="";if(H||J.name!=="gl2d"){if(Array.isArray(Q))for(dt=0;dt<Q.length;dt++){var xt=Q[dt],Pt=g.coerce(z,W,ot,xt);st[xt]&&g.pushUnique(st[xt],Pt),ht+=Pt}else ht=g.coerce(z,W,ot,Q);st[J.name]&&g.pushUnique(st[J.name],ht)}}}return H&&(G("customdata"),G("ids"),G("meta"),h.traceIs(W,"showLegend")?(g.coerce(z,W,$.attributes.showlegend?$.attributes:A.attributes,"showlegend"),G("legend"),G("legendwidth"),G("legendgroup"),G("legendgrouptitle.text"),G("legendrank"),W._dfltShowLegend=!0):W._dfltShowLegend=!1,$&&$.supplyDefaults(z,W,V,it),h.traceIs(W,"noOpacity")||G("opacity"),h.traceIs(W,"notLegendIsolatable")&&(W.visible=!!W.visible),h.traceIs(W,"noHover")||(W.hovertemplate||g.coerceHoverinfo(z,W,it),W.type!=="parcats"&&h.getComponentMethod("fx","supplyDefaults")(z,W,V,it)),$&&$.selectPoints&&G("selectedpoints"),A.supplyTransformDefaults(z,W,it)),W},A.hasMakesDataTransform=I,A.supplyTransformDefaults=function(z,W,X){if(W._length||I(z)){var it=X._globalTransforms||[],lt=X._transformModules||[];if(Array.isArray(z.transforms)||it.length!==0)for(var dt=z.transforms||[],nt=it.concat(dt),V=W.transforms=[],G=0;G<nt.length;G++){var H,$=nt[G],J=$.type,Q=O[J],ot=!($._module&&$._module===Q),st=Q&&typeof Q.transform=="function";Q||g.warn("Unrecognized transform type "+J+"."),Q&&Q.supplyDefaults&&(ot||st)?((H=Q.supplyDefaults($,W,X,z)).type=J,H._module=Q,g.pushUnique(lt,Q)):H=g.extendFlat({},$),V.push(H)}}},A.supplyLayoutGlobalDefaults=function(z,W,X){function it($,J){return g.coerce(z,W,A.layoutAttributes,$,J)}var lt=z.template;g.isPlainObject(lt)&&(W.template=lt,W._template=lt.layout,W._dataTemplate=lt.data),it("autotypenumbers");var dt=g.coerceFont(it,"font"),nt=dt.size;g.coerceFont(it,"title.font",g.extendFlat({},dt,{size:Math.round(1.4*nt)})),it("title.text",W._dfltTitle.plot),it("title.xref");var V=it("title.yref");it("title.pad.t"),it("title.pad.r"),it("title.pad.b"),it("title.pad.l");var G=it("title.automargin");it("title.x"),it("title.xanchor"),it("title.y"),it("title.yanchor"),G&&(V==="paper"&&(W.title.y!==0&&(W.title.y=1),W.title.yanchor==="auto"&&(W.title.yanchor=W.title.y===0?"top":"bottom")),V==="container"&&(W.title.y==="auto"&&(W.title.y=1),W.title.yanchor==="auto"&&(W.title.yanchor=W.title.y<.5?"bottom":"top"))),it("uniformtext.mode")&&it("uniformtext.minsize"),it("autosize",!(z.width&&z.height)),it("width"),it("height"),it("minreducedwidth"),it("minreducedheight"),it("margin.l"),it("margin.r"),it("margin.t"),it("margin.b"),it("margin.pad"),it("margin.autoexpand"),z.width&&z.height&&A.sanitizeMargins(W),h.getComponentMethod("grid","sizeDefaults")(z,W),it("paper_bgcolor"),it("separators",X.decimal+X.thousands),it("hidesources"),it("colorway"),it("datarevision");var H=it("uirevision");it("editrevision",H),it("selectionrevision",H),h.getComponentMethod("modebar","supplyLayoutDefaults")(z,W),h.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(z,W,it),h.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(z,W,it),it("meta"),g.isPlainObject(z.transition)&&(it("transition.duration"),it("transition.easing"),it("transition.ordering")),h.getComponentMethod("calendars","handleDefaults")(z,W,"calendar"),h.getComponentMethod("fx","supplyLayoutGlobalDefaults")(z,W,it),g.coerce(z,W,x,"scattermode")},A.plotAutoSize=function(z,W,X){var it,lt,dt=z._context||{},nt=dt.frameMargins,V=g.isPlotDiv(z);if(V&&z.emit("plotly_autosize"),dt.fillFrame)it=window.innerWidth,lt=window.innerHeight,document.body.style.overflow="hidden";else{var G=V?window.getComputedStyle(z):{};if(it=j(G.width)||j(G.maxWidth)||X.width,lt=j(G.height)||j(G.maxHeight)||X.height,c(nt)&&nt>0){var H=1-2*nt;it=Math.round(H*it),lt=Math.round(H*lt)}}var $=A.layoutAttributes.width.min,J=A.layoutAttributes.height.min;it<$&&(it=$),lt<J&&(lt=J);var Q=!W.width&&Math.abs(X.width-it)>1,ot=!W.height&&Math.abs(X.height-lt)>1;(ot||Q)&&(Q&&(X.width=it),ot&&(X.height=lt)),z._initialAutoSize||(z._initialAutoSize={width:it,height:lt}),A.sanitizeMargins(X)},A.supplyLayoutModuleDefaults=function(z,W,X,it){var lt,dt,nt,V=h.componentsRegistry,G=W._basePlotModules,H=h.subplotsRegistry.cartesian;for(lt in V)(nt=V[lt]).includeBasePlot&&nt.includeBasePlot(z,W);for(var $ in G.length||G.push(H),W._has("cartesian")&&(h.getComponentMethod("grid","contentDefaults")(z,W),H.finalizeSubplots(z,W)),W._subplots)W._subplots[$].sort(g.subplotSort);for(dt=0;dt<G.length;dt++)(nt=G[dt]).supplyLayoutDefaults&&nt.supplyLayoutDefaults(z,W,X);var J=W._modules;for(dt=0;dt<J.length;dt++)(nt=J[dt]).supplyLayoutDefaults&&nt.supplyLayoutDefaults(z,W,X);var Q=W._transformModules;for(dt=0;dt<Q.length;dt++)(nt=Q[dt]).supplyLayoutDefaults&&nt.supplyLayoutDefaults(z,W,X,it);for(lt in V)(nt=V[lt]).supplyLayoutDefaults&&nt.supplyLayoutDefaults(z,W,X)},A.purge=function(z){var W=z._fullLayout||{};W._glcontainer!==void 0&&(W._glcontainer.selectAll(".gl-canvas").remove(),W._glcontainer.remove(),W._glcanvas=null),W._modeBar&&W._modeBar.destroy(),z._transitionData&&(z._transitionData._interruptCallbacks&&(z._transitionData._interruptCallbacks.length=0),z._transitionData._animationRaf&&window.cancelAnimationFrame(z._transitionData._animationRaf)),g.clearThrottle(),g.clearResponsive(z),delete z.data,delete z.layout,delete z._fullData,delete z._fullLayout,delete z.calcdata,delete z.empty,delete z.fid,delete z.undoqueue,delete z.undonum,delete z.autoplay,delete z.changed,delete z._promises,delete z._redrawTimer,delete z._hmlumcount,delete z._hmpixcount,delete z._transitionData,delete z._transitioning,delete z._initialAutoSize,delete z._transitioningWithDuration,delete z._dragging,delete z._dragged,delete z._dragdata,delete z._hoverdata,delete z._snapshotInProgress,delete z._editing,delete z._mouseDownTime,delete z._legendMouseDownTime,z.removeAllListeners&&z.removeAllListeners()},A.style=function(z){var W,X=z._fullLayout._visibleModules,it=[];for(W=0;W<X.length;W++){var lt=X[W];lt.style&&g.pushUnique(it,lt.style)}for(W=0;W<it.length;W++)it[W](z)},A.sanitizeMargins=function(z){if(z&&z.margin){var W,X=z.width,it=z.height,lt=z.margin,dt=X-(lt.l+lt.r),nt=it-(lt.t+lt.b);dt<0&&(W=(X-1)/(lt.l+lt.r),lt.l=Math.floor(W*lt.l),lt.r=Math.floor(W*lt.r)),nt<0&&(W=(it-1)/(lt.t+lt.b),lt.t=Math.floor(W*lt.t),lt.b=Math.floor(W*lt.b))}},A.clearAutoMarginIds=function(z){z._fullLayout._pushmarginIds={}},A.allowAutoMargin=function(z,W){z._fullLayout._pushmarginIds[W]=1},A.autoMargin=function(z,W,X){var it=z._fullLayout,lt=it.width,dt=it.height,nt=it.margin,V=it.minreducedwidth,G=it.minreducedheight,H=g.constrain(lt-nt.l-nt.r,2,V),$=g.constrain(dt-nt.t-nt.b,2,G),J=Math.max(0,lt-H),Q=Math.max(0,dt-$),ot=it._pushmargin,st=it._pushmarginIds;if(nt.autoexpand!==!1){if(X){var ht=X.pad;if(ht===void 0&&(ht=Math.min(12,nt.l,nt.r,nt.t,nt.b)),J){var xt=(X.l+X.r)/J;xt>1&&(X.l/=xt,X.r/=xt)}if(Q){var Pt=(X.t+X.b)/Q;Pt>1&&(X.t/=Pt,X.b/=Pt)}var It=X.xl!==void 0?X.xl:X.x,zt=X.xr!==void 0?X.xr:X.x,pt=X.yt!==void 0?X.yt:X.y,yt=X.yb!==void 0?X.yb:X.y;ot[W]={l:{val:It,size:X.l+ht},r:{val:zt,size:X.r+ht},b:{val:yt,size:X.b+ht},t:{val:pt,size:X.t+ht}},st[W]=1}else delete ot[W],delete st[W];if(!it._replotting)return A.doAutoMargin(z)}},A.doAutoMargin=function(z){var W=z._fullLayout,X=W.width,it=W.height;W._size||(W._size={}),q(W);var lt=W._size,dt=W.margin,nt={t:0,b:0,l:0,r:0},V=g.extendFlat({},lt),G=dt.l,H=dt.r,$=dt.t,J=dt.b,Q=W._pushmargin,ot=W._pushmarginIds,st=W.minreducedwidth,ht=W.minreducedheight;if(dt.autoexpand!==!1){for(var xt in Q)ot[xt]||delete Q[xt];var Pt=z._fullLayout._reservedMargin;for(var It in Pt)for(var zt in Pt[It]){var pt=Pt[It][zt];nt[zt]=Math.max(nt[zt],pt)}for(var yt in Q.base={l:{val:0,size:G},r:{val:1,size:H},t:{val:1,size:$},b:{val:0,size:J}},nt){var wt=0;for(var St in Q)St!=="base"&&c(Q[St][yt].size)&&(wt=Q[St][yt].size>wt?Q[St][yt].size:wt);var Ut=Math.max(0,dt[yt]-wt);nt[yt]=Math.max(0,nt[yt]-Ut)}for(var Gt in Q){var mt=Q[Gt].l||{},Tt=Q[Gt].b||{},At=mt.val,Et=mt.size,Mt=Tt.val,Nt=Tt.size,Ft=X-nt.r-nt.l,Lt=it-nt.t-nt.b;for(var Dt in Q){if(c(Et)&&Q[Dt].r){var kt=Q[Dt].r.val,Wt=Q[Dt].r.size;if(kt>At){var Qt=(Et*kt+(Wt-Ft)*At)/(kt-At),Ht=(Wt*(1-At)+(Et-Ft)*(1-kt))/(kt-At);Qt+Ht>G+H&&(G=Qt,H=Ht)}}if(c(Nt)&&Q[Dt].t){var oe=Q[Dt].t.val,ce=Q[Dt].t.size;if(oe>Mt){var pe=(Nt*oe+(ce-Lt)*Mt)/(oe-Mt),we=(ce*(1-Mt)+(Nt-Lt)*(1-oe))/(oe-Mt);pe+we>J+$&&(J=pe,$=we)}}}}}var Le=g.constrain(X-dt.l-dt.r,2,st),jt=g.constrain(it-dt.t-dt.b,2,ht),Rt=Math.max(0,X-Le),te=Math.max(0,it-jt);if(Rt){var ae=(G+H)/Rt;ae>1&&(G/=ae,H/=ae)}if(te){var Se=(J+$)/te;Se>1&&(J/=Se,$/=Se)}if(lt.l=Math.round(G)+nt.l,lt.r=Math.round(H)+nt.r,lt.t=Math.round($)+nt.t,lt.b=Math.round(J)+nt.b,lt.p=Math.round(dt.pad),lt.w=Math.round(X)-lt.l-lt.r,lt.h=Math.round(it)-lt.t-lt.b,!W._replotting&&(A.didMarginChange(V,lt)||function(ge){if("_redrawFromAutoMarginCount"in ge._fullLayout)return!1;var xe=y.list(ge,"",!0);for(var Fe in xe)if(xe[Fe].autoshift||xe[Fe].shift)return!0;return!1}(z))){"_redrawFromAutoMarginCount"in W?W._redrawFromAutoMarginCount++:W._redrawFromAutoMarginCount=1;var ne=3*(1+Object.keys(ot).length);if(W._redrawFromAutoMarginCount<ne)return h.call("_doPlot",z);W._size=V,g.warn("Too many auto-margin redraws.")}(function(ge){var xe=y.list(ge,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(Fe){for(var Ae=0;Ae<xe.length;Ae++){var $e=xe[Ae][Fe];$e&&$e()}})})(z)};var et=["l","r","t","b","p","w","h"];function U(z,W,X){var it=!1,lt=[A.previousPromises,function(){if(z._transitionData)return z._transitioning=!1,function(nt){var V=Promise.resolve();if(!nt)return V;for(;nt.length;)V=V.then(nt.shift());return V}(z._transitionData._interruptCallbacks)},X.prepareFn,A.rehover,A.reselect,function(){return z.emit("plotly_transitioning",[]),new Promise(function(nt){z._transitioning=!0,W.duration>0&&(z._transitioningWithDuration=!0),z._transitionData._interruptCallbacks.push(function(){it=!0}),X.redraw&&z._transitionData._interruptCallbacks.push(function(){return h.call("redraw",z)}),z._transitionData._interruptCallbacks.push(function(){z.emit("plotly_transitioninterrupted",[])});var V=0,G=0;function H(){return V++,function(){var $;G++,it||G!==V||($=nt,z._transitionData&&(function(J){if(J)for(;J.length;)J.shift()}(z._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(X.redraw)return h.call("redraw",z)}).then(function(){z._transitioning=!1,z._transitioningWithDuration=!1,z.emit("plotly_transitioned",[])}).then($)))}}X.runFn(H),setTimeout(H())})}],dt=g.syncOrAsync(lt,z);return dt&&dt.then||(dt=Promise.resolve()),dt.then(function(){return z})}A.didMarginChange=function(z,W){for(var X=0;X<et.length;X++){var it=et[X],lt=z[it],dt=W[it];if(!c(lt)||Math.abs(dt-lt)>1)return!0}return!1},A.graphJson=function(z,W,X,it,lt,dt){(lt&&W&&!z._fullData||lt&&!W&&!z._fullLayout)&&A.supplyDefaults(z);var nt=lt?z._fullData:z.data,V=lt?z._fullLayout:z.layout,G=(z._transitionData||{})._frames;function H(Q,ot){if(typeof Q=="function")return ot?"_function_":null;if(g.isPlainObject(Q)){var st,ht={};return Object.keys(Q).sort().forEach(function(xt){if(["_","["].indexOf(xt.charAt(0))===-1)if(typeof Q[xt]!="function"){if(X==="keepdata"){if(xt.substr(xt.length-3)==="src")return}else if(X==="keepstream"){if(typeof(st=Q[xt+"src"])=="string"&&st.indexOf(":")>0&&!g.isPlainObject(Q.stream))return}else if(X!=="keepall"&&typeof(st=Q[xt+"src"])=="string"&&st.indexOf(":")>0)return;ht[xt]=H(Q[xt],ot)}else ot&&(ht[xt]="_function")}),ht}return Array.isArray(Q)?Q.map(function(xt){return H(xt,ot)}):g.isTypedArray(Q)?g.simpleMap(Q,g.identity):g.isJSDate(Q)?g.ms2DateTimeLocal(+Q):Q}var $={data:(nt||[]).map(function(Q){var ot=H(Q);return W&&delete ot.fit,ot})};if(!W&&($.layout=H(V),lt)){var J=V._size;$.layout.computed={margin:{b:J.b,l:J.l,r:J.r,t:J.t}}}return G&&($.frames=H(G)),dt&&($.config=H(z._context,!0)),it==="object"?$:JSON.stringify($)},A.modifyFrames=function(z,W){var X,it,lt,dt=z._transitionData._frames,nt=z._transitionData._frameHash;for(X=0;X<W.length;X++)switch((it=W[X]).type){case"replace":lt=it.value;var V=(dt[it.index]||{}).name,G=lt.name;dt[it.index]=nt[G]=lt,G!==V&&(delete nt[V],nt[G]=lt);break;case"insert":nt[(lt=it.value).name]=lt,dt.splice(it.index,0,lt);break;case"delete":delete nt[(lt=dt[it.index]).name],dt.splice(it.index,1)}return Promise.resolve()},A.computeFrame=function(z,W){var X,it,lt,dt,nt=z._transitionData._frameHash;if(!W)throw new Error("computeFrame must be given a string frame name");var V=nt[W.toString()];if(!V)return!1;for(var G=[V],H=[V.name];V.baseframe&&(V=nt[V.baseframe.toString()])&&H.indexOf(V.name)===-1;)G.push(V),H.push(V.name);for(var $={};V=G.pop();)if(V.layout&&($.layout=A.extendLayout($.layout,V.layout)),V.data){if($.data||($.data=[]),!(it=V.traces))for(it=[],X=0;X<V.data.length;X++)it[X]=X;for($.traces||($.traces=[]),X=0;X<V.data.length;X++)(lt=it[X])!=null&&((dt=$.traces.indexOf(lt))===-1&&(dt=$.data.length,$.traces[dt]=lt),$.data[dt]=A.extendTrace($.data[dt],V.data[X]))}return $},A.recomputeFrameHash=function(z){for(var W=z._transitionData._frameHash={},X=z._transitionData._frames,it=0;it<X.length;it++){var lt=X[it];lt&&lt.name&&(W[lt.name]=lt)}},A.extendObjectWithContainers=function(z,W,X){var it,lt,dt,nt,V,G,H,$=g.extendDeepNoArrays({},W||{}),J=g.expandObjectPaths($),Q={};if(X&&X.length)for(dt=0;dt<X.length;dt++)(lt=(it=g.nestedProperty(J,X[dt])).get())===void 0?g.nestedProperty(Q,X[dt]).set(null):(it.set(null),g.nestedProperty(Q,X[dt]).set(lt));if(z=g.extendDeepNoArrays(z||{},J),X&&X.length){for(dt=0;dt<X.length;dt++)if(G=g.nestedProperty(Q,X[dt]).get()){for(H=(V=g.nestedProperty(z,X[dt])).get(),Array.isArray(H)||(H=[],V.set(H)),nt=0;nt<G.length;nt++){var ot=G[nt];H[nt]=ot===null?null:A.extendObjectWithContainers(H[nt],ot)}V.set(H)}}return z},A.dataArrayContainers=["transforms","dimensions"],A.layoutArrayContainers=h.layoutArrayContainers,A.extendTrace=function(z,W){return A.extendObjectWithContainers(z,W,A.dataArrayContainers)},A.extendLayout=function(z,W){return A.extendObjectWithContainers(z,W,A.layoutArrayContainers)},A.transition=function(z,W,X,it,lt,dt){var nt={redraw:lt.redraw},V={},G=[];return nt.prepareFn=function(){for(var H=Array.isArray(W)?W.length:0,$=it.slice(0,H),J=0;J<$.length;J++){var Q=$[J],ot=z._fullData[Q]._module;if(ot){if(ot.animatable){var st=ot.basePlotModule.name;V[st]||(V[st]=[]),V[st].push(Q)}z.data[$[J]]=A.extendTrace(z.data[$[J]],W[J])}}var ht=g.expandObjectPaths(g.extendDeepNoArrays({},X)),xt=/^[xy]axis[0-9]*$/;for(var Pt in ht)xt.test(Pt)&&delete ht[Pt].range;A.extendLayout(z.layout,ht),delete z.calcdata,A.supplyDefaults(z),A.doCalcdata(z);var It=g.expandObjectPaths(X);if(It){var zt=z._fullLayout._plots;for(var pt in zt){var yt=zt[pt],wt=yt.xaxis,St=yt.yaxis,Ut=wt.range.slice(),Gt=St.range.slice(),mt=null,Tt=null,At=null,Et=null;Array.isArray(It[wt._name+".range"])?mt=It[wt._name+".range"].slice():Array.isArray((It[wt._name]||{}).range)&&(mt=It[wt._name].range.slice()),Array.isArray(It[St._name+".range"])?Tt=It[St._name+".range"].slice():Array.isArray((It[St._name]||{}).range)&&(Tt=It[St._name].range.slice()),Ut&&mt&&(wt.r2l(Ut[0])!==wt.r2l(mt[0])||wt.r2l(Ut[1])!==wt.r2l(mt[1]))&&(At={xr0:Ut,xr1:mt}),Gt&&Tt&&(St.r2l(Gt[0])!==St.r2l(Tt[0])||St.r2l(Gt[1])!==St.r2l(Tt[1]))&&(Et={yr0:Gt,yr1:Tt}),(At||Et)&&G.push(g.extendFlat({plotinfo:yt},At,Et))}}return Promise.resolve()},nt.runFn=function(H){var $,J,Q=z._fullLayout._basePlotModules,ot=G.length;if(X)for(J=0;J<Q.length;J++)Q[J].transitionAxes&&Q[J].transitionAxes(z,G,dt,H);for(var st in ot?(($=g.extendFlat({},dt)).duration=0,delete V.cartesian):$=dt,V){var ht=V[st];z._fullData[ht[0]]._module.basePlotModule.plot(z,ht,$,H)}},U(z,dt,nt)},A.transitionFromReact=function(z,W,X,it){var lt=z._fullLayout,dt=lt.transition,nt={},V=[];return nt.prepareFn=function(){var G=lt._plots;for(var H in nt.redraw=!1,W.anim==="some"&&(nt.redraw=!0),X.anim==="some"&&(nt.redraw=!0),G){var $=G[H],J=$.xaxis,Q=$.yaxis,ot=it[J._name].range.slice(),st=it[Q._name].range.slice(),ht=J.range.slice(),xt=Q.range.slice();J.setScale(),Q.setScale();var Pt=null,It=null;J.r2l(ot[0])===J.r2l(ht[0])&&J.r2l(ot[1])===J.r2l(ht[1])||(Pt={xr0:ot,xr1:ht}),Q.r2l(st[0])===Q.r2l(xt[0])&&Q.r2l(st[1])===Q.r2l(xt[1])||(It={yr0:st,yr1:xt}),(Pt||It)&&V.push(g.extendFlat({plotinfo:$},Pt,It))}return Promise.resolve()},nt.runFn=function(G){for(var H,$,J,Q=z._fullData,ot=z._fullLayout._basePlotModules,st=[],ht=0;ht<Q.length;ht++)st.push(ht);function xt(){if(z._fullLayout)for(var It=0;It<ot.length;It++)ot[It].transitionAxes&&ot[It].transitionAxes(z,V,H,G)}function Pt(){if(z._fullLayout)for(var It=0;It<ot.length;It++)ot[It].plot(z,J,$,G)}V.length&&W.anim?dt.ordering==="traces first"?(H=g.extendFlat({},dt,{duration:0}),J=st,$=dt,setTimeout(xt,dt.duration),Pt()):(H=dt,J=null,$=g.extendFlat({},dt,{duration:0}),setTimeout(Pt,H.duration),xt()):V.length?(H=dt,xt()):W.anim&&(J=st,$=dt,Pt())},U(z,dt,nt)},A.doCalcdata=function(z,W){var X,it,lt,dt,nt=y.list(z),V=z._fullData,G=z._fullLayout,H=new Array(V.length),$=(z.calcdata||[]).slice();for(z.calcdata=H,G._numBoxes=0,G._numViolins=0,G._violinScaleGroupStats={},z._hmpixcount=0,z._hmlumcount=0,G._piecolormap={},G._sunburstcolormap={},G._treemapcolormap={},G._iciclecolormap={},G._funnelareacolormap={},lt=0;lt<V.length;lt++)Array.isArray(W)&&W.indexOf(lt)===-1&&(H[lt]=$[lt]);for(lt=0;lt<V.length;lt++)(X=V[lt])._arrayAttrs=d.findArrayAttributes(X),X._extremes={};var J=G._subplots.polar||[];for(lt=0;lt<J.length;lt++)nt.push(G[J[lt]].radialaxis,G[J[lt]].angularaxis);for(var Q in G._colorAxes){var ot=G[Q];ot.cauto!==!1&&(delete ot.cmin,delete ot.cmax)}var st=!1;function ht(It){if(X=V[It],it=X._module,X.visible===!0&&X.transforms){if(it&&it.calc){var zt=it.calc(z,X);zt[0]&&zt[0].t&&zt[0].t._scene&&delete zt[0].t._scene.dirty}for(dt=0;dt<X.transforms.length;dt++){var pt=X.transforms[dt];(it=O[pt.type])&&it.calcTransform&&(X._hasCalcTransform=!0,st=!0,it.calcTransform(z,X,pt))}}}function xt(It,zt){if(X=V[It],!!(it=X._module).isContainer===zt){var pt=[];if(X.visible===!0&&X._length!==0){delete X._indexToPoints;var yt=X.transforms||[];for(dt=yt.length-1;dt>=0;dt--)if(yt[dt].enabled){X._indexToPoints=yt[dt]._indexToPoints;break}it&&it.calc&&(pt=it.calc(z,X))}Array.isArray(pt)&&pt[0]||(pt=[{x:v,y:v}]),pt[0].t||(pt[0].t={}),pt[0].trace=X,H[It]=pt}}for(rt(nt,V,G),lt=0;lt<V.length;lt++)xt(lt,!0);for(lt=0;lt<V.length;lt++)ht(lt);for(st&&rt(nt,V,G),lt=0;lt<V.length;lt++)xt(lt,!0);for(lt=0;lt<V.length;lt++)xt(lt,!1);ft(z);var Pt=function(It,zt){var pt,yt,wt,St,Ut,Gt=[];function mt(Fe,Ae,$e){var Me=Ae._id.charAt(0);if(Fe==="histogram2dcontour"){var ct=Ae._counterAxes[0],gt=y.getFromId(zt,ct),qt=Me==="x"||ct==="x"&&gt.type==="category",Vt=Me==="y"||ct==="y"&&gt.type==="category";return function(Jt,Xt){return Jt===0||Xt===0||qt&&Jt===$e[Xt].length-1||Vt&&Xt===$e.length-1?-1:(Me==="y"?Xt:Jt)-1}}return function(Jt,Xt){return Me==="y"?Xt:Jt}}var Tt={min:function(Fe){return g.aggNums(Math.min,null,Fe)},max:function(Fe){return g.aggNums(Math.max,null,Fe)},sum:function(Fe){return g.aggNums(function(Ae,$e){return Ae+$e},null,Fe)},total:function(Fe){return g.aggNums(function(Ae,$e){return Ae+$e},null,Fe)},mean:function(Fe){return g.mean(Fe)},median:function(Fe){return g.median(Fe)}};function At(Fe,Ae){return Fe[1]-Ae[1]}function Et(Fe,Ae){return Ae[1]-Fe[1]}for(pt=0;pt<It.length;pt++){var Mt=It[pt];if(Mt.type==="category"){var Nt=Mt.categoryorder.match(Z);if(Nt){var Ft=Nt[1],Lt=Nt[2],Dt=Mt._id.charAt(0),kt=Dt==="x",Wt=[];for(yt=0;yt<Mt._categories.length;yt++)Wt.push([Mt._categories[yt],[]]);for(yt=0;yt<Mt._traceIndices.length;yt++){var Qt=Mt._traceIndices[yt],Ht=zt._fullData[Qt];if(Ht.visible===!0){var oe=Ht.type;h.traceIs(Ht,"histogram")&&(delete Ht._xautoBinFinished,delete Ht._yautoBinFinished);var ce=oe==="splom",pe=oe==="scattergl",we=zt.calcdata[Qt];for(wt=0;wt<we.length;wt++){var Le,jt,Rt=we[wt];if(ce){var te=Ht._axesDim[Mt._id];if(!kt){var ae=Ht._diag[te][0];ae&&(Mt=zt._fullLayout[y.id2name(ae)])}var Se=Rt.trace.dimensions[te].values;for(St=0;St<Se.length;St++)for(Le=Mt._categoriesMap[Se[St]],Ut=0;Ut<Rt.trace.dimensions.length;Ut++)if(Ut!==te){var ne=Rt.trace.dimensions[Ut];Wt[Le][1].push(ne.values[St])}}else if(pe){for(St=0;St<Rt.t.x.length;St++)kt?(Le=Rt.t.x[St],jt=Rt.t.y[St]):(Le=Rt.t.y[St],jt=Rt.t.x[St]),Wt[Le][1].push(jt);Rt.t&&Rt.t._scene&&delete Rt.t._scene.dirty}else if(Rt.hasOwnProperty("z")){jt=Rt.z;var ge=mt(Ht.type,Mt,jt);for(St=0;St<jt.length;St++)for(Ut=0;Ut<jt[St].length;Ut++)(Le=ge(Ut,St))+1&&Wt[Le][1].push(jt[St][Ut])}else for((Le=Rt.p)===void 0&&(Le=Rt[Dt]),(jt=Rt.s)===void 0&&(jt=Rt.v),jt===void 0&&(jt=kt?Rt.y:Rt.x),Array.isArray(jt)||(jt=jt===void 0?[]:[jt]),St=0;St<jt.length;St++)Wt[Le][1].push(jt[St])}}}Mt._categoriesValue=Wt;var xe=[];for(yt=0;yt<Wt.length;yt++)xe.push([Wt[yt][0],Tt[Ft](Wt[yt][1])]);xe.sort(Lt==="descending"?Et:At),Mt._categoriesAggregatedValue=xe,Mt._initialCategories=xe.map(function(Fe){return Fe[0]}),Gt=Gt.concat(Mt.sortByInitialCategories())}}}return Gt}(nt,z);if(Pt.length){for(G._numBoxes=0,G._numViolins=0,lt=0;lt<Pt.length;lt++)xt(Pt[lt],!0);for(lt=0;lt<Pt.length;lt++)xt(Pt[lt],!1);ft(z)}h.getComponentMethod("fx","calc")(z),h.getComponentMethod("errorbars","calc")(z)};var Z=/(total|sum|min|max|mean|median) (ascending|descending)/;function rt(z,W,X){var it={};function lt(G){G.clearCalc(),G.type==="multicategory"&&G.setupMultiCategory(W),it[G._id]=1}g.simpleMap(z,lt);for(var dt=X._axisMatchGroups||[],nt=0;nt<dt.length;nt++)for(var V in dt[nt])it[V]||lt(X[y.id2name(V)])}function ft(z){var W,X,it,lt=z._fullLayout,dt=lt._visibleModules,nt={};for(X=0;X<dt.length;X++){var V=dt[X],G=V.crossTraceCalc;if(G){var H=V.basePlotModule.name;nt[H]?g.pushUnique(nt[H],G):nt[H]=[G]}}for(it in nt){var $=nt[it],J=lt._subplots[it];if(Array.isArray(J))for(W=0;W<J.length;W++){var Q=J[W],ot=it==="cartesian"?lt._plots[Q]:lt[Q];for(X=0;X<$.length;X++)$[X](z,ot,Q)}else for(X=0;X<$.length;X++)$[X](z)}}A.rehover=function(z){z._fullLayout._rehover&&z._fullLayout._rehover()},A.redrag=function(z){z._fullLayout._redrag&&z._fullLayout._redrag()},A.reselect=function(z){var W=z._fullLayout,X=(z.layout||{}).selections,it=W._previousSelections;W._previousSelections=X;var lt=W._reselect||JSON.stringify(X)!==JSON.stringify(it);h.getComponentMethod("selections","reselect")(z,lt)},A.generalUpdatePerTraceModule=function(z,W,X,it){var lt,dt=W.traceHash,nt={};for(lt=0;lt<X.length;lt++){var V=X[lt],G=V[0].trace;G.visible&&(nt[G.type]=nt[G.type]||[],nt[G.type].push(V))}for(var H in dt)if(!nt[H]){var $=dt[H][0];$[0].trace.visible=!1,nt[H]=[$]}for(var J in nt){var Q=nt[J];Q[0][0].trace._module.plot(z,W,g.filterVisible(Q),it)}W.traceHash=nt},A.plotBasePlot=function(z,W,X,it,lt){var dt=h.getModule(z),nt=S(W.calcdata,dt)[0];dt.plot(W,nt,it,lt)},A.cleanBasePlot=function(z,W,X,it,lt){var dt=lt._has&&lt._has(z),nt=X._has&&X._has(z);dt&&!nt&&lt["_"+z+"layer"].selectAll("g.trace").remove()}},5386:function(a,s,o){var l=o(1562);function f(u){var c=u.description?" "+u.description:"",h=u.keys||[];if(h.length>0){for(var d=[],p=0;p<h.length;p++)d[p]="`"+h[p]+"`";c+="Finally, the template string has access to ",c=h.length===1?c+"variable "+d[0]:c+"variables "+d.slice(0,-1).join(", ")+" and "+d.slice(-1)+"."}return c}l.FORMAT_LINK,l.DATE_FORMAT_LINK,s.fF=function(u,c){u=u||{},f(c=c||{});var h={valType:"string",dflt:"",editType:u.editType||"none"};return u.arrayOk!==!1&&(h.arrayOk=!0),h},s.si=function(u,c){u=u||{},f(c=c||{});var h={valType:"string",dflt:"",editType:u.editType||"calc"};return u.arrayOk!==!1&&(h.arrayOk=!0),h},s.R=function(u,c){return c=c||{},(u=u||{}).newshape,f(c),{valType:"string",dflt:"",editType:u.editType||"arraydraw"}}},3972:function(a,s,o){var l=o(7769),f=o(4213),u=o(5138),c=o(1965),h=o(4401).addStyleRule,d=o(1426),p=o(9012),g=o(820),m=d.extendFlat,v=d.extendDeepAll;function y(O){var P=O.name,F=O.categories,R=O.meta;if(s.modules[P])l.log("Type "+P+" already registered");else{s.subplotsRegistry[O.basePlotModule.name]||function(U){var Z=U.name;if(s.subplotsRegistry[Z])l.log("Plot type "+Z+" already registered.");else for(var rt in E(U),s.subplotsRegistry[Z]=U,s.componentsRegistry)T(rt,U.name)}(O.basePlotModule);for(var N={},D=0;D<F.length;D++)N[F[D]]=!0,s.allCategories[F[D]]=!0;for(var I in s.modules[P]={_module:O,categories:N},R&&Object.keys(R).length&&(s.modules[P].meta=R),s.allTypes.push(P),s.componentsRegistry)S(I,P);O.layoutAttributes&&m(s.traceLayoutAttributes,O.layoutAttributes);var B=O.basePlotModule,j=B.name;if(j==="mapbox"){var q=B.constants.styleRules;for(var et in q)h(".js-plotly-plot .plotly .mapboxgl-"+et,q[et])}j!=="geo"&&j!=="mapbox"||window.PlotlyGeoAssets!==void 0||(window.PlotlyGeoAssets={topojson:{}})}}function _(O){if(typeof O.name!="string")throw new Error("Component module *name* must be a string.");var P=O.name;for(var F in s.componentsRegistry[P]=O,O.layoutAttributes&&(O.layoutAttributes._isLinkedToArray&&u(s.layoutArrayContainers,P),E(O)),s.modules)S(P,F);for(var R in s.subplotsRegistry)T(P,R);for(var N in s.transformsRegistry)C(P,N);O.schema&&O.schema.layout&&v(g,O.schema.layout)}function x(O){if(typeof O.name!="string")throw new Error("Transform module *name* must be a string.");var P="Transform module "+O.name,F=typeof O.transform=="function",R=typeof O.calcTransform=="function";if(!F&&!R)throw new Error(P+" is missing a *transform* or *calcTransform* method.");for(var N in F&&R&&l.log([P+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),c(O.attributes)||l.log(P+" registered without an *attributes* object."),typeof O.supplyDefaults!="function"&&l.log(P+" registered without a *supplyDefaults* method."),s.transformsRegistry[O.name]=O,s.componentsRegistry)C(N,O.name)}function w(O){var P=O.name,F=P.split("-")[0],R=O.dictionary,N=O.format,D=R&&Object.keys(R).length,I=N&&Object.keys(N).length,B=s.localeRegistry,j=B[P];if(j||(B[P]=j={}),F!==P){var q=B[F];q||(B[F]=q={}),D&&q.dictionary===j.dictionary&&(q.dictionary=R),I&&q.format===j.format&&(q.format=N)}D&&(j.dictionary=R),I&&(j.format=N)}function E(O){if(O.layoutAttributes){var P=O.layoutAttributes._arrayAttrRegexps;if(P)for(var F=0;F<P.length;F++)u(s.layoutArrayRegexes,P[F])}}function S(O,P){var F=s.componentsRegistry[O].schema;if(F&&F.traces){var R=F.traces[P];R&&v(s.modules[P]._module.attributes,R)}}function C(O,P){var F=s.componentsRegistry[O].schema;if(F&&F.transforms){var R=F.transforms[P];R&&v(s.transformsRegistry[P].attributes,R)}}function T(O,P){var F=s.componentsRegistry[O].schema;if(F&&F.subplots){var R=s.subplotsRegistry[P],N=R.layoutAttributes,D=R.attr==="subplot"?R.name:R.attr;Array.isArray(D)&&(D=D[0]);var I=F.subplots[D];N&&I&&v(N,I)}}function A(O){return typeof O=="object"&&(O=O.type),O}s.modules={},s.allCategories={},s.allTypes=[],s.subplotsRegistry={},s.transformsRegistry={},s.componentsRegistry={},s.layoutArrayContainers=[],s.layoutArrayRegexes=[],s.traceLayoutAttributes={},s.localeRegistry={},s.apiMethodRegistry={},s.collectableSubplotTypes=null,s.register=function(O){if(s.collectableSubplotTypes=null,!O)throw new Error("No argument passed to Plotly.register.");O&&!Array.isArray(O)&&(O=[O]);for(var P=0;P<O.length;P++){var F=O[P];if(!F)throw new Error("Invalid module was attempted to be registered!");switch(F.moduleType){case"trace":y(F);break;case"transform":x(F);break;case"component":_(F);break;case"locale":w(F);break;case"apiMethod":var R=F.name;s.apiMethodRegistry[R]=F.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},s.getModule=function(O){var P=s.modules[A(O)];return!!P&&P._module},s.traceIs=function(O,P){if((O=A(O))==="various")return!1;var F=s.modules[O];return F||(O&&l.log("Unrecognized trace type "+O+"."),F=s.modules[p.type.dflt]),!!F.categories[P]},s.getTransformIndices=function(O,P){for(var F=[],R=O.transforms||[],N=0;N<R.length;N++)R[N].type===P&&F.push(N);return F},s.hasTransform=function(O,P){for(var F=O.transforms||[],R=0;R<F.length;R++)if(F[R].type===P)return!0;return!1},s.getComponentMethod=function(O,P){var F=s.componentsRegistry[O];return F&&F[P]||f},s.call=function(){var O=arguments[0],P=[].slice.call(arguments,1);return s.apiMethodRegistry[O].apply(null,P)}},1914:function(a,s,o){var l=o(3972),f=o(1828),u=f.extendFlat,c=f.extendDeep;function h(d){var p;switch(d){case"themes__thumb":p={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":p={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:p={}}return p}a.exports=function(d,p){var g,m,v=d.data,y=d.layout,_=c([],v),x=c({},y,h(p.tileClass)),w=d._context||{};if(p.width&&(x.width=p.width),p.height&&(x.height=p.height),p.tileClass==="thumbnail"||p.tileClass==="themes__thumb"){x.annotations=[];var E=Object.keys(x);for(g=0;g<E.length;g++)m=E[g],["xaxis","yaxis","zaxis"].indexOf(m.slice(0,5))>-1&&(x[E[g]].title={text:""});for(g=0;g<_.length;g++){var S=_[g];S.showscale=!1,S.marker&&(S.marker.showscale=!1),l.traceIs(S,"pie-like")&&(S.textposition="none")}}if(Array.isArray(p.annotations))for(g=0;g<p.annotations.length;g++)x.annotations.push(p.annotations[g]);var C=Object.keys(x).filter(function(F){return F.match(/^scene\d*$/)});if(C.length){var T={};for(p.tileClass==="thumbnail"&&(T={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),g=0;g<C.length;g++){var A=x[C[g]];A.xaxis||(A.xaxis={}),A.yaxis||(A.yaxis={}),A.zaxis||(A.zaxis={}),u(A.xaxis,T),u(A.yaxis,T),u(A.zaxis,T),A._scene=null}}var O=document.createElement("div");p.tileClass&&(O.className=p.tileClass);var P={gd:O,td:O,layout:x,data:_,config:{staticPlot:p.staticPlot===void 0||p.staticPlot,plotGlPixelRatio:p.plotGlPixelRatio===void 0?2:p.plotGlPixelRatio,displaylogo:p.displaylogo||!1,showLink:p.showLink||!1,showTips:p.showTips||!1,mapboxAccessToken:w.mapboxAccessToken}};return p.setBackground!=="transparent"&&(P.config.setBackground=p.setBackground||"opaque"),P.gd.defaultLayout=h(p.tileClass),P}},7239:function(a,s,o){var l=o(1828),f=o(403),u=o(2435),c=o(5095);a.exports=function(h,d){var p;return l.isPlainObject(h)||(p=l.getGraphDiv(h)),(d=d||{}).format=d.format||"png",d.width=d.width||null,d.height=d.height||null,d.imageDataOnly=!0,new Promise(function(g,m){p&&p._snapshotInProgress&&m(new Error("Snapshotting already in progress.")),l.isIE()&&d.format!=="svg"&&m(new Error(c.MSG_IE_BAD_FORMAT)),p&&(p._snapshotInProgress=!0);var v=f(h,d),y=d.filename||h.fn||"newplot";y+="."+d.format.replace("-","."),v.then(function(_){return p&&(p._snapshotInProgress=!1),u(_,y,d.format)}).then(function(_){g(_)}).catch(function(_){p&&(p._snapshotInProgress=!1),m(_)})})}},2435:function(a,s,o){var l=o(1828),f=o(5095);a.exports=function(u,c,h){var d=document.createElement("a"),p="download"in d;return new Promise(function(g,m){var v,y;if(l.isIE())return v=f.createBlob(u,"svg"),window.navigator.msSaveBlob(v,c),v=null,g(c);if(p)return v=f.createBlob(u,h),y=f.createObjectURL(v),d.href=y,d.download=c,document.body.appendChild(d),d.click(),document.body.removeChild(d),f.revokeObjectURL(y),v=null,g(c);if(l.isSafari()){var _=h==="svg"?",":";base64,";return f.octetStream(_+encodeURIComponent(u)),g(c)}m(new Error("download error"))})}},5095:function(a,s,o){var l=o(3972);s.getDelay=function(u){return u._has&&(u._has("gl3d")||u._has("gl2d")||u._has("mapbox"))?500:0},s.getRedrawFunc=function(u){return function(){l.getComponentMethod("colorbar","draw")(u)}},s.encodeSVG=function(u){return"data:image/svg+xml,"+encodeURIComponent(u)},s.encodeJSON=function(u){return"data:application/json,"+encodeURIComponent(u)};var f=window.URL||window.webkitURL;s.createObjectURL=function(u){return f.createObjectURL(u)},s.revokeObjectURL=function(u){return f.revokeObjectURL(u)},s.createBlob=function(u,c){if(c==="svg")return new window.Blob([u],{type:"image/svg+xml;charset=utf-8"});if(c==="full-json")return new window.Blob([u],{type:"application/json;charset=utf-8"});var h=function(d){for(var p=d.length,g=new ArrayBuffer(p),m=new Uint8Array(g),v=0;v<p;v++)m[v]=d.charCodeAt(v);return g}(window.atob(u));return new window.Blob([h],{type:"image/"+c})},s.octetStream=function(u){document.location.href="data:application/octet-stream"+u},s.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,s.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},4511:function(a,s,o){var l=o(5095),f={getDelay:l.getDelay,getRedrawFunc:l.getRedrawFunc,clone:o(1914),toSVG:o(5900),svgToImg:o(942),toImage:o(6395),downloadImage:o(7239)};a.exports=f},942:function(a,s,o){var l=o(1828),f=o(5398).EventEmitter,u=o(5095);a.exports=function(c){var h=c.emitter||new f,d=new Promise(function(p,g){var m=window.Image,v=c.svg,y=c.format||"png";if(l.isIE()&&y!=="svg"){var _=new Error(u.MSG_IE_BAD_FORMAT);return g(_),c.promise?d:h.emit("error",_)}var x,w,E=c.canvas,S=c.scale||1,C=c.width||300,T=c.height||150,A=S*C,O=S*T,P=E.getContext("2d",{willReadFrequently:!0}),F=new m;y==="svg"||l.isSafari()?w=u.encodeSVG(v):(x=u.createBlob(v,"svg"),w=u.createObjectURL(x)),E.width=A,E.height=O,F.onload=function(){var R;switch(x=null,u.revokeObjectURL(w),y!=="svg"&&P.drawImage(F,0,0,A,O),y){case"jpeg":R=E.toDataURL("image/jpeg");break;case"png":R=E.toDataURL("image/png");break;case"webp":R=E.toDataURL("image/webp");break;case"svg":R=w;break;default:var N="Image format is not jpeg, png, svg or webp.";if(g(new Error(N)),!c.promise)return h.emit("error",N)}p(R),c.promise||h.emit("success",R)},F.onerror=function(R){if(x=null,u.revokeObjectURL(w),g(R),!c.promise)return h.emit("error",R)},F.src=w});return c.promise?d:h}},6395:function(a,s,o){var l=o(5398).EventEmitter,f=o(3972),u=o(1828),c=o(5095),h=o(1914),d=o(5900),p=o(942);a.exports=function(g,m){var v=new l,y=h(g,{format:"png"}),_=y.gd;_.style.position="absolute",_.style.left="-5000px",document.body.appendChild(_);var x=c.getRedrawFunc(_);return f.call("_doPlot",_,y.data,y.layout,y.config).then(x).then(function(){var w=c.getDelay(_._fullLayout);setTimeout(function(){var E=d(_),S=document.createElement("canvas");S.id=u.randstr(),(v=p({format:m.format,width:_._fullLayout.width,height:_._fullLayout.height,canvas:S,emitter:v,svg:E})).clean=function(){_&&document.body.removeChild(_)}},w)}).catch(function(w){v.emit("error",w)}),v}},5900:function(a,s,o){var l=o(9898),f=o(1828),u=o(1424),c=o(7901),h=o(7922),d=/"/g,p="TOBESTRIPPED",g=new RegExp('("'+p+")|("+p+'")',"g");a.exports=function(m,v,y){var _,x=m._fullLayout,w=x._paper,E=x._toppaper,S=x.width,C=x.height;w.insert("rect",":first-child").call(u.setRect,0,0,S,C).call(c.fill,x.paper_bgcolor);var T=x._basePlotModules||[];for(_=0;_<T.length;_++){var A=T[_];A.toSVG&&A.toSVG(m)}if(E){var O=E.node().childNodes,P=Array.prototype.slice.call(O);for(_=0;_<P.length;_++){var F=P[_];F.childNodes.length&&w.node().appendChild(F)}}x._draggers&&x._draggers.remove(),w.node().style.background="",w.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var N=l.select(this);if(this.style.visibility!=="hidden"&&this.style.display!=="none"){N.style({visibility:null,display:null});var D=this.style.fontFamily;D&&D.indexOf('"')!==-1&&N.style("font-family",D.replace(d,p))}else N.remove()}),w.selectAll(".gradient_filled,.pattern_filled").each(function(){var N=l.select(this),D=this.style.fill;D&&D.indexOf("url(")!==-1&&N.style("fill",D.replace(d,p));var I=this.style.stroke;I&&I.indexOf("url(")!==-1&&N.style("stroke",I.replace(d,p))}),v!=="pdf"&&v!=="eps"||w.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),w.node().setAttributeNS(h.xmlns,"xmlns",h.svg),w.node().setAttributeNS(h.xmlns,"xmlns:xlink",h.xlink),v==="svg"&&y&&(w.attr("width",y*S),w.attr("height",y*C),w.attr("viewBox","0 0 "+S+" "+C));var R=new window.XMLSerializer().serializeToString(w.node());return R=(R=(R=function(N){var D=l.select("body").append("div").style({display:"none"}).html(""),I=N.replace(/(&[^;]*;)/gi,function(B){return B==="&lt;"?"&#60;":B==="&rt;"?"&#62;":B.indexOf("<")!==-1||B.indexOf(">")!==-1?"":D.html(B).text()});return D.remove(),I}(R)).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(g,"'"),f.isIE()&&(R=(R=(R=R.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),R}},5341:function(a,s,o){var l=o(1828);a.exports=function(f,u){for(var c=0;c<f.length;c++)f[c].i=c;l.mergeArray(u.text,f,"tx"),l.mergeArray(u.hovertext,f,"htx");var h=u.marker;if(h){l.mergeArray(h.opacity,f,"mo",!0),l.mergeArray(h.color,f,"mc");var d=h.line;d&&(l.mergeArray(d.color,f,"mlc"),l.mergeArrayCastPositive(d.width,f,"mlw"))}}},1486:function(a,s,o){var l=o(2196),f=o(2663).axisHoverFormat,u=o(5386).fF,c=o(5386).si,h=o(693),d=o(1940),p=o(7313),g=o(9952).u,m=o(1426).extendFlat,v=d({editType:"calc",arrayOk:!0,colorEditType:"style"}),y=m({},l.marker.line.width,{dflt:0}),_=m({width:y,editType:"calc"},h("marker.line")),x=m({line:_,editType:"calc"},h("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:g});a.exports={x:l.x,x0:l.x0,dx:l.dx,y:l.y,y0:l.y0,dy:l.dy,xperiod:l.xperiod,yperiod:l.yperiod,xperiod0:l.xperiod0,yperiod0:l.yperiod0,xperiodalignment:l.xperiodalignment,yperiodalignment:l.yperiodalignment,xhoverformat:f("x"),yhoverformat:f("y"),text:l.text,texttemplate:c({editType:"plot"},{keys:p.eventDataKeys}),hovertext:l.hovertext,hovertemplate:u({},{keys:p.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:m({},v,{}),insidetextfont:m({},v,{}),outsidetextfont:m({},v,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:m({},l.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:x,offsetgroup:l.offsetgroup,alignmentgroup:l.alignmentgroup,selected:{marker:{opacity:l.selected.marker.opacity,color:l.selected.marker.color,editType:"style"},textfont:l.selected.textfont,editType:"style"},unselected:{marker:{opacity:l.unselected.marker.opacity,color:l.unselected.marker.color,editType:"style"},textfont:l.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},2290:function(a,s,o){var l=o(9298),f=o(2973),u=o(2869).hasColorscale,c=o(8803),h=o(5341),d=o(6279);a.exports=function(p,g){var m,v,y,_,x,w,E=l.getFromId(p,g.xaxis||"x"),S=l.getFromId(p,g.yaxis||"y"),C={msUTC:!(!g.base&&g.base!==0)};g.orientation==="h"?(m=E.makeCalcdata(g,"x",C),y=S.makeCalcdata(g,"y"),_=f(g,S,"y",y),x=!!g.yperiodalignment,w="y"):(m=S.makeCalcdata(g,"y",C),y=E.makeCalcdata(g,"x"),_=f(g,E,"x",y),x=!!g.xperiodalignment,w="x"),v=_.vals;for(var T=Math.min(v.length,m.length),A=new Array(T),O=0;O<T;O++)A[O]={p:v[O],s:m[O]},x&&(A[O].orig_p=y[O],A[O][w+"End"]=_.ends[O],A[O][w+"Start"]=_.starts[O]),g.ids&&(A[O].id=String(g.ids[O]));return u(g,"marker")&&c(p,g,{vals:g.marker.color,containerStr:"marker",cLetter:"c"}),u(g,"marker.line")&&c(p,g,{vals:g.marker.line.color,containerStr:"marker.line",cLetter:"c"}),h(A,g),d(A,g),A}},7313:function(a){a.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},1661:function(a,s,o){var l=o(2770),f=o(1828).isArrayOrTypedArray,u=o(606).BADNUM,c=o(3972),h=o(9298),d=o(9082).getAxisGroup,p=o(1546);function g(T,A,O,P,F){if(P.length){var R,N,D,I;switch(function(B,j){var q,et;for(q=0;q<j.length;q++){var U,Z=j[q],rt=Z[0].trace,ft=rt.type==="funnel"?rt._base:rt.base,z=rt.orientation==="h"?rt.xcalendar:rt.ycalendar,W=B.type==="category"||B.type==="multicategory"?function(){return null}:B.d2c;if(f(ft)){for(et=0;et<Math.min(ft.length,Z.length);et++)U=W(ft[et],0,z),l(U)?(Z[et].b=+U,Z[et].hasB=1):Z[et].b=0;for(;et<Z.length;et++)Z[et].b=0}else{U=W(ft,0,z);var X=l(U);for(U=X?U:0,et=0;et<Z.length;et++)Z[et].b=U,X&&(Z[et].hasB=1)}}}(O,P),F.mode){case"overlay":m(A,O,P,F);break;case"group":for(R=[],N=[],D=0;D<P.length;D++)(I=P[D])[0].trace.offset===void 0?N.push(I):R.push(I);N.length&&function(B,j,q,et,U){var Z=new p(et,{posAxis:j,sepNegVal:!1,overlapNoMerge:!U.norm});(function(rt,ft,z,W){for(var X=rt._fullLayout,it=z.positions,lt=z.distinctPositions,dt=z.minDiff,nt=z.traces,V=nt.length,G=it.length!==lt.length,H=dt*(1-W.gap),$=d(X,ft._id)+nt[0][0].trace.orientation,J=X._alignmentOpts[$]||{},Q=0;Q<V;Q++){var ot,st,ht=nt[Q],xt=ht[0].trace,Pt=J[xt.alignmentgroup]||{},It=Object.keys(Pt.offsetGroups||{}).length,zt=(ot=It?H/It:G?H/V:H)*(1-(W.groupgap||0));st=It?((2*xt._offsetIndex+1-It)*ot-zt)/2:G?((2*Q+1-V)*ot-zt)/2:-zt/2;var pt=ht[0].t;pt.barwidth=zt,pt.poffset=st,pt.bargroupwidth=H,pt.bardelta=dt}z.binWidth=nt[0][0].t.barwidth/100,y(z),_(ft,z),x(ft,z,G)})(B,j,Z,U),function(rt,ft){for(var z=rt.traces,W=0;W<z.length;W++){var X=z[W];if(X[0].trace.base===void 0)for(var it=new p([X],{posAxis:ft,sepNegVal:!0,overlapNoMerge:!0}),lt=0;lt<X.length;lt++){var dt=X[lt];if(dt.p!==u){var nt=it.put(dt.p,dt.b+dt.s);nt&&(dt.b=nt)}}}}(Z,j),U.norm?(E(Z),S(q,Z,U)):w(q,Z)}(T,A,O,N,F),R.length&&m(A,O,R,F);break;case"stack":case"relative":for(R=[],N=[],D=0;D<P.length;D++)(I=P[D])[0].trace.base===void 0?N.push(I):R.push(I);N.length&&function(B,j,q,et,U){var Z=new p(et,{posAxis:j,sepNegVal:U.mode==="relative",overlapNoMerge:!(U.norm||U.mode==="stack"||U.mode==="relative")});v(j,Z,U),function(X,it,lt){var dt,nt,V,G,H,$,J=C(X),Q=it.traces;for(G=0;G<Q.length;G++)if((nt=(dt=Q[G])[0].trace).type==="funnel")for(H=0;H<dt.length;H++)($=dt[H]).s!==u&&it.put($.p,-.5*$.s);for(G=0;G<Q.length;G++){V=(nt=(dt=Q[G])[0].trace).type==="funnel";var ot=[];for(H=0;H<dt.length;H++)if(($=dt[H]).s!==u){var st;st=V?$.s:$.s+$.b;var ht=it.put($.p,st),xt=ht+st;$.b=ht,$[J]=xt,lt.norm||(ot.push(xt),$.hasB&&ot.push(ht))}lt.norm||(nt._extremes[X._id]=h.findExtremes(X,ot,{tozero:!0,padded:!0}))}}(q,Z,U);for(var rt=0;rt<et.length;rt++)for(var ft=et[rt],z=0;z<ft.length;z++){var W=ft[z];W.s!==u&&W.b+W.s===Z.get(W.p,W.s)&&(W._outmost=!0)}U.norm&&S(q,Z,U)}(0,A,O,N,F),R.length&&m(A,O,R,F)}(function(B,j){var q,et,U,Z=C(j),rt={},ft=1/0,z=-1/0;for(q=0;q<B.length;q++)for(U=B[q],et=0;et<U.length;et++){var W=U[et].p;l(W)&&(ft=Math.min(ft,W),z=Math.max(z,W))}var X=1e4/(z-ft),it=rt.round=function($){return String(Math.round(X*($-ft)))};for(q=0;q<B.length;q++){(U=B[q])[0].t.extents=rt;var lt=U[0].t.poffset,dt=Array.isArray(lt);for(et=0;et<U.length;et++){var nt=U[et],V=nt[Z]-nt.w/2;if(l(V)){var G=nt[Z]+nt.w/2,H=it(nt.p);rt[H]?rt[H]=[Math.min(V,rt[H][0]),Math.max(G,rt[H][1])]:rt[H]=[V,G]}nt.p0=nt.p+(dt?lt[et]:lt),nt.p1=nt.p0+nt.w,nt.s0=nt.b,nt.s1=nt.s0+nt.s}}})(P,A)}}function m(T,A,O,P){for(var F=0;F<O.length;F++){var R=O[F],N=new p([R],{posAxis:T,sepNegVal:!1,overlapNoMerge:!P.norm});v(T,N,P),P.norm?(E(N),S(A,N,P)):w(A,N)}}function v(T,A,O){for(var P=A.minDiff,F=A.traces,R=P*(1-O.gap),N=R*(1-(O.groupgap||0)),D=-N/2,I=0;I<F.length;I++){var B=F[I][0].t;B.barwidth=N,B.poffset=D,B.bargroupwidth=R,B.bardelta=P}A.binWidth=F[0][0].t.barwidth/100,y(A),_(T,A),x(T,A)}function y(T){var A,O,P=T.traces;for(A=0;A<P.length;A++){var F,R=P[A],N=R[0],D=N.trace,I=N.t,B=D._offset||D.offset,j=I.poffset;if(f(B)){for(F=Array.prototype.slice.call(B,0,R.length),O=0;O<F.length;O++)l(F[O])||(F[O]=j);for(O=F.length;O<R.length;O++)F.push(j);I.poffset=F}else B!==void 0&&(I.poffset=B);var q=D._width||D.width,et=I.barwidth;if(f(q)){var U=Array.prototype.slice.call(q,0,R.length);for(O=0;O<U.length;O++)l(U[O])||(U[O]=et);for(O=U.length;O<R.length;O++)U.push(et);if(I.barwidth=U,B===void 0){for(F=[],O=0;O<R.length;O++)F.push(j+(et-U[O])/2);I.poffset=F}}else q!==void 0&&(I.barwidth=q,B===void 0&&(I.poffset=j+(et-q)/2))}}function _(T,A){for(var O=A.traces,P=C(T),F=0;F<O.length;F++)for(var R=O[F],N=R[0].t,D=N.poffset,I=Array.isArray(D),B=N.barwidth,j=Array.isArray(B),q=0;q<R.length;q++){var et=R[q],U=et.w=j?B[q]:B;et.p===void 0&&(et.p=et[P],et["orig_"+P]=et[P]);var Z=(I?D[q]:D)+U/2;et[P]=et.p+Z}}function x(T,A,O){var P=A.traces,F=A.minDiff/2;h.minDtick(T,A.minDiff,A.distinctPositions[0],O);for(var R=0;R<P.length;R++){var N,D,I,B,j=P[R],q=j[0],et=q.trace,U=[];for(B=0;B<j.length;B++)D=(N=j[B]).p-F,I=N.p+F,U.push(D,I);if(et.width||et.offset){var Z=q.t,rt=Z.poffset,ft=Z.barwidth,z=Array.isArray(rt),W=Array.isArray(ft);for(B=0;B<j.length;B++){N=j[B];var X=z?rt[B]:rt,it=W?ft[B]:ft;I=(D=N.p+X)+it,U.push(D,I)}}et._extremes[T._id]=h.findExtremes(T,U,{padded:!1})}}function w(T,A){for(var O=A.traces,P=C(T),F=0;F<O.length;F++){for(var R=O[F],N=R[0].trace,D=N.type==="scatter",I=N.orientation==="v",B=[],j=!1,q=0;q<R.length;q++){var et=R[q],U=D?0:et.b,Z=D?I?et.y:et.x:U+et.s;et[P]=Z,B.push(Z),et.hasB&&B.push(U),et.hasB&&et.b||(j=!0)}N._extremes[T._id]=h.findExtremes(T,B,{tozero:j,padded:!0})}}function E(T){for(var A=T.traces,O=0;O<A.length;O++)for(var P=A[O],F=0;F<P.length;F++){var R=P[F];R.s!==u&&T.put(R.p,R.b+R.s)}}function S(T,A,O){var P=A.traces,F=C(T),R=O.norm==="fraction"?1:100,N=R/1e9,D=T.l2c(T.c2l(0)),I=O.mode==="stack"?R:D;function B(lt){return l(T.c2l(lt))&&(lt<D-N||lt>I+N||!l(D))}for(var j=0;j<P.length;j++){for(var q=P[j],et=q[0].trace,U=[],Z=!1,rt=!1,ft=0;ft<q.length;ft++){var z=q[ft];if(z.s!==u){var W=Math.abs(R/A.get(z.p,z.s));z.b*=W,z.s*=W;var X=z.b,it=X+z.s;z[F]=it,U.push(it),rt=rt||B(it),z.hasB&&(U.push(X),rt=rt||B(X)),z.hasB&&z.b||(Z=!0)}}et._extremes[T._id]=h.findExtremes(T,U,{tozero:Z,padded:rt})}}function C(T){return T._id.charAt(0)}a.exports={crossTraceCalc:function(T,A){for(var O=A.xaxis,P=A.yaxis,F=T._fullLayout,R=T._fullData,N=T.calcdata,D=[],I=[],B=0;B<R.length;B++){var j=R[B];if(j.visible===!0&&c.traceIs(j,"bar")&&j.xaxis===O._id&&j.yaxis===P._id&&(j.orientation==="h"?D.push(N[B]):I.push(N[B]),j._computePh))for(var q=T.calcdata[B],et=0;et<q.length;et++)typeof q[et].ph0=="function"&&(q[et].ph0=q[et].ph0()),typeof q[et].ph1=="function"&&(q[et].ph1=q[et].ph1())}var U={xCat:O.type==="category"||O.type==="multicategory",yCat:P.type==="category"||P.type==="multicategory",mode:F.barmode,norm:F.barnorm,gap:F.bargap,groupgap:F.bargroupgap};g(T,O,P,I,U),g(T,P,O,D,U)},setGroupPositions:g}},769:function(a,s,o){var l=o(1828),f=o(7901),u=o(3972),c=o(7513),h=o(3927),d=o(8340),p=o(6125),g=o(1486),m=l.coerceFont;function v(y,_,x,w,E,S){var C=(S=S||{}).moduleHasSelected!==!1,T=S.moduleHasUnselected!==!1,A=S.moduleHasConstrain!==!1,O=S.moduleHasCliponaxis!==!1,P=S.moduleHasTextangle!==!1,F=S.moduleHasInsideanchor!==!1,R=!!S.hasPathbar,N=Array.isArray(E)||E==="auto",D=N||E==="inside",I=N||E==="outside";if(D||I){var B=m(w,"textfont",x.font),j=l.extendFlat({},B),q=!(y.textfont&&y.textfont.color);if(q&&delete j.color,m(w,"insidetextfont",j),R){var et=l.extendFlat({},B);q&&delete et.color,m(w,"pathbar.textfont",et)}I&&m(w,"outsidetextfont",B),C&&w("selected.textfont.color"),T&&w("unselected.textfont.color"),A&&w("constraintext"),O&&w("cliponaxis"),P&&w("textangle"),w("texttemplate")}D&&F&&w("insidetextanchor")}a.exports={supplyDefaults:function(y,_,x,w){function E(A,O){return l.coerce(y,_,g,A,O)}if(c(y,_,w,E)){h(y,_,w,E),E("xhoverformat"),E("yhoverformat"),E("orientation",_.x&&!_.y?"h":"v"),E("base"),E("offset"),E("width"),E("text"),E("hovertext"),E("hovertemplate");var S=E("textposition");v(y,0,w,E,S,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),d(y,_,E,x,w);var C=(_.marker.line||{}).color,T=u.getComponentMethod("errorbars","supplyDefaults");T(y,_,C||f.defaultLine,{axis:"y"}),T(y,_,C||f.defaultLine,{axis:"x",inherit:"y"}),l.coerceSelectionMarkerOpacity(_,E)}else _.visible=!1},crossTraceDefaults:function(y,_){var x,w;function E(C){return l.coerce(w._input,w,g,C)}if(_.barmode==="group")for(var S=0;S<y.length;S++)(w=y[S]).type==="bar"&&(x=w._input,p(x,w,_,E))},handleText:v}},8065:function(a){a.exports=function(s,o,l){return s.x="xVal"in o?o.xVal:o.x,s.y="yVal"in o?o.yVal:o.y,o.xa&&(s.xaxis=o.xa),o.ya&&(s.yaxis=o.ya),l.orientation==="h"?(s.label=s.y,s.value=s.x):(s.label=s.x,s.value=s.y),s}},9383:function(a,s,o){var l=o(2770),f=o(4267),u=o(1828).isArrayOrTypedArray;s.coerceString=function(c,h,d){if(typeof h=="string"){if(h||!c.noBlank)return h}else if((typeof h=="number"||h===!0)&&!c.strict)return String(h);return d!==void 0?d:c.dflt},s.coerceNumber=function(c,h,d){if(l(h)){h=+h;var p=c.min,g=c.max;if(!(p!==void 0&&h<p||g!==void 0&&h>g))return h}return d!==void 0?d:c.dflt},s.coerceColor=function(c,h,d){return f(h).isValid()?h:d!==void 0?d:c.dflt},s.coerceEnumerated=function(c,h,d){return c.coerceNumber&&(h=+h),c.values.indexOf(h)!==-1?h:d!==void 0?d:c.dflt},s.getValue=function(c,h){var d;return Array.isArray(c)?h<c.length&&(d=c[h]):d=c,d},s.getLineWidth=function(c,h){return 0<h.mlw?h.mlw:u(c.marker.line.width)?0:c.marker.line.width}},5423:function(a,s,o){var l=o(211),f=o(3972),u=o(7901),c=o(1828).fillText,h=o(9383).getLineWidth,d=o(9298).hoverLabelText,p=o(606).BADNUM;function g(v,y,_,x,w){var E,S,C,T,A,O,P,F=v.cd,R=F[0].trace,N=F[0].t,D=x==="closest",I=R.type==="waterfall",B=v.maxHoverDistance,j=v.maxSpikeDistance;R.orientation==="h"?(E=_,S=y,C="y",T="x",A=dt,O=it):(E=y,S=_,C="x",T="y",O=dt,A=it);var q=R[C+"period"],et=D||q;function U(ot){return rt(ot,-1)}function Z(ot){return rt(ot,1)}function rt(ot,st){var ht=ot.w;return ot[C]+st*ht/2}function ft(ot){return ot[C+"End"]-ot[C+"Start"]}var z=D?U:q?function(ot){return ot.p-ft(ot)/2}:function(ot){return Math.min(U(ot),ot.p-N.bardelta/2)},W=D?Z:q?function(ot){return ot.p+ft(ot)/2}:function(ot){return Math.max(Z(ot),ot.p+N.bardelta/2)};function X(ot,st,ht){return w.finiteRange&&(ht=0),l.inbox(ot-E,st-E,ht+Math.min(1,Math.abs(st-ot)/P)-1)}function it(ot){return X(z(ot),W(ot),B)}function lt(ot){var st=ot[T];if(I){var ht=Math.abs(ot.rawS)||0;S>0?st+=ht:S<0&&(st-=ht)}return st}function dt(ot){var st=S,ht=ot.b,xt=lt(ot);return l.inbox(ht-st,xt-st,B+(xt-st)/(xt-ht)-1)}var nt=v[C+"a"],V=v[T+"a"];P=Math.abs(nt.r2c(nt.range[1])-nt.r2c(nt.range[0]));var G=l.getDistanceFunction(x,A,O,function(ot){return(A(ot)+O(ot))/2});if(l.getClosest(F,G,v),v.index!==!1&&F[v.index].p!==p){et||(z=function(ot){return Math.min(U(ot),ot.p-N.bargroupwidth/2)},W=function(ot){return Math.max(Z(ot),ot.p+N.bargroupwidth/2)});var H=F[v.index],$=R.base?H.b+H.s:H.s;v[T+"0"]=v[T+"1"]=V.c2p(H[T],!0),v[T+"LabelVal"]=$;var J=N.extents[N.extents.round(H.p)];v[C+"0"]=nt.c2p(D?z(H):J[0],!0),v[C+"1"]=nt.c2p(D?W(H):J[1],!0);var Q=H.orig_p!==void 0;return v[C+"LabelVal"]=Q?H.orig_p:H.p,v.labelLabel=d(nt,v[C+"LabelVal"],R[C+"hoverformat"]),v.valueLabel=d(V,v[T+"LabelVal"],R[T+"hoverformat"]),v.baseLabel=d(V,H.b,R[T+"hoverformat"]),v.spikeDistance=(function(ot){var st=S,ht=ot.b,xt=lt(ot);return l.inbox(ht-st,xt-st,j+(xt-st)/(xt-ht)-1)}(H)+function(ot){return X(U(ot),Z(ot),j)}(H))/2,v[C+"Spike"]=nt.c2p(H.p,!0),c(H,R,v),v.hovertemplate=R.hovertemplate,v}}function m(v,y){var _=y.mcc||v.marker.color,x=y.mlcc||v.marker.line.color,w=h(v,y);return u.opacity(_)?_:u.opacity(x)&&w?x:void 0}a.exports={hoverPoints:function(v,y,_,x,w){var E=g(v,y,_,x,w);if(E){var S=E.cd,C=S[0].trace,T=S[E.index];return E.color=m(C,T),f.getComponentMethod("errorbars","hoverInfo")(T,C,E),[E]}},hoverOnBars:g,getTraceColor:m}},822:function(a,s,o){a.exports={attributes:o(1486),layoutAttributes:o(3641),supplyDefaults:o(769).supplyDefaults,crossTraceDefaults:o(769).crossTraceDefaults,supplyLayoutDefaults:o(3957),calc:o(2290),crossTraceCalc:o(1661).crossTraceCalc,colorbar:o(4898),arraysToCalcdata:o(5341),plot:o(7295).plot,style:o(6688).style,styleOnSelect:o(6688).styleOnSelect,hoverPoints:o(5423).hoverPoints,eventData:o(8065),selectPoints:o(1974),moduleType:"trace",name:"bar",basePlotModule:o(3612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},3641:function(a){a.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},3957:function(a,s,o){var l=o(3972),f=o(9298),u=o(1828),c=o(3641);a.exports=function(h,d,p){function g(C,T){return u.coerce(h,d,c,C,T)}for(var m=!1,v=!1,y=!1,_={},x=g("barmode"),w=0;w<p.length;w++){var E=p[w];if(l.traceIs(E,"bar")&&E.visible){if(m=!0,x==="group"){var S=E.xaxis+E.yaxis;_[S]&&(y=!0),_[S]=!0}E.visible&&E.type==="histogram"&&f.getFromId({_fullLayout:d},E[E.orientation==="v"?"xaxis":"yaxis"]).type!=="category"&&(v=!0)}}m?(x!=="overlay"&&g("barnorm"),g("bargap",v&&!y?0:.2),g("bargroupgap")):delete d.barmode}},7295:function(a,s,o){var l=o(9898),f=o(2770),u=o(1828),c=o(3893),h=o(7901),d=o(1424),p=o(3972),g=o(9298).tickText,m=o(2597),v=m.recordMinTextSize,y=m.clearMinTextSize,_=o(6688),x=o(9383),w=o(7313),E=o(1486),S=E.text,C=E.textposition,T=o(3469).appendArrayPointValue,A=w.TEXTPAD;function O(j){return j.id}function P(j){if(j.ids)return O}function F(j,q){return j<q?1:-1}function R(j,q,et,U){var Z;return!q.uniformtext.mode&&N(et)?(U&&(Z=U()),j.transition().duration(et.duration).ease(et.easing).each("end",function(){Z&&Z()}).each("interrupt",function(){Z&&Z()})):j}function N(j){return j&&j.duration>0}function D(j){return j==="auto"?0:j}function I(j,q){var et=Math.PI/180*q,U=Math.abs(Math.sin(et)),Z=Math.abs(Math.cos(et));return{x:j.width*Z+j.height*U,y:j.width*U+j.height*Z}}function B(j,q,et,U,Z,rt){var ft=!!rt.isHorizontal,z=!!rt.constrained,W=rt.angle||0,X=rt.anchor||"end",it=X==="end",lt=X==="start",dt=((rt.leftToRight||0)+1)/2,nt=1-dt,V=Z.width,G=Z.height,H=Math.abs(q-j),$=Math.abs(U-et),J=H>2*A&&$>2*A?A:0;H-=2*J,$-=2*J;var Q=D(W);W!=="auto"||V<=H&&G<=$||!(V>H||G>$)||(V>$||G>H)&&V<G==H<$||(Q+=90);var ot=I(Z,Q),st=1;z&&(st=Math.min(1,H/ot.x,$/ot.y));var ht=Z.left*nt+Z.right*dt,xt=(Z.top+Z.bottom)/2,Pt=(j+A)*nt+(q-A)*dt,It=(et+U)/2,zt=0,pt=0;if(lt||it){var yt=(ft?ot.x:ot.y)/2,wt=ft?F(j,q):F(et,U);ft?lt?(Pt=j+wt*J,zt=-wt*yt):(Pt=q-wt*J,zt=wt*yt):lt?(It=et+wt*J,pt=-wt*yt):(It=U-wt*J,pt=wt*yt)}return{textX:ht,textY:xt,targetX:Pt,targetY:It,anchorX:zt,anchorY:pt,scale:st,rotate:Q}}a.exports={plot:function(j,q,et,U,Z,rt){var ft=q.xaxis,z=q.yaxis,W=j._fullLayout,X=j._context.staticPlot;Z||(Z={mode:W.barmode,norm:W.barmode,gap:W.bargap,groupgap:W.bargroupgap},y("bar",W));var it=u.makeTraceGroups(U,et,"trace bars").each(function(lt){var dt=l.select(this),nt=lt[0].trace,V=nt.type==="waterfall",G=nt.type==="funnel",H=nt.type==="bar"||G,$=0;V&&nt.connector.visible&&nt.connector.mode==="between"&&($=nt.connector.line.width/2);var J=nt.orientation==="h",Q=N(Z),ot=u.ensureSingle(dt,"g","points"),st=P(nt),ht=ot.selectAll("g.point").data(u.identity,st);ht.enter().append("g").classed("point",!0),ht.exit().remove(),ht.each(function(Pt,It){var zt,pt,yt=l.select(this),wt=function(Lt,Dt,kt,Wt){var Qt=[],Ht=[],oe=Wt?Dt:kt,ce=Wt?kt:Dt;return Qt[0]=oe.c2p(Lt.s0,!0),Ht[0]=ce.c2p(Lt.p0,!0),Qt[1]=oe.c2p(Lt.s1,!0),Ht[1]=ce.c2p(Lt.p1,!0),Wt?[Qt,Ht]:[Ht,Qt]}(Pt,ft,z,J),St=wt[0][0],Ut=wt[0][1],Gt=wt[1][0],mt=wt[1][1],Tt=(J?Ut-St:mt-Gt)==0;if(Tt&&H&&x.getLineWidth(nt,Pt)&&(Tt=!1),Tt||(Tt=!(f(St)&&f(Ut)&&f(Gt)&&f(mt))),Pt.isBlank=Tt,Tt&&(J?Ut=St:mt=Gt),$&&!Tt&&(J?(St-=F(St,Ut)*$,Ut+=F(St,Ut)*$):(Gt-=F(Gt,mt)*$,mt+=F(Gt,mt)*$)),nt.type==="waterfall"){if(!Tt){var At=nt[Pt.dir].marker;zt=At.line.width,pt=At.color}}else zt=x.getLineWidth(nt,Pt),pt=Pt.mc||nt.marker.color;function Et(Lt){var Dt=l.round(zt/2%1,2);return Z.gap===0&&Z.groupgap===0?l.round(Math.round(Lt)-Dt,2):Lt}if(!j._context.staticPlot){var Mt=h.opacity(pt)<1||zt>.01?Et:function(Lt,Dt,kt){return kt&&Lt===Dt?Lt:Math.abs(Lt-Dt)>=2?Et(Lt):Lt>Dt?Math.ceil(Lt):Math.floor(Lt)};St=Mt(St,Ut,J),Ut=Mt(Ut,St,J),Gt=Mt(Gt,mt,!J),mt=Mt(mt,Gt,!J)}var Nt=R(u.ensureSingle(yt,"path"),W,Z,rt);if(Nt.style("vector-effect",X?"none":"non-scaling-stroke").attr("d",isNaN((Ut-St)*(mt-Gt))||Tt&&j._context.staticPlot?"M0,0Z":"M"+St+","+Gt+"V"+mt+"H"+Ut+"V"+Gt+"Z").call(d.setClipUrl,q.layerClipId,j),!W.uniformtext.mode&&Q){var Ft=d.makePointStyleFns(nt);d.singlePointStyle(Pt,Nt,nt,Ft,j)}(function(Lt,Dt,kt,Wt,Qt,Ht,oe,ce,pe,we,Le){var jt,Rt=Dt.xaxis,te=Dt.yaxis,ae=Lt._fullLayout;function Se(je,_e,he){return u.ensureSingle(je,"text").text(_e).attr({class:"bartext bartext-"+jt,"text-anchor":"middle","data-notex":1}).call(d.font,he).call(c.convertToTspans,Lt)}var ne=Wt[0].trace,ge=ne.orientation==="h",xe=function(je,_e,he,Pe,an){var tn,on=_e[0].trace;return tn=on.texttemplate?function(be,Re,ze,qe,He){var Xe=Re[0].trace,Ye=u.castOption(Xe,ze,"texttemplate");if(!Ye)return"";var rn,Ue,Je,dn,Mn=Xe.type==="histogram",Sn=Xe.type==="waterfall",vn=Xe.type==="funnel",bn=Xe.orientation==="h";function Dn(qn){return g(dn,dn.c2l(qn),!0).text}bn?(rn="y",Ue=He,Je="x",dn=qe):(rn="x",Ue=qe,Je="y",dn=He);var yn,In=Re[ze],pn={};pn.label=In.p,pn.labelLabel=pn[rn+"Label"]=(yn=In.p,g(Ue,Ue.c2l(yn),!0).text);var Bn=u.castOption(Xe,In.i,"text");(Bn===0||Bn)&&(pn.text=Bn),pn.value=In.s,pn.valueLabel=pn[Je+"Label"]=Dn(In.s);var Vn={};T(Vn,Xe,In.i),(Mn||Vn.x===void 0)&&(Vn.x=bn?pn.value:pn.label),(Mn||Vn.y===void 0)&&(Vn.y=bn?pn.label:pn.value),(Mn||Vn.xLabel===void 0)&&(Vn.xLabel=bn?pn.valueLabel:pn.labelLabel),(Mn||Vn.yLabel===void 0)&&(Vn.yLabel=bn?pn.labelLabel:pn.valueLabel),Sn&&(pn.delta=+In.rawS||In.s,pn.deltaLabel=Dn(pn.delta),pn.final=In.v,pn.finalLabel=Dn(pn.final),pn.initial=pn.final-pn.delta,pn.initialLabel=Dn(pn.initial)),vn&&(pn.value=In.s,pn.valueLabel=Dn(pn.value),pn.percentInitial=In.begR,pn.percentInitialLabel=u.formatPercent(In.begR),pn.percentPrevious=In.difR,pn.percentPreviousLabel=u.formatPercent(In.difR),pn.percentTotal=In.sumR,pn.percenTotalLabel=u.formatPercent(In.sumR));var Kn=u.castOption(Xe,In.i,"customdata");return Kn&&(pn.customdata=Kn),u.texttemplateString(Ye,pn,be._d3locale,Vn,pn,Xe._meta||{})}(je,_e,he,Pe,an):on.textinfo?function(be,Re,ze,qe){var He=be[0].trace,Xe=He.orientation==="h",Ye=He.type==="waterfall",rn=He.type==="funnel";function Ue(Kn){return g(Xe?ze:qe,+Kn,!0).text}var Je,dn,Mn=He.textinfo,Sn=be[Re],vn=Mn.split("+"),bn=[],Dn=function(Kn){return vn.indexOf(Kn)!==-1};if(Dn("label")&&bn.push((dn=be[Re].p,g(Xe?qe:ze,dn,!0).text)),Dn("text")&&((Je=u.castOption(He,Sn.i,"text"))===0||Je)&&bn.push(Je),Ye){var yn=+Sn.rawS||Sn.s,In=Sn.v,pn=In-yn;Dn("initial")&&bn.push(Ue(pn)),Dn("delta")&&bn.push(Ue(yn)),Dn("final")&&bn.push(Ue(In))}if(rn){Dn("value")&&bn.push(Ue(Sn.s));var Bn=0;Dn("percent initial")&&Bn++,Dn("percent previous")&&Bn++,Dn("percent total")&&Bn++;var Vn=Bn>1;Dn("percent initial")&&(Je=u.formatPercent(Sn.begR),Vn&&(Je+=" of initial"),bn.push(Je)),Dn("percent previous")&&(Je=u.formatPercent(Sn.difR),Vn&&(Je+=" of previous"),bn.push(Je)),Dn("percent total")&&(Je=u.formatPercent(Sn.sumR),Vn&&(Je+=" of total"),bn.push(Je))}return bn.join("<br>")}(_e,he,Pe,an):x.getValue(on.text,he),x.coerceString(S,tn)}(ae,Wt,Qt,Rt,te);jt=function(je,_e){var he=x.getValue(je.textposition,_e);return x.coerceEnumerated(C,he)}(ne,Qt);var Fe=we.mode==="stack"||we.mode==="relative",Ae=Wt[Qt],$e=!Fe||Ae._outmost;if(xe&&jt!=="none"&&(!Ae.isBlank&&Ht!==oe&&ce!==pe||jt!=="auto"&&jt!=="inside")){var Me=ae.font,ct=_.getBarColor(Wt[Qt],ne),gt=_.getInsideTextFont(ne,Qt,Me,ct),qt=_.getOutsideTextFont(ne,Qt,Me),Vt=kt.datum();ge?Rt.type==="log"&&Vt.s0<=0&&(Ht=Rt.range[0]<Rt.range[1]?0:Rt._length):te.type==="log"&&Vt.s0<=0&&(ce=te.range[0]<te.range[1]?te._length:0);var Jt,Xt,ee,re,fe,ye=Math.abs(oe-Ht)-2*A,se=Math.abs(pe-ce)-2*A;if(jt==="outside"&&($e||Ae.hasB||(jt="inside")),jt==="auto"&&($e?(jt="inside",Jt=Se(kt,xe,fe=u.ensureUniformFontSize(Lt,gt)),ee=(Xt=d.bBox(Jt.node())).width,re=Xt.height,ee>0&&re>0&&(ee<=ye&&re<=se||ee<=se&&re<=ye||(ge?ye>=ee*(se/re):se>=re*(ye/ee)))?jt="inside":(jt="outside",Jt.remove(),Jt=null)):jt="inside"),!Jt){var Ge=(Jt=Se(kt,xe,fe=u.ensureUniformFontSize(Lt,jt==="outside"?qt:gt))).attr("transform");if(Jt.attr("transform",""),ee=(Xt=d.bBox(Jt.node())).width,re=Xt.height,Jt.attr("transform",Ge),ee<=0||re<=0)return void Jt.remove()}var nn,Oe=ne.textangle;nn=jt==="outside"?function(je,_e,he,Pe,an,tn){var on,be=!!tn.isHorizontal,Re=!!tn.constrained,ze=tn.angle||0,qe=an.width,He=an.height,Xe=Math.abs(_e-je),Ye=Math.abs(Pe-he);on=be?Ye>2*A?A:0:Xe>2*A?A:0;var rn=1;Re&&(rn=be?Math.min(1,Ye/He):Math.min(1,Xe/qe));var Ue=D(ze),Je=I(an,Ue),dn=(be?Je.x:Je.y)/2,Mn=(an.left+an.right)/2,Sn=(an.top+an.bottom)/2,vn=(je+_e)/2,bn=(he+Pe)/2,Dn=0,yn=0,In=be?F(_e,je):F(he,Pe);return be?(vn=_e-In*on,Dn=In*dn):(bn=Pe+In*on,yn=-In*dn),{textX:Mn,textY:Sn,targetX:vn,targetY:bn,anchorX:Dn,anchorY:yn,scale:rn,rotate:Ue}}(Ht,oe,ce,pe,Xt,{isHorizontal:ge,constrained:ne.constraintext==="both"||ne.constraintext==="outside",angle:Oe}):B(Ht,oe,ce,pe,Xt,{isHorizontal:ge,constrained:ne.constraintext==="both"||ne.constraintext==="inside",angle:Oe,anchor:ne.insidetextanchor}),nn.fontSize=fe.size,v(ne.type==="histogram"?"bar":ne.type,nn,ae),Ae.transform=nn;var We=R(Jt,ae,we,Le);u.setTransormAndDisplay(We,nn)}else kt.select("text").remove()})(j,q,yt,lt,It,St,Ut,Gt,mt,Z,rt),q.layerClipId&&d.hideOutsideRangePoint(Pt,yt.select("text"),ft,z,nt.xcalendar,nt.ycalendar)});var xt=nt.cliponaxis===!1;d.setClipUrl(dt,xt?null:q.layerClipId,j)});p.getComponentMethod("errorbars","plot")(j,it,q,Z)},toMoveInsideBar:B}},1974:function(a){function s(o,l,f,u,c){var h=l.c2p(u?o.s0:o.p0,!0),d=l.c2p(u?o.s1:o.p1,!0),p=f.c2p(u?o.p0:o.s0,!0),g=f.c2p(u?o.p1:o.s1,!0);return c?[(h+d)/2,(p+g)/2]:u?[d,(p+g)/2]:[(h+d)/2,g]}a.exports=function(o,l){var f,u=o.cd,c=o.xaxis,h=o.yaxis,d=u[0].trace,p=d.type==="funnel",g=d.orientation==="h",m=[];if(l===!1)for(f=0;f<u.length;f++)u[f].selected=0;else for(f=0;f<u.length;f++){var v=u[f],y="ct"in v?v.ct:s(v,c,h,g,p);l.contains(y,!1,f,o)?(m.push({pointNumber:f,x:c.c2d(v.x),y:h.c2d(v.y)}),v.selected=1):v.selected=0}return m}},1546:function(a,s,o){a.exports=f;var l=o(1828).distinctVals;function f(u,c){this.traces=u,this.sepNegVal=c.sepNegVal,this.overlapNoMerge=c.overlapNoMerge;for(var h=1/0,d=c.posAxis._id.charAt(0),p=[],g=0;g<u.length;g++){for(var m=u[g],v=0;v<m.length;v++){var y=m[v],_=y.p;_===void 0&&(_=y[d]),_!==void 0&&p.push(_)}m[0]&&m[0].width1&&(h=Math.min(m[0].width1,h))}this.positions=p;var x=l(p);this.distinctPositions=x.vals,x.vals.length===1&&h!==1/0?this.minDiff=h:this.minDiff=Math.min(x.minDiff,h);var w=(c.posAxis||{}).type;w!=="category"&&w!=="multicategory"||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}f.prototype.put=function(u,c){var h=this.getLabel(u,c),d=this.bins[h]||0;return this.bins[h]=d+c,d},f.prototype.get=function(u,c){var h=this.getLabel(u,c);return this.bins[h]||0},f.prototype.getLabel=function(u,c){return(c<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?u:Math.round(u/this.binWidth))}},6688:function(a,s,o){var l=o(9898),f=o(7901),u=o(1424),c=o(1828),h=o(3972),d=o(2597).resizeText,p=o(1486),g=p.textfont,m=p.insidetextfont,v=p.outsidetextfont,y=o(9383);function _(O,P,F){u.pointStyle(O.selectAll("path"),P,F),x(O,P,F)}function x(O,P,F){O.selectAll("text").each(function(R){var N=l.select(this),D=c.ensureUniformFontSize(F,w(N,R,P,F));u.font(N,D)})}function w(O,P,F,R){var N=R._fullLayout.font,D=F.textfont;if(O.classed("bartext-inside")){var I=A(P,F);D=S(F,P.i,N,I)}else O.classed("bartext-outside")&&(D=C(F,P.i,N));return D}function E(O,P,F){return T(g,O.textfont,P,F)}function S(O,P,F,R){var N=E(O,P,F);return(O._input.textfont===void 0||O._input.textfont.color===void 0||Array.isArray(O.textfont.color)&&O.textfont.color[P]===void 0)&&(N={color:f.contrast(R),family:N.family,size:N.size}),T(m,O.insidetextfont,P,N)}function C(O,P,F){var R=E(O,P,F);return T(v,O.outsidetextfont,P,R)}function T(O,P,F,R){P=P||{};var N=y.getValue(P.family,F),D=y.getValue(P.size,F),I=y.getValue(P.color,F);return{family:y.coerceString(O.family,N,R.family),size:y.coerceNumber(O.size,D,R.size),color:y.coerceColor(O.color,I,R.color)}}function A(O,P){return P.type==="waterfall"?P[O.dir].marker.color:O.mcc||O.mc||P.marker.color}a.exports={style:function(O){var P=l.select(O).selectAll("g.barlayer").selectAll("g.trace");d(O,P,"bar");var F=P.size(),R=O._fullLayout;P.style("opacity",function(N){return N[0].trace.opacity}).each(function(N){(R.barmode==="stack"&&F>1||R.bargap===0&&R.bargroupgap===0&&!N[0].trace.marker.line.width)&&l.select(this).attr("shape-rendering","crispEdges")}),P.selectAll("g.points").each(function(N){_(l.select(this),N[0].trace,O)}),h.getComponentMethod("errorbars","style")(P)},styleTextPoints:x,styleOnSelect:function(O,P,F){var R=P[0].trace;R.selectedpoints?function(N,D,I){u.selectedPointStyle(N.selectAll("path"),D),function(B,j,q){B.each(function(et){var U,Z=l.select(this);if(et.selected){U=c.ensureUniformFontSize(q,w(Z,et,j,q));var rt=j.selected.textfont&&j.selected.textfont.color;rt&&(U.color=rt),u.font(Z,U)}else u.selectedTextStyle(Z,j)})}(N.selectAll("text"),D,I)}(F,R,O):(_(F,R,O),h.getComponentMethod("errorbars","style")(F))},getInsideTextFont:S,getOutsideTextFont:C,getBarColor:A,resizeText:d}},8340:function(a,s,o){var l=o(7901),f=o(2869).hasColorscale,u=o(1586),c=o(1828).coercePattern;a.exports=function(h,d,p,g,m){var v=p("marker.color",g),y=f(h,"marker");y&&u(h,d,m,p,{prefix:"marker.",cLetter:"c"}),p("marker.line.color",l.defaultLine),f(h,"marker.line")&&u(h,d,m,p,{prefix:"marker.line.",cLetter:"c"}),p("marker.line.width"),p("marker.opacity"),c(p,"marker.pattern",v,y),p("selected.marker.color"),p("unselected.marker.color")}},2597:function(a,s,o){var l=o(9898),f=o(1828);function u(c){return"_"+c+"Text_minsize"}a.exports={recordMinTextSize:function(c,h,d){if(d.uniformtext.mode){var p=u(c),g=d.uniformtext.minsize,m=h.scale*h.fontSize;h.hide=m<g,d[p]=d[p]||1/0,h.hide||(d[p]=Math.min(d[p],Math.max(m,g)))}},clearMinTextSize:function(c,h){h[u(c)]=void 0},resizeText:function(c,h,d){var p=c._fullLayout,g=p["_"+d+"Text_minsize"];if(g){var m,v=p.uniformtext.mode==="hide";switch(d){case"funnelarea":case"pie":case"sunburst":m="g.slice";break;case"treemap":case"icicle":m="g.slice, g.pathbar";break;default:m="g.points > g.point"}h.selectAll(m).each(function(y){var _=y.transform;if(_){_.scale=v&&_.hide?0:g/_.fontSize;var x=l.select(this).select("text");f.setTransormAndDisplay(x,_)}})}}}},4e3:function(a,s,o){var l=o(9012),f=o(7670).Y,u=o(1940),c=o(2399),h=o(5386).fF,d=o(5386).si,p=o(1426).extendFlat,g=o(9952).u,m=u({editType:"plot",arrayOk:!0,colorEditType:"plot"});a.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:c.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:g,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:p({},l.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:h({},{keys:["label","color","value","percent","text"]}),texttemplate:d({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:p({},m,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:p({},m,{}),outsidetextfont:p({},m,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:p({},m,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:f({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:p({},m,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},3584:function(a,s,o){var l=o(4875);s.name="pie",s.plot=function(f,u,c,h){l.plotBasePlot(s.name,f,u,c,h)},s.clean=function(f,u,c,h){l.cleanBasePlot(s.name,f,u,c,h)}},2354:function(a,s,o){var l=o(2770),f=o(4267),u=o(7901),c={};function h(p){return function(g,m){return!!g&&!!(g=f(g)).isValid()&&(g=u.addOpacity(g,g.getAlpha()),p[m]||(p[m]=g),g)}}function d(p,g){var m,v=JSON.stringify(p),y=g[v];if(!y){for(y=p.slice(),m=0;m<p.length;m++)y.push(f(p[m]).lighten(20).toHexString());for(m=0;m<p.length;m++)y.push(f(p[m]).darken(20).toHexString());g[v]=y}return y}a.exports={calc:function(p,g){var m,v,y=[],_=p._fullLayout,x=_.hiddenlabels||[],w=g.labels,E=g.marker.colors||[],S=g.values,C=g._length,T=g._hasValues&&C;if(g.dlabel)for(w=new Array(C),m=0;m<C;m++)w[m]=String(g.label0+m*g.dlabel);var A={},O=h(_["_"+g.type+"colormap"]),P=0,F=!1;for(m=0;m<C;m++){var R,N,D;if(T){if(R=S[m],!l(R))continue;R=+R}else R=1;(N=w[m])!==void 0&&N!==""||(N=m);var I=A[N=String(N)];I===void 0?(A[N]=y.length,(D=x.indexOf(N)!==-1)||(P+=R),y.push({v:R,label:N,color:O(E[m],N),i:m,pts:[m],hidden:D})):(F=!0,(v=y[I]).v+=R,v.pts.push(m),v.hidden||(P+=R),v.color===!1&&E[m]&&(v.color=O(E[m],N)))}return y=y.filter(function(B){return B.v>=0}),(g.type==="funnelarea"?F:g.sort)&&y.sort(function(B,j){return j.v-B.v}),y[0]&&(y[0].vTotal=P),y},crossTraceCalc:function(p,g){var m=(g||{}).type;m||(m="pie");var v=p._fullLayout,y=p.calcdata,_=v[m+"colorway"],x=v["_"+m+"colormap"];v["extend"+m+"colors"]&&(_=d(_,c));for(var w=0,E=0;E<y.length;E++){var S=y[E];if(S[0].trace.type===m)for(var C=0;C<S.length;C++){var T=S[C];T.color===!1&&(x[T.label]?T.color=x[T.label]:(x[T.label]=T.color=_[w%_.length],w++))}}},makePullColorFn:h,generateExtendedColors:d}},7434:function(a,s,o){var l=o(2770),f=o(1828),u=o(4e3),c=o(7670).c,h=o(769).handleText,d=o(1828).coercePattern;function p(m,v){var y=Array.isArray(m),_=f.isArrayOrTypedArray(v),x=Math.min(y?m.length:1/0,_?v.length:1/0);if(isFinite(x)||(x=0),x&&_){for(var w,E=0;E<x;E++){var S=v[E];if(l(S)&&S>0){w=!0;break}}w||(x=0)}return{hasLabels:y,hasValues:_,len:x}}function g(m,v,y,_,x){_("marker.line.width")&&_("marker.line.color",x?void 0:y.paper_bgcolor);var w=_("marker.colors");d(_,"marker.pattern",w),m.marker&&!v.marker.pattern.fgcolor&&(v.marker.pattern.fgcolor=m.marker.colors),v.marker.pattern.bgcolor||(v.marker.pattern.bgcolor=y.paper_bgcolor)}a.exports={handleLabelsAndValues:p,handleMarkerDefaults:g,supplyDefaults:function(m,v,y,_){function x(F,R){return f.coerce(m,v,u,F,R)}var w=p(x("labels"),x("values")),E=w.len;if(v._hasLabels=w.hasLabels,v._hasValues=w.hasValues,!v._hasLabels&&v._hasValues&&(x("label0"),x("dlabel")),E){v._length=E,g(m,v,_,x,!0),x("scalegroup");var S,C=x("text"),T=x("texttemplate");if(T||(S=x("textinfo",Array.isArray(C)?"text+percent":"percent")),x("hovertext"),x("hovertemplate"),T||S&&S!=="none"){var A=x("textposition");h(m,v,_,x,A,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(A)||A==="auto"||A==="outside")&&x("automargin"),(A==="inside"||A==="auto"||Array.isArray(A))&&x("insidetextorientation")}c(v,_,x);var O=x("hole");if(x("title.text")){var P=x("title.position",O?"middle center":"top center");O||P!=="middle center"||(v.title.position="top center"),f.coerceFont(x,"title.font",_.font)}x("sort"),x("direction"),x("rotation"),x("pull")}else v.visible=!1}}},7:function(a,s,o){var l=o(3469).appendArrayMultiPointValues;a.exports=function(f,u){var c={curveNumber:u.index,pointNumbers:f.pts,data:u._input,fullData:u,label:f.label,color:f.color,value:f.v,percent:f.percent,text:f.text,bbox:f.bbox,v:f.v};return f.pts.length===1&&(c.pointNumber=c.i=f.pts[0]),l(c,u,f.pts),u.type==="funnelarea"&&(delete c.v,delete c.i),c}},2209:function(a,s,o){var l=o(1424),f=o(7901);a.exports=function(u,c,h,d){var p=h.marker.pattern;p&&p.shape?l.pointStyle(u,h,d,c):f.fill(u,c.color)}},3581:function(a,s,o){var l=o(1828);function f(u){return u.indexOf("e")!==-1?u.replace(/[.]?0+e/,"e"):u.indexOf(".")!==-1?u.replace(/[.]?0+$/,""):u}s.formatPiePercent=function(u,c){var h=f((100*u).toPrecision(3));return l.numSeparate(h,c)+"%"},s.formatPieValue=function(u,c){var h=f(u.toPrecision(10));return l.numSeparate(h,c)},s.getFirstFilled=function(u,c){if(Array.isArray(u))for(var h=0;h<c.length;h++){var d=u[c[h]];if(d||d===0||d==="")return d}},s.castOption=function(u,c){return Array.isArray(u)?s.getFirstFilled(u,c):u||void 0},s.getRotationAngle=function(u){return(u==="auto"?0:u)*Math.PI/180}},8810:function(a,s,o){a.exports={attributes:o(4e3),supplyDefaults:o(7434).supplyDefaults,supplyLayoutDefaults:o(2097),layoutAttributes:o(7550),calc:o(2354).calc,crossTraceCalc:o(2354).crossTraceCalc,plot:o(4575).plot,style:o(8357),styleOne:o(3463),moduleType:"trace",name:"pie",basePlotModule:o(3584),categories:["pie-like","pie","showLegend"],meta:{}}},7550:function(a){a.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},2097:function(a,s,o){var l=o(1828),f=o(7550);a.exports=function(u,c){function h(d,p){return l.coerce(u,c,f,d,p)}h("hiddenlabels"),h("piecolorway",c.colorway),h("extendpiecolors")}},4575:function(a,s,o){var l=o(9898),f=o(4875),u=o(211),c=o(7901),h=o(1424),d=o(1828),p=d.strScale,g=d.strTranslate,m=o(3893),v=o(2597),y=v.recordMinTextSize,_=v.clearMinTextSize,x=o(7313).TEXTPAD,w=o(3581),E=o(7),S=o(1828).isValidTextValue;function C(z,W,X){var it=X[0],lt=it.cx,dt=it.cy,nt=it.trace,V=nt.type==="funnelarea";"_hasHoverLabel"in nt||(nt._hasHoverLabel=!1),"_hasHoverEvent"in nt||(nt._hasHoverEvent=!1),z.on("mouseover",function(G){var H=W._fullLayout,$=W._fullData[nt.index];if(!W._dragging&&H.hovermode!==!1){var J=$.hoverinfo;if(Array.isArray(J)&&(J=u.castHoverinfo({hoverinfo:[w.castOption(J,G.pts)],_module:nt._module},H,0)),J==="all"&&(J="label+text+value+percent+name"),$.hovertemplate||J!=="none"&&J!=="skip"&&J){var Q=G.rInscribed||0,ot=lt+G.pxmid[0]*(1-Q),st=dt+G.pxmid[1]*(1-Q),ht=H.separators,xt=[];if(J&&J.indexOf("label")!==-1&&xt.push(G.label),G.text=w.castOption($.hovertext||$.text,G.pts),J&&J.indexOf("text")!==-1){var Pt=G.text;d.isValidTextValue(Pt)&&xt.push(Pt)}G.value=G.v,G.valueLabel=w.formatPieValue(G.v,ht),J&&J.indexOf("value")!==-1&&xt.push(G.valueLabel),G.percent=G.v/it.vTotal,G.percentLabel=w.formatPiePercent(G.percent,ht),J&&J.indexOf("percent")!==-1&&xt.push(G.percentLabel);var It=$.hoverlabel,zt=It.font,pt=[];u.loneHover({trace:nt,x0:ot-Q*it.r,x1:ot+Q*it.r,y:st,_x0:V?lt+G.TL[0]:ot-Q*it.r,_x1:V?lt+G.TR[0]:ot+Q*it.r,_y0:V?dt+G.TL[1]:st-Q*it.r,_y1:V?dt+G.BL[1]:st+Q*it.r,text:xt.join("<br>"),name:$.hovertemplate||J.indexOf("name")!==-1?$.name:void 0,idealAlign:G.pxmid[0]<0?"left":"right",color:w.castOption(It.bgcolor,G.pts)||G.color,borderColor:w.castOption(It.bordercolor,G.pts),fontFamily:w.castOption(zt.family,G.pts),fontSize:w.castOption(zt.size,G.pts),fontColor:w.castOption(zt.color,G.pts),nameLength:w.castOption(It.namelength,G.pts),textAlign:w.castOption(It.align,G.pts),hovertemplate:w.castOption($.hovertemplate,G.pts),hovertemplateLabels:G,eventData:[E(G,$)]},{container:H._hoverlayer.node(),outerContainer:H._paper.node(),gd:W,inOut_bbox:pt}),G.bbox=pt[0],nt._hasHoverLabel=!0}nt._hasHoverEvent=!0,W.emit("plotly_hover",{points:[E(G,$)],event:l.event})}}),z.on("mouseout",function(G){var H=W._fullLayout,$=W._fullData[nt.index],J=l.select(this).datum();nt._hasHoverEvent&&(G.originalEvent=l.event,W.emit("plotly_unhover",{points:[E(J,$)],event:l.event}),nt._hasHoverEvent=!1),nt._hasHoverLabel&&(u.loneUnhover(H._hoverlayer.node()),nt._hasHoverLabel=!1)}),z.on("click",function(G){var H=W._fullLayout,$=W._fullData[nt.index];W._dragging||H.hovermode===!1||(W._hoverdata=[E(G,$)],u.click(W,l.event))})}function T(z,W,X){var it=w.castOption(z.insidetextfont.color,W.pts);!it&&z._input.textfont&&(it=w.castOption(z._input.textfont.color,W.pts));var lt=w.castOption(z.insidetextfont.family,W.pts)||w.castOption(z.textfont.family,W.pts)||X.family,dt=w.castOption(z.insidetextfont.size,W.pts)||w.castOption(z.textfont.size,W.pts)||X.size;return{color:it||c.contrast(W.color),family:lt,size:dt}}function A(z,W){for(var X,it,lt=0;lt<z.length;lt++)if((it=(X=z[lt][0]).trace).title.text){var dt=it.title.text;it._meta&&(dt=d.templateString(dt,it._meta));var nt=h.tester.append("text").attr("data-notex",1).text(dt).call(h.font,it.title.font).call(m.convertToTspans,W),V=h.bBox(nt.node(),!0);X.titleBox={width:V.width,height:V.height},nt.remove()}}function O(z,W,X){var it=X.r||W.rpx1,lt=W.rInscribed;if(W.startangle===W.stopangle)return{rCenter:1-lt,scale:0,rotate:0,textPosAngle:0};var dt,nt=W.ring,V=nt===1&&Math.abs(W.startangle-W.stopangle)===2*Math.PI,G=W.halfangle,H=W.midangle,$=X.trace.insidetextorientation,J=$==="horizontal",Q=$==="tangential",ot=$==="radial",st=$==="auto",ht=[];if(!st){var xt,Pt=function(St,Ut){if(function(At,Et){var Mt=At.startangle,Nt=At.stopangle;return Mt>Et&&Et>Nt||Mt<Et&&Et<Nt}(W,St)){var Gt=Math.abs(St-W.startangle),mt=Math.abs(St-W.stopangle),Tt=Gt<mt?Gt:mt;(dt=Ut==="tan"?F(z,it,nt,Tt,0):P(z,it,nt,Tt,Math.PI/2)).textPosAngle=St,ht.push(dt)}};if(J||Q){for(xt=4;xt>=-4;xt-=2)Pt(Math.PI*xt,"tan");for(xt=4;xt>=-4;xt-=2)Pt(Math.PI*(xt+1),"tan")}if(J||ot){for(xt=4;xt>=-4;xt-=2)Pt(Math.PI*(xt+1.5),"rad");for(xt=4;xt>=-4;xt-=2)Pt(Math.PI*(xt+.5),"rad")}}if(V||st||J){var It=Math.sqrt(z.width*z.width+z.height*z.height);if((dt={scale:lt*it*2/It,rCenter:1-lt,rotate:0}).textPosAngle=(W.startangle+W.stopangle)/2,dt.scale>=1)return dt;ht.push(dt)}(st||ot)&&((dt=P(z,it,nt,G,H)).textPosAngle=(W.startangle+W.stopangle)/2,ht.push(dt)),(st||Q)&&((dt=F(z,it,nt,G,H)).textPosAngle=(W.startangle+W.stopangle)/2,ht.push(dt));for(var zt=0,pt=0,yt=0;yt<ht.length;yt++){var wt=ht[yt].scale;if(pt<wt&&(pt=wt,zt=yt),!st&&pt>=1)break}return ht[zt]}function P(z,W,X,it,lt){W=Math.max(0,W-2*x);var dt=z.width/z.height,nt=D(dt,it,W,X);return{scale:2*nt/z.height,rCenter:R(dt,nt/W),rotate:N(lt)}}function F(z,W,X,it,lt){W=Math.max(0,W-2*x);var dt=z.height/z.width,nt=D(dt,it,W,X);return{scale:2*nt/z.width,rCenter:R(dt,nt/W),rotate:N(lt+Math.PI/2)}}function R(z,W){return Math.cos(W)-z*W}function N(z){return(180/Math.PI*z+720)%180-90}function D(z,W,X,it){var lt=z+1/(2*Math.tan(W));return X*Math.min(1/(Math.sqrt(lt*lt+.5)+lt),it/(Math.sqrt(z*z+it/2)+z))}function I(z,W){return z.v!==W.vTotal||W.trace.hole?Math.min(1/(1+1/Math.sin(z.halfangle)),z.ring/2):1}function B(z,W){var X=W.pxmid[0],it=W.pxmid[1],lt=z.width/2,dt=z.height/2;return X<0&&(lt*=-1),it<0&&(dt*=-1),{scale:1,rCenter:1,rotate:0,x:lt+Math.abs(dt)*(lt>0?1:-1)/2,y:dt/(1+X*X/(it*it)),outside:!0}}function j(z,W){var X,it,lt,dt=z.trace,nt={x:z.cx,y:z.cy},V={tx:0,ty:0};V.ty+=dt.title.font.size,lt=et(dt),dt.title.position.indexOf("top")!==-1?(nt.y-=(1+lt)*z.r,V.ty-=z.titleBox.height):dt.title.position.indexOf("bottom")!==-1&&(nt.y+=(1+lt)*z.r);var G,H=z.r/((G=z.trace.aspectratio)===void 0?1:G),$=W.w*(dt.domain.x[1]-dt.domain.x[0])/2;return dt.title.position.indexOf("left")!==-1?($+=H,nt.x-=(1+lt)*H,V.tx+=z.titleBox.width/2):dt.title.position.indexOf("center")!==-1?$*=2:dt.title.position.indexOf("right")!==-1&&($+=H,nt.x+=(1+lt)*H,V.tx-=z.titleBox.width/2),X=$/z.titleBox.width,it=q(z,W)/z.titleBox.height,{x:nt.x,y:nt.y,scale:Math.min(X,it),tx:V.tx,ty:V.ty}}function q(z,W){var X=z.trace,it=W.h*(X.domain.y[1]-X.domain.y[0]);return Math.min(z.titleBox.height,it/2)}function et(z){var W,X=z.pull;if(!X)return 0;if(Array.isArray(X))for(X=0,W=0;W<z.pull.length;W++)z.pull[W]>X&&(X=z.pull[W]);return X}function U(z,W){for(var X=[],it=0;it<z.length;it++){var lt=z[it][0],dt=lt.trace,nt=dt.domain,V=W.w*(nt.x[1]-nt.x[0]),G=W.h*(nt.y[1]-nt.y[0]);dt.title.text&&dt.title.position!=="middle center"&&(G-=q(lt,W));var H=V/2,$=G/2;dt.type!=="funnelarea"||dt.scalegroup||($/=dt.aspectratio),lt.r=Math.min(H,$)/(1+et(dt)),lt.cx=W.l+W.w*(dt.domain.x[1]+dt.domain.x[0])/2,lt.cy=W.t+W.h*(1-dt.domain.y[0])-G/2,dt.title.text&&dt.title.position.indexOf("bottom")!==-1&&(lt.cy-=q(lt,W)),dt.scalegroup&&X.indexOf(dt.scalegroup)===-1&&X.push(dt.scalegroup)}(function(J,Q){for(var ot,st,ht,xt=0;xt<Q.length;xt++){var Pt=1/0,It=Q[xt];for(st=0;st<J.length;st++)if((ht=(ot=J[st][0]).trace).scalegroup===It){var zt;if(ht.type==="pie")zt=ot.r*ot.r;else if(ht.type==="funnelarea"){var pt,yt;ht.aspectratio>1?yt=(pt=ot.r)/ht.aspectratio:pt=(yt=ot.r)*ht.aspectratio,zt=(pt*=(1+ht.baseratio)/2)*yt}Pt=Math.min(Pt,zt/ot.vTotal)}for(st=0;st<J.length;st++)if((ht=(ot=J[st][0]).trace).scalegroup===It){var wt=Pt*ot.vTotal;ht.type==="funnelarea"&&(wt/=(1+ht.baseratio)/2,wt/=ht.aspectratio),ot.r=Math.sqrt(wt)}}})(z,X)}function Z(z,W){return[z*Math.sin(W),-z*Math.cos(W)]}function rt(z,W,X){var it=z._fullLayout,lt=X.trace,dt=lt.texttemplate,nt=lt.textinfo;if(!dt&&nt&&nt!=="none"){var V,G=nt.split("+"),H=function(zt){return G.indexOf(zt)!==-1},$=H("label"),J=H("text"),Q=H("value"),ot=H("percent"),st=it.separators;if(V=$?[W.label]:[],J){var ht=w.getFirstFilled(lt.text,W.pts);S(ht)&&V.push(ht)}Q&&V.push(w.formatPieValue(W.v,st)),ot&&V.push(w.formatPiePercent(W.v/X.vTotal,st)),W.text=V.join("<br>")}if(dt){var xt=d.castOption(lt,W.i,"texttemplate");if(xt){var Pt=function(zt){return{label:zt.label,value:zt.v,valueLabel:w.formatPieValue(zt.v,it.separators),percent:zt.v/X.vTotal,percentLabel:w.formatPiePercent(zt.v/X.vTotal,it.separators),color:zt.color,text:zt.text,customdata:d.castOption(lt,zt.i,"customdata")}}(W),It=w.getFirstFilled(lt.text,W.pts);(S(It)||It==="")&&(Pt.text=It),W.text=d.texttemplateString(xt,Pt,z._fullLayout._d3locale,Pt,lt._meta||{})}else W.text=""}}function ft(z,W){var X=z.rotate*Math.PI/180,it=Math.cos(X),lt=Math.sin(X),dt=(W.left+W.right)/2,nt=(W.top+W.bottom)/2;z.textX=dt*it-nt*lt,z.textY=dt*lt+nt*it,z.noCenter=!0}a.exports={plot:function(z,W){var X=z._context.staticPlot,it=z._fullLayout,lt=it._size;_("pie",it),A(W,z),U(W,lt);var dt=d.makeTraceGroups(it._pielayer,W,"trace").each(function(nt){var V=l.select(this),G=nt[0],H=G.trace;(function($){var J,Q,ot,st=$[0],ht=st.r,xt=st.trace,Pt=w.getRotationAngle(xt.rotation),It=2*Math.PI/st.vTotal,zt="px0",pt="px1";if(xt.direction==="counterclockwise"){for(J=0;J<$.length&&$[J].hidden;J++);if(J===$.length)return;Pt+=It*$[J].v,It*=-1,zt="px1",pt="px0"}for(ot=Z(ht,Pt),J=0;J<$.length;J++)(Q=$[J]).hidden||(Q[zt]=ot,Q.startangle=Pt,Pt+=It*Q.v/2,Q.pxmid=Z(ht,Pt),Q.midangle=Pt,ot=Z(ht,Pt+=It*Q.v/2),Q.stopangle=Pt,Q[pt]=ot,Q.largeArc=Q.v>st.vTotal/2?1:0,Q.halfangle=Math.PI*Math.min(Q.v/st.vTotal,.5),Q.ring=1-xt.hole,Q.rInscribed=I(Q,st))})(nt),V.attr("stroke-linejoin","round"),V.each(function(){var $=l.select(this).selectAll("g.slice").data(nt);$.enter().append("g").classed("slice",!0),$.exit().remove();var J=[[[],[]],[[],[]]],Q=!1;$.each(function(pt,yt){if(pt.hidden)l.select(this).selectAll("path,g").remove();else{pt.pointNumber=pt.i,pt.curveNumber=H.index,J[pt.pxmid[1]<0?0:1][pt.pxmid[0]<0?0:1].push(pt);var wt=G.cx,St=G.cy,Ut=l.select(this),Gt=Ut.selectAll("path.surface").data([pt]);if(Gt.enter().append("path").classed("surface",!0).style({"pointer-events":X?"none":"all"}),Ut.call(C,z,nt),H.pull){var mt=+w.castOption(H.pull,pt.pts)||0;mt>0&&(wt+=mt*pt.pxmid[0],St+=mt*pt.pxmid[1])}pt.cxFinal=wt,pt.cyFinal=St;var Tt=H.hole;if(pt.v===G.vTotal){var At="M"+(wt+pt.px0[0])+","+(St+pt.px0[1])+Lt(pt.px0,pt.pxmid,!0,1)+Lt(pt.pxmid,pt.px0,!0,1)+"Z";Tt?Gt.attr("d","M"+(wt+Tt*pt.px0[0])+","+(St+Tt*pt.px0[1])+Lt(pt.px0,pt.pxmid,!1,Tt)+Lt(pt.pxmid,pt.px0,!1,Tt)+"Z"+At):Gt.attr("d",At)}else{var Et=Lt(pt.px0,pt.px1,!0,1);if(Tt){var Mt=1-Tt;Gt.attr("d","M"+(wt+Tt*pt.px1[0])+","+(St+Tt*pt.px1[1])+Lt(pt.px1,pt.px0,!1,Tt)+"l"+Mt*pt.px0[0]+","+Mt*pt.px0[1]+Et+"Z")}else Gt.attr("d","M"+wt+","+St+"l"+pt.px0[0]+","+pt.px0[1]+Et+"Z")}rt(z,pt,G);var Nt=w.castOption(H.textposition,pt.pts),Ft=Ut.selectAll("g.slicetext").data(pt.text&&Nt!=="none"?[0]:[]);Ft.enter().append("g").classed("slicetext",!0),Ft.exit().remove(),Ft.each(function(){var Dt=d.ensureSingle(l.select(this),"text","",function(we){we.attr("data-notex",1)}),kt=d.ensureUniformFontSize(z,Nt==="outside"?function(we,Le,jt){return{color:w.castOption(we.outsidetextfont.color,Le.pts)||w.castOption(we.textfont.color,Le.pts)||jt.color,family:w.castOption(we.outsidetextfont.family,Le.pts)||w.castOption(we.textfont.family,Le.pts)||jt.family,size:w.castOption(we.outsidetextfont.size,Le.pts)||w.castOption(we.textfont.size,Le.pts)||jt.size}}(H,pt,it.font):T(H,pt,it.font));Dt.text(pt.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(h.font,kt).call(m.convertToTspans,z);var Wt,Qt=h.bBox(Dt.node());if(Nt==="outside")Wt=B(Qt,pt);else if(Wt=O(Qt,pt,G),Nt==="auto"&&Wt.scale<1){var Ht=d.ensureUniformFontSize(z,H.outsidetextfont);Dt.call(h.font,Ht),Wt=B(Qt=h.bBox(Dt.node()),pt)}var oe=Wt.textPosAngle,ce=oe===void 0?pt.pxmid:Z(G.r,oe);if(Wt.targetX=wt+ce[0]*Wt.rCenter+(Wt.x||0),Wt.targetY=St+ce[1]*Wt.rCenter+(Wt.y||0),ft(Wt,Qt),Wt.outside){var pe=Wt.targetY;pt.yLabelMin=pe-Qt.height/2,pt.yLabelMid=pe,pt.yLabelMax=pe+Qt.height/2,pt.labelExtraX=0,pt.labelExtraY=0,Q=!0}Wt.fontSize=kt.size,y(H.type,Wt,it),nt[yt].transform=Wt,d.setTransormAndDisplay(Dt,Wt)})}function Lt(Dt,kt,Wt,Qt){var Ht=Qt*(kt[0]-Dt[0]),oe=Qt*(kt[1]-Dt[1]);return"a"+Qt*G.r+","+Qt*G.r+" 0 "+pt.largeArc+(Wt?" 1 ":" 0 ")+Ht+","+oe}});var ot=l.select(this).selectAll("g.titletext").data(H.title.text?[0]:[]);if(ot.enter().append("g").classed("titletext",!0),ot.exit().remove(),ot.each(function(){var pt,yt=d.ensureSingle(l.select(this),"text","",function(St){St.attr("data-notex",1)}),wt=H.title.text;H._meta&&(wt=d.templateString(wt,H._meta)),yt.text(wt).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(h.font,H.title.font).call(m.convertToTspans,z),pt=H.title.position==="middle center"?function(St){var Ut=Math.sqrt(St.titleBox.width*St.titleBox.width+St.titleBox.height*St.titleBox.height);return{x:St.cx,y:St.cy,scale:St.trace.hole*St.r*2/Ut,tx:0,ty:-St.titleBox.height/2+St.trace.title.font.size}}(G):j(G,lt),yt.attr("transform",g(pt.x,pt.y)+p(Math.min(1,pt.scale))+g(pt.tx,pt.ty))}),Q&&function(pt,yt){var wt,St,Ut,Gt,mt,Tt,At,Et,Mt,Nt,Ft,Lt,Dt;function kt(oe,ce){return oe.pxmid[1]-ce.pxmid[1]}function Wt(oe,ce){return ce.pxmid[1]-oe.pxmid[1]}function Qt(oe,ce){ce||(ce={});var pe,we,Le,jt,Rt=ce.labelExtraY+(St?ce.yLabelMax:ce.yLabelMin),te=St?oe.yLabelMin:oe.yLabelMax,ae=St?oe.yLabelMax:oe.yLabelMin,Se=oe.cyFinal+mt(oe.px0[1],oe.px1[1]),ne=Rt-te;if(ne*At>0&&(oe.labelExtraY=ne),Array.isArray(yt.pull))for(we=0;we<Nt.length;we++)(Le=Nt[we])===oe||(w.castOption(yt.pull,oe.pts)||0)>=(w.castOption(yt.pull,Le.pts)||0)||((oe.pxmid[1]-Le.pxmid[1])*At>0?(ne=Le.cyFinal+mt(Le.px0[1],Le.px1[1])-te-oe.labelExtraY)*At>0&&(oe.labelExtraY+=ne):(ae+oe.labelExtraY-Se)*At>0&&(pe=3*Tt*Math.abs(we-Nt.indexOf(oe)),(jt=Le.cxFinal+Gt(Le.px0[0],Le.px1[0])+pe-(oe.cxFinal+oe.pxmid[0])-oe.labelExtraX)*Tt>0&&(oe.labelExtraX+=jt)))}for(St=0;St<2;St++)for(Ut=St?kt:Wt,mt=St?Math.max:Math.min,At=St?1:-1,wt=0;wt<2;wt++){for(Gt=wt?Math.max:Math.min,Tt=wt?1:-1,(Et=pt[St][wt]).sort(Ut),Mt=pt[1-St][wt],Nt=Mt.concat(Et),Lt=[],Ft=0;Ft<Et.length;Ft++)Et[Ft].yLabelMid!==void 0&&Lt.push(Et[Ft]);for(Dt=!1,Ft=0;St&&Ft<Mt.length;Ft++)if(Mt[Ft].yLabelMid!==void 0){Dt=Mt[Ft];break}for(Ft=0;Ft<Lt.length;Ft++){var Ht=Ft&&Lt[Ft-1];Dt&&!Ft&&(Ht=Dt),Qt(Lt[Ft],Ht)}}}(J,H),function(pt,yt){pt.each(function(wt){var St=l.select(this);if(wt.labelExtraX||wt.labelExtraY){var Ut=St.select("g.slicetext text");wt.transform.targetX+=wt.labelExtraX,wt.transform.targetY+=wt.labelExtraY,d.setTransormAndDisplay(Ut,wt.transform);var Gt=wt.cxFinal+wt.pxmid[0],mt="M"+Gt+","+(wt.cyFinal+wt.pxmid[1]),Tt=(wt.yLabelMax-wt.yLabelMin)*(wt.pxmid[0]<0?-1:1)/4;if(wt.labelExtraX){var At=wt.labelExtraX*wt.pxmid[1]/wt.pxmid[0],Et=wt.yLabelMid+wt.labelExtraY-(wt.cyFinal+wt.pxmid[1]);Math.abs(At)>Math.abs(Et)?mt+="l"+Et*wt.pxmid[0]/wt.pxmid[1]+","+Et+"H"+(Gt+wt.labelExtraX+Tt):mt+="l"+wt.labelExtraX+","+At+"v"+(Et-At)+"h"+Tt}else mt+="V"+(wt.yLabelMid+wt.labelExtraY)+"h"+Tt;d.ensureSingle(St,"path","textline").call(c.stroke,yt.outsidetextfont.color).attr({"stroke-width":Math.min(2,yt.outsidetextfont.size/8),d:mt,fill:"none"})}else St.select("path.textline").remove()})}($,H),Q&&H.automargin){var st=h.bBox(V.node()),ht=H.domain,xt=lt.w*(ht.x[1]-ht.x[0]),Pt=lt.h*(ht.y[1]-ht.y[0]),It=(.5*xt-G.r)/lt.w,zt=(.5*Pt-G.r)/lt.h;f.autoMargin(z,"pie."+H.uid+".automargin",{xl:ht.x[0]-It,xr:ht.x[1]+It,yb:ht.y[0]-zt,yt:ht.y[1]+zt,l:Math.max(G.cx-G.r-st.left,0),r:Math.max(st.right-(G.cx+G.r),0),b:Math.max(st.bottom-(G.cy+G.r),0),t:Math.max(G.cy-G.r-st.top,0),pad:5})}})});setTimeout(function(){dt.selectAll("tspan").each(function(){var nt=l.select(this);nt.attr("dy")&&nt.attr("dy",nt.attr("dy"))})},0)},formatSliceLabel:rt,transformInsideText:O,determineInsideTextFont:T,positionTitleOutside:j,prerenderTitles:A,layoutAreas:U,attachFxHandlers:C,computeTransform:ft}},8357:function(a,s,o){var l=o(9898),f=o(3463),u=o(2597).resizeText;a.exports=function(c){var h=c._fullLayout._pielayer.selectAll(".trace");u(c,h,"pie"),h.each(function(d){var p=d[0].trace,g=l.select(this);g.style({opacity:p.opacity}),g.selectAll("path.surface").each(function(m){l.select(this).call(f,m,p,c)})})}},3463:function(a,s,o){var l=o(7901),f=o(3581).castOption,u=o(2209);a.exports=function(c,h,d,p){var g=d.marker.line,m=f(g.color,h.pts)||l.defaultLine,v=f(g.width,h.pts)||0;c.call(u,h,d,p).style("stroke-width",v).call(l.stroke,m)}},5225:function(a,s,o){var l=o(1828);a.exports=function(f,u){for(var c=0;c<f.length;c++)f[c].i=c;l.mergeArray(u.text,f,"tx"),l.mergeArray(u.texttemplate,f,"txt"),l.mergeArray(u.hovertext,f,"htx"),l.mergeArray(u.customdata,f,"data"),l.mergeArray(u.textposition,f,"tp"),u.textfont&&(l.mergeArrayCastPositive(u.textfont.size,f,"ts"),l.mergeArray(u.textfont.color,f,"tc"),l.mergeArray(u.textfont.family,f,"tf"));var h=u.marker;if(h){l.mergeArrayCastPositive(h.size,f,"ms"),l.mergeArrayCastPositive(h.opacity,f,"mo"),l.mergeArray(h.symbol,f,"mx"),l.mergeArray(h.angle,f,"ma"),l.mergeArray(h.standoff,f,"mf"),l.mergeArray(h.color,f,"mc");var d=h.line;h.line&&(l.mergeArray(d.color,f,"mlc"),l.mergeArrayCastPositive(d.width,f,"mlw"));var p=h.gradient;p&&p.type!=="none"&&(l.mergeArray(p.type,f,"mgt"),l.mergeArray(p.color,f,"mgc"))}}},2196:function(a,s,o){var l=o(2663).axisHoverFormat,f=o(5386).si,u=o(5386).fF,c=o(693),h=o(1940),d=o(9952).P,p=o(9952).u,g=o(1424),m=o(7581),v=o(1426).extendFlat;a.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:l("x"),yhoverformat:l("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:f({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:u({},{keys:m.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:v({},d,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:p,marker:v({symbol:{valType:"enumerated",values:g.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:v({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},c("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},c("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:h({editType:"calc",colorEditType:"style",arrayOk:!0})}},7761:function(a,s,o){var l=o(2770),f=o(1828),u=o(9298),c=o(2973),h=o(606).BADNUM,d=o(4098),p=o(6922),g=o(5225),m=o(6279);function v(E,S,C,T,A,O,P){var F=S._length,R=E._fullLayout,N=C._id,D=T._id,I=R._firstScatter[x(S)]===S.uid,B=(w(S,R,C,T)||{}).orientation,j=S.fill;C._minDtick=0,T._minDtick=0;var q={padded:!0},et={padded:!0};P&&(q.ppad=et.ppad=P);var U=F<2||A[0]!==A[F-1]||O[0]!==O[F-1];U&&(j==="tozerox"||j==="tonextx"&&(I||B==="h"))?q.tozero=!0:(S.error_y||{}).visible||j!=="tonexty"&&j!=="tozeroy"&&(d.hasMarkers(S)||d.hasText(S))||(q.padded=!1,q.ppad=0),U&&(j==="tozeroy"||j==="tonexty"&&(I||B==="v"))?et.tozero=!0:j!=="tonextx"&&j!=="tozerox"||(et.padded=!1),N&&(S._extremes[N]=u.findExtremes(C,A,q)),D&&(S._extremes[D]=u.findExtremes(T,O,et))}function y(E,S){if(d.hasMarkers(E)){var C,T=E.marker,A=1.6*(E.marker.sizeref||1);if(C=E.marker.sizemode==="area"?function(N){return Math.max(Math.sqrt((N||0)/A),3)}:function(N){return Math.max((N||0)/A,3)},f.isArrayOrTypedArray(T.size)){var O={type:"linear"};u.setConvert(O);for(var P=O.makeCalcdata(E.marker,"size"),F=new Array(S),R=0;R<S;R++)F[R]=C(P[R]);return F}return C(T.size)}}function _(E,S){var C=x(S),T=E._firstScatter;T[C]||(T[C]=S.uid)}function x(E){var S=E.stackgroup;return E.xaxis+E.yaxis+E.type+(S?"-"+S:"")}function w(E,S,C,T){var A=E.stackgroup;if(A){var O=S._scatterStackOpts[C._id+T._id][A],P=O.orientation==="v"?T:C;return P.type==="linear"||P.type==="log"?O:void 0}}a.exports={calc:function(E,S){var C,T,A,O,P,F,R=E._fullLayout,N=S._xA=u.getFromId(E,S.xaxis||"x","x"),D=S._yA=u.getFromId(E,S.yaxis||"y","y"),I=N.makeCalcdata(S,"x"),B=D.makeCalcdata(S,"y"),j=c(S,N,"x",I),q=c(S,D,"y",B),et=j.vals,U=q.vals,Z=S._length,rt=new Array(Z),ft=S.ids,z=w(S,R,N,D),W=!1;_(R,S);var X,it="x",lt="y";z?(f.pushUnique(z.traceIndices,S._expandedIndex),(C=z.orientation==="v")?(lt="s",X="x"):(it="s",X="y"),P=z.stackgaps==="interpolate"):v(E,S,N,D,et,U,y(S,Z));var dt=!!S.xperiodalignment,nt=!!S.yperiodalignment;for(T=0;T<Z;T++){var V=rt[T]={},G=l(et[T]),H=l(U[T]);G&&H?(V[it]=et[T],V[lt]=U[T],dt&&(V.orig_x=I[T],V.xEnd=j.ends[T],V.xStart=j.starts[T]),nt&&(V.orig_y=B[T],V.yEnd=q.ends[T],V.yStart=q.starts[T])):z&&(C?G:H)?(V[X]=C?et[T]:U[T],V.gap=!0,P?(V.s=h,W=!0):V.s=0):V[it]=V[lt]=h,ft&&(V.id=String(ft[T]))}if(g(rt,S),p(E,S),m(rt,S),z){for(T=0;T<rt.length;)rt[T][X]===h?rt.splice(T,1):T++;if(f.sort(rt,function(ot,st){return ot[X]-st[X]||ot.i-st.i}),W){for(T=0;T<rt.length-1&&rt[T].gap;)T++;for((F=rt[T].s)||(F=rt[T].s=0),A=0;A<T;A++)rt[A].s=F;for(O=rt.length-1;O>T&&rt[O].gap;)O--;for(F=rt[O].s,A=rt.length-1;A>O;A--)rt[A].s=F;for(;T<O;)if(rt[++T].gap){for(A=T+1;rt[A].gap;)A++;for(var $=rt[T-1][X],J=rt[T-1].s,Q=(rt[A].s-J)/(rt[A][X]-$);T<A;)rt[T].s=J+(rt[T][X]-$)*Q,T++}}}return rt},calcMarkerSize:y,calcAxisExpansion:v,setFirstScatter:_,getStackOpts:w}},6279:function(a,s,o){var l=o(1828);a.exports=function(f,u){l.isArrayOrTypedArray(u.selectedpoints)&&l.tagSelected(f,u)}},6922:function(a,s,o){var l=o(2869).hasColorscale,f=o(8803),u=o(4098);a.exports=function(c,h){u.hasLines(h)&&l(h,"line")&&f(c,h,{vals:h.line.color,containerStr:"line",cLetter:"c"}),u.hasMarkers(h)&&(l(h,"marker")&&f(c,h,{vals:h.marker.color,containerStr:"marker",cLetter:"c"}),l(h,"marker.line")&&f(c,h,{vals:h.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},7581:function(a){a.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},2626:function(a,s,o){var l=o(7761),f=o(1661).setGroupPositions;function u(c,h,d,p,g,m,v){g[p]=!0;var y={i:null,gap:!0,s:0};if(y[v]=d,c.splice(h,0,y),h&&d===c[h-1][v]){var _=c[h-1];y.s=_.s,y.i=_.i,y.gap=_.gap}else m&&(y.s=function(x,w,E,S){var C=x[w-1],T=x[w+1];return T?C?C.s+(T.s-C.s)*(E-C[S])/(T[S]-C[S]):T.s:C.s}(c,h,d,v));h||(c[0].t=c[1].t,c[0].trace=c[1].trace,delete c[1].t,delete c[1].trace)}a.exports=function(c,h){c._fullLayout.scattermode==="group"&&function(X,it){for(var lt=it.xaxis,dt=it.yaxis,nt=X._fullLayout,V=X._fullData,G=X.calcdata,H=[],$=[],J=0;J<V.length;J++){var Q=V[J];Q.visible===!0&&Q.type==="scatter"&&Q.xaxis===lt._id&&Q.yaxis===dt._id&&(Q.orientation==="h"?H.push(G[J]):Q.orientation==="v"&&$.push(G[J]))}var ot={mode:nt.scattermode,gap:nt.scattergap};f(X,lt,dt,$,ot),f(X,dt,lt,H,ot)}(c,h);var d=h.xaxis,p=h.yaxis,g=d._id+p._id,m=c._fullLayout._scatterStackOpts[g];if(m){var v,y,_,x,w,E,S,C,T,A,O,P,F,R,N,D=c.calcdata;for(var I in m){var B=(A=m[I]).traceIndices;if(B.length){for(O=A.stackgaps==="interpolate",P=A.groupnorm,A.orientation==="v"?(F="x",R="y"):(F="y",R="x"),N=new Array(B.length),v=0;v<N.length;v++)N[v]=!1;E=D[B[0]];var j=new Array(E.length);for(v=0;v<E.length;v++)j[v]=E[v][F];for(v=1;v<B.length;v++){for(w=D[B[v]],y=_=0;y<w.length;y++){for(S=w[y][F];S>j[_]&&_<j.length;_++)u(w,y,j[_],v,N,O,F),y++;if(S!==j[_]){for(x=0;x<v;x++)u(D[B[x]],_,S,x,N,O,F);j.splice(_,0,S)}_++}for(;_<j.length;_++)u(w,y,j[_],v,N,O,F),y++}var q=j.length;for(y=0;y<E.length;y++){for(C=E[y][R]=E[y].s,v=1;v<B.length;v++)(w=D[B[v]])[0].trace._rawLength=w[0].trace._length,w[0].trace._length=q,C+=w[y].s,w[y][R]=C;if(P)for(T=(P==="fraction"?C:C/100)||1,v=0;v<B.length;v++){var et=D[B[v]][y];et[R]/=T,et.sNorm=et.s/T}}for(v=0;v<B.length;v++){var U=(w=D[B[v]])[0].trace,Z=l.calcMarkerSize(U,U._rawLength),rt=Array.isArray(Z);if(Z&&N[v]||rt){var ft=Z;for(Z=new Array(q),y=0;y<q;y++)Z[y]=w[y].gap?0:rt?ft[w[y].i]:ft}var z=new Array(q),W=new Array(q);for(y=0;y<q;y++)z[y]=w[y].x,W[y]=w[y].y;l.calcAxisExpansion(c,U,d,p,z,W,Z),w[0].t.orientation=A.orientation}}}}}},462:function(a,s,o){var l=o(1828),f=o(6125),u=o(2196);a.exports=function(c,h){var d,p,g;function m(w){return l.coerce(p._input,p,u,w)}if(h.scattermode==="group")for(g=0;g<c.length;g++)(p=c[g]).type==="scatter"&&(d=p._input,f(d,p,h,m));for(g=0;g<c.length;g++){var v=c[g];if(v.type==="scatter"){var y=v.fill;if(y!=="none"&&y!=="toself"&&(v.opacity=void 0,y==="tonexty"||y==="tonextx"))for(var _=g-1;_>=0;_--){var x=c[_];if(x.type==="scatter"&&x.xaxis===v.xaxis&&x.yaxis===v.yaxis){x.opacity=void 0;break}}}}}},7438:function(a,s,o){var l=o(1828),f=o(3972),u=o(2196),c=o(7581),h=o(4098),d=o(7513),p=o(3927),g=o(565),m=o(9508),v=o(1058),y=o(4039),_=o(2410),x=o(8908),w=o(1828).coercePattern;a.exports=function(E,S,C,T){function A(B,j){return l.coerce(E,S,u,B,j)}var O=d(E,S,T,A);if(O||(S.visible=!1),S.visible){p(E,S,T,A),A("xhoverformat"),A("yhoverformat");var P=g(E,S,T,A);T.scattermode==="group"&&S.orientation===void 0&&A("orientation","v");var F=!P&&O<c.PTS_LINESONLY?"lines+markers":"lines";A("text"),A("hovertext"),A("mode",F),h.hasLines(S)&&(v(E,S,C,T,A,{backoff:!0}),y(E,S,A),A("connectgaps"),A("line.simplify")),h.hasMarkers(S)&&m(E,S,C,T,A,{gradient:!0}),h.hasText(S)&&(A("texttemplate"),_(E,S,T,A));var R=[];(h.hasMarkers(S)||h.hasText(S))&&(A("cliponaxis"),A("marker.maxdisplayed"),R.push("points")),A("fill",P?P.fillDflt:"none"),S.fill!=="none"&&(x(E,S,C,A),h.hasLines(S)||y(E,S,A),w(A,"fillpattern",S.fillcolor,!1));var N=(S.line||{}).color,D=(S.marker||{}).color;S.fill!=="tonext"&&S.fill!=="toself"||R.push("fills"),A("hoveron",R.join("+")||"points"),S.hoveron!=="fills"&&A("hovertemplate");var I=f.getComponentMethod("errorbars","supplyDefaults");I(E,S,N||D||C,{axis:"y"}),I(E,S,N||D||C,{axis:"x",inherit:"y"}),l.coerceSelectionMarkerOpacity(S,A)}}},8908:function(a,s,o){var l=o(7901),f=o(1828).isArrayOrTypedArray;a.exports=function(u,c,h,d){var p=!1;if(c.marker){var g=c.marker.color,m=(c.marker.line||{}).color;g&&!f(g)?p=g:m&&!f(m)&&(p=m)}d("fillcolor",l.addOpacity((c.line||{}).color||p||h,.5))}},8225:function(a,s,o){var l=o(9298);a.exports=function(f,u,c){var h={},d={_fullLayout:c},p=l.getFromTrace(d,u,"x"),g=l.getFromTrace(d,u,"y"),m=f.orig_x;m===void 0&&(m=f.x);var v=f.orig_y;return v===void 0&&(v=f.y),h.xLabel=l.tickText(p,p.c2l(m),!0).text,h.yLabel=l.tickText(g,g.c2l(v),!0).text,h}},4603:function(a,s,o){var l=o(7901),f=o(4098);a.exports=function(u,c){var h,d;if(u.mode==="lines")return(h=u.line.color)&&l.opacity(h)?h:u.fillcolor;if(u.mode==="none")return u.fill?u.fillcolor:"";var p=c.mcc||(u.marker||{}).color,g=c.mlcc||((u.marker||{}).line||{}).color;return(d=p&&l.opacity(p)?p:g&&l.opacity(g)&&(c.mlw||((u.marker||{}).line||{}).width)?g:"")?l.opacity(d)<.3?l.addOpacity(d,.3):d:(h=(u.line||{}).color)&&l.opacity(h)&&f.hasLines(u)&&u.line.width?h:u.fillcolor}},6125:function(a,s,o){var l=o(9082).getAxisGroup;a.exports=function(f,u,c,h){var d=u.orientation,p=u[{v:"x",h:"y"}[d]+"axis"],g=l(c,p)+d,m=c._alignmentOpts||{},v=h("alignmentgroup"),y=m[g];y||(y=m[g]={});var _=y[v];_?_.traces.push(u):_=y[v]={traces:[u],alignmentIndex:Object.keys(y).length,offsetGroups:{}};var x=h("offsetgroup"),w=_.offsetGroups,E=w[x];x&&(E||(E=w[x]={offsetIndex:Object.keys(w).length}),u._offsetIndex=E.offsetIndex)}},3720:function(a,s,o){var l=o(1828),f=o(211),u=o(3972),c=o(4603),h=o(7901),d=l.fillText;a.exports=function(p,g,m,v){var y=p.cd,_=y[0].trace,x=p.xa,w=p.ya,E=x.c2p(g),S=w.c2p(m),C=[E,S],T=_.hoveron||"",A=_.mode.indexOf("markers")!==-1?3:.5,O=!!_.xperiodalignment,P=!!_.yperiodalignment;if(T.indexOf("points")!==-1){var F=function(ht){var xt=Math.max(A,ht.mrc||0),Pt=x.c2p(ht.x)-E,It=w.c2p(ht.y)-S;return Math.max(Math.sqrt(Pt*Pt+It*It)-xt,1-A/xt)},R=f.getDistanceFunction(v,function(ht){if(O){var xt=x.c2p(ht.xStart),Pt=x.c2p(ht.xEnd);return E>=Math.min(xt,Pt)&&E<=Math.max(xt,Pt)?0:1/0}var It=Math.max(3,ht.mrc||0),zt=1-1/It,pt=Math.abs(x.c2p(ht.x)-E);return pt<It?zt*pt/It:pt-It+zt},function(ht){if(P){var xt=w.c2p(ht.yStart),Pt=w.c2p(ht.yEnd);return S>=Math.min(xt,Pt)&&S<=Math.max(xt,Pt)?0:1/0}var It=Math.max(3,ht.mrc||0),zt=1-1/It,pt=Math.abs(w.c2p(ht.y)-S);return pt<It?zt*pt/It:pt-It+zt},F);if(f.getClosest(y,R,p),p.index!==!1){var N=y[p.index],D=x.c2p(N.x,!0),I=w.c2p(N.y,!0),B=N.mrc||1;p.index=N.i;var j=y[0].t.orientation,q=j&&(N.sNorm||N.s),et=j==="h"?q:N.orig_x!==void 0?N.orig_x:N.x,U=j==="v"?q:N.orig_y!==void 0?N.orig_y:N.y;return l.extendFlat(p,{color:c(_,N),x0:D-B,x1:D+B,xLabelVal:et,y0:I-B,y1:I+B,yLabelVal:U,spikeDistance:F(N),hovertemplate:_.hovertemplate}),d(N,_,p),u.getComponentMethod("errorbars","hoverInfo")(N,_,p),[p]}}if(T.indexOf("fills")!==-1&&_._polygons){var Z,rt,ft,z,W,X,it,lt,dt,nt=_._polygons,V=[],G=!1,H=1/0,$=-1/0,J=1/0,Q=-1/0;for(Z=0;Z<nt.length;Z++)(ft=nt[Z]).contains(C)&&(G=!G,V.push(ft),J=Math.min(J,ft.ymin),Q=Math.max(Q,ft.ymax));if(G){var ot=((J=Math.max(J,0))+(Q=Math.min(Q,w._length)))/2;for(Z=0;Z<V.length;Z++)for(z=V[Z].pts,rt=1;rt<z.length;rt++)(lt=z[rt-1][1])>ot!=(dt=z[rt][1])>=ot&&(X=z[rt-1][0],it=z[rt][0],dt-lt&&(W=X+(it-X)*(ot-lt)/(dt-lt),H=Math.min(H,W),$=Math.max($,W)));H=Math.max(H,0),$=Math.min($,x._length);var st=h.defaultLine;return h.opacity(_.fillcolor)?st=_.fillcolor:h.opacity((_.line||{}).color)&&(st=_.line.color),l.extendFlat(p,{distance:p.maxHoverDistance,x0:H,x1:$,y0:ot,y1:ot,color:st,hovertemplate:!1}),delete p.index,_.text&&!Array.isArray(_.text)?p.text=String(_.text):p.text=_.name,[p]}}}},7368:function(a,s,o){var l=o(4098);a.exports={hasLines:l.hasLines,hasMarkers:l.hasMarkers,hasText:l.hasText,isBubble:l.isBubble,attributes:o(2196),layoutAttributes:o(1479),supplyDefaults:o(7438),crossTraceDefaults:o(462),supplyLayoutDefaults:o(9334),calc:o(7761).calc,crossTraceCalc:o(2626),arraysToCalcdata:o(5225),plot:o(7399),colorbar:o(4898),formatLabels:o(8225),style:o(6296).style,styleOnSelect:o(6296).styleOnSelect,hoverPoints:o(3720),selectPoints:o(8002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:o(3612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},1479:function(a){a.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},9334:function(a,s,o){var l=o(1828),f=o(1479);a.exports=function(u,c){var h,d=c.barmode==="group";c.scattermode==="group"&&(h=d?c.bargap:.2,l.coerce(u,c,f,"scattergap",h))}},1058:function(a,s,o){var l=o(1828).isArrayOrTypedArray,f=o(2869).hasColorscale,u=o(1586);a.exports=function(c,h,d,p,g,m){m||(m={});var v=(c.marker||{}).color;g("line.color",d),f(c,"line")?u(c,h,p,g,{prefix:"line.",cLetter:"c"}):g("line.color",!l(v)&&v||d),g("line.width"),m.noDash||g("line.dash"),m.backoff&&g("line.backoff")}},4621:function(a,s,o){var l=o(1424),f=o(606),u=f.BADNUM,c=f.LOG_CLIP,h=c+.5,d=c-.5,p=o(1828),g=p.segmentsIntersect,m=p.constrain,v=o(7581);a.exports=function(y,_){var x,w,E,S,C,T,A,O,P,F,R,N,D,I,B,j,q,et,U=_.trace||{},Z=_.xaxis,rt=_.yaxis,ft=Z.type==="log",z=rt.type==="log",W=Z._length,X=rt._length,it=_.backoff,lt=U.marker,dt=_.connectGaps,nt=_.baseTolerance,V=_.shape,G=V==="linear",H=U.fill&&U.fill!=="none",$=[],J=v.minTolerance,Q=y.length,ot=new Array(Q),st=0;function ht(ne){var ge=y[ne];if(!ge)return!1;var xe=_.linearized?Z.l2p(ge.x):Z.c2p(ge.x),Fe=_.linearized?rt.l2p(ge.y):rt.c2p(ge.y);if(xe===u){if(ft&&(xe=Z.c2p(ge.x,!0)),xe===u)return!1;z&&Fe===u&&(xe*=Math.abs(Z._m*X*(Z._m>0?h:d)/(rt._m*W*(rt._m>0?h:d)))),xe*=1e3}if(Fe===u){if(z&&(Fe=rt.c2p(ge.y,!0)),Fe===u)return!1;Fe*=1e3}return[xe,Fe]}function xt(ne,ge,xe,Fe){var Ae=xe-ne,$e=Fe-ge,Me=.5-ne,ct=.5-ge,gt=Ae*Ae+$e*$e,qt=Ae*Me+$e*ct;if(qt>0&&qt<gt){var Vt=Me*$e-ct*Ae;if(Vt*Vt<gt)return!0}}function Pt(ne,ge){var xe=ne[0]/W,Fe=ne[1]/X,Ae=Math.max(0,-xe,xe-1,-Fe,Fe-1);return Ae&&q!==void 0&&xt(xe,Fe,q,et)&&(Ae=0),Ae&&ge&&xt(xe,Fe,ge[0]/W,ge[1]/X)&&(Ae=0),(1+v.toleranceGrowth*Ae)*nt}function It(ne,ge){var xe=ne[0]-ge[0],Fe=ne[1]-ge[1];return Math.sqrt(xe*xe+Fe*Fe)}var zt,pt,yt,wt,St,Ut,Gt,mt=v.maxScreensAway,Tt=-W*mt,At=W*(1+mt),Et=-X*mt,Mt=X*(1+mt),Nt=[[Tt,Et,At,Et],[At,Et,At,Mt],[At,Mt,Tt,Mt],[Tt,Mt,Tt,Et]];function Ft(ne){if(ne[0]<Tt||ne[0]>At||ne[1]<Et||ne[1]>Mt)return[m(ne[0],Tt,At),m(ne[1],Et,Mt)]}function Lt(ne,ge){return ne[0]===ge[0]&&(ne[0]===Tt||ne[0]===At)||ne[1]===ge[1]&&(ne[1]===Et||ne[1]===Mt)||void 0}function Dt(ne,ge,xe){return function(Fe,Ae){var $e=Ft(Fe),Me=Ft(Ae),ct=[];if($e&&Me&&Lt($e,Me))return ct;$e&&ct.push($e),Me&&ct.push(Me);var gt=2*p.constrain((Fe[ne]+Ae[ne])/2,ge,xe)-(($e||Fe)[ne]+(Me||Ae)[ne]);return gt&&(($e&&Me?gt>0==$e[ne]>Me[ne]?$e:Me:$e||Me)[ne]+=gt),ct}}function kt(ne){var ge=ne[0],xe=ne[1],Fe=ge===ot[st-1][0],Ae=xe===ot[st-1][1];if(!Fe||!Ae)if(st>1){var $e=ge===ot[st-2][0],Me=xe===ot[st-2][1];Fe&&(ge===Tt||ge===At)&&$e?Me?st--:ot[st-1]=ne:Ae&&(xe===Et||xe===Mt)&&Me?$e?st--:ot[st-1]=ne:ot[st++]=ne}else ot[st++]=ne}function Wt(ne){ot[st-1][0]!==ne[0]&&ot[st-1][1]!==ne[1]&&kt([yt,wt]),kt(ne),St=null,yt=wt=0}V==="linear"||V==="spline"?Gt=function(ne,ge){for(var xe=[],Fe=0,Ae=0;Ae<4;Ae++){var $e=Nt[Ae],Me=g(ne[0],ne[1],ge[0],ge[1],$e[0],$e[1],$e[2],$e[3]);Me&&(!Fe||Math.abs(Me.x-xe[0][0])>1||Math.abs(Me.y-xe[0][1])>1)&&(Me=[Me.x,Me.y],Fe&&It(Me,ne)<It(xe[0],ne)?xe.unshift(Me):xe.push(Me),Fe++)}return xe}:V==="hv"||V==="vh"?Gt=function(ne,ge){var xe=[],Fe=Ft(ne),Ae=Ft(ge);return Fe&&Ae&&Lt(Fe,Ae)||(Fe&&xe.push(Fe),Ae&&xe.push(Ae)),xe}:V==="hvh"?Gt=Dt(0,Tt,At):V==="vhv"&&(Gt=Dt(1,Et,Mt));var Qt=p.isArrayOrTypedArray(lt);function Ht(ne){if(ne&&it&&(ne.i=x,ne.d=y,ne.trace=U,ne.marker=Qt?lt[ne.i]:lt,ne.backoff=it),q=ne[0]/W,et=ne[1]/X,zt=ne[0]<Tt?Tt:ne[0]>At?At:0,pt=ne[1]<Et?Et:ne[1]>Mt?Mt:0,zt||pt){if(st)if(St){var ge=Gt(St,ne);ge.length>1&&(Wt(ge[0]),ot[st++]=ge[1])}else Ut=Gt(ot[st-1],ne)[0],ot[st++]=Ut;else ot[st++]=[zt||ne[0],pt||ne[1]];var xe=ot[st-1];zt&&pt&&(xe[0]!==zt||xe[1]!==pt)?(St&&(yt!==zt&&wt!==pt?kt(yt&&wt?(Fe=St,$e=(Ae=ne)[0]-Fe[0],Me=(Ae[1]-Fe[1])/$e,(Fe[1]*Ae[0]-Ae[1]*Fe[0])/$e>0?[Me>0?Tt:At,Mt]:[Me>0?At:Tt,Et]):[yt||zt,wt||pt]):yt&&wt&&kt([yt,wt])),kt([zt,pt])):yt-zt&&wt-pt&&kt([zt||yt,pt||wt]),St=ne,yt=zt,wt=pt}else St&&Wt(Gt(St,ne)[0]),ot[st++]=ne;var Fe,Ae,$e,Me}for(x=0;x<Q;x++)if(w=ht(x)){for(st=0,St=null,Ht(w),x++;x<Q;x++){if(!(S=ht(x))){if(dt)continue;break}if(G&&_.simplify){var oe=ht(x+1);if(F=It(S,w),H&&(st===0||st===Q-1)||!(F<Pt(S,oe)*J)){for(O=[(S[0]-w[0])/F,(S[1]-w[1])/F],C=w,R=F,N=I=B=0,A=!1,E=S,x++;x<y.length;x++){if(T=oe,oe=ht(x+1),!T){if(dt)continue;break}if(j=(P=[T[0]-w[0],T[1]-w[1]])[0]*O[1]-P[1]*O[0],I=Math.min(I,j),(B=Math.max(B,j))-I>Pt(T,oe))break;E=T,(D=P[0]*O[0]+P[1]*O[1])>R?(R=D,S=T,A=!1):D<N&&(N=D,C=T,A=!0)}if(A?(Ht(S),E!==C&&Ht(C)):(C!==w&&Ht(C),E!==S&&Ht(S)),Ht(E),x>=y.length||!T)break;Ht(T),w=T}}else Ht(S)}St&&kt([yt||St[0],wt||St[1]]),$.push(ot.slice(0,st))}var ce=V.slice(V.length-1);if(it&&ce!=="h"&&ce!=="v"){for(var pe=!1,we=-1,Le=[],jt=0;jt<$.length;jt++)for(var Rt=0;Rt<$[jt].length-1;Rt++){var te=$[jt][Rt],ae=$[jt][Rt+1],Se=l.applyBackoff(ae,te);Se[0]===ae[0]&&Se[1]===ae[1]||(pe=!0),Le[we+1]||(Le[++we]=[te,[Se[0],Se[1]]])}return pe?Le:$}return $}},4039:function(a){a.exports=function(s,o,l){l("line.shape")==="spline"&&l("line.smoothing")}},8687:function(a){var s={tonextx:1,tonexty:1,tonext:1};a.exports=function(o,l,f){var u,c,h,d,p,g={},m=!1,v=-1,y=0,_=-1;for(c=0;c<f.length;c++)(h=(u=f[c][0].trace).stackgroup||"")?h in g?p=g[h]:(p=g[h]=y,y++):u.fill in s&&_>=0?p=_:(p=_=y,y++),p<v&&(m=!0),u._groupIndex=v=p;var x=f.slice();m&&x.sort(function(E,S){var C=E[0].trace,T=S[0].trace;return C._groupIndex-T._groupIndex||C.index-T.index});var w={};for(c=0;c<x.length;c++)h=(u=x[c][0].trace).stackgroup||"",u.visible===!0?(u._nexttrace=null,u.fill in s&&(d=w[h],u._prevtrace=d||null,d&&(d._nexttrace=u)),u._ownfill=u.fill&&(u.fill.substr(0,6)==="tozero"||u.fill==="toself"||u.fill.substr(0,2)==="to"&&!u._prevtrace),w[h]=u):u._prevtrace=u._nexttrace=u._ownfill=null;return x}},9984:function(a,s,o){var l=o(2770);a.exports=function(f,u){u||(u=2);var c=f.marker,h=c.sizeref||1,d=c.sizemin||0,p=c.sizemode==="area"?function(g){return Math.sqrt(g/h)}:function(g){return g/h};return function(g){var m=p(g/u);return l(m)&&m>0?Math.max(m,d):0}}},4898:function(a){a.exports={container:"marker",min:"cmin",max:"cmax"}},9508:function(a,s,o){var l=o(7901),f=o(2869).hasColorscale,u=o(1586),c=o(4098);a.exports=function(h,d,p,g,m,v){var y=c.isBubble(h),_=(h.line||{}).color;v=v||{},_&&(p=_),m("marker.symbol"),m("marker.opacity",y?.7:1),m("marker.size"),v.noAngle||(m("marker.angle"),v.noAngleRef||m("marker.angleref"),v.noStandOff||m("marker.standoff")),m("marker.color",p),f(h,"marker")&&u(h,d,g,m,{prefix:"marker.",cLetter:"c"}),v.noSelect||(m("selected.marker.color"),m("unselected.marker.color"),m("selected.marker.size"),m("unselected.marker.size")),v.noLine||(m("marker.line.color",_&&!Array.isArray(_)&&d.marker.color!==_?_:y?l.background:l.defaultLine),f(h,"marker.line")&&u(h,d,g,m,{prefix:"marker.line.",cLetter:"c"}),m("marker.line.width",y?1:0)),y&&(m("marker.sizeref"),m("marker.sizemin"),m("marker.sizemode")),v.gradient&&m("marker.gradient.type")!=="none"&&m("marker.gradient.color")}},3927:function(a,s,o){var l=o(1828).dateTick0,f=o(606).ONEWEEK;function u(c,h){return l(h,c%f==0?1:0)}a.exports=function(c,h,d,p,g){if(g||(g={x:!0,y:!0}),g.x){var m=p("xperiod");m&&(p("xperiod0",u(m,h.xcalendar)),p("xperiodalignment"))}if(g.y){var v=p("yperiod");v&&(p("yperiod0",u(v,h.ycalendar)),p("yperiodalignment"))}}},7399:function(a,s,o){var l=o(9898),f=o(3972),u=o(1828),c=u.ensureSingle,h=u.identity,d=o(1424),p=o(4098),g=o(4621),m=o(8687),v=o(1082).tester;function y(_,x,w,E,S,C,T){var A,O=_._context.staticPlot;(function(Gt,mt,Tt,At,Et){var Mt=Tt.xaxis,Nt=Tt.yaxis,Ft=l.extent(u.simpleMap(Mt.range,Mt.r2c)),Lt=l.extent(u.simpleMap(Nt.range,Nt.r2c)),Dt=At[0].trace;if(p.hasMarkers(Dt)){var kt=Dt.marker.maxdisplayed;if(kt!==0){var Wt=At.filter(function(ce){return ce.x>=Ft[0]&&ce.x<=Ft[1]&&ce.y>=Lt[0]&&ce.y<=Lt[1]}),Qt=Math.ceil(Wt.length/kt),Ht=0;Et.forEach(function(ce,pe){var we=ce[0].trace;p.hasMarkers(we)&&we.marker.maxdisplayed>0&&pe<mt&&Ht++});var oe=Math.round(Ht*Qt/3+Math.floor(Ht/3)*Qt/7.1);At.forEach(function(ce){delete ce.vis}),Wt.forEach(function(ce,pe){Math.round((pe+oe)%Qt)===0&&(ce.vis=!0)})}}})(0,x,w,E,S);var P=!!T&&T.duration>0;function F(Gt){return P?Gt.transition():Gt}var R=w.xaxis,N=w.yaxis,D=E[0].trace,I=D.line,B=l.select(C),j=c(B,"g","errorbars"),q=c(B,"g","lines"),et=c(B,"g","points"),U=c(B,"g","text");if(f.getComponentMethod("errorbars","plot")(_,j,w,T),D.visible===!0){var Z,rt;F(B).style("opacity",D.opacity);var ft=D.fill.charAt(D.fill.length-1);ft!=="x"&&ft!=="y"&&(ft=""),E[0][w.isRangePlot?"nodeRangePlot3":"node3"]=B;var z,W,X="",it=[],lt=D._prevtrace;lt&&(X=lt._prevRevpath||"",rt=lt._nextFill,it=lt._polygons);var dt,nt,V,G,H,$,J,Q="",ot="",st=[],ht=u.noop;if(Z=D._ownFill,p.hasLines(D)||D.fill!=="none"){for(rt&&rt.datum(E),["hv","vh","hvh","vhv"].indexOf(I.shape)!==-1?(dt=d.steps(I.shape),nt=d.steps(I.shape.split("").reverse().join(""))):dt=nt=I.shape==="spline"?function(Gt){var mt=Gt[Gt.length-1];return Gt.length>1&&Gt[0][0]===mt[0]&&Gt[0][1]===mt[1]?d.smoothclosed(Gt.slice(1),I.smoothing):d.smoothopen(Gt,I.smoothing)}:function(Gt){return"M"+Gt.join("L")},V=function(Gt){return nt(Gt.reverse())},st=g(E,{xaxis:R,yaxis:N,trace:D,connectGaps:D.connectgaps,baseTolerance:Math.max(I.width||1,3)/4,shape:I.shape,backoff:I.backoff,simplify:I.simplify,fill:D.fill}),J=D._polygons=new Array(st.length),A=0;A<st.length;A++)D._polygons[A]=v(st[A]);st.length&&(G=st[0][0],$=(H=st[st.length-1])[H.length-1]),ht=function(Gt){return function(mt){if(z=dt(mt),W=V(mt),Q?ft?(Q+="L"+z.substr(1),ot=W+"L"+ot.substr(1)):(Q+="Z"+z,ot=W+"Z"+ot):(Q=z,ot=W),p.hasLines(D)){var Tt=l.select(this);if(Tt.datum(E),Gt)F(Tt.style("opacity",0).attr("d",z).call(d.lineGroupStyle)).style("opacity",1);else{var At=F(Tt);At.attr("d",z),d.singleLineStyle(E,At)}}}}}var xt=q.selectAll(".js-line").data(st);F(xt.exit()).style("opacity",0).remove(),xt.each(ht(!1)),xt.enter().append("path").classed("js-line",!0).style("vector-effect",O?"none":"non-scaling-stroke").call(d.lineGroupStyle).each(ht(!0)),d.setClipUrl(xt,w.layerClipId,_),st.length?(Z?(Z.datum(E),G&&$&&(ft?(ft==="y"?G[1]=$[1]=N.c2p(0,!0):ft==="x"&&(G[0]=$[0]=R.c2p(0,!0)),F(Z).attr("d","M"+$+"L"+G+"L"+Q.substr(1)).call(d.singleFillStyle,_)):F(Z).attr("d",Q+"Z").call(d.singleFillStyle,_))):rt&&(D.fill.substr(0,6)==="tonext"&&Q&&X?(D.fill==="tonext"?F(rt).attr("d",Q+"Z"+X+"Z").call(d.singleFillStyle,_):F(rt).attr("d",Q+"L"+X.substr(1)+"Z").call(d.singleFillStyle,_),D._polygons=D._polygons.concat(it)):(It(rt),D._polygons=null)),D._prevRevpath=ot,D._prevPolygons=J):(Z?It(Z):rt&&It(rt),D._polygons=D._prevRevpath=D._prevPolygons=null),et.datum(E),U.datum(E),function(Gt,mt,Tt){var At,Et=Tt[0].trace,Mt=p.hasMarkers(Et),Nt=p.hasText(Et),Ft=St(Et),Lt=Ut,Dt=Ut;if(Mt||Nt){var kt=h,Wt=Et.stackgroup,Qt=Wt&&_._fullLayout._scatterStackOpts[R._id+N._id][Wt].stackgaps==="infer zero";Et.marker.maxdisplayed||Et._needsCull?kt=Qt?pt:zt:Wt&&!Qt&&(kt=yt),Mt&&(Lt=kt),Nt&&(Dt=kt)}var Ht,oe=(At=Gt.selectAll("path.point").data(Lt,Ft)).enter().append("path").classed("point",!0);P&&oe.call(d.pointStyle,Et,_).call(d.translatePoints,R,N).style("opacity",0).transition().style("opacity",1),At.order(),Mt&&(Ht=d.makePointStyleFns(Et)),At.each(function(ce){var pe=l.select(this),we=F(pe);d.translatePoint(ce,we,R,N)?(d.singlePointStyle(ce,we,Et,Ht,_),w.layerClipId&&d.hideOutsideRangePoint(ce,we,R,N,Et.xcalendar,Et.ycalendar),Et.customdata&&pe.classed("plotly-customdata",ce.data!==null&&ce.data!==void 0)):we.remove()}),P?At.exit().transition().style("opacity",0).remove():At.exit().remove(),(At=mt.selectAll("g").data(Dt,Ft)).enter().append("g").classed("textpoint",!0).append("text"),At.order(),At.each(function(ce){var pe=l.select(this),we=F(pe.select("text"));d.translatePoint(ce,we,R,N)?w.layerClipId&&d.hideOutsideRangePoint(ce,pe,R,N,Et.xcalendar,Et.ycalendar):pe.remove()}),At.selectAll("text").call(d.textPointStyle,Et,_).each(function(ce){var pe=R.c2p(ce.x),we=N.c2p(ce.y);l.select(this).selectAll("tspan.line").each(function(){F(l.select(this)).attr({x:pe,y:we})})}),At.exit().remove()}(et,U,E);var Pt=D.cliponaxis===!1?null:w.layerClipId;d.setClipUrl(et,Pt,_),d.setClipUrl(U,Pt,_)}function It(Gt){F(Gt).attr("d","M0,0Z")}function zt(Gt){return Gt.filter(function(mt){return!mt.gap&&mt.vis})}function pt(Gt){return Gt.filter(function(mt){return mt.vis})}function yt(Gt){return Gt.filter(function(mt){return!mt.gap})}function wt(Gt){return Gt.id}function St(Gt){if(Gt.ids)return wt}function Ut(){return!1}}a.exports=function(_,x,w,E,S,C){var T,A,O=!S,P=!!S&&S.duration>0,F=m(_,x,w);(T=E.selectAll("g.trace").data(F,function(R){return R[0].trace.uid})).enter().append("g").attr("class",function(R){return"trace scatter trace"+R[0].trace.uid}).style("stroke-miterlimit",2),T.order(),function(R,N,D){N.each(function(I){var B=c(l.select(this),"g","fills");d.setClipUrl(B,D.layerClipId,R);var j=I[0].trace,q=[];j._ownfill&&q.push("_ownFill"),j._nexttrace&&q.push("_nextFill");var et=B.selectAll("g").data(q,h);et.enter().append("g"),et.exit().each(function(U){j[U]=null}).remove(),et.order().each(function(U){j[U]=c(l.select(this),"path","js-fill")})})}(_,T,x),P?(C&&(A=C()),l.transition().duration(S.duration).ease(S.easing).each("end",function(){A&&A()}).each("interrupt",function(){A&&A()}).each(function(){E.selectAll("g.trace").each(function(R,N){y(_,N,x,R,F,this,S)})})):T.each(function(R,N){y(_,N,x,R,F,this,S)}),O&&T.exit().remove(),E.selectAll("path:not([d])").remove()}},8002:function(a,s,o){var l=o(4098);a.exports=function(f,u){var c,h,d,p,g=f.cd,m=f.xaxis,v=f.yaxis,y=[],_=g[0].trace;if(!l.hasMarkers(_)&&!l.hasText(_))return[];if(u===!1)for(c=0;c<g.length;c++)g[c].selected=0;else for(c=0;c<g.length;c++)h=g[c],d=m.c2p(h.x),p=v.c2p(h.y),h.i!==null&&u.contains([d,p],!1,c,f)?(y.push({pointNumber:h.i,x:m.c2d(h.x),y:v.c2d(h.y)}),h.selected=1):h.selected=0;return y}},565:function(a){var s=["orientation","groupnorm","stackgaps"];a.exports=function(o,l,f,u){var c=f._scatterStackOpts,h=u("stackgroup");if(h){var d=l.xaxis+l.yaxis,p=c[d];p||(p=c[d]={});var g=p[h],m=!1;g?g.traces.push(l):(g=p[h]={traceIndices:[],traces:[l]},m=!0);for(var v={orientation:l.x&&!l.y?"h":"v"},y=0;y<s.length;y++){var _=s[y],x=_+"Found";if(!g[x]){var w=o[_]!==void 0,E=_==="orientation";if((w||m)&&(g[_]=u(_,v[_]),E&&(g.fillDflt=g[_]==="h"?"tonextx":"tonexty"),w&&(g[x]=!0,!m&&(delete g.traces[0][_],E))))for(var S=0;S<g.traces.length-1;S++){var C=g.traces[S];C._input.fill!==C.fill&&(C.fill=g.fillDflt)}}}return g}}},6296:function(a,s,o){var l=o(9898),f=o(1424),u=o(3972);function c(d,p,g){f.pointStyle(d.selectAll("path.point"),p,g)}function h(d,p,g){f.textPointStyle(d.selectAll("text"),p,g)}a.exports={style:function(d){var p=l.select(d).selectAll("g.trace.scatter");p.style("opacity",function(g){return g[0].trace.opacity}),p.selectAll("g.points").each(function(g){c(l.select(this),g.trace||g[0].trace,d)}),p.selectAll("g.text").each(function(g){h(l.select(this),g.trace||g[0].trace,d)}),p.selectAll("g.trace path.js-line").call(f.lineGroupStyle),p.selectAll("g.trace path.js-fill").call(f.fillGroupStyle,d),u.getComponentMethod("errorbars","style")(p)},stylePoints:c,styleText:h,styleOnSelect:function(d,p,g){var m=p[0].trace;m.selectedpoints?(f.selectedPointStyle(g.selectAll("path.point"),m),f.selectedTextStyle(g.selectAll("text"),m)):(c(g,m,d),h(g,m,d))}}},4098:function(a,s,o){var l=o(1828);a.exports={hasLines:function(f){return f.visible&&f.mode&&f.mode.indexOf("lines")!==-1},hasMarkers:function(f){return f.visible&&(f.mode&&f.mode.indexOf("markers")!==-1||f.type==="splom")},hasText:function(f){return f.visible&&f.mode&&f.mode.indexOf("text")!==-1},isBubble:function(f){return l.isPlainObject(f.marker)&&l.isArrayOrTypedArray(f.marker.size)}}},2410:function(a,s,o){var l=o(1828);a.exports=function(f,u,c,h,d){d=d||{},h("textposition"),l.coerceFont(h,"textfont",d.font||c.font),d.noSelect||(h("selected.textfont.color"),h("unselected.textfont.color"))}},7513:function(a,s,o){var l=o(1828),f=o(3972);a.exports=function(u,c,h,d){var p,g=d("x"),m=d("y");if(f.getComponentMethod("calendars","handleTraceDefaults")(u,c,["x","y"],h),g){var v=l.minRowLength(g);m?p=Math.min(v,l.minRowLength(m)):(p=v,d("y0"),d("dy"))}else{if(!m)return 0;p=l.minRowLength(m),d("x0"),d("dx")}return c._length=p,p}},2887:function(a,s,o){var l=o(9298),f=o(1828),u=o(6281),c=o(9344).p,h=o(606).BADNUM;s.moduleType="transform",s.name="aggregate";var d=s.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},p=d.aggregations;function g(_,x,w,E){if(E.enabled){for(var S=E.target,C=f.nestedProperty(x,S),T=C.get(),A=function(F,R){var N=F.func,D=R.d2c,I=R.c2d;switch(N){case"count":return m;case"first":return v;case"last":return y;case"sum":return function(B,j){for(var q=0,et=0;et<j.length;et++){var U=D(B[j[et]]);U!==h&&(q+=U)}return I(q)};case"avg":return function(B,j){for(var q=0,et=0,U=0;U<j.length;U++){var Z=D(B[j[U]]);Z!==h&&(q+=Z,et++)}return et?I(q/et):h};case"min":return function(B,j){for(var q=1/0,et=0;et<j.length;et++){var U=D(B[j[et]]);U!==h&&(q=Math.min(q,U))}return q===1/0?h:I(q)};case"max":return function(B,j){for(var q=-1/0,et=0;et<j.length;et++){var U=D(B[j[et]]);U!==h&&(q=Math.max(q,U))}return q===-1/0?h:I(q)};case"range":return function(B,j){for(var q=1/0,et=-1/0,U=0;U<j.length;U++){var Z=D(B[j[U]]);Z!==h&&(q=Math.min(q,Z),et=Math.max(et,Z))}return et===-1/0||q===1/0?h:I(et-q)};case"change":return function(B,j){var q=D(B[j[0]]),et=D(B[j[j.length-1]]);return q===h||et===h?h:I(et-q)};case"median":return function(B,j){for(var q=[],et=0;et<j.length;et++){var U=D(B[j[et]]);U!==h&&q.push(U)}if(!q.length)return h;q.sort(f.sorterAsc);var Z=(q.length-1)/2;return I((q[Math.floor(Z)]+q[Math.ceil(Z)])/2)};case"mode":return function(B,j){for(var q={},et=0,U=h,Z=0;Z<j.length;Z++){var rt=D(B[j[Z]]);if(rt!==h){var ft=q[rt]=(q[rt]||0)+1;ft>et&&(et=ft,U=rt)}}return et?I(U):h};case"rms":return function(B,j){for(var q=0,et=0,U=0;U<j.length;U++){var Z=D(B[j[U]]);Z!==h&&(q+=Z*Z,et++)}return et?I(Math.sqrt(q/et)):h};case"stddev":return function(B,j){var q,et=0,U=0,Z=1,rt=h;for(q=0;q<j.length&&rt===h;q++)rt=D(B[j[q]]);if(rt===h)return h;for(;q<j.length;q++){var ft=D(B[j[q]]);if(ft!==h){var z=ft-rt;et+=z,U+=z*z,Z++}}var W=F.funcmode==="sample"?Z-1:Z;return W?Math.sqrt((U-et*et/Z)/W):0}}}(E,l.getDataConversions(_,x,S,T)),O=new Array(w.length),P=0;P<w.length;P++)O[P]=A(T,w[P]);C.set(O),E.func==="count"&&f.pushUnique(x._arrayAttrs,S)}}function m(_,x){return x.length}function v(_,x){return _[x[0]]}function y(_,x){return _[x[x.length-1]]}s.supplyDefaults=function(_,x){var w,E={};function S(I,B){return f.coerce(_,E,d,I,B)}if(!S("enabled"))return E;var C=u.findArrayAttributes(x),T={};for(w=0;w<C.length;w++)T[C[w]]=1;var A=S("groups");if(!Array.isArray(A)){if(!T[A])return E.enabled=!1,E;T[A]=0}var O,P=_.aggregations||[],F=E.aggregations=new Array(P.length);function R(I,B){return f.coerce(P[w],O,p,I,B)}for(w=0;w<P.length;w++){O={_index:w};var N=R("target"),D=R("func");R("enabled")&&N&&(T[N]||D==="count"&&T[N]===void 0)?(D==="stddev"&&R("funcmode"),T[N]=0,F[w]=O):F[w]={enabled:!1,_index:w}}for(w=0;w<C.length;w++)T[C[w]]&&F.push({target:C[w],func:p.func.dflt,enabled:!0,_index:-1});return E},s.calcTransform=function(_,x,w){if(w.enabled){var E=w.groups,S=f.getTargetArray(x,{target:E});if(S){var C,T,A,O,P={},F={},R=[],N=c(x.transforms,w),D=S.length;for(x._length&&(D=Math.min(D,x._length)),C=0;C<D;C++)(A=P[T=S[C]])===void 0?(P[T]=R.length,O=[C],R.push(O),F[P[T]]=N(C)):(R[A].push(C),F[P[T]]=(F[P[T]]||[]).concat(N(C)));w._indexToPoints=F;var I=w.aggregations;for(C=0;C<I.length;C++)g(_,x,R,I[C]);typeof E=="string"&&g(_,x,R,{target:E,func:"first",enabled:!0}),x._length=R.length}}}},4382:function(a,s,o){var l=o(1828),f=o(3972),u=o(9298),c=o(9344).p,h=o(4808),d=h.COMPARISON_OPS,p=h.INTERVAL_OPS,g=h.SET_OPS;s.moduleType="transform",s.name="filter",s.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(d).concat(p).concat(g),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},s.supplyDefaults=function(m){var v={};function y(w,E){return l.coerce(m,v,s.attributes,w,E)}if(y("enabled")){var _=y("target");if(l.isArrayOrTypedArray(_)&&_.length===0)return v.enabled=!1,v;y("preservegaps"),y("operation"),y("value");var x=f.getComponentMethod("calendars","handleDefaults");x(m,v,"valuecalendar",null),x(m,v,"targetcalendar",null)}return v},s.calcTransform=function(m,v,y){if(y.enabled){var _=l.getTargetArray(v,y);if(_){var x=y.target,w=_.length;v._length&&(w=Math.min(w,v._length));var E=y.targetcalendar,S=v._arrayAttrs,C=y.preservegaps;if(typeof x=="string"){var T=l.nestedProperty(v,x+"calendar").get();T&&(E=T)}var A,O,P=function(j,q,et){var U=j.operation,Z=j.value,rt=Array.isArray(Z);function ft(it){return it.indexOf(U)!==-1}var z,W=function(it){return q(it,0,j.valuecalendar)},X=function(it){return q(it,0,et)};switch(ft(d)?z=W(rt?Z[0]:Z):ft(p)?z=rt?[W(Z[0]),W(Z[1])]:[W(Z),W(Z)]:ft(g)&&(z=rt?Z.map(W):[W(Z)]),U){case"=":return function(it){return X(it)===z};case"!=":return function(it){return X(it)!==z};case"<":return function(it){return X(it)<z};case"<=":return function(it){return X(it)<=z};case">":return function(it){return X(it)>z};case">=":return function(it){return X(it)>=z};case"[]":return function(it){var lt=X(it);return lt>=z[0]&&lt<=z[1]};case"()":return function(it){var lt=X(it);return lt>z[0]&&lt<z[1]};case"[)":return function(it){var lt=X(it);return lt>=z[0]&&lt<z[1]};case"(]":return function(it){var lt=X(it);return lt>z[0]&&lt<=z[1]};case"][":return function(it){var lt=X(it);return lt<=z[0]||lt>=z[1]};case")(":return function(it){var lt=X(it);return lt<z[0]||lt>z[1]};case"](":return function(it){var lt=X(it);return lt<=z[0]||lt>z[1]};case")[":return function(it){var lt=X(it);return lt<z[0]||lt>=z[1]};case"{}":return function(it){return z.indexOf(X(it))!==-1};case"}{":return function(it){return z.indexOf(X(it))===-1}}}(y,u.getDataToCoordFunc(m,v,x,_),E),F={},R={},N=0;C?(A=function(j){F[j.astr]=l.extendDeep([],j.get()),j.set(new Array(w))},O=function(j,q){var et=F[j.astr][q];j.get()[q]=et}):(A=function(j){F[j.astr]=l.extendDeep([],j.get()),j.set([])},O=function(j,q){var et=F[j.astr][q];j.get().push(et)}),B(A);for(var D=c(v.transforms,y),I=0;I<w;I++)P(_[I])?(B(O,I),R[N++]=D(I)):C&&N++;y._indexToPoints=R,v._length=N}}function B(j,q){for(var et=0;et<S.length;et++)j(l.nestedProperty(v,S[et]),q)}}},3102:function(a,s,o){var l=o(1828),f=o(6281),u=o(4875),c=o(9344).p;function h(d,p){var g,m,v,y,_,x,w,E,S,C,T=p.transform,A=p.transformIndex,O=d.transforms[A].groups,P=c(d.transforms,T);if(!l.isArrayOrTypedArray(O)||O.length===0)return[d];var F=l.filterUnique(O),R=new Array(F.length),N=O.length,D=f.findArrayAttributes(d),I=T.styles||[],B={};for(g=0;g<I.length;g++)B[I[g].target]=I[g].value;T.styles&&(C=l.keyedContainer(T,"styles","target","value.name"));var j={},q={};for(g=0;g<F.length;g++){j[x=F[g]]=g,q[x]=0,(w=R[g]=l.extendDeepNoArrays({},d))._group=x,w.transforms[A]._indexToPoints={};var et=null;for(C&&(et=C.get(x)),w.name=et||et===""?et:l.templateString(T.nameformat,{trace:d.name,group:x}),E=w.transforms,w.transforms=[],m=0;m<E.length;m++)w.transforms[m]=l.extendDeepNoArrays({},E[m]);for(m=0;m<D.length;m++)l.nestedProperty(w,D[m]).set([])}for(v=0;v<D.length;v++){for(y=D[v],m=0,S=[];m<F.length;m++)S[m]=l.nestedProperty(R[m],y).get();for(_=l.nestedProperty(d,y).get(),m=0;m<N;m++)S[j[O[m]]].push(_[m])}for(m=0;m<N;m++)(w=R[j[O[m]]]).transforms[A]._indexToPoints[q[O[m]]]=P(m),q[O[m]]++;for(g=0;g<F.length;g++)x=F[g],w=R[g],u.clearExpandedTraceDefaultColors(w),w=l.extendDeepNoArrays(w,B[x]||{});return R}s.moduleType="transform",s.name="groupby",s.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},s.supplyDefaults=function(d,p,g){var m,v={};function y(S,C){return l.coerce(d,v,s.attributes,S,C)}if(!y("enabled"))return v;y("groups"),y("nameformat",g._dataLength>1?"%{group} (%{trace})":"%{group}");var _=d.styles,x=v.styles=[];if(_)for(m=0;m<_.length;m++){var w=x[m]={};l.coerce(_[m],x[m],s.attributes.styles,"target");var E=l.coerce(_[m],x[m],s.attributes.styles,"value");l.isPlainObject(E)?w.value=l.extendDeep({},E):E&&delete w.value}return v},s.transform=function(d,p){var g,m,v,y=[];for(m=0;m<d.length;m++)for(g=h(d[m],p),v=0;v<g.length;v++)y.push(g[v]);return y}},9344:function(a,s){s.p=function(o,l){for(var f,u,c=0;c<o.length&&(f=o[c])!==l;c++)f._indexToPoints&&f.enabled!==!1&&(u=f._indexToPoints);var h=u?function(d){return u[d]}:function(d){return[d]};return h}},2275:function(a,s,o){var l=o(1828),f=o(9298),u=o(9344).p,c=o(606).BADNUM;s.moduleType="transform",s.name="sort",s.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},s.supplyDefaults=function(h){var d={};function p(g,m){return l.coerce(h,d,s.attributes,g,m)}return p("enabled")&&(p("target"),p("order")),d},s.calcTransform=function(h,d,p){if(p.enabled){var g=l.getTargetArray(d,p);if(g){var m=p.target,v=g.length;d._length&&(v=Math.min(v,d._length));var y,_,x=d._arrayAttrs,w=function(O,P,F,R){var N,D=new Array(R),I=new Array(R);for(N=0;N<R;N++)D[N]={v:P[N],i:N};for(D.sort(function(B,j){switch(B.order){case"ascending":return function(q,et){var U=j(q.v),Z=j(et.v);return U===c?1:Z===c?-1:U-Z};case"descending":return function(q,et){var U=j(q.v),Z=j(et.v);return U===c?1:Z===c?-1:Z-U}}}(O,F)),N=0;N<R;N++)I[N]=D[N].i;return I}(p,g,f.getDataToCoordFunc(h,d,m,g),v),E=u(d.transforms,p),S={};for(y=0;y<x.length;y++){var C=l.nestedProperty(d,x[y]),T=C.get(),A=new Array(v);for(_=0;_<v;_++)A[_]=T[w[_]];C.set(A)}for(_=0;_<v;_++)S[_]=E(w[_]);p._indexToPoints=S,d._length=v}}}},1506:function(a,s){s.version="2.27.0"},5791:function(a){a.exports=f,a.exports.isMobile=f,a.exports.default=f;var s=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,o=/CrOS/,l=/android|ipad|playbook|silk/i;function f(u){u||(u={});var c=u.ua;if(c||typeof navigator>"u"||(c=navigator.userAgent),c&&c.headers&&typeof c.headers["user-agent"]=="string"&&(c=c.headers["user-agent"]),typeof c!="string")return!1;var h=s.test(c)&&!o.test(c)||!!u.tablet&&l.test(c);return!h&&u.tablet&&u.featureDetect&&navigator&&navigator.maxTouchPoints>1&&c.indexOf("Macintosh")!==-1&&c.indexOf("Safari")!==-1&&(h=!0),h}},9898:function(a,s,o){var l,f;(function(){var u={version:"3.8.0"},c=[].slice,h=function(M){return c.call(M)},d=self.document;function p(M){return M&&(M.ownerDocument||M.document||M).documentElement}function g(M){return M&&(M.ownerDocument&&M.ownerDocument.defaultView||M.document&&M||M.defaultView)}if(d)try{h(d.documentElement.childNodes)[0].nodeType}catch{h=function(k){for(var Y=k.length,tt=new Array(Y);Y--;)tt[Y]=k[Y];return tt}}if(Date.now||(Date.now=function(){return+new Date}),d)try{d.createElement("DIV").style.setProperty("opacity",0,"")}catch{var m=this.Element.prototype,v=m.setAttribute,y=m.setAttributeNS,_=this.CSSStyleDeclaration.prototype,x=_.setProperty;m.setAttribute=function(k,Y){v.call(this,k,Y+"")},m.setAttributeNS=function(k,Y,tt){y.call(this,k,Y,tt+"")},_.setProperty=function(k,Y,tt){x.call(this,k,Y+"",tt)}}function w(M,k){return M<k?-1:M>k?1:M>=k?0:NaN}function E(M){return M===null?NaN:+M}function S(M){return!isNaN(M)}function C(M){return{left:function(k,Y,tt,at){for(arguments.length<3&&(tt=0),arguments.length<4&&(at=k.length);tt<at;){var ut=tt+at>>>1;M(k[ut],Y)<0?tt=ut+1:at=ut}return tt},right:function(k,Y,tt,at){for(arguments.length<3&&(tt=0),arguments.length<4&&(at=k.length);tt<at;){var ut=tt+at>>>1;M(k[ut],Y)>0?at=ut:tt=ut+1}return tt}}}u.ascending=w,u.descending=function(M,k){return k<M?-1:k>M?1:k>=M?0:NaN},u.min=function(M,k){var Y,tt,at=-1,ut=M.length;if(arguments.length===1){for(;++at<ut;)if((tt=M[at])!=null&&tt>=tt){Y=tt;break}for(;++at<ut;)(tt=M[at])!=null&&Y>tt&&(Y=tt)}else{for(;++at<ut;)if((tt=k.call(M,M[at],at))!=null&&tt>=tt){Y=tt;break}for(;++at<ut;)(tt=k.call(M,M[at],at))!=null&&Y>tt&&(Y=tt)}return Y},u.max=function(M,k){var Y,tt,at=-1,ut=M.length;if(arguments.length===1){for(;++at<ut;)if((tt=M[at])!=null&&tt>=tt){Y=tt;break}for(;++at<ut;)(tt=M[at])!=null&&tt>Y&&(Y=tt)}else{for(;++at<ut;)if((tt=k.call(M,M[at],at))!=null&&tt>=tt){Y=tt;break}for(;++at<ut;)(tt=k.call(M,M[at],at))!=null&&tt>Y&&(Y=tt)}return Y},u.extent=function(M,k){var Y,tt,at,ut=-1,vt=M.length;if(arguments.length===1){for(;++ut<vt;)if((tt=M[ut])!=null&&tt>=tt){Y=at=tt;break}for(;++ut<vt;)(tt=M[ut])!=null&&(Y>tt&&(Y=tt),at<tt&&(at=tt))}else{for(;++ut<vt;)if((tt=k.call(M,M[ut],ut))!=null&&tt>=tt){Y=at=tt;break}for(;++ut<vt;)(tt=k.call(M,M[ut],ut))!=null&&(Y>tt&&(Y=tt),at<tt&&(at=tt))}return[Y,at]},u.sum=function(M,k){var Y,tt=0,at=M.length,ut=-1;if(arguments.length===1)for(;++ut<at;)S(Y=+M[ut])&&(tt+=Y);else for(;++ut<at;)S(Y=+k.call(M,M[ut],ut))&&(tt+=Y);return tt},u.mean=function(M,k){var Y,tt=0,at=M.length,ut=-1,vt=at;if(arguments.length===1)for(;++ut<at;)S(Y=E(M[ut]))?tt+=Y:--vt;else for(;++ut<at;)S(Y=E(k.call(M,M[ut],ut)))?tt+=Y:--vt;if(vt)return tt/vt},u.quantile=function(M,k){var Y=(M.length-1)*k+1,tt=Math.floor(Y),at=+M[tt-1],ut=Y-tt;return ut?at+ut*(M[tt]-at):at},u.median=function(M,k){var Y,tt=[],at=M.length,ut=-1;if(arguments.length===1)for(;++ut<at;)S(Y=E(M[ut]))&&tt.push(Y);else for(;++ut<at;)S(Y=E(k.call(M,M[ut],ut)))&&tt.push(Y);if(tt.length)return u.quantile(tt.sort(w),.5)},u.variance=function(M,k){var Y,tt,at=M.length,ut=0,vt=0,bt=-1,Ct=0;if(arguments.length===1)for(;++bt<at;)S(Y=E(M[bt]))&&(vt+=(tt=Y-ut)*(Y-(ut+=tt/++Ct)));else for(;++bt<at;)S(Y=E(k.call(M,M[bt],bt)))&&(vt+=(tt=Y-ut)*(Y-(ut+=tt/++Ct)));if(Ct>1)return vt/(Ct-1)},u.deviation=function(){var M=u.variance.apply(this,arguments);return M&&Math.sqrt(M)};var T=C(w);function A(M){return M.length}u.bisectLeft=T.left,u.bisect=u.bisectRight=T.right,u.bisector=function(M){return C(M.length===1?function(k,Y){return w(M(k),Y)}:M)},u.shuffle=function(M,k,Y){(ut=arguments.length)<3&&(Y=M.length,ut<2&&(k=0));for(var tt,at,ut=Y-k;ut;)at=Math.random()*ut--|0,tt=M[ut+k],M[ut+k]=M[at+k],M[at+k]=tt;return M},u.permute=function(M,k){for(var Y=k.length,tt=new Array(Y);Y--;)tt[Y]=M[k[Y]];return tt},u.pairs=function(M){for(var k=0,Y=M.length-1,tt=M[0],at=new Array(Y<0?0:Y);k<Y;)at[k]=[tt,tt=M[++k]];return at},u.transpose=function(M){if(!(at=M.length))return[];for(var k=-1,Y=u.min(M,A),tt=new Array(Y);++k<Y;)for(var at,ut=-1,vt=tt[k]=new Array(at);++ut<at;)vt[ut]=M[ut][k];return tt},u.zip=function(){return u.transpose(arguments)},u.keys=function(M){var k=[];for(var Y in M)k.push(Y);return k},u.values=function(M){var k=[];for(var Y in M)k.push(M[Y]);return k},u.entries=function(M){var k=[];for(var Y in M)k.push({key:Y,value:M[Y]});return k},u.merge=function(M){for(var k,Y,tt,at=M.length,ut=-1,vt=0;++ut<at;)vt+=M[ut].length;for(Y=new Array(vt);--at>=0;)for(k=(tt=M[at]).length;--k>=0;)Y[--vt]=tt[k];return Y};var O=Math.abs;function P(M,k){for(var Y in k)Object.defineProperty(M.prototype,Y,{value:k[Y],enumerable:!1})}function F(){this._=Object.create(null)}u.range=function(M,k,Y){if(arguments.length<3&&(Y=1,arguments.length<2&&(k=M,M=0)),(k-M)/Y==1/0)throw new Error("infinite range");var tt,at=[],ut=function(bt){for(var Ct=1;bt*Ct%1;)Ct*=10;return Ct}(O(Y)),vt=-1;if(M*=ut,k*=ut,(Y*=ut)<0)for(;(tt=M+Y*++vt)>k;)at.push(tt/ut);else for(;(tt=M+Y*++vt)<k;)at.push(tt/ut);return at},u.map=function(M,k){var Y=new F;if(M instanceof F)M.forEach(function(bt,Ct){Y.set(bt,Ct)});else if(Array.isArray(M)){var tt,at=-1,ut=M.length;if(arguments.length===1)for(;++at<ut;)Y.set(at,M[at]);else for(;++at<ut;)Y.set(k.call(M,tt=M[at],at),tt)}else for(var vt in M)Y.set(vt,M[vt]);return Y};var R="__proto__",N="\0";function D(M){return(M+="")===R||M[0]===N?N+M:M}function I(M){return(M+="")[0]===N?M.slice(1):M}function B(M){return D(M)in this._}function j(M){return(M=D(M))in this._&&delete this._[M]}function q(){var M=[];for(var k in this._)M.push(I(k));return M}function et(){var M=0;for(var k in this._)++M;return M}function U(){for(var M in this._)return!1;return!0}function Z(){this._=Object.create(null)}function rt(M){return M}function ft(M,k,Y){return function(){var tt=Y.apply(k,arguments);return tt===k?M:tt}}function z(M,k){if(k in M)return k;k=k.charAt(0).toUpperCase()+k.slice(1);for(var Y=0,tt=W.length;Y<tt;++Y){var at=W[Y]+k;if(at in M)return at}}P(F,{has:B,get:function(M){return this._[D(M)]},set:function(M,k){return this._[D(M)]=k},remove:j,keys:q,values:function(){var M=[];for(var k in this._)M.push(this._[k]);return M},entries:function(){var M=[];for(var k in this._)M.push({key:I(k),value:this._[k]});return M},size:et,empty:U,forEach:function(M){for(var k in this._)M.call(this,I(k),this._[k])}}),u.nest=function(){var M,k,Y={},tt=[],at=[];function ut(bt,Ct,Ot){if(Ot>=tt.length)return k?k.call(Y,Ct):M?Ct.sort(M):Ct;for(var Yt,Kt,ie,me,Ce=-1,de=Ct.length,Te=tt[Ot++],le=new F;++Ce<de;)(me=le.get(Yt=Te(Kt=Ct[Ce])))?me.push(Kt):le.set(Yt,[Kt]);return bt?(Kt=bt(),ie=function(Ne,Ee){Kt.set(Ne,ut(bt,Ee,Ot))}):(Kt={},ie=function(Ne,Ee){Kt[Ne]=ut(bt,Ee,Ot)}),le.forEach(ie),Kt}function vt(bt,Ct){if(Ct>=tt.length)return bt;var Ot=[],Yt=at[Ct++];return bt.forEach(function(Kt,ie){Ot.push({key:Kt,values:vt(ie,Ct)})}),Yt?Ot.sort(function(Kt,ie){return Yt(Kt.key,ie.key)}):Ot}return Y.map=function(bt,Ct){return ut(Ct,bt,0)},Y.entries=function(bt){return vt(ut(u.map,bt,0),0)},Y.key=function(bt){return tt.push(bt),Y},Y.sortKeys=function(bt){return at[tt.length-1]=bt,Y},Y.sortValues=function(bt){return M=bt,Y},Y.rollup=function(bt){return k=bt,Y},Y},u.set=function(M){var k=new Z;if(M)for(var Y=0,tt=M.length;Y<tt;++Y)k.add(M[Y]);return k},P(Z,{has:B,add:function(M){return this._[D(M+="")]=!0,M},remove:j,values:q,size:et,empty:U,forEach:function(M){for(var k in this._)M.call(this,I(k))}}),u.behavior={},u.rebind=function(M,k){for(var Y,tt=1,at=arguments.length;++tt<at;)M[Y=arguments[tt]]=ft(M,k,k[Y]);return M};var W=["webkit","ms","moz","Moz","o","O"];function X(){}function it(){}function lt(M){var k=[],Y=new F;function tt(){for(var at,ut=k,vt=-1,bt=ut.length;++vt<bt;)(at=ut[vt].on)&&at.apply(this,arguments);return M}return tt.on=function(at,ut){var vt,bt=Y.get(at);return arguments.length<2?bt&&bt.on:(bt&&(bt.on=null,k=k.slice(0,vt=k.indexOf(bt)).concat(k.slice(vt+1)),Y.remove(at)),ut&&k.push(Y.set(at,{on:ut})),M)},tt}function dt(){u.event.preventDefault()}function nt(){for(var M,k=u.event;M=k.sourceEvent;)k=M;return k}function V(M){for(var k=new it,Y=0,tt=arguments.length;++Y<tt;)k[arguments[Y]]=lt(k);return k.of=function(at,ut){return function(vt){try{var bt=vt.sourceEvent=u.event;vt.target=M,u.event=vt,k[vt.type].apply(at,ut)}finally{u.event=bt}}},k}u.dispatch=function(){for(var M=new it,k=-1,Y=arguments.length;++k<Y;)M[arguments[k]]=lt(M);return M},it.prototype.on=function(M,k){var Y=M.indexOf("."),tt="";if(Y>=0&&(tt=M.slice(Y+1),M=M.slice(0,Y)),M)return arguments.length<2?this[M].on(tt):this[M].on(tt,k);if(arguments.length===2){if(k==null)for(M in this)this.hasOwnProperty(M)&&this[M].on(tt,null);return this}},u.event=null,u.requote=function(M){return M.replace(G,"\\$&")};var G=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,H={}.__proto__?function(M,k){M.__proto__=k}:function(M,k){for(var Y in k)M[Y]=k[Y]};function $(M){return H(M,st),M}var J=function(M,k){return k.querySelector(M)},Q=function(M,k){return k.querySelectorAll(M)},ot=function(M,k){var Y=M.matches||M[z(M,"matchesSelector")];return ot=function(tt,at){return Y.call(tt,at)},ot(M,k)};typeof Sizzle=="function"&&(J=function(M,k){return Sizzle(M,k)[0]||null},Q=Sizzle,ot=Sizzle.matchesSelector),u.selection=function(){return u.select(d.documentElement)};var st=u.selection.prototype=[];function ht(M){return typeof M=="function"?M:function(){return J(M,this)}}function xt(M){return typeof M=="function"?M:function(){return Q(M,this)}}st.select=function(M){var k,Y,tt,at,ut=[];M=ht(M);for(var vt=-1,bt=this.length;++vt<bt;){ut.push(k=[]),k.parentNode=(tt=this[vt]).parentNode;for(var Ct=-1,Ot=tt.length;++Ct<Ot;)(at=tt[Ct])?(k.push(Y=M.call(at,at.__data__,Ct,vt)),Y&&"__data__"in at&&(Y.__data__=at.__data__)):k.push(null)}return $(ut)},st.selectAll=function(M){var k,Y,tt=[];M=xt(M);for(var at=-1,ut=this.length;++at<ut;)for(var vt=this[at],bt=-1,Ct=vt.length;++bt<Ct;)(Y=vt[bt])&&(tt.push(k=h(M.call(Y,Y.__data__,bt,at))),k.parentNode=Y);return $(tt)};var Pt="http://www.w3.org/1999/xhtml",It={svg:"http://www.w3.org/2000/svg",xhtml:Pt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function zt(M,k){return M=u.ns.qualify(M),k==null?M.local?function(){this.removeAttributeNS(M.space,M.local)}:function(){this.removeAttribute(M)}:typeof k=="function"?M.local?function(){var Y=k.apply(this,arguments);Y==null?this.removeAttributeNS(M.space,M.local):this.setAttributeNS(M.space,M.local,Y)}:function(){var Y=k.apply(this,arguments);Y==null?this.removeAttribute(M):this.setAttribute(M,Y)}:M.local?function(){this.setAttributeNS(M.space,M.local,k)}:function(){this.setAttribute(M,k)}}function pt(M){return M.trim().replace(/\s+/g," ")}function yt(M){return new RegExp("(?:^|\\s+)"+u.requote(M)+"(?:\\s+|$)","g")}function wt(M){return(M+"").trim().split(/^|\s+/)}function St(M,k){var Y=(M=wt(M).map(Ut)).length;return typeof k=="function"?function(){for(var tt=-1,at=k.apply(this,arguments);++tt<Y;)M[tt](this,at)}:function(){for(var tt=-1;++tt<Y;)M[tt](this,k)}}function Ut(M){var k=yt(M);return function(Y,tt){if(at=Y.classList)return tt?at.add(M):at.remove(M);var at=Y.getAttribute("class")||"";tt?(k.lastIndex=0,k.test(at)||Y.setAttribute("class",pt(at+" "+M))):Y.setAttribute("class",pt(at.replace(k," ")))}}function Gt(M,k,Y){return k==null?function(){this.style.removeProperty(M)}:typeof k=="function"?function(){var tt=k.apply(this,arguments);tt==null?this.style.removeProperty(M):this.style.setProperty(M,tt,Y)}:function(){this.style.setProperty(M,k,Y)}}function mt(M,k){return k==null?function(){delete this[M]}:typeof k=="function"?function(){var Y=k.apply(this,arguments);Y==null?delete this[M]:this[M]=Y}:function(){this[M]=k}}function Tt(M){return typeof M=="function"?M:(M=u.ns.qualify(M)).local?function(){return this.ownerDocument.createElementNS(M.space,M.local)}:function(){var k=this.ownerDocument,Y=this.namespaceURI;return Y===Pt&&k.documentElement.namespaceURI===Pt?k.createElement(M):k.createElementNS(Y,M)}}function At(){var M=this.parentNode;M&&M.removeChild(this)}function Et(M){return{__data__:M}}function Mt(M){return function(){return ot(this,M)}}function Nt(M){return arguments.length||(M=w),function(k,Y){return k&&Y?M(k.__data__,Y.__data__):!k-!Y}}function Ft(M,k){for(var Y=0,tt=M.length;Y<tt;Y++)for(var at,ut=M[Y],vt=0,bt=ut.length;vt<bt;vt++)(at=ut[vt])&&k(at,vt,Y);return M}function Lt(M){return H(M,Dt),M}u.ns={prefix:It,qualify:function(M){var k=M.indexOf(":"),Y=M;return k>=0&&(Y=M.slice(0,k))!=="xmlns"&&(M=M.slice(k+1)),It.hasOwnProperty(Y)?{space:It[Y],local:M}:M}},st.attr=function(M,k){if(arguments.length<2){if(typeof M=="string"){var Y=this.node();return(M=u.ns.qualify(M)).local?Y.getAttributeNS(M.space,M.local):Y.getAttribute(M)}for(k in M)this.each(zt(k,M[k]));return this}return this.each(zt(M,k))},st.classed=function(M,k){if(arguments.length<2){if(typeof M=="string"){var Y=this.node(),tt=(M=wt(M)).length,at=-1;if(k=Y.classList){for(;++at<tt;)if(!k.contains(M[at]))return!1}else for(k=Y.getAttribute("class");++at<tt;)if(!yt(M[at]).test(k))return!1;return!0}for(k in M)this.each(St(k,M[k]));return this}return this.each(St(M,k))},st.style=function(M,k,Y){var tt=arguments.length;if(tt<3){if(typeof M!="string"){for(Y in tt<2&&(k=""),M)this.each(Gt(Y,M[Y],k));return this}if(tt<2){var at=this.node();return g(at).getComputedStyle(at,null).getPropertyValue(M)}Y=""}return this.each(Gt(M,k,Y))},st.property=function(M,k){if(arguments.length<2){if(typeof M=="string")return this.node()[M];for(k in M)this.each(mt(k,M[k]));return this}return this.each(mt(M,k))},st.text=function(M){return arguments.length?this.each(typeof M=="function"?function(){var k=M.apply(this,arguments);this.textContent=k??""}:M==null?function(){this.textContent=""}:function(){this.textContent=M}):this.node().textContent},st.html=function(M){return arguments.length?this.each(typeof M=="function"?function(){var k=M.apply(this,arguments);this.innerHTML=k??""}:M==null?function(){this.innerHTML=""}:function(){this.innerHTML=M}):this.node().innerHTML},st.append=function(M){return M=Tt(M),this.select(function(){return this.appendChild(M.apply(this,arguments))})},st.insert=function(M,k){return M=Tt(M),k=ht(k),this.select(function(){return this.insertBefore(M.apply(this,arguments),k.apply(this,arguments)||null)})},st.remove=function(){return this.each(At)},st.data=function(M,k){var Y,tt,at=-1,ut=this.length;if(!arguments.length){for(M=new Array(ut=(Y=this[0]).length);++at<ut;)(tt=Y[at])&&(M[at]=tt.__data__);return M}function vt(Yt,Kt){var ie,me,Ce,de=Yt.length,Te=Kt.length,le=Math.min(de,Te),Ne=new Array(Te),Ee=new Array(Te),ue=new Array(de);if(k){var Ke,Ze=new F,ln=new Array(de);for(ie=-1;++ie<de;)(me=Yt[ie])&&(Ze.has(Ke=k.call(me,me.__data__,ie))?ue[ie]=me:Ze.set(Ke,me),ln[ie]=Ke);for(ie=-1;++ie<Te;)(me=Ze.get(Ke=k.call(Kt,Ce=Kt[ie],ie)))?me!==!0&&(Ne[ie]=me,me.__data__=Ce):Ee[ie]=Et(Ce),Ze.set(Ke,!0);for(ie=-1;++ie<de;)ie in ln&&Ze.get(ln[ie])!==!0&&(ue[ie]=Yt[ie])}else{for(ie=-1;++ie<le;)me=Yt[ie],Ce=Kt[ie],me?(me.__data__=Ce,Ne[ie]=me):Ee[ie]=Et(Ce);for(;ie<Te;++ie)Ee[ie]=Et(Kt[ie]);for(;ie<de;++ie)ue[ie]=Yt[ie]}Ee.update=Ne,Ee.parentNode=Ne.parentNode=ue.parentNode=Yt.parentNode,bt.push(Ee),Ct.push(Ne),Ot.push(ue)}var bt=Lt([]),Ct=$([]),Ot=$([]);if(typeof M=="function")for(;++at<ut;)vt(Y=this[at],M.call(Y,Y.parentNode.__data__,at));else for(;++at<ut;)vt(Y=this[at],M);return Ct.enter=function(){return bt},Ct.exit=function(){return Ot},Ct},st.datum=function(M){return arguments.length?this.property("__data__",M):this.property("__data__")},st.filter=function(M){var k,Y,tt,at=[];typeof M!="function"&&(M=Mt(M));for(var ut=0,vt=this.length;ut<vt;ut++){at.push(k=[]),k.parentNode=(Y=this[ut]).parentNode;for(var bt=0,Ct=Y.length;bt<Ct;bt++)(tt=Y[bt])&&M.call(tt,tt.__data__,bt,ut)&&k.push(tt)}return $(at)},st.order=function(){for(var M=-1,k=this.length;++M<k;)for(var Y,tt=this[M],at=tt.length-1,ut=tt[at];--at>=0;)(Y=tt[at])&&(ut&&ut!==Y.nextSibling&&ut.parentNode.insertBefore(Y,ut),ut=Y);return this},st.sort=function(M){M=Nt.apply(this,arguments);for(var k=-1,Y=this.length;++k<Y;)this[k].sort(M);return this.order()},st.each=function(M){return Ft(this,function(k,Y,tt){M.call(k,k.__data__,Y,tt)})},st.call=function(M){var k=h(arguments);return M.apply(k[0]=this,k),this},st.empty=function(){return!this.node()},st.node=function(){for(var M=0,k=this.length;M<k;M++)for(var Y=this[M],tt=0,at=Y.length;tt<at;tt++){var ut=Y[tt];if(ut)return ut}return null},st.size=function(){var M=0;return Ft(this,function(){++M}),M};var Dt=[];function kt(M,k,Y){var tt="__on"+M,at=M.indexOf("."),ut=Qt;at>0&&(M=M.slice(0,at));var vt=Wt.get(M);function bt(){var Ct=this[tt];Ct&&(this.removeEventListener(M,Ct,Ct.$),delete this[tt])}return vt&&(M=vt,ut=Ht),at?k?function(){var Ct=ut(k,h(arguments));bt.call(this),this.addEventListener(M,this[tt]=Ct,Ct.$=Y),Ct._=k}:bt:k?X:function(){var Ct,Ot=new RegExp("^__on([^.]+)"+u.requote(M)+"$");for(var Yt in this)if(Ct=Yt.match(Ot)){var Kt=this[Yt];this.removeEventListener(Ct[1],Kt,Kt.$),delete this[Yt]}}}u.selection.enter=Lt,u.selection.enter.prototype=Dt,Dt.append=st.append,Dt.empty=st.empty,Dt.node=st.node,Dt.call=st.call,Dt.size=st.size,Dt.select=function(M){for(var k,Y,tt,at,ut,vt=[],bt=-1,Ct=this.length;++bt<Ct;){tt=(at=this[bt]).update,vt.push(k=[]),k.parentNode=at.parentNode;for(var Ot=-1,Yt=at.length;++Ot<Yt;)(ut=at[Ot])?(k.push(tt[Ot]=Y=M.call(at.parentNode,ut.__data__,Ot,bt)),Y.__data__=ut.__data__):k.push(null)}return $(vt)},Dt.insert=function(M,k){var Y,tt,at;return arguments.length<2&&(Y=this,k=function(ut,vt,bt){var Ct,Ot=Y[bt].update,Yt=Ot.length;for(bt!=at&&(at=bt,tt=0),vt>=tt&&(tt=vt+1);!(Ct=Ot[tt])&&++tt<Yt;);return Ct}),st.insert.call(this,M,k)},u.select=function(M){var k;return typeof M=="string"?(k=[J(M,d)]).parentNode=d.documentElement:(k=[M]).parentNode=p(M),$([k])},u.selectAll=function(M){var k;return typeof M=="string"?(k=h(Q(M,d))).parentNode=d.documentElement:(k=h(M)).parentNode=null,$([k])},st.on=function(M,k,Y){var tt=arguments.length;if(tt<3){if(typeof M!="string"){for(Y in tt<2&&(k=!1),M)this.each(kt(Y,M[Y],k));return this}if(tt<2)return(tt=this.node()["__on"+M])&&tt._;Y=!1}return this.each(kt(M,k,Y))};var Wt=u.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Qt(M,k){return function(Y){var tt=u.event;u.event=Y,k[0]=this.__data__;try{M.apply(this,k)}finally{u.event=tt}}}function Ht(M,k){var Y=Qt(M,k);return function(tt){var at=this,ut=tt.relatedTarget;ut&&(ut===at||8&ut.compareDocumentPosition(at))||Y.call(at,tt)}}d&&Wt.forEach(function(M){"on"+M in d&&Wt.remove(M)});var oe,ce=0;function pe(M){var k=".dragsuppress-"+ ++ce,Y="click"+k,tt=u.select(g(M)).on("touchmove"+k,dt).on("dragstart"+k,dt).on("selectstart"+k,dt);if(oe==null&&(oe=!("onselectstart"in M)&&z(M.style,"userSelect")),oe){var at=p(M).style,ut=at[oe];at[oe]="none"}return function(vt){if(tt.on(k,null),oe&&(at[oe]=ut),vt){var bt=function(){tt.on(Y,null)};tt.on(Y,function(){dt(),bt()},!0),setTimeout(bt,0)}}}u.mouse=function(M){return Le(M,nt())};var we=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Le(M,k){k.changedTouches&&(k=k.changedTouches[0]);var Y=M.ownerSVGElement||M;if(Y.createSVGPoint){var tt=Y.createSVGPoint();if(we<0){var at=g(M);if(at.scrollX||at.scrollY){var ut=(Y=u.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();we=!(ut.f||ut.e),Y.remove()}}return we?(tt.x=k.pageX,tt.y=k.pageY):(tt.x=k.clientX,tt.y=k.clientY),[(tt=tt.matrixTransform(M.getScreenCTM().inverse())).x,tt.y]}var vt=M.getBoundingClientRect();return[k.clientX-vt.left-M.clientLeft,k.clientY-vt.top-M.clientTop]}function jt(){return u.event.changedTouches[0].identifier}u.touch=function(M,k,Y){if(arguments.length<3&&(Y=k,k=nt().changedTouches),k){for(var tt,at=0,ut=k.length;at<ut;++at)if((tt=k[at]).identifier===Y)return Le(M,tt)}},u.behavior.drag=function(){var M=V(at,"drag","dragstart","dragend"),k=null,Y=ut(X,u.mouse,g,"mousemove","mouseup"),tt=ut(jt,u.touch,rt,"touchmove","touchend");function at(){this.on("mousedown.drag",Y).on("touchstart.drag",tt)}function ut(vt,bt,Ct,Ot,Yt){return function(){var Kt,ie=this,me=u.event.target.correspondingElement||u.event.target,Ce=ie.parentNode,de=M.of(ie,arguments),Te=0,le=vt(),Ne=".drag"+(le==null?"":"-"+le),Ee=u.select(Ct(me)).on(Ot+Ne,function(){var Ze,ln,hn=bt(Ce,le);hn&&(Ze=hn[0]-Ke[0],ln=hn[1]-Ke[1],Te|=Ze|ln,Ke=hn,de({type:"drag",x:hn[0]+Kt[0],y:hn[1]+Kt[1],dx:Ze,dy:ln}))}).on(Yt+Ne,function(){bt(Ce,le)&&(Ee.on(Ot+Ne,null).on(Yt+Ne,null),ue(Te),de({type:"dragend"}))}),ue=pe(me),Ke=bt(Ce,le);Kt=k?[(Kt=k.apply(ie,arguments)).x-Ke[0],Kt.y-Ke[1]]:[0,0],de({type:"dragstart"})}}return at.origin=function(vt){return arguments.length?(k=vt,at):k},u.rebind(at,M,"on")},u.touches=function(M,k){return arguments.length<2&&(k=nt().touches),k?h(k).map(function(Y){var tt=Le(M,Y);return tt.identifier=Y.identifier,tt}):[]};var Rt=1e-6,te=Rt*Rt,ae=Math.PI,Se=2*ae,ne=Se-Rt,ge=ae/2,xe=ae/180,Fe=180/ae;function Ae(M){return M>1?ge:M<-1?-ge:Math.asin(M)}function $e(M){return((M=Math.exp(M))+1/M)/2}var Me=Math.SQRT2;u.interpolateZoom=function(M,k){var Y,tt,at=M[0],ut=M[1],vt=M[2],bt=k[0],Ct=k[1],Ot=k[2],Yt=bt-at,Kt=Ct-ut,ie=Yt*Yt+Kt*Kt;if(ie<te)tt=Math.log(Ot/vt)/Me,Y=function(Ne){return[at+Ne*Yt,ut+Ne*Kt,vt*Math.exp(Me*Ne*tt)]};else{var me=Math.sqrt(ie),Ce=(Ot*Ot-vt*vt+4*ie)/(2*vt*2*me),de=(Ot*Ot-vt*vt-4*ie)/(2*Ot*2*me),Te=Math.log(Math.sqrt(Ce*Ce+1)-Ce),le=Math.log(Math.sqrt(de*de+1)-de);tt=(le-Te)/Me,Y=function(Ne){var Ee,ue=Ne*tt,Ke=$e(Te),Ze=vt/(2*me)*(Ke*(Ee=Me*ue+Te,((Ee=Math.exp(2*Ee))-1)/(Ee+1))-function(ln){return((ln=Math.exp(ln))-1/ln)/2}(Te));return[at+Ze*Yt,ut+Ze*Kt,vt*Ke/$e(Me*ue+Te)]}}return Y.duration=1e3*tt,Y},u.behavior.zoom=function(){var M,k,Y,tt,at,ut,vt,bt,Ct,Ot={x:0,y:0,k:1},Yt=[960,500],Kt=qt,ie=250,me=0,Ce="mousedown.zoom",de="mousemove.zoom",Te="mouseup.zoom",le="touchstart.zoom",Ne=V(Ee,"zoomstart","zoom","zoomend");function Ee(xn){xn.on(Ce,Cn).on(gt+".zoom",Nr).on("dblclick.zoom",pi).on(le,sr)}function ue(xn){return[(xn[0]-Ot.x)/Ot.k,(xn[1]-Ot.y)/Ot.k]}function Ke(xn){Ot.k=Math.max(Kt[0],Math.min(Kt[1],xn))}function Ze(xn,On){On=function(tr){return[tr[0]*Ot.k+Ot.x,tr[1]*Ot.k+Ot.y]}(On),Ot.x+=xn[0]-On[0],Ot.y+=xn[1]-On[1]}function ln(xn,On,tr,Qn){xn.__chart__={x:Ot.x,y:Ot.y,k:Ot.k},Ke(Math.pow(2,Qn)),Ze(k=On,tr),xn=u.select(xn),ie>0&&(xn=xn.transition().duration(ie)),xn.call(Ee.event)}function hn(){vt&&vt.domain(ut.range().map(function(xn){return(xn-Ot.x)/Ot.k}).map(ut.invert)),Ct&&Ct.domain(bt.range().map(function(xn){return(xn-Ot.y)/Ot.k}).map(bt.invert))}function Ln(xn){me++||xn({type:"zoomstart"})}function Pn(xn){hn(),xn({type:"zoom",scale:Ot.k,translate:[Ot.x,Ot.y]})}function Yn(xn){--me||(xn({type:"zoomend"}),k=null)}function Cn(){var xn=this,On=Ne.of(xn,arguments),tr=0,Qn=u.select(g(xn)).on(de,function(){tr=1,Ze(u.mouse(xn),Er),Pn(On)}).on(Te,function(){Qn.on(de,null).on(Te,null),ri(tr),Yn(On)}),Er=ue(u.mouse(xn)),ri=pe(xn);ss.call(xn),Ln(On)}function sr(){var xn,On=this,tr=Ne.of(On,arguments),Qn={},Er=0,ri=".zoom-"+u.event.changedTouches[0].identifier,Ui="touchmove"+ri,li="touchend"+ri,ia=[],Vi=u.select(On),Hi=pe(On);function za(){var aa=u.touches(On);return xn=Ot.k,aa.forEach(function(Oi){Oi.identifier in Qn&&(Qn[Oi.identifier]=ue(Oi))}),aa}function Ds(){var aa=u.event.target;u.select(aa).on(Ui,hl).on(li,dl),ia.push(aa);for(var Oi=u.event.changedTouches,uo=0,Ba=Oi.length;uo<Ba;++uo)Qn[Oi[uo].identifier]=null;var co=za(),Bo=Date.now();if(co.length===1){if(Bo-at<500){var pl=co[0];ln(On,pl,Qn[pl.identifier],Math.floor(Math.log(Ot.k)/Math.LN2)+1),dt()}at=Bo}else if(co.length>1){pl=co[0];var Fs=co[1],Np=pl[0]-Fs[0],sm=pl[1]-Fs[1];Er=Np*Np+sm*sm}}function hl(){var aa,Oi,uo,Ba,co=u.touches(On);ss.call(On);for(var Bo=0,pl=co.length;Bo<pl;++Bo,Ba=null)if(uo=co[Bo],Ba=Qn[uo.identifier]){if(Oi)break;aa=uo,Oi=Ba}if(Ba){var Fs=(Fs=uo[0]-aa[0])*Fs+(Fs=uo[1]-aa[1])*Fs,Np=Er&&Math.sqrt(Fs/Er);aa=[(aa[0]+uo[0])/2,(aa[1]+uo[1])/2],Oi=[(Oi[0]+Ba[0])/2,(Oi[1]+Ba[1])/2],Ke(Np*xn)}at=null,Ze(aa,Oi),Pn(tr)}function dl(){if(u.event.touches.length){for(var aa=u.event.changedTouches,Oi=0,uo=aa.length;Oi<uo;++Oi)delete Qn[aa[Oi].identifier];for(var Ba in Qn)return void za()}u.selectAll(ia).on(ri,null),Vi.on(Ce,Cn).on(le,sr),Hi(),Yn(tr)}Ds(),Ln(tr),Vi.on(Ce,null).on(le,Ds)}function Nr(){var xn=Ne.of(this,arguments);tt?clearTimeout(tt):(ss.call(this),M=ue(k=Y||u.mouse(this)),Ln(xn)),tt=setTimeout(function(){tt=null,Yn(xn)},50),dt(),Ke(Math.pow(2,.002*ct())*Ot.k),Ze(k,M),Pn(xn)}function pi(){var xn=u.mouse(this),On=Math.log(Ot.k)/Math.LN2;ln(this,xn,ue(xn),u.event.shiftKey?Math.ceil(On)-1:Math.floor(On)+1)}return gt||(gt="onwheel"in d?(ct=function(){return-u.event.deltaY*(u.event.deltaMode?120:1)},"wheel"):"onmousewheel"in d?(ct=function(){return u.event.wheelDelta},"mousewheel"):(ct=function(){return-u.event.detail},"MozMousePixelScroll")),Ee.event=function(xn){xn.each(function(){var On=Ne.of(this,arguments),tr=Ot;Cc?u.select(this).transition().each("start.zoom",function(){Ot=this.__chart__||{x:0,y:0,k:1},Ln(On)}).tween("zoom:zoom",function(){var Qn=Yt[0],Er=Yt[1],ri=k?k[0]:Qn/2,Ui=k?k[1]:Er/2,li=u.interpolateZoom([(ri-Ot.x)/Ot.k,(Ui-Ot.y)/Ot.k,Qn/Ot.k],[(ri-tr.x)/tr.k,(Ui-tr.y)/tr.k,Qn/tr.k]);return function(ia){var Vi=li(ia),Hi=Qn/Vi[2];this.__chart__=Ot={x:ri-Vi[0]*Hi,y:Ui-Vi[1]*Hi,k:Hi},Pn(On)}}).each("interrupt.zoom",function(){Yn(On)}).each("end.zoom",function(){Yn(On)}):(this.__chart__=Ot,Ln(On),Pn(On),Yn(On))})},Ee.translate=function(xn){return arguments.length?(Ot={x:+xn[0],y:+xn[1],k:Ot.k},hn(),Ee):[Ot.x,Ot.y]},Ee.scale=function(xn){return arguments.length?(Ot={x:Ot.x,y:Ot.y,k:null},Ke(+xn),hn(),Ee):Ot.k},Ee.scaleExtent=function(xn){return arguments.length?(Kt=xn==null?qt:[+xn[0],+xn[1]],Ee):Kt},Ee.center=function(xn){return arguments.length?(Y=xn&&[+xn[0],+xn[1]],Ee):Y},Ee.size=function(xn){return arguments.length?(Yt=xn&&[+xn[0],+xn[1]],Ee):Yt},Ee.duration=function(xn){return arguments.length?(ie=+xn,Ee):ie},Ee.x=function(xn){return arguments.length?(vt=xn,ut=xn.copy(),Ot={x:0,y:0,k:1},Ee):vt},Ee.y=function(xn){return arguments.length?(Ct=xn,bt=xn.copy(),Ot={x:0,y:0,k:1},Ee):Ct},u.rebind(Ee,Ne,"on")};var ct,gt,qt=[0,1/0];function Vt(){}function Jt(M,k,Y){return this instanceof Jt?(this.h=+M,this.s=+k,void(this.l=+Y)):arguments.length<2?M instanceof Jt?new Jt(M.h,M.s,M.l):qe(""+M,He,Jt):new Jt(M,k,Y)}u.color=Vt,Vt.prototype.toString=function(){return this.rgb()+""},u.hsl=Jt;var Xt=Jt.prototype=new Vt;function ee(M,k,Y){var tt,at;function ut(vt){return Math.round(255*function(bt){return bt>360?bt-=360:bt<0&&(bt+=360),bt<60?tt+(at-tt)*bt/60:bt<180?at:bt<240?tt+(at-tt)*(240-bt)/60:tt}(vt))}return M=isNaN(M)?0:(M%=360)<0?M+360:M,k=isNaN(k)||k<0?0:k>1?1:k,tt=2*(Y=Y<0?0:Y>1?1:Y)-(at=Y<=.5?Y*(1+k):Y+k-Y*k),new tn(ut(M+120),ut(M),ut(M-120))}function re(M,k,Y){return this instanceof re?(this.h=+M,this.c=+k,void(this.l=+Y)):arguments.length<2?M instanceof re?new re(M.h,M.c,M.l):function(tt,at,ut){return tt>0?new re(Math.atan2(ut,at)*Fe,Math.sqrt(at*at+ut*ut),tt):new re(NaN,NaN,tt)}(M instanceof se?M.l:(M=Xe((M=u.rgb(M)).r,M.g,M.b)).l,M.a,M.b):new re(M,k,Y)}Xt.brighter=function(M){return M=Math.pow(.7,arguments.length?M:1),new Jt(this.h,this.s,this.l/M)},Xt.darker=function(M){return M=Math.pow(.7,arguments.length?M:1),new Jt(this.h,this.s,M*this.l)},Xt.rgb=function(){return ee(this.h,this.s,this.l)},u.hcl=re;var fe=re.prototype=new Vt;function ye(M,k,Y){return isNaN(M)&&(M=0),isNaN(k)&&(k=0),new se(Y,Math.cos(M*=xe)*k,Math.sin(M)*k)}function se(M,k,Y){return this instanceof se?(this.l=+M,this.a=+k,void(this.b=+Y)):arguments.length<2?M instanceof se?new se(M.l,M.a,M.b):M instanceof re?ye(M.h,M.c,M.l):Xe((M=tn(M)).r,M.g,M.b):new se(M,k,Y)}fe.brighter=function(M){return new re(this.h,this.c,Math.min(100,this.l+Ge*(arguments.length?M:1)))},fe.darker=function(M){return new re(this.h,this.c,Math.max(0,this.l-Ge*(arguments.length?M:1)))},fe.rgb=function(){return ye(this.h,this.c,this.l).rgb()},u.lab=se;var Ge=18,nn=.95047,Oe=1,We=1.08883,je=se.prototype=new Vt;function _e(M,k,Y){var tt=(M+16)/116,at=tt+k/500,ut=tt-Y/200;return new tn(an(3.2404542*(at=he(at)*nn)-1.5371385*(tt=he(tt)*Oe)-.4985314*(ut=he(ut)*We)),an(-.969266*at+1.8760108*tt+.041556*ut),an(.0556434*at-.2040259*tt+1.0572252*ut))}function he(M){return M>.206893034?M*M*M:(M-.13793103448275862)/7.787037}function Pe(M){return M>.008856?Math.pow(M,.3333333333333333):7.787037*M+.13793103448275862}function an(M){return Math.round(255*(M<=.00304?12.92*M:1.055*Math.pow(M,.4166666666666667)-.055))}function tn(M,k,Y){return this instanceof tn?(this.r=~~M,this.g=~~k,void(this.b=~~Y)):arguments.length<2?M instanceof tn?new tn(M.r,M.g,M.b):qe(""+M,tn,ee):new tn(M,k,Y)}function on(M){return new tn(M>>16,M>>8&255,255&M)}function be(M){return on(M)+""}je.brighter=function(M){return new se(Math.min(100,this.l+Ge*(arguments.length?M:1)),this.a,this.b)},je.darker=function(M){return new se(Math.max(0,this.l-Ge*(arguments.length?M:1)),this.a,this.b)},je.rgb=function(){return _e(this.l,this.a,this.b)},u.rgb=tn;var Re=tn.prototype=new Vt;function ze(M){return M<16?"0"+Math.max(0,M).toString(16):Math.min(255,M).toString(16)}function qe(M,k,Y){var tt,at,ut,vt=0,bt=0,Ct=0;if(tt=/([a-z]+)\((.*)\)/.exec(M=M.toLowerCase()))switch(at=tt[2].split(","),tt[1]){case"hsl":return Y(parseFloat(at[0]),parseFloat(at[1])/100,parseFloat(at[2])/100);case"rgb":return k(rn(at[0]),rn(at[1]),rn(at[2]))}return(ut=Ue.get(M))?k(ut.r,ut.g,ut.b):(M==null||M.charAt(0)!=="#"||isNaN(ut=parseInt(M.slice(1),16))||(M.length===4?(vt=(3840&ut)>>4,vt|=vt>>4,bt=240&ut,bt|=bt>>4,Ct=15&ut,Ct|=Ct<<4):M.length===7&&(vt=(16711680&ut)>>16,bt=(65280&ut)>>8,Ct=255&ut)),k(vt,bt,Ct))}function He(M,k,Y){var tt,at,ut=Math.min(M/=255,k/=255,Y/=255),vt=Math.max(M,k,Y),bt=vt-ut,Ct=(vt+ut)/2;return bt?(at=Ct<.5?bt/(vt+ut):bt/(2-vt-ut),tt=M==vt?(k-Y)/bt+(k<Y?6:0):k==vt?(Y-M)/bt+2:(M-k)/bt+4,tt*=60):(tt=NaN,at=Ct>0&&Ct<1?0:tt),new Jt(tt,at,Ct)}function Xe(M,k,Y){var tt=Pe((.4124564*(M=Ye(M))+.3575761*(k=Ye(k))+.1804375*(Y=Ye(Y)))/nn),at=Pe((.2126729*M+.7151522*k+.072175*Y)/Oe);return se(116*at-16,500*(tt-at),200*(at-Pe((.0193339*M+.119192*k+.9503041*Y)/We)))}function Ye(M){return(M/=255)<=.04045?M/12.92:Math.pow((M+.055)/1.055,2.4)}function rn(M){var k=parseFloat(M);return M.charAt(M.length-1)==="%"?Math.round(2.55*k):k}Re.brighter=function(M){M=Math.pow(.7,arguments.length?M:1);var k=this.r,Y=this.g,tt=this.b,at=30;return k||Y||tt?(k&&k<at&&(k=at),Y&&Y<at&&(Y=at),tt&&tt<at&&(tt=at),new tn(Math.min(255,k/M),Math.min(255,Y/M),Math.min(255,tt/M))):new tn(at,at,at)},Re.darker=function(M){return new tn((M=Math.pow(.7,arguments.length?M:1))*this.r,M*this.g,M*this.b)},Re.hsl=function(){return He(this.r,this.g,this.b)},Re.toString=function(){return"#"+ze(this.r)+ze(this.g)+ze(this.b)};var Ue=u.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Je(M){return typeof M=="function"?M:function(){return M}}function dn(M){return function(k,Y,tt){return arguments.length===2&&typeof Y=="function"&&(tt=Y,Y=null),Mn(k,Y,M,tt)}}function Mn(M,k,Y,tt){var at={},ut=u.dispatch("beforesend","progress","load","error"),vt={},bt=new XMLHttpRequest,Ct=null;function Ot(){var Yt,Kt=bt.status;if(!Kt&&function(ie){var me=ie.responseType;return me&&me!=="text"?ie.response:ie.responseText}(bt)||Kt>=200&&Kt<300||Kt===304){try{Yt=Y.call(at,bt)}catch(ie){return void ut.error.call(at,ie)}ut.load.call(at,Yt)}else ut.error.call(at,bt)}return self.XDomainRequest&&!("withCredentials"in bt)&&/^(http(s)?:)?\/\//.test(M)&&(bt=new XDomainRequest),"onload"in bt?bt.onload=bt.onerror=Ot:bt.onreadystatechange=function(){bt.readyState>3&&Ot()},bt.onprogress=function(Yt){var Kt=u.event;u.event=Yt;try{ut.progress.call(at,bt)}finally{u.event=Kt}},at.header=function(Yt,Kt){return Yt=(Yt+"").toLowerCase(),arguments.length<2?vt[Yt]:(Kt==null?delete vt[Yt]:vt[Yt]=Kt+"",at)},at.mimeType=function(Yt){return arguments.length?(k=Yt==null?null:Yt+"",at):k},at.responseType=function(Yt){return arguments.length?(Ct=Yt,at):Ct},at.response=function(Yt){return Y=Yt,at},["get","post"].forEach(function(Yt){at[Yt]=function(){return at.send.apply(at,[Yt].concat(h(arguments)))}}),at.send=function(Yt,Kt,ie){if(arguments.length===2&&typeof Kt=="function"&&(ie=Kt,Kt=null),bt.open(Yt,M,!0),k==null||"accept"in vt||(vt.accept=k+",*/*"),bt.setRequestHeader)for(var me in vt)bt.setRequestHeader(me,vt[me]);return k!=null&&bt.overrideMimeType&&bt.overrideMimeType(k),Ct!=null&&(bt.responseType=Ct),ie!=null&&at.on("error",ie).on("load",function(Ce){ie(null,Ce)}),ut.beforesend.call(at,bt),bt.send(Kt??null),at},at.abort=function(){return bt.abort(),at},u.rebind(at,ut,"on"),tt==null?at:at.get(function(Yt){return Yt.length===1?function(Kt,ie){Yt(Kt==null?ie:null)}:Yt}(tt))}Ue.forEach(function(M,k){Ue.set(M,on(k))}),u.functor=Je,u.xhr=dn(rt),u.dsv=function(M,k){var Y=new RegExp('["'+M+`
]`),tt=M.charCodeAt(0);function at(Ot,Yt,Kt){arguments.length<3&&(Kt=Yt,Yt=null);var ie=Mn(Ot,k,Yt==null?ut:vt(Yt),Kt);return ie.row=function(me){return arguments.length?ie.response((Yt=me)==null?ut:vt(me)):Yt},ie}function ut(Ot){return at.parse(Ot.responseText)}function vt(Ot){return function(Yt){return at.parse(Yt.responseText,Ot)}}function bt(Ot){return Ot.map(Ct).join(M)}function Ct(Ot){return Y.test(Ot)?'"'+Ot.replace(/\"/g,'""')+'"':Ot}return at.parse=function(Ot,Yt){var Kt;return at.parseRows(Ot,function(ie,me){if(Kt)return Kt(ie,me-1);var Ce=function(de){for(var Te={},le=ie.length,Ne=0;Ne<le;++Ne)Te[ie[Ne]]=de[Ne];return Te};Kt=Yt?function(de,Te){return Yt(Ce(de),Te)}:Ce})},at.parseRows=function(Ot,Yt){var Kt,ie,me={},Ce={},de=[],Te=Ot.length,le=0,Ne=0;function Ee(){if(le>=Te)return Ce;if(ie)return ie=!1,me;var Ke=le;if(Ot.charCodeAt(Ke)===34){for(var Ze=Ke;Ze++<Te;)if(Ot.charCodeAt(Ze)===34){if(Ot.charCodeAt(Ze+1)!==34)break;++Ze}return le=Ze+2,(ln=Ot.charCodeAt(Ze+1))===13?(ie=!0,Ot.charCodeAt(Ze+2)===10&&++le):ln===10&&(ie=!0),Ot.slice(Ke+1,Ze).replace(/""/g,'"')}for(;le<Te;){var ln,hn=1;if((ln=Ot.charCodeAt(le++))===10)ie=!0;else if(ln===13)ie=!0,Ot.charCodeAt(le)===10&&(++le,++hn);else if(ln!==tt)continue;return Ot.slice(Ke,le-hn)}return Ot.slice(Ke)}for(;(Kt=Ee())!==Ce;){for(var ue=[];Kt!==me&&Kt!==Ce;)ue.push(Kt),Kt=Ee();Yt&&(ue=Yt(ue,Ne++))==null||de.push(ue)}return de},at.format=function(Ot){if(Array.isArray(Ot[0]))return at.formatRows(Ot);var Yt=new Z,Kt=[];return Ot.forEach(function(ie){for(var me in ie)Yt.has(me)||Kt.push(Yt.add(me))}),[Kt.map(Ct).join(M)].concat(Ot.map(function(ie){return Kt.map(function(me){return Ct(ie[me])}).join(M)})).join(`
`)},at.formatRows=function(Ot){return Ot.map(bt).join(`
`)},at},u.csv=u.dsv(",","text/csv"),u.tsv=u.dsv("	","text/tab-separated-values");var Sn,vn,bn,Dn,yn=this[z(this,"requestAnimationFrame")]||function(M){setTimeout(M,17)};function In(M,k,Y){var tt=arguments.length;tt<2&&(k=0),tt<3&&(Y=Date.now());var at={c:M,t:Y+k,n:null};return vn?vn.n=at:Sn=at,vn=at,bn||(Dn=clearTimeout(Dn),bn=1,yn(pn)),at}function pn(){var M=Bn(),k=Vn()-M;k>24?(isFinite(k)&&(clearTimeout(Dn),Dn=setTimeout(pn,k)),bn=0):(bn=1,yn(pn))}function Bn(){for(var M=Date.now(),k=Sn;k;)M>=k.t&&k.c(M-k.t)&&(k.c=null),k=k.n;return M}function Vn(){for(var M,k=Sn,Y=1/0;k;)k.c?(k.t<Y&&(Y=k.t),k=(M=k).n):k=M?M.n=k.n:Sn=k.n;return vn=M,Y}function Kn(M){return M[0]}function qn(M){return M[1]}function Wn(M){for(var k,Y,tt,at=M.length,ut=[0,1],vt=2,bt=2;bt<at;bt++){for(;vt>1&&(k=M[ut[vt-2]],Y=M[ut[vt-1]],tt=M[bt],(Y[0]-k[0])*(tt[1]-k[1])-(Y[1]-k[1])*(tt[0]-k[0])<=0);)--vt;ut[vt++]=bt}return ut.slice(0,vt)}function fr(M,k){return M[0]-k[0]||M[1]-k[1]}u.timer=function(){In.apply(this,arguments)},u.timer.flush=function(){Bn(),Vn()},u.round=function(M,k){return k?Math.round(M*(k=Math.pow(10,k)))/k:Math.round(M)},u.geom={},u.geom.hull=function(M){var k=Kn,Y=qn;if(arguments.length)return tt(M);function tt(at){if(at.length<3)return[];var ut,vt=Je(k),bt=Je(Y),Ct=at.length,Ot=[],Yt=[];for(ut=0;ut<Ct;ut++)Ot.push([+vt.call(this,at[ut],ut),+bt.call(this,at[ut],ut),ut]);for(Ot.sort(fr),ut=0;ut<Ct;ut++)Yt.push([Ot[ut][0],-Ot[ut][1]]);var Kt=Wn(Ot),ie=Wn(Yt),me=ie[0]===Kt[0],Ce=ie[ie.length-1]===Kt[Kt.length-1],de=[];for(ut=Kt.length-1;ut>=0;--ut)de.push(at[Ot[Kt[ut]][2]]);for(ut=+me;ut<ie.length-Ce;++ut)de.push(at[Ot[ie[ut]][2]]);return de}return tt.x=function(at){return arguments.length?(k=at,tt):k},tt.y=function(at){return arguments.length?(Y=at,tt):Y},tt},u.geom.polygon=function(M){return H(M,bi),M};var bi=u.geom.polygon.prototype=[];function so(M,k,Y){return(Y[0]-k[0])*(M[1]-k[1])<(Y[1]-k[1])*(M[0]-k[0])}function wi(M,k,Y,tt){var at=M[0],ut=Y[0],vt=k[0]-at,bt=tt[0]-ut,Ct=M[1],Ot=Y[1],Yt=k[1]-Ct,Kt=tt[1]-Ot,ie=(bt*(Ct-Ot)-Kt*(at-ut))/(Kt*vt-bt*Yt);return[at+ie*vt,Ct+ie*Yt]}function ka(M){var k=M[0],Y=M[M.length-1];return!(k[0]-Y[0]||k[1]-Y[1])}bi.area=function(){for(var M,k=-1,Y=this.length,tt=this[Y-1],at=0;++k<Y;)M=tt,tt=this[k],at+=M[1]*tt[0]-M[0]*tt[1];return .5*at},bi.centroid=function(M){var k,Y,tt=-1,at=this.length,ut=0,vt=0,bt=this[at-1];for(arguments.length||(M=-1/(6*this.area()));++tt<at;)k=bt,bt=this[tt],Y=k[0]*bt[1]-bt[0]*k[1],ut+=(k[0]+bt[0])*Y,vt+=(k[1]+bt[1])*Y;return[ut*M,vt*M]},bi.clip=function(M){for(var k,Y,tt,at,ut,vt,bt=ka(M),Ct=-1,Ot=this.length-ka(this),Yt=this[Ot-1];++Ct<Ot;){for(k=M.slice(),M.length=0,at=this[Ct],ut=k[(tt=k.length-bt)-1],Y=-1;++Y<tt;)so(vt=k[Y],Yt,at)?(so(ut,Yt,at)||M.push(wi(ut,vt,Yt,at)),M.push(vt)):so(ut,Yt,at)&&M.push(wi(ut,vt,Yt,at)),ut=vt;bt&&M.push(M[0]),Yt=at}return M};var Ni,qr,Da,Ci,Zn,En=[],mr=[];function hr(){Rs(this),this.edge=this.site=this.circle=null}function Rn(M){var k=En.pop()||new hr;return k.site=M,k}function wr(M){ra(M),Da.remove(M),En.push(M),Rs(M)}function ar(M){var k=M.circle,Y=k.x,tt=k.cy,at={x:Y,y:tt},ut=M.P,vt=M.N,bt=[M];wr(M);for(var Ct=ut;Ct.circle&&O(Y-Ct.circle.x)<Rt&&O(tt-Ct.circle.cy)<Rt;)ut=Ct.P,bt.unshift(Ct),wr(Ct),Ct=ut;bt.unshift(Ct),ra(Ct);for(var Ot=vt;Ot.circle&&O(Y-Ot.circle.x)<Rt&&O(tt-Ot.circle.cy)<Rt;)vt=Ot.N,bt.push(Ot),wr(Ot),Ot=vt;bt.push(Ot),ra(Ot);var Yt,Kt=bt.length;for(Yt=1;Yt<Kt;++Yt)Ot=bt[Yt],Ct=bt[Yt-1],Xr(Ot.edge,Ct.site,Ot.site,at);Ct=bt[0],(Ot=bt[Kt-1]).edge=wa(Ct.site,Ot.site,null,at),jr(Ct),jr(Ot)}function ni(M){for(var k,Y,tt,at,ut=M.x,vt=M.y,bt=Da._;bt;)if((tt=hi(bt,vt)-ut)>Rt)bt=bt.L;else{if(!((at=ut-Ai(bt,vt))>Rt)){tt>-Rt?(k=bt.P,Y=bt):at>-Rt?(k=bt,Y=bt.N):k=Y=bt;break}if(!bt.R){k=bt;break}bt=bt.R}var Ct=Rn(M);if(Da.insert(k,Ct),k||Y){if(k===Y)return ra(k),Y=Rn(k.site),Da.insert(Ct,Y),Ct.edge=Y.edge=wa(k.site,Ct.site),jr(k),void jr(Y);if(Y){ra(k),ra(Y);var Ot=k.site,Yt=Ot.x,Kt=Ot.y,ie=M.x-Yt,me=M.y-Kt,Ce=Y.site,de=Ce.x-Yt,Te=Ce.y-Kt,le=2*(ie*Te-me*de),Ne=ie*ie+me*me,Ee=de*de+Te*Te,ue={x:(Te*Ne-me*Ee)/le+Yt,y:(ie*Ee-de*Ne)/le+Kt};Xr(Y.edge,Ot,Ce,ue),Ct.edge=wa(Ot,M,null,ue),Y.edge=wa(M,Ce,null,ue),jr(k),jr(Y)}else Ct.edge=wa(k.site,Ct.site)}}function hi(M,k){var Y=M.site,tt=Y.x,at=Y.y,ut=at-k;if(!ut)return tt;var vt=M.P;if(!vt)return-1/0;var bt=(Y=vt.site).x,Ct=Y.y,Ot=Ct-k;if(!Ot)return bt;var Yt=bt-tt,Kt=1/ut-1/Ot,ie=Yt/Ot;return Kt?(-ie+Math.sqrt(ie*ie-2*Kt*(Yt*Yt/(-2*Ot)-Ct+Ot/2+at-ut/2)))/Kt+tt:(tt+bt)/2}function Ai(M,k){var Y=M.N;if(Y)return hi(Y,k);var tt=M.site;return tt.y===k?tt.x:1/0}function Ii(M){this.site=M,this.edges=[]}function Wa(M,k){return k.angle-M.angle}function No(){Rs(this),this.x=this.y=this.arc=this.site=this.cy=null}function jr(M){var k=M.P,Y=M.N;if(k&&Y){var tt=k.site,at=M.site,ut=Y.site;if(tt!==ut){var vt=at.x,bt=at.y,Ct=tt.x-vt,Ot=tt.y-bt,Yt=ut.x-vt,Kt=2*(Ct*(Te=ut.y-bt)-Ot*Yt);if(!(Kt>=-te)){var ie=Ct*Ct+Ot*Ot,me=Yt*Yt+Te*Te,Ce=(Te*ie-Ot*me)/Kt,de=(Ct*me-Yt*ie)/Kt,Te=de+bt,le=mr.pop()||new No;le.arc=M,le.site=at,le.x=Ce+vt,le.y=Te+Math.sqrt(Ce*Ce+de*de),le.cy=Te,M.circle=le;for(var Ne=null,Ee=Zn._;Ee;)if(le.y<Ee.y||le.y===Ee.y&&le.x<=Ee.x){if(!Ee.L){Ne=Ee.P;break}Ee=Ee.L}else{if(!Ee.R){Ne=Ee;break}Ee=Ee.R}Zn.insert(Ne,le),Ne||(Ci=le)}}}}function ra(M){var k=M.circle;k&&(k.P||(Ci=k.N),Zn.remove(k),mr.push(k),Rs(k),M.circle=null)}function Hn(M,k){var Y=M.b;if(Y)return!0;var tt,at,ut=M.a,vt=k[0][0],bt=k[1][0],Ct=k[0][1],Ot=k[1][1],Yt=M.l,Kt=M.r,ie=Yt.x,me=Yt.y,Ce=Kt.x,de=Kt.y,Te=(ie+Ce)/2,le=(me+de)/2;if(de===me){if(Te<vt||Te>=bt)return;if(ie>Ce){if(ut){if(ut.y>=Ot)return}else ut={x:Te,y:Ct};Y={x:Te,y:Ot}}else{if(ut){if(ut.y<Ct)return}else ut={x:Te,y:Ot};Y={x:Te,y:Ct}}}else if(at=le-(tt=(ie-Ce)/(de-me))*Te,tt<-1||tt>1)if(ie>Ce){if(ut){if(ut.y>=Ot)return}else ut={x:(Ct-at)/tt,y:Ct};Y={x:(Ot-at)/tt,y:Ot}}else{if(ut){if(ut.y<Ct)return}else ut={x:(Ot-at)/tt,y:Ot};Y={x:(Ct-at)/tt,y:Ct}}else if(me<de){if(ut){if(ut.x>=bt)return}else ut={x:vt,y:tt*vt+at};Y={x:bt,y:tt*bt+at}}else{if(ut){if(ut.x<vt)return}else ut={x:bt,y:tt*bt+at};Y={x:vt,y:tt*vt+at}}return M.a=ut,M.b=Y,!0}function ha(M,k){this.l=M,this.r=k,this.a=this.b=null}function wa(M,k,Y,tt){var at=new ha(M,k);return Ni.push(at),Y&&Xr(at,M,k,Y),tt&&Xr(at,k,M,tt),qr[M.i].edges.push(new Kl(at,M,k)),qr[k.i].edges.push(new Kl(at,k,M)),at}function Xr(M,k,Y,tt){M.a||M.b?M.l===Y?M.b=tt:M.a=tt:(M.a=tt,M.l=k,M.r=Y)}function Kl(M,k,Y){var tt=M.a,at=M.b;this.edge=M,this.site=k,this.angle=Y?Math.atan2(Y.y-k.y,Y.x-k.x):M.l===k?Math.atan2(at.x-tt.x,tt.y-at.y):Math.atan2(tt.x-at.x,at.y-tt.y)}function Cu(){this._=null}function Rs(M){M.U=M.C=M.L=M.R=M.P=M.N=null}function rs(M,k){var Y=k,tt=k.R,at=Y.U;at?at.L===Y?at.L=tt:at.R=tt:M._=tt,tt.U=at,Y.U=tt,Y.R=tt.L,Y.R&&(Y.R.U=Y),tt.L=Y}function is(M,k){var Y=k,tt=k.L,at=Y.U;at?at.L===Y?at.L=tt:at.R=tt:M._=tt,tt.U=at,Y.U=tt,Y.L=tt.R,Y.L&&(Y.L.U=Y),tt.R=Y}function xc(M){for(;M.L;)M=M.L;return M}function Ta(M,k){var Y,tt,at,ut=M.sort(yp).pop();for(Ni=[],qr=new Array(M.length),Da=new Cu,Zn=new Cu;;)if(at=Ci,ut&&(!at||ut.y<at.y||ut.y===at.y&&ut.x<at.x))ut.x===Y&&ut.y===tt||(qr[ut.i]=new Ii(ut),ni(ut),Y=ut.x,tt=ut.y),ut=M.pop();else{if(!at)break;ar(at.arc)}k&&(function(bt){for(var Ct,Ot,Yt,Kt,ie,me=Ni,Ce=(Ot=bt[0][0],Yt=bt[0][1],Kt=bt[1][0],ie=bt[1][1],function(Te){var le,Ne=Te.a,Ee=Te.b,ue=Ne.x,Ke=Ne.y,Ze=0,ln=1,hn=Ee.x-ue,Ln=Ee.y-Ke;if(le=Ot-ue,hn||!(le>0)){if(le/=hn,hn<0){if(le<Ze)return;le<ln&&(ln=le)}else if(hn>0){if(le>ln)return;le>Ze&&(Ze=le)}if(le=Kt-ue,hn||!(le<0)){if(le/=hn,hn<0){if(le>ln)return;le>Ze&&(Ze=le)}else if(hn>0){if(le<Ze)return;le<ln&&(ln=le)}if(le=Yt-Ke,Ln||!(le>0)){if(le/=Ln,Ln<0){if(le<Ze)return;le<ln&&(ln=le)}else if(Ln>0){if(le>ln)return;le>Ze&&(Ze=le)}if(le=ie-Ke,Ln||!(le<0)){if(le/=Ln,Ln<0){if(le>ln)return;le>Ze&&(Ze=le)}else if(Ln>0){if(le<Ze)return;le<ln&&(ln=le)}return Ze>0&&(Te.a={x:ue+Ze*hn,y:Ke+Ze*Ln}),ln<1&&(Te.b={x:ue+ln*hn,y:Ke+ln*Ln}),Te}}}}}),de=me.length;de--;)(!Hn(Ct=me[de],bt)||!Ce(Ct)||O(Ct.a.x-Ct.b.x)<Rt&&O(Ct.a.y-Ct.b.y)<Rt)&&(Ct.a=Ct.b=null,me.splice(de,1))}(k),function(bt){for(var Ct,Ot,Yt,Kt,ie,me,Ce,de,Te,le,Ne=bt[0][0],Ee=bt[1][0],ue=bt[0][1],Ke=bt[1][1],Ze=qr,ln=Ze.length;ln--;)if((ie=Ze[ln])&&ie.prepare())for(de=(Ce=ie.edges).length,me=0;me<de;)Yt=(le=Ce[me].end()).x,Kt=le.y,Ct=(Te=Ce[++me%de].start()).x,Ot=Te.y,(O(Yt-Ct)>Rt||O(Kt-Ot)>Rt)&&(Ce.splice(me,0,new Kl((hn=ie.site,Ln=le,Pn=O(Yt-Ne)<Rt&&Ke-Kt>Rt?{x:Ne,y:O(Ct-Ne)<Rt?Ot:Ke}:O(Kt-Ke)<Rt&&Ee-Yt>Rt?{x:O(Ot-Ke)<Rt?Ct:Ee,y:Ke}:O(Yt-Ee)<Rt&&Kt-ue>Rt?{x:Ee,y:O(Ct-Ee)<Rt?Ot:ue}:O(Kt-ue)<Rt&&Yt-Ne>Rt?{x:O(Ot-ue)<Rt?Ct:Ne,y:ue}:null,Yn=void 0,(Yn=new ha(hn,null)).a=Ln,Yn.b=Pn,Ni.push(Yn),Yn),ie.site,null)),++de);var hn,Ln,Pn,Yn}(k));var vt={cells:qr,edges:Ni};return Da=Zn=Ni=qr=null,vt}function yp(M,k){return k.y-M.y||k.x-M.x}Ii.prototype.prepare=function(){for(var M,k=this.edges,Y=k.length;Y--;)(M=k[Y].edge).b&&M.a||k.splice(Y,1);return k.sort(Wa),k.length},Kl.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Cu.prototype={insert:function(M,k){var Y,tt,at;if(M){if(k.P=M,k.N=M.N,M.N&&(M.N.P=k),M.N=k,M.R){for(M=M.R;M.L;)M=M.L;M.L=k}else M.R=k;Y=M}else this._?(M=xc(this._),k.P=null,k.N=M,M.P=M.L=k,Y=M):(k.P=k.N=null,this._=k,Y=null);for(k.L=k.R=null,k.U=Y,k.C=!0,M=k;Y&&Y.C;)Y===(tt=Y.U).L?(at=tt.R)&&at.C?(Y.C=at.C=!1,tt.C=!0,M=tt):(M===Y.R&&(rs(this,Y),Y=(M=Y).U),Y.C=!1,tt.C=!0,is(this,tt)):(at=tt.L)&&at.C?(Y.C=at.C=!1,tt.C=!0,M=tt):(M===Y.L&&(is(this,Y),Y=(M=Y).U),Y.C=!1,tt.C=!0,rs(this,tt)),Y=M.U;this._.C=!1},remove:function(M){M.N&&(M.N.P=M.P),M.P&&(M.P.N=M.N),M.N=M.P=null;var k,Y,tt,at=M.U,ut=M.L,vt=M.R;if(Y=ut?vt?xc(vt):ut:vt,at?at.L===M?at.L=Y:at.R=Y:this._=Y,ut&&vt?(tt=Y.C,Y.C=M.C,Y.L=ut,ut.U=Y,Y!==vt?(at=Y.U,Y.U=M.U,M=Y.R,at.L=M,Y.R=vt,vt.U=Y):(Y.U=at,at=Y,M=Y.R)):(tt=M.C,M=Y),M&&(M.U=at),!tt)if(M&&M.C)M.C=!1;else{do{if(M===this._)break;if(M===at.L){if((k=at.R).C&&(k.C=!1,at.C=!0,rs(this,at),k=at.R),k.L&&k.L.C||k.R&&k.R.C){k.R&&k.R.C||(k.L.C=!1,k.C=!0,is(this,k),k=at.R),k.C=at.C,at.C=k.R.C=!1,rs(this,at),M=this._;break}}else if((k=at.L).C&&(k.C=!1,at.C=!0,is(this,at),k=at.L),k.L&&k.L.C||k.R&&k.R.C){k.L&&k.L.C||(k.R.C=!1,k.C=!0,rs(this,k),k=at.L),k.C=at.C,at.C=k.L.C=!1,is(this,at),M=this._;break}k.C=!0,M=at,at=at.U}while(!M.C);M&&(M.C=!1)}}},u.geom.voronoi=function(M){var k=Kn,Y=qn,tt=k,at=Y,ut=da;if(M)return vt(M);function vt(Ct){var Ot=new Array(Ct.length),Yt=ut[0][0],Kt=ut[0][1],ie=ut[1][0],me=ut[1][1];return Ta(bt(Ct),ut).cells.forEach(function(Ce,de){var Te=Ce.edges,le=Ce.site;(Ot[de]=Te.length?Te.map(function(Ne){var Ee=Ne.start();return[Ee.x,Ee.y]}):le.x>=Yt&&le.x<=ie&&le.y>=Kt&&le.y<=me?[[Yt,me],[ie,me],[ie,Kt],[Yt,Kt]]:[]).point=Ct[de]}),Ot}function bt(Ct){return Ct.map(function(Ot,Yt){return{x:Math.round(tt(Ot,Yt)/Rt)*Rt,y:Math.round(at(Ot,Yt)/Rt)*Rt,i:Yt}})}return vt.links=function(Ct){return Ta(bt(Ct)).edges.filter(function(Ot){return Ot.l&&Ot.r}).map(function(Ot){return{source:Ct[Ot.l.i],target:Ct[Ot.r.i]}})},vt.triangles=function(Ct){var Ot=[];return Ta(bt(Ct)).cells.forEach(function(Yt,Kt){for(var ie,me,Ce,de,Te=Yt.site,le=Yt.edges.sort(Wa),Ne=-1,Ee=le.length,ue=le[Ee-1].edge,Ke=ue.l===Te?ue.r:ue.l;++Ne<Ee;)ie=Ke,Ke=(ue=le[Ne].edge).l===Te?ue.r:ue.l,Kt<ie.i&&Kt<Ke.i&&(Ce=ie,de=Ke,((me=Te).x-de.x)*(Ce.y-me.y)-(me.x-Ce.x)*(de.y-me.y)<0)&&Ot.push([Ct[Kt],Ct[ie.i],Ct[Ke.i]])}),Ot},vt.x=function(Ct){return arguments.length?(tt=Je(k=Ct),vt):k},vt.y=function(Ct){return arguments.length?(at=Je(Y=Ct),vt):Y},vt.clipExtent=function(Ct){return arguments.length?(ut=Ct??da,vt):ut===da?null:ut},vt.size=function(Ct){return arguments.length?vt.clipExtent(Ct&&[[0,0],Ct]):ut===da?null:ut&&ut[1]},vt};var da=[[-1e6,-1e6],[1e6,1e6]];function _p(M){return M.x}function Qy(M){return M.y}function as(M,k,Y,tt,at,ut){if(!M(k,Y,tt,at,ut)){var vt=.5*(Y+at),bt=.5*(tt+ut),Ct=k.nodes;Ct[0]&&as(M,Ct[0],Y,tt,vt,bt),Ct[1]&&as(M,Ct[1],vt,tt,at,bt),Ct[2]&&as(M,Ct[2],Y,bt,vt,ut),Ct[3]&&as(M,Ct[3],vt,bt,at,ut)}}function yf(M,k){M=u.rgb(M),k=u.rgb(k);var Y=M.r,tt=M.g,at=M.b,ut=k.r-Y,vt=k.g-tt,bt=k.b-at;return function(Ct){return"#"+ze(Math.round(Y+ut*Ct))+ze(Math.round(tt+vt*Ct))+ze(Math.round(at+bt*Ct))}}function xp(M,k){var Y,tt={},at={};for(Y in M)Y in k?tt[Y]=Jl(M[Y],k[Y]):at[Y]=M[Y];for(Y in k)Y in M||(at[Y]=k[Y]);return function(ut){for(Y in tt)at[Y]=tt[Y](ut);return at}}function Yr(M,k){return M=+M,k=+k,function(Y){return M*(1-Y)+k*Y}}function Zl(M,k){var Y,tt,at,ut=zh.lastIndex=Y0.lastIndex=0,vt=-1,bt=[],Ct=[];for(M+="",k+="";(Y=zh.exec(M))&&(tt=Y0.exec(k));)(at=tt.index)>ut&&(at=k.slice(ut,at),bt[vt]?bt[vt]+=at:bt[++vt]=at),(Y=Y[0])===(tt=tt[0])?bt[vt]?bt[vt]+=tt:bt[++vt]=tt:(bt[++vt]=null,Ct.push({i:vt,x:Yr(Y,tt)})),ut=Y0.lastIndex;return ut<k.length&&(at=k.slice(ut),bt[vt]?bt[vt]+=at:bt[++vt]=at),bt.length<2?Ct[0]?(k=Ct[0].x,function(Ot){return k(Ot)+""}):function(){return k}:(k=Ct.length,function(Ot){for(var Yt,Kt=0;Kt<k;++Kt)bt[(Yt=Ct[Kt]).i]=Yt.x(Ot);return bt.join("")})}u.geom.delaunay=function(M){return u.geom.voronoi().triangles(M)},u.geom.quadtree=function(M,k,Y,tt,at){var ut,vt=Kn,bt=qn;if(ut=arguments.length)return vt=_p,bt=Qy,ut===3&&(at=Y,tt=k,Y=k=0),Ct(M);function Ct(Ot){var Yt,Kt,ie,me,Ce,de,Te,le,Ne,Ee=Je(vt),ue=Je(bt);if(k!=null)de=k,Te=Y,le=tt,Ne=at;else if(le=Ne=-(de=Te=1/0),Kt=[],ie=[],Ce=Ot.length,ut)for(me=0;me<Ce;++me)(Yt=Ot[me]).x<de&&(de=Yt.x),Yt.y<Te&&(Te=Yt.y),Yt.x>le&&(le=Yt.x),Yt.y>Ne&&(Ne=Yt.y),Kt.push(Yt.x),ie.push(Yt.y);else for(me=0;me<Ce;++me){var Ke=+Ee(Yt=Ot[me],me),Ze=+ue(Yt,me);Ke<de&&(de=Ke),Ze<Te&&(Te=Ze),Ke>le&&(le=Ke),Ze>Ne&&(Ne=Ze),Kt.push(Ke),ie.push(Ze)}var ln=le-de,hn=Ne-Te;function Ln(Cn,sr,Nr,pi,xn,On,tr,Qn){if(!isNaN(Nr)&&!isNaN(pi))if(Cn.leaf){var Er=Cn.x,ri=Cn.y;if(Er!=null)if(O(Er-Nr)+O(ri-pi)<.01)Pn(Cn,sr,Nr,pi,xn,On,tr,Qn);else{var Ui=Cn.point;Cn.x=Cn.y=Cn.point=null,Pn(Cn,Ui,Er,ri,xn,On,tr,Qn),Pn(Cn,sr,Nr,pi,xn,On,tr,Qn)}else Cn.x=Nr,Cn.y=pi,Cn.point=sr}else Pn(Cn,sr,Nr,pi,xn,On,tr,Qn)}function Pn(Cn,sr,Nr,pi,xn,On,tr,Qn){var Er=.5*(xn+tr),ri=.5*(On+Qn),Ui=Nr>=Er,li=pi>=ri,ia=li<<1|Ui;Cn.leaf=!1,Ui?xn=Er:tr=Er,li?On=ri:Qn=ri,Ln(Cn=Cn.nodes[ia]||(Cn.nodes[ia]={leaf:!0,nodes:[],point:null,x:null,y:null}),sr,Nr,pi,xn,On,tr,Qn)}ln>hn?Ne=Te+ln:le=de+hn;var Yn={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(Cn){Ln(Yn,Cn,+Ee(Cn,++me),+ue(Cn,me),de,Te,le,Ne)}};if(Yn.visit=function(Cn){as(Cn,Yn,de,Te,le,Ne)},Yn.find=function(Cn){return function(sr,Nr,pi,xn,On,tr,Qn){var Er,ri=1/0;return function Ui(li,ia,Vi,Hi,za){if(!(ia>tr||Vi>Qn||Hi<xn||za<On)){if(Ds=li.point){var Ds,hl=Nr-li.x,dl=pi-li.y,aa=hl*hl+dl*dl;if(aa<ri){var Oi=Math.sqrt(ri=aa);xn=Nr-Oi,On=pi-Oi,tr=Nr+Oi,Qn=pi+Oi,Er=Ds}}for(var uo=li.nodes,Ba=.5*(ia+Hi),co=.5*(Vi+za),Bo=(pi>=co)<<1|Nr>=Ba,pl=Bo+4;Bo<pl;++Bo)if(li=uo[3&Bo])switch(3&Bo){case 0:Ui(li,ia,Vi,Ba,co);break;case 1:Ui(li,Ba,Vi,Hi,co);break;case 2:Ui(li,ia,co,Ba,za);break;case 3:Ui(li,Ba,co,Hi,za)}}}(sr,xn,On,tr,Qn),Er}(Yn,Cn[0],Cn[1],de,Te,le,Ne)},me=-1,k==null){for(;++me<Ce;)Ln(Yn,Ot[me],Kt[me],ie[me],de,Te,le,Ne);--me}else Ot.forEach(Yn.add);return Kt=ie=Ot=Yt=null,Yn}return Ct.x=function(Ot){return arguments.length?(vt=Ot,Ct):vt},Ct.y=function(Ot){return arguments.length?(bt=Ot,Ct):bt},Ct.extent=function(Ot){return arguments.length?(Ot==null?k=Y=tt=at=null:(k=+Ot[0][0],Y=+Ot[0][1],tt=+Ot[1][0],at=+Ot[1][1]),Ct):k==null?null:[[k,Y],[tt,at]]},Ct.size=function(Ot){return arguments.length?(Ot==null?k=Y=tt=at=null:(k=Y=0,tt=+Ot[0],at=+Ot[1]),Ct):k==null?null:[tt-k,at-Y]},Ct},u.interpolateRgb=yf,u.interpolateObject=xp,u.interpolateNumber=Yr,u.interpolateString=Zl;var zh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Y0=new RegExp(zh.source,"g");function Jl(M,k){for(var Y,tt=u.interpolators.length;--tt>=0&&!(Y=u.interpolators[tt](M,k)););return Y}function bp(M,k){var Y,tt=[],at=[],ut=M.length,vt=k.length,bt=Math.min(M.length,k.length);for(Y=0;Y<bt;++Y)tt.push(Jl(M[Y],k[Y]));for(;Y<ut;++Y)at[Y]=M[Y];for(;Y<vt;++Y)at[Y]=k[Y];return function(Ct){for(Y=0;Y<bt;++Y)at[Y]=tt[Y](Ct);return at}}u.interpolate=Jl,u.interpolators=[function(M,k){var Y=typeof k;return(Y==="string"?Ue.has(k.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(k)?yf:Zl:k instanceof Vt?yf:Array.isArray(k)?bp:Y==="object"&&isNaN(k)?xp:Yr)(M,k)}],u.interpolateArray=bp;var t_=function(){return rt},F2=u.map({linear:t_,poly:function(M){return function(k){return Math.pow(k,M)}},quad:function(){return z2},cubic:function(){return n_},sin:function(){return W0},exp:function(){return $0},circle:function(){return i_},elastic:function(M,k){var Y;return arguments.length<2&&(k=.45),arguments.length?Y=k/Se*Math.asin(1/M):(M=1,Y=k/4),function(tt){return 1+M*Math.pow(2,-10*tt)*Math.sin((tt-Y)*Se/k)}},back:function(M){return M||(M=1.70158),function(k){return k*k*((M+1)*k-M)}},bounce:function(){return B2}}),e_=u.map({in:rt,out:Bh,"in-out":bc,"out-in":function(M){return bc(Bh(M))}});function Bh(M){return function(k){return 1-M(1-k)}}function bc(M){return function(k){return .5*(k<.5?M(2*k):2-M(2-2*k))}}function z2(M){return M*M}function n_(M){return M*M*M}function r_(M){if(M<=0)return 0;if(M>=1)return 1;var k=M*M,Y=k*M;return 4*(M<.5?Y:3*(M-k)+Y-.75)}function W0(M){return 1-Math.cos(M*ge)}function $0(M){return Math.pow(2,10*(M-1))}function i_(M){return 1-Math.sqrt(1-M*M)}function B2(M){return M<.36363636363636365?7.5625*M*M:M<.7272727272727273?7.5625*(M-=.5454545454545454)*M+.75:M<.9090909090909091?7.5625*(M-=.8181818181818182)*M+.9375:7.5625*(M-=.9545454545454546)*M+.984375}function wp(M,k){return k-=M,function(Y){return Math.round(M+k*Y)}}function Tp(M){var k,Y,tt,at=[M.a,M.b],ut=[M.c,M.d],vt=q0(at),bt=a_(at,ut),Ct=q0(((k=ut)[0]+=(tt=-bt)*(Y=at)[0],k[1]+=tt*Y[1],k))||0;at[0]*ut[1]<ut[0]*at[1]&&(at[0]*=-1,at[1]*=-1,vt*=-1,bt*=-1),this.rotate=(vt?Math.atan2(at[1],at[0]):Math.atan2(-ut[0],ut[1]))*Fe,this.translate=[M.e,M.f],this.scale=[vt,Ct],this.skew=Ct?Math.atan2(bt,Ct)*Fe:0}function a_(M,k){return M[0]*k[0]+M[1]*k[1]}function q0(M){var k=Math.sqrt(a_(M,M));return k&&(M[0]/=k,M[1]/=k),k}u.ease=function(M){var k,Y=M.indexOf("-"),tt=Y>=0?M.slice(0,Y):M,at=Y>=0?M.slice(Y+1):"in";return tt=F2.get(tt)||t_,at=e_.get(at)||rt,k=at(tt.apply(null,c.call(arguments,1))),function(ut){return ut<=0?0:ut>=1?1:k(ut)}},u.interpolateHcl=function(M,k){M=u.hcl(M),k=u.hcl(k);var Y=M.h,tt=M.c,at=M.l,ut=k.h-Y,vt=k.c-tt,bt=k.l-at;return isNaN(vt)&&(vt=0,tt=isNaN(tt)?k.c:tt),isNaN(ut)?(ut=0,Y=isNaN(Y)?k.h:Y):ut>180?ut-=360:ut<-180&&(ut+=360),function(Ct){return ye(Y+ut*Ct,tt+vt*Ct,at+bt*Ct)+""}},u.interpolateHsl=function(M,k){M=u.hsl(M),k=u.hsl(k);var Y=M.h,tt=M.s,at=M.l,ut=k.h-Y,vt=k.s-tt,bt=k.l-at;return isNaN(vt)&&(vt=0,tt=isNaN(tt)?k.s:tt),isNaN(ut)?(ut=0,Y=isNaN(Y)?k.h:Y):ut>180?ut-=360:ut<-180&&(ut+=360),function(Ct){return ee(Y+ut*Ct,tt+vt*Ct,at+bt*Ct)+""}},u.interpolateLab=function(M,k){M=u.lab(M),k=u.lab(k);var Y=M.l,tt=M.a,at=M.b,ut=k.l-Y,vt=k.a-tt,bt=k.b-at;return function(Ct){return _e(Y+ut*Ct,tt+vt*Ct,at+bt*Ct)+""}},u.interpolateRound=wp,u.transform=function(M){var k=d.createElementNS(u.ns.prefix.svg,"g");return(u.transform=function(Y){if(Y!=null){k.setAttribute("transform",Y);var tt=k.transform.baseVal.consolidate()}return new Tp(tt?tt.matrix:ko)})(M)},Tp.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ko={a:1,b:0,c:0,d:1,e:0,f:0};function Au(M){return M.length?M.pop()+",":""}function _f(M,k){var Y=[],tt=[];return M=u.transform(M),k=u.transform(k),function(at,ut,vt,bt){if(at[0]!==ut[0]||at[1]!==ut[1]){var Ct=vt.push("translate(",null,",",null,")");bt.push({i:Ct-4,x:Yr(at[0],ut[0])},{i:Ct-2,x:Yr(at[1],ut[1])})}else(ut[0]||ut[1])&&vt.push("translate("+ut+")")}(M.translate,k.translate,Y,tt),function(at,ut,vt,bt){at!==ut?(at-ut>180?ut+=360:ut-at>180&&(at+=360),bt.push({i:vt.push(Au(vt)+"rotate(",null,")")-2,x:Yr(at,ut)})):ut&&vt.push(Au(vt)+"rotate("+ut+")")}(M.rotate,k.rotate,Y,tt),function(at,ut,vt,bt){at!==ut?bt.push({i:vt.push(Au(vt)+"skewX(",null,")")-2,x:Yr(at,ut)}):ut&&vt.push(Au(vt)+"skewX("+ut+")")}(M.skew,k.skew,Y,tt),function(at,ut,vt,bt){if(at[0]!==ut[0]||at[1]!==ut[1]){var Ct=vt.push(Au(vt)+"scale(",null,",",null,")");bt.push({i:Ct-4,x:Yr(at[0],ut[0])},{i:Ct-2,x:Yr(at[1],ut[1])})}else ut[0]===1&&ut[1]===1||vt.push(Au(vt)+"scale("+ut+")")}(M.scale,k.scale,Y,tt),M=k=null,function(at){for(var ut,vt=-1,bt=tt.length;++vt<bt;)Y[(ut=tt[vt]).i]=ut.x(at);return Y.join("")}}function o_(M,k){return k=(k-=M=+M)||1/k,function(Y){return(Y-M)/k}}function s_(M,k){return k=(k-=M=+M)||1/k,function(Y){return Math.max(0,Math.min(1,(Y-M)/k))}}function G2(M){for(var k=M.source,Y=M.target,tt=function(vt,bt){if(vt===bt)return vt;for(var Ct=l_(vt),Ot=l_(bt),Yt=Ct.pop(),Kt=Ot.pop(),ie=null;Yt===Kt;)ie=Yt,Yt=Ct.pop(),Kt=Ot.pop();return ie}(k,Y),at=[k];k!==tt;)k=k.parent,at.push(k);for(var ut=at.length;Y!==tt;)at.splice(ut,0,Y),Y=Y.parent;return at}function l_(M){for(var k=[],Y=M.parent;Y!=null;)k.push(M),M=Y,Y=Y.parent;return k.push(M),k}function j2(M){M.fixed|=2}function U2(M){M.fixed&=-7}function V2(M){M.fixed|=4,M.px=M.x,M.py=M.y}function xf(M){M.fixed&=-5}function u_(M,k,Y){var tt=0,at=0;if(M.charge=0,!M.leaf)for(var ut,vt=M.nodes,bt=vt.length,Ct=-1;++Ct<bt;)(ut=vt[Ct])!=null&&(u_(ut,k,Y),M.charge+=ut.charge,tt+=ut.charge*ut.cx,at+=ut.charge*ut.cy);if(M.point){M.leaf||(M.point.x+=Math.random()-.5,M.point.y+=Math.random()-.5);var Ot=k*Y[M.point.index];M.charge+=M.pointCharge=Ot,tt+=Ot*M.point.x,at+=Ot*M.point.y}M.cx=tt/M.charge,M.cy=at/M.charge}u.interpolateTransform=_f,u.layout={},u.layout.bundle=function(){return function(M){for(var k=[],Y=-1,tt=M.length;++Y<tt;)k.push(G2(M[Y]));return k}},u.layout.chord=function(){var M,k,Y,tt,at,ut,vt,bt={},Ct=0;function Ot(){var Kt,ie,me,Ce,de,Te={},le=[],Ne=u.range(tt),Ee=[];for(M=[],k=[],Kt=0,Ce=-1;++Ce<tt;){for(ie=0,de=-1;++de<tt;)ie+=Y[Ce][de];le.push(ie),Ee.push(u.range(tt)),Kt+=ie}for(at&&Ne.sort(function(Yn,Cn){return at(le[Yn],le[Cn])}),ut&&Ee.forEach(function(Yn,Cn){Yn.sort(function(sr,Nr){return ut(Y[Cn][sr],Y[Cn][Nr])})}),Kt=(Se-Ct*tt)/Kt,ie=0,Ce=-1;++Ce<tt;){for(me=ie,de=-1;++de<tt;){var ue=Ne[Ce],Ke=Ee[ue][de],Ze=Y[ue][Ke],ln=ie,hn=ie+=Ze*Kt;Te[ue+"-"+Ke]={index:ue,subindex:Ke,startAngle:ln,endAngle:hn,value:Ze}}k[ue]={index:ue,startAngle:me,endAngle:ie,value:le[ue]},ie+=Ct}for(Ce=-1;++Ce<tt;)for(de=Ce-1;++de<tt;){var Ln=Te[Ce+"-"+de],Pn=Te[de+"-"+Ce];(Ln.value||Pn.value)&&M.push(Ln.value<Pn.value?{source:Pn,target:Ln}:{source:Ln,target:Pn})}vt&&Yt()}function Yt(){M.sort(function(Kt,ie){return vt((Kt.source.value+Kt.target.value)/2,(ie.source.value+ie.target.value)/2)})}return bt.matrix=function(Kt){return arguments.length?(tt=(Y=Kt)&&Y.length,M=k=null,bt):Y},bt.padding=function(Kt){return arguments.length?(Ct=Kt,M=k=null,bt):Ct},bt.sortGroups=function(Kt){return arguments.length?(at=Kt,M=k=null,bt):at},bt.sortSubgroups=function(Kt){return arguments.length?(ut=Kt,M=null,bt):ut},bt.sortChords=function(Kt){return arguments.length?(vt=Kt,M&&Yt(),bt):vt},bt.chords=function(){return M||Ot(),M},bt.groups=function(){return k||Ot(),k},bt},u.layout.force=function(){var M,k,Y,tt,at,ut,vt={},bt=u.dispatch("start","tick","end"),Ct=[1,1],Ot=.9,Yt=H2,Kt=X0,ie=-30,me=c_,Ce=.1,de=.64,Te=[],le=[];function Ne(ue){return function(Ke,Ze,ln,hn){if(Ke.point!==ue){var Ln=Ke.cx-ue.x,Pn=Ke.cy-ue.y,Yn=hn-Ze,Cn=Ln*Ln+Pn*Pn;if(Yn*Yn/de<Cn){if(Cn<me){var sr=Ke.charge/Cn;ue.px-=Ln*sr,ue.py-=Pn*sr}return!0}Ke.point&&Cn&&Cn<me&&(sr=Ke.pointCharge/Cn,ue.px-=Ln*sr,ue.py-=Pn*sr)}return!Ke.charge}}function Ee(ue){ue.px=u.event.x,ue.py=u.event.y,vt.resume()}return vt.tick=function(){if((Y*=.99)<.005)return M=null,bt.end({type:"end",alpha:Y=0}),!0;var ue,Ke,Ze,ln,hn,Ln,Pn,Yn,Cn,sr=Te.length,Nr=le.length;for(Ke=0;Ke<Nr;++Ke)ln=(Ze=le[Ke]).source,(Ln=(Yn=(hn=Ze.target).x-ln.x)*Yn+(Cn=hn.y-ln.y)*Cn)&&(Yn*=Ln=Y*at[Ke]*((Ln=Math.sqrt(Ln))-tt[Ke])/Ln,Cn*=Ln,hn.x-=Yn*(Pn=ln.weight+hn.weight?ln.weight/(ln.weight+hn.weight):.5),hn.y-=Cn*Pn,ln.x+=Yn*(Pn=1-Pn),ln.y+=Cn*Pn);if((Pn=Y*Ce)&&(Yn=Ct[0]/2,Cn=Ct[1]/2,Ke=-1,Pn))for(;++Ke<sr;)(Ze=Te[Ke]).x+=(Yn-Ze.x)*Pn,Ze.y+=(Cn-Ze.y)*Pn;if(ie)for(u_(ue=u.geom.quadtree(Te),Y,ut),Ke=-1;++Ke<sr;)(Ze=Te[Ke]).fixed||ue.visit(Ne(Ze));for(Ke=-1;++Ke<sr;)(Ze=Te[Ke]).fixed?(Ze.x=Ze.px,Ze.y=Ze.py):(Ze.x-=(Ze.px-(Ze.px=Ze.x))*Ot,Ze.y-=(Ze.py-(Ze.py=Ze.y))*Ot);bt.tick({type:"tick",alpha:Y})},vt.nodes=function(ue){return arguments.length?(Te=ue,vt):Te},vt.links=function(ue){return arguments.length?(le=ue,vt):le},vt.size=function(ue){return arguments.length?(Ct=ue,vt):Ct},vt.linkDistance=function(ue){return arguments.length?(Yt=typeof ue=="function"?ue:+ue,vt):Yt},vt.distance=vt.linkDistance,vt.linkStrength=function(ue){return arguments.length?(Kt=typeof ue=="function"?ue:+ue,vt):Kt},vt.friction=function(ue){return arguments.length?(Ot=+ue,vt):Ot},vt.charge=function(ue){return arguments.length?(ie=typeof ue=="function"?ue:+ue,vt):ie},vt.chargeDistance=function(ue){return arguments.length?(me=ue*ue,vt):Math.sqrt(me)},vt.gravity=function(ue){return arguments.length?(Ce=+ue,vt):Ce},vt.theta=function(ue){return arguments.length?(de=ue*ue,vt):Math.sqrt(de)},vt.alpha=function(ue){return arguments.length?(ue=+ue,Y?ue>0?Y=ue:(M.c=null,M.t=NaN,M=null,bt.end({type:"end",alpha:Y=0})):ue>0&&(bt.start({type:"start",alpha:Y=ue}),M=In(vt.tick)),vt):Y},vt.start=function(){var ue,Ke,Ze,ln=Te.length,hn=le.length,Ln=Ct[0],Pn=Ct[1];for(ue=0;ue<ln;++ue)(Ze=Te[ue]).index=ue,Ze.weight=0;for(ue=0;ue<hn;++ue)typeof(Ze=le[ue]).source=="number"&&(Ze.source=Te[Ze.source]),typeof Ze.target=="number"&&(Ze.target=Te[Ze.target]),++Ze.source.weight,++Ze.target.weight;for(ue=0;ue<ln;++ue)Ze=Te[ue],isNaN(Ze.x)&&(Ze.x=Yn("x",Ln)),isNaN(Ze.y)&&(Ze.y=Yn("y",Pn)),isNaN(Ze.px)&&(Ze.px=Ze.x),isNaN(Ze.py)&&(Ze.py=Ze.y);if(tt=[],typeof Yt=="function")for(ue=0;ue<hn;++ue)tt[ue]=+Yt.call(this,le[ue],ue);else for(ue=0;ue<hn;++ue)tt[ue]=Yt;if(at=[],typeof Kt=="function")for(ue=0;ue<hn;++ue)at[ue]=+Kt.call(this,le[ue],ue);else for(ue=0;ue<hn;++ue)at[ue]=Kt;if(ut=[],typeof ie=="function")for(ue=0;ue<ln;++ue)ut[ue]=+ie.call(this,Te[ue],ue);else for(ue=0;ue<ln;++ue)ut[ue]=ie;function Yn(Cn,sr){if(!Ke){for(Ke=new Array(ln),On=0;On<ln;++On)Ke[On]=[];for(On=0;On<hn;++On){var Nr=le[On];Ke[Nr.source.index].push(Nr.target),Ke[Nr.target.index].push(Nr.source)}}for(var pi,xn=Ke[ue],On=-1,tr=xn.length;++On<tr;)if(!isNaN(pi=xn[On][Cn]))return pi;return Math.random()*sr}return vt.resume()},vt.resume=function(){return vt.alpha(.1)},vt.stop=function(){return vt.alpha(0)},vt.drag=function(){if(k||(k=u.behavior.drag().origin(rt).on("dragstart.force",j2).on("drag.force",Ee).on("dragend.force",U2)),!arguments.length)return k;this.on("mouseover.force",V2).on("mouseout.force",xf).call(k)},u.rebind(vt,bt,"on")};var H2=20,X0=1,c_=1/0;function os(M,k){return u.rebind(M,k,"sort","children","value"),M.nodes=M,M.links=Ns,M}function Iu(M,k){for(var Y=[M];(M=Y.pop())!=null;)if(k(M),(at=M.children)&&(tt=at.length))for(var tt,at;--tt>=0;)Y.push(at[tt])}function fl(M,k){for(var Y=[M],tt=[];(M=Y.pop())!=null;)if(tt.push(M),(ut=M.children)&&(at=ut.length))for(var at,ut,vt=-1;++vt<at;)Y.push(ut[vt]);for(;(M=tt.pop())!=null;)k(M)}function Y2(M){return M.children}function W2(M){return M.value}function bf(M,k){return k.value-M.value}function Ns(M){return u.merge(M.map(function(k){return(k.children||[]).map(function(Y){return{source:k,target:Y}})}))}u.layout.hierarchy=function(){var M=bf,k=Y2,Y=W2;function tt(at){var ut,vt=[at],bt=[];for(at.depth=0;(ut=vt.pop())!=null;)if(bt.push(ut),(Ot=k.call(tt,ut,ut.depth))&&(Ct=Ot.length)){for(var Ct,Ot,Yt;--Ct>=0;)vt.push(Yt=Ot[Ct]),Yt.parent=ut,Yt.depth=ut.depth+1;Y&&(ut.value=0),ut.children=Ot}else Y&&(ut.value=+Y.call(tt,ut,ut.depth)||0),delete ut.children;return fl(at,function(Kt){var ie,me;M&&(ie=Kt.children)&&ie.sort(M),Y&&(me=Kt.parent)&&(me.value+=Kt.value)}),bt}return tt.sort=function(at){return arguments.length?(M=at,tt):M},tt.children=function(at){return arguments.length?(k=at,tt):k},tt.value=function(at){return arguments.length?(Y=at,tt):Y},tt.revalue=function(at){return Y&&(Iu(at,function(ut){ut.children&&(ut.value=0)}),fl(at,function(ut){var vt;ut.children||(ut.value=+Y.call(tt,ut,ut.depth)||0),(vt=ut.parent)&&(vt.value+=ut.value)})),at},tt},u.layout.partition=function(){var M=u.layout.hierarchy(),k=[1,1];function Y(ut,vt,bt,Ct){var Ot=ut.children;if(ut.x=vt,ut.y=ut.depth*Ct,ut.dx=bt,ut.dy=Ct,Ot&&(Yt=Ot.length)){var Yt,Kt,ie,me=-1;for(bt=ut.value?bt/ut.value:0;++me<Yt;)Y(Kt=Ot[me],vt,ie=Kt.value*bt,Ct),vt+=ie}}function tt(ut){var vt=ut.children,bt=0;if(vt&&(Ct=vt.length))for(var Ct,Ot=-1;++Ot<Ct;)bt=Math.max(bt,tt(vt[Ot]));return 1+bt}function at(ut,vt){var bt=M.call(this,ut,vt);return Y(bt[0],0,k[0],k[1]/tt(bt[0])),bt}return at.size=function(ut){return arguments.length?(k=ut,at):k},os(at,M)},u.layout.pie=function(){var M=Number,k=K0,Y=0,tt=Se,at=0;function ut(vt){var bt,Ct=vt.length,Ot=vt.map(function(Ne,Ee){return+M.call(ut,Ne,Ee)}),Yt=+(typeof Y=="function"?Y.apply(this,arguments):Y),Kt=(typeof tt=="function"?tt.apply(this,arguments):tt)-Yt,ie=Math.min(Math.abs(Kt)/Ct,+(typeof at=="function"?at.apply(this,arguments):at)),me=ie*(Kt<0?-1:1),Ce=u.sum(Ot),de=Ce?(Kt-Ct*me)/Ce:0,Te=u.range(Ct),le=[];return k!=null&&Te.sort(k===K0?function(Ne,Ee){return Ot[Ee]-Ot[Ne]}:function(Ne,Ee){return k(vt[Ne],vt[Ee])}),Te.forEach(function(Ne){le[Ne]={data:vt[Ne],value:bt=Ot[Ne],startAngle:Yt,endAngle:Yt+=bt*de+me,padAngle:ie}}),le}return ut.value=function(vt){return arguments.length?(M=vt,ut):M},ut.sort=function(vt){return arguments.length?(k=vt,ut):k},ut.startAngle=function(vt){return arguments.length?(Y=vt,ut):Y},ut.endAngle=function(vt){return arguments.length?(tt=vt,ut):tt},ut.padAngle=function(vt){return arguments.length?(at=vt,ut):at},ut};var K0={};function $2(M){return M.x}function q2(M){return M.y}function X2(M,k,Y){M.y0=k,M.y=Y}u.layout.stack=function(){var M=rt,k=Ou,Y=ke,tt=X2,at=$2,ut=q2;function vt(bt,Ct){if(!(ie=bt.length))return bt;var Ot=bt.map(function(Ne,Ee){return M.call(vt,Ne,Ee)}),Yt=Ot.map(function(Ne){return Ne.map(function(Ee,ue){return[at.call(vt,Ee,ue),ut.call(vt,Ee,ue)]})}),Kt=k.call(vt,Yt,Ct);Ot=u.permute(Ot,Kt),Yt=u.permute(Yt,Kt);var ie,me,Ce,de,Te=Y.call(vt,Yt,Ct),le=Ot[0].length;for(Ce=0;Ce<le;++Ce)for(tt.call(vt,Ot[0][Ce],de=Te[Ce],Yt[0][Ce][1]),me=1;me<ie;++me)tt.call(vt,Ot[me][Ce],de+=Yt[me-1][Ce][1],Yt[me][Ce][1]);return bt}return vt.values=function(bt){return arguments.length?(M=bt,vt):M},vt.order=function(bt){return arguments.length?(k=typeof bt=="function"?bt:K2.get(bt)||Ou,vt):k},vt.offset=function(bt){return arguments.length?(Y=typeof bt=="function"?bt:Z2.get(bt)||ke,vt):Y},vt.x=function(bt){return arguments.length?(at=bt,vt):at},vt.y=function(bt){return arguments.length?(ut=bt,vt):ut},vt.out=function(bt){return arguments.length?(tt=bt,vt):tt},vt};var K2=u.map({"inside-out":function(M){var k,Y,tt=M.length,at=M.map(sn),ut=M.map(en),vt=u.range(tt).sort(function(Kt,ie){return at[Kt]-at[ie]}),bt=0,Ct=0,Ot=[],Yt=[];for(k=0;k<tt;++k)Y=vt[k],bt<Ct?(bt+=ut[Y],Ot.push(Y)):(Ct+=ut[Y],Yt.push(Y));return Yt.reverse().concat(Ot)},reverse:function(M){return u.range(M.length).reverse()},default:Ou}),Z2=u.map({silhouette:function(M){var k,Y,tt,at=M.length,ut=M[0].length,vt=[],bt=0,Ct=[];for(Y=0;Y<ut;++Y){for(k=0,tt=0;k<at;k++)tt+=M[k][Y][1];tt>bt&&(bt=tt),vt.push(tt)}for(Y=0;Y<ut;++Y)Ct[Y]=(bt-vt[Y])/2;return Ct},wiggle:function(M){var k,Y,tt,at,ut,vt,bt,Ct,Ot,Yt=M.length,Kt=M[0],ie=Kt.length,me=[];for(me[0]=Ct=Ot=0,Y=1;Y<ie;++Y){for(k=0,at=0;k<Yt;++k)at+=M[k][Y][1];for(k=0,ut=0,bt=Kt[Y][0]-Kt[Y-1][0];k<Yt;++k){for(tt=0,vt=(M[k][Y][1]-M[k][Y-1][1])/(2*bt);tt<k;++tt)vt+=(M[tt][Y][1]-M[tt][Y-1][1])/bt;ut+=vt*M[k][Y][1]}me[Y]=Ct-=at?ut/at*bt:0,Ct<Ot&&(Ot=Ct)}for(Y=0;Y<ie;++Y)me[Y]-=Ot;return me},expand:function(M){var k,Y,tt,at=M.length,ut=M[0].length,vt=1/at,bt=[];for(Y=0;Y<ut;++Y){for(k=0,tt=0;k<at;k++)tt+=M[k][Y][1];if(tt)for(k=0;k<at;k++)M[k][Y][1]/=tt;else for(k=0;k<at;k++)M[k][Y][1]=vt}for(Y=0;Y<ut;++Y)bt[Y]=0;return bt},zero:ke});function Ou(M){return u.range(M.length)}function ke(M){for(var k=-1,Y=M[0].length,tt=[];++k<Y;)tt[k]=0;return tt}function sn(M){for(var k,Y=1,tt=0,at=M[0][1],ut=M.length;Y<ut;++Y)(k=M[Y][1])>at&&(tt=Y,at=k);return tt}function en(M){return M.reduce(zn,0)}function zn(M,k){return M+k[1]}function vr(M,k){return Wr(M,Math.ceil(Math.log(k.length)/Math.LN2+1))}function Wr(M,k){for(var Y=-1,tt=+M[0],at=(M[1]-tt)/k,ut=[];++Y<=k;)ut[Y]=at*Y+tt;return ut}function pa(M){return[u.min(M),u.max(M)]}function di(M,k){return M.value-k.value}function Gh(M,k){var Y=M._pack_next;M._pack_next=k,k._pack_prev=M,k._pack_next=Y,Y._pack_prev=k}function f_(M,k){M._pack_next=k,k._pack_prev=M}function Do(M,k){var Y=k.x-M.x,tt=k.y-M.y,at=M.r+k.r;return .999*at*at>Y*Y+tt*tt}function jh(M){if((k=M.children)&&(Ct=k.length)){var k,Y,tt,at,ut,vt,bt,Ct,Ot=1/0,Yt=-1/0,Kt=1/0,ie=-1/0;if(k.forEach(J2),(Y=k[0]).x=-Y.r,Y.y=0,Ee(Y),Ct>1&&((tt=k[1]).x=tt.r,tt.y=0,Ee(tt),Ct>2))for(Vh(Y,tt,at=k[2]),Ee(at),Gh(Y,at),Y._pack_prev=at,Gh(at,tt),tt=Y._pack_next,ut=3;ut<Ct;ut++){Vh(Y,tt,at=k[ut]);var me=0,Ce=1,de=1;for(vt=tt._pack_next;vt!==tt;vt=vt._pack_next,Ce++)if(Do(vt,at)){me=1;break}if(me==1)for(bt=Y._pack_prev;bt!==vt._pack_prev&&!Do(bt,at);bt=bt._pack_prev,de++);me?(Ce<de||Ce==de&&tt.r<Y.r?f_(Y,tt=vt):f_(Y=bt,tt),ut--):(Gh(Y,at),tt=at,Ee(at))}var Te=(Ot+Yt)/2,le=(Kt+ie)/2,Ne=0;for(ut=0;ut<Ct;ut++)(at=k[ut]).x-=Te,at.y-=le,Ne=Math.max(Ne,at.r+Math.sqrt(at.x*at.x+at.y*at.y));M.r=Ne,k.forEach(wf)}function Ee(ue){Ot=Math.min(ue.x-ue.r,Ot),Yt=Math.max(ue.x+ue.r,Yt),Kt=Math.min(ue.y-ue.r,Kt),ie=Math.max(ue.y+ue.r,ie)}}function J2(M){M._pack_next=M._pack_prev=M}function wf(M){delete M._pack_next,delete M._pack_prev}function Uh(M,k,Y,tt){var at=M.children;if(M.x=k+=tt*M.x,M.y=Y+=tt*M.y,M.r*=tt,at)for(var ut=-1,vt=at.length;++ut<vt;)Uh(at[ut],k,Y,tt)}function Vh(M,k,Y){var tt=M.r+Y.r,at=k.x-M.x,ut=k.y-M.y;if(tt&&(at||ut)){var vt=k.r+Y.r,bt=at*at+ut*ut,Ct=.5+((tt*=tt)-(vt*=vt))/(2*bt),Ot=Math.sqrt(Math.max(0,2*vt*(tt+bt)-(tt-=bt)*tt-vt*vt))/(2*bt);Y.x=M.x+Ct*at+Ot*ut,Y.y=M.y+Ct*ut-Ot*at}else Y.x=M.x+tt,Y.y=M.y}function ti(M,k){return M.parent==k.parent?1:2}function Z0(M){var k=M.children;return k.length?k[0]:M.t}function Ep(M){var k,Y=M.children;return(k=Y.length)?Y[k-1]:M.t}function Mp(M,k,Y){var tt=Y/(k.i-M.i);k.c-=tt,k.s+=Y,M.c+=tt,k.z+=Y,k.m+=Y}function Q2(M,k,Y){return M.a.parent===k.parent?M.a:Y}function h_(M){var k=M.children;return k&&k.length?h_(k[0]):M}function d_(M){var k,Y=M.children;return Y&&(k=Y.length)?d_(Y[k-1]):M}function Tf(M){return{x:M.x,y:M.y,dx:M.dx,dy:M.dy}}function Ql(M,k){var Y=M.x+k[3],tt=M.y+k[0],at=M.dx-k[1]-k[3],ut=M.dy-k[0]-k[2];return at<0&&(Y+=at/2,at=0),ut<0&&(tt+=ut/2,ut=0),{x:Y,y:tt,dx:at,dy:ut}}function wc(M){var k=M[0],Y=M[M.length-1];return k<Y?[k,Y]:[Y,k]}function Hh(M){return M.rangeExtent?M.rangeExtent():wc(M.range())}function Sp(M,k,Y,tt){var at=Y(M[0],M[1]),ut=tt(k[0],k[1]);return function(vt){return ut(at(vt))}}function Cp(M,k){var Y,tt=0,at=M.length-1,ut=M[tt],vt=M[at];return vt<ut&&(Y=tt,tt=at,at=Y,Y=ut,ut=vt,vt=Y),M[tt]=k.floor(ut),M[at]=k.ceil(vt),M}function J0(M){return M?{floor:function(k){return Math.floor(k/M)*M},ceil:function(k){return Math.ceil(k/M)*M}}:Ap}u.layout.histogram=function(){var M=!0,k=Number,Y=pa,tt=vr;function at(ut,vt){for(var bt,Ct,Ot=[],Yt=ut.map(k,this),Kt=Y.call(this,Yt,vt),ie=tt.call(this,Kt,Yt,vt),me=(vt=-1,Yt.length),Ce=ie.length-1,de=M?1:1/me;++vt<Ce;)(bt=Ot[vt]=[]).dx=ie[vt+1]-(bt.x=ie[vt]),bt.y=0;if(Ce>0)for(vt=-1;++vt<me;)(Ct=Yt[vt])>=Kt[0]&&Ct<=Kt[1]&&((bt=Ot[u.bisect(ie,Ct,1,Ce)-1]).y+=de,bt.push(ut[vt]));return Ot}return at.value=function(ut){return arguments.length?(k=ut,at):k},at.range=function(ut){return arguments.length?(Y=Je(ut),at):Y},at.bins=function(ut){return arguments.length?(tt=typeof ut=="number"?function(vt){return Wr(vt,ut)}:Je(ut),at):tt},at.frequency=function(ut){return arguments.length?(M=!!ut,at):M},at},u.layout.pack=function(){var M,k=u.layout.hierarchy().sort(di),Y=0,tt=[1,1];function at(ut,vt){var bt=k.call(this,ut,vt),Ct=bt[0],Ot=tt[0],Yt=tt[1],Kt=M==null?Math.sqrt:typeof M=="function"?M:function(){return M};if(Ct.x=Ct.y=0,fl(Ct,function(me){me.r=+Kt(me.value)}),fl(Ct,jh),Y){var ie=Y*(M?1:Math.max(2*Ct.r/Ot,2*Ct.r/Yt))/2;fl(Ct,function(me){me.r+=ie}),fl(Ct,jh),fl(Ct,function(me){me.r-=ie})}return Uh(Ct,Ot/2,Yt/2,M?1:1/Math.max(2*Ct.r/Ot,2*Ct.r/Yt)),bt}return at.size=function(ut){return arguments.length?(tt=ut,at):tt},at.radius=function(ut){return arguments.length?(M=ut==null||typeof ut=="function"?ut:+ut,at):M},at.padding=function(ut){return arguments.length?(Y=+ut,at):Y},os(at,k)},u.layout.tree=function(){var M=u.layout.hierarchy().sort(null).value(null),k=ti,Y=[1,1],tt=null;function at(Ct,Ot){var Yt=M.call(this,Ct,Ot),Kt=Yt[0],ie=function(Ee){for(var ue,Ke={A:null,children:[Ee]},Ze=[Ke];(ue=Ze.pop())!=null;)for(var ln,hn=ue.children,Ln=0,Pn=hn.length;Ln<Pn;++Ln)Ze.push((hn[Ln]=ln={_:hn[Ln],parent:ue,children:(ln=hn[Ln].children)&&ln.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Ln}).a=ln);return Ke.children[0]}(Kt);if(fl(ie,ut),ie.parent.m=-ie.z,Iu(ie,vt),tt)Iu(Kt,bt);else{var me=Kt,Ce=Kt,de=Kt;Iu(Kt,function(Ee){Ee.x<me.x&&(me=Ee),Ee.x>Ce.x&&(Ce=Ee),Ee.depth>de.depth&&(de=Ee)});var Te=k(me,Ce)/2-me.x,le=Y[0]/(Ce.x+k(Ce,me)/2+Te),Ne=Y[1]/(de.depth||1);Iu(Kt,function(Ee){Ee.x=(Ee.x+Te)*le,Ee.y=Ee.depth*Ne})}return Yt}function ut(Ct){var Ot=Ct.children,Yt=Ct.parent.children,Kt=Ct.i?Yt[Ct.i-1]:null;if(Ot.length){(function(me){for(var Ce,de=0,Te=0,le=me.children,Ne=le.length;--Ne>=0;)(Ce=le[Ne]).z+=de,Ce.m+=de,de+=Ce.s+(Te+=Ce.c)})(Ct);var ie=(Ot[0].z+Ot[Ot.length-1].z)/2;Kt?(Ct.z=Kt.z+k(Ct._,Kt._),Ct.m=Ct.z-ie):Ct.z=ie}else Kt&&(Ct.z=Kt.z+k(Ct._,Kt._));Ct.parent.A=function(me,Ce,de){if(Ce){for(var Te,le=me,Ne=me,Ee=Ce,ue=le.parent.children[0],Ke=le.m,Ze=Ne.m,ln=Ee.m,hn=ue.m;Ee=Ep(Ee),le=Z0(le),Ee&&le;)ue=Z0(ue),(Ne=Ep(Ne)).a=me,(Te=Ee.z+ln-le.z-Ke+k(Ee._,le._))>0&&(Mp(Q2(Ee,me,de),me,Te),Ke+=Te,Ze+=Te),ln+=Ee.m,Ke+=le.m,hn+=ue.m,Ze+=Ne.m;Ee&&!Ep(Ne)&&(Ne.t=Ee,Ne.m+=ln-Ze),le&&!Z0(ue)&&(ue.t=le,ue.m+=Ke-hn,de=me)}return de}(Ct,Kt,Ct.parent.A||Yt[0])}function vt(Ct){Ct._.x=Ct.z+Ct.parent.m,Ct.m+=Ct.parent.m}function bt(Ct){Ct.x*=Y[0],Ct.y=Ct.depth*Y[1]}return at.separation=function(Ct){return arguments.length?(k=Ct,at):k},at.size=function(Ct){return arguments.length?(tt=(Y=Ct)==null?bt:null,at):tt?null:Y},at.nodeSize=function(Ct){return arguments.length?(tt=(Y=Ct)==null?null:bt,at):tt?Y:null},os(at,M)},u.layout.cluster=function(){var M=u.layout.hierarchy().sort(null).value(null),k=ti,Y=[1,1],tt=!1;function at(ut,vt){var bt,Ct=M.call(this,ut,vt),Ot=Ct[0],Yt=0;fl(Ot,function(de){var Te=de.children;Te&&Te.length?(de.x=function(le){return le.reduce(function(Ne,Ee){return Ne+Ee.x},0)/le.length}(Te),de.y=function(le){return 1+u.max(le,function(Ne){return Ne.y})}(Te)):(de.x=bt?Yt+=k(de,bt):0,de.y=0,bt=de)});var Kt=h_(Ot),ie=d_(Ot),me=Kt.x-k(Kt,ie)/2,Ce=ie.x+k(ie,Kt)/2;return fl(Ot,tt?function(de){de.x=(de.x-Ot.x)*Y[0],de.y=(Ot.y-de.y)*Y[1]}:function(de){de.x=(de.x-me)/(Ce-me)*Y[0],de.y=(1-(Ot.y?de.y/Ot.y:1))*Y[1]}),Ct}return at.separation=function(ut){return arguments.length?(k=ut,at):k},at.size=function(ut){return arguments.length?(tt=(Y=ut)==null,at):tt?null:Y},at.nodeSize=function(ut){return arguments.length?(tt=(Y=ut)!=null,at):tt?Y:null},os(at,M)},u.layout.treemap=function(){var M,k=u.layout.hierarchy(),Y=Math.round,tt=[1,1],at=null,ut=Tf,vt=!1,bt="squarify",Ct=.5*(1+Math.sqrt(5));function Ot(de,Te){for(var le,Ne,Ee=-1,ue=de.length;++Ee<ue;)Ne=(le=de[Ee]).value*(Te<0?0:Te),le.area=isNaN(Ne)||Ne<=0?0:Ne}function Yt(de){var Te=de.children;if(Te&&Te.length){var le,Ne,Ee,ue=ut(de),Ke=[],Ze=Te.slice(),ln=1/0,hn=bt==="slice"?ue.dx:bt==="dice"?ue.dy:bt==="slice-dice"?1&de.depth?ue.dy:ue.dx:Math.min(ue.dx,ue.dy);for(Ot(Ze,ue.dx*ue.dy/de.value),Ke.area=0;(Ee=Ze.length)>0;)Ke.push(le=Ze[Ee-1]),Ke.area+=le.area,bt!=="squarify"||(Ne=ie(Ke,hn))<=ln?(Ze.pop(),ln=Ne):(Ke.area-=Ke.pop().area,me(Ke,hn,ue,!1),hn=Math.min(ue.dx,ue.dy),Ke.length=Ke.area=0,ln=1/0);Ke.length&&(me(Ke,hn,ue,!0),Ke.length=Ke.area=0),Te.forEach(Yt)}}function Kt(de){var Te=de.children;if(Te&&Te.length){var le,Ne=ut(de),Ee=Te.slice(),ue=[];for(Ot(Ee,Ne.dx*Ne.dy/de.value),ue.area=0;le=Ee.pop();)ue.push(le),ue.area+=le.area,le.z!=null&&(me(ue,le.z?Ne.dx:Ne.dy,Ne,!Ee.length),ue.length=ue.area=0);Te.forEach(Kt)}}function ie(de,Te){for(var le,Ne=de.area,Ee=0,ue=1/0,Ke=-1,Ze=de.length;++Ke<Ze;)(le=de[Ke].area)&&(le<ue&&(ue=le),le>Ee&&(Ee=le));return Te*=Te,(Ne*=Ne)?Math.max(Te*Ee*Ct/Ne,Ne/(Te*ue*Ct)):1/0}function me(de,Te,le,Ne){var Ee,ue=-1,Ke=de.length,Ze=le.x,ln=le.y,hn=Te?Y(de.area/Te):0;if(Te==le.dx){for((Ne||hn>le.dy)&&(hn=le.dy);++ue<Ke;)(Ee=de[ue]).x=Ze,Ee.y=ln,Ee.dy=hn,Ze+=Ee.dx=Math.min(le.x+le.dx-Ze,hn?Y(Ee.area/hn):0);Ee.z=!0,Ee.dx+=le.x+le.dx-Ze,le.y+=hn,le.dy-=hn}else{for((Ne||hn>le.dx)&&(hn=le.dx);++ue<Ke;)(Ee=de[ue]).x=Ze,Ee.y=ln,Ee.dx=hn,ln+=Ee.dy=Math.min(le.y+le.dy-ln,hn?Y(Ee.area/hn):0);Ee.z=!1,Ee.dy+=le.y+le.dy-ln,le.x+=hn,le.dx-=hn}}function Ce(de){var Te=M||k(de),le=Te[0];return le.x=le.y=0,le.value?(le.dx=tt[0],le.dy=tt[1]):le.dx=le.dy=0,M&&k.revalue(le),Ot([le],le.dx*le.dy/le.value),(M?Kt:Yt)(le),vt&&(M=Te),Te}return Ce.size=function(de){return arguments.length?(tt=de,Ce):tt},Ce.padding=function(de){if(!arguments.length)return at;function Te(Ne){return Ql(Ne,de)}var le;return ut=(at=de)==null?Tf:(le=typeof de)=="function"?function(Ne){var Ee=de.call(Ce,Ne,Ne.depth);return Ee==null?Tf(Ne):Ql(Ne,typeof Ee=="number"?[Ee,Ee,Ee,Ee]:Ee)}:(le==="number"&&(de=[de,de,de,de]),Te),Ce},Ce.round=function(de){return arguments.length?(Y=de?Math.round:Number,Ce):Y!=Number},Ce.sticky=function(de){return arguments.length?(vt=de,M=null,Ce):vt},Ce.ratio=function(de){return arguments.length?(Ct=de,Ce):Ct},Ce.mode=function(de){return arguments.length?(bt=de+"",Ce):bt},os(Ce,k)},u.random={normal:function(M,k){var Y=arguments.length;return Y<2&&(k=1),Y<1&&(M=0),function(){var tt,at,ut;do ut=(tt=2*Math.random()-1)*tt+(at=2*Math.random()-1)*at;while(!ut||ut>1);return M+k*tt*Math.sqrt(-2*Math.log(ut)/ut)}},logNormal:function(){var M=u.random.normal.apply(u,arguments);return function(){return Math.exp(M())}},bates:function(M){var k=u.random.irwinHall(M);return function(){return k()/M}},irwinHall:function(M){return function(){for(var k=0,Y=0;Y<M;Y++)k+=Math.random();return k}}},u.scale={};var Ap={floor:rt,ceil:rt};function p_(M,k,Y,tt){var at=[],ut=[],vt=0,bt=Math.min(M.length,k.length)-1;for(M[bt]<M[0]&&(M=M.slice().reverse(),k=k.slice().reverse());++vt<=bt;)at.push(Y(M[vt-1],M[vt])),ut.push(tt(k[vt-1],k[vt]));return function(Ct){var Ot=u.bisect(M,Ct,1,bt)-1;return ut[Ot](at[Ot](Ct))}}function Ef(M,k,Y,tt){var at,ut;function vt(){var Ct=Math.min(M.length,k.length)>2?p_:Sp,Ot=tt?s_:o_;return at=Ct(M,k,Ot,Y),ut=Ct(k,M,Ot,Jl),bt}function bt(Ct){return at(Ct)}return bt.invert=function(Ct){return ut(Ct)},bt.domain=function(Ct){return arguments.length?(M=Ct.map(Number),vt()):M},bt.range=function(Ct){return arguments.length?(k=Ct,vt()):k},bt.rangeRound=function(Ct){return bt.range(Ct).interpolate(wp)},bt.clamp=function(Ct){return arguments.length?(tt=Ct,vt()):tt},bt.interpolate=function(Ct){return arguments.length?(Y=Ct,vt()):Y},bt.ticks=function(Ct){return tm(M,Ct)},bt.tickFormat=function(Ct,Ot){return d3_scale_linearTickFormat(M,Ct,Ot)},bt.nice=function(Ct){return Yh(M,Ct),vt()},bt.copy=function(){return Ef(M,k,Y,tt)},vt()}function Lu(M,k){return u.rebind(M,k,"range","rangeRound","interpolate","clamp")}function Yh(M,k){return Cp(M,J0(Q0(M,k)[2])),Cp(M,J0(Q0(M,k)[2])),M}function Q0(M,k){k==null&&(k=10);var Y=wc(M),tt=Y[1]-Y[0],at=Math.pow(10,Math.floor(Math.log(tt/k)/Math.LN10)),ut=k/tt*at;return ut<=.15?at*=10:ut<=.35?at*=5:ut<=.75&&(at*=2),Y[0]=Math.ceil(Y[0]/at)*at,Y[1]=Math.floor(Y[1]/at)*at+.5*at,Y[2]=at,Y}function tm(M,k){return u.range.apply(u,Q0(M,k))}function g_(M,k,Y,tt){function at(bt){return(Y?Math.log(bt<0?0:bt):-Math.log(bt>0?0:-bt))/Math.log(k)}function ut(bt){return Y?Math.pow(k,bt):-Math.pow(k,-bt)}function vt(bt){return M(at(bt))}return vt.invert=function(bt){return ut(M.invert(bt))},vt.domain=function(bt){return arguments.length?(Y=bt[0]>=0,M.domain((tt=bt.map(Number)).map(at)),vt):tt},vt.base=function(bt){return arguments.length?(k=+bt,M.domain(tt.map(at)),vt):k},vt.nice=function(){var bt=Cp(tt.map(at),Y?Math:Ip);return M.domain(bt),tt=bt.map(ut),vt},vt.ticks=function(){var bt=wc(tt),Ct=[],Ot=bt[0],Yt=bt[1],Kt=Math.floor(at(Ot)),ie=Math.ceil(at(Yt)),me=k%1?2:k;if(isFinite(ie-Kt)){if(Y){for(;Kt<ie;Kt++)for(var Ce=1;Ce<me;Ce++)Ct.push(ut(Kt)*Ce);Ct.push(ut(Kt))}else for(Ct.push(ut(Kt));Kt++<ie;)for(Ce=me-1;Ce>0;Ce--)Ct.push(ut(Kt)*Ce);for(Kt=0;Ct[Kt]<Ot;Kt++);for(ie=Ct.length;Ct[ie-1]>Yt;ie--);Ct=Ct.slice(Kt,ie)}return Ct},vt.copy=function(){return g_(M.copy(),k,Y,tt)},Lu(vt,M)}u.scale.linear=function(){return Ef([0,1],[0,1],Jl,!1)},u.scale.log=function(){return g_(u.scale.linear().domain([0,1]),10,!0,[1,10])};var Ip={floor:function(M){return-Math.ceil(-M)},ceil:function(M){return-Math.floor(-M)}};function Wh(M,k,Y){var tt=Mf(k),at=Mf(1/k);function ut(vt){return M(tt(vt))}return ut.invert=function(vt){return at(M.invert(vt))},ut.domain=function(vt){return arguments.length?(M.domain((Y=vt.map(Number)).map(tt)),ut):Y},ut.ticks=function(vt){return tm(Y,vt)},ut.tickFormat=function(vt,bt){return d3_scale_linearTickFormat(Y,vt,bt)},ut.nice=function(vt){return ut.domain(Yh(Y,vt))},ut.exponent=function(vt){return arguments.length?(tt=Mf(k=vt),at=Mf(1/k),M.domain(Y.map(tt)),ut):k},ut.copy=function(){return Wh(M.copy(),k,Y)},Lu(ut,M)}function Mf(M){return function(k){return k<0?-Math.pow(-k,M):Math.pow(k,M)}}function m_(M,k){var Y,tt,at;function ut(bt){return tt[((Y.get(bt)||(k.t==="range"?Y.set(bt,M.push(bt)):NaN))-1)%tt.length]}function vt(bt,Ct){return u.range(M.length).map(function(Ot){return bt+Ct*Ot})}return ut.domain=function(bt){if(!arguments.length)return M;M=[],Y=new F;for(var Ct,Ot=-1,Yt=bt.length;++Ot<Yt;)Y.has(Ct=bt[Ot])||Y.set(Ct,M.push(Ct));return ut[k.t].apply(ut,k.a)},ut.range=function(bt){return arguments.length?(tt=bt,at=0,k={t:"range",a:arguments},ut):tt},ut.rangePoints=function(bt,Ct){arguments.length<2&&(Ct=0);var Ot=bt[0],Yt=bt[1],Kt=M.length<2?(Ot=(Ot+Yt)/2,0):(Yt-Ot)/(M.length-1+Ct);return tt=vt(Ot+Kt*Ct/2,Kt),at=0,k={t:"rangePoints",a:arguments},ut},ut.rangeRoundPoints=function(bt,Ct){arguments.length<2&&(Ct=0);var Ot=bt[0],Yt=bt[1],Kt=M.length<2?(Ot=Yt=Math.round((Ot+Yt)/2),0):(Yt-Ot)/(M.length-1+Ct)|0;return tt=vt(Ot+Math.round(Kt*Ct/2+(Yt-Ot-(M.length-1+Ct)*Kt)/2),Kt),at=0,k={t:"rangeRoundPoints",a:arguments},ut},ut.rangeBands=function(bt,Ct,Ot){arguments.length<2&&(Ct=0),arguments.length<3&&(Ot=Ct);var Yt=bt[1]<bt[0],Kt=bt[Yt-0],ie=(bt[1-Yt]-Kt)/(M.length-Ct+2*Ot);return tt=vt(Kt+ie*Ot,ie),Yt&&tt.reverse(),at=ie*(1-Ct),k={t:"rangeBands",a:arguments},ut},ut.rangeRoundBands=function(bt,Ct,Ot){arguments.length<2&&(Ct=0),arguments.length<3&&(Ot=Ct);var Yt=bt[1]<bt[0],Kt=bt[Yt-0],ie=bt[1-Yt],me=Math.floor((ie-Kt)/(M.length-Ct+2*Ot));return tt=vt(Kt+Math.round((ie-Kt-(M.length-Ct)*me)/2),me),Yt&&tt.reverse(),at=Math.round(me*(1-Ct)),k={t:"rangeRoundBands",a:arguments},ut},ut.rangeBand=function(){return at},ut.rangeExtent=function(){return wc(k.a[0])},ut.copy=function(){return m_(M,k)},ut.domain(M)}u.scale.pow=function(){return Wh(u.scale.linear(),1,[0,1])},u.scale.sqrt=function(){return u.scale.pow().exponent(.5)},u.scale.ordinal=function(){return m_([],{t:"range",a:[[]]})},u.scale.category10=function(){return u.scale.ordinal().range(v_)},u.scale.category20=function(){return u.scale.ordinal().range(tw)},u.scale.category20b=function(){return u.scale.ordinal().range(ew)},u.scale.category20c=function(){return u.scale.ordinal().range(ga)};var v_=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(be),tw=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(be),ew=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(be),ga=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(be);function Fa(M,k){var Y;function tt(){var ut=0,vt=k.length;for(Y=[];++ut<vt;)Y[ut-1]=u.quantile(M,ut/vt);return at}function at(ut){if(!isNaN(ut=+ut))return k[u.bisect(Y,ut)]}return at.domain=function(ut){return arguments.length?(M=ut.map(E).filter(S).sort(w),tt()):M},at.range=function(ut){return arguments.length?(k=ut,tt()):k},at.quantiles=function(){return Y},at.invertExtent=function(ut){return(ut=k.indexOf(ut))<0?[NaN,NaN]:[ut>0?Y[ut-1]:M[0],ut<Y.length?Y[ut]:M[M.length-1]]},at.copy=function(){return Fa(M,k)},tt()}function y_(M,k,Y){var tt,at;function ut(bt){return Y[Math.max(0,Math.min(at,Math.floor(tt*(bt-M))))]}function vt(){return tt=Y.length/(k-M),at=Y.length-1,ut}return ut.domain=function(bt){return arguments.length?(M=+bt[0],k=+bt[bt.length-1],vt()):[M,k]},ut.range=function(bt){return arguments.length?(Y=bt,vt()):Y},ut.invertExtent=function(bt){return[bt=(bt=Y.indexOf(bt))<0?NaN:bt/tt+M,bt+1/tt]},ut.copy=function(){return y_(M,k,Y)},vt()}function __(M,k){function Y(tt){if(tt<=tt)return k[u.bisect(M,tt)]}return Y.domain=function(tt){return arguments.length?(M=tt,Y):M},Y.range=function(tt){return arguments.length?(k=tt,Y):k},Y.invertExtent=function(tt){return tt=k.indexOf(tt),[M[tt-1],M[tt]]},Y.copy=function(){return __(M,k)},Y}function em(M){function k(Y){return+Y}return k.invert=k,k.domain=k.range=function(Y){return arguments.length?(M=Y.map(k),k):M},k.ticks=function(Y){return tm(M,Y)},k.tickFormat=function(Y,tt){return d3_scale_linearTickFormat(M,Y,tt)},k.copy=function(){return em(M)},k}function nw(){return 0}u.scale.quantile=function(){return Fa([],[])},u.scale.quantize=function(){return y_(0,1,[0,1])},u.scale.threshold=function(){return __([.5],[0,1])},u.scale.identity=function(){return em([0,1])},u.svg={},u.svg.arc=function(){var M=$h,k=nm,Y=nw,tt=Sf,at=Tc,ut=Cf,vt=qh;function bt(){var Ot=Math.max(0,+M.apply(this,arguments)),Yt=Math.max(0,+k.apply(this,arguments)),Kt=at.apply(this,arguments)-ge,ie=ut.apply(this,arguments)-ge,me=Math.abs(ie-Kt),Ce=Kt>ie?0:1;if(Yt<Ot&&(de=Yt,Yt=Ot,Ot=de),me>=ne)return Ct(Yt,Ce)+(Ot?Ct(Ot,1-Ce):"")+"Z";var de,Te,le,Ne,Ee,ue,Ke,Ze,ln,hn,Ln,Pn,Yn=0,Cn=0,sr=[];if((Ne=(+vt.apply(this,arguments)||0)/2)&&(le=tt===Sf?Math.sqrt(Ot*Ot+Yt*Yt):+tt.apply(this,arguments),Ce||(Cn*=-1),Yt&&(Cn=Ae(le/Yt*Math.sin(Ne))),Ot&&(Yn=Ae(le/Ot*Math.sin(Ne)))),Yt){Ee=Yt*Math.cos(Kt+Cn),ue=Yt*Math.sin(Kt+Cn),Ke=Yt*Math.cos(ie-Cn),Ze=Yt*Math.sin(ie-Cn);var Nr=Math.abs(ie-Kt-2*Cn)<=ae?0:1;if(Cn&&Ec(Ee,ue,Ke,Ze)===Ce^Nr){var pi=(Kt+ie)/2;Ee=Yt*Math.cos(pi),ue=Yt*Math.sin(pi),Ke=Ze=null}}else Ee=ue=0;if(Ot){ln=Ot*Math.cos(ie-Yn),hn=Ot*Math.sin(ie-Yn),Ln=Ot*Math.cos(Kt+Yn),Pn=Ot*Math.sin(Kt+Yn);var xn=Math.abs(Kt-ie+2*Yn)<=ae?0:1;if(Yn&&Ec(ln,hn,Ln,Pn)===1-Ce^xn){var On=(Kt+ie)/2;ln=Ot*Math.cos(On),hn=Ot*Math.sin(On),Ln=Pn=null}}else ln=hn=0;if(me>Rt&&(de=Math.min(Math.abs(Yt-Ot)/2,+Y.apply(this,arguments)))>.001){Te=Ot<Yt^Ce?0:1;var tr=de,Qn=de;if(me<ae){var Er=Ln==null?[ln,hn]:Ke==null?[Ee,ue]:wi([Ee,ue],[Ln,Pn],[Ke,Ze],[ln,hn]),ri=Ee-Er[0],Ui=ue-Er[1],li=Ke-Er[0],ia=Ze-Er[1],Vi=1/Math.sin(Math.acos((ri*li+Ui*ia)/(Math.sqrt(ri*ri+Ui*Ui)*Math.sqrt(li*li+ia*ia)))/2),Hi=Math.sqrt(Er[0]*Er[0]+Er[1]*Er[1]);Qn=Math.min(de,(Ot-Hi)/(Vi-1)),tr=Math.min(de,(Yt-Hi)/(Vi+1))}if(Ke!=null){var za=tu(Ln==null?[ln,hn]:[Ln,Pn],[Ee,ue],Yt,tr,Ce),Ds=tu([Ke,Ze],[ln,hn],Yt,tr,Ce);de===tr?sr.push("M",za[0],"A",tr,",",tr," 0 0,",Te," ",za[1],"A",Yt,",",Yt," 0 ",1-Ce^Ec(za[1][0],za[1][1],Ds[1][0],Ds[1][1]),",",Ce," ",Ds[1],"A",tr,",",tr," 0 0,",Te," ",Ds[0]):sr.push("M",za[0],"A",tr,",",tr," 0 1,",Te," ",Ds[0])}else sr.push("M",Ee,",",ue);if(Ln!=null){var hl=tu([Ee,ue],[Ln,Pn],Ot,-Qn,Ce),dl=tu([ln,hn],Ke==null?[Ee,ue]:[Ke,Ze],Ot,-Qn,Ce);de===Qn?sr.push("L",dl[0],"A",Qn,",",Qn," 0 0,",Te," ",dl[1],"A",Ot,",",Ot," 0 ",Ce^Ec(dl[1][0],dl[1][1],hl[1][0],hl[1][1]),",",1-Ce," ",hl[1],"A",Qn,",",Qn," 0 0,",Te," ",hl[0]):sr.push("L",dl[0],"A",Qn,",",Qn," 0 0,",Te," ",hl[0])}else sr.push("L",ln,",",hn)}else sr.push("M",Ee,",",ue),Ke!=null&&sr.push("A",Yt,",",Yt," 0 ",Nr,",",Ce," ",Ke,",",Ze),sr.push("L",ln,",",hn),Ln!=null&&sr.push("A",Ot,",",Ot," 0 ",xn,",",1-Ce," ",Ln,",",Pn);return sr.push("Z"),sr.join("")}function Ct(Ot,Yt){return"M0,"+Ot+"A"+Ot+","+Ot+" 0 1,"+Yt+" 0,"+-Ot+"A"+Ot+","+Ot+" 0 1,"+Yt+" 0,"+Ot}return bt.innerRadius=function(Ot){return arguments.length?(M=Je(Ot),bt):M},bt.outerRadius=function(Ot){return arguments.length?(k=Je(Ot),bt):k},bt.cornerRadius=function(Ot){return arguments.length?(Y=Je(Ot),bt):Y},bt.padRadius=function(Ot){return arguments.length?(tt=Ot==Sf?Sf:Je(Ot),bt):tt},bt.startAngle=function(Ot){return arguments.length?(at=Je(Ot),bt):at},bt.endAngle=function(Ot){return arguments.length?(ut=Je(Ot),bt):ut},bt.padAngle=function(Ot){return arguments.length?(vt=Je(Ot),bt):vt},bt.centroid=function(){var Ot=(+M.apply(this,arguments)+ +k.apply(this,arguments))/2,Yt=(+at.apply(this,arguments)+ +ut.apply(this,arguments))/2-ge;return[Math.cos(Yt)*Ot,Math.sin(Yt)*Ot]},bt};var Sf="auto";function $h(M){return M.innerRadius}function nm(M){return M.outerRadius}function Tc(M){return M.startAngle}function Cf(M){return M.endAngle}function qh(M){return M&&M.padAngle}function Ec(M,k,Y,tt){return(M-Y)*k-(k-tt)*M>0?0:1}function tu(M,k,Y,tt,at){var ut=M[0]-k[0],vt=M[1]-k[1],bt=(at?tt:-tt)/Math.sqrt(ut*ut+vt*vt),Ct=bt*vt,Ot=-bt*ut,Yt=M[0]+Ct,Kt=M[1]+Ot,ie=k[0]+Ct,me=k[1]+Ot,Ce=(Yt+ie)/2,de=(Kt+me)/2,Te=ie-Yt,le=me-Kt,Ne=Te*Te+le*le,Ee=Y-tt,ue=Yt*me-ie*Kt,Ke=(le<0?-1:1)*Math.sqrt(Math.max(0,Ee*Ee*Ne-ue*ue)),Ze=(ue*le-Te*Ke)/Ne,ln=(-ue*Te-le*Ke)/Ne,hn=(ue*le+Te*Ke)/Ne,Ln=(-ue*Te+le*Ke)/Ne,Pn=Ze-Ce,Yn=ln-de,Cn=hn-Ce,sr=Ln-de;return Pn*Pn+Yn*Yn>Cn*Cn+sr*sr&&(Ze=hn,ln=Ln),[[Ze-Ct,ln-Ot],[Ze*Y/Ee,ln*Y/Ee]]}function x_(){return!0}function b_(M){var k=Kn,Y=qn,tt=x_,at=ks,ut=at.key,vt=.7;function bt(Ct){var Ot,Yt=[],Kt=[],ie=-1,me=Ct.length,Ce=Je(k),de=Je(Y);function Te(){Yt.push("M",at(M(Kt),vt))}for(;++ie<me;)tt.call(this,Ot=Ct[ie],ie)?Kt.push([+Ce.call(this,Ot,ie),+de.call(this,Ot,ie)]):Kt.length&&(Te(),Kt=[]);return Kt.length&&Te(),Yt.length?Yt.join(""):null}return bt.x=function(Ct){return arguments.length?(k=Ct,bt):k},bt.y=function(Ct){return arguments.length?(Y=Ct,bt):Y},bt.defined=function(Ct){return arguments.length?(tt=Ct,bt):tt},bt.interpolate=function(Ct){return arguments.length?(ut=typeof Ct=="function"?at=Ct:(at=rm.get(Ct)||ks).key,bt):ut},bt.tension=function(Ct){return arguments.length?(vt=Ct,bt):vt},bt}u.svg.line=function(){return b_(rt)};var rm=u.map({linear:ks,"linear-closed":w_,step:function(M){for(var k=0,Y=M.length,tt=M[0],at=[tt[0],",",tt[1]];++k<Y;)at.push("H",(tt[0]+(tt=M[k])[0])/2,"V",tt[1]);return Y>1&&at.push("H",tt[0]),at.join("")},"step-before":Af,"step-after":Mc,basis:Sc,"basis-open":function(M){if(M.length<4)return ks(M);for(var k,Y=[],tt=-1,at=M.length,ut=[0],vt=[0];++tt<3;)k=M[tt],ut.push(k[0]),vt.push(k[1]);for(Y.push(lo(Pu,ut)+","+lo(Pu,vt)),--tt;++tt<at;)k=M[tt],ut.shift(),ut.push(k[0]),vt.shift(),vt.push(k[1]),im(Y,ut,vt);return Y.join("")},"basis-closed":function(M){for(var k,Y,tt=-1,at=M.length,ut=at+4,vt=[],bt=[];++tt<4;)Y=M[tt%at],vt.push(Y[0]),bt.push(Y[1]);for(k=[lo(Pu,vt),",",lo(Pu,bt)],--tt;++tt<ut;)Y=M[tt%at],vt.shift(),vt.push(Y[0]),bt.shift(),bt.push(Y[1]),im(k,vt,bt);return k.join("")},bundle:function(M,k){var Y=M.length-1;if(Y)for(var tt,at,ut=M[0][0],vt=M[0][1],bt=M[Y][0]-ut,Ct=M[Y][1]-vt,Ot=-1;++Ot<=Y;)at=Ot/Y,(tt=M[Ot])[0]=k*tt[0]+(1-k)*(ut+at*bt),tt[1]=k*tt[1]+(1-k)*(vt+at*Ct);return Sc(M)},cardinal:function(M,k){return M.length<3?ks(M):M[0]+Xh(M,$t(M,k))},"cardinal-open":function(M,k){return M.length<4?ks(M):M[1]+Xh(M.slice(1,-1),$t(M,k))},"cardinal-closed":function(M,k){return M.length<3?w_(M):M[0]+Xh((M.push(M[0]),M),$t([M[M.length-2]].concat(M,[M[1]]),k))},monotone:function(M){return M.length<3?ks(M):M[0]+Xh(M,function(k){for(var Y,tt,at,ut,vt=[],bt=function(Yt){for(var Kt=0,ie=Yt.length-1,me=[],Ce=Yt[0],de=Yt[1],Te=me[0]=am(Ce,de);++Kt<ie;)me[Kt]=(Te+(Te=am(Ce=de,de=Yt[Kt+1])))/2;return me[Kt]=Te,me}(k),Ct=-1,Ot=k.length-1;++Ct<Ot;)Y=am(k[Ct],k[Ct+1]),O(Y)<Rt?bt[Ct]=bt[Ct+1]=0:(ut=(tt=bt[Ct]/Y)*tt+(at=bt[Ct+1]/Y)*at)>9&&(ut=3*Y/Math.sqrt(ut),bt[Ct]=ut*tt,bt[Ct+1]=ut*at);for(Ct=-1;++Ct<=Ot;)ut=(k[Math.min(Ot,Ct+1)][0]-k[Math.max(0,Ct-1)][0])/(6*(1+bt[Ct]*bt[Ct])),vt.push([ut||0,bt[Ct]*ut||0]);return vt}(M))}});function ks(M){return M.length>1?M.join("L"):M+"Z"}function w_(M){return M.join("L")+"Z"}function Af(M){for(var k=0,Y=M.length,tt=M[0],at=[tt[0],",",tt[1]];++k<Y;)at.push("V",(tt=M[k])[1],"H",tt[0]);return at.join("")}function Mc(M){for(var k=0,Y=M.length,tt=M[0],at=[tt[0],",",tt[1]];++k<Y;)at.push("H",(tt=M[k])[0],"V",tt[1]);return at.join("")}function Xh(M,k){if(k.length<1||M.length!=k.length&&M.length!=k.length+2)return ks(M);var Y=M.length!=k.length,tt="",at=M[0],ut=M[1],vt=k[0],bt=vt,Ct=1;if(Y&&(tt+="Q"+(ut[0]-2*vt[0]/3)+","+(ut[1]-2*vt[1]/3)+","+ut[0]+","+ut[1],at=M[1],Ct=2),k.length>1){bt=k[1],ut=M[Ct],Ct++,tt+="C"+(at[0]+vt[0])+","+(at[1]+vt[1])+","+(ut[0]-bt[0])+","+(ut[1]-bt[1])+","+ut[0]+","+ut[1];for(var Ot=2;Ot<k.length;Ot++,Ct++)ut=M[Ct],bt=k[Ot],tt+="S"+(ut[0]-bt[0])+","+(ut[1]-bt[1])+","+ut[0]+","+ut[1]}if(Y){var Yt=M[Ct];tt+="Q"+(ut[0]+2*bt[0]/3)+","+(ut[1]+2*bt[1]/3)+","+Yt[0]+","+Yt[1]}return tt}function $t(M,k){for(var Y,tt=[],at=(1-k)/2,ut=M[0],vt=M[1],bt=1,Ct=M.length;++bt<Ct;)Y=ut,ut=vt,vt=M[bt],tt.push([at*(vt[0]-Y[0]),at*(vt[1]-Y[1])]);return tt}function Sc(M){if(M.length<3)return ks(M);var k=1,Y=M.length,tt=M[0],at=tt[0],ut=tt[1],vt=[at,at,at,(tt=M[1])[0]],bt=[ut,ut,ut,tt[1]],Ct=[at,",",ut,"L",lo(Pu,vt),",",lo(Pu,bt)];for(M.push(M[Y-1]);++k<=Y;)tt=M[k],vt.shift(),vt.push(tt[0]),bt.shift(),bt.push(tt[1]),im(Ct,vt,bt);return M.pop(),Ct.push("L",tt),Ct.join("")}function lo(M,k){return M[0]*k[0]+M[1]*k[1]+M[2]*k[2]+M[3]*k[3]}rm.forEach(function(M,k){k.key=M,k.closed=/-closed$/.test(M)});var Fo=[0,2/3,1/3,0],Or=[0,1/3,2/3,0],Pu=[0,1/6,2/3,1/6];function im(M,k,Y){M.push("C",lo(Fo,k),",",lo(Fo,Y),",",lo(Or,k),",",lo(Or,Y),",",lo(Pu,k),",",lo(Pu,Y))}function am(M,k){return(k[1]-M[1])/(k[0]-M[0])}function Ru(M){for(var k,Y,tt,at=-1,ut=M.length;++at<ut;)Y=(k=M[at])[0],tt=k[1]-ge,k[0]=Y*Math.cos(tt),k[1]=Y*Math.sin(tt);return M}function T_(M){var k=Kn,Y=Kn,tt=0,at=qn,ut=x_,vt=ks,bt=vt.key,Ct=vt,Ot="L",Yt=.7;function Kt(ie){var me,Ce,de,Te=[],le=[],Ne=[],Ee=-1,ue=ie.length,Ke=Je(k),Ze=Je(tt),ln=k===Y?function(){return Ce}:Je(Y),hn=tt===at?function(){return de}:Je(at);function Ln(){Te.push("M",vt(M(Ne),Yt),Ot,Ct(M(le.reverse()),Yt),"Z")}for(;++Ee<ue;)ut.call(this,me=ie[Ee],Ee)?(le.push([Ce=+Ke.call(this,me,Ee),de=+Ze.call(this,me,Ee)]),Ne.push([+ln.call(this,me,Ee),+hn.call(this,me,Ee)])):le.length&&(Ln(),le=[],Ne=[]);return le.length&&Ln(),Te.length?Te.join(""):null}return Kt.x=function(ie){return arguments.length?(k=Y=ie,Kt):Y},Kt.x0=function(ie){return arguments.length?(k=ie,Kt):k},Kt.x1=function(ie){return arguments.length?(Y=ie,Kt):Y},Kt.y=function(ie){return arguments.length?(tt=at=ie,Kt):at},Kt.y0=function(ie){return arguments.length?(tt=ie,Kt):tt},Kt.y1=function(ie){return arguments.length?(at=ie,Kt):at},Kt.defined=function(ie){return arguments.length?(ut=ie,Kt):ut},Kt.interpolate=function(ie){return arguments.length?(bt=typeof ie=="function"?vt=ie:(vt=rm.get(ie)||ks).key,Ct=vt.reverse||vt,Ot=vt.closed?"M":"L",Kt):bt},Kt.tension=function(ie){return arguments.length?(Yt=ie,Kt):Yt},Kt}function E_(M){return M.source}function M_(M){return M.target}function rw(M){return M.radius}function S_(M){return[M.x,M.y]}function eu(){return 64}function iw(){return"circle"}function C_(M){var k=Math.sqrt(M/ae);return"M0,"+k+"A"+k+","+k+" 0 1,1 0,"+-k+"A"+k+","+k+" 0 1,1 0,"+k+"Z"}u.svg.line.radial=function(){var M=b_(Ru);return M.radius=M.x,delete M.x,M.angle=M.y,delete M.y,M},Af.reverse=Mc,Mc.reverse=Af,u.svg.area=function(){return T_(rt)},u.svg.area.radial=function(){var M=T_(Ru);return M.radius=M.x,delete M.x,M.innerRadius=M.x0,delete M.x0,M.outerRadius=M.x1,delete M.x1,M.angle=M.y,delete M.y,M.startAngle=M.y0,delete M.y0,M.endAngle=M.y1,delete M.y1,M},u.svg.chord=function(){var M=E_,k=M_,Y=rw,tt=Tc,at=Cf;function ut(Ot,Yt){var Kt,ie,me=vt(this,M,Ot,Yt),Ce=vt(this,k,Ot,Yt);return"M"+me.p0+bt(me.r,me.p1,me.a1-me.a0)+(ie=Ce,((Kt=me).a0==ie.a0&&Kt.a1==ie.a1?Ct(me.r,me.p1,me.r,me.p0):Ct(me.r,me.p1,Ce.r,Ce.p0)+bt(Ce.r,Ce.p1,Ce.a1-Ce.a0)+Ct(Ce.r,Ce.p1,me.r,me.p0))+"Z")}function vt(Ot,Yt,Kt,ie){var me=Yt.call(Ot,Kt,ie),Ce=Y.call(Ot,me,ie),de=tt.call(Ot,me,ie)-ge,Te=at.call(Ot,me,ie)-ge;return{r:Ce,a0:de,a1:Te,p0:[Ce*Math.cos(de),Ce*Math.sin(de)],p1:[Ce*Math.cos(Te),Ce*Math.sin(Te)]}}function bt(Ot,Yt,Kt){return"A"+Ot+","+Ot+" 0 "+ +(Kt>ae)+",1 "+Yt}function Ct(Ot,Yt,Kt,ie){return"Q 0,0 "+ie}return ut.radius=function(Ot){return arguments.length?(Y=Je(Ot),ut):Y},ut.source=function(Ot){return arguments.length?(M=Je(Ot),ut):M},ut.target=function(Ot){return arguments.length?(k=Je(Ot),ut):k},ut.startAngle=function(Ot){return arguments.length?(tt=Je(Ot),ut):tt},ut.endAngle=function(Ot){return arguments.length?(at=Je(Ot),ut):at},ut},u.svg.diagonal=function(){var M=E_,k=M_,Y=S_;function tt(at,ut){var vt=M.call(this,at,ut),bt=k.call(this,at,ut),Ct=(vt.y+bt.y)/2,Ot=[vt,{x:vt.x,y:Ct},{x:bt.x,y:Ct},bt];return"M"+(Ot=Ot.map(Y))[0]+"C"+Ot[1]+" "+Ot[2]+" "+Ot[3]}return tt.source=function(at){return arguments.length?(M=Je(at),tt):M},tt.target=function(at){return arguments.length?(k=Je(at),tt):k},tt.projection=function(at){return arguments.length?(Y=at,tt):Y},tt},u.svg.diagonal.radial=function(){var M=u.svg.diagonal(),k=S_,Y=M.projection;return M.projection=function(tt){return arguments.length?Y(function(at){return function(){var ut=at.apply(this,arguments),vt=ut[0],bt=ut[1]-ge;return[vt*Math.cos(bt),vt*Math.sin(bt)]}}(k=tt)):k},M},u.svg.symbol=function(){var M=iw,k=eu;function Y(tt,at){return(A_.get(M.call(this,tt,at))||C_)(k.call(this,tt,at))}return Y.type=function(tt){return arguments.length?(M=Je(tt),Y):M},Y.size=function(tt){return arguments.length?(k=Je(tt),Y):k},Y};var A_=u.map({circle:C_,cross:function(M){var k=Math.sqrt(M/5)/2;return"M"+-3*k+","+-k+"H"+-k+"V"+-3*k+"H"+k+"V"+-k+"H"+3*k+"V"+k+"H"+k+"V"+3*k+"H"+-k+"V"+k+"H"+-3*k+"Z"},diamond:function(M){var k=Math.sqrt(M/(2*I_)),Y=k*I_;return"M0,"+-k+"L"+Y+",0 0,"+k+" "+-Y+",0Z"},square:function(M){var k=Math.sqrt(M)/2;return"M"+-k+","+-k+"L"+k+","+-k+" "+k+","+k+" "+-k+","+k+"Z"},"triangle-down":function(M){var k=Math.sqrt(M/Op),Y=k*Op/2;return"M0,"+Y+"L"+k+","+-Y+" "+-k+","+-Y+"Z"},"triangle-up":function(M){var k=Math.sqrt(M/Op),Y=k*Op/2;return"M0,"+-Y+"L"+k+","+Y+" "+-k+","+Y+"Z"}});u.svg.symbolTypes=A_.keys();var Op=Math.sqrt(3),I_=Math.tan(30*xe);st.transition=function(M){for(var k,Y,tt=Cc||++Nu,at=zo(M),ut=[],vt=Lp||{time:Date.now(),ease:r_,delay:0,duration:250},bt=-1,Ct=this.length;++bt<Ct;){ut.push(k=[]);for(var Ot=this[bt],Yt=-1,Kt=Ot.length;++Yt<Kt;)(Y=Ot[Yt])&&Pp(Y,Yt,at,tt,vt),k.push(Y)}return Kh(ut,at,tt)},st.interrupt=function(M){return this.each(M==null?ss:O_(zo(M)))};var ss=O_(zo());function O_(M){return function(){var k,Y,tt;(k=this[M])&&(tt=k[Y=k.active])&&(tt.timer.c=null,tt.timer.t=NaN,--k.count?delete k[Y]:delete this[M],k.active+=.5,tt.event&&tt.event.interrupt.call(this,this.__data__,tt.index))}}function Kh(M,k,Y){return H(M,Xi),M.namespace=k,M.id=Y,M}var Cc,Lp,Xi=[],Nu=0;function om(M,k,Y,tt){var at=M.id,ut=M.namespace;return Ft(M,typeof Y=="function"?function(vt,bt,Ct){vt[ut][at].tween.set(k,tt(Y.call(vt,vt.__data__,bt,Ct)))}:(Y=tt(Y),function(vt){vt[ut][at].tween.set(k,Y)}))}function aw(M){return M==null&&(M=""),function(){this.textContent=M}}function zo(M){return M==null?"__transition__":"__transition_"+M+"__"}function Pp(M,k,Y,tt,at){var ut,vt,bt,Ct,Ot,Yt=M[Y]||(M[Y]={active:0,count:0}),Kt=Yt[tt];function ie(Ce){var de=Yt.active,Te=Yt[de];for(var le in Te&&(Te.timer.c=null,Te.timer.t=NaN,--Yt.count,delete Yt[de],Te.event&&Te.event.interrupt.call(M,M.__data__,Te.index)),Yt)if(+le<tt){var Ne=Yt[le];Ne.timer.c=null,Ne.timer.t=NaN,--Yt.count,delete Yt[le]}vt.c=me,In(function(){return vt.c&&me(Ce||1)&&(vt.c=null,vt.t=NaN),1},0,ut),Yt.active=tt,Kt.event&&Kt.event.start.call(M,M.__data__,k),Ot=[],Kt.tween.forEach(function(Ee,ue){(ue=ue.call(M,M.__data__,k))&&Ot.push(ue)}),Ct=Kt.ease,bt=Kt.duration}function me(Ce){for(var de=Ce/bt,Te=Ct(de),le=Ot.length;le>0;)Ot[--le].call(M,Te);if(de>=1)return Kt.event&&Kt.event.end.call(M,M.__data__,k),--Yt.count?delete Yt[tt]:delete M[Y],1}Kt||(ut=at.time,vt=In(function(Ce){var de=Kt.delay;if(vt.t=de+ut,de<=Ce)return ie(Ce-de);vt.c=ie},0,ut),Kt=Yt[tt]={tween:new F,time:ut,timer:vt,delay:at.delay,duration:at.duration,ease:at.ease,index:k},at=null,++Yt.count)}Xi.call=st.call,Xi.empty=st.empty,Xi.node=st.node,Xi.size=st.size,u.transition=function(M,k){return M&&M.transition?Cc?M.transition(k):M:u.selection().transition(M)},u.transition.prototype=Xi,Xi.select=function(M){var k,Y,tt,at=this.id,ut=this.namespace,vt=[];M=ht(M);for(var bt=-1,Ct=this.length;++bt<Ct;){vt.push(k=[]);for(var Ot=this[bt],Yt=-1,Kt=Ot.length;++Yt<Kt;)(tt=Ot[Yt])&&(Y=M.call(tt,tt.__data__,Yt,bt))?("__data__"in tt&&(Y.__data__=tt.__data__),Pp(Y,Yt,ut,at,tt[ut][at]),k.push(Y)):k.push(null)}return Kh(vt,ut,at)},Xi.selectAll=function(M){var k,Y,tt,at,ut,vt=this.id,bt=this.namespace,Ct=[];M=xt(M);for(var Ot=-1,Yt=this.length;++Ot<Yt;)for(var Kt=this[Ot],ie=-1,me=Kt.length;++ie<me;)if(tt=Kt[ie]){ut=tt[bt][vt],Y=M.call(tt,tt.__data__,ie,Ot),Ct.push(k=[]);for(var Ce=-1,de=Y.length;++Ce<de;)(at=Y[Ce])&&Pp(at,Ce,bt,vt,ut),k.push(at)}return Kh(Ct,bt,vt)},Xi.filter=function(M){var k,Y,tt=[];typeof M!="function"&&(M=Mt(M));for(var at=0,ut=this.length;at<ut;at++){tt.push(k=[]);for(var vt,bt=0,Ct=(vt=this[at]).length;bt<Ct;bt++)(Y=vt[bt])&&M.call(Y,Y.__data__,bt,at)&&k.push(Y)}return Kh(tt,this.namespace,this.id)},Xi.tween=function(M,k){var Y=this.id,tt=this.namespace;return arguments.length<2?this.node()[tt][Y].tween.get(M):Ft(this,k==null?function(at){at[tt][Y].tween.remove(M)}:function(at){at[tt][Y].tween.set(M,k)})},Xi.attr=function(M,k){if(arguments.length<2){for(k in M)this.attr(k,M[k]);return this}var Y=M=="transform"?_f:Jl,tt=u.ns.qualify(M);function at(){this.removeAttribute(tt)}function ut(){this.removeAttributeNS(tt.space,tt.local)}return om(this,"attr."+M,k,tt.local?function(vt){return vt==null?ut:(vt+="",function(){var bt,Ct=this.getAttributeNS(tt.space,tt.local);return Ct!==vt&&(bt=Y(Ct,vt),function(Ot){this.setAttributeNS(tt.space,tt.local,bt(Ot))})})}:function(vt){return vt==null?at:(vt+="",function(){var bt,Ct=this.getAttribute(tt);return Ct!==vt&&(bt=Y(Ct,vt),function(Ot){this.setAttribute(tt,bt(Ot))})})})},Xi.attrTween=function(M,k){var Y=u.ns.qualify(M);return this.tween("attr."+M,Y.local?function(tt,at){var ut=k.call(this,tt,at,this.getAttributeNS(Y.space,Y.local));return ut&&function(vt){this.setAttributeNS(Y.space,Y.local,ut(vt))}}:function(tt,at){var ut=k.call(this,tt,at,this.getAttribute(Y));return ut&&function(vt){this.setAttribute(Y,ut(vt))}})},Xi.style=function(M,k,Y){var tt=arguments.length;if(tt<3){if(typeof M!="string"){for(Y in tt<2&&(k=""),M)this.style(Y,M[Y],k);return this}Y=""}function at(){this.style.removeProperty(M)}return om(this,"style."+M,k,function(ut){return ut==null?at:(ut+="",function(){var vt,bt=g(this).getComputedStyle(this,null).getPropertyValue(M);return bt!==ut&&(vt=Jl(bt,ut),function(Ct){this.style.setProperty(M,vt(Ct),Y)})})})},Xi.styleTween=function(M,k,Y){return arguments.length<3&&(Y=""),this.tween("style."+M,function(tt,at){var ut=k.call(this,tt,at,g(this).getComputedStyle(this,null).getPropertyValue(M));return ut&&function(vt){this.style.setProperty(M,ut(vt),Y)}})},Xi.text=function(M){return om(this,"text",M,aw)},Xi.remove=function(){var M=this.namespace;return this.each("end.transition",function(){var k;this[M].count<2&&(k=this.parentNode)&&k.removeChild(this)})},Xi.ease=function(M){var k=this.id,Y=this.namespace;return arguments.length<1?this.node()[Y][k].ease:(typeof M!="function"&&(M=u.ease.apply(u,arguments)),Ft(this,function(tt){tt[Y][k].ease=M}))},Xi.delay=function(M){var k=this.id,Y=this.namespace;return arguments.length<1?this.node()[Y][k].delay:Ft(this,typeof M=="function"?function(tt,at,ut){tt[Y][k].delay=+M.call(tt,tt.__data__,at,ut)}:(M=+M,function(tt){tt[Y][k].delay=M}))},Xi.duration=function(M){var k=this.id,Y=this.namespace;return arguments.length<1?this.node()[Y][k].duration:Ft(this,typeof M=="function"?function(tt,at,ut){tt[Y][k].duration=Math.max(1,M.call(tt,tt.__data__,at,ut))}:(M=Math.max(1,M),function(tt){tt[Y][k].duration=M}))},Xi.each=function(M,k){var Y=this.id,tt=this.namespace;if(arguments.length<2){var at=Lp,ut=Cc;try{Cc=Y,Ft(this,function(vt,bt,Ct){Lp=vt[tt][Y],M.call(vt,vt.__data__,bt,Ct)})}finally{Lp=at,Cc=ut}}else Ft(this,function(vt){var bt=vt[tt][Y];(bt.event||(bt.event=u.dispatch("start","end","interrupt"))).on(M,k)});return this},Xi.transition=function(){for(var M,k,Y,tt=this.id,at=++Nu,ut=this.namespace,vt=[],bt=0,Ct=this.length;bt<Ct;bt++){vt.push(M=[]);for(var Ot,Yt=0,Kt=(Ot=this[bt]).length;Yt<Kt;Yt++)(k=Ot[Yt])&&Pp(k,Yt,ut,at,{time:(Y=k[ut][tt]).time,ease:Y.ease,delay:Y.delay+Y.duration,duration:Y.duration}),M.push(k)}return Kh(vt,ut,at)},u.svg.axis=function(){var M,k=u.scale.linear(),Y=L_,tt=6,at=6,ut=3,vt=[10],bt=null;function Ct(Ot){Ot.each(function(){var Yt,Kt=u.select(this),ie=this.__chart__||k,me=this.__chart__=k.copy(),Ce=bt??(me.ticks?me.ticks.apply(me,vt):me.domain()),de=M??(me.tickFormat?me.tickFormat.apply(me,vt):rt),Te=Kt.selectAll(".tick").data(Ce,me),le=Te.enter().insert("g",".domain").attr("class","tick").style("opacity",Rt),Ne=u.transition(Te.exit()).style("opacity",Rt).remove(),Ee=u.transition(Te.order()).style("opacity",1),ue=Math.max(tt,0)+ut,Ke=Hh(me),Ze=Kt.selectAll(".domain").data([0]),ln=(Ze.enter().append("path").attr("class","domain"),u.transition(Ze));le.append("line"),le.append("text");var hn,Ln,Pn,Yn,Cn=le.select("line"),sr=Ee.select("line"),Nr=Te.select("text").text(de),pi=le.select("text"),xn=Ee.select("text"),On=Y==="top"||Y==="left"?-1:1;if(Y==="bottom"||Y==="top"?(Yt=sw,hn="x",Pn="y",Ln="x2",Yn="y2",Nr.attr("dy",On<0?"0em":".71em").style("text-anchor","middle"),ln.attr("d","M"+Ke[0]+","+On*at+"V0H"+Ke[1]+"V"+On*at)):(Yt=lw,hn="y",Pn="x",Ln="y2",Yn="x2",Nr.attr("dy",".32em").style("text-anchor",On<0?"end":"start"),ln.attr("d","M"+On*at+","+Ke[0]+"H0V"+Ke[1]+"H"+On*at)),Cn.attr(Yn,On*tt),pi.attr(Pn,On*ue),sr.attr(Ln,0).attr(Yn,On*tt),xn.attr(hn,0).attr(Pn,On*ue),me.rangeBand){var tr=me,Qn=tr.rangeBand()/2;ie=me=function(Er){return tr(Er)+Qn}}else ie.rangeBand?ie=me:Ne.call(Yt,me,ie);le.call(Yt,ie,me),Ee.call(Yt,me,me)})}return Ct.scale=function(Ot){return arguments.length?(k=Ot,Ct):k},Ct.orient=function(Ot){return arguments.length?(Y=Ot in ow?Ot+"":L_,Ct):Y},Ct.ticks=function(){return arguments.length?(vt=h(arguments),Ct):vt},Ct.tickValues=function(Ot){return arguments.length?(bt=Ot,Ct):bt},Ct.tickFormat=function(Ot){return arguments.length?(M=Ot,Ct):M},Ct.tickSize=function(Ot){var Yt=arguments.length;return Yt?(tt=+Ot,at=+arguments[Yt-1],Ct):tt},Ct.innerTickSize=function(Ot){return arguments.length?(tt=+Ot,Ct):tt},Ct.outerTickSize=function(Ot){return arguments.length?(at=+Ot,Ct):at},Ct.tickPadding=function(Ot){return arguments.length?(ut=+Ot,Ct):ut},Ct.tickSubdivide=function(){return arguments.length&&Ct},Ct};var L_="bottom",ow={top:1,right:1,bottom:1,left:1};function sw(M,k,Y){M.attr("transform",function(tt){var at=k(tt);return"translate("+(isFinite(at)?at:Y(tt))+",0)"})}function lw(M,k,Y){M.attr("transform",function(tt){var at=k(tt);return"translate(0,"+(isFinite(at)?at:Y(tt))+")"})}u.svg.brush=function(){var M,k,Y=V(Yt,"brushstart","brush","brushend"),tt=null,at=null,ut=[0,0],vt=[0,0],bt=!0,Ct=!0,Ot=Rp[0];function Yt(de){de.each(function(){var Te=u.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Ce).on("touchstart.brush",Ce),le=Te.selectAll(".background").data([0]);le.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Te.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Ne=Te.selectAll(".resize").data(Ot,rt);Ne.exit().remove(),Ne.enter().append("g").attr("class",function(Ze){return"resize "+Ze}).style("cursor",function(Ze){return P_[Ze]}).append("rect").attr("x",function(Ze){return/[ew]$/.test(Ze)?-3:null}).attr("y",function(Ze){return/^[ns]/.test(Ze)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Ne.style("display",Yt.empty()?"none":null);var Ee,ue=u.transition(Te),Ke=u.transition(le);tt&&(Ee=Hh(tt),Ke.attr("x",Ee[0]).attr("width",Ee[1]-Ee[0]),ie(ue)),at&&(Ee=Hh(at),Ke.attr("y",Ee[0]).attr("height",Ee[1]-Ee[0]),me(ue)),Kt(ue)})}function Kt(de){de.selectAll(".resize").attr("transform",function(Te){return"translate("+ut[+/e$/.test(Te)]+","+vt[+/^s/.test(Te)]+")"})}function ie(de){de.select(".extent").attr("x",ut[0]),de.selectAll(".extent,.n>rect,.s>rect").attr("width",ut[1]-ut[0])}function me(de){de.select(".extent").attr("y",vt[0]),de.selectAll(".extent,.e>rect,.w>rect").attr("height",vt[1]-vt[0])}function Ce(){var de,Te,le=this,Ne=u.select(u.event.target),Ee=Y.of(le,arguments),ue=u.select(le),Ke=Ne.datum(),Ze=!/^(n|s)$/.test(Ke)&&tt,ln=!/^(e|w)$/.test(Ke)&&at,hn=Ne.classed("extent"),Ln=pe(le),Pn=u.mouse(le),Yn=u.select(g(le)).on("keydown.brush",function(){u.event.keyCode==32&&(hn||(de=null,Pn[0]-=ut[1],Pn[1]-=vt[1],hn=2),dt())}).on("keyup.brush",function(){u.event.keyCode==32&&hn==2&&(Pn[0]+=ut[1],Pn[1]+=vt[1],hn=0,dt())});if(u.event.changedTouches?Yn.on("touchmove.brush",Nr).on("touchend.brush",xn):Yn.on("mousemove.brush",Nr).on("mouseup.brush",xn),ue.interrupt().selectAll("*").interrupt(),hn)Pn[0]=ut[0]-Pn[0],Pn[1]=vt[0]-Pn[1];else if(Ke){var Cn=+/w$/.test(Ke),sr=+/^n/.test(Ke);Te=[ut[1-Cn]-Pn[0],vt[1-sr]-Pn[1]],Pn[0]=ut[Cn],Pn[1]=vt[sr]}else u.event.altKey&&(de=Pn.slice());function Nr(){var On=u.mouse(le),tr=!1;Te&&(On[0]+=Te[0],On[1]+=Te[1]),hn||(u.event.altKey?(de||(de=[(ut[0]+ut[1])/2,(vt[0]+vt[1])/2]),Pn[0]=ut[+(On[0]<de[0])],Pn[1]=vt[+(On[1]<de[1])]):de=null),Ze&&pi(On,tt,0)&&(ie(ue),tr=!0),ln&&pi(On,at,1)&&(me(ue),tr=!0),tr&&(Kt(ue),Ee({type:"brush",mode:hn?"move":"resize"}))}function pi(On,tr,Qn){var Er,ri,Ui=Hh(tr),li=Ui[0],ia=Ui[1],Vi=Pn[Qn],Hi=Qn?vt:ut,za=Hi[1]-Hi[0];if(hn&&(li-=Vi,ia-=za+Vi),Er=(Qn?Ct:bt)?Math.max(li,Math.min(ia,On[Qn])):On[Qn],hn?ri=(Er+=Vi)+za:(de&&(Vi=Math.max(li,Math.min(ia,2*de[Qn]-Er))),Vi<Er?(ri=Er,Er=Vi):ri=Vi),Hi[0]!=Er||Hi[1]!=ri)return Qn?k=null:M=null,Hi[0]=Er,Hi[1]=ri,!0}function xn(){Nr(),ue.style("pointer-events","all").selectAll(".resize").style("display",Yt.empty()?"none":null),u.select("body").style("cursor",null),Yn.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Ln(),Ee({type:"brushend"})}ue.style("pointer-events","none").selectAll(".resize").style("display",null),u.select("body").style("cursor",Ne.style("cursor")),Ee({type:"brushstart"}),Nr()}return Yt.event=function(de){de.each(function(){var Te=Y.of(this,arguments),le={x:ut,y:vt,i:M,j:k},Ne=this.__chart__||le;this.__chart__=le,Cc?u.select(this).transition().each("start.brush",function(){M=Ne.i,k=Ne.j,ut=Ne.x,vt=Ne.y,Te({type:"brushstart"})}).tween("brush:brush",function(){var Ee=bp(ut,le.x),ue=bp(vt,le.y);return M=k=null,function(Ke){ut=le.x=Ee(Ke),vt=le.y=ue(Ke),Te({type:"brush",mode:"resize"})}}).each("end.brush",function(){M=le.i,k=le.j,Te({type:"brush",mode:"resize"}),Te({type:"brushend"})}):(Te({type:"brushstart"}),Te({type:"brush",mode:"resize"}),Te({type:"brushend"}))})},Yt.x=function(de){return arguments.length?(Ot=Rp[!(tt=de)<<1|!at],Yt):tt},Yt.y=function(de){return arguments.length?(Ot=Rp[!tt<<1|!(at=de)],Yt):at},Yt.clamp=function(de){return arguments.length?(tt&&at?(bt=!!de[0],Ct=!!de[1]):tt?bt=!!de:at&&(Ct=!!de),Yt):tt&&at?[bt,Ct]:tt?bt:at?Ct:null},Yt.extent=function(de){var Te,le,Ne,Ee,ue;return arguments.length?(tt&&(Te=de[0],le=de[1],at&&(Te=Te[0],le=le[0]),M=[Te,le],tt.invert&&(Te=tt(Te),le=tt(le)),le<Te&&(ue=Te,Te=le,le=ue),Te==ut[0]&&le==ut[1]||(ut=[Te,le])),at&&(Ne=de[0],Ee=de[1],tt&&(Ne=Ne[1],Ee=Ee[1]),k=[Ne,Ee],at.invert&&(Ne=at(Ne),Ee=at(Ee)),Ee<Ne&&(ue=Ne,Ne=Ee,Ee=ue),Ne==vt[0]&&Ee==vt[1]||(vt=[Ne,Ee])),Yt):(tt&&(M?(Te=M[0],le=M[1]):(Te=ut[0],le=ut[1],tt.invert&&(Te=tt.invert(Te),le=tt.invert(le)),le<Te&&(ue=Te,Te=le,le=ue))),at&&(k?(Ne=k[0],Ee=k[1]):(Ne=vt[0],Ee=vt[1],at.invert&&(Ne=at.invert(Ne),Ee=at.invert(Ee)),Ee<Ne&&(ue=Ne,Ne=Ee,Ee=ue))),tt&&at?[[Te,Ne],[le,Ee]]:tt?[Te,le]:at&&[Ne,Ee])},Yt.clear=function(){return Yt.empty()||(ut=[0,0],vt=[0,0],M=k=null),Yt},Yt.empty=function(){return!!tt&&ut[0]==ut[1]||!!at&&vt[0]==vt[1]},u.rebind(Yt,Y,"on")};var P_={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Rp=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function uw(M){return JSON.parse(M.responseText)}function cw(M){var k=d.createRange();return k.selectNode(d.body),k.createContextualFragment(M.responseText)}u.text=dn(function(M){return M.responseText}),u.json=function(M,k){return Mn(M,"application/json",uw,k)},u.html=function(M,k){return Mn(M,"text/html",cw,k)},u.xml=dn(function(M){return M.responseXML}),(f=typeof(l=u)=="function"?l.call(s,o,s,a):l)===void 0||(a.exports=f)}).apply(self)},721:function(a,s,o){function l(w,E){if((S=(w=E?w.toExponential(E-1):w.toExponential()).indexOf("e"))<0)return null;var S,C=w.slice(0,S);return[C.length>1?C[0]+C.slice(2):C,+w.slice(S+1)]}o.d(s,{WU:function(){return v},FF:function(){return x}});var f,u=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function c(w){if(!(E=u.exec(w)))throw new Error("invalid format: "+w);var E;return new h({fill:E[1],align:E[2],sign:E[3],symbol:E[4],zero:E[5],width:E[6],comma:E[7],precision:E[8]&&E[8].slice(1),trim:E[9],type:E[10]})}function h(w){this.fill=w.fill===void 0?" ":w.fill+"",this.align=w.align===void 0?">":w.align+"",this.sign=w.sign===void 0?"-":w.sign+"",this.symbol=w.symbol===void 0?"":w.symbol+"",this.zero=!!w.zero,this.width=w.width===void 0?void 0:+w.width,this.comma=!!w.comma,this.precision=w.precision===void 0?void 0:+w.precision,this.trim=!!w.trim,this.type=w.type===void 0?"":w.type+""}function d(w,E){var S=l(w,E);if(!S)return w+"";var C=S[0],T=S[1];return T<0?"0."+new Array(-T).join("0")+C:C.length>T+1?C.slice(0,T+1)+"."+C.slice(T+1):C+new Array(T-C.length+2).join("0")}c.prototype=h.prototype,h.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var p={"%":function(w,E){return(100*w).toFixed(E)},b:function(w){return Math.round(w).toString(2)},c:function(w){return w+""},d:function(w){return Math.abs(w=Math.round(w))>=1e21?w.toLocaleString("en").replace(/,/g,""):w.toString(10)},e:function(w,E){return w.toExponential(E)},f:function(w,E){return w.toFixed(E)},g:function(w,E){return w.toPrecision(E)},o:function(w){return Math.round(w).toString(8)},p:function(w,E){return d(100*w,E)},r:d,s:function(w,E){var S=l(w,E);if(!S)return w+"";var C=S[0],T=S[1],A=T-(f=3*Math.max(-8,Math.min(8,Math.floor(T/3))))+1,O=C.length;return A===O?C:A>O?C+new Array(A-O+1).join("0"):A>0?C.slice(0,A)+"."+C.slice(A):"0."+new Array(1-A).join("0")+l(w,Math.max(0,E+A-1))[0]},X:function(w){return Math.round(w).toString(16).toUpperCase()},x:function(w){return Math.round(w).toString(16)}};function g(w){return w}var m,v,y=Array.prototype.map,_=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function x(w){var E,S,C=w.grouping===void 0||w.thousands===void 0?g:(E=y.call(w.grouping,Number),S=w.thousands+"",function(I,B){for(var j=I.length,q=[],et=0,U=E[0],Z=0;j>0&&U>0&&(Z+U+1>B&&(U=Math.max(1,B-Z)),q.push(I.substring(j-=U,j+U)),!((Z+=U+1)>B));)U=E[et=(et+1)%E.length];return q.reverse().join(S)}),T=w.currency===void 0?"":w.currency[0]+"",A=w.currency===void 0?"":w.currency[1]+"",O=w.decimal===void 0?".":w.decimal+"",P=w.numerals===void 0?g:function(I){return function(B){return B.replace(/[0-9]/g,function(j){return I[+j]})}}(y.call(w.numerals,String)),F=w.percent===void 0?"%":w.percent+"",R=w.minus===void 0?"-":w.minus+"",N=w.nan===void 0?"NaN":w.nan+"";function D(I){var B=(I=c(I)).fill,j=I.align,q=I.sign,et=I.symbol,U=I.zero,Z=I.width,rt=I.comma,ft=I.precision,z=I.trim,W=I.type;W==="n"?(rt=!0,W="g"):p[W]||(ft===void 0&&(ft=12),z=!0,W="g"),(U||B==="0"&&j==="=")&&(U=!0,B="0",j="=");var X=et==="$"?T:et==="#"&&/[boxX]/.test(W)?"0"+W.toLowerCase():"",it=et==="$"?A:/[%p]/.test(W)?F:"",lt=p[W],dt=/[defgprs%]/.test(W);function nt(V){var G,H,$,J=X,Q=it;if(W==="c")Q=lt(V)+Q,V="";else{var ot=(V=+V)<0||1/V<0;if(V=isNaN(V)?N:lt(Math.abs(V),ft),z&&(V=function(xt){t:for(var Pt,It=xt.length,zt=1,pt=-1;zt<It;++zt)switch(xt[zt]){case".":pt=Pt=zt;break;case"0":pt===0&&(pt=zt),Pt=zt;break;default:if(!+xt[zt])break t;pt>0&&(pt=0)}return pt>0?xt.slice(0,pt)+xt.slice(Pt+1):xt}(V)),ot&&+V==0&&q!=="+"&&(ot=!1),J=(ot?q==="("?q:R:q==="-"||q==="("?"":q)+J,Q=(W==="s"?_[8+f/3]:"")+Q+(ot&&q==="("?")":""),dt){for(G=-1,H=V.length;++G<H;)if(48>($=V.charCodeAt(G))||$>57){Q=($===46?O+V.slice(G+1):V.slice(G))+Q,V=V.slice(0,G);break}}}rt&&!U&&(V=C(V,1/0));var st=J.length+V.length+Q.length,ht=st<Z?new Array(Z-st+1).join(B):"";switch(rt&&U&&(V=C(ht+V,ht.length?Z-Q.length:1/0),ht=""),j){case"<":V=J+V+Q+ht;break;case"=":V=J+ht+V+Q;break;case"^":V=ht.slice(0,st=ht.length>>1)+J+V+Q+ht.slice(st);break;default:V=ht+J+V+Q}return P(V)}return ft=ft===void 0?6:/[gprs]/.test(W)?Math.max(1,Math.min(21,ft)):Math.max(0,Math.min(20,ft)),nt.toString=function(){return I+""},nt}return{format:D,formatPrefix:function(I,B){var j,q=D(((I=c(I)).type="f",I)),et=3*Math.max(-8,Math.min(8,Math.floor((j=B,((j=l(Math.abs(j)))?j[1]:NaN)/3)))),U=Math.pow(10,-et),Z=_[8+et/3];return function(rt){return q(U*rt)+Z}}}}m=x({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),v=m.format,m.formatPrefix},4096:function(a,s,o){o.d(s,{i$:function(){return _},Dq:function(){return v},g0:function(){return x}});var l=o(8176),f=o(8480),u=o(9879),c=o(2301),h=o(4823),d=o(9791);function p(jt){if(0<=jt.y&&jt.y<100){var Rt=new Date(-1,jt.m,jt.d,jt.H,jt.M,jt.S,jt.L);return Rt.setFullYear(jt.y),Rt}return new Date(jt.y,jt.m,jt.d,jt.H,jt.M,jt.S,jt.L)}function g(jt){if(0<=jt.y&&jt.y<100){var Rt=new Date(Date.UTC(-1,jt.m,jt.d,jt.H,jt.M,jt.S,jt.L));return Rt.setUTCFullYear(jt.y),Rt}return new Date(Date.UTC(jt.y,jt.m,jt.d,jt.H,jt.M,jt.S,jt.L))}function m(jt,Rt,te){return{y:jt,m:Rt,d:te,H:0,M:0,S:0,L:0}}function v(jt){var Rt=jt.dateTime,te=jt.date,ae=jt.time,Se=jt.periods,ne=jt.days,ge=jt.shortDays,xe=jt.months,Fe=jt.shortMonths,Ae=O(Se),$e=P(Se),Me=O(ne),ct=P(ne),gt=O(ge),qt=P(ge),Vt=O(xe),Jt=P(xe),Xt=O(Fe),ee=P(Fe),re={a:function(Oe){return ge[Oe.getDay()]},A:function(Oe){return ne[Oe.getDay()]},b:function(Oe){return Fe[Oe.getMonth()]},B:function(Oe){return xe[Oe.getMonth()]},c:null,d:V,e:V,f:Q,H:G,I:H,j:$,L:J,m:ot,M:st,p:function(Oe){return Se[+(Oe.getHours()>=12)]},q:function(Oe){return 1+~~(Oe.getMonth()/3)},Q:we,s:Le,S:ht,u:xt,U:Pt,V:It,w:zt,W:pt,x:null,X:null,y:yt,Y:wt,Z:St,"%":pe},fe={a:function(Oe){return ge[Oe.getUTCDay()]},A:function(Oe){return ne[Oe.getUTCDay()]},b:function(Oe){return Fe[Oe.getUTCMonth()]},B:function(Oe){return xe[Oe.getUTCMonth()]},c:null,d:Ut,e:Ut,f:Et,H:Gt,I:mt,j:Tt,L:At,m:Mt,M:Nt,p:function(Oe){return Se[+(Oe.getUTCHours()>=12)]},q:function(Oe){return 1+~~(Oe.getUTCMonth()/3)},Q:we,s:Le,S:Ft,u:Lt,U:Dt,V:kt,w:Wt,W:Qt,x:null,X:null,y:Ht,Y:oe,Z:ce,"%":pe},ye={a:function(Oe,We,je){var _e=gt.exec(We.slice(je));return _e?(Oe.w=qt[_e[0].toLowerCase()],je+_e[0].length):-1},A:function(Oe,We,je){var _e=Me.exec(We.slice(je));return _e?(Oe.w=ct[_e[0].toLowerCase()],je+_e[0].length):-1},b:function(Oe,We,je){var _e=Xt.exec(We.slice(je));return _e?(Oe.m=ee[_e[0].toLowerCase()],je+_e[0].length):-1},B:function(Oe,We,je){var _e=Vt.exec(We.slice(je));return _e?(Oe.m=Jt[_e[0].toLowerCase()],je+_e[0].length):-1},c:function(Oe,We,je){return nn(Oe,Rt,We,je)},d:Z,e:Z,f:it,H:ft,I:ft,j:rt,L:X,m:U,M:z,p:function(Oe,We,je){var _e=Ae.exec(We.slice(je));return _e?(Oe.p=$e[_e[0].toLowerCase()],je+_e[0].length):-1},q:et,Q:dt,s:nt,S:W,u:R,U:N,V:D,w:F,W:I,x:function(Oe,We,je){return nn(Oe,te,We,je)},X:function(Oe,We,je){return nn(Oe,ae,We,je)},y:j,Y:B,Z:q,"%":lt};function se(Oe,We){return function(je){var _e,he,Pe,an=[],tn=-1,on=0,be=Oe.length;for(je instanceof Date||(je=new Date(+je));++tn<be;)Oe.charCodeAt(tn)===37&&(an.push(Oe.slice(on,tn)),(he=w[_e=Oe.charAt(++tn)])!=null?_e=Oe.charAt(++tn):he=_e==="e"?" ":"0",(Pe=We[_e])&&(_e=Pe(je,he)),an.push(_e),on=tn+1);return an.push(Oe.slice(on,tn)),an.join("")}}function Ge(Oe,We){return function(je){var _e,he,Pe=m(1900,void 0,1);if(nn(Pe,Oe,je+="",0)!=je.length)return null;if("Q"in Pe)return new Date(Pe.Q);if("s"in Pe)return new Date(1e3*Pe.s+("L"in Pe?Pe.L:0));if(We&&!("Z"in Pe)&&(Pe.Z=0),"p"in Pe&&(Pe.H=Pe.H%12+12*Pe.p),Pe.m===void 0&&(Pe.m="q"in Pe?Pe.q:0),"V"in Pe){if(Pe.V<1||Pe.V>53)return null;"w"in Pe||(Pe.w=1),"Z"in Pe?(he=(_e=g(m(Pe.y,0,1))).getUTCDay(),_e=he>4||he===0?l.l6.ceil(_e):(0,l.l6)(_e),_e=f.Z.offset(_e,7*(Pe.V-1)),Pe.y=_e.getUTCFullYear(),Pe.m=_e.getUTCMonth(),Pe.d=_e.getUTCDate()+(Pe.w+6)%7):(he=(_e=p(m(Pe.y,0,1))).getDay(),_e=he>4||he===0?u.wA.ceil(_e):(0,u.wA)(_e),_e=c.Z.offset(_e,7*(Pe.V-1)),Pe.y=_e.getFullYear(),Pe.m=_e.getMonth(),Pe.d=_e.getDate()+(Pe.w+6)%7)}else("W"in Pe||"U"in Pe)&&("w"in Pe||(Pe.w="u"in Pe?Pe.u%7:"W"in Pe?1:0),he="Z"in Pe?g(m(Pe.y,0,1)).getUTCDay():p(m(Pe.y,0,1)).getDay(),Pe.m=0,Pe.d="W"in Pe?(Pe.w+6)%7+7*Pe.W-(he+5)%7:Pe.w+7*Pe.U-(he+6)%7);return"Z"in Pe?(Pe.H+=Pe.Z/100|0,Pe.M+=Pe.Z%100,g(Pe)):p(Pe)}}function nn(Oe,We,je,_e){for(var he,Pe,an=0,tn=We.length,on=je.length;an<tn;){if(_e>=on)return-1;if((he=We.charCodeAt(an++))===37){if(he=We.charAt(an++),!(Pe=ye[he in w?We.charAt(an++):he])||(_e=Pe(Oe,je,_e))<0)return-1}else if(he!=je.charCodeAt(_e++))return-1}return _e}return re.x=se(te,re),re.X=se(ae,re),re.c=se(Rt,re),fe.x=se(te,fe),fe.X=se(ae,fe),fe.c=se(Rt,fe),{format:function(Oe){var We=se(Oe+="",re);return We.toString=function(){return Oe},We},parse:function(Oe){var We=Ge(Oe+="",!1);return We.toString=function(){return Oe},We},utcFormat:function(Oe){var We=se(Oe+="",fe);return We.toString=function(){return Oe},We},utcParse:function(Oe){var We=Ge(Oe+="",!0);return We.toString=function(){return Oe},We}}}var y,_,x,w={"-":"",_:" ",0:"0"},E=/^\s*\d+/,S=/^%/,C=/[\\^$*+?|[\]().{}]/g;function T(jt,Rt,te){var ae=jt<0?"-":"",Se=(ae?-jt:jt)+"",ne=Se.length;return ae+(ne<te?new Array(te-ne+1).join(Rt)+Se:Se)}function A(jt){return jt.replace(C,"\\$&")}function O(jt){return new RegExp("^(?:"+jt.map(A).join("|")+")","i")}function P(jt){for(var Rt={},te=-1,ae=jt.length;++te<ae;)Rt[jt[te].toLowerCase()]=te;return Rt}function F(jt,Rt,te){var ae=E.exec(Rt.slice(te,te+1));return ae?(jt.w=+ae[0],te+ae[0].length):-1}function R(jt,Rt,te){var ae=E.exec(Rt.slice(te,te+1));return ae?(jt.u=+ae[0],te+ae[0].length):-1}function N(jt,Rt,te){var ae=E.exec(Rt.slice(te,te+2));return ae?(jt.U=+ae[0],te+ae[0].length):-1}function D(jt,Rt,te){var ae=E.exec(Rt.slice(te,te+2));return ae?(jt.V=+ae[0],te+ae[0].length):-1}function I(jt,Rt,te){var ae=E.exec(Rt.slice(te,te+2));return ae?(jt.W=+ae[0],te+ae[0].length):-1}function B(jt,Rt,te){var ae=E.exec(Rt.slice(te,te+4));return ae?(jt.y=+ae[0],te+ae[0].length):-1}function j(jt,Rt,te){var ae=E.exec(Rt.slice(te,te+2));return ae?(jt.y=+ae[0]+(+ae[0]>68?1900:2e3),te+ae[0].length):-1}function q(jt,Rt,te){var ae=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Rt.slice(te,te+6));return ae?(jt.Z=ae[1]?0:-(ae[2]+(ae[3]||"00")),te+ae[0].length):-1}function et(jt,Rt,te){var ae=E.exec(Rt.slice(te,te+1));return ae?(jt.q=3*ae[0]-3,te+ae[0].length):-1}function U(jt,Rt,te){var ae=E.exec(Rt.slice(te,te+2));return ae?(jt.m=ae[0]-1,te+ae[0].length):-1}function Z(jt,Rt,te){var ae=E.exec(Rt.slice(te,te+2));return ae?(jt.d=+ae[0],te+ae[0].length):-1}function rt(jt,Rt,te){var ae=E.exec(Rt.slice(te,te+3));return ae?(jt.m=0,jt.d=+ae[0],te+ae[0].length):-1}function ft(jt,Rt,te){var ae=E.exec(Rt.slice(te,te+2));return ae?(jt.H=+ae[0],te+ae[0].length):-1}function z(jt,Rt,te){var ae=E.exec(Rt.slice(te,te+2));return ae?(jt.M=+ae[0],te+ae[0].length):-1}function W(jt,Rt,te){var ae=E.exec(Rt.slice(te,te+2));return ae?(jt.S=+ae[0],te+ae[0].length):-1}function X(jt,Rt,te){var ae=E.exec(Rt.slice(te,te+3));return ae?(jt.L=+ae[0],te+ae[0].length):-1}function it(jt,Rt,te){var ae=E.exec(Rt.slice(te,te+6));return ae?(jt.L=Math.floor(ae[0]/1e3),te+ae[0].length):-1}function lt(jt,Rt,te){var ae=S.exec(Rt.slice(te,te+1));return ae?te+ae[0].length:-1}function dt(jt,Rt,te){var ae=E.exec(Rt.slice(te));return ae?(jt.Q=+ae[0],te+ae[0].length):-1}function nt(jt,Rt,te){var ae=E.exec(Rt.slice(te));return ae?(jt.s=+ae[0],te+ae[0].length):-1}function V(jt,Rt){return T(jt.getDate(),Rt,2)}function G(jt,Rt){return T(jt.getHours(),Rt,2)}function H(jt,Rt){return T(jt.getHours()%12||12,Rt,2)}function $(jt,Rt){return T(1+c.Z.count((0,h.Z)(jt),jt),Rt,3)}function J(jt,Rt){return T(jt.getMilliseconds(),Rt,3)}function Q(jt,Rt){return J(jt,Rt)+"000"}function ot(jt,Rt){return T(jt.getMonth()+1,Rt,2)}function st(jt,Rt){return T(jt.getMinutes(),Rt,2)}function ht(jt,Rt){return T(jt.getSeconds(),Rt,2)}function xt(jt){var Rt=jt.getDay();return Rt===0?7:Rt}function Pt(jt,Rt){return T(u.OM.count((0,h.Z)(jt)-1,jt),Rt,2)}function It(jt,Rt){var te=jt.getDay();return jt=te>=4||te===0?(0,u.bL)(jt):u.bL.ceil(jt),T(u.bL.count((0,h.Z)(jt),jt)+((0,h.Z)(jt).getDay()===4),Rt,2)}function zt(jt){return jt.getDay()}function pt(jt,Rt){return T(u.wA.count((0,h.Z)(jt)-1,jt),Rt,2)}function yt(jt,Rt){return T(jt.getFullYear()%100,Rt,2)}function wt(jt,Rt){return T(jt.getFullYear()%1e4,Rt,4)}function St(jt){var Rt=jt.getTimezoneOffset();return(Rt>0?"-":(Rt*=-1,"+"))+T(Rt/60|0,"0",2)+T(Rt%60,"0",2)}function Ut(jt,Rt){return T(jt.getUTCDate(),Rt,2)}function Gt(jt,Rt){return T(jt.getUTCHours(),Rt,2)}function mt(jt,Rt){return T(jt.getUTCHours()%12||12,Rt,2)}function Tt(jt,Rt){return T(1+f.Z.count((0,d.Z)(jt),jt),Rt,3)}function At(jt,Rt){return T(jt.getUTCMilliseconds(),Rt,3)}function Et(jt,Rt){return At(jt,Rt)+"000"}function Mt(jt,Rt){return T(jt.getUTCMonth()+1,Rt,2)}function Nt(jt,Rt){return T(jt.getUTCMinutes(),Rt,2)}function Ft(jt,Rt){return T(jt.getUTCSeconds(),Rt,2)}function Lt(jt){var Rt=jt.getUTCDay();return Rt===0?7:Rt}function Dt(jt,Rt){return T(l.Ox.count((0,d.Z)(jt)-1,jt),Rt,2)}function kt(jt,Rt){var te=jt.getUTCDay();return jt=te>=4||te===0?(0,l.hB)(jt):l.hB.ceil(jt),T(l.hB.count((0,d.Z)(jt),jt)+((0,d.Z)(jt).getUTCDay()===4),Rt,2)}function Wt(jt){return jt.getUTCDay()}function Qt(jt,Rt){return T(l.l6.count((0,d.Z)(jt)-1,jt),Rt,2)}function Ht(jt,Rt){return T(jt.getUTCFullYear()%100,Rt,2)}function oe(jt,Rt){return T(jt.getUTCFullYear()%1e4,Rt,4)}function ce(){return"+0000"}function pe(){return"%"}function we(jt){return+jt}function Le(jt){return Math.floor(+jt/1e3)}y=v({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),_=y.format,y.parse,x=y.utcFormat,y.utcParse},2301:function(a,s,o){o.d(s,{a:function(){return c}});var l=o(52),f=o(4263),u=(0,l.Z)(function(h){h.setHours(0,0,0,0)},function(h,d){h.setDate(h.getDate()+d)},function(h,d){return(d-h-(d.getTimezoneOffset()-h.getTimezoneOffset())*f.yB)/f.UD},function(h){return h.getDate()-1});s.Z=u;var c=u.range},4263:function(a,s,o){o.d(s,{UD:function(){return c},Y2:function(){return u},Ym:function(){return l},iM:function(){return h},yB:function(){return f}});var l=1e3,f=6e4,u=36e5,c=864e5,h=6048e5},1041:function(a,s,o){o.r(s),o.d(s,{timeDay:function(){return E.Z},timeDays:function(){return E.a},timeFriday:function(){return S.mC},timeFridays:function(){return S.b$},timeHour:function(){return x},timeHours:function(){return w},timeInterval:function(){return l.Z},timeMillisecond:function(){return u},timeMilliseconds:function(){return c},timeMinute:function(){return v},timeMinutes:function(){return y},timeMonday:function(){return S.wA},timeMondays:function(){return S.bJ},timeMonth:function(){return T},timeMonths:function(){return A},timeSaturday:function(){return S.EY},timeSaturdays:function(){return S.Ff},timeSecond:function(){return p},timeSeconds:function(){return g},timeSunday:function(){return S.OM},timeSundays:function(){return S.vm},timeThursday:function(){return S.bL},timeThursdays:function(){return S.$t},timeTuesday:function(){return S.sy},timeTuesdays:function(){return S.aU},timeWednesday:function(){return S.zg},timeWednesdays:function(){return S.Ld},timeWeek:function(){return S.OM},timeWeeks:function(){return S.vm},timeYear:function(){return O.Z},timeYears:function(){return O.g},utcDay:function(){return B.Z},utcDays:function(){return B.y},utcFriday:function(){return j.QQ},utcFridays:function(){return j.fz},utcHour:function(){return D},utcHours:function(){return I},utcMillisecond:function(){return u},utcMilliseconds:function(){return c},utcMinute:function(){return F},utcMinutes:function(){return R},utcMonday:function(){return j.l6},utcMondays:function(){return j.$3},utcMonth:function(){return et},utcMonths:function(){return U},utcSaturday:function(){return j.g4},utcSaturdays:function(){return j.Q_},utcSecond:function(){return p},utcSeconds:function(){return g},utcSunday:function(){return j.Ox},utcSundays:function(){return j.SU},utcThursday:function(){return j.hB},utcThursdays:function(){return j.xj},utcTuesday:function(){return j.J1},utcTuesdays:function(){return j.DK},utcWednesday:function(){return j.b3},utcWednesdays:function(){return j.uy},utcWeek:function(){return j.Ox},utcWeeks:function(){return j.SU},utcYear:function(){return Z.Z},utcYears:function(){return Z.D}});var l=o(52),f=(0,l.Z)(function(){},function(rt,ft){rt.setTime(+rt+ft)},function(rt,ft){return ft-rt});f.every=function(rt){return rt=Math.floor(rt),isFinite(rt)&&rt>0?rt>1?(0,l.Z)(function(ft){ft.setTime(Math.floor(ft/rt)*rt)},function(ft,z){ft.setTime(+ft+z*rt)},function(ft,z){return(z-ft)/rt}):f:null};var u=f,c=f.range,h=o(4263),d=(0,l.Z)(function(rt){rt.setTime(rt-rt.getMilliseconds())},function(rt,ft){rt.setTime(+rt+ft*h.Ym)},function(rt,ft){return(ft-rt)/h.Ym},function(rt){return rt.getUTCSeconds()}),p=d,g=d.range,m=(0,l.Z)(function(rt){rt.setTime(rt-rt.getMilliseconds()-rt.getSeconds()*h.Ym)},function(rt,ft){rt.setTime(+rt+ft*h.yB)},function(rt,ft){return(ft-rt)/h.yB},function(rt){return rt.getMinutes()}),v=m,y=m.range,_=(0,l.Z)(function(rt){rt.setTime(rt-rt.getMilliseconds()-rt.getSeconds()*h.Ym-rt.getMinutes()*h.yB)},function(rt,ft){rt.setTime(+rt+ft*h.Y2)},function(rt,ft){return(ft-rt)/h.Y2},function(rt){return rt.getHours()}),x=_,w=_.range,E=o(2301),S=o(9879),C=(0,l.Z)(function(rt){rt.setDate(1),rt.setHours(0,0,0,0)},function(rt,ft){rt.setMonth(rt.getMonth()+ft)},function(rt,ft){return ft.getMonth()-rt.getMonth()+12*(ft.getFullYear()-rt.getFullYear())},function(rt){return rt.getMonth()}),T=C,A=C.range,O=o(4823),P=(0,l.Z)(function(rt){rt.setUTCSeconds(0,0)},function(rt,ft){rt.setTime(+rt+ft*h.yB)},function(rt,ft){return(ft-rt)/h.yB},function(rt){return rt.getUTCMinutes()}),F=P,R=P.range,N=(0,l.Z)(function(rt){rt.setUTCMinutes(0,0,0)},function(rt,ft){rt.setTime(+rt+ft*h.Y2)},function(rt,ft){return(ft-rt)/h.Y2},function(rt){return rt.getUTCHours()}),D=N,I=N.range,B=o(8480),j=o(8176),q=(0,l.Z)(function(rt){rt.setUTCDate(1),rt.setUTCHours(0,0,0,0)},function(rt,ft){rt.setUTCMonth(rt.getUTCMonth()+ft)},function(rt,ft){return ft.getUTCMonth()-rt.getUTCMonth()+12*(ft.getUTCFullYear()-rt.getUTCFullYear())},function(rt){return rt.getUTCMonth()}),et=q,U=q.range,Z=o(9791)},52:function(a,s,o){o.d(s,{Z:function(){return u}});var l=new Date,f=new Date;function u(c,h,d,p){function g(m){return c(m=arguments.length===0?new Date:new Date(+m)),m}return g.floor=function(m){return c(m=new Date(+m)),m},g.ceil=function(m){return c(m=new Date(m-1)),h(m,1),c(m),m},g.round=function(m){var v=g(m),y=g.ceil(m);return m-v<y-m?v:y},g.offset=function(m,v){return h(m=new Date(+m),v==null?1:Math.floor(v)),m},g.range=function(m,v,y){var _,x=[];if(m=g.ceil(m),y=y==null?1:Math.floor(y),!(m<v&&y>0))return x;do x.push(_=new Date(+m)),h(m,y),c(m);while(_<m&&m<v);return x},g.filter=function(m){return u(function(v){if(v>=v)for(;c(v),!m(v);)v.setTime(v-1)},function(v,y){if(v>=v)if(y<0)for(;++y<=0;)for(;h(v,-1),!m(v););else for(;--y>=0;)for(;h(v,1),!m(v););})},d&&(g.count=function(m,v){return l.setTime(+m),f.setTime(+v),c(l),c(f),Math.floor(d(l,f))},g.every=function(m){return m=Math.floor(m),isFinite(m)&&m>0?m>1?g.filter(p?function(v){return p(v)%m==0}:function(v){return g.count(0,v)%m==0}):g:null}),g}},8480:function(a,s,o){o.d(s,{y:function(){return c}});var l=o(52),f=o(4263),u=(0,l.Z)(function(h){h.setUTCHours(0,0,0,0)},function(h,d){h.setUTCDate(h.getUTCDate()+d)},function(h,d){return(d-h)/f.UD},function(h){return h.getUTCDate()-1});s.Z=u;var c=u.range},8176:function(a,s,o){o.d(s,{$3:function(){return _},DK:function(){return x},J1:function(){return d},Ox:function(){return c},QQ:function(){return m},Q_:function(){return C},SU:function(){return y},b3:function(){return p},fz:function(){return S},g4:function(){return v},hB:function(){return g},l6:function(){return h},uy:function(){return w},xj:function(){return E}});var l=o(52),f=o(4263);function u(T){return(0,l.Z)(function(A){A.setUTCDate(A.getUTCDate()-(A.getUTCDay()+7-T)%7),A.setUTCHours(0,0,0,0)},function(A,O){A.setUTCDate(A.getUTCDate()+7*O)},function(A,O){return(O-A)/f.iM})}var c=u(0),h=u(1),d=u(2),p=u(3),g=u(4),m=u(5),v=u(6),y=c.range,_=h.range,x=d.range,w=p.range,E=g.range,S=m.range,C=v.range},9791:function(a,s,o){o.d(s,{D:function(){return u}});var l=o(52),f=(0,l.Z)(function(c){c.setUTCMonth(0,1),c.setUTCHours(0,0,0,0)},function(c,h){c.setUTCFullYear(c.getUTCFullYear()+h)},function(c,h){return h.getUTCFullYear()-c.getUTCFullYear()},function(c){return c.getUTCFullYear()});f.every=function(c){return isFinite(c=Math.floor(c))&&c>0?(0,l.Z)(function(h){h.setUTCFullYear(Math.floor(h.getUTCFullYear()/c)*c),h.setUTCMonth(0,1),h.setUTCHours(0,0,0,0)},function(h,d){h.setUTCFullYear(h.getUTCFullYear()+d*c)}):null},s.Z=f;var u=f.range},9879:function(a,s,o){o.d(s,{$t:function(){return E},EY:function(){return v},Ff:function(){return C},Ld:function(){return w},OM:function(){return c},aU:function(){return x},b$:function(){return S},bJ:function(){return _},bL:function(){return g},mC:function(){return m},sy:function(){return d},vm:function(){return y},wA:function(){return h},zg:function(){return p}});var l=o(52),f=o(4263);function u(T){return(0,l.Z)(function(A){A.setDate(A.getDate()-(A.getDay()+7-T)%7),A.setHours(0,0,0,0)},function(A,O){A.setDate(A.getDate()+7*O)},function(A,O){return(O-A-(O.getTimezoneOffset()-A.getTimezoneOffset())*f.yB)/f.iM})}var c=u(0),h=u(1),d=u(2),p=u(3),g=u(4),m=u(5),v=u(6),y=c.range,_=h.range,x=d.range,w=p.range,E=g.range,S=m.range,C=v.range},4823:function(a,s,o){o.d(s,{g:function(){return u}});var l=o(52),f=(0,l.Z)(function(c){c.setMonth(0,1),c.setHours(0,0,0,0)},function(c,h){c.setFullYear(c.getFullYear()+h)},function(c,h){return h.getFullYear()-c.getFullYear()},function(c){return c.getFullYear()});f.every=function(c){return isFinite(c=Math.floor(c))&&c>0?(0,l.Z)(function(h){h.setFullYear(Math.floor(h.getFullYear()/c)*c),h.setMonth(0,1),h.setHours(0,0,0,0)},function(h,d){h.setFullYear(h.getFullYear()+d*c)}):null},s.Z=f;var u=f.range},5398:function(a){var s,o=typeof Reflect=="object"?Reflect:null,l=o&&typeof o.apply=="function"?o.apply:function(w,E,S){return Function.prototype.apply.call(w,E,S)};s=o&&typeof o.ownKeys=="function"?o.ownKeys:Object.getOwnPropertySymbols?function(w){return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w))}:function(w){return Object.getOwnPropertyNames(w)};var f=Number.isNaN||function(w){return w!=w};function u(){u.init.call(this)}a.exports=u,a.exports.once=function(w,E){return new Promise(function(S,C){function T(O){w.removeListener(E,A),C(O)}function A(){typeof w.removeListener=="function"&&w.removeListener("error",T),S([].slice.call(arguments))}x(w,E,A,{once:!0}),E!=="error"&&function(O,P,F){typeof O.on=="function"&&x(O,"error",P,{once:!0})}(w,T)})},u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var c=10;function h(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}function d(w){return w._maxListeners===void 0?u.defaultMaxListeners:w._maxListeners}function p(w,E,S,C){var T,A,O,P;if(h(S),(A=w._events)===void 0?(A=w._events=Object.create(null),w._eventsCount=0):(A.newListener!==void 0&&(w.emit("newListener",E,S.listener?S.listener:S),A=w._events),O=A[E]),O===void 0)O=A[E]=S,++w._eventsCount;else if(typeof O=="function"?O=A[E]=C?[S,O]:[O,S]:C?O.unshift(S):O.push(S),(T=d(w))>0&&O.length>T&&!O.warned){O.warned=!0;var F=new Error("Possible EventEmitter memory leak detected. "+O.length+" "+String(E)+" listeners added. Use emitter.setMaxListeners() to increase limit");F.name="MaxListenersExceededWarning",F.emitter=w,F.type=E,F.count=O.length,P=F,console&&console.warn&&console.warn(P)}return w}function g(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(w,E,S){var C={fired:!1,wrapFn:void 0,target:w,type:E,listener:S},T=g.bind(C);return T.listener=S,C.wrapFn=T,T}function v(w,E,S){var C=w._events;if(C===void 0)return[];var T=C[E];return T===void 0?[]:typeof T=="function"?S?[T.listener||T]:[T]:S?function(A){for(var O=new Array(A.length),P=0;P<O.length;++P)O[P]=A[P].listener||A[P];return O}(T):_(T,T.length)}function y(w){var E=this._events;if(E!==void 0){var S=E[w];if(typeof S=="function")return 1;if(S!==void 0)return S.length}return 0}function _(w,E){for(var S=new Array(E),C=0;C<E;++C)S[C]=w[C];return S}function x(w,E,S,C){if(typeof w.on=="function")C.once?w.once(E,S):w.on(E,S);else{if(typeof w.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w);w.addEventListener(E,function T(A){C.once&&w.removeEventListener(E,T),S(A)})}}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(w){if(typeof w!="number"||w<0||f(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");c=w}}),u.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(w){if(typeof w!="number"||w<0||f(w))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+w+".");return this._maxListeners=w,this},u.prototype.getMaxListeners=function(){return d(this)},u.prototype.emit=function(w){for(var E=[],S=1;S<arguments.length;S++)E.push(arguments[S]);var C=w==="error",T=this._events;if(T!==void 0)C=C&&T.error===void 0;else if(!C)return!1;if(C){var A;if(E.length>0&&(A=E[0]),A instanceof Error)throw A;var O=new Error("Unhandled error."+(A?" ("+A.message+")":""));throw O.context=A,O}var P=T[w];if(P===void 0)return!1;if(typeof P=="function")l(P,this,E);else{var F=P.length,R=_(P,F);for(S=0;S<F;++S)l(R[S],this,E)}return!0},u.prototype.addListener=function(w,E){return p(this,w,E,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(w,E){return p(this,w,E,!0)},u.prototype.once=function(w,E){return h(E),this.on(w,m(this,w,E)),this},u.prototype.prependOnceListener=function(w,E){return h(E),this.prependListener(w,m(this,w,E)),this},u.prototype.removeListener=function(w,E){var S,C,T,A,O;if(h(E),(C=this._events)===void 0)return this;if((S=C[w])===void 0)return this;if(S===E||S.listener===E)--this._eventsCount==0?this._events=Object.create(null):(delete C[w],C.removeListener&&this.emit("removeListener",w,S.listener||E));else if(typeof S!="function"){for(T=-1,A=S.length-1;A>=0;A--)if(S[A]===E||S[A].listener===E){O=S[A].listener,T=A;break}if(T<0)return this;T===0?S.shift():function(P,F){for(;F+1<P.length;F++)P[F]=P[F+1];P.pop()}(S,T),S.length===1&&(C[w]=S[0]),C.removeListener!==void 0&&this.emit("removeListener",w,O||E)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(w){var E,S,C;if((S=this._events)===void 0)return this;if(S.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):S[w]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete S[w]),this;if(arguments.length===0){var T,A=Object.keys(S);for(C=0;C<A.length;++C)(T=A[C])!=="removeListener"&&this.removeAllListeners(T);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(E=S[w])=="function")this.removeListener(w,E);else if(E!==void 0)for(C=E.length-1;C>=0;C--)this.removeListener(w,E[C]);return this},u.prototype.listeners=function(w){return v(this,w,!0)},u.prototype.rawListeners=function(w){return v(this,w,!1)},u.listenerCount=function(w,E){return typeof w.listenerCount=="function"?w.listenerCount(E):y.call(w,E)},u.prototype.listenerCount=y,u.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]}},2770:function(a,s,o){var l=o(8546);a.exports=function(f){var u=typeof f;if(u==="string"){var c=f;if((f=+f)==0&&l(c))return!1}else if(u!=="number")return!1;return f-f<1}},5400:function(a){a.exports=function(s,o){var l=o[0],f=o[1],u=o[2],c=o[3],h=o[4],d=o[5],p=o[6],g=o[7],m=o[8],v=o[9],y=o[10],_=o[11],x=o[12],w=o[13],E=o[14],S=o[15];return s[0]=d*(y*S-_*E)-v*(p*S-g*E)+w*(p*_-g*y),s[1]=-(f*(y*S-_*E)-v*(u*S-c*E)+w*(u*_-c*y)),s[2]=f*(p*S-g*E)-d*(u*S-c*E)+w*(u*g-c*p),s[3]=-(f*(p*_-g*y)-d*(u*_-c*y)+v*(u*g-c*p)),s[4]=-(h*(y*S-_*E)-m*(p*S-g*E)+x*(p*_-g*y)),s[5]=l*(y*S-_*E)-m*(u*S-c*E)+x*(u*_-c*y),s[6]=-(l*(p*S-g*E)-h*(u*S-c*E)+x*(u*g-c*p)),s[7]=l*(p*_-g*y)-h*(u*_-c*y)+m*(u*g-c*p),s[8]=h*(v*S-_*w)-m*(d*S-g*w)+x*(d*_-g*v),s[9]=-(l*(v*S-_*w)-m*(f*S-c*w)+x*(f*_-c*v)),s[10]=l*(d*S-g*w)-h*(f*S-c*w)+x*(f*g-c*d),s[11]=-(l*(d*_-g*v)-h*(f*_-c*v)+m*(f*g-c*d)),s[12]=-(h*(v*E-y*w)-m*(d*E-p*w)+x*(d*y-p*v)),s[13]=l*(v*E-y*w)-m*(f*E-u*w)+x*(f*y-u*v),s[14]=-(l*(d*E-p*w)-h*(f*E-u*w)+x*(f*p-u*d)),s[15]=l*(d*y-p*v)-h*(f*y-u*v)+m*(f*p-u*d),s}},2331:function(a){a.exports=function(s){var o=new Float32Array(16);return o[0]=s[0],o[1]=s[1],o[2]=s[2],o[3]=s[3],o[4]=s[4],o[5]=s[5],o[6]=s[6],o[7]=s[7],o[8]=s[8],o[9]=s[9],o[10]=s[10],o[11]=s[11],o[12]=s[12],o[13]=s[13],o[14]=s[14],o[15]=s[15],o}},1042:function(a){a.exports=function(s,o){return s[0]=o[0],s[1]=o[1],s[2]=o[2],s[3]=o[3],s[4]=o[4],s[5]=o[5],s[6]=o[6],s[7]=o[7],s[8]=o[8],s[9]=o[9],s[10]=o[10],s[11]=o[11],s[12]=o[12],s[13]=o[13],s[14]=o[14],s[15]=o[15],s}},1902:function(a){a.exports=function(){var s=new Float32Array(16);return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},9887:function(a){a.exports=function(s){var o=s[0],l=s[1],f=s[2],u=s[3],c=s[4],h=s[5],d=s[6],p=s[7],g=s[8],m=s[9],v=s[10],y=s[11],_=s[12],x=s[13],w=s[14],E=s[15];return(o*h-l*c)*(v*E-y*w)-(o*d-f*c)*(m*E-y*x)+(o*p-u*c)*(m*w-v*x)+(l*d-f*h)*(g*E-y*_)-(l*p-u*h)*(g*w-v*_)+(f*p-u*d)*(g*x-m*_)}},7812:function(a){a.exports=function(s,o){var l=o[0],f=o[1],u=o[2],c=o[3],h=l+l,d=f+f,p=u+u,g=l*h,m=f*h,v=f*d,y=u*h,_=u*d,x=u*p,w=c*h,E=c*d,S=c*p;return s[0]=1-v-x,s[1]=m+S,s[2]=y-E,s[3]=0,s[4]=m-S,s[5]=1-g-x,s[6]=_+w,s[7]=0,s[8]=y+E,s[9]=_-w,s[10]=1-g-v,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},4045:function(a){a.exports=function(s,o,l){var f,u,c,h=l[0],d=l[1],p=l[2],g=Math.sqrt(h*h+d*d+p*p);return Math.abs(g)<1e-6?null:(h*=g=1/g,d*=g,p*=g,f=Math.sin(o),c=1-(u=Math.cos(o)),s[0]=h*h*c+u,s[1]=d*h*c+p*f,s[2]=p*h*c-d*f,s[3]=0,s[4]=h*d*c-p*f,s[5]=d*d*c+u,s[6]=p*d*c+h*f,s[7]=0,s[8]=h*p*c+d*f,s[9]=d*p*c-h*f,s[10]=p*p*c+u,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s)}},5973:function(a){a.exports=function(s,o,l){var f=o[0],u=o[1],c=o[2],h=o[3],d=f+f,p=u+u,g=c+c,m=f*d,v=f*p,y=f*g,_=u*p,x=u*g,w=c*g,E=h*d,S=h*p,C=h*g;return s[0]=1-(_+w),s[1]=v+C,s[2]=y-S,s[3]=0,s[4]=v-C,s[5]=1-(m+w),s[6]=x+E,s[7]=0,s[8]=y+S,s[9]=x-E,s[10]=1-(m+_),s[11]=0,s[12]=l[0],s[13]=l[1],s[14]=l[2],s[15]=1,s}},1472:function(a){a.exports=function(s,o){return s[0]=o[0],s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=o[1],s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=o[2],s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},4669:function(a){a.exports=function(s,o){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=o[0],s[13]=o[1],s[14]=o[2],s[15]=1,s}},5262:function(a){a.exports=function(s,o){var l=Math.sin(o),f=Math.cos(o);return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=f,s[6]=l,s[7]=0,s[8]=0,s[9]=-l,s[10]=f,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},331:function(a){a.exports=function(s,o){var l=Math.sin(o),f=Math.cos(o);return s[0]=f,s[1]=0,s[2]=-l,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=l,s[9]=0,s[10]=f,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},1049:function(a){a.exports=function(s,o){var l=Math.sin(o),f=Math.cos(o);return s[0]=f,s[1]=l,s[2]=0,s[3]=0,s[4]=-l,s[5]=f,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},5195:function(a){a.exports=function(s,o,l,f,u,c,h){var d=1/(l-o),p=1/(u-f),g=1/(c-h);return s[0]=2*c*d,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=2*c*p,s[6]=0,s[7]=0,s[8]=(l+o)*d,s[9]=(u+f)*p,s[10]=(h+c)*g,s[11]=-1,s[12]=0,s[13]=0,s[14]=h*c*2*g,s[15]=0,s}},1551:function(a){a.exports=function(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},9576:function(a,s,o){a.exports={create:o(1902),clone:o(2331),copy:o(1042),identity:o(1551),transpose:o(8654),invert:o(5874),adjoint:o(5400),determinant:o(9887),multiply:o(1362),translate:o(1283),scale:o(789),rotate:o(5074),rotateX:o(5545),rotateY:o(4918),rotateZ:o(5692),fromRotation:o(4045),fromRotationTranslation:o(5973),fromScaling:o(1472),fromTranslation:o(4669),fromXRotation:o(5262),fromYRotation:o(331),fromZRotation:o(1049),fromQuat:o(7812),frustum:o(5195),perspective:o(7864),perspectiveFromFieldOfView:o(5279),ortho:o(378),lookAt:o(5551),str:o(6726)}},5874:function(a){a.exports=function(s,o){var l=o[0],f=o[1],u=o[2],c=o[3],h=o[4],d=o[5],p=o[6],g=o[7],m=o[8],v=o[9],y=o[10],_=o[11],x=o[12],w=o[13],E=o[14],S=o[15],C=l*d-f*h,T=l*p-u*h,A=l*g-c*h,O=f*p-u*d,P=f*g-c*d,F=u*g-c*p,R=m*w-v*x,N=m*E-y*x,D=m*S-_*x,I=v*E-y*w,B=v*S-_*w,j=y*S-_*E,q=C*j-T*B+A*I+O*D-P*N+F*R;return q?(q=1/q,s[0]=(d*j-p*B+g*I)*q,s[1]=(u*B-f*j-c*I)*q,s[2]=(w*F-E*P+S*O)*q,s[3]=(y*P-v*F-_*O)*q,s[4]=(p*D-h*j-g*N)*q,s[5]=(l*j-u*D+c*N)*q,s[6]=(E*A-x*F-S*T)*q,s[7]=(m*F-y*A+_*T)*q,s[8]=(h*B-d*D+g*R)*q,s[9]=(f*D-l*B-c*R)*q,s[10]=(x*P-w*A+S*C)*q,s[11]=(v*A-m*P-_*C)*q,s[12]=(d*N-h*I-p*R)*q,s[13]=(l*I-f*N+u*R)*q,s[14]=(w*T-x*O-E*C)*q,s[15]=(m*O-v*T+y*C)*q,s):null}},5551:function(a,s,o){var l=o(1551);a.exports=function(f,u,c,h){var d,p,g,m,v,y,_,x,w,E,S=u[0],C=u[1],T=u[2],A=h[0],O=h[1],P=h[2],F=c[0],R=c[1],N=c[2];return Math.abs(S-F)<1e-6&&Math.abs(C-R)<1e-6&&Math.abs(T-N)<1e-6?l(f):(_=S-F,x=C-R,w=T-N,d=O*(w*=E=1/Math.sqrt(_*_+x*x+w*w))-P*(x*=E),p=P*(_*=E)-A*w,g=A*x-O*_,(E=Math.sqrt(d*d+p*p+g*g))?(d*=E=1/E,p*=E,g*=E):(d=0,p=0,g=0),m=x*g-w*p,v=w*d-_*g,y=_*p-x*d,(E=Math.sqrt(m*m+v*v+y*y))?(m*=E=1/E,v*=E,y*=E):(m=0,v=0,y=0),f[0]=d,f[1]=m,f[2]=_,f[3]=0,f[4]=p,f[5]=v,f[6]=x,f[7]=0,f[8]=g,f[9]=y,f[10]=w,f[11]=0,f[12]=-(d*S+p*C+g*T),f[13]=-(m*S+v*C+y*T),f[14]=-(_*S+x*C+w*T),f[15]=1,f)}},1362:function(a){a.exports=function(s,o,l){var f=o[0],u=o[1],c=o[2],h=o[3],d=o[4],p=o[5],g=o[6],m=o[7],v=o[8],y=o[9],_=o[10],x=o[11],w=o[12],E=o[13],S=o[14],C=o[15],T=l[0],A=l[1],O=l[2],P=l[3];return s[0]=T*f+A*d+O*v+P*w,s[1]=T*u+A*p+O*y+P*E,s[2]=T*c+A*g+O*_+P*S,s[3]=T*h+A*m+O*x+P*C,T=l[4],A=l[5],O=l[6],P=l[7],s[4]=T*f+A*d+O*v+P*w,s[5]=T*u+A*p+O*y+P*E,s[6]=T*c+A*g+O*_+P*S,s[7]=T*h+A*m+O*x+P*C,T=l[8],A=l[9],O=l[10],P=l[11],s[8]=T*f+A*d+O*v+P*w,s[9]=T*u+A*p+O*y+P*E,s[10]=T*c+A*g+O*_+P*S,s[11]=T*h+A*m+O*x+P*C,T=l[12],A=l[13],O=l[14],P=l[15],s[12]=T*f+A*d+O*v+P*w,s[13]=T*u+A*p+O*y+P*E,s[14]=T*c+A*g+O*_+P*S,s[15]=T*h+A*m+O*x+P*C,s}},378:function(a){a.exports=function(s,o,l,f,u,c,h){var d=1/(o-l),p=1/(f-u),g=1/(c-h);return s[0]=-2*d,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*p,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*g,s[11]=0,s[12]=(o+l)*d,s[13]=(u+f)*p,s[14]=(h+c)*g,s[15]=1,s}},7864:function(a){a.exports=function(s,o,l,f,u){var c=1/Math.tan(o/2),h=1/(f-u);return s[0]=c/l,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=c,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=(u+f)*h,s[11]=-1,s[12]=0,s[13]=0,s[14]=2*u*f*h,s[15]=0,s}},5279:function(a){a.exports=function(s,o,l,f){var u=Math.tan(o.upDegrees*Math.PI/180),c=Math.tan(o.downDegrees*Math.PI/180),h=Math.tan(o.leftDegrees*Math.PI/180),d=Math.tan(o.rightDegrees*Math.PI/180),p=2/(h+d),g=2/(u+c);return s[0]=p,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=g,s[6]=0,s[7]=0,s[8]=-(h-d)*p*.5,s[9]=(u-c)*g*.5,s[10]=f/(l-f),s[11]=-1,s[12]=0,s[13]=0,s[14]=f*l/(l-f),s[15]=0,s}},5074:function(a){a.exports=function(s,o,l,f){var u,c,h,d,p,g,m,v,y,_,x,w,E,S,C,T,A,O,P,F,R,N,D,I,B=f[0],j=f[1],q=f[2],et=Math.sqrt(B*B+j*j+q*q);return Math.abs(et)<1e-6?null:(B*=et=1/et,j*=et,q*=et,u=Math.sin(l),h=1-(c=Math.cos(l)),d=o[0],p=o[1],g=o[2],m=o[3],v=o[4],y=o[5],_=o[6],x=o[7],w=o[8],E=o[9],S=o[10],C=o[11],T=B*B*h+c,A=j*B*h+q*u,O=q*B*h-j*u,P=B*j*h-q*u,F=j*j*h+c,R=q*j*h+B*u,N=B*q*h+j*u,D=j*q*h-B*u,I=q*q*h+c,s[0]=d*T+v*A+w*O,s[1]=p*T+y*A+E*O,s[2]=g*T+_*A+S*O,s[3]=m*T+x*A+C*O,s[4]=d*P+v*F+w*R,s[5]=p*P+y*F+E*R,s[6]=g*P+_*F+S*R,s[7]=m*P+x*F+C*R,s[8]=d*N+v*D+w*I,s[9]=p*N+y*D+E*I,s[10]=g*N+_*D+S*I,s[11]=m*N+x*D+C*I,o!==s&&(s[12]=o[12],s[13]=o[13],s[14]=o[14],s[15]=o[15]),s)}},5545:function(a){a.exports=function(s,o,l){var f=Math.sin(l),u=Math.cos(l),c=o[4],h=o[5],d=o[6],p=o[7],g=o[8],m=o[9],v=o[10],y=o[11];return o!==s&&(s[0]=o[0],s[1]=o[1],s[2]=o[2],s[3]=o[3],s[12]=o[12],s[13]=o[13],s[14]=o[14],s[15]=o[15]),s[4]=c*u+g*f,s[5]=h*u+m*f,s[6]=d*u+v*f,s[7]=p*u+y*f,s[8]=g*u-c*f,s[9]=m*u-h*f,s[10]=v*u-d*f,s[11]=y*u-p*f,s}},4918:function(a){a.exports=function(s,o,l){var f=Math.sin(l),u=Math.cos(l),c=o[0],h=o[1],d=o[2],p=o[3],g=o[8],m=o[9],v=o[10],y=o[11];return o!==s&&(s[4]=o[4],s[5]=o[5],s[6]=o[6],s[7]=o[7],s[12]=o[12],s[13]=o[13],s[14]=o[14],s[15]=o[15]),s[0]=c*u-g*f,s[1]=h*u-m*f,s[2]=d*u-v*f,s[3]=p*u-y*f,s[8]=c*f+g*u,s[9]=h*f+m*u,s[10]=d*f+v*u,s[11]=p*f+y*u,s}},5692:function(a){a.exports=function(s,o,l){var f=Math.sin(l),u=Math.cos(l),c=o[0],h=o[1],d=o[2],p=o[3],g=o[4],m=o[5],v=o[6],y=o[7];return o!==s&&(s[8]=o[8],s[9]=o[9],s[10]=o[10],s[11]=o[11],s[12]=o[12],s[13]=o[13],s[14]=o[14],s[15]=o[15]),s[0]=c*u+g*f,s[1]=h*u+m*f,s[2]=d*u+v*f,s[3]=p*u+y*f,s[4]=g*u-c*f,s[5]=m*u-h*f,s[6]=v*u-d*f,s[7]=y*u-p*f,s}},789:function(a){a.exports=function(s,o,l){var f=l[0],u=l[1],c=l[2];return s[0]=o[0]*f,s[1]=o[1]*f,s[2]=o[2]*f,s[3]=o[3]*f,s[4]=o[4]*u,s[5]=o[5]*u,s[6]=o[6]*u,s[7]=o[7]*u,s[8]=o[8]*c,s[9]=o[9]*c,s[10]=o[10]*c,s[11]=o[11]*c,s[12]=o[12],s[13]=o[13],s[14]=o[14],s[15]=o[15],s}},6726:function(a){a.exports=function(s){return"mat4("+s[0]+", "+s[1]+", "+s[2]+", "+s[3]+", "+s[4]+", "+s[5]+", "+s[6]+", "+s[7]+", "+s[8]+", "+s[9]+", "+s[10]+", "+s[11]+", "+s[12]+", "+s[13]+", "+s[14]+", "+s[15]+")"}},1283:function(a){a.exports=function(s,o,l){var f,u,c,h,d,p,g,m,v,y,_,x,w=l[0],E=l[1],S=l[2];return o===s?(s[12]=o[0]*w+o[4]*E+o[8]*S+o[12],s[13]=o[1]*w+o[5]*E+o[9]*S+o[13],s[14]=o[2]*w+o[6]*E+o[10]*S+o[14],s[15]=o[3]*w+o[7]*E+o[11]*S+o[15]):(f=o[0],u=o[1],c=o[2],h=o[3],d=o[4],p=o[5],g=o[6],m=o[7],v=o[8],y=o[9],_=o[10],x=o[11],s[0]=f,s[1]=u,s[2]=c,s[3]=h,s[4]=d,s[5]=p,s[6]=g,s[7]=m,s[8]=v,s[9]=y,s[10]=_,s[11]=x,s[12]=f*w+d*E+v*S+o[12],s[13]=u*w+p*E+y*S+o[13],s[14]=c*w+g*E+_*S+o[14],s[15]=h*w+m*E+x*S+o[15]),s}},8654:function(a){a.exports=function(s,o){if(s===o){var l=o[1],f=o[2],u=o[3],c=o[6],h=o[7],d=o[11];s[1]=o[4],s[2]=o[8],s[3]=o[12],s[4]=l,s[6]=o[9],s[7]=o[13],s[8]=f,s[9]=c,s[11]=o[14],s[12]=u,s[13]=h,s[14]=d}else s[0]=o[0],s[1]=o[4],s[2]=o[8],s[3]=o[12],s[4]=o[1],s[5]=o[5],s[6]=o[9],s[7]=o[13],s[8]=o[2],s[9]=o[6],s[10]=o[10],s[11]=o[14],s[12]=o[3],s[13]=o[7],s[14]=o[11],s[15]=o[15];return s}},7035:function(a,s,o){var l,f=o(4404);l=typeof o.g.matchMedia=="function"?!o.g.matchMedia("(hover: none)").matches:f,a.exports=l},8520:function(a,s,o){var l=o(4404);a.exports=l&&function(){var f=!1;try{var u=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("test",null,u),window.removeEventListener("test",null,u)}catch{f=!1}return f}()},4404:function(a){a.exports=!0},8546:function(a){a.exports=function(s){for(var o,l=s.length,f=0;f<l;f++)if(((o=s.charCodeAt(f))<9||o>13)&&o!==32&&o!==133&&o!==160&&o!==5760&&o!==6158&&(o<8192||o>8205)&&o!==8232&&o!==8233&&o!==8239&&o!==8287&&o!==8288&&o!==12288&&o!==65279)return!1;return!0}},8956:function(a){var s={left:0,top:0};a.exports=function(o,l,f){l=l||o.currentTarget||o.srcElement,Array.isArray(f)||(f=[0,0]);var u,c=o.clientX||0,h=o.clientY||0,d=(u=l)===window||u===document||u===document.body?s:u.getBoundingClientRect();return f[0]=c-d.left,f[1]=h-d.top,f}},7417:function(a,s,o){var l,f,u,c;f="Promise",c=function(){var h,d,p,g=Object.prototype.toString,m=typeof setImmediate<"u"?function(P){return setImmediate(P)}:setTimeout;try{Object.defineProperty({},"x",{}),h=function(P,F,R,N){return Object.defineProperty(P,F,{value:R,writable:!0,configurable:N!==!1})}}catch{h=function(F,R,N){return F[R]=N,F}}function v(P,F){p.add(P,F),d||(d=m(p.drain))}function y(P){var F,R=typeof P;return P==null||R!="object"&&R!="function"||(F=P.then),typeof F=="function"&&F}function _(){for(var P=0;P<this.chain.length;P++)x(this,this.state===1?this.chain[P].success:this.chain[P].failure,this.chain[P]);this.chain.length=0}function x(P,F,R){var N,D;try{F===!1?R.reject(P.msg):(N=F===!0?P.msg:F.call(void 0,P.msg))===R.promise?R.reject(TypeError("Promise-chain cycle")):(D=y(N))?D.call(N,R.resolve,R.reject):R.resolve(N)}catch(I){R.reject(I)}}function w(P){var F,R=this;if(!R.triggered){R.triggered=!0,R.def&&(R=R.def);try{(F=y(P))?v(function(){var N=new C(R);try{F.call(P,function(){w.apply(N,arguments)},function(){E.apply(N,arguments)})}catch(D){E.call(N,D)}}):(R.msg=P,R.state=1,R.chain.length>0&&v(_,R))}catch(N){E.call(new C(R),N)}}}function E(P){var F=this;F.triggered||(F.triggered=!0,F.def&&(F=F.def),F.msg=P,F.state=2,F.chain.length>0&&v(_,F))}function S(P,F,R,N){for(var D=0;D<F.length;D++)(function(I){P.resolve(F[I]).then(function(B){R(I,B)},N)})(D)}function C(P){this.def=P,this.triggered=!1}function T(P){this.promise=P,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function A(P){if(typeof P!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var F=new T(this);this.then=function(R,N){var D={success:typeof R!="function"||R,failure:typeof N=="function"&&N};return D.promise=new this.constructor(function(I,B){if(typeof I!="function"||typeof B!="function")throw TypeError("Not a function");D.resolve=I,D.reject=B}),F.chain.push(D),F.state!==0&&v(_,F),D.promise},this.catch=function(R){return this.then(void 0,R)};try{P.call(void 0,function(R){w.call(F,R)},function(R){E.call(F,R)})}catch(R){E.call(F,R)}}p=function(){var P,F,R;function N(D,I){this.fn=D,this.self=I,this.next=void 0}return{add:function(D,I){R=new N(D,I),F?F.next=R:P=R,F=R,R=void 0},drain:function(){var D=P;for(P=F=d=void 0;D;)D.fn.call(D.self),D=D.next}}}();var O=h({},"constructor",A,!1);return A.prototype=O,h(O,"__NPO__",0,!1),h(A,"resolve",function(P){return P&&typeof P=="object"&&P.__NPO__===1?P:new this(function(F,R){if(typeof F!="function"||typeof R!="function")throw TypeError("Not a function");F(P)})}),h(A,"reject",function(P){return new this(function(F,R){if(typeof F!="function"||typeof R!="function")throw TypeError("Not a function");R(P)})}),h(A,"all",function(P){var F=this;return g.call(P)!="[object Array]"?F.reject(TypeError("Not an array")):P.length===0?F.resolve([]):new F(function(R,N){if(typeof R!="function"||typeof N!="function")throw TypeError("Not a function");var D=P.length,I=Array(D),B=0;S(F,P,function(j,q){I[j]=q,++B===D&&R(I)},N)})}),h(A,"race",function(P){var F=this;return g.call(P)!="[object Array]"?F.reject(TypeError("Not an array")):new F(function(R,N){if(typeof R!="function"||typeof N!="function")throw TypeError("Not a function");S(F,P,function(D,I){R(I)},N)})}),A},(u=o.g!==void 0?o.g:this)[f]=u[f]||c(),a.exports?a.exports=u[f]:(l=function(){return u[f]}.call(s,o,s,a))===void 0||(a.exports=l)},6131:function(a){var s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;a.exports=function(){try{if(!Object.assign)return!1;var f=new String("abc");if(f[5]="de",Object.getOwnPropertyNames(f)[0]==="5")return!1;for(var u={},c=0;c<10;c++)u["_"+String.fromCharCode(c)]=c;if(Object.getOwnPropertyNames(u).map(function(d){return u[d]}).join("")!=="0123456789")return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(d){h[d]=d}),Object.keys(Object.assign({},h)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(f,u){for(var c,h,d=function(v){if(v==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(v)}(f),p=1;p<arguments.length;p++){for(var g in c=Object(arguments[p]))o.call(c,g)&&(d[g]=c[g]);if(s){h=s(c);for(var m=0;m<h.length;m++)l.call(c,h[m])&&(d[h[m]]=c[h[m]])}}return d}},5616:function(a){a.exports=function(f){var u=[];return f.replace(o,function(c,h,d){var p=h.toLowerCase();for(d=function(g){var m=g.match(l);return m?m.map(Number):[]}(d),p=="m"&&d.length>2&&(u.push([h].concat(d.splice(0,2))),p="l",h=h=="m"?"l":"L");;){if(d.length==s[p])return d.unshift(h),u.push(d);if(d.length<s[p])throw new Error("malformed path data");u.push([h].concat(d.splice(0,s[p])))}}),u};var s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},o=/([astvzqmhlc])([^astvzqmhlc]*)/gi,l=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},8258:function(a){a.exports=function(s,o,l,f){var u=s[0],c=s[1],h=!1;l===void 0&&(l=0),f===void 0&&(f=o.length);for(var d=f-l,p=0,g=d-1;p<d;g=p++){var m=o[p+l][0],v=o[p+l][1],y=o[g+l][0],_=o[g+l][1];v>c!=_>c&&u<(y-m)*(c-v)/(_-v)+m&&(h=!h)}return h}},2142:function(a,s,o){var l,f=o(9444),u=o(9023),c=o(7263),h=o(1328),d=o(5968),p=o(670),g=!1,m=u();function v(y,_,x){var w=l.segments(y),E=l.segments(_),S=x(l.combine(w,E));return l.polygon(S)}l={buildLog:function(y){return y===!0?g=f():y===!1&&(g=!1),g!==!1&&g.list},epsilon:function(y){return m.epsilon(y)},segments:function(y){var _=c(!0,m,g);return y.regions.forEach(_.addRegion),{segments:_.calculate(y.inverted),inverted:y.inverted}},combine:function(y,_){return{combined:c(!1,m,g).calculate(y.segments,y.inverted,_.segments,_.inverted),inverted1:y.inverted,inverted2:_.inverted}},selectUnion:function(y){return{segments:d.union(y.combined,g),inverted:y.inverted1||y.inverted2}},selectIntersect:function(y){return{segments:d.intersect(y.combined,g),inverted:y.inverted1&&y.inverted2}},selectDifference:function(y){return{segments:d.difference(y.combined,g),inverted:y.inverted1&&!y.inverted2}},selectDifferenceRev:function(y){return{segments:d.differenceRev(y.combined,g),inverted:!y.inverted1&&y.inverted2}},selectXor:function(y){return{segments:d.xor(y.combined,g),inverted:y.inverted1!==y.inverted2}},polygon:function(y){return{regions:h(y.segments,m,g),inverted:y.inverted}},polygonFromGeoJSON:function(y){return p.toPolygon(l,y)},polygonToGeoJSON:function(y){return p.fromPolygon(l,m,y)},union:function(y,_){return v(y,_,l.selectUnion)},intersect:function(y,_){return v(y,_,l.selectIntersect)},difference:function(y,_){return v(y,_,l.selectDifference)},differenceRev:function(y,_){return v(y,_,l.selectDifferenceRev)},xor:function(y,_){return v(y,_,l.selectXor)}},typeof window=="object"&&(window.PolyBool=l),a.exports=l},9444:function(a){a.exports=function(){var s,o=0,l=!1;function f(u,c){return s.list.push({type:u,data:c?JSON.parse(JSON.stringify(c)):void 0}),s}return s={list:[],segmentId:function(){return o++},checkIntersection:function(u,c){return f("check",{seg1:u,seg2:c})},segmentChop:function(u,c){return f("div_seg",{seg:u,pt:c}),f("chop",{seg:u,pt:c})},statusRemove:function(u){return f("pop_seg",{seg:u})},segmentUpdate:function(u){return f("seg_update",{seg:u})},segmentNew:function(u,c){return f("new_seg",{seg:u,primary:c})},segmentRemove:function(u){return f("rem_seg",{seg:u})},tempStatus:function(u,c,h){return f("temp_status",{seg:u,above:c,below:h})},rewind:function(u){return f("rewind",{seg:u})},status:function(u,c,h){return f("status",{seg:u,above:c,below:h})},vert:function(u){return u===l?s:(l=u,f("vert",{x:u}))},log:function(u){return typeof u!="string"&&(u=JSON.stringify(u,!1,"  ")),f("log",{txt:u})},reset:function(){return f("reset")},selected:function(u){return f("selected",{segs:u})},chainStart:function(u){return f("chain_start",{seg:u})},chainRemoveHead:function(u,c){return f("chain_rem_head",{index:u,pt:c})},chainRemoveTail:function(u,c){return f("chain_rem_tail",{index:u,pt:c})},chainNew:function(u,c){return f("chain_new",{pt1:u,pt2:c})},chainMatch:function(u){return f("chain_match",{index:u})},chainClose:function(u){return f("chain_close",{index:u})},chainAddHead:function(u,c){return f("chain_add_head",{index:u,pt:c})},chainAddTail:function(u,c){return f("chain_add_tail",{index:u,pt:c})},chainConnect:function(u,c){return f("chain_con",{index1:u,index2:c})},chainReverse:function(u){return f("chain_rev",{index:u})},chainJoin:function(u,c){return f("chain_join",{index1:u,index2:c})},done:function(){return f("done")}}}},9023:function(a){a.exports=function(s){typeof s!="number"&&(s=1e-10);var o={epsilon:function(l){return typeof l=="number"&&(s=l),s},pointAboveOrOnLine:function(l,f,u){var c=f[0],h=f[1],d=u[0],p=u[1],g=l[0];return(d-c)*(l[1]-h)-(p-h)*(g-c)>=-s},pointBetween:function(l,f,u){var c=l[1]-f[1],h=u[0]-f[0],d=l[0]-f[0],p=u[1]-f[1],g=d*h+c*p;return!(g<s||g-(h*h+p*p)>-s)},pointsSameX:function(l,f){return Math.abs(l[0]-f[0])<s},pointsSameY:function(l,f){return Math.abs(l[1]-f[1])<s},pointsSame:function(l,f){return o.pointsSameX(l,f)&&o.pointsSameY(l,f)},pointsCompare:function(l,f){return o.pointsSameX(l,f)?o.pointsSameY(l,f)?0:l[1]<f[1]?-1:1:l[0]<f[0]?-1:1},pointsCollinear:function(l,f,u){var c=l[0]-f[0],h=l[1]-f[1],d=f[0]-u[0],p=f[1]-u[1];return Math.abs(c*p-d*h)<s},linesIntersect:function(l,f,u,c){var h=f[0]-l[0],d=f[1]-l[1],p=c[0]-u[0],g=c[1]-u[1],m=h*g-d*p;if(Math.abs(m)<s)return!1;var v=l[0]-u[0],y=l[1]-u[1],_=(p*y-g*v)/m,x=(h*y-d*v)/m,w={alongA:0,alongB:0,pt:[l[0]+_*h,l[1]+_*d]};return w.alongA=_<=-s?-2:_<s?-1:_-1<=-s?0:_-1<s?1:2,w.alongB=x<=-s?-2:x<s?-1:x-1<=-s?0:x-1<s?1:2,w},pointInsideRegion:function(l,f){for(var u=l[0],c=l[1],h=f[f.length-1][0],d=f[f.length-1][1],p=!1,g=0;g<f.length;g++){var m=f[g][0],v=f[g][1];v-c>s!=d-c>s&&(h-m)*(c-v)/(d-v)+m-u>s&&(p=!p),h=m,d=v}return p}};return o}},670:function(a){var s={toPolygon:function(o,l){function f(h){if(h.length<=0)return o.segments({inverted:!1,regions:[]});function d(m){var v=m.slice(0,m.length-1);return o.segments({inverted:!1,regions:[v]})}for(var p=d(h[0]),g=1;g<h.length;g++)p=o.selectDifference(o.combine(p,d(h[g])));return p}if(l.type==="Polygon")return o.polygon(f(l.coordinates));if(l.type==="MultiPolygon"){for(var u=o.segments({inverted:!1,regions:[]}),c=0;c<l.coordinates.length;c++)u=o.selectUnion(o.combine(u,f(l.coordinates[c])));return o.polygon(u)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(o,l,f){function u(x,w){return l.pointInsideRegion([.5*(x[0][0]+x[1][0]),.5*(x[0][1]+x[1][1])],w)}function c(x){return{region:x,children:[]}}f=o.polygon(o.segments(f));var h=c(null);function d(x,w){for(var E=0;E<x.children.length;E++)if(u(w,(C=x.children[E]).region))return void d(C,w);var S=c(w);for(E=0;E<x.children.length;E++){var C;u((C=x.children[E]).region,w)&&(S.children.push(C),x.children.splice(E,1),E--)}x.children.push(S)}for(var p=0;p<f.regions.length;p++){var g=f.regions[p];g.length<3||d(h,g)}function m(x,w){for(var E=0,S=x[x.length-1][0],C=x[x.length-1][1],T=[],A=0;A<x.length;A++){var O=x[A][0],P=x[A][1];T.push([O,P]),E+=P*S-O*C,S=O,C=P}return E<0!==w&&T.reverse(),T.push([T[0][0],T[0][1]]),T}var v=[];function y(x){var w=[m(x.region,!1)];v.push(w);for(var E=0;E<x.children.length;E++)w.push(_(x.children[E]))}function _(x){for(var w=0;w<x.children.length;w++)y(x.children[w]);return m(x.region,!0)}for(p=0;p<h.children.length;p++)y(h.children[p]);return v.length<=0?{type:"Polygon",coordinates:[]}:v.length==1?{type:"Polygon",coordinates:v[0]}:{type:"MultiPolygon",coordinates:v}}};a.exports=s},7263:function(a,s,o){var l=o(6859);a.exports=function(f,u,c){function h(y,_,x){return{id:c?c.segmentId():-1,start:y,end:_,myFill:{above:x.myFill.above,below:x.myFill.below},otherFill:null}}var d=l.create();function p(y,_){d.insertBefore(y,function(x){return w=y.isStart,E=y.pt,S=_,C=x.isStart,T=x.pt,A=x.other.pt,((O=u.pointsCompare(E,T))!==0?O:u.pointsSame(S,A)?0:w!==C?w?1:-1:u.pointAboveOrOnLine(S,C?T:A,C?A:T)?1:-1)<0;var w,E,S,C,T,A,O})}function g(y,_){var x=function(w,E){var S=l.node({isStart:!0,pt:w.start,seg:w,primary:E,other:null,status:null});return p(S,w.end),S}(y,_);return function(w,E,S){var C=l.node({isStart:!1,pt:E.end,seg:E,primary:S,other:w,status:null});w.other=C,p(C,w.pt)}(x,y,_),x}function m(y,_){var x=h(_,y.seg.end,y.seg);return function(w,E){c&&c.segmentChop(w.seg,E),w.other.remove(),w.seg.end=E,w.other.pt=E,p(w.other,w.pt)}(y,_),g(x,y.primary)}function v(y,_){var x=l.create();function w(I){return x.findTransition(function(B){var j,q,et,U,Z,rt;return j=I,q=B.ev,et=j.seg.start,U=j.seg.end,Z=q.seg.start,rt=q.seg.end,(u.pointsCollinear(et,Z,rt)?u.pointsCollinear(U,Z,rt)||u.pointAboveOrOnLine(U,Z,rt)?1:-1:u.pointAboveOrOnLine(et,Z,rt)?1:-1)>0})}function E(I,B){var j=I.seg,q=B.seg,et=j.start,U=j.end,Z=q.start,rt=q.end;c&&c.checkIntersection(j,q);var ft=u.linesIntersect(et,U,Z,rt);if(ft===!1){if(!u.pointsCollinear(et,U,Z)||u.pointsSame(et,rt)||u.pointsSame(U,Z))return!1;var z=u.pointsSame(et,Z),W=u.pointsSame(U,rt);if(z&&W)return B;var X=!z&&u.pointBetween(et,Z,rt),it=!W&&u.pointBetween(U,Z,rt);if(z)return it?m(B,U):m(I,rt),B;X&&(W||(it?m(B,U):m(I,rt)),m(B,et))}else ft.alongA===0&&(ft.alongB===-1?m(I,Z):ft.alongB===0?m(I,ft.pt):ft.alongB===1&&m(I,rt)),ft.alongB===0&&(ft.alongA===-1?m(B,et):ft.alongA===0?m(B,ft.pt):ft.alongA===1&&m(B,U));return!1}for(var S=[];!d.isEmpty();){var C=d.getHead();if(c&&c.vert(C.pt[0]),C.isStart){let I=function(){if(A){var B=E(C,A);if(B)return B}return!!O&&E(C,O)};c&&c.segmentNew(C.seg,C.primary);var T=w(C),A=T.before?T.before.ev:null,O=T.after?T.after.ev:null;c&&c.tempStatus(C.seg,!!A&&A.seg,!!O&&O.seg);var P,F,R=I();if(R&&(f?(F=C.seg.myFill.below===null||C.seg.myFill.above!==C.seg.myFill.below)&&(R.seg.myFill.above=!R.seg.myFill.above):R.seg.otherFill=C.seg.myFill,c&&c.segmentUpdate(R.seg),C.other.remove(),C.remove()),d.getHead()!==C){c&&c.rewind(C.seg);continue}f?(F=C.seg.myFill.below===null||C.seg.myFill.above!==C.seg.myFill.below,C.seg.myFill.below=O?O.seg.myFill.above:y,C.seg.myFill.above=F?!C.seg.myFill.below:C.seg.myFill.below):C.seg.otherFill===null&&(P=O?C.primary===O.primary?O.seg.otherFill.above:O.seg.myFill.above:C.primary?_:y,C.seg.otherFill={above:P,below:P}),c&&c.status(C.seg,!!A&&A.seg,!!O&&O.seg),C.other.status=T.insert(l.node({ev:C}))}else{var N=C.status;if(N===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(x.exists(N.prev)&&x.exists(N.next)&&E(N.prev.ev,N.next.ev),c&&c.statusRemove(N.ev.seg),N.remove(),!C.primary){var D=C.seg.myFill;C.seg.myFill=C.seg.otherFill,C.seg.otherFill=D}S.push(C.seg)}d.getHead().remove()}return c&&c.done(),S}return f?{addRegion:function(y){for(var _,x,w,E=y[y.length-1],S=0;S<y.length;S++){_=E,E=y[S];var C=u.pointsCompare(_,E);C!==0&&g((x=C<0?_:E,w=C<0?E:_,{id:c?c.segmentId():-1,start:x,end:w,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(y){return v(y,!1)}}:{calculate:function(y,_,x,w){return y.forEach(function(E){g(h(E.start,E.end,E),!0)}),x.forEach(function(E){g(h(E.start,E.end,E),!1)}),v(_,w)}}}},6859:function(a){a.exports={create:function(){var s={root:{root:!0,next:null},exists:function(o){return o!==null&&o!==s.root},isEmpty:function(){return s.root.next===null},getHead:function(){return s.root.next},insertBefore:function(o,l){for(var f=s.root,u=s.root.next;u!==null;){if(l(u))return o.prev=u.prev,o.next=u,u.prev.next=o,void(u.prev=o);f=u,u=u.next}f.next=o,o.prev=f,o.next=null},findTransition:function(o){for(var l=s.root,f=s.root.next;f!==null&&!o(f);)l=f,f=f.next;return{before:l===s.root?null:l,after:f,insert:function(u){return u.prev=l,u.next=f,l.next=u,f!==null&&(f.prev=u),u}}}};return s},node:function(s){return s.prev=null,s.next=null,s.remove=function(){s.prev.next=s.next,s.next&&(s.next.prev=s.prev),s.prev=null,s.next=null},s}}},1328:function(a){a.exports=function(s,o,l){var f=[],u=[];return s.forEach(function(c){var h=c.start,d=c.end;if(o.pointsSame(h,d))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{l&&l.chainStart(c);for(var p={index:0,matches_head:!1,matches_pt1:!1},g={index:0,matches_head:!1,matches_pt1:!1},m=p,v=0;v<f.length;v++){var y=(S=f[v])[0],_=(S[1],S[S.length-1]);if(S[S.length-2],o.pointsSame(y,h)){if(N(v,!0,!0))break}else if(o.pointsSame(y,d)){if(N(v,!0,!1))break}else if(o.pointsSame(_,h)){if(N(v,!1,!0))break}else if(o.pointsSame(_,d)&&N(v,!1,!1))break}if(m===p)return f.push([h,d]),void(l&&l.chainNew(h,d));if(m===g){l&&l.chainMatch(p.index);var x=p.index,w=p.matches_pt1?d:h,E=p.matches_head,S=f[x],C=E?S[0]:S[S.length-1],T=E?S[1]:S[S.length-2],A=E?S[S.length-1]:S[0],O=E?S[S.length-2]:S[1];return o.pointsCollinear(T,C,w)&&(E?(l&&l.chainRemoveHead(p.index,w),S.shift()):(l&&l.chainRemoveTail(p.index,w),S.pop()),C=T),o.pointsSame(A,w)?(f.splice(x,1),o.pointsCollinear(O,A,C)&&(E?(l&&l.chainRemoveTail(p.index,C),S.pop()):(l&&l.chainRemoveHead(p.index,C),S.shift())),l&&l.chainClose(p.index),void u.push(S)):void(E?(l&&l.chainAddHead(p.index,w),S.unshift(w)):(l&&l.chainAddTail(p.index,w),S.push(w)))}var P=p.index,F=g.index;l&&l.chainConnect(P,F);var R=f[P].length<f[F].length;p.matches_head?g.matches_head?R?(D(P),I(P,F)):(D(F),I(F,P)):I(F,P):g.matches_head?I(P,F):R?(D(P),I(F,P)):(D(F),I(P,F))}function N(B,j,q){return m.index=B,m.matches_head=j,m.matches_pt1=q,m===p?(m=g,!1):(m=null,!0)}function D(B){l&&l.chainReverse(B),f[B].reverse()}function I(B,j){var q=f[B],et=f[j],U=q[q.length-1],Z=q[q.length-2],rt=et[0],ft=et[1];o.pointsCollinear(Z,U,rt)&&(l&&l.chainRemoveTail(B,U),q.pop(),U=Z),o.pointsCollinear(U,rt,ft)&&(l&&l.chainRemoveHead(j,rt),et.shift()),l&&l.chainJoin(B,j),f[B]=q.concat(et),f.splice(j,1)}}),u}},5968:function(a){function s(l,f,u){var c=[];return l.forEach(function(h){var d=(h.myFill.above?8:0)+(h.myFill.below?4:0)+(h.otherFill&&h.otherFill.above?2:0)+(h.otherFill&&h.otherFill.below?1:0);f[d]!==0&&c.push({id:u?u.segmentId():-1,start:h.start,end:h.end,myFill:{above:f[d]===1,below:f[d]===2},otherFill:null})}),u&&u.selected(c),c}var o={union:function(l,f){return s(l,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],f)},intersect:function(l,f){return s(l,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],f)},difference:function(l,f){return s(l,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],f)},differenceRev:function(l,f){return s(l,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],f)},xor:function(l,f){return s(l,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],f)}};a.exports=o},4267:function(a,s,o){var l;(function(f){var u=/^\s+/,c=/\s+$/,h=0,d=f.round,p=f.min,g=f.max,m=f.random;function v(G,H){if(H=H||{},(G=G||"")instanceof v)return G;if(!(this instanceof v))return new v(G,H);var $=function(J){var Q,ot,st,ht={r:0,g:0,b:0},xt=1,Pt=null,It=null,zt=null,pt=!1,yt=!1;return typeof J=="string"&&(J=function(wt){wt=wt.replace(u,"").replace(c,"").toLowerCase();var St,Ut=!1;if(j[wt])wt=j[wt],Ut=!0;else if(wt=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(St=nt.rgb.exec(wt))?{r:St[1],g:St[2],b:St[3]}:(St=nt.rgba.exec(wt))?{r:St[1],g:St[2],b:St[3],a:St[4]}:(St=nt.hsl.exec(wt))?{h:St[1],s:St[2],l:St[3]}:(St=nt.hsla.exec(wt))?{h:St[1],s:St[2],l:St[3],a:St[4]}:(St=nt.hsv.exec(wt))?{h:St[1],s:St[2],v:St[3]}:(St=nt.hsva.exec(wt))?{h:St[1],s:St[2],v:St[3],a:St[4]}:(St=nt.hex8.exec(wt))?{r:rt(St[1]),g:rt(St[2]),b:rt(St[3]),a:X(St[4]),format:Ut?"name":"hex8"}:(St=nt.hex6.exec(wt))?{r:rt(St[1]),g:rt(St[2]),b:rt(St[3]),format:Ut?"name":"hex"}:(St=nt.hex4.exec(wt))?{r:rt(St[1]+""+St[1]),g:rt(St[2]+""+St[2]),b:rt(St[3]+""+St[3]),a:X(St[4]+""+St[4]),format:Ut?"name":"hex8"}:!!(St=nt.hex3.exec(wt))&&{r:rt(St[1]+""+St[1]),g:rt(St[2]+""+St[2]),b:rt(St[3]+""+St[3]),format:Ut?"name":"hex"}}(J)),typeof J=="object"&&(V(J.r)&&V(J.g)&&V(J.b)?(Q=J.r,ot=J.g,st=J.b,ht={r:255*U(Q,255),g:255*U(ot,255),b:255*U(st,255)},pt=!0,yt=String(J.r).substr(-1)==="%"?"prgb":"rgb"):V(J.h)&&V(J.s)&&V(J.v)?(Pt=z(J.s),It=z(J.v),ht=function(wt,St,Ut){wt=6*U(wt,360),St=U(St,100),Ut=U(Ut,100);var Gt=f.floor(wt),mt=wt-Gt,Tt=Ut*(1-St),At=Ut*(1-mt*St),Et=Ut*(1-(1-mt)*St),Mt=Gt%6;return{r:255*[Ut,At,Tt,Tt,Et,Ut][Mt],g:255*[Et,Ut,Ut,At,Tt,Tt][Mt],b:255*[Tt,Tt,Et,Ut,Ut,At][Mt]}}(J.h,Pt,It),pt=!0,yt="hsv"):V(J.h)&&V(J.s)&&V(J.l)&&(Pt=z(J.s),zt=z(J.l),ht=function(wt,St,Ut){var Gt,mt,Tt;function At(Nt,Ft,Lt){return Lt<0&&(Lt+=1),Lt>1&&(Lt-=1),Lt<1/6?Nt+6*(Ft-Nt)*Lt:Lt<.5?Ft:Lt<2/3?Nt+(Ft-Nt)*(2/3-Lt)*6:Nt}if(wt=U(wt,360),St=U(St,100),Ut=U(Ut,100),St===0)Gt=mt=Tt=Ut;else{var Et=Ut<.5?Ut*(1+St):Ut+St-Ut*St,Mt=2*Ut-Et;Gt=At(Mt,Et,wt+1/3),mt=At(Mt,Et,wt),Tt=At(Mt,Et,wt-1/3)}return{r:255*Gt,g:255*mt,b:255*Tt}}(J.h,Pt,zt),pt=!0,yt="hsl"),J.hasOwnProperty("a")&&(xt=J.a)),xt=et(xt),{ok:pt,format:J.format||yt,r:p(255,g(ht.r,0)),g:p(255,g(ht.g,0)),b:p(255,g(ht.b,0)),a:xt}}(G);this._originalInput=G,this._r=$.r,this._g=$.g,this._b=$.b,this._a=$.a,this._roundA=d(100*this._a)/100,this._format=H.format||$.format,this._gradientType=H.gradientType,this._r<1&&(this._r=d(this._r)),this._g<1&&(this._g=d(this._g)),this._b<1&&(this._b=d(this._b)),this._ok=$.ok,this._tc_id=h++}function y(G,H,$){G=U(G,255),H=U(H,255),$=U($,255);var J,Q,ot=g(G,H,$),st=p(G,H,$),ht=(ot+st)/2;if(ot==st)J=Q=0;else{var xt=ot-st;switch(Q=ht>.5?xt/(2-ot-st):xt/(ot+st),ot){case G:J=(H-$)/xt+(H<$?6:0);break;case H:J=($-G)/xt+2;break;case $:J=(G-H)/xt+4}J/=6}return{h:J,s:Q,l:ht}}function _(G,H,$){G=U(G,255),H=U(H,255),$=U($,255);var J,Q,ot=g(G,H,$),st=p(G,H,$),ht=ot,xt=ot-st;if(Q=ot===0?0:xt/ot,ot==st)J=0;else{switch(ot){case G:J=(H-$)/xt+(H<$?6:0);break;case H:J=($-G)/xt+2;break;case $:J=(G-H)/xt+4}J/=6}return{h:J,s:Q,v:ht}}function x(G,H,$,J){var Q=[ft(d(G).toString(16)),ft(d(H).toString(16)),ft(d($).toString(16))];return J&&Q[0].charAt(0)==Q[0].charAt(1)&&Q[1].charAt(0)==Q[1].charAt(1)&&Q[2].charAt(0)==Q[2].charAt(1)?Q[0].charAt(0)+Q[1].charAt(0)+Q[2].charAt(0):Q.join("")}function w(G,H,$,J){return[ft(W(J)),ft(d(G).toString(16)),ft(d(H).toString(16)),ft(d($).toString(16))].join("")}function E(G,H){H=H===0?0:H||10;var $=v(G).toHsl();return $.s-=H/100,$.s=Z($.s),v($)}function S(G,H){H=H===0?0:H||10;var $=v(G).toHsl();return $.s+=H/100,$.s=Z($.s),v($)}function C(G){return v(G).desaturate(100)}function T(G,H){H=H===0?0:H||10;var $=v(G).toHsl();return $.l+=H/100,$.l=Z($.l),v($)}function A(G,H){H=H===0?0:H||10;var $=v(G).toRgb();return $.r=g(0,p(255,$.r-d(-H/100*255))),$.g=g(0,p(255,$.g-d(-H/100*255))),$.b=g(0,p(255,$.b-d(-H/100*255))),v($)}function O(G,H){H=H===0?0:H||10;var $=v(G).toHsl();return $.l-=H/100,$.l=Z($.l),v($)}function P(G,H){var $=v(G).toHsl(),J=($.h+H)%360;return $.h=J<0?360+J:J,v($)}function F(G){var H=v(G).toHsl();return H.h=(H.h+180)%360,v(H)}function R(G){var H=v(G).toHsl(),$=H.h;return[v(G),v({h:($+120)%360,s:H.s,l:H.l}),v({h:($+240)%360,s:H.s,l:H.l})]}function N(G){var H=v(G).toHsl(),$=H.h;return[v(G),v({h:($+90)%360,s:H.s,l:H.l}),v({h:($+180)%360,s:H.s,l:H.l}),v({h:($+270)%360,s:H.s,l:H.l})]}function D(G){var H=v(G).toHsl(),$=H.h;return[v(G),v({h:($+72)%360,s:H.s,l:H.l}),v({h:($+216)%360,s:H.s,l:H.l})]}function I(G,H,$){H=H||6,$=$||30;var J=v(G).toHsl(),Q=360/$,ot=[v(G)];for(J.h=(J.h-(Q*H>>1)+720)%360;--H;)J.h=(J.h+Q)%360,ot.push(v(J));return ot}function B(G,H){H=H||6;for(var $=v(G).toHsv(),J=$.h,Q=$.s,ot=$.v,st=[],ht=1/H;H--;)st.push(v({h:J,s:Q,v:ot})),ot=(ot+ht)%1;return st}v.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var G=this.toRgb();return(299*G.r+587*G.g+114*G.b)/1e3},getLuminance:function(){var G,H,$,J=this.toRgb();return G=J.r/255,H=J.g/255,$=J.b/255,.2126*(G<=.03928?G/12.92:f.pow((G+.055)/1.055,2.4))+.7152*(H<=.03928?H/12.92:f.pow((H+.055)/1.055,2.4))+.0722*($<=.03928?$/12.92:f.pow(($+.055)/1.055,2.4))},setAlpha:function(G){return this._a=et(G),this._roundA=d(100*this._a)/100,this},toHsv:function(){var G=_(this._r,this._g,this._b);return{h:360*G.h,s:G.s,v:G.v,a:this._a}},toHsvString:function(){var G=_(this._r,this._g,this._b),H=d(360*G.h),$=d(100*G.s),J=d(100*G.v);return this._a==1?"hsv("+H+", "+$+"%, "+J+"%)":"hsva("+H+", "+$+"%, "+J+"%, "+this._roundA+")"},toHsl:function(){var G=y(this._r,this._g,this._b);return{h:360*G.h,s:G.s,l:G.l,a:this._a}},toHslString:function(){var G=y(this._r,this._g,this._b),H=d(360*G.h),$=d(100*G.s),J=d(100*G.l);return this._a==1?"hsl("+H+", "+$+"%, "+J+"%)":"hsla("+H+", "+$+"%, "+J+"%, "+this._roundA+")"},toHex:function(G){return x(this._r,this._g,this._b,G)},toHexString:function(G){return"#"+this.toHex(G)},toHex8:function(G){return function(H,$,J,Q,ot){var st=[ft(d(H).toString(16)),ft(d($).toString(16)),ft(d(J).toString(16)),ft(W(Q))];return ot&&st[0].charAt(0)==st[0].charAt(1)&&st[1].charAt(0)==st[1].charAt(1)&&st[2].charAt(0)==st[2].charAt(1)&&st[3].charAt(0)==st[3].charAt(1)?st[0].charAt(0)+st[1].charAt(0)+st[2].charAt(0)+st[3].charAt(0):st.join("")}(this._r,this._g,this._b,this._a,G)},toHex8String:function(G){return"#"+this.toHex8(G)},toRgb:function(){return{r:d(this._r),g:d(this._g),b:d(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+d(this._r)+", "+d(this._g)+", "+d(this._b)+")":"rgba("+d(this._r)+", "+d(this._g)+", "+d(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:d(100*U(this._r,255))+"%",g:d(100*U(this._g,255))+"%",b:d(100*U(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+d(100*U(this._r,255))+"%, "+d(100*U(this._g,255))+"%, "+d(100*U(this._b,255))+"%)":"rgba("+d(100*U(this._r,255))+"%, "+d(100*U(this._g,255))+"%, "+d(100*U(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(q[x(this._r,this._g,this._b,!0)]||!1)},toFilter:function(G){var H="#"+w(this._r,this._g,this._b,this._a),$=H,J=this._gradientType?"GradientType = 1, ":"";if(G){var Q=v(G);$="#"+w(Q._r,Q._g,Q._b,Q._a)}return"progid:DXImageTransform.Microsoft.gradient("+J+"startColorstr="+H+",endColorstr="+$+")"},toString:function(G){var H=!!G;G=G||this._format;var $=!1,J=this._a<1&&this._a>=0;return H||!J||G!=="hex"&&G!=="hex6"&&G!=="hex3"&&G!=="hex4"&&G!=="hex8"&&G!=="name"?(G==="rgb"&&($=this.toRgbString()),G==="prgb"&&($=this.toPercentageRgbString()),G!=="hex"&&G!=="hex6"||($=this.toHexString()),G==="hex3"&&($=this.toHexString(!0)),G==="hex4"&&($=this.toHex8String(!0)),G==="hex8"&&($=this.toHex8String()),G==="name"&&($=this.toName()),G==="hsl"&&($=this.toHslString()),G==="hsv"&&($=this.toHsvString()),$||this.toHexString()):G==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return v(this.toString())},_applyModification:function(G,H){var $=G.apply(null,[this].concat([].slice.call(H)));return this._r=$._r,this._g=$._g,this._b=$._b,this.setAlpha($._a),this},lighten:function(){return this._applyModification(T,arguments)},brighten:function(){return this._applyModification(A,arguments)},darken:function(){return this._applyModification(O,arguments)},desaturate:function(){return this._applyModification(E,arguments)},saturate:function(){return this._applyModification(S,arguments)},greyscale:function(){return this._applyModification(C,arguments)},spin:function(){return this._applyModification(P,arguments)},_applyCombination:function(G,H){return G.apply(null,[this].concat([].slice.call(H)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(F,arguments)},monochromatic:function(){return this._applyCombination(B,arguments)},splitcomplement:function(){return this._applyCombination(D,arguments)},triad:function(){return this._applyCombination(R,arguments)},tetrad:function(){return this._applyCombination(N,arguments)}},v.fromRatio=function(G,H){if(typeof G=="object"){var $={};for(var J in G)G.hasOwnProperty(J)&&($[J]=J==="a"?G[J]:z(G[J]));G=$}return v(G,H)},v.equals=function(G,H){return!(!G||!H)&&v(G).toRgbString()==v(H).toRgbString()},v.random=function(){return v.fromRatio({r:m(),g:m(),b:m()})},v.mix=function(G,H,$){$=$===0?0:$||50;var J=v(G).toRgb(),Q=v(H).toRgb(),ot=$/100;return v({r:(Q.r-J.r)*ot+J.r,g:(Q.g-J.g)*ot+J.g,b:(Q.b-J.b)*ot+J.b,a:(Q.a-J.a)*ot+J.a})},v.readability=function(G,H){var $=v(G),J=v(H);return(f.max($.getLuminance(),J.getLuminance())+.05)/(f.min($.getLuminance(),J.getLuminance())+.05)},v.isReadable=function(G,H,$){var J,Q,ot,st,ht,xt=v.readability(G,H);switch(Q=!1,(ot=$,(st=((ot=ot||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&st!=="AAA"&&(st="AA"),(ht=(ot.size||"small").toLowerCase())!=="small"&&ht!=="large"&&(ht="small"),J={level:st,size:ht}).level+J.size){case"AAsmall":case"AAAlarge":Q=xt>=4.5;break;case"AAlarge":Q=xt>=3;break;case"AAAsmall":Q=xt>=7}return Q},v.mostReadable=function(G,H,$){var J,Q,ot,st,ht=null,xt=0;Q=($=$||{}).includeFallbackColors,ot=$.level,st=$.size;for(var Pt=0;Pt<H.length;Pt++)(J=v.readability(G,H[Pt]))>xt&&(xt=J,ht=v(H[Pt]));return v.isReadable(G,ht,{level:ot,size:st})||!Q?ht:($.includeFallbackColors=!1,v.mostReadable(G,["#fff","#000"],$))};var j=v.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},q=v.hexNames=function(G){var H={};for(var $ in G)G.hasOwnProperty($)&&(H[G[$]]=$);return H}(j);function et(G){return G=parseFloat(G),(isNaN(G)||G<0||G>1)&&(G=1),G}function U(G,H){(function(J){return typeof J=="string"&&J.indexOf(".")!=-1&&parseFloat(J)===1})(G)&&(G="100%");var $=function(J){return typeof J=="string"&&J.indexOf("%")!=-1}(G);return G=p(H,g(0,parseFloat(G))),$&&(G=parseInt(G*H,10)/100),f.abs(G-H)<1e-6?1:G%H/parseFloat(H)}function Z(G){return p(1,g(0,G))}function rt(G){return parseInt(G,16)}function ft(G){return G.length==1?"0"+G:""+G}function z(G){return G<=1&&(G=100*G+"%"),G}function W(G){return f.round(255*parseFloat(G)).toString(16)}function X(G){return rt(G)/255}var it,lt,dt,nt=(lt="[\\s|\\(]+("+(it="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+it+")[,|\\s]+("+it+")\\s*\\)?",dt="[\\s|\\(]+("+it+")[,|\\s]+("+it+")[,|\\s]+("+it+")[,|\\s]+("+it+")\\s*\\)?",{CSS_UNIT:new RegExp(it),rgb:new RegExp("rgb"+lt),rgba:new RegExp("rgba"+dt),hsl:new RegExp("hsl"+lt),hsla:new RegExp("hsla"+dt),hsv:new RegExp("hsv"+lt),hsva:new RegExp("hsva"+dt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function V(G){return!!nt.CSS_UNIT.exec(G)}a.exports?a.exports=v:(l=function(){return v}.call(s,o,s,a))===void 0||(a.exports=l)})(Math)},3961:function(a,s,o){var l=o(3489),f=o(6131),u=l.instance();function c(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}c.prototype=new l.baseCalendar,f(c.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(y,_){if(typeof y=="string"){var x=y.match(d);return x?x[0]:""}var w=this._validateYear(y),E=y.month(),S=""+this.toChineseMonth(w,E);return _&&S.length<2&&(S="0"+S),this.isIntercalaryMonth(w,E)&&(S+="i"),S},monthNames:function(y){if(typeof y=="string"){var _=y.match(p);return _?_[0]:""}var x=this._validateYear(y),w=y.month(),E=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][this.toChineseMonth(x,w)-1];return this.isIntercalaryMonth(x,w)&&(E="闰"+E),E},monthNamesShort:function(y){if(typeof y=="string"){var _=y.match(g);return _?_[0]:""}var x=this._validateYear(y),w=y.month(),E=["一","二","三","四","五","六","七","八","九","十","十一","十二"][this.toChineseMonth(x,w)-1];return this.isIntercalaryMonth(x,w)&&(E="闰"+E),E},parseMonth:function(y,_){y=this._validateYear(y);var x,w=parseInt(_);if(isNaN(w))_[0]==="闰"&&(x=!0,_=_.substring(1)),_[_.length-1]==="月"&&(_=_.substring(0,_.length-1)),w=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(_);else{var E=_[_.length-1];x=E==="i"||E==="I"}return this.toMonthIndex(y,w,x)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(y,_){if(y.year&&(y=y.year()),typeof y!="number"||y<1888||y>2111)throw _.replace(/\{0\}/,this.local.name);return y},toMonthIndex:function(y,_,x){var w=this.intercalaryMonth(y);if(x&&_!==w||_<1||_>12)throw l.local.invalidMonth.replace(/\{0\}/,this.local.name);return w?!x&&_<=w?_-1:_:_-1},toChineseMonth:function(y,_){y.year&&(_=(y=y.year()).month());var x=this.intercalaryMonth(y);if(_<0||_>(x?12:11))throw l.local.invalidMonth.replace(/\{0\}/,this.local.name);return x?_<x?_+1:_:_+1},intercalaryMonth:function(y){return y=this._validateYear(y),m[y-m[0]]>>13},isIntercalaryMonth:function(y,_){y.year&&(_=(y=y.year()).month());var x=this.intercalaryMonth(y);return!!x&&x===_},leapYear:function(y){return this.intercalaryMonth(y)!==0},weekOfYear:function(y,_,x){var w,E=this._validateYear(y,l.local.invalidyear),S=v[E-v[0]],C=S>>9&4095,T=S>>5&15,A=31&S;(w=u.newDate(C,T,A)).add(4-(w.dayOfWeek()||7),"d");var O=this.toJD(y,_,x)-w.toJD();return 1+Math.floor(O/7)},monthsInYear:function(y){return this.leapYear(y)?13:12},daysInMonth:function(y,_){y.year&&(_=y.month(),y=y.year()),y=this._validateYear(y);var x=m[y-m[0]];if(_>(x>>13?12:11))throw l.local.invalidMonth.replace(/\{0\}/,this.local.name);return x&1<<12-_?30:29},weekDay:function(y,_,x){return(this.dayOfWeek(y,_,x)||7)<6},toJD:function(y,_,x){var w=this._validate(y,S,x,l.local.invalidDate);y=this._validateYear(w.year()),_=w.month(),x=w.day();var E=this.isIntercalaryMonth(y,_),S=this.toChineseMonth(y,_),C=function(T,A,O,P,F){var R,N,D;if(typeof T=="object")N=T,R=A||{};else{var I;if(!(typeof T=="number"&&T>=1888&&T<=2111))throw new Error("Lunar year outside range 1888-2111");if(!(typeof A=="number"&&A>=1&&A<=12))throw new Error("Lunar month outside range 1 - 12");if(!(typeof O=="number"&&O>=1&&O<=30))throw new Error("Lunar day outside range 1 - 30");typeof P=="object"?(I=!1,R=P):(I=!!P,R={}),N={year:T,month:A,day:O,isIntercalary:I}}D=N.day-1;var B,j=m[N.year-m[0]],q=j>>13;B=q&&(N.month>q||N.isIntercalary)?N.month:N.month-1;for(var et=0;et<B;et++)D+=j&1<<12-et?30:29;var U=v[N.year-v[0]],Z=new Date(U>>9&4095,(U>>5&15)-1,(31&U)+D);return R.year=Z.getFullYear(),R.month=1+Z.getMonth(),R.day=Z.getDate(),R}(y,S,x,E);return u.toJD(C.year,C.month,C.day)},fromJD:function(y){var _=u.fromJD(y),x=function(E,S,C,T){var A,O;if(typeof E=="object")A=E,O=S||{};else{if(!(typeof E=="number"&&E>=1888&&E<=2111))throw new Error("Solar year outside range 1888-2111");if(!(typeof S=="number"&&S>=1&&S<=12))throw new Error("Solar month outside range 1 - 12");if(!(typeof C=="number"&&C>=1&&C<=31))throw new Error("Solar day outside range 1 - 31");A={year:E,month:S,day:C},O={}}var P=v[A.year-v[0]],F=A.year<<9|A.month<<5|A.day;O.year=F>=P?A.year:A.year-1,P=v[O.year-v[0]];var R,N=new Date(P>>9&4095,(P>>5&15)-1,31&P),D=new Date(A.year,A.month-1,A.day);R=Math.round((D-N)/864e5);var I,B=m[O.year-m[0]];for(I=0;I<13;I++){var j=B&1<<12-I?30:29;if(R<j)break;R-=j}var q=B>>13;return!q||I<q?(O.isIntercalary=!1,O.month=1+I):I===q?(O.isIntercalary=!0,O.month=I):(O.isIntercalary=!1,O.month=I),O.day=1+R,O}(_.year(),_.month(),_.day()),w=this.toMonthIndex(x.year,x.month,x.isIntercalary);return this.newDate(x.year,w,x.day)},fromString:function(y){var _=y.match(h),x=this._validateYear(+_[1]),w=+_[2],E=!!_[3],S=this.toMonthIndex(x,w,E),C=+_[4];return this.newDate(x,S,C)},add:function(y,_,x){var w=y.year(),E=y.month(),S=this.isIntercalaryMonth(w,E),C=this.toChineseMonth(w,E),T=Object.getPrototypeOf(c.prototype).add.call(this,y,_,x);if(x==="y"){var A=T.year(),O=T.month(),P=this.isIntercalaryMonth(A,C),F=S&&P?this.toMonthIndex(A,C,!0):this.toMonthIndex(A,C,!1);F!==O&&T.month(F)}return T}});var h=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,d=/^\d?\d[iI]?/m,p=/^闰?十?[一二三四五六七八九]?月/m,g=/^闰?十?[一二三四五六七八九]?/m;l.calendars.chinese=c;var m=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],v=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},8751:function(a,s,o){var l=o(3489),f=o(6131);function u(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}u.prototype=new l.baseCalendar,f(u.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(c){var h=this._validate(c,this.minMonth,this.minDay,l.local.invalidYear);return(c=h.year()+(h.year()<0?1:0))%4==3||c%4==-1},monthsInYear:function(c){return this._validate(c,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear),13},weekOfYear:function(c,h,d){var p=this.newDate(c,h,d);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(c,h){var d=this._validate(c,h,this.minDay,l.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===13&&this.leapYear(d.year())?1:0)},weekDay:function(c,h,d){return(this.dayOfWeek(c,h,d)||7)<6},toJD:function(c,h,d){var p=this._validate(c,h,d,l.local.invalidDate);return(c=p.year())<0&&c++,p.day()+30*(p.month()-1)+365*(c-1)+Math.floor(c/4)+this.jdEpoch-1},fromJD:function(c){var h=Math.floor(c)+.5-this.jdEpoch,d=Math.floor((h-Math.floor((h+366)/1461))/365)+1;d<=0&&d--,h=Math.floor(c)+.5-this.newDate(d,1,1).toJD();var p=Math.floor(h/30)+1,g=h-30*(p-1)+1;return this.newDate(d,p,g)}}),l.calendars.coptic=u},6825:function(a,s,o){var l=o(3489),f=o(6131);function u(h){this.local=this.regionalOptions[h||""]||this.regionalOptions[""]}u.prototype=new l.baseCalendar,f(u.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(h){return this._validate(h,this.minMonth,this.minDay,l.local.invalidYear),!1},monthsInYear:function(h){return this._validate(h,this.minMonth,this.minDay,l.local.invalidYear),13},daysInYear:function(h){return this._validate(h,this.minMonth,this.minDay,l.local.invalidYear),400},weekOfYear:function(h,d,p){var g=this.newDate(h,d,p);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/8)+1},daysInMonth:function(h,d){var p=this._validate(h,d,this.minDay,l.local.invalidMonth);return this.daysPerMonth[p.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(h,d,p){return(this._validate(h,d,p,l.local.invalidDate).day()+1)%8},weekDay:function(h,d,p){var g=this.dayOfWeek(h,d,p);return g>=2&&g<=6},extraInfo:function(h,d,p){var g=this._validate(h,d,p,l.local.invalidDate);return{century:c[Math.floor((g.year()-1)/100)+1]||""}},toJD:function(h,d,p){var g=this._validate(h,d,p,l.local.invalidDate);return h=g.year()+(g.year()<0?1:0),d=g.month(),(p=g.day())+(d>1?16:0)+(d>2?32*(d-2):0)+400*(h-1)+this.jdEpoch-1},fromJD:function(h){h=Math.floor(h+.5)-Math.floor(this.jdEpoch)-1;var d=Math.floor(h/400)+1;h-=400*(d-1),h+=h>15?16:0;var p=Math.floor(h/32)+1,g=h-32*(p-1)+1;return this.newDate(d<=0?d-1:d,p,g)}});var c={20:"Fruitbat",21:"Anchovy"};l.calendars.discworld=u},7715:function(a,s,o){var l=o(3489),f=o(6131);function u(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}u.prototype=new l.baseCalendar,f(u.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(c){var h=this._validate(c,this.minMonth,this.minDay,l.local.invalidYear);return(c=h.year()+(h.year()<0?1:0))%4==3||c%4==-1},monthsInYear:function(c){return this._validate(c,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear),13},weekOfYear:function(c,h,d){var p=this.newDate(c,h,d);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(c,h){var d=this._validate(c,h,this.minDay,l.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===13&&this.leapYear(d.year())?1:0)},weekDay:function(c,h,d){return(this.dayOfWeek(c,h,d)||7)<6},toJD:function(c,h,d){var p=this._validate(c,h,d,l.local.invalidDate);return(c=p.year())<0&&c++,p.day()+30*(p.month()-1)+365*(c-1)+Math.floor(c/4)+this.jdEpoch-1},fromJD:function(c){var h=Math.floor(c)+.5-this.jdEpoch,d=Math.floor((h-Math.floor((h+366)/1461))/365)+1;d<=0&&d--,h=Math.floor(c)+.5-this.newDate(d,1,1).toJD();var p=Math.floor(h/30)+1,g=h-30*(p-1)+1;return this.newDate(d,p,g)}}),l.calendars.ethiopian=u},9384:function(a,s,o){var l=o(3489),f=o(6131);function u(h){this.local=this.regionalOptions[h||""]||this.regionalOptions[""]}function c(h,d){return h-d*Math.floor(h/d)}u.prototype=new l.baseCalendar,f(u.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var d=this._validate(h,this.minMonth,this.minDay,l.local.invalidYear);return this._leapYear(d.year())},_leapYear:function(h){return c(7*(h=h<0?h+1:h)+1,19)<7},monthsInYear:function(h){return this._validate(h,this.minMonth,this.minDay,l.local.invalidYear),this._leapYear(h.year?h.year():h)?13:12},weekOfYear:function(h,d,p){var g=this.newDate(h,d,p);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInYear:function(h){return h=this._validate(h,this.minMonth,this.minDay,l.local.invalidYear).year(),this.toJD(h===-1?1:h+1,7,1)-this.toJD(h,7,1)},daysInMonth:function(h,d){return h.year&&(d=h.month(),h=h.year()),this._validate(h,d,this.minDay,l.local.invalidMonth),d===12&&this.leapYear(h)||d===8&&c(this.daysInYear(h),10)===5?30:d===9&&c(this.daysInYear(h),10)===3?29:this.daysPerMonth[d-1]},weekDay:function(h,d,p){return this.dayOfWeek(h,d,p)!==6},extraInfo:function(h,d,p){var g=this._validate(h,d,p,l.local.invalidDate);return{yearType:(this.leapYear(g)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(g)%10-3]}},toJD:function(h,d,p){var g=this._validate(h,d,p,l.local.invalidDate);h=g.year(),d=g.month(),p=g.day();var m=h<=0?h+1:h,v=this.jdEpoch+this._delay1(m)+this._delay2(m)+p+1;if(d<7){for(var y=7;y<=this.monthsInYear(h);y++)v+=this.daysInMonth(h,y);for(y=1;y<d;y++)v+=this.daysInMonth(h,y)}else for(y=7;y<d;y++)v+=this.daysInMonth(h,y);return v},_delay1:function(h){var d=Math.floor((235*h-234)/19),p=12084+13753*d,g=29*d+Math.floor(p/25920);return c(3*(g+1),7)<3&&g++,g},_delay2:function(h){var d=this._delay1(h-1),p=this._delay1(h);return this._delay1(h+1)-p==356?2:p-d==382?1:0},fromJD:function(h){h=Math.floor(h)+.5;for(var d=Math.floor(98496*(h-this.jdEpoch)/35975351)-1;h>=this.toJD(d===-1?1:d+1,7,1);)d++;for(var p=h<this.toJD(d,1,1)?7:1;h>this.toJD(d,p,this.daysInMonth(d,p));)p++;var g=h-this.toJD(d,p,1)+1;return this.newDate(d,p,g)}}),l.calendars.hebrew=u},3805:function(a,s,o){var l=o(3489),f=o(6131);function u(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}u.prototype=new l.baseCalendar,f(u.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(c){return(11*this._validate(c,this.minMonth,this.minDay,l.local.invalidYear).year()+14)%30<11},weekOfYear:function(c,h,d){var p=this.newDate(c,h,d);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(c){return this.leapYear(c)?355:354},daysInMonth:function(c,h){var d=this._validate(c,h,this.minDay,l.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===12&&this.leapYear(d.year())?1:0)},weekDay:function(c,h,d){return this.dayOfWeek(c,h,d)!==5},toJD:function(c,h,d){var p=this._validate(c,h,d,l.local.invalidDate);return c=p.year(),h=p.month(),c=c<=0?c+1:c,(d=p.day())+Math.ceil(29.5*(h-1))+354*(c-1)+Math.floor((3+11*c)/30)+this.jdEpoch-1},fromJD:function(c){c=Math.floor(c)+.5;var h=Math.floor((30*(c-this.jdEpoch)+10646)/10631);h=h<=0?h-1:h;var d=Math.min(12,Math.ceil((c-29-this.toJD(h,1,1))/29.5)+1),p=c-this.toJD(h,d,1)+1;return this.newDate(h,d,p)}}),l.calendars.islamic=u},8874:function(a,s,o){var l=o(3489),f=o(6131);function u(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}u.prototype=new l.baseCalendar,f(u.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(c){var h=this._validate(c,this.minMonth,this.minDay,l.local.invalidYear);return(c=h.year()<0?h.year()+1:h.year())%4==0},weekOfYear:function(c,h,d){var p=this.newDate(c,h,d);return p.add(4-(p.dayOfWeek()||7),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(c,h){var d=this._validate(c,h,this.minDay,l.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===2&&this.leapYear(d.year())?1:0)},weekDay:function(c,h,d){return(this.dayOfWeek(c,h,d)||7)<6},toJD:function(c,h,d){var p=this._validate(c,h,d,l.local.invalidDate);return c=p.year(),h=p.month(),d=p.day(),c<0&&c++,h<=2&&(c--,h+=12),Math.floor(365.25*(c+4716))+Math.floor(30.6001*(h+1))+d-1524.5},fromJD:function(c){var h=Math.floor(c+.5)+1524,d=Math.floor((h-122.1)/365.25),p=Math.floor(365.25*d),g=Math.floor((h-p)/30.6001),m=g-Math.floor(g<14?1:13),v=d-Math.floor(m>2?4716:4715),y=h-p-Math.floor(30.6001*g);return v<=0&&v--,this.newDate(v,m,y)}}),l.calendars.julian=u},3290:function(a,s,o){var l=o(3489),f=o(6131);function u(d){this.local=this.regionalOptions[d||""]||this.regionalOptions[""]}function c(d,p){return d-p*Math.floor(d/p)}function h(d,p){return c(d-1,p)+1}u.prototype=new l.baseCalendar,f(u.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(d){return this._validate(d,this.minMonth,this.minDay,l.local.invalidYear),!1},formatYear:function(d){d=this._validate(d,this.minMonth,this.minDay,l.local.invalidYear).year();var p=Math.floor(d/400);return d%=400,d+=d<0?400:0,p+"."+Math.floor(d/20)+"."+d%20},forYear:function(d){if((d=d.split(".")).length<3)throw"Invalid Mayan year";for(var p=0,g=0;g<d.length;g++){var m=parseInt(d[g],10);if(Math.abs(m)>19||g>0&&m<0)throw"Invalid Mayan year";p=20*p+m}return p},monthsInYear:function(d){return this._validate(d,this.minMonth,this.minDay,l.local.invalidYear),18},weekOfYear:function(d,p,g){return this._validate(d,p,g,l.local.invalidDate),0},daysInYear:function(d){return this._validate(d,this.minMonth,this.minDay,l.local.invalidYear),360},daysInMonth:function(d,p){return this._validate(d,p,this.minDay,l.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(d,p,g){return this._validate(d,p,g,l.local.invalidDate).day()},weekDay:function(d,p,g){return this._validate(d,p,g,l.local.invalidDate),!0},extraInfo:function(d,p,g){var m=this._validate(d,p,g,l.local.invalidDate).toJD(),v=this._toHaab(m),y=this._toTzolkin(m);return{haabMonthName:this.local.haabMonths[v[0]-1],haabMonth:v[0],haabDay:v[1],tzolkinDayName:this.local.tzolkinMonths[y[0]-1],tzolkinDay:y[0],tzolkinTrecena:y[1]}},_toHaab:function(d){var p=c(8+(d-=this.jdEpoch)+340,365);return[Math.floor(p/20)+1,c(p,20)]},_toTzolkin:function(d){return[h(20+(d-=this.jdEpoch),20),h(d+4,13)]},toJD:function(d,p,g){var m=this._validate(d,p,g,l.local.invalidDate);return m.day()+20*m.month()+360*m.year()+this.jdEpoch},fromJD:function(d){d=Math.floor(d)+.5-this.jdEpoch;var p=Math.floor(d/360);d%=360,d+=d<0?360:0;var g=Math.floor(d/20),m=d%20;return this.newDate(p,g,m)}}),l.calendars.mayan=u},9108:function(a,s,o){var l=o(3489),f=o(6131);function u(h){this.local=this.regionalOptions[h||""]||this.regionalOptions[""]}u.prototype=new l.baseCalendar;var c=l.instance("gregorian");f(u.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var d=this._validate(h,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear);return c.leapYear(d.year()+(d.year()<1?1:0)+1469)},weekOfYear:function(h,d,p){var g=this.newDate(h,d,p);return g.add(1-(g.dayOfWeek()||7),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(h,d){var p=this._validate(h,d,this.minDay,l.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(h,d,p){return(this.dayOfWeek(h,d,p)||7)<6},toJD:function(h,d,p){var g=this._validate(h,d,p,l.local.invalidMonth);(h=g.year())<0&&h++;for(var m=g.day(),v=1;v<g.month();v++)m+=this.daysPerMonth[v-1];return m+c.toJD(h+1468,3,13)},fromJD:function(h){h=Math.floor(h+.5);for(var d=Math.floor((h-(this.jdEpoch-1))/366);h>=this.toJD(d+1,1,1);)d++;for(var p=h-Math.floor(this.toJD(d,1,1)+.5)+1,g=1;p>this.daysInMonth(d,g);)p-=this.daysInMonth(d,g),g++;return this.newDate(d,g,p)}}),l.calendars.nanakshahi=u},5422:function(a,s,o){var l=o(3489),f=o(6131);function u(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}u.prototype=new l.baseCalendar,f(u.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(c){return this.daysInYear(c)!==this.daysPerYear},weekOfYear:function(c,h,d){var p=this.newDate(c,h,d);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(c){if(c=this._validate(c,this.minMonth,this.minDay,l.local.invalidYear).year(),this.NEPALI_CALENDAR_DATA[c]===void 0)return this.daysPerYear;for(var h=0,d=this.minMonth;d<=12;d++)h+=this.NEPALI_CALENDAR_DATA[c][d];return h},daysInMonth:function(c,h){return c.year&&(h=c.month(),c=c.year()),this._validate(c,h,this.minDay,l.local.invalidMonth),this.NEPALI_CALENDAR_DATA[c]===void 0?this.daysPerMonth[h-1]:this.NEPALI_CALENDAR_DATA[c][h]},weekDay:function(c,h,d){return this.dayOfWeek(c,h,d)!==6},toJD:function(c,h,d){var p=this._validate(c,h,d,l.local.invalidDate);c=p.year(),h=p.month(),d=p.day();var g=l.instance(),m=0,v=h,y=c;this._createMissingCalendarData(c);var _=c-(v>9||v===9&&d>=this.NEPALI_CALENDAR_DATA[y][0]?56:57);for(h!==9&&(m=d,v--);v!==9;)v<=0&&(v=12,y--),m+=this.NEPALI_CALENDAR_DATA[y][v],v--;return h===9?(m+=d-this.NEPALI_CALENDAR_DATA[y][0])<0&&(m+=g.daysInYear(_)):m+=this.NEPALI_CALENDAR_DATA[y][9]-this.NEPALI_CALENDAR_DATA[y][0],g.newDate(_,1,1).add(m,"d").toJD()},fromJD:function(c){var h=l.instance().fromJD(c),d=h.year(),p=h.dayOfYear(),g=d+56;this._createMissingCalendarData(g);for(var m=9,v=this.NEPALI_CALENDAR_DATA[g][0],y=this.NEPALI_CALENDAR_DATA[g][m]-v+1;p>y;)++m>12&&(m=1,g++),y+=this.NEPALI_CALENDAR_DATA[g][m];var _=this.NEPALI_CALENDAR_DATA[g][m]-(y-p);return this.newDate(g,m,_)},_createMissingCalendarData:function(c){var h=this.daysPerMonth.slice(0);h.unshift(17);for(var d=c-1;d<c+2;d++)this.NEPALI_CALENDAR_DATA[d]===void 0&&(this.NEPALI_CALENDAR_DATA[d]=h)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),l.calendars.nepali=u},4320:function(a,s,o){var l=o(3489),f=o(6131);function u(h){this.local=this.regionalOptions[h||""]||this.regionalOptions[""]}function c(h,d){return h-d*Math.floor(h/d)}u.prototype=new l.baseCalendar,f(u.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(h){var d=this._validate(h,this.minMonth,this.minDay,l.local.invalidYear);return 682*((d.year()-(d.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(h,d,p){var g=this.newDate(h,d,p);return g.add(-(g.dayOfWeek()+1)%7,"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(h,d){var p=this._validate(h,d,this.minDay,l.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(h,d,p){return this.dayOfWeek(h,d,p)!==5},toJD:function(h,d,p){var g=this._validate(h,d,p,l.local.invalidDate);h=g.year(),d=g.month(),p=g.day();var m=h-(h>=0?474:473),v=474+c(m,2820);return p+(d<=7?31*(d-1):30*(d-1)+6)+Math.floor((682*v-110)/2816)+365*(v-1)+1029983*Math.floor(m/2820)+this.jdEpoch-1},fromJD:function(h){var d=(h=Math.floor(h)+.5)-this.toJD(475,1,1),p=Math.floor(d/1029983),g=c(d,1029983),m=2820;if(g!==1029982){var v=Math.floor(g/366),y=c(g,366);m=Math.floor((2134*v+2816*y+2815)/1028522)+v+1}var _=m+2820*p+474;_=_<=0?_-1:_;var x=h-this.toJD(_,1,1)+1,w=x<=186?Math.ceil(x/31):Math.ceil((x-6)/30),E=h-this.toJD(_,w,1)+1;return this.newDate(_,w,E)}}),l.calendars.persian=u,l.calendars.jalali=u},1320:function(a,s,o){var l=o(3489),f=o(6131),u=l.instance();function c(h){this.local=this.regionalOptions[h||""]||this.regionalOptions[""]}c.prototype=new l.baseCalendar,f(c.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(h){var d=this._validate(h,this.minMonth,this.minDay,l.local.invalidYear);return h=this._t2gYear(d.year()),u.leapYear(h)},weekOfYear:function(h,d,p){var g=this._validate(h,this.minMonth,this.minDay,l.local.invalidYear);return h=this._t2gYear(g.year()),u.weekOfYear(h,g.month(),g.day())},daysInMonth:function(h,d){var p=this._validate(h,d,this.minDay,l.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(h,d,p){return(this.dayOfWeek(h,d,p)||7)<6},toJD:function(h,d,p){var g=this._validate(h,d,p,l.local.invalidDate);return h=this._t2gYear(g.year()),u.toJD(h,g.month(),g.day())},fromJD:function(h){var d=u.fromJD(h),p=this._g2tYear(d.year());return this.newDate(p,d.month(),d.day())},_t2gYear:function(h){return h+this.yearsOffset+(h>=-this.yearsOffset&&h<=-1?1:0)},_g2tYear:function(h){return h-this.yearsOffset-(h>=1&&h<=this.yearsOffset?1:0)}}),l.calendars.taiwan=c},1367:function(a,s,o){var l=o(3489),f=o(6131),u=l.instance();function c(h){this.local=this.regionalOptions[h||""]||this.regionalOptions[""]}c.prototype=new l.baseCalendar,f(c.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var d=this._validate(h,this.minMonth,this.minDay,l.local.invalidYear);return h=this._t2gYear(d.year()),u.leapYear(h)},weekOfYear:function(h,d,p){var g=this._validate(h,this.minMonth,this.minDay,l.local.invalidYear);return h=this._t2gYear(g.year()),u.weekOfYear(h,g.month(),g.day())},daysInMonth:function(h,d){var p=this._validate(h,d,this.minDay,l.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(h,d,p){return(this.dayOfWeek(h,d,p)||7)<6},toJD:function(h,d,p){var g=this._validate(h,d,p,l.local.invalidDate);return h=this._t2gYear(g.year()),u.toJD(h,g.month(),g.day())},fromJD:function(h){var d=u.fromJD(h),p=this._g2tYear(d.year());return this.newDate(p,d.month(),d.day())},_t2gYear:function(h){return h-this.yearsOffset-(h>=1&&h<=this.yearsOffset?1:0)},_g2tYear:function(h){return h+this.yearsOffset+(h>=-this.yearsOffset&&h<=-1?1:0)}}),l.calendars.thai=c},1457:function(a,s,o){var l=o(3489),f=o(6131);function u(h){this.local=this.regionalOptions[h||""]||this.regionalOptions[""]}u.prototype=new l.baseCalendar,f(u.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(h){var d=this._validate(h,this.minMonth,this.minDay,l.local.invalidYear);return this.daysInYear(d.year())===355},weekOfYear:function(h,d,p){var g=this.newDate(h,d,p);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInYear:function(h){for(var d=0,p=1;p<=12;p++)d+=this.daysInMonth(h,p);return d},daysInMonth:function(h,d){for(var p=this._validate(h,d,this.minDay,l.local.invalidMonth).toJD()-24e5+.5,g=0,m=0;m<c.length;m++){if(c[m]>p)return c[g]-c[g-1];g++}return 30},weekDay:function(h,d,p){return this.dayOfWeek(h,d,p)!==5},toJD:function(h,d,p){var g=this._validate(h,d,p,l.local.invalidDate),m=12*(g.year()-1)+g.month()-15292;return g.day()+c[m-1]-1+24e5-.5},fromJD:function(h){for(var d=h-24e5+.5,p=0,g=0;g<c.length&&!(c[g]>d);g++)p++;var m=p+15292,v=Math.floor((m-1)/12),y=v+1,_=m-12*v,x=d-c[p-1]+1;return this.newDate(y,_,x)},isValid:function(h,d,p){var g=l.baseCalendar.prototype.isValid.apply(this,arguments);return g&&(g=(h=h.year!=null?h.year:h)>=1276&&h<=1500),g},_validate:function(h,d,p,g){var m=l.baseCalendar.prototype._validate.apply(this,arguments);if(m.year<1276||m.year>1500)throw g.replace(/\{0\}/,this.local.name);return m}}),l.calendars.ummalqura=u;var c=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},3489:function(a,s,o){var l=o(6131);function f(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function u(g,m,v,y){if(this._calendar=g,this._year=m,this._month=v,this._day=y,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function c(g,m){return"000000".substring(0,m-(g=""+g).length)+g}function h(){this.shortYearCutoff="+10"}function d(g){this.local=this.regionalOptions[g]||this.regionalOptions[""]}l(f.prototype,{instance:function(g,m){g=(g||"gregorian").toLowerCase(),m=m||"";var v=this._localCals[g+"-"+m];if(!v&&this.calendars[g]&&(v=new this.calendars[g](m),this._localCals[g+"-"+m]=v),!v)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,g);return v},newDate:function(g,m,v,y,_){return(y=(g!=null&&g.year?g.calendar():typeof y=="string"?this.instance(y,_):y)||this.instance()).newDate(g,m,v)},substituteDigits:function(g){return function(m){return(m+"").replace(/[0-9]/g,function(v){return g[v]})}},substituteChineseDigits:function(g,m){return function(v){for(var y="",_=0;v>0;){var x=v%10;y=(x===0?"":g[x]+m[_])+y,_++,v=Math.floor(v/10)}return y.indexOf(g[1]+m[1])===0&&(y=y.substr(1)),y||g[0]}}}),l(u.prototype,{newDate:function(g,m,v){return this._calendar.newDate(g??this,m,v)},year:function(g){return arguments.length===0?this._year:this.set(g,"y")},month:function(g){return arguments.length===0?this._month:this.set(g,"m")},day:function(g){return arguments.length===0?this._day:this.set(g,"d")},date:function(g,m,v){if(!this._calendar.isValid(g,m,v))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=g,this._month=m,this._day=v,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(g,m){return this._calendar.add(this,g,m)},set:function(g,m){return this._calendar.set(this,g,m)},compareTo:function(g){if(this._calendar.name!==g._calendar.name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,g._calendar.local.name);var m=this._year!==g._year?this._year-g._year:this._month!==g._month?this.monthOfYear()-g.monthOfYear():this._day-g._day;return m===0?0:m<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(g){return this._calendar.fromJD(g)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(g){return this._calendar.fromJSDate(g)},toString:function(){return(this.year()<0?"-":"")+c(Math.abs(this.year()),4)+"-"+c(this.month(),2)+"-"+c(this.day(),2)}}),l(h.prototype,{_validateLevel:0,newDate:function(g,m,v){return g==null?this.today():(g.year&&(this._validate(g,m,v,p.local.invalidDate||p.regionalOptions[""].invalidDate),v=g.day(),m=g.month(),g=g.year()),new u(this,g,m,v))},today:function(){return this.fromJSDate(new Date)},epoch:function(g){return this._validate(g,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(g){var m=this._validate(g,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return(m.year()<0?"-":"")+c(Math.abs(m.year()),4)},monthsInYear:function(g){return this._validate(g,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),12},monthOfYear:function(g,m){var v=this._validate(g,m,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return(v.month()+this.monthsInYear(v)-this.firstMonth)%this.monthsInYear(v)+this.minMonth},fromMonthOfYear:function(g,m){var v=(m+this.firstMonth-2*this.minMonth)%this.monthsInYear(g)+this.minMonth;return this._validate(g,v,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth),v},daysInYear:function(g){var m=this._validate(g,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return this.leapYear(m)?366:365},dayOfYear:function(g,m,v){var y=this._validate(g,m,v,p.local.invalidDate||p.regionalOptions[""].invalidDate);return y.toJD()-this.newDate(y.year(),this.fromMonthOfYear(y.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(g,m,v){var y=this._validate(g,m,v,p.local.invalidDate||p.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(y))+2)%this.daysInWeek()},extraInfo:function(g,m,v){return this._validate(g,m,v,p.local.invalidDate||p.regionalOptions[""].invalidDate),{}},add:function(g,m,v){return this._validate(g,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate),this._correctAdd(g,this._add(g,m,v),m,v)},_add:function(g,m,v){if(this._validateLevel++,v==="d"||v==="w"){var y=g.toJD()+m*(v==="w"?this.daysInWeek():1),_=g.calendar().fromJD(y);return this._validateLevel--,[_.year(),_.month(),_.day()]}try{var x=g.year()+(v==="y"?m:0),w=g.monthOfYear()+(v==="m"?m:0);_=g.day(),v==="y"?(g.month()!==this.fromMonthOfYear(x,w)&&(w=this.newDate(x,g.month(),this.minDay).monthOfYear()),w=Math.min(w,this.monthsInYear(x)),_=Math.min(_,this.daysInMonth(x,this.fromMonthOfYear(x,w)))):v==="m"&&(function(S){for(;w<S.minMonth;)x--,w+=S.monthsInYear(x);for(var C=S.monthsInYear(x);w>C-1+S.minMonth;)x++,w-=C,C=S.monthsInYear(x)}(this),_=Math.min(_,this.daysInMonth(x,this.fromMonthOfYear(x,w))));var E=[x,this.fromMonthOfYear(x,w),_];return this._validateLevel--,E}catch(S){throw this._validateLevel--,S}},_correctAdd:function(g,m,v,y){if(!(this.hasYearZero||y!=="y"&&y!=="m"||m[0]!==0&&g.year()>0==m[0]>0)){var _={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[y],x=v<0?-1:1;m=this._add(g,v*_[0]+x*_[1],_[2])}return g.date(m[0],m[1],m[2])},set:function(g,m,v){this._validate(g,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate);var y=v==="y"?m:g.year(),_=v==="m"?m:g.month(),x=v==="d"?m:g.day();return v!=="y"&&v!=="m"||(x=Math.min(x,this.daysInMonth(y,_))),g.date(y,_,x)},isValid:function(g,m,v){this._validateLevel++;var y=this.hasYearZero||g!==0;if(y){var _=this.newDate(g,m,this.minDay);y=m>=this.minMonth&&m-this.minMonth<this.monthsInYear(_)&&v>=this.minDay&&v-this.minDay<this.daysInMonth(_)}return this._validateLevel--,y},toJSDate:function(g,m,v){var y=this._validate(g,m,v,p.local.invalidDate||p.regionalOptions[""].invalidDate);return p.instance().fromJD(this.toJD(y)).toJSDate()},fromJSDate:function(g){return this.fromJD(p.instance().fromJSDate(g).toJD())},_validate:function(g,m,v,y){if(g.year){if(this._validateLevel===0&&this.name!==g.calendar().name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,g.calendar().local.name);return g}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(g,m,v))throw y.replace(/\{0\}/,this.local.name);var _=this.newDate(g,m,v);return this._validateLevel--,_}catch(x){throw this._validateLevel--,x}}}),d.prototype=new h,l(d.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(g){var m=this._validate(g,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return(g=m.year()+(m.year()<0?1:0))%4==0&&(g%100!=0||g%400==0)},weekOfYear:function(g,m,v){var y=this.newDate(g,m,v);return y.add(4-(y.dayOfWeek()||7),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInMonth:function(g,m){var v=this._validate(g,m,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(g,m,v){return(this.dayOfWeek(g,m,v)||7)<6},toJD:function(g,m,v){var y=this._validate(g,m,v,p.local.invalidDate||p.regionalOptions[""].invalidDate);g=y.year(),m=y.month(),v=y.day(),g<0&&g++,m<3&&(m+=12,g--);var _=Math.floor(g/100),x=2-_+Math.floor(_/4);return Math.floor(365.25*(g+4716))+Math.floor(30.6001*(m+1))+v+x-1524.5},fromJD:function(g){var m=Math.floor(g+.5),v=Math.floor((m-186721625e-2)/36524.25),y=1524+(v=m+1+v-Math.floor(v/4)),_=Math.floor((y-122.1)/365.25),x=Math.floor(365.25*_),w=Math.floor((y-x)/30.6001),E=y-x-Math.floor(30.6001*w),S=w-(w>13.5?13:1),C=_-(S>2.5?4716:4715);return C<=0&&C--,this.newDate(C,S,E)},toJSDate:function(g,m,v){var y=this._validate(g,m,v,p.local.invalidDate||p.regionalOptions[""].invalidDate),_=new Date(y.year(),y.month()-1,y.day());return _.setHours(0),_.setMinutes(0),_.setSeconds(0),_.setMilliseconds(0),_.setHours(_.getHours()>12?_.getHours()+2:0),_},fromJSDate:function(g){return this.newDate(g.getFullYear(),g.getMonth()+1,g.getDate())}});var p=a.exports=new f;p.cdate=u,p.baseCalendar=h,p.calendars.gregorian=d},4338:function(a,s,o){var l=o(6131),f=o(3489);l(f.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),f.local=f.regionalOptions[""],l(f.cdate.prototype,{formatDate:function(u,c){return typeof u!="string"&&(c=u,u=""),this._calendar.formatDate(u||"",this,c)}}),l(f.baseCalendar.prototype,{UNIX_EPOCH:f.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:f.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(u,c,h){if(typeof u!="string"&&(h=c,c=u,u=""),!c)return"";if(c.calendar()!==this)throw f.local.invalidFormat||f.regionalOptions[""].invalidFormat;u=u||this.local.dateFormat;for(var d,p,g,m=(h=h||{}).dayNamesShort||this.local.dayNamesShort,v=h.dayNames||this.local.dayNames,y=h.monthNumbers||this.local.monthNumbers,_=h.monthNamesShort||this.local.monthNamesShort,x=h.monthNames||this.local.monthNames,w=(h.calculateWeek||this.local.calculateWeek,function(N,D){for(var I=1;R+I<u.length&&u.charAt(R+I)===N;)I++;return R+=I-1,Math.floor(I/(D||1))>1}),E=function(N,D,I,B){var j=""+D;if(w(N,B))for(;j.length<I;)j="0"+j;return j},S=this,C=function(N){return typeof y=="function"?y.call(S,N,w("m")):O(E("m",N.month(),2))},T=function(N,D){return D?typeof x=="function"?x.call(S,N):x[N.month()-S.minMonth]:typeof _=="function"?_.call(S,N):_[N.month()-S.minMonth]},A=this.local.digits,O=function(N){return h.localNumbers&&A?A(N):N},P="",F=!1,R=0;R<u.length;R++)if(F)u.charAt(R)!=="'"||w("'")?P+=u.charAt(R):F=!1;else switch(u.charAt(R)){case"d":P+=O(E("d",c.day(),2));break;case"D":P+=(d=c.dayOfWeek(),p=m,g=v,w("D")?g[d]:p[d]);break;case"o":P+=E("o",c.dayOfYear(),3);break;case"w":P+=E("w",c.weekOfYear(),2);break;case"m":P+=C(c);break;case"M":P+=T(c,w("M"));break;case"y":P+=w("y",2)?c.year():(c.year()%100<10?"0":"")+c.year()%100;break;case"Y":w("Y",2),P+=c.formatYear();break;case"J":P+=c.toJD();break;case"@":P+=(c.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":P+=(c.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":w("'")?P+="'":F=!0;break;default:P+=u.charAt(R)}return P},parseDate:function(u,c,h){if(c==null)throw f.local.invalidArguments||f.regionalOptions[""].invalidArguments;if((c=typeof c=="object"?c.toString():c+"")==="")return null;u=u||this.local.dateFormat;var d=(h=h||{}).shortYearCutoff||this.shortYearCutoff;d=typeof d!="string"?d:this.today().year()%100+parseInt(d,10);for(var p=h.dayNamesShort||this.local.dayNamesShort,g=h.dayNames||this.local.dayNames,m=h.parseMonth||this.local.parseMonth,v=h.monthNumbers||this.local.monthNumbers,y=h.monthNamesShort||this.local.monthNamesShort,_=h.monthNames||this.local.monthNames,x=-1,w=-1,E=-1,S=-1,C=-1,T=!1,A=!1,O=function(U,Z){for(var rt=1;j+rt<u.length&&u.charAt(j+rt)===U;)rt++;return j+=rt-1,Math.floor(rt/(Z||1))>1},P=function(U,Z){var rt=O(U,Z),ft=[2,3,rt?4:2,rt?4:2,10,11,20]["oyYJ@!".indexOf(U)+1],z=new RegExp("^-?\\d{1,"+ft+"}"),W=c.substring(B).match(z);if(!W)throw(f.local.missingNumberAt||f.regionalOptions[""].missingNumberAt).replace(/\{0\}/,B);return B+=W[0].length,parseInt(W[0],10)},F=this,R=function(){if(typeof v=="function"){O("m");var U=v.call(F,c.substring(B));return B+=U.length,U}return P("m")},N=function(U,Z,rt,ft){for(var z=O(U,ft)?rt:Z,W=0;W<z.length;W++)if(c.substr(B,z[W].length).toLowerCase()===z[W].toLowerCase())return B+=z[W].length,W+F.minMonth;throw(f.local.unknownNameAt||f.regionalOptions[""].unknownNameAt).replace(/\{0\}/,B)},D=function(){if(typeof _=="function"){var U=O("M")?_.call(F,c.substring(B)):y.call(F,c.substring(B));return B+=U.length,U}return N("M",y,_)},I=function(){if(c.charAt(B)!==u.charAt(j))throw(f.local.unexpectedLiteralAt||f.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,B);B++},B=0,j=0;j<u.length;j++)if(A)u.charAt(j)!=="'"||O("'")?I():A=!1;else switch(u.charAt(j)){case"d":S=P("d");break;case"D":N("D",p,g);break;case"o":C=P("o");break;case"w":P("w");break;case"m":E=R();break;case"M":E=D();break;case"y":var q=j;T=!O("y",2),j=q,w=P("y",2);break;case"Y":w=P("Y",2);break;case"J":x=P("J")+.5,c.charAt(B)==="."&&(B++,P("J"));break;case"@":x=P("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":x=P("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":B=c.length;break;case"'":O("'")?I():A=!0;break;default:I()}if(B<c.length)throw f.local.unexpectedText||f.regionalOptions[""].unexpectedText;if(w===-1?w=this.today().year():w<100&&T&&(w+=d===-1?1900:this.today().year()-this.today().year()%100-(w<=d?0:100)),typeof E=="string"&&(E=m.call(this,w,E)),C>-1){E=1,S=C;for(var et=this.daysInMonth(w,E);S>et;et=this.daysInMonth(w,E))E++,S-=et}return x>-1?this.fromJD(x):this.newDate(w,E,S)},determineDate:function(u,c,h,d,p){h&&typeof h!="object"&&(p=d,d=h,h=null),typeof d!="string"&&(p=d,d="");var g=this;return c=c?c.newDate():null,u==null?c:typeof u=="string"?function(m){try{return g.parseDate(d,m,p)}catch{}for(var v=((m=m.toLowerCase()).match(/^c/)&&h?h.newDate():null)||g.today(),y=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,_=y.exec(m);_;)v.add(parseInt(_[1],10),_[2]||"d"),_=y.exec(m);return v}(u):typeof u=="number"?isNaN(u)||u===1/0||u===-1/0?c:g.today().add(u,"d"):g.newDate(u)}})}},r={};function i(a){var s=r[a];if(s!==void 0)return s.exports;var o=r[a]={exports:{}};return n[a].call(o.exports,o,o.exports,i),o.exports}return i.d=function(a,s){for(var o in s)i.o(s,o)&&!i.o(a,o)&&Object.defineProperty(a,o,{enumerable:!0,get:s[o]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i(2576)}()})})(oD);var vpt=oD.exports;const jpt=Flt(vpt);export{Gpt as A,Wq as B,Dl as C,_pt as D,bpt as E,PS as F,Rpt as G,xpt as H,wpt as I,UX as J,Ppt as M,Dpt as O,eM as P,rE as S,kpt as T,Apt as V,Npt as W,ypt as a,Ept as b,zpt as c,Uq as d,IM as e,ki as f,Yq as g,V8 as h,Ipt as i,Fpt as j,Uc as k,Bpt as l,Tpt as m,AM as n,Xb as o,go as p,jpt as q,eq as r,GW as s,qnt as t,iq as u,gR as v,q$ as w,L$ as x,P$ as y,zg as z};
