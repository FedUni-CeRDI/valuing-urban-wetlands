import{g as Mo}from"./lodash-ebdeb6e1.js";var hi={exports:{}};(function(pi,Ao){/*! For license information please see plotly-basic.min.js.LICENSE.txt */(function(da,Dr){pi.exports=Dr()})(self,function(){return function(){var da={8847:function(X,d,t){var f=t(1828),g={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var a in g){var n=a.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");f.addStyleRule(n,g[a])}},8222:function(X,d,t){X.exports=t(2887)},7206:function(X,d,t){X.exports=t(822)},9509:function(X,d,t){X.exports=t(2201)},9548:function(X,d,t){X.exports=t(8729)},1039:function(X,d,t){X.exports=t(4382)},4296:function(X,d,t){X.exports=t(3102)},2576:function(X,d,t){var f=t(9548);f.register([t(7206),t(4201),t(8222),t(1039),t(4296),t(6398),t(9509)]),X.exports=f},4201:function(X,d,t){X.exports=t(8810)},6398:function(X,d,t){X.exports=t(2275)},2884:function(X){X.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},215:function(X,d,t){var f=t(2884),g=t(1940),a=t(5555),n=t(4467).templatedArray;t(4695),X.exports=n("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:g({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:f.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:f.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:g({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(X,d,t){var f=t(1828),g=t(9298),a=t(2605).draw;function n(r){var i=r._fullLayout;f.filterVisible(i.annotations).forEach(function(l){var o=g.getFromId(r,l.xref),c=g.getFromId(r,l.yref),u=g.getRefType(l.xref),h=g.getRefType(l.yref);l._extremes={},u==="range"&&e(l,o),h==="range"&&e(l,c)})}function e(r,i){var l,o=i._id,c=o.charAt(0),u=r[c],h=r["a"+c],y=r[c+"ref"],m=r["a"+c+"ref"],v=r["_"+c+"padplus"],x=r["_"+c+"padminus"],w={x:1,y:-1}[c]*r[c+"shift"],p=3*r.arrowsize*r.arrowwidth||0,b=p+w,T=p-w,A=3*r.startarrowsize*r.arrowwidth||0,P=A+w,k=A-w;if(m===y){var L=g.findExtremes(i,[i.r2c(u)],{ppadplus:b,ppadminus:T}),D=g.findExtremes(i,[i.r2c(h)],{ppadplus:Math.max(v,P),ppadminus:Math.max(x,k)});l={min:[L.min[0],D.min[0]],max:[L.max[0],D.max[0]]}}else P=h?P+h:P,k=h?k-h:k,l=g.findExtremes(i,[i.r2c(u)],{ppadplus:Math.max(v,b,P),ppadminus:Math.max(x,T,k)});r._extremes[o]=l}X.exports=function(r){var i=r._fullLayout;if(f.filterVisible(i.annotations).length&&r._fullData.length)return f.syncOrAsync([a,n],r)}},4317:function(X,d,t){var f=t(1828),g=t(3972),a=t(4467).arrayEditor;function n(r,i){var l,o,c,u,h,y,m,v=r._fullLayout.annotations,x=[],w=[],p=[],b=(i||[]).length;for(l=0;l<v.length;l++)if(u=(c=v[l]).clicktoshow){for(o=0;o<b;o++)if(y=(h=i[o]).xaxis,m=h.yaxis,y._id===c.xref&&m._id===c.yref&&y.d2r(h.x)===e(c._xclick,y)&&m.d2r(h.y)===e(c._yclick,m)){(c.visible?u==="onout"?w:p:x).push(l);break}o===b&&c.visible&&u==="onout"&&w.push(l)}return{on:x,off:w,explicitOff:p}}function e(r,i){return i.type==="log"?i.l2r(r):i.d2r(r)}X.exports={hasClickToShow:function(r,i){var l=n(r,i);return l.on.length>0||l.explicitOff.length>0},onClick:function(r,i){var l,o,c=n(r,i),u=c.on,h=c.off.concat(c.explicitOff),y={},m=r._fullLayout.annotations;if(u.length||h.length){for(l=0;l<u.length;l++)(o=a(r.layout,"annotations",m[u[l]])).modifyItem("visible",!0),f.extendFlat(y,o.getUpdateObj());for(l=0;l<h.length;l++)(o=a(r.layout,"annotations",m[h[l]])).modifyItem("visible",!1),f.extendFlat(y,o.getUpdateObj());return g.call("update",r,{},y)}}}},5625:function(X,d,t){var f=t(1828),g=t(7901);X.exports=function(a,n,e,r){r("opacity");var i=r("bgcolor"),l=r("bordercolor"),o=g.opacity(l);r("borderpad");var c=r("borderwidth"),u=r("showarrow");if(r("text",u?" ":e._dfltTitle.annotation),r("textangle"),f.coerceFont(r,"font",e.font),r("width"),r("align"),r("height")&&r("valign"),u){var h,y,m=r("arrowside");m.indexOf("end")!==-1&&(h=r("arrowhead"),y=r("arrowsize")),m.indexOf("start")!==-1&&(r("startarrowhead",h),r("startarrowsize",y)),r("arrowcolor",o?n.bordercolor:g.defaultLine),r("arrowwidth",2*(o&&c||1)),r("standoff"),r("startstandoff")}var v=r("hovertext"),x=e.hoverlabel||{};if(v){var w=r("hoverlabel.bgcolor",x.bgcolor||(g.opacity(i)?g.rgb(i):g.defaultLine)),p=r("hoverlabel.bordercolor",x.bordercolor||g.contrast(w));f.coerceFont(r,"hoverlabel.font",{family:x.font.family,size:x.font.size,color:x.font.color||p})}r("captureevents",!!v)}},4128:function(X,d,t){var f=t(2770),g=t(8163);X.exports=function(a,n,e,r){n=n||{};var i=e==="log"&&n.type==="linear",l=e==="linear"&&n.type==="log";if(i||l)for(var o,c,u=a._fullLayout.annotations,h=n._id.charAt(0),y=0;y<u.length;y++)o=u[y],c="annotations["+y+"].",o[h+"ref"]===n._id&&m(h),o["a"+h+"ref"]===n._id&&m("a"+h);function m(v){var x=o[v],w=null;w=i?g(x,n.range):Math.pow(10,x),f(w)||(w=null),r(c+v,w)}}},4046:function(X,d,t){var f=t(1828),g=t(9298),a=t(5501),n=t(5625),e=t(215);function r(i,l,o){function c(D,_){return f.coerce(i,l,e,D,_)}var u=c("visible"),h=c("clicktoshow");if(u||h){n(i,l,o,c);for(var y=l.showarrow,m=["x","y"],v=[-10,-30],x={_fullLayout:o},w=0;w<2;w++){var p=m[w],b=g.coerceRef(i,l,x,p,"","paper");if(b!=="paper"&&g.getFromId(x,b)._annIndices.push(l._index),g.coercePosition(l,x,c,b,p,.5),y){var T="a"+p,A=g.coerceRef(i,l,x,T,"pixel",["pixel","paper"]);A!=="pixel"&&A!==b&&(A=l[T]="pixel");var P=A==="pixel"?v[w]:.4;g.coercePosition(l,x,c,A,T,P)}c(p+"anchor"),c(p+"shift")}if(f.noneOrAll(i,l,["x","y"]),y&&f.noneOrAll(i,l,["ax","ay"]),h){var k=c("xclick"),L=c("yclick");l._xclick=k===void 0?l.x:g.cleanPosition(k,x,l.xref),l._yclick=L===void 0?l.y:g.cleanPosition(L,x,l.yref)}}}X.exports=function(i,l){a(i,l,{name:"annotations",handleItemDefaults:r})}},2605:function(X,d,t){var f=t(9898),g=t(3972),a=t(4875),n=t(1828),e=n.strTranslate,r=t(9298),i=t(7901),l=t(1424),o=t(211),c=t(3893),u=t(6964),h=t(8569),y=t(4467).arrayEditor,m=t(3011);function v(p,b){var T=p._fullLayout.annotations[b]||{},A=r.getFromId(p,T.xref),P=r.getFromId(p,T.yref);A&&A.setScale(),P&&P.setScale(),w(p,T,b,!1,A,P)}function x(p,b,T,A,P){var k=P[T],L=P[T+"ref"],D=T.indexOf("y")!==-1,_=r.getRefType(L)==="domain",I=D?A.h:A.w;return p?_?k+(D?-b:b)/p._length:p.p2r(p.r2p(k)+b):k+(D?-b:b)/I}function w(p,b,T,A,P,k){var L,D,_=p._fullLayout,I=p._fullLayout._size,O=p._context.edits;A?(L="annotation-"+A,D=A+".annotations"):(L="annotation",D="annotations");var N=y(p.layout,D,b),G=N.modifyBase,z=N.modifyItem,Y=N.getUpdateObj;_._infolayer.selectAll("."+L+'[data-index="'+T+'"]').remove();var Z="clip"+_._uid+"_ann"+T;if(b._input&&b.visible!==!1){var nt={x:{},y:{}},S=+b.textangle||0,E=_._infolayer.append("g").classed(L,!0).attr("data-index",String(T)).style("opacity",b.opacity),V=E.append("g").classed("annotation-text-g",!0),Q=O[b.showarrow?"annotationTail":"annotationPosition"],tt=b.captureevents||O.annotationText||Q,rt=V.append("g").style("pointer-events",tt?"all":null).call(u,"pointer").on("click",function(){p._dragging=!1,p.emit("plotly_clickannotation",st(f.event))});b.hovertext&&rt.on("mouseover",function(){var Lt=b.hoverlabel,It=Lt.font,it=this.getBoundingClientRect(),ft=p.getBoundingClientRect();o.loneHover({x0:it.left-ft.left,x1:it.right-ft.left,y:(it.top+it.bottom)/2-ft.top,text:b.hovertext,color:Lt.bgcolor,borderColor:Lt.bordercolor,fontFamily:It.family,fontSize:It.size,fontColor:It.color},{container:_._hoverlayer.node(),outerContainer:_._paper.node(),gd:p})}).on("mouseout",function(){o.loneUnhover(_._hoverlayer.node())});var ot=b.borderwidth,H=b.borderpad,F=ot+H,R=rt.append("rect").attr("class","bg").style("stroke-width",ot+"px").call(i.stroke,b.bordercolor).call(i.fill,b.bgcolor),j=b.width||b.height,J=_._topclips.selectAll("#"+Z).data(j?[0]:[]);J.enter().append("clipPath").classed("annclip",!0).attr("id",Z).append("rect"),J.exit().remove();var q=b.font,$=_._meta?n.templateString(b.text,_._meta):b.text,et=rt.append("text").classed("annotation-text",!0).text($);O.annotationText?et.call(c.makeEditable,{delegate:rt,gd:p}).call(yt).on("edit",function(Lt){b.text=Lt,this.call(yt),z("text",Lt),P&&P.autorange&&G(P._name+".autorange",!0),k&&k.autorange&&G(k._name+".autorange",!0),g.call("_guiRelayout",p,Y())}):et.call(yt)}else f.selectAll("#"+Z).remove();function st(Lt){var It={index:T,annotation:b._input,fullAnnotation:b,event:Lt};return A&&(It.subplotId=A),It}function yt(Lt){return Lt.call(l.font,q).attr({"text-anchor":{left:"start",right:"end"}[b.align]||"middle"}),c.convertToTspans(Lt,p,St),Lt}function St(){var Lt=et.selectAll("a");Lt.size()===1&&Lt.text()===et.text()&&rt.insert("a",":first-child").attr({"xlink:xlink:href":Lt.attr("xlink:href"),"xlink:xlink:show":Lt.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(R.node());var It=rt.select(".annotation-text-math-group"),it=!It.empty(),ft=l.bBox((it?It:et).node()),dt=ft.width,xt=ft.height,Pt=b.width||dt,Ct=b.height||xt,lt=Math.round(Pt+2*F),ht=Math.round(Ct+2*F);function vt(Ht,Zt){return Zt==="auto"&&(Zt=Ht<.3333333333333333?"left":Ht>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Zt]}for(var gt=!1,mt=["x","y"],Tt=0;Tt<mt.length;Tt++){var kt,_t,At,Mt,Rt,Yt=mt[Tt],zt=b[Yt+"ref"]||Yt,Xt=b["a"+Yt+"ref"],Kt={x:P,y:k}[Yt],se=(S+(Yt==="x"?0:-90))*Math.PI/180,de=lt*Math.cos(se),xe=ht*Math.sin(se),Dt=Math.abs(de)+Math.abs(xe),wt=b[Yt+"anchor"],Ut=b[Yt+"shift"]*(Yt==="x"?1:-1),Wt=nt[Yt],me=r.getRefType(zt);if(Kt&&me!=="domain"){var Vt=Kt.r2fraction(b[Yt]);(Vt<0||Vt>1)&&(Xt===zt?((Vt=Kt.r2fraction(b["a"+Yt]))<0||Vt>1)&&(gt=!0):gt=!0),kt=Kt._offset+Kt.r2p(b[Yt]),Mt=.5}else{var ne=me==="domain";Yt==="x"?(At=b[Yt],kt=ne?Kt._offset+Kt._length*At:kt=I.l+I.w*At):(At=1-b[Yt],kt=ne?Kt._offset+Kt._length*At:kt=I.t+I.h*At),Mt=b.showarrow?.5:At}if(b.showarrow){Wt.head=kt;var ie=b["a"+Yt];if(Rt=de*vt(.5,b.xanchor)-xe*vt(.5,b.yanchor),Xt===zt){var _e=r.getRefType(Xt);_e==="domain"?(Yt==="y"&&(ie=1-ie),Wt.tail=Kt._offset+Kt._length*ie):_e==="paper"?Yt==="y"?(ie=1-ie,Wt.tail=I.t+I.h*ie):Wt.tail=I.l+I.w*ie:Wt.tail=Kt._offset+Kt.r2p(ie),_t=Rt}else Wt.tail=kt+ie,_t=Rt+ie;Wt.text=Wt.tail+Rt;var he=_[Yt==="x"?"width":"height"];if(zt==="paper"&&(Wt.head=n.constrain(Wt.head,1,he-1)),Xt==="pixel"){var De=-Math.max(Wt.tail-3,Wt.text),fe=Math.min(Wt.tail+3,Wt.text)-he;De>0?(Wt.tail+=De,Wt.text+=De):fe>0&&(Wt.tail-=fe,Wt.text-=fe)}Wt.tail+=Ut,Wt.head+=Ut}else _t=Rt=Dt*vt(Mt,wt),Wt.text=kt+Rt;Wt.text+=Ut,Rt+=Ut,_t+=Ut,b["_"+Yt+"padplus"]=Dt/2+_t,b["_"+Yt+"padminus"]=Dt/2-_t,b["_"+Yt+"size"]=Dt,b["_"+Yt+"shift"]=Rt}if(gt)rt.remove();else{var K=0,at=0;if(b.align!=="left"&&(K=(Pt-dt)*(b.align==="center"?.5:1)),b.valign!=="top"&&(at=(Ct-xt)*(b.valign==="middle"?.5:1)),it)It.select("svg").attr({x:F+K-1,y:F+at}).call(l.setClipUrl,j?Z:null,p);else{var Et=F+at-ft.top,Ot=F+K-ft.left;et.call(c.positionText,Ot,Et).call(l.setClipUrl,j?Z:null,p)}J.select("rect").call(l.setRect,F,F,Pt,Ct),R.call(l.setRect,ot/2,ot/2,lt-ot,ht-ot),rt.call(l.setTranslate,Math.round(nt.x.text-lt/2),Math.round(nt.y.text-ht/2)),V.attr({transform:"rotate("+S+","+nt.x.text+","+nt.y.text+")"});var Bt,Nt=function(Ht,Zt){E.selectAll(".annotation-arrow-g").remove();var Qt=nt.x.head,oe=nt.y.head,qt=nt.x.tail+Ht,Te=nt.y.tail+Zt,Re=nt.x.text+Ht,pe=nt.y.text+Zt,Se=n.rotationXYMatrix(S,Re,pe),Me=n.apply2DTransform(Se),re=n.apply2DTransform2(Se),$t=+R.attr("width"),ve=+R.attr("height"),Ee=Re-.5*$t,Fe=Ee+$t,je=pe-.5*ve,le=je+ve,be=[[Ee,je,Ee,le],[Ee,le,Fe,le],[Fe,le,Fe,je],[Fe,je,Ee,je]].map(re);if(!be.reduce(function(Ge,qe){return Ge^!!n.segmentsIntersect(Qt,oe,Qt+1e6,oe+1e6,qe[0],qe[1],qe[2],qe[3])},!1)){be.forEach(function(Ge){var qe=n.segmentsIntersect(qt,Te,Qt,oe,Ge[0],Ge[1],Ge[2],Ge[3]);qe&&(qt=qe.x,Te=qe.y)});var we=b.arrowwidth,Ce=b.arrowcolor,Le=b.arrowside,Oe=E.append("g").style({opacity:i.opacity(Ce)}).classed("annotation-arrow-g",!0),Ae=Oe.append("path").attr("d","M"+qt+","+Te+"L"+Qt+","+oe).style("stroke-width",we+"px").call(i.stroke,i.rgb(Ce));if(m(Ae,Le,b),O.annotationPosition&&Ae.node().parentNode&&!A){var Ne=Qt,ke=oe;if(b.standoff){var ze=Math.sqrt(Math.pow(Qt-qt,2)+Math.pow(oe-Te,2));Ne+=b.standoff*(qt-Qt)/ze,ke+=b.standoff*(Te-oe)/ze}var Ye,We,Xe=Oe.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(qt-Ne)+","+(Te-ke),transform:e(Ne,ke)}).style("stroke-width",we+6+"px").call(i.stroke,"rgba(0,0,0,0)").call(i.fill,"rgba(0,0,0,0)");h.init({element:Xe.node(),gd:p,prepFn:function(){var Ge=l.getTranslate(rt);Ye=Ge.x,We=Ge.y,P&&P.autorange&&G(P._name+".autorange",!0),k&&k.autorange&&G(k._name+".autorange",!0)},moveFn:function(Ge,qe){var tn=Me(Ye,We),Ue=tn[0]+Ge,Qe=tn[1]+qe;rt.call(l.setTranslate,Ue,Qe),z("x",x(P,Ge,"x",I,b)),z("y",x(k,qe,"y",I,b)),b.axref===b.xref&&z("ax",x(P,Ge,"ax",I,b)),b.ayref===b.yref&&z("ay",x(k,qe,"ay",I,b)),Oe.attr("transform",e(Ge,qe)),V.attr({transform:"rotate("+S+","+Ue+","+Qe+")"})},doneFn:function(){g.call("_guiRelayout",p,Y());var Ge=document.querySelector(".js-notes-box-panel");Ge&&Ge.redraw(Ge.selectedObj)}})}}};b.showarrow&&Nt(0,0),Q&&h.init({element:rt.node(),gd:p,prepFn:function(){Bt=V.attr("transform")},moveFn:function(Ht,Zt){var Qt="pointer";if(b.showarrow)b.axref===b.xref?z("ax",x(P,Ht,"ax",I,b)):z("ax",b.ax+Ht),b.ayref===b.yref?z("ay",x(k,Zt,"ay",I.w,b)):z("ay",b.ay+Zt),Nt(Ht,Zt);else{if(A)return;var oe,qt;if(P)oe=x(P,Ht,"x",I,b);else{var Te=b._xsize/I.w,Re=b.x+(b._xshift-b.xshift)/I.w-Te/2;oe=h.align(Re+Ht/I.w,Te,0,1,b.xanchor)}if(k)qt=x(k,Zt,"y",I,b);else{var pe=b._ysize/I.h,Se=b.y-(b._yshift+b.yshift)/I.h-pe/2;qt=h.align(Se-Zt/I.h,pe,0,1,b.yanchor)}z("x",oe),z("y",qt),P&&k||(Qt=h.getCursor(P?.5:oe,k?.5:qt,b.xanchor,b.yanchor))}V.attr({transform:e(Ht,Zt)+Bt}),u(rt,Qt)},clickFn:function(Ht,Zt){b.captureevents&&p.emit("plotly_clickannotation",st(Zt))},doneFn:function(){u(rt),g.call("_guiRelayout",p,Y());var Ht=document.querySelector(".js-notes-box-panel");Ht&&Ht.redraw(Ht.selectedObj)}})}}}X.exports={draw:function(p){var b=p._fullLayout;b._infolayer.selectAll(".annotation").remove();for(var T=0;T<b.annotations.length;T++)b.annotations[T].visible&&v(p,T);return a.previousPromises(p)},drawOne:v,drawRaw:w}},3011:function(X,d,t){var f=t(9898),g=t(7901),a=t(2884),n=t(1828),e=n.strScale,r=n.strRotate,i=n.strTranslate;X.exports=function(l,o,c){var u,h,y,m,v=l.node(),x=a[c.arrowhead||0],w=a[c.startarrowhead||0],p=(c.arrowwidth||1)*(c.arrowsize||1),b=(c.arrowwidth||1)*(c.startarrowsize||1),T=o.indexOf("start")>=0,A=o.indexOf("end")>=0,P=x.backoff*p+c.standoff,k=w.backoff*b+c.startstandoff;if(v.nodeName==="line"){u={x:+l.attr("x1"),y:+l.attr("y1")},h={x:+l.attr("x2"),y:+l.attr("y2")};var L=u.x-h.x,D=u.y-h.y;if(m=(y=Math.atan2(D,L))+Math.PI,P&&k&&P+k>Math.sqrt(L*L+D*D))return void E();if(P){if(P*P>L*L+D*D)return void E();var _=P*Math.cos(y),I=P*Math.sin(y);h.x+=_,h.y+=I,l.attr({x2:h.x,y2:h.y})}if(k){if(k*k>L*L+D*D)return void E();var O=k*Math.cos(y),N=k*Math.sin(y);u.x-=O,u.y-=N,l.attr({x1:u.x,y1:u.y})}}else if(v.nodeName==="path"){var G=v.getTotalLength(),z="";if(G<P+k)return void E();var Y=v.getPointAtLength(0),Z=v.getPointAtLength(.1);y=Math.atan2(Y.y-Z.y,Y.x-Z.x),u=v.getPointAtLength(Math.min(k,G)),z="0px,"+k+"px,";var nt=v.getPointAtLength(G),S=v.getPointAtLength(G-.1);m=Math.atan2(nt.y-S.y,nt.x-S.x),h=v.getPointAtLength(Math.max(0,G-P)),z+=G-(z?k+P:P)+"px,"+G+"px",l.style("stroke-dasharray",z)}function E(){l.style("stroke-dasharray","0px,100px")}function V(Q,tt,rt,ot){Q.path&&(Q.noRotate&&(rt=0),f.select(v.parentNode).append("path").attr({class:l.attr("class"),d:Q.path,transform:i(tt.x,tt.y)+r(180*rt/Math.PI)+e(ot)}).style({fill:g.rgb(c.arrowcolor),"stroke-width":0}))}T&&V(w,u,y,b),A&&V(x,h,m,p)}},2745:function(X,d,t){var f=t(2605),g=t(4317);X.exports={moduleType:"component",name:"annotations",layoutAttributes:t(215),supplyLayoutDefaults:t(4046),includeBasePlot:t(6325)("annotations"),calcAutorange:t(3749),draw:f.draw,drawOne:f.drawOne,drawRaw:f.drawRaw,hasClickToShow:g.hasClickToShow,onClick:g.onClick,convertCoords:t(4128)}},6997:function(X,d,t){var f=t(215),g=t(962).overrideAll,a=t(4467).templatedArray;X.exports=g(a("annotation",{visible:f.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:f.xanchor,xshift:f.xshift,yanchor:f.yanchor,yshift:f.yshift,text:f.text,textangle:f.textangle,font:f.font,width:f.width,height:f.height,opacity:f.opacity,align:f.align,valign:f.valign,bgcolor:f.bgcolor,bordercolor:f.bordercolor,borderpad:f.borderpad,borderwidth:f.borderwidth,showarrow:f.showarrow,arrowcolor:f.arrowcolor,arrowhead:f.arrowhead,startarrowhead:f.startarrowhead,arrowside:f.arrowside,arrowsize:f.arrowsize,startarrowsize:f.startarrowsize,arrowwidth:f.arrowwidth,standoff:f.standoff,startstandoff:f.startstandoff,hovertext:f.hovertext,hoverlabel:f.hoverlabel,captureevents:f.captureevents}),"calc","from-root")},5485:function(X,d,t){var f=t(1828),g=t(9298);function a(n,e){var r=e.fullSceneLayout.domain,i=e.fullLayout._size,l={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};n._xa={},f.extendFlat(n._xa,l),g.setConvert(n._xa),n._xa._offset=i.l+r.x[0]*i.w,n._xa.l2p=function(){return .5*(1+n._pdata[0]/n._pdata[3])*i.w*(r.x[1]-r.x[0])},n._ya={},f.extendFlat(n._ya,l),g.setConvert(n._ya),n._ya._offset=i.t+(1-r.y[1])*i.h,n._ya.l2p=function(){return .5*(1-n._pdata[1]/n._pdata[3])*i.h*(r.y[1]-r.y[0])}}X.exports=function(n){for(var e=n.fullSceneLayout.annotations,r=0;r<e.length;r++)a(e[r],n);n.fullLayout._infolayer.selectAll(".annotation-"+n.id).remove()}},226:function(X,d,t){var f=t(1828),g=t(9298),a=t(5501),n=t(5625),e=t(6997);function r(i,l,o,c){function u(y,m){return f.coerce(i,l,e,y,m)}function h(y){var m=y+"axis",v={_fullLayout:{}};return v._fullLayout[m]=o[m],g.coercePosition(l,v,u,y,y,.5)}u("visible")&&(n(i,l,c.fullLayout,u),h("x"),h("y"),h("z"),f.noneOrAll(i,l,["x","y","z"]),l.xref="x",l.yref="y",l.zref="z",u("xanchor"),u("yanchor"),u("xshift"),u("yshift"),l.showarrow&&(l.axref="pixel",l.ayref="pixel",u("ax",-10),u("ay",-30),f.noneOrAll(i,l,["ax","ay"])))}X.exports=function(i,l,o){a(i,l,{name:"annotations",handleItemDefaults:r,fullLayout:o.fullLayout})}},2188:function(X,d,t){var f=t(2605).drawRaw,g=t(3538),a=["x","y","z"];X.exports=function(n){for(var e=n.fullSceneLayout,r=n.dataScale,i=e.annotations,l=0;l<i.length;l++){for(var o=i[l],c=!1,u=0;u<3;u++){var h=a[u],y=o[h],m=e[h+"axis"].r2fraction(y);if(m<0||m>1){c=!0;break}}c?n.fullLayout._infolayer.select(".annotation-"+n.id+'[data-index="'+l+'"]').remove():(o._pdata=g(n.glplot.cameraParams,[e.xaxis.r2l(o.x)*r[0],e.yaxis.r2l(o.y)*r[1],e.zaxis.r2l(o.z)*r[2]]),f(n.graphDiv,o,l,n.id,o._xa,o._ya))}}},2468:function(X,d,t){var f=t(3972),g=t(1828);X.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:t(6997)}}},layoutAttributes:t(6997),handleDefaults:t(226),includeBasePlot:function(a,n){var e=f.subplotsRegistry.gl3d;if(e)for(var r=e.attrRegex,i=Object.keys(a),l=0;l<i.length;l++){var o=i[l];r.test(o)&&(a[o].annotations||[]).length&&(g.pushUnique(n._basePlotModules,e),g.pushUnique(n._subplots.gl3d,o))}},convert:t(5485),draw:t(2188)}},7561:function(X,d,t){X.exports=t(3489),t(4338),t(3961),t(8751),t(6825),t(7715),t(9384),t(3805),t(8874),t(3290),t(9108),t(5422),t(4320),t(1320),t(1367),t(1457)},2201:function(X,d,t){var f=t(7561),g=t(1828),a=t(606),n=a.EPOCHJD,e=a.ONEDAY,r={valType:"enumerated",values:g.sortObjectKeys(f.calendars),editType:"calc",dflt:"gregorian"},i=function(p,b,T,A){var P={};return P[T]=r,g.coerce(p,b,P,T,A)},l="##",o={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:l,w:l,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},c={};function u(p){var b=c[p];return b||(c[p]=f.instance(p))}function h(p){return g.extendFlat({},r,{description:p})}function y(p){return"Sets the calendar system to use with `"+p+"` date data."}var m={xcalendar:h(y("x"))},v=g.extendFlat({},m,{ycalendar:h(y("y"))}),x=g.extendFlat({},v,{zcalendar:h(y("z"))}),w=h(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));X.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:v,bar:v,box:v,heatmap:v,contour:v,histogram:v,histogram2d:v,histogram2dcontour:v,scatter3d:x,surface:x,mesh3d:x,scattergl:v,ohlc:m,candlestick:m},layout:{calendar:h(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:w},yaxis:{calendar:w},scene:{xaxis:{calendar:w},yaxis:{calendar:w},zaxis:{calendar:w}},polar:{radialaxis:{calendar:w}}},transforms:{filter:{valuecalendar:h(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:h(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:r,handleDefaults:i,handleTraceDefaults:function(p,b,T,A){for(var P=0;P<T.length;P++)i(p,b,T[P]+"calendar",A.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:u,worldCalFmt:function(p,b,T){for(var A,P,k,L,D,_=Math.floor((b+.05)/e)+n,I=u(T).fromJD(_),O=0;(O=p.indexOf("%",O))!==-1;)(A=p.charAt(O+1))==="0"||A==="-"||A==="_"?(k=3,P=p.charAt(O+2),A==="_"&&(A="-")):(P=A,A="0",k=2),(L=o[P])?(D=L===l?l:I.formatDate(L[A]),p=p.substr(0,O)+D+p.substr(O+k),O+=D.length):O+=k;return p}}},2399:function(X,d){d.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],d.defaultLine="#444",d.lightLine="#eee",d.background="#fff",d.borderLine="#BEC8D9",d.lightFraction=90.9090909090909},7901:function(X,d,t){var f=t(4267),g=t(2770),a=t(3627).isTypedArray,n=X.exports={},e=t(2399);n.defaults=e.defaults;var r=n.defaultLine=e.defaultLine;n.lightLine=e.lightLine;var i=n.background=e.background;function l(o){if(g(o)||typeof o!="string")return o;var c=o.trim();if(c.substr(0,3)!=="rgb")return o;var u=c.match(/^rgba?\s*\(([^()]*)\)$/);if(!u)return o;var h=u[1].trim().split(/\s*[\s,]\s*/),y=c.charAt(3)==="a"&&h.length===4;if(!y&&h.length!==3)return o;for(var m=0;m<h.length;m++){if(!h[m].length||(h[m]=Number(h[m]),!(h[m]>=0)))return o;if(m===3)h[m]>1&&(h[m]=1);else if(h[m]>=1)return o}var v=Math.round(255*h[0])+", "+Math.round(255*h[1])+", "+Math.round(255*h[2]);return y?"rgba("+v+", "+h[3]+")":"rgb("+v+")"}n.tinyRGB=function(o){var c=o.toRgb();return"rgb("+Math.round(c.r)+", "+Math.round(c.g)+", "+Math.round(c.b)+")"},n.rgb=function(o){return n.tinyRGB(f(o))},n.opacity=function(o){return o?f(o).getAlpha():0},n.addOpacity=function(o,c){var u=f(o).toRgb();return"rgba("+Math.round(u.r)+", "+Math.round(u.g)+", "+Math.round(u.b)+", "+c+")"},n.combine=function(o,c){var u=f(o).toRgb();if(u.a===1)return f(o).toRgbString();var h=f(c||i).toRgb(),y=h.a===1?h:{r:255*(1-h.a)+h.r*h.a,g:255*(1-h.a)+h.g*h.a,b:255*(1-h.a)+h.b*h.a},m={r:y.r*(1-u.a)+u.r*u.a,g:y.g*(1-u.a)+u.g*u.a,b:y.b*(1-u.a)+u.b*u.a};return f(m).toRgbString()},n.contrast=function(o,c,u){var h=f(o);return h.getAlpha()!==1&&(h=f(n.combine(o,i))),(h.isDark()?c?h.lighten(c):i:u?h.darken(u):r).toString()},n.stroke=function(o,c){var u=f(c);o.style({stroke:n.tinyRGB(u),"stroke-opacity":u.getAlpha()})},n.fill=function(o,c){var u=f(c);o.style({fill:n.tinyRGB(u),"fill-opacity":u.getAlpha()})},n.clean=function(o){if(o&&typeof o=="object"){var c,u,h,y,m=Object.keys(o);for(c=0;c<m.length;c++)if(y=o[h=m[c]],h.substr(h.length-5)==="color")if(Array.isArray(y))for(u=0;u<y.length;u++)y[u]=l(y[u]);else o[h]=l(y);else if(h.substr(h.length-10)==="colorscale"&&Array.isArray(y))for(u=0;u<y.length;u++)Array.isArray(y[u])&&(y[u][1]=l(y[u][1]));else if(Array.isArray(y)){var v=y[0];if(!Array.isArray(v)&&v&&typeof v=="object")for(u=0;u<y.length;u++)n.clean(y[u])}else y&&typeof y=="object"&&!a(y)&&n.clean(y)}}},3583:function(X,d,t){var f=t(3838),g=t(1940),a=t(1426).extendFlat,n=t(962).overrideAll;X.exports=n({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:f.linecolor,outlinewidth:f.linewidth,bordercolor:f.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:f.minor.tickmode,nticks:f.nticks,tick0:f.tick0,dtick:f.dtick,tickvals:f.tickvals,ticktext:f.ticktext,ticks:a({},f.ticks,{dflt:""}),ticklabeloverflow:a({},f.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:f.ticklen,tickwidth:f.tickwidth,tickcolor:f.tickcolor,ticklabelstep:f.ticklabelstep,showticklabels:f.showticklabels,labelalias:f.labelalias,tickfont:g({}),tickangle:f.tickangle,tickformat:f.tickformat,tickformatstops:f.tickformatstops,tickprefix:f.tickprefix,showtickprefix:f.showtickprefix,ticksuffix:f.ticksuffix,showticksuffix:f.showticksuffix,separatethousands:f.separatethousands,exponentformat:f.exponentformat,minexponent:f.minexponent,showexponent:f.showexponent,title:{text:{valType:"string"},font:g({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:g({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},939:function(X){X.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},2499:function(X,d,t){var f=t(1828),g=t(4467),a=t(6218),n=t(8701),e=t(6115),r=t(9426),i=t(3583);X.exports=function(l,o,c){var u=g.newContainer(o,"colorbar"),h=l.colorbar||{};function y(z,Y){return f.coerce(h,u,i,z,Y)}var m=c.margin||{t:0,b:0,l:0,r:0},v=c.width-m.l-m.r,x=c.height-m.t-m.b,w=y("orientation")==="v",p=y("thicknessmode");y("thickness",p==="fraction"?30/(w?v:x):30);var b=y("lenmode");y("len",b==="fraction"?1:w?x:v);var T,A,P,k=y("yref")==="paper",L=y("xref")==="paper",D="left";w?(P="middle",D=L?"left":"right",T=L?1.02:1,A=.5):(P=k?"bottom":"top",D="center",T=.5,A=k?1.02:1),f.coerce(h,u,{x:{valType:"number",min:L?-2:0,max:L?3:1,dflt:T}},"x"),f.coerce(h,u,{y:{valType:"number",min:k?-2:0,max:k?3:1,dflt:A}},"y"),y("xanchor",D),y("xpad"),y("yanchor",P),y("ypad"),f.noneOrAll(h,u,["x","y"]),y("outlinecolor"),y("outlinewidth"),y("bordercolor"),y("borderwidth"),y("bgcolor");var _=f.coerce(h,u,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:w?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");y("ticklabeloverflow",_.indexOf("inside")!==-1?"hide past domain":"hide past div"),a(h,u,y,"linear");var I=c.font,O={outerTicks:!1,font:I};_.indexOf("inside")!==-1&&(O.bgColor="black"),r(h,u,y,"linear",O),e(h,u,y,"linear",O),n(h,u,y,"linear",O),y("title.text",c._dfltTitle.colorbar);var N=u.showticklabels?u.tickfont:I,G=f.extendFlat({},N,{color:I.color,size:f.bigFont(N.size)});f.coerceFont(y,"title.font",G),y("title.side",w?"top":"right")}},8981:function(X,d,t){var f=t(9898),g=t(4267),a=t(4875),n=t(3972),e=t(9298),r=t(8569),i=t(1828),l=i.strTranslate,o=t(1426).extendFlat,c=t(6964),u=t(1424),h=t(7901),y=t(2998),m=t(3893),v=t(2869).flipScale,x=t(1453),w=t(2830),p=t(3838),b=t(8783),T=b.LINE_SPACING,A=b.FROM_TL,P=b.FROM_BR,k=t(939).cn;X.exports={draw:function(L){var D=L._fullLayout._infolayer.selectAll("g."+k.colorbar).data(function(_){var I,O,N,G,z=_._fullLayout,Y=_.calcdata,Z=[];function nt(j){return o(j,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function S(){typeof G.calc=="function"?G.calc(_,N,I):(I._fillgradient=O.reversescale?v(O.colorscale):O.colorscale,I._zrange=[O[G.min],O[G.max]])}for(var E=0;E<Y.length;E++){var V=Y[E];if((N=V[0].trace)._module){var Q=N._module.colorbar;if(N.visible===!0&&Q)for(var tt=Array.isArray(Q),rt=tt?Q:[Q],ot=0;ot<rt.length;ot++){var H=(G=rt[ot]).container;(O=H?N[H]:N)&&O.showscale&&((I=nt(O.colorbar))._id="cb"+N.uid+(tt&&H?"-"+H:""),I._traceIndex=N.index,I._propPrefix=(H?H+".":"")+"colorbar.",I._meta=N._meta,S(),Z.push(I))}}}for(var F in z._colorAxes)if((O=z[F]).showscale){var R=z._colorAxes[F];(I=nt(O.colorbar))._id="cb"+F,I._propPrefix=F+".colorbar.",I._meta=z._meta,G={min:"cmin",max:"cmax"},R[0]!=="heatmap"&&(N=R[1],G.calc=N._module.colorbar.calc),S(),Z.push(I)}return Z}(L),function(_){return _._id});D.enter().append("g").attr("class",function(_){return _._id}).classed(k.colorbar,!0),D.each(function(_){var I=f.select(this);i.ensureSingle(I,"rect",k.cbbg),i.ensureSingle(I,"g",k.cbfills),i.ensureSingle(I,"g",k.cblines),i.ensureSingle(I,"g",k.cbaxis,function(N){N.classed(k.crisp,!0)}),i.ensureSingle(I,"g",k.cbtitleunshift,function(N){N.append("g").classed(k.cbtitle,!0)}),i.ensureSingle(I,"rect",k.cboutline);var O=function(N,G,z){var Y=G.orientation==="v",Z=G.len,nt=G.lenmode,S=G.thickness,E=G.thicknessmode,V=G.outlinewidth,Q=G.borderwidth,tt=G.bgcolor,rt=G.xanchor,ot=G.yanchor,H=G.xpad,F=G.ypad,R=G.x,j=Y?G.y:1-G.y,J=G.yref==="paper",q=G.xref==="paper",$=z._fullLayout,et=$._size,st=G._fillcolor,yt=G._line,St=G.title,Lt=St.side,It=G._zrange||f.extent((typeof st=="function"?st:yt.color).domain()),it=typeof yt.color=="function"?yt.color:function(){return yt.color},ft=typeof st=="function"?st:function(){return st},dt=G._levels,xt=function(_e,he,De){var fe,K,at=he._levels,Et=[],Ot=[],Bt=at.end+at.size/100,Nt=at.size,Ht=1.001*De[0]-.001*De[1],Zt=1.001*De[1]-.001*De[0];for(K=0;K<1e5&&(fe=at.start+K*Nt,!(Nt>0?fe>=Bt:fe<=Bt));K++)fe>Ht&&fe<Zt&&Et.push(fe);if(he._fillgradient)Ot=[0];else if(typeof he._fillcolor=="function"){var Qt=he._filllevels;if(Qt)for(Bt=Qt.end+Qt.size/100,Nt=Qt.size,K=0;K<1e5&&(fe=Qt.start+K*Nt,!(Nt>0?fe>=Bt:fe<=Bt));K++)fe>De[0]&&fe<De[1]&&Ot.push(fe);else(Ot=Et.map(function(oe){return oe-at.size/2})).push(Ot[Ot.length-1]+at.size)}else he._fillcolor&&typeof he._fillcolor=="string"&&(Ot=[0]);return at.size<0&&(Et.reverse(),Ot.reverse()),{line:Et,fill:Ot}}(0,G,It),Pt=xt.fill,Ct=xt.line,lt=Math.round(S*(E==="fraction"?Y?et.w:et.h:1)),ht=lt/(Y?et.w:et.h),vt=Math.round(Z*(nt==="fraction"?Y?et.h:et.w:1)),gt=vt/(Y?et.h:et.w),mt=q?et.w:z._fullLayout.width,Tt=J?et.h:z._fullLayout.height,kt=Math.round(Y?R*mt+H:j*Tt+F),_t={center:.5,right:1}[rt]||0,At={top:1,middle:.5}[ot]||0,Mt=Y?R-_t*ht:j-At*ht,Rt=Y?j-At*gt:R-_t*gt,Yt=Math.round(Y?Tt*(1-Rt):mt*Rt);G._lenFrac=gt,G._thickFrac=ht,G._uFrac=Mt,G._vFrac=Rt;var zt=G._axis=function(_e,he,De){var fe=_e._fullLayout,K=he.orientation==="v",at={type:"linear",range:De,tickmode:he.tickmode,nticks:he.nticks,tick0:he.tick0,dtick:he.dtick,tickvals:he.tickvals,ticktext:he.ticktext,ticks:he.ticks,ticklen:he.ticklen,tickwidth:he.tickwidth,tickcolor:he.tickcolor,showticklabels:he.showticklabels,labelalias:he.labelalias,ticklabelposition:he.ticklabelposition,ticklabeloverflow:he.ticklabeloverflow,ticklabelstep:he.ticklabelstep,tickfont:he.tickfont,tickangle:he.tickangle,tickformat:he.tickformat,exponentformat:he.exponentformat,minexponent:he.minexponent,separatethousands:he.separatethousands,showexponent:he.showexponent,showtickprefix:he.showtickprefix,tickprefix:he.tickprefix,showticksuffix:he.showticksuffix,ticksuffix:he.ticksuffix,title:he.title,showline:!0,anchor:"free",side:K?"right":"bottom",position:1},Et=K?"y":"x",Ot={type:"linear",_id:Et+he._id},Bt={letter:Et,font:fe.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:fe.calendar};function Nt(Ht,Zt){return i.coerce(at,Ot,p,Ht,Zt)}return x(at,Ot,Nt,Bt,fe),w(at,Ot,Nt,Bt),Ot}(z,G,It);zt.position=ht+(Y?R+H/et.w:j+F/et.h);var Xt=["top","bottom"].indexOf(Lt)!==-1;if(Y&&Xt&&(zt.title.side=Lt,zt.titlex=R+H/et.w,zt.titley=Rt+(St.side==="top"?gt-F/et.h:F/et.h)),Y||Xt||(zt.title.side=Lt,zt.titley=j+F/et.h,zt.titlex=Rt+H/et.w),yt.color&&G.tickmode==="auto"){zt.tickmode="linear",zt.tick0=dt.start;var Kt=dt.size,se=i.constrain(vt/50,4,15)+1,de=(It[1]-It[0])/((G.nticks||se)*Kt);if(de>1){var xe=Math.pow(10,Math.floor(Math.log(de)/Math.LN10));Kt*=xe*i.roundUp(de/xe,[2,5,10]),(Math.abs(dt.start)/dt.size+1e-6)%1<2e-6&&(zt.tick0=0)}zt.dtick=Kt}zt.domain=Y?[Rt+F/et.h,Rt+gt-F/et.h]:[Rt+H/et.w,Rt+gt-H/et.w],zt.setScale(),N.attr("transform",l(Math.round(et.l),Math.round(et.t)));var Dt,wt=N.select("."+k.cbtitleunshift).attr("transform",l(-Math.round(et.l),-Math.round(et.t))),Ut=zt.ticklabelposition,Wt=zt.title.font.size,me=N.select("."+k.cbaxis),Vt=0,ne=0;function ie(_e,he){var De={propContainer:zt,propName:G._propPrefix+"title",traceIndex:G._traceIndex,_meta:G._meta,placeholder:$._dfltTitle.colorbar,containerGroup:N.select("."+k.cbtitle)},fe=_e.charAt(0)==="h"?_e.substr(1):"h"+_e;N.selectAll("."+fe+",."+fe+"-math-group").remove(),y.draw(z,_e,o(De,he||{}))}return i.syncOrAsync([a.previousPromises,function(){var _e,he;(Y&&Xt||!Y&&!Xt)&&(Lt==="top"&&(_e=H+et.l+mt*R,he=F+et.t+Tt*(1-Rt-gt)+3+.75*Wt),Lt==="bottom"&&(_e=H+et.l+mt*R,he=F+et.t+Tt*(1-Rt)-3-.25*Wt),Lt==="right"&&(he=F+et.t+Tt*j+3+.75*Wt,_e=H+et.l+mt*Rt),ie(zt._id+"title",{attributes:{x:_e,y:he,"text-anchor":Y?"start":"middle"}}))},function(){if(!Y&&!Xt||Y&&Xt){var _e,he=N.select("."+k.cbtitle),De=he.select("text"),fe=[-V/2,V/2],K=he.select(".h"+zt._id+"title-math-group").node(),at=15.6;if(De.node()&&(at=parseInt(De.node().style.fontSize,10)*T),K?(_e=u.bBox(K),ne=_e.width,(Vt=_e.height)>at&&(fe[1]-=(Vt-at)/2)):De.node()&&!De.classed(k.jsPlaceholder)&&(_e=u.bBox(De.node()),ne=_e.width,Vt=_e.height),Y){if(Vt){if(Vt+=5,Lt==="top")zt.domain[1]-=Vt/et.h,fe[1]*=-1;else{zt.domain[0]+=Vt/et.h;var Et=m.lineCount(De);fe[1]+=(1-Et)*at}he.attr("transform",l(fe[0],fe[1])),zt.setScale()}}else ne&&(Lt==="right"&&(zt.domain[0]+=(ne+Wt/2)/et.w),he.attr("transform",l(fe[0],fe[1])),zt.setScale())}N.selectAll("."+k.cbfills+",."+k.cblines).attr("transform",Y?l(0,Math.round(et.h*(1-zt.domain[1]))):l(Math.round(et.w*zt.domain[0]),0)),me.attr("transform",Y?l(0,Math.round(-et.t)):l(Math.round(-et.l),0));var Ot=N.select("."+k.cbfills).selectAll("rect."+k.cbfill).attr("style","").data(Pt);Ot.enter().append("rect").classed(k.cbfill,!0).attr("style",""),Ot.exit().remove();var Bt=It.map(zt.c2p).map(Math.round).sort(function(oe,qt){return oe-qt});Ot.each(function(oe,qt){var Te=[qt===0?It[0]:(Pt[qt]+Pt[qt-1])/2,qt===Pt.length-1?It[1]:(Pt[qt]+Pt[qt+1])/2].map(zt.c2p).map(Math.round);Y&&(Te[1]=i.constrain(Te[1]+(Te[1]>Te[0])?1:-1,Bt[0],Bt[1]));var Re=f.select(this).attr(Y?"x":"y",kt).attr(Y?"y":"x",f.min(Te)).attr(Y?"width":"height",Math.max(lt,2)).attr(Y?"height":"width",Math.max(f.max(Te)-f.min(Te),2));if(G._fillgradient)u.gradient(Re,z,G._id,Y?"vertical":"horizontalreversed",G._fillgradient,"fill");else{var pe=ft(oe).replace("e-","");Re.attr("fill",g(pe).toHexString())}});var Nt=N.select("."+k.cblines).selectAll("path."+k.cbline).data(yt.color&&yt.width?Ct:[]);Nt.enter().append("path").classed(k.cbline,!0),Nt.exit().remove(),Nt.each(function(oe){var qt=kt,Te=Math.round(zt.c2p(oe))+yt.width/2%1;f.select(this).attr("d","M"+(Y?qt+","+Te:Te+","+qt)+(Y?"h":"v")+lt).call(u.lineGroupStyle,yt.width,it(oe),yt.dash)}),me.selectAll("g."+zt._id+"tick,path").remove();var Ht=kt+lt+(V||0)/2-(G.ticks==="outside"?1:0),Zt=e.calcTicks(zt),Qt=e.getTickSigns(zt)[2];return e.drawTicks(z,zt,{vals:zt.ticks==="inside"?e.clipEnds(zt,Zt):Zt,layer:me,path:e.makeTickPath(zt,Ht,Qt),transFn:e.makeTransTickFn(zt)}),e.drawLabels(z,zt,{vals:Zt,layer:me,transFn:e.makeTransTickLabelFn(zt),labelFns:e.makeLabelFns(zt,Ht)})},function(){if(Y&&!Xt||!Y&&Xt){var _e,he,De=zt.position||0,fe=zt._offset+zt._length/2;if(Lt==="right")he=fe,_e=et.l+mt*De+10+Wt*(zt.showticklabels?1:.5);else if(_e=fe,Lt==="bottom"&&(he=et.t+Tt*De+10+(Ut.indexOf("inside")===-1?zt.tickfont.size:0)+(zt.ticks!=="intside"&&G.ticklen||0)),Lt==="top"){var K=St.text.split("<br>").length;he=et.t+Tt*De+10-lt-T*Wt*K}ie((Y?"h":"v")+zt._id+"title",{avoid:{selection:f.select(z).selectAll("g."+zt._id+"tick"),side:Lt,offsetTop:Y?0:et.t,offsetLeft:Y?et.l:0,maxShift:Y?$.width:$.height},attributes:{x:_e,y:he,"text-anchor":"middle"},transform:{rotate:Y?-90:0,offset:0}})}},a.previousPromises,function(){var _e,he=lt+V/2;Ut.indexOf("inside")===-1&&(_e=u.bBox(me.node()),he+=Y?_e.width:_e.height),Dt=wt.select("text");var De=0,fe=Y&&Lt==="top",K=!Y&&Lt==="right",at=0;if(Dt.node()&&!Dt.classed(k.jsPlaceholder)){var Et,Ot=wt.select(".h"+zt._id+"title-math-group").node();Ot&&(Y&&Xt||!Y&&!Xt)?(De=(_e=u.bBox(Ot)).width,Et=_e.height):(De=(_e=u.bBox(wt.node())).right-et.l-(Y?kt:Yt),Et=_e.bottom-et.t-(Y?Yt:kt),Y||Lt!=="top"||(he+=_e.height,at=_e.height)),K&&(Dt.attr("transform",l(De/2+Wt/2,0)),De*=2),he=Math.max(he,Y?De:Et)}var Bt=2*(Y?H:F)+he+Q+V/2,Nt=0;!Y&&St.text&&ot==="bottom"&&j<=0&&(Bt+=Nt=Bt/2,at+=Nt),$._hColorbarMoveTitle=Nt,$._hColorbarMoveCBTitle=at;var Ht=Q+V,Zt=(Y?kt:Yt)-Ht/2-(Y?H:0),Qt=(Y?Yt:kt)-(Y?vt:F+at-Nt);N.select("."+k.cbbg).attr("x",Zt).attr("y",Qt).attr(Y?"width":"height",Math.max(Bt-Nt,2)).attr(Y?"height":"width",Math.max(vt+Ht,2)).call(h.fill,tt).call(h.stroke,G.bordercolor).style("stroke-width",Q);var oe=K?Math.max(De-10,0):0;N.selectAll("."+k.cboutline).attr("x",(Y?kt:Yt+H)+oe).attr("y",(Y?Yt+F-vt:kt)+(fe?Vt:0)).attr(Y?"width":"height",Math.max(lt,2)).attr(Y?"height":"width",Math.max(vt-(Y?2*F+Vt:2*H+oe),2)).call(h.stroke,G.outlinecolor).style({fill:"none","stroke-width":V});var qt=Y?_t*Bt:0,Te=Y?0:(1-At)*Bt-at;if(qt=q?et.l-qt:-qt,Te=J?et.t-Te:-Te,N.attr("transform",l(qt,Te)),!Y&&(Q||g(tt).getAlpha()&&!g.equals($.paper_bgcolor,tt))){var Re=me.selectAll("text"),pe=Re[0].length,Se=N.select("."+k.cbbg).node(),Me=u.bBox(Se),re=u.getTranslate(N);Re.each(function(Le,Oe){var Ae=pe-1;if(Oe===0||Oe===Ae){var Ne,ke=u.bBox(this),ze=u.getTranslate(this);if(Oe===Ae){var Ye=ke.right+ze.x;(Ne=Me.right+re.x+Yt-Q-2+R-Ye)>0&&(Ne=0)}else if(Oe===0){var We=ke.left+ze.x;(Ne=Me.left+re.x+Yt+Q+2-We)<0&&(Ne=0)}Ne&&(pe<3?this.setAttribute("transform","translate("+Ne+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var $t={},ve=A[rt],Ee=P[rt],Fe=A[ot],je=P[ot],le=Bt-lt;Y?(nt==="pixels"?($t.y=j,$t.t=vt*Fe,$t.b=vt*je):($t.t=$t.b=0,$t.yt=j+Z*Fe,$t.yb=j-Z*je),E==="pixels"?($t.x=R,$t.l=Bt*ve,$t.r=Bt*Ee):($t.l=le*ve,$t.r=le*Ee,$t.xl=R-S*ve,$t.xr=R+S*Ee)):(nt==="pixels"?($t.x=R,$t.l=vt*ve,$t.r=vt*Ee):($t.l=$t.r=0,$t.xl=R+Z*ve,$t.xr=R-Z*Ee),E==="pixels"?($t.y=1-j,$t.t=Bt*Fe,$t.b=Bt*je):($t.t=le*Fe,$t.b=le*je,$t.yt=j-S*Fe,$t.yb=j+S*je));var be=G.y<.5?"b":"t",we=G.x<.5?"l":"r";z._fullLayout._reservedMargin[G._id]={};var Ce={r:$.width-Zt-qt,l:Zt+$t.r,b:$.height-Qt-Te,t:Qt+$t.b};q&&J?a.autoMargin(z,G._id,$t):q?z._fullLayout._reservedMargin[G._id][be]=Ce[be]:J||Y?z._fullLayout._reservedMargin[G._id][we]=Ce[we]:z._fullLayout._reservedMargin[G._id][be]=Ce[be]}],z)}(I,_,L);O&&O.then&&(L._promises||[]).push(O),L._context.edits.colorbarPosition&&function(N,G,z){var Y,Z,nt,S=G.orientation==="v",E=z._fullLayout._size;r.init({element:N.node(),gd:z,prepFn:function(){Y=N.attr("transform"),c(N)},moveFn:function(V,Q){N.attr("transform",Y+l(V,Q)),Z=r.align((S?G._uFrac:G._vFrac)+V/E.w,S?G._thickFrac:G._lenFrac,0,1,G.xanchor),nt=r.align((S?G._vFrac:1-G._uFrac)-Q/E.h,S?G._lenFrac:G._thickFrac,0,1,G.yanchor);var tt=r.getCursor(Z,nt,G.xanchor,G.yanchor);c(N,tt)},doneFn:function(){if(c(N),Z!==void 0&&nt!==void 0){var V={};V[G._propPrefix+"x"]=Z,V[G._propPrefix+"y"]=nt,G._traceIndex!==void 0?n.call("_guiRestyle",z,V,G._traceIndex):n.call("_guiRelayout",z,V)}}})}(I,_,L)}),D.exit().each(function(_){a.autoMargin(L,_._id)}).remove(),D.order()}}},6228:function(X,d,t){var f=t(1828);X.exports=function(g){return f.isPlainObject(g.colorbar)}},2311:function(X,d,t){X.exports={moduleType:"component",name:"colorbar",attributes:t(3583),supplyDefaults:t(2499),draw:t(8981).draw,hasColorbar:t(6228)}},693:function(X,d,t){var f=t(3583),g=t(587).counter,a=t(8607),n=t(3282).scales;function e(r){return"`"+r+"`"}a(n),X.exports=function(r,i){r=r||"";var l,o=(i=i||{}).cLetter||"c",c=("onlyIfNumerical"in i&&i.onlyIfNumerical,"noScale"in i?i.noScale:r==="marker.line"),u="showScaleDflt"in i?i.showScaleDflt:o==="z",h=typeof i.colorscaleDflt=="string"?n[i.colorscaleDflt]:null,y=i.editTypeOverride||"",m=r?r+".":"";"colorAttr"in i?(l=i.colorAttr,i.colorAttr):e(m+(l={z:"z",c:"color"}[o]));var v=o+"auto",x=o+"min",w=o+"max",p=o+"mid",b={};b[x]=b[w]=void 0;var T={};T[v]=!1;var A={};return l==="color"&&(A.color={valType:"color",arrayOk:!0,editType:y||"style"},i.anim&&(A.color.anim=!0)),A[v]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:b},A[x]={valType:"number",dflt:null,editType:y||"plot",impliedEdits:T},A[w]={valType:"number",dflt:null,editType:y||"plot",impliedEdits:T},A[p]={valType:"number",dflt:null,editType:"calc",impliedEdits:b},A.colorscale={valType:"colorscale",editType:"calc",dflt:h,impliedEdits:{autocolorscale:!1}},A.autocolorscale={valType:"boolean",dflt:i.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},A.reversescale={valType:"boolean",dflt:!1,editType:"plot"},c||(A.showscale={valType:"boolean",dflt:u,editType:"calc"},A.colorbar=f),i.noColorAxis||(A.coloraxis={valType:"subplotid",regex:g("coloraxis"),dflt:null,editType:"calc"}),A}},8803:function(X,d,t){var f=t(2770),g=t(1828),a=t(2869).extractOpts;X.exports=function(n,e,r){var i,l=n._fullLayout,o=r.vals,c=r.containerStr,u=c?g.nestedProperty(e,c).get():e,h=a(u),y=h.auto!==!1,m=h.min,v=h.max,x=h.mid,w=function(){return g.aggNums(Math.min,null,o)},p=function(){return g.aggNums(Math.max,null,o)};m===void 0?m=w():y&&(m=u._colorAx&&f(m)?Math.min(m,w()):w()),v===void 0?v=p():y&&(v=u._colorAx&&f(v)?Math.max(v,p()):p()),y&&x!==void 0&&(v-x>x-m?m=x-(v-x):v-x<x-m&&(v=x+(x-m))),m===v&&(m-=.5,v+=.5),h._sync("min",m),h._sync("max",v),h.autocolorscale&&(i=m*v<0?l.colorscale.diverging:m>=0?l.colorscale.sequential:l.colorscale.sequentialminus,h._sync("colorscale",i))}},3046:function(X,d,t){var f=t(1828),g=t(2869).hasColorscale,a=t(2869).extractOpts;X.exports=function(n,e){function r(y,m){var v=y["_"+m];v!==void 0&&(y[m]=v)}function i(y,m){var v=m.container?f.nestedProperty(y,m.container).get():y;if(v)if(v.coloraxis)v._colorAx=e[v.coloraxis];else{var x=a(v),w=x.auto;(w||x.min===void 0)&&r(v,m.min),(w||x.max===void 0)&&r(v,m.max),x.autocolorscale&&r(v,"colorscale")}}for(var l=0;l<n.length;l++){var o=n[l],c=o._module.colorbar;if(c)if(Array.isArray(c))for(var u=0;u<c.length;u++)i(o,c[u]);else i(o,c);g(o,"marker.line")&&i(o,{container:"marker.line",min:"cmin",max:"cmax"})}for(var h in e._colorAxes)i(e[h],{min:"cmin",max:"cmax"})}},1586:function(X,d,t){var f=t(2770),g=t(1828),a=t(6228),n=t(2499),e=t(3282).isValid,r=t(3972).traceIs;function i(l,o){var c=o.slice(0,o.length-1);return o?g.nestedProperty(l,c).get()||{}:l}X.exports=function l(o,c,u,h,y){var m=y.prefix,v=y.cLetter,x="_module"in c,w=i(o,m),p=i(c,m),b=i(c._template||{},m)||{},T=function(){return delete o.coloraxis,delete c.coloraxis,l(o,c,u,h,y)};if(x){var A=u._colorAxes||{},P=h(m+"coloraxis");if(P){var k=r(c,"contour")&&g.nestedProperty(c,"contours.coloring").get()||"heatmap",L=A[P];return void(L?(L[2].push(T),L[0]!==k&&(L[0]=!1,g.warn(["Ignoring coloraxis:",P,"setting","as it is linked to incompatible colorscales."].join(" ")))):A[P]=[k,c,[T]])}}var D=w[v+"min"],_=w[v+"max"],I=f(D)&&f(_)&&D<_;h(m+v+"auto",!I)?h(m+v+"mid"):(h(m+v+"min"),h(m+v+"max"));var O,N,G=w.colorscale,z=b.colorscale;G!==void 0&&(O=!e(G)),z!==void 0&&(O=!e(z)),h(m+"autocolorscale",O),h(m+"colorscale"),h(m+"reversescale"),m!=="marker.line."&&(m&&x&&(N=a(w)),h(m+"showscale",N)&&(m&&b&&(p._template=b),n(w,p,u)))}},2869:function(X,d,t){var f=t(9898),g=t(4267),a=t(2770),n=t(1828),e=t(7901),r=t(3282).isValid,i=["showscale","autocolorscale","colorscale","reversescale","colorbar"],l=["min","max","mid","auto"];function o(m){var v,x,w,p=m._colorAx,b=p||m,T={};for(x=0;x<i.length;x++)T[w=i[x]]=b[w];if(p)for(v="c",x=0;x<l.length;x++)T[w=l[x]]=b["c"+w];else{var A;for(x=0;x<l.length;x++)((A="c"+(w=l[x]))in b||(A="z"+w)in b)&&(T[w]=b[A]);v=A.charAt(0)}return T._sync=function(P,k){var L=l.indexOf(P)!==-1?v+P:P;b[L]=b["_"+L]=k},T}function c(m){for(var v=o(m),x=v.min,w=v.max,p=v.reversescale?u(v.colorscale):v.colorscale,b=p.length,T=new Array(b),A=new Array(b),P=0;P<b;P++){var k=p[P];T[P]=x+k[0]*(w-x),A[P]=k[1]}return{domain:T,range:A}}function u(m){for(var v=m.length,x=new Array(v),w=v-1,p=0;w>=0;w--,p++){var b=m[w];x[p]=[1-b[0],b[1]]}return x}function h(m,v){v=v||{};for(var x=m.domain,w=m.range,p=w.length,b=new Array(p),T=0;T<p;T++){var A=g(w[T]).toRgb();b[T]=[A.r,A.g,A.b,A.a]}var P,k=f.scale.linear().domain(x).range(b).clamp(!0),L=v.noNumericCheck,D=v.returnArray;return(P=L&&D?k:L?function(_){return y(k(_))}:D?function(_){return a(_)?k(_):g(_).isValid()?_:e.defaultLine}:function(_){return a(_)?y(k(_)):g(_).isValid()?_:e.defaultLine}).domain=k.domain,P.range=function(){return w},P}function y(m){var v={r:m[0],g:m[1],b:m[2],a:m[3]};return g(v).toRgbString()}X.exports={hasColorscale:function(m,v,x){var w=v?n.nestedProperty(m,v).get()||{}:m,p=w[x||"color"],b=!1;if(n.isArrayOrTypedArray(p)){for(var T=0;T<p.length;T++)if(a(p[T])){b=!0;break}}return n.isPlainObject(w)&&(b||w.showscale===!0||a(w.cmin)&&a(w.cmax)||r(w.colorscale)||n.isPlainObject(w.colorbar))},extractOpts:o,extractScale:c,flipScale:u,makeColorScaleFunc:h,makeColorScaleFuncFromTrace:function(m,v){return h(c(m),v)}}},1081:function(X,d,t){var f=t(3282),g=t(2869);X.exports={moduleType:"component",name:"colorscale",attributes:t(693),layoutAttributes:t(2673),supplyLayoutDefaults:t(959),handleDefaults:t(1586),crossTraceDefaults:t(3046),calc:t(8803),scales:f.scales,defaultScale:f.defaultScale,getScale:f.get,isValidScale:f.isValid,hasColorscale:g.hasColorscale,extractOpts:g.extractOpts,extractScale:g.extractScale,flipScale:g.flipScale,makeColorScaleFunc:g.makeColorScaleFunc,makeColorScaleFuncFromTrace:g.makeColorScaleFuncFromTrace}},2673:function(X,d,t){var f=t(1426).extendFlat,g=t(693),a=t(3282).scales;X.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:a.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:a.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:a.RdBu,editType:"calc"}},coloraxis:f({_isSubplotObj:!0,editType:"calc"},g("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},959:function(X,d,t){var f=t(1828),g=t(4467),a=t(2673),n=t(1586);X.exports=function(e,r){function i(v,x){return f.coerce(e,r,a,v,x)}i("colorscale.sequential"),i("colorscale.sequentialminus"),i("colorscale.diverging");var l,o,c=r._colorAxes;function u(v,x){return f.coerce(l,o,a.coloraxis,v,x)}for(var h in c){var y=c[h];if(y[0])l=e[h]||{},(o=g.newContainer(r,h,"coloraxis"))._name=h,n(l,o,r,u,{prefix:"",cLetter:"c"});else{for(var m=0;m<y[2].length;m++)y[2][m]();delete r._colorAxes[h]}}}},3282:function(X,d,t){var f=t(4267),g={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},a=g.RdBu;function n(e){var r=0;if(!Array.isArray(e)||e.length<2||!e[0]||!e[e.length-1]||+e[0][0]!=0||+e[e.length-1][0]!=1)return!1;for(var i=0;i<e.length;i++){var l=e[i];if(l.length!==2||+l[0]<r||!f(l[1]).isValid())return!1;r=+l[0]}return!0}X.exports={scales:g,defaultScale:a,get:function(e,r){if(r||(r=a),!e)return r;function i(){try{e=g[e]||JSON.parse(e)}catch{e=r}}return typeof e=="string"&&(i(),typeof e=="string"&&i()),n(e)?e:r},isValid:function(e){return g[e]!==void 0||n(e)}}},2807:function(X){X.exports=function(d,t,f,g,a){var n=(d-f)/(g-f),e=n+t/(g-f),r=(n+e)/2;return a==="left"||a==="bottom"?n:a==="center"||a==="middle"?r:a==="right"||a==="top"?e:n<.6666666666666666-r?n:e>1.3333333333333333-r?e:r}},461:function(X,d,t){var f=t(1828),g=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];X.exports=function(a,n,e,r){return a=e==="left"?0:e==="center"?1:e==="right"?2:f.constrain(Math.floor(3*a),0,2),n=r==="bottom"?0:r==="middle"?1:r==="top"?2:f.constrain(Math.floor(3*n),0,2),g[n][a]}},4505:function(X,d){d.selectMode=function(t){return t==="lasso"||t==="select"},d.drawMode=function(t){return t==="drawclosedpath"||t==="drawopenpath"||t==="drawline"||t==="drawrect"||t==="drawcircle"},d.openMode=function(t){return t==="drawline"||t==="drawopenpath"},d.rectMode=function(t){return t==="select"||t==="drawline"||t==="drawrect"||t==="drawcircle"},d.freeMode=function(t){return t==="lasso"||t==="drawclosedpath"||t==="drawopenpath"},d.selectingOrDrawing=function(t){return d.freeMode(t)||d.rectMode(t)}},8569:function(X,d,t){var f=t(8956),g=t(7035),a=t(8520),n=t(1828).removeElement,e=t(5555),r=X.exports={};r.align=t(2807),r.getCursor=t(461);var i=t(6041);function l(){var c=document.createElement("div");c.className="dragcover";var u=c.style;return u.position="fixed",u.left=0,u.right=0,u.top=0,u.bottom=0,u.zIndex=999999999,u.background="none",document.body.appendChild(c),c}function o(c){return f(c.changedTouches?c.changedTouches[0]:c,document.body)}r.unhover=i.wrapped,r.unhoverRaw=i.raw,r.init=function(c){var u,h,y,m,v,x,w,p,b=c.gd,T=1,A=b._context.doubleClickDelay,P=c.element;b._mouseDownTime||(b._mouseDownTime=0),P.style.pointerEvents="all",P.onmousedown=L,a?(P._ontouchstart&&P.removeEventListener("touchstart",P._ontouchstart),P._ontouchstart=L,P.addEventListener("touchstart",L,{passive:!1})):P.ontouchstart=L;var k=c.clampFn||function(I,O,N){return Math.abs(I)<N&&(I=0),Math.abs(O)<N&&(O=0),[I,O]};function L(I){b._dragged=!1,b._dragging=!0;var O=o(I);u=O[0],h=O[1],w=I.target,x=I,p=I.buttons===2||I.ctrlKey,I.clientX===void 0&&I.clientY===void 0&&(I.clientX=u,I.clientY=h),(y=new Date().getTime())-b._mouseDownTime<A?T+=1:(T=1,b._mouseDownTime=y),c.prepFn&&c.prepFn(I,u,h),g&&!p?(v=l()).style.cursor=window.getComputedStyle(P).cursor:g||(v=document,m=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(P).cursor),document.addEventListener("mouseup",_),document.addEventListener("touchend",_),c.dragmode!==!1&&(I.preventDefault(),document.addEventListener("mousemove",D),document.addEventListener("touchmove",D,{passive:!1}))}function D(I){I.preventDefault();var O=o(I),N=c.minDrag||e.MINDRAG,G=k(O[0]-u,O[1]-h,N),z=G[0],Y=G[1];(z||Y)&&(b._dragged=!0,r.unhover(b,I)),b._dragged&&c.moveFn&&!p&&(b._dragdata={element:P,dx:z,dy:Y},c.moveFn(z,Y))}function _(I){if(delete b._dragdata,c.dragmode!==!1&&(I.preventDefault(),document.removeEventListener("mousemove",D),document.removeEventListener("touchmove",D)),document.removeEventListener("mouseup",_),document.removeEventListener("touchend",_),g?n(v):m&&(v.documentElement.style.cursor=m,m=null),b._dragging){if(b._dragging=!1,new Date().getTime()-b._mouseDownTime>A&&(T=Math.max(T-1,1)),b._dragged)c.doneFn&&c.doneFn();else if(c.clickFn&&c.clickFn(T,x),!p){var O;try{O=new MouseEvent("click",I)}catch{var N=o(I);(O=document.createEvent("MouseEvents")).initMouseEvent("click",I.bubbles,I.cancelable,I.view,I.detail,I.screenX,I.screenY,N[0],N[1],I.ctrlKey,I.altKey,I.shiftKey,I.metaKey,I.button,I.relatedTarget)}w.dispatchEvent(O)}b._dragging=!1,b._dragged=!1}else b._dragged=!1}},r.coverSlip=l},6041:function(X,d,t){var f=t(1086),g=t(9990),a=t(4401).getGraphDiv,n=t(6675),e=X.exports={};e.wrapped=function(r,i,l){(r=a(r))._fullLayout&&g.clear(r._fullLayout._uid+n.HOVERID),e.raw(r,i,l)},e.raw=function(r,i){var l=r._fullLayout,o=r._hoverdata;i||(i={}),i.target&&!r._dragged&&f.triggerHandler(r,"plotly_beforehover",i)===!1||(l._hoverlayer.selectAll("g").remove(),l._hoverlayer.selectAll("line").remove(),l._hoverlayer.selectAll("circle").remove(),r._hoverdata=void 0,i.target&&o&&r.emit("plotly_unhover",{event:i,points:o}))}},9952:function(X,d){d.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},d.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},1424:function(X,d,t){var f=t(9898),g=t(1828),a=g.numberFormat,n=t(2770),e=t(4267),r=t(3972),i=t(7901),l=t(1081),o=g.strTranslate,c=t(3893),u=t(7922),h=t(8783).LINE_SPACING,y=t(7822).DESELECTDIM,m=t(4098),v=t(9984),x=t(3469).appendArrayPointValue,w=X.exports={};function p(it,ft,dt){var xt=ft.fillpattern,Pt=xt&&w.getPatternAttr(xt.shape,0,"");if(Pt){var Ct=w.getPatternAttr(xt.bgcolor,0,null),lt=w.getPatternAttr(xt.fgcolor,0,null),ht=xt.fgopacity,vt=w.getPatternAttr(xt.size,0,8),gt=w.getPatternAttr(xt.solidity,0,.3),mt=ft.uid;w.pattern(it,"point",dt,mt,Pt,vt,gt,void 0,xt.fillmode,Ct,lt,ht)}else ft.fillcolor&&it.call(i.fill,ft.fillcolor)}w.font=function(it,ft,dt,xt){g.isPlainObject(ft)&&(xt=ft.color,dt=ft.size,ft=ft.family),ft&&it.style("font-family",ft),dt+1&&it.style("font-size",dt+"px"),xt&&it.call(i.fill,xt)},w.setPosition=function(it,ft,dt){it.attr("x",ft).attr("y",dt)},w.setSize=function(it,ft,dt){it.attr("width",ft).attr("height",dt)},w.setRect=function(it,ft,dt,xt,Pt){it.call(w.setPosition,ft,dt).call(w.setSize,xt,Pt)},w.translatePoint=function(it,ft,dt,xt){var Pt=dt.c2p(it.x),Ct=xt.c2p(it.y);return!!(n(Pt)&&n(Ct)&&ft.node())&&(ft.node().nodeName==="text"?ft.attr("x",Pt).attr("y",Ct):ft.attr("transform",o(Pt,Ct)),!0)},w.translatePoints=function(it,ft,dt){it.each(function(xt){var Pt=f.select(this);w.translatePoint(xt,Pt,ft,dt)})},w.hideOutsideRangePoint=function(it,ft,dt,xt,Pt,Ct){ft.attr("display",dt.isPtWithinRange(it,Pt)&&xt.isPtWithinRange(it,Ct)?null:"none")},w.hideOutsideRangePoints=function(it,ft){if(ft._hasClipOnAxisFalse){var dt=ft.xaxis,xt=ft.yaxis;it.each(function(Pt){var Ct=Pt[0].trace,lt=Ct.xcalendar,ht=Ct.ycalendar,vt=r.traceIs(Ct,"bar-like")?".bartext":".point,.textpoint";it.selectAll(vt).each(function(gt){w.hideOutsideRangePoint(gt,f.select(this),dt,xt,lt,ht)})})}},w.crispRound=function(it,ft,dt){return ft&&n(ft)?it._context.staticPlot?ft:ft<1?1:Math.round(ft):dt||0},w.singleLineStyle=function(it,ft,dt,xt,Pt){ft.style("fill","none");var Ct=(((it||[])[0]||{}).trace||{}).line||{},lt=dt||Ct.width||0,ht=Pt||Ct.dash||"";i.stroke(ft,xt||Ct.color),w.dashLine(ft,ht,lt)},w.lineGroupStyle=function(it,ft,dt,xt){it.style("fill","none").each(function(Pt){var Ct=(((Pt||[])[0]||{}).trace||{}).line||{},lt=ft||Ct.width||0,ht=xt||Ct.dash||"";f.select(this).call(i.stroke,dt||Ct.color).call(w.dashLine,ht,lt)})},w.dashLine=function(it,ft,dt){dt=+dt||0,ft=w.dashStyle(ft,dt),it.style({"stroke-dasharray":ft,"stroke-width":dt+"px"})},w.dashStyle=function(it,ft){ft=+ft||1;var dt=Math.max(ft,3);return it==="solid"?it="":it==="dot"?it=dt+"px,"+dt+"px":it==="dash"?it=3*dt+"px,"+3*dt+"px":it==="longdash"?it=5*dt+"px,"+5*dt+"px":it==="dashdot"?it=3*dt+"px,"+dt+"px,"+dt+"px,"+dt+"px":it==="longdashdot"&&(it=5*dt+"px,"+2*dt+"px,"+dt+"px,"+2*dt+"px"),it},w.singleFillStyle=function(it,ft){var dt=f.select(it.node());p(it,((dt.data()[0]||[])[0]||{}).trace||{},ft)},w.fillGroupStyle=function(it,ft){it.style("stroke-width",0).each(function(dt){var xt=f.select(this);dt[0].trace&&p(xt,dt[0].trace,ft)})};var b=t(998);w.symbolNames=[],w.symbolFuncs=[],w.symbolBackOffs=[],w.symbolNeedLines={},w.symbolNoDot={},w.symbolNoFill={},w.symbolList=[],Object.keys(b).forEach(function(it){var ft=b[it],dt=ft.n;w.symbolList.push(dt,String(dt),it,dt+100,String(dt+100),it+"-open"),w.symbolNames[dt]=it,w.symbolFuncs[dt]=ft.f,w.symbolBackOffs[dt]=ft.backoff||0,ft.needLine&&(w.symbolNeedLines[dt]=!0),ft.noDot?w.symbolNoDot[dt]=!0:w.symbolList.push(dt+200,String(dt+200),it+"-dot",dt+300,String(dt+300),it+"-open-dot"),ft.noFill&&(w.symbolNoFill[dt]=!0)});var T=w.symbolNames.length;function A(it,ft,dt,xt){var Pt=it%100;return w.symbolFuncs[Pt](ft,dt,xt)+(it>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}w.symbolNumber=function(it){if(n(it))it=+it;else if(typeof it=="string"){var ft=0;it.indexOf("-open")>0&&(ft=100,it=it.replace("-open","")),it.indexOf("-dot")>0&&(ft+=200,it=it.replace("-dot","")),(it=w.symbolNames.indexOf(it))>=0&&(it+=ft)}return it%100>=T||it>=400?0:Math.floor(Math.max(it,0))};var P={x1:1,x2:0,y1:0,y2:0},k={x1:0,x2:0,y1:1,y2:0},L=a("~f"),D={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:P},horizontalreversed:{node:"linearGradient",attrs:P,reversed:!0},vertical:{node:"linearGradient",attrs:k},verticalreversed:{node:"linearGradient",attrs:k,reversed:!0}};w.gradient=function(it,ft,dt,xt,Pt,Ct){for(var lt=Pt.length,ht=D[xt],vt=new Array(lt),gt=0;gt<lt;gt++)ht.reversed?vt[lt-1-gt]=[L(100*(1-Pt[gt][0])),Pt[gt][1]]:vt[gt]=[L(100*Pt[gt][0]),Pt[gt][1]];var mt=ft._fullLayout,Tt="g"+mt._uid+"-"+dt,kt=mt._defs.select(".gradients").selectAll("#"+Tt).data([xt+vt.join(";")],g.identity);kt.exit().remove(),kt.enter().append(ht.node).each(function(){var _t=f.select(this);ht.attrs&&_t.attr(ht.attrs),_t.attr("id",Tt);var At=_t.selectAll("stop").data(vt);At.exit().remove(),At.enter().append("stop"),At.each(function(Mt){var Rt=e(Mt[1]);f.select(this).attr({offset:Mt[0]+"%","stop-color":i.tinyRGB(Rt),"stop-opacity":Rt.getAlpha()})})}),it.style(Ct,rt(Tt,ft)).style(Ct+"-opacity",null),it.classed("gradient_filled",!0)},w.pattern=function(it,ft,dt,xt,Pt,Ct,lt,ht,vt,gt,mt,Tt){var kt=ft==="legend";ht&&(vt==="overlay"?(gt=ht,mt=i.contrast(gt)):(gt=void 0,mt=ht));var _t,At,Mt,Rt,Yt,zt,Xt,Kt,se,de=dt._fullLayout,xe="p"+de._uid+"-"+xt,Dt={},wt=e(mt),Ut=i.tinyRGB(wt),Wt=Tt*wt.getAlpha();switch(Pt){case"/":_t=Ct*Math.sqrt(2),At=Ct*Math.sqrt(2),zt="path",Dt={d:Mt="M-"+_t/4+","+At/4+"l"+_t/2+",-"+At/2+"M0,"+At+"L"+_t+",0M"+_t/4*3+","+At/4*5+"l"+_t/2+",-"+At/2,opacity:Wt,stroke:Ut,"stroke-width":(Rt=lt*Ct)+"px"};break;case"\\":_t=Ct*Math.sqrt(2),At=Ct*Math.sqrt(2),zt="path",Dt={d:Mt="M"+_t/4*3+",-"+At/4+"l"+_t/2+","+At/2+"M0,0L"+_t+","+At+"M-"+_t/4+","+At/4*3+"l"+_t/2+","+At/2,opacity:Wt,stroke:Ut,"stroke-width":(Rt=lt*Ct)+"px"};break;case"x":_t=Ct*Math.sqrt(2),At=Ct*Math.sqrt(2),Mt="M-"+_t/4+","+At/4+"l"+_t/2+",-"+At/2+"M0,"+At+"L"+_t+",0M"+_t/4*3+","+At/4*5+"l"+_t/2+",-"+At/2+"M"+_t/4*3+",-"+At/4+"l"+_t/2+","+At/2+"M0,0L"+_t+","+At+"M-"+_t/4+","+At/4*3+"l"+_t/2+","+At/2,Rt=Ct-Ct*Math.sqrt(1-lt),zt="path",Dt={d:Mt,opacity:Wt,stroke:Ut,"stroke-width":Rt+"px"};break;case"|":zt="path",zt="path",Dt={d:Mt="M"+(_t=Ct)/2+",0L"+_t/2+","+(At=Ct),opacity:Wt,stroke:Ut,"stroke-width":(Rt=lt*Ct)+"px"};break;case"-":zt="path",zt="path",Dt={d:Mt="M0,"+(At=Ct)/2+"L"+(_t=Ct)+","+At/2,opacity:Wt,stroke:Ut,"stroke-width":(Rt=lt*Ct)+"px"};break;case"+":zt="path",Mt="M"+(_t=Ct)/2+",0L"+_t/2+","+(At=Ct)+"M0,"+At/2+"L"+_t+","+At/2,Rt=Ct-Ct*Math.sqrt(1-lt),zt="path",Dt={d:Mt,opacity:Wt,stroke:Ut,"stroke-width":Rt+"px"};break;case".":_t=Ct,At=Ct,lt<Math.PI/4?Yt=Math.sqrt(lt*Ct*Ct/Math.PI):(Xt=lt,Kt=Math.PI/4,Yt=(se=Ct/2)+(Ct/Math.sqrt(2)-se)*(Xt-Kt)/(1-Kt)),zt="circle",Dt={cx:_t/2,cy:At/2,r:Yt,opacity:Wt,fill:Ut}}var me=[Pt||"noSh",gt||"noBg",mt||"noFg",Ct,lt].join(";"),Vt=de._defs.select(".patterns").selectAll("#"+xe).data([me],g.identity);Vt.exit().remove(),Vt.enter().append("pattern").each(function(){var ne=f.select(this);if(ne.attr({id:xe,width:_t+"px",height:At+"px",patternUnits:"userSpaceOnUse",patternTransform:kt?"scale(0.8)":""}),gt){var ie=e(gt),_e=i.tinyRGB(ie),he=ie.getAlpha(),De=ne.selectAll("rect").data([0]);De.exit().remove(),De.enter().append("rect").attr({width:_t+"px",height:At+"px",fill:_e,"fill-opacity":he})}var fe=ne.selectAll(zt).data([0]);fe.exit().remove(),fe.enter().append(zt).attr(Dt)}),it.style("fill",rt(xe,dt)).style("fill-opacity",null),it.classed("pattern_filled",!0)},w.initGradients=function(it){var ft=it._fullLayout;g.ensureSingle(ft._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),f.select(it).selectAll(".gradient_filled").classed("gradient_filled",!1)},w.initPatterns=function(it){var ft=it._fullLayout;g.ensureSingle(ft._defs,"g","patterns").selectAll("pattern").remove(),f.select(it).selectAll(".pattern_filled").classed("pattern_filled",!1)},w.getPatternAttr=function(it,ft,dt){return it&&g.isArrayOrTypedArray(it)?ft<it.length?it[ft]:dt:it},w.pointStyle=function(it,ft,dt,xt){if(it.size()){var Pt=w.makePointStyleFns(ft);it.each(function(Ct){w.singlePointStyle(Ct,f.select(this),ft,Pt,dt,xt)})}},w.singlePointStyle=function(it,ft,dt,xt,Pt,Ct){var lt=dt.marker,ht=lt.line;if(Ct&&Ct.i>=0&&it.i===void 0&&(it.i=Ct.i),ft.style("opacity",xt.selectedOpacityFn?xt.selectedOpacityFn(it):it.mo===void 0?lt.opacity:it.mo),xt.ms2mrc){var vt;vt=it.ms==="various"||lt.size==="various"?3:xt.ms2mrc(it.ms),it.mrc=vt,xt.selectedSizeFn&&(vt=it.mrc=xt.selectedSizeFn(it));var gt=w.symbolNumber(it.mx||lt.symbol)||0;it.om=gt%200>=100;var mt=It(it,dt),Tt=F(it,dt);ft.attr("d",A(gt,vt,mt,Tt))}var kt,_t,At,Mt=!1;if(it.so)At=ht.outlierwidth,_t=ht.outliercolor,kt=lt.outliercolor;else{var Rt=(ht||{}).width;At=(it.mlw+1||Rt+1||(it.trace?(it.trace.marker.line||{}).width:0)+1)-1||0,_t="mlc"in it?it.mlcc=xt.lineScale(it.mlc):g.isArrayOrTypedArray(ht.color)?i.defaultLine:ht.color,g.isArrayOrTypedArray(lt.color)&&(kt=i.defaultLine,Mt=!0),kt="mc"in it?it.mcc=xt.markerScale(it.mc):lt.color||lt.colors||"rgba(0,0,0,0)",xt.selectedColorFn&&(kt=xt.selectedColorFn(it))}if(it.om)ft.call(i.stroke,kt).style({"stroke-width":(At||1)+"px",fill:"none"});else{ft.style("stroke-width",(it.isBlank?0:At)+"px");var Yt=lt.gradient,zt=it.mgt;zt?Mt=!0:zt=Yt&&Yt.type,g.isArrayOrTypedArray(zt)&&(zt=zt[0],D[zt]||(zt=0));var Xt=lt.pattern,Kt=Xt&&w.getPatternAttr(Xt.shape,it.i,"");if(zt&&zt!=="none"){var se=it.mgc;se?Mt=!0:se=Yt.color;var de=dt.uid;Mt&&(de+="-"+it.i),w.gradient(ft,Pt,de,zt,[[0,se],[1,kt]],"fill")}else if(Kt){var xe=!1,Dt=Xt.fgcolor;!Dt&&Ct&&Ct.color&&(Dt=Ct.color,xe=!0);var wt=w.getPatternAttr(Dt,it.i,Ct&&Ct.color||null),Ut=w.getPatternAttr(Xt.bgcolor,it.i,null),Wt=Xt.fgopacity,me=w.getPatternAttr(Xt.size,it.i,8),Vt=w.getPatternAttr(Xt.solidity,it.i,.3);xe=xe||it.mcc||g.isArrayOrTypedArray(Xt.shape)||g.isArrayOrTypedArray(Xt.bgcolor)||g.isArrayOrTypedArray(Xt.fgcolor)||g.isArrayOrTypedArray(Xt.size)||g.isArrayOrTypedArray(Xt.solidity);var ne=dt.uid;xe&&(ne+="-"+it.i),w.pattern(ft,"point",Pt,ne,Kt,me,Vt,it.mcc,Xt.fillmode,Ut,wt,Wt)}else g.isArrayOrTypedArray(kt)?i.fill(ft,kt[it.i]):i.fill(ft,kt);At&&i.stroke(ft,_t)}},w.makePointStyleFns=function(it){var ft={},dt=it.marker;return ft.markerScale=w.tryColorscale(dt,""),ft.lineScale=w.tryColorscale(dt,"line"),r.traceIs(it,"symbols")&&(ft.ms2mrc=m.isBubble(it)?v(it):function(){return(dt.size||6)/2}),it.selectedpoints&&g.extendFlat(ft,w.makeSelectedPointStyleFns(it)),ft},w.makeSelectedPointStyleFns=function(it){var ft={},dt=it.selected||{},xt=it.unselected||{},Pt=it.marker||{},Ct=dt.marker||{},lt=xt.marker||{},ht=Pt.opacity,vt=Ct.opacity,gt=lt.opacity,mt=vt!==void 0,Tt=gt!==void 0;(g.isArrayOrTypedArray(ht)||mt||Tt)&&(ft.selectedOpacityFn=function(Kt){var se=Kt.mo===void 0?Pt.opacity:Kt.mo;return Kt.selected?mt?vt:se:Tt?gt:y*se});var kt=Pt.color,_t=Ct.color,At=lt.color;(_t||At)&&(ft.selectedColorFn=function(Kt){var se=Kt.mcc||kt;return Kt.selected?_t||se:At||se});var Mt=Pt.size,Rt=Ct.size,Yt=lt.size,zt=Rt!==void 0,Xt=Yt!==void 0;return r.traceIs(it,"symbols")&&(zt||Xt)&&(ft.selectedSizeFn=function(Kt){var se=Kt.mrc||Mt/2;return Kt.selected?zt?Rt/2:se:Xt?Yt/2:se}),ft},w.makeSelectedTextStyleFns=function(it){var ft={},dt=it.selected||{},xt=it.unselected||{},Pt=it.textfont||{},Ct=dt.textfont||{},lt=xt.textfont||{},ht=Pt.color,vt=Ct.color,gt=lt.color;return ft.selectedTextColorFn=function(mt){var Tt=mt.tc||ht;return mt.selected?vt||Tt:gt||(vt?Tt:i.addOpacity(Tt,y))},ft},w.selectedPointStyle=function(it,ft){if(it.size()&&ft.selectedpoints){var dt=w.makeSelectedPointStyleFns(ft),xt=ft.marker||{},Pt=[];dt.selectedOpacityFn&&Pt.push(function(Ct,lt){Ct.style("opacity",dt.selectedOpacityFn(lt))}),dt.selectedColorFn&&Pt.push(function(Ct,lt){i.fill(Ct,dt.selectedColorFn(lt))}),dt.selectedSizeFn&&Pt.push(function(Ct,lt){var ht=lt.mx||xt.symbol||0,vt=dt.selectedSizeFn(lt);Ct.attr("d",A(w.symbolNumber(ht),vt,It(lt,ft),F(lt,ft))),lt.mrc2=vt}),Pt.length&&it.each(function(Ct){for(var lt=f.select(this),ht=0;ht<Pt.length;ht++)Pt[ht](lt,Ct)})}},w.tryColorscale=function(it,ft){var dt=ft?g.nestedProperty(it,ft).get():it;if(dt){var xt=dt.color;if((dt.colorscale||dt._colorAx)&&g.isArrayOrTypedArray(xt))return l.makeColorScaleFuncFromTrace(dt)}return g.identity};var _,I,O={start:1,end:-1,middle:0,bottom:1,top:-1};function N(it,ft,dt,xt,Pt){var Ct=f.select(it.node().parentNode),lt=ft.indexOf("top")!==-1?"top":ft.indexOf("bottom")!==-1?"bottom":"middle",ht=ft.indexOf("left")!==-1?"end":ft.indexOf("right")!==-1?"start":"middle",vt=xt?xt/.8+1:0,gt=(c.lineCount(it)-1)*h+1,mt=O[ht]*vt,Tt=.75*dt+O[lt]*vt+(O[lt]-1)*gt*dt/2;it.attr("text-anchor",ht),Pt||Ct.attr("transform",o(mt,Tt))}function G(it,ft){var dt=it.ts||ft.textfont.size;return n(dt)&&dt>0?dt:0}function z(it,ft,dt){return dt&&(it=V(it)),ft?Z(it[1]):Y(it[0])}function Y(it){var ft=f.round(it,2);return _=ft,ft}function Z(it){var ft=f.round(it,2);return I=ft,ft}function nt(it,ft,dt,xt){var Pt=it[0]-ft[0],Ct=it[1]-ft[1],lt=dt[0]-ft[0],ht=dt[1]-ft[1],vt=Math.pow(Pt*Pt+Ct*Ct,.25),gt=Math.pow(lt*lt+ht*ht,.25),mt=(gt*gt*Pt-vt*vt*lt)*xt,Tt=(gt*gt*Ct-vt*vt*ht)*xt,kt=3*gt*(vt+gt),_t=3*vt*(vt+gt);return[[Y(ft[0]+(kt&&mt/kt)),Z(ft[1]+(kt&&Tt/kt))],[Y(ft[0]-(_t&&mt/_t)),Z(ft[1]-(_t&&Tt/_t))]]}w.textPointStyle=function(it,ft,dt){if(it.size()){var xt;if(ft.selectedpoints){var Pt=w.makeSelectedTextStyleFns(ft);xt=Pt.selectedTextColorFn}var Ct=ft.texttemplate,lt=dt._fullLayout;it.each(function(ht){var vt=f.select(this),gt=Ct?g.extractOption(ht,ft,"txt","texttemplate"):g.extractOption(ht,ft,"tx","text");if(gt||gt===0){if(Ct){var mt=ft._module.formatLabels,Tt=mt?mt(ht,ft,lt):{},kt={};x(kt,ft,ht.i);var _t=ft._meta||{};gt=g.texttemplateString(gt,Tt,lt._d3locale,kt,ht,_t)}var At=ht.tp||ft.textposition,Mt=G(ht,ft),Rt=xt?xt(ht):ht.tc||ft.textfont.color;vt.call(w.font,ht.tf||ft.textfont.family,Mt,Rt).text(gt).call(c.convertToTspans,dt).call(N,At,Mt,ht.mrc)}else vt.remove()})}},w.selectedTextStyle=function(it,ft){if(it.size()&&ft.selectedpoints){var dt=w.makeSelectedTextStyleFns(ft);it.each(function(xt){var Pt=f.select(this),Ct=dt.selectedTextColorFn(xt),lt=xt.tp||ft.textposition,ht=G(xt,ft);i.fill(Pt,Ct);var vt=r.traceIs(ft,"bar-like");N(Pt,lt,ht,xt.mrc2||xt.mrc,vt)})}},w.smoothopen=function(it,ft){if(it.length<3)return"M"+it.join("L");var dt,xt="M"+it[0],Pt=[];for(dt=1;dt<it.length-1;dt++)Pt.push(nt(it[dt-1],it[dt],it[dt+1],ft));for(xt+="Q"+Pt[0][0]+" "+it[1],dt=2;dt<it.length-1;dt++)xt+="C"+Pt[dt-2][1]+" "+Pt[dt-1][0]+" "+it[dt];return xt+"Q"+Pt[it.length-3][1]+" "+it[it.length-1]},w.smoothclosed=function(it,ft){if(it.length<3)return"M"+it.join("L")+"Z";var dt,xt="M"+it[0],Pt=it.length-1,Ct=[nt(it[Pt],it[0],it[1],ft)];for(dt=1;dt<Pt;dt++)Ct.push(nt(it[dt-1],it[dt],it[dt+1],ft));for(Ct.push(nt(it[Pt-1],it[Pt],it[0],ft)),dt=1;dt<=Pt;dt++)xt+="C"+Ct[dt-1][1]+" "+Ct[dt][0]+" "+it[dt];return xt+"C"+Ct[Pt][1]+" "+Ct[0][0]+" "+it[0]+"Z"};var S={hv:function(it,ft,dt){return"H"+Y(ft[0])+"V"+z(ft,1,dt)},vh:function(it,ft,dt){return"V"+Z(ft[1])+"H"+z(ft,0,dt)},hvh:function(it,ft,dt){return"H"+Y((it[0]+ft[0])/2)+"V"+Z(ft[1])+"H"+z(ft,0,dt)},vhv:function(it,ft,dt){return"V"+Z((it[1]+ft[1])/2)+"H"+Y(ft[0])+"V"+z(ft,1,dt)}},E=function(it,ft,dt){return"L"+z(ft,0,dt)+","+z(ft,1,dt)};function V(it,ft){var dt=it.backoff,xt=it.trace,Pt=it.d,Ct=it.i;if(dt&&xt&&xt.marker&&xt.marker.angle%360==0&&xt.line&&xt.line.shape!=="spline"){var lt=g.isArrayOrTypedArray(dt),ht=it,vt=ft?ft[0]:_||0,gt=ft?ft[1]:I||0,mt=ht[0],Tt=ht[1],kt=mt-vt,_t=Tt-gt,At=Math.atan2(_t,kt),Mt=lt?dt[Ct]:dt;if(Mt==="auto"){var Rt=ht.i;xt.type==="scatter"&&Rt--;var Yt=ht.marker,zt=Yt.symbol;g.isArrayOrTypedArray(zt)&&(zt=zt[Rt]);var Xt=Yt.size;g.isArrayOrTypedArray(Xt)&&(Xt=Xt[Rt]),Mt=Yt?w.symbolBackOffs[w.symbolNumber(zt)]*Xt:0,Mt+=w.getMarkerStandoff(Pt[Rt],xt)||0}var Kt=mt-Mt*Math.cos(At),se=Tt-Mt*Math.sin(At);(Kt<=mt&&Kt>=vt||Kt>=mt&&Kt<=vt)&&(se<=Tt&&se>=gt||se>=Tt&&se<=gt)&&(it=[Kt,se])}return it}w.steps=function(it){var ft=S[it]||E;return function(dt){for(var xt="M"+Y(dt[0][0])+","+Z(dt[0][1]),Pt=dt.length,Ct=1;Ct<Pt;Ct++)xt+=ft(dt[Ct-1],dt[Ct],Ct===Pt-1);return xt}},w.applyBackoff=V,w.makeTester=function(){var it=g.ensureSingleById(f.select("body"),"svg","js-plotly-tester",function(dt){dt.attr(u.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),ft=g.ensureSingle(it,"path","js-reference-point",function(dt){dt.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});w.tester=it,w.testref=ft},w.savedBBoxes={};var Q=0;function tt(it){var ft=it.getAttribute("data-unformatted");if(ft!==null)return ft+it.getAttribute("data-math")+it.getAttribute("text-anchor")+it.getAttribute("style")}function rt(it,ft){if(!it)return null;var dt=ft._context,xt=dt._exportedPlot?"":dt._baseUrl||"";return xt?"url('"+xt+"#"+it+"')":"url(#"+it+")"}w.bBox=function(it,ft,dt){var xt,Pt,Ct;if(dt||(dt=tt(it)),dt){if(xt=w.savedBBoxes[dt])return g.extendFlat({},xt)}else if(it.childNodes.length===1){var lt=it.childNodes[0];if(dt=tt(lt)){var ht=+lt.getAttribute("x")||0,vt=+lt.getAttribute("y")||0,gt=lt.getAttribute("transform");if(!gt){var mt=w.bBox(lt,!1,dt);return ht&&(mt.left+=ht,mt.right+=ht),vt&&(mt.top+=vt,mt.bottom+=vt),mt}if(dt+="~"+ht+"~"+vt+"~"+gt,xt=w.savedBBoxes[dt])return g.extendFlat({},xt)}}ft?Pt=it:(Ct=w.tester.node(),Pt=it.cloneNode(!0),Ct.appendChild(Pt)),f.select(Pt).attr("transform",null).call(c.positionText,0,0);var Tt=Pt.getBoundingClientRect(),kt=w.testref.node().getBoundingClientRect();ft||Ct.removeChild(Pt);var _t={height:Tt.height,width:Tt.width,left:Tt.left-kt.left,top:Tt.top-kt.top,right:Tt.right-kt.left,bottom:Tt.bottom-kt.top};return Q>=1e4&&(w.savedBBoxes={},Q=0),dt&&(w.savedBBoxes[dt]=_t),Q++,g.extendFlat({},_t)},w.setClipUrl=function(it,ft,dt){it.attr("clip-path",rt(ft,dt))},w.getTranslate=function(it){var ft=(it[it.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(dt,xt,Pt){return[xt,Pt].join(" ")}).split(" ");return{x:+ft[0]||0,y:+ft[1]||0}},w.setTranslate=function(it,ft,dt){var xt=it.attr?"attr":"getAttribute",Pt=it.attr?"attr":"setAttribute",Ct=it[xt]("transform")||"";return ft=ft||0,dt=dt||0,Ct=Ct.replace(/(\btranslate\(.*?\);?)/,"").trim(),Ct=(Ct+=o(ft,dt)).trim(),it[Pt]("transform",Ct),Ct},w.getScale=function(it){var ft=(it[it.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(dt,xt,Pt){return[xt,Pt].join(" ")}).split(" ");return{x:+ft[0]||1,y:+ft[1]||1}},w.setScale=function(it,ft,dt){var xt=it.attr?"attr":"getAttribute",Pt=it.attr?"attr":"setAttribute",Ct=it[xt]("transform")||"";return ft=ft||1,dt=dt||1,Ct=Ct.replace(/(\bscale\(.*?\);?)/,"").trim(),Ct=(Ct+="scale("+ft+","+dt+")").trim(),it[Pt]("transform",Ct),Ct};var ot=/\s*sc.*/;w.setPointGroupScale=function(it,ft,dt){if(ft=ft||1,dt=dt||1,it){var xt=ft===1&&dt===1?"":"scale("+ft+","+dt+")";it.each(function(){var Pt=(this.getAttribute("transform")||"").replace(ot,"");Pt=(Pt+=xt).trim(),this.setAttribute("transform",Pt)})}};var H=/translate\([^)]*\)\s*$/;function F(it,ft){var dt;return it&&(dt=it.mf),dt===void 0&&(dt=ft.marker&&ft.marker.standoff||0),ft._geo||ft._xA?dt:-dt}w.setTextPointsScale=function(it,ft,dt){it&&it.each(function(){var xt,Pt=f.select(this),Ct=Pt.select("text");if(Ct.node()){var lt=parseFloat(Ct.attr("x")||0),ht=parseFloat(Ct.attr("y")||0),vt=(Pt.attr("transform")||"").match(H);xt=ft===1&&dt===1?[]:[o(lt,ht),"scale("+ft+","+dt+")",o(-lt,-ht)],vt&&xt.push(vt),Pt.attr("transform",xt.join(""))}})},w.getMarkerStandoff=F;var R,j,J,q,$,et,st=Math.atan2,yt=Math.cos,St=Math.sin;function Lt(it,ft){var dt=ft[0],xt=ft[1];return[dt*yt(it)-xt*St(it),dt*St(it)+xt*yt(it)]}function It(it,ft){var dt,xt,Pt=it.ma;Pt===void 0&&(Pt=ft.marker.angle||0);var Ct=ft.marker.angleref;if(Ct==="previous"||Ct==="north"){if(ft._geo){var lt=ft._geo.project(it.lonlat);dt=lt[0],xt=lt[1]}else{var ht=ft._xA,vt=ft._yA;if(!ht||!vt)return 90;dt=ht.c2p(it.x),xt=vt.c2p(it.y)}if(ft._geo){var gt,mt=it.lonlat[0],Tt=it.lonlat[1],kt=ft._geo.project([mt,Tt+1e-5]),_t=ft._geo.project([mt+1e-5,Tt]),At=st(_t[1]-xt,_t[0]-dt),Mt=st(kt[1]-xt,kt[0]-dt);if(Ct==="north")gt=Pt/180*Math.PI;else if(Ct==="previous"){var Rt=mt/180*Math.PI,Yt=Tt/180*Math.PI,zt=R/180*Math.PI,Xt=j/180*Math.PI,Kt=zt-Rt,se=yt(Xt)*St(Kt),de=St(Xt)*yt(Yt)-yt(Xt)*St(Yt)*yt(Kt);gt=-st(se,de)-Math.PI,R=mt,j=Tt}var xe=Lt(At,[yt(gt),0]),Dt=Lt(Mt,[St(gt),0]);Pt=st(xe[1]+Dt[1],xe[0]+Dt[0])/Math.PI*180,Ct!=="previous"||et===ft.uid&&it.i===$+1||(Pt=null)}if(Ct==="previous"&&!ft._geo)if(et===ft.uid&&it.i===$+1&&n(dt)&&n(xt)){var wt=dt-J,Ut=xt-q,Wt=ft.line&&ft.line.shape||"",me=Wt.slice(Wt.length-1);me==="h"&&(Ut=0),me==="v"&&(wt=0),Pt+=st(Ut,wt)/Math.PI*180+90}else Pt=null}return J=dt,q=xt,$=it.i,et=ft.uid,Pt}w.getMarkerAngle=It},998:function(X,d,t){var f,g,a,n,e=t(5616),r=t(9898).round,i="M0,0Z",l=Math.sqrt(2),o=Math.sqrt(3),c=Math.PI,u=Math.cos,h=Math.sin;function y(v){return v===null}function m(v,x,w){if(!(v&&v%360!=0||x))return w;if(a===v&&n===x&&f===w)return g;function p(z,Y){var Z=u(z),nt=h(z),S=Y[0],E=Y[1]+(x||0);return[S*Z-E*nt,S*nt+E*Z]}a=v,n=x,f=w;for(var b=v/180*c,T=0,A=0,P=e(w),k="",L=0;L<P.length;L++){var D=P[L],_=D[0],I=T,O=A;if(_==="M"||_==="L")T=+D[1],A=+D[2];else if(_==="m"||_==="l")T+=+D[1],A+=+D[2];else if(_==="H")T=+D[1];else if(_==="h")T+=+D[1];else if(_==="V")A=+D[1];else if(_==="v")A+=+D[1];else if(_==="A"){T=+D[1],A=+D[2];var N=p(b,[+D[6],+D[7]]);D[6]=N[0],D[7]=N[1],D[3]=+D[3]+v}_!=="H"&&_!=="V"||(_="L"),_!=="h"&&_!=="v"||(_="l"),_!=="m"&&_!=="l"||(T-=I,A-=O);var G=p(b,[T,A]);_!=="H"&&_!=="V"||(_="L"),_!=="M"&&_!=="L"&&_!=="m"&&_!=="l"||(D[1]=G[0],D[2]=G[1]),D[0]=_,k+=D[0]+D.slice(1).join(",")}return g=k,k}X.exports={circle:{n:0,f:function(v,x,w){if(y(x))return i;var p=r(v,2),b="M"+p+",0A"+p+","+p+" 0 1,1 0,-"+p+"A"+p+","+p+" 0 0,1 "+p+",0Z";return w?m(x,w,b):b}},square:{n:1,f:function(v,x,w){if(y(x))return i;var p=r(v,2);return m(x,w,"M"+p+","+p+"H-"+p+"V-"+p+"H"+p+"Z")}},diamond:{n:2,f:function(v,x,w){if(y(x))return i;var p=r(1.3*v,2);return m(x,w,"M"+p+",0L0,"+p+"L-"+p+",0L0,-"+p+"Z")}},cross:{n:3,f:function(v,x,w){if(y(x))return i;var p=r(.4*v,2),b=r(1.2*v,2);return m(x,w,"M"+b+","+p+"H"+p+"V"+b+"H-"+p+"V"+p+"H-"+b+"V-"+p+"H-"+p+"V-"+b+"H"+p+"V-"+p+"H"+b+"Z")}},x:{n:4,f:function(v,x,w){if(y(x))return i;var p=r(.8*v/l,2),b="l"+p+","+p,T="l"+p+",-"+p,A="l-"+p+",-"+p,P="l-"+p+","+p;return m(x,w,"M0,"+p+b+T+A+T+A+P+A+P+b+P+b+"Z")}},"triangle-up":{n:5,f:function(v,x,w){if(y(x))return i;var p=r(2*v/o,2);return m(x,w,"M-"+p+","+r(v/2,2)+"H"+p+"L0,-"+r(v,2)+"Z")}},"triangle-down":{n:6,f:function(v,x,w){if(y(x))return i;var p=r(2*v/o,2);return m(x,w,"M-"+p+",-"+r(v/2,2)+"H"+p+"L0,"+r(v,2)+"Z")}},"triangle-left":{n:7,f:function(v,x,w){if(y(x))return i;var p=r(2*v/o,2);return m(x,w,"M"+r(v/2,2)+",-"+p+"V"+p+"L-"+r(v,2)+",0Z")}},"triangle-right":{n:8,f:function(v,x,w){if(y(x))return i;var p=r(2*v/o,2);return m(x,w,"M-"+r(v/2,2)+",-"+p+"V"+p+"L"+r(v,2)+",0Z")}},"triangle-ne":{n:9,f:function(v,x,w){if(y(x))return i;var p=r(.6*v,2),b=r(1.2*v,2);return m(x,w,"M-"+b+",-"+p+"H"+p+"V"+b+"Z")}},"triangle-se":{n:10,f:function(v,x,w){if(y(x))return i;var p=r(.6*v,2),b=r(1.2*v,2);return m(x,w,"M"+p+",-"+b+"V"+p+"H-"+b+"Z")}},"triangle-sw":{n:11,f:function(v,x,w){if(y(x))return i;var p=r(.6*v,2),b=r(1.2*v,2);return m(x,w,"M"+b+","+p+"H-"+p+"V-"+b+"Z")}},"triangle-nw":{n:12,f:function(v,x,w){if(y(x))return i;var p=r(.6*v,2),b=r(1.2*v,2);return m(x,w,"M-"+p+","+b+"V-"+p+"H"+b+"Z")}},pentagon:{n:13,f:function(v,x,w){if(y(x))return i;var p=r(.951*v,2),b=r(.588*v,2),T=r(-v,2),A=r(-.309*v,2);return m(x,w,"M"+p+","+A+"L"+b+","+r(.809*v,2)+"H-"+b+"L-"+p+","+A+"L0,"+T+"Z")}},hexagon:{n:14,f:function(v,x,w){if(y(x))return i;var p=r(v,2),b=r(v/2,2),T=r(v*o/2,2);return m(x,w,"M"+T+",-"+b+"V"+b+"L0,"+p+"L-"+T+","+b+"V-"+b+"L0,-"+p+"Z")}},hexagon2:{n:15,f:function(v,x,w){if(y(x))return i;var p=r(v,2),b=r(v/2,2),T=r(v*o/2,2);return m(x,w,"M-"+b+","+T+"H"+b+"L"+p+",0L"+b+",-"+T+"H-"+b+"L-"+p+",0Z")}},octagon:{n:16,f:function(v,x,w){if(y(x))return i;var p=r(.924*v,2),b=r(.383*v,2);return m(x,w,"M-"+b+",-"+p+"H"+b+"L"+p+",-"+b+"V"+b+"L"+b+","+p+"H-"+b+"L-"+p+","+b+"V-"+b+"Z")}},star:{n:17,f:function(v,x,w){if(y(x))return i;var p=1.4*v,b=r(.225*p,2),T=r(.951*p,2),A=r(.363*p,2),P=r(.588*p,2),k=r(-p,2),L=r(-.309*p,2),D=r(.118*p,2),_=r(.809*p,2);return m(x,w,"M"+b+","+L+"H"+T+"L"+A+","+D+"L"+P+","+_+"L0,"+r(.382*p,2)+"L-"+P+","+_+"L-"+A+","+D+"L-"+T+","+L+"H-"+b+"L0,"+k+"Z")}},hexagram:{n:18,f:function(v,x,w){if(y(x))return i;var p=r(.66*v,2),b=r(.38*v,2),T=r(.76*v,2);return m(x,w,"M-"+T+",0l-"+b+",-"+p+"h"+T+"l"+b+",-"+p+"l"+b+","+p+"h"+T+"l-"+b+","+p+"l"+b+","+p+"h-"+T+"l-"+b+","+p+"l-"+b+",-"+p+"h-"+T+"Z")}},"star-triangle-up":{n:19,f:function(v,x,w){if(y(x))return i;var p=r(v*o*.8,2),b=r(.8*v,2),T=r(1.6*v,2),A=r(4*v,2),P="A "+A+","+A+" 0 0 1 ";return m(x,w,"M-"+p+","+b+P+p+","+b+P+"0,-"+T+P+"-"+p+","+b+"Z")}},"star-triangle-down":{n:20,f:function(v,x,w){if(y(x))return i;var p=r(v*o*.8,2),b=r(.8*v,2),T=r(1.6*v,2),A=r(4*v,2),P="A "+A+","+A+" 0 0 1 ";return m(x,w,"M"+p+",-"+b+P+"-"+p+",-"+b+P+"0,"+T+P+p+",-"+b+"Z")}},"star-square":{n:21,f:function(v,x,w){if(y(x))return i;var p=r(1.1*v,2),b=r(2*v,2),T="A "+b+","+b+" 0 0 1 ";return m(x,w,"M-"+p+",-"+p+T+"-"+p+","+p+T+p+","+p+T+p+",-"+p+T+"-"+p+",-"+p+"Z")}},"star-diamond":{n:22,f:function(v,x,w){if(y(x))return i;var p=r(1.4*v,2),b=r(1.9*v,2),T="A "+b+","+b+" 0 0 1 ";return m(x,w,"M-"+p+",0"+T+"0,"+p+T+p+",0"+T+"0,-"+p+T+"-"+p+",0Z")}},"diamond-tall":{n:23,f:function(v,x,w){if(y(x))return i;var p=r(.7*v,2),b=r(1.4*v,2);return m(x,w,"M0,"+b+"L"+p+",0L0,-"+b+"L-"+p+",0Z")}},"diamond-wide":{n:24,f:function(v,x,w){if(y(x))return i;var p=r(1.4*v,2),b=r(.7*v,2);return m(x,w,"M0,"+b+"L"+p+",0L0,-"+b+"L-"+p+",0Z")}},hourglass:{n:25,f:function(v,x,w){if(y(x))return i;var p=r(v,2);return m(x,w,"M"+p+","+p+"H-"+p+"L"+p+",-"+p+"H-"+p+"Z")},noDot:!0},bowtie:{n:26,f:function(v,x,w){if(y(x))return i;var p=r(v,2);return m(x,w,"M"+p+","+p+"V-"+p+"L-"+p+","+p+"V-"+p+"Z")},noDot:!0},"circle-cross":{n:27,f:function(v,x,w){if(y(x))return i;var p=r(v,2);return m(x,w,"M0,"+p+"V-"+p+"M"+p+",0H-"+p+"M"+p+",0A"+p+","+p+" 0 1,1 0,-"+p+"A"+p+","+p+" 0 0,1 "+p+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(v,x,w){if(y(x))return i;var p=r(v,2),b=r(v/l,2);return m(x,w,"M"+b+","+b+"L-"+b+",-"+b+"M"+b+",-"+b+"L-"+b+","+b+"M"+p+",0A"+p+","+p+" 0 1,1 0,-"+p+"A"+p+","+p+" 0 0,1 "+p+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(v,x,w){if(y(x))return i;var p=r(v,2);return m(x,w,"M0,"+p+"V-"+p+"M"+p+",0H-"+p+"M"+p+","+p+"H-"+p+"V-"+p+"H"+p+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(v,x,w){if(y(x))return i;var p=r(v,2);return m(x,w,"M"+p+","+p+"L-"+p+",-"+p+"M"+p+",-"+p+"L-"+p+","+p+"M"+p+","+p+"H-"+p+"V-"+p+"H"+p+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(v,x,w){if(y(x))return i;var p=r(1.3*v,2);return m(x,w,"M"+p+",0L0,"+p+"L-"+p+",0L0,-"+p+"ZM0,-"+p+"V"+p+"M-"+p+",0H"+p)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(v,x,w){if(y(x))return i;var p=r(1.3*v,2),b=r(.65*v,2);return m(x,w,"M"+p+",0L0,"+p+"L-"+p+",0L0,-"+p+"ZM-"+b+",-"+b+"L"+b+","+b+"M-"+b+","+b+"L"+b+",-"+b)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(v,x,w){if(y(x))return i;var p=r(1.4*v,2);return m(x,w,"M0,"+p+"V-"+p+"M"+p+",0H-"+p)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(v,x,w){if(y(x))return i;var p=r(v,2);return m(x,w,"M"+p+","+p+"L-"+p+",-"+p+"M"+p+",-"+p+"L-"+p+","+p)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(v,x,w){if(y(x))return i;var p=r(1.2*v,2),b=r(.85*v,2);return m(x,w,"M0,"+p+"V-"+p+"M"+p+",0H-"+p+"M"+b+","+b+"L-"+b+",-"+b+"M"+b+",-"+b+"L-"+b+","+b)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(v,x,w){if(y(x))return i;var p=r(v/2,2),b=r(v,2);return m(x,w,"M"+p+","+b+"V-"+b+"M"+(p-b)+",-"+b+"V"+b+"M"+b+","+p+"H-"+b+"M-"+b+","+(p-b)+"H"+b)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(v,x,w){if(y(x))return i;var p=r(1.2*v,2),b=r(1.6*v,2),T=r(.8*v,2);return m(x,w,"M-"+p+","+T+"L0,0M"+p+","+T+"L0,0M0,-"+b+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(v,x,w){if(y(x))return i;var p=r(1.2*v,2),b=r(1.6*v,2),T=r(.8*v,2);return m(x,w,"M-"+p+",-"+T+"L0,0M"+p+",-"+T+"L0,0M0,"+b+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(v,x,w){if(y(x))return i;var p=r(1.2*v,2),b=r(1.6*v,2),T=r(.8*v,2);return m(x,w,"M"+T+","+p+"L0,0M"+T+",-"+p+"L0,0M-"+b+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(v,x,w){if(y(x))return i;var p=r(1.2*v,2),b=r(1.6*v,2),T=r(.8*v,2);return m(x,w,"M-"+T+","+p+"L0,0M-"+T+",-"+p+"L0,0M"+b+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(v,x,w){if(y(x))return i;var p=r(1.4*v,2);return m(x,w,"M"+p+",0H-"+p)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(v,x,w){if(y(x))return i;var p=r(1.4*v,2);return m(x,w,"M0,"+p+"V-"+p)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(v,x,w){if(y(x))return i;var p=r(v,2);return m(x,w,"M"+p+",-"+p+"L-"+p+","+p)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(v,x,w){if(y(x))return i;var p=r(v,2);return m(x,w,"M"+p+","+p+"L-"+p+",-"+p)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(v,x,w){if(y(x))return i;var p=r(v,2);return m(x,w,"M0,0L-"+p+","+r(2*v,2)+"H"+p+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(v,x,w){if(y(x))return i;var p=r(v,2);return m(x,w,"M0,0L-"+p+",-"+r(2*v,2)+"H"+p+"Z")},noDot:!0},"arrow-left":{n:47,f:function(v,x,w){if(y(x))return i;var p=r(2*v,2),b=r(v,2);return m(x,w,"M0,0L"+p+",-"+b+"V"+b+"Z")},noDot:!0},"arrow-right":{n:48,f:function(v,x,w){if(y(x))return i;var p=r(2*v,2),b=r(v,2);return m(x,w,"M0,0L-"+p+",-"+b+"V"+b+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(v,x,w){if(y(x))return i;var p=r(v,2);return m(x,w,"M-"+p+",0H"+p+"M0,0L-"+p+","+r(2*v,2)+"H"+p+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(v,x,w){if(y(x))return i;var p=r(v,2);return m(x,w,"M-"+p+",0H"+p+"M0,0L-"+p+",-"+r(2*v,2)+"H"+p+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(v,x,w){if(y(x))return i;var p=r(2*v,2),b=r(v,2);return m(x,w,"M0,-"+b+"V"+b+"M0,0L"+p+",-"+b+"V"+b+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(v,x,w){if(y(x))return i;var p=r(2*v,2),b=r(v,2);return m(x,w,"M0,-"+b+"V"+b+"M0,0L-"+p+",-"+b+"V"+b+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(v,x,w){if(y(x))return i;var p=c/2.5,b=2*v*u(p),T=2*v*h(p);return m(x,w,"M0,0L"+-b+","+T+"L"+b+","+T+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(v,x,w){if(y(x))return i;var p=c/4,b=2*v*u(p),T=2*v*h(p);return m(x,w,"M0,0L"+-b+","+T+"A "+2*v+","+2*v+" 0 0 1 "+b+","+T+"Z")},backoff:.4,noDot:!0}}},5673:function(X){X.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},4532:function(X,d,t){var f=t(2770),g=t(3972),a=t(9298),n=t(1828),e=t(5827);function r(i,l,o,c){var u=l["error_"+c]||{},h=[];if(u.visible&&["linear","log"].indexOf(o.type)!==-1){for(var y=e(u),m=0;m<i.length;m++){var v=i[m],x=v.i;if(x===void 0)x=m;else if(x===null)continue;var w=v[c];if(f(o.c2l(w))){var p=y(w,x);if(f(p[0])&&f(p[1])){var b=v[c+"s"]=w-p[0],T=v[c+"h"]=w+p[1];h.push(b,T)}}}var A=o._id,P=l._extremes[A],k=a.findExtremes(o,h,n.extendFlat({tozero:P.opts.tozero},{padded:!0}));P.min=P.min.concat(k.min),P.max=P.max.concat(k.max)}}X.exports=function(i){for(var l=i.calcdata,o=0;o<l.length;o++){var c=l[o],u=c[0].trace;if(u.visible===!0&&g.traceIs(u,"errorBarsOK")){var h=a.getFromId(i,u.xaxis),y=a.getFromId(i,u.yaxis);r(c,u,h,"x"),r(c,u,y,"y")}}}},5827:function(X){function d(t,f){return t==="percent"?function(g){return Math.abs(g*f/100)}:t==="constant"?function(){return Math.abs(f)}:t==="sqrt"?function(g){return Math.sqrt(Math.abs(g))}:void 0}X.exports=function(t){var f=t.type,g=t.symmetric;if(f==="data"){var a=t.array||[];if(g)return function(i,l){var o=+a[l];return[o,o]};var n=t.arrayminus||[];return function(i,l){var o=+a[l],c=+n[l];return isNaN(o)&&isNaN(c)?[NaN,NaN]:[c||0,o||0]}}var e=d(f,t.value),r=d(f,t.valueminus);return g||t.valueminus===void 0?function(i){var l=e(i);return[l,l]}:function(i){return[r(i),e(i)]}}},7587:function(X,d,t){var f=t(2770),g=t(3972),a=t(1828),n=t(4467),e=t(5673);X.exports=function(r,i,l,o){var c="error_"+o.axis,u=n.newContainer(i,c),h=r[c]||{};function y(w,p){return a.coerce(h,u,e,w,p)}if(y("visible",h.array!==void 0||h.value!==void 0||h.type==="sqrt")!==!1){var m=y("type","array"in h?"data":"percent"),v=!0;m!=="sqrt"&&(v=y("symmetric",!((m==="data"?"arrayminus":"valueminus")in h))),m==="data"?(y("array"),y("traceref"),v||(y("arrayminus"),y("tracerefminus"))):m!=="percent"&&m!=="constant"||(y("value"),v||y("valueminus"));var x="copy_"+o.inherit+"style";o.inherit&&(i["error_"+o.inherit]||{}).visible&&y(x,!(h.color||f(h.thickness)||f(h.width))),o.inherit&&u[x]||(y("color",l),y("thickness"),y("width",g.traceIs(i,"gl3d")?0:4))}}},7369:function(X,d,t){var f=t(1828),g=t(962).overrideAll,a=t(5673),n={error_x:f.extendFlat({},a),error_y:f.extendFlat({},a)};delete n.error_x.copy_zstyle,delete n.error_y.copy_zstyle,delete n.error_y.copy_ystyle;var e={error_x:f.extendFlat({},a),error_y:f.extendFlat({},a),error_z:f.extendFlat({},a)};delete e.error_x.copy_ystyle,delete e.error_y.copy_ystyle,delete e.error_z.copy_ystyle,delete e.error_z.copy_zstyle,X.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:n,bar:n,histogram:n,scatter3d:g(e,"calc","nested"),scattergl:g(n,"calc","nested")}},supplyDefaults:t(7587),calc:t(4532),makeComputeError:t(5827),plot:t(9398),style:t(2662),hoverInfo:function(r,i,l){(i.error_y||{}).visible&&(l.yerr=r.yh-r.y,i.error_y.symmetric||(l.yerrneg=r.y-r.ys)),(i.error_x||{}).visible&&(l.xerr=r.xh-r.x,i.error_x.symmetric||(l.xerrneg=r.x-r.xs))}}},9398:function(X,d,t){var f=t(9898),g=t(2770),a=t(1424),n=t(4098);X.exports=function(e,r,i,l){var o=i.xaxis,c=i.yaxis,u=l&&l.duration>0,h=e._context.staticPlot;r.each(function(y){var m,v=y[0].trace,x=v.error_x||{},w=v.error_y||{};v.ids&&(m=function(A){return A.id});var p=n.hasMarkers(v)&&v.marker.maxdisplayed>0;w.visible||x.visible||(y=[]);var b=f.select(this).selectAll("g.errorbar").data(y,m);if(b.exit().remove(),y.length){x.visible||b.selectAll("path.xerror").remove(),w.visible||b.selectAll("path.yerror").remove(),b.style("opacity",1);var T=b.enter().append("g").classed("errorbar",!0);u&&T.style("opacity",0).transition().duration(l.duration).style("opacity",1),a.setClipUrl(b,i.layerClipId,e),b.each(function(A){var P=f.select(this),k=function(N,G,z){var Y={x:G.c2p(N.x),y:z.c2p(N.y)};return N.yh!==void 0&&(Y.yh=z.c2p(N.yh),Y.ys=z.c2p(N.ys),g(Y.ys)||(Y.noYS=!0,Y.ys=z.c2p(N.ys,!0))),N.xh!==void 0&&(Y.xh=G.c2p(N.xh),Y.xs=G.c2p(N.xs),g(Y.xs)||(Y.noXS=!0,Y.xs=G.c2p(N.xs,!0))),Y}(A,o,c);if(!p||A.vis){var L,D=P.select("path.yerror");if(w.visible&&g(k.x)&&g(k.yh)&&g(k.ys)){var _=w.width;L="M"+(k.x-_)+","+k.yh+"h"+2*_+"m-"+_+",0V"+k.ys,k.noYS||(L+="m-"+_+",0h"+2*_),D.size()?u&&(D=D.transition().duration(l.duration).ease(l.easing)):D=P.append("path").style("vector-effect",h?"none":"non-scaling-stroke").classed("yerror",!0),D.attr("d",L)}else D.remove();var I=P.select("path.xerror");if(x.visible&&g(k.y)&&g(k.xh)&&g(k.xs)){var O=(x.copy_ystyle?w:x).width;L="M"+k.xh+","+(k.y-O)+"v"+2*O+"m0,-"+O+"H"+k.xs,k.noXS||(L+="m0,-"+O+"v"+2*O),I.size()?u&&(I=I.transition().duration(l.duration).ease(l.easing)):I=P.append("path").style("vector-effect",h?"none":"non-scaling-stroke").classed("xerror",!0),I.attr("d",L)}else I.remove()}})}})}},2662:function(X,d,t){var f=t(9898),g=t(7901);X.exports=function(a){a.each(function(n){var e=n[0].trace,r=e.error_y||{},i=e.error_x||{},l=f.select(this);l.selectAll("path.yerror").style("stroke-width",r.thickness+"px").call(g.stroke,r.color),i.copy_ystyle&&(i=r),l.selectAll("path.xerror").style("stroke-width",i.thickness+"px").call(g.stroke,i.color)})}},7914:function(X,d,t){var f=t(1940),g=t(528).hoverlabel,a=t(1426).extendFlat;X.exports={hoverlabel:{bgcolor:a({},g.bgcolor,{arrayOk:!0}),bordercolor:a({},g.bordercolor,{arrayOk:!0}),font:f({arrayOk:!0,editType:"none"}),align:a({},g.align,{arrayOk:!0}),namelength:a({},g.namelength,{arrayOk:!0}),editType:"none"}}},732:function(X,d,t){var f=t(1828),g=t(3972);function a(n,e,r,i){i=i||f.identity,Array.isArray(n)&&(e[0][r]=i(n))}X.exports=function(n){var e=n.calcdata,r=n._fullLayout;function i(h){return function(y){return f.coerceHoverinfo({hoverinfo:y},{_module:h._module},r)}}for(var l=0;l<e.length;l++){var o=e[l],c=o[0].trace;if(!g.traceIs(c,"pie-like")){var u=g.traceIs(c,"2dMap")?a:f.fillArray;u(c.hoverinfo,o,"hi",i(c)),c.hovertemplate&&u(c.hovertemplate,o,"ht"),c.hoverlabel&&(u(c.hoverlabel.bgcolor,o,"hbg"),u(c.hoverlabel.bordercolor,o,"hbc"),u(c.hoverlabel.font.size,o,"hts"),u(c.hoverlabel.font.color,o,"htc"),u(c.hoverlabel.font.family,o,"htf"),u(c.hoverlabel.namelength,o,"hnl"),u(c.hoverlabel.align,o,"hta"))}}}},5914:function(X,d,t){var f=t(3972),g=t(8335).hover;X.exports=function(a,n,e){var r=f.getComponentMethod("annotations","onClick")(a,a._hoverdata);function i(){a.emit("plotly_click",{points:a._hoverdata,event:n})}e!==void 0&&g(a,n,e,!0),a._hoverdata&&n&&n.target&&(r&&r.then?r.then(i):i(),n.stopImmediatePropagation&&n.stopImmediatePropagation())}},6675:function(X){X.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},4268:function(X,d,t){var f=t(1828),g=t(7914),a=t(8048);X.exports=function(n,e,r,i){var l=f.extendFlat({},i.hoverlabel);e.hovertemplate&&(l.namelength=-1),a(n,e,function(o,c){return f.coerce(n,e,g,o,c)},l)}},3469:function(X,d,t){var f=t(1828);d.getSubplot=function(i){return i.subplot||i.xaxis+i.yaxis||i.geo},d.isTraceInSubplots=function(i,l){if(i.type==="splom"){for(var o=i.xaxes||[],c=i.yaxes||[],u=0;u<o.length;u++)for(var h=0;h<c.length;h++)if(l.indexOf(o[u]+c[h])!==-1)return!0;return!1}return l.indexOf(d.getSubplot(i))!==-1},d.flat=function(i,l){for(var o=new Array(i.length),c=0;c<i.length;c++)o[c]=l;return o},d.p2c=function(i,l){for(var o=new Array(i.length),c=0;c<i.length;c++)o[c]=i[c].p2c(l);return o},d.getDistanceFunction=function(i,l,o,c){return i==="closest"?c||d.quadrature(l,o):i.charAt(0)==="x"?l:o},d.getClosest=function(i,l,o){if(o.index!==!1)o.index>=0&&o.index<i.length?o.distance=0:o.index=!1;else for(var c=0;c<i.length;c++){var u=l(i[c]);u<=o.distance&&(o.index=c,o.distance=u)}return o},d.inbox=function(i,l,o){return i*l<0||i===0?o:1/0},d.quadrature=function(i,l){return function(o){var c=i(o),u=l(o);return Math.sqrt(c*c+u*u)}},d.makeEventData=function(i,l,o){var c="index"in i?i.index:i.pointNumber,u={data:l._input,fullData:l,curveNumber:l.index,pointNumber:c};if(l._indexToPoints){var h=l._indexToPoints[c];h.length===1?u.pointIndex=h[0]:u.pointIndices=h}else u.pointIndex=c;return l._module.eventData?u=l._module.eventData(u,i,l,o,c):("xVal"in i?u.x=i.xVal:"x"in i&&(u.x=i.x),"yVal"in i?u.y=i.yVal:"y"in i&&(u.y=i.y),i.xa&&(u.xaxis=i.xa),i.ya&&(u.yaxis=i.ya),i.zLabelVal!==void 0&&(u.z=i.zLabelVal)),d.appendArrayPointValue(u,l,c),u},d.appendArrayPointValue=function(i,l,o){var c=l._arrayAttrs;if(c)for(var u=0;u<c.length;u++){var h=c[u],y=a(h);if(i[y]===void 0){var m=n(f.nestedProperty(l,h).get(),o);m!==void 0&&(i[y]=m)}}},d.appendArrayMultiPointValues=function(i,l,o){var c=l._arrayAttrs;if(c)for(var u=0;u<c.length;u++){var h=c[u],y=a(h);if(i[y]===void 0){for(var m=f.nestedProperty(l,h).get(),v=new Array(o.length),x=0;x<o.length;x++)v[x]=n(m,o[x]);i[y]=v}}};var g={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function a(i){return g[i]||i}function n(i,l){return Array.isArray(l)?Array.isArray(i)&&Array.isArray(i[l[0]])?i[l[0]][l[1]]:void 0:i[l]}var e={x:!0,y:!0},r={"x unified":!0,"y unified":!0};d.isUnifiedHover=function(i){return typeof i=="string"&&!!r[i]},d.isXYhover=function(i){return typeof i=="string"&&!!e[i]}},8335:function(X,d,t){var f=t(9898),g=t(2770),a=t(4267),n=t(1828),e=n.strTranslate,r=n.strRotate,i=t(1086),l=t(3893),o=t(9918),c=t(1424),u=t(7901),h=t(8569),y=t(9298),m=t(3972),v=t(3469),x=t(6675),w=t(9017),p=t(3969),b=x.YANGLE,T=Math.PI*b/180,A=1/Math.sin(T),P=Math.cos(T),k=Math.sin(T),L=x.HOVERARROWSIZE,D=x.HOVERTEXTPAD,_={box:!0,ohlc:!0,violin:!0,candlestick:!0},I={scatter:!0,scattergl:!0,splom:!0};function O(H){return[H.trace.index,H.index,H.x0,H.y0,H.name,H.attr,H.xa?H.xa._id:"",H.ya?H.ya._id:""].join(",")}d.hover=function(H,F,R,j){H=n.getGraphDiv(H);var J=F.target;n.throttle(H._fullLayout._uid+x.HOVERID,x.HOVERMINTIME,function(){(function(q,$,et,st,yt){et||(et="xy");var St=Array.isArray(et)?et:[et],Lt=q._fullLayout,It=Lt._plots||[],it=It[et],ft=Lt._has("cartesian");if(it){var dt=it.overlays.map(function(Ue){return Ue.id});St=St.concat(dt)}for(var xt=St.length,Pt=new Array(xt),Ct=new Array(xt),lt=!1,ht=0;ht<xt;ht++){var vt=St[ht];if(It[vt])lt=!0,Pt[ht]=It[vt].xaxis,Ct[ht]=It[vt].yaxis;else{if(!Lt[vt]||!Lt[vt]._subplot)return void n.warn("Unrecognized subplot: "+vt);var gt=Lt[vt]._subplot;Pt[ht]=gt.xaxis,Ct[ht]=gt.yaxis}}var mt=$.hovermode||Lt.hovermode;if(mt&&!lt&&(mt="closest"),["x","y","closest","x unified","y unified"].indexOf(mt)===-1||!q.calcdata||q.querySelector(".zoombox")||q._dragging)return h.unhoverRaw(q,$);var Tt=Lt.hoverdistance;Tt===-1&&(Tt=1/0);var kt=Lt.spikedistance;kt===-1&&(kt=1/0);var _t,At,Mt,Rt,Yt,zt,Xt,Kt,se,de,xe,Dt,wt,Ut=[],Wt=[],me={hLinePoint:null,vLinePoint:null},Vt=!1;if(Array.isArray($))for(mt="array",Mt=0;Mt<$.length;Mt++)(Yt=q.calcdata[$[Mt].curveNumber||0])&&(zt=Yt[0].trace,Yt[0].trace.hoverinfo!=="skip"&&(Wt.push(Yt),zt.orientation==="h"&&(Vt=!0)));else{for(Rt=0;Rt<q.calcdata.length;Rt++)Yt=q.calcdata[Rt],(zt=Yt[0].trace).hoverinfo!=="skip"&&v.isTraceInSubplots(zt,St)&&(Wt.push(Yt),zt.orientation==="h"&&(Vt=!0));var ne,ie;if(yt){if(i.triggerHandler(q,"plotly_beforehover",$)===!1)return;var _e=yt.getBoundingClientRect();ne=$.clientX-_e.left,ie=$.clientY-_e.top,Lt._calcInverseTransform(q);var he=n.apply3DTransform(Lt._invTransform)(ne,ie);if(ne=he[0],ie=he[1],ne<0||ne>Pt[0]._length||ie<0||ie>Ct[0]._length)return h.unhoverRaw(q,$)}else ne="xpx"in $?$.xpx:Pt[0]._length/2,ie="ypx"in $?$.ypx:Ct[0]._length/2;if($.pointerX=ne+Pt[0]._offset,$.pointerY=ie+Ct[0]._offset,_t="xval"in $?v.flat(St,$.xval):v.p2c(Pt,ne),At="yval"in $?v.flat(St,$.yval):v.p2c(Ct,ie),!g(_t[0])||!g(At[0]))return n.warn("Fx.hover failed",$,q),h.unhoverRaw(q,$)}var De=1/0;function fe(Ue,Qe){for(Rt=0;Rt<Wt.length;Rt++)if((Yt=Wt[Rt])&&Yt[0]&&Yt[0].trace&&(zt=Yt[0].trace).visible===!0&&zt._length!==0&&["carpet","contourcarpet"].indexOf(zt._module.name)===-1){if(zt.type==="splom"?Xt=St[Kt=0]:(Xt=v.getSubplot(zt),Kt=St.indexOf(Xt)),se=mt,v.isUnifiedHover(se)&&(se=se.charAt(0)),Dt={cd:Yt,trace:zt,xa:Pt[Kt],ya:Ct[Kt],maxHoverDistance:Tt,maxSpikeDistance:kt,index:!1,distance:Math.min(De,Tt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:u.defaultLine,name:zt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},Lt[Xt]&&(Dt.subplot=Lt[Xt]._subplot),Lt._splomScenes&&Lt._splomScenes[zt.uid]&&(Dt.scene=Lt._splomScenes[zt.uid]),wt=Ut.length,se==="array"){var Ve=$[Rt];"pointNumber"in Ve?(Dt.index=Ve.pointNumber,se="closest"):(se="","xval"in Ve&&(de=Ve.xval,se="x"),"yval"in Ve&&(xe=Ve.yval,se=se?"closest":"y"))}else Ue!==void 0&&Qe!==void 0?(de=Ue,xe=Qe):(de=_t[Kt],xe=At[Kt]);if(Tt!==0)if(zt._module&&zt._module.hoverPoints){var rn=zt._module.hoverPoints(Dt,de,xe,se,{finiteRange:!0,hoverLayer:Lt._hoverlayer});if(rn)for(var an,un=0;un<rn.length;un++)an=rn[un],g(an.x0)&&g(an.y0)&&Ut.push(nt(an,mt))}else n.log("Unrecognized trace type in hover:",zt);if(mt==="closest"&&Ut.length>wt&&(Ut.splice(0,wt),De=Ut[0].distance),ft&&kt!==0&&Ut.length===0){Dt.distance=kt,Dt.index=!1;var sn=zt._module.hoverPoints(Dt,de,xe,"closest",{hoverLayer:Lt._hoverlayer});if(sn&&(sn=sn.filter(function(Zn){return Zn.spikeDistance<=kt})),sn&&sn.length){var on,gn=sn.filter(function(Zn){return Zn.xa.showspikes&&Zn.xa.spikesnap!=="hovered data"});if(gn.length){var Sn=gn[0];g(Sn.x0)&&g(Sn.y0)&&(on=at(Sn),(!me.vLinePoint||me.vLinePoint.spikeDistance>on.spikeDistance)&&(me.vLinePoint=on))}var Xn=sn.filter(function(Zn){return Zn.ya.showspikes&&Zn.ya.spikesnap!=="hovered data"});if(Xn.length){var Ln=Xn[0];g(Ln.x0)&&g(Ln.y0)&&(on=at(Ln),(!me.hLinePoint||me.hLinePoint.spikeDistance>on.spikeDistance)&&(me.hLinePoint=on))}}}}}function K(Ue,Qe,Ve){for(var rn,an=null,un=1/0,sn=0;sn<Ue.length;sn++)rn=Ue[sn].spikeDistance,Ve&&sn===0&&(rn=-1/0),rn<=un&&rn<=Qe&&(an=Ue[sn],un=rn);return an}function at(Ue){return Ue?{xa:Ue.xa,ya:Ue.ya,x:Ue.xSpike!==void 0?Ue.xSpike:(Ue.x0+Ue.x1)/2,y:Ue.ySpike!==void 0?Ue.ySpike:(Ue.y0+Ue.y1)/2,distance:Ue.distance,spikeDistance:Ue.spikeDistance,curveNumber:Ue.trace.index,color:Ue.color,pointNumber:Ue.index}:null}fe();var Et={fullLayout:Lt,container:Lt._hoverlayer,event:$},Ot=q._spikepoints,Bt={vLinePoint:me.vLinePoint,hLinePoint:me.hLinePoint};q._spikepoints=Bt;var Nt=function(){Ut.sort(function(Ue,Qe){return Ue.distance-Qe.distance}),Ut=function(Ue,Qe){for(var Ve=Qe.charAt(0),rn=[],an=[],un=[],sn=0;sn<Ue.length;sn++){var on=Ue[sn];m.traceIs(on.trace,"bar-like")||m.traceIs(on.trace,"box-violin")?un.push(on):on.trace[Ve+"period"]?an.push(on):rn.push(on)}return rn.concat(an).concat(un)}(Ut,mt)};Nt();var Ht=mt.charAt(0),Zt=(Ht==="x"||Ht==="y")&&Ut[0]&&I[Ut[0].trace.type];if(ft&&kt!==0&&Ut.length!==0){var Qt=K(Ut.filter(function(Ue){return Ue.ya.showspikes}),kt,Zt);me.hLinePoint=at(Qt);var oe=K(Ut.filter(function(Ue){return Ue.xa.showspikes}),kt,Zt);me.vLinePoint=at(oe)}if(Ut.length===0){var qt=h.unhoverRaw(q,$);return!ft||me.hLinePoint===null&&me.vLinePoint===null||E(Ot)&&S(q,me,Et),qt}if(ft&&E(Ot)&&S(q,me,Et),v.isXYhover(se)&&Ut[0].length!==0&&Ut[0].trace.type!=="splom"){var Te=Ut[0],Re=(Ut=_[Te.trace.type]?Ut.filter(function(Ue){return Ue.trace.index===Te.trace.index}):[Te]).length;fe(Q("x",Te,Lt),Q("y",Te,Lt));var pe,Se=[],Me={},re=0,$t=function(Ue){var Qe=_[Ue.trace.type]?O(Ue):Ue.trace.index;if(Me[Qe]){var Ve=Me[Qe]-1,rn=Se[Ve];Ve>0&&Math.abs(Ue.distance)<Math.abs(rn.distance)&&(Se[Ve]=Ue)}else re++,Me[Qe]=re,Se.push(Ue)};for(pe=0;pe<Re;pe++)$t(Ut[pe]);for(pe=Ut.length-1;pe>Re-1;pe--)$t(Ut[pe]);Ut=Se,Nt()}var ve=q._hoverdata,Ee=[],Fe=tt(q),je=rt(q);for(Mt=0;Mt<Ut.length;Mt++){var le=Ut[Mt],be=v.makeEventData(le,le.trace,le.cd);if(le.hovertemplate!==!1){var we=!1;le.cd[le.index]&&le.cd[le.index].ht&&(we=le.cd[le.index].ht),le.hovertemplate=we||le.trace.hovertemplate||!1}if(le.xa&&le.ya){var Ce=le.x0+le.xa._offset,Le=le.x1+le.xa._offset,Oe=le.y0+le.ya._offset,Ae=le.y1+le.ya._offset,Ne=Math.min(Ce,Le),ke=Math.max(Ce,Le),ze=Math.min(Oe,Ae),Ye=Math.max(Oe,Ae);be.bbox={x0:Ne+je,x1:ke+je,y0:ze+Fe,y1:Ye+Fe}}le.eventData=[be],Ee.push(be)}q._hoverdata=Ee;var We=mt==="y"&&(Wt.length>1||Ut.length>1)||mt==="closest"&&Vt&&Ut.length>1,Xe=u.combine(Lt.plot_bgcolor||u.background,Lt.paper_bgcolor),Ge=G(Ut,{gd:q,hovermode:mt,rotateLabels:We,bgColor:Xe,container:Lt._hoverlayer,outerContainer:Lt._paper.node(),commonLabelOpts:Lt.hoverlabel,hoverdistance:Lt.hoverdistance}),qe=Ge.hoverLabels;if(v.isUnifiedHover(mt)||(function(Ue,Qe,Ve,rn){var an,un,sn,on,gn,Sn,Xn,Ln=Qe?"xa":"ya",Zn=Qe?"ya":"xa",In=0,wn=1,qn=Ue.size(),Dn=new Array(qn),cn=0,Je=rn.minX,yn=rn.maxX,zn=rn.minY,pn=rn.maxY,xn=function(fn){return fn*Ve._invScaleX},vn=function(fn){return fn*Ve._invScaleY};function Tn(fn){var Gn=fn[0],Jn=fn[fn.length-1];if(un=Gn.pmin-Gn.pos-Gn.dp+Gn.size,sn=Jn.pos+Jn.dp+Jn.size-Gn.pmax,un>.01){for(gn=fn.length-1;gn>=0;gn--)fn[gn].dp+=un;an=!1}if(!(sn<.01)){if(un<-.01){for(gn=fn.length-1;gn>=0;gn--)fn[gn].dp-=sn;an=!1}if(an){var jn=0;for(on=0;on<fn.length;on++)(Sn=fn[on]).pos+Sn.dp+Sn.size>Gn.pmax&&jn++;for(on=fn.length-1;on>=0&&!(jn<=0);on--)(Sn=fn[on]).pos>Gn.pmax-1&&(Sn.del=!0,jn--);for(on=0;on<fn.length&&!(jn<=0);on++)if((Sn=fn[on]).pos<Gn.pmin+1)for(Sn.del=!0,jn--,sn=2*Sn.size,gn=fn.length-1;gn>=0;gn--)fn[gn].dp-=sn;for(on=fn.length-1;on>=0&&!(jn<=0);on--)(Sn=fn[on]).pos+Sn.dp+Sn.size>Gn.pmax&&(Sn.del=!0,jn--)}}}for(Ue.each(function(fn){var Gn=fn[Ln],Jn=fn[Zn],jn=Gn._id.charAt(0)==="x",vr=Gn.range;cn===0&&vr&&vr[0]>vr[1]!==jn&&(wn=-1);var xr=0,sr=jn?Ve.width:Ve.height;if(Ve.hovermode==="x"||Ve.hovermode==="y"){var ar,ir,wr=Y(fn,Qe),Tr=fn.anchor,Cr=Tr==="end"?-1:1;if(Tr==="middle")ir=(ar=fn.crossPos+(jn?vn(wr.y-fn.by/2):xn(fn.bx/2+fn.tx2width/2)))+(jn?vn(fn.by):xn(fn.bx));else if(jn)ir=(ar=fn.crossPos+vn(L+wr.y)-vn(fn.by/2-L))+vn(fn.by);else{var gr=xn(Cr*L+wr.x),Or=gr+xn(Cr*fn.bx);ar=fn.crossPos+Math.min(gr,Or),ir=fn.crossPos+Math.max(gr,Or)}jn?zn!==void 0&&pn!==void 0&&Math.min(ir,pn)-Math.max(ar,zn)>1&&(Jn.side==="left"?(xr=Jn._mainLinePosition,sr=Ve.width):sr=Jn._mainLinePosition):Je!==void 0&&yn!==void 0&&Math.min(ir,yn)-Math.max(ar,Je)>1&&(Jn.side==="top"?(xr=Jn._mainLinePosition,sr=Ve.height):sr=Jn._mainLinePosition)}Dn[cn++]=[{datum:fn,traceIndex:fn.trace.index,dp:0,pos:fn.pos,posref:fn.posref,size:fn.by*(jn?A:1)/2,pmin:xr,pmax:sr}]}),Dn.sort(function(fn,Gn){return fn[0].posref-Gn[0].posref||wn*(Gn[0].traceIndex-fn[0].traceIndex)});!an&&In<=qn;){for(In++,an=!0,on=0;on<Dn.length-1;){var kn=Dn[on],Cn=Dn[on+1],On=kn[kn.length-1],Qn=Cn[0];if((un=On.pos+On.dp+On.size-Qn.pos-Qn.dp+Qn.size)>.01&&On.pmin===Qn.pmin&&On.pmax===Qn.pmax){for(gn=Cn.length-1;gn>=0;gn--)Cn[gn].dp+=un;for(kn.push.apply(kn,Cn),Dn.splice(on+1,1),Xn=0,gn=kn.length-1;gn>=0;gn--)Xn+=kn[gn].dp;for(sn=Xn/kn.length,gn=kn.length-1;gn>=0;gn--)kn[gn].dp-=sn;an=!1}else on++}Dn.forEach(Tn)}for(on=Dn.length-1;on>=0;on--){var er=Dn[on];for(gn=er.length-1;gn>=0;gn--){var Vn=er[gn],Un=Vn.datum;Un.offset=Vn.dp,Un.del=Vn.del}}}(qe,We,Lt,Ge.commonLabelBoundingBox),Z(qe,We,Lt._invScaleX,Lt._invScaleY)),yt&&yt.tagName){var tn=m.getComponentMethod("annotations","hasClickToShow")(q,Ee);o(f.select(yt),tn?"pointer":"")}yt&&!st&&function(Ue,Qe,Ve){if(!Ve||Ve.length!==Ue._hoverdata.length)return!0;for(var rn=Ve.length-1;rn>=0;rn--){var an=Ve[rn],un=Ue._hoverdata[rn];if(an.curveNumber!==un.curveNumber||String(an.pointNumber)!==String(un.pointNumber)||String(an.pointNumbers)!==String(un.pointNumbers))return!0}return!1}(q,0,ve)&&(ve&&q.emit("plotly_unhover",{event:$,points:ve}),q.emit("plotly_hover",{event:$,points:q._hoverdata,xaxes:Pt,yaxes:Ct,xvals:_t,yvals:At}))})(H,F,R,j,J)})},d.loneHover=function(H,F){var R=!0;Array.isArray(H)||(R=!1,H=[H]);var j=F.gd,J=tt(j),q=rt(j),$=G(H.map(function(yt){var St=yt._x0||yt.x0||yt.x||0,Lt=yt._x1||yt.x1||yt.x||0,It=yt._y0||yt.y0||yt.y||0,it=yt._y1||yt.y1||yt.y||0,ft=yt.eventData;if(ft){var dt=Math.min(St,Lt),xt=Math.max(St,Lt),Pt=Math.min(It,it),Ct=Math.max(It,it),lt=yt.trace;if(m.traceIs(lt,"gl3d")){var ht=j._fullLayout[lt.scene]._scene.container,vt=ht.offsetLeft,gt=ht.offsetTop;dt+=vt,xt+=vt,Pt+=gt,Ct+=gt}ft.bbox={x0:dt+q,x1:xt+q,y0:Pt+J,y1:Ct+J},F.inOut_bbox&&F.inOut_bbox.push(ft.bbox)}else ft=!1;return{color:yt.color||u.defaultLine,x0:yt.x0||yt.x||0,x1:yt.x1||yt.x||0,y0:yt.y0||yt.y||0,y1:yt.y1||yt.y||0,xLabel:yt.xLabel,yLabel:yt.yLabel,zLabel:yt.zLabel,text:yt.text,name:yt.name,idealAlign:yt.idealAlign,borderColor:yt.borderColor,fontFamily:yt.fontFamily,fontSize:yt.fontSize,fontColor:yt.fontColor,nameLength:yt.nameLength,textAlign:yt.textAlign,trace:yt.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:yt.hovertemplate||!1,hovertemplateLabels:yt.hovertemplateLabels||!1,eventData:ft}}),{gd:j,hovermode:"closest",rotateLabels:!1,bgColor:F.bgColor||u.background,container:f.select(F.container),outerContainer:F.outerContainer||F.container}).hoverLabels,et=0,st=0;return $.sort(function(yt,St){return yt.y0-St.y0}).each(function(yt,St){var Lt=yt.y0-yt.by/2;yt.offset=Lt-5<et?et-Lt+5:0,et=Lt+yt.by+yt.offset,St===F.anchorIndex&&(st=yt.offset)}).each(function(yt){yt.offset-=st}),Z($,!1,j._fullLayout._invScaleX,j._fullLayout._invScaleY),R?$:$.node()};var N=/<extra>([\s\S]*)<\/extra>/;function G(H,F){var R=F.gd,j=R._fullLayout,J=F.hovermode,q=F.rotateLabels,$=F.bgColor,et=F.container,st=F.outerContainer,yt=F.commonLabelOpts||{};if(H.length===0)return[[]];var St=F.fontFamily||x.HOVERFONT,Lt=F.fontSize||x.HOVERFONTSIZE,It=H[0],it=It.xa,ft=It.ya,dt=J.charAt(0),xt=dt+"Label",Pt=It[xt];if(Pt===void 0&&it.type==="multicategory")for(var Ct=0;Ct<H.length&&(Pt=H[Ct][xt])===void 0;Ct++);var lt=ot(R,st),ht=lt.top,vt=lt.width,gt=lt.height,mt=Pt!==void 0&&It.distance<=F.hoverdistance&&(J==="x"||J==="y");if(mt){var Tt,kt,_t=!0;for(Tt=0;Tt<H.length;Tt++)if(_t&&H[Tt].zLabel===void 0&&(_t=!1),kt=H[Tt].hoverinfo||H[Tt].trace.hoverinfo){var At=Array.isArray(kt)?kt:kt.split("+");if(At.indexOf("all")===-1&&At.indexOf(J)===-1){mt=!1;break}}_t&&(mt=!1)}var Mt=et.selectAll("g.axistext").data(mt?[0]:[]);Mt.enter().append("g").classed("axistext",!0),Mt.exit().remove();var Rt={minX:0,maxX:0,minY:0,maxY:0};if(Mt.each(function(){var qt=f.select(this),Te=n.ensureSingle(qt,"path","",function(ze){ze.style({"stroke-width":"1px"})}),Re=n.ensureSingle(qt,"text","",function(ze){ze.attr("data-notex",1)}),pe=yt.bgcolor||u.defaultLine,Se=yt.bordercolor||u.contrast(pe),Me=u.contrast(pe),re={family:yt.font.family||St,size:yt.font.size||Lt,color:yt.font.color||Me};Te.style({fill:pe,stroke:Se}),Re.text(Pt).call(c.font,re).call(l.positionText,0,0).call(l.convertToTspans,R),qt.attr("transform","");var $t,ve,Ee=ot(R,Re.node());if(J==="x"){var Fe=it.side==="top"?"-":"";Re.attr("text-anchor","middle").call(l.positionText,0,it.side==="top"?ht-Ee.bottom-L-D:ht-Ee.top+L+D),$t=it._offset+(It.x0+It.x1)/2,ve=ft._offset+(it.side==="top"?0:ft._length);var je=Ee.width/2+D;$t<je?($t=je,Te.attr("d","M-"+(je-L)+",0L-"+(je-2*L)+","+Fe+L+"H"+je+"v"+Fe+(2*D+Ee.height)+"H-"+je+"V"+Fe+L+"Z")):$t>j.width-je?($t=j.width-je,Te.attr("d","M"+(je-L)+",0L"+je+","+Fe+L+"v"+Fe+(2*D+Ee.height)+"H-"+je+"V"+Fe+L+"H"+(je-2*L)+"Z")):Te.attr("d","M0,0L"+L+","+Fe+L+"H"+je+"v"+Fe+(2*D+Ee.height)+"H-"+je+"V"+Fe+L+"H-"+L+"Z"),Rt.minX=$t-je,Rt.maxX=$t+je,it.side==="top"?(Rt.minY=ve-(2*D+Ee.height),Rt.maxY=ve-D):(Rt.minY=ve+D,Rt.maxY=ve+(2*D+Ee.height))}else{var le,be,we;ft.side==="right"?(le="start",be=1,we="",$t=it._offset+it._length):(le="end",be=-1,we="-",$t=it._offset),ve=ft._offset+(It.y0+It.y1)/2,Re.attr("text-anchor",le),Te.attr("d","M0,0L"+we+L+","+L+"V"+(D+Ee.height/2)+"h"+we+(2*D+Ee.width)+"V-"+(D+Ee.height/2)+"H"+we+L+"V-"+L+"Z"),Rt.minY=ve-(D+Ee.height/2),Rt.maxY=ve+(D+Ee.height/2),ft.side==="right"?(Rt.minX=$t+L,Rt.maxX=$t+L+(2*D+Ee.width)):(Rt.minX=$t-L-(2*D+Ee.width),Rt.maxX=$t-L);var Ce,Le=Ee.height/2,Oe=ht-Ee.top-Le,Ae="clip"+j._uid+"commonlabel"+ft._id;if($t<Ee.width+2*D+L){Ce="M-"+(L+D)+"-"+Le+"h-"+(Ee.width-D)+"V"+Le+"h"+(Ee.width-D)+"Z";var Ne=Ee.width-$t+D;l.positionText(Re,Ne,Oe),le==="end"&&Re.selectAll("tspan").each(function(){var ze=f.select(this),Ye=c.tester.append("text").text(ze.text()).call(c.font,re),We=ot(R,Ye.node());Math.round(We.width)<Math.round(Ee.width)&&ze.attr("x",Ne-We.width),Ye.remove()})}else l.positionText(Re,be*(D+L),Oe),Ce=null;var ke=j._topclips.selectAll("#"+Ae).data(Ce?[0]:[]);ke.enter().append("clipPath").attr("id",Ae).append("path"),ke.exit().remove(),ke.select("path").attr("d",Ce),c.setClipUrl(Re,Ce?Ae:null,R)}qt.attr("transform",e($t,ve))}),v.isUnifiedHover(J)){et.selectAll("g.hovertext").remove();var Yt=H.filter(function(qt){return qt.hoverinfo!=="none"});if(Yt.length===0)return[];var zt=j.hoverlabel,Xt=zt.font,Kt={showlegend:!0,legend:{title:{text:Pt,font:Xt},font:Xt,bgcolor:zt.bgcolor,bordercolor:zt.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:j.legend?j.legend.traceorder:void 0,orientation:"v"}},se={font:Xt};w(Kt,se,R._fullData);var de=se.legend;de.entries=[];for(var xe=0;xe<Yt.length;xe++){var Dt=Yt[xe];if(Dt.hoverinfo!=="none"){var wt=z(Dt,!0,J,j,Pt),Ut=wt[0],Wt=wt[1];Dt.name=Wt,Dt.text=Wt!==""?Wt+" : "+Ut:Ut;var me=Dt.cd[Dt.index];me&&(me.mc&&(Dt.mc=me.mc),me.mcc&&(Dt.mc=me.mcc),me.mlc&&(Dt.mlc=me.mlc),me.mlcc&&(Dt.mlc=me.mlcc),me.mlw&&(Dt.mlw=me.mlw),me.mrc&&(Dt.mrc=me.mrc),me.dir&&(Dt.dir=me.dir)),Dt._distinct=!0,de.entries.push([Dt])}}de.entries.sort(function(qt,Te){return qt[0].trace.index-Te[0].trace.index}),de.layer=et,de._inHover=!0,de._groupTitleFont=zt.grouptitlefont,p(R,de);var Vt,ne,ie,_e,he=et.select("g.legend"),De=ot(R,he.node()),fe=De.width+2*D,K=De.height+2*D,at=Yt[0],Et=(at.x0+at.x1)/2,Ot=(at.y0+at.y1)/2,Bt=!(m.traceIs(at.trace,"bar-like")||m.traceIs(at.trace,"box-violin"));dt==="y"?Bt?(ne=Ot-D,Vt=Ot+D):(ne=Math.min.apply(null,Yt.map(function(qt){return Math.min(qt.y0,qt.y1)})),Vt=Math.max.apply(null,Yt.map(function(qt){return Math.max(qt.y0,qt.y1)}))):ne=Vt=n.mean(Yt.map(function(qt){return(qt.y0+qt.y1)/2}))-K/2,dt==="x"?Bt?(ie=Et+D,_e=Et-D):(ie=Math.max.apply(null,Yt.map(function(qt){return Math.max(qt.x0,qt.x1)})),_e=Math.min.apply(null,Yt.map(function(qt){return Math.min(qt.x0,qt.x1)}))):ie=_e=n.mean(Yt.map(function(qt){return(qt.x0+qt.x1)/2}))-fe/2;var Nt,Ht,Zt=it._offset,Qt=ft._offset;return _e+=Zt-fe,ne+=Qt-K,Nt=(ie+=Zt)+fe<vt&&ie>=0?ie:_e+fe<vt&&_e>=0?_e:Zt+fe<vt?Zt:ie-Et<Et-_e+fe?vt-fe:0,Nt+=D,Ht=(Vt+=Qt)+K<gt&&Vt>=0?Vt:ne+K<gt&&ne>=0?ne:Qt+K<gt?Qt:Vt-Ot<Ot-ne+K?gt-K:0,Ht+=D,he.attr("transform",e(Nt-1,Ht-1)),he}var oe=et.selectAll("g.hovertext").data(H,function(qt){return O(qt)});return oe.enter().append("g").classed("hovertext",!0).each(function(){var qt=f.select(this);qt.append("rect").call(u.fill,u.addOpacity($,.8)),qt.append("text").classed("name",!0),qt.append("path").style("stroke-width","1px"),qt.append("text").classed("nums",!0).call(c.font,St,Lt)}),oe.exit().remove(),oe.each(function(qt){var Te=f.select(this).attr("transform",""),Re=qt.color;Array.isArray(Re)&&(Re=Re[qt.eventData[0].pointNumber]);var pe=qt.bgcolor||Re,Se=u.combine(u.opacity(pe)?pe:u.defaultLine,$),Me=u.combine(u.opacity(Re)?Re:u.defaultLine,$),re=qt.borderColor||u.contrast(Se),$t=z(qt,mt,J,j,Pt,Te),ve=$t[0],Ee=$t[1],Fe=Te.select("text.nums").call(c.font,qt.fontFamily||St,qt.fontSize||Lt,qt.fontColor||re).text(ve).attr("data-notex",1).call(l.positionText,0,0).call(l.convertToTspans,R),je=Te.select("text.name"),le=0,be=0;if(Ee&&Ee!==ve){je.call(c.font,qt.fontFamily||St,qt.fontSize||Lt,Me).text(Ee).attr("data-notex",1).call(l.positionText,0,0).call(l.convertToTspans,R);var we=ot(R,je.node());le=we.width+2*D,be=we.height+2*D}else je.remove(),Te.select("rect").remove();Te.select("path").style({fill:Se,stroke:re});var Ce=qt.xa._offset+(qt.x0+qt.x1)/2,Le=qt.ya._offset+(qt.y0+qt.y1)/2,Oe=Math.abs(qt.x1-qt.x0),Ae=Math.abs(qt.y1-qt.y0),Ne=ot(R,Fe.node()),ke=Ne.width/j._invScaleX,ze=Ne.height/j._invScaleY;qt.ty0=(ht-Ne.top)/j._invScaleY,qt.bx=ke+2*D,qt.by=Math.max(ze+2*D,be),qt.anchor="start",qt.txwidth=ke,qt.tx2width=le,qt.offset=0;var Ye,We,Xe=(ke+L+D+le)*j._invScaleX;if(q)qt.pos=Ce,Ye=Le+Ae/2+Xe<=gt,We=Le-Ae/2-Xe>=0,qt.idealAlign!=="top"&&Ye||!We?Ye?(Le+=Ae/2,qt.anchor="start"):qt.anchor="middle":(Le-=Ae/2,qt.anchor="end"),qt.crossPos=Le;else{if(qt.pos=Le,Ye=Ce+Oe/2+Xe<=vt,We=Ce-Oe/2-Xe>=0,qt.idealAlign!=="left"&&Ye||!We)if(Ye)Ce+=Oe/2,qt.anchor="start";else{qt.anchor="middle";var Ge=Xe/2,qe=Ce+Ge-vt,tn=Ce-Ge;qe>0&&(Ce-=qe),tn<0&&(Ce+=-tn)}else Ce-=Oe/2,qt.anchor="end";qt.crossPos=Ce}Fe.attr("text-anchor",qt.anchor),le&&je.attr("text-anchor",qt.anchor),Te.attr("transform",e(Ce,Le)+(q?r(b):""))}),{hoverLabels:oe,commonLabelBoundingBox:Rt}}function z(H,F,R,j,J,q){var $="",et="";H.nameOverride!==void 0&&(H.name=H.nameOverride),H.name&&(H.trace._meta&&(H.name=n.templateString(H.name,H.trace._meta)),$=V(H.name,H.nameLength));var st=R.charAt(0),yt=st==="x"?"y":"x";H.zLabel!==void 0?(H.xLabel!==void 0&&(et+="x: "+H.xLabel+"<br>"),H.yLabel!==void 0&&(et+="y: "+H.yLabel+"<br>"),H.trace.type!=="choropleth"&&H.trace.type!=="choroplethmapbox"&&(et+=(et?"z: ":"")+H.zLabel)):F&&H[st+"Label"]===J?et=H[yt+"Label"]||"":H.xLabel===void 0?H.yLabel!==void 0&&H.trace.type!=="scattercarpet"&&(et=H.yLabel):et=H.yLabel===void 0?H.xLabel:"("+H.xLabel+", "+H.yLabel+")",!H.text&&H.text!==0||Array.isArray(H.text)||(et+=(et?"<br>":"")+H.text),H.extraText!==void 0&&(et+=(et?"<br>":"")+H.extraText),q&&et===""&&!H.hovertemplate&&($===""&&q.remove(),et=$);var St=H.hovertemplate||!1;if(St){var Lt=H.hovertemplateLabels||H;H[st+"Label"]!==J&&(Lt[st+"other"]=Lt[st+"Val"],Lt[st+"otherLabel"]=Lt[st+"Label"]),et=(et=n.hovertemplateString(St,Lt,j._d3locale,H.eventData[0]||{},H.trace._meta)).replace(N,function(It,it){return $=V(it,H.nameLength),""})}return[et,$]}function Y(H,F){var R=0,j=H.offset;return F&&(j*=-k,R=H.offset*P),{x:R,y:j}}function Z(H,F,R,j){var J=function($){return $*R},q=function($){return $*j};H.each(function($){var et=f.select(this);if($.del)return et.remove();var st,yt,St,Lt,It=et.select("text.nums"),it=$.anchor,ft=it==="end"?-1:1,dt=(Lt=(St=(yt={start:1,end:-1,middle:0}[(st=$).anchor])*(L+D))+yt*(st.txwidth+D),st.anchor==="middle"&&(St-=st.tx2width/2,Lt+=st.txwidth/2+D),{alignShift:yt,textShiftX:St,text2ShiftX:Lt}),xt=Y($,F),Pt=xt.x,Ct=xt.y,lt=it==="middle";et.select("path").attr("d",lt?"M-"+J($.bx/2+$.tx2width/2)+","+q(Ct-$.by/2)+"h"+J($.bx)+"v"+q($.by)+"h-"+J($.bx)+"Z":"M0,0L"+J(ft*L+Pt)+","+q(L+Ct)+"v"+q($.by/2-L)+"h"+J(ft*$.bx)+"v-"+q($.by)+"H"+J(ft*L+Pt)+"V"+q(Ct-L)+"Z");var ht=Pt+dt.textShiftX,vt=Ct+$.ty0-$.by/2+D,gt=$.textAlign||"auto";gt!=="auto"&&(gt==="left"&&it!=="start"?(It.attr("text-anchor","start"),ht=lt?-$.bx/2-$.tx2width/2+D:-$.bx-D):gt==="right"&&it!=="end"&&(It.attr("text-anchor","end"),ht=lt?$.bx/2-$.tx2width/2-D:$.bx+D)),It.call(l.positionText,J(ht),q(vt)),$.tx2width&&(et.select("text.name").call(l.positionText,J(dt.text2ShiftX+dt.alignShift*D+Pt),q(Ct+$.ty0-$.by/2+D)),et.select("rect").call(c.setRect,J(dt.text2ShiftX+(dt.alignShift-1)*$.tx2width/2+Pt),q(Ct-$.by/2-1),J($.tx2width),q($.by+2)))})}function nt(H,F){var R=H.index,j=H.trace||{},J=H.cd[0],q=H.cd[R]||{};function $(It){return It||g(It)&&It===0}var et=Array.isArray(R)?function(It,it){var ft=n.castOption(J,R,It);return $(ft)?ft:n.extractOption({},j,"",it)}:function(It,it){return n.extractOption(q,j,It,it)};function st(It,it,ft){var dt=et(it,ft);$(dt)&&(H[It]=dt)}if(st("hoverinfo","hi","hoverinfo"),st("bgcolor","hbg","hoverlabel.bgcolor"),st("borderColor","hbc","hoverlabel.bordercolor"),st("fontFamily","htf","hoverlabel.font.family"),st("fontSize","hts","hoverlabel.font.size"),st("fontColor","htc","hoverlabel.font.color"),st("nameLength","hnl","hoverlabel.namelength"),st("textAlign","hta","hoverlabel.align"),H.posref=F==="y"||F==="closest"&&j.orientation==="h"?H.xa._offset+(H.x0+H.x1)/2:H.ya._offset+(H.y0+H.y1)/2,H.x0=n.constrain(H.x0,0,H.xa._length),H.x1=n.constrain(H.x1,0,H.xa._length),H.y0=n.constrain(H.y0,0,H.ya._length),H.y1=n.constrain(H.y1,0,H.ya._length),H.xLabelVal!==void 0&&(H.xLabel="xLabel"in H?H.xLabel:y.hoverLabelText(H.xa,H.xLabelVal,j.xhoverformat),H.xVal=H.xa.c2d(H.xLabelVal)),H.yLabelVal!==void 0&&(H.yLabel="yLabel"in H?H.yLabel:y.hoverLabelText(H.ya,H.yLabelVal,j.yhoverformat),H.yVal=H.ya.c2d(H.yLabelVal)),H.zLabelVal!==void 0&&H.zLabel===void 0&&(H.zLabel=String(H.zLabelVal)),!(isNaN(H.xerr)||H.xa.type==="log"&&H.xerr<=0)){var yt=y.tickText(H.xa,H.xa.c2l(H.xerr),"hover").text;H.xerrneg!==void 0?H.xLabel+=" +"+yt+" / -"+y.tickText(H.xa,H.xa.c2l(H.xerrneg),"hover").text:H.xLabel+="  "+yt,F==="x"&&(H.distance+=1)}if(!(isNaN(H.yerr)||H.ya.type==="log"&&H.yerr<=0)){var St=y.tickText(H.ya,H.ya.c2l(H.yerr),"hover").text;H.yerrneg!==void 0?H.yLabel+=" +"+St+" / -"+y.tickText(H.ya,H.ya.c2l(H.yerrneg),"hover").text:H.yLabel+="  "+St,F==="y"&&(H.distance+=1)}var Lt=H.hoverinfo||H.trace.hoverinfo;return Lt&&Lt!=="all"&&((Lt=Array.isArray(Lt)?Lt:Lt.split("+")).indexOf("x")===-1&&(H.xLabel=void 0),Lt.indexOf("y")===-1&&(H.yLabel=void 0),Lt.indexOf("z")===-1&&(H.zLabel=void 0),Lt.indexOf("text")===-1&&(H.text=void 0),Lt.indexOf("name")===-1&&(H.name=void 0)),H}function S(H,F,R){var j,J,q=R.container,$=R.fullLayout,et=$._size,st=R.event,yt=!!F.hLinePoint,St=!!F.vLinePoint;if(q.selectAll(".spikeline").remove(),St||yt){var Lt=u.combine($.plot_bgcolor,$.paper_bgcolor);if(yt){var It,it,ft=F.hLinePoint;j=ft&&ft.xa,(J=ft&&ft.ya).spikesnap==="cursor"?(It=st.pointerX,it=st.pointerY):(It=j._offset+ft.x,it=J._offset+ft.y);var dt,xt,Pt=a.readability(ft.color,Lt)<1.5?u.contrast(Lt):ft.color,Ct=J.spikemode,lt=J.spikethickness,ht=J.spikecolor||Pt,vt=y.getPxPosition(H,J);if(Ct.indexOf("toaxis")!==-1||Ct.indexOf("across")!==-1){if(Ct.indexOf("toaxis")!==-1&&(dt=vt,xt=It),Ct.indexOf("across")!==-1){var gt=J._counterDomainMin,mt=J._counterDomainMax;J.anchor==="free"&&(gt=Math.min(gt,J.position),mt=Math.max(mt,J.position)),dt=et.l+gt*et.w,xt=et.l+mt*et.w}q.insert("line",":first-child").attr({x1:dt,x2:xt,y1:it,y2:it,"stroke-width":lt,stroke:ht,"stroke-dasharray":c.dashStyle(J.spikedash,lt)}).classed("spikeline",!0).classed("crisp",!0),q.insert("line",":first-child").attr({x1:dt,x2:xt,y1:it,y2:it,"stroke-width":lt+2,stroke:Lt}).classed("spikeline",!0).classed("crisp",!0)}Ct.indexOf("marker")!==-1&&q.insert("circle",":first-child").attr({cx:vt+(J.side!=="right"?lt:-lt),cy:it,r:lt,fill:ht}).classed("spikeline",!0)}if(St){var Tt,kt,_t=F.vLinePoint;j=_t&&_t.xa,J=_t&&_t.ya,j.spikesnap==="cursor"?(Tt=st.pointerX,kt=st.pointerY):(Tt=j._offset+_t.x,kt=J._offset+_t.y);var At,Mt,Rt=a.readability(_t.color,Lt)<1.5?u.contrast(Lt):_t.color,Yt=j.spikemode,zt=j.spikethickness,Xt=j.spikecolor||Rt,Kt=y.getPxPosition(H,j);if(Yt.indexOf("toaxis")!==-1||Yt.indexOf("across")!==-1){if(Yt.indexOf("toaxis")!==-1&&(At=Kt,Mt=kt),Yt.indexOf("across")!==-1){var se=j._counterDomainMin,de=j._counterDomainMax;j.anchor==="free"&&(se=Math.min(se,j.position),de=Math.max(de,j.position)),At=et.t+(1-de)*et.h,Mt=et.t+(1-se)*et.h}q.insert("line",":first-child").attr({x1:Tt,x2:Tt,y1:At,y2:Mt,"stroke-width":zt,stroke:Xt,"stroke-dasharray":c.dashStyle(j.spikedash,zt)}).classed("spikeline",!0).classed("crisp",!0),q.insert("line",":first-child").attr({x1:Tt,x2:Tt,y1:At,y2:Mt,"stroke-width":zt+2,stroke:Lt}).classed("spikeline",!0).classed("crisp",!0)}Yt.indexOf("marker")!==-1&&q.insert("circle",":first-child").attr({cx:Tt,cy:Kt-(j.side!=="top"?zt:-zt),r:zt,fill:Xt}).classed("spikeline",!0)}}}function E(H,F){return!F||F.vLinePoint!==H._spikepoints.vLinePoint||F.hLinePoint!==H._spikepoints.hLinePoint}function V(H,F){return l.plainText(H||"",{len:F,allowedTags:["br","sub","sup","b","i","em"]})}function Q(H,F,R){var j=F[H+"a"],J=F[H+"Val"],q=F.cd[0];if(j.type==="category"||j.type==="multicategory")J=j._categoriesMap[J];else if(j.type==="date"){var $=F.trace[H+"periodalignment"];if($){var et=F.cd[F.index],st=et[H+"Start"];st===void 0&&(st=et[H]);var yt=et[H+"End"];yt===void 0&&(yt=et[H]);var St=yt-st;$==="end"?J+=St:$==="middle"&&(J+=St/2)}J=j.d2c(J)}return q&&q.t&&q.t.posLetter===j._id&&(R.boxmode!=="group"&&R.violinmode!=="group"||(J+=q.t.dPos)),J}function tt(H){return H.offsetTop+H.clientTop}function rt(H){return H.offsetLeft+H.clientLeft}function ot(H,F){var R=H._fullLayout,j=F.getBoundingClientRect(),J=j.left,q=j.top,$=J+j.width,et=q+j.height,st=n.apply3DTransform(R._invTransform)(J,q),yt=n.apply3DTransform(R._invTransform)($,et),St=st[0],Lt=st[1],It=yt[0],it=yt[1];return{x:St,y:Lt,width:It-St,height:it-Lt,top:Math.min(Lt,it),left:Math.min(St,It),right:Math.max(St,It),bottom:Math.max(Lt,it)}}},8048:function(X,d,t){var f=t(1828),g=t(7901),a=t(3469).isUnifiedHover;X.exports=function(n,e,r,i){i=i||{};var l=e.legend;function o(c){i.font[c]||(i.font[c]=l?e.legend.font[c]:e.font[c])}e&&a(e.hovermode)&&(i.font||(i.font={}),o("size"),o("family"),o("color"),l?(i.bgcolor||(i.bgcolor=g.combine(e.legend.bgcolor,e.paper_bgcolor)),i.bordercolor||(i.bordercolor=e.legend.bordercolor)):i.bgcolor||(i.bgcolor=e.paper_bgcolor)),r("hoverlabel.bgcolor",i.bgcolor),r("hoverlabel.bordercolor",i.bordercolor),r("hoverlabel.namelength",i.namelength),f.coerceFont(r,"hoverlabel.font",i.font),r("hoverlabel.align",i.align)}},8212:function(X,d,t){var f=t(1828),g=t(528);X.exports=function(a,n){function e(r,i){return n[r]!==void 0?n[r]:f.coerce(a,n,g,r,i)}return e("clickmode"),e("hovermode")}},211:function(X,d,t){var f=t(9898),g=t(1828),a=t(8569),n=t(3469),e=t(528),r=t(8335);X.exports={moduleType:"component",name:"fx",constants:t(6675),schema:{layout:e},attributes:t(7914),layoutAttributes:e,supplyLayoutGlobalDefaults:t(2774),supplyDefaults:t(4268),supplyLayoutDefaults:t(4938),calc:t(732),getDistanceFunction:n.getDistanceFunction,getClosest:n.getClosest,inbox:n.inbox,quadrature:n.quadrature,appendArrayPointValue:n.appendArrayPointValue,castHoverOption:function(i,l,o){return g.castOption(i,l,"hoverlabel."+o)},castHoverinfo:function(i,l,o){return g.castOption(i,o,"hoverinfo",function(c){return g.coerceHoverinfo({hoverinfo:c},{_module:i._module},l)})},hover:r.hover,unhover:a.unhover,loneHover:r.loneHover,loneUnhover:function(i){var l=g.isD3Selection(i)?i:f.select(i);l.selectAll("g.hovertext").remove(),l.selectAll(".spikeline").remove()},click:t(5914)}},528:function(X,d,t){var f=t(6675),g=t(1940),a=g({editType:"none"});a.family.dflt=f.HOVERFONT,a.size.dflt=f.HOVERFONTSIZE,X.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:a,grouptitlefont:g({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},4938:function(X,d,t){var f=t(1828),g=t(528),a=t(8212),n=t(8048);X.exports=function(e,r){function i(u,h){return f.coerce(e,r,g,u,h)}a(e,r)&&(i("hoverdistance"),i("spikedistance")),i("dragmode")==="select"&&i("selectdirection");var l=r._has("mapbox"),o=r._has("geo"),c=r._basePlotModules.length;r.dragmode==="zoom"&&((l||o)&&c===1||l&&o&&c===2)&&(r.dragmode="pan"),n(e,r,i),f.coerceFont(i,"hoverlabel.grouptitlefont",r.hoverlabel.font)}},2774:function(X,d,t){var f=t(1828),g=t(8048),a=t(528);X.exports=function(n,e){g(n,e,function(r,i){return f.coerce(n,e,a,r,i)})}},3312:function(X,d,t){var f=t(1828),g=t(587).counter,a=t(7670).Y,n=t(5555).idRegex,e=t(4467),r={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[g("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[n.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[n.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:a({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function i(c,u,h){var y=u[h+"axes"],m=Object.keys((c._splomAxes||{})[h]||{});return Array.isArray(y)?y:m.length?m:void 0}function l(c,u,h,y,m,v){var x=u(c+"gap",h),w=u("domain."+c);u(c+"side",y);for(var p=new Array(m),b=w[0],T=(w[1]-b)/(m-x),A=T*(1-x),P=0;P<m;P++){var k=b+T*P;p[v?m-1-P:P]=[k,k+A]}return p}function o(c,u,h,y,m){var v,x=new Array(h);function w(p,b){u.indexOf(b)!==-1&&y[b]===void 0?(x[p]=b,y[b]=p):x[p]=""}if(Array.isArray(c))for(v=0;v<h;v++)w(v,c[v]);else for(w(0,m),v=1;v<h;v++)w(v,m+(v+1));return x}X.exports={moduleType:"component",name:"grid",schema:{layout:{grid:r}},layoutAttributes:r,sizeDefaults:function(c,u){var h=c.grid||{},y=i(u,h,"x"),m=i(u,h,"y");if(c.grid||y||m){var v,x,w=Array.isArray(h.subplots)&&Array.isArray(h.subplots[0]),p=Array.isArray(y),b=Array.isArray(m),T=p&&y!==h.xaxes&&b&&m!==h.yaxes;w?(v=h.subplots.length,x=h.subplots[0].length):(b&&(v=m.length),p&&(x=y.length));var A=e.newContainer(u,"grid"),P=N("rows",v),k=N("columns",x);if(P*k>1){w||p||b||N("pattern")==="independent"&&(w=!0),A._hasSubplotGrid=w;var L,D,_=N("roworder")==="top to bottom",I=w?.2:.1,O=w?.3:.1;T&&u._splomGridDflt&&(L=u._splomGridDflt.xside,D=u._splomGridDflt.yside),A._domains={x:l("x",N,I,L,k),y:l("y",N,O,D,P,_)}}else delete u.grid}function N(G,z){return f.coerce(h,A,r,G,z)}},contentDefaults:function(c,u){var h=u.grid;if(h&&h._domains){var y,m,v,x,w,p,b,T=c.grid||{},A=u._subplots,P=h._hasSubplotGrid,k=h.rows,L=h.columns,D=h.pattern==="independent",_=h._axisMap={};if(P){var I=T.subplots||[];p=h.subplots=new Array(k);var O=1;for(y=0;y<k;y++){var N=p[y]=new Array(L),G=I[y]||[];for(m=0;m<L;m++)if(D?(w=O===1?"xy":"x"+O+"y"+O,O++):w=G[m],N[m]="",A.cartesian.indexOf(w)!==-1){if(b=w.indexOf("y"),v=w.slice(0,b),x=w.slice(b),_[v]!==void 0&&_[v]!==m||_[x]!==void 0&&_[x]!==y)continue;N[m]=w,_[v]=m,_[x]=y}}}else{var z=i(u,T,"x"),Y=i(u,T,"y");h.xaxes=o(z,A.xaxis,L,_,"x"),h.yaxes=o(Y,A.yaxis,k,_,"y")}var Z=h._anchors={},nt=h.roworder==="top to bottom";for(var S in _){var E,V,Q,tt=S.charAt(0),rt=h[tt+"side"];if(rt.length<8)Z[S]="free";else if(tt==="x"){if(rt.charAt(0)==="t"===nt?(E=0,V=1,Q=k):(E=k-1,V=-1,Q=-1),P){var ot=_[S];for(y=E;y!==Q;y+=V)if((w=p[y][ot])&&(b=w.indexOf("y"),w.slice(0,b)===S)){Z[S]=w.slice(b);break}}else for(y=E;y!==Q;y+=V)if(x=h.yaxes[y],A.cartesian.indexOf(S+x)!==-1){Z[S]=x;break}}else if(rt.charAt(0)==="l"?(E=0,V=1,Q=L):(E=L-1,V=-1,Q=-1),P){var H=_[S];for(y=E;y!==Q;y+=V)if((w=p[H][y])&&(b=w.indexOf("y"),w.slice(b)===S)){Z[S]=w.slice(0,b);break}}else for(y=E;y!==Q;y+=V)if(v=h.xaxes[y],A.cartesian.indexOf(v+S)!==-1){Z[S]=v;break}}}}}},9819:function(X,d,t){var f=t(5555),g=t(4467).templatedArray;t(4695),X.exports=g("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",f.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",f.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},5378:function(X,d,t){var f=t(2770),g=t(8163);X.exports=function(a,n,e,r){n=n||{};var i=e==="log"&&n.type==="linear",l=e==="linear"&&n.type==="log";if(i||l){for(var o,c,u=a._fullLayout.images,h=n._id.charAt(0),y=0;y<u.length;y++)if(c="images["+y+"].",(o=u[y])[h+"ref"]===n._id){var m=o[h],v=o["size"+h],x=null,w=null;if(i){x=g(m,n.range);var p=v/Math.pow(10,x)/2;w=2*Math.log(p+Math.sqrt(1+p*p))/Math.LN10}else w=(x=Math.pow(10,m))*(Math.pow(10,v/2)-Math.pow(10,-v/2));f(x)?f(w)||(w=null):(x=null,w=null),r(c+h,x),r(c+"size"+h,w)}}}},1603:function(X,d,t){var f=t(1828),g=t(9298),a=t(5501),n=t(9819);function e(r,i,l){function o(x,w){return f.coerce(r,i,n,x,w)}var c=o("source");if(!o("visible",!!c))return i;o("layer"),o("xanchor"),o("yanchor"),o("sizex"),o("sizey"),o("sizing"),o("opacity");for(var u={_fullLayout:l},h=["x","y"],y=0;y<2;y++){var m=h[y],v=g.coerceRef(r,i,u,m,"paper",void 0);v!=="paper"&&g.getFromId(u,v)._imgIndices.push(i._index),g.coercePosition(i,u,o,v,m,0)}return i}X.exports=function(r,i){a(r,i,{name:"images",handleItemDefaults:e})}},750:function(X,d,t){var f=t(9898),g=t(1424),a=t(9298),n=t(1675),e=t(7922);X.exports=function(r){var i,l,o=r._fullLayout,c=[],u={},h=[];for(l=0;l<o.images.length;l++){var y=o.images[l];if(y.visible)if(y.layer==="below"&&y.xref!=="paper"&&y.yref!=="paper"){i=n.ref2id(y.xref)+n.ref2id(y.yref);var m=o._plots[i];if(!m){h.push(y);continue}m.mainplot&&(i=m.mainplot.id),u[i]||(u[i]=[]),u[i].push(y)}else y.layer==="above"?c.push(y):h.push(y)}var v={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},x={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function w(L){var D=f.select(this);if(this._imgSrc!==L.source)if(D.attr("xmlns",e.svg),L.source&&L.source.slice(0,5)==="data:")D.attr("xlink:href",L.source),this._imgSrc=L.source;else{var _=new Promise(function(I){var O=new Image;function N(){D.remove(),I()}this.img=O,O.setAttribute("crossOrigin","anonymous"),O.onerror=N,O.onload=function(){var G=document.createElement("canvas");G.width=this.width,G.height=this.height,G.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var z=G.toDataURL("image/png");D.attr("xlink:href",z),I()},D.on("error",N),O.src=L.source,this._imgSrc=L.source}.bind(this));r._promises.push(_)}}function p(L){var D,_,I=f.select(this),O=a.getFromId(r,L.xref),N=a.getFromId(r,L.yref),G=a.getRefType(L.xref)==="domain",z=a.getRefType(L.yref)==="domain",Y=o._size;D=O!==void 0?typeof L.xref=="string"&&G?O._length*L.sizex:Math.abs(O.l2p(L.sizex)-O.l2p(0)):L.sizex*Y.w,_=N!==void 0?typeof L.yref=="string"&&z?N._length*L.sizey:Math.abs(N.l2p(L.sizey)-N.l2p(0)):L.sizey*Y.h;var Z,nt,S=D*v[L.xanchor].offset,E=_*x[L.yanchor].offset,V=v[L.xanchor].sizing+x[L.yanchor].sizing;switch(Z=O!==void 0?typeof L.xref=="string"&&G?O._length*L.x+O._offset:O.r2p(L.x)+O._offset:L.x*Y.w+Y.l,Z+=S,nt=N!==void 0?typeof L.yref=="string"&&z?N._length*(1-L.y)+N._offset:N.r2p(L.y)+N._offset:Y.h-L.y*Y.h+Y.t,nt+=E,L.sizing){case"fill":V+=" slice";break;case"stretch":V="none"}I.attr({x:Z,y:nt,width:D,height:_,preserveAspectRatio:V,opacity:L.opacity});var Q=(O&&a.getRefType(L.xref)!=="domain"?O._id:"")+(N&&a.getRefType(L.yref)!=="domain"?N._id:"");g.setClipUrl(I,Q?"clip"+o._uid+Q:null,r)}var b=o._imageLowerLayer.selectAll("image").data(h),T=o._imageUpperLayer.selectAll("image").data(c);b.enter().append("image"),T.enter().append("image"),b.exit().remove(),T.exit().remove(),b.each(function(L){w.bind(this)(L),p.bind(this)(L)}),T.each(function(L){w.bind(this)(L),p.bind(this)(L)});var A=Object.keys(o._plots);for(l=0;l<A.length;l++){i=A[l];var P=o._plots[i];if(P.imagelayer){var k=P.imagelayer.selectAll("image").data(u[i]||[]);k.enter().append("image"),k.exit().remove(),k.each(function(L){w.bind(this)(L),p.bind(this)(L)})}}}},8804:function(X,d,t){X.exports={moduleType:"component",name:"images",layoutAttributes:t(9819),supplyLayoutDefaults:t(1603),includeBasePlot:t(6325)("images"),draw:t(750),convertCoords:t(5378)}},3030:function(X,d,t){var f=t(1940),g=t(2399);X.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:f({editType:"legend"}),grouptitlefont:f({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:f({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},4928:function(X){X.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},9017:function(X,d,t){var f=t(3972),g=t(1828),a=t(4467),n=t(9012),e=t(3030),r=t(820),i=t(130);function l(o,c,u,h){var y=c[o]||{},m=a.newContainer(u,o);function v(V,Q){return g.coerce(y,m,e,V,Q)}var x=g.coerceFont(v,"font",u.font);if(v("bgcolor",u.paper_bgcolor),v("bordercolor"),v("visible")){for(var w,p=function(V,Q){var tt=w._input,rt=w;return g.coerce(tt,rt,n,V,Q)},b=u.font||{},T=g.coerceFont(v,"grouptitlefont",g.extendFlat({},b,{size:Math.round(1.1*b.size)})),A=0,P=!1,k="normal",L=(u.shapes||[]).filter(function(V){return V.showlegend}),D=h.concat(L).filter(function(V){return o===(V.legend||"legend")}),_=0;_<D.length;_++)if((w=D[_]).visible){var I=w._isShape;(w.showlegend||w._dfltShowLegend&&!(w._module&&w._module.attributes&&w._module.attributes.showlegend&&w._module.attributes.showlegend.dflt===!1))&&(A++,w.showlegend&&(P=!0,(!I&&f.traceIs(w,"pie-like")||w._input.showlegend===!0)&&A++),g.coerceFont(p,"legendgrouptitle.font",T)),(!I&&f.traceIs(w,"bar")&&u.barmode==="stack"||["tonextx","tonexty"].indexOf(w.fill)!==-1)&&(k=i.isGrouped({traceorder:k})?"grouped+reversed":"reversed"),w.legendgroup!==void 0&&w.legendgroup!==""&&(k=i.isReversed({traceorder:k})?"reversed+grouped":"grouped")}var O=g.coerce(c,u,r,"showlegend",P&&A>(o==="legend"?1:0));if(O===!1&&(u[o]=void 0),(O!==!1||y.uirevision)&&(v("uirevision",u.uirevision),O!==!1)){v("borderwidth");var N,G,z,Y=v("orientation")==="h",Z=v("yref")==="paper",nt=v("xref")==="paper",S="left";if(Y?(N=0,f.getComponentMethod("rangeslider","isVisible")(c.xaxis)?Z?(G=1.1,z="bottom"):(G=1,z="top"):Z?(G=-.1,z="top"):(G=0,z="bottom")):(G=1,z="auto",nt?N=1.02:(N=1,S="right")),g.coerce(y,m,{x:{valType:"number",editType:"legend",min:nt?-2:0,max:nt?3:1,dflt:N}},"x"),g.coerce(y,m,{y:{valType:"number",editType:"legend",min:Z?-2:0,max:Z?3:1,dflt:G}},"y"),v("traceorder",k),i.isGrouped(u[o])&&v("tracegroupgap"),v("entrywidth"),v("entrywidthmode"),v("itemsizing"),v("itemwidth"),v("itemclick"),v("itemdoubleclick"),v("groupclick"),v("xanchor",S),v("yanchor",z),v("valign"),g.noneOrAll(y,m,["x","y"]),v("title.text")){v("title.side",Y?"left":"top");var E=g.extendFlat({},x,{size:g.bigFont(x.size)});g.coerceFont(v,"title.font",E)}}}}X.exports=function(o,c,u){var h,y=u.slice(),m=c.shapes;if(m)for(h=0;h<m.length;h++){var v=m[h];if(v.showlegend){var x={_input:v._input,visible:v.visible,showlegend:v.showlegend,legend:v.legend};y.push(x)}}var w=["legend"];for(h=0;h<y.length;h++)g.pushUnique(w,y[h].legend);for(c._legends=[],h=0;h<w.length;h++){var p=w[h];l(p,o,c,y),c[p]&&c[p].visible&&(c[p]._id=p),c._legends.push(p)}}},3969:function(X,d,t){var f=t(9898),g=t(1828),a=t(4875),n=t(3972),e=t(1086),r=t(8569),i=t(1424),l=t(7901),o=t(3893),c=t(5167),u=t(4928),h=t(8783),y=h.LINE_SPACING,m=h.FROM_TL,v=h.FROM_BR,x=t(2424),w=t(3630),p=t(130),b=1,T=/^legend[0-9]*$/;function A(z,Y){var Z,nt,S=Y||{},E=z._fullLayout,V=G(S),Q=S._inHover;if(Q?(nt=S.layer,Z="hover"):(nt=E._infolayer,Z=V),nt){var tt;if(Z+=E._uid,z._legendMouseDownTime||(z._legendMouseDownTime=0),Q){if(!S.entries)return;tt=x(S.entries,S)}else{for(var rt=(z.calcdata||[]).slice(),ot=E.shapes,H=0;H<ot.length;H++){var F=ot[H];if(F.showlegend){var R={_isShape:!0,_fullInput:F,index:F._index,name:F.name||F.label.text||"shape "+F._index,legend:F.legend,legendgroup:F.legendgroup,legendgrouptitle:F.legendgrouptitle,legendrank:F.legendrank,legendwidth:F.legendwidth,showlegend:F.showlegend,visible:F.visible,opacity:F.opacity,mode:F.type==="line"?"lines":"markers",line:F.line,marker:{line:F.line,color:F.fillcolor,size:12,symbol:F.type==="rect"?"square":F.type==="circle"?"circle":"hexagon2"}};rt.push([{trace:R}])}}tt=E.showlegend&&x(rt,S,E._legends.length>1)}var j=E.hiddenlabels||[];if(!(Q||E.showlegend&&tt.length))return nt.selectAll("."+V).remove(),E._topdefs.select("#"+Z).remove(),a.autoMargin(z,V);var J=g.ensureSingle(nt,"g",V,function(it){Q||it.attr("pointer-events","all")}),q=g.ensureSingleById(E._topdefs,"clipPath",Z,function(it){it.append("rect")}),$=g.ensureSingle(J,"rect","bg",function(it){it.attr("shape-rendering","crispEdges")});$.call(l.stroke,S.bordercolor).call(l.fill,S.bgcolor).style("stroke-width",S.borderwidth+"px");var et,st=g.ensureSingle(J,"g","scrollbox"),yt=S.title;S._titleWidth=0,S._titleHeight=0,yt.text?((et=g.ensureSingle(st,"text",V+"titletext")).attr("text-anchor","start").call(i.font,yt.font).text(yt.text),I(et,st,z,S,b)):st.selectAll("."+V+"titletext").remove();var St=g.ensureSingle(J,"rect","scrollbar",function(it){it.attr(u.scrollBarEnterAttrs).call(l.fill,u.scrollBarColor)}),Lt=st.selectAll("g.groups").data(tt);Lt.enter().append("g").attr("class","groups"),Lt.exit().remove();var It=Lt.selectAll("g.traces").data(g.identity);It.enter().append("g").attr("class","traces"),It.exit().remove(),It.style("opacity",function(it){var ft=it[0].trace;return n.traceIs(ft,"pie-like")?j.indexOf(it[0].label)!==-1?.5:1:ft.visible==="legendonly"?.5:1}).each(function(){f.select(this).call(L,z,S)}).call(w,z,S).each(function(){Q||f.select(this).call(_,z,V)}),g.syncOrAsync([a.previousPromises,function(){return function(it,ft,dt,xt){var Pt=it._fullLayout,Ct=G(xt);xt||(xt=Pt[Ct]);var lt=Pt._size,ht=p.isVertical(xt),vt=p.isGrouped(xt),gt=xt.entrywidthmode==="fraction",mt=xt.borderwidth,Tt=2*mt,kt=u.itemGap,_t=xt.itemwidth+2*kt,At=2*(mt+kt),Mt=N(xt),Rt=xt.y<0||xt.y===0&&Mt==="top",Yt=xt.y>1||xt.y===1&&Mt==="bottom",zt=xt.tracegroupgap,Xt={};xt._maxHeight=Math.max(Rt||Yt?Pt.height/2:lt.h,30);var Kt=0;xt._width=0,xt._height=0;var se=function(Nt){var Ht=0,Zt=0,Qt=Nt.title.side;return Qt&&(Qt.indexOf("left")!==-1&&(Ht=Nt._titleWidth),Qt.indexOf("top")!==-1&&(Zt=Nt._titleHeight)),[Ht,Zt]}(xt);if(ht)dt.each(function(Nt){var Ht=Nt[0].height;i.setTranslate(this,mt+se[0],mt+se[1]+xt._height+Ht/2+kt),xt._height+=Ht,xt._width=Math.max(xt._width,Nt[0].width)}),Kt=_t+xt._width,xt._width+=kt+_t+Tt,xt._height+=At,vt&&(ft.each(function(Nt,Ht){i.setTranslate(this,0,Ht*xt.tracegroupgap)}),xt._height+=(xt._lgroupsLength-1)*xt.tracegroupgap);else{var de=O(xt),xe=xt.x<0||xt.x===0&&de==="right",Dt=xt.x>1||xt.x===1&&de==="left",wt=Yt||Rt,Ut=Pt.width/2;xt._maxWidth=Math.max(xe?wt&&de==="left"?lt.l+lt.w:Ut:Dt?wt&&de==="right"?lt.r+lt.w:Ut:lt.w,2*_t);var Wt=0,me=0;dt.each(function(Nt){var Ht=P(Nt,xt,_t);Wt=Math.max(Wt,Ht),me+=Ht}),Kt=null;var Vt=0;if(vt){var ne=0,ie=0,_e=0;ft.each(function(){var Nt=0,Ht=0;f.select(this).selectAll("g.traces").each(function(Qt){var oe=P(Qt,xt,_t),qt=Qt[0].height;i.setTranslate(this,se[0],se[1]+mt+kt+qt/2+Ht),Ht+=qt,Nt=Math.max(Nt,oe),Xt[Qt[0].trace.legendgroup]=Nt});var Zt=Nt+kt;ie>0&&Zt+mt+ie>xt._maxWidth?(Vt=Math.max(Vt,ie),ie=0,_e+=ne+zt,ne=Ht):ne=Math.max(ne,Ht),i.setTranslate(this,ie,_e),ie+=Zt}),xt._width=Math.max(Vt,ie)+mt,xt._height=_e+ne+At}else{var he=dt.size(),De=me+Tt+(he-1)*kt<xt._maxWidth,fe=0,K=0,at=0,Et=0;dt.each(function(Nt){var Ht=Nt[0].height,Zt=P(Nt,xt,_t),Qt=De?Zt:Wt;gt||(Qt+=kt),Qt+mt+K-kt>=xt._maxWidth&&(Vt=Math.max(Vt,Et),K=0,at+=fe,xt._height+=fe,fe=0),i.setTranslate(this,se[0]+mt+K,se[1]+mt+at+Ht/2+kt),Et=K+Zt+kt,K+=Qt,fe=Math.max(fe,Ht)}),De?(xt._width=K+Tt,xt._height=fe+At):(xt._width=Math.max(Vt,Et)+Tt,xt._height+=fe+At)}}xt._width=Math.ceil(Math.max(xt._width+se[0],xt._titleWidth+2*(mt+u.titlePad))),xt._height=Math.ceil(Math.max(xt._height+se[1],xt._titleHeight+2*(mt+u.itemGap))),xt._effHeight=Math.min(xt._height,xt._maxHeight);var Ot=it._context.edits,Bt=Ot.legendText||Ot.legendPosition;dt.each(function(Nt){var Ht=f.select(this).select("."+Ct+"toggle"),Zt=Nt[0].height,Qt=Nt[0].trace.legendgroup,oe=P(Nt,xt,_t);vt&&Qt!==""&&(oe=Xt[Qt]);var qt=Bt?_t:Kt||oe;ht||gt||(qt+=kt/2),i.setRect(Ht,0,-Zt/2,qt,Zt)})}(z,Lt,It,S)},function(){var it,ft,dt,xt,Pt=E._size,Ct=S.borderwidth,lt=S.xref==="paper",ht=S.yref==="paper";if(yt.text&&function(wt,Ut,Wt){if(Ut.title.side==="top center"||Ut.title.side==="top right"){var me=Ut.title.font.size*y,Vt=0,ne=wt.node(),ie=i.bBox(ne).width;Ut.title.side==="top center"?Vt=.5*(Ut._width-2*Wt-2*u.titlePad-ie):Ut.title.side==="top right"&&(Vt=Ut._width-2*Wt-2*u.titlePad-ie),o.positionText(wt,Wt+u.titlePad+Vt,Wt+me)}}(et,S,Ct),!Q){var vt,gt;vt=lt?Pt.l+Pt.w*S.x-m[O(S)]*S._width:E.width*S.x-m[O(S)]*S._width,gt=ht?Pt.t+Pt.h*(1-S.y)-m[N(S)]*S._effHeight:E.height*(1-S.y)-m[N(S)]*S._effHeight;var mt=function(wt,Ut,Wt,me){var Vt=wt._fullLayout,ne=Vt[Ut],ie=O(ne),_e=N(ne),he=ne.xref==="paper",De=ne.yref==="paper";wt._fullLayout._reservedMargin[Ut]={};var fe=ne.y<.5?"b":"t",K=ne.x<.5?"l":"r",at={r:Vt.width-Wt,l:Wt+ne._width,b:Vt.height-me,t:me+ne._effHeight};if(he&&De)return a.autoMargin(wt,Ut,{x:ne.x,y:ne.y,l:ne._width*m[ie],r:ne._width*v[ie],b:ne._effHeight*v[_e],t:ne._effHeight*m[_e]});he?wt._fullLayout._reservedMargin[Ut][fe]=at[fe]:De||ne.orientation==="v"?wt._fullLayout._reservedMargin[Ut][K]=at[K]:wt._fullLayout._reservedMargin[Ut][fe]=at[fe]}(z,V,vt,gt);if(mt)return;if(E.margin.autoexpand){var Tt=vt,kt=gt;vt=lt?g.constrain(vt,0,E.width-S._width):Tt,gt=ht?g.constrain(gt,0,E.height-S._effHeight):kt,vt!==Tt&&g.log("Constrain "+V+".x to make legend fit inside graph"),gt!==kt&&g.log("Constrain "+V+".y to make legend fit inside graph")}i.setTranslate(J,vt,gt)}if(St.on(".drag",null),J.on("wheel",null),Q||S._height<=S._maxHeight||z._context.staticPlot){var _t=S._effHeight;Q&&(_t=S._height),$.attr({width:S._width-Ct,height:_t-Ct,x:Ct/2,y:Ct/2}),i.setTranslate(st,0,0),q.select("rect").attr({width:S._width-2*Ct,height:_t-2*Ct,x:Ct,y:Ct}),i.setClipUrl(st,Z,z),i.setRect(St,0,0,0,0),delete S._scrollY}else{var At,Mt,Rt,Yt=Math.max(u.scrollBarMinHeight,S._effHeight*S._effHeight/S._height),zt=S._effHeight-Yt-2*u.scrollBarMargin,Xt=S._height-S._effHeight,Kt=zt/Xt,se=Math.min(S._scrollY||0,Xt);$.attr({width:S._width-2*Ct+u.scrollBarWidth+u.scrollBarMargin,height:S._effHeight-Ct,x:Ct/2,y:Ct/2}),q.select("rect").attr({width:S._width-2*Ct+u.scrollBarWidth+u.scrollBarMargin,height:S._effHeight-2*Ct,x:Ct,y:Ct+se}),i.setClipUrl(st,Z,z),Dt(se,Yt,Kt),J.on("wheel",function(){Dt(se=g.constrain(S._scrollY+f.event.deltaY/zt*Xt,0,Xt),Yt,Kt),se!==0&&se!==Xt&&f.event.preventDefault()});var de=f.behavior.drag().on("dragstart",function(){var wt=f.event.sourceEvent;At=wt.type==="touchstart"?wt.changedTouches[0].clientY:wt.clientY,Rt=se}).on("drag",function(){var wt=f.event.sourceEvent;wt.buttons===2||wt.ctrlKey||(Mt=wt.type==="touchmove"?wt.changedTouches[0].clientY:wt.clientY,se=function(Ut,Wt,me){var Vt=(me-Wt)/Kt+Ut;return g.constrain(Vt,0,Xt)}(Rt,At,Mt),Dt(se,Yt,Kt))});St.call(de);var xe=f.behavior.drag().on("dragstart",function(){var wt=f.event.sourceEvent;wt.type==="touchstart"&&(At=wt.changedTouches[0].clientY,Rt=se)}).on("drag",function(){var wt=f.event.sourceEvent;wt.type==="touchmove"&&(Mt=wt.changedTouches[0].clientY,se=function(Ut,Wt,me){var Vt=(Wt-me)/Kt+Ut;return g.constrain(Vt,0,Xt)}(Rt,At,Mt),Dt(se,Yt,Kt))});st.call(xe)}function Dt(wt,Ut,Wt){S._scrollY=z._fullLayout[V]._scrollY=wt,i.setTranslate(st,0,-wt),i.setRect(St,S._width,u.scrollBarMargin+wt*Wt,u.scrollBarWidth,Ut),q.select("rect").attr("y",Ct+wt)}z._context.edits.legendPosition&&(J.classed("cursor-move",!0),r.init({element:J.node(),gd:z,prepFn:function(){var wt=i.getTranslate(J);dt=wt.x,xt=wt.y},moveFn:function(wt,Ut){var Wt=dt+wt,me=xt+Ut;i.setTranslate(J,Wt,me),it=r.align(Wt,S._width,Pt.l,Pt.l+Pt.w,S.xanchor),ft=r.align(me+S._height,-S._height,Pt.t+Pt.h,Pt.t,S.yanchor)},doneFn:function(){if(it!==void 0&&ft!==void 0){var wt={};wt[V+".x"]=it,wt[V+".y"]=ft,n.call("_guiRelayout",z,wt)}},clickFn:function(wt,Ut){var Wt=nt.selectAll("g.traces").filter(function(){var me=this.getBoundingClientRect();return Ut.clientX>=me.left&&Ut.clientX<=me.right&&Ut.clientY>=me.top&&Ut.clientY<=me.bottom});Wt.size()>0&&k(z,J,Wt,wt,Ut)}}))}],z)}}function P(z,Y,Z){var nt=z[0],S=nt.width,E=Y.entrywidthmode,V=nt.trace.legendwidth||Y.entrywidth;return E==="fraction"?Y._maxWidth*V:Z+(V||S)}function k(z,Y,Z,nt,S){var E=Z.data()[0][0].trace,V={event:S,node:Z.node(),curveNumber:E.index,expandedIndex:E._expandedIndex,data:z.data,layout:z.layout,frames:z._transitionData._frames,config:z._context,fullData:z._fullData,fullLayout:z._fullLayout};E._group&&(V.group=E._group),n.traceIs(E,"pie-like")&&(V.label=Z.datum()[0].label);var Q=e.triggerHandler(z,"plotly_legendclick",V);if(nt===1){if(Q===!1)return;Y._clickTimeout=setTimeout(function(){z._fullLayout&&c(Z,z,nt)},z._context.doubleClickDelay)}else nt===2&&(Y._clickTimeout&&clearTimeout(Y._clickTimeout),z._legendMouseDownTime=0,e.triggerHandler(z,"plotly_legenddoubleclick",V)!==!1&&Q!==!1&&c(Z,z,nt))}function L(z,Y,Z){var nt,S,E=G(Z),V=z.data()[0][0],Q=V.trace,tt=n.traceIs(Q,"pie-like"),rt=!Z._inHover&&Y._context.edits.legendText&&!tt,ot=Z._maxNameLength;V.groupTitle?(nt=V.groupTitle.text,S=V.groupTitle.font):(S=Z.font,Z.entries?nt=V.text:(nt=tt?V.label:Q.name,Q._meta&&(nt=g.templateString(nt,Q._meta))));var H=g.ensureSingle(z,"text",E+"text");H.attr("text-anchor","start").call(i.font,S).text(rt?D(nt,ot):nt);var F=Z.itemwidth+2*u.itemGap;o.positionText(H,F,0),rt?H.call(o.makeEditable,{gd:Y,text:nt}).call(I,z,Y,Z).on("edit",function(R){this.text(D(R,ot)).call(I,z,Y,Z);var j=V.trace._fullInput||{},J={};if(n.hasTransform(j,"groupby")){var q=n.getTransformIndices(j,"groupby"),$=q[q.length-1],et=g.keyedContainer(j,"transforms["+$+"].styles","target","value.name");et.set(V.trace._group,R),J=et.constructUpdate()}else J.name=R;return j._isShape?n.call("_guiRelayout",Y,"shapes["+Q.index+"].name",J.name):n.call("_guiRestyle",Y,J,Q.index)}):I(H,z,Y,Z)}function D(z,Y){var Z=Math.max(4,Y);if(z&&z.trim().length>=Z/2)return z;for(var nt=Z-(z=z||"").length;nt>0;nt--)z+=" ";return z}function _(z,Y,Z){var nt,S=Y._context.doubleClickDelay,E=1,V=g.ensureSingle(z,"rect",Z+"toggle",function(Q){Y._context.staticPlot||Q.style("cursor","pointer").attr("pointer-events","all"),Q.call(l.fill,"rgba(0,0,0,0)")});Y._context.staticPlot||(V.on("mousedown",function(){(nt=new Date().getTime())-Y._legendMouseDownTime<S?E+=1:(E=1,Y._legendMouseDownTime=nt)}),V.on("mouseup",function(){if(!Y._dragged&&!Y._editing){var Q=Y._fullLayout[Z];new Date().getTime()-Y._legendMouseDownTime>S&&(E=Math.max(E-1,1)),k(Y,Q,z,E,f.event)}}))}function I(z,Y,Z,nt,S){nt._inHover&&z.attr("data-notex",!0),o.convertToTspans(z,Z,function(){(function(E,V,Q,tt){var rt=E.data()[0][0];if(Q._inHover||!rt||rt.trace.showlegend){var ot=E.select("g[class*=math-group]"),H=ot.node(),F=G(Q);Q||(Q=V._fullLayout[F]);var R,j,J=Q.borderwidth,q=(tt===b?Q.title.font:rt.groupTitle?rt.groupTitle.font:Q.font).size*y;if(H){var $=i.bBox(H);R=$.height,j=$.width,tt===b?i.setTranslate(ot,J,J+.75*R):i.setTranslate(ot,0,.25*R)}else{var et="."+F+(tt===b?"title":"")+"text",st=E.select(et),yt=o.lineCount(st),St=st.node();if(R=q*yt,j=St?i.bBox(St).width:0,tt===b)Q.title.side==="left"&&(j+=2*u.itemGap),o.positionText(st,J+u.titlePad,J+q);else{var Lt=2*u.itemGap+Q.itemwidth;rt.groupTitle&&(Lt=u.itemGap,j-=Q.itemwidth),o.positionText(st,Lt,-q*((yt-1)/2-.3))}}tt===b?(Q._titleWidth=j,Q._titleHeight=R):(rt.lineHeight=q,rt.height=Math.max(R,16)+3,rt.width=j)}else E.remove()})(Y,Z,nt,S)})}function O(z){return g.isRightAnchor(z)?"right":g.isCenterAnchor(z)?"center":"left"}function N(z){return g.isBottomAnchor(z)?"bottom":g.isMiddleAnchor(z)?"middle":"top"}function G(z){return z._id||"legend"}X.exports=function(z,Y){if(Y)A(z,Y);else{var Z=z._fullLayout,nt=Z._legends;Z._infolayer.selectAll('[class^="legend"]').each(function(){var V=f.select(this),Q=V.attr("class").split(" ")[0];Q.match(T)&&nt.indexOf(Q)===-1&&V.remove()});for(var S=0;S<nt.length;S++){var E=nt[S];A(z,z._fullLayout[E])}}}},2424:function(X,d,t){var f=t(3972),g=t(130);X.exports=function(a,n,e){var r,i,l=n._inHover,o=g.isGrouped(n),c=g.isReversed(n),u={},h=[],y=!1,m={},v=0,x=0;function w(nt,S,E){if(n.visible!==!1&&(!e||nt===n._id))if(S!==""&&g.isGrouped(n))h.indexOf(S)===-1?(h.push(S),y=!0,u[S]=[E]):u[S].push(E);else{var V="~~i"+v;h.push(V),u[V]=[E],v++}}for(r=0;r<a.length;r++){var p=a[r],b=p[0],T=b.trace,A=T.legend,P=T.legendgroup;if(l||T.visible&&T.showlegend)if(f.traceIs(T,"pie-like"))for(m[P]||(m[P]={}),i=0;i<p.length;i++){var k=p[i].label;m[P][k]||(w(A,P,{label:k,color:p[i].color,i:p[i].i,trace:T,pts:p[i].pts}),m[P][k]=!0,x=Math.max(x,(k||"").length))}else w(A,P,b),x=Math.max(x,(T.name||"").length)}if(!h.length)return[];var L=!y||!o,D=[];for(r=0;r<h.length;r++){var _=u[h[r]];L?D.push(_[0]):D.push(_)}for(L&&(D=[D]),r=0;r<D.length;r++){var I=1/0;for(i=0;i<D[r].length;i++){var O=D[r][i].trace.legendrank;I>O&&(I=O)}D[r][0]._groupMinRank=I,D[r][0]._preGroupSort=r}var N=function(nt,S){return nt.trace.legendrank-S.trace.legendrank||nt._preSort-S._preSort};for(D.forEach(function(nt,S){nt[0]._preGroupSort=S}),D.sort(function(nt,S){return nt[0]._groupMinRank-S[0]._groupMinRank||nt[0]._preGroupSort-S[0]._preGroupSort}),r=0;r<D.length;r++){D[r].forEach(function(nt,S){nt._preSort=S}),D[r].sort(N);var G=D[r][0].trace,z=null;for(i=0;i<D[r].length;i++){var Y=D[r][i].trace.legendgrouptitle;if(Y&&Y.text){z=Y,l&&(Y.font=n._groupTitleFont);break}}if(c&&D[r].reverse(),z){var Z=!1;for(i=0;i<D[r].length;i++)if(f.traceIs(D[r][i].trace,"pie-like")){Z=!0;break}D[r].unshift({i:-1,groupTitle:z,noClick:Z,trace:{showlegend:G.showlegend,legendgroup:G.legendgroup,visible:n.groupclick==="toggleitem"||G.visible}})}for(i=0;i<D[r].length;i++)D[r][i]=[D[r][i]]}return n._lgroupsLength=D.length,n._maxNameLength=x,D}},5167:function(X,d,t){var f=t(3972),g=t(1828),a=g.pushUnique,n=!0;X.exports=function(e,r,i){var l=r._fullLayout;if(!r._dragged&&!r._editing){var o,c=l.legend.itemclick,u=l.legend.itemdoubleclick,h=l.legend.groupclick;if(i===1&&c==="toggle"&&u==="toggleothers"&&n&&r.data&&r._context.showTips&&g.notifier(g._(r,"Double-click on legend to isolate one trace"),"long"),n=!1,i===1?o=c:i===2&&(o=u),o){var y=h==="togglegroup",m=l.hiddenlabels?l.hiddenlabels.slice():[],v=e.data()[0][0];if(!v.groupTitle||!v.noClick){var x=r._fullData,w=(l.shapes||[]).filter(function(ft){return ft.showlegend}),p=x.concat(w),b=v.trace;b._isShape&&(b=b._fullInput);var T,A,P,k,L,D=b.legendgroup,_={},I=[],O=[],N=[],G=(l.shapes||[]).map(function(ft){return ft._input}),z=!1,Y=b.legend,Z=b._fullInput;if(Z&&Z._isShape||!f.traceIs(b,"pie-like")){var nt,S=D&&D.length,E=[];if(S)for(T=0;T<p.length;T++)(nt=p[T]).visible&&nt.legendgroup===D&&E.push(T);if(o==="toggle"){var V;switch(b.visible){case!0:V="legendonly";break;case!1:V=!1;break;case"legendonly":V=!0}if(S)if(y)for(T=0;T<p.length;T++){var Q=p[T];Q.visible!==!1&&Q.legendgroup===D&&it(Q,V)}else it(b,V);else it(b,V)}else if(o==="toggleothers"){var tt,rt,ot,H,F=!0;for(T=0;T<p.length;T++)if(tt=(H=p[T])===b,rt=H.showlegend!==!0,!(tt||rt||S&&H.legendgroup===D||H.legend!==Y||H.visible!==!0||f.traceIs(H,"notLegendIsolatable"))){F=!1;break}for(T=0;T<p.length;T++)if((H=p[T]).visible!==!1&&H.legend===Y&&!f.traceIs(H,"notLegendIsolatable"))switch(b.visible){case"legendonly":it(H,!0);break;case!0:ot=!!F||"legendonly",tt=H===b,rt=H.showlegend!==!0&&!H.legendgroup,it(H,!!(tt||S&&H.legendgroup===D||rt)||ot)}}for(T=0;T<O.length;T++)if(P=O[T]){var R=P.constructUpdate(),j=Object.keys(R);for(A=0;A<j.length;A++)k=j[A],(_[k]=_[k]||[])[N[T]]=R[k]}for(L=Object.keys(_),T=0;T<L.length;T++)for(k=L[T],A=0;A<I.length;A++)_[k].hasOwnProperty(A)||(_[k][A]=void 0);z?f.call("_guiUpdate",r,_,{shapes:G},I):f.call("_guiRestyle",r,_,I)}else{var J=v.label,q=m.indexOf(J);if(o==="toggle")q===-1?m.push(J):m.splice(q,1);else if(o==="toggleothers"){var $=q!==-1,et=[];for(T=0;T<r.calcdata.length;T++){var st=r.calcdata[T];for(A=0;A<st.length;A++){var yt=st[A].label;Y===st[0].trace.legend&&J!==yt&&(m.indexOf(yt)===-1&&($=!0),a(m,yt),et.push(yt))}}if(!$)for(var St=0;St<et.length;St++){var Lt=m.indexOf(et[St]);Lt!==-1&&m.splice(Lt,1)}}f.call("_guiRelayout",r,"hiddenlabels",m)}}}}function It(ft,dt){var xt=I.indexOf(ft),Pt=_.visible;return Pt||(Pt=_.visible=[]),I.indexOf(ft)===-1&&(I.push(ft),xt=I.length-1),Pt[xt]=dt,xt}function it(ft,dt){if(!v.groupTitle||y){var xt,Pt=ft._fullInput||ft,Ct=Pt._isShape,lt=Pt.index;if(lt===void 0&&(lt=Pt._index),f.hasTransform(Pt,"groupby")){var ht=O[lt];if(!ht){var vt=f.getTransformIndices(Pt,"groupby"),gt=vt[vt.length-1];ht=g.keyedContainer(Pt,"transforms["+gt+"].styles","target","value.visible"),O[lt]=ht}var mt=ht.get(ft._group);mt===void 0&&(mt=!0),mt!==!1&&ht.set(ft._group,dt),N[lt]=It(lt,Pt.visible!==!1)}else{var Tt=Pt.visible!==!1&&dt;Ct?(xt=Tt,G[lt].visible=xt,z=!0):It(lt,Tt)}}}}},130:function(X,d){d.isGrouped=function(t){return(t.traceorder||"").indexOf("grouped")!==-1},d.isVertical=function(t){return t.orientation!=="h"},d.isReversed=function(t){return(t.traceorder||"").indexOf("reversed")!==-1}},2199:function(X,d,t){X.exports={moduleType:"component",name:"legend",layoutAttributes:t(3030),supplyLayoutDefaults:t(9017),draw:t(3969),style:t(3630)}},3630:function(X,d,t){var f=t(9898),g=t(3972),a=t(1828),n=a.strTranslate,e=t(1424),r=t(7901),i=t(2869).extractOpts,l=t(4098),o=t(3463),c=t(3581).castOption,u=t(4928);function h(v,x){return(x?"radial":"horizontal")+(v?"":"reversed")}function y(v){var x=v[0].trace,w=x.contours,p=l.hasLines(x),b=l.hasMarkers(x),T=x.visible&&x.fill&&x.fill!=="none",A=!1,P=!1;if(w){var k=w.coloring;k==="lines"?A=!0:p=k==="none"||k==="heatmap"||w.showlines,w.type==="constraint"?T=w._operation!=="=":k!=="fill"&&k!=="heatmap"||(P=!0)}return{showMarker:b,showLine:p,showFill:T,showGradientLine:A,showGradientFill:P,anyLine:p||A,anyFill:T||P}}function m(v,x,w){return v&&a.isArrayOrTypedArray(v)?x:v>w?w:v}X.exports=function(v,x,w){var p=x._fullLayout;w||(w=p.legend);var b=w.itemsizing==="constant",T=w.itemwidth,A=(T+2*u.itemGap)/2,P=n(A,0),k=function(_,I,O,N){var G;if(_+1)G=_;else{if(!(I&&I.width>0))return 0;G=I.width}return b?N:Math.min(G,O)};function L(_,I,O){var N=_[0].trace,G=N.marker||{},z=G.line||{},Y=O?N.visible&&N.type===O:g.traceIs(N,"bar"),Z=f.select(I).select("g.legendpoints").selectAll("path.legend"+O).data(Y?[_]:[]);Z.enter().append("path").classed("legend"+O,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",P),Z.exit().remove(),Z.each(function(nt){var S=f.select(this),E=nt[0],V=k(E.mlw,G.line,5,2);S.style("stroke-width",V+"px");var Q=E.mcc;if(!w._inHover&&"mc"in E){var tt=i(G),rt=tt.mid;rt===void 0&&(rt=(tt.max+tt.min)/2),Q=e.tryColorscale(G,"")(rt)}var ot=Q||E.mc||G.color,H=G.pattern,F=H&&e.getPatternAttr(H.shape,0,"");if(F){var R=e.getPatternAttr(H.bgcolor,0,null),j=e.getPatternAttr(H.fgcolor,0,null),J=H.fgopacity,q=m(H.size,8,10),$=m(H.solidity,.5,1),et="legend-"+N.uid;S.call(e.pattern,"legend",x,et,F,q,$,Q,H.fillmode,R,j,J)}else S.call(r.fill,ot);V&&r.stroke(S,E.mlc||z.color)})}function D(_,I,O){var N=_[0],G=N.trace,z=O?G.visible&&G.type===O:g.traceIs(G,O),Y=f.select(I).select("g.legendpoints").selectAll("path.legend"+O).data(z?[_]:[]);if(Y.enter().append("path").classed("legend"+O,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",P),Y.exit().remove(),Y.size()){var Z=G.marker||{},nt=k(c(Z.line.width,N.pts),Z.line,5,2),S="pieLike",E=a.minExtend(G,{marker:{line:{width:nt}}},S),V=a.minExtend(N,{trace:E},S);o(Y,V,E,x)}}v.each(function(_){var I=f.select(this),O=a.ensureSingle(I,"g","layers");O.style("opacity",_[0].trace.opacity);var N=w.valign,G=_[0].lineHeight,z=_[0].height;if(N!=="middle"&&G&&z){var Y={top:1,bottom:-1}[N]*(.5*(G-z+3));O.attr("transform",n(0,Y))}else O.attr("transform",null);O.selectAll("g.legendfill").data([_]).enter().append("g").classed("legendfill",!0),O.selectAll("g.legendlines").data([_]).enter().append("g").classed("legendlines",!0);var Z=O.selectAll("g.legendsymbols").data([_]);Z.enter().append("g").classed("legendsymbols",!0),Z.selectAll("g.legendpoints").data([_]).enter().append("g").classed("legendpoints",!0)}).each(function(_){var I,O=_[0].trace,N=[];if(O.visible)switch(O.type){case"histogram2d":case"heatmap":N=[["M-15,-2V4H15V-2Z"]],I=!0;break;case"choropleth":case"choroplethmapbox":N=[["M-6,-6V6H6V-6Z"]],I=!0;break;case"densitymapbox":N=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],I="radial";break;case"cone":N=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],I=!1;break;case"streamtube":N=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],I=!1;break;case"surface":N=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],I=!0;break;case"mesh3d":N=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],I=!1;break;case"volume":N=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],I=!0;break;case"isosurface":N=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],I=!1}var G=f.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(N);G.enter().append("path").classed("legend3dandfriends",!0).attr("transform",P).style("stroke-miterlimit",1),G.exit().remove(),G.each(function(z,Y){var Z,nt=f.select(this),S=i(O),E=S.colorscale,V=S.reversescale;if(E){if(!I){var Q=E.length;Z=Y===0?E[V?Q-1:0][1]:Y===1?E[V?0:Q-1][1]:E[Math.floor((Q-1)/2)][1]}}else{var tt=O.vertexcolor||O.facecolor||O.color;Z=a.isArrayOrTypedArray(tt)?tt[Y]||tt[0]:tt}nt.attr("d",z[0]),Z?nt.call(r.fill,Z):nt.call(function(rt){if(rt.size()){var ot="legendfill-"+O.uid;e.gradient(rt,x,ot,h(V,I==="radial"),E,"fill")}})})}).each(function(_){var I=_[0].trace,O=I.type==="waterfall";if(_[0]._distinct&&O){var N=_[0].trace[_[0].dir].marker;return _[0].mc=N.color,_[0].mlw=N.line.width,_[0].mlc=N.line.color,L(_,this,"waterfall")}var G=[];I.visible&&O&&(G=_[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var z=f.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(G);z.enter().append("path").classed("legendwaterfall",!0).attr("transform",P).style("stroke-miterlimit",1),z.exit().remove(),z.each(function(Y){var Z=f.select(this),nt=I[Y[0]].marker,S=k(void 0,nt.line,5,2);Z.attr("d",Y[1]).style("stroke-width",S+"px").call(r.fill,nt.color),S&&Z.call(r.stroke,nt.line.color)})}).each(function(_){L(_,this,"funnel")}).each(function(_){L(_,this)}).each(function(_){var I=_[0].trace,O=f.select(this).select("g.legendpoints").selectAll("path.legendbox").data(I.visible&&g.traceIs(I,"box-violin")?[_]:[]);O.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",P),O.exit().remove(),O.each(function(){var N=f.select(this);if(I.boxpoints!=="all"&&I.points!=="all"||r.opacity(I.fillcolor)!==0||r.opacity((I.line||{}).color)!==0){var G=k(void 0,I.line,5,2);N.style("stroke-width",G+"px").call(r.fill,I.fillcolor),G&&r.stroke(N,I.line.color)}else{var z=a.minExtend(I,{marker:{size:b?12:a.constrain(I.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});O.call(e.pointStyle,z,x)}})}).each(function(_){D(_,this,"funnelarea")}).each(function(_){D(_,this,"pie")}).each(function(_){var I,O,N=y(_),G=N.showFill,z=N.showLine,Y=N.showGradientLine,Z=N.showGradientFill,nt=N.anyFill,S=N.anyLine,E=_[0],V=E.trace,Q=i(V),tt=Q.colorscale,rt=Q.reversescale,ot=l.hasMarkers(V)||!nt?"M5,0":S?"M5,-2":"M5,-3",H=f.select(this),F=H.select(".legendfill").selectAll("path").data(G||Z?[_]:[]);if(F.enter().append("path").classed("js-fill",!0),F.exit().remove(),F.attr("d",ot+"h"+T+"v6h-"+T+"z").call(function(J){if(J.size())if(G)e.fillGroupStyle(J,x);else{var q="legendfill-"+V.uid;e.gradient(J,x,q,h(rt),tt,"fill")}}),z||Y){var R=k(void 0,V.line,10,5);O=a.minExtend(V,{line:{width:R}}),I=[a.minExtend(E,{trace:O})]}var j=H.select(".legendlines").selectAll("path").data(z||Y?[I]:[]);j.enter().append("path").classed("js-line",!0),j.exit().remove(),j.attr("d",ot+(Y?"l"+T+",0.0001":"h"+T)).call(z?e.lineGroupStyle:function(J){if(J.size()){var q="legendline-"+V.uid;e.lineGroupStyle(J),e.gradient(J,x,q,h(rt),tt,"stroke")}})}).each(function(_){var I,O,N=y(_),G=N.anyFill,z=N.anyLine,Y=N.showLine,Z=N.showMarker,nt=_[0],S=nt.trace,E=!Z&&!z&&!G&&l.hasText(S);function V(j,J,q,$){var et=a.nestedProperty(S,j).get(),st=a.isArrayOrTypedArray(et)&&J?J(et):et;if(b&&st&&$!==void 0&&(st=$),q){if(st<q[0])return q[0];if(st>q[1])return q[1]}return st}function Q(j){return nt._distinct&&nt.index&&j[nt.index]?j[nt.index]:j[0]}if(Z||E||Y){var tt={},rt={};if(Z){tt.mc=V("marker.color",Q),tt.mx=V("marker.symbol",Q),tt.mo=V("marker.opacity",a.mean,[.2,1]),tt.mlc=V("marker.line.color",Q),tt.mlw=V("marker.line.width",a.mean,[0,5],2),rt.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var ot=V("marker.size",a.mean,[2,16],12);tt.ms=ot,rt.marker.size=ot}Y&&(rt.line={width:V("line.width",Q,[0,10],5)}),E&&(tt.tx="Aa",tt.tp=V("textposition",Q),tt.ts=10,tt.tc=V("textfont.color",Q),tt.tf=V("textfont.family",Q)),I=[a.minExtend(nt,tt)],(O=a.minExtend(S,rt)).selectedpoints=null,O.texttemplate=null}var H=f.select(this).select("g.legendpoints"),F=H.selectAll("path.scatterpts").data(Z?I:[]);F.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",P),F.exit().remove(),F.call(e.pointStyle,O,x),Z&&(I[0].mrc=3);var R=H.selectAll("g.pointtext").data(E?I:[]);R.enter().append("g").classed("pointtext",!0).append("text").attr("transform",P),R.exit().remove(),R.selectAll("text").call(e.textPointStyle,O,x)}).each(function(_){var I=_[0].trace,O=f.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(I.visible&&I.type==="candlestick"?[_,_]:[]);O.enter().append("path").classed("legendcandle",!0).attr("d",function(N,G){return G?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",P).style("stroke-miterlimit",1),O.exit().remove(),O.each(function(N,G){var z=f.select(this),Y=I[G?"increasing":"decreasing"],Z=k(void 0,Y.line,5,2);z.style("stroke-width",Z+"px").call(r.fill,Y.fillcolor),Z&&r.stroke(z,Y.line.color)})}).each(function(_){var I=_[0].trace,O=f.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(I.visible&&I.type==="ohlc"?[_,_]:[]);O.enter().append("path").classed("legendohlc",!0).attr("d",function(N,G){return G?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",P).style("stroke-miterlimit",1),O.exit().remove(),O.each(function(N,G){var z=f.select(this),Y=I[G?"increasing":"decreasing"],Z=k(void 0,Y.line,5,2);z.style("fill","none").call(e.dashLine,Y.line.dash,Z),Z&&r.stroke(z,Y.line.color)})})}},2068:function(X,d,t){t(3348),X.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},6023:function(X,d,t){var f=t(3972),g=t(4875),a=t(1675),n=t(4255),e=t(4031).eraseActiveShape,r=t(1828),i=r._,l=X.exports={};function o(p,b){var T,A,P=b.currentTarget,k=P.getAttribute("data-attr"),L=P.getAttribute("data-val")||!0,D=p._fullLayout,_={},I=a.list(p,null,!0),O=D._cartesianSpikesEnabled;if(k==="zoom"){var N,G=L==="in"?.5:2,z=(1+G)/2,Y=(1-G)/2;for(A=0;A<I.length;A++)if(!(T=I[A]).fixedrange)if(N=T._name,L==="auto")_[N+".autorange"]=!0;else if(L==="reset")T._rangeInitial0===void 0&&T._rangeInitial1===void 0?_[N+".autorange"]=!0:T._rangeInitial0===void 0?(_[N+".autorange"]=T._autorangeInitial,_[N+".range"]=[null,T._rangeInitial1]):T._rangeInitial1===void 0?(_[N+".range"]=[T._rangeInitial0,null],_[N+".autorange"]=T._autorangeInitial):_[N+".range"]=[T._rangeInitial0,T._rangeInitial1],T._showSpikeInitial!==void 0&&(_[N+".showspikes"]=T._showSpikeInitial,O!=="on"||T._showSpikeInitial||(O="off"));else{var Z=[T.r2l(T.range[0]),T.r2l(T.range[1])],nt=[z*Z[0]+Y*Z[1],z*Z[1]+Y*Z[0]];_[N+".range[0]"]=T.l2r(nt[0]),_[N+".range[1]"]=T.l2r(nt[1])}}else k!=="hovermode"||L!=="x"&&L!=="y"||(L=D._isHoriz?"y":"x",P.setAttribute("data-val",L)),_[k]=L;D._cartesianSpikesEnabled=O,f.call("_guiRelayout",p,_)}function c(p,b){for(var T=b.currentTarget,A=T.getAttribute("data-attr"),P=T.getAttribute("data-val")||!0,k=p._fullLayout._subplots.gl3d||[],L={},D=A.split("."),_=0;_<k.length;_++)L[k[_]+"."+D[1]]=P;var I=P==="pan"?P:"zoom";L.dragmode=I,f.call("_guiRelayout",p,L)}function u(p,b){for(var T=b.currentTarget.getAttribute("data-attr"),A=T==="resetLastSave",P=T==="resetDefault",k=p._fullLayout,L=k._subplots.gl3d||[],D={},_=0;_<L.length;_++){var I,O=L[_],N=O+".camera",G=O+".aspectratio",z=O+".aspectmode",Y=k[O]._scene;A?(D[N+".up"]=Y.viewInitial.up,D[N+".eye"]=Y.viewInitial.eye,D[N+".center"]=Y.viewInitial.center,I=!0):P&&(D[N+".up"]=null,D[N+".eye"]=null,D[N+".center"]=null,I=!0),I&&(D[G+".x"]=Y.viewInitial.aspectratio.x,D[G+".y"]=Y.viewInitial.aspectratio.y,D[G+".z"]=Y.viewInitial.aspectratio.z,D[z]=Y.viewInitial.aspectmode)}f.call("_guiRelayout",p,D)}function h(p,b){var T=b.currentTarget,A=T._previousVal,P=p._fullLayout,k=P._subplots.gl3d||[],L=["xaxis","yaxis","zaxis"],D={},_={};if(A)_=A,T._previousVal=null;else{for(var I=0;I<k.length;I++){var O=k[I],N=P[O],G=O+".hovermode";D[G]=N.hovermode,_[G]=!1;for(var z=0;z<3;z++){var Y=L[z],Z=O+"."+Y+".showspikes";_[Z]=!1,D[Z]=N[Y].showspikes}}T._previousVal=D}return _}function y(p,b){for(var T=b.currentTarget,A=T.getAttribute("data-attr"),P=T.getAttribute("data-val")||!0,k=p._fullLayout,L=k._subplots.geo||[],D=0;D<L.length;D++){var _=L[D],I=k[_];if(A==="zoom"){var O=I.projection.scale,N=P==="in"?2*O:.5*O;f.call("_guiRelayout",p,_+".projection.scale",N)}}A==="reset"&&w(p,"geo")}function m(p){var b=p._fullLayout;return!b.hovermode&&(b._has("cartesian")?b._isHoriz?"y":"x":"closest")}function v(p){var b=m(p);f.call("_guiRelayout",p,"hovermode",b)}function x(p,b){for(var T=b.currentTarget.getAttribute("data-val"),A=p._fullLayout,P=A._subplots.mapbox||[],k={},L=0;L<P.length;L++){var D=P[L],_=A[D].zoom,I=T==="in"?1.05*_:_/1.05;k[D+".zoom"]=I}f.call("_guiRelayout",p,k)}function w(p,b){for(var T=p._fullLayout,A=T._subplots[b]||[],P={},k=0;k<A.length;k++)for(var L=A[k],D=T[L]._subplot.viewInitial,_=Object.keys(D),I=0;I<_.length;I++){var O=_[I];P[L+"."+O]=D[O]}f.call("_guiRelayout",p,P)}l.toImage={name:"toImage",title:function(p){var b=(p._context.toImageButtonOptions||{}).format||"png";return i(p,b==="png"?"Download plot as a png":"Download plot")},icon:n.camera,click:function(p){var b=p._context.toImageButtonOptions,T={format:b.format||"png"};r.notifier(i(p,"Taking snapshot - this may take a few seconds"),"long"),T.format!=="svg"&&r.isIE()&&(r.notifier(i(p,"IE only supports svg.  Changing format to svg."),"long"),T.format="svg"),["filename","width","height","scale"].forEach(function(A){A in b&&(T[A]=b[A])}),f.call("downloadImage",p,T).then(function(A){r.notifier(i(p,"Snapshot succeeded")+" - "+A,"long")}).catch(function(){r.notifier(i(p,"Sorry, there was a problem downloading your snapshot!"),"long")})}},l.sendDataToCloud={name:"sendDataToCloud",title:function(p){return i(p,"Edit in Chart Studio")},icon:n.disk,click:function(p){g.sendDataToCloud(p)}},l.editInChartStudio={name:"editInChartStudio",title:function(p){return i(p,"Edit in Chart Studio")},icon:n.pencil,click:function(p){g.sendDataToCloud(p)}},l.zoom2d={name:"zoom2d",_cat:"zoom",title:function(p){return i(p,"Zoom")},attr:"dragmode",val:"zoom",icon:n.zoombox,click:o},l.pan2d={name:"pan2d",_cat:"pan",title:function(p){return i(p,"Pan")},attr:"dragmode",val:"pan",icon:n.pan,click:o},l.select2d={name:"select2d",_cat:"select",title:function(p){return i(p,"Box Select")},attr:"dragmode",val:"select",icon:n.selectbox,click:o},l.lasso2d={name:"lasso2d",_cat:"lasso",title:function(p){return i(p,"Lasso Select")},attr:"dragmode",val:"lasso",icon:n.lasso,click:o},l.drawclosedpath={name:"drawclosedpath",title:function(p){return i(p,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:n.drawclosedpath,click:o},l.drawopenpath={name:"drawopenpath",title:function(p){return i(p,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:n.drawopenpath,click:o},l.drawline={name:"drawline",title:function(p){return i(p,"Draw line")},attr:"dragmode",val:"drawline",icon:n.drawline,click:o},l.drawrect={name:"drawrect",title:function(p){return i(p,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:n.drawrect,click:o},l.drawcircle={name:"drawcircle",title:function(p){return i(p,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:n.drawcircle,click:o},l.eraseshape={name:"eraseshape",title:function(p){return i(p,"Erase active shape")},icon:n.eraseshape,click:e},l.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(p){return i(p,"Zoom in")},attr:"zoom",val:"in",icon:n.zoom_plus,click:o},l.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(p){return i(p,"Zoom out")},attr:"zoom",val:"out",icon:n.zoom_minus,click:o},l.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(p){return i(p,"Autoscale")},attr:"zoom",val:"auto",icon:n.autoscale,click:o},l.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(p){return i(p,"Reset axes")},attr:"zoom",val:"reset",icon:n.home,click:o},l.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(p){return i(p,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:n.tooltip_basic,gravity:"ne",click:o},l.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(p){return i(p,"Compare data on hover")},attr:"hovermode",val:function(p){return p._fullLayout._isHoriz?"y":"x"},icon:n.tooltip_compare,gravity:"ne",click:o},l.zoom3d={name:"zoom3d",_cat:"zoom",title:function(p){return i(p,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:n.zoombox,click:c},l.pan3d={name:"pan3d",_cat:"pan",title:function(p){return i(p,"Pan")},attr:"scene.dragmode",val:"pan",icon:n.pan,click:c},l.orbitRotation={name:"orbitRotation",title:function(p){return i(p,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:n["3d_rotate"],click:c},l.tableRotation={name:"tableRotation",title:function(p){return i(p,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:n["z-axis"],click:c},l.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(p){return i(p,"Reset camera to default")},attr:"resetDefault",icon:n.home,click:u},l.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(p){return i(p,"Reset camera to last save")},attr:"resetLastSave",icon:n.movie,click:u},l.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(p){return i(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:n.tooltip_basic,gravity:"ne",click:function(p,b){var T=h(p,b);f.call("_guiRelayout",p,T)}},l.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(p){return i(p,"Zoom in")},attr:"zoom",val:"in",icon:n.zoom_plus,click:y},l.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(p){return i(p,"Zoom out")},attr:"zoom",val:"out",icon:n.zoom_minus,click:y},l.resetGeo={name:"resetGeo",_cat:"reset",title:function(p){return i(p,"Reset")},attr:"reset",val:null,icon:n.autoscale,click:y},l.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(p){return i(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:n.tooltip_basic,gravity:"ne",click:v},l.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(p){return i(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:n.tooltip_basic,gravity:"ne",click:v},l.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(p){return i(p,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:n.tooltip_basic,gravity:"ne",click:v},l.resetViewSankey={name:"resetSankeyGroup",title:function(p){return i(p,"Reset view")},icon:n.home,click:function(p){for(var b={"node.groups":[],"node.x":[],"node.y":[]},T=0;T<p._fullData.length;T++){var A=p._fullData[T]._viewInitial;b["node.groups"].push(A.node.groups.slice()),b["node.x"].push(A.node.x.slice()),b["node.y"].push(A.node.y.slice())}f.call("restyle",p,b)}},l.toggleHover={name:"toggleHover",title:function(p){return i(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:n.tooltip_basic,gravity:"ne",click:function(p,b){var T=h(p,b);T.hovermode=m(p),f.call("_guiRelayout",p,T)}},l.resetViews={name:"resetViews",title:function(p){return i(p,"Reset views")},icon:n.home,click:function(p,b){var T=b.currentTarget;T.setAttribute("data-attr","zoom"),T.setAttribute("data-val","reset"),o(p,b),T.setAttribute("data-attr","resetLastSave"),u(p,b),w(p,"geo"),w(p,"mapbox")}},l.toggleSpikelines={name:"toggleSpikelines",title:function(p){return i(p,"Toggle Spike Lines")},icon:n.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(p){var b=p._fullLayout,T=b._cartesianSpikesEnabled;b._cartesianSpikesEnabled=T==="on"?"off":"on",f.call("_guiRelayout",p,function(A){for(var P=A._fullLayout._cartesianSpikesEnabled==="on",k=a.list(A,null,!0),L={},D=0;D<k.length;D++){var _=k[D];L[_._name+".showspikes"]=!!P||_._showSpikeInitial}return L}(p))}},l.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(p){return i(p,"Reset view")},attr:"reset",icon:n.home,click:function(p){w(p,"mapbox")}},l.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(p){return i(p,"Zoom in")},attr:"zoom",val:"in",icon:n.zoom_plus,click:x},l.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(p){return i(p,"Zoom out")},attr:"zoom",val:"out",icon:n.zoom_minus,click:x}},3348:function(X,d,t){var f=t(6023),g=Object.keys(f),a=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],n=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(a),e=[];g.forEach(function(r){(function(i){if(n.indexOf(i._cat||i.name)===-1){var l=i.name,o=(i._cat||i.name).toLowerCase();e.indexOf(l)===-1&&e.push(l),e.indexOf(o)===-1&&e.push(o)}})(f[r])}),e.sort(),X.exports={DRAW_MODES:a,backButtons:n,foreButtons:e}},5750:function(X,d,t){var f=t(1828),g=t(7901),a=t(4467),n=t(2068);X.exports=function(e,r){var i=e.modebar||{},l=a.newContainer(r,"modebar");function o(u,h){return f.coerce(i,l,n,u,h)}o("orientation"),o("bgcolor",g.addOpacity(r.paper_bgcolor,.5));var c=g.contrast(g.rgb(r.modebar.bgcolor));o("color",g.addOpacity(c,.3)),o("activecolor",g.addOpacity(c,.7)),o("uirevision",r.uirevision),o("add"),o("remove")}},4168:function(X,d,t){X.exports={moduleType:"component",name:"modebar",layoutAttributes:t(2068),supplyLayoutDefaults:t(5750),manage:t(4192)}},4192:function(X,d,t){var f=t(1675),g=t(4098),a=t(3972),n=t(3469).isUnifiedHover,e=t(7676),r=t(6023),i=t(3348).DRAW_MODES,l=t(1828).extendDeep;X.exports=function(o){var c=o._fullLayout,u=o._context,h=c._modeBar;if(u.displayModeBar||u.watermark){if(!Array.isArray(u.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(u.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var y,m=u.modeBarButtons;y=Array.isArray(m)&&m.length?function(v){for(var x=l([],v),w=0;w<x.length;w++)for(var p=x[w],b=0;b<p.length;b++){var T=p[b];if(typeof T=="string"){if(r[T]===void 0)throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));x[w][b]=r[T]}}return x}(m):!u.displayModeBar&&u.watermark?[]:function(v){var x=v._fullLayout,w=v._fullData,p=v._context;function b(et,st){if(typeof st=="string"){if(st.toLowerCase()===et.toLowerCase())return!0}else{var yt=st.name,St=st._cat||st.name;if(yt===et||St===et.toLowerCase())return!0}return!1}var T=x.modebar.add;typeof T=="string"&&(T=[T]);var A=x.modebar.remove;typeof A=="string"&&(A=[A]);var P=p.modeBarButtonsToAdd.concat(T.filter(function(et){for(var st=0;st<p.modeBarButtonsToRemove.length;st++)if(b(et,p.modeBarButtonsToRemove[st]))return!1;return!0})),k=p.modeBarButtonsToRemove.concat(A.filter(function(et){for(var st=0;st<p.modeBarButtonsToAdd.length;st++)if(b(et,p.modeBarButtonsToAdd[st]))return!1;return!0})),L=x._has("cartesian"),D=x._has("gl3d"),_=x._has("geo"),I=x._has("pie"),O=x._has("funnelarea"),N=x._has("gl2d"),G=x._has("ternary"),z=x._has("mapbox"),Y=x._has("polar"),Z=x._has("smith"),nt=x._has("sankey"),S=function(et){for(var st=f.list({_fullLayout:et},null,!0),yt=0;yt<st.length;yt++)if(!st[yt].fixedrange)return!1;return!0}(x),E=n(x.hovermode),V=[];function Q(et){if(et.length){for(var st=[],yt=0;yt<et.length;yt++){for(var St=et[yt],Lt=r[St],It=Lt.name.toLowerCase(),it=(Lt._cat||Lt.name).toLowerCase(),ft=!1,dt=0;dt<k.length;dt++){var xt=k[dt].toLowerCase();if(xt===It||xt===it){ft=!0;break}}ft||st.push(r[St])}V.push(st)}}var tt=["toImage"];p.showEditInChartStudio?tt.push("editInChartStudio"):p.showSendToCloud&&tt.push("sendDataToCloud"),Q(tt);var rt=[],ot=[],H=[],F=[];(L||N||I||O||G)+_+D+z+Y+Z>1?(ot=["toggleHover"],H=["resetViews"]):_?(rt=["zoomInGeo","zoomOutGeo"],ot=["hoverClosestGeo"],H=["resetGeo"]):D?(ot=["hoverClosest3d"],H=["resetCameraDefault3d","resetCameraLastSave3d"]):z?(rt=["zoomInMapbox","zoomOutMapbox"],ot=["toggleHover"],H=["resetViewMapbox"]):N?ot=["hoverClosestGl2d"]:I?ot=["hoverClosestPie"]:nt?(ot=["hoverClosestCartesian","hoverCompareCartesian"],H=["resetViewSankey"]):ot=["toggleHover"],L&&(ot=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(et){for(var st=0;st<et.length;st++)if(!a.traceIs(et[st],"noHover"))return!1;return!0}(w)||E)&&(ot=[]),!L&&!N||S||(rt=["zoomIn2d","zoomOut2d","autoScale2d"],H[0]!=="resetViews"&&(H=["resetScale2d"])),D?F=["zoom3d","pan3d","orbitRotation","tableRotation"]:(L||N)&&!S||G?F=["zoom2d","pan2d"]:z||_?F=["pan2d"]:Y&&(F=["zoom2d"]),function(et){for(var st=!1,yt=0;yt<et.length&&!st;yt++){var St=et[yt];St._module&&St._module.selectPoints&&(a.traceIs(St,"scatter-like")?(g.hasMarkers(St)||g.hasText(St))&&(st=!0):a.traceIs(St,"box-violin")&&St.boxpoints!=="all"&&St.points!=="all"||(st=!0))}return st}(w)&&F.push("select2d","lasso2d");var R=[],j=function(et){R.indexOf(et)===-1&&ot.indexOf(et)!==-1&&R.push(et)};if(Array.isArray(P)){for(var J=[],q=0;q<P.length;q++){var $=P[q];typeof $=="string"?($=$.toLowerCase(),i.indexOf($)!==-1?(x._has("mapbox")||x._has("cartesian"))&&F.push($):$==="togglespikelines"?j("toggleSpikelines"):$==="togglehover"?j("toggleHover"):$==="hovercompare"?j("hoverCompareCartesian"):$==="hoverclosest"?(j("hoverClosestCartesian"),j("hoverClosestGeo"),j("hoverClosest3d"),j("hoverClosestGl2d"),j("hoverClosestPie")):$==="v1hovermode"&&(j("toggleHover"),j("hoverClosestCartesian"),j("hoverCompareCartesian"),j("hoverClosestGeo"),j("hoverClosest3d"),j("hoverClosestGl2d"),j("hoverClosestPie"))):J.push($)}P=J}return Q(F),Q(rt.concat(H)),Q(R),function(et,st){if(st.length)if(Array.isArray(st[0]))for(var yt=0;yt<st.length;yt++)et.push(st[yt]);else et.push(st);return et}(V,P)}(o),h?h.update(o,y):c._modeBar=e(o,y)}else h&&(h.destroy(),delete c._modeBar)}},7676:function(X,d,t){var f=t(9898),g=t(2770),a=t(1828),n=t(4255),e=t(1506).version,r=new DOMParser;function i(o){this.container=o.container,this.element=document.createElement("div"),this.update(o.graphInfo,o.buttons),this.container.appendChild(this.element)}var l=i.prototype;l.update=function(o,c){this.graphInfo=o;var u=this.graphInfo._context,h=this.graphInfo._fullLayout,y="modebar-"+h._uid;this.element.setAttribute("id",y),this._uid=y,this.element.className="modebar",u.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),h.modebar.orientation==="v"&&(this.element.className+=" vertical",c=c.reverse());var m=h.modebar,v=u.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";a.deleteRelatedStyleRule(y),a.addRelatedStyleRule(y,v+"#"+y+" .modebar-group","background-color: "+m.bgcolor),a.addRelatedStyleRule(y,"#"+y+" .modebar-btn .icon path","fill: "+m.color),a.addRelatedStyleRule(y,"#"+y+" .modebar-btn:hover .icon path","fill: "+m.activecolor),a.addRelatedStyleRule(y,"#"+y+" .modebar-btn.active .icon path","fill: "+m.activecolor);var x=!this.hasButtons(c),w=this.hasLogo!==u.displaylogo,p=this.locale!==u.locale;if(this.locale=u.locale,(x||w||p)&&(this.removeAllButtons(),this.updateButtons(c),u.watermark||u.displaylogo)){var b=this.getLogo();u.watermark&&(b.className=b.className+" watermark"),h.modebar.orientation==="v"?this.element.insertBefore(b,this.element.childNodes[0]):this.element.appendChild(b),this.hasLogo=!0}this.updateActiveButton()},l.updateButtons=function(o){var c=this;this.buttons=o,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(u){var h=c.createGroup();u.forEach(function(y){var m=y.name;if(!m)throw new Error("must provide button 'name' in button config");if(c.buttonsNames.indexOf(m)!==-1)throw new Error("button name '"+m+"' is taken");c.buttonsNames.push(m);var v=c.createButton(y);c.buttonElements.push(v),h.appendChild(v)}),c.element.appendChild(h)})},l.createGroup=function(){var o=document.createElement("div");return o.className="modebar-group",o},l.createButton=function(o){var c=this,u=document.createElement("a");u.setAttribute("rel","tooltip"),u.className="modebar-btn";var h=o.title;h===void 0?h=o.name:typeof h=="function"&&(h=h(this.graphInfo)),(h||h===0)&&u.setAttribute("data-title",h),o.attr!==void 0&&u.setAttribute("data-attr",o.attr);var y=o.val;if(y!==void 0&&(typeof y=="function"&&(y=y(this.graphInfo)),u.setAttribute("data-val",y)),typeof o.click!="function")throw new Error("must provide button 'click' function in button config");u.addEventListener("click",function(v){o.click(c.graphInfo,v),c.updateActiveButton(v.currentTarget)}),u.setAttribute("data-toggle",o.toggle||!1),o.toggle&&f.select(u).classed("active",!0);var m=o.icon;return typeof m=="function"?u.appendChild(m()):u.appendChild(this.createIcon(m||n.question)),u.setAttribute("data-gravity",o.gravity||"n"),u},l.createIcon=function(o){var c,u=g(o.height)?Number(o.height):o.ascent-o.descent,h="http://www.w3.org/2000/svg";if(o.path){(c=document.createElementNS(h,"svg")).setAttribute("viewBox",[0,0,o.width,u].join(" ")),c.setAttribute("class","icon");var y=document.createElementNS(h,"path");y.setAttribute("d",o.path),o.transform?y.setAttribute("transform",o.transform):o.ascent!==void 0&&y.setAttribute("transform","matrix(1 0 0 -1 0 "+o.ascent+")"),c.appendChild(y)}return o.svg&&(c=r.parseFromString(o.svg,"application/xml").childNodes[0]),c.setAttribute("height","1em"),c.setAttribute("width","1em"),c},l.updateActiveButton=function(o){var c=this.graphInfo._fullLayout,u=o!==void 0?o.getAttribute("data-attr"):null;this.buttonElements.forEach(function(h){var y=h.getAttribute("data-val")||!0,m=h.getAttribute("data-attr"),v=h.getAttribute("data-toggle")==="true",x=f.select(h);if(v)m===u&&x.classed("active",!x.classed("active"));else{var w=m===null?m:a.nestedProperty(c,m).get();x.classed("active",w===y)}})},l.hasButtons=function(o){var c=this.buttons;if(!c||o.length!==c.length)return!1;for(var u=0;u<o.length;++u){if(o[u].length!==c[u].length)return!1;for(var h=0;h<o[u].length;h++)if(o[u][h].name!==c[u][h].name)return!1}return!0},l.getLogo=function(){var o=this.createGroup(),c=document.createElement("a");return c.href="https://plotly.com/",c.target="_blank",c.setAttribute("data-title",a._(this.graphInfo,"Produced with Plotly.js")+" (v"+e+")"),c.className="modebar-btn plotlyjsicon modebar-btn--logo",c.appendChild(this.createIcon(n.newplotlylogo)),o.appendChild(c),o},l.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},l.destroy=function(){a.removeElement(this.container.querySelector(".modebar")),a.deleteRelatedStyleRule(this._uid)},X.exports=function(o,c){var u=o._fullLayout,h=new i({graphInfo:o,container:u._modebardiv.node(),buttons:c});return u._privateplot&&f.select(h.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),h}},7113:function(X,d,t){var f=t(1940),g=t(2399),a=(0,t(4467).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});X.exports={visible:{valType:"boolean",editType:"plot"},buttons:a,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:f({editType:"plot"}),bgcolor:{valType:"color",dflt:g.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},9573:function(X){X.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},8674:function(X,d,t){var f=t(1828),g=t(7901),a=t(4467),n=t(5501),e=t(7113),r=t(9573);function i(l,o,c,u){var h=u.calendar;function y(v,x){return f.coerce(l,o,e.buttons,v,x)}if(y("visible")){var m=y("step");m!=="all"&&(!h||h==="gregorian"||m!=="month"&&m!=="year"?y("stepmode"):o.stepmode="backward",y("count")),y("label")}}X.exports=function(l,o,c,u,h){var y=l.rangeselector||{},m=a.newContainer(o,"rangeselector");function v(p,b){return f.coerce(y,m,e,p,b)}if(v("visible",n(y,m,{name:"buttons",handleItemDefaults:i,calendar:h}).length>0)){var x=function(p,b,T){for(var A=T.filter(function(D){return b[D].anchor===p._id}),P=0,k=0;k<A.length;k++){var L=b[A[k]].domain;L&&(P=Math.max(L[1],P))}return[p.domain[0],P+r.yPad]}(o,c,u);v("x",x[0]),v("y",x[1]),f.noneOrAll(l,o,["x","y"]),v("xanchor"),v("yanchor"),f.coerceFont(v,"font",c.font);var w=v("bgcolor");v("activecolor",g.contrast(w,r.lightAmount,r.darkAmount)),v("bordercolor"),v("borderwidth")}}},1598:function(X,d,t){var f=t(9898),g=t(3972),a=t(4875),n=t(7901),e=t(1424),r=t(1828),i=r.strTranslate,l=t(3893),o=t(1675),c=t(8783),u=c.LINE_SPACING,h=c.FROM_TL,y=c.FROM_BR,m=t(9573),v=t(7917);function x(b){return b._id}function w(b,T,A){var P=r.ensureSingle(b,"rect","selector-rect",function(k){k.attr("shape-rendering","crispEdges")});P.attr({rx:m.rx,ry:m.ry}),P.call(n.stroke,T.bordercolor).call(n.fill,function(k,L){return L._isActive||L._isHovered?k.activecolor:k.bgcolor}(T,A)).style("stroke-width",T.borderwidth+"px")}function p(b,T,A,P){var k,L;r.ensureSingle(b,"text","selector-text",function(D){D.attr("text-anchor","middle")}).call(e.font,T.font).text((k=A,L=P._fullLayout._meta,k.label?L?r.templateString(k.label,L):k.label:k.step==="all"?"all":k.count+k.step.charAt(0))).call(function(D){l.convertToTspans(D,P)})}X.exports=function(b){var T=b._fullLayout._infolayer.selectAll(".rangeselector").data(function(A){for(var P=o.list(A,"x",!0),k=[],L=0;L<P.length;L++){var D=P[L];D.rangeselector&&D.rangeselector.visible&&k.push(D)}return k}(b),x);T.enter().append("g").classed("rangeselector",!0),T.exit().remove(),T.style({cursor:"pointer","pointer-events":"all"}),T.each(function(A){var P=f.select(this),k=A,L=k.rangeselector,D=P.selectAll("g.button").data(r.filterVisible(L.buttons));D.enter().append("g").classed("button",!0),D.exit().remove(),D.each(function(_){var I=f.select(this),O=v(k,_);_._isActive=function(N,G,z){if(G.step==="all")return N.autorange===!0;var Y=Object.keys(z);return N.range[0]===z[Y[0]]&&N.range[1]===z[Y[1]]}(k,_,O),I.call(w,L,_),I.call(p,L,_,b),I.on("click",function(){b._dragged||g.call("_guiRelayout",b,O)}),I.on("mouseover",function(){_._isHovered=!0,I.call(w,L,_)}),I.on("mouseout",function(){_._isHovered=!1,I.call(w,L,_)})}),function(_,I,O,N,G){var z=0,Y=0,Z=O.borderwidth;I.each(function(){var tt=f.select(this).select(".selector-text"),rt=O.font.size*u,ot=Math.max(rt*l.lineCount(tt),16)+3;Y=Math.max(Y,ot)}),I.each(function(){var tt=f.select(this),rt=tt.select(".selector-rect"),ot=tt.select(".selector-text"),H=ot.node()&&e.bBox(ot.node()).width,F=O.font.size*u,R=l.lineCount(ot),j=Math.max(H+10,m.minButtonWidth);tt.attr("transform",i(Z+z,Z)),rt.attr({x:0,y:0,width:j,height:Y}),l.positionText(ot,j/2,Y/2-(R-1)*F/2+3),z+=j+5});var nt=_._fullLayout._size,S=nt.l+nt.w*O.x,E=nt.t+nt.h*(1-O.y),V="left";r.isRightAnchor(O)&&(S-=z,V="right"),r.isCenterAnchor(O)&&(S-=z/2,V="center");var Q="top";r.isBottomAnchor(O)&&(E-=Y,Q="bottom"),r.isMiddleAnchor(O)&&(E-=Y/2,Q="middle"),z=Math.ceil(z),Y=Math.ceil(Y),S=Math.round(S),E=Math.round(E),a.autoMargin(_,N+"-range-selector",{x:O.x,y:O.y,l:z*h[V],r:z*y[V],b:Y*y[Q],t:Y*h[Q]}),G.attr("transform",i(S,E))}(b,D,L,k._name,P)})}},7917:function(X,d,t){var f=t(1041),g=t(1828).titleCase;X.exports=function(a,n){var e=a._name,r={};if(n.step==="all")r[e+".autorange"]=!0;else{var i=function(l,o){var c,u=l.range,h=new Date(l.r2l(u[1])),y=o.step,m=f["utc"+g(y)],v=o.count;switch(o.stepmode){case"backward":c=l.l2r(+m.offset(h,-v));break;case"todate":var x=m.offset(h,-v);c=l.l2r(+m.ceil(x))}return[c,u[1]]}(a,n);r[e+".range[0]"]=i[0],r[e+".range[1]"]=i[1]}return r}},7218:function(X,d,t){X.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:t(7113)}}},layoutAttributes:t(7113),handleDefaults:t(8674),draw:t(1598)}},5148:function(X,d,t){var f=t(2399);X.exports={bgcolor:{valType:"color",dflt:f.background,editType:"plot"},bordercolor:{valType:"color",dflt:f.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},8443:function(X,d,t){var f=t(1675).list,g=t(1739).getAutoRange,a=t(3251);X.exports=function(n){for(var e=f(n,"x",!0),r=0;r<e.length;r++){var i=e[r],l=i[a.name];l&&l.visible&&l.autorange&&(l._input.autorange=!0,l._input.range=l.range=g(n,i))}}},3251:function(X){X.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},6377:function(X,d,t){var f=t(1828),g=t(4467),a=t(1675),n=t(5148),e=t(7850);X.exports=function(r,i,l){var o=r[l],c=i[l];if(o.rangeslider||i._requestRangeslider[c._id]){f.isPlainObject(o.rangeslider)||(o.rangeslider={});var u,h,y=o.rangeslider,m=g.newContainer(c,"rangeslider");if(P("visible")){P("bgcolor",i.plot_bgcolor),P("bordercolor"),P("borderwidth"),P("thickness"),P("autorange",!c.isValidRange(y.range)),P("range");var v=i._subplots;if(v)for(var x=v.cartesian.filter(function(L){return L.substr(0,L.indexOf("y"))===a.name2id(l)}).map(function(L){return L.substr(L.indexOf("y"),L.length)}),w=f.simpleMap(x,a.id2name),p=0;p<w.length;p++){var b=w[p];u=y[b]||{},h=g.newContainer(m,b,"yaxis");var T,A=i[b];u.range&&A.isValidRange(u.range)&&(T="fixed"),k("rangemode",T)!=="match"&&k("range",A.range.slice())}m._input=y}}function P(L,D){return f.coerce(y,m,n,L,D)}function k(L,D){return f.coerce(u,h,e,L,D)}}},2413:function(X,d,t){var f=t(9898),g=t(3972),a=t(4875),n=t(1828),e=n.strTranslate,r=t(1424),i=t(7901),l=t(2998),o=t(3612),c=t(1675),u=t(8569),h=t(6964),y=t(3251);function m(T,A,P,k){var L=n.ensureSingle(T,"rect",y.bgClassName,function(O){O.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),D=k.borderwidth%2==0?k.borderwidth:k.borderwidth-1,_=-k._offsetShift,I=r.crispRound(A,k.borderwidth);L.attr({width:k._width+D,height:k._height+D,transform:e(_,_),"stroke-width":I}).call(i.stroke,k.bordercolor).call(i.fill,k.bgcolor)}function v(T,A,P,k){var L=A._fullLayout;n.ensureSingleById(L._topdefs,"clipPath",k._clipId,function(D){D.append("rect").attr({x:0,y:0})}).select("rect").attr({width:k._width,height:k._height})}function x(T,A,P,k){var L,D=A.calcdata,_=T.selectAll("g."+y.rangePlotClassName).data(P._subplotsWith,n.identity);_.enter().append("g").attr("class",function(I){return y.rangePlotClassName+" "+I}).call(r.setClipUrl,k._clipId,A),_.order(),_.exit().remove(),_.each(function(I,O){var N=f.select(this),G=O===0,z=c.getFromId(A,I,"y"),Y=z._name,Z=k[Y],nt={data:[],layout:{xaxis:{type:P.type,domain:[0,1],range:k.range.slice(),calendar:P.calendar},width:k._width,height:k._height,margin:{t:0,b:0,l:0,r:0}},_context:A._context};P.rangebreaks&&(nt.layout.xaxis.rangebreaks=P.rangebreaks),nt.layout[Y]={type:z.type,domain:[0,1],range:Z.rangemode!=="match"?Z.range.slice():z.range.slice(),calendar:z.calendar},z.rangebreaks&&(nt.layout[Y].rangebreaks=z.rangebreaks),a.supplyDefaults(nt);var S=nt._fullLayout.xaxis,E=nt._fullLayout[Y];S.clearCalc(),S.setScale(),E.clearCalc(),E.setScale();var V={id:I,plotgroup:N,xaxis:S,yaxis:E,isRangePlot:!0};G?L=V:(V.mainplot="xy",V.mainplotinfo=L),o.rangePlot(A,V,function(Q,tt){for(var rt=[],ot=0;ot<Q.length;ot++){var H=Q[ot],F=H[0].trace;F.xaxis+F.yaxis===tt&&rt.push(H)}return rt}(D,I))})}function w(T,A,P,k,L){n.ensureSingle(T,"rect",y.maskMinClassName,function(D){D.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",k._height).call(i.fill,y.maskColor),n.ensureSingle(T,"rect",y.maskMaxClassName,function(D){D.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",k._height).call(i.fill,y.maskColor),L.rangemode!=="match"&&(n.ensureSingle(T,"rect",y.maskMinOppAxisClassName,function(D){D.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",k._width).call(i.fill,y.maskOppAxisColor),n.ensureSingle(T,"rect",y.maskMaxOppAxisClassName,function(D){D.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",k._width).style("border-top",y.maskOppBorder).call(i.fill,y.maskOppAxisColor))}function p(T,A,P,k){A._context.staticPlot||n.ensureSingle(T,"rect",y.slideBoxClassName,function(L){L.attr({y:0,cursor:y.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:k._height,fill:y.slideBoxFill})}function b(T,A,P,k){var L=n.ensureSingle(T,"g",y.grabberMinClassName),D=n.ensureSingle(T,"g",y.grabberMaxClassName),_={x:0,width:y.handleWidth,rx:y.handleRadius,fill:i.background,stroke:i.defaultLine,"stroke-width":y.handleStrokeWidth,"shape-rendering":"crispEdges"},I={y:Math.round(k._height/4),height:Math.round(k._height/2)};n.ensureSingle(L,"rect",y.handleMinClassName,function(N){N.attr(_)}).attr(I),n.ensureSingle(D,"rect",y.handleMaxClassName,function(N){N.attr(_)}).attr(I);var O={width:y.grabAreaWidth,x:0,y:0,fill:y.grabAreaFill,cursor:A._context.staticPlot?void 0:y.grabAreaCursor};n.ensureSingle(L,"rect",y.grabAreaMinClassName,function(N){N.attr(O)}).attr("height",k._height),n.ensureSingle(D,"rect",y.grabAreaMaxClassName,function(N){N.attr(O)}).attr("height",k._height)}X.exports=function(T){for(var A=T._fullLayout,P=A._rangeSliderData,k=0;k<P.length;k++){var L=P[k][y.name];L._clipId=L._id+"-"+A._uid}var D=A._infolayer.selectAll("g."+y.containerClassName).data(P,function(_){return _._name});D.exit().each(function(_){var I=_[y.name];A._topdefs.select("#"+I._clipId).remove()}).remove(),P.length!==0&&(D.enter().append("g").classed(y.containerClassName,!0).attr("pointer-events","all"),D.each(function(_){var I=f.select(this),O=_[y.name],N=A[c.id2name(_.anchor)],G=O[c.id2name(_.anchor)];if(O.range){var z,Y=n.simpleMap(O.range,_.r2l),Z=n.simpleMap(_.range,_.r2l);z=Z[0]<Z[1]?[Math.min(Y[0],Z[0]),Math.max(Y[1],Z[1])]:[Math.max(Y[0],Z[0]),Math.min(Y[1],Z[1])],O.range=O._input.range=n.simpleMap(z,_.l2r)}_.cleanRange("rangeslider.range");var nt=A._size,S=_.domain;O._width=nt.w*(S[1]-S[0]);var E=Math.round(nt.l+nt.w*S[0]),V=Math.round(nt.t+nt.h*(1-_._counterDomainMin)+(_.side==="bottom"?_._depth:0)+O._offsetShift+y.extraPad);I.attr("transform",e(E,V)),O._rl=n.simpleMap(O.range,_.r2l);var Q=O._rl[0],tt=O._rl[1],rt=tt-Q;if(O.p2d=function(et){return et/O._width*rt+Q},O.d2p=function(et){return(et-Q)/rt*O._width},_.rangebreaks){var ot=_.locateBreaks(Q,tt);if(ot.length){var H,F,R=0;for(H=0;H<ot.length;H++)R+=(F=ot[H]).max-F.min;var j=O._width/(tt-Q-R),J=[-j*Q];for(H=0;H<ot.length;H++)F=ot[H],J.push(J[J.length-1]-j*(F.max-F.min));for(O.d2p=function(et){for(var st=J[0],yt=0;yt<ot.length;yt++){var St=ot[yt];if(et>=St.max)st=J[yt+1];else if(et<St.min)break}return st+j*et},H=0;H<ot.length;H++)(F=ot[H]).pmin=O.d2p(F.min),F.pmax=O.d2p(F.max);O.p2d=function(et){for(var st=J[0],yt=0;yt<ot.length;yt++){var St=ot[yt];if(et>=St.pmax)st=J[yt+1];else if(et<St.pmin)break}return(et-st)/j}}}if(G.rangemode!=="match"){var q=N.r2l(G.range[0]),$=N.r2l(G.range[1])-q;O.d2pOppAxis=function(et){return(et-q)/$*O._height}}I.call(m,T,_,O).call(v,T,_,O).call(x,T,_,O).call(w,T,_,O,G).call(p,T,_,O).call(b,T,_,O),function(et,st,yt,St){if(!st._context.staticPlot){var Lt=et.select("rect."+y.slideBoxClassName).node(),It=et.select("rect."+y.grabAreaMinClassName).node(),it=et.select("rect."+y.grabAreaMaxClassName).node();et.on("mousedown",ft),et.on("touchstart",ft)}function ft(){var dt=f.event,xt=dt.target,Pt=dt.clientX||dt.touches[0].clientX,Ct=Pt-et.node().getBoundingClientRect().left,lt=St.d2p(yt._rl[0]),ht=St.d2p(yt._rl[1]),vt=u.coverSlip();function gt(Tt){var kt,_t,At,Mt=+(Tt.clientX||Tt.touches[0].clientX)-Pt;switch(xt){case Lt:if(At="ew-resize",lt+Mt>yt._length||ht+Mt<0)return;kt=lt+Mt,_t=ht+Mt;break;case It:if(At="col-resize",lt+Mt>yt._length)return;kt=lt+Mt,_t=ht;break;case it:if(At="col-resize",ht+Mt<0)return;kt=lt,_t=ht+Mt;break;default:At="ew-resize",kt=Ct,_t=Ct+Mt}if(_t<kt){var Rt=_t;_t=kt,kt=Rt}St._pixelMin=kt,St._pixelMax=_t,h(f.select(vt),At),function(Yt,zt,Xt,Kt){function se(Dt){return Xt.l2r(n.constrain(Dt,Kt._rl[0],Kt._rl[1]))}var de=se(Kt.p2d(Kt._pixelMin)),xe=se(Kt.p2d(Kt._pixelMax));window.requestAnimationFrame(function(){g.call("_guiRelayout",zt,Xt._name+".range",[de,xe])})}(0,st,yt,St)}function mt(){vt.removeEventListener("mousemove",gt),vt.removeEventListener("mouseup",mt),this.removeEventListener("touchmove",gt),this.removeEventListener("touchend",mt),n.removeElement(vt)}this.addEventListener("touchmove",gt),this.addEventListener("touchend",mt),vt.addEventListener("mousemove",gt),vt.addEventListener("mouseup",mt)}}(I,T,_,O),function(et,st,yt,St,Lt,It){var it=y.handleWidth/2;function ft(Tt){return n.constrain(Tt,0,St._width)}function dt(Tt){return n.constrain(Tt,0,St._height)}function xt(Tt){return n.constrain(Tt,-it,St._width+it)}var Pt=ft(St.d2p(yt._rl[0])),Ct=ft(St.d2p(yt._rl[1]));if(et.select("rect."+y.slideBoxClassName).attr("x",Pt).attr("width",Ct-Pt),et.select("rect."+y.maskMinClassName).attr("width",Pt),et.select("rect."+y.maskMaxClassName).attr("x",Ct).attr("width",St._width-Ct),It.rangemode!=="match"){var lt=St._height-dt(St.d2pOppAxis(Lt._rl[1])),ht=St._height-dt(St.d2pOppAxis(Lt._rl[0]));et.select("rect."+y.maskMinOppAxisClassName).attr("x",Pt).attr("height",lt).attr("width",Ct-Pt),et.select("rect."+y.maskMaxOppAxisClassName).attr("x",Pt).attr("y",ht).attr("height",St._height-ht).attr("width",Ct-Pt),et.select("rect."+y.slideBoxClassName).attr("y",lt).attr("height",ht-lt)}var vt=.5,gt=Math.round(xt(Pt-it))-vt,mt=Math.round(xt(Ct-it))+vt;et.select("g."+y.grabberMinClassName).attr("transform",e(gt,vt)),et.select("g."+y.grabberMaxClassName).attr("transform",e(mt,vt))}(I,0,_,O,N,G),_.side==="bottom"&&l.draw(T,_._id+"title",{propContainer:_,propName:_._name+".title",placeholder:A._dfltTitle.x,attributes:{x:_._offset+_._length/2,y:V+O._height+O._offsetShift+10+1.5*_.title.font.size,"text-anchor":"middle"}})}))}},549:function(X,d,t){var f=t(1675),g=t(3893),a=t(3251),n=t(8783).LINE_SPACING,e=a.name;function r(i){var l=i&&i[e];return l&&l.visible}d.isVisible=r,d.makeData=function(i){var l=f.list({_fullLayout:i},"x",!0),o=i.margin,c=[];if(!i._has("gl2d"))for(var u=0;u<l.length;u++){var h=l[u];if(r(h)){c.push(h);var y=h[e];y._id=e+h._id,y._height=(i.height-o.b-o.t)*y.thickness,y._offsetShift=Math.floor(y.borderwidth/2)}}i._rangeSliderData=c},d.autoMarginOpts=function(i,l){var o=i._fullLayout,c=l[e],u=l._id.charAt(0),h=0,y=0;return l.side==="bottom"&&(h=l._depth,l.title.text!==o._dfltTitle[u]&&(y=1.5*l.title.font.size+10+c._offsetShift,y+=(l.title.text.match(g.BR_TAG_ALL)||[]).length*l.title.font.size*n)),{x:0,y:l._counterDomainMin,l:0,r:0,t:0,b:c._height+h+Math.max(o.margin.b,y),pad:a.extraPad+2*c._offsetShift}}},3137:function(X,d,t){var f=t(1828),g=t(5148),a=t(7850),n=t(549);X.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:f.extendFlat({},g,{yaxis:a})}}},layoutAttributes:t(5148),handleDefaults:t(6377),calcAutorange:t(8443),draw:t(2413),isVisible:n.isVisible,makeData:n.makeData,autoMarginOpts:n.autoMarginOpts}},7850:function(X){X.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(X,d,t){var f=t(215),g=t(2196).line,a=t(9952).P,n=t(1426).extendFlat,e=t(962).overrideAll,r=t(4467).templatedArray;t(4695),X.exports=e(r("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:n({},f.xref,{}),yref:n({},f.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:g.color,width:n({},g.width,{min:1,dflt:1}),dash:n({},a,{dflt:"dot"})}}),"arraydraw","from-root")},4122:function(X){X.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},9402:function(X,d,t){var f=t(1828),g=t(9298),a=t(5501),n=t(8389),e=t(477);function r(i,l,o){function c(I,O){return f.coerce(i,l,n,I,O)}var u=c("path"),h=c("type",u?"path":"rect")!=="path";h&&delete l.path,c("opacity"),c("line.color"),c("line.width"),c("line.dash");for(var y=["x","y"],m=0;m<2;m++){var v,x,w,p=y[m],b={_fullLayout:o},T=g.coerceRef(i,l,b,p);if((v=g.getFromId(b,T))._selectionIndices.push(l._index),w=e.rangeToShapePosition(v),x=e.shapePositionToRange(v),h){var A=p+"0",P=p+"1",k=i[A],L=i[P];i[A]=x(i[A],!0),i[P]=x(i[P],!0),g.coercePosition(l,b,c,T,A),g.coercePosition(l,b,c,T,P);var D=l[A],_=l[P];D!==void 0&&_!==void 0&&(l[A]=w(D),l[P]=w(_),i[A]=k,i[P]=L)}}h&&f.noneOrAll(i,l,["x0","x1","y0","y1"])}X.exports=function(i,l){a(i,l,{name:"selections",handleItemDefaults:r});for(var o=l.selections,c=0;c<o.length;c++){var u=o[c];u&&u.path===void 0&&(u.x0!==void 0&&u.x1!==void 0&&u.y0!==void 0&&u.y1!==void 0||(l.selections[c]=null))}}},2485:function(X,d,t){var f=t(165).readPaths,g=t(2359),a=t(1873).clearOutlineControllers,n=t(7901),e=t(1424),r=t(4467).arrayEditor,i=t(477),l=i.getPathString;function o(m){var v=m._fullLayout;for(var x in a(m),v._selectionLayer.selectAll("path").remove(),v._plots){var w=v._plots[x].selectionLayer;w&&w.selectAll("path").remove()}for(var p=0;p<v.selections.length;p++)u(m,p)}function c(m){return m._context.editSelection}function u(m,v){m._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+v+'"]').remove();var x=i.makeSelectionsOptionsAndPlotinfo(m,v),w=x.options,p=x.plotinfo;w._input&&function(b){var T=l(m,w),A={"data-index":v,"fill-rule":"evenodd",d:T},P=w.opacity,k="rgba(0,0,0,0)",L=w.line.color||n.contrast(m._fullLayout.plot_bgcolor),D=w.line.width,_=w.line.dash;D||(D=5,_="solid");var I=c(m)&&m._fullLayout._activeSelectionIndex===v;I&&(k=m._fullLayout.activeselection.fillcolor,P=m._fullLayout.activeselection.opacity);for(var O=[],N=1;N>=0;N--){var G=b.append("path").attr(A).style("opacity",N?.1:P).call(n.stroke,L).call(n.fill,k).call(e.dashLine,N?"solid":_,N?4+D:D);if(h(G,m,w),I){var z=r(m.layout,"selections",w);G.style({cursor:"move"});var Y={element:G.node(),plotinfo:p,gd:m,editHelpers:z,isActiveSelection:!0},Z=f(T,m);g(Z,G,Y)}else G.style("pointer-events",N?"all":"none");O[N]=G}var nt=O[0];O[1].node().addEventListener("click",function(){return function(S,E){if(c(S)){var V=+E.node().getAttribute("data-index");if(V>=0){if(V===S._fullLayout._activeSelectionIndex)return void y(S);S._fullLayout._activeSelectionIndex=V,S._fullLayout._deactivateSelection=y,o(S)}}}(m,nt)})}(m._fullLayout._selectionLayer)}function h(m,v,x){var w=x.xref+x.yref;e.setClipUrl(m,"clip"+v._fullLayout._uid+w,v)}function y(m){c(m)&&m._fullLayout._activeSelectionIndex>=0&&(a(m),delete m._fullLayout._activeSelectionIndex,o(m))}X.exports={draw:o,drawOne:u,activateLastSelection:function(m){if(c(m)){var v=m._fullLayout.selections.length-1;m._fullLayout._activeSelectionIndex=v,m._fullLayout._deactivateSelection=y,o(m)}}}},3777:function(X,d,t){var f=t(9952).P,g=t(1426).extendFlat;X.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:g({},f,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},849:function(X){X.exports=function(d,t,f){f("newselection.mode"),f("newselection.line.width")&&(f("newselection.line.color"),f("newselection.line.dash")),f("activeselection.fillcolor"),f("activeselection.opacity")}},5855:function(X,d,t){var f=t(4505).selectMode,g=t(1873).clearOutline,a=t(165),n=a.readPaths,e=a.writePaths,r=a.fixDatesForPaths;X.exports=function(i,l){if(i.length){var o=i[0][0];if(o){var c=o.getAttribute("d"),u=l.gd,h=u._fullLayout.newselection,y=l.plotinfo,m=y.xaxis,v=y.yaxis,x=l.isActiveSelection,w=l.dragmode,p=(u.layout||{}).selections||[];if(!f(w)&&x!==void 0){var b=u._fullLayout._activeSelectionIndex;if(b<p.length)switch(u._fullLayout.selections[b].type){case"rect":w="select";break;case"path":w="lasso"}}var T,A=n(c,u,y,x),P={xref:m._id,yref:v._id,opacity:h.opacity,line:{color:h.line.color,width:h.line.width,dash:h.line.dash}};A.length===1&&(T=A[0]),T&&T.length===5&&w==="select"?(P.type="rect",P.x0=T[0][1],P.y0=T[0][2],P.x1=T[2][1],P.y1=T[2][2]):(P.type="path",m&&v&&r(A,m,v),P.path=e(A),T=null),g(u);for(var k=l.editHelpers,L=(k||{}).modifyItem,D=[],_=0;_<p.length;_++){var I=u._fullLayout.selections[_];if(I){if(D[_]=I._input,x!==void 0&&_===u._fullLayout._activeSelectionIndex){var O=P;switch(I.type){case"rect":L("x0",O.x0),L("x1",O.x1),L("y0",O.y0),L("y1",O.y1);break;case"path":L("path",O.path)}}}else D[_]=I}return x===void 0?(D.push(P),D):k?k.getUpdateObj():{}}}}},5549:function(X,d,t){var f=t(1828).strTranslate;function g(a,n){switch(a.type){case"log":return a.p2d(n);case"date":return a.p2r(n,0,a.calendar);default:return a.p2r(n)}}X.exports={p2r:g,r2p:function(a,n){switch(a.type){case"log":return a.d2p(n);case"date":return a.r2p(n,0,a.calendar);default:return a.r2p(n)}},axValue:function(a){var n=a._id.charAt(0)==="y"?1:0;return function(e){return g(a,e[n])}},getTransform:function(a){return f(a.xaxis._offset,a.yaxis._offset)}}},7322:function(X,d,t){var f=t(2485),g=t(3937);X.exports={moduleType:"component",name:"selections",layoutAttributes:t(8389),supplyLayoutDefaults:t(9402),supplyDrawNewSelectionDefaults:t(849),includeBasePlot:t(6325)("selections"),draw:f.draw,drawOne:f.drawOne,reselect:g.reselect,prepSelect:g.prepSelect,clearOutline:g.clearOutline,clearSelectionsCache:g.clearSelectionsCache,selectOnClick:g.selectOnClick}},3937:function(X,d,t){var f=t(2142),g=t(8258),a=t(3972),n=t(1424).dashStyle,e=t(7901),r=t(211),i=t(3469).makeEventData,l=t(4505),o=l.freeMode,c=l.rectMode,u=l.drawMode,h=l.openMode,y=l.selectMode,m=t(477),v=t(1459),x=t(2359),w=t(1873).clearOutline,p=t(165),b=p.handleEllipse,T=p.readPaths,A=t(551).newShapes,P=t(5855),k=t(2485).activateLastSelection,L=t(1828),D=L.sorterAsc,_=t(1082),I=t(9990),O=t(1675).getFromId,N=t(3306),G=t(1549).redrawReglTraces,z=t(4122),Y=z.MINSELECT,Z=_.filter,nt=_.tester,S=t(5549),E=S.p2r,V=S.axValue,Q=S.getTransform;function tt(mt){return mt.subplot!==void 0}function rt(mt,Tt,kt,_t,At,Mt,Rt){var Yt,zt,Xt,Kt,se,de,xe,Dt,wt,Ut=Tt._hoverdata,Wt=Tt._fullLayout.clickmode.indexOf("event")>-1,me=[];if(function(he){return he&&Array.isArray(he)&&he[0].hoverOnBox!==!0}(Ut)){R(mt,Tt,Mt);var Vt=function(he,De){var fe,K,at=he[0],Et=-1,Ot=[];for(K=0;K<De.length;K++)if(fe=De[K],at.fullData._expandedIndex===fe.cd[0].trace._expandedIndex){if(at.hoverOnBox===!0)break;at.pointNumber!==void 0?Et=at.pointNumber:at.binNumber!==void 0&&(Et=at.binNumber,Ot=at.pointNumbers);break}return{pointNumber:Et,pointNumbers:Ot,searchInfo:fe}}(Ut,Yt=q(Tt,kt,_t,At));if(Vt.pointNumbers.length>0?function(he,De){var fe,K,at,Et=[];for(at=0;at<he.length;at++)(fe=he[at]).cd[0].trace.selectedpoints&&fe.cd[0].trace.selectedpoints.length>0&&Et.push(fe);if(Et.length===1&&Et[0]===De.searchInfo&&(K=De.searchInfo.cd[0].trace).selectedpoints.length===De.pointNumbers.length){for(at=0;at<De.pointNumbers.length;at++)if(K.selectedpoints.indexOf(De.pointNumbers[at])<0)return!1;return!0}return!1}(Yt,Vt):function(he){var De,fe,K=0;for(fe=0;fe<he.length;fe++)if((De=he[fe].cd[0].trace).selectedpoints&&(De.selectedpoints.length>1||(K+=De.selectedpoints.length)>1))return!1;return K===1}(Yt)&&(de=et(Vt))){for(Rt&&Rt.remove(),wt=0;wt<Yt.length;wt++)(zt=Yt[wt])._module.selectPoints(zt,!1);st(Tt,Yt),j(Mt),Wt&&gt(Tt)}else{for(xe=mt.shiftKey&&(de!==void 0?de:et(Vt)),Xt=function(he,De,fe){return{pointNumber:he,searchInfo:De,subtract:!!fe}}(Vt.pointNumber,Vt.searchInfo,xe),Kt=F(Mt.selectionDefs.concat([Xt])),wt=0;wt<Yt.length;wt++)if(se=St(Yt[wt]._module.selectPoints(Yt[wt],Kt),Yt[wt]),me.length)for(var ne=0;ne<se.length;ne++)me.push(se[ne]);else me=se;if(st(Tt,Yt,Dt={points:me}),Xt&&Mt&&Mt.selectionDefs.push(Xt),Rt){var ie=Mt.mergedPolygons,_e=h(Mt.dragmode);x(Lt(ie,_e),Rt,Mt)}Wt&&vt(Tt,Dt)}}}function ot(mt){return"pointNumber"in mt&&"searchInfo"in mt}function H(mt){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Tt,kt,_t,At){var Mt=mt.searchInfo.cd[0].trace._expandedIndex;return At.cd[0].trace._expandedIndex===Mt&&_t===mt.pointNumber},isRect:!1,degenerate:!1,subtract:!!mt.subtract}}function F(mt){if(mt.length){for(var Tt=[],kt=ot(mt[0])?0:mt[0][0][0],_t=kt,At=ot(mt[0])?0:mt[0][0][1],Mt=At,Rt=0;Rt<mt.length;Rt++)if(ot(mt[Rt]))Tt.push(H(mt[Rt]));else{var Yt=nt(mt[Rt]);Yt.subtract=!!mt[Rt].subtract,Tt.push(Yt),kt=Math.min(kt,Yt.xmin),_t=Math.max(_t,Yt.xmax),At=Math.min(At,Yt.ymin),Mt=Math.max(Mt,Yt.ymax)}return{xmin:kt,xmax:_t,ymin:At,ymax:Mt,pts:[],contains:function(zt,Xt,Kt,se){for(var de=!1,xe=0;xe<Tt.length;xe++)Tt[xe].contains(zt,Xt,Kt,se)&&(de=!Tt[xe].subtract);return de},isRect:!1,degenerate:!1}}}function R(mt,Tt,kt){var _t=Tt._fullLayout,At=kt.plotinfo,Mt=kt.dragmode,Rt=_t._lastSelectedSubplot&&_t._lastSelectedSubplot===At.id,Yt=(mt.shiftKey||mt.altKey)&&!(u(Mt)&&h(Mt));Rt&&Yt&&At.selection&&At.selection.selectionDefs&&!kt.selectionDefs?(kt.selectionDefs=At.selection.selectionDefs,kt.mergedPolygons=At.selection.mergedPolygons):Yt&&At.selection||j(kt),Rt||(w(Tt),_t._lastSelectedSubplot=At.id)}function j(mt,Tt){var kt=mt.dragmode,_t=mt.plotinfo,At=mt.gd;(function(se){return se._fullLayout._activeShapeIndex>=0})(At)&&At._fullLayout._deactivateShape(At),function(se){return se._fullLayout._activeSelectionIndex>=0}(At)&&At._fullLayout._deactivateSelection(At);var Mt=At._fullLayout._zoomlayer,Rt=u(kt),Yt=y(kt);if(Rt||Yt){var zt,Xt,Kt=Mt.selectAll(".select-outline-"+_t.id);Kt&&At._fullLayout._outlining&&(Rt&&(zt=A(Kt,mt)),zt&&a.call("_guiRelayout",At,{shapes:zt}),Yt&&!tt(mt)&&(Xt=P(Kt,mt)),Xt&&(At._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",At,{selections:Xt}).then(function(){Tt&&k(At)})),At._fullLayout._outlining=!1)}_t.selection={},_t.selection.selectionDefs=mt.selectionDefs=[],_t.selection.mergedPolygons=mt.mergedPolygons=[]}function J(mt){return mt._id}function q(mt,Tt,kt,_t){if(!mt.calcdata)return[];var At,Mt,Rt,Yt=[],zt=Tt.map(J),Xt=kt.map(J);for(Rt=0;Rt<mt.calcdata.length;Rt++)if((Mt=(At=mt.calcdata[Rt])[0].trace).visible===!0&&Mt._module&&Mt._module.selectPoints)if(!tt({subplot:_t})||Mt.subplot!==_t&&Mt.geo!==_t)if(Mt.type==="splom"){if(Mt._xaxes[zt[0]]&&Mt._yaxes[Xt[0]]){var Kt=$(Mt._module,At,Tt[0],kt[0]);Kt.scene=mt._fullLayout._splomScenes[Mt.uid],Yt.push(Kt)}}else if(Mt.type==="sankey"){var se=$(Mt._module,At,Tt[0],kt[0]);Yt.push(se)}else{if(zt.indexOf(Mt.xaxis)===-1||Xt.indexOf(Mt.yaxis)===-1)continue;Yt.push($(Mt._module,At,O(mt,Mt.xaxis),O(mt,Mt.yaxis)))}else Yt.push($(Mt._module,At,Tt[0],kt[0]));return Yt}function $(mt,Tt,kt,_t){return{_module:mt,cd:Tt,xaxis:kt,yaxis:_t}}function et(mt){var Tt=mt.searchInfo.cd[0].trace,kt=mt.pointNumber,_t=mt.pointNumbers,At=_t.length>0?_t[0]:kt;return!!Tt.selectedpoints&&Tt.selectedpoints.indexOf(At)>-1}function st(mt,Tt,kt){var _t,At;for(_t=0;_t<Tt.length;_t++){var Mt=Tt[_t].cd[0].trace._fullInput,Rt=mt._fullLayout._tracePreGUI[Mt.uid]||{};Rt.selectedpoints===void 0&&(Rt.selectedpoints=Mt._input.selectedpoints||null)}if(kt){var Yt=kt.points||[];for(_t=0;_t<Tt.length;_t++)(At=Tt[_t].cd[0].trace)._input.selectedpoints=At._fullInput.selectedpoints=[],At._fullInput!==At&&(At.selectedpoints=[]);for(var zt=0;zt<Yt.length;zt++){var Xt=Yt[zt],Kt=Xt.data,se=Xt.fullData,de=Xt.pointIndex,xe=Xt.pointIndices;xe?([].push.apply(Kt.selectedpoints,xe),At._fullInput!==At&&[].push.apply(se.selectedpoints,xe)):(Kt.selectedpoints.push(de),At._fullInput!==At&&se.selectedpoints.push(de))}}else for(_t=0;_t<Tt.length;_t++)delete(At=Tt[_t].cd[0].trace).selectedpoints,delete At._input.selectedpoints,At._fullInput!==At&&delete At._fullInput.selectedpoints;(function(Dt,wt){for(var Ut=!1,Wt=0;Wt<wt.length;Wt++){var me=wt[Wt],Vt=me.cd;a.traceIs(Vt[0].trace,"regl")&&(Ut=!0);var ne=me._module,ie=ne.styleOnSelect||ne.style;ie&&(ie(Dt,Vt,Vt[0].node3),Vt[0].nodeRangePlot3&&ie(Dt,Vt,Vt[0].nodeRangePlot3))}Ut&&(N(Dt),G(Dt))})(mt,Tt)}function yt(mt,Tt,kt){for(var _t=(kt?f.difference:f.union)({regions:mt},{regions:[Tt]}).regions.reverse(),At=0;At<_t.length;At++){var Mt=_t[At];Mt.subtract=Pt(Mt,_t.slice(0,At))}return _t}function St(mt,Tt){if(Array.isArray(mt))for(var kt=Tt.cd,_t=Tt.cd[0].trace,At=0;At<mt.length;At++)mt[At]=i(mt[At],_t,kt);return mt}function Lt(mt,Tt){for(var kt=[],_t=0;_t<mt.length;_t++){kt[_t]=[];for(var At=0;At<mt[_t].length;At++){kt[_t][At]=[],kt[_t][At][0]=At?"L":"M";for(var Mt=0;Mt<mt[_t][At].length;Mt++)kt[_t][At].push(mt[_t][At][Mt])}Tt||kt[_t].push(["Z",kt[_t][0][1],kt[_t][0][2]])}return kt}function It(mt,Tt){for(var kt,_t,At=[],Mt=[],Rt=0;Rt<Tt.length;Rt++){var Yt=Tt[Rt];_t=Yt._module.selectPoints(Yt,mt),Mt.push(_t),kt=St(_t,Yt),At=At.concat(kt)}return At}function it(mt,Tt,kt,_t,At){var Mt,Rt,Yt,zt=!!_t;At&&(Mt=At.plotinfo,Rt=At.xaxes[0]._id,Yt=At.yaxes[0]._id);var Xt=[],Kt=[],se=xt(mt),de=mt._fullLayout;if(Mt){var xe=de._zoomlayer,Dt=de.dragmode,wt=u(Dt),Ut=y(Dt);if(wt||Ut){var Wt=O(mt,Rt,"x"),me=O(mt,Yt,"y");if(Wt&&me){var Vt=xe.selectAll(".select-outline-"+Mt.id);if(Vt&&mt._fullLayout._outlining&&Vt.length){for(var ne=Vt[0][0].getAttribute("d"),ie=T(ne,mt,Mt),_e=[],he=0;he<ie.length;he++){for(var De=ie[he],fe=[],K=0;K<De.length;K++)fe.push([Ct(Wt,De[K][1]),Ct(me,De[K][2])]);fe.xref=Rt,fe.yref=Yt,fe.subtract=Pt(fe,_e),_e.push(fe)}se=se.concat(_e)}}}}var at=Rt&&Yt?[Rt+Yt]:de._subplots.cartesian;(function(Ae){var Ne=Ae.calcdata;if(Ne)for(var ke=0;ke<Ne.length;ke++){var ze=Ne[ke][0].trace,Ye=Ae._fullLayout._splomScenes;if(Ye){var We=Ye[ze.uid];We&&(We.selectBatch=[])}}})(mt);for(var Et={},Ot=0;Ot<at.length;Ot++){var Bt=at[Ot],Nt=Bt.indexOf("y"),Ht=Bt.slice(0,Nt),Zt=Bt.slice(Nt),Qt=Rt&&Yt?kt:void 0;if(Qt=dt(se,Ht,Zt,Qt)){var oe=_t;if(!zt){var qt=O(mt,Ht,"x"),Te=O(mt,Zt,"y");oe=q(mt,[qt],[Te],Bt);for(var Re=0;Re<oe.length;Re++){var pe=oe[Re],Se=pe.cd[0],Me=Se.trace;if(pe._module.name==="scattergl"&&!Se.t.xpx){var re=Me.x,$t=Me.y,ve=Me._length;Se.t.xpx=[],Se.t.ypx=[];for(var Ee=0;Ee<ve;Ee++)Se.t.xpx[Ee]=qt.c2p(re[Ee]),Se.t.ypx[Ee]=Te.c2p($t[Ee])}pe._module.name==="splom"&&(Et[Me.uid]||(Et[Me.uid]=!0))}}var Fe=It(Qt,oe);Xt=Xt.concat(Fe),Kt=Kt.concat(oe)}}var je={points:Xt};st(mt,Kt,je);var le=de.clickmode.indexOf("event")>-1&&Tt;if(!Mt&&Tt){var be=xt(mt,!0);if(be.length){var we=be[0].xref,Ce=be[0].yref;if(we&&Ce){var Le=lt(be);ht([O(mt,we,"x"),O(mt,Ce,"y")])(je,Le)}}mt._fullLayout._noEmitSelectedAtStart?mt._fullLayout._noEmitSelectedAtStart=!1:le&&vt(mt,je),de._reselect=!1}if(!Mt&&de._deselect){var Oe=de._deselect;(function(Ae,Ne,ke){for(var ze=0;ze<ke.length;ze++){var Ye=ke[ze];if(Ye.xaxis&&Ye.xaxis._id===Ae&&Ye.yaxis&&Ye.yaxis._id===Ne)return!0}return!1})(Rt=Oe.xref,Yt=Oe.yref,Kt)||ft(mt,Rt,Yt,_t),le&&(je.points.length?vt(mt,je):gt(mt)),de._deselect=!1}return{eventData:je,selectionTesters:kt}}function ft(mt,Tt,kt,_t){_t=q(mt,[O(mt,Tt,"x")],[O(mt,kt,"y")],Tt+kt);for(var At=0;At<_t.length;At++){var Mt=_t[At];Mt._module.selectPoints(Mt,!1)}st(mt,_t)}function dt(mt,Tt,kt,_t){for(var At,Mt=0;Mt<mt.length;Mt++){var Rt=mt[Mt];Tt===Rt.xref&&kt===Rt.yref&&(At?_t=F(At=yt(At,Rt,!!Rt.subtract)):(At=[Rt],_t=nt(Rt)))}return _t}function xt(mt,Tt){for(var kt=[],_t=mt._fullLayout,At=_t.selections,Mt=At.length,Rt=0;Rt<Mt;Rt++)if(!Tt||Rt===_t._activeSelectionIndex){var Yt=At[Rt];if(Yt){var zt,Xt,Kt,se,de,xe=Yt.xref,Dt=Yt.yref,wt=O(mt,xe,"x"),Ut=O(mt,Dt,"y");if(Yt.type==="rect"){de=[];var Wt=Ct(wt,Yt.x0),me=Ct(wt,Yt.x1),Vt=Ct(Ut,Yt.y0),ne=Ct(Ut,Yt.y1);de=[[Wt,Vt],[Wt,ne],[me,ne],[me,Vt]],zt=Math.min(Wt,me),Xt=Math.max(Wt,me),Kt=Math.min(Vt,ne),se=Math.max(Vt,ne),de.xmin=zt,de.xmax=Xt,de.ymin=Kt,de.ymax=se,de.xref=xe,de.yref=Dt,de.subtract=!1,de.isRect=!0,kt.push(de)}else if(Yt.type==="path")for(var ie=Yt.path.split("Z"),_e=[],he=0;he<ie.length;he++){var De=ie[he];if(De){De+="Z";var fe=m.extractPathCoords(De,v.paramIsX,"raw"),K=m.extractPathCoords(De,v.paramIsY,"raw");zt=1/0,Xt=-1/0,Kt=1/0,se=-1/0,de=[];for(var at=0;at<fe.length;at++){var Et=Ct(wt,fe[at]),Ot=Ct(Ut,K[at]);de.push([Et,Ot]),zt=Math.min(Et,zt),Xt=Math.max(Et,Xt),Kt=Math.min(Ot,Kt),se=Math.max(Ot,se)}de.xmin=zt,de.xmax=Xt,de.ymin=Kt,de.ymax=se,de.xref=xe,de.yref=Dt,de.subtract=Pt(de,_e),_e.push(de),kt.push(de)}}}}return kt}function Pt(mt,Tt){for(var kt=!1,_t=0;_t<Tt.length;_t++)for(var At=Tt[_t],Mt=0;Mt<mt.length;Mt++)if(g(mt[Mt],At)){kt=!kt;break}return kt}function Ct(mt,Tt){return mt.type==="date"&&(Tt=Tt.replace("_"," ")),mt.type==="log"?mt.c2p(Tt):mt.r2p(Tt,null,mt.calendar)}function lt(mt){for(var Tt=mt.length,kt=[],_t=0;_t<Tt;_t++){var At=mt[_t];kt=(kt=kt.concat(At)).concat([At[0]])}return(Mt=kt).isRect=Mt.length===5&&Mt[0][0]===Mt[4][0]&&Mt[0][1]===Mt[4][1]&&Mt[0][0]===Mt[1][0]&&Mt[2][0]===Mt[3][0]&&Mt[0][1]===Mt[3][1]&&Mt[1][1]===Mt[2][1]||Mt[0][1]===Mt[1][1]&&Mt[2][1]===Mt[3][1]&&Mt[0][0]===Mt[3][0]&&Mt[1][0]===Mt[2][0],Mt.isRect&&(Mt.xmin=Math.min(Mt[0][0],Mt[2][0]),Mt.xmax=Math.max(Mt[0][0],Mt[2][0]),Mt.ymin=Math.min(Mt[0][1],Mt[2][1]),Mt.ymax=Math.max(Mt[0][1],Mt[2][1])),Mt;var Mt}function ht(mt){return function(Tt,kt){for(var _t,At,Mt=0;Mt<mt.length;Mt++){var Rt=mt[Mt],Yt=Rt._id,zt=Yt.charAt(0);if(kt.isRect){_t||(_t={});var Xt=kt[zt+"min"],Kt=kt[zt+"max"];Xt!==void 0&&Kt!==void 0&&(_t[Yt]=[E(Rt,Xt),E(Rt,Kt)].sort(D))}else At||(At={}),At[Yt]=kt.map(V(Rt))}_t&&(Tt.range=_t),At&&(Tt.lassoPoints=At)}}function vt(mt,Tt){Tt&&(Tt.selections=(mt.layout||{}).selections||[]),mt.emit("plotly_selected",Tt)}function gt(mt){mt.emit("plotly_deselect",null)}X.exports={reselect:it,prepSelect:function(mt,Tt,kt,_t,At){var Mt=!tt(_t),Rt=o(At),Yt=c(At),zt=h(At),Xt=u(At),Kt=y(At),se=At==="drawcircle",de=At==="drawline"||se,xe=_t.gd,Dt=xe._fullLayout,wt=Kt&&Dt.newselection.mode==="immediate"&&Mt,Ut=Dt._zoomlayer,Wt=_t.element.getBoundingClientRect(),me=_t.plotinfo,Vt=Q(me),ne=Tt-Wt.left,ie=kt-Wt.top;Dt._calcInverseTransform(xe);var _e=L.apply3DTransform(Dt._invTransform)(ne,ie);ne=_e[0],ie=_e[1];var he,De,fe,K,at,Et,Ot,Bt=Dt._invScaleX,Nt=Dt._invScaleY,Ht=ne,Zt=ie,Qt="M"+ne+","+ie,oe=_t.xaxes[0],qt=_t.yaxes[0],Te=oe._length,Re=qt._length,pe=mt.altKey&&!(u(At)&&zt);R(mt,xe,_t),Rt&&(he=Z([[ne,ie]],z.BENDPX));var Se=Ut.selectAll("path.select-outline-"+me.id).data([1]),Me=Xt?Dt.newshape:Dt.newselection;Xt&&(_t.hasText=Me.label.text||Me.label.texttemplate);var re=Xt&&!zt?Me.fillcolor:"rgba(0,0,0,0)",$t=Me.line.color||(Mt?e.contrast(xe._fullLayout.plot_bgcolor):"#7f7f7f");Se.enter().append("path").attr("class","select-outline select-outline-"+me.id).style({opacity:Xt?Me.opacity/2:1,"stroke-dasharray":n(Me.line.dash,Me.line.width),"stroke-width":Me.line.width+"px","shape-rendering":"crispEdges"}).call(e.stroke,$t).call(e.fill,re).attr("fill-rule","evenodd").classed("cursor-move",!!Xt).attr("transform",Vt).attr("d",Qt+"Z");var ve=Ut.append("path").attr("class","zoombox-corners").style({fill:e.background,stroke:e.defaultLine,"stroke-width":1}).attr("transform",Vt).attr("d","M0,0Z");if(Xt&&_t.hasText){var Ee=Ut.select(".label-temp");Ee.empty()&&(Ee=Ut.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Fe=Dt._uid+z.SELECTID,je=[],le=q(xe,_t.xaxes,_t.yaxes,_t.subplot);wt&&!mt.shiftKey&&(_t._clearSubplotSelections=function(){if(Mt){var we=oe._id,Ce=qt._id;ft(xe,we,Ce,le);for(var Le=(xe.layout||{}).selections||[],Oe=[],Ae=!1,Ne=0;Ne<Le.length;Ne++){var ke=Dt.selections[Ne];ke.xref!==we||ke.yref!==Ce?Oe.push(Le[Ne]):Ae=!0}Ae&&(xe._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",xe,{selections:Oe}))}});var be=function(we){return we.plotinfo.fillRangeItems||ht(we.xaxes.concat(we.yaxes))}(_t);_t.moveFn=function(we,Ce){_t._clearSubplotSelections&&(_t._clearSubplotSelections(),_t._clearSubplotSelections=void 0),Ht=Math.max(0,Math.min(Te,Bt*we+ne)),Zt=Math.max(0,Math.min(Re,Nt*Ce+ie));var Le=Math.abs(Ht-ne),Oe=Math.abs(Zt-ie);if(Yt){var Ae,Ne,ke;if(Kt){var ze=Dt.selectdirection;switch(Ae=ze==="any"?Oe<Math.min(.6*Le,Y)?"h":Le<Math.min(.6*Oe,Y)?"v":"d":ze){case"h":Ne=se?Re/2:0,ke=Re;break;case"v":Ne=se?Te/2:0,ke=Te}}if(Xt)switch(Dt.newshape.drawdirection){case"vertical":Ae="h",Ne=se?Re/2:0,ke=Re;break;case"horizontal":Ae="v",Ne=se?Te/2:0,ke=Te;break;case"ortho":Le<Oe?(Ae="h",Ne=ie,ke=Zt):(Ae="v",Ne=ne,ke=Ht);break;default:Ae="d"}Ae==="h"?((K=de?b(se,[Ht,Ne],[Ht,ke]):[[ne,Ne],[ne,ke],[Ht,ke],[Ht,Ne]]).xmin=de?Ht:Math.min(ne,Ht),K.xmax=de?Ht:Math.max(ne,Ht),K.ymin=Math.min(Ne,ke),K.ymax=Math.max(Ne,ke),ve.attr("d","M"+K.xmin+","+(ie-Y)+"h-4v"+2*Y+"h4ZM"+(K.xmax-1)+","+(ie-Y)+"h4v"+2*Y+"h-4Z")):Ae==="v"?((K=de?b(se,[Ne,Zt],[ke,Zt]):[[Ne,ie],[Ne,Zt],[ke,Zt],[ke,ie]]).xmin=Math.min(Ne,ke),K.xmax=Math.max(Ne,ke),K.ymin=de?Zt:Math.min(ie,Zt),K.ymax=de?Zt:Math.max(ie,Zt),ve.attr("d","M"+(ne-Y)+","+K.ymin+"v-4h"+2*Y+"v4ZM"+(ne-Y)+","+(K.ymax-1)+"v4h"+2*Y+"v-4Z")):Ae==="d"&&((K=de?b(se,[ne,ie],[Ht,Zt]):[[ne,ie],[ne,Zt],[Ht,Zt],[Ht,ie]]).xmin=Math.min(ne,Ht),K.xmax=Math.max(ne,Ht),K.ymin=Math.min(ie,Zt),K.ymax=Math.max(ie,Zt),ve.attr("d","M0,0Z"))}else Rt&&(he.addPt([Ht,Zt]),K=he.filtered);if(_t.selectionDefs&&_t.selectionDefs.length?(fe=yt(_t.mergedPolygons,K,pe),K.subtract=pe,De=F(_t.selectionDefs.concat([K]))):(fe=[K],De=nt(K)),x(Lt(fe,zt),Se,_t),Kt){var Ye,We=it(xe,!1),Xe=We.eventData?We.eventData.points.slice():[];We=it(xe,!1,De,le,_t),De=We.selectionTesters,Ot=We.eventData,Ye=he?he.filtered:lt(fe),I.throttle(Fe,z.SELECTDELAY,function(){for(var Ge=(je=It(De,le)).slice(),qe=0;qe<Xe.length;qe++){for(var tn=Xe[qe],Ue=!1,Qe=0;Qe<Ge.length;Qe++)if(Ge[Qe].curveNumber===tn.curveNumber&&Ge[Qe].pointNumber===tn.pointNumber){Ue=!0;break}Ue||Ge.push(tn)}Ge.length&&(Ot||(Ot={}),Ot.points=Ge),be(Ot,Ye),function(Ve,rn){Ve.emit("plotly_selecting",rn)}(xe,Ot)})}},_t.clickFn=function(we,Ce){if(ve.remove(),xe._fullLayout._activeShapeIndex>=0)xe._fullLayout._deactivateShape(xe);else if(!Xt){var Le=Dt.clickmode;I.done(Fe).then(function(){if(I.clear(Fe),we===2){for(Se.remove(),at=0;at<le.length;at++)(Et=le[at])._module.selectPoints(Et,!1);if(st(xe,le),j(_t),gt(xe),le.length){var Oe=le[0].xaxis,Ae=le[0].yaxis;if(Oe&&Ae){for(var Ne=[],ke=xe._fullLayout.selections,ze=0;ze<ke.length;ze++){var Ye=ke[ze];Ye&&(Ye.xref===Oe._id&&Ye.yref===Ae._id||Ne.push(Ye))}Ne.length<ke.length&&(xe._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",xe,{selections:Ne}))}}}else Le.indexOf("select")>-1&&rt(Ce,xe,_t.xaxes,_t.yaxes,_t.subplot,_t,Se),Le==="event"&&vt(xe,void 0);r.click(xe,Ce,me.id)}).catch(L.error)}},_t.doneFn=function(){ve.remove(),I.done(Fe).then(function(){I.clear(Fe),!wt&&K&&_t.selectionDefs&&(K.subtract=pe,_t.selectionDefs.push(K),_t.mergedPolygons.length=0,[].push.apply(_t.mergedPolygons,fe)),(wt||Xt)&&j(_t,wt),_t.doneFnCompleted&&_t.doneFnCompleted(je),Kt&&vt(xe,Ot)}).catch(L.error)}},clearOutline:w,clearSelectionsCache:j,selectOnClick:rt}},9827:function(X,d,t){var f=t(215),g=t(1940),a=t(2196).line,n=t(9952).P,e=t(1426).extendFlat,r=t(4467).templatedArray,i=(t(4695),t(9012)),l=t(5386).R,o=t(7281);X.exports=r("shape",{visible:e({},i.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:e({},i.legend,{editType:"calc+arraydraw"}),legendgroup:e({},i.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:e({},i.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:g({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:e({},i.legendrank,{editType:"calc+arraydraw"}),legendwidth:e({},i.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:e({},f.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:e({},f.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:e({},a.color,{editType:"arraydraw"}),width:e({},a.width,{editType:"calc+arraydraw"}),dash:e({},n,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:l({},{keys:Object.keys(o)}),font:g({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(X,d,t){var f=t(1828),g=t(9298),a=t(1459),n=t(477);function e(o){return i(o.line.width,o.xsizemode,o.x0,o.x1,o.path,!1)}function r(o){return i(o.line.width,o.ysizemode,o.y0,o.y1,o.path,!0)}function i(o,c,u,h,y,m){var v=o/2,x=m;if(c==="pixel"){var w=y?n.extractPathCoords(y,m?a.paramIsY:a.paramIsX):[u,h],p=f.aggNums(Math.max,null,w),b=f.aggNums(Math.min,null,w),T=b<0?Math.abs(b)+v:v,A=p>0?p+v:v;return{ppad:v,ppadplus:x?T:A,ppadminus:x?A:T}}return{ppad:v}}function l(o,c,u,h,y){var m=o.type==="category"||o.type==="multicategory"?o.r2c:o.d2c;if(c!==void 0)return[m(c),m(u)];if(h){var v,x,w,p,b=1/0,T=-1/0,A=h.match(a.segmentRE);for(o.type==="date"&&(m=n.decodeDate(m)),v=0;v<A.length;v++)(x=y[A[v].charAt(0)].drawn)!==void 0&&(!(w=A[v].substr(1).match(a.paramRE))||w.length<x||((p=m(w[x]))<b&&(b=p),p>T&&(T=p)));return T>=b?[b,T]:void 0}}X.exports=function(o){var c=o._fullLayout,u=f.filterVisible(c.shapes);if(u.length&&o._fullData.length)for(var h=0;h<u.length;h++){var y,m,v=u[h];v._extremes={};var x=g.getRefType(v.xref),w=g.getRefType(v.yref);if(v.xref!=="paper"&&x!=="domain"){var p=v.xsizemode==="pixel"?v.xanchor:v.x0,b=v.xsizemode==="pixel"?v.xanchor:v.x1;(m=l(y=g.getFromId(o,v.xref),p,b,v.path,a.paramIsX))&&(v._extremes[y._id]=g.findExtremes(y,m,e(v)))}if(v.yref!=="paper"&&w!=="domain"){var T=v.ysizemode==="pixel"?v.yanchor:v.y0,A=v.ysizemode==="pixel"?v.yanchor:v.y1;(m=l(y=g.getFromId(o,v.yref),T,A,v.path,a.paramIsY))&&(v._extremes[y._id]=g.findExtremes(y,m,r(v)))}}}},1459:function(X){X.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},4726:function(X,d,t){var f=t(1828),g=t(9298),a=t(5501),n=t(9827),e=t(477);function r(i,l,o){function c(S,E){return f.coerce(i,l,n,S,E)}if(l._isShape=!0,c("visible")){c("showlegend")&&(c("legend"),c("legendwidth"),c("legendgroup"),c("legendgrouptitle.text"),f.coerceFont(c,"legendgrouptitle.font"),c("legendrank"));var u=c("path"),h=c("type",u?"path":"rect"),y=h!=="path";y&&delete l.path,c("editable"),c("layer"),c("opacity"),c("fillcolor"),c("fillrule"),c("line.width")&&(c("line.color"),c("line.dash"));for(var m=c("xsizemode"),v=c("ysizemode"),x=["x","y"],w=0;w<2;w++){var p,b,T,A=x[w],P=A+"anchor",k=A==="x"?m:v,L={_fullLayout:o},D=g.coerceRef(i,l,L,A,void 0,"paper");if(g.getRefType(D)==="range"?((p=g.getFromId(L,D))._shapeIndices.push(l._index),T=e.rangeToShapePosition(p),b=e.shapePositionToRange(p)):b=T=f.identity,y){var _=A+"0",I=A+"1",O=i[_],N=i[I];i[_]=b(i[_],!0),i[I]=b(i[I],!0),k==="pixel"?(c(_,0),c(I,10)):(g.coercePosition(l,L,c,D,_,.25),g.coercePosition(l,L,c,D,I,.75)),l[_]=T(l[_]),l[I]=T(l[I]),i[_]=O,i[I]=N}if(k==="pixel"){var G=i[P];i[P]=b(i[P],!0),g.coercePosition(l,L,c,D,P,.25),l[P]=T(l[P]),i[P]=G}}y&&f.noneOrAll(i,l,["x0","x1","y0","y1"]);var z,Y,Z=h==="line";if(y&&(z=c("label.texttemplate")),z||(Y=c("label.text")),Y||z){c("label.textangle");var nt=c("label.textposition",Z?"middle":"middle center");c("label.xanchor"),c("label.yanchor",function(S,E){return S?"bottom":E.indexOf("top")!==-1?"top":E.indexOf("bottom")!==-1?"bottom":"middle"}(Z,nt)),c("label.padding"),f.coerceFont(c,"label.font",o.font)}}}X.exports=function(i,l){a(i,l,{name:"shapes",handleItemDefaults:r})}},8100:function(X,d,t){var f=t(1828),g=t(9298),a=t(3893),n=t(1424),e=t(165).readPaths,r=t(477),i=r.getPathString,l=t(7281),o=t(8783).FROM_TL;X.exports=function(c,u,h,y){if(y.selectAll(".shape-label").remove(),h.label.text||h.label.texttemplate){var m;if(h.label.texttemplate){var v={};if(h.type!=="path"){var x=g.getFromId(c,h.xref),w=g.getFromId(c,h.yref);for(var p in l){var b=l[p](h,x,w);b!==void 0&&(v[p]=b)}}m=f.texttemplateStringForShapes(h.label.texttemplate,{},c._fullLayout._d3locale,v)}else m=h.label.text;var T,A,P,k,L={"data-index":u},D=h.label.font,_=y.append("g").attr(L).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(m);if(h.path){var I=i(c,h),O=e(I,c);T=1/0,P=1/0,A=-1/0,k=-1/0;for(var N=0;N<O.length;N++)for(var G=0;G<O[N].length;G++)for(var z=O[N][G],Y=1;Y<z.length;Y+=2){var Z=z[Y],nt=z[Y+1];T=Math.min(T,Z),A=Math.max(A,Z),P=Math.min(P,nt),k=Math.max(k,nt)}}else{var S=g.getFromId(c,h.xref),E=g.getRefType(h.xref),V=g.getFromId(c,h.yref),Q=g.getRefType(h.yref),tt=r.getDataToPixel(c,S,!1,E),rt=r.getDataToPixel(c,V,!0,Q);T=tt(h.x0),A=tt(h.x1),P=rt(h.y0),k=rt(h.y1)}var ot=h.label.textangle;ot==="auto"&&(ot=h.type==="line"?function(J,q,$,et){var st,yt;return yt=Math.abs($-J),st=$>=J?q-et:et-q,-180/Math.PI*Math.atan2(st,yt)}(T,P,A,k):0),_.call(function(J){return J.call(n.font,D).attr({}),a.convertToTspans(J,c),J});var H=function(J,q,$,et,st,yt,St){var Lt,It,it,ft,dt=st.label.textposition,xt=st.label.textangle,Pt=st.label.padding,Ct=st.type,lt=Math.PI/180*yt,ht=Math.sin(lt),vt=Math.cos(lt),gt=st.label.xanchor,mt=st.label.yanchor;if(Ct==="line"){dt==="start"?(Lt=J,It=q):dt==="end"?(Lt=$,It=et):(Lt=(J+$)/2,It=(q+et)/2),gt==="auto"&&(gt=dt==="start"?xt==="auto"?$>J?"left":$<J?"right":"center":$>J?"right":$<J?"left":"center":dt==="end"?xt==="auto"?$>J?"right":$<J?"left":"center":$>J?"left":$<J?"right":"center":"center");var Tt={bottom:-1,middle:0,top:1};if(xt==="auto"){var kt=Tt[mt];it=-Pt*ht*kt,ft=Pt*vt*kt}else it=Pt*{left:1,center:0,right:-1}[gt],ft=Pt*Tt[mt];Lt+=it,It+=ft}else it=Pt+3,dt.indexOf("right")!==-1?(Lt=Math.max(J,$)-it,gt==="auto"&&(gt="right")):dt.indexOf("left")!==-1?(Lt=Math.min(J,$)+it,gt==="auto"&&(gt="left")):(Lt=(J+$)/2,gt==="auto"&&(gt="center")),It=dt.indexOf("top")!==-1?Math.min(q,et):dt.indexOf("bottom")!==-1?Math.max(q,et):(q+et)/2,ft=Pt,mt==="bottom"?It-=ft:mt==="top"&&(It+=ft);var _t=o[mt],At=st.label.font.size,Mt=St.height;return{textx:Lt+(Mt*_t-At)*ht,texty:It+-(Mt*_t-At)*vt,xanchor:gt}}(T,P,A,k,h,ot,n.bBox(_.node())),F=H.textx,R=H.texty,j=H.xanchor;_.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[j],y:R,x:F,transform:"rotate("+ot+","+F+","+R+")"}).call(a.positionText,F,R)}}},2359:function(X,d,t){var f=t(1828).strTranslate,g=t(8569),a=t(4505),n=a.drawMode,e=a.selectMode,r=t(3972),i=t(7901),l=t(9995),o=l.i000,c=l.i090,u=l.i180,h=l.i270,y=t(1873).clearOutlineControllers,m=t(165),v=m.pointsOnRectangle,x=m.pointsOnEllipse,w=m.writePaths,p=t(551).newShapes,b=t(551).createShapeObj,T=t(5855),A=t(8100);function P(k,L){var D,_,I,O=k[L][1],N=k[L][2],G=k.length;return _=k[D=(L+1)%G][1],I=k[D][2],_===O&&I===N&&(_=k[D=(L+2)%G][1],I=k[D][2]),[D,_,I]}X.exports=function k(L,D,_,I){I||(I=0);var O=_.gd;function N(){k(L,D,_,I++),(x(L[0])||_.hasText)&&G({redrawing:!0})}function G(st){var yt={};_.isActiveShape!==void 0&&(_.isActiveShape=!1,yt=p(D,_)),_.isActiveSelection!==void 0&&(_.isActiveSelection=!1,yt=T(D,_),O._fullLayout._reselect=!0),Object.keys(yt).length&&r.call((st||{}).redrawing?"relayout":"_guiRelayout",O,yt)}var z,Y,Z,nt,S,E=O._fullLayout._zoomlayer,V=_.dragmode,Q=n(V),tt=e(V);if((Q||tt)&&(O._fullLayout._outlining=!0),y(O),D.attr("d",w(L)),I||!_.isActiveShape&&!_.isActiveSelection||(S=function(st,yt){for(var St=0;St<yt.length;St++){var Lt=yt[St];st[St]=[];for(var It=0;It<Lt.length;It++){st[St][It]=[];for(var it=0;it<Lt[It].length;it++)st[St][It][it]=Lt[It][it]}}return st}([],L),function(st){z=[];for(var yt=0;yt<L.length;yt++){var St=L[yt],Lt=v(St),It=!Lt&&x(St);z[yt]=[];for(var it=St.length,ft=0;ft<it;ft++)if(St[ft][0]!=="Z"&&(!It||ft===o||ft===c||ft===u||ft===h)){var dt,xt=Lt&&_.isActiveSelection;xt&&(dt=P(St,ft));var Pt=St[ft][1],Ct=St[ft][2],lt=st.append(xt?"rect":"circle").attr("data-i",yt).attr("data-j",ft).style({fill:i.background,stroke:i.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(xt){var ht=dt[1]-Pt,vt=dt[2]-Ct,gt=vt?5:Math.max(Math.min(25,Math.abs(ht)-5),5),mt=ht?5:Math.max(Math.min(25,Math.abs(vt)-5),5);lt.classed(vt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",gt).attr("height",mt).attr("x",Pt-gt/2).attr("y",Ct-mt/2).attr("transform",f(ht/2,vt/2))}else lt.classed("cursor-grab",!0).attr("r",5).attr("cx",Pt).attr("cy",Ct);z[yt][ft]={element:lt.node(),gd:O,prepFn:H,doneFn:R,clickFn:j},g.init(z[yt][ft])}}}(E.append("g").attr("class","outline-controllers")),function(){Y=[],L.length&&(Y[0]={element:D[0][0],gd:O,prepFn:q,doneFn:$,clickFn:et},g.init(Y[0]))}()),Q&&_.hasText){var rt=E.select(".label-temp"),ot=b(D,_,_.dragmode);A(O,"label-temp",ot,rt)}function H(st){Z=+st.srcElement.getAttribute("data-i"),nt=+st.srcElement.getAttribute("data-j"),z[Z][nt].moveFn=F}function F(st,yt){if(L.length){var St=S[Z][nt][1],Lt=S[Z][nt][2],It=L[Z],it=It.length;if(v(It)){var ft=st,dt=yt;_.isActiveSelection&&(P(It,nt)[1]===It[nt][1]?dt=0:ft=0);for(var xt=0;xt<it;xt++)if(xt!==nt){var Pt=It[xt];Pt[1]===It[nt][1]&&(Pt[1]=St+ft),Pt[2]===It[nt][2]&&(Pt[2]=Lt+dt)}if(It[nt][1]=St+ft,It[nt][2]=Lt+dt,!v(It))for(var Ct=0;Ct<it;Ct++)for(var lt=0;lt<It[Ct].length;lt++)It[Ct][lt]=S[Z][Ct][lt]}else It[nt][1]=St+st,It[nt][2]=Lt+yt;N()}}function R(){G()}function j(st,yt){if(st===2){Z=+yt.srcElement.getAttribute("data-i"),nt=+yt.srcElement.getAttribute("data-j");var St=L[Z];v(St)||x(St)||function(){if(L.length&&L[Z]&&L[Z].length){for(var Lt=[],It=0;It<L[Z].length;It++)It!==nt&&Lt.push(L[Z][It]);Lt.length>1&&(Lt.length!==2||Lt[1][0]!=="Z")&&(nt===0&&(Lt[0][0]="M"),L[Z]=Lt,N(),G())}}()}}function J(st,yt){(function(St,Lt){if(L.length)for(var It=0;It<L.length;It++)for(var it=0;it<L[It].length;it++)for(var ft=0;ft+2<L[It][it].length;ft+=2)L[It][it][ft+1]=S[It][it][ft+1]+St,L[It][it][ft+2]=S[It][it][ft+2]+Lt})(st,yt),N()}function q(st){(Z=+st.srcElement.getAttribute("data-i"))||(Z=0),Y[Z].moveFn=J}function $(){G()}function et(st){st===2&&function(yt){if(e(yt._fullLayout.dragmode)){y(yt);var St=yt._fullLayout._activeSelectionIndex,Lt=(yt.layout||{}).selections||[];if(St<Lt.length){for(var It=[],it=0;it<Lt.length;it++)it!==St&&It.push(Lt[it]);delete yt._fullLayout._activeSelectionIndex;var ft=yt._fullLayout.selections[St];yt._fullLayout._deselect={xref:ft.xref,yref:ft.yref},r.call("_guiRelayout",yt,{selections:It})}}}(O)}}},4031:function(X,d,t){var f=t(9898),g=t(3972),a=t(1828),n=t(9298),e=t(165).readPaths,r=t(2359),i=t(8100),l=t(1873).clearOutlineControllers,o=t(7901),c=t(1424),u=t(4467).arrayEditor,h=t(8569),y=t(6964),m=t(1459),v=t(477),x=v.getPathString;function w(L){var D=L._fullLayout;for(var _ in D._shapeUpperLayer.selectAll("path").remove(),D._shapeLowerLayer.selectAll("path").remove(),D._shapeUpperLayer.selectAll("text").remove(),D._shapeLowerLayer.selectAll("text").remove(),D._plots){var I=D._plots[_].shapelayer;I&&(I.selectAll("path").remove(),I.selectAll("text").remove())}for(var O=0;O<D.shapes.length;O++)D.shapes[O].visible===!0&&T(L,O)}function p(L){return!!L._fullLayout._outlining}function b(L){return!L._context.edits.shapePosition}function T(L,D){L._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+D+'"]').remove();var _=v.makeShapesOptionsAndPlotinfo(L,D),I=_.options,O=_.plotinfo;function N(G){var z=x(L,I),Y={"data-index":D,"fill-rule":I.fillrule,d:z},Z=I.opacity,nt=I.fillcolor,S=I.line.width?I.line.color:"rgba(0,0,0,0)",E=I.line.width,V=I.line.dash;E||I.editable!==!0||(E=5,V="solid");var Q=z[z.length-1]!=="Z",tt=b(L)&&I.editable&&L._fullLayout._activeShapeIndex===D;tt&&(nt=Q?"rgba(0,0,0,0)":L._fullLayout.activeshape.fillcolor,Z=L._fullLayout.activeshape.opacity);var rt,ot=G.append("g").classed("shape-group",!0).attr({"data-index":D}),H=ot.append("path").attr(Y).style("opacity",Z).call(o.stroke,S).call(o.fill,nt).call(c.dashLine,V,E);if(A(ot,L,I),i(L,D,I,ot),(tt||L._context.edits.shapePosition)&&(rt=u(L.layout,"shapes",I)),tt){H.style({cursor:"move"});var F={element:H.node(),plotinfo:O,gd:L,editHelpers:rt,hasText:I.label.text||I.label.texttemplate,isActiveShape:!0},R=e(z,L);r(R,H,F)}else L._context.edits.shapePosition?function(j,J,q,$,et,st){var yt,St,Lt,It,it,ft,dt,xt,Pt,Ct,lt,ht,vt,gt,mt,Tt,kt=10,_t=10,At=q.xsizemode==="pixel",Mt=q.ysizemode==="pixel",Rt=q.type==="line",Yt=q.type==="path",zt=st.modifyItem,Xt=f.select(J.node().parentNode),Kt=n.getFromId(j,q.xref),se=n.getRefType(q.xref),de=n.getFromId(j,q.yref),xe=n.getRefType(q.yref),Dt=v.getDataToPixel(j,Kt,!1,se),wt=v.getDataToPixel(j,de,!0,xe),Ut=v.getPixelToData(j,Kt,!1,se),Wt=v.getPixelToData(j,de,!0,xe),me=Rt?function(){var fe=10,K=Math.max(q.line.width,fe),at=et.append("g").attr("data-index",$).attr("drag-helper",!0);at.append("path").attr("d",J.attr("d")).style({cursor:"move","stroke-width":K,"stroke-opacity":"0"});var Et={"fill-opacity":"0"},Ot=Math.max(K/2,fe);return at.append("circle").attr({"data-line-point":"start-point",cx:At?Dt(q.xanchor)+q.x0:Dt(q.x0),cy:Mt?wt(q.yanchor)-q.y0:wt(q.y0),r:Ot}).style(Et).classed("cursor-grab",!0),at.append("circle").attr({"data-line-point":"end-point",cx:At?Dt(q.xanchor)+q.x1:Dt(q.x1),cy:Mt?wt(q.yanchor)-q.y1:wt(q.y1),r:Ot}).style(Et).classed("cursor-grab",!0),at}():J,Vt={element:me.node(),gd:j,prepFn:function(fe){p(j)||(At&&(it=Dt(q.xanchor)),Mt&&(ft=wt(q.yanchor)),q.type==="path"?mt=q.path:(yt=At?q.x0:Dt(q.x0),St=Mt?q.y0:wt(q.y0),Lt=At?q.x1:Dt(q.x1),It=Mt?q.y1:wt(q.y1)),yt<Lt?(Pt=yt,vt="x0",Ct=Lt,gt="x1"):(Pt=Lt,vt="x1",Ct=yt,gt="x0"),!Mt&&St<It||Mt&&St>It?(dt=St,lt="y0",xt=It,ht="y1"):(dt=It,lt="y1",xt=St,ht="y0"),ne(fe),he(et,q),function(K,at,Et){var Ot=at.xref,Bt=at.yref,Nt=n.getFromId(Et,Ot),Ht=n.getFromId(Et,Bt),Zt="";Ot==="paper"||Nt.autorange||(Zt+=Ot),Bt==="paper"||Ht.autorange||(Zt+=Bt),c.setClipUrl(K,Zt?"clip"+Et._fullLayout._uid+Zt:null,Et)}(J,q,j),Vt.moveFn=Tt==="move"?ie:_e,Vt.altKey=fe.altKey)},doneFn:function(){p(j)||(y(J),De(et),A(J,j,q),g.call("_guiRelayout",j,st.getUpdateObj()))},clickFn:function(){p(j)||De(et)}};function ne(fe){if(p(j))Tt=null;else if(Rt)Tt=fe.target.tagName==="path"?"move":fe.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var K=Vt.element.getBoundingClientRect(),at=K.right-K.left,Et=K.bottom-K.top,Ot=fe.clientX-K.left,Bt=fe.clientY-K.top,Nt=!Yt&&at>kt&&Et>_t&&!fe.shiftKey?h.getCursor(Ot/at,1-Bt/Et):"move";y(J,Nt),Tt=Nt.split("-")[0]}}function ie(fe,K){if(q.type==="path"){var at=function(Bt){return Bt},Et=at,Ot=at;At?zt("xanchor",q.xanchor=Ut(it+fe)):(Et=function(Bt){return Ut(Dt(Bt)+fe)},Kt&&Kt.type==="date"&&(Et=v.encodeDate(Et))),Mt?zt("yanchor",q.yanchor=Wt(ft+K)):(Ot=function(Bt){return Wt(wt(Bt)+K)},de&&de.type==="date"&&(Ot=v.encodeDate(Ot))),zt("path",q.path=P(mt,Et,Ot))}else At?zt("xanchor",q.xanchor=Ut(it+fe)):(zt("x0",q.x0=Ut(yt+fe)),zt("x1",q.x1=Ut(Lt+fe))),Mt?zt("yanchor",q.yanchor=Wt(ft+K)):(zt("y0",q.y0=Wt(St+K)),zt("y1",q.y1=Wt(It+K)));J.attr("d",x(j,q)),he(et,q),i(j,$,q,Xt)}function _e(fe,K){if(Yt){var at=function($t){return $t},Et=at,Ot=at;At?zt("xanchor",q.xanchor=Ut(it+fe)):(Et=function($t){return Ut(Dt($t)+fe)},Kt&&Kt.type==="date"&&(Et=v.encodeDate(Et))),Mt?zt("yanchor",q.yanchor=Wt(ft+K)):(Ot=function($t){return Wt(wt($t)+K)},de&&de.type==="date"&&(Ot=v.encodeDate(Ot))),zt("path",q.path=P(mt,Et,Ot))}else if(Rt){if(Tt==="resize-over-start-point"){var Bt=yt+fe,Nt=Mt?St-K:St+K;zt("x0",q.x0=At?Bt:Ut(Bt)),zt("y0",q.y0=Mt?Nt:Wt(Nt))}else if(Tt==="resize-over-end-point"){var Ht=Lt+fe,Zt=Mt?It-K:It+K;zt("x1",q.x1=At?Ht:Ut(Ht)),zt("y1",q.y1=Mt?Zt:Wt(Zt))}}else{var Qt=function($t){return Tt.indexOf($t)!==-1},oe=Qt("n"),qt=Qt("s"),Te=Qt("w"),Re=Qt("e"),pe=oe?dt+K:dt,Se=qt?xt+K:xt,Me=Te?Pt+fe:Pt,re=Re?Ct+fe:Ct;Mt&&(oe&&(pe=dt-K),qt&&(Se=xt-K)),(!Mt&&Se-pe>_t||Mt&&pe-Se>_t)&&(zt(lt,q[lt]=Mt?pe:Wt(pe)),zt(ht,q[ht]=Mt?Se:Wt(Se))),re-Me>kt&&(zt(vt,q[vt]=At?Me:Ut(Me)),zt(gt,q[gt]=At?re:Ut(re)))}J.attr("d",x(j,q)),he(et,q),i(j,$,q,Xt)}function he(fe,K){(At||Mt)&&function(){var at=K.type!=="path",Et=fe.selectAll(".visual-cue").data([0]);Et.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var Ot=Dt(At?K.xanchor:a.midRange(at?[K.x0,K.x1]:v.extractPathCoords(K.path,m.paramIsX))),Bt=wt(Mt?K.yanchor:a.midRange(at?[K.y0,K.y1]:v.extractPathCoords(K.path,m.paramIsY)));if(Ot=v.roundPositionForSharpStrokeRendering(Ot,1),Bt=v.roundPositionForSharpStrokeRendering(Bt,1),At&&Mt){var Nt="M"+(Ot-1-1)+","+(Bt-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Et.attr("d",Nt)}else if(At){var Ht="M"+(Ot-1-1)+","+(Bt-9-1)+"v18 h2 v-18 Z";Et.attr("d",Ht)}else{var Zt="M"+(Ot-9-1)+","+(Bt-1-1)+"h18 v2 h-18 Z";Et.attr("d",Zt)}}()}function De(fe){fe.selectAll(".visual-cue").remove()}h.init(Vt),me.node().onmousemove=ne}(L,H,I,D,G,rt):I.editable===!0&&H.style("pointer-events",Q||o.opacity(nt)*Z<=.5?"stroke":"all");H.node().addEventListener("click",function(){return function(j,J){if(b(j)){var q=+J.node().getAttribute("data-index");if(q>=0){if(q===j._fullLayout._activeShapeIndex)return void k(j);j._fullLayout._activeShapeIndex=q,j._fullLayout._deactivateShape=k,w(j)}}}(L,H)})}I._input&&I.visible===!0&&(I.layer!=="below"?N(L._fullLayout._shapeUpperLayer):I.xref==="paper"||I.yref==="paper"?N(L._fullLayout._shapeLowerLayer):O._hadPlotinfo?N((O.mainplotinfo||O).shapelayer):N(L._fullLayout._shapeLowerLayer))}function A(L,D,_){var I=(_.xref+_.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");c.setClipUrl(L,I?"clip"+D._fullLayout._uid+I:null,D)}function P(L,D,_){return L.replace(m.segmentRE,function(I){var O=0,N=I.charAt(0),G=m.paramIsX[N],z=m.paramIsY[N],Y=m.numParams[N];return N+I.substr(1).replace(m.paramRE,function(Z){return O>=Y||(G[O]?Z=D(Z):z[O]&&(Z=_(Z)),O++),Z})})}function k(L){b(L)&&L._fullLayout._activeShapeIndex>=0&&(l(L),delete L._fullLayout._activeShapeIndex,w(L))}X.exports={draw:w,drawOne:T,eraseActiveShape:function(L){if(b(L)){l(L);var D=L._fullLayout._activeShapeIndex,_=(L.layout||{}).shapes||[];if(D<_.length){for(var I=[],O=0;O<_.length;O++)O!==D&&I.push(_[O]);return delete L._fullLayout._activeShapeIndex,g.call("_guiRelayout",L,{shapes:I})}}},drawLabel:i}},9241:function(X,d,t){var f=t(962).overrideAll,g=t(9012),a=t(1940),n=t(9952).P,e=t(1426).extendFlat,r=t(5386).R,i=t(7281);X.exports=f({newshape:{visible:e({},g.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:e({},g.legend,{}),legendgroup:e({},g.legendgroup,{}),legendgrouptitle:{text:e({},g.legendgrouptitle.text,{}),font:a({})},legendrank:e({},g.legendrank,{}),legendwidth:e({},g.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:e({},n,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:e({},g.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:r({newshape:!0},{keys:Object.keys(i)}),font:a({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},9995:function(X){X.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},5547:function(X,d,t){var f=t(7901),g=t(1828);X.exports=function(a,n,e){if(e("newshape.visible"),e("newshape.name"),e("newshape.showlegend"),e("newshape.legend"),e("newshape.legendwidth"),e("newshape.legendgroup"),e("newshape.legendgrouptitle.text"),g.coerceFont(e,"newshape.legendgrouptitle.font"),e("newshape.legendrank"),e("newshape.drawdirection"),e("newshape.layer"),e("newshape.fillcolor"),e("newshape.fillrule"),e("newshape.opacity"),e("newshape.line.width")){var r=(a||{}).plot_bgcolor||"#FFF";e("newshape.line.color",f.contrast(r)),e("newshape.line.dash")}var i=a.dragmode==="drawline",l=e("newshape.label.text"),o=e("newshape.label.texttemplate");if(l||o){e("newshape.label.textangle");var c=e("newshape.label.textposition",i?"middle":"middle center");e("newshape.label.xanchor"),e("newshape.label.yanchor",function(u,h){return u?"bottom":h.indexOf("top")!==-1?"top":h.indexOf("bottom")!==-1?"bottom":"middle"}(i,c)),e("newshape.label.padding"),g.coerceFont(e,"newshape.label.font",n.font)}e("activeshape.fillcolor"),e("activeshape.opacity")}},165:function(X,d,t){var f=t(5616),g=t(9995),a=g.CIRCLE_SIDES,n=g.SQRT2,e=t(5549),r=e.p2r,i=e.r2p,l=[0,3,4,5,6,1,2],o=[0,3,4,1,2];function c(h,y){return Math.abs(h-y)<=1e-6}function u(h,y){var m=y[1]-h[1],v=y[2]-h[2];return Math.sqrt(m*m+v*v)}d.writePaths=function(h){var y=h.length;if(!y)return"M0,0Z";for(var m="",v=0;v<y;v++)for(var x=h[v].length,w=0;w<x;w++){var p=h[v][w][0];if(p==="Z")m+="Z";else for(var b=h[v][w].length,T=0;T<b;T++){var A=T;p==="Q"||p==="S"?A=o[T]:p==="C"&&(A=l[T]),m+=h[v][w][A],T>0&&T<b-1&&(m+=",")}}return m},d.readPaths=function(h,y,m,v){var x,w,p,b=f(h),T=[],A=-1,P=0,k=0,L=function(){w=P,p=k};L();for(var D=0;D<b.length;D++){var _,I,O,N,G=[],z=b[D][0],Y=z;switch(z){case"M":T[++A]=[],P=+b[D][1],k=+b[D][2],G.push([Y,P,k]),L();break;case"Q":case"S":_=+b[D][1],O=+b[D][2],P=+b[D][3],k=+b[D][4],G.push([Y,P,k,_,O]);break;case"C":_=+b[D][1],O=+b[D][2],I=+b[D][3],N=+b[D][4],P=+b[D][5],k=+b[D][6],G.push([Y,P,k,_,O,I,N]);break;case"T":case"L":P=+b[D][1],k=+b[D][2],G.push([Y,P,k]);break;case"H":Y="L",P=+b[D][1],G.push([Y,P,k]);break;case"V":Y="L",k=+b[D][1],G.push([Y,P,k]);break;case"A":Y="L";var Z=+b[D][1],nt=+b[D][2];+b[D][4]||(Z=-Z,nt=-nt);var S=P-Z,E=k;for(x=1;x<=a/2;x++){var V=2*Math.PI*x/a;G.push([Y,S+Z*Math.cos(V),E+nt*Math.sin(V)])}break;case"Z":P===w&&k===p||(P=w,k=p,G.push([Y,P,k]))}for(var Q=(m||{}).domain,tt=y._fullLayout._size,rt=m&&m.xsizemode==="pixel",ot=m&&m.ysizemode==="pixel",H=v===!1,F=0;F<G.length;F++){for(x=0;x+2<7;x+=2){var R=G[F][x+1],j=G[F][x+2];R!==void 0&&j!==void 0&&(P=R,k=j,m&&(m.xaxis&&m.xaxis.p2r?(H&&(R-=m.xaxis._offset),R=rt?i(m.xaxis,m.xanchor)+R:r(m.xaxis,R)):(H&&(R-=tt.l),Q?R=Q.x[0]+R/tt.w:R/=tt.w),m.yaxis&&m.yaxis.p2r?(H&&(j-=m.yaxis._offset),j=ot?i(m.yaxis,m.yanchor)-j:r(m.yaxis,j)):(H&&(j-=tt.t),j=Q?Q.y[1]-j/tt.h:1-j/tt.h)),G[F][x+1]=R,G[F][x+2]=j)}T[A].push(G[F].slice())}}return T},d.pointsOnRectangle=function(h){if(h.length!==5)return!1;for(var y=1;y<3;y++)if(!c(h[0][y]-h[1][y],h[3][y]-h[2][y])||!c(h[0][y]-h[3][y],h[1][y]-h[2][y]))return!1;return!(!c(h[0][1],h[1][1])&&!c(h[0][1],h[3][1])||!(u(h[0],h[1])*u(h[0],h[3])))},d.pointsOnEllipse=function(h){var y=h.length;if(y!==a+1)return!1;y=a;for(var m=0;m<y;m++){var v=(2*y-m)%y,x=(y/2+v)%y,w=(y/2+m)%y;if(!c(u(h[m],h[w]),u(h[v],h[x])))return!1}return!0},d.handleEllipse=function(h,y,m){if(!h)return[y,m];var v=d.ellipseOver({x0:y[0],y0:y[1],x1:m[0],y1:m[1]}),x=(v.x1+v.x0)/2,w=(v.y1+v.y0)/2,p=(v.x1-v.x0)/2,b=(v.y1-v.y0)/2;p||(p=b/=n),b||(b=p/=n);for(var T=[],A=0;A<a;A++){var P=2*A*Math.PI/a;T.push([x+p*Math.cos(P),w+b*Math.sin(P)])}return T},d.ellipseOver=function(h){var y=h.x0,m=h.y0,v=h.x1,x=h.y1,w=v-y,p=x-m,b=((y-=w)+v)/2,T=((m-=p)+x)/2;return{x0:b-(w*=n),y0:T-(p*=n),x1:b+w,y1:T+p}},d.fixDatesForPaths=function(h,y,m){var v=y.type==="date",x=m.type==="date";if(!v&&!x)return h;for(var w=0;w<h.length;w++)for(var p=0;p<h[w].length;p++)for(var b=0;b+2<h[w][p].length;b+=2)v&&(h[w][p][b+1]=h[w][p][b+1].replace(" ","_")),x&&(h[w][p][b+2]=h[w][p][b+2].replace(" ","_"));return h}},551:function(X,d,t){var f=t(4505),g=f.drawMode,a=f.openMode,n=t(9995),e=n.i000,r=n.i090,i=n.i180,l=n.i270,o=n.cos45,c=n.sin45,u=t(5549),h=u.p2r,y=u.r2p,m=t(1873).clearOutline,v=t(165),x=v.readPaths,w=v.writePaths,p=v.ellipseOver,b=v.fixDatesForPaths;function T(A,P,k){var L,D=A[0][0],_=P.gd,I=D.getAttribute("d"),O=_._fullLayout.newshape,N=P.plotinfo,G=P.isActiveShape,z=N.xaxis,Y=N.yaxis,Z=!!N.domain||!N.xaxis,nt=!!N.domain||!N.yaxis,S=a(k),E=x(I,_,N,G),V={editable:!0,visible:O.visible,name:O.name,showlegend:O.showlegend,legend:O.legend,legendwidth:O.legendwidth,legendgroup:O.legendgroup,legendgrouptitle:{text:O.legendgrouptitle.text,font:O.legendgrouptitle.font},legendrank:O.legendrank,label:O.label,xref:Z?"paper":z._id,yref:nt?"paper":Y._id,layer:O.layer,opacity:O.opacity,line:{color:O.line.color,width:O.line.width,dash:O.line.dash}};if(S||(V.fillcolor=O.fillcolor,V.fillrule=O.fillrule),E.length===1&&(L=E[0]),L&&L.length===5&&k==="drawrect")V.type="rect",V.x0=L[0][1],V.y0=L[0][2],V.x1=L[2][1],V.y1=L[2][2];else if(L&&k==="drawline")V.type="line",V.x0=L[0][1],V.y0=L[0][2],V.x1=L[1][1],V.y1=L[1][2];else if(L&&k==="drawcircle"){V.type="circle";var Q=L[e][1],tt=L[r][1],rt=L[i][1],ot=L[l][1],H=L[e][2],F=L[r][2],R=L[i][2],j=L[l][2],J=N.xaxis&&(N.xaxis.type==="date"||N.xaxis.type==="log"),q=N.yaxis&&(N.yaxis.type==="date"||N.yaxis.type==="log");J&&(Q=y(N.xaxis,Q),tt=y(N.xaxis,tt),rt=y(N.xaxis,rt),ot=y(N.xaxis,ot)),q&&(H=y(N.yaxis,H),F=y(N.yaxis,F),R=y(N.yaxis,R),j=y(N.yaxis,j));var $=(tt+ot)/2,et=(H+R)/2,st=p({x0:$,y0:et,x1:$+(ot-tt+rt-Q)/2*o,y1:et+(j-F+R-H)/2*c});J&&(st.x0=h(N.xaxis,st.x0),st.x1=h(N.xaxis,st.x1)),q&&(st.y0=h(N.yaxis,st.y0),st.y1=h(N.yaxis,st.y1)),V.x0=st.x0,V.y0=st.y0,V.x1=st.x1,V.y1=st.y1}else V.type="path",z&&Y&&b(E,z,Y),V.path=w(E),L=null;return V}X.exports={newShapes:function(A,P){if(A.length&&A[0][0]){var k=P.gd,L=P.isActiveShape,D=P.dragmode,_=(k.layout||{}).shapes||[];if(!g(D)&&L!==void 0){var I=k._fullLayout._activeShapeIndex;if(I<_.length)switch(k._fullLayout.shapes[I].type){case"rect":D="drawrect";break;case"circle":D="drawcircle";break;case"line":D="drawline";break;case"path":var O=_[I].path||"";D=O[O.length-1]==="Z"?"drawclosedpath":"drawopenpath"}}var N=T(A,P,D);m(k);for(var G=P.editHelpers,z=(G||{}).modifyItem,Y=[],Z=0;Z<_.length;Z++){var nt=k._fullLayout.shapes[Z];if(Y[Z]=nt._input,L!==void 0&&Z===k._fullLayout._activeShapeIndex){var S=N;switch(nt.type){case"line":case"rect":case"circle":z("x0",S.x0),z("x1",S.x1),z("y0",S.y0),z("y1",S.y1);break;case"path":z("path",S.path)}}}return L===void 0?(Y.push(N),Y):G?G.getUpdateObj():{}}},createShapeObj:T}},1873:function(X){X.exports={clearOutlineControllers:function(d){var t=d._fullLayout._zoomlayer;t&&t.selectAll(".outline-controllers").remove()},clearOutline:function(d){var t=d._fullLayout._zoomlayer;t&&t.selectAll(".select-outline").remove(),d._fullLayout._outlining=!1}}},477:function(X,d,t){var f=t(1459),g=t(1828),a=t(9298);d.rangeToShapePosition=function(n){return n.type==="log"?n.r2d:function(e){return e}},d.shapePositionToRange=function(n){return n.type==="log"?n.d2r:function(e){return e}},d.decodeDate=function(n){return function(e){return e.replace&&(e=e.replace("_"," ")),n(e)}},d.encodeDate=function(n){return function(e){return n(e).replace(" ","_")}},d.extractPathCoords=function(n,e,r){var i=[];return n.match(f.segmentRE).forEach(function(l){var o=e[l.charAt(0)].drawn;if(o!==void 0){var c=l.substr(1).match(f.paramRE);if(c&&!(c.length<o)){var u=c[o],h=r?u:g.cleanNumber(u);i.push(h)}}}),i},d.getDataToPixel=function(n,e,r,i){var l,o=n._fullLayout._size;if(e)if(i==="domain")l=function(u){return e._length*(r?1-u:u)+e._offset};else{var c=d.shapePositionToRange(e);l=function(u){return e._offset+e.r2p(c(u,!0))},e.type==="date"&&(l=d.decodeDate(l))}else l=r?function(u){return o.t+o.h*(1-u)}:function(u){return o.l+o.w*u};return l},d.getPixelToData=function(n,e,r,i){var l,o=n._fullLayout._size;if(e)if(i==="domain")l=function(u){var h=(u-e._offset)/e._length;return r?1-h:h};else{var c=d.rangeToShapePosition(e);l=function(u){return c(e.p2r(u-e._offset))}}else l=r?function(u){return 1-(u-o.t)/o.h}:function(u){return(u-o.l)/o.w};return l},d.roundPositionForSharpStrokeRendering=function(n,e){var r=Math.round(e%2)===1,i=Math.round(n);return r?i+.5:i},d.makeShapesOptionsAndPlotinfo=function(n,e){var r=n._fullLayout.shapes[e]||{},i=n._fullLayout._plots[r.xref+r.yref];return i?i._hadPlotinfo=!0:(i={},r.xref&&r.xref!=="paper"&&(i.xaxis=n._fullLayout[r.xref+"axis"]),r.yref&&r.yref!=="paper"&&(i.yaxis=n._fullLayout[r.yref+"axis"])),i.xsizemode=r.xsizemode,i.ysizemode=r.ysizemode,i.xanchor=r.xanchor,i.yanchor=r.yanchor,{options:r,plotinfo:i}},d.makeSelectionsOptionsAndPlotinfo=function(n,e){var r=n._fullLayout.selections[e]||{},i=n._fullLayout._plots[r.xref+r.yref];return i?i._hadPlotinfo=!0:(i={},r.xref&&(i.xaxis=n._fullLayout[r.xref+"axis"]),r.yref&&(i.yaxis=n._fullLayout[r.yref+"axis"])),{options:r,plotinfo:i}},d.getPathString=function(n,e){var r,i,l,o,c,u,h,y,m=e.type,v=a.getRefType(e.xref),x=a.getRefType(e.yref),w=a.getFromId(n,e.xref),p=a.getFromId(n,e.yref),b=n._fullLayout._size;if(w?v==="domain"?i=function(O){return w._offset+w._length*O}:(r=d.shapePositionToRange(w),i=function(O){return w._offset+w.r2p(r(O,!0))}):i=function(O){return b.l+b.w*O},p?x==="domain"?o=function(O){return p._offset+p._length*(1-O)}:(l=d.shapePositionToRange(p),o=function(O){return p._offset+p.r2p(l(O,!0))}):o=function(O){return b.t+b.h*(1-O)},m==="path")return w&&w.type==="date"&&(i=d.decodeDate(i)),p&&p.type==="date"&&(o=d.decodeDate(o)),function(O,N,G){var z=O.path,Y=O.xsizemode,Z=O.ysizemode,nt=O.xanchor,S=O.yanchor;return z.replace(f.segmentRE,function(E){var V=0,Q=E.charAt(0),tt=f.paramIsX[Q],rt=f.paramIsY[Q],ot=f.numParams[Q],H=E.substr(1).replace(f.paramRE,function(F){return tt[V]?F=Y==="pixel"?N(nt)+Number(F):N(F):rt[V]&&(F=Z==="pixel"?G(S)-Number(F):G(F)),++V>ot&&(F="X"),F});return V>ot&&(H=H.replace(/[\s,]*X.*/,""),g.log("Ignoring extra params in segment "+E)),Q+H})}(e,i,o);if(e.xsizemode==="pixel"){var T=i(e.xanchor);c=T+e.x0,u=T+e.x1}else c=i(e.x0),u=i(e.x1);if(e.ysizemode==="pixel"){var A=o(e.yanchor);h=A-e.y0,y=A-e.y1}else h=o(e.y0),y=o(e.y1);if(m==="line")return"M"+c+","+h+"L"+u+","+y;if(m==="rect")return"M"+c+","+h+"H"+u+"V"+y+"H"+c+"Z";var P=(c+u)/2,k=(h+y)/2,L=Math.abs(P-c),D=Math.abs(k-h),_="A"+L+","+D,I=P+L+","+k;return"M"+I+_+" 0 1,1 "+P+","+(k-D)+_+" 0 0,1 "+I+"Z"}},9853:function(X,d,t){var f=t(4031);X.exports={moduleType:"component",name:"shapes",layoutAttributes:t(9827),supplyLayoutDefaults:t(4726),supplyDrawNewShapeDefaults:t(5547),includeBasePlot:t(6325)("shapes"),calcAutorange:t(5627),draw:f.draw,drawOne:f.drawOne}},7281:function(X){function d(a,n){return n?n.d2l(a):a}function t(a,n){return n?n.l2d(a):a}function f(a,n){return d(a.x1,n)-d(a.x0,n)}function g(a,n,e){return d(a.y1,e)-d(a.y0,e)}X.exports={x0:function(a){return a.x0},x1:function(a){return a.x1},y0:function(a){return a.y0},y1:function(a){return a.y1},slope:function(a,n,e){return a.type!=="line"?void 0:g(a,0,e)/f(a,n)},dx:f,dy:g,width:function(a,n){return Math.abs(f(a,n))},height:function(a,n,e){return Math.abs(g(a,0,e))},length:function(a,n,e){return a.type!=="line"?void 0:Math.sqrt(Math.pow(f(a,n),2)+Math.pow(g(a,0,e),2))},xcenter:function(a,n){return t((d(a.x1,n)+d(a.x0,n))/2,n)},ycenter:function(a,n,e){return t((d(a.y1,e)+d(a.y0,e))/2,e)}}},5067:function(X,d,t){var f=t(1940),g=t(5025),a=t(1426).extendDeepAll,n=t(962).overrideAll,e=t(5594),r=t(4467).templatedArray,i=t(8292),l=r("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});X.exports=n(r("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:l,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:a(g({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:e.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:f({})},font:f({}),activebgcolor:{valType:"color",dflt:i.gripBgActiveColor},bgcolor:{valType:"color",dflt:i.railBgColor},bordercolor:{valType:"color",dflt:i.railBorderColor},borderwidth:{valType:"number",min:0,dflt:i.railBorderWidth},ticklen:{valType:"number",min:0,dflt:i.tickLength},tickcolor:{valType:"color",dflt:i.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:i.minorTickLength}}),"arraydraw","from-root")},8292:function(X){X.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},2343:function(X,d,t){var f=t(1828),g=t(5501),a=t(5067),n=t(8292).name,e=a.steps;function r(l,o,c){function u(x,w){return f.coerce(l,o,a,x,w)}for(var h=g(l,o,{name:"steps",handleItemDefaults:i}),y=0,m=0;m<h.length;m++)h[m].visible&&y++;if(y<2?o.visible=!1:u("visible")){o._stepCount=y;var v=o._visibleSteps=f.filterVisible(h);(h[u("active")]||{}).visible||(o.active=v[0]._index),u("x"),u("y"),f.noneOrAll(l,o,["x","y"]),u("xanchor"),u("yanchor"),u("len"),u("lenmode"),u("pad.t"),u("pad.r"),u("pad.b"),u("pad.l"),f.coerceFont(u,"font",c.font),u("currentvalue.visible")&&(u("currentvalue.xanchor"),u("currentvalue.prefix"),u("currentvalue.suffix"),u("currentvalue.offset"),f.coerceFont(u,"currentvalue.font",o.font)),u("transition.duration"),u("transition.easing"),u("bgcolor"),u("activebgcolor"),u("bordercolor"),u("borderwidth"),u("ticklen"),u("tickwidth"),u("tickcolor"),u("minorticklen")}}function i(l,o){function c(h,y){return f.coerce(l,o,e,h,y)}if(l.method==="skip"||Array.isArray(l.args)?c("visible"):o.visible=!1){c("method"),c("args");var u=c("label","step-"+o._index);c("value",u),c("execute")}}X.exports=function(l,o){g(l,o,{name:n,handleItemDefaults:r})}},4504:function(X,d,t){var f=t(9898),g=t(4875),a=t(7901),n=t(1424),e=t(1828),r=e.strTranslate,i=t(3893),l=t(4467).arrayEditor,o=t(8292),c=t(8783),u=c.LINE_SPACING,h=c.FROM_TL,y=c.FROM_BR;function m(G){return o.autoMarginIdRoot+G._index}function v(G){return G._index}function x(G,z){var Y=n.tester.selectAll("g."+o.labelGroupClass).data(z._visibleSteps);Y.enter().append("g").classed(o.labelGroupClass,!0);var Z=0,nt=0;Y.each(function(F){var R=b(f.select(this),{step:F},z).node();if(R){var j=n.bBox(R);nt=Math.max(nt,j.height),Z=Math.max(Z,j.width)}}),Y.remove();var S=z._dims={};S.inputAreaWidth=Math.max(o.railWidth,o.gripHeight);var E=G._fullLayout._size;S.lx=E.l+E.w*z.x,S.ly=E.t+E.h*(1-z.y),z.lenmode==="fraction"?S.outerLength=Math.round(E.w*z.len):S.outerLength=z.len,S.inputAreaStart=0,S.inputAreaLength=Math.round(S.outerLength-z.pad.l-z.pad.r);var V=(S.inputAreaLength-2*o.stepInset)/(z._stepCount-1),Q=Z+o.labelPadding;if(S.labelStride=Math.max(1,Math.ceil(Q/V)),S.labelHeight=nt,S.currentValueMaxWidth=0,S.currentValueHeight=0,S.currentValueTotalHeight=0,S.currentValueMaxLines=1,z.currentvalue.visible){var tt=n.tester.append("g");Y.each(function(F){var R=w(tt,z,F.label),j=R.node()&&n.bBox(R.node())||{width:0,height:0},J=i.lineCount(R);S.currentValueMaxWidth=Math.max(S.currentValueMaxWidth,Math.ceil(j.width)),S.currentValueHeight=Math.max(S.currentValueHeight,Math.ceil(j.height)),S.currentValueMaxLines=Math.max(S.currentValueMaxLines,J)}),S.currentValueTotalHeight=S.currentValueHeight+z.currentvalue.offset,tt.remove()}S.height=S.currentValueTotalHeight+o.tickOffset+z.ticklen+o.labelOffset+S.labelHeight+z.pad.t+z.pad.b;var rt="left";e.isRightAnchor(z)&&(S.lx-=S.outerLength,rt="right"),e.isCenterAnchor(z)&&(S.lx-=S.outerLength/2,rt="center");var ot="top";e.isBottomAnchor(z)&&(S.ly-=S.height,ot="bottom"),e.isMiddleAnchor(z)&&(S.ly-=S.height/2,ot="middle"),S.outerLength=Math.ceil(S.outerLength),S.height=Math.ceil(S.height),S.lx=Math.round(S.lx),S.ly=Math.round(S.ly);var H={y:z.y,b:S.height*y[ot],t:S.height*h[ot]};z.lenmode==="fraction"?(H.l=0,H.xl=z.x-z.len*h[rt],H.r=0,H.xr=z.x+z.len*y[rt]):(H.x=z.x,H.l=S.outerLength*h[rt],H.r=S.outerLength*y[rt]),g.autoMargin(G,m(z),H)}function w(G,z,Y){if(z.currentvalue.visible){var Z,nt,S=z._dims;switch(z.currentvalue.xanchor){case"right":Z=S.inputAreaLength-o.currentValueInset-S.currentValueMaxWidth,nt="left";break;case"center":Z=.5*S.inputAreaLength,nt="middle";break;default:Z=o.currentValueInset,nt="left"}var E=e.ensureSingle(G,"text",o.labelClass,function(H){H.attr({"text-anchor":nt,"data-notex":1})}),V=z.currentvalue.prefix?z.currentvalue.prefix:"";if(typeof Y=="string")V+=Y;else{var Q=z.steps[z.active].label,tt=z._gd._fullLayout._meta;tt&&(Q=e.templateString(Q,tt)),V+=Q}z.currentvalue.suffix&&(V+=z.currentvalue.suffix),E.call(n.font,z.currentvalue.font).text(V).call(i.convertToTspans,z._gd);var rt=i.lineCount(E),ot=(S.currentValueMaxLines+1-rt)*z.currentvalue.font.size*u;return i.positionText(E,Z,ot),E}}function p(G,z,Y){e.ensureSingle(G,"rect",o.gripRectClass,function(Z){Z.call(k,z,G,Y).style("pointer-events","all")}).attr({width:o.gripWidth,height:o.gripHeight,rx:o.gripRadius,ry:o.gripRadius}).call(a.stroke,Y.bordercolor).call(a.fill,Y.bgcolor).style("stroke-width",Y.borderwidth+"px")}function b(G,z,Y){var Z=e.ensureSingle(G,"text",o.labelClass,function(E){E.attr({"text-anchor":"middle","data-notex":1})}),nt=z.step.label,S=Y._gd._fullLayout._meta;return S&&(nt=e.templateString(nt,S)),Z.call(n.font,Y.font).text(nt).call(i.convertToTspans,Y._gd),Z}function T(G,z){var Y=e.ensureSingle(G,"g",o.labelsClass),Z=z._dims,nt=Y.selectAll("g."+o.labelGroupClass).data(Z.labelSteps);nt.enter().append("g").classed(o.labelGroupClass,!0),nt.exit().remove(),nt.each(function(S){var E=f.select(this);E.call(b,S,z),n.setTranslate(E,_(z,S.fraction),o.tickOffset+z.ticklen+z.font.size*u+o.labelOffset+Z.currentValueTotalHeight)})}function A(G,z,Y,Z,nt){var S=Math.round(Z*(Y._stepCount-1)),E=Y._visibleSteps[S]._index;E!==Y.active&&P(G,z,Y,E,!0,nt)}function P(G,z,Y,Z,nt,S){var E=Y.active;Y.active=Z,l(G.layout,o.name,Y).applyUpdate("active",Z);var V=Y.steps[Y.active];z.call(D,Y,S),z.call(w,Y),G.emit("plotly_sliderchange",{slider:Y,step:Y.steps[Y.active],interaction:nt,previousActive:E}),V&&V.method&&nt&&(z._nextMethod?(z._nextMethod.step=V,z._nextMethod.doCallback=nt,z._nextMethod.doTransition=S):(z._nextMethod={step:V,doCallback:nt,doTransition:S},z._nextMethodRaf=window.requestAnimationFrame(function(){var Q=z._nextMethod.step;Q.method&&(Q.execute&&g.executeAPICommand(G,Q.method,Q.args),z._nextMethod=null,z._nextMethodRaf=null)})))}function k(G,z,Y){if(!z._context.staticPlot){var Z=Y.node(),nt=f.select(z);G.on("mousedown",E),G.on("touchstart",E)}function S(){return Y.data()[0]}function E(){var V=S();z.emit("plotly_sliderstart",{slider:V});var Q=Y.select("."+o.gripRectClass);f.event.stopPropagation(),f.event.preventDefault(),Q.call(a.fill,V.activebgcolor);var tt=I(V,f.mouse(Z)[0]);function rt(){var H=S(),F=I(H,f.mouse(Z)[0]);A(z,Y,H,F,!1)}function ot(){var H=S();H._dragging=!1,Q.call(a.fill,H.bgcolor),nt.on("mouseup",null),nt.on("mousemove",null),nt.on("touchend",null),nt.on("touchmove",null),z.emit("plotly_sliderend",{slider:H,step:H.steps[H.active]})}A(z,Y,V,tt,!0),V._dragging=!0,nt.on("mousemove",rt),nt.on("touchmove",rt),nt.on("mouseup",ot),nt.on("touchend",ot)}}function L(G,z){var Y=G.selectAll("rect."+o.tickRectClass).data(z._visibleSteps),Z=z._dims;Y.enter().append("rect").classed(o.tickRectClass,!0),Y.exit().remove(),Y.attr({width:z.tickwidth+"px","shape-rendering":"crispEdges"}),Y.each(function(nt,S){var E=S%Z.labelStride==0,V=f.select(this);V.attr({height:E?z.ticklen:z.minorticklen}).call(a.fill,z.tickcolor),n.setTranslate(V,_(z,S/(z._stepCount-1))-.5*z.tickwidth,(E?o.tickOffset:o.minorTickOffset)+Z.currentValueTotalHeight)})}function D(G,z,Y){for(var Z=G.select("rect."+o.gripRectClass),nt=0,S=0;S<z._stepCount;S++)if(z._visibleSteps[S]._index===z.active){nt=S;break}var E=_(z,nt/(z._stepCount-1));if(!z._invokingCommand){var V=Z;Y&&z.transition.duration>0&&(V=V.transition().duration(z.transition.duration).ease(z.transition.easing)),V.attr("transform",r(E-.5*o.gripWidth,z._dims.currentValueTotalHeight))}}function _(G,z){var Y=G._dims;return Y.inputAreaStart+o.stepInset+(Y.inputAreaLength-2*o.stepInset)*Math.min(1,Math.max(0,z))}function I(G,z){var Y=G._dims;return Math.min(1,Math.max(0,(z-o.stepInset-Y.inputAreaStart)/(Y.inputAreaLength-2*o.stepInset-2*Y.inputAreaStart)))}function O(G,z,Y){var Z=Y._dims,nt=e.ensureSingle(G,"rect",o.railTouchRectClass,function(S){S.call(k,z,G,Y).style("pointer-events","all")});nt.attr({width:Z.inputAreaLength,height:Math.max(Z.inputAreaWidth,o.tickOffset+Y.ticklen+Z.labelHeight)}).call(a.fill,Y.bgcolor).attr("opacity",0),n.setTranslate(nt,0,Z.currentValueTotalHeight)}function N(G,z){var Y=z._dims,Z=Y.inputAreaLength-2*o.railInset,nt=e.ensureSingle(G,"rect",o.railRectClass);nt.attr({width:Z,height:o.railWidth,rx:o.railRadius,ry:o.railRadius,"shape-rendering":"crispEdges"}).call(a.stroke,z.bordercolor).call(a.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px"),n.setTranslate(nt,o.railInset,.5*(Y.inputAreaWidth-o.railWidth)+Y.currentValueTotalHeight)}X.exports=function(G){var z=G._context.staticPlot,Y=G._fullLayout,Z=function(tt,rt){for(var ot=tt[o.name],H=[],F=0;F<ot.length;F++){var R=ot[F];R.visible&&(R._gd=rt,H.push(R))}return H}(Y,G),nt=Y._infolayer.selectAll("g."+o.containerClassName).data(Z.length>0?[0]:[]);function S(tt){tt._commandObserver&&(tt._commandObserver.remove(),delete tt._commandObserver),g.autoMargin(G,m(tt))}if(nt.enter().append("g").classed(o.containerClassName,!0).style("cursor",z?null:"ew-resize"),nt.exit().each(function(){f.select(this).selectAll("g."+o.groupClassName).each(S)}).remove(),Z.length!==0){var E=nt.selectAll("g."+o.groupClassName).data(Z,v);E.enter().append("g").classed(o.groupClassName,!0),E.exit().each(S).remove();for(var V=0;V<Z.length;V++){var Q=Z[V];x(G,Q)}E.each(function(tt){var rt=f.select(this);(function(ot){var H=ot._dims;H.labelSteps=[];for(var F=ot._stepCount,R=0;R<F;R+=H.labelStride)H.labelSteps.push({fraction:R/(F-1),step:ot._visibleSteps[R]})})(tt),g.manageCommandObserver(G,tt,tt._visibleSteps,function(ot){var H=rt.data()[0];H.active!==ot.index&&(H._dragging||P(G,rt,H,ot.index,!1,!0))}),function(ot,H,F){(F.steps[F.active]||{}).visible||(F.active=F._visibleSteps[0]._index),H.call(w,F).call(N,F).call(T,F).call(L,F).call(O,ot,F).call(p,ot,F);var R=F._dims;n.setTranslate(H,R.lx+F.pad.l,R.ly+F.pad.t),H.call(D,F,!1),H.call(w,F)}(G,f.select(this),tt)})}}},3243:function(X,d,t){var f=t(8292);X.exports={moduleType:"component",name:f.name,layoutAttributes:t(5067),supplyLayoutDefaults:t(2343),draw:t(4504)}},2998:function(X,d,t){var f=t(9898),g=t(2770),a=t(4875),n=t(3972),e=t(1828),r=e.strTranslate,i=t(1424),l=t(7901),o=t(3893),c=t(7822),u=t(8783).OPPOSITE_SIDE,h=/ [XY][0-9]* /;X.exports={draw:function(y,m,v){var x,w=v.propContainer,p=v.propName,b=v.placeholder,T=v.traceIndex,A=v.avoid||{},P=v.attributes,k=v.transform,L=v.containerGroup,D=y._fullLayout,_=1,I=!1,O=w.title,N=(O&&O.text?O.text:"").trim(),G=O&&O.font?O.font:{},z=G.family,Y=G.size,Z=G.color;p==="title.text"?x="titleText":p.indexOf("axis")!==-1?x="axisTitleText":p.indexOf(!0)&&(x="colorbarTitleText");var nt=y._context.edits[x];N===""?_=0:N.replace(h," % ")===b.replace(h," % ")&&(_=.2,I=!0,nt||(N="")),v._meta?N=e.templateString(N,v._meta):D._meta&&(N=e.templateString(N,D._meta));var S,E=N||nt;L||(L=e.ensureSingle(D._infolayer,"g","g-"+m),S=D._hColorbarMoveTitle);var V=L.selectAll("text").data(E?[0]:[]);if(V.enter().append("text"),V.text(N).attr("class",m),V.exit().remove(),!E)return L;function Q(ot){e.syncOrAsync([tt,rt],ot)}function tt(ot){var H;return!k&&S&&(k={}),k?(H="",k.rotate&&(H+="rotate("+[k.rotate,P.x,P.y]+")"),(k.offset||S)&&(H+=r(0,(k.offset||0)-(S||0)))):H=null,ot.attr("transform",H),ot.style({"font-family":z,"font-size":f.round(Y,2)+"px",fill:l.rgb(Z),opacity:_*l.opacity(Z),"font-weight":a.fontWeight}).attr(P).call(o.convertToTspans,y),a.previousPromises(y)}function rt(ot){var H=f.select(ot.node().parentNode);if(A&&A.selection&&A.side&&N){H.attr("transform",null);var F=u[A.side],R=A.side==="left"||A.side==="top"?-1:1,j=g(A.pad)?A.pad:2,J=i.bBox(H.node()),q={t:0,b:0,l:0,r:0},$=y._fullLayout._reservedMargin;for(var et in $)for(var st in $[et]){var yt=$[et][st];q[st]=Math.max(q[st],yt)}var St={left:q.l,top:q.t,right:D.width-q.r,bottom:D.height-q.b},Lt=A.maxShift||R*(St[A.side]-J[A.side]),It=0;if(Lt<0)It=Lt;else{var it=A.offsetLeft||0,ft=A.offsetTop||0;J.left-=it,J.right-=it,J.top-=ft,J.bottom-=ft,A.selection.each(function(){var xt=i.bBox(this);e.bBoxIntersect(J,xt,j)&&(It=Math.max(It,R*(xt[A.side]-J[F])+j))}),It=Math.min(Lt,It),w._titleScoot=Math.abs(It)}if(It>0||Lt<0){var dt={left:[-It,0],right:[It,0],top:[0,-It],bottom:[0,It]}[A.side];H.attr("transform",r(dt[0],dt[1]))}}}return V.call(Q),nt&&(N?V.on(".opacity",null):(_=0,I=!0,V.text(b).on("mouseover.opacity",function(){f.select(this).transition().duration(c.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){f.select(this).transition().duration(c.HIDE_PLACEHOLDER).style("opacity",0)})),V.call(o.makeEditable,{gd:y}).on("edit",function(ot){T!==void 0?n.call("_guiRestyle",y,p,ot,T):n.call("_guiRelayout",y,p,ot)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Q)}).on("input",function(ot){this.text(ot||" ").call(o.positionText,P.x,P.y)})),V.classed("js-placeholder",I),L}}},7163:function(X,d,t){var f=t(1940),g=t(2399),a=t(1426).extendFlat,n=t(962).overrideAll,e=t(5025),r=t(4467).templatedArray,i=r("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});X.exports=n(r("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:i,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:a(e({editType:"arraydraw"}),{}),font:f({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:g.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},5909:function(X){X.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},4897:function(X,d,t){var f=t(1828),g=t(5501),a=t(7163),n=t(5909).name,e=a.buttons;function r(l,o,c){function u(h,y){return f.coerce(l,o,a,h,y)}u("visible",g(l,o,{name:"buttons",handleItemDefaults:i}).length>0)&&(u("active"),u("direction"),u("type"),u("showactive"),u("x"),u("y"),f.noneOrAll(l,o,["x","y"]),u("xanchor"),u("yanchor"),u("pad.t"),u("pad.r"),u("pad.b"),u("pad.l"),f.coerceFont(u,"font",c.font),u("bgcolor",c.paper_bgcolor),u("bordercolor"),u("borderwidth"))}function i(l,o){function c(u,h){return f.coerce(l,o,e,u,h)}c("visible",l.method==="skip"||Array.isArray(l.args))&&(c("method"),c("args"),c("args2"),c("label"),c("execute"))}X.exports=function(l,o){g(l,o,{name:n,handleItemDefaults:r})}},3689:function(X,d,t){var f=t(9898),g=t(4875),a=t(7901),n=t(1424),e=t(1828),r=t(3893),i=t(4467).arrayEditor,l=t(8783).LINE_SPACING,o=t(5909),c=t(5849);function u(_){return _._index}function h(_,I){return+_.attr(o.menuIndexAttrName)===I._index}function y(_,I,O,N,G,z,Y,Z){I.active=Y,i(_.layout,o.name,I).applyUpdate("active",Y),I.type==="buttons"?v(_,N,null,null,I):I.type==="dropdown"&&(G.attr(o.menuIndexAttrName,"-1"),m(_,N,G,z,I),Z||v(_,N,G,z,I))}function m(_,I,O,N,G){var z=e.ensureSingle(I,"g",o.headerClassName,function(V){V.style("pointer-events","all")}),Y=G._dims,Z=G.active,nt=G.buttons[Z]||o.blankHeaderOpts,S={y:G.pad.t,yPad:0,x:G.pad.l,xPad:0,index:0},E={width:Y.headerWidth,height:Y.headerHeight};z.call(x,G,nt,_).call(L,G,S,E),e.ensureSingle(I,"text",o.headerArrowClassName,function(V){V.attr("text-anchor","end").call(n.font,G.font).text(o.arrowSymbol[G.direction])}).attr({x:Y.headerWidth-o.arrowOffsetX+G.pad.l,y:Y.headerHeight/2+o.textOffsetY+G.pad.t}),z.on("click",function(){O.call(D,String(h(O,G)?-1:G._index)),v(_,I,O,N,G)}),z.on("mouseover",function(){z.call(T)}),z.on("mouseout",function(){z.call(A,G)}),n.setTranslate(I,Y.lx,Y.ly)}function v(_,I,O,N,G){O||(O=I).attr("pointer-events","all");var z=function(H){return+H.attr(o.menuIndexAttrName)==-1}(O)&&G.type!=="buttons"?[]:G.buttons,Y=G.type==="dropdown"?o.dropdownButtonClassName:o.buttonClassName,Z=O.selectAll("g."+Y).data(e.filterVisible(z)),nt=Z.enter().append("g").classed(Y,!0),S=Z.exit();G.type==="dropdown"?(nt.attr("opacity","0").transition().attr("opacity","1"),S.transition().attr("opacity","0").remove()):S.remove();var E=0,V=0,Q=G._dims,tt=["up","down"].indexOf(G.direction)!==-1;G.type==="dropdown"&&(tt?V=Q.headerHeight+o.gapButtonHeader:E=Q.headerWidth+o.gapButtonHeader),G.type==="dropdown"&&G.direction==="up"&&(V=-o.gapButtonHeader+o.gapButton-Q.openHeight),G.type==="dropdown"&&G.direction==="left"&&(E=-o.gapButtonHeader+o.gapButton-Q.openWidth);var rt={x:Q.lx+E+G.pad.l,y:Q.ly+V+G.pad.t,yPad:o.gapButton,xPad:o.gapButton,index:0},ot={l:rt.x+G.borderwidth,t:rt.y+G.borderwidth};Z.each(function(H,F){var R=f.select(this);R.call(x,G,H,_).call(L,G,rt),R.on("click",function(){f.event.defaultPrevented||(H.execute&&(H.args2&&G.active===F?(y(_,G,0,I,O,N,-1),g.executeAPICommand(_,H.method,H.args2)):(y(_,G,0,I,O,N,F),g.executeAPICommand(_,H.method,H.args))),_.emit("plotly_buttonclicked",{menu:G,button:H,active:G.active}))}),R.on("mouseover",function(){R.call(T)}),R.on("mouseout",function(){R.call(A,G),Z.call(b,G)})}),Z.call(b,G),tt?(ot.w=Math.max(Q.openWidth,Q.headerWidth),ot.h=rt.y-ot.t):(ot.w=rt.x-ot.l,ot.h=Math.max(Q.openHeight,Q.headerHeight)),ot.direction=G.direction,N&&(Z.size()?function(H,F,R,j,J,q){var $,et,st,yt=J.direction,St=yt==="up"||yt==="down",Lt=J._dims,It=J.active;if(St)for(et=0,st=0;st<It;st++)et+=Lt.heights[st]+o.gapButton;else for($=0,st=0;st<It;st++)$+=Lt.widths[st]+o.gapButton;j.enable(q,$,et),j.hbar&&j.hbar.attr("opacity","0").transition().attr("opacity","1"),j.vbar&&j.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,N,G,ot):function(H){var F=!!H.hbar,R=!!H.vbar;F&&H.hbar.transition().attr("opacity","0").each("end",function(){F=!1,R||H.disable()}),R&&H.vbar.transition().attr("opacity","0").each("end",function(){R=!1,F||H.disable()})}(N))}function x(_,I,O,N){_.call(w,I).call(p,I,O,N)}function w(_,I){e.ensureSingle(_,"rect",o.itemRectClassName,function(O){O.attr({rx:o.rx,ry:o.ry,"shape-rendering":"crispEdges"})}).call(a.stroke,I.bordercolor).call(a.fill,I.bgcolor).style("stroke-width",I.borderwidth+"px")}function p(_,I,O,N){var G=e.ensureSingle(_,"text",o.itemTextClassName,function(Z){Z.attr({"text-anchor":"start","data-notex":1})}),z=O.label,Y=N._fullLayout._meta;Y&&(z=e.templateString(z,Y)),G.call(n.font,I.font).text(z).call(r.convertToTspans,N)}function b(_,I){var O=I.active;_.each(function(N,G){var z=f.select(this);G===O&&I.showactive&&z.select("rect."+o.itemRectClassName).call(a.fill,o.activeColor)})}function T(_){_.select("rect."+o.itemRectClassName).call(a.fill,o.hoverColor)}function A(_,I){_.select("rect."+o.itemRectClassName).call(a.fill,I.bgcolor)}function P(_,I){var O=I._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},N=n.tester.selectAll("g."+o.dropdownButtonClassName).data(e.filterVisible(I.buttons));N.enter().append("g").classed(o.dropdownButtonClassName,!0);var G=["up","down"].indexOf(I.direction)!==-1;N.each(function(E,V){var Q=f.select(this);Q.call(x,I,E,_);var tt=Q.select("."+o.itemTextClassName),rt=tt.node()&&n.bBox(tt.node()).width,ot=Math.max(rt+o.textPadX,o.minWidth),H=I.font.size*l,F=r.lineCount(tt),R=Math.max(H*F,o.minHeight)+o.textOffsetY;R=Math.ceil(R),ot=Math.ceil(ot),O.widths[V]=ot,O.heights[V]=R,O.height1=Math.max(O.height1,R),O.width1=Math.max(O.width1,ot),G?(O.totalWidth=Math.max(O.totalWidth,ot),O.openWidth=O.totalWidth,O.totalHeight+=R+o.gapButton,O.openHeight+=R+o.gapButton):(O.totalWidth+=ot+o.gapButton,O.openWidth+=ot+o.gapButton,O.totalHeight=Math.max(O.totalHeight,R),O.openHeight=O.totalHeight)}),G?O.totalHeight-=o.gapButton:O.totalWidth-=o.gapButton,O.headerWidth=O.width1+o.arrowPadX,O.headerHeight=O.height1,I.type==="dropdown"&&(G?(O.width1+=o.arrowPadX,O.totalHeight=O.height1):O.totalWidth=O.width1,O.totalWidth+=o.arrowPadX),N.remove();var z=O.totalWidth+I.pad.l+I.pad.r,Y=O.totalHeight+I.pad.t+I.pad.b,Z=_._fullLayout._size;O.lx=Z.l+Z.w*I.x,O.ly=Z.t+Z.h*(1-I.y);var nt="left";e.isRightAnchor(I)&&(O.lx-=z,nt="right"),e.isCenterAnchor(I)&&(O.lx-=z/2,nt="center");var S="top";e.isBottomAnchor(I)&&(O.ly-=Y,S="bottom"),e.isMiddleAnchor(I)&&(O.ly-=Y/2,S="middle"),O.totalWidth=Math.ceil(O.totalWidth),O.totalHeight=Math.ceil(O.totalHeight),O.lx=Math.round(O.lx),O.ly=Math.round(O.ly),g.autoMargin(_,k(I),{x:I.x,y:I.y,l:z*({right:1,center:.5}[nt]||0),r:z*({left:1,center:.5}[nt]||0),b:Y*({top:1,middle:.5}[S]||0),t:Y*({bottom:1,middle:.5}[S]||0)})}function k(_){return o.autoMarginIdRoot+_._index}function L(_,I,O,N){N=N||{};var G=_.select("."+o.itemRectClassName),z=_.select("."+o.itemTextClassName),Y=I.borderwidth,Z=O.index,nt=I._dims;n.setTranslate(_,Y+O.x,Y+O.y);var S=["up","down"].indexOf(I.direction)!==-1,E=N.height||(S?nt.heights[Z]:nt.height1);G.attr({x:0,y:0,width:N.width||(S?nt.width1:nt.widths[Z]),height:E});var V=I.font.size*l,Q=(r.lineCount(z)-1)*V/2;r.positionText(z,o.textOffsetX,E/2-Q+o.textOffsetY),S?O.y+=nt.heights[Z]+O.yPad:O.x+=nt.widths[Z]+O.xPad,O.index++}function D(_,I){_.attr(o.menuIndexAttrName,I||"-1").selectAll("g."+o.dropdownButtonClassName).remove()}X.exports=function(_){var I=_._fullLayout,O=e.filterVisible(I[o.name]);function N(V){g.autoMargin(_,k(V))}var G=I._menulayer.selectAll("g."+o.containerClassName).data(O.length>0?[0]:[]);if(G.enter().append("g").classed(o.containerClassName,!0).style("cursor","pointer"),G.exit().each(function(){f.select(this).selectAll("g."+o.headerGroupClassName).each(N)}).remove(),O.length!==0){var z=G.selectAll("g."+o.headerGroupClassName).data(O,u);z.enter().append("g").classed(o.headerGroupClassName,!0);for(var Y=e.ensureSingle(G,"g",o.dropdownButtonGroupClassName,function(V){V.style("pointer-events","all")}),Z=0;Z<O.length;Z++){var nt=O[Z];P(_,nt)}var S="updatemenus"+I._uid,E=new c(_,Y,S);z.enter().size()&&(Y.node().parentNode.appendChild(Y.node()),Y.call(D)),z.exit().each(function(V){Y.call(D),N(V)}).remove(),z.each(function(V){var Q=f.select(this),tt=V.type==="dropdown"?Y:null;g.manageCommandObserver(_,V,V.buttons,function(rt){y(_,V,V.buttons[rt.index],Q,tt,E,rt.index,!0)}),V.type==="dropdown"?(m(_,Q,Y,E,V),h(Y,V)&&v(_,Q,Y,E,V)):v(_,Q,null,null,V)})}}},763:function(X,d,t){var f=t(5909);X.exports={moduleType:"component",name:f.name,layoutAttributes:t(7163),supplyLayoutDefaults:t(4897),draw:t(3689)}},5849:function(X,d,t){X.exports=e;var f=t(9898),g=t(7901),a=t(1424),n=t(1828);function e(r,i,l){this.gd=r,this.container=i,this.id=l,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}e.barWidth=2,e.barLength=20,e.barRadius=2,e.barPad=1,e.barColor="#808BA4",e.prototype.enable=function(r,i,l){var o=this.gd._fullLayout,c=o.width,u=o.height;this.position=r;var h,y,m,v,x=this.position.l,w=this.position.w,p=this.position.t,b=this.position.h,T=this.position.direction,A=T==="down",P=T==="left",k=T==="up",L=w,D=b;A||P||T==="right"||k||(this.position.direction="down",A=!0),A||k?(y=(h=x)+L,A?(m=p,D=(v=Math.min(m+D,u))-m):D=(v=p+D)-(m=Math.max(v-D,0))):(v=(m=p)+D,P?L=(y=x+L)-(h=Math.max(y-L,0)):(h=x,L=(y=Math.min(h+L,c))-h)),this._box={l:h,t:m,w:L,h:D};var _=w>L,I=e.barLength+2*e.barPad,O=e.barWidth+2*e.barPad,N=x,G=p+b;G+O>u&&(G=u-O);var z=this.container.selectAll("rect.scrollbar-horizontal").data(_?[0]:[]);z.exit().on(".drag",null).remove(),z.enter().append("rect").classed("scrollbar-horizontal",!0).call(g.fill,e.barColor),_?(this.hbar=z.attr({rx:e.barRadius,ry:e.barRadius,x:N,y:G,width:I,height:O}),this._hbarXMin=N+I/2,this._hbarTranslateMax=L-I):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var Y=b>D,Z=e.barWidth+2*e.barPad,nt=e.barLength+2*e.barPad,S=x+w,E=p;S+Z>c&&(S=c-Z);var V=this.container.selectAll("rect.scrollbar-vertical").data(Y?[0]:[]);V.exit().on(".drag",null).remove(),V.enter().append("rect").classed("scrollbar-vertical",!0).call(g.fill,e.barColor),Y?(this.vbar=V.attr({rx:e.barRadius,ry:e.barRadius,x:S,y:E,width:Z,height:nt}),this._vbarYMin=E+nt/2,this._vbarTranslateMax=D-nt):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var Q=this.id,tt=h-.5,rt=Y?y+Z+.5:y+.5,ot=m-.5,H=_?v+O+.5:v+.5,F=o._topdefs.selectAll("#"+Q).data(_||Y?[0]:[]);if(F.exit().remove(),F.enter().append("clipPath").attr("id",Q).append("rect"),_||Y?(this._clipRect=F.select("rect").attr({x:Math.floor(tt),y:Math.floor(ot),width:Math.ceil(rt)-Math.floor(tt),height:Math.ceil(H)-Math.floor(ot)}),this.container.call(a.setClipUrl,Q,this.gd),this.bg.attr({x,y:p,width:w,height:b})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),_||Y){var R=f.behavior.drag().on("dragstart",function(){f.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(R);var j=f.behavior.drag().on("dragstart",function(){f.event.sourceEvent.preventDefault(),f.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));_&&this.hbar.on(".drag",null).call(j),Y&&this.vbar.on(".drag",null).call(j)}this.setTranslate(i,l)},e.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},e.prototype._onBoxDrag=function(){var r=this.translateX,i=this.translateY;this.hbar&&(r-=f.event.dx),this.vbar&&(i-=f.event.dy),this.setTranslate(r,i)},e.prototype._onBoxWheel=function(){var r=this.translateX,i=this.translateY;this.hbar&&(r+=f.event.deltaY),this.vbar&&(i+=f.event.deltaY),this.setTranslate(r,i)},e.prototype._onBarDrag=function(){var r=this.translateX,i=this.translateY;if(this.hbar){var l=r+this._hbarXMin,o=l+this._hbarTranslateMax;r=(n.constrain(f.event.x,l,o)-l)/(o-l)*(this.position.w-this._box.w)}if(this.vbar){var c=i+this._vbarYMin,u=c+this._vbarTranslateMax;i=(n.constrain(f.event.y,c,u)-c)/(u-c)*(this.position.h-this._box.h)}this.setTranslate(r,i)},e.prototype.setTranslate=function(r,i){var l=this.position.w-this._box.w,o=this.position.h-this._box.h;if(r=n.constrain(r||0,0,l),i=n.constrain(i||0,0,o),this.translateX=r,this.translateY=i,this.container.call(a.setTranslate,this._box.l-this.position.l-r,this._box.t-this.position.t-i),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+r-.5),y:Math.floor(this.position.t+i-.5)}),this.hbar){var c=r/l;this.hbar.call(a.setTranslate,r+c*this._hbarTranslateMax,i)}if(this.vbar){var u=i/o;this.vbar.call(a.setTranslate,r,i+u*this._vbarTranslateMax)}}},8783:function(X){X.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},4695:function(X){X.exports={axisRefDescription:function(d,t,f){return["If set to a",d,"axis id (e.g. *"+d+"* or","*"+d+"2*), the `"+d+"` position refers to a",d,"coordinate. If set to *paper*, the `"+d+"`","position refers to the distance from the",t,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",t,"("+f+"). If set to a",d,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",t,"of the domain of that axis: e.g.,","*"+d+"2 domain* refers to the domain of the second",d," axis and a",d,"position of 0.5 refers to the","point between the",t,"and the",f,"of the domain of the","second",d,"axis."].join(" ")}}},1562:function(X){X.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},4808:function(X){X.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},7822:function(X){X.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},606:function(X){X.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},7922:function(X,d){d.xmlns="http://www.w3.org/2000/xmlns/",d.svg="http://www.w3.org/2000/svg",d.xlink="http://www.w3.org/1999/xlink",d.svgAttrs={xmlns:d.svg,"xmlns:xlink":d.xlink}},8729:function(X,d,t){d.version=t(1506).version,t(7417),t(8847);for(var f=t(3972),g=d.register=f.register,a=t(641),n=Object.keys(a),e=0;e<n.length;e++){var r=n[e];r.charAt(0)!=="_"&&(d[r]=a[r]),g({moduleType:"apiMethod",name:r,fn:a[r]})}g(t(7368)),g([t(2745),t(2468),t(7322),t(9853),t(8804),t(763),t(3243),t(3137),t(7218),t(3312),t(7369),t(1081),t(2311),t(2199),t(211),t(4168)]),g([t(2177),t(7815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(g(window.PlotlyLocales),delete window.PlotlyLocales),d.Icons=t(4255);var i=t(211),l=t(4875);d.Plots={resize:l.resize,graphJson:l.graphJson,sendDataToCloud:l.sendDataToCloud},d.Fx={hover:i.hover,unhover:i.unhover,loneHover:i.loneHover,loneUnhover:i.loneUnhover},d.Snapshot=t(4511),d.PlotSchema=t(6281)},4255:function(X){X.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},9863:function(X,d){d.isLeftAnchor=function(t){return t.xanchor==="left"||t.xanchor==="auto"&&t.x<=.3333333333333333},d.isCenterAnchor=function(t){return t.xanchor==="center"||t.xanchor==="auto"&&t.x>.3333333333333333&&t.x<.6666666666666666},d.isRightAnchor=function(t){return t.xanchor==="right"||t.xanchor==="auto"&&t.x>=.6666666666666666},d.isTopAnchor=function(t){return t.yanchor==="top"||t.yanchor==="auto"&&t.y>=.6666666666666666},d.isMiddleAnchor=function(t){return t.yanchor==="middle"||t.yanchor==="auto"&&t.y>.3333333333333333&&t.y<.6666666666666666},d.isBottomAnchor=function(t){return t.yanchor==="bottom"||t.yanchor==="auto"&&t.y<=.3333333333333333}},6348:function(X,d,t){var f=t(4872),g=f.mod,a=f.modHalf,n=Math.PI,e=2*n;function r(c){return Math.abs(c[1]-c[0])>e-1e-14}function i(c,u){return a(u-c,e)}function l(c,u){if(r(u))return!0;var h,y;u[0]<u[1]?(h=u[0],y=u[1]):(h=u[1],y=u[0]),(h=g(h,e))>(y=g(y,e))&&(y+=e);var m=g(c,e),v=m+e;return m>=h&&m<=y||v>=h&&v<=y}function o(c,u,h,y,m,v,x){m=m||0,v=v||0;var w,p,b,T,A,P=r([h,y]);function k(I,O){return[I*Math.cos(O)+m,v-I*Math.sin(O)]}P?(w=0,p=n,b=e):h<y?(w=h,b=y):(w=y,b=h),c<u?(T=c,A=u):(T=u,A=c);var L,D=Math.abs(b-w)<=n?0:1;function _(I,O,N){return"A"+[I,I]+" "+[0,D,N]+" "+k(I,O)}return P?L=T===null?"M"+k(A,w)+_(A,p,0)+_(A,b,0)+"Z":"M"+k(T,w)+_(T,p,0)+_(T,b,0)+"ZM"+k(A,w)+_(A,p,1)+_(A,b,1)+"Z":T===null?(L="M"+k(A,w)+_(A,b,0),x&&(L+="L0,0Z")):L="M"+k(T,w)+"L"+k(A,w)+_(A,b,0)+"L"+k(T,b)+_(T,w,1)+"Z",L}X.exports={deg2rad:function(c){return c/180*n},rad2deg:function(c){return c/n*180},angleDelta:i,angleDist:function(c,u){return Math.abs(i(c,u))},isFullCircle:r,isAngleInsideSector:l,isPtInsideSector:function(c,u,h,y){return!!l(u,y)&&(h[0]<h[1]?(m=h[0],v=h[1]):(m=h[1],v=h[0]),c>=m&&c<=v);var m,v},pathArc:function(c,u,h,y,m){return o(null,c,u,h,y,m,0)},pathSector:function(c,u,h,y,m){return o(null,c,u,h,y,m,1)},pathAnnulus:function(c,u,h,y,m,v){return o(c,u,h,y,m,v,1)}}},3627:function(X,d){var t=Array.isArray,f=ArrayBuffer,g=DataView;function a(r){return f.isView(r)&&!(r instanceof g)}function n(r){return t(r)||a(r)}function e(r,i,l){if(n(r)){if(n(r[0])){for(var o=l,c=0;c<r.length;c++)o=i(o,r[c].length);return o}return r.length}return 0}d.isTypedArray=a,d.isArrayOrTypedArray=n,d.isArray1D=function(r){return!n(r[0])},d.ensureArray=function(r,i){return t(r)||(r=[]),r.length=i,r},d.concat=function(){var r,i,l,o,c,u,h,y,m=[],v=!0,x=0;for(l=0;l<arguments.length;l++)(u=(o=arguments[l]).length)&&(i?m.push(o):(i=o,c=u),t(o)?r=!1:(v=!1,x?r!==o.constructor&&(r=!1):r=o.constructor),x+=u);if(!x)return[];if(!m.length)return i;if(v)return i.concat.apply(i,m);if(r){for((h=new r(x)).set(i),l=0;l<m.length;l++)o=m[l],h.set(o,c),c+=o.length;return h}for(h=new Array(x),y=0;y<i.length;y++)h[y]=i[y];for(l=0;l<m.length;l++){for(o=m[l],y=0;y<o.length;y++)h[c+y]=o[y];c+=y}return h},d.maxRowLength=function(r){return e(r,Math.max,0)},d.minRowLength=function(r){return e(r,Math.min,1/0)}},5218:function(X,d,t){var f=t(2770),g=t(606).BADNUM,a=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;X.exports=function(n){return typeof n=="string"&&(n=n.replace(a,"")),f(n)?Number(n):g}},3306:function(X){X.exports=function(d){var t=d._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(f){f.regl&&f.regl.clear({color:!0,depth:!0})})}},6367:function(X){X.exports=function(d){d._responsiveChartHandler&&(window.removeEventListener("resize",d._responsiveChartHandler),delete d._responsiveChartHandler)}},6554:function(X,d,t){var f=t(2770),g=t(4267),a=t(9012),n=t(3282),e=t(7901),r=t(7822).DESELECTDIM,i=t(5487),l=t(587).counter,o=t(4872).modHalf,c=t(3627).isArrayOrTypedArray;function u(h,y){var m=d.valObjectMeta[y.valType];if(y.arrayOk&&c(h))return!0;if(m.validateFunction)return m.validateFunction(h,y);var v={},x=v,w={set:function(p){x=p}};return m.coerceFunction(h,w,v,y),x!==v}d.valObjectMeta={data_array:{coerceFunction:function(h,y,m){c(h)?y.set(h):m!==void 0&&y.set(m)}},enumerated:{coerceFunction:function(h,y,m,v){v.coerceNumber&&(h=+h),v.values.indexOf(h)===-1?y.set(m):y.set(h)},validateFunction:function(h,y){y.coerceNumber&&(h=+h);for(var m=y.values,v=0;v<m.length;v++){var x=String(m[v]);if(x.charAt(0)==="/"&&x.charAt(x.length-1)==="/"){if(new RegExp(x.substr(1,x.length-2)).test(h))return!0}else if(h===m[v])return!0}return!1}},boolean:{coerceFunction:function(h,y,m){h===!0||h===!1?y.set(h):y.set(m)}},number:{coerceFunction:function(h,y,m,v){!f(h)||v.min!==void 0&&h<v.min||v.max!==void 0&&h>v.max?y.set(m):y.set(+h)}},integer:{coerceFunction:function(h,y,m,v){h%1||!f(h)||v.min!==void 0&&h<v.min||v.max!==void 0&&h>v.max?y.set(m):y.set(+h)}},string:{coerceFunction:function(h,y,m,v){if(typeof h!="string"){var x=typeof h=="number";v.strict!==!0&&x?y.set(String(h)):y.set(m)}else v.noBlank&&!h?y.set(m):y.set(h)}},color:{coerceFunction:function(h,y,m){g(h).isValid()?y.set(h):y.set(m)}},colorlist:{coerceFunction:function(h,y,m){Array.isArray(h)&&h.length&&h.every(function(v){return g(v).isValid()})?y.set(h):y.set(m)}},colorscale:{coerceFunction:function(h,y,m){y.set(n.get(h,m))}},angle:{coerceFunction:function(h,y,m){h==="auto"?y.set("auto"):f(h)?y.set(o(+h,360)):y.set(m)}},subplotid:{coerceFunction:function(h,y,m,v){var x=v.regex||l(m);typeof h=="string"&&x.test(h)?y.set(h):y.set(m)},validateFunction:function(h,y){var m=y.dflt;return h===m||typeof h=="string"&&!!l(m).test(h)}},flaglist:{coerceFunction:function(h,y,m,v){if((v.extras||[]).indexOf(h)===-1)if(typeof h=="string"){for(var x=h.split("+"),w=0;w<x.length;){var p=x[w];v.flags.indexOf(p)===-1||x.indexOf(p)<w?x.splice(w,1):w++}x.length?y.set(x.join("+")):y.set(m)}else y.set(m);else y.set(h)}},any:{coerceFunction:function(h,y,m){h===void 0?y.set(m):y.set(h)}},info_array:{coerceFunction:function(h,y,m,v){function x(G,z,Y){var Z,nt={set:function(S){Z=S}};return Y===void 0&&(Y=z.dflt),d.valObjectMeta[z.valType].coerceFunction(G,nt,Y,z),Z}var w=v.dimensions===2||v.dimensions==="1-2"&&Array.isArray(h)&&Array.isArray(h[0]);if(Array.isArray(h)){var p,b,T,A,P,k,L=v.items,D=[],_=Array.isArray(L),I=_&&w&&Array.isArray(L[0]),O=w&&_&&!I,N=_&&!O?L.length:h.length;if(m=Array.isArray(m)?m:[],w)for(p=0;p<N;p++)for(D[p]=[],T=Array.isArray(h[p])?h[p]:[],P=O?L.length:_?L[p].length:T.length,b=0;b<P;b++)A=O?L[b]:_?L[p][b]:L,(k=x(T[b],A,(m[p]||[])[b]))!==void 0&&(D[p][b]=k);else for(p=0;p<N;p++)(k=x(h[p],_?L[p]:L,m[p]))!==void 0&&(D[p]=k);y.set(D)}else y.set(m)},validateFunction:function(h,y){if(!Array.isArray(h))return!1;var m=y.items,v=Array.isArray(m),x=y.dimensions===2;if(!y.freeLength&&h.length!==m.length)return!1;for(var w=0;w<h.length;w++)if(x){if(!Array.isArray(h[w])||!y.freeLength&&h[w].length!==m[w].length)return!1;for(var p=0;p<h[w].length;p++)if(!u(h[w][p],v?m[w][p]:m))return!1}else if(!u(h[w],v?m[w]:m))return!1;return!0}}},d.coerce=function(h,y,m,v,x){var w=i(m,v).get(),p=i(h,v),b=i(y,v),T=p.get(),A=y._template;if(T===void 0&&A&&(T=i(A,v).get(),A=0),x===void 0&&(x=w.dflt),w.arrayOk&&c(T))return b.set(T),T;var P=d.valObjectMeta[w.valType].coerceFunction;P(T,b,x,w);var k=b.get();return A&&k===x&&!u(T,w)&&(P(T=i(A,v).get(),b,x,w),k=b.get()),k},d.coerce2=function(h,y,m,v,x){var w=i(h,v),p=d.coerce(h,y,m,v,x);return w.get()!=null&&p},d.coerceFont=function(h,y,m){var v={};return m=m||{},v.family=h(y+".family",m.family),v.size=h(y+".size",m.size),v.color=h(y+".color",m.color),v},d.coercePattern=function(h,y,m,v){if(h(y+".shape")){h(y+".solidity"),h(y+".size");var x=h(y+".fillmode")==="overlay";if(!v){var w=h(y+".bgcolor",x?m:void 0);h(y+".fgcolor",x?e.contrast(w):m)}h(y+".fgopacity",x?.5:1)}},d.coerceHoverinfo=function(h,y,m){var v,x=y._module.attributes,w=x.hoverinfo?x:a,p=w.hoverinfo;if(m._dataLength===1){var b=p.dflt==="all"?p.flags.slice():p.dflt.split("+");b.splice(b.indexOf("name"),1),v=b.join("+")}return d.coerce(h,y,w,"hoverinfo",v)},d.coerceSelectionMarkerOpacity=function(h,y){if(h.marker){var m,v,x=h.marker.opacity;x!==void 0&&(c(x)||h.selected||h.unselected||(m=x,v=r*x),y("selected.marker.opacity",m),y("unselected.marker.opacity",v))}},d.validate=u},1631:function(X,d,t){var f,g,a=t(4096).i$,n=t(2770),e=t(7769),r=t(4872).mod,i=t(606),l=i.BADNUM,o=i.ONEDAY,c=i.ONEHOUR,u=i.ONEMIN,h=i.ONESEC,y=i.EPOCHJD,m=t(3972),v=t(4096).g0,x=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,w=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,p=new Date().getFullYear()-70;function b(z){return z&&m.componentsRegistry.calendars&&typeof z=="string"&&z!=="gregorian"}function T(z,Y){return String(z+Math.pow(10,Y)).substr(1)}d.dateTick0=function(z,Y){var Z=function(S,E){return b(S)?E?m.getComponentMethod("calendars","CANONICAL_SUNDAY")[S]:m.getComponentMethod("calendars","CANONICAL_TICK")[S]:E?"2000-01-02":"2000-01-01"}(z,!!Y);if(Y<2)return Z;var nt=d.dateTime2ms(Z,z);return nt+=o*(Y-1),d.ms2DateTime(nt,0,z)},d.dfltRange=function(z){return b(z)?m.getComponentMethod("calendars","DFLTRANGE")[z]:["2000-01-01","2001-01-01"]},d.isJSDate=function(z){return typeof z=="object"&&z!==null&&typeof z.getTime=="function"},d.dateTime2ms=function(z,Y){if(d.isJSDate(z)){var Z=z.getTimezoneOffset()*u,nt=(z.getUTCMinutes()-z.getMinutes())*u+(z.getUTCSeconds()-z.getSeconds())*h+(z.getUTCMilliseconds()-z.getMilliseconds());if(nt){var S=3*u;Z=Z-S/2+r(nt-Z+S/2,S)}return(z=Number(z)-Z)>=f&&z<=g?z:l}if(typeof z!="string"&&typeof z!="number")return l;z=String(z);var E=b(Y),V=z.charAt(0);!E||V!=="G"&&V!=="g"||(z=z.substr(1),Y="");var Q=E&&Y.substr(0,7)==="chinese",tt=z.match(Q?w:x);if(!tt)return l;var rt=tt[1],ot=tt[3]||"1",H=Number(tt[5]||1),F=Number(tt[7]||0),R=Number(tt[9]||0),j=Number(tt[11]||0);if(E){if(rt.length===2)return l;var J;rt=Number(rt);try{var q=m.getComponentMethod("calendars","getCal")(Y);if(Q){var $=ot.charAt(ot.length-1)==="i";ot=parseInt(ot,10),J=q.newDate(rt,q.toMonthIndex(rt,ot,$),H)}else J=q.newDate(rt,Number(ot),H)}catch{return l}return J?(J.toJD()-y)*o+F*c+R*u+j*h:l}rt=rt.length===2?(Number(rt)+2e3-p)%100+p:Number(rt),ot-=1;var et=new Date(Date.UTC(2e3,ot,H,F,R));return et.setUTCFullYear(rt),et.getUTCMonth()!==ot||et.getUTCDate()!==H?l:et.getTime()+j*h},f=d.MIN_MS=d.dateTime2ms("-9999"),g=d.MAX_MS=d.dateTime2ms("9999-12-31 23:59:59.9999"),d.isDateTime=function(z,Y){return d.dateTime2ms(z,Y)!==l};var A=90*o,P=3*c,k=5*u;function L(z,Y,Z,nt,S){if((Y||Z||nt||S)&&(z+=" "+T(Y,2)+":"+T(Z,2),(nt||S)&&(z+=":"+T(nt,2),S))){for(var E=4;S%10==0;)E-=1,S/=10;z+="."+T(S,E)}return z}d.ms2DateTime=function(z,Y,Z){if(typeof z!="number"||!(z>=f&&z<=g))return l;Y||(Y=0);var nt,S,E,V,Q,tt,rt=Math.floor(10*r(z+.05,1)),ot=Math.round(z-rt/10);if(b(Z)){var H=Math.floor(ot/o)+y,F=Math.floor(r(z,o));try{nt=m.getComponentMethod("calendars","getCal")(Z).fromJD(H).formatDate("yyyy-mm-dd")}catch{nt=v("G%Y-%m-%d")(new Date(ot))}if(nt.charAt(0)==="-")for(;nt.length<11;)nt="-0"+nt.substr(1);else for(;nt.length<10;)nt="0"+nt;S=Y<A?Math.floor(F/c):0,E=Y<A?Math.floor(F%c/u):0,V=Y<P?Math.floor(F%u/h):0,Q=Y<k?F%h*10+rt:0}else tt=new Date(ot),nt=v("%Y-%m-%d")(tt),S=Y<A?tt.getUTCHours():0,E=Y<A?tt.getUTCMinutes():0,V=Y<P?tt.getUTCSeconds():0,Q=Y<k?10*tt.getUTCMilliseconds()+rt:0;return L(nt,S,E,V,Q)},d.ms2DateTimeLocal=function(z){if(!(z>=f+o&&z<=g-o))return l;var Y=Math.floor(10*r(z+.05,1)),Z=new Date(Math.round(z-Y/10));return L(a("%Y-%m-%d")(Z),Z.getHours(),Z.getMinutes(),Z.getSeconds(),10*Z.getUTCMilliseconds()+Y)},d.cleanDate=function(z,Y,Z){if(z===l)return Y;if(d.isJSDate(z)||typeof z=="number"&&isFinite(z)){if(b(Z))return e.error("JS Dates and milliseconds are incompatible with world calendars",z),Y;if(!(z=d.ms2DateTimeLocal(+z))&&Y!==void 0)return Y}else if(!d.isDateTime(z,Z))return e.error("unrecognized date",z),Y;return z};var D=/%\d?f/g,_=/%h/g,I={1:"1",2:"1",3:"2",4:"2"};function O(z,Y,Z,nt){z=z.replace(D,function(E){var V=Math.min(+E.charAt(1)||6,6);return(Y/1e3%1+2).toFixed(V).substr(2).replace(/0+$/,"")||"0"});var S=new Date(Math.floor(Y+.05));if(z=z.replace(_,function(){return I[Z("%q")(S)]}),b(nt))try{z=m.getComponentMethod("calendars","worldCalFmt")(z,Y,nt)}catch{return"Invalid"}return Z(z)(S)}var N=[59,59.9,59.99,59.999,59.9999];d.formatDate=function(z,Y,Z,nt,S,E){if(S=b(S)&&S,!Y)if(Z==="y")Y=E.year;else if(Z==="m")Y=E.month;else{if(Z!=="d")return function(V,Q){var tt=r(V+.05,o),rt=T(Math.floor(tt/c),2)+":"+T(r(Math.floor(tt/u),60),2);if(Q!=="M"){n(Q)||(Q=0);var ot=(100+Math.min(r(V/h,60),N[Q])).toFixed(Q).substr(1);Q>0&&(ot=ot.replace(/0+$/,"").replace(/[\.]$/,"")),rt+=":"+ot}return rt}(z,Z)+`
`+O(E.dayMonthYear,z,nt,S);Y=E.dayMonth+`
`+E.year}return O(Y,z,nt,S)};var G=3*o;d.incrementMonth=function(z,Y,Z){Z=b(Z)&&Z;var nt=r(z,o);if(z=Math.round(z-nt),Z)try{var S=Math.round(z/o)+y,E=m.getComponentMethod("calendars","getCal")(Z),V=E.fromJD(S);return Y%12?E.add(V,Y,"m"):E.add(V,Y/12,"y"),(V.toJD()-y)*o+nt}catch{e.error("invalid ms "+z+" in calendar "+Z)}var Q=new Date(z+G);return Q.setUTCMonth(Q.getUTCMonth()+Y)+nt-G},d.findExactDates=function(z,Y){for(var Z,nt,S=0,E=0,V=0,Q=0,tt=b(Y)&&m.getComponentMethod("calendars","getCal")(Y),rt=0;rt<z.length;rt++)if(nt=z[rt],n(nt)){if(!(nt%o))if(tt)try{(Z=tt.fromJD(nt/o+y)).day()===1?Z.month()===1?S++:E++:V++}catch{}else(Z=new Date(nt)).getUTCDate()===1?Z.getUTCMonth()===0?S++:E++:V++}else Q++;V+=E+=S;var ot=z.length-Q;return{exactYears:S/ot,exactMonths:E/ot,exactDays:V/ot}}},4401:function(X,d,t){var f=t(9898),g=t(7769),a=t(5657),n=t(9576);function e(c){var u=c&&c.parentNode;u&&u.removeChild(c)}function r(c,u,h){var y="plotly.js-style-"+c,m=document.getElementById(y);m||((m=document.createElement("style")).setAttribute("id",y),m.appendChild(document.createTextNode("")),document.head.appendChild(m));var v=m.sheet;v.insertRule?v.insertRule(u+"{"+h+"}",0):v.addRule?v.addRule(u,h,0):g.warn("addStyleRule failed")}function i(c){var u=window.getComputedStyle(c,null),h=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("-moz-transform")||u.getPropertyValue("-ms-transform")||u.getPropertyValue("-o-transform")||u.getPropertyValue("transform");return h==="none"?null:h.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(y){return+y})}function l(c){for(var u=[];o(c);)u.push(c),c=c.parentNode;return u}function o(c){return c&&(c instanceof Element||c instanceof HTMLElement)}X.exports={getGraphDiv:function(c){var u;if(typeof c=="string"){if((u=document.getElementById(c))===null)throw new Error("No DOM element with id '"+c+"' exists on the page.");return u}if(c==null)throw new Error("DOM element provided is null or undefined");return c},isPlotDiv:function(c){var u=f.select(c);return u.node()instanceof HTMLElement&&u.size()&&u.classed("js-plotly-plot")},removeElement:e,addStyleRule:function(c,u){r("global",c,u)},addRelatedStyleRule:r,deleteRelatedStyleRule:function(c){var u="plotly.js-style-"+c,h=document.getElementById(u);h&&e(h)},getFullTransformMatrix:function(c){var u=l(c),h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return u.forEach(function(y){var m=i(y);if(m){var v=a.convertCssMatrix(m);h=n.multiply(h,h,v)}}),h},getElementTransformMatrix:i,getElementAndAncestors:l,equalDomRects:function(c,u){return c&&u&&c.top===u.top&&c.left===u.left&&c.right===u.right&&c.bottom===u.bottom}}},1086:function(X,d,t){var f=t(5398).EventEmitter,g={init:function(a){if(a._ev instanceof f)return a;var n=new f,e=new f;return a._ev=n,a._internalEv=e,a.on=n.on.bind(n),a.once=n.once.bind(n),a.removeListener=n.removeListener.bind(n),a.removeAllListeners=n.removeAllListeners.bind(n),a._internalOn=e.on.bind(e),a._internalOnce=e.once.bind(e),a._removeInternalListener=e.removeListener.bind(e),a._removeAllInternalListeners=e.removeAllListeners.bind(e),a.emit=function(r,i){typeof jQuery<"u"&&jQuery(a).trigger(r,i),n.emit(r,i),e.emit(r,i)},a},triggerHandler:function(a,n,e){var r,i;typeof jQuery<"u"&&(r=jQuery(a).triggerHandler(n,e));var l=a._ev;if(!l)return r;var o,c=l._events[n];if(!c)return r;function u(h){return h.listener?(l.removeListener(n,h.listener),h.fired?void 0:(h.fired=!0,h.listener.apply(l,[e]))):h.apply(l,[e])}for(c=Array.isArray(c)?c:[c],o=0;o<c.length-1;o++)u(c[o]);return i=u(c[o]),r!==void 0?r:i},purge:function(a){return delete a._ev,delete a.on,delete a.once,delete a.removeListener,delete a.removeAllListeners,delete a.emit,delete a._ev,delete a._internalEv,delete a._internalOn,delete a._internalOnce,delete a._removeInternalListener,delete a._removeAllInternalListeners,a}};X.exports=g},1426:function(X,d,t){var f=t(1965),g=Array.isArray;function a(n,e,r,i){var l,o,c,u,h,y,m,v=n[0],x=n.length;if(x===2&&g(v)&&g(n[1])&&v.length===0){if(m=function(p,b){var T,A;for(T=0;T<p.length;T++){if((A=p[T])!==null&&typeof A=="object")return!1;A!==void 0&&(b[T]=A)}return!0}(n[1],v),m)return v;v.splice(0,v.length)}for(var w=1;w<x;w++)for(o in l=n[w])c=v[o],u=l[o],i&&g(u)?v[o]=u:e&&u&&(f(u)||(h=g(u)))?(h?(h=!1,y=c&&g(c)?c:[]):y=c&&f(c)?c:{},v[o]=a([y,u],e,r,i)):(u!==void 0||r)&&(v[o]=u);return v}d.extendFlat=function(){return a(arguments,!1,!1,!1)},d.extendDeep=function(){return a(arguments,!0,!1,!1)},d.extendDeepAll=function(){return a(arguments,!0,!0,!1)},d.extendDeepNoArrays=function(){return a(arguments,!0,!1,!0)}},5744:function(X){X.exports=function(d){for(var t={},f=[],g=0,a=0;a<d.length;a++){var n=d[a];t[n]!==1&&(t[n]=1,f[g++]=n)}return f}},6756:function(X){function d(f){return f.visible===!0}function t(f){var g=f[0].trace;return g.visible===!0&&g._length!==0}X.exports=function(f){for(var g,a=(g=f,Array.isArray(g)&&Array.isArray(g[0])&&g[0][0]&&g[0][0].trace?t:d),n=[],e=0;e<f.length;e++){var r=f[e];a(r)&&n.push(r)}return n}},7642:function(X,d,t){var f,g,a,n=t(4872).mod;function e(i,l,o,c,u,h,y,m){var v=o-i,x=u-i,w=y-u,p=c-l,b=h-l,T=m-h,A=v*T-w*p;if(A===0)return null;var P=(x*T-w*b)/A,k=(x*p-v*b)/A;return k<0||k>1||P<0||P>1?null:{x:i+v*P,y:l+p*P}}function r(i,l,o,c,u){var h=c*i+u*l;if(h<0)return c*c+u*u;if(h>o){var y=c-i,m=u-l;return y*y+m*m}var v=c*l-u*i;return v*v/o}d.segmentsIntersect=e,d.segmentDistance=function(i,l,o,c,u,h,y,m){if(e(i,l,o,c,u,h,y,m))return 0;var v=o-i,x=c-l,w=y-u,p=m-h,b=v*v+x*x,T=w*w+p*p,A=Math.min(r(v,x,b,u-i,h-l),r(v,x,b,y-i,m-l),r(w,p,T,i-u,l-h),r(w,p,T,o-u,c-h));return Math.sqrt(A)},d.getTextLocation=function(i,l,o,c){if(i===g&&c===a||(f={},g=i,a=c),f[o])return f[o];var u=i.getPointAtLength(n(o-c/2,l)),h=i.getPointAtLength(n(o+c/2,l)),y=Math.atan((h.y-u.y)/(h.x-u.x)),m=i.getPointAtLength(n(o,l)),v={x:(4*m.x+u.x+h.x)/6,y:(4*m.y+u.y+h.y)/6,theta:y};return f[o]=v,v},d.clearLocationCache=function(){g=null},d.getVisibleSegment=function(i,l,o){var c,u,h=l.left,y=l.right,m=l.top,v=l.bottom,x=0,w=i.getTotalLength(),p=w;function b(A){var P=i.getPointAtLength(A);A===0?c=P:A===w&&(u=P);var k=P.x<h?h-P.x:P.x>y?P.x-y:0,L=P.y<m?m-P.y:P.y>v?P.y-v:0;return Math.sqrt(k*k+L*L)}for(var T=b(x);T;){if((x+=T+o)>p)return;T=b(x)}for(T=b(p);T;){if(x>(p-=T+o))return;T=b(p)}return{min:x,max:p,len:p-x,total:w,isClosed:x===0&&p===w&&Math.abs(c.x-u.x)<.1&&Math.abs(c.y-u.y)<.1}},d.findPointOnPath=function(i,l,o,c){for(var u,h,y,m=(c=c||{}).pathLength||i.getTotalLength(),v=c.tolerance||.001,x=c.iterationLimit||30,w=i.getPointAtLength(0)[o]>i.getPointAtLength(m)[o]?-1:1,p=0,b=0,T=m;p<x;){if(u=(b+T)/2,y=(h=i.getPointAtLength(u))[o]-l,Math.abs(y)<v)return h;w*y>0?T=u:b=u,p++}return h}},3389:function(X){X.exports=function(d){return d}},9240:function(X){X.exports=function(d,t){if(!t)return d;var f=1/Math.abs(t),g=f>1?(f*d+f*t)/f:d+t,a=String(g).length;if(a>16){var n=String(t).length;if(a>=String(d).length+n){var e=parseFloat(g).toPrecision(12);e.indexOf("e+")===-1&&(g=+e)}}return g}},1828:function(X,d,t){var f=t(9898),g=t(4096).g0,a=t(721).WU,n=t(2770),e=t(606),r=e.FP_SAFE,i=-r,l=e.BADNUM,o=X.exports={};o.adjustFormat=function(F){return!F||/^\d[.]\df/.test(F)||/[.]\d%/.test(F)?F:F==="0.f"?"~f":/^\d%/.test(F)?"~%":/^\ds/.test(F)?"~s":!/^[~,.0$]/.test(F)&&/[&fps]/.test(F)?"~"+F:F};var c={};o.warnBadFormat=function(F){var R=String(F);c[R]||(c[R]=1,o.warn('encountered bad format: "'+R+'"'))},o.noFormat=function(F){return String(F)},o.numberFormat=function(F){var R;try{R=a(o.adjustFormat(F))}catch{return o.warnBadFormat(F),o.noFormat}return R},o.nestedProperty=t(5487),o.keyedContainer=t(6636),o.relativeAttr=t(6962),o.isPlainObject=t(1965),o.toLogRange=t(8163),o.relinkPrivateKeys=t(1332);var u=t(3627);o.isTypedArray=u.isTypedArray,o.isArrayOrTypedArray=u.isArrayOrTypedArray,o.isArray1D=u.isArray1D,o.ensureArray=u.ensureArray,o.concat=u.concat,o.maxRowLength=u.maxRowLength,o.minRowLength=u.minRowLength;var h=t(4872);o.mod=h.mod,o.modHalf=h.modHalf;var y=t(6554);o.valObjectMeta=y.valObjectMeta,o.coerce=y.coerce,o.coerce2=y.coerce2,o.coerceFont=y.coerceFont,o.coercePattern=y.coercePattern,o.coerceHoverinfo=y.coerceHoverinfo,o.coerceSelectionMarkerOpacity=y.coerceSelectionMarkerOpacity,o.validate=y.validate;var m=t(1631);o.dateTime2ms=m.dateTime2ms,o.isDateTime=m.isDateTime,o.ms2DateTime=m.ms2DateTime,o.ms2DateTimeLocal=m.ms2DateTimeLocal,o.cleanDate=m.cleanDate,o.isJSDate=m.isJSDate,o.formatDate=m.formatDate,o.incrementMonth=m.incrementMonth,o.dateTick0=m.dateTick0,o.dfltRange=m.dfltRange,o.findExactDates=m.findExactDates,o.MIN_MS=m.MIN_MS,o.MAX_MS=m.MAX_MS;var v=t(5888);o.findBin=v.findBin,o.sorterAsc=v.sorterAsc,o.sorterDes=v.sorterDes,o.distinctVals=v.distinctVals,o.roundUp=v.roundUp,o.sort=v.sort,o.findIndexOfMin=v.findIndexOfMin,o.sortObjectKeys=t(8607);var x=t(38);o.aggNums=x.aggNums,o.len=x.len,o.mean=x.mean,o.median=x.median,o.midRange=x.midRange,o.variance=x.variance,o.stdev=x.stdev,o.interp=x.interp;var w=t(5657);o.init2dArray=w.init2dArray,o.transposeRagged=w.transposeRagged,o.dot=w.dot,o.translationMatrix=w.translationMatrix,o.rotationMatrix=w.rotationMatrix,o.rotationXYMatrix=w.rotationXYMatrix,o.apply3DTransform=w.apply3DTransform,o.apply2DTransform=w.apply2DTransform,o.apply2DTransform2=w.apply2DTransform2,o.convertCssMatrix=w.convertCssMatrix,o.inverseTransformMatrix=w.inverseTransformMatrix;var p=t(6348);o.deg2rad=p.deg2rad,o.rad2deg=p.rad2deg,o.angleDelta=p.angleDelta,o.angleDist=p.angleDist,o.isFullCircle=p.isFullCircle,o.isAngleInsideSector=p.isAngleInsideSector,o.isPtInsideSector=p.isPtInsideSector,o.pathArc=p.pathArc,o.pathSector=p.pathSector,o.pathAnnulus=p.pathAnnulus;var b=t(9863);o.isLeftAnchor=b.isLeftAnchor,o.isCenterAnchor=b.isCenterAnchor,o.isRightAnchor=b.isRightAnchor,o.isTopAnchor=b.isTopAnchor,o.isMiddleAnchor=b.isMiddleAnchor,o.isBottomAnchor=b.isBottomAnchor;var T=t(7642);o.segmentsIntersect=T.segmentsIntersect,o.segmentDistance=T.segmentDistance,o.getTextLocation=T.getTextLocation,o.clearLocationCache=T.clearLocationCache,o.getVisibleSegment=T.getVisibleSegment,o.findPointOnPath=T.findPointOnPath;var A=t(1426);o.extendFlat=A.extendFlat,o.extendDeep=A.extendDeep,o.extendDeepAll=A.extendDeepAll,o.extendDeepNoArrays=A.extendDeepNoArrays;var P=t(7769);o.log=P.log,o.warn=P.warn,o.error=P.error;var k=t(587);o.counterRegex=k.counter;var L=t(9990);o.throttle=L.throttle,o.throttleDone=L.done,o.clearThrottle=L.clear;var D=t(4401);function _(F){var R={};for(var j in F)for(var J=F[j],q=0;q<J.length;q++)R[J[q]]=+j;return R}o.getGraphDiv=D.getGraphDiv,o.isPlotDiv=D.isPlotDiv,o.removeElement=D.removeElement,o.addStyleRule=D.addStyleRule,o.addRelatedStyleRule=D.addRelatedStyleRule,o.deleteRelatedStyleRule=D.deleteRelatedStyleRule,o.getFullTransformMatrix=D.getFullTransformMatrix,o.getElementTransformMatrix=D.getElementTransformMatrix,o.getElementAndAncestors=D.getElementAndAncestors,o.equalDomRects=D.equalDomRects,o.clearResponsive=t(6367),o.preserveDrawingBuffer=t(5142),o.makeTraceGroups=t(7310),o._=t(5867),o.notifier=t(5046),o.filterUnique=t(5744),o.filterVisible=t(6756),o.pushUnique=t(5138),o.increment=t(9240),o.cleanNumber=t(5218),o.ensureNumber=function(F){return n(F)?(F=Number(F))>r||F<i?l:F:l},o.isIndex=function(F,R){return!(R!==void 0&&F>=R)&&n(F)&&F>=0&&F%1==0},o.noop=t(4213),o.identity=t(3389),o.repeat=function(F,R){for(var j=new Array(R),J=0;J<R;J++)j[J]=F;return j},o.swapAttrs=function(F,R,j,J){j||(j="x"),J||(J="y");for(var q=0;q<R.length;q++){var $=R[q],et=o.nestedProperty(F,$.replace("?",j)),st=o.nestedProperty(F,$.replace("?",J)),yt=et.get();et.set(st.get()),st.set(yt)}},o.raiseToTop=function(F){F.parentNode.appendChild(F)},o.cancelTransition=function(F){return F.transition().duration(0)},o.constrain=function(F,R,j){return R>j?Math.max(j,Math.min(R,F)):Math.max(R,Math.min(j,F))},o.bBoxIntersect=function(F,R,j){return j=j||0,F.left<=R.right+j&&R.left<=F.right+j&&F.top<=R.bottom+j&&R.top<=F.bottom+j},o.simpleMap=function(F,R,j,J,q){for(var $=F.length,et=new Array($),st=0;st<$;st++)et[st]=R(F[st],j,J,q);return et},o.randstr=function F(R,j,J,q){if(J||(J=16),j===void 0&&(j=24),j<=0)return"0";var $,et,st=Math.log(Math.pow(2,j))/Math.log(J),yt="";for($=2;st===1/0;$*=2)st=Math.log(Math.pow(2,j/$))/Math.log(J)*$;var St=st-Math.floor(st);for($=0;$<Math.floor(st);$++)yt=Math.floor(Math.random()*J).toString(J)+yt;St&&(et=Math.pow(J,St),yt=Math.floor(Math.random()*et).toString(J)+yt);var Lt=parseInt(yt,J);return R&&R[yt]||Lt!==1/0&&Lt>=Math.pow(2,j)?q>10?(o.warn("randstr failed uniqueness"),yt):F(R,j,J,(q||0)+1):yt},o.OptionControl=function(F,R){F||(F={}),R||(R="opt");var j={optionList:[],_newoption:function(J){J[R]=F,j[J.name]=J,j.optionList.push(J)}};return j["_"+R]=F,j},o.smooth=function(F,R){if((R=Math.round(R)||0)<2)return F;var j,J,q,$,et=F.length,st=2*et,yt=2*R-1,St=new Array(yt),Lt=new Array(et);for(j=0;j<yt;j++)St[j]=(1-Math.cos(Math.PI*(j+1)/R))/(2*R);for(j=0;j<et;j++){for($=0,J=0;J<yt;J++)(q=j+J+1-R)<-et?q-=st*Math.round(q/st):q>=st&&(q-=st*Math.floor(q/st)),q<0?q=-1-q:q>=et&&(q=st-1-q),$+=F[q]*St[J];Lt[j]=$}return Lt},o.syncOrAsync=function(F,R,j){var J;function q(){return o.syncOrAsync(F,R,j)}for(;F.length;)if((J=(0,F.splice(0,1)[0])(R))&&J.then)return J.then(q);return j&&j(R)},o.stripTrailingSlash=function(F){return F.substr(-1)==="/"?F.substr(0,F.length-1):F},o.noneOrAll=function(F,R,j){if(F){var J,q=!1,$=!0;for(J=0;J<j.length;J++)F[j[J]]!=null?q=!0:$=!1;if(q&&!$)for(J=0;J<j.length;J++)F[j[J]]=R[j[J]]}},o.mergeArray=function(F,R,j,J){var q=typeof J=="function";if(o.isArrayOrTypedArray(F))for(var $=Math.min(F.length,R.length),et=0;et<$;et++){var st=F[et];R[et][j]=q?J(st):st}},o.mergeArrayCastPositive=function(F,R,j){return o.mergeArray(F,R,j,function(J){var q=+J;return isFinite(q)&&q>0?q:0})},o.fillArray=function(F,R,j,J){if(J=J||o.identity,o.isArrayOrTypedArray(F))for(var q=0;q<R.length;q++)R[q][j]=J(F[q])},o.castOption=function(F,R,j,J){J=J||o.identity;var q=o.nestedProperty(F,j).get();return o.isArrayOrTypedArray(q)?Array.isArray(R)&&o.isArrayOrTypedArray(q[R[0]])?J(q[R[0]][R[1]]):J(q[R]):q},o.extractOption=function(F,R,j,J){if(j in F)return F[j];var q=o.nestedProperty(R,J).get();return Array.isArray(q)?void 0:q},o.tagSelected=function(F,R,j){var J,q,$=R.selectedpoints,et=R._indexToPoints;et&&(J=_(et));for(var st=0;st<$.length;st++){var yt=$[st];if(o.isIndex(yt)||o.isArrayOrTypedArray(yt)&&o.isIndex(yt[0])&&o.isIndex(yt[1])){var St=J?J[yt]:yt,Lt=j?j[St]:St;(q=Lt)!==void 0&&q<F.length&&(F[Lt].selected=1)}}},o.selIndices2selPoints=function(F){var R=F.selectedpoints,j=F._indexToPoints;if(j){for(var J=_(j),q=[],$=0;$<R.length;$++){var et=R[$];if(o.isIndex(et)){var st=J[et];o.isIndex(st)&&q.push(st)}}return q}return R},o.getTargetArray=function(F,R){var j=R.target;if(typeof j=="string"&&j){var J=o.nestedProperty(F,j).get();return!!Array.isArray(J)&&J}return!!Array.isArray(j)&&j},o.minExtend=function F(R,j,J){var q={};typeof j!="object"&&(j={});var $,et,st,yt=J==="pieLike"?-1:3,St=Object.keys(R);for($=0;$<St.length;$++)st=R[et=St[$]],et.charAt(0)!=="_"&&typeof st!="function"&&(et==="module"?q[et]=st:Array.isArray(st)?q[et]=et==="colorscale"||yt===-1?st.slice():st.slice(0,yt):o.isTypedArray(st)?q[et]=yt===-1?st.subarray():st.subarray(0,yt):q[et]=st&&typeof st=="object"?F(R[et],j[et],J):st);for(St=Object.keys(j),$=0;$<St.length;$++)typeof(st=j[et=St[$]])=="object"&&et in q&&typeof q[et]=="object"||(q[et]=st);return q},o.titleCase=function(F){return F.charAt(0).toUpperCase()+F.substr(1)},o.containsAny=function(F,R){for(var j=0;j<R.length;j++)if(F.indexOf(R[j])!==-1)return!0;return!1},o.isIE=function(){return window.navigator.msSaveBlob!==void 0};var I=/Version\/[\d\.]+.*Safari/;o.isSafari=function(){return I.test(window.navigator.userAgent)};var O=/iPad|iPhone|iPod/;o.isIOS=function(){return O.test(window.navigator.userAgent)};var N=/Firefox\/(\d+)\.\d+/;o.getFirefoxVersion=function(){var F=N.exec(window.navigator.userAgent);if(F&&F.length===2){var R=parseInt(F[1]);if(!isNaN(R))return R}return null},o.isD3Selection=function(F){return F instanceof f.selection},o.ensureSingle=function(F,R,j,J){var q=F.select(R+(j?"."+j:""));if(q.size())return q;var $=F.append(R);return j&&$.classed(j,!0),J&&$.call(J),$},o.ensureSingleById=function(F,R,j,J){var q=F.select(R+"#"+j);if(q.size())return q;var $=F.append(R).attr("id",j);return J&&$.call(J),$},o.objectFromPath=function(F,R){for(var j,J=F.split("."),q=j={},$=0;$<J.length;$++){var et=J[$],st=null,yt=J[$].match(/(.*)\[([0-9]+)\]/);yt?(et=yt[1],st=yt[2],j=j[et]=[],$===J.length-1?j[st]=R:j[st]={},j=j[st]):($===J.length-1?j[et]=R:j[et]={},j=j[et])}return q};var G=/^([^\[\.]+)\.(.+)?/,z=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function Y(F){return F.slice(0,2)==="__"}o.expandObjectPaths=function(F){var R,j,J,q,$,et,st;if(typeof F=="object"&&!Array.isArray(F)){for(j in F)if(F.hasOwnProperty(j))if(R=j.match(G)){if(q=F[j],Y(J=R[1]))continue;delete F[j],F[J]=o.extendDeepNoArrays(F[J]||{},o.objectFromPath(j,o.expandObjectPaths(q))[J])}else if(R=j.match(z)){if(q=F[j],Y(J=R[1]))continue;if($=parseInt(R[2]),delete F[j],F[J]=F[J]||[],R[3]===".")st=R[4],et=F[J][$]=F[J][$]||{},o.extendDeepNoArrays(et,o.objectFromPath(st,o.expandObjectPaths(q)));else{if(Y(J))continue;F[J][$]=o.expandObjectPaths(q)}}else{if(Y(j))continue;F[j]=o.expandObjectPaths(F[j])}}return F},o.numSeparate=function(F,R,j){if(j||(j=!1),typeof R!="string"||R.length===0)throw new Error("Separator string required for formatting!");typeof F=="number"&&(F=String(F));var J=/(\d+)(\d{3})/,q=R.charAt(0),$=R.charAt(1),et=F.split("."),st=et[0],yt=et.length>1?q+et[1]:"";if($&&(et.length>1||st.length>4||j))for(;J.test(st);)st=st.replace(J,"$1"+$+"$2");return st+yt},o.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var Z=/^\w*$/;o.templateString=function(F,R){var j={};return F.replace(o.TEMPLATE_STRING_REGEX,function(J,q){var $;return Z.test(q)?$=R[q]:(j[q]=j[q]||o.nestedProperty(R,q).get,$=j[q]()),o.isValidTextValue($)?$:""})};var nt={max:10,count:0,name:"hovertemplate"};o.hovertemplateString=function(){return tt.apply(nt,arguments)};var S={max:10,count:0,name:"texttemplate"};o.texttemplateString=function(){return tt.apply(S,arguments)};var E=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/,V={max:10,count:0,name:"texttemplate",parseMultDiv:!0};o.texttemplateStringForShapes=function(){return tt.apply(V,arguments)};var Q=/^[:|\|]/;function tt(F,R,j){var J=this,q=arguments;R||(R={});var $={};return F.replace(o.TEMPLATE_STRING_REGEX,function(et,st,yt){var St=st==="_xother"||st==="_yother",Lt=st==="_xother_"||st==="_yother_",It=st==="xother_"||st==="yother_",it=st==="xother"||st==="yother"||St||It||Lt,ft=st;(St||Lt)&&(ft=ft.substring(1)),(It||Lt)&&(ft=ft.substring(0,ft.length-1));var dt,xt,Pt,Ct=null,lt=null;if(J.parseMultDiv){var ht=function(Tt){var kt=Tt.match(E);return kt?{key:kt[1],op:kt[2],number:Number(kt[3])}:{key:Tt,op:null,number:null}}(ft);ft=ht.key,Ct=ht.op,lt=ht.number}if(it){if((dt=R[ft])===void 0)return""}else for(Pt=3;Pt<q.length;Pt++)if(xt=q[Pt]){if(xt.hasOwnProperty(ft)){dt=xt[ft];break}if(Z.test(ft)||(dt=o.nestedProperty(xt,ft).get(),(dt=$[ft]||o.nestedProperty(xt,ft).get())&&($[ft]=dt)),dt!==void 0)break}if(dt!==void 0&&(Ct==="*"&&(dt*=lt),Ct==="/"&&(dt/=lt)),dt===void 0&&J)return J.count<J.max&&(o.warn("Variable '"+ft+"' in "+J.name+" could not be found!"),dt=et),J.count===J.max&&o.warn("Too many "+J.name+" warnings - additional warnings will be suppressed"),J.count++,et;if(yt){var vt;if(yt[0]===":"&&(dt=(vt=j?j.numberFormat:o.numberFormat)(yt.replace(Q,""))(dt)),yt[0]==="|"){vt=j?j.timeFormat:g;var gt=o.dateTime2ms(dt);dt=o.formatDate(gt,yt.replace(Q,""),!1,vt)}}else{var mt=ft+"Label";R.hasOwnProperty(mt)&&(dt=R[mt])}return it&&(dt="("+dt+")",(St||Lt)&&(dt=" "+dt),(It||Lt)&&(dt+=" ")),dt})}o.subplotSort=function(F,R){for(var j=Math.min(F.length,R.length)+1,J=0,q=0,$=0;$<j;$++){var et=F.charCodeAt($)||0,st=R.charCodeAt($)||0,yt=et>=48&&et<=57,St=st>=48&&st<=57;if(yt&&(J=10*J+et-48),St&&(q=10*q+st-48),!yt||!St){if(J!==q)return J-q;if(et!==st)return et-st}}return q-J};var rt=2e9;o.seedPseudoRandom=function(){rt=2e9},o.pseudoRandom=function(){var F=rt;return rt=(69069*rt+1)%4294967296,Math.abs(rt-F)<429496729?o.pseudoRandom():rt/4294967296},o.fillText=function(F,R,j){var J=Array.isArray(j)?function(et){j.push(et)}:function(et){j.text=et},q=o.extractOption(F,R,"htx","hovertext");if(o.isValidTextValue(q))return J(q);var $=o.extractOption(F,R,"tx","text");return o.isValidTextValue($)?J($):void 0},o.isValidTextValue=function(F){return F||F===0},o.formatPercent=function(F,R){R=R||0;for(var j=(Math.round(100*F*Math.pow(10,R))*Math.pow(.1,R)).toFixed(R)+"%",J=0;J<R;J++)j.indexOf(".")!==-1&&(j=(j=j.replace("0%","%")).replace(".%","%"));return j},o.isHidden=function(F){var R=window.getComputedStyle(F).display;return!R||R==="none"},o.strTranslate=function(F,R){return F||R?"translate("+F+","+R+")":""},o.strRotate=function(F){return F?"rotate("+F+")":""},o.strScale=function(F){return F!==1?"scale("+F+")":""},o.getTextTransform=function(F){var R=F.noCenter,j=F.textX,J=F.textY,q=F.targetX,$=F.targetY,et=F.anchorX||0,st=F.anchorY||0,yt=F.rotate,St=F.scale;return St?St>1&&(St=1):St=0,o.strTranslate(q-St*(j+et),$-St*(J+st))+o.strScale(St)+(yt?"rotate("+yt+(R?"":" "+j+" "+J)+")":"")},o.setTransormAndDisplay=function(F,R){F.attr("transform",o.getTextTransform(R)),F.style("display",R.scale?null:"none")},o.ensureUniformFontSize=function(F,R){var j=o.extendFlat({},R);return j.size=Math.max(R.size,F._fullLayout.uniformtext.minsize||0),j},o.join2=function(F,R,j){var J=F.length;return J>1?F.slice(0,-1).join(R)+j+F[J-1]:F.join(R)},o.bigFont=function(F){return Math.round(1.2*F)};var ot=o.getFirefoxVersion(),H=ot!==null&&ot<86;o.getPositionFromD3Event=function(){return H?[f.event.layerX,f.event.layerY]:[f.event.offsetX,f.event.offsetY]}},1965:function(X){X.exports=function(d){return window&&window.process&&window.process.versions?Object.prototype.toString.call(d)==="[object Object]":Object.prototype.toString.call(d)==="[object Object]"&&Object.getPrototypeOf(d).hasOwnProperty("hasOwnProperty")}},6636:function(X,d,t){var f=t(5487),g=/^\w*$/;X.exports=function(a,n,e,r){var i,l,o;e=e||"name",r=r||"value";var c={};n&&n.length?(o=f(a,n),l=o.get()):l=a,n=n||"";var u={};if(l)for(i=0;i<l.length;i++)u[l[i][e]]=i;var h=g.test(r),y={set:function(m,v){var x=v===null?4:0;if(!l){if(!o||x===4)return;l=[],o.set(l)}var w=u[m];if(w===void 0){if(x===4)return;x|=3,w=l.length,u[m]=w}else v!==(h?l[w][r]:f(l[w],r).get())&&(x|=2);var p=l[w]=l[w]||{};return p[e]=m,h?p[r]=v:f(p,r).set(v),v!==null&&(x&=-5),c[w]=c[w]|x,y},get:function(m){if(l){var v=u[m];return v===void 0?void 0:h?l[v][r]:f(l[v],r).get()}},rename:function(m,v){var x=u[m];return x===void 0||(c[x]=1|c[x],u[v]=x,delete u[m],l[x][e]=v),y},remove:function(m){var v=u[m];if(v===void 0)return y;var x=l[v];if(Object.keys(x).length>2)return c[v]=2|c[v],y.set(m,null);if(h){for(i=v;i<l.length;i++)c[i]=3|c[i];for(i=v;i<l.length;i++)u[l[i][e]]--;l.splice(v,1),delete u[m]}else f(x,r).set(null),c[v]=6|c[v];return y},constructUpdate:function(){for(var m,v,x={},w=Object.keys(c),p=0;p<w.length;p++)v=w[p],m=n+"["+v+"]",l[v]?(1&c[v]&&(x[m+"."+e]=l[v][e]),2&c[v]&&(x[m+"."+r]=h?4&c[v]?null:l[v][r]:4&c[v]?null:f(l[v],r).get())):x[m]=null;return x}};return y}},5867:function(X,d,t){var f=t(3972);X.exports=function(g,a){for(var n=g._context.locale,e=0;e<2;e++){for(var r=g._context.locales,i=0;i<2;i++){var l=(r[n]||{}).dictionary;if(l){var o=l[a];if(o)return o}r=f.localeRegistry}var c=n.split("-")[0];if(c===n)break;n=c}return a}},7769:function(X,d,t){var f=t(2075).dfltConfig,g=t(5046),a=X.exports={};a.log=function(){var n;if(f.logging>1){var e=["LOG:"];for(n=0;n<arguments.length;n++)e.push(arguments[n]);console.trace.apply(console,e)}if(f.notifyOnLogging>1){var r=[];for(n=0;n<arguments.length;n++)r.push(arguments[n]);g(r.join("<br>"),"long")}},a.warn=function(){var n;if(f.logging>0){var e=["WARN:"];for(n=0;n<arguments.length;n++)e.push(arguments[n]);console.trace.apply(console,e)}if(f.notifyOnLogging>0){var r=[];for(n=0;n<arguments.length;n++)r.push(arguments[n]);g(r.join("<br>"),"stick")}},a.error=function(){var n;if(f.logging>0){var e=["ERROR:"];for(n=0;n<arguments.length;n++)e.push(arguments[n]);console.error.apply(console,e)}if(f.notifyOnLogging>0){var r=[];for(n=0;n<arguments.length;n++)r.push(arguments[n]);g(r.join("<br>"),"stick")}}},7310:function(X,d,t){var f=t(9898);X.exports=function(g,a,n){var e=g.selectAll("g."+n.replace(/\s/g,".")).data(a,function(i){return i[0].trace.uid});e.exit().remove(),e.enter().append("g").attr("class",n),e.order();var r=g.classed("rangeplot")?"nodeRangePlot3":"node3";return e.each(function(i){i[0][r]=f.select(this)}),e}},5657:function(X,d,t){var f=t(9576);d.init2dArray=function(g,a){for(var n=new Array(g),e=0;e<g;e++)n[e]=new Array(a);return n},d.transposeRagged=function(g){var a,n,e=0,r=g.length;for(a=0;a<r;a++)e=Math.max(e,g[a].length);var i=new Array(e);for(a=0;a<e;a++)for(i[a]=new Array(r),n=0;n<r;n++)i[a][n]=g[n][a];return i},d.dot=function(g,a){if(!g.length||!a.length||g.length!==a.length)return null;var n,e,r=g.length;if(g[0].length)for(n=new Array(r),e=0;e<r;e++)n[e]=d.dot(g[e],a);else if(a[0].length){var i=d.transposeRagged(a);for(n=new Array(i.length),e=0;e<i.length;e++)n[e]=d.dot(g,i[e])}else for(n=0,e=0;e<r;e++)n+=g[e]*a[e];return n},d.translationMatrix=function(g,a){return[[1,0,g],[0,1,a],[0,0,1]]},d.rotationMatrix=function(g){var a=g*Math.PI/180;return[[Math.cos(a),-Math.sin(a),0],[Math.sin(a),Math.cos(a),0],[0,0,1]]},d.rotationXYMatrix=function(g,a,n){return d.dot(d.dot(d.translationMatrix(a,n),d.rotationMatrix(g)),d.translationMatrix(-a,-n))},d.apply3DTransform=function(g){return function(){var a=arguments,n=arguments.length===1?a[0]:[a[0],a[1],a[2]||0];return d.dot(g,[n[0],n[1],n[2],1]).slice(0,3)}},d.apply2DTransform=function(g){return function(){var a=arguments;a.length===3&&(a=a[0]);var n=arguments.length===1?a[0]:[a[0],a[1]];return d.dot(g,[n[0],n[1],1]).slice(0,2)}},d.apply2DTransform2=function(g){var a=d.apply2DTransform(g);return function(n){return a(n.slice(0,2)).concat(a(n.slice(2,4)))}},d.convertCssMatrix=function(g){if(g){var a=g.length;if(a===16)return g;if(a===6)return[g[0],g[1],0,0,g[2],g[3],0,0,0,0,1,0,g[4],g[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},d.inverseTransformMatrix=function(g){var a=[];return f.invert(a,g),[[a[0],a[1],a[2],a[3]],[a[4],a[5],a[6],a[7]],[a[8],a[9],a[10],a[11]],[a[12],a[13],a[14],a[15]]]}},4872:function(X){X.exports={mod:function(d,t){var f=d%t;return f<0?f+t:f},modHalf:function(d,t){return Math.abs(d)>t/2?d-Math.round(d/t)*t:d}}},5487:function(X,d,t){var f=t(2770),g=t(3627).isArrayOrTypedArray;function a(c,u){return function(){var h,y,m,v,x,w=c;for(v=0;v<u.length-1;v++){if((h=u[v])===-1){for(y=!0,m=[],x=0;x<w.length;x++)m[x]=a(w[x],u.slice(v+1))(),m[x]!==m[0]&&(y=!1);return y?m[0]:m}if(typeof h=="number"&&!g(w)||typeof(w=w[h])!="object"||w===null)return}if(typeof w=="object"&&w!==null&&(m=w[u[v]])!==null)return m}}X.exports=function(c,u){if(f(u))u=String(u);else if(typeof u!="string"||u.substr(u.length-4)==="[-1]")throw"bad property string";var h,y,m,v,x=u.split(".");for(v=0;v<x.length;v++)if(String(x[v]).slice(0,2)==="__")throw"bad property string";for(v=0;v<x.length;){if(h=String(x[v]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(h[1])x[v]=h[1];else{if(v!==0)throw"bad property string";x.splice(0,1)}for(y=h[2].substr(1,h[2].length-2).split("]["),m=0;m<y.length;m++)v++,x.splice(v,0,Number(y[m]))}v++}return typeof c!="object"?function(w,p,b){return{set:function(){throw"bad container"},get:function(){},astr:p,parts:b,obj:w}}(c,u,x):{set:r(c,x,u),get:a(c,x),astr:u,parts:x,obj:c}};var n=/(^|\.)args\[/;function e(c,u){return c===void 0||c===null&&!u.match(n)}function r(c,u,h){return function(y){var m,v,x=c,w="",p=e(y,h);for(v=0;v<u.length-1;v++){if(typeof(m=u[v])=="number"&&!g(x))throw"array index but container is not an array";if(m===-1){if(p=!l(x,u.slice(v+1),y,h))break;return}if(!o(x,m,u[v+1],p))break;if(typeof(x=x[m])!="object"||x===null)throw"container is not an object";w=i(w,m)}if(p){if(v===u.length-1&&(delete x[u[v]],Array.isArray(x)&&+u[v]==x.length-1))for(;x.length&&x[x.length-1]===void 0;)x.pop()}else x[u[v]]=y}}function i(c,u){var h=u;return f(u)?h="["+u+"]":c&&(h="."+u),c+h}function l(c,u,h,y){var m,v=g(h),x=!0,w=h,p=y.replace("-1",0),b=!v&&e(h,p),T=u[0];for(m=0;m<c.length;m++)p=y.replace("-1",m),v&&(b=e(w=h[m%h.length],p)),b&&(x=!1),o(c,m,T,b)&&r(c[m],u,y.replace("-1",m))(w);return x}function o(c,u,h,y){if(c[u]===void 0){if(y)return!1;c[u]=typeof h=="number"?[]:{}}return!0}},4213:function(X){X.exports=function(){}},5046:function(X,d,t){var f=t(9898),g=t(2770),a=[];X.exports=function(n,e){if(a.indexOf(n)===-1){a.push(n);var r=1e3;g(e)?r=e:e==="long"&&(r=3e3);var i=f.select("body").selectAll(".plotly-notifier").data([0]);i.enter().append("div").classed("plotly-notifier",!0),i.selectAll(".notifier-note").data(a).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(o){var c=f.select(this);c.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){c.transition().call(l)});for(var u=c.append("p"),h=o.split(/<br\s*\/?>/g),y=0;y<h.length;y++)y&&u.append("br"),u.append("span").text(h[y]);e==="stick"?c.transition().duration(350).style("opacity",1):c.transition().duration(700).style("opacity",1).transition().delay(r).call(l)})}function l(o){o.duration(700).style("opacity",0).each("end",function(c){var u=a.indexOf(c);u!==-1&&a.splice(u,1),f.select(this).remove()})}}},9918:function(X,d,t){var f=t(6964),g="data-savedcursor";X.exports=function(a,n){var e=a.attr(g);if(n){if(!e){for(var r=(a.attr("class")||"").split(" "),i=0;i<r.length;i++){var l=r[i];l.indexOf("cursor-")===0&&a.attr(g,l.substr(7)).classed(l,!1)}a.attr(g)||a.attr(g,"!!")}f(a,n)}else e&&(a.attr(g,null),e==="!!"?f(a):f(a,e))}},1082:function(X,d,t){var f=t(5657).dot,g=t(606).BADNUM,a=X.exports={};a.tester=function(n){var e,r=n.slice(),i=r[0][0],l=i,o=r[0][1],c=o;for(r[r.length-1][0]===r[0][0]&&r[r.length-1][1]===r[0][1]||r.push(r[0]),e=1;e<r.length;e++)i=Math.min(i,r[e][0]),l=Math.max(l,r[e][0]),o=Math.min(o,r[e][1]),c=Math.max(c,r[e][1]);var u,h=!1;r.length===5&&(r[0][0]===r[1][0]?r[2][0]===r[3][0]&&r[0][1]===r[3][1]&&r[1][1]===r[2][1]&&(h=!0,u=function(v){return v[0]===r[0][0]}):r[0][1]===r[1][1]&&r[2][1]===r[3][1]&&r[0][0]===r[3][0]&&r[1][0]===r[2][0]&&(h=!0,u=function(v){return v[1]===r[0][1]}));var y=!0,m=r[0];for(e=1;e<r.length;e++)if(m[0]!==r[e][0]||m[1]!==r[e][1]){y=!1;break}return{xmin:i,xmax:l,ymin:o,ymax:c,pts:r,contains:h?function(v,x){var w=v[0],p=v[1];return!(w===g||w<i||w>l||p===g||p<o||p>c||x&&u(v))}:function(v,x){var w=v[0],p=v[1];if(w===g||w<i||w>l||p===g||p<o||p>c)return!1;var b,T,A,P,k,L=r.length,D=r[0][0],_=r[0][1],I=0;for(b=1;b<L;b++)if(T=D,A=_,D=r[b][0],_=r[b][1],!(w<(P=Math.min(T,D))||w>Math.max(T,D)||p>Math.max(A,_)))if(p<Math.min(A,_))w!==P&&I++;else{if(p===(k=D===T?p:A+(w-T)*(_-A)/(D-T)))return b!==1||!x;p<=k&&w!==P&&I++}return I%2==1},isRect:h,degenerate:y}},a.isSegmentBent=function(n,e,r,i){var l,o,c,u=n[e],h=[n[r][0]-u[0],n[r][1]-u[1]],y=f(h,h),m=Math.sqrt(y),v=[-h[1]/m,h[0]/m];for(l=e+1;l<r;l++)if(o=[n[l][0]-u[0],n[l][1]-u[1]],(c=f(o,h))<0||c>y||Math.abs(f(o,v))>i)return!0;return!1},a.filter=function(n,e){var r=[n[0]],i=0,l=0;function o(c){n.push(c);var u=r.length,h=i;r.splice(l+1);for(var y=h+1;y<n.length;y++)(y===n.length-1||a.isSegmentBent(n,h,y+1,e))&&(r.push(n[y]),r.length<u-2&&(i=y,l=r.length-1),h=y)}return n.length>1&&o(n.pop()),{addPt:o,raw:n,filtered:r}}},5142:function(X,d,t){var f=t(2770),g=t(5791);X.exports=function(a){var n;if(typeof(n=a&&a.hasOwnProperty("userAgent")?a.userAgent:function(){var u;return typeof navigator<"u"&&(u=navigator.userAgent),u&&u.headers&&typeof u.headers["user-agent"]=="string"&&(u=u.headers["user-agent"]),u}())!="string")return!0;var e=g({ua:{headers:{"user-agent":n}},tablet:!0,featureDetect:!1});if(!e){for(var r=n.split(" "),i=1;i<r.length;i++)if(r[i].indexOf("Safari")!==-1)for(var l=i-1;l>-1;l--){var o=r[l];if(o.substr(0,8)==="Version/"){var c=o.substr(8).split(".")[0];if(f(c)&&(c=+c),c>=13)return!0}}}return e}},5138:function(X){X.exports=function(d,t){if(t instanceof RegExp){for(var f=t.toString(),g=0;g<d.length;g++)if(d[g]instanceof RegExp&&d[g].toString()===f)return d;d.push(t)}else!t&&t!==0||d.indexOf(t)!==-1||d.push(t);return d}},847:function(X,d,t){var f=t(1828),g=t(2075).dfltConfig,a={add:function(n,e,r,i,l){var o,c;n.undoQueue=n.undoQueue||{index:0,queue:[],sequence:!1},c=n.undoQueue.index,n.autoplay?n.undoQueue.inSequence||(n.autoplay=!1):(!n.undoQueue.sequence||n.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},n.undoQueue.queue.splice(c,n.undoQueue.queue.length-c,o),n.undoQueue.index+=1):o=n.undoQueue.queue[c-1],n.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(e),o.undo.args.unshift(r),o.redo.calls.push(i),o.redo.args.push(l)),n.undoQueue.queue.length>g.queueLength&&(n.undoQueue.queue.shift(),n.undoQueue.index--))},startSequence:function(n){n.undoQueue=n.undoQueue||{index:0,queue:[],sequence:!1},n.undoQueue.sequence=!0,n.undoQueue.beginSequence=!0},stopSequence:function(n){n.undoQueue=n.undoQueue||{index:0,queue:[],sequence:!1},n.undoQueue.sequence=!1,n.undoQueue.beginSequence=!1},undo:function(n){var e,r;if(!(n.undoQueue===void 0||isNaN(n.undoQueue.index)||n.undoQueue.index<=0)){for(n.undoQueue.index--,e=n.undoQueue.queue[n.undoQueue.index],n.undoQueue.inSequence=!0,r=0;r<e.undo.calls.length;r++)a.plotDo(n,e.undo.calls[r],e.undo.args[r]);n.undoQueue.inSequence=!1,n.autoplay=!1}},redo:function(n){var e,r;if(!(n.undoQueue===void 0||isNaN(n.undoQueue.index)||n.undoQueue.index>=n.undoQueue.queue.length)){for(e=n.undoQueue.queue[n.undoQueue.index],n.undoQueue.inSequence=!0,r=0;r<e.redo.calls.length;r++)a.plotDo(n,e.redo.calls[r],e.redo.args[r]);n.undoQueue.inSequence=!1,n.autoplay=!1,n.undoQueue.index++}},plotDo:function(n,e,r){n.autoplay=!0,r=function(i,l){for(var o,c=[],u=0;u<l.length;u++)o=l[u],c[u]=o===i?o:typeof o=="object"?Array.isArray(o)?f.extendDeep([],o):f.extendDeepAll({},o):o;return c}(n,r),e.apply(null,r)}};X.exports=a},587:function(X,d){d.counter=function(t,f,g,a){var n=(f||"")+(g?"":"$"),e=a===!1?"":"^";return t==="xy"?new RegExp(e+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+n):new RegExp(e+t+"([2-9]|[1-9][0-9]+)?"+n)}},6962:function(X){var d=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,t=/^[^\.\[\]]+$/;X.exports=function(f,g){for(;g;){var a=f.match(d);if(a)f=a[1];else{if(!f.match(t))throw new Error("bad relativeAttr call:"+[f,g]);f=""}if(g.charAt(0)!=="^")break;g=g.slice(1)}return f&&g.charAt(0)!=="["?f+"."+g:f+g}},1332:function(X,d,t){var f=t(3627).isArrayOrTypedArray,g=t(1965);X.exports=function a(n,e){for(var r in e){var i=e[r],l=n[r];if(l!==i)if(r.charAt(0)==="_"||typeof i=="function"){if(r in n)continue;n[r]=i}else if(f(i)&&f(l)&&g(i[0])){if(r==="customdata"||r==="ids")continue;for(var o=Math.min(i.length,l.length),c=0;c<o;c++)l[c]!==i[c]&&g(i[c])&&g(l[c])&&a(l[c],i[c])}else g(i)&&g(l)&&(a(l,i),Object.keys(l).length||delete n[r])}}},5888:function(X,d,t){var f=t(2770),g=t(7769),a=t(3389),n=t(606).BADNUM,e=1e-9;function r(c,u){return c<u}function i(c,u){return c<=u}function l(c,u){return c>u}function o(c,u){return c>=u}d.findBin=function(c,u,h){if(f(u.start))return h?Math.ceil((c-u.start)/u.size-e)-1:Math.floor((c-u.start)/u.size+e);var y,m,v=0,x=u.length,w=0,p=x>1?(u[x-1]-u[0])/(x-1):1;for(m=p>=0?h?r:i:h?o:l,c+=p*e*(h?-1:1)*(p>=0?1:-1);v<x&&w++<100;)m(u[y=Math.floor((v+x)/2)],c)?v=y+1:x=y;return w>90&&g.log("Long binary search..."),v-1},d.sorterAsc=function(c,u){return c-u},d.sorterDes=function(c,u){return u-c},d.distinctVals=function(c){var u,h=c.slice();for(h.sort(d.sorterAsc),u=h.length-1;u>-1&&h[u]===n;u--);for(var y,m=h[u]-h[0]||1,v=m/(u||1)/1e4,x=[],w=0;w<=u;w++){var p=h[w],b=p-y;y===void 0?(x.push(p),y=p):b>v&&(m=Math.min(m,b),x.push(p),y=p)}return{vals:x,minDiff:m}},d.roundUp=function(c,u,h){for(var y,m=0,v=u.length-1,x=0,w=h?0:1,p=h?1:0,b=h?Math.ceil:Math.floor;m<v&&x++<100;)u[y=b((m+v)/2)]<=c?m=y+w:v=y-p;return u[m]},d.sort=function(c,u){for(var h=0,y=0,m=1;m<c.length;m++){var v=u(c[m],c[m-1]);if(v<0?h=1:v>0&&(y=1),h&&y)return c.sort(u)}return y?c:c.reverse()},d.findIndexOfMin=function(c,u){u=u||a;for(var h,y=1/0,m=0;m<c.length;m++){var v=u(c[m]);v<y&&(y=v,h=m)}return h}},6964:function(X){X.exports=function(d,t){(d.attr("class")||"").split(" ").forEach(function(f){f.indexOf("cursor-")===0&&d.classed(f,!1)}),t&&d.classed("cursor-"+t,!0)}},8607:function(X){X.exports=function(d){return Object.keys(d).sort()}},38:function(X,d,t){var f=t(2770),g=t(3627).isArrayOrTypedArray;d.aggNums=function(a,n,e,r){var i,l;if((!r||r>e.length)&&(r=e.length),f(n)||(n=!1),g(e[0])){for(l=new Array(r),i=0;i<r;i++)l[i]=d.aggNums(a,n,e[i]);e=l}for(i=0;i<r;i++)f(n)?f(e[i])&&(n=a(+n,+e[i])):n=e[i];return n},d.len=function(a){return d.aggNums(function(n){return n+1},0,a)},d.mean=function(a,n){return n||(n=d.len(a)),d.aggNums(function(e,r){return e+r},0,a)/n},d.midRange=function(a){if(a!==void 0&&a.length!==0)return(d.aggNums(Math.max,null,a)+d.aggNums(Math.min,null,a))/2},d.variance=function(a,n,e){return n||(n=d.len(a)),f(e)||(e=d.mean(a,n)),d.aggNums(function(r,i){return r+Math.pow(i-e,2)},0,a)/n},d.stdev=function(a,n,e){return Math.sqrt(d.variance(a,n,e))},d.median=function(a){var n=a.slice().sort();return d.interp(n,.5)},d.interp=function(a,n){if(!f(n))throw"n should be a finite number";if((n=n*a.length-.5)<0)return a[0];if(n>a.length-1)return a[a.length-1];var e=n%1;return e*a[Math.ceil(n)]+(1-e)*a[Math.floor(n)]}},3893:function(X,d,t){var f=t(9898),g=t(1828),a=g.strTranslate,n=t(7922),e=t(8783).LINE_SPACING,r=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;d.convertToTspans=function(z,Y,Z){var nt=z.text(),S=!z.attr("data-notex")&&Y&&Y._context.typesetMath&&typeof MathJax<"u"&&nt.match(r),E=f.select(z.node().parentNode);if(!E.empty()){var V=z.attr("class")?z.attr("class").split(" ")[0]:"text";return V+="-math",E.selectAll("svg."+V).remove(),E.selectAll("g."+V+"-group").remove(),z.style("display",null).attr({"data-unformatted":nt,"data-math":"N"}),S?(Y&&Y._promises||[]).push(new Promise(function(tt){z.style("display","none");var rt=parseInt(z.node().style.fontSize,10),ot={fontSize:rt};(function(H,F,R){var j,J,q,$,et=parseInt((MathJax.version||"").split(".")[0]);if(et===2||et===3){var st=function(){var St="math-output-"+g.randstr({},64),Lt=($=f.select("body").append("div").attr({id:St}).style({visibility:"hidden",position:"absolute","font-size":F.fontSize+"px"}).text(H.replace(i,"\\lt ").replace(l,"\\gt "))).node();return et===2?MathJax.Hub.Typeset(Lt):MathJax.typeset([Lt])},yt=function(){var St=$.select(et===2?".MathJax_SVG":".MathJax"),Lt=!St.empty()&&$.select("svg").node();if(Lt){var It,it=Lt.getBoundingClientRect();It=et===2?f.select("body").select("#MathJax_SVG_glyphs"):St.select("defs"),R(St,It,it)}else g.log("There was an error in the tex syntax.",H),R();$.remove()};et===2?MathJax.Hub.Queue(function(){return J=g.extendDeepAll({},MathJax.Hub.config),q=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:o},displayAlign:"left"})},function(){if((j=MathJax.Hub.config.menuSettings.renderer)!=="SVG")return MathJax.Hub.setRenderer("SVG")},st,yt,function(){if(j!=="SVG")return MathJax.Hub.setRenderer(j)},function(){return q!==void 0&&(MathJax.Hub.processSectionDelay=q),MathJax.Hub.Config(J)}):et===3&&(J=g.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=o,(j=MathJax.config.startup.output)!=="svg"&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){st(),yt(),j!=="svg"&&(MathJax.config.startup.output=j),MathJax.config=J}))}else g.warn("No MathJax version:",MathJax.version)})(S[2],ot,function(H,F,R){E.selectAll("svg."+V).remove(),E.selectAll("g."+V+"-group").remove();var j=H&&H.select("svg");if(!j||!j.node())return Q(),void tt();var J=E.append("g").classed(V+"-group",!0).attr({"pointer-events":"none","data-unformatted":nt,"data-math":"Y"});J.node().appendChild(j.node()),F&&F.node()&&j.node().insertBefore(F.node().cloneNode(!0),j.node().firstChild);var q=R.width,$=R.height;j.attr({class:V,height:$,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var et=z.node().style.fill||"black",st=j.select("g");st.attr({fill:et,stroke:et});var yt=st.node().getBoundingClientRect(),St=yt.width,Lt=yt.height;(St>q||Lt>$)&&(j.style("overflow","hidden"),St=(yt=j.node().getBoundingClientRect()).width,Lt=yt.height);var It=+z.attr("x"),it=+z.attr("y"),ft=-(rt||z.node().getBoundingClientRect().height)/4;if(V[0]==="y")J.attr({transform:"rotate("+[-90,It,it]+")"+a(-St/2,ft-Lt/2)});else if(V[0]==="l")it=ft-Lt/2;else if(V[0]==="a"&&V.indexOf("atitle")!==0)It=0,it=ft;else{var dt=z.attr("text-anchor");It-=St*(dt==="middle"?.5:dt==="end"?1:0),it=it+ft-Lt/2}j.attr({x:It,y:it}),Z&&Z.call(z,J),tt(J)})})):Q(),z}function Q(){E.empty()||(V=z.attr("class")+"-math",E.select("svg."+V).remove()),z.text("").style("white-space","pre");var tt=function(rt,ot){ot=ot.replace(v," ");var H,F=!1,R=[],j=-1;function J(){j++;var lt=document.createElementNS(n.svg,"tspan");f.select(lt).attr({class:"line",dy:j*e+"em"}),rt.appendChild(lt),H=lt;var ht=R;if(R=[{node:lt}],ht.length>1)for(var vt=1;vt<ht.length;vt++)q(ht[vt])}function q(lt){var ht,vt=lt.type,gt={};if(vt==="a"){ht="a";var mt=lt.target,Tt=lt.href,kt=lt.popup;Tt&&(gt={"xlink:xlink:show":mt==="_blank"||mt.charAt(0)!=="_"?"new":"replace",target:mt,"xlink:xlink:href":Tt},kt&&(gt.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+kt+'");return false;'))}else ht="tspan";lt.style&&(gt.style=lt.style);var _t=document.createElementNS(n.svg,ht);if(vt==="sup"||vt==="sub"){$(H,y),H.appendChild(_t);var At=document.createElementNS(n.svg,"tspan");$(At,y),f.select(At).attr("dy",h[vt]),gt.dy=u[vt],H.appendChild(_t),H.appendChild(At)}else H.appendChild(_t);f.select(_t).attr(gt),H=lt.node=_t,R.push(lt)}function $(lt,ht){lt.appendChild(document.createTextNode(ht))}function et(lt){if(R.length!==1){var ht=R.pop();lt!==ht.type&&g.log("Start tag <"+ht.type+"> doesnt match end tag <"+lt+">. Pretending it did match.",ot),H=R[R.length-1].node}else g.log("Ignoring unexpected end tag </"+lt+">.",ot)}p.test(ot)?J():(H=rt,R=[{node:rt}]);for(var st=ot.split(x),yt=0;yt<st.length;yt++){var St=st[yt],Lt=St.match(w),It=Lt&&Lt[2].toLowerCase(),it=c[It];if(It==="br")J();else if(it===void 0)$(H,I(St));else if(Lt[1])et(It);else{var ft=Lt[4],dt={type:It},xt=k(ft,b);if(xt?(xt=xt.replace(L,"$1 fill:"),it&&(xt+=";"+it)):it&&(xt=it),xt&&(dt.style=xt),It==="a"){F=!0;var Pt=k(ft,T);if(Pt){var Ct=O(Pt);Ct&&(dt.href=Ct,dt.target=k(ft,A)||"_blank",dt.popup=k(ft,P))}}q(dt)}}return F}(z.node(),nt);tt&&z.style("pointer-events","all"),d.positionText(z),Z&&Z.call(z)}};var i=/(<|&lt;|&#60;)/g,l=/(>|&gt;|&#62;)/g,o=[["$","$"],["\\(","\\)"]],c={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},u={sub:"0.3em",sup:"-0.6em"},h={sub:"-0.21em",sup:"0.42em"},y="",m=["http:","https:","mailto:","",void 0,":"],v=d.NEWLINES=/(\r\n?|\n)/g,x=/(<[^<>]*>)/,w=/<(\/?)([^ >]*)(\s+(.*))?>/i,p=/<br(\s+.*)?>/i;d.BR_TAG_ALL=/<br(\s+.*)?>/gi;var b=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,T=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,A=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,P=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function k(z,Y){if(!z)return null;var Z=z.match(Y),nt=Z&&(Z[3]||Z[4]);return nt&&I(nt)}var L=/(^|;)\s*color:/;d.plainText=function(z,Y){for(var Z=(Y=Y||{}).len!==void 0&&Y.len!==-1?Y.len:1/0,nt=Y.allowedTags!==void 0?Y.allowedTags:["br"],S=z.split(x),E=[],V="",Q=0,tt=0;tt<S.length;tt++){var rt=S[tt],ot=rt.match(w),H=ot&&ot[2].toLowerCase();if(H)nt.indexOf(H)!==-1&&(E.push(rt),V=H);else{var F=rt.length;if(Q+F<Z)E.push(rt),Q+=F;else if(Q<Z){var R=Z-Q;V&&(V!=="br"||R<=3||F<=3)&&E.pop(),Z>3?E.push(rt.substr(0,R-3)+"..."):E.push(rt.substr(0,R));break}V=""}}return E.join("")};var D={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},_=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function I(z){return z.replace(_,function(Y,Z){return(Z.charAt(0)==="#"?function(nt){if(!(nt>1114111)){var S=String.fromCodePoint;if(S)return S(nt);var E=String.fromCharCode;return nt<=65535?E(nt):E(55232+(nt>>10),nt%1024+56320)}}(Z.charAt(1)==="x"?parseInt(Z.substr(2),16):parseInt(Z.substr(1),10)):D[Z])||Y})}function O(z){var Y=encodeURI(decodeURI(z)),Z=document.createElement("a"),nt=document.createElement("a");Z.href=z,nt.href=Y;var S=Z.protocol,E=nt.protocol;return m.indexOf(S)!==-1&&m.indexOf(E)!==-1?Y:""}function N(z,Y,Z){var nt,S,E,V=Z.horizontalAlign,Q=Z.verticalAlign||"top",tt=z.node().getBoundingClientRect(),rt=Y.node().getBoundingClientRect();return S=Q==="bottom"?function(){return tt.bottom-nt.height}:Q==="middle"?function(){return tt.top+(tt.height-nt.height)/2}:function(){return tt.top},E=V==="right"?function(){return tt.right-nt.width}:V==="center"?function(){return tt.left+(tt.width-nt.width)/2}:function(){return tt.left},function(){nt=this.node().getBoundingClientRect();var ot=E()-rt.left,H=S()-rt.top,F=Z.gd||{};if(Z.gd){F._fullLayout._calcInverseTransform(F);var R=g.apply3DTransform(F._fullLayout._invTransform)(ot,H);ot=R[0],H=R[1]}return this.style({top:H+"px",left:ot+"px","z-index":1e3}),this}}d.convertEntities=I,d.sanitizeHTML=function(z){z=z.replace(v," ");for(var Y=document.createElement("p"),Z=Y,nt=[],S=z.split(x),E=0;E<S.length;E++){var V=S[E],Q=V.match(w),tt=Q&&Q[2].toLowerCase();if(tt in c)if(Q[1])nt.length&&(Z=nt.pop());else{var rt=Q[4],ot=k(rt,b),H=ot?{style:ot}:{};if(tt==="a"){var F=k(rt,T);if(F){var R=O(F);if(R){H.href=R;var j=k(rt,A);j&&(H.target=j)}}}var J=document.createElement(tt);Z.appendChild(J),f.select(J).attr(H),Z=J,nt.push(J)}else Z.appendChild(document.createTextNode(I(V)))}return Y.innerHTML},d.lineCount=function(z){return z.selectAll("tspan.line").size()||1},d.positionText=function(z,Y,Z){return z.each(function(){var nt=f.select(this);function S(Q,tt){return tt===void 0?(tt=nt.attr(Q))===null&&(nt.attr(Q,0),tt=0):nt.attr(Q,tt),tt}var E=S("x",Y),V=S("y",Z);this.nodeName==="text"&&nt.selectAll("tspan.line").attr({x:E,y:V})})};var G="1px ";d.makeTextShadow=function(z){return G+G+G+z+", -"+G+"-"+G+G+z+", "+G+"-"+G+G+z+", -"+G+G+G+z},d.makeEditable=function(z,Y){var Z=Y.gd,nt=Y.delegate,S=f.dispatch("edit","input","cancel"),E=nt||z;if(z.style({"pointer-events":nt?"none":"all"}),z.size()!==1)throw new Error("boo");function V(){var tt,rt,ot,H,F;tt=f.select(Z).select(".svg-container"),rt=tt.append("div"),ot=z.node().style,H=parseFloat(ot.fontSize||12),(F=Y.text)===void 0&&(F=z.attr("data-unformatted")),rt.classed("plugin-editable editable",!0).style({position:"absolute","font-family":ot.fontFamily||"Arial","font-size":H,color:Y.fill||ot.fill||"black",opacity:1,"background-color":Y.background||"transparent",outline:"#ffffff33 1px solid",margin:[-H/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(F).call(N(z,tt,Y)).on("blur",function(){Z._editing=!1,z.text(this.textContent).style({opacity:1});var J,q=f.select(this).attr("class");(J=q?"."+q.split(" ")[0]+"-math-group":"[class*=-math-group]")&&f.select(z.node().parentNode).select(J).style({opacity:0});var $=this.textContent;f.select(this).transition().duration(0).remove(),f.select(document).on("mouseup",null),S.edit.call(z,$)}).on("focus",function(){var J=this;Z._editing=!0,f.select(document).on("mouseup",function(){if(f.event.target===J)return!1;document.activeElement===rt.node()&&rt.node().blur()})}).on("keyup",function(){f.event.which===27?(Z._editing=!1,z.style({opacity:1}),f.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),S.cancel.call(z,this.textContent)):(S.input.call(z,this.textContent),f.select(this).call(N(z,tt,Y)))}).on("keydown",function(){f.event.which===13&&this.blur()}).call(Q),z.style({opacity:0});var R,j=E.attr("class");(R=j?"."+j.split(" ")[0]+"-math-group":"[class*=-math-group]")&&f.select(z.node().parentNode).select(R).style({opacity:0})}function Q(tt){var rt=tt.node(),ot=document.createRange();ot.selectNodeContents(rt);var H=window.getSelection();H.removeAllRanges(),H.addRange(ot),rt.focus()}return Y.immediate?V():E.on("click",V),f.rebind(z,S,"on")}},9990:function(X,d){var t={};function f(g){g&&g.timer!==null&&(clearTimeout(g.timer),g.timer=null)}d.throttle=function(g,a,n){var e=t[g],r=Date.now();if(!e){for(var i in t)t[i].ts<r-6e4&&delete t[i];e=t[g]={ts:0,timer:null}}function l(){n(),e.ts=Date.now(),e.onDone&&(e.onDone(),e.onDone=null)}f(e),r>e.ts+a?l():e.timer=setTimeout(function(){l(),e.timer=null},a)},d.done=function(g){var a=t[g];return a&&a.timer?new Promise(function(n){var e=a.onDone;a.onDone=function(){e&&e(),n(),a.onDone=null}}):Promise.resolve()},d.clear=function(g){if(g)f(t[g]),delete t[g];else for(var a in t)d.clear(a)}},8163:function(X,d,t){var f=t(2770);X.exports=function(g,a){if(g>0)return Math.log(g)/Math.LN10;var n=Math.log(Math.min(a[0],a[1]))/Math.LN10;return f(n)||(n=Math.log(Math.max(a[0],a[1]))/Math.LN10-6),n}},7815:function(X){X.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},2177:function(X){X.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},4458:function(X,d,t){var f=t(3972);X.exports=function(g){for(var a,n,e=f.layoutArrayContainers,r=f.layoutArrayRegexes,i=g.split("[")[0],l=0;l<r.length;l++)if((n=g.match(r[l]))&&n.index===0){a=n[0];break}if(a||(a=e[e.indexOf(i)]),!a)return!1;var o=g.substr(a.length);return o?!!(n=o.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:a,index:Number(n[1]),property:n[3]||""}:{array:a,index:"",property:""}}},962:function(X,d,t){var f=t(1426).extendFlat,g=t(1965),a={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},n={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},e=a.flags.slice().concat(["fullReplot"]),r=n.flags.slice().concat("layoutReplot");function i(c){for(var u={},h=0;h<c.length;h++)u[c[h]]=!1;return u}function l(c,u,h){var y=f({},c);for(var m in y){var v=y[m];g(v)&&(y[m]=o(v,u,0,m))}return h==="from-root"&&(y.editType=u),y}function o(c,u,h,y){if(c.valType){var m=f({},c);if(m.editType=u,Array.isArray(c.items)){m.items=new Array(c.items.length);for(var v=0;v<c.items.length;v++)m.items[v]=o(c.items[v],u)}return m}return l(c,u,y.charAt(0)==="_"?"nested":"from-root")}X.exports={traces:a,layout:n,traceFlags:function(){return i(e)},layoutFlags:function(){return i(r)},update:function(c,u){var h=u.editType;if(h&&h!=="none")for(var y=h.split("+"),m=0;m<y.length;m++)c[y[m]]=!0},overrideAll:l}},8377:function(X,d,t){var f=t(2770),g=t(7812),a=t(3972),n=t(1828),e=t(4875),r=t(1675),i=t(7901),l=r.cleanId,o=r.getFromTrace,c=a.traceIs;function u(T,A){var P=T[A],k=A.charAt(0);P&&P!=="paper"&&(T[A]=l(P,k,!0))}function h(T){function A(P,k){var L=T[P],D=T.title&&T.title[k];L&&!D&&(T.title||(T.title={}),T.title[k]=T[P],delete T[P])}T&&(typeof T.title!="string"&&typeof T.title!="number"||(T.title={text:T.title}),A("titlefont","font"),A("titleposition","position"),A("titleside","side"),A("titleoffset","offset"))}function y(T){if(!n.isPlainObject(T))return!1;var A=T.name;return delete T.name,delete T.showlegend,(typeof A=="string"||typeof A=="number")&&String(A)}function m(T,A,P,k){if(P&&!k)return T;if(k&&!P||!T.trim())return A;if(!A.trim())return T;var L,D=Math.min(T.length,A.length);for(L=0;L<D&&T.charAt(L)===A.charAt(L);L++);return T.substr(0,L).trim()}function v(T){var A="middle",P="center";return typeof T=="string"&&(T.indexOf("top")!==-1?A="top":T.indexOf("bottom")!==-1&&(A="bottom"),T.indexOf("left")!==-1?P="left":T.indexOf("right")!==-1&&(P="right")),A+" "+P}function x(T,A){return A in T&&typeof T[A]=="object"&&Object.keys(T[A]).length===0}d.clearPromiseQueue=function(T){Array.isArray(T._promises)&&T._promises.length>0&&n.log("Clearing previous rejected promises from queue."),T._promises=[]},d.cleanLayout=function(T){var A,P;T||(T={}),T.xaxis1&&(T.xaxis||(T.xaxis=T.xaxis1),delete T.xaxis1),T.yaxis1&&(T.yaxis||(T.yaxis=T.yaxis1),delete T.yaxis1),T.scene1&&(T.scene||(T.scene=T.scene1),delete T.scene1);var k=(e.subplotsRegistry.cartesian||{}).attrRegex,L=(e.subplotsRegistry.polar||{}).attrRegex,D=(e.subplotsRegistry.ternary||{}).attrRegex,_=(e.subplotsRegistry.gl3d||{}).attrRegex,I=Object.keys(T);for(A=0;A<I.length;A++){var O=I[A];if(k&&k.test(O)){var N=T[O];N.anchor&&N.anchor!=="free"&&(N.anchor=l(N.anchor)),N.overlaying&&(N.overlaying=l(N.overlaying)),N.type||(N.isdate?N.type="date":N.islog?N.type="log":N.isdate===!1&&N.islog===!1&&(N.type="linear")),N.autorange!=="withzero"&&N.autorange!=="tozero"||(N.autorange=!0,N.rangemode="tozero"),N.insiderange&&delete N.range,delete N.islog,delete N.isdate,delete N.categories,x(N,"domain")&&delete N.domain,N.autotick!==void 0&&(N.tickmode===void 0&&(N.tickmode=N.autotick?"auto":"linear"),delete N.autotick),h(N)}else if(L&&L.test(O))h(T[O].radialaxis);else if(D&&D.test(O)){var G=T[O];h(G.aaxis),h(G.baxis),h(G.caxis)}else if(_&&_.test(O)){var z=T[O],Y=z.cameraposition;if(Array.isArray(Y)&&Y[0].length===4){var Z=Y[0],nt=Y[1],S=Y[2],E=g([],Z),V=[];for(P=0;P<3;++P)V[P]=nt[P]+S*E[2+4*P];z.camera={eye:{x:V[0],y:V[1],z:V[2]},center:{x:nt[0],y:nt[1],z:nt[2]},up:{x:0,y:0,z:1}},delete z.cameraposition}h(z.xaxis),h(z.yaxis),h(z.zaxis)}}var Q=Array.isArray(T.annotations)?T.annotations.length:0;for(A=0;A<Q;A++){var tt=T.annotations[A];n.isPlainObject(tt)&&(tt.ref&&(tt.ref==="paper"?(tt.xref="paper",tt.yref="paper"):tt.ref==="data"&&(tt.xref="x",tt.yref="y"),delete tt.ref),u(tt,"xref"),u(tt,"yref"))}var rt=Array.isArray(T.shapes)?T.shapes.length:0;for(A=0;A<rt;A++){var ot=T.shapes[A];n.isPlainObject(ot)&&(u(ot,"xref"),u(ot,"yref"))}var H=Array.isArray(T.images)?T.images.length:0;for(A=0;A<H;A++){var F=T.images[A];n.isPlainObject(F)&&(u(F,"xref"),u(F,"yref"))}var R=T.legend;return R&&(R.x>3?(R.x=1.02,R.xanchor="left"):R.x<-2&&(R.x=-.02,R.xanchor="right"),R.y>3?(R.y=1.02,R.yanchor="bottom"):R.y<-2&&(R.y=-.02,R.yanchor="top")),h(T),T.dragmode==="rotate"&&(T.dragmode="orbit"),i.clean(T),T.template&&T.template.layout&&d.cleanLayout(T.template.layout),T},d.cleanData=function(T){for(var A=0;A<T.length;A++){var P,k=T[A];if(k.type==="histogramy"&&"xbins"in k&&!("ybins"in k)&&(k.ybins=k.xbins,delete k.xbins),k.error_y&&"opacity"in k.error_y){var L=i.defaults,D=k.error_y.color||(c(k,"bar")?i.defaultLine:L[A%L.length]);k.error_y.color=i.addOpacity(i.rgb(D),i.opacity(D)*k.error_y.opacity),delete k.error_y.opacity}if("bardir"in k&&(k.bardir!=="h"||!c(k,"bar")&&k.type.substr(0,9)!=="histogram"||(k.orientation="h",d.swapXYData(k)),delete k.bardir),k.type==="histogramy"&&d.swapXYData(k),k.type!=="histogramx"&&k.type!=="histogramy"||(k.type="histogram"),"scl"in k&&!("colorscale"in k)&&(k.colorscale=k.scl,delete k.scl),"reversescl"in k&&!("reversescale"in k)&&(k.reversescale=k.reversescl,delete k.reversescl),k.xaxis&&(k.xaxis=l(k.xaxis,"x")),k.yaxis&&(k.yaxis=l(k.yaxis,"y")),c(k,"gl3d")&&k.scene&&(k.scene=e.subplotsRegistry.gl3d.cleanId(k.scene)),!c(k,"pie-like")&&!c(k,"bar-like"))if(Array.isArray(k.textposition))for(P=0;P<k.textposition.length;P++)k.textposition[P]=v(k.textposition[P]);else k.textposition&&(k.textposition=v(k.textposition));var _=a.getModule(k);if(_&&_.colorbar){var I=_.colorbar.container,O=I?k[I]:k;O&&O.colorscale&&(O.colorscale==="YIGnBu"&&(O.colorscale="YlGnBu"),O.colorscale==="YIOrRd"&&(O.colorscale="YlOrRd"))}if(k.type==="surface"&&n.isPlainObject(k.contours)){var N=["x","y","z"];for(P=0;P<N.length;P++){var G=k.contours[N[P]];n.isPlainObject(G)&&(G.highlightColor&&(G.highlightcolor=G.highlightColor,delete G.highlightColor),G.highlightWidth&&(G.highlightwidth=G.highlightWidth,delete G.highlightWidth))}}if(k.type==="candlestick"||k.type==="ohlc"){var z=(k.increasing||{}).showlegend!==!1,Y=(k.decreasing||{}).showlegend!==!1,Z=y(k.increasing),nt=y(k.decreasing);if(Z!==!1&&nt!==!1){var S=m(Z,nt,z,Y);S&&(k.name=S)}else!Z&&!nt||k.name||(k.name=Z||nt)}if(Array.isArray(k.transforms)){var E=k.transforms;for(P=0;P<E.length;P++){var V=E[P];if(n.isPlainObject(V))switch(V.type){case"filter":V.filtersrc&&(V.target=V.filtersrc,delete V.filtersrc),V.calendar&&(V.valuecalendar||(V.valuecalendar=V.calendar),delete V.calendar);break;case"groupby":if(V.styles=V.styles||V.style,V.styles&&!Array.isArray(V.styles)){var Q=V.styles,tt=Object.keys(Q);V.styles=[];for(var rt=0;rt<tt.length;rt++)V.styles.push({target:tt[rt],value:Q[tt[rt]]})}}}}x(k,"line")&&delete k.line,"marker"in k&&(x(k.marker,"line")&&delete k.marker.line,x(k,"marker")&&delete k.marker),i.clean(k),k.autobinx&&(delete k.autobinx,delete k.xbins),k.autobiny&&(delete k.autobiny,delete k.ybins),h(k),k.colorbar&&h(k.colorbar),k.marker&&k.marker.colorbar&&h(k.marker.colorbar),k.line&&k.line.colorbar&&h(k.line.colorbar),k.aaxis&&h(k.aaxis),k.baxis&&h(k.baxis)}},d.swapXYData=function(T){var A;if(n.swapAttrs(T,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(T.z)&&Array.isArray(T.z[0])&&(T.transpose?delete T.transpose:T.transpose=!0),T.error_x&&T.error_y){var P=T.error_y,k="copy_ystyle"in P?P.copy_ystyle:!(P.color||P.thickness||P.width);n.swapAttrs(T,["error_?.copy_ystyle"]),k&&n.swapAttrs(T,["error_?.color","error_?.thickness","error_?.width"])}if(typeof T.hoverinfo=="string"){var L=T.hoverinfo.split("+");for(A=0;A<L.length;A++)L[A]==="x"?L[A]="y":L[A]==="y"&&(L[A]="x");T.hoverinfo=L.join("+")}},d.coerceTraceIndices=function(T,A){if(f(A))return[A];if(!Array.isArray(A)||!A.length)return T.data.map(function(L,D){return D});if(Array.isArray(A)){for(var P=[],k=0;k<A.length;k++)n.isIndex(A[k],T.data.length)?P.push(A[k]):n.warn("trace index (",A[k],") is not a number or is out of bounds");return P}return A},d.manageArrayContainers=function(T,A,P){var k=T.obj,L=T.parts,D=L.length,_=L[D-1],I=f(_);if(I&&A===null){var O=L.slice(0,D-1).join(".");n.nestedProperty(k,O).get().splice(_,1)}else I&&T.get()===void 0&&T.get()===void 0&&(P[T.astr]=null),T.set(A)};var w=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function p(T){var A=T.search(w);if(A>0)return T.substr(0,A)}d.hasParent=function(T,A){for(var P=p(A);P;){if(P in T)return!0;P=p(P)}return!1};var b=["x","y","z"];d.clearAxisTypes=function(T,A,P){for(var k=0;k<A.length;k++)for(var L=T._fullData[k],D=0;D<3;D++){var _=o(T,L,b[D]);if(_&&_.type!=="log"){var I=_._name,O=_._id.substr(1);if(O.substr(0,5)==="scene"){if(P[O]!==void 0)continue;I=O+"."+I}var N=I+".type";P[I]===void 0&&P[N]===void 0&&n.nestedProperty(T.layout,N).set(null)}}}},641:function(X,d,t){var f=t(2391);d._doPlot=f._doPlot,d.newPlot=f.newPlot,d.restyle=f.restyle,d.relayout=f.relayout,d.redraw=f.redraw,d.update=f.update,d._guiRestyle=f._guiRestyle,d._guiRelayout=f._guiRelayout,d._guiUpdate=f._guiUpdate,d._storeDirectGUIEdit=f._storeDirectGUIEdit,d.react=f.react,d.extendTraces=f.extendTraces,d.prependTraces=f.prependTraces,d.addTraces=f.addTraces,d.deleteTraces=f.deleteTraces,d.moveTraces=f.moveTraces,d.purge=f.purge,d.addFrames=f.addFrames,d.deleteFrames=f.deleteFrames,d.animate=f.animate,d.setPlotConfig=f.setPlotConfig;var g=t(4401).getGraphDiv,a=t(4031).eraseActiveShape;d.deleteActiveShape=function(e){return a(g(e))},d.toImage=t(403),d.validate=t(4936),d.downloadImage=t(7239);var n=t(6318);d.makeTemplate=n.makeTemplate,d.validateTemplate=n.validateTemplate},6611:function(X,d,t){var f=t(1965),g=t(4213),a=t(7769),n=t(5888).sorterAsc,e=t(3972);d.containerArrayMatch=t(4458);var r=d.isAddVal=function(l){return l==="add"||f(l)},i=d.isRemoveVal=function(l){return l===null||l==="remove"};d.applyContainerArrayChanges=function(l,o,c,u,h){var y=o.astr,m=e.getComponentMethod(y,"supplyLayoutDefaults"),v=e.getComponentMethod(y,"draw"),x=e.getComponentMethod(y,"drawOne"),w=u.replot||u.recalc||m===g||v===g,p=l.layout,b=l._fullLayout;if(c[""]){Object.keys(c).length>1&&a.warn("Full array edits are incompatible with other edits",y);var T=c[""][""];if(i(T))o.set(null);else{if(!Array.isArray(T))return a.warn("Unrecognized full array edit value",y,T),!0;o.set(T)}return!w&&(m(p,b),v(l),!0)}var A,P,k,L,D,_,I,O,N=Object.keys(c).map(Number).sort(n),G=o.get(),z=G||[],Y=h(b,y).get(),Z=[],nt=-1,S=z.length;for(A=0;A<N.length;A++)if(L=c[k=N[A]],D=Object.keys(L),_=L[""],I=r(_),k<0||k>z.length-(I?0:1))a.warn("index out of range",y,k);else if(_!==void 0)D.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",y,k),i(_)?Z.push(k):I?(_==="add"&&(_={}),z.splice(k,0,_),Y&&Y.splice(k,0,{})):a.warn("Unrecognized full object edit value",y,k,_),nt===-1&&(nt=k);else for(P=0;P<D.length;P++)O=y+"["+k+"].",h(z[k],D[P],O).set(L[D[P]]);for(A=Z.length-1;A>=0;A--)z.splice(Z[A],1),Y&&Y.splice(Z[A],1);if(z.length?G||o.set(z):o.set(null),w)return!1;if(m(p,b),x!==g){var E;if(nt===-1)E=N;else{for(S=Math.max(z.length,S),E=[],A=0;A<N.length&&!((k=N[A])>=nt);A++)E.push(k);for(A=nt;A<S;A++)E.push(A)}for(A=0;A<E.length;A++)x(l,E[A])}else v(l);return!0}},2391:function(X,d,t){var f=t(9898),g=t(2770),a=t(7035),n=t(1828),e=n.nestedProperty,r=t(1086),i=t(847),l=t(3972),o=t(6281),c=t(4875),u=t(9298),h=t(3608),y=t(3838),m=t(1424),v=t(7901),x=t(4305).initInteractions,w=t(7922),p=t(7322).clearOutline,b=t(2075).dfltConfig,T=t(6611),A=t(8377),P=t(1549),k=t(962),L=t(5555).AX_NAME_PATTERN,D=0;function _(lt){var ht=lt._fullLayout;ht._redrawFromAutoMarginCount?ht._redrawFromAutoMarginCount--:lt.emit("plotly_afterplot")}function I(lt,ht){try{lt._fullLayout._paper.style("background",ht)}catch(vt){n.error(vt)}}function O(lt,ht){I(lt,v.combine(ht,"white"))}function N(lt,ht){if(!lt._context){lt._context=n.extendDeep({},b);var vt=f.select("base");lt._context._baseUrl=vt.size()&&vt.attr("href")?window.location.href.split("#")[0]:""}var gt,mt,Tt,kt=lt._context;if(ht){for(mt=Object.keys(ht),gt=0;gt<mt.length;gt++)(Tt=mt[gt])!=="editable"&&Tt!=="edits"&&Tt in kt&&(Tt==="setBackground"&&ht[Tt]==="opaque"?kt[Tt]=O:kt[Tt]=ht[Tt]);ht.plot3dPixelRatio&&!kt.plotGlPixelRatio&&(kt.plotGlPixelRatio=kt.plot3dPixelRatio);var _t=ht.editable;if(_t!==void 0)for(kt.editable=_t,mt=Object.keys(kt.edits),gt=0;gt<mt.length;gt++)kt.edits[mt[gt]]=_t;if(ht.edits)for(mt=Object.keys(ht.edits),gt=0;gt<mt.length;gt++)(Tt=mt[gt])in kt.edits&&(kt.edits[Tt]=ht.edits[Tt]);kt._exportedPlot=ht._exportedPlot}kt.staticPlot&&(kt.editable=!1,kt.edits={},kt.autosizable=!1,kt.scrollZoom=!1,kt.doubleClick=!1,kt.showTips=!1,kt.showLink=!1,kt.displayModeBar=!1),kt.displayModeBar!=="hover"||a||(kt.displayModeBar=!0),kt.setBackground!=="transparent"&&typeof kt.setBackground=="function"||(kt.setBackground=I),kt._hasZeroHeight=kt._hasZeroHeight||lt.clientHeight===0,kt._hasZeroWidth=kt._hasZeroWidth||lt.clientWidth===0;var At=kt.scrollZoom,Mt=kt._scrollZoom={};if(At===!0)Mt.cartesian=1,Mt.gl3d=1,Mt.geo=1,Mt.mapbox=1;else if(typeof At=="string"){var Rt=At.split("+");for(gt=0;gt<Rt.length;gt++)Mt[Rt[gt]]=1}else At!==!1&&(Mt.gl3d=1,Mt.geo=1,Mt.mapbox=1)}function G(lt,ht){var vt,gt,mt=ht+1,Tt=[];for(vt=0;vt<lt.length;vt++)(gt=lt[vt])<0?Tt.push(mt+gt):Tt.push(gt);return Tt}function z(lt,ht,vt){var gt,mt;for(gt=0;gt<ht.length;gt++){if((mt=ht[gt])!==parseInt(mt,10))throw new Error("all values in "+vt+" must be integers");if(mt>=lt.data.length||mt<-lt.data.length)throw new Error(vt+" must be valid indices for gd.data.");if(ht.indexOf(mt,gt+1)>-1||mt>=0&&ht.indexOf(-lt.data.length+mt)>-1||mt<0&&ht.indexOf(lt.data.length+mt)>-1)throw new Error("each index in "+vt+" must be unique.")}}function Y(lt,ht,vt){if(!Array.isArray(lt.data))throw new Error("gd.data must be an array.");if(ht===void 0)throw new Error("currentIndices is a required argument.");if(Array.isArray(ht)||(ht=[ht]),z(lt,ht,"currentIndices"),vt===void 0||Array.isArray(vt)||(vt=[vt]),vt!==void 0&&z(lt,vt,"newIndices"),vt!==void 0&&ht.length!==vt.length)throw new Error("current and new indices must be of equal length.")}function Z(lt,ht,vt,gt,mt){(function(zt,Xt,Kt,se){var de=n.isPlainObject(se);if(!Array.isArray(zt.data))throw new Error("gd.data must be an array");if(!n.isPlainObject(Xt))throw new Error("update must be a key:value object");if(Kt===void 0)throw new Error("indices must be an integer or array of integers");for(var xe in z(zt,Kt,"indices"),Xt){if(!Array.isArray(Xt[xe])||Xt[xe].length!==Kt.length)throw new Error("attribute "+xe+" must be an array of length equal to indices array length");if(de&&(!(xe in se)||!Array.isArray(se[xe])||se[xe].length!==Xt[xe].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}})(lt,ht,vt,gt);for(var Tt=function(zt,Xt,Kt,se){var de,xe,Dt,wt,Ut,Wt=n.isPlainObject(se),me=[];for(var Vt in Array.isArray(Kt)||(Kt=[Kt]),Kt=G(Kt,zt.data.length-1),Xt)for(var ne=0;ne<Kt.length;ne++){if(de=zt.data[Kt[ne]],xe=(Dt=e(de,Vt)).get(),wt=Xt[Vt][ne],!n.isArrayOrTypedArray(wt))throw new Error("attribute: "+Vt+" index: "+ne+" must be an array");if(!n.isArrayOrTypedArray(xe))throw new Error("cannot extend missing or non-array attribute: "+Vt);if(xe.constructor!==wt.constructor)throw new Error("cannot extend array with an array of a different type: "+Vt);Ut=Wt?se[Vt][ne]:se,g(Ut)||(Ut=-1),me.push({prop:Dt,target:xe,insert:wt,maxp:Math.floor(Ut)})}return me}(lt,ht,vt,gt),kt={},_t={},At=0;At<Tt.length;At++){var Mt=Tt[At].prop,Rt=Tt[At].maxp,Yt=mt(Tt[At].target,Tt[At].insert,Rt);Mt.set(Yt[0]),Array.isArray(kt[Mt.astr])||(kt[Mt.astr]=[]),kt[Mt.astr].push(Yt[1]),Array.isArray(_t[Mt.astr])||(_t[Mt.astr]=[]),_t[Mt.astr].push(Tt[At].target.length)}return{update:kt,maxPoints:_t}}function nt(lt,ht){var vt=new lt.constructor(lt.length+ht.length);return vt.set(lt),vt.set(ht,lt.length),vt}function S(lt,ht,vt,gt){lt=n.getGraphDiv(lt),A.clearPromiseQueue(lt);var mt={};if(typeof ht=="string")mt[ht]=vt;else{if(!n.isPlainObject(ht))return n.warn("Restyle fail.",ht,vt,gt),Promise.reject();mt=n.extendFlat({},ht),gt===void 0&&(gt=vt)}Object.keys(mt).length&&(lt.changed=!0);var Tt=A.coerceTraceIndices(lt,gt),kt=tt(lt,mt,Tt),_t=kt.flags;_t.calc&&(lt.calcdata=void 0),_t.clearAxisTypes&&A.clearAxisTypes(lt,Tt,{});var At=[];_t.fullReplot?At.push(d._doPlot):(At.push(c.previousPromises),c.supplyDefaults(lt),_t.markerSize&&(c.doCalcdata(lt),F(At)),_t.style&&At.push(P.doTraceStyle),_t.colorbars&&At.push(P.doColorBars),At.push(_)),At.push(c.rehover,c.redrag,c.reselect),i.add(lt,S,[lt,kt.undoit,kt.traces],S,[lt,kt.redoit,kt.traces]);var Mt=n.syncOrAsync(At,lt);return Mt&&Mt.then||(Mt=Promise.resolve()),Mt.then(function(){return lt.emit("plotly_restyle",kt.eventData),lt})}function E(lt){return lt===void 0?null:lt}function V(lt,ht){return ht?function(vt,gt,mt){var Tt=e(vt,gt),kt=Tt.set;return Tt.set=function(_t){Q((mt||"")+gt,Tt.get(),_t,lt),kt(_t)},Tt}:e}function Q(lt,ht,vt,gt){if(Array.isArray(ht)||Array.isArray(vt))for(var mt=Array.isArray(ht)?ht:[],Tt=Array.isArray(vt)?vt:[],kt=Math.max(mt.length,Tt.length),_t=0;_t<kt;_t++)Q(lt+"["+_t+"]",mt[_t],Tt[_t],gt);else if(n.isPlainObject(ht)||n.isPlainObject(vt)){var At=n.isPlainObject(ht)?ht:{},Mt=n.isPlainObject(vt)?vt:{},Rt=n.extendFlat({},At,Mt);for(var Yt in Rt)Q(lt+"."+Yt,At[Yt],Mt[Yt],gt)}else gt[lt]===void 0&&(gt[lt]=E(ht))}function tt(lt,ht,vt){var gt,mt=lt._fullLayout,Tt=lt._fullData,kt=lt.data,_t=mt._guiEditing,At=V(mt._preGUI,_t),Mt=n.extendDeepAll({},ht);rt(ht);var Rt,Yt=k.traceFlags(),zt={},Xt={};function Kt(){return vt.map(function(){})}function se(re){var $t=u.id2name(re);Rt.indexOf($t)===-1&&Rt.push($t)}function de(re){return"LAYOUT"+re+".autorange"}function xe(re){return"LAYOUT"+re+".range"}function Dt(re){for(var $t=re;$t<Tt.length;$t++)if(Tt[$t]._input===kt[re])return Tt[$t]}function wt(re,$t,ve){if(Array.isArray(re))re.forEach(function(je){wt(je,$t,ve)});else if(!(re in ht)&&!A.hasParent(ht,re)){var Ee;if(re.substr(0,6)==="LAYOUT")Ee=At(lt.layout,re.replace("LAYOUT",""));else{var Fe=vt[ve];Ee=V(mt._tracePreGUI[Dt(Fe)._fullInput.uid],_t)(kt[Fe],re)}re in Xt||(Xt[re]=Kt()),Xt[re][ve]===void 0&&(Xt[re][ve]=E(Ee.get())),$t!==void 0&&Ee.set($t)}}function Ut(re){return function($t){return Tt[$t][re]}}function Wt(re){return function($t,ve){return $t===!1?Tt[vt[ve]][re]:null}}for(var me in ht){if(A.hasParent(ht,me))throw new Error("cannot set "+me+" and a parent attribute simultaneously");var Vt,ne,ie,_e,he,De,fe=ht[me];if(me!=="autobinx"&&me!=="autobiny"||(me=me.charAt(me.length-1)+"bins",fe=Array.isArray(fe)?fe.map(Wt(me)):fe===!1?vt.map(Ut(me)):null),zt[me]=fe,me.substr(0,6)!=="LAYOUT"){for(Xt[me]=Kt(),gt=0;gt<vt.length;gt++)if(Vt=kt[vt[gt]],ne=Dt(vt[gt]),_e=(ie=V(mt._tracePreGUI[ne._fullInput.uid],_t)(Vt,me)).get(),(he=Array.isArray(fe)?fe[gt%fe.length]:fe)!==void 0){var K=ie.parts[ie.parts.length-1],at=me.substr(0,me.length-K.length-1),Et=at?at+".":"",Ot=at?e(ne,at).get():ne;if((De=o.getTraceValObject(ne,ie.parts))&&De.impliedEdits&&he!==null)for(var Bt in De.impliedEdits)wt(n.relativeAttr(me,Bt),De.impliedEdits[Bt],gt);else if(K!=="thicknessmode"&&K!=="lenmode"||_e===he||he!=="fraction"&&he!=="pixels"||!Ot){if(me==="type"&&(he==="pie"!=(_e==="pie")||he==="funnelarea"!=(_e==="funnelarea"))){var Nt="x",Ht="y";he!=="bar"&&_e!=="bar"||Vt.orientation!=="h"||(Nt="y",Ht="x"),n.swapAttrs(Vt,["?","?src"],"labels",Nt),n.swapAttrs(Vt,["d?","?0"],"label",Nt),n.swapAttrs(Vt,["?","?src"],"values",Ht),_e==="pie"||_e==="funnelarea"?(e(Vt,"marker.color").set(e(Vt,"marker.colors").get()),mt._pielayer.selectAll("g.trace").remove()):l.traceIs(Vt,"cartesian")&&e(Vt,"marker.colors").set(e(Vt,"marker.color").get())}}else{var Zt=mt._size,Qt=Ot.orient,oe=Qt==="top"||Qt==="bottom";if(K==="thicknessmode"){var qt=oe?Zt.h:Zt.w;wt(Et+"thickness",Ot.thickness*(he==="fraction"?1/qt:qt),gt)}else{var Te=oe?Zt.w:Zt.h;wt(Et+"len",Ot.len*(he==="fraction"?1/Te:Te),gt)}}if(Xt[me][gt]=E(_e),["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(me)!==-1){if(me==="orientation"){ie.set(he);var Re=Vt.x&&!Vt.y?"h":"v";if((ie.get()||Re)===ne.orientation)continue}else me==="orientationaxes"&&(Vt.orientation={v:"h",h:"v"}[ne.orientation]);A.swapXYData(Vt),Yt.calc=Yt.clearAxisTypes=!0}else c.dataArrayContainers.indexOf(ie.parts[0])!==-1?(A.manageArrayContainers(ie,he,Xt),Yt.calc=!0):(De?De.arrayOk&&!l.traceIs(ne,"regl")&&(n.isArrayOrTypedArray(he)||n.isArrayOrTypedArray(_e))?Yt.calc=!0:k.update(Yt,De):Yt.calc=!0,ie.set(he))}if(["swapxyaxes","orientationaxes"].indexOf(me)!==-1&&u.swap(lt,vt),me==="orientationaxes"){var pe=e(lt.layout,"hovermode"),Se=pe.get();Se==="x"?pe.set("y"):Se==="y"?pe.set("x"):Se==="x unified"?pe.set("y unified"):Se==="y unified"&&pe.set("x unified")}if(["orientation","type"].indexOf(me)!==-1){for(Rt=[],gt=0;gt<vt.length;gt++){var Me=kt[vt[gt]];l.traceIs(Me,"cartesian")&&(se(Me.xaxis||"x"),se(Me.yaxis||"y"))}wt(Rt.map(de),!0,0),wt(Rt.map(xe),[0,1],0)}}else ie=At(lt.layout,me.replace("LAYOUT","")),Xt[me]=[E(ie.get())],ie.set(Array.isArray(fe)?fe[0]:fe),Yt.calc=!0}return(Yt.calc||Yt.plot)&&(Yt.fullReplot=!0),{flags:Yt,undoit:Xt,redoit:zt,traces:vt,eventData:n.extendDeepNoArrays([],[Mt,vt])}}function rt(lt){var ht,vt,gt,mt=n.counterRegex("axis",".title",!1,!1),Tt=/colorbar\.title$/,kt=Object.keys(lt);for(ht=0;ht<kt.length;ht++)vt=kt[ht],gt=lt[vt],vt!=="title"&&!mt.test(vt)&&!Tt.test(vt)||typeof gt!="string"&&typeof gt!="number"?vt.indexOf("titlefont")>-1&&vt.indexOf("grouptitlefont")===-1?_t(vt,vt.replace("titlefont","title.font")):vt.indexOf("titleposition")>-1?_t(vt,vt.replace("titleposition","title.position")):vt.indexOf("titleside")>-1?_t(vt,vt.replace("titleside","title.side")):vt.indexOf("titleoffset")>-1&&_t(vt,vt.replace("titleoffset","title.offset")):_t(vt,vt.replace("title","title.text"));function _t(At,Mt){lt[Mt]=lt[At],delete lt[At]}}function ot(lt,ht,vt){lt=n.getGraphDiv(lt),A.clearPromiseQueue(lt);var gt={};if(typeof ht=="string")gt[ht]=vt;else{if(!n.isPlainObject(ht))return n.warn("Relayout fail.",ht,vt),Promise.reject();gt=n.extendFlat({},ht)}Object.keys(gt).length&&(lt.changed=!0);var mt=q(lt,gt),Tt=mt.flags;Tt.calc&&(lt.calcdata=void 0);var kt=[c.previousPromises];Tt.layoutReplot?kt.push(P.layoutReplot):Object.keys(gt).length&&(H(lt,Tt,mt)||c.supplyDefaults(lt),Tt.legend&&kt.push(P.doLegend),Tt.layoutstyle&&kt.push(P.layoutStyles),Tt.axrange&&F(kt,mt.rangesAltered),Tt.ticks&&kt.push(P.doTicksRelayout),Tt.modebar&&kt.push(P.doModeBar),Tt.camera&&kt.push(P.doCamera),Tt.colorbars&&kt.push(P.doColorBars),kt.push(_)),kt.push(c.rehover,c.redrag,c.reselect),i.add(lt,ot,[lt,mt.undoit],ot,[lt,mt.redoit]);var _t=n.syncOrAsync(kt,lt);return _t&&_t.then||(_t=Promise.resolve(lt)),_t.then(function(){return lt.emit("plotly_relayout",mt.eventData),lt})}function H(lt,ht,vt){var gt,mt,Tt=lt._fullLayout;if(!ht.axrange)return!1;for(var kt in ht)if(kt!=="axrange"&&ht[kt])return!1;var _t=function(Xt,Kt){return n.coerce(gt,mt,y,Xt,Kt)},At={};for(var Mt in vt.rangesAltered){var Rt=u.id2name(Mt);if(gt=lt.layout[Rt],mt=Tt[Rt],h(gt,mt,_t,At),mt._matchGroup){for(var Yt in mt._matchGroup)if(Yt!==Mt){var zt=Tt[u.id2name(Yt)];zt.autorange=mt.autorange,zt.range=mt.range.slice(),zt._input.range=mt.range.slice()}}}return!0}function F(lt,ht){var vt=ht?function(gt){var mt=[];for(var Tt in ht){var kt=u.getFromId(gt,Tt);if(mt.push(Tt),(kt.ticklabelposition||"").indexOf("inside")!==-1&&kt._anchorAxis&&mt.push(kt._anchorAxis._id),kt._matchGroup)for(var _t in kt._matchGroup)ht[_t]||mt.push(_t)}return u.draw(gt,mt,{skipTitle:!0})}:function(gt){return u.draw(gt,"redraw")};lt.push(p,P.doAutoRangeAndConstraints,vt,P.drawData,P.finalDraw)}var R=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,j=/^[xyz]axis[0-9]*\.autorange$/,J=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function q(lt,ht){var vt,gt,mt,Tt=lt.layout,kt=lt._fullLayout,_t=kt._guiEditing,At=V(kt._preGUI,_t),Mt=Object.keys(ht),Rt=u.list(lt),Yt=n.extendDeepAll({},ht),zt={};for(rt(ht),Mt=Object.keys(ht),gt=0;gt<Mt.length;gt++)if(Mt[gt].indexOf("allaxes")===0){for(mt=0;mt<Rt.length;mt++){var Xt=Rt[mt]._id.substr(1),Kt=Xt.indexOf("scene")!==-1?Xt+".":"",se=Mt[gt].replace("allaxes",Kt+Rt[mt]._name);ht[se]||(ht[se]=ht[Mt[gt]])}delete ht[Mt[gt]]}var de=k.layoutFlags(),xe={},Dt={};function wt(je,le){if(Array.isArray(je))je.forEach(function(we){wt(we,le)});else if(!(je in ht)&&!A.hasParent(ht,je)){var be=At(Tt,je);je in Dt||(Dt[je]=E(be.get())),le!==void 0&&be.set(le)}}var Ut,Wt={};function me(je){var le=u.name2id(je.split(".")[0]);return Wt[le]=1,le}for(var Vt in ht){if(A.hasParent(ht,Vt))throw new Error("cannot set "+Vt+" and a parent attribute simultaneously");for(var ne=At(Tt,Vt),ie=ht[Vt],_e=ne.parts.length-1;_e>0&&typeof ne.parts[_e]!="string";)_e--;var he=ne.parts[_e],De=ne.parts[_e-1]+"."+he,fe=ne.parts.slice(0,_e).join("."),K=e(lt.layout,fe).get(),at=e(kt,fe).get(),Et=ne.get();if(ie!==void 0){xe[Vt]=ie,Dt[Vt]=he==="reverse"?ie:E(Et);var Ot=o.getLayoutValObject(kt,ne.parts);if(Ot&&Ot.impliedEdits&&ie!==null)for(var Bt in Ot.impliedEdits)wt(n.relativeAttr(Vt,Bt),Ot.impliedEdits[Bt]);if(["width","height"].indexOf(Vt)!==-1)if(ie){wt("autosize",null);var Nt=Vt==="height"?"width":"height";wt(Nt,kt[Nt])}else kt[Vt]=lt._initialAutoSize[Vt];else if(Vt==="autosize")wt("width",ie?null:kt.width),wt("height",ie?null:kt.height);else if(De.match(R))me(De),e(kt,fe+"._inputRange").set(null);else if(De.match(j)){me(De),e(kt,fe+"._inputRange").set(null);var Ht=e(kt,fe).get();Ht._inputDomain&&(Ht._input.domain=Ht._inputDomain.slice())}else De.match(J)&&e(kt,fe+"._inputDomain").set(null);if(he==="type"){Ut=K;var Zt=at.type==="linear"&&ie==="log",Qt=at.type==="log"&&ie==="linear";if(Zt||Qt){if(Ut&&Ut.range)if(at.autorange)Zt&&(Ut.range=Ut.range[1]>Ut.range[0]?[1,2]:[2,1]);else{var oe=Ut.range[0],qt=Ut.range[1];Zt?(oe<=0&&qt<=0&&wt(fe+".autorange",!0),oe<=0?oe=qt/1e6:qt<=0&&(qt=oe/1e6),wt(fe+".range[0]",Math.log(oe)/Math.LN10),wt(fe+".range[1]",Math.log(qt)/Math.LN10)):(wt(fe+".range[0]",Math.pow(10,oe)),wt(fe+".range[1]",Math.pow(10,qt)))}else wt(fe+".autorange",!0);Array.isArray(kt._subplots.polar)&&kt._subplots.polar.length&&kt[ne.parts[0]]&&ne.parts[1]==="radialaxis"&&delete kt[ne.parts[0]]._subplot.viewInitial["radialaxis.range"],l.getComponentMethod("annotations","convertCoords")(lt,at,ie,wt),l.getComponentMethod("images","convertCoords")(lt,at,ie,wt)}else wt(fe+".autorange",!0),wt(fe+".range",null);e(kt,fe+"._inputRange").set(null)}else if(he.match(L)){var Te=e(kt,Vt).get(),Re=(ie||{}).type;Re&&Re!=="-"||(Re="linear"),l.getComponentMethod("annotations","convertCoords")(lt,Te,Re,wt),l.getComponentMethod("images","convertCoords")(lt,Te,Re,wt)}var pe=T.containerArrayMatch(Vt);if(pe){vt=pe.array,gt=pe.index;var Se=pe.property,Me=Ot||{editType:"calc"};gt!==""&&Se===""&&(T.isAddVal(ie)?Dt[Vt]=null:T.isRemoveVal(ie)?Dt[Vt]=(e(Tt,vt).get()||[])[gt]:n.warn("unrecognized full object value",ht)),k.update(de,Me),zt[vt]||(zt[vt]={});var re=zt[vt][gt];re||(re=zt[vt][gt]={}),re[Se]=ie,delete ht[Vt]}else he==="reverse"?(K.range?K.range.reverse():(wt(fe+".autorange",!0),K.range=[1,0]),at.autorange?de.calc=!0:de.plot=!0):(Vt==="dragmode"&&(ie===!1&&Et!==!1||ie!==!1&&Et===!1)||kt._has("scatter-like")&&kt._has("regl")&&Vt==="dragmode"&&(ie==="lasso"||ie==="select")&&Et!=="lasso"&&Et!=="select"||kt._has("gl2d")?de.plot=!0:Ot?k.update(de,Ot):de.calc=!0,ne.set(ie))}}for(vt in zt)T.applyContainerArrayChanges(lt,At(Tt,vt),zt[vt],de,At)||(de.plot=!0);for(var $t in Wt){var ve=(Ut=u.getFromId(lt,$t))&&Ut._constraintGroup;if(ve)for(var Ee in de.calc=!0,ve)Wt[Ee]||(u.getFromId(lt,Ee)._constraintShrinkable=!0)}($(lt)||ht.height||ht.width)&&(de.plot=!0);var Fe=kt.shapes;for(gt=0;gt<Fe.length;gt++)if(Fe[gt].showlegend){de.calc=!0;break}return(de.plot||de.calc)&&(de.layoutReplot=!0),{flags:de,rangesAltered:Wt,undoit:Dt,redoit:xe,eventData:Yt}}function $(lt){var ht=lt._fullLayout,vt=ht.width,gt=ht.height;return lt.layout.autosize&&c.plotAutoSize(lt,lt.layout,ht),ht.width!==vt||ht.height!==gt}function et(lt,ht,vt,gt){lt=n.getGraphDiv(lt),A.clearPromiseQueue(lt),n.isPlainObject(ht)||(ht={}),n.isPlainObject(vt)||(vt={}),Object.keys(ht).length&&(lt.changed=!0),Object.keys(vt).length&&(lt.changed=!0);var mt=A.coerceTraceIndices(lt,gt),Tt=tt(lt,n.extendFlat({},ht),mt),kt=Tt.flags,_t=q(lt,n.extendFlat({},vt)),At=_t.flags;(kt.calc||At.calc)&&(lt.calcdata=void 0),kt.clearAxisTypes&&A.clearAxisTypes(lt,mt,vt);var Mt=[];At.layoutReplot?Mt.push(P.layoutReplot):kt.fullReplot?Mt.push(d._doPlot):(Mt.push(c.previousPromises),H(lt,At,_t)||c.supplyDefaults(lt),kt.style&&Mt.push(P.doTraceStyle),(kt.colorbars||At.colorbars)&&Mt.push(P.doColorBars),At.legend&&Mt.push(P.doLegend),At.layoutstyle&&Mt.push(P.layoutStyles),At.axrange&&F(Mt,_t.rangesAltered),At.ticks&&Mt.push(P.doTicksRelayout),At.modebar&&Mt.push(P.doModeBar),At.camera&&Mt.push(P.doCamera),Mt.push(_)),Mt.push(c.rehover,c.redrag,c.reselect),i.add(lt,et,[lt,Tt.undoit,_t.undoit,Tt.traces],et,[lt,Tt.redoit,_t.redoit,Tt.traces]);var Rt=n.syncOrAsync(Mt,lt);return Rt&&Rt.then||(Rt=Promise.resolve(lt)),Rt.then(function(){return lt.emit("plotly_update",{data:Tt.eventData,layout:_t.eventData}),lt})}function st(lt){return function(ht){ht._fullLayout._guiEditing=!0;var vt=lt.apply(null,arguments);return ht._fullLayout._guiEditing=!1,vt}}var yt=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],St=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Lt(lt,ht){for(var vt=0;vt<ht.length;vt++){var gt=ht[vt],mt=lt.match(gt.pattern);if(mt){var Tt=mt[1]||"";return{head:Tt,tail:lt.substr(Tt.length+1),attr:gt.attr}}}}function It(lt,ht){var vt=e(ht,lt).get();if(vt!==void 0)return vt;var gt=lt.split(".");for(gt.pop();gt.length>1;)if(gt.pop(),(vt=e(ht,gt.join(".")+".uirevision").get())!==void 0)return vt;return ht.uirevision}function it(lt,ht){for(var vt=0;vt<ht.length;vt++)if(ht[vt]._fullInput.uid===lt)return vt;return-1}function ft(lt,ht,vt){for(var gt=0;gt<ht.length;gt++)if(ht[gt].uid===lt)return gt;return!ht[vt]||ht[vt].uid?-1:vt}function dt(lt,ht){var vt=n.isPlainObject(lt),gt=Array.isArray(lt);return vt||gt?(vt&&n.isPlainObject(ht)||gt&&Array.isArray(ht))&&JSON.stringify(lt)===JSON.stringify(ht):lt===ht}function xt(lt,ht,vt,gt){var mt,Tt,kt,_t=gt.getValObject,At=gt.flags,Mt=gt.immutable,Rt=gt.inArray,Yt=gt.arrayIndex;function zt(){var K=mt.editType;Rt&&K.indexOf("arraydraw")!==-1?n.pushUnique(At.arrays[Rt],Yt):(k.update(At,mt),K!=="none"&&At.nChanges++,gt.transition&&mt.anim&&At.nChangesAnim++,(R.test(kt)||j.test(kt))&&(At.rangesAltered[vt[0]]=1),J.test(kt)&&e(ht,"_inputDomain").set(null),Tt==="datarevision"&&(At.newDataRevision=1))}function Xt(K){return K.valType==="data_array"||K.arrayOk}for(Tt in lt){if(At.calc&&!gt.transition)return;var Kt=lt[Tt],se=ht[Tt],de=vt.concat(Tt);if(kt=de.join("."),Tt.charAt(0)!=="_"&&typeof Kt!="function"&&Kt!==se){if((Tt==="tick0"||Tt==="dtick")&&vt[0]!=="geo"){var xe=ht.tickmode;if(xe==="auto"||xe==="array"||!xe)continue}if((Tt!=="range"||!ht.autorange)&&(Tt!=="zmin"&&Tt!=="zmax"||ht.type!=="contourcarpet")&&(mt=_t(de))&&(!mt._compareAsJSON||JSON.stringify(Kt)!==JSON.stringify(se))){var Dt,wt=mt.valType,Ut=Xt(mt),Wt=Array.isArray(Kt),me=Array.isArray(se);if(Wt&&me){var Vt="_input_"+Tt,ne=lt[Vt],ie=ht[Vt];if(Array.isArray(ne)&&ne===ie)continue}if(se===void 0)Ut&&Wt?At.calc=!0:zt();else if(mt._isLinkedToArray){var _e=[],he=!1;Rt||(At.arrays[Tt]=_e);var De=Math.min(Kt.length,se.length),fe=Math.max(Kt.length,se.length);if(De!==fe){if(mt.editType!=="arraydraw"){zt();continue}he=!0}for(Dt=0;Dt<De;Dt++)xt(Kt[Dt],se[Dt],de.concat(Dt),n.extendFlat({inArray:Tt,arrayIndex:Dt},gt));if(he)for(Dt=De;Dt<fe;Dt++)_e.push(Dt)}else!wt&&n.isPlainObject(Kt)?xt(Kt,se,de,gt):Ut?Wt&&me?(Mt&&(At.calc=!0),(Mt||gt.newDataRevision)&&zt()):Wt!==me?At.calc=!0:zt():Wt&&me&&Kt.length===se.length&&String(Kt)===String(se)||zt()}}}for(Tt in ht)if(!(Tt in lt)&&Tt.charAt(0)!=="_"&&typeof ht[Tt]!="function"){if(Xt(mt=_t(vt.concat(Tt)))&&Array.isArray(ht[Tt]))return void(At.calc=!0);zt()}}function Pt(lt,ht){var vt;for(vt in lt)if(vt.charAt(0)!=="_"){var gt=lt[vt],mt=ht[vt];if(gt!==mt)if(n.isPlainObject(gt)&&n.isPlainObject(mt)){if(Pt(gt,mt))return!0}else{if(!Array.isArray(gt)||!Array.isArray(mt)||gt.length!==mt.length)return!0;for(var Tt=0;Tt<gt.length;Tt++)if(gt[Tt]!==mt[Tt]&&(!n.isPlainObject(gt[Tt])||!n.isPlainObject(mt[Tt])||Pt(gt[Tt],mt[Tt])))return!0}}}function Ct(lt){var ht=lt._fullLayout,vt=lt.getBoundingClientRect();if(!n.equalDomRects(vt,ht._lastBBox)){var gt=ht._invTransform=n.inverseTransformMatrix(n.getFullTransformMatrix(lt));ht._invScaleX=Math.sqrt(gt[0][0]*gt[0][0]+gt[0][1]*gt[0][1]+gt[0][2]*gt[0][2]),ht._invScaleY=Math.sqrt(gt[1][0]*gt[1][0]+gt[1][1]*gt[1][1]+gt[1][2]*gt[1][2]),ht._lastBBox=vt}}d.animate=function(lt,ht,vt){if(lt=n.getGraphDiv(lt),!n.isPlotDiv(lt))throw new Error("This element is not a Plotly plot: "+lt+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var gt=lt._transitionData;gt._frameQueue||(gt._frameQueue=[]);var mt=(vt=c.supplyAnimationDefaults(vt)).transition,Tt=vt.frame;function kt(Mt){return Array.isArray(mt)?Mt>=mt.length?mt[0]:mt[Mt]:mt}function _t(Mt){return Array.isArray(Tt)?Mt>=Tt.length?Tt[0]:Tt[Mt]:Tt}function At(Mt,Rt){var Yt=0;return function(){if(Mt&&++Yt===Rt)return Mt()}}return gt._frameWaitingCnt===void 0&&(gt._frameWaitingCnt=0),new Promise(function(Mt,Rt){function Yt(){lt.emit("plotly_animating"),gt._lastFrameAt=-1/0,gt._timeToNext=0,gt._runningTransitions=0,gt._currentFrame=null;var Vt=function(){gt._animationRaf=window.requestAnimationFrame(Vt),Date.now()-gt._lastFrameAt>gt._timeToNext&&function(){gt._currentFrame&&gt._currentFrame.onComplete&&gt._currentFrame.onComplete();var ne=gt._currentFrame=gt._frameQueue.shift();if(ne){var ie=ne.name?ne.name.toString():null;lt._fullLayout._currentFrame=ie,gt._lastFrameAt=Date.now(),gt._timeToNext=ne.frameOpts.duration,c.transition(lt,ne.frame.data,ne.frame.layout,A.coerceTraceIndices(lt,ne.frame.traces),ne.frameOpts,ne.transitionOpts).then(function(){ne.onComplete&&ne.onComplete()}),lt.emit("plotly_animatingframe",{name:ie,frame:ne.frame,animation:{frame:ne.frameOpts,transition:ne.transitionOpts}})}else lt.emit("plotly_animated"),window.cancelAnimationFrame(gt._animationRaf),gt._animationRaf=null}()};Vt()}var zt,Xt,Kt=0;function se(Vt){return Array.isArray(mt)?Kt>=mt.length?Vt.transitionOpts=mt[Kt]:Vt.transitionOpts=mt[0]:Vt.transitionOpts=mt,Kt++,Vt}var de=[],xe=ht==null,Dt=Array.isArray(ht);if(xe||Dt||!n.isPlainObject(ht)){if(xe||["string","number"].indexOf(typeof ht)!==-1)for(zt=0;zt<gt._frames.length;zt++)(Xt=gt._frames[zt])&&(xe||String(Xt.group)===String(ht))&&de.push({type:"byname",name:String(Xt.name),data:se({name:Xt.name})});else if(Dt)for(zt=0;zt<ht.length;zt++){var wt=ht[zt];["number","string"].indexOf(typeof wt)!==-1?(wt=String(wt),de.push({type:"byname",name:wt,data:se({name:wt})})):n.isPlainObject(wt)&&de.push({type:"object",data:se(n.extendFlat({},wt))})}}else de.push({type:"object",data:se(n.extendFlat({},ht))});for(zt=0;zt<de.length;zt++)if((Xt=de[zt]).type==="byname"&&!gt._frameHash[Xt.data.name])return n.warn('animate failure: frame not found: "'+Xt.data.name+'"'),void Rt();["next","immediate"].indexOf(vt.mode)!==-1&&function(){if(gt._frameQueue.length!==0){for(;gt._frameQueue.length;){var Vt=gt._frameQueue.pop();Vt.onInterrupt&&Vt.onInterrupt()}lt.emit("plotly_animationinterrupted",[])}}(),vt.direction==="reverse"&&de.reverse();var Ut=lt._fullLayout._currentFrame;if(Ut&&vt.fromcurrent){var Wt=-1;for(zt=0;zt<de.length;zt++)if((Xt=de[zt]).type==="byname"&&Xt.name===Ut){Wt=zt;break}if(Wt>0&&Wt<de.length-1){var me=[];for(zt=0;zt<de.length;zt++)Xt=de[zt],(de[zt].type!=="byname"||zt>Wt)&&me.push(Xt);de=me}}de.length>0?function(Vt){if(Vt.length!==0){for(var ne=0;ne<Vt.length;ne++){var ie;ie=Vt[ne].type==="byname"?c.computeFrame(lt,Vt[ne].name):Vt[ne].data;var _e=_t(ne),he=kt(ne);he.duration=Math.min(he.duration,_e.duration);var De={frame:ie,name:Vt[ne].name,frameOpts:_e,transitionOpts:he};ne===Vt.length-1&&(De.onComplete=At(Mt,2),De.onInterrupt=Rt),gt._frameQueue.push(De)}vt.mode==="immediate"&&(gt._lastFrameAt=-1/0),gt._animationRaf||Yt()}}(de):(lt.emit("plotly_animated"),Mt())})},d.addFrames=function(lt,ht,vt){if(lt=n.getGraphDiv(lt),ht==null)return Promise.resolve();if(!n.isPlotDiv(lt))throw new Error("This element is not a Plotly plot: "+lt+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var gt,mt,Tt,kt,_t=lt._transitionData._frames,At=lt._transitionData._frameHash;if(!Array.isArray(ht))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+ht);var Mt=_t.length+2*ht.length,Rt=[],Yt={};for(gt=ht.length-1;gt>=0;gt--)if(n.isPlainObject(ht[gt])){var zt=ht[gt].name,Xt=(At[zt]||Yt[zt]||{}).name,Kt=ht[gt].name,se=At[Xt]||Yt[Xt];Xt&&Kt&&typeof Kt=="number"&&se&&D<5&&(D++,n.warn('addFrames: overwriting frame "'+(At[Xt]||Yt[Xt]).name+'" with a frame whose name of type "number" also equates to "'+Xt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),D===5&&n.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Yt[zt]={name:zt},Rt.push({frame:c.supplyFrameDefaults(ht[gt]),index:vt&&vt[gt]!==void 0&&vt[gt]!==null?vt[gt]:Mt+gt})}Rt.sort(function(Vt,ne){return Vt.index>ne.index?-1:Vt.index<ne.index?1:0});var de=[],xe=[],Dt=_t.length;for(gt=Rt.length-1;gt>=0;gt--){if(typeof(mt=Rt[gt].frame).name=="number"&&n.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!mt.name)for(;At[mt.name="frame "+lt._transitionData._counter++];);if(At[mt.name]){for(Tt=0;Tt<_t.length&&(_t[Tt]||{}).name!==mt.name;Tt++);de.push({type:"replace",index:Tt,value:mt}),xe.unshift({type:"replace",index:Tt,value:_t[Tt]})}else kt=Math.max(0,Math.min(Rt[gt].index,Dt)),de.push({type:"insert",index:kt,value:mt}),xe.unshift({type:"delete",index:kt}),Dt++}var wt=c.modifyFrames,Ut=c.modifyFrames,Wt=[lt,xe],me=[lt,de];return i&&i.add(lt,wt,Wt,Ut,me),c.modifyFrames(lt,de)},d.deleteFrames=function(lt,ht){if(lt=n.getGraphDiv(lt),!n.isPlotDiv(lt))throw new Error("This element is not a Plotly plot: "+lt);var vt,gt,mt=lt._transitionData._frames,Tt=[],kt=[];if(!ht)for(ht=[],vt=0;vt<mt.length;vt++)ht.push(vt);for((ht=ht.slice()).sort(),vt=ht.length-1;vt>=0;vt--)gt=ht[vt],Tt.push({type:"delete",index:gt}),kt.unshift({type:"insert",index:gt,value:mt[gt]});var _t=c.modifyFrames,At=c.modifyFrames,Mt=[lt,kt],Rt=[lt,Tt];return i&&i.add(lt,_t,Mt,At,Rt),c.modifyFrames(lt,Tt)},d.addTraces=function lt(ht,vt,gt){ht=n.getGraphDiv(ht);var mt,Tt,kt=[],_t=d.deleteTraces,At=lt,Mt=[ht,kt],Rt=[ht,vt];for(function(Yt,zt,Xt){var Kt,se;if(!Array.isArray(Yt.data))throw new Error("gd.data must be an array.");if(zt===void 0)throw new Error("traces must be defined.");for(Array.isArray(zt)||(zt=[zt]),Kt=0;Kt<zt.length;Kt++)if(typeof(se=zt[Kt])!="object"||Array.isArray(se)||se===null)throw new Error("all values in traces array must be non-array objects");if(Xt===void 0||Array.isArray(Xt)||(Xt=[Xt]),Xt!==void 0&&Xt.length!==zt.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(ht,vt,gt),Array.isArray(vt)||(vt=[vt]),vt=vt.map(function(Yt){return n.extendFlat({},Yt)}),A.cleanData(vt),mt=0;mt<vt.length;mt++)ht.data.push(vt[mt]);for(mt=0;mt<vt.length;mt++)kt.push(-vt.length+mt);if(gt===void 0)return Tt=d.redraw(ht),i.add(ht,_t,Mt,At,Rt),Tt;Array.isArray(gt)||(gt=[gt]);try{Y(ht,kt,gt)}catch(Yt){throw ht.data.splice(ht.data.length-vt.length,vt.length),Yt}return i.startSequence(ht),i.add(ht,_t,Mt,At,Rt),Tt=d.moveTraces(ht,kt,gt),i.stopSequence(ht),Tt},d.deleteTraces=function lt(ht,vt){ht=n.getGraphDiv(ht);var gt,mt,Tt=[],kt=d.addTraces,_t=lt,At=[ht,Tt,vt],Mt=[ht,vt];if(vt===void 0)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(vt)||(vt=[vt]),z(ht,vt,"indices"),(vt=G(vt,ht.data.length-1)).sort(n.sorterDes),gt=0;gt<vt.length;gt+=1)mt=ht.data.splice(vt[gt],1)[0],Tt.push(mt);var Rt=d.redraw(ht);return i.add(ht,kt,At,_t,Mt),Rt},d.extendTraces=function lt(ht,vt,gt,mt){var Tt=Z(ht=n.getGraphDiv(ht),vt,gt,mt,function(At,Mt,Rt){var Yt,zt;if(n.isTypedArray(At))if(Rt<0){var Xt=new At.constructor(0),Kt=nt(At,Mt);Rt<0?(Yt=Kt,zt=Xt):(Yt=Xt,zt=Kt)}else if(Yt=new At.constructor(Rt),zt=new At.constructor(At.length+Mt.length-Rt),Rt===Mt.length)Yt.set(Mt),zt.set(At);else if(Rt<Mt.length){var se=Mt.length-Rt;Yt.set(Mt.subarray(se)),zt.set(At),zt.set(Mt.subarray(0,se),At.length)}else{var de=Rt-Mt.length,xe=At.length-de;Yt.set(At.subarray(xe)),Yt.set(Mt,de),zt.set(At.subarray(0,xe))}else Yt=At.concat(Mt),zt=Rt>=0&&Rt<Yt.length?Yt.splice(0,Yt.length-Rt):[];return[Yt,zt]}),kt=d.redraw(ht),_t=[ht,Tt.update,gt,Tt.maxPoints];return i.add(ht,d.prependTraces,_t,lt,arguments),kt},d.moveTraces=function lt(ht,vt,gt){var mt,Tt=[],kt=[],_t=lt,At=lt,Mt=[ht=n.getGraphDiv(ht),gt,vt],Rt=[ht,vt,gt];if(Y(ht,vt,gt),vt=Array.isArray(vt)?vt:[vt],gt===void 0)for(gt=[],mt=0;mt<vt.length;mt++)gt.push(-vt.length+mt);for(gt=Array.isArray(gt)?gt:[gt],vt=G(vt,ht.data.length-1),gt=G(gt,ht.data.length-1),mt=0;mt<ht.data.length;mt++)vt.indexOf(mt)===-1&&Tt.push(ht.data[mt]);for(mt=0;mt<vt.length;mt++)kt.push({newIndex:gt[mt],trace:ht.data[vt[mt]]});for(kt.sort(function(zt,Xt){return zt.newIndex-Xt.newIndex}),mt=0;mt<kt.length;mt+=1)Tt.splice(kt[mt].newIndex,0,kt[mt].trace);ht.data=Tt;var Yt=d.redraw(ht);return i.add(ht,_t,Mt,At,Rt),Yt},d.prependTraces=function lt(ht,vt,gt,mt){var Tt=Z(ht=n.getGraphDiv(ht),vt,gt,mt,function(At,Mt,Rt){var Yt,zt;if(n.isTypedArray(At))if(Rt<=0){var Xt=new At.constructor(0),Kt=nt(Mt,At);Rt<0?(Yt=Kt,zt=Xt):(Yt=Xt,zt=Kt)}else if(Yt=new At.constructor(Rt),zt=new At.constructor(At.length+Mt.length-Rt),Rt===Mt.length)Yt.set(Mt),zt.set(At);else if(Rt<Mt.length){var se=Mt.length-Rt;Yt.set(Mt.subarray(0,se)),zt.set(Mt.subarray(se)),zt.set(At,se)}else{var de=Rt-Mt.length;Yt.set(Mt),Yt.set(At.subarray(0,de),Mt.length),zt.set(At.subarray(de))}else Yt=Mt.concat(At),zt=Rt>=0&&Rt<Yt.length?Yt.splice(Rt,Yt.length):[];return[Yt,zt]}),kt=d.redraw(ht),_t=[ht,Tt.update,gt,Tt.maxPoints];return i.add(ht,d.extendTraces,_t,lt,arguments),kt},d.newPlot=function(lt,ht,vt,gt){return lt=n.getGraphDiv(lt),c.cleanPlot([],{},lt._fullData||[],lt._fullLayout||{}),c.purge(lt),d._doPlot(lt,ht,vt,gt)},d._doPlot=function(lt,ht,vt,gt){var mt;if(lt=n.getGraphDiv(lt),r.init(lt),n.isPlainObject(ht)){var Tt=ht;ht=Tt.data,vt=Tt.layout,gt=Tt.config,mt=Tt.frames}if(r.triggerHandler(lt,"plotly_beforeplot",[ht,vt,gt])===!1)return Promise.reject();ht||vt||n.isPlotDiv(lt)||n.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",lt),N(lt,gt),vt||(vt={}),f.select(lt).classed("js-plotly-plot",!0),m.makeTester(),Array.isArray(lt._promises)||(lt._promises=[]);var kt=(lt.data||[]).length===0&&Array.isArray(ht);Array.isArray(ht)&&(A.cleanData(ht),kt?lt.data=ht:lt.data.push.apply(lt.data,ht),lt.empty=!1),lt.layout&&!kt||(lt.layout=A.cleanLayout(vt)),c.supplyDefaults(lt);var _t=lt._fullLayout,At=_t._has("cartesian");_t._replotting=!0,(kt||_t._shouldCreateBgLayer)&&(function(xe){var Dt=f.select(xe),wt=xe._fullLayout;if(wt._calcInverseTransform=Ct,wt._calcInverseTransform(xe),wt._container=Dt.selectAll(".plot-container").data([0]),wt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),wt._paperdiv=wt._container.selectAll(".svg-container").data([0]),wt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),wt._glcontainer=wt._paperdiv.selectAll(".gl-container").data([{}]),wt._glcontainer.enter().append("div").classed("gl-container",!0),wt._paperdiv.selectAll(".main-svg").remove(),wt._paperdiv.select(".modebar-container").remove(),wt._paper=wt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),wt._toppaper=wt._paperdiv.append("svg").classed("main-svg",!0),wt._modebardiv=wt._paperdiv.append("div"),delete wt._modeBar,wt._hoverpaper=wt._paperdiv.append("svg").classed("main-svg",!0),!wt._uid){var Ut={};f.selectAll("defs").each(function(){this.id&&(Ut[this.id.split("-")[1]]=1)}),wt._uid=n.randstr(Ut)}wt._paperdiv.selectAll(".main-svg").attr(w.svgAttrs),wt._defs=wt._paper.append("defs").attr("id","defs-"+wt._uid),wt._clips=wt._defs.append("g").classed("clips",!0),wt._topdefs=wt._toppaper.append("defs").attr("id","topdefs-"+wt._uid),wt._topclips=wt._topdefs.append("g").classed("clips",!0),wt._bgLayer=wt._paper.append("g").classed("bglayer",!0),wt._draggers=wt._paper.append("g").classed("draglayer",!0);var Wt=wt._paper.append("g").classed("layer-below",!0);wt._imageLowerLayer=Wt.append("g").classed("imagelayer",!0),wt._shapeLowerLayer=Wt.append("g").classed("shapelayer",!0),wt._cartesianlayer=wt._paper.append("g").classed("cartesianlayer",!0),wt._polarlayer=wt._paper.append("g").classed("polarlayer",!0),wt._smithlayer=wt._paper.append("g").classed("smithlayer",!0),wt._ternarylayer=wt._paper.append("g").classed("ternarylayer",!0),wt._geolayer=wt._paper.append("g").classed("geolayer",!0),wt._funnelarealayer=wt._paper.append("g").classed("funnelarealayer",!0),wt._pielayer=wt._paper.append("g").classed("pielayer",!0),wt._iciclelayer=wt._paper.append("g").classed("iciclelayer",!0),wt._treemaplayer=wt._paper.append("g").classed("treemaplayer",!0),wt._sunburstlayer=wt._paper.append("g").classed("sunburstlayer",!0),wt._indicatorlayer=wt._toppaper.append("g").classed("indicatorlayer",!0),wt._glimages=wt._paper.append("g").classed("glimages",!0);var me=wt._toppaper.append("g").classed("layer-above",!0);wt._imageUpperLayer=me.append("g").classed("imagelayer",!0),wt._shapeUpperLayer=me.append("g").classed("shapelayer",!0),wt._selectionLayer=wt._toppaper.append("g").classed("selectionlayer",!0),wt._infolayer=wt._toppaper.append("g").classed("infolayer",!0),wt._menulayer=wt._toppaper.append("g").classed("menulayer",!0),wt._zoomlayer=wt._toppaper.append("g").classed("zoomlayer",!0),wt._hoverlayer=wt._hoverpaper.append("g").classed("hoverlayer",!0),wt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),xe.emit("plotly_framework")}(lt),_t._shouldCreateBgLayer&&delete _t._shouldCreateBgLayer),m.initGradients(lt),m.initPatterns(lt),kt&&u.saveShowSpikeInitial(lt);var Mt=!lt.calcdata||lt.calcdata.length!==(lt._fullData||[]).length;Mt&&c.doCalcdata(lt);for(var Rt=0;Rt<lt.calcdata.length;Rt++)lt.calcdata[Rt][0].trace=lt._fullData[Rt];lt._context.responsive?lt._responsiveChartHandler||(lt._responsiveChartHandler=function(){n.isHidden(lt)||c.resize(lt)},window.addEventListener("resize",lt._responsiveChartHandler)):n.clearResponsive(lt);var Yt=n.extendFlat({},_t._size),zt=0;function Xt(){if(c.clearAutoMarginIds(lt),P.drawMarginPushers(lt),u.allowAutoMargin(lt),lt._fullLayout.title.text&&lt._fullLayout.title.automargin&&c.allowAutoMargin(lt,"title.automargin"),_t._has("pie"))for(var xe=lt._fullData,Dt=0;Dt<xe.length;Dt++){var wt=xe[Dt];wt.type==="pie"&&wt.automargin&&c.allowAutoMargin(lt,"pie."+wt.uid+".automargin")}return c.doAutoMargin(lt),c.previousPromises(lt)}function Kt(){lt._transitioning||(P.doAutoRangeAndConstraints(lt),kt&&u.saveRangeInitial(lt),l.getComponentMethod("rangeslider","calcAutorange")(lt))}var se=[c.previousPromises,function(){if(mt)return d.addFrames(lt,mt)},function xe(){for(var Dt=_t._basePlotModules,wt=0;wt<Dt.length;wt++)Dt[wt].drawFramework&&Dt[wt].drawFramework(lt);!_t._glcanvas&&_t._has("gl")&&(_t._glcanvas=_t._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Vt){return Vt.key}),_t._glcanvas.enter().append("canvas").attr("class",function(Vt){return"gl-canvas gl-canvas-"+Vt.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Ut=lt._context.plotGlPixelRatio;if(_t._glcanvas){_t._glcanvas.attr("width",_t.width*Ut).attr("height",_t.height*Ut).style("width",_t.width+"px").style("height",_t.height+"px");var Wt=_t._glcanvas.data()[0].regl;if(Wt&&(Math.floor(_t.width*Ut)!==Wt._gl.drawingBufferWidth||Math.floor(_t.height*Ut)!==Wt._gl.drawingBufferHeight)){var me="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!zt)return n.log(me+" Clearing graph and plotting again."),c.cleanPlot([],{},lt._fullData,_t),c.supplyDefaults(lt),_t=lt._fullLayout,c.doCalcdata(lt),zt++,xe();n.error(me)}}return _t.modebar.orientation==="h"?_t._modebardiv.style("height",null).style("width","100%"):_t._modebardiv.style("width",null).style("height",_t.height+"px"),c.previousPromises(lt)},Xt,function(){if(c.didMarginChange(Yt,_t._size))return n.syncOrAsync([Xt,P.layoutStyles],lt)}];At&&se.push(function(){if(Mt)return n.syncOrAsync([l.getComponentMethod("shapes","calcAutorange"),l.getComponentMethod("annotations","calcAutorange"),Kt],lt);Kt()}),se.push(P.layoutStyles),At&&se.push(function(){return u.draw(lt,kt?"":"redraw")},function(xe){var Dt=xe._fullLayout._insideTickLabelsUpdaterange;if(Dt)return xe._fullLayout._insideTickLabelsUpdaterange=void 0,ot(xe,Dt).then(function(){u.saveRangeInitial(xe,!0)})}),se.push(P.drawData,P.finalDraw,x,c.addLinks,c.rehover,c.redrag,c.reselect,c.doAutoMargin,c.previousPromises);var de=n.syncOrAsync(se,lt);return de&&de.then||(de=Promise.resolve()),de.then(function(){return _(lt),lt})},d.purge=function(lt){var ht=(lt=n.getGraphDiv(lt))._fullLayout||{},vt=lt._fullData||[];return c.cleanPlot([],{},vt,ht),c.purge(lt),r.purge(lt),ht._container&&ht._container.remove(),delete lt._context,lt},d.react=function(lt,ht,vt,gt){var mt,Tt;lt=n.getGraphDiv(lt),A.clearPromiseQueue(lt);var kt=lt._fullData,_t=lt._fullLayout;if(n.isPlotDiv(lt)&&kt&&_t){if(n.isPlainObject(ht)){var At=ht;ht=At.data,vt=At.layout,gt=At.config,mt=At.frames}var Mt=!1;if(gt){var Rt=n.extendDeep({},lt._context);lt._context=void 0,N(lt,gt),Mt=Pt(Rt,lt._context)}lt.data=ht||[],A.cleanData(lt.data),lt.layout=vt||{},A.cleanLayout(lt.layout),function(fe,K,at,Et){var Ot,Bt,Nt,Ht,Zt,Qt,oe,qt,Te,Re,pe=Et._preGUI,Se=[],Me={},re={};for(Ot in pe){if(Zt=Lt(Ot,yt)){if(Te=Zt.head,Re=Zt.tail,Bt=Zt.attr||Te+".uirevision",(Ht=(Nt=e(Et,Bt).get())&&It(Bt,K))&&Ht===Nt){if((Qt=pe[Ot])===null&&(Qt=void 0),dt(qt=(oe=e(K,Ot)).get(),Qt)){qt===void 0&&Re==="autorange"&&Se.push(Te),oe.set(E(e(Et,Ot).get()));continue}if(Re==="autorange"||Re.substr(0,6)==="range["){var $t=pe[Te+".range[0]"],ve=pe[Te+".range[1]"],Ee=pe[Te+".autorange"];if(Ee||Ee===null&&$t===null&&ve===null){if(!(Te in Me)){var Fe=e(K,Te).get();Me[Te]=Fe&&(Fe.autorange||Fe.autorange!==!1&&(!Fe.range||Fe.range.length!==2))}if(Me[Te]){oe.set(E(e(Et,Ot).get()));continue}}}}}else n.warn("unrecognized GUI edit: "+Ot);delete pe[Ot],Zt&&Zt.tail.substr(0,6)==="range["&&(re[Zt.head]=1)}for(var je=0;je<Se.length;je++){var le=Se[je];if(re[le]){var be=e(K,le).get();be&&delete be.autorange}}var we=Et._tracePreGUI;for(var Ce in we){var Le,Oe=we[Ce],Ae=null;for(Ot in Oe){if(!Ae){var Ne=it(Ce,at);if(Ne<0){delete we[Ce];break}var ke=ft(Ce,fe,(Le=at[Ne]._fullInput).index);if(ke<0){delete we[Ce];break}Ae=fe[ke]}if(Zt=Lt(Ot,St)){if(Zt.attr?Ht=(Nt=e(Et,Zt.attr).get())&&It(Zt.attr,K):(Nt=Le.uirevision,(Ht=Ae.uirevision)===void 0&&(Ht=K.uirevision)),Ht&&Ht===Nt&&((Qt=Oe[Ot])===null&&(Qt=void 0),dt(qt=(oe=e(Ae,Ot)).get(),Qt))){oe.set(E(e(Le,Ot).get()));continue}}else n.warn("unrecognized GUI edit: "+Ot+" in trace uid "+Ce);delete Oe[Ot]}}}(lt.data,lt.layout,kt,_t),c.supplyDefaults(lt,{skipUpdateCalc:!0});var Yt=lt._fullData,zt=lt._fullLayout,Xt=zt.datarevision===void 0,Kt=zt.transition,se=function(fe,K,at,Et,Ot){var Bt=k.layoutFlags();return Bt.arrays={},Bt.rangesAltered={},Bt.nChanges=0,Bt.nChangesAnim=0,xt(K,at,[],{getValObject:function(Nt){return o.getLayoutValObject(at,Nt)},flags:Bt,immutable:Et,transition:Ot,gd:fe}),(Bt.plot||Bt.calc)&&(Bt.layoutReplot=!0),Ot&&Bt.nChanges&&Bt.nChangesAnim&&(Bt.anim=Bt.nChanges===Bt.nChangesAnim?"all":"some"),Bt}(lt,_t,zt,Xt,Kt),de=se.newDataRevision,xe=function(fe,K,at,Et,Ot,Bt){var Nt=K.length===at.length;if(!Ot&&!Nt)return{fullReplot:!0,calc:!0};var Ht,Zt,Qt=k.traceFlags();Qt.arrays={},Qt.nChanges=0,Qt.nChangesAnim=0;var oe={getValObject:function(Te){var Re=o.getTraceValObject(Zt,Te);return!Zt._module.animatable&&Re.anim&&(Re.anim=!1),Re},flags:Qt,immutable:Et,transition:Ot,newDataRevision:Bt,gd:fe},qt={};for(Ht=0;Ht<K.length;Ht++)if(at[Ht]){if(Zt=at[Ht]._fullInput,c.hasMakesDataTransform(Zt)&&(Zt=at[Ht]),qt[Zt.uid])continue;qt[Zt.uid]=1,xt(K[Ht]._fullInput,Zt,[],oe)}return(Qt.calc||Qt.plot)&&(Qt.fullReplot=!0),Ot&&Qt.nChanges&&Qt.nChangesAnim&&(Qt.anim=Qt.nChanges===Qt.nChangesAnim&&Nt?"all":"some"),Qt}(lt,kt,Yt,Xt,Kt,de);if($(lt)&&(se.layoutReplot=!0),xe.calc||se.calc){lt.calcdata=void 0;for(var Dt=Object.getOwnPropertyNames(zt),wt=0;wt<Dt.length;wt++){var Ut=Dt[wt],Wt=Ut.substring(0,5);if(Wt==="xaxis"||Wt==="yaxis"){var me=zt[Ut]._emptyCategories;me&&me()}}}else c.supplyDefaultsUpdateCalc(lt.calcdata,Yt);var Vt=[];if(mt&&(lt._transitionData={},c.createTransitionData(lt),Vt.push(function(){return d.addFrames(lt,mt)})),zt.transition&&!Mt&&(xe.anim||se.anim))se.ticks&&Vt.push(P.doTicksRelayout),c.doCalcdata(lt),P.doAutoRangeAndConstraints(lt),Vt.push(function(){return c.transitionFromReact(lt,xe,se,_t)});else if(xe.fullReplot||se.layoutReplot||Mt)lt._fullLayout._skipDefaults=!0,Vt.push(d._doPlot);else{for(var ne in se.arrays){var ie=se.arrays[ne];if(ie.length){var _e=l.getComponentMethod(ne,"drawOne");if(_e!==n.noop)for(var he=0;he<ie.length;he++)_e(lt,ie[he]);else{var De=l.getComponentMethod(ne,"draw");if(De===n.noop)throw new Error("cannot draw components: "+ne);De(lt)}}}Vt.push(c.previousPromises),xe.style&&Vt.push(P.doTraceStyle),(xe.colorbars||se.colorbars)&&Vt.push(P.doColorBars),se.legend&&Vt.push(P.doLegend),se.layoutstyle&&Vt.push(P.layoutStyles),se.axrange&&F(Vt),se.ticks&&Vt.push(P.doTicksRelayout),se.modebar&&Vt.push(P.doModeBar),se.camera&&Vt.push(P.doCamera),Vt.push(_)}Vt.push(c.rehover,c.redrag,c.reselect),(Tt=n.syncOrAsync(Vt,lt))&&Tt.then||(Tt=Promise.resolve(lt))}else Tt=d.newPlot(lt,ht,vt,gt);return Tt.then(function(){return lt.emit("plotly_react",{data:ht,layout:vt}),lt})},d.redraw=function(lt){if(lt=n.getGraphDiv(lt),!n.isPlotDiv(lt))throw new Error("This element is not a Plotly plot: "+lt);return A.cleanData(lt.data),A.cleanLayout(lt.layout),lt.calcdata=void 0,d._doPlot(lt).then(function(){return lt.emit("plotly_redraw"),lt})},d.relayout=ot,d.restyle=S,d.setPlotConfig=function(lt){return n.extendFlat(b,lt)},d.update=et,d._guiRelayout=st(ot),d._guiRestyle=st(S),d._guiUpdate=st(et),d._storeDirectGUIEdit=function(lt,ht,vt){for(var gt in vt)Q(gt,e(lt,gt).get(),vt[gt],ht)}},2075:function(X){var d={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},t={};(function f(g,a){for(var n in g){var e=g[n];e.valType?a[n]=e.dflt:(a[n]||(a[n]={}),f(e,a[n]))}})(d,t),X.exports={configAttributes:d,dfltConfig:t}},6281:function(X,d,t){var f=t(3972),g=t(1828),a=t(9012),n=t(820),e=t(1391),r=t(5594),i=t(2075).configAttributes,l=t(962),o=g.extendDeepAll,c=g.isPlainObject,u=g.isArrayOrTypedArray,h=g.nestedProperty,y=g.valObjectMeta,m="_isSubplotObj",v="_isLinkedToArray",x="_deprecated",w=[m,v,"_arrayAttrRegexps",x];function p(L,D,_){if(!L)return!1;if(L._isLinkedToArray){if(b(D[_]))_++;else if(_<D.length)return!1}for(;_<D.length;_++){var I=L[D[_]];if(!c(I)||(L=I,_===D.length-1))break;if(L._isLinkedToArray){if(!b(D[++_]))return!1}else if(L.valType==="info_array"){var O=D[++_];if(!b(O))return!1;var N=L.items;if(Array.isArray(N)){if(O>=N.length)return!1;if(L.dimensions===2){if(_++,D.length===_)return L;var G=D[_];if(!b(G))return!1;L=N[O][G]}else L=N[O]}else L=N}}return L}function b(L){return L===Math.round(L)&&L>=0}function T(){var L,D,_={};for(L in o(_,n),f.subplotsRegistry)if((D=f.subplotsRegistry[L]).layoutAttributes)if(Array.isArray(D.attr))for(var I=0;I<D.attr.length;I++)P(_,D,D.attr[I]);else P(_,D,D.attr==="subplot"?D.name:D.attr);for(L in f.componentsRegistry){var O=(D=f.componentsRegistry[L]).schema;if(O&&(O.subplots||O.layout)){var N=O.subplots;if(N&&N.xaxis&&!N.yaxis)for(var G in N.xaxis)delete _.yaxis[G];delete _.xaxis.shift,delete _.xaxis.autoshift}else D.name==="colorscale"?o(_,D.layoutAttributes):D.layoutAttributes&&k(_,D.layoutAttributes,D.name)}return{layoutAttributes:A(_)}}function A(L){return function(D){d.crawl(D,function(_,I,O){d.isValObject(_)?_.arrayOk!==!0&&_.valType!=="data_array"||(O[I+"src"]={valType:"string",editType:"none"}):c(_)&&(_.role="object")})}(L),function(D){d.crawl(D,function(_,I,O){if(_){var N=_[v];N&&(delete _[v],O[I]={items:{}},O[I].items[N]=_,O[I].role="object")}})}(L),function(D){(function _(I){for(var O in I)if(c(I[O]))_(I[O]);else if(Array.isArray(I[O]))for(var N=0;N<I[O].length;N++)_(I[O][N]);else I[O]instanceof RegExp&&(I[O]=I[O].toString())})(D)}(L),L}function P(L,D,_){var I=h(L,_),O=o({},D.layoutAttributes);O[m]=!0,I.set(O)}function k(L,D,_){var I=h(L,_);I.set(o(I.get()||{},D))}d.IS_SUBPLOT_OBJ=m,d.IS_LINKED_TO_ARRAY=v,d.DEPRECATED=x,d.UNDERSCORE_ATTRS=w,d.get=function(){var L={};f.allTypes.forEach(function(I){L[I]=function(O){var N,G;G=(N=f.modules[O]._module).basePlotModule;var z={type:null},Y=o({},a),Z=o({},N.attributes);d.crawl(Z,function(E,V,Q,tt,rt){h(Y,rt).set(void 0),E===void 0&&h(Z,rt).set(void 0)}),o(z,Y),f.traceIs(O,"noOpacity")&&delete z.opacity,f.traceIs(O,"showLegend")||(delete z.showlegend,delete z.legendgroup),f.traceIs(O,"noHover")&&(delete z.hoverinfo,delete z.hoverlabel),N.selectPoints||delete z.selectedpoints,o(z,Z),G.attributes&&o(z,G.attributes),z.type=O;var nt={meta:N.meta||{},categories:N.categories||{},animatable:!!N.animatable,type:O,attributes:A(z)};if(N.layoutAttributes){var S={};o(S,N.layoutAttributes),nt.layoutAttributes=A(S)}return N.animatable||d.crawl(nt,function(E){d.isValObject(E)&&"anim"in E&&delete E.anim}),nt}(I)});var D,_={};return Object.keys(f.transformsRegistry).forEach(function(I){_[I]=function(O){var N=f.transformsRegistry[O],G=o({},N.attributes);return Object.keys(f.componentsRegistry).forEach(function(z){var Y=f.componentsRegistry[z];Y.schema&&Y.schema.transforms&&Y.schema.transforms[O]&&Object.keys(Y.schema.transforms[O]).forEach(function(Z){k(G,Y.schema.transforms[O][Z],Z)})}),{attributes:A(G)}}(I)}),{defs:{valObjects:y,metaKeys:w.concat(["description","role","editType","impliedEdits"]),editType:{traces:l.traces,layout:l.layout},impliedEdits:{}},traces:L,layout:T(),transforms:_,frames:(D={frames:o({},e)},A(D),D.frames),animation:A(r),config:A(i)}},d.crawl=function(L,D,_,I){var O=_||0;I=I||"",Object.keys(L).forEach(function(N){var G=L[N];if(w.indexOf(N)===-1){var z=(I?I+".":"")+N;D(G,N,L,O,z),d.isValObject(G)||c(G)&&N!=="impliedEdits"&&d.crawl(G,D,O+1,z)}})},d.isValObject=function(L){return L&&L.valType!==void 0},d.findArrayAttributes=function(L){var D,_,I=[],O=[],N=[];function G(E,V,Q,tt){O=O.slice(0,tt).concat([V]),N=N.slice(0,tt).concat([E&&E._isLinkedToArray]),E&&(E.valType==="data_array"||E.arrayOk===!0)&&(O[tt-1]!=="colorbar"||V!=="ticktext"&&V!=="tickvals")&&z(D,0,"")}function z(E,V,Q){var tt=E[O[V]],rt=Q+O[V];if(V===O.length-1)u(tt)&&I.push(_+rt);else if(N[V]){if(Array.isArray(tt))for(var ot=0;ot<tt.length;ot++)c(tt[ot])&&z(tt[ot],V+1,rt+"["+ot+"].")}else c(tt)&&z(tt,V+1,rt+".")}D=L,_="",d.crawl(a,G),L._module&&L._module.attributes&&d.crawl(L._module.attributes,G);var Y=L.transforms;if(Y)for(var Z=0;Z<Y.length;Z++){var nt=Y[Z],S=nt._module;S&&(_="transforms["+Z+"].",D=nt,d.crawl(S.attributes,G))}return I},d.getTraceValObject=function(L,D){var _,I,O=D[0],N=1;if(O==="transforms"){if(D.length===1)return a.transforms;var G=L.transforms;if(!Array.isArray(G)||!G.length)return!1;var z=D[1];if(!b(z)||z>=G.length)return!1;I=(_=(f.transformsRegistry[G[z].type]||{}).attributes)&&_[D[2]],N=3}else{var Y=L._module;if(Y||(Y=(f.modules[L.type||a.type.dflt]||{})._module),!Y)return!1;if(!(I=(_=Y.attributes)&&_[O])){var Z=Y.basePlotModule;Z&&Z.attributes&&(I=Z.attributes[O])}I||(I=a[O])}return p(I,D,N)},d.getLayoutValObject=function(L,D){var _=function(I,O){var N,G,z,Y,Z=I._basePlotModules;if(Z){var nt;for(N=0;N<Z.length;N++){if((z=Z[N]).attrRegex&&z.attrRegex.test(O)){if(z.layoutAttrOverrides)return z.layoutAttrOverrides;!nt&&z.layoutAttributes&&(nt=z.layoutAttributes)}var S=z.baseLayoutAttrOverrides;if(S&&O in S)return S[O]}if(nt)return nt}var E=I._modules;if(E){for(N=0;N<E.length;N++)if((Y=E[N].layoutAttributes)&&O in Y)return Y[O]}for(G in f.componentsRegistry){if((z=f.componentsRegistry[G]).name==="colorscale"&&O.indexOf("coloraxis")===0)return z.layoutAttributes[O];if(!z.schema&&O===z.name)return z.layoutAttributes}return O in n&&n[O]}(L,D[0]);return p(_,D,1)}},4467:function(X,d,t){var f=t(1828),g=t(9012),a="templateitemname",n={name:{valType:"string",editType:"none"}};function e(i){return i&&typeof i=="string"}function r(i){var l=i.length-1;return i.charAt(l)!=="s"&&f.warn("bad argument to arrayDefaultKey: "+i),i.substr(0,i.length-1)+"defaults"}n[a]={valType:"string",editType:"calc"},d.templatedArray=function(i,l){return l._isLinkedToArray=i,l.name=n.name,l[a]=n[a],l},d.traceTemplater=function(i){var l,o,c={};for(l in i)o=i[l],Array.isArray(o)&&o.length&&(c[l]=0);return{newTrace:function(u){var h={type:l=f.coerce(u,{},g,"type"),_template:null};if(l in c){o=i[l];var y=c[l]%o.length;c[l]++,h._template=o[y]}return h}}},d.newContainer=function(i,l,o){var c=i._template,u=c&&(c[l]||o&&c[o]);return f.isPlainObject(u)||(u=null),i[l]={_template:u}},d.arrayTemplater=function(i,l,o){var c=i._template,u=c&&c[r(l)],h=c&&c[l];Array.isArray(h)&&h.length||(h=[]);var y={};return{newItem:function(m){var v={name:m.name,_input:m},x=v[a]=m[a];if(!e(x))return v._template=u,v;for(var w=0;w<h.length;w++){var p=h[w];if(p.name===x)return y[x]=1,v._template=p,v}return v[o]=m[o]||!1,v._template=!1,v},defaultItems:function(){for(var m=[],v=0;v<h.length;v++){var x=h[v],w=x.name;if(e(w)&&!y[w]){var p={_template:x,name:w,_input:{_templateitemname:w}};p[a]=x[a],m.push(p),y[w]=1}}return m}}},d.arrayDefaultKey=r,d.arrayEditor=function(i,l,o){var c=(f.nestedProperty(i,l).get()||[]).length,u=o._index,h=u>=c&&(o._input||{})._templateitemname;h&&(u=c);var y,m=l+"["+u+"]";function v(){y={},h&&(y[m]={},y[m][a]=h)}function x(p,b){h?f.nestedProperty(y[m],p).set(b):y[m+"."+p]=b}function w(){var p=y;return v(),p}return v(),{modifyBase:function(p,b){y[p]=b},modifyItem:x,getUpdateObj:w,applyUpdate:function(p,b){p&&x(p,b);var T=w();for(var A in T)f.nestedProperty(i,A).set(T[A])}}}},1549:function(X,d,t){var f=t(9898),g=t(3972),a=t(4875),n=t(1828),e=t(3893),r=t(3306),i=t(7901),l=t(1424),o=t(2998),c=t(4168),u=t(9298),h=t(8783),y=t(9082),m=y.enforce,v=y.clean,x=t(1739).doAutoRange,w="start";function p(k,L,D){for(var _=0;_<D.length;_++){var I=D[_][0],O=D[_][1];if(!(I[0]>=k[1]||I[1]<=k[0])&&O[0]<L[1]&&O[1]>L[0])return!0}return!1}function b(k){var L,D,_,I,O,N,G=k._fullLayout,z=G._size,Y=z.p,Z=u.list(k,"",!0);if(G._paperdiv.style({width:k._context.responsive&&G.autosize&&!k._context._hasZeroWidth&&!k.layout.width?"100%":G.width+"px",height:k._context.responsive&&G.autosize&&!k._context._hasZeroHeight&&!k.layout.height?"100%":G.height+"px"}).selectAll(".main-svg").call(l.setSize,G.width,G.height),k._context.setBackground(k,G.paper_bgcolor),d.drawMainTitle(k),c.manage(k),!G._has("cartesian"))return a.previousPromises(k);function nt(Mt,Rt,Yt){var zt=Mt._lw/2;return Mt._id.charAt(0)==="x"?Rt?Yt==="top"?Rt._offset-Y-zt:Rt._offset+Rt._length+Y+zt:z.t+z.h*(1-(Mt.position||0))+zt%1:Rt?Yt==="right"?Rt._offset+Rt._length+Y+zt:Rt._offset-Y-zt:z.l+z.w*(Mt.position||0)+zt%1}for(L=0;L<Z.length;L++){var S=(I=Z[L])._anchorAxis;I._linepositions={},I._lw=l.crispRound(k,I.linewidth,1),I._mainLinePosition=nt(I,S,I.side),I._mainMirrorPosition=I.mirror&&S?nt(I,S,h.OPPOSITE_SIDE[I.side]):null}var E=[],V=[],Q=[],tt=i.opacity(G.paper_bgcolor)===1&&i.opacity(G.plot_bgcolor)===1&&G.paper_bgcolor===G.plot_bgcolor;for(D in G._plots)if((_=G._plots[D]).mainplot)_.bg&&_.bg.remove(),_.bg=void 0;else{var rt=_.xaxis.domain,ot=_.yaxis.domain,H=_.plotgroup;if(p(rt,ot,Q)){var F=H.node(),R=_.bg=n.ensureSingle(H,"rect","bg");F.insertBefore(R.node(),F.childNodes[0]),V.push(D)}else H.select("rect.bg").remove(),Q.push([rt,ot]),tt||(E.push(D),V.push(D))}var j,J,q,$,et,st,yt,St,Lt,It,it,ft,dt,xt=G._bgLayer.selectAll(".bg").data(E);for(xt.enter().append("rect").classed("bg",!0),xt.exit().remove(),xt.each(function(Mt){G._plots[Mt].bg=f.select(this)}),L=0;L<V.length;L++)_=G._plots[V[L]],O=_.xaxis,N=_.yaxis,_.bg&&O._offset!==void 0&&N._offset!==void 0&&_.bg.call(l.setRect,O._offset-Y,N._offset-Y,O._length+2*Y,N._length+2*Y).call(i.fill,G.plot_bgcolor).style("stroke-width",0);if(!G._hasOnlyLargeSploms)for(D in G._plots){_=G._plots[D],O=_.xaxis,N=_.yaxis;var Pt,Ct,lt=_.clipId="clip"+G._uid+D+"plot",ht=n.ensureSingleById(G._clips,"clipPath",lt,function(Mt){Mt.classed("plotclip",!0).append("rect")});_.clipRect=ht.select("rect").attr({width:O._length,height:N._length}),l.setTranslate(_.plot,O._offset,N._offset),_._hasClipOnAxisFalse?(Pt=null,Ct=lt):(Pt=lt,Ct=null),l.setClipUrl(_.plot,Pt,k),_.layerClipId=Ct}function vt(Mt){return"M"+j+","+Mt+"H"+J}function gt(Mt){return"M"+O._offset+","+Mt+"h"+O._length}function mt(Mt){return"M"+Mt+","+St+"V"+yt}function Tt(Mt){return N._shift!==void 0&&(Mt+=N._shift),"M"+Mt+","+N._offset+"v"+N._length}function kt(Mt,Rt,Yt){if(!Mt.showline||D!==Mt._mainSubplot)return"";if(!Mt._anchorAxis)return Yt(Mt._mainLinePosition);var zt=Rt(Mt._mainLinePosition);return Mt.mirror&&(zt+=Rt(Mt._mainMirrorPosition)),zt}for(D in G._plots){_=G._plots[D],O=_.xaxis,N=_.yaxis;var _t="M0,0";T(O,D)&&(et=P(O,"left",N,Z),j=O._offset-(et?Y+et:0),st=P(O,"right",N,Z),J=O._offset+O._length+(st?Y+st:0),q=nt(O,N,"bottom"),$=nt(O,N,"top"),!(dt=!O._anchorAxis||D!==O._mainSubplot)||O.mirror!=="allticks"&&O.mirror!=="all"||(O._linepositions[D]=[q,$]),_t=kt(O,vt,gt),dt&&O.showline&&(O.mirror==="all"||O.mirror==="allticks")&&(_t+=vt(q)+vt($)),_.xlines.style("stroke-width",O._lw+"px").call(i.stroke,O.showline?O.linecolor:"rgba(0,0,0,0)")),_.xlines.attr("d",_t);var At="M0,0";T(N,D)&&(it=P(N,"bottom",O,Z),yt=N._offset+N._length+(it?Y:0),ft=P(N,"top",O,Z),St=N._offset-(ft?Y:0),Lt=nt(N,O,"left"),It=nt(N,O,"right"),!(dt=!N._anchorAxis||D!==N._mainSubplot)||N.mirror!=="allticks"&&N.mirror!=="all"||(N._linepositions[D]=[Lt,It]),At=kt(N,mt,Tt),dt&&N.showline&&(N.mirror==="all"||N.mirror==="allticks")&&(At+=mt(Lt)+mt(It)),_.ylines.style("stroke-width",N._lw+"px").call(i.stroke,N.showline?N.linecolor:"rgba(0,0,0,0)")),_.ylines.attr("d",At)}return u.makeClipPaths(k),a.previousPromises(k)}function T(k,L){return(k.ticks||k.showline)&&(L===k._mainSubplot||k.mirror==="all"||k.mirror==="allticks")}function A(k,L,D){if(!D.showline||!D._lw)return!1;if(D.mirror==="all"||D.mirror==="allticks")return!0;var _=D._anchorAxis;if(!_)return!1;var I=h.FROM_BL[L];return D.side===L?_.domain[I]===k.domain[I]:D.mirror&&_.domain[1-I]===k.domain[1-I]}function P(k,L,D,_){if(A(k,L,D))return D._lw;for(var I=0;I<_.length;I++){var O=_[I];if(O._mainAxis===D._mainAxis&&A(k,L,O))return O._lw}return 0}d.layoutStyles=function(k){return n.syncOrAsync([a.doAutoMargin,b],k)},d.drawMainTitle=function(k){var L,D=k._fullLayout.title,_=k._fullLayout,I=function(E){var V=E.title,Q="middle";return n.isRightAnchor(V)?Q="end":n.isLeftAnchor(V)&&(Q=w),Q}(_),O=function(E){var V=E.title,Q="0em";return n.isTopAnchor(V)?Q=h.CAP_SHIFT+"em":n.isMiddleAnchor(V)&&(Q=h.MID_SHIFT+"em"),Q}(_),N=function(E,V){var Q=E.title,tt=E._size,rt=0;return V!=="0em"&&V?V===h.CAP_SHIFT+"em"&&(rt=Q.pad.t):rt=-Q.pad.b,Q.y==="auto"?tt.t/2:Q.yref==="paper"?tt.t+tt.h-tt.h*Q.y+rt:E.height-E.height*Q.y+rt}(_,O),G=function(E,V){var Q=E.title,tt=E._size,rt=0;return V===w?rt=Q.pad.l:V==="end"&&(rt=-Q.pad.r),Q.xref==="paper"?tt.l+tt.w*Q.x+rt:E.width*Q.x+rt}(_,I);if(o.draw(k,"gtitle",{propContainer:_,propName:"title.text",placeholder:_._dfltTitle.plot,attributes:{x:G,y:N,"text-anchor":I,dy:O}}),D.text&&D.automargin){var z=f.selectAll(".gtitle"),Y=l.bBox(z.node()).height,Z=function(E,V,Q){var tt=V.y,rt=V.yanchor,ot=tt>.5?"t":"b",H=E._fullLayout.margin[ot],F=0;return V.yref==="paper"?F=Q+V.pad.t+V.pad.b:V.yref==="container"&&(F=function(R,j,J,q,$){var et=0;return J==="middle"&&(et+=$/2),R==="t"?(J==="top"&&(et+=$),et+=q-j*q):(J==="bottom"&&(et+=$),et+=j*q),et}(ot,tt,rt,E._fullLayout.height,Q)+V.pad.t+V.pad.b),F>H?F:0}(k,D,Y);if(Z>0){(function(E,V,Q,tt){var rt="title.automargin",ot=E._fullLayout.title,H=ot.y>.5?"t":"b",F={x:ot.x,y:ot.y,t:0,b:0},R={};ot.yref==="paper"&&function(j,J,q,$,et){var st=J.yref==="paper"?j._fullLayout._size.h:j._fullLayout.height,yt=n.isTopAnchor(J)?$:$-et,St=q==="b"?st-yt:yt;return!(n.isTopAnchor(J)&&q==="t"||n.isBottomAnchor(J)&&q==="b")&&St<et}(E,ot,H,V,tt)?F[H]=Q:ot.yref==="container"&&(R[H]=Q,E._fullLayout._reservedMargin[rt]=R),a.allowAutoMargin(E,rt),a.autoMargin(E,rt,F)})(k,N,Z,Y),z.attr({x:G,y:N,"text-anchor":I,dy:(L=D.yanchor,L==="top"?h.CAP_SHIFT+.3+"em":L==="bottom"?"-0.3em":h.MID_SHIFT+"em")}).call(e.positionText,G,N);var nt=(D.text.match(e.BR_TAG_ALL)||[]).length;if(nt){var S=h.LINE_SPACING*nt+h.MID_SHIFT;D.y===0&&(S=-S),z.selectAll(".line").each(function(){var E=+this.getAttribute("dy").slice(0,-2)-S+"em";this.setAttribute("dy",E)})}}}},d.doTraceStyle=function(k){var L,D=k.calcdata,_=[];for(L=0;L<D.length;L++){var I=D[L],O=I[0]||{},N=O.trace||{},G=N._module||{},z=G.arraysToCalcdata;z&&z(I,N);var Y=G.editStyle;Y&&_.push({fn:Y,cd0:O})}if(_.length){for(L=0;L<_.length;L++){var Z=_[L];Z.fn(k,Z.cd0)}r(k),d.redrawReglTraces(k)}return a.style(k),g.getComponentMethod("legend","draw")(k),a.previousPromises(k)},d.doColorBars=function(k){return g.getComponentMethod("colorbar","draw")(k),a.previousPromises(k)},d.layoutReplot=function(k){var L=k.layout;return k.layout=void 0,g.call("_doPlot",k,"",L)},d.doLegend=function(k){return g.getComponentMethod("legend","draw")(k),a.previousPromises(k)},d.doTicksRelayout=function(k){return u.draw(k,"redraw"),k._fullLayout._hasOnlyLargeSploms&&(g.subplotsRegistry.splom.updateGrid(k),r(k),d.redrawReglTraces(k)),d.drawMainTitle(k),a.previousPromises(k)},d.doModeBar=function(k){var L=k._fullLayout;c.manage(k);for(var D=0;D<L._basePlotModules.length;D++){var _=L._basePlotModules[D].updateFx;_&&_(k)}return a.previousPromises(k)},d.doCamera=function(k){for(var L=k._fullLayout,D=L._subplots.gl3d,_=0;_<D.length;_++){var I=L[D[_]];I._scene.setViewport(I)}},d.drawData=function(k){var L=k._fullLayout;r(k);for(var D=L._basePlotModules,_=0;_<D.length;_++)D[_].plot(k);return d.redrawReglTraces(k),a.style(k),g.getComponentMethod("selections","draw")(k),g.getComponentMethod("shapes","draw")(k),g.getComponentMethod("annotations","draw")(k),g.getComponentMethod("images","draw")(k),L._replotting=!1,a.previousPromises(k)},d.redrawReglTraces=function(k){var L=k._fullLayout;if(L._has("regl")){var D,_,I=k._fullData,O=[],N=[];for(L._hasOnlyLargeSploms&&L._splomGrid.draw(),D=0;D<I.length;D++){var G=I[D];G.visible===!0&&G._length!==0&&(G.type==="splom"?L._splomScenes[G.uid].draw():G.type==="scattergl"?n.pushUnique(O,G.xaxis+G.yaxis):G.type==="scatterpolargl"&&n.pushUnique(N,G.subplot))}for(D=0;D<O.length;D++)(_=L._plots[O[D]])._scene&&_._scene.draw();for(D=0;D<N.length;D++)(_=L[N[D]]._subplot)._scene&&_._scene.draw()}},d.doAutoRangeAndConstraints=function(k){for(var L,D=u.list(k,"",!0),_={},I=0;I<D.length;I++)if(!_[(L=D[I])._id]){_[L._id]=1,v(k,L),x(k,L);var O=L._matchGroup;if(O)for(var N in O){var G=u.getFromId(k,N);x(k,G,L.range),_[N]=1}}m(k)},d.finalDraw=function(k){g.getComponentMethod("rangeslider","draw")(k),g.getComponentMethod("rangeselector","draw")(k)},d.drawMarginPushers=function(k){g.getComponentMethod("legend","draw")(k),g.getComponentMethod("rangeselector","draw")(k),g.getComponentMethod("sliders","draw")(k),g.getComponentMethod("updatemenus","draw")(k),g.getComponentMethod("colorbar","draw")(k)}},6318:function(X,d,t){var f=t(1828),g=f.isPlainObject,a=t(6281),n=t(4875),e=t(9012),r=t(4467),i=t(2075).dfltConfig;function l(x,w){x=f.extendDeep({},x);var p,b,T=Object.keys(x).sort();function A(_,I,O){if(g(I)&&g(_))l(_,I);else if(Array.isArray(I)&&Array.isArray(_)){var N=r.arrayTemplater({_template:x},O);for(b=0;b<I.length;b++){var G=I[b],z=N.newItem(G)._template;z&&l(z,G)}var Y=N.defaultItems();for(b=0;b<Y.length;b++)I.push(Y[b]._template);for(b=0;b<I.length;b++)delete I[b].templateitemname}}for(p=0;p<T.length;p++){var P=T[p],k=x[P];if(P in w?A(k,w[P],P):w[P]=k,o(P)===P)for(var L in w){var D=o(L);L===D||D!==P||L in x||A(k,w[L],P)}}}function o(x){return x.replace(/[0-9]+$/,"")}function c(x,w,p,b,T){var A=T&&p(T);for(var P in x){var k=x[P],L=y(x,P,b),D=y(x,P,T),_=p(D);if(!_){var I=o(P);I!==P&&(_=p(D=y(x,I,T)))}if(!(A&&A===_||!_||_._noTemplating||_.valType==="data_array"||_.arrayOk&&Array.isArray(k)))if(!_.valType&&g(k))c(k,w,p,L,D);else if(_._isLinkedToArray&&Array.isArray(k))for(var O=!1,N=0,G={},z=0;z<k.length;z++){var Y=k[z];if(g(Y)){var Z=Y.name;if(Z)G[Z]||(c(Y,w,p,y(k,N,L),y(k,N,D)),N++,G[Z]=1);else if(!O){var nt=y(x,r.arrayDefaultKey(P),b),S=y(k,N,L);c(Y,w,p,S,y(k,N,D));var E=f.nestedProperty(w,S);f.nestedProperty(w,nt).set(E.get()),E.set(null),O=!0}}}else f.nestedProperty(w,L).set(k)}}function u(x,w){return a.getLayoutValObject(x,f.nestedProperty({},w).parts)}function h(x,w){return a.getTraceValObject(x,f.nestedProperty({},w).parts)}function y(x,w,p){return p?Array.isArray(x)?p+"["+w+"]":p+"."+w:w}function m(x){for(var w=0;w<x.length;w++)if(g(x[w]))return!0}function v(x){var w;switch(x.code){case"data":w="The template has no key data.";break;case"layout":w="The template has no key layout.";break;case"missing":w=x.path?"There are no templates for item "+x.path+" with name "+x.templateitemname:"There are no templates for trace "+x.index+", of type "+x.traceType+".";break;case"unused":w=x.path?"The template item at "+x.path+" was not used in constructing the plot.":x.dataCount?"Some of the templates of type "+x.traceType+" were not used. The template has "+x.templateCount+" traces, the data only has "+x.dataCount+" of this type.":"The template has "+x.templateCount+" traces of type "+x.traceType+" but there are none in the data.";break;case"reused":w="Some of the templates of type "+x.traceType+" were used more than once. The template has "+x.templateCount+" traces, the data has "+x.dataCount+" of this type."}return x.msg=w,x}d.makeTemplate=function(x){x=f.isPlainObject(x)?x:f.getGraphDiv(x),x=f.extendDeep({_context:i},{data:x.data,layout:x.layout}),n.supplyDefaults(x);var w=x.data||[],p=x.layout||{};p._basePlotModules=x._fullLayout._basePlotModules,p._modules=x._fullLayout._modules;var b={data:{},layout:{}};w.forEach(function(N){var G={};c(N,G,h.bind(null,N));var z=f.coerce(N,{},e,"type"),Y=b.data[z];Y||(Y=b.data[z]=[]),Y.push(G)}),c(p,b.layout,u.bind(null,p)),delete b.layout.template;var T=p.template;if(g(T)){var A,P,k,L,D,_,I=T.layout;g(I)&&l(I,b.layout);var O=T.data;if(g(O)){for(P in b.data)if(k=O[P],Array.isArray(k)){for(_=(D=b.data[P]).length,L=k.length,A=0;A<_;A++)l(k[A%L],D[A]);for(A=_;A<L;A++)D.push(f.extendDeep({},k[A]))}for(P in O)P in b.data||(b.data[P]=f.extendDeep([],O[P]))}}return b},d.validateTemplate=function(x,w){var p=f.extendDeep({},{_context:i,data:x.data,layout:x.layout}),b=p.layout||{};g(w)||(w=b.template||{});var T=w.layout,A=w.data,P=[];p.layout=b,p.layout.template=w,n.supplyDefaults(p);var k=p._fullLayout,L=p._fullData,D={};if(g(T)?(function Y(Z,nt){for(var S in Z)if(S.charAt(0)!=="_"&&g(Z[S])){var E,V=o(S),Q=[];for(E=0;E<nt.length;E++)Q.push(y(Z,S,nt[E])),V!==S&&Q.push(y(Z,V,nt[E]));for(E=0;E<Q.length;E++)D[Q[E]]=1;Y(Z[S],Q)}}(k,["layout"]),function Y(Z,nt){for(var S in Z)if(S.indexOf("defaults")===-1&&g(Z[S])){var E=y(Z,S,nt);D[E]?Y(Z[S],E):P.push({code:"unused",path:E})}}(T,"layout")):P.push({code:"layout"}),g(A)){for(var _,I={},O=0;O<L.length;O++){var N=L[O];I[_=N.type]=(I[_]||0)+1,N._fullInput._template||P.push({code:"missing",index:N._fullInput.index,traceType:_})}for(_ in A){var G=A[_].length,z=I[_]||0;G>z?P.push({code:"unused",traceType:_,templateCount:G,dataCount:z}):z>G&&P.push({code:"reused",traceType:_,templateCount:G,dataCount:z})}}else P.push({code:"data"});if(function Y(Z,nt){for(var S in Z)if(S.charAt(0)!=="_"){var E=Z[S],V=y(Z,S,nt);g(E)?(Array.isArray(Z)&&E._template===!1&&E.templateitemname&&P.push({code:"missing",path:V,templateitemname:E.templateitemname}),Y(E,V)):Array.isArray(E)&&m(E)&&Y(E,V)}}({data:L,layout:k},""),P.length)return P.map(v)}},403:function(X,d,t){var f=t(2770),g=t(2391),a=t(4875),n=t(1828),e=t(5095),r=t(5900),i=t(942),l=t(1506).version,o={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};X.exports=function(c,u){var h,y,m,v;function x(z){return!(z in u)||n.validate(u[z],o[z])}if(u=u||{},n.isPlainObject(c)?(h=c.data||[],y=c.layout||{},m=c.config||{},v={}):(c=n.getGraphDiv(c),h=n.extendDeep([],c.data),y=n.extendDeep({},c.layout),m=c._context,v=c._fullLayout||{}),!x("width")&&u.width!==null||!x("height")&&u.height!==null)throw new Error("Height and width should be pixel values.");if(!x("format"))throw new Error("Export format is not "+n.join2(o.format.values,", "," or ")+".");var w={};function p(z,Y){return n.coerce(u,w,o,z,Y)}var b=p("format"),T=p("width"),A=p("height"),P=p("scale"),k=p("setBackground"),L=p("imageDataOnly"),D=document.createElement("div");D.style.position="absolute",D.style.left="-5000px",document.body.appendChild(D);var _=n.extendFlat({},y);T?_.width=T:u.width===null&&f(v.width)&&(_.width=v.width),A?_.height=A:u.height===null&&f(v.height)&&(_.height=v.height);var I=n.extendFlat({},m,{_exportedPlot:!0,staticPlot:!0,setBackground:k}),O=e.getRedrawFunc(D);function N(){return new Promise(function(z){setTimeout(z,e.getDelay(D._fullLayout))})}function G(){return new Promise(function(z,Y){var Z=r(D,b,P),nt=D._fullLayout.width,S=D._fullLayout.height;function E(){g.purge(D),document.body.removeChild(D)}if(b==="full-json"){var V=a.graphJson(D,!1,"keepdata","object",!0,!0);return V.version=l,V=JSON.stringify(V),E(),z(L?V:e.encodeJSON(V))}if(E(),b==="svg")return z(L?Z:e.encodeSVG(Z));var Q=document.createElement("canvas");Q.id=n.randstr(),i({format:b,width:nt,height:S,scale:P,canvas:Q,svg:Z,promise:!0}).then(z).catch(Y)})}return new Promise(function(z,Y){g.newPlot(D,h,_,I).then(O).then(N).then(G).then(function(Z){z(function(nt){return L?nt.replace(e.IMAGE_URL_PREFIX,""):nt}(Z))}).catch(function(Z){Y(Z)})})}},4936:function(X,d,t){var f=t(1828),g=t(4875),a=t(6281),n=t(2075).dfltConfig,e=f.isPlainObject,r=Array.isArray,i=f.isArrayOrTypedArray;function l(x,w,p,b,T,A){A=A||[];for(var P=Object.keys(x),k=0;k<P.length;k++){var L=P[k];if(L!=="transforms"){var D=A.slice();D.push(L);var _=x[L],I=w[L],O=y(p,L),N=(O||{}).valType,G=N==="info_array",z=N==="colorscale",Y=(O||{}).items;if(h(p,L))if(e(_)&&e(I)&&N!=="any")l(_,I,O,b,T,D);else if(G&&r(_)){_.length>I.length&&b.push(u("unused",T,D.concat(I.length)));var Z,nt,S,E,V,Q=I.length,tt=Array.isArray(Y);if(tt&&(Q=Math.min(Q,Y.length)),O.dimensions===2)for(nt=0;nt<Q;nt++)if(r(_[nt])){_[nt].length>I[nt].length&&b.push(u("unused",T,D.concat(nt,I[nt].length)));var rt=I[nt].length;for(Z=0;Z<(tt?Math.min(rt,Y[nt].length):rt);Z++)S=tt?Y[nt][Z]:Y,E=_[nt][Z],V=I[nt][Z],f.validate(E,S)?V!==E&&V!==+E&&b.push(u("dynamic",T,D.concat(nt,Z),E,V)):b.push(u("value",T,D.concat(nt,Z),E))}else b.push(u("array",T,D.concat(nt),_[nt]));else for(nt=0;nt<Q;nt++)S=tt?Y[nt]:Y,E=_[nt],V=I[nt],f.validate(E,S)?V!==E&&V!==+E&&b.push(u("dynamic",T,D.concat(nt),E,V)):b.push(u("value",T,D.concat(nt),E))}else if(O.items&&!G&&r(_)){var ot,H,F=Y[Object.keys(Y)[0]],R=[];for(ot=0;ot<I.length;ot++){var j=I[ot]._index||ot;if((H=D.slice()).push(j),e(_[j])&&e(I[ot])){R.push(j);var J=_[j],q=I[ot];e(J)&&J.visible!==!1&&q.visible===!1?b.push(u("invisible",T,H)):l(J,q,F,b,T,H)}}for(ot=0;ot<_.length;ot++)(H=D.slice()).push(ot),e(_[ot])?R.indexOf(ot)===-1&&b.push(u("unused",T,H)):b.push(u("object",T,H,_[ot]))}else!e(_)&&e(I)?b.push(u("object",T,D,_)):i(_)||!i(I)||G||z?L in w?f.validate(_,O)?O.valType==="enumerated"&&(O.coerceNumber&&_!==+I||_!==I)&&b.push(u("dynamic",T,D,_,I)):b.push(u("value",T,D,_)):b.push(u("unused",T,D,_)):b.push(u("array",T,D,_));else b.push(u("schema",T,D))}}return b}X.exports=function(x,w){x===void 0&&(x=[]),w===void 0&&(w={});var p,b,T=a.get(),A=[],P={_context:f.extendFlat({},n)};r(x)?(P.data=f.extendDeep([],x),p=x):(P.data=[],p=[],A.push(u("array","data"))),e(w)?(P.layout=f.extendDeep({},w),b=w):(P.layout={},b={},arguments.length>1&&A.push(u("object","layout"))),g.supplyDefaults(P);for(var k=P._fullData,L=p.length,D=0;D<L;D++){var _=p[D],I=["data",D];if(e(_)){var O=k[D],N=O.type,G=T.traces[N].attributes;G.type={valType:"enumerated",values:[N]},O.visible===!1&&_.visible!==!1&&A.push(u("invisible",I)),l(_,O,G,A,I);var z=_.transforms,Y=O.transforms;if(z){r(z)||A.push(u("array",I,["transforms"])),I.push("transforms");for(var Z=0;Z<z.length;Z++){var nt=["transforms",Z],S=z[Z].type;if(e(z[Z])){var E=T.transforms[S]?T.transforms[S].attributes:{};E.type={valType:"enumerated",values:Object.keys(T.transforms)},l(z[Z],Y[Z],E,A,I,nt)}else A.push(u("object",I,nt))}}}else A.push(u("object",I))}var V=P._fullLayout,Q=function(tt,rt){for(var ot=tt.layout.layoutAttributes,H=0;H<rt.length;H++){var F=rt[H],R=tt.traces[F.type],j=R.layoutAttributes;j&&(F.subplot?f.extendFlat(ot[R.attributes.subplot.dflt],j):f.extendFlat(ot,j))}return ot}(T,k);return l(b,V,Q,A,"layout"),A.length===0?void 0:A};var o={object:function(x,w){return(x==="layout"&&w===""?"The layout argument":x[0]==="data"&&w===""?"Trace "+x[1]+" in the data argument":c(x)+"key "+w)+" must be linked to an object container"},array:function(x,w){return(x==="data"?"The data argument":c(x)+"key "+w)+" must be linked to an array container"},schema:function(x,w){return c(x)+"key "+w+" is not part of the schema"},unused:function(x,w,p){var b=e(p)?"container":"key";return c(x)+b+" "+w+" did not get coerced"},dynamic:function(x,w,p,b){return[c(x)+"key",w,"(set to '"+p+"')","got reset to","'"+b+"'","during defaults."].join(" ")},invisible:function(x,w){return(w?c(x)+"item "+w:"Trace "+x[1])+" got defaulted to be not visible"},value:function(x,w,p){return[c(x)+"key "+w,"is set to an invalid value ("+p+")"].join(" ")}};function c(x){return r(x)?"In data trace "+x[1]+", ":"In "+x+", "}function u(x,w,p,b,T){var A,P;p=p||"",r(w)?(A=w[0],P=w[1]):(A=w,P=null);var k=function(D){if(!r(D))return String(D);for(var _="",I=0;I<D.length;I++){var O=D[I];typeof O=="number"?_=_.substr(0,_.length-1)+"["+O+"]":_+=O,I<D.length-1&&(_+=".")}return _}(p),L=o[x](w,k,b,T);return f.log(L),{code:x,container:A,trace:P,path:p,astr:k,msg:L}}function h(x,w){var p=v(w),b=p.keyMinusId,T=p.id;return!!(b in x&&x[b]._isSubplotObj&&T)||w in x}function y(x,w){return w in x?x[w]:x[v(w).keyMinusId]}var m=f.counterRegex("([a-z]+)");function v(x){var w=x.match(m);return{keyMinusId:w&&w[1],id:w&&w[2]}}},5594:function(X){X.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},5501:function(X,d,t){var f=t(1828),g=t(4467);X.exports=function(a,n,e){var r,i,l=e.name,o=e.inclusionAttr||"visible",c=n[l],u=f.isArrayOrTypedArray(a[l])?a[l]:[],h=n[l]=[],y=g.arrayTemplater(n,l,o);for(r=0;r<u.length;r++){var m=u[r];f.isPlainObject(m)?i=y.newItem(m):(i=y.newItem({}))[o]=!1,i._index=r,i[o]!==!1&&e.handleItemDefaults(m,i,n,e),h.push(i)}var v=y.defaultItems();for(r=0;r<v.length;r++)(i=v[r])._index=h.length,e.handleItemDefaults({},i,n,e,{}),h.push(i);if(f.isArrayOrTypedArray(c)){var x=Math.min(c.length,h.length);for(r=0;r<x;r++)f.relinkPrivateKeys(h[r],c[r])}return h}},9012:function(X,d,t){var f=t(1940),g=t(7914);X.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:f({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:g.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},2973:function(X,d,t){var f=t(2770),g=t(1828),a=g.dateTime2ms,n=g.incrementMonth,e=t(606).ONEAVGMONTH;X.exports=function(r,i,l,o){if(i.type!=="date")return{vals:o};var c=r[l+"periodalignment"];if(!c)return{vals:o};var u,h=r[l+"period"];if(f(h)){if((h=+h)<=0)return{vals:o}}else if(typeof h=="string"&&h.charAt(0)==="M"){var y=+h.substring(1);if(!(y>0&&Math.round(y)===y))return{vals:o};u=y}for(var m=i.calendar,v=c==="start",x=c==="end",w=r[l+"period0"],p=a(w,m)||0,b=[],T=[],A=[],P=o.length,k=0;k<P;k++){var L,D,_,I=o[k];if(u){for(L=Math.round((I-p)/(u*e)),_=n(p,u*L,m);_>I;)_=n(_,-u,m);for(;_<=I;)_=n(_,u,m);D=n(_,-u,m)}else{for(_=p+(L=Math.round((I-p)/h))*h;_>I;)_-=h;for(;_<=I;)_+=h;D=_-h}b[k]=v?D:x?_:(D+_)/2,T[k]=D,A[k]=_}return{vals:b,starts:T,ends:A}}},9502:function(X){X.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},1739:function(X,d,t){var f=t(9898),g=t(2770),a=t(1828),n=t(606).FP_SAFE,e=t(3972),r=t(1424),i=t(1675),l=i.getFromId,o=i.isLinked;function c(k,L){var D,_,I=[],O=k._fullLayout,N=h(O,L,0),G=h(O,L,1),z=m(k,L),Y=z.min,Z=z.max;if(Y.length===0||Z.length===0)return a.simpleMap(L.range,L.r2l);var nt=Y[0].val,S=Z[0].val;for(D=1;D<Y.length&&nt===S;D++)nt=Math.min(nt,Y[D].val);for(D=1;D<Z.length&&nt===S;D++)S=Math.max(S,Z[D].val);var E=L.autorange,V=E==="reversed"||E==="min reversed"||E==="max reversed";if(!V&&L.range){var Q=a.simpleMap(L.range,L.r2l);V=Q[1]<Q[0]}L.autorange==="reversed"&&(L.autorange=!0);var tt,rt,ot,H,F,R,j=L.rangemode,J=j==="tozero",q=j==="nonnegative",$=L._length,et=$/10,st=0;for(D=0;D<Y.length;D++)for(tt=Y[D],_=0;_<Z.length;_++)(R=(rt=Z[_]).val-tt.val-u(L,tt.val,rt.val))>0&&((F=$-N(tt)-G(rt))>et?R/F>st&&(ot=tt,H=rt,st=R/F):R/$>st&&(ot={val:tt.val,nopad:1},H={val:rt.val,nopad:1},st=R/$));if(nt===S){var yt=nt-1,St=nt+1;if(J)if(nt===0)I=[0,1];else{var Lt=(nt>0?Z:Y).reduce(function(it,ft){return Math.max(it,G(ft))},0),It=nt/(1-Math.min(.5,Lt/$));I=nt>0?[0,It]:[It,0]}else I=q?[Math.max(0,yt),Math.max(1,St)]:[yt,St]}else J?(ot.val>=0&&(ot={val:0,nopad:1}),H.val<=0&&(H={val:0,nopad:1})):q&&(ot.val-st*N(ot)<0&&(ot={val:0,nopad:1}),H.val<=0&&(H={val:1,nopad:1})),st=(H.val-ot.val-u(L,tt.val,rt.val))/($-N(ot)-G(H)),I=[ot.val-st*N(ot),H.val+st*G(H)];return I=P(I,L),L.limitRange&&L.limitRange(),V&&I.reverse(),a.simpleMap(I,L.l2r||Number)}function u(k,L,D){var _=0;if(k.rangebreaks)for(var I=k.locateBreaks(L,D),O=0;O<I.length;O++){var N=I[O];_+=N.max-N.min}return _}function h(k,L,D){var _=.05*L._length,I=L._anchorAxis||{};if((L.ticklabelposition||"").indexOf("inside")!==-1||(I.ticklabelposition||"").indexOf("inside")!==-1){var O=L.isReversed();if(!O){var N=a.simpleMap(L.range,L.r2l);O=N[1]<N[0]}O&&(D=!D)}var G=0;return o(k,L._id)||(G=function(z,Y,Z){var nt=0,S=Y._id.charAt(0)==="x";for(var E in z._plots){var V=z._plots[E];if(Y._id===V.xaxis._id||Y._id===V.yaxis._id){var Q=(S?V.yaxis:V.xaxis)||{};if((Q.ticklabelposition||"").indexOf("inside")!==-1&&(!Z&&(Q.side==="left"||Q.side==="bottom")||Z&&(Q.side==="top"||Q.side==="right"))){if(Q._vals){var tt=a.deg2rad(Q._tickAngles[Q._id+"tick"]||0),rt=Math.abs(Math.cos(tt)),ot=Math.abs(Math.sin(tt));if(!Q._vals[0].bb){var H=Q._id+"tick";Q._selections[H].each(function(q){var $=f.select(this);$.select(".text-math-group").empty()&&(q.bb=r.bBox($.node()))})}for(var F=0;F<Q._vals.length;F++){var R=Q._vals[F].bb;if(R){var j=2*y+R.width,J=2*y+R.height;nt=Math.max(nt,S?Math.max(j*rt,J*ot):Math.max(J*rt,j*ot))}}}Q.ticks==="inside"&&Q.ticklabelposition==="inside"&&(nt+=Q.ticklen||0)}}}return nt}(k,L,D)),_=Math.max(G,_),L.constrain==="domain"&&L._inputDomain&&(_*=(L._inputDomain[1]-L._inputDomain[0])/(L.domain[1]-L.domain[0])),function(z){return z.nopad?0:z.pad+(z.extrapad?_:G)}}X.exports={applyAutorangeOptions:P,getAutoRange:c,makePadFn:h,doAutoRange:function(k,L,D){if(L.setScale(),L.autorange){L.range=D?D.slice():c(k,L),L._r=L.range.slice(),L._rl=a.simpleMap(L._r,L.r2l);var _=L._input,I={};I[L._attr+".range"]=L.range,I[L._attr+".autorange"]=L.autorange,e.call("_storeDirectGUIEdit",k.layout,k._fullLayout._preGUI,I),_.range=L.range.slice(),_.autorange=L.autorange}var O=L._anchorAxis;if(O&&O.rangeslider){var N=O.rangeslider[L._name];N&&N.rangemode==="auto"&&(N.range=c(k,L)),O._input.rangeslider[L._name]=a.extendFlat({},N)}},findExtremes:function(k,L,D){D||(D={}),k._m||k.setScale();var _,I,O,N,G,z,Y,Z,nt,S=[],E=[],V=L.length,Q=D.padded||!1,tt=D.tozero&&(k.type==="linear"||k.type==="-"),rt=k.type==="log",ot=!1,H=D.vpadLinearized||!1;function F(yt){if(Array.isArray(yt))return ot=!0,function(Lt){return Math.max(Number(yt[Lt]||0),0)};var St=Math.max(Number(yt||0),0);return function(){return St}}var R=F((k._m>0?D.ppadplus:D.ppadminus)||D.ppad||0),j=F((k._m>0?D.ppadminus:D.ppadplus)||D.ppad||0),J=F(D.vpadplus||D.vpad),q=F(D.vpadminus||D.vpad);if(!ot){if(Z=1/0,nt=-1/0,rt)for(_=0;_<V;_++)(I=L[_])<Z&&I>0&&(Z=I),I>nt&&I<n&&(nt=I);else for(_=0;_<V;_++)(I=L[_])<Z&&I>-n&&(Z=I),I>nt&&I<n&&(nt=I);L=[Z,nt],V=2}var $={tozero:tt,extrapad:Q};function et(yt){O=L[yt],g(O)&&(z=R(yt),Y=j(yt),H?(N=k.c2l(O)-q(yt),G=k.c2l(O)+J(yt)):(Z=O-q(yt),nt=O+J(yt),rt&&Z<nt/10&&(Z=nt/10),N=k.c2l(Z),G=k.c2l(nt)),tt&&(N=Math.min(0,N),G=Math.max(0,G)),p(N)&&v(S,N,Y,$),p(G)&&x(E,G,z,$))}var st=Math.min(6,V);for(_=0;_<st;_++)et(_);for(_=V-1;_>=st;_--)et(_);return{min:S,max:E,opts:D}},concatExtremes:m};var y=3;function m(k,L,D){var _,I,O,N=L._id,G=k._fullData,z=k._fullLayout,Y=[],Z=[];function nt(tt,rt){for(_=0;_<rt.length;_++){var ot=tt[rt[_]],H=(ot._extremes||{})[N];if(ot.visible===!0&&H){for(I=0;I<H.min.length;I++)O=H.min[I],v(Y,O.val,O.pad,{extrapad:O.extrapad});for(I=0;I<H.max.length;I++)O=H.max[I],x(Z,O.val,O.pad,{extrapad:O.extrapad})}}}if(nt(G,L._traceIndices),nt(z.annotations||[],L._annIndices||[]),nt(z.shapes||[],L._shapeIndices||[]),L._matchGroup&&!D){for(var S in L._matchGroup)if(S!==L._id){var E=l(k,S),V=m(k,E,!0),Q=L._length/E._length;for(I=0;I<V.min.length;I++)O=V.min[I],v(Y,O.val,O.pad*Q,{extrapad:O.extrapad});for(I=0;I<V.max.length;I++)O=V.max[I],x(Z,O.val,O.pad*Q,{extrapad:O.extrapad})}}return{min:Y,max:Z}}function v(k,L,D,_){w(k,L,D,_,b)}function x(k,L,D,_){w(k,L,D,_,T)}function w(k,L,D,_,I){for(var O=_.tozero,N=_.extrapad,G=!0,z=0;z<k.length&&G;z++){var Y=k[z];if(I(Y.val,L)&&Y.pad>=D&&(Y.extrapad||!N)){G=!1;break}I(L,Y.val)&&Y.pad<=D&&(N||!Y.extrapad)&&(k.splice(z,1),z--)}if(G){var Z=O&&L===0;k.push({val:L,pad:Z?0:D,extrapad:!Z&&N})}}function p(k){return g(k)&&Math.abs(k)<n}function b(k,L){return k<=L}function T(k,L){return k>=L}function A(k,L,D){return L===void 0||D===void 0||(L=k.d2l(L))<k.d2l(D)}function P(k,L){if(!L||!L.autorangeoptions)return k;var D=k[0],_=k[1],I=L.autorangeoptions.include;if(I!==void 0){var O=L.d2l(D),N=L.d2l(_);a.isArrayOrTypedArray(I)||(I=[I]);for(var G=0;G<I.length;G++){var z=L.d2l(I[G]);O>=z&&(O=z,D=z),N<=z&&(N=z,_=z)}}return D=function(Y,Z){var nt=Z.autorangeoptions;return nt&&nt.minallowed!==void 0&&A(Z,nt.minallowed,nt.maxallowed)?nt.minallowed:nt&&nt.clipmin!==void 0&&A(Z,nt.clipmin,nt.clipmax)?Math.max(Y,Z.d2l(nt.clipmin)):Y}(D,L),_=function(Y,Z){var nt=Z.autorangeoptions;return nt&&nt.maxallowed!==void 0&&A(Z,nt.minallowed,nt.maxallowed)?nt.maxallowed:nt&&nt.clipmax!==void 0&&A(Z,nt.clipmin,nt.clipmax)?Math.min(Y,Z.d2l(nt.clipmax)):Y}(_,L),[D,_]}},3074:function(X){X.exports=function(d,t,f){var g,a;if(f){var n=t==="reversed"||t==="min reversed"||t==="max reversed";g=f[n?1:0],a=f[n?0:1]}var e=d("autorangeoptions.minallowed",a===null?g:void 0),r=d("autorangeoptions.maxallowed",g===null?a:void 0);e===void 0&&d("autorangeoptions.clipmin"),r===void 0&&d("autorangeoptions.clipmax"),d("autorangeoptions.include")}},9298:function(X,d,t){var f=t(9898),g=t(2770),a=t(4875),n=t(3972),e=t(1828),r=e.strTranslate,i=t(3893),l=t(2998),o=t(7901),c=t(1424),u=t(3838),h=t(6287),y=t(606),m=y.ONEMAXYEAR,v=y.ONEAVGYEAR,x=y.ONEMINYEAR,w=y.ONEMAXQUARTER,p=y.ONEAVGQUARTER,b=y.ONEMINQUARTER,T=y.ONEMAXMONTH,A=y.ONEAVGMONTH,P=y.ONEMINMONTH,k=y.ONEWEEK,L=y.ONEDAY,D=L/2,_=y.ONEHOUR,I=y.ONEMIN,O=y.ONESEC,N=y.MINUS_SIGN,G=y.BADNUM,z={K:"zeroline"},Y={K:"gridline",L:"path"},Z={K:"minor-gridline",L:"path"},nt={K:"tick",L:"path"},S={K:"tick",L:"text"},E={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},V=t(8783),Q=V.MID_SHIFT,tt=V.CAP_SHIFT,rt=V.LINE_SPACING,ot=V.OPPOSITE_SIDE,H=X.exports={};H.setConvert=t(1994);var F=t(4322),R=t(1675),j=R.idSort,J=R.isLinked;H.id2name=R.id2name,H.name2id=R.name2id,H.cleanId=R.cleanId,H.list=R.list,H.listIds=R.listIds,H.getFromId=R.getFromId,H.getFromTrace=R.getFromTrace;var q=t(1739);H.getAutoRange=q.getAutoRange,H.findExtremes=q.findExtremes;var $=1e-4;function et(K){var at=(K[1]-K[0])*$;return[K[0]-at,K[1]+at]}H.coerceRef=function(K,at,Et,Ot,Bt,Nt){var Ht=Ot.charAt(Ot.length-1),Zt=Et._fullLayout._subplots[Ht+"axis"],Qt=Ot+"ref",oe={};return Bt||(Bt=Zt[0]||(typeof Nt=="string"?Nt:Nt[0])),Nt||(Nt=Bt),Zt=Zt.concat(Zt.map(function(qt){return qt+" domain"})),oe[Qt]={valType:"enumerated",values:Zt.concat(Nt?typeof Nt=="string"?[Nt]:Nt:[]),dflt:Bt},e.coerce(K,at,oe,Qt)},H.getRefType=function(K){return K===void 0?K:K==="paper"?"paper":K==="pixel"?"pixel":/( domain)$/.test(K)?"domain":"range"},H.coercePosition=function(K,at,Et,Ot,Bt,Nt){var Ht,Zt;if(H.getRefType(Ot)!=="range")Ht=e.ensureNumber,Zt=Et(Bt,Nt);else{var Qt=H.getFromId(at,Ot);Zt=Et(Bt,Nt=Qt.fraction2r(Nt)),Ht=Qt.cleanPos}K[Bt]=Ht(Zt)},H.cleanPosition=function(K,at,Et){return(Et==="paper"||Et==="pixel"?e.ensureNumber:H.getFromId(at,Et).cleanPos)(K)},H.redrawComponents=function(K,at){at=at||H.listIds(K);var Et=K._fullLayout;function Ot(Bt,Nt,Ht,Zt){for(var Qt=n.getComponentMethod(Bt,Nt),oe={},qt=0;qt<at.length;qt++)for(var Te=Et[H.id2name(at[qt])][Ht],Re=0;Re<Te.length;Re++){var pe=Te[Re];if(!oe[pe]&&(Qt(K,pe),oe[pe]=1,Zt))return}}Ot("annotations","drawOne","_annIndices"),Ot("shapes","drawOne","_shapeIndices"),Ot("images","draw","_imgIndices",!0),Ot("selections","drawOne","_selectionIndices")};var st=H.getDataConversions=function(K,at,Et,Ot){var Bt,Nt=Et==="x"||Et==="y"||Et==="z"?Et:Ot;if(Array.isArray(Nt)){if(Bt={type:F(Ot,void 0,{autotypenumbers:K._fullLayout.autotypenumbers}),_categories:[]},H.setConvert(Bt),Bt.type==="category")for(var Ht=0;Ht<Ot.length;Ht++)Bt.d2c(Ot[Ht])}else Bt=H.getFromTrace(K,at,Nt);return Bt?{d2c:Bt.d2c,c2d:Bt.c2d}:Nt==="ids"?{d2c:St,c2d:St}:{d2c:yt,c2d:yt}};function yt(K){return+K}function St(K){return String(K)}function Lt(K,at){return Math.abs((K/at+.5)%1-.5)<.001}function It(K,at){return Math.abs(K/at-1)<.001}function it(K){return+K.substring(1)}function ft(K,at){return K.rangebreaks&&(at=at.filter(function(Et){return K.maskBreaks(Et.x)!==G})),at}function dt(K){var at=K._mainAxis,Et=[];if(at._vals){for(var Ot=0;Ot<at._vals.length;Ot++)if(!at._vals[Ot].noTick){var Bt=at.l2p(at._vals[Ot].x),Nt=K.p2l(Bt),Ht=H.tickText(K,Nt);at._vals[Ot].minor&&(Ht.minor=!0,Ht.text=""),Et.push(Ht)}}return ft(K,Et)}function xt(K){var at=et(e.simpleMap(K.range,K.r2l)),Et=Math.min(at[0],at[1]),Ot=Math.max(at[0],at[1]),Bt=K.type==="category"?K.d2l_noadd:K.d2l;K.type==="log"&&String(K.dtick).charAt(0)!=="L"&&(K.dtick="L"+Math.pow(10,Math.floor(Math.min(K.range[0],K.range[1]))-1));for(var Nt=[],Ht=0;Ht<=1;Ht++)if(!Ht||K.minor){var Zt=Ht?K.minor.tickvals:K.tickvals,Qt=Ht?[]:K.ticktext;if(Zt){Array.isArray(Qt)||(Qt=[]);for(var oe=0;oe<Zt.length;oe++){var qt=Bt(Zt[oe]);if(qt>Et&&qt<Ot){var Te=Qt[oe]===void 0?H.tickText(K,qt):_t(K,qt,String(Qt[oe]));Ht&&(Te.minor=!0,Te.text=""),Nt.push(Te)}}}}return ft(K,Nt)}H.getDataToCoordFunc=function(K,at,Et,Ot){return st(K,at,Et,Ot).d2c},H.counterLetter=function(K){var at=K.charAt(0);return at==="x"?"y":at==="y"?"x":void 0},H.minDtick=function(K,at,Et,Ot){["log","category","multicategory"].indexOf(K.type)===-1&&Ot?K._minDtick===void 0?(K._minDtick=at,K._forceTick0=Et):K._minDtick&&((K._minDtick/at+1e-6)%1<2e-6&&((Et-K._forceTick0)/at%1+1.000001)%1<2e-6?(K._minDtick=at,K._forceTick0=Et):((at/K._minDtick+1e-6)%1>2e-6||((Et-K._forceTick0)/K._minDtick%1+1.000001)%1>2e-6)&&(K._minDtick=0)):K._minDtick=0},H.saveRangeInitial=function(K,at){for(var Et=H.list(K,"",!0),Ot=!1,Bt=0;Bt<Et.length;Bt++){var Nt=Et[Bt],Ht=Nt._rangeInitial0===void 0&&Nt._rangeInitial1===void 0,Zt=Ht||Nt.range[0]!==Nt._rangeInitial0||Nt.range[1]!==Nt._rangeInitial1,Qt=Nt.autorange;(Ht&&Qt!==!0||at&&Zt)&&(Nt._rangeInitial0=Qt==="min"||Qt==="max reversed"?void 0:Nt.range[0],Nt._rangeInitial1=Qt==="max"||Qt==="min reversed"?void 0:Nt.range[1],Nt._autorangeInitial=Qt,Ot=!0)}return Ot},H.saveShowSpikeInitial=function(K,at){for(var Et=H.list(K,"",!0),Ot=!1,Bt="on",Nt=0;Nt<Et.length;Nt++){var Ht=Et[Nt],Zt=Ht._showSpikeInitial===void 0,Qt=Zt||Ht.showspikes!==Ht._showspikes;(Zt||at&&Qt)&&(Ht._showSpikeInitial=Ht.showspikes,Ot=!0),Bt!=="on"||Ht.showspikes||(Bt="off")}return K._fullLayout._cartesianSpikesEnabled=Bt,Ot},H.autoBin=function(K,at,Et,Ot,Bt,Nt){var Ht,Zt=e.aggNums(Math.min,null,K),Qt=e.aggNums(Math.max,null,K);if(at.type==="category"||at.type==="multicategory")return{start:Zt-.5,end:Qt+.5,size:Math.max(1,Math.round(Nt)||1),_dataSpan:Qt-Zt};if(Bt||(Bt=at.calendar),Ht=at.type==="log"?{type:"linear",range:[Zt,Qt]}:{type:at.type,range:e.simpleMap([Zt,Qt],at.c2r,0,Bt),calendar:Bt},H.setConvert(Ht),Nt=Nt&&h.dtick(Nt,Ht.type))Ht.dtick=Nt,Ht.tick0=h.tick0(void 0,Ht.type,Bt);else{var oe;if(Et)oe=(Qt-Zt)/Et;else{var qt=e.distinctVals(K),Te=Math.pow(10,Math.floor(Math.log(qt.minDiff)/Math.LN10)),Re=Te*e.roundUp(qt.minDiff/Te,[.9,1.9,4.9,9.9],!0);oe=Math.max(Re,2*e.stdev(K)/Math.pow(K.length,Ot?.25:.4)),g(oe)||(oe=1)}H.autoTicks(Ht,oe)}var pe,Se=Ht.dtick,Me=H.tickIncrement(H.tickFirst(Ht),Se,"reverse",Bt);if(typeof Se=="number")Me=function(re,$t,ve,Ee,Fe){var je=0,le=0,be=0,we=0;function Ce(Ne){return(1+100*(Ne-re)/ve.dtick)%100<2}for(var Le=0;Le<$t.length;Le++)$t[Le]%1==0?be++:g($t[Le])||we++,Ce($t[Le])&&je++,Ce($t[Le]+ve.dtick/2)&&le++;var Oe=$t.length-we;if(be===Oe&&ve.type!=="date")ve.dtick<1?re=Ee-.5*ve.dtick:(re-=.5)+ve.dtick<Ee&&(re+=ve.dtick);else if(le<.1*Oe&&(je>.3*Oe||Ce(Ee)||Ce(Fe))){var Ae=ve.dtick/2;re+=re+Ae<Ee?Ae:-Ae}return re}(Me,K,Ht,Zt,Qt),pe=Me+(1+Math.floor((Qt-Me)/Se))*Se;else for(Ht.dtick.charAt(0)==="M"&&(Me=function(re,$t,ve,Ee,Fe){var je=e.findExactDates($t,Fe);if(je.exactDays>.8){var le=Number(ve.substr(1));je.exactYears>.8&&le%12==0?re=H.tickIncrement(re,"M6","reverse")+1.5*L:je.exactMonths>.8?re=H.tickIncrement(re,"M1","reverse")+15.5*L:re-=D;var be=H.tickIncrement(re,ve);if(be<=Ee)return be}return re}(Me,K,Se,Zt,Bt)),pe=Me;pe<=Qt;)pe=H.tickIncrement(pe,Se,!1,Bt);return{start:at.c2r(Me,0,Bt),end:at.c2r(pe,0,Bt),size:Se,_dataSpan:Qt-Zt}},H.prepMinorTicks=function(K,at,Et){if(!at.minor.dtick){delete K.dtick;var Ot,Bt=at.dtick&&g(at._tmin);if(Bt){var Nt=H.tickIncrement(at._tmin,at.dtick,!0);Ot=[at._tmin,.99*Nt+.01*at._tmin]}else{var Ht=e.simpleMap(at.range,at.r2l);Ot=[Ht[0],.8*Ht[0]+.2*Ht[1]]}if(K.range=e.simpleMap(Ot,at.l2r),K._isMinor=!0,H.prepTicks(K,Et),Bt){var Zt=g(at.dtick),Qt=g(K.dtick),oe=Zt?at.dtick:+at.dtick.substring(1),qt=Qt?K.dtick:+K.dtick.substring(1);Zt&&Qt?Lt(oe,qt)?oe===2*k&&qt===2*L&&(K.dtick=k):oe===2*k&&qt===3*L?K.dtick=k:oe!==k||(at._input.minor||{}).nticks?It(oe/qt,2.5)?K.dtick=oe/2:K.dtick=oe:K.dtick=L:String(at.dtick).charAt(0)==="M"?Qt?K.dtick="M1":Lt(oe,qt)?oe>=12&&qt===2&&(K.dtick="M3"):K.dtick=at.dtick:String(K.dtick).charAt(0)==="L"?String(at.dtick).charAt(0)==="L"?Lt(oe,qt)||(K.dtick=It(oe/qt,2.5)?at.dtick/2:at.dtick):K.dtick="D1":K.dtick==="D2"&&+at.dtick>1&&(K.dtick=1)}K.range=at.range}at.minor._tick0Init===void 0&&(K.tick0=at.tick0)},H.prepTicks=function(K,at){var Et=e.simpleMap(K.range,K.r2l,void 0,void 0,at);if(K.tickmode==="auto"||!K.dtick){var Ot,Bt=K.nticks;Bt||(K.type==="category"||K.type==="multicategory"?(Ot=K.tickfont?e.bigFont(K.tickfont.size||12):15,Bt=K._length/Ot):(Ot=K._id.charAt(0)==="y"?40:80,Bt=e.constrain(K._length/Ot,4,9)+1),K._name==="radialaxis"&&(Bt*=2)),K.minor&&K.minor.tickmode!=="array"||K.tickmode==="array"&&(Bt*=100),K._roughDTick=Math.abs(Et[1]-Et[0])/Bt,H.autoTicks(K,K._roughDTick),K._minDtick>0&&K.dtick<2*K._minDtick&&(K.dtick=K._minDtick,K.tick0=K.l2r(K._forceTick0))}K.ticklabelmode==="period"&&function(Nt){var Ht;function Zt(){return!(g(Nt.dtick)||Nt.dtick.charAt(0)!=="M")}var Qt=Zt(),oe=H.getTickFormat(Nt);if(oe){var qt=Nt._dtickInit!==Nt.dtick;/%[fLQsSMX]/.test(oe)||(/%[HI]/.test(oe)?(Ht=_,qt&&!Qt&&Nt.dtick<_&&(Nt.dtick=_)):/%p/.test(oe)?(Ht=D,qt&&!Qt&&Nt.dtick<D&&(Nt.dtick=D)):/%[Aadejuwx]/.test(oe)?(Ht=L,qt&&!Qt&&Nt.dtick<L&&(Nt.dtick=L)):/%[UVW]/.test(oe)?(Ht=k,qt&&!Qt&&Nt.dtick<k&&(Nt.dtick=k)):/%[Bbm]/.test(oe)?(Ht=A,qt&&(Qt?it(Nt.dtick)<1:Nt.dtick<P)&&(Nt.dtick="M1")):/%[q]/.test(oe)?(Ht=p,qt&&(Qt?it(Nt.dtick)<3:Nt.dtick<b)&&(Nt.dtick="M3")):/%[Yy]/.test(oe)&&(Ht=v,qt&&(Qt?it(Nt.dtick)<12:Nt.dtick<x)&&(Nt.dtick="M12")))}(Qt=Zt())&&Nt.tick0===Nt._dowTick0&&(Nt.tick0=Nt._rawTick0),Nt._definedDelta=Ht}(K),K.tick0||(K.tick0=K.type==="date"?"2000-01-01":0),K.type==="date"&&K.dtick<.1&&(K.dtick=.1),kt(K)},H.calcTicks=function(K,at){for(var Et,Ot,Bt=K.type,Nt=K.calendar,Ht=K.ticklabelstep,Zt=K.ticklabelmode==="period",Qt=e.simpleMap(K.range,K.r2l,void 0,void 0,at),oe=Qt[1]<Qt[0],qt=Math.min(Qt[0],Qt[1]),Te=Math.max(Qt[0],Qt[1]),Re=Math.max(1e3,K._length||0),pe=[],Se=[],Me=[],re=[],$t=K.minor&&(K.minor.ticks||K.minor.showgrid),ve=1;ve>=($t?0:1);ve--){var Ee=!ve;ve?(K._dtickInit=K.dtick,K._tick0Init=K.tick0):(K.minor._dtickInit=K.minor.dtick,K.minor._tick0Init=K.minor.tick0);var Fe=ve?K:e.extendFlat({},K,K.minor);if(Ee?H.prepMinorTicks(Fe,K,at):H.prepTicks(Fe,at),Fe.tickmode!=="array")if(Fe.tickmode!=="sync"){var je=et(Qt),le=je[0],be=je[1],we=g(Fe.dtick),Ce=Bt==="log"&&!(we||Fe.dtick.charAt(0)==="L"),Le=H.tickFirst(Fe,at);if(ve){if(K._tmin=Le,Le<le!==oe)break;Bt!=="category"&&Bt!=="multicategory"||(be=oe?Math.max(-.5,be):Math.min(K._categories.length-.5,be))}var Oe,Ae,Ne=null,ke=Le;ve&&(we?Ae=K.dtick:Bt==="date"?typeof K.dtick=="string"&&K.dtick.charAt(0)==="M"&&(Ae=A*K.dtick.substring(1)):Ae=K._roughDTick,Oe=Math.round((K.r2l(ke)-K.r2l(K.tick0))/Ae)-1);var ze=Fe.dtick;for(Fe.rangebreaks&&Fe._tick0Init!==Fe.tick0&&(ke=_e(ke,K),oe||(ke=H.tickIncrement(ke,ze,!oe,Nt))),ve&&Zt&&(ke=H.tickIncrement(ke,ze,!oe,Nt),Oe--);oe?ke>=be:ke<=be;ke=H.tickIncrement(ke,ze,oe,Nt)){if(ve&&Oe++,Fe.rangebreaks&&!oe){if(ke<le)continue;if(Fe.maskBreaks(ke)===G&&_e(ke,Fe)>=Te)break}if(Me.length>Re||ke===Ne)break;Ne=ke;var Ye={value:ke};ve?(Ce&&ke!==(0|ke)&&(Ye.simpleLabel=!0),Ht>1&&Oe%Ht&&(Ye.skipLabel=!0),Me.push(Ye)):(Ye.minor=!0,re.push(Ye))}}else Me=[],pe=dt(K);else ve?(Me=[],pe=xt(K)):(re=[],Se=xt(K))}if($t&&!(K.minor.ticks==="inside"&&K.ticks==="outside"||K.minor.ticks==="outside"&&K.ticks==="inside")){for(var We=Me.map(function(Ln){return Ln.value}),Xe=[],Ge=0;Ge<re.length;Ge++){var qe=re[Ge],tn=qe.value;if(We.indexOf(tn)===-1){for(var Ue=!1,Qe=0;!Ue&&Qe<Me.length;Qe++)1e7+Me[Qe].value===1e7+tn&&(Ue=!0);Ue||Xe.push(qe)}}re=Xe}if(Zt&&function(Ln,Zn,In){for(var wn=0;wn<Ln.length;wn++){var qn=Ln[wn].value,Dn=wn,cn=wn+1;wn<Ln.length-1?(Dn=wn,cn=wn+1):wn>0?(Dn=wn-1,cn=wn):(Dn=wn,cn=wn);var Je,yn=Ln[Dn].value,zn=Ln[cn].value,pn=Math.abs(zn-yn),xn=In||pn,vn=0;xn>=x?vn=pn>=x&&pn<=m?pn:v:In===p&&xn>=b?vn=pn>=b&&pn<=w?pn:p:xn>=P?vn=pn>=P&&pn<=T?pn:A:In===k&&xn>=k?vn=k:xn>=L?vn=L:In===D&&xn>=D?vn=D:In===_&&xn>=_&&(vn=_),vn>=pn&&(vn=pn,Je=!0);var Tn=qn+vn;if(Zn.rangebreaks&&vn>0){for(var kn=0,Cn=0;Cn<84;Cn++){var On=(Cn+.5)/84;Zn.maskBreaks(qn*(1-On)+On*Tn)!==G&&kn++}(vn*=kn/84)||(Ln[wn].drop=!0),Je&&pn>k&&(vn=pn)}(vn>0||wn===0)&&(Ln[wn].periodX=qn+vn/2)}}(Me,K,K._definedDelta),K.rangebreaks){var Ve=K._id.charAt(0)==="y",rn=1;K.tickmode==="auto"&&(rn=K.tickfont?K.tickfont.size:12);var an=NaN;for(Et=Me.length-1;Et>-1;Et--)if(Me[Et].drop)Me.splice(Et,1);else{Me[Et].value=_e(Me[Et].value,K);var un=K.c2p(Me[Et].value);(Ve?an>un-rn:an<un+rn)?Me.splice(oe?Et+1:Et,1):an=un}}ie(K)&&Math.abs(Qt[1]-Qt[0])===360&&Me.pop(),K._tmax=(Me[Me.length-1]||{}).value,K._prevDateHead="",K._inCalcTicks=!0;var sn,on,gn=function(Ln){Ln.text="",K._prevDateHead=Ot};for(Me=Me.concat(re),Et=0;Et<Me.length;Et++){var Sn=Me[Et].minor,Xn=Me[Et].value;Sn?Se.push({x:Xn,minor:!0}):(Ot=K._prevDateHead,sn=H.tickText(K,Xn,!1,Me[Et].simpleLabel),(on=Me[Et].periodX)!==void 0&&(sn.periodX=on,(on>Te||on<qt)&&(on>Te&&(sn.periodX=Te),on<qt&&(sn.periodX=qt),gn(sn))),Me[Et].skipLabel&&gn(sn),pe.push(sn))}return pe=pe.concat(Se),K._inCalcTicks=!1,Zt&&pe.length&&(pe[0].noTick=!0),pe};var Pt=[2,5,10],Ct=[1,2,3,6,12],lt=[1,2,5,10,15,30],ht=[1,2,3,7,14],vt=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],gt=[-.301,0,.301,.699,1],mt=[15,30,45,90,180];function Tt(K,at,Et){return at*e.roundUp(K/at,Et)}function kt(K){var at=K.dtick;if(K._tickexponent=0,g(at)||typeof at=="string"||(at=1),K.type!=="category"&&K.type!=="multicategory"||(K._tickround=null),K.type==="date"){var Et=K.r2l(K.tick0),Ot=K.l2r(Et).replace(/(^-|i)/g,""),Bt=Ot.length;if(String(at).charAt(0)==="M")Bt>10||Ot.substr(5)!=="01-01"?K._tickround="d":K._tickround=+at.substr(1)%12==0?"y":"m";else if(at>=L&&Bt<=10||at>=15*L)K._tickround="d";else if(at>=I&&Bt<=16||at>=_)K._tickround="M";else if(at>=O&&Bt<=19||at>=I)K._tickround="S";else{var Nt=K.l2r(Et+at).replace(/^-/,"").length;K._tickround=Math.max(Bt,Nt)-20,K._tickround<0&&(K._tickround=4)}}else if(g(at)||at.charAt(0)==="L"){var Ht=K.range.map(K.r2d||Number);g(at)||(at=Number(at.substr(1))),K._tickround=2-Math.floor(Math.log(at)/Math.LN10+.01);var Zt=Math.max(Math.abs(Ht[0]),Math.abs(Ht[1])),Qt=Math.floor(Math.log(Zt)/Math.LN10+.01),oe=K.minexponent===void 0?3:K.minexponent;Math.abs(Qt)>oe&&(Mt(K.exponentformat)&&!Rt(Qt)?K._tickexponent=3*Math.round((Qt-1)/3):K._tickexponent=Qt)}else K._tickround=null}function _t(K,at,Et){var Ot=K.tickfont||{};return{x:at,dx:0,dy:0,text:Et||"",fontSize:Ot.size,font:Ot.family,fontColor:Ot.color}}H.autoTicks=function(K,at,Et){var Ot;function Bt(Te){return Math.pow(Te,Math.floor(Math.log(at)/Math.LN10))}if(K.type==="date"){K.tick0=e.dateTick0(K.calendar,0);var Nt=2*at;if(Nt>v)at/=v,Ot=Bt(10),K.dtick="M"+12*Tt(at,Ot,Pt);else if(Nt>A)at/=A,K.dtick="M"+Tt(at,1,Ct);else if(Nt>L){if(K.dtick=Tt(at,L,K._hasDayOfWeekBreaks?[1,2,7,14]:ht),!Et){var Ht=H.getTickFormat(K),Zt=K.ticklabelmode==="period";Zt&&(K._rawTick0=K.tick0),/%[uVW]/.test(Ht)?K.tick0=e.dateTick0(K.calendar,2):K.tick0=e.dateTick0(K.calendar,1),Zt&&(K._dowTick0=K.tick0)}}else Nt>_?K.dtick=Tt(at,_,Ct):Nt>I?K.dtick=Tt(at,I,lt):Nt>O?K.dtick=Tt(at,O,lt):(Ot=Bt(10),K.dtick=Tt(at,Ot,Pt))}else if(K.type==="log"){K.tick0=0;var Qt=e.simpleMap(K.range,K.r2l);if(K._isMinor&&(at*=1.5),at>.7)K.dtick=Math.ceil(at);else if(Math.abs(Qt[1]-Qt[0])<1){var oe=1.5*Math.abs((Qt[1]-Qt[0])/at);at=Math.abs(Math.pow(10,Qt[1])-Math.pow(10,Qt[0]))/oe,Ot=Bt(10),K.dtick="L"+Tt(at,Ot,Pt)}else K.dtick=at>.3?"D2":"D1"}else K.type==="category"||K.type==="multicategory"?(K.tick0=0,K.dtick=Math.ceil(Math.max(at,1))):ie(K)?(K.tick0=0,Ot=1,K.dtick=Tt(at,Ot,mt)):(K.tick0=0,Ot=Bt(10),K.dtick=Tt(at,Ot,Pt));if(K.dtick===0&&(K.dtick=1),!g(K.dtick)&&typeof K.dtick!="string"){var qt=K.dtick;throw K.dtick=1,"ax.dtick error: "+String(qt)}},H.tickIncrement=function(K,at,Et,Ot){var Bt=Et?-1:1;if(g(at))return e.increment(K,Bt*at);var Nt=at.charAt(0),Ht=Bt*Number(at.substr(1));if(Nt==="M")return e.incrementMonth(K,Ht,Ot);if(Nt==="L")return Math.log(Math.pow(10,K)+Ht)/Math.LN10;if(Nt==="D"){var Zt=at==="D2"?gt:vt,Qt=K+.01*Bt,oe=e.roundUp(e.mod(Qt,1),Zt,Et);return Math.floor(Qt)+Math.log(f.round(Math.pow(10,oe),1))/Math.LN10}throw"unrecognized dtick "+String(at)},H.tickFirst=function(K,at){var Et=K.r2l||Number,Ot=e.simpleMap(K.range,Et,void 0,void 0,at),Bt=Ot[1]<Ot[0],Nt=Bt?Math.floor:Math.ceil,Ht=et(Ot)[0],Zt=K.dtick,Qt=Et(K.tick0);if(g(Zt)){var oe=Nt((Ht-Qt)/Zt)*Zt+Qt;return K.type!=="category"&&K.type!=="multicategory"||(oe=e.constrain(oe,0,K._categories.length-1)),oe}var qt=Zt.charAt(0),Te=Number(Zt.substr(1));if(qt==="M"){for(var Re,pe,Se,Me=0,re=Qt;Me<10;){if(((Re=H.tickIncrement(re,Zt,Bt,K.calendar))-Ht)*(re-Ht)<=0)return Bt?Math.min(re,Re):Math.max(re,Re);pe=(Ht-(re+Re)/2)/(Re-re),Se=qt+(Math.abs(Math.round(pe))||1)*Te,re=H.tickIncrement(re,Se,pe<0?!Bt:Bt,K.calendar),Me++}return e.error("tickFirst did not converge",K),re}if(qt==="L")return Math.log(Nt((Math.pow(10,Ht)-Qt)/Te)*Te+Qt)/Math.LN10;if(qt==="D"){var $t=Zt==="D2"?gt:vt,ve=e.roundUp(e.mod(Ht,1),$t,Bt);return Math.floor(Ht)+Math.log(f.round(Math.pow(10,ve),1))/Math.LN10}throw"unrecognized dtick "+String(Zt)},H.tickText=function(K,at,Et,Ot){var Bt,Nt=_t(K,at),Ht=K.tickmode==="array",Zt=Et||Ht,Qt=K.type,oe=Qt==="category"?K.d2l_noadd:K.d2l;if(Ht&&Array.isArray(K.ticktext)){var qt=e.simpleMap(K.range,K.r2l),Te=(Math.abs(qt[1]-qt[0])-(K._lBreaks||0))/1e4;for(Bt=0;Bt<K.ticktext.length&&!(Math.abs(at-oe(K.tickvals[Bt]))<Te);Bt++);if(Bt<K.ticktext.length)return Nt.text=String(K.ticktext[Bt]),Nt}function Re(re){if(re===void 0)return!0;if(Et)return re==="none";var $t={first:K._tmin,last:K._tmax}[re];return re!=="all"&&at!==$t}var pe=Et?"never":K.exponentformat!=="none"&&Re(K.showexponent)?"hide":"";if(Qt==="date"?function(re,$t,ve,Ee){var Fe=re._tickround,je=ve&&re.hoverformat||H.getTickFormat(re);(Ee=!je&&Ee)&&(Fe=g(Fe)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[Fe]);var le,be=e.formatDate($t.x,je,Fe,re._dateFormat,re.calendar,re._extraFormat),we=be.indexOf(`
`);if(we!==-1&&(le=be.substr(we+1),be=be.substr(0,we)),Ee&&(le===void 0||be!=="00:00:00"&&be!=="00:00"?be.length===8&&(be=be.replace(/:00$/,"")):(be=le,le="")),le)if(ve)Fe==="d"?be+=", "+le:be=le+(be?", "+be:"");else if(re._inCalcTicks&&re._prevDateHead===le){var Ce=he(re),Le=re._trueSide||re.side;(!Ce&&Le==="top"||Ce&&Le==="bottom")&&(be+="<br> ")}else re._prevDateHead=le,be+="<br>"+le;$t.text=be}(K,Nt,Et,Zt):Qt==="log"?function(re,$t,ve,Ee,Fe){var je=re.dtick,le=$t.x,be=re.tickformat,we=typeof je=="string"&&je.charAt(0);if(Fe==="never"&&(Fe=""),Ee&&we!=="L"&&(je="L3",we="L"),be||we==="L")$t.text=Yt(Math.pow(10,le),re,Fe,Ee);else if(g(je)||we==="D"&&e.mod(le+.01,1)<.1){var Ce=Math.round(le),Le=Math.abs(Ce),Oe=re.exponentformat;Oe==="power"||Mt(Oe)&&Rt(Ce)?($t.text=Ce===0?1:Ce===1?"10":"10<sup>"+(Ce>1?"":N)+Le+"</sup>",$t.fontSize*=1.25):(Oe==="e"||Oe==="E")&&Le>2?$t.text="1"+Oe+(Ce>0?"+":N)+Le:($t.text=Yt(Math.pow(10,le),re,"","fakehover"),je==="D1"&&re._id.charAt(0)==="y"&&($t.dy-=$t.fontSize/6))}else{if(we!=="D")throw"unrecognized dtick "+String(je);$t.text=String(Math.round(Math.pow(10,e.mod(le,1)))),$t.fontSize*=.75}if(re.dtick==="D1"){var Ae=String($t.text).charAt(0);Ae!=="0"&&Ae!=="1"||(re._id.charAt(0)==="y"?$t.dx-=$t.fontSize/4:($t.dy+=$t.fontSize/2,$t.dx+=(re.range[1]>re.range[0]?1:-1)*$t.fontSize*(le<0?.5:.25)))}}(K,Nt,0,Zt,pe):Qt==="category"?function(re,$t){var ve=re._categories[Math.round($t.x)];ve===void 0&&(ve=""),$t.text=String(ve)}(K,Nt):Qt==="multicategory"?function(re,$t,ve){var Ee=Math.round($t.x),Fe=re._categories[Ee]||[],je=Fe[1]===void 0?"":String(Fe[1]),le=Fe[0]===void 0?"":String(Fe[0]);ve?$t.text=le+" - "+je:($t.text=je,$t.text2=le)}(K,Nt,Et):ie(K)?function(re,$t,ve,Ee,Fe){if(re.thetaunit!=="radians"||ve)$t.text=Yt($t.x,re,Fe,Ee);else{var je=$t.x/180;if(je===0)$t.text="0";else{var le=function(we){function Ce(Ne,ke){return Math.abs(Ne-ke)<=1e-6}var Le=function(Ne){for(var ke=1;!Ce(Math.round(Ne*ke)/ke,Ne);)ke*=10;return ke}(we),Oe=we*Le,Ae=Math.abs(function Ne(ke,ze){return Ce(ze,0)?ke:Ne(ze,ke%ze)}(Oe,Le));return[Math.round(Oe/Ae),Math.round(Le/Ae)]}(je);if(le[1]>=100)$t.text=Yt(e.deg2rad($t.x),re,Fe,Ee);else{var be=$t.x<0;le[1]===1?le[0]===1?$t.text="":$t.text=le[0]+"":$t.text=["<sup>",le[0],"</sup>","","<sub>",le[1],"</sub>",""].join(""),be&&($t.text=N+$t.text)}}}}(K,Nt,Et,Zt,pe):function(re,$t,ve,Ee,Fe){Fe==="never"?Fe="":re.showexponent==="all"&&Math.abs($t.x/re.dtick)<1e-6&&(Fe="hide"),$t.text=Yt($t.x,re,Fe,Ee)}(K,Nt,0,Zt,pe),Ot||(K.tickprefix&&!Re(K.showtickprefix)&&(Nt.text=K.tickprefix+Nt.text),K.ticksuffix&&!Re(K.showticksuffix)&&(Nt.text+=K.ticksuffix)),K.labelalias&&K.labelalias.hasOwnProperty(Nt.text)){var Se=K.labelalias[Nt.text];typeof Se=="string"&&(Nt.text=Se)}if(K.tickson==="boundaries"||K.showdividers){var Me=function(re){var $t=K.l2p(re);return $t>=0&&$t<=K._length?re:null};Nt.xbnd=[Me(Nt.x-.5),Me(Nt.x+K.dtick-.5)]}return Nt},H.hoverLabelText=function(K,at,Et){Et&&(K=e.extendFlat({},K,{hoverformat:Et}));var Ot=Array.isArray(at)?at[0]:at,Bt=Array.isArray(at)?at[1]:void 0;if(Bt!==void 0&&Bt!==Ot)return H.hoverLabelText(K,Ot,Et)+" - "+H.hoverLabelText(K,Bt,Et);var Nt=K.type==="log"&&Ot<=0,Ht=H.tickText(K,K.c2l(Nt?-Ot:Ot),"hover").text;return Nt?Ot===0?"0":N+Ht:Ht};var At=["f","p","n","","m","","k","M","G","T"];function Mt(K){return K==="SI"||K==="B"}function Rt(K){return K>14||K<-15}function Yt(K,at,Et,Ot){var Bt=K<0,Nt=at._tickround,Ht=Et||at.exponentformat||"B",Zt=at._tickexponent,Qt=H.getTickFormat(at),oe=at.separatethousands;if(Ot){var qt={exponentformat:Ht,minexponent:at.minexponent,dtick:at.showexponent==="none"?at.dtick:g(K)&&Math.abs(K)||1,range:at.showexponent==="none"?at.range.map(at.r2d):[0,K||1]};kt(qt),Nt=(Number(qt._tickround)||0)+4,Zt=qt._tickexponent,at.hoverformat&&(Qt=at.hoverformat)}if(Qt)return at._numFormat(Qt)(K).replace(/-/g,N);var Te,Re=Math.pow(10,-Nt)/2;if(Ht==="none"&&(Zt=0),(K=Math.abs(K))<Re)K="0",Bt=!1;else{if(K+=Re,Zt&&(K*=Math.pow(10,-Zt),Nt+=Zt),Nt===0)K=String(Math.floor(K));else if(Nt<0){K=(K=String(Math.round(K))).substr(0,K.length+Nt);for(var pe=Nt;pe<0;pe++)K+="0"}else{var Se=(K=String(K)).indexOf(".")+1;Se&&(K=K.substr(0,Se+Nt).replace(/\.?0+$/,""))}K=e.numSeparate(K,at._separators,oe)}return Zt&&Ht!=="hide"&&(Mt(Ht)&&Rt(Zt)&&(Ht="power"),Te=Zt<0?N+-Zt:Ht!=="power"?"+"+Zt:String(Zt),Ht==="e"||Ht==="E"?K+=Ht+Te:Ht==="power"?K+="10<sup>"+Te+"</sup>":Ht==="B"&&Zt===9?K+="B":Mt(Ht)&&(K+=At[Zt/3+5])),Bt?N+K:K}function zt(K,at){if(K){var Et=Object.keys(E).reduce(function(Ot,Bt){return at.indexOf(Bt)!==-1&&E[Bt].forEach(function(Nt){Ot[Nt]=1}),Ot},{});Object.keys(K).forEach(function(Ot){Et[Ot]||(Ot.length===1?K[Ot]=0:delete K[Ot])})}}function Xt(K,at){for(var Et=[],Ot={},Bt=0;Bt<at.length;Bt++){var Nt=at[Bt];Ot[Nt.text2]?Ot[Nt.text2].push(Nt.x):Ot[Nt.text2]=[Nt.x]}for(var Ht in Ot)Et.push(_t(K,e.interp(Ot[Ht],.5),Ht));return Et}function Kt(K){return K.periodX!==void 0?K.periodX:K.x}function se(K){return[K.text,K.x,K.axInfo,K.font,K.fontSize,K.fontColor].join("_")}function de(K){var at=K.title.font.size,Et=(K.title.text.match(i.BR_TAG_ALL)||[]).length;return K.title.hasOwnProperty("standoff")?Et?at*(tt+Et*rt):at*tt:Et?at*(Et+1)*rt:at}function xe(K,at){var Et=K.l2p(at);return Et>1&&Et<K._length-1}function Dt(K){var at=f.select(K),Et=at.select(".text-math-group");return Et.empty()?at.select("text"):Et}function wt(K){return K._id+".automargin"}function Ut(K){return wt(K)+".mirror"}function Wt(K){return K._id+".rangeslider"}function me(K,at){for(var Et=0;Et<at.length;Et++)K.indexOf(at[Et])===-1&&K.push(at[Et])}function Vt(K,at,Et){var Ot,Bt,Nt=[],Ht=[],Zt=K.layout;for(Ot=0;Ot<at.length;Ot++)Nt.push(H.getFromId(K,at[Ot]));for(Ot=0;Ot<Et.length;Ot++)Ht.push(H.getFromId(K,Et[Ot]));var Qt=Object.keys(u),oe=["anchor","domain","overlaying","position","side","tickangle","editType"],qt=["linear","log"];for(Ot=0;Ot<Qt.length;Ot++){var Te=Qt[Ot],Re=Nt[0][Te],pe=Ht[0][Te],Se=!0,Me=!1,re=!1;if(Te.charAt(0)!=="_"&&typeof Re!="function"&&oe.indexOf(Te)===-1){for(Bt=1;Bt<Nt.length&&Se;Bt++){var $t=Nt[Bt][Te];Te==="type"&&qt.indexOf(Re)!==-1&&qt.indexOf($t)!==-1&&Re!==$t?Me=!0:$t!==Re&&(Se=!1)}for(Bt=1;Bt<Ht.length&&Se;Bt++){var ve=Ht[Bt][Te];Te==="type"&&qt.indexOf(pe)!==-1&&qt.indexOf(ve)!==-1&&pe!==ve?re=!0:Ht[Bt][Te]!==pe&&(Se=!1)}Se&&(Me&&(Zt[Nt[0]._name].type="linear"),re&&(Zt[Ht[0]._name].type="linear"),ne(Zt,Te,Nt,Ht,K._fullLayout._dfltTitle))}}for(Ot=0;Ot<K._fullLayout.annotations.length;Ot++){var Ee=K._fullLayout.annotations[Ot];at.indexOf(Ee.xref)!==-1&&Et.indexOf(Ee.yref)!==-1&&e.swapAttrs(Zt.annotations[Ot],["?"])}}function ne(K,at,Et,Ot,Bt){var Nt,Ht=e.nestedProperty,Zt=Ht(K[Et[0]._name],at).get(),Qt=Ht(K[Ot[0]._name],at).get();for(at==="title"&&(Zt&&Zt.text===Bt.x&&(Zt.text=Bt.y),Qt&&Qt.text===Bt.y&&(Qt.text=Bt.x)),Nt=0;Nt<Et.length;Nt++)Ht(K,Et[Nt]._name+"."+at).set(Qt);for(Nt=0;Nt<Ot.length;Nt++)Ht(K,Ot[Nt]._name+"."+at).set(Zt)}function ie(K){return K._id==="angularaxis"}function _e(K,at){for(var Et=at._rangebreaks.length,Ot=0;Ot<Et;Ot++){var Bt=at._rangebreaks[Ot];if(K>=Bt.min&&K<Bt.max)return Bt.max}return K}function he(K){return(K.ticklabelposition||"").indexOf("inside")!==-1}function De(K,at){he(K._anchorAxis||{})&&K._hideCounterAxisInsideTickLabels&&K._hideCounterAxisInsideTickLabels(at)}function fe(K,at,Et,Ot){var Bt,Nt=K.anchor==="free"||K.overlaying!==void 0&&K.overlaying!==!1?K.overlaying:K._id;Bt=Ot?K.side==="right"?at:-at:at,Nt in Et||(Et[Nt]={}),K.side in Et[Nt]||(Et[Nt][K.side]=0),Et[Nt][K.side]+=Bt}H.getTickFormat=function(K){var at,Et,Ot,Bt,Nt,Ht,Zt,Qt;function oe(Re){return typeof Re!="string"?Re:Number(Re.replace("M",""))*A}function qt(Re,pe){var Se=["L","D"];if(typeof Re==typeof pe){if(typeof Re=="number")return Re-pe;var Me=Se.indexOf(Re.charAt(0)),re=Se.indexOf(pe.charAt(0));return Me===re?Number(Re.replace(/(L|D)/g,""))-Number(pe.replace(/(L|D)/g,"")):Me-re}return typeof Re=="number"?1:-1}function Te(Re,pe){var Se=pe[0]===null,Me=pe[1]===null,re=qt(Re,pe[0])>=0,$t=qt(Re,pe[1])<=0;return(Se||re)&&(Me||$t)}if(K.tickformatstops&&K.tickformatstops.length>0)switch(K.type){case"date":case"linear":for(at=0;at<K.tickformatstops.length;at++)if((Ot=K.tickformatstops[at]).enabled&&(Bt=K.dtick,Ht=void 0,Ht=oe||function(Re){return Re},Zt=(Nt=Ot.dtickrange)[0],Qt=Nt[1],(!Zt&&typeof Zt!="number"||Ht(Zt)<=Ht(Bt))&&(!Qt&&typeof Qt!="number"||Ht(Qt)>=Ht(Bt)))){Et=Ot;break}break;case"log":for(at=0;at<K.tickformatstops.length;at++)if((Ot=K.tickformatstops[at]).enabled&&Te(K.dtick,Ot.dtickrange)){Et=Ot;break}}return Et?Et.value:K.tickformat},H.getSubplots=function(K,at){var Et=K._fullLayout._subplots,Ot=Et.cartesian.concat(Et.gl2d||[]),Bt=at?H.findSubplotsWithAxis(Ot,at):Ot;return Bt.sort(function(Nt,Ht){var Zt=Nt.substr(1).split("y"),Qt=Ht.substr(1).split("y");return Zt[0]===Qt[0]?+Zt[1]-+Qt[1]:+Zt[0]-+Qt[0]}),Bt},H.findSubplotsWithAxis=function(K,at){for(var Et=new RegExp(at._id.charAt(0)==="x"?"^"+at._id+"y":at._id+"$"),Ot=[],Bt=0;Bt<K.length;Bt++){var Nt=K[Bt];Et.test(Nt)&&Ot.push(Nt)}return Ot},H.makeClipPaths=function(K){var at=K._fullLayout;if(!at._hasOnlyLargeSploms){var Et,Ot,Bt={_offset:0,_length:at.width,_id:""},Nt={_offset:0,_length:at.height,_id:""},Ht=H.list(K,"x",!0),Zt=H.list(K,"y",!0),Qt=[];for(Et=0;Et<Ht.length;Et++)for(Qt.push({x:Ht[Et],y:Nt}),Ot=0;Ot<Zt.length;Ot++)Et===0&&Qt.push({x:Bt,y:Zt[Ot]}),Qt.push({x:Ht[Et],y:Zt[Ot]});var oe=at._clips.selectAll(".axesclip").data(Qt,function(qt){return qt.x._id+qt.y._id});oe.enter().append("clipPath").classed("axesclip",!0).attr("id",function(qt){return"clip"+at._uid+qt.x._id+qt.y._id}).append("rect"),oe.exit().remove(),oe.each(function(qt){f.select(this).select("rect").attr({x:qt.x._offset||0,y:qt.y._offset||0,width:qt.x._length||1,height:qt.y._length||1})})}},H.draw=function(K,at,Et){var Ot=K._fullLayout;at==="redraw"&&Ot._paper.selectAll("g.subplot").each(function(Zt){var Qt=Zt[0],oe=Ot._plots[Qt];if(oe){var qt=oe.xaxis,Te=oe.yaxis;oe.xaxislayer.selectAll("."+qt._id+"tick").remove(),oe.yaxislayer.selectAll("."+Te._id+"tick").remove(),oe.xaxislayer.selectAll("."+qt._id+"tick2").remove(),oe.yaxislayer.selectAll("."+Te._id+"tick2").remove(),oe.xaxislayer.selectAll("."+qt._id+"divider").remove(),oe.yaxislayer.selectAll("."+Te._id+"divider").remove(),oe.minorGridlayer&&oe.minorGridlayer.selectAll("path").remove(),oe.gridlayer&&oe.gridlayer.selectAll("path").remove(),oe.zerolinelayer&&oe.zerolinelayer.selectAll("path").remove(),Ot._infolayer.select(".g-"+qt._id+"title").remove(),Ot._infolayer.select(".g-"+Te._id+"title").remove()}});var Bt=at&&at!=="redraw"?at:H.listIds(K),Nt=H.list(K).filter(function(Zt){return Zt.autoshift}).map(function(Zt){return Zt.overlaying});Bt.map(function(Zt){var Qt=H.getFromId(K,Zt);if(Qt.tickmode==="sync"&&Qt.overlaying){var oe=Bt.findIndex(function(qt){return qt===Qt.overlaying});oe>=0&&Bt.unshift(Bt.splice(oe,1).shift())}});var Ht={false:{left:0,right:0}};return e.syncOrAsync(Bt.map(function(Zt){return function(){if(Zt){var Qt=H.getFromId(K,Zt);Et||(Et={}),Et.axShifts=Ht,Et.overlayingShiftedAx=Nt;var oe=H.drawOne(K,Qt,Et);return Qt._shiftPusher&&fe(Qt,Qt._fullDepth||0,Ht,!0),Qt._r=Qt.range.slice(),Qt._rl=e.simpleMap(Qt._r,Qt.r2l),oe}}}))},H.drawOne=function(K,at,Et){var Ot,Bt,Nt,Ht=(Et=Et||{}).axShifts||{},Zt=Et.overlayingShiftedAx||[];at.setScale();var Qt=K._fullLayout,oe=at._id,qt=oe.charAt(0),Te=H.counterLetter(oe),Re=Qt._plots[at._mainSubplot];if(Re){if(at._shiftPusher=at.autoshift||Zt.indexOf(at._id)!==-1||Zt.indexOf(at.overlaying)!==-1,at._shiftPusher&at.anchor==="free"){var pe=at.linewidth/2||0;at.ticks==="inside"&&(pe+=at.ticklen),fe(at,pe,Ht,!0),fe(at,at.shift||0,Ht,!1)}Et.skipTitle===!0&&at._shift!==void 0||(at._shift=function(cn,Je){return cn.autoshift?Je[cn.overlaying][cn.side]:cn.shift||0}(at,Ht));var Se=Re[qt+"axislayer"],Me=at._mainLinePosition,re=Me+=at._shift,$t=at._mainMirrorPosition,ve=at._vals=H.calcTicks(at),Ee=[at.mirror,re,$t].join("_");for(Ot=0;Ot<ve.length;Ot++)ve[Ot].axInfo=Ee;at._selections={},at._tickAngles&&(at._prevTickAngles=at._tickAngles),at._tickAngles={},at._depth=null;var Fe={};if(at.visible){var je,le,be=H.makeTransTickFn(at),we=H.makeTransTickLabelFn(at),Ce=at.ticks==="inside",Le=at.ticks==="outside";if(at.tickson==="boundaries"){var Oe=function(cn,Je){var yn,zn=[],pn=function(xn,vn){var Tn=xn.xbnd[vn];Tn!==null&&zn.push(e.extendFlat({},xn,{x:Tn}))};if(Je.length){for(yn=0;yn<Je.length;yn++)pn(Je[yn],0);pn(Je[yn-1],1)}return zn}(0,ve);le=H.clipEnds(at,Oe),je=Ce?le:Oe}else le=H.clipEnds(at,ve),je=Ce&&at.ticklabelmode!=="period"?le:ve;var Ae,Ne=at._gridVals=le,ke=function(cn,Je){var yn,zn,pn=[],xn=Je.length&&Je[Je.length-1].x<Je[0].x,vn=function(kn,Cn){var On=kn.xbnd[Cn];On!==null&&pn.push(e.extendFlat({},kn,{x:On}))};if(cn.showdividers&&Je.length){for(yn=0;yn<Je.length;yn++){var Tn=Je[yn];Tn.text2!==zn&&vn(Tn,xn?1:0),zn=Tn.text2}vn(Je[yn-1],xn?0:1)}return pn}(at,ve);if(!Qt._hasOnlyLargeSploms){var ze=at._subplotsWith,Ye={};for(Ot=0;Ot<ze.length;Ot++){Bt=ze[Ot];var We=(Nt=Qt._plots[Bt])[Te+"axis"],Xe=We._mainAxis._id;if(!Ye[Xe]){Ye[Xe]=1;var Ge=qt==="x"?"M0,"+We._offset+"v"+We._length:"M"+We._offset+",0h"+We._length;H.drawGrid(K,at,{vals:Ne,counterAxis:We,layer:Nt.gridlayer.select("."+oe),minorLayer:Nt.minorGridlayer.select("."+oe),path:Ge,transFn:be}),H.drawZeroLine(K,at,{counterAxis:We,layer:Nt.zerolinelayer,path:Ge,transFn:be})}}}var qe=H.getTickSigns(at),tn=H.getTickSigns(at,"minor");if(at.ticks||at.minor&&at.minor.ticks){var Ue,Qe,Ve,rn,an=H.makeTickPath(at,re,qe[2]),un=H.makeTickPath(at,re,tn[2],{minor:!0});if(at._anchorAxis&&at.mirror&&at.mirror!==!0?(Ue=H.makeTickPath(at,$t,qe[3]),Qe=H.makeTickPath(at,$t,tn[3],{minor:!0}),Ve=an+Ue,rn=un+Qe):(Ue="",Qe="",Ve=an,rn=un),at.showdividers&&Le&&at.tickson==="boundaries"){var sn={};for(Ot=0;Ot<ke.length;Ot++)sn[ke[Ot].x]=1;Ae=function(cn){return sn[cn.x]?Ue:Ve}}else Ae=function(cn){return cn.minor?rn:Ve}}if(H.drawTicks(K,at,{vals:je,layer:Se,path:Ae,transFn:be}),at.mirror==="allticks"){var on=Object.keys(at._linepositions||{});for(Ot=0;Ot<on.length;Ot++){Bt=on[Ot],Nt=Qt._plots[Bt];var gn=at._linepositions[Bt]||[],Sn=gn[0],Xn=gn[1],Ln=gn[2],Zn=H.makeTickPath(at,Sn,Ln?qe[0]:tn[0],{minor:Ln})+H.makeTickPath(at,Xn,Ln?qe[1]:tn[1],{minor:Ln});H.drawTicks(K,at,{vals:je,layer:Nt[qt+"axislayer"],path:Zn,transFn:be})}}var In=[];if(In.push(function(){return H.drawLabels(K,at,{vals:ve,layer:Se,plotinfo:Nt,transFn:we,labelFns:H.makeLabelFns(at,re)})}),at.type==="multicategory"){var wn={x:2,y:10}[qt];In.push(function(){var cn={x:"height",y:"width"}[qt],Je=Dn()[cn]+wn+(at._tickAngles[oe+"tick"]?at.tickfont.size*rt:0);return H.drawLabels(K,at,{vals:Xt(at,ve),layer:Se,cls:oe+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:be,labelFns:H.makeLabelFns(at,re+Je*qe[4])})}),In.push(function(){return at._depth=qe[4]*(Dn("tick2")[at.side]-re),function(cn,Je,yn){var zn=Je._id+"divider",pn=yn.vals,xn=yn.layer.selectAll("path."+zn).data(pn,se);xn.exit().remove(),xn.enter().insert("path",":first-child").classed(zn,1).classed("crisp",1).call(o.stroke,Je.dividercolor).style("stroke-width",c.crispRound(cn,Je.dividerwidth,1)+"px"),xn.attr("transform",yn.transFn).attr("d",yn.path)}(K,at,{vals:ke,layer:Se,path:H.makeTickPath(at,re,qe[4],{len:at._depth}),transFn:be})})}else at.title.hasOwnProperty("standoff")&&In.push(function(){at._depth=qe[4]*(Dn()[at.side]-re)});var qn=n.getComponentMethod("rangeslider","isVisible")(at);return Et.skipTitle||qn&&at.side==="bottom"||In.push(function(){return function(cn,Je){var yn,zn=cn._fullLayout,pn=Je._id,xn=pn.charAt(0),vn=Je.title.font.size;if(Je.title.hasOwnProperty("standoff"))yn=Je._depth+Je.title.standoff+de(Je);else{var Tn=he(Je);if(Je.type==="multicategory")yn=Je._depth;else{var kn=1.5*vn;Tn&&(kn=.5*vn,Je.ticks==="outside"&&(kn+=Je.ticklen)),yn=10+kn+(Je.linewidth?Je.linewidth-1:0)}Tn||(yn+=xn==="x"?Je.side==="top"?vn*(Je.showticklabels?1:0):vn*(Je.showticklabels?1.5:.5):Je.side==="right"?vn*(Je.showticklabels?1:.5):vn*(Je.showticklabels?.5:0))}var Cn,On,Qn,er,Vn=H.getPxPosition(cn,Je);if(xn==="x"?(On=Je._offset+Je._length/2,Qn=Je.side==="top"?Vn-yn:Vn+yn):(Qn=Je._offset+Je._length/2,On=Je.side==="right"?Vn+yn:Vn-yn,Cn={rotate:"-90",offset:0}),Je.type!=="multicategory"){var Un=Je._selections[Je._id+"tick"];if(er={selection:Un,side:Je.side},Un&&Un.node()&&Un.node().parentNode){var fn=c.getTranslate(Un.node().parentNode);er.offsetLeft=fn.x,er.offsetTop=fn.y}Je.title.hasOwnProperty("standoff")&&(er.pad=0)}return Je._titleStandoff=yn,l.draw(cn,pn+"title",{propContainer:Je,propName:Je._name+".title.text",placeholder:zn._dfltTitle[xn],avoid:er,transform:Cn,attributes:{x:On,y:Qn,"text-anchor":"middle"}})}(K,at)}),In.push(function(){var cn,Je,yn,zn,pn=at.side.charAt(0),xn=ot[at.side].charAt(0),vn=H.getPxPosition(K,at),Tn=Le?at.ticklen:0;(at.automargin||qn||at._shiftPusher)&&(at.type==="multicategory"?cn=Dn("tick2"):(cn=Dn(),qt==="x"&&pn==="b"&&(at._depth=Math.max(cn.width>0?cn.bottom-vn:0,Tn))));var kn=0,Cn=0;if(at._shiftPusher&&(kn=Math.max(Tn,cn.height>0?pn==="l"?vn-cn.left:cn.right-vn:0),at.title.text!==Qt._dfltTitle[qt]&&(Cn=(at._titleStandoff||0)+(at._titleScoot||0),pn==="l"&&(Cn+=de(at))),at._fullDepth=Math.max(kn,Cn)),at.automargin){Je={x:0,y:0,r:0,l:0,t:0,b:0};var On=[0,1],Qn=typeof at._shift=="number"?at._shift:0;if(qt==="x"){if(pn==="b"?Je[pn]=at._depth:(Je[pn]=at._depth=Math.max(cn.width>0?vn-cn.top:0,Tn),On.reverse()),cn.width>0){var er=cn.right-(at._offset+at._length);er>0&&(Je.xr=1,Je.r=er);var Vn=at._offset-cn.left;Vn>0&&(Je.xl=0,Je.l=Vn)}}else if(pn==="l"?(at._depth=Math.max(cn.height>0?vn-cn.left:0,Tn),Je[pn]=at._depth-Qn):(at._depth=Math.max(cn.height>0?cn.right-vn:0,Tn),Je[pn]=at._depth+Qn,On.reverse()),cn.height>0){var Un=cn.bottom-(at._offset+at._length);Un>0&&(Je.yb=0,Je.b=Un);var fn=at._offset-cn.top;fn>0&&(Je.yt=1,Je.t=fn)}Je[Te]=at.anchor==="free"?at.position:at._anchorAxis.domain[On[0]],at.title.text!==Qt._dfltTitle[qt]&&(Je[pn]+=de(at)+(at.title.standoff||0)),at.mirror&&at.anchor!=="free"&&((yn={x:0,y:0,r:0,l:0,t:0,b:0})[xn]=at.linewidth,at.mirror&&at.mirror!==!0&&(yn[xn]+=Tn),at.mirror===!0||at.mirror==="ticks"?yn[Te]=at._anchorAxis.domain[On[1]]:at.mirror!=="all"&&at.mirror!=="allticks"||(yn[Te]=[at._counterDomainMin,at._counterDomainMax][On[1]]))}qn&&(zn=n.getComponentMethod("rangeslider","autoMarginOpts")(K,at)),typeof at.automargin=="string"&&(zt(Je,at.automargin),zt(yn,at.automargin)),a.autoMargin(K,wt(at),Je),a.autoMargin(K,Ut(at),yn),a.autoMargin(K,Wt(at),zn)}),e.syncOrAsync(In)}}function Dn(cn){var Je=oe+(cn||"tick");return Fe[Je]||(Fe[Je]=function(yn,zn){var pn,xn,vn,Tn;return yn._selections[zn].size()?(pn=1/0,xn=-1/0,vn=1/0,Tn=-1/0,yn._selections[zn].each(function(){var kn=Dt(this),Cn=c.bBox(kn.node().parentNode);pn=Math.min(pn,Cn.top),xn=Math.max(xn,Cn.bottom),vn=Math.min(vn,Cn.left),Tn=Math.max(Tn,Cn.right)})):(pn=0,xn=0,vn=0,Tn=0),{top:pn,bottom:xn,left:vn,right:Tn,height:xn-pn,width:Tn-vn}}(at,Je)),Fe[Je]}},H.getTickSigns=function(K,at){var Et=K._id.charAt(0),Ot={x:"top",y:"right"}[Et],Bt=K.side===Ot?1:-1,Nt=[-1,1,Bt,-Bt];return(at?(K.minor||{}).ticks:K.ticks)!=="inside"==(Et==="x")&&(Nt=Nt.map(function(Ht){return-Ht})),K.side&&Nt.push({l:-1,t:-1,r:1,b:1}[K.side.charAt(0)]),Nt},H.makeTransTickFn=function(K){return K._id.charAt(0)==="x"?function(at){return r(K._offset+K.l2p(at.x),0)}:function(at){return r(0,K._offset+K.l2p(at.x))}},H.makeTransTickLabelFn=function(K){var at=function(Bt){var Nt=Bt.ticklabelposition||"",Ht=function($t){return Nt.indexOf($t)!==-1},Zt=Ht("top"),Qt=Ht("left"),oe=Ht("right"),qt=Ht("bottom"),Te=Ht("inside"),Re=qt||Qt||Zt||oe;if(!Re&&!Te)return[0,0];var pe=Bt.side,Se=Re?(Bt.tickwidth||0)/2:0,Me=3,re=Bt.tickfont?Bt.tickfont.size:12;return(qt||Zt)&&(Se+=re*tt,Me+=(Bt.linewidth||0)/2),(Qt||oe)&&(Se+=(Bt.linewidth||0)/2,Me+=3),Te&&pe==="top"&&(Me-=re*(1-tt)),(Qt||Zt)&&(Se=-Se),pe!=="bottom"&&pe!=="right"||(Me=-Me),[Re?Se:0,Te?Me:0]}(K),Et=at[0],Ot=at[1];return K._id.charAt(0)==="x"?function(Bt){return r(Et+K._offset+K.l2p(Kt(Bt)),Ot)}:function(Bt){return r(Ot,Et+K._offset+K.l2p(Kt(Bt)))}},H.makeTickPath=function(K,at,Et,Ot){Ot||(Ot={});var Bt=Ot.minor;if(Bt&&!K.minor)return"";var Nt=Ot.len!==void 0?Ot.len:Bt?K.minor.ticklen:K.ticklen,Ht=K._id.charAt(0),Zt=(K.linewidth||1)/2;return Ht==="x"?"M0,"+(at+Zt*Et)+"v"+Nt*Et:"M"+(at+Zt*Et)+",0h"+Nt*Et},H.makeLabelFns=function(K,at,Et){var Ot=K.ticklabelposition||"",Bt=function(Oe){return Ot.indexOf(Oe)!==-1},Nt=Bt("top"),Ht=Bt("left"),Zt=Bt("right"),Qt=Bt("bottom")||Ht||Nt||Zt,oe=Bt("inside"),qt=Ot==="inside"&&K.ticks==="inside"||!oe&&K.ticks==="outside"&&K.tickson!=="boundaries",Te=0,Re=0,pe=qt?K.ticklen:0;if(oe?pe*=-1:Qt&&(pe=0),qt&&(Te+=pe,Et)){var Se=e.deg2rad(Et);Te=pe*Math.cos(Se)+1,Re=pe*Math.sin(Se)}K.showticklabels&&(qt||K.showline)&&(Te+=.2*K.tickfont.size);var Me,re,$t,ve,Ee,Fe={labelStandoff:Te+=(K.linewidth||1)/2*(oe?-1:1),labelShift:Re},je=0,le=K.side,be=K._id.charAt(0),we=K.tickangle;if(be==="x")ve=(Ee=!oe&&le==="bottom"||oe&&le==="top")?1:-1,oe&&(ve*=-1),Me=Re*ve,re=at+Te*ve,$t=Ee?1:-.2,Math.abs(we)===90&&(oe?$t+=Q:$t=we===-90&&le==="bottom"?tt:we===90&&le==="top"?Q:.5,je=Q/2*(we/90)),Fe.xFn=function(Oe){return Oe.dx+Me+je*Oe.fontSize},Fe.yFn=function(Oe){return Oe.dy+re+Oe.fontSize*$t},Fe.anchorFn=function(Oe,Ae){if(Qt){if(Ht)return"end";if(Zt)return"start"}return g(Ae)&&Ae!==0&&Ae!==180?Ae*ve<0!==oe?"end":"start":"middle"},Fe.heightFn=function(Oe,Ae,Ne){return Ae<-60||Ae>60?-.5*Ne:K.side==="top"!==oe?-Ne:0};else if(be==="y"){if(ve=(Ee=!oe&&le==="left"||oe&&le==="right")?1:-1,oe&&(ve*=-1),Me=Te,re=Re*ve,$t=0,oe||Math.abs(we)!==90||($t=we===-90&&le==="left"||we===90&&le==="right"?tt:.5),oe){var Ce=g(we)?+we:0;if(Ce!==0){var Le=e.deg2rad(Ce);je=Math.abs(Math.sin(Le))*tt*ve,$t=0}}Fe.xFn=function(Oe){return Oe.dx+at-(Me+Oe.fontSize*$t)*ve+je*Oe.fontSize},Fe.yFn=function(Oe){return Oe.dy+re+Oe.fontSize*Q},Fe.anchorFn=function(Oe,Ae){return g(Ae)&&Math.abs(Ae)===90?"middle":Ee?"end":"start"},Fe.heightFn=function(Oe,Ae,Ne){return K.side==="right"&&(Ae*=-1),Ae<-30?-Ne:Ae<30?-.5*Ne:0}}return Fe},H.drawTicks=function(K,at,Et){Et=Et||{};var Ot=at._id+"tick",Bt=[].concat(at.minor&&at.minor.ticks?Et.vals.filter(function(Ht){return Ht.minor&&!Ht.noTick}):[]).concat(at.ticks?Et.vals.filter(function(Ht){return!Ht.minor&&!Ht.noTick}):[]),Nt=Et.layer.selectAll("path."+Ot).data(Bt,se);Nt.exit().remove(),Nt.enter().append("path").classed(Ot,1).classed("ticks",1).classed("crisp",Et.crisp!==!1).each(function(Ht){return o.stroke(f.select(this),Ht.minor?at.minor.tickcolor:at.tickcolor)}).style("stroke-width",function(Ht){return c.crispRound(K,Ht.minor?at.minor.tickwidth:at.tickwidth,1)+"px"}).attr("d",Et.path).style("display",null),De(at,[nt]),Nt.attr("transform",Et.transFn)},H.drawGrid=function(K,at,Et){if(Et=Et||{},at.tickmode!=="sync"){var Ot=at._id+"grid",Bt=at.minor&&at.minor.showgrid,Nt=Bt?Et.vals.filter(function($t){return $t.minor}):[],Ht=at.showgrid?Et.vals.filter(function($t){return!$t.minor}):[],Zt=Et.counterAxis;if(Zt&&H.shouldShowZeroLine(K,at,Zt))for(var Qt=at.tickmode==="array",oe=0;oe<Ht.length;oe++){var qt=Ht[oe].x;if(Qt?!qt:Math.abs(qt)<at.dtick/100){if(Ht=Ht.slice(0,oe).concat(Ht.slice(oe+1)),!Qt)break;oe--}}at._gw=c.crispRound(K,at.gridwidth,1);for(var Te=Bt?c.crispRound(K,at.minor.gridwidth,1):0,Re=Et.layer,pe=Et.minorLayer,Se=1;Se>=0;Se--){var Me=Se?Re:pe;if(Me){var re=Me.selectAll("path."+Ot).data(Se?Ht:Nt,se);re.exit().remove(),re.enter().append("path").classed(Ot,1).classed("crisp",Et.crisp!==!1),re.attr("transform",Et.transFn).attr("d",Et.path).each(function($t){return o.stroke(f.select(this),$t.minor?at.minor.gridcolor:at.gridcolor||"#ddd")}).style("stroke-dasharray",function($t){return c.dashStyle($t.minor?at.minor.griddash:at.griddash,$t.minor?at.minor.gridwidth:at.gridwidth)}).style("stroke-width",function($t){return($t.minor?Te:at._gw)+"px"}).style("display",null),typeof Et.path=="function"&&re.attr("d",Et.path)}}De(at,[Y,Z])}},H.drawZeroLine=function(K,at,Et){Et=Et||Et;var Ot=at._id+"zl",Bt=H.shouldShowZeroLine(K,at,Et.counterAxis),Nt=Et.layer.selectAll("path."+Ot).data(Bt?[{x:0,id:at._id}]:[]);Nt.exit().remove(),Nt.enter().append("path").classed(Ot,1).classed("zl",1).classed("crisp",Et.crisp!==!1).each(function(){Et.layer.selectAll("path").sort(function(Ht,Zt){return j(Ht.id,Zt.id)})}),Nt.attr("transform",Et.transFn).attr("d",Et.path).call(o.stroke,at.zerolinecolor||o.defaultLine).style("stroke-width",c.crispRound(K,at.zerolinewidth,at._gw||1)+"px").style("display",null),De(at,[z])},H.drawLabels=function(K,at,Et){Et=Et||{};var Ot=K._fullLayout,Bt=at._id,Nt=Bt.charAt(0),Ht=Et.cls||Bt+"tick",Zt=Et.vals.filter(function(Ae){return Ae.text}),Qt=Et.labelFns,oe=Et.secondary?0:at.tickangle,qt=(at._prevTickAngles||{})[Ht],Te=Et.layer.selectAll("g."+Ht).data(at.showticklabels?Zt:[],se),Re=[];function pe(Ae,Ne){Ae.each(function(ke){var ze=f.select(this),Ye=ze.select(".text-math-group"),We=Qt.anchorFn(ke,Ne),Xe=Et.transFn.call(ze.node(),ke)+(g(Ne)&&+Ne!=0?" rotate("+Ne+","+Qt.xFn(ke)+","+(Qt.yFn(ke)-ke.fontSize/2)+")":""),Ge=i.lineCount(ze),qe=rt*ke.fontSize,tn=Qt.heightFn(ke,g(Ne)?+Ne:0,(Ge-1)*qe);if(tn&&(Xe+=r(0,tn)),Ye.empty()){var Ue=ze.select("text");Ue.attr({transform:Xe,"text-anchor":We}),Ue.style("opacity",1),at._adjustTickLabelsOverflow&&at._adjustTickLabelsOverflow()}else{var Qe=c.bBox(Ye.node()).width*{end:-.5,start:.5}[We];Ye.attr("transform",Xe+r(Qe,0))}})}Te.enter().append("g").classed(Ht,1).append("text").attr("text-anchor","middle").each(function(Ae){var Ne=f.select(this),ke=K._promises.length;Ne.call(i.positionText,Qt.xFn(Ae),Qt.yFn(Ae)).call(c.font,Ae.font,Ae.fontSize,Ae.fontColor).text(Ae.text).call(i.convertToTspans,K),K._promises[ke]?Re.push(K._promises.pop().then(function(){pe(Ne,oe)})):pe(Ne,oe)}),De(at,[S]),Te.exit().remove(),Et.repositionOnUpdate&&Te.each(function(Ae){f.select(this).select("text").call(i.positionText,Qt.xFn(Ae),Qt.yFn(Ae))}),at._adjustTickLabelsOverflow=function(){var Ae=at.ticklabeloverflow;if(Ae&&Ae!=="allow"){var Ne=Ae.indexOf("hide")!==-1,ke=at._id.charAt(0)==="x",ze=0,Ye=ke?K._fullLayout.width:K._fullLayout.height;if(Ae.indexOf("domain")!==-1){var We=e.simpleMap(at.range,at.r2l);ze=at.l2p(We[0])+at._offset,Ye=at.l2p(We[1])+at._offset}var Xe=Math.min(ze,Ye),Ge=Math.max(ze,Ye),qe=at.side,tn=1/0,Ue=-1/0;for(var Qe in Te.each(function(an){var un=f.select(this);if(un.select(".text-math-group").empty()){var sn=c.bBox(un.node()),on=0;ke?(sn.right>Ge||sn.left<Xe)&&(on=1):(sn.bottom>Ge||sn.top+(at.tickangle?0:an.fontSize/4)<Xe)&&(on=1);var gn=un.select("text");on?Ne&&gn.style("opacity",0):(gn.style("opacity",1),tn=qe==="bottom"||qe==="right"?Math.min(tn,ke?sn.top:sn.left):-1/0,Ue=qe==="top"||qe==="left"?Math.max(Ue,ke?sn.bottom:sn.right):1/0)}}),Ot._plots){var Ve=Ot._plots[Qe];if(at._id===Ve.xaxis._id||at._id===Ve.yaxis._id){var rn=ke?Ve.yaxis:Ve.xaxis;rn&&(rn["_visibleLabelMin_"+at._id]=tn,rn["_visibleLabelMax_"+at._id]=Ue)}}}},at._hideCounterAxisInsideTickLabels=function(Ae){var Ne=at._id.charAt(0)==="x",ke=[];for(var ze in Ot._plots){var Ye=Ot._plots[ze];at._id!==Ye.xaxis._id&&at._id!==Ye.yaxis._id||ke.push(Ne?Ye.yaxis:Ye.xaxis)}ke.forEach(function(We,Xe){We&&he(We)&&(Ae||[z,Z,Y,nt,S]).forEach(function(Ge){var qe=Ge.K==="tick"&&Ge.L==="text"&&at.ticklabelmode==="period",tn=Ot._plots[at._mainSubplot];(Ge.K===z.K?tn.zerolinelayer.selectAll("."+at._id+"zl"):Ge.K===Z.K?tn.minorGridlayer.selectAll("."+at._id):Ge.K===Y.K?tn.gridlayer.selectAll("."+at._id):tn[at._id.charAt(0)+"axislayer"]).each(function(){var Ue=f.select(this);Ge.L&&(Ue=Ue.selectAll(Ge.L)),Ue.each(function(Qe){var Ve=at.l2p(qe?Kt(Qe):Qe.x)+at._offset,rn=f.select(this);Ve<at["_visibleLabelMax_"+We._id]&&Ve>at["_visibleLabelMin_"+We._id]?rn.style("display","none"):Ge.K!=="tick"||Xe||rn.style("display",null)})})})})},pe(Te,qt+1?qt:oe);var Se=null;at._selections&&(at._selections[Ht]=Te);var Me=[function(){return Re.length&&Promise.all(Re)}];at.automargin&&Ot._redrawFromAutoMarginCount&&qt===90?(Se=90,Me.push(function(){pe(Te,qt)})):Me.push(function(){if(pe(Te,oe),Zt.length&&Nt==="x"&&!g(oe)&&(at.type!=="log"||String(at.dtick).charAt(0)!=="D")){Se=0;var Ae,Ne=0,ke=[];if(Te.each(function(un){Ne=Math.max(Ne,un.fontSize);var sn=at.l2p(un.x),on=Dt(this),gn=c.bBox(on.node());ke.push({top:0,bottom:10,height:10,left:sn-gn.width/2,right:sn+gn.width/2+2,width:gn.width+2})}),at.tickson!=="boundaries"&&!at.showdividers||Et.secondary){var ze=Zt.length,Ye=Math.abs((Zt[ze-1].x-Zt[0].x)*at._m)/(ze-1),We=at.ticklabelposition||"",Xe=function(un){return We.indexOf(un)!==-1},Ge=Xe("top"),qe=Xe("left"),tn=Xe("right"),Ue=Xe("bottom")||qe||Ge||tn?(at.tickwidth||0)+6:0,Qe=Ye<2.5*Ne||at.type==="multicategory"||at._name==="realaxis";for(Ae=0;Ae<ke.length-1;Ae++)if(e.bBoxIntersect(ke[Ae],ke[Ae+1],Ue)){Se=Qe?90:30;break}}else{var Ve=2;for(at.ticks&&(Ve+=at.tickwidth/2),Ae=0;Ae<ke.length;Ae++){var rn=Zt[Ae].xbnd,an=ke[Ae];if(rn[0]!==null&&an.left-at.l2p(rn[0])<Ve||rn[1]!==null&&at.l2p(rn[1])-an.right<Ve){Se=90;break}}}Se&&pe(Te,Se)}}),at._tickAngles&&Me.push(function(){at._tickAngles[Ht]=Se===null?g(oe)?oe:0:Se});var re=function(){var Ae=0,Ne=0;return Te.each(function(ke,ze){var Ye,We=Dt(this);We.select(".text-math-group").empty()&&(at._vals[ze]&&(Ye=at._vals[ze].bb||c.bBox(We.node()),at._vals[ze].bb=Ye),Ae=Math.max(Ae,Ye.width),Ne=Math.max(Ne,Ye.height))}),{labelsMaxW:Ae,labelsMaxH:Ne}},$t=at._anchorAxis;if($t&&($t.autorange||$t.insiderange)&&he(at)&&!J(Ot,at._id)&&(Ot._insideTickLabelsUpdaterange||(Ot._insideTickLabelsUpdaterange={}),$t.autorange&&(Ot._insideTickLabelsUpdaterange[$t._name+".autorange"]=$t.autorange,Me.push(re)),$t.insiderange)){var ve=re(),Ee=at._id.charAt(0)==="y"?ve.labelsMaxW:ve.labelsMaxH;Ee+=6,at.ticklabelposition==="inside"&&(Ee+=at.ticklen||0);var Fe=at.side==="right"||at.side==="top"?1:-1,je=Fe===1?1:0,le=Fe===1?0:1,be=[];be[le]=$t.range[le];var we=$t.d2p($t.range[je]),Ce=$t.d2p($t.range[le]),Le=Math.abs(Ce-we);Le-Ee>0?Ee*=1+Ee/(Le-=Ee):Ee=0,at._id.charAt(0)!=="y"&&(Ee=-Ee),be[je]=$t.p2d($t.d2p($t.range[je])+Fe*Ee),$t.autorange==="min"||$t.autorange==="max reversed"?(be[0]=null,$t._rangeInitial0=void 0,$t._rangeInitial1=void 0):$t.autorange!=="max"&&$t.autorange!=="min reversed"||(be[1]=null,$t._rangeInitial0=void 0,$t._rangeInitial1=void 0),Ot._insideTickLabelsUpdaterange[$t._name+".range"]=be}var Oe=e.syncOrAsync(Me);return Oe&&Oe.then&&K._promises.push(Oe),Oe},H.getPxPosition=function(K,at){var Et,Ot=K._fullLayout._size,Bt=at._id.charAt(0),Nt=at.side;return at.anchor!=="free"?Et=at._anchorAxis:Bt==="x"?Et={_offset:Ot.t+(1-(at.position||0))*Ot.h,_length:0}:Bt==="y"&&(Et={_offset:Ot.l+(at.position||0)*Ot.w+at._shift,_length:0}),Nt==="top"||Nt==="left"?Et._offset:Nt==="bottom"||Nt==="right"?Et._offset+Et._length:void 0},H.shouldShowZeroLine=function(K,at,Et){var Ot=e.simpleMap(at.range,at.r2l);return Ot[0]*Ot[1]<=0&&at.zeroline&&(at.type==="linear"||at.type==="-")&&!(at.rangebreaks&&at.maskBreaks(0)===G)&&(xe(at,0)||!function(Bt,Nt,Ht,Zt){var Qt=Ht._mainAxis;if(Qt){var oe=Bt._fullLayout,qt=Nt._id.charAt(0),Te=H.counterLetter(Nt._id),Re=Nt._offset+(Math.abs(Zt[0])<Math.abs(Zt[1])==(qt==="x")?0:Nt._length),pe=oe._plots[Ht._mainSubplot];if(!(pe.mainplotinfo||pe).overlays.length)return $t(Ht);for(var Se=H.list(Bt,Te),Me=0;Me<Se.length;Me++){var re=Se[Me];if(re._mainAxis===Qt&&$t(re))return!0}}function $t(ve){if(!ve.showline||!ve.linewidth)return!1;var Ee=Math.max((ve.linewidth+Nt.zerolinewidth)/2,1);function Fe(be){return typeof be=="number"&&Math.abs(be-Re)<Ee}if(Fe(ve._mainLinePosition)||Fe(ve._mainMirrorPosition))return!0;var je=ve._linepositions||{};for(var le in je)if(Fe(je[le][0])||Fe(je[le][1]))return!0}}(K,at,Et,Ot)||function(Bt,Nt){for(var Ht=Bt._fullData,Zt=Nt._mainSubplot,Qt=Nt._id.charAt(0),oe=0;oe<Ht.length;oe++){var qt=Ht[oe];if(qt.visible===!0&&qt.xaxis+qt.yaxis===Zt&&(n.traceIs(qt,"bar-like")&&qt.orientation==={x:"h",y:"v"}[Qt]||qt.fill&&qt.fill.charAt(qt.fill.length-1)===Qt))return!0}return!1}(K,at))},H.clipEnds=function(K,at){return at.filter(function(Et){return xe(K,Et.x)})},H.allowAutoMargin=function(K){for(var at=H.list(K,"",!0),Et=0;Et<at.length;Et++){var Ot=at[Et];Ot.automargin&&(a.allowAutoMargin(K,wt(Ot)),Ot.mirror&&a.allowAutoMargin(K,Ut(Ot))),n.getComponentMethod("rangeslider","isVisible")(Ot)&&a.allowAutoMargin(K,Wt(Ot))}},H.swap=function(K,at){for(var Et=function(Bt,Nt){var Ht,Zt,Qt=[];for(Ht=0;Ht<Nt.length;Ht++){var oe=[],qt=Bt._fullData[Nt[Ht]].xaxis,Te=Bt._fullData[Nt[Ht]].yaxis;if(qt&&Te){for(Zt=0;Zt<Qt.length;Zt++)Qt[Zt].x.indexOf(qt)===-1&&Qt[Zt].y.indexOf(Te)===-1||oe.push(Zt);if(oe.length){var Re,pe=Qt[oe[0]];if(oe.length>1)for(Zt=1;Zt<oe.length;Zt++)Re=Qt[oe[Zt]],me(pe.x,Re.x),me(pe.y,Re.y);me(pe.x,[qt]),me(pe.y,[Te])}else Qt.push({x:[qt],y:[Te]})}}return Qt}(K,at),Ot=0;Ot<Et.length;Ot++)Vt(K,Et[Ot].x,Et[Ot].y)}},4322:function(X,d,t){var f=t(2770),g=t(1828),a=t(606).BADNUM,n=g.isArrayOrTypedArray,e=g.isDateTime,r=g.cleanNumber,i=Math.round;function l(c,u){return u?f(c):typeof c=="number"}function o(c){return Math.max(1,(c-1)/1e3)}X.exports=function(c,u,h){var y=c,m=h.noMultiCategory;if(n(y)&&!y.length)return"-";if(!m&&function(b){return n(b[0])&&n(b[1])}(y))return"multicategory";if(m&&Array.isArray(y[0])){for(var v=[],x=0;x<y.length;x++)if(n(y[x]))for(var w=0;w<y[x].length;w++)v.push(y[x][w]);y=v}if(function(b,T){for(var A=b.length,P=o(A),k=0,L=0,D={},_=0;_<A;_+=P){var I=b[i(_)],O=String(I);D[O]||(D[O]=1,e(I,T)&&k++,f(I)&&L++)}return k>2*L}(y,u))return"date";var p=h.autotypenumbers!=="strict";return function(b,T){for(var A=b.length,P=o(A),k=0,L=0,D={},_=0;_<A;_+=P){var I=b[i(_)],O=String(I);if(!D[O]){D[O]=1;var N=typeof I;N==="boolean"?L++:(T?r(I)!==a:N==="number")?k++:N==="string"&&L++}}return L>2*k}(y,p)?"category":function(b,T){for(var A=b.length,P=0;P<A;P++)if(l(b[P],T))return!0;return!1}(y,p)?"linear":"-"}},1453:function(X,d,t){var f=t(2770),g=t(3972),a=t(1828),n=t(4467),e=t(5501),r=t(3838),i=t(6218),l=t(8701),o=t(6115),c=t(9426),u=t(5258),h=t(2128),y=t(3608),m=t(1994),v=t(5555).WEEKDAY_PATTERN,x=t(5555).HOUR_PATTERN;function w(T,A,P){function k(z,Y){return a.coerce(T,A,r.rangebreaks,z,Y)}if(k("enabled")){var L=k("bounds");if(L&&L.length>=2){var D,_,I="";if(L.length===2){for(D=0;D<2;D++)if(_=b(L[D])){I=v;break}}var O=k("pattern",I);if(O===v)for(D=0;D<2;D++)(_=b(L[D]))&&(A.bounds[D]=L[D]=_-1);if(O)for(D=0;D<2;D++)switch(_=L[D],O){case v:if(!f(_)||(_=+_)!==Math.floor(_)||_<0||_>=7)return void(A.enabled=!1);A.bounds[D]=L[D]=_;break;case x:if(!f(_)||(_=+_)<0||_>24)return void(A.enabled=!1);A.bounds[D]=L[D]=_}if(P.autorange===!1){var N=P.range;if(N[0]<N[1]){if(L[0]<N[0]&&L[1]>N[1])return void(A.enabled=!1)}else if(L[0]>N[0]&&L[1]<N[1])return void(A.enabled=!1)}}else{var G=k("values");if(!G||!G.length)return void(A.enabled=!1);k("dvalue")}}}X.exports=function(T,A,P,k,L){var D,_=k.letter,I=k.font||{},O=k.splomStash||{},N=P("visible",!k.visibleDflt),G=A._template||{},z=A.type||G.type||"-";z==="date"&&(g.getComponentMethod("calendars","handleDefaults")(T,A,"calendar",k.calendar),k.noTicklabelmode||(D=P("ticklabelmode")));var Y="";k.noTicklabelposition&&z!=="multicategory"||(Y=a.coerce(T,A,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:D==="period"?["outside","inside"]:_==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),k.noTicklabeloverflow||P("ticklabeloverflow",Y.indexOf("inside")!==-1?"hide past domain":z==="category"||z==="multicategory"?"allow":"hide past div"),m(A,L),y(T,A,P,k),u(T,A,P,k),z==="category"||k.noHover||P("hoverformat");var Z=P("color"),nt=Z!==r.color.dflt?Z:I.color,S=O.label||L._dfltTitle[_];if(c(T,A,P,z,k),!N)return A;P("title.text",S),a.coerceFont(P,"title.font",{family:I.family,size:a.bigFont(I.size),color:nt}),i(T,A,P,z);var E=k.hasMinor;if(E&&(n.newContainer(A,"minor"),i(T,A,P,z,{isMinor:!0})),o(T,A,P,z,k),l(T,A,P,k),E){var V=k.isMinor;k.isMinor=!0,l(T,A,P,k),k.isMinor=V}h(T,A,P,{dfltColor:Z,bgColor:k.bgColor,showGrid:k.showGrid,hasMinor:E,attributes:r}),!E||A.minor.ticks||A.minor.showgrid||delete A.minor,(A.showline||A.ticks)&&P("mirror");var Q,tt=z==="multicategory";if(k.noTickson||z!=="category"&&!tt||!A.ticks&&!A.showgrid||(tt&&(Q="boundaries"),P("tickson",Q)==="boundaries"&&delete A.ticklabelposition),tt&&P("showdividers")&&(P("dividercolor"),P("dividerwidth")),z==="date")if(e(T,A,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:w}),A.rangebreaks.length){for(var rt=0;rt<A.rangebreaks.length;rt++)if(A.rangebreaks[rt].pattern===v){A._hasDayOfWeekBreaks=!0;break}if(m(A,L),L._has("scattergl")||L._has("splom"))for(var ot=0;ot<k.data.length;ot++){var H=k.data[ot];H.type!=="scattergl"&&H.type!=="splom"||(H.visible=!1,a.warn(H.type+" traces do not work on axes with rangebreaks. Setting trace "+H.index+" to `visible: false`."))}}else delete A.rangebreaks;return A};var p={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function b(T){if(typeof T=="string")return p[T.substr(0,3).toLowerCase()]}},2663:function(X,d,t){var f=t(1562),g=f.FORMAT_LINK,a=f.DATE_FORMAT_LINK;function n(r,i){return["Sets the "+r+" formatting rule"+(i?"for `"+i+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+g+"."].join(" ")}function e(r,i){return n(r,i)+[" And for dates see: "+a+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}X.exports={axisHoverFormat:function(r,i){return{valType:"string",dflt:"",editType:"none",description:(i?n:e)("hover text",r)+["By default the values are formatted using "+(i?"generic number format":"`"+r+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:n,descriptionWithDates:e}},1675:function(X,d,t){var f=t(3972),g=t(5555);function a(n,e){if(e&&e.length){for(var r=0;r<e.length;r++)if(e[r][n])return!0}return!1}d.id2name=function(n){if(typeof n=="string"&&n.match(g.AX_ID_PATTERN)){var e=n.split(" ")[0].substr(1);return e==="1"&&(e=""),n.charAt(0)+"axis"+e}},d.name2id=function(n){if(n.match(g.AX_NAME_PATTERN)){var e=n.substr(5);return e==="1"&&(e=""),n.charAt(0)+e}},d.cleanId=function(n,e,r){var i=/( domain)$/.test(n);if(typeof n=="string"&&n.match(g.AX_ID_PATTERN)&&(!e||n.charAt(0)===e)&&(!i||r)){var l=n.split(" ")[0].substr(1).replace(/^0+/,"");return l==="1"&&(l=""),n.charAt(0)+l+(i&&r?" domain":"")}},d.list=function(n,e,r){var i=n._fullLayout;if(!i)return[];var l,o=d.listIds(n,e),c=new Array(o.length);for(l=0;l<o.length;l++){var u=o[l];c[l]=i[u.charAt(0)+"axis"+u.substr(1)]}if(!r){var h=i._subplots.gl3d||[];for(l=0;l<h.length;l++){var y=i[h[l]];e?c.push(y[e+"axis"]):c.push(y.xaxis,y.yaxis,y.zaxis)}}return c},d.listIds=function(n,e){var r=n._fullLayout;if(!r)return[];var i=r._subplots;return e?i[e+"axis"]:i.xaxis.concat(i.yaxis)},d.getFromId=function(n,e,r){var i=n._fullLayout;return e=e===void 0||typeof e!="string"?e:e.replace(" domain",""),r==="x"?e=e.replace(/y[0-9]*/,""):r==="y"&&(e=e.replace(/x[0-9]*/,"")),i[d.id2name(e)]},d.getFromTrace=function(n,e,r){var i=n._fullLayout,l=null;if(f.traceIs(e,"gl3d")){var o=e.scene;o.substr(0,5)==="scene"&&(l=i[o][r+"axis"])}else l=d.getFromId(n,e[r+"axis"]||r);return l},d.idSort=function(n,e){var r=n.charAt(0),i=e.charAt(0);return r!==i?r>i?1:-1:+(n.substr(1)||1)-+(e.substr(1)||1)},d.ref2id=function(n){return!!/^[xyz]/.test(n)&&n.split(" ")[0]},d.isLinked=function(n,e){return a(e,n._axisMatchGroups)||a(e,n._axisConstraintGroups)}},5258:function(X){X.exports=function(d,t,f,g){if(t.type==="category"){var a,n=d.categoryarray,e=Array.isArray(n)&&n.length>0;e&&(a="array");var r,i=f("categoryorder",a);i==="array"&&(r=f("categoryarray")),e||i!=="array"||(i=t.categoryorder="trace"),i==="trace"?t._initialCategories=[]:i==="array"?t._initialCategories=r.slice():(r=function(l,o){var c,u,h,y=o.dataAttr||l._id.charAt(0),m={};if(o.axData)c=o.axData;else for(c=[],u=0;u<o.data.length;u++){var v=o.data[u];v[y+"axis"]===l._id&&c.push(v)}for(u=0;u<c.length;u++){var x=c[u][y];for(h=0;h<x.length;h++){var w=x[h];w!=null&&(m[w]=1)}}return Object.keys(m)}(t,g).sort(),i==="category ascending"?t._initialCategories=r:i==="category descending"&&(t._initialCategories=r.reverse()))}}},6287:function(X,d,t){var f=t(2770),g=t(1828),a=t(606),n=a.ONEDAY,e=a.ONEWEEK;d.dtick=function(r,i){var l=i==="log",o=i==="date",c=i==="category",u=o?n:1;if(!r)return u;if(f(r))return(r=Number(r))<=0?u:c?Math.max(1,Math.round(r)):o?Math.max(.1,r):r;if(typeof r!="string"||!o&&!l)return u;var h=r.charAt(0),y=r.substr(1);return(y=f(y)?Number(y):0)<=0||!(o&&h==="M"&&y===Math.round(y)||l&&h==="L"||l&&h==="D"&&(y===1||y===2))?u:r},d.tick0=function(r,i,l,o){return i==="date"?g.cleanDate(r,g.dateTick0(l,o%e==0?1:0)):o!=="D1"&&o!=="D2"?f(r)?Number(r):0:void 0}},5555:function(X,d,t){var f=t(587).counter;X.exports={idRegex:{x:f("x","( domain)?"),y:f("y","( domain)?")},attrRegex:f("[xy]axis"),xAxisMatch:f("xaxis"),yAxisMatch:f("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},9082:function(X,d,t){var f=t(1828),g=t(1739),a=t(1675).id2name,n=t(3838),e=t(2449),r=t(1994),i=t(606).ALMOST_EQUAL,l=t(8783).FROM_BL;function o(x,w,p){var b=p.axIds,T=p.layoutOut,A=p.hasImage,P=T._axisConstraintGroups,k=T._axisMatchGroups,L=w._id,D=L.charAt(0),_=((T._splomAxes||{})[D]||{})[L]||{},I=w._id,O=I.charAt(0)==="x";function N(F,R){return f.coerce(x,w,n,F,R)}w._matchGroup=null,w._constraintGroup=null,N("constrain",A?"domain":"range"),f.coerce(x,w,{constraintoward:{valType:"enumerated",values:O?["left","center","right"]:["bottom","middle","top"],dflt:O?"center":"middle"}},"constraintoward");var G,z,Y=w.type,Z=[];for(G=0;G<b.length;G++)(z=b[G])!==I&&T[a(z)].type===Y&&Z.push(z);var nt=u(P,I);if(nt){var S=[];for(G=0;G<Z.length;G++)nt[z=Z[G]]||S.push(z);Z=S}var E,V,Q=Z.length;Q&&(x.matches||_.matches)&&(E=f.coerce(x,w,{matches:{valType:"enumerated",values:Z,dflt:Z.indexOf(_.matches)!==-1?_.matches:void 0}},"matches"));var tt=A&&!O?w.anchor:void 0;if(Q&&!E&&(x.scaleanchor||tt)&&(V=f.coerce(x,w,{scaleanchor:{valType:"enumerated",values:Z.concat([!1])}},"scaleanchor",tt)),E){w._matchGroup=h(k,I,E,1);var rt=T[a(E)],ot=c(T,w)/c(T,rt);O!==(E.charAt(0)==="x")&&(ot=(O?"x":"y")+ot),h(P,I,E,ot)}else x.matches&&b.indexOf(x.matches)!==-1&&f.warn("ignored "+w._name+'.matches: "'+x.matches+'" to avoid an infinite loop');if(V){var H=N("scaleratio");H||(H=w.scaleratio=1),h(P,I,V,H)}else x.scaleanchor&&b.indexOf(x.scaleanchor)!==-1&&f.warn("ignored "+w._name+'.scaleanchor: "'+x.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function c(x,w){var p=w.domain;return p||(p=x[a(w.overlaying)].domain),p[1]-p[0]}function u(x,w){for(var p=0;p<x.length;p++)if(x[p][w])return x[p];return null}function h(x,w,p,b){var T,A,P,k,L,D=u(x,w);D===null?((D={})[w]=1,L=x.length,x.push(D)):L=x.indexOf(D);var _=Object.keys(D);for(T=0;T<x.length;T++)if(P=x[T],T!==L&&P[p]){var I=P[p];for(A=0;A<_.length;A++)P[k=_[A]]=y(I,y(b,D[k]));return void x.splice(L,1)}if(b!==1)for(A=0;A<_.length;A++){var O=_[A];D[O]=y(b,D[O])}D[p]=1}function y(x,w){var p,b,T="",A="";typeof x=="string"&&(p=(T=x.match(/^[xy]*/)[0]).length,x=+x.substr(p)),typeof w=="string"&&(b=(A=w.match(/^[xy]*/)[0]).length,w=+w.substr(b));var P=x*w;return p||b?p&&b&&T.charAt(0)!==A.charAt(0)?p===b?P:(p>b?T.substr(b):A.substr(p))+P:T+A+x*w:P}function m(x,w){for(var p=w._size,b=p.h/p.w,T={},A=Object.keys(x),P=0;P<A.length;P++){var k=A[P],L=x[k];if(typeof L=="string"){var D=L.match(/^[xy]*/)[0],_=D.length;L=+L.substr(_);for(var I=D.charAt(0)==="y"?b:1/b,O=0;O<_;O++)L*=I}T[k]=L}return T}function v(x,w){var p=x._inputDomain,b=l[x.constraintoward],T=p[0]+(p[1]-p[0])*b;x.domain=x._input.domain=[T+(p[0]-T)/w,T+(p[1]-T)/w],x.setScale()}d.handleDefaults=function(x,w,p){var b,T,A,P,k,L,D,_,I=p.axIds,O=p.axHasImage,N=w._axisConstraintGroups=[],G=w._axisMatchGroups=[];for(b=0;b<I.length;b++)o(k=x[P=a(I[b])],L=w[P],{axIds:I,layoutOut:w,hasImage:O[P]});function z(rt,ot){for(b=0;b<rt.length;b++)for(A in T=rt[b])w[a(A)][ot]=T}for(z(G,"_matchGroup"),b=0;b<N.length;b++)for(A in T=N[b])if((L=w[a(A)]).fixedrange){for(var Y in T){var Z=a(Y);(x[Z]||{}).fixedrange===!1&&f.warn("fixedrange was specified as false for axis "+Z+" but was overridden because another axis in its constraint group has fixedrange true"),w[Z].fixedrange=!0}break}for(b=0;b<N.length;){for(A in T=N[b]){(L=w[a(A)])._matchGroup&&Object.keys(L._matchGroup).length===Object.keys(T).length&&(N.splice(b,1),b--);break}b++}z(N,"_constraintGroup");var nt=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],S=!1,E=!1;function V(){_=L[D],D==="rangebreaks"&&(E=L._hasDayOfWeekBreaks)}for(b=0;b<G.length;b++){T=G[b];for(var Q=0;Q<nt.length;Q++){var tt;for(A in D=nt[Q],_=null,T)if(k=x[P=a(A)],L=w[P],D in L){if(!L.matches&&(tt=L,D in k)){V();break}_===null&&D in k&&V()}if(D==="range"&&_&&k.range&&k.range.length===2&&k.range[0]!==null&&k.range[1]!==null&&(S=!0),D==="autorange"&&_===null&&S&&(_=!1),_===null&&D in tt&&(_=tt[D]),_!==null)for(A in T)(L=w[a(A)])[D]=D==="range"?_.slice():_,D==="rangebreaks"&&(L._hasDayOfWeekBreaks=E,r(L,w))}}},d.enforce=function(x){var w,p,b,T,A,P,k,L,D=x._fullLayout,_=D._axisConstraintGroups||[];for(w=0;w<_.length;w++){b=m(_[w],D);var I=Object.keys(b),O=1/0,N=0,G=1/0,z={},Y={},Z=!1;for(p=0;p<I.length;p++)Y[T=I[p]]=A=D[a(T)],A._inputDomain?A.domain=A._inputDomain.slice():A._inputDomain=A.domain.slice(),A._inputRange||(A._inputRange=A.range.slice()),A.setScale(),z[T]=P=Math.abs(A._m)/b[T],O=Math.min(O,P),A.constrain!=="domain"&&A._constraintShrinkable||(G=Math.min(G,P)),delete A._constraintShrinkable,N=Math.max(N,P),A.constrain==="domain"&&(Z=!0);if(!(O>i*N)||Z){for(p=0;p<I.length;p++)if(P=z[T=I[p]],k=(A=Y[T]).constrain,P!==G||k==="domain")if(L=P/G,k==="range")e(A,L);else{var nt=A._inputDomain,S=(A.domain[1]-A.domain[0])/(nt[1]-nt[0]),E=(A.r2l(A.range[1])-A.r2l(A.range[0]))/(A.r2l(A._inputRange[1])-A.r2l(A._inputRange[0]));if((L/=S)*E<1){A.domain=A._input.domain=nt.slice(),e(A,L);continue}if(E<1&&(A.range=A._input.range=A._inputRange.slice(),L*=E),A.autorange){var V=A.r2l(A.range[0]),Q=A.r2l(A.range[1]),tt=(V+Q)/2,rt=tt,ot=tt,H=Math.abs(Q-tt),F=tt-H*L*1.0001,R=tt+H*L*1.0001,j=g.makePadFn(D,A,0),J=g.makePadFn(D,A,1);v(A,L);var q,$,et=Math.abs(A._m),st=g.concatExtremes(x,A),yt=st.min,St=st.max;for($=0;$<yt.length;$++)(q=yt[$].val-j(yt[$])/et)>F&&q<rt&&(rt=q);for($=0;$<St.length;$++)(q=St[$].val+J(St[$])/et)<R&&q>ot&&(ot=q);L/=(ot-rt)/(2*H),rt=A.l2r(rt),ot=A.l2r(ot),A.range=A._input.range=V<Q?[rt,ot]:[ot,rt]}v(A,L)}}}},d.getAxisGroup=function(x,w){for(var p=x._axisMatchGroups,b=0;b<p.length;b++)if(p[b][w])return"g"+b;return w},d.clean=function(x,w){if(w._inputDomain){for(var p=!1,b=w._id,T=x._fullLayout._axisConstraintGroups,A=0;A<T.length;A++)if(T[A][b]){p=!0;break}p&&w.constrain==="domain"||(w._input.domain=w.domain=w._inputDomain,delete w._inputDomain)}}},9323:function(X,d,t){var f=t(9898),g=t(1828),a=g.numberFormat,n=t(4267),e=t(8520),r=t(3972),i=g.strTranslate,l=t(3893),o=t(7901),c=t(1424),u=t(211),h=t(9298),y=t(6964),m=t(8569),v=t(4505),x=v.selectingOrDrawing,w=v.freeMode,p=t(8783).FROM_TL,b=t(3306),T=t(1549).redrawReglTraces,A=t(4875),P=t(1675).getFromId,k=t(7322).prepSelect,L=t(7322).clearOutline,D=t(7322).selectOnClick,_=t(2449),I=t(5555),O=I.MINDRAG,N=I.MINZOOM,G=!0;function z(q,$,et,st){var yt=g.ensureSingle(q.draglayer,$,et,function(St){St.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",q.id)});return yt.call(y,st),yt.node()}function Y(q,$,et,st,yt,St,Lt){var It=z(q,"rect",$,et);return f.select(It).call(c.setRect,st,yt,St,Lt),It}function Z(q,$){for(var et=0;et<q.length;et++)if(!q[et].fixedrange)return $;return""}function nt(q,$,et,st,yt){for(var St=0;St<q.length;St++){var Lt=q[St];if(!Lt.fixedrange)if(Lt.rangebreaks){var It=Lt._id.charAt(0)==="y",it=It?1-$:$,ft=It?1-et:et;st[Lt._name+".range[0]"]=Lt.l2r(Lt.p2l(it*Lt._length)),st[Lt._name+".range[1]"]=Lt.l2r(Lt.p2l(ft*Lt._length))}else{var dt=Lt._rl[0],xt=Lt._rl[1]-dt;st[Lt._name+".range[0]"]=Lt.l2r(dt+xt*$),st[Lt._name+".range[1]"]=Lt.l2r(dt+xt*et)}}if(yt&&yt.length){var Pt=($+(1-et))/2;nt(yt,Pt,1-Pt,st,[])}}function S(q,$){for(var et=0;et<q.length;et++){var st=q[et];if(!st.fixedrange){if(st.rangebreaks){var yt=st._length,St=(st.p2l(0+$)-st.p2l(0)+(st.p2l(yt+$)-st.p2l(yt)))/2;st.range=[st.l2r(st._rl[0]-St),st.l2r(st._rl[1]-St)]}else st.range=[st.l2r(st._rl[0]-$/st._m),st.l2r(st._rl[1]-$/st._m)];st.limitRange&&st.limitRange()}}}function E(q){return 1-(q>=0?Math.min(q,.9):1/(1/Math.max(q,-.3)+3.222))}function V(q,$,et,st,yt){return q.append("path").attr("class","zoombox").style({fill:$>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",i(et,st)).attr("d",yt+"Z")}function Q(q,$,et){return q.append("path").attr("class","zoombox-corners").style({fill:o.background,stroke:o.defaultLine,"stroke-width":1,opacity:0}).attr("transform",i($,et)).attr("d","M0,0Z")}function tt(q,$,et,st,yt,St){q.attr("d",st+"M"+et.l+","+et.t+"v"+et.h+"h"+et.w+"v-"+et.h+"h-"+et.w+"Z"),rt(q,$,yt,St)}function rt(q,$,et,st){et||(q.transition().style("fill",st>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),$.transition().style("opacity",1).duration(200))}function ot(q){f.select(q).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function H(q){G&&q.data&&q._context.showTips&&(g.notifier(g._(q,"Double-click to zoom back out"),"long"),G=!1)}function F(q){var $=Math.floor(Math.min(q.b-q.t,q.r-q.l,N)/2);return"M"+(q.l-3.5)+","+(q.t-.5+$)+"h3v"+-$+"h"+$+"v-3h-"+($+3)+"ZM"+(q.r+3.5)+","+(q.t-.5+$)+"h-3v"+-$+"h"+-$+"v-3h"+($+3)+"ZM"+(q.r+3.5)+","+(q.b+.5-$)+"h-3v"+$+"h"+-$+"v3h"+($+3)+"ZM"+(q.l-3.5)+","+(q.b+.5-$)+"h3v"+$+"h"+$+"v3h-"+($+3)+"Z"}function R(q,$,et,st,yt){for(var St,Lt,It,it,ft=!1,dt={},xt={},Pt=(yt||{}).xaHash,Ct=(yt||{}).yaHash,lt=0;lt<$.length;lt++){var ht=$[lt];for(St in et)if(ht[St]){for(It in ht)yt&&(Pt[It]||Ct[It])||(It.charAt(0)==="x"?et:st)[It]||(dt[It]=St);for(Lt in st)yt&&(Pt[Lt]||Ct[Lt])||!ht[Lt]||(ft=!0)}for(Lt in st)if(ht[Lt])for(it in ht)yt&&(Pt[it]||Ct[it])||(it.charAt(0)==="x"?et:st)[it]||(xt[it]=Lt)}ft&&(g.extendFlat(dt,xt),xt={});var vt={},gt=[];for(It in dt){var mt=P(q,It);gt.push(mt),vt[mt._id]=mt}var Tt={},kt=[];for(it in xt){var _t=P(q,it);kt.push(_t),Tt[_t._id]=_t}return{xaHash:vt,yaHash:Tt,xaxes:gt,yaxes:kt,xLinks:dt,yLinks:xt,isSubplotConstrained:ft}}function j(q,$){if(e){var et=q.onwheel!==void 0?"wheel":"mousewheel";q._onwheel&&q.removeEventListener(et,q._onwheel),q._onwheel=$,q.addEventListener(et,$,{passive:!1})}else q.onwheel!==void 0?q.onwheel=$:q.onmousewheel!==void 0?q.onmousewheel=$:q.isAddedWheelEvent||(q.isAddedWheelEvent=!0,q.addEventListener("wheel",$,{passive:!1}))}function J(q){var $=[];for(var et in q)$.push(q[et]);return $}X.exports={makeDragBox:function(q,$,et,st,yt,St,Lt,It){var it,ft,dt,xt,Pt,Ct,lt,ht,vt,gt,mt,Tt,kt,_t,At,Mt,Rt,Yt,zt,Xt,Kt,se,de,xe=q._fullLayout._zoomlayer,Dt=Lt+It==="nsew",wt=(Lt+It).length===1;function Ut(){if(it=$.xaxis,ft=$.yaxis,vt=it._length,gt=ft._length,lt=it._offset,ht=ft._offset,(dt={})[it._id]=it,(xt={})[ft._id]=ft,Lt&&It)for(var le=$.overlays,be=0;be<le.length;be++){var we=le[be].xaxis;dt[we._id]=we;var Ce=le[be].yaxis;xt[Ce._id]=Ce}Pt=J(dt),Ct=J(xt),kt=Z(Pt,It),_t=Z(Ct,Lt),At=!_t&&!kt,Tt=R(q,q._fullLayout._axisMatchGroups,dt,xt);var Le=(mt=R(q,q._fullLayout._axisConstraintGroups,dt,xt,Tt)).isSubplotConstrained||Tt.isSubplotConstrained;Mt=It||Le,Rt=Lt||Le;var Oe=q._fullLayout;Yt=Oe._has("scattergl"),zt=Oe._has("splom"),Xt=Oe._has("svg")}et+=$.yaxis._shift,Ut();var Wt=function(le,be,we){return le?le==="nsew"?we?"":be==="pan"?"move":"crosshair":le.toLowerCase()+"-resize":"pointer"}(_t+kt,q._fullLayout.dragmode,Dt),me=Y($,Lt+It+"drag",Wt,et,st,yt,St);if(At&&!Dt)return me.onmousedown=null,me.style.pointerEvents="none",me;var Vt,ne,ie,_e,he,De,fe,K,at,Et,Ot={element:me,gd:q,plotinfo:$};function Bt(){Ot.plotinfo.selection=!1,L(q)}function Nt(le,be){var we=Ot.gd;if(we._fullLayout._activeShapeIndex>=0)we._fullLayout._deactivateShape(we);else{var Ce=we._fullLayout.clickmode;if(ot(we),le!==2||wt||re(),Dt)Ce.indexOf("select")>-1&&D(be,we,Pt,Ct,$.id,Ot),Ce.indexOf("event")>-1&&u.click(we,be,$.id);else if(le===1&&wt){var Le=Lt?ft:it,Oe=Lt==="s"||It==="w"?0:1,Ae=Le._name+".range["+Oe+"]",Ne=function(Ye,We){var Xe,Ge=Ye.range[We],qe=Math.abs(Ge-Ye.range[1-We]);return Ye.type==="date"?Ge:Ye.type==="log"?(Xe=Math.ceil(Math.max(0,-Math.log(qe)/Math.LN10))+3,a("."+Xe+"g")(Math.pow(10,Ge))):(Xe=Math.floor(Math.log(Math.abs(Ge))/Math.LN10)-Math.floor(Math.log(qe)/Math.LN10)+4,a("."+String(Xe)+"g")(Ge))}(Le,Oe),ke="left",ze="middle";if(Le.fixedrange)return;Lt?(ze=Lt==="n"?"top":"bottom",Le.side==="right"&&(ke="right")):It==="e"&&(ke="right"),we._context.showAxisRangeEntryBoxes&&f.select(me).call(l.makeEditable,{gd:we,immediate:!0,background:we._fullLayout.paper_bgcolor,text:String(Ne),fill:Le.tickfont?Le.tickfont.color:"#444",horizontalAlign:ke,verticalAlign:ze}).on("edit",function(Ye){var We=Le.d2r(Ye);We!==void 0&&r.call("_guiRelayout",we,Ae,We)})}}}function Ht(le,be){if(q._transitioningWithDuration)return!1;var we=Math.max(0,Math.min(vt,se*le+Vt)),Ce=Math.max(0,Math.min(gt,de*be+ne)),Le=Math.abs(we-Vt),Oe=Math.abs(Ce-ne);function Ae(){fe="",ie.r=ie.l,ie.t=ie.b,at.attr("d","M0,0Z")}if(ie.l=Math.min(Vt,we),ie.r=Math.max(Vt,we),ie.t=Math.min(ne,Ce),ie.b=Math.max(ne,Ce),mt.isSubplotConstrained)Le>N||Oe>N?(fe="xy",Le/vt>Oe/gt?(Oe=Le*gt/vt,ne>Ce?ie.t=ne-Oe:ie.b=ne+Oe):(Le=Oe*vt/gt,Vt>we?ie.l=Vt-Le:ie.r=Vt+Le),at.attr("d",F(ie))):Ae();else if(Tt.isSubplotConstrained)if(Le>N||Oe>N){fe="xy";var Ne=Math.min(ie.l/vt,(gt-ie.b)/gt),ke=Math.max(ie.r/vt,(gt-ie.t)/gt);ie.l=Ne*vt,ie.r=ke*vt,ie.b=(1-Ne)*gt,ie.t=(1-ke)*gt,at.attr("d",F(ie))}else Ae();else!_t||Oe<Math.min(Math.max(.6*Le,O),N)?Le<O||!kt?Ae():(ie.t=0,ie.b=gt,fe="x",at.attr("d",function(ze,Ye){return"M"+(ze.l-.5)+","+(Ye-N-.5)+"h-3v"+(2*N+1)+"h3ZM"+(ze.r+.5)+","+(Ye-N-.5)+"h3v"+(2*N+1)+"h-3Z"}(ie,ne))):!kt||Le<Math.min(.6*Oe,N)?(ie.l=0,ie.r=vt,fe="y",at.attr("d",function(ze,Ye){return"M"+(Ye-N-.5)+","+(ze.t-.5)+"v-3h"+(2*N+1)+"v3ZM"+(Ye-N-.5)+","+(ze.b+.5)+"v3h"+(2*N+1)+"v-3Z"}(ie,Vt))):(fe="xy",at.attr("d",F(ie)));ie.w=ie.r-ie.l,ie.h=ie.b-ie.t,fe&&(Et=!0),q._dragged=Et,tt(K,at,ie,he,De,_e),Zt(),q.emit("plotly_relayouting",Kt),De=!0}function Zt(){Kt={},fe!=="xy"&&fe!=="x"||(nt(Pt,ie.l/vt,ie.r/vt,Kt,mt.xaxes),Se("x",Kt)),fe!=="xy"&&fe!=="y"||(nt(Ct,(gt-ie.b)/gt,(gt-ie.t)/gt,Kt,mt.yaxes),Se("y",Kt))}function Qt(){Zt(),ot(q),$t(),H(q)}Ot.prepFn=function(le,be,we){var Ce=Ot.dragmode,Le=q._fullLayout.dragmode;Le!==Ce&&(Ot.dragmode=Le),Ut(),se=q._fullLayout._invScaleX,de=q._fullLayout._invScaleY,At||(Dt?le.shiftKey?Le==="pan"?Le="zoom":x(Le)||(Le="pan"):le.ctrlKey&&(Le="pan"):Le="pan"),w(Le)?Ot.minDrag=1:Ot.minDrag=void 0,x(Le)?(Ot.xaxes=Pt,Ot.yaxes=Ct,k(le,be,we,Ot,Le)):(Ot.clickFn=Nt,x(Ce)&&Bt(),At||(Le==="zoom"?(Ot.moveFn=Ht,Ot.doneFn=Qt,Ot.minDrag=1,function(Oe,Ae,Ne){var ke=me.getBoundingClientRect();Vt=Ae-ke.left,ne=Ne-ke.top,q._fullLayout._calcInverseTransform(q);var ze=g.apply3DTransform(q._fullLayout._invTransform)(Vt,ne);Vt=ze[0],ne=ze[1],ie={l:Vt,r:Vt,w:0,t:ne,b:ne,h:0},_e=q._hmpixcount?q._hmlumcount/q._hmpixcount:n(q._fullLayout.plot_bgcolor).getLuminance(),De=!1,fe="xy",Et=!1,K=V(xe,_e,lt,ht,he="M0,0H"+vt+"V"+gt+"H0V0"),at=Q(xe,lt,ht)}(0,be,we)):Le==="pan"&&(Ot.moveFn=pe,Ot.doneFn=$t))),q._fullLayout._redrag=function(){var Oe=q._dragdata;if(Oe&&Oe.element===me){var Ae=q._fullLayout.dragmode;x(Ae)||(Ut(),ve([0,0,vt,gt]),Ot.moveFn(Oe.dx,Oe.dy))}}},m.init(Ot);var oe=[0,0,vt,gt],qt=null,Te=I.REDRAWDELAY,Re=$.mainplot?q._fullLayout._plots[$.mainplot]:$;function pe(le,be){if(le*=se,be*=de,!q._transitioningWithDuration){if(q._fullLayout._replotting=!0,kt==="ew"||_t==="ns"){var we=kt?-le:0,Ce=_t?-be:0;if(Tt.isSubplotConstrained){if(kt&&_t){var Le=(le/vt-be/gt)/2;we=-(le=Le*vt),Ce=-(be=-Le*gt)}_t?we=-Ce*vt/gt:Ce=-we*gt/vt}return kt&&(S(Pt,le),Se("x")),_t&&(S(Ct,be),Se("y")),ve([we,Ce,vt,gt]),Me(),void q.emit("plotly_relayouting",Kt)}var Oe,Ae,Ne=kt==="w"==(_t==="n")?1:-1;if(kt&&_t&&(mt.isSubplotConstrained||Tt.isSubplotConstrained)){var ke=(le/vt+Ne*be/gt)/2;le=ke*vt,be=Ne*ke*gt}if(kt==="w"?le=Xe(Pt,0,le):kt==="e"?le=Xe(Pt,1,-le):kt||(le=0),_t==="n"?be=Xe(Ct,1,be):_t==="s"?be=Xe(Ct,0,-be):_t||(be=0),Oe=kt==="w"?le:0,Ae=_t==="n"?be:0,mt.isSubplotConstrained&&!Tt.isSubplotConstrained||Tt.isSubplotConstrained&&kt&&_t&&Ne>0){var ze;if(Tt.isSubplotConstrained||!kt&&_t.length===1){for(ze=0;ze<Pt.length;ze++)Pt[ze].range=Pt[ze]._r.slice(),_(Pt[ze],1-be/gt);Oe=(le=be*vt/gt)/2}if(Tt.isSubplotConstrained||!_t&&kt.length===1){for(ze=0;ze<Ct.length;ze++)Ct[ze].range=Ct[ze]._r.slice(),_(Ct[ze],1-le/vt);Ae=(be=le*gt/vt)/2}}Tt.isSubplotConstrained&&_t||Se("x"),Tt.isSubplotConstrained&&kt||Se("y");var Ye=vt-le,We=gt-be;!Tt.isSubplotConstrained||kt&&_t||(kt?(Ae=Oe?0:le*gt/vt,We=Ye*gt/vt):(Oe=Ae?0:be*vt/gt,Ye=We*vt/gt)),ve([Oe,Ae,Ye,We]),Me(),q.emit("plotly_relayouting",Kt)}function Xe(Ge,qe,tn){for(var Ue,Qe,Ve=1-qe,rn=0;rn<Ge.length;rn++){var an=Ge[rn];if(!an.fixedrange){Ue=an,Qe=an._rl[Ve]+(an._rl[qe]-an._rl[Ve])/E(tn/an._length);var un=an.l2r(Qe);un!==!1&&un!==void 0&&(an.range[qe]=un)}}return Ue._length*(Ue._rl[qe]-Qe)/(Ue._rl[qe]-Ue._rl[Ve])}}function Se(le,be){for(var we=Tt.isSubplotConstrained?{x:Ct,y:Pt}[le]:Tt[le+"axes"],Ce=Tt.isSubplotConstrained?{x:Pt,y:Ct}[le]:[],Le=0;Le<we.length;Le++){var Oe=we[Le],Ae=Oe._id,Ne=Tt.xLinks[Ae]||Tt.yLinks[Ae],ke=Ce[0]||dt[Ne]||xt[Ne];ke&&(be?(be[Oe._name+".range[0]"]=be[ke._name+".range[0]"],be[Oe._name+".range[1]"]=be[ke._name+".range[1]"]):Oe.range=ke.range.slice())}}function Me(){var le,be=[];function we(Ae){for(le=0;le<Ae.length;le++)Ae[le].fixedrange||be.push(Ae[le]._id)}function Ce(Ae,Ne){for(le=0;le<Ae.length;le++){var ke=Ae[le],ze=ke[Ne];ke.fixedrange||ze.tickmode!=="sync"||be.push(ze._id)}}for(Mt&&(we(Pt),we(mt.xaxes),we(Tt.xaxes),Ce($.overlays,"xaxis")),Rt&&(we(Ct),we(mt.yaxes),we(Tt.yaxes),Ce($.overlays,"yaxis")),Kt={},le=0;le<be.length;le++){var Le=be[le],Oe=P(q,Le);h.drawOne(q,Oe,{skipTitle:!0}),Kt[Oe._name+".range[0]"]=Oe.range[0],Kt[Oe._name+".range[1]"]=Oe.range[1]}h.redrawComponents(q,be)}function re(){if(!q._transitioningWithDuration){var le=q._context.doubleClick,be=[];kt&&(be=be.concat(Pt)),_t&&(be=be.concat(Ct)),Tt.xaxes&&(be=be.concat(Tt.xaxes)),Tt.yaxes&&(be=be.concat(Tt.yaxes));var we,Ce,Le={};if(le==="reset+autosize")for(le="autosize",Ce=0;Ce<be.length;Ce++){var Oe=(we=be[Ce])._rangeInitial0,Ae=we._rangeInitial1,Ne=Oe!==void 0||Ae!==void 0;if(Ne&&(Oe!==void 0&&Oe!==we.range[0]||Ae!==void 0&&Ae!==we.range[1])||!Ne&&we.autorange!==!0){le="reset";break}}if(le==="autosize")for(Ce=0;Ce<be.length;Ce++)(we=be[Ce]).fixedrange||(Le[we._name+".autorange"]=!0);else if(le==="reset"){for((kt||mt.isSubplotConstrained)&&(be=be.concat(mt.xaxes)),_t&&!mt.isSubplotConstrained&&(be=be.concat(mt.yaxes)),mt.isSubplotConstrained&&(kt?_t||(be=be.concat(Ct)):be=be.concat(Pt)),Ce=0;Ce<be.length;Ce++)if(!(we=be[Ce]).fixedrange){var ke=we._name,ze=we._autorangeInitial;we._rangeInitial0===void 0&&we._rangeInitial1===void 0?Le[ke+".autorange"]=!0:we._rangeInitial0===void 0?(Le[ke+".autorange"]=ze,Le[ke+".range"]=[null,we._rangeInitial1]):we._rangeInitial1===void 0?(Le[ke+".range"]=[we._rangeInitial0,null],Le[ke+".autorange"]=ze):Le[ke+".range"]=[we._rangeInitial0,we._rangeInitial1]}}q.emit("plotly_doubleclick",null),r.call("_guiRelayout",q,Le)}}function $t(){ve([0,0,vt,gt]),g.syncOrAsync([A.previousPromises,function(){q._fullLayout._replotting=!1,r.call("_guiRelayout",q,Kt)}],q)}function ve(le){var be,we,Ce,Le,Oe=q._fullLayout,Ae=Oe._plots,Ne=Oe._subplots.cartesian;if(zt&&r.subplotsRegistry.splom.drag(q),Yt){for(be=0;be<Ne.length;be++)if(Ce=(we=Ae[Ne[be]]).xaxis,Le=we.yaxis,we._scene){var ke=g.simpleMap(Ce.range,Ce.r2l),ze=g.simpleMap(Le.range,Le.r2l);Ce.limitRange&&Ce.limitRange(),Le.limitRange&&Le.limitRange(),ke=Ce.range,ze=Le.range,we._scene.update({range:[ke[0],ze[0],ke[1],ze[1]]})}}if((zt||Yt)&&(b(q),T(q)),Xt){var Ye=le[2]/it._length,We=le[3]/ft._length;for(be=0;be<Ne.length;be++){Ce=(we=Ae[Ne[be]]).xaxis,Le=we.yaxis;var Xe,Ge,qe,tn,Ue=(Mt||Tt.isSubplotConstrained)&&!Ce.fixedrange&&dt[Ce._id],Qe=(Rt||Tt.isSubplotConstrained)&&!Le.fixedrange&&xt[Le._id];if(Ue?(Xe=Ye,qe=It||Tt.isSubplotConstrained?le[0]:je(Ce,Xe)):Tt.xaHash[Ce._id]?(Xe=Ye,qe=le[0]*Ce._length/it._length):Tt.yaHash[Ce._id]?(Xe=We,qe=_t==="ns"?-le[1]*Ce._length/ft._length:je(Ce,Xe,{n:"top",s:"bottom"}[_t])):qe=Fe(Ce,Xe=Ee(Ce,Ye,We)),Xe>1&&(Ce.maxallowed!==void 0&&Mt===(Ce.range[0]<Ce.range[1]?"e":"w")||Ce.minallowed!==void 0&&Mt===(Ce.range[0]<Ce.range[1]?"w":"e"))&&(Xe=1,qe=0),Qe?(Ge=We,tn=Lt||Tt.isSubplotConstrained?le[1]:je(Le,Ge)):Tt.yaHash[Le._id]?(Ge=We,tn=le[1]*Le._length/ft._length):Tt.xaHash[Le._id]?(Ge=Ye,tn=kt==="ew"?-le[0]*Le._length/it._length:je(Le,Ge,{e:"right",w:"left"}[kt])):tn=Fe(Le,Ge=Ee(Le,Ye,We)),Ge>1&&(Le.maxallowed!==void 0&&Rt===(Le.range[0]<Le.range[1]?"n":"s")||Le.minallowed!==void 0&&Rt===(Le.range[0]<Le.range[1]?"s":"n"))&&(Ge=1,tn=0),Xe||Ge){Xe||(Xe=1),Ge||(Ge=1);var Ve=Ce._offset-qe/Xe,rn=Le._offset-tn/Ge;we.clipRect.call(c.setTranslate,qe,tn).call(c.setScale,Xe,Ge),we.plot.call(c.setTranslate,Ve,rn).call(c.setScale,1/Xe,1/Ge),Xe===we.xScaleFactor&&Ge===we.yScaleFactor||(c.setPointGroupScale(we.zoomScalePts,Xe,Ge),c.setTextPointsScale(we.zoomScaleTxt,Xe,Ge)),c.hideOutsideRangePoints(we.clipOnAxisFalseTraces,we),we.xScaleFactor=Xe,we.yScaleFactor=Ge}}}}function Ee(le,be,we){return le.fixedrange?0:Mt&&mt.xaHash[le._id]?be:Rt&&(mt.isSubplotConstrained?mt.xaHash:mt.yaHash)[le._id]?we:0}function Fe(le,be){return be?(le.range=le._r.slice(),_(le,be),je(le,be)):0}function je(le,be,we){return le._length*(1-be)*p[we||le.constraintoward||"middle"]}return Lt.length*It.length!=1&&j(me,function(le){if(q._context._scrollZoom.cartesian||q._fullLayout._enablescrollzoom){if(Bt(),q._transitioningWithDuration)return le.preventDefault(),void le.stopPropagation();Ut(),clearTimeout(qt);var be=-le.deltaY;if(isFinite(be)||(be=le.wheelDelta/10),isFinite(be)){var we,Ce=Math.exp(-Math.min(Math.max(be,-20),20)/200),Le=Re.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Oe=(le.clientX-Le.left)/Le.width,Ae=(Le.bottom-le.clientY)/Le.height;if(Mt){for(It||(Oe=.5),we=0;we<Pt.length;we++)Ne(Pt[we],Oe,Ce);Se("x"),oe[2]*=Ce,oe[0]+=oe[2]*Oe*(1/Ce-1)}if(Rt){for(Lt||(Ae=.5),we=0;we<Ct.length;we++)Ne(Ct[we],Ae,Ce);Se("y"),oe[3]*=Ce,oe[1]+=oe[3]*(1-Ae)*(1/Ce-1)}ve(oe),Me(),q.emit("plotly_relayouting",Kt),qt=setTimeout(function(){q._fullLayout&&(oe=[0,0,vt,gt],$t())},Te),le.preventDefault()}else g.log("Did not find wheel motion attributes: ",le)}function Ne(ke,ze,Ye){if(!ke.fixedrange){var We=g.simpleMap(ke.range,ke.r2l),Xe=We[0]+(We[1]-We[0])*ze;ke.range=We.map(function(Ge){return ke.l2r(Xe+(Ge-Xe)*Ye)})}}}),me},makeDragger:z,makeRectDragger:Y,makeZoombox:V,makeCorners:Q,updateZoombox:tt,xyCorners:F,transitionZoombox:rt,removeZoombox:ot,showDoubleClickNotifier:H,attachWheelEventHandler:j}},4305:function(X,d,t){var f=t(9898),g=t(211),a=t(8569),n=t(6964),e=t(9323).makeDragBox,r=t(5555).DRAGGERSIZE;d.initInteractions=function(i){var l=i._fullLayout;if(i._context.staticPlot)f.select(i).selectAll(".drag").remove();else if(l._has("cartesian")||l._has("splom")){Object.keys(l._plots||{}).sort(function(c,u){if((l._plots[c].mainplot&&!0)===(l._plots[u].mainplot&&!0)){var h=c.split("y"),y=u.split("y");return h[0]===y[0]?Number(h[1]||1)-Number(y[1]||1):Number(h[0]||1)-Number(y[0]||1)}return l._plots[c].mainplot?1:-1}).forEach(function(c){var u=l._plots[c],h=u.xaxis,y=u.yaxis;if(!u.mainplot){var m=e(i,u,h._offset,y._offset,h._length,y._length,"ns","ew");m.onmousemove=function(w){i._fullLayout._rehover=function(){i._fullLayout._hoversubplot===c&&i._fullLayout._plots[c]&&g.hover(i,w,c)},g.hover(i,w,c),i._fullLayout._lasthover=m,i._fullLayout._hoversubplot=c},m.onmouseout=function(w){i._dragging||(i._fullLayout._hoversubplot=null,a.unhover(i,w))},i._context.showAxisDragHandles&&(e(i,u,h._offset-r,y._offset-r,r,r,"n","w"),e(i,u,h._offset+h._length,y._offset-r,r,r,"n","e"),e(i,u,h._offset-r,y._offset+y._length,r,r,"s","w"),e(i,u,h._offset+h._length,y._offset+y._length,r,r,"s","e"))}if(i._context.showAxisDragHandles){if(c===h._mainSubplot){var v=h._mainLinePosition;h.side==="top"&&(v-=r),e(i,u,h._offset+.1*h._length,v,.8*h._length,r,"","ew"),e(i,u,h._offset,v,.1*h._length,r,"","w"),e(i,u,h._offset+.9*h._length,v,.1*h._length,r,"","e")}if(c===y._mainSubplot){var x=y._mainLinePosition;y.side!=="right"&&(x-=r),e(i,u,x,y._offset+.1*y._length,r,.8*y._length,"ns",""),e(i,u,x,y._offset+.9*y._length,r,.1*y._length,"s",""),e(i,u,x,y._offset,r,.1*y._length,"n","")}}});var o=l._hoverlayer.node();o.onmousemove=function(c){c.target=i._fullLayout._lasthover,g.hover(i,c,l._hoversubplot)},o.onclick=function(c){c.target=i._fullLayout._lasthover,g.click(i,c)},o.onmousedown=function(c){i._fullLayout._lasthover.onmousedown(c)},d.updateFx(i)}},d.updateFx=function(i){var l=i._fullLayout,o=l.dragmode==="pan"?"move":"crosshair";n(l._draggers,o)}},6325:function(X,d,t){var f=t(3972),g=t(1828),a=t(1675);X.exports=function(n){return function(e,r){var i=e[n];if(Array.isArray(i))for(var l=f.subplotsRegistry.cartesian,o=l.idRegex,c=r._subplots,u=c.xaxis,h=c.yaxis,y=c.cartesian,m=r._has("cartesian")||r._has("gl2d"),v=0;v<i.length;v++){var x=i[v];if(g.isPlainObject(x)){var w=a.cleanId(x.xref,"x",!1),p=a.cleanId(x.yref,"y",!1),b=o.x.test(w),T=o.y.test(p);if(b||T){m||g.pushUnique(r._basePlotModules,l);var A=!1;b&&u.indexOf(w)===-1&&(u.push(w),A=!0),T&&h.indexOf(p)===-1&&(h.push(p),A=!0),A&&b&&T&&y.push(w+p)}}}}}},3612:function(X,d,t){var f=t(9898),g=t(3972),a=t(1828),n=t(4875),e=t(1424),r=t(7659).a0,i=t(1675),l=t(5555),o=t(7922),c=a.ensureSingle;function u(x,w,p){return a.ensureSingle(x,w,p,function(b){b.datum(p)})}function h(x,w,p,b,T){for(var A,P,k,L=l.traceLayerClasses,D=x._fullLayout,_=D._modules,I=[],O=[],N=0;N<_.length;N++){var G=(A=_[N]).name,z=g.modules[G].categories;if(z.svg){var Y=A.layerName||G+"layer",Z=A.plot;k=(P=r(p,Z))[0],p=P[1],k.length&&I.push({i:L.indexOf(Y),className:Y,plotMethod:Z,cdModule:k}),z.zoomScale&&O.push("."+Y)}}I.sort(function(E,V){return E.i-V.i});var nt=w.plot.selectAll("g.mlayer").data(I,function(E){return E.className});if(nt.enter().append("g").attr("class",function(E){return E.className}).classed("mlayer",!0).classed("rangeplot",w.isRangePlot),nt.exit().remove(),nt.order(),nt.each(function(E){var V=f.select(this),Q=E.className;E.plotMethod(x,w,E.cdModule,V,b,T),l.clipOnAxisFalseQuery.indexOf("."+Q)===-1&&e.setClipUrl(V,w.layerClipId,x)}),D._has("scattergl")&&(A=g.getModule("scattergl"),k=r(p,A)[0],A.plot(x,w,k)),!x._context.staticPlot&&(w._hasClipOnAxisFalse&&(w.clipOnAxisFalseTraces=w.plot.selectAll(l.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),O.length)){var S=w.plot.selectAll(O.join(",")).selectAll(".trace");w.zoomScalePts=S.selectAll("path.point"),w.zoomScaleTxt=S.selectAll(".textpoint")}}function y(x,w){var p=w.plotgroup,b=w.id,T=l.layerValue2layerClass[w.xaxis.layer],A=l.layerValue2layerClass[w.yaxis.layer],P=x._fullLayout._hasOnlyLargeSploms;if(w.mainplot){var k=w.mainplotinfo,L=k.plotgroup,D=b+"-x",_=b+"-y";w.minorGridlayer=k.minorGridlayer,w.gridlayer=k.gridlayer,w.zerolinelayer=k.zerolinelayer,c(k.overlinesBelow,"path",D),c(k.overlinesBelow,"path",_),c(k.overaxesBelow,"g",D),c(k.overaxesBelow,"g",_),w.plot=c(k.overplot,"g",b),c(k.overlinesAbove,"path",D),c(k.overlinesAbove,"path",_),c(k.overaxesAbove,"g",D),c(k.overaxesAbove,"g",_),w.xlines=L.select(".overlines-"+T).select("."+D),w.ylines=L.select(".overlines-"+A).select("."+_),w.xaxislayer=L.select(".overaxes-"+T).select("."+D),w.yaxislayer=L.select(".overaxes-"+A).select("."+_)}else if(P)w.xlines=c(p,"path","xlines-above"),w.ylines=c(p,"path","ylines-above"),w.xaxislayer=c(p,"g","xaxislayer-above"),w.yaxislayer=c(p,"g","yaxislayer-above");else{var I=c(p,"g","layer-subplot");w.shapelayer=c(I,"g","shapelayer"),w.imagelayer=c(I,"g","imagelayer"),w.minorGridlayer=c(p,"g","minor-gridlayer"),w.gridlayer=c(p,"g","gridlayer"),w.zerolinelayer=c(p,"g","zerolinelayer"),c(p,"path","xlines-below"),c(p,"path","ylines-below"),w.overlinesBelow=c(p,"g","overlines-below"),c(p,"g","xaxislayer-below"),c(p,"g","yaxislayer-below"),w.overaxesBelow=c(p,"g","overaxes-below"),w.plot=c(p,"g","plot"),w.overplot=c(p,"g","overplot"),w.xlines=c(p,"path","xlines-above"),w.ylines=c(p,"path","ylines-above"),w.overlinesAbove=c(p,"g","overlines-above"),c(p,"g","xaxislayer-above"),c(p,"g","yaxislayer-above"),w.overaxesAbove=c(p,"g","overaxes-above"),w.xlines=p.select(".xlines-"+T),w.ylines=p.select(".ylines-"+A),w.xaxislayer=p.select(".xaxislayer-"+T),w.yaxislayer=p.select(".yaxislayer-"+A)}P||(u(w.minorGridlayer,"g",w.xaxis._id),u(w.minorGridlayer,"g",w.yaxis._id),w.minorGridlayer.selectAll("g").map(function(O){return O[0]}).sort(i.idSort),u(w.gridlayer,"g",w.xaxis._id),u(w.gridlayer,"g",w.yaxis._id),w.gridlayer.selectAll("g").map(function(O){return O[0]}).sort(i.idSort)),w.xlines.style("fill","none").classed("crisp",!0),w.ylines.style("fill","none").classed("crisp",!0)}function m(x,w){if(x){var p={};for(var b in x.each(function(k){var L=k[0];f.select(this).remove(),v(L,w),p[L]=!0}),w._plots)for(var T=w._plots[b].overlays||[],A=0;A<T.length;A++){var P=T[A];p[P.id]&&P.plot.selectAll(".trace").remove()}}}function v(x,w){w._draggers.selectAll("g."+x).remove(),w._defs.select("#clip"+w._uid+x+"plot").remove()}d.name="cartesian",d.attr=["xaxis","yaxis"],d.idRoot=["x","y"],d.idRegex=l.idRegex,d.attrRegex=l.attrRegex,d.attributes=t(9502),d.layoutAttributes=t(3838),d.supplyLayoutDefaults=t(6763),d.transitionAxes=t(6847),d.finalizeSubplots=function(x,w){var p,b,T,A=w._subplots,P=A.xaxis,k=A.yaxis,L=A.cartesian,D=L.concat(A.gl2d||[]),_={},I={};for(p=0;p<D.length;p++){var O=D[p].split("y");_[O[0]]=1,I["y"+O[1]]=1}for(p=0;p<P.length;p++)_[b=P[p]]||(T=(x[i.id2name(b)]||{}).anchor,l.idRegex.y.test(T)||(T="y"),L.push(b+T),D.push(b+T),I[T]||(I[T]=1,a.pushUnique(k,T)));for(p=0;p<k.length;p++)I[T=k[p]]||(b=(x[i.id2name(T)]||{}).anchor,l.idRegex.x.test(b)||(b="x"),L.push(b+T),D.push(b+T),_[b]||(_[b]=1,a.pushUnique(P,b)));if(!D.length){for(var N in b="",T="",x)l.attrRegex.test(N)&&(N.charAt(0)==="x"?(!b||+N.substr(5)<+b.substr(5))&&(b=N):(!T||+N.substr(5)<+T.substr(5))&&(T=N));b=b?i.name2id(b):"x",T=T?i.name2id(T):"y",P.push(b),k.push(T),L.push(b+T)}},d.plot=function(x,w,p,b){var T,A=x._fullLayout,P=A._subplots.cartesian,k=x.calcdata;if(!Array.isArray(w))for(w=[],T=0;T<k.length;T++)w.push(T);for(T=0;T<P.length;T++){for(var L,D=P[T],_=A._plots[D],I=[],O=0;O<k.length;O++){var N=k[O],G=N[0].trace;G.xaxis+G.yaxis===D&&((w.indexOf(G.index)!==-1||G.carpet)&&(L&&L[0].trace.xaxis+L[0].trace.yaxis===D&&["tonextx","tonexty","tonext"].indexOf(G.fill)!==-1&&I.indexOf(L)===-1&&I.push(L),I.push(N)),L=N)}h(x,_,I,p,b)}},d.clean=function(x,w,p,b){var T,A,P,k=b._plots||{},L=w._plots||{},D=b._subplots||{};if(b._hasOnlyLargeSploms&&!w._hasOnlyLargeSploms)for(P in k)(T=k[P]).plotgroup&&T.plotgroup.remove();var _=b._has&&b._has("gl"),I=w._has&&w._has("gl");if(_&&!I)for(P in k)(T=k[P])._scene&&T._scene.destroy();if(D.xaxis&&D.yaxis){var O=i.listIds({_fullLayout:b});for(A=0;A<O.length;A++){var N=O[A];w[i.id2name(N)]||b._infolayer.selectAll(".g-"+N+"title").remove()}}var G=b._has&&b._has("cartesian"),z=w._has&&w._has("cartesian");if(G&&!z)m(b._cartesianlayer.selectAll(".subplot"),b),b._defs.selectAll(".axesclip").remove(),delete b._axisConstraintGroups,delete b._axisMatchGroups;else if(D.cartesian)for(A=0;A<D.cartesian.length;A++){var Y=D.cartesian[A];if(!L[Y]){var Z="."+Y+",."+Y+"-x,."+Y+"-y";b._cartesianlayer.selectAll(Z).remove(),v(Y,b)}}},d.drawFramework=function(x){var w=x._fullLayout,p=function(T){var A,P,k,L,D,_,I=T._fullLayout,O=I._subplots.cartesian,N=O.length,G=[],z=[];for(A=0;A<N;A++){k=O[A],D=(L=I._plots[k]).xaxis,_=L.yaxis;var Y=D._mainAxis,Z=_._mainAxis,nt=Y._id+Z._id,S=I._plots[nt];L.overlays=[],nt!==k&&S?(L.mainplot=nt,L.mainplotinfo=S,z.push(k)):(L.mainplot=void 0,L.mainplotinfo=void 0,G.push(k))}for(A=0;A<z.length;A++)k=z[A],(L=I._plots[k]).mainplotinfo.overlays.push(L);var E=G.concat(z),V=new Array(N);for(A=0;A<N;A++){k=E[A],D=(L=I._plots[k]).xaxis,_=L.yaxis;var Q=[k,D.layer,_.layer,D.overlaying||"",_.overlaying||""];for(P=0;P<L.overlays.length;P++)Q.push(L.overlays[P].id);V[A]=Q}return V}(x),b=w._cartesianlayer.selectAll(".subplot").data(p,String);b.enter().append("g").attr("class",function(T){return"subplot "+T[0]}),b.order(),b.exit().call(m,w),b.each(function(T){var A=T[0],P=w._plots[A];P.plotgroup=f.select(this),y(x,P),P.draglayer=c(w._draggers,"g",A)})},d.rangePlot=function(x,w,p){y(x,w),h(x,w,p),n.style(x)},d.toSVG=function(x){var w=x._fullLayout._glimages,p=f.select(x).selectAll(".svg-container");p.filter(function(b,T){return T===p.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var b=this,T=b.toDataURL("image/png");w.append("svg:image").attr({xmlns:o.svg,"xlink:href":T,preserveAspectRatio:"none",x:0,y:0,width:b.style.width,height:b.style.height})})},d.updateFx=t(4305).updateFx},3838:function(X,d,t){var f=t(1940),g=t(2399),a=t(9952).P,n=t(1426).extendFlat,e=t(4467).templatedArray,r=t(2663).descriptionWithDates,i=t(606).ONEDAY,l=t(5555),o=l.HOUR_PATTERN,c=l.WEEKDAY_PATTERN,u={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},h=n({},u,{values:u.values.slice().concat(["sync"])});function y(D){return{valType:"integer",min:0,dflt:D?5:0,editType:"ticks"}}var m={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},v={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},x={valType:"data_array",editType:"ticks"},w={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function p(D){var _={valType:"number",min:0,editType:"ticks"};return D||(_.dflt=5),_}function b(D){var _={valType:"number",min:0,editType:"ticks"};return D||(_.dflt=1),_}var T={valType:"color",dflt:g.defaultLine,editType:"ticks"},A={valType:"color",dflt:g.lightLine,editType:"ticks"};function P(D){var _={valType:"number",min:0,editType:"ticks"};return D||(_.dflt=1),_}var k=n({},a,{editType:"ticks"}),L={valType:"boolean",editType:"ticks"};X.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:g.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:f({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[l.idRegex.x.toString(),l.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[l.idRegex.x.toString(),l.idRegex.y.toString()],editType:"calc"},rangebreaks:e("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[c,o,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:i},editType:"calc"}),tickmode:h,nticks:y(),tick0:m,dtick:v,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:x,ticktext:{valType:"data_array",editType:"ticks"},ticks:w,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:p(),tickwidth:b(),tickcolor:T,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:n({},a,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:f({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:r("tick label")},tickformatstops:e("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:r("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:g.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:L,gridcolor:A,gridwidth:P(),griddash:k,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:g.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:g.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",l.idRegex.x.toString(),l.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",l.idRegex.x.toString(),l.idRegex.y.toString()],editType:"plot"},minor:{tickmode:u,nticks:y("minor"),tick0:m,dtick:v,tickvals:x,ticks:w,ticklen:p("minor"),tickwidth:b("minor"),tickcolor:T,gridcolor:A,gridwidth:P("minor"),griddash:k,showgrid:L,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:f({editType:"ticks"})}}},6763:function(X,d,t){var f=t(1828),g=t(7901),a=t(3469).isUnifiedHover,n=t(8212),e=t(4467),r=t(820),i=t(3838),l=t(951),o=t(1453),c=t(9082),u=t(2830),h=t(1675),y=h.id2name,m=h.name2id,v=t(5555).AX_ID_PATTERN,x=t(3972),w=x.traceIs,p=x.getComponentMethod;function b(T,A,P){Array.isArray(T[A])?T[A].push(P):T[A]=[P]}X.exports=function(T,A,P){var k,L,D=A.autotypenumbers,_={},I={},O={},N={},G={},z={},Y={},Z={},nt={},S={};for(k=0;k<P.length;k++){var E=P[k];if(w(E,"cartesian")||w(E,"gl2d")){var V,Q;if(E.xaxis)V=y(E.xaxis),b(_,V,E);else if(E.xaxes)for(L=0;L<E.xaxes.length;L++)b(_,y(E.xaxes[L]),E);if(E.yaxis)Q=y(E.yaxis),b(_,Q,E);else if(E.yaxes)for(L=0;L<E.yaxes.length;L++)b(_,y(E.yaxes[L]),E);E.type==="funnel"?E.orientation==="h"?(V&&(I[V]=!0),Q&&(Y[Q]=!0)):Q&&(O[Q]=!0):E.type==="image"?(Q&&(Z[Q]=!0),V&&(Z[V]=!0)):(Q&&(G[Q]=!0,z[Q]=!0),w(E,"carpet")&&(E.type!=="carpet"||E._cheater)||V&&(N[V]=!0)),E.type==="carpet"&&E._cheater&&V&&(I[V]=!0),w(E,"2dMap")&&(nt[V]=!0,nt[Q]=!0),w(E,"oriented")&&(S[E.orientation==="h"?Q:V]=!0)}}var tt=A._subplots,rt=tt.xaxis,ot=tt.yaxis,H=f.simpleMap(rt,y),F=f.simpleMap(ot,y),R=H.concat(F),j=g.background;rt.length&&ot.length&&(j=f.coerce(T,A,r,"plot_bgcolor"));var J,q,$,et,st,yt=g.combine(j,A.paper_bgcolor);function St(){var wt=_[J]||[];st._traceIndices=wt.map(function(Ut){return Ut._expandedIndex}),st._annIndices=[],st._shapeIndices=[],st._selectionIndices=[],st._imgIndices=[],st._subplotsWith=[],st._counterAxes=[],st._name=st._attr=J,st._id=q}function Lt(wt,Ut){return f.coerce(et,st,i,wt,Ut)}function It(wt,Ut){return f.coerce2(et,st,i,wt,Ut)}function it(wt){return wt==="x"?ot:rt}function ft(wt,Ut){for(var Wt=wt==="x"?H:F,me=[],Vt=0;Vt<Wt.length;Vt++){var ne=Wt[Vt];ne===Ut||(T[ne]||{}).overlaying||me.push(m(ne))}return me}var dt={x:it("x"),y:it("y")},xt=dt.x.concat(dt.y),Pt={},Ct=[];function lt(){var wt=et.matches;v.test(wt)&&xt.indexOf(wt)===-1&&(Pt[wt]=et.type,Ct=Object.keys(Pt))}var ht=n(T,A),vt=a(ht);for(k=0;k<R.length;k++){J=R[k],q=m(J),$=J.charAt(0),f.isPlainObject(T[J])||(T[J]={}),et=T[J],st=e.newContainer(A,J,$+"axis"),St();var gt=$==="x"&&!N[J]&&I[J]||$==="y"&&!G[J]&&O[J],mt=$==="y"&&(!z[J]&&Y[J]||Z[J]),Tt={hasMinor:!0,letter:$,font:A.font,outerTicks:nt[J],showGrid:!S[J],data:_[J]||[],bgColor:yt,calendar:A.calendar,automargin:!0,visibleDflt:gt,reverseDflt:mt,autotypenumbersDflt:D,splomStash:((A._splomAxes||{})[$]||{})[q]};Lt("uirevision",A.uirevision),l(et,st,Lt,Tt),o(et,st,Lt,Tt,A);var kt=vt&&$===ht.charAt(0),_t=It("spikecolor",vt?st.color:void 0),At=It("spikethickness",vt?1.5:void 0),Mt=It("spikedash",vt?"dot":void 0),Rt=It("spikemode",vt?"across":void 0),Yt=It("spikesnap");Lt("showspikes",!!(kt||_t||At||Mt||Rt||Yt))||(delete st.spikecolor,delete st.spikethickness,delete st.spikedash,delete st.spikemode,delete st.spikesnap);var zt=y(et.overlaying),Xt=[0,1];if(A[zt]!==void 0){var Kt=y(A[zt].anchor);A[Kt]!==void 0&&(Xt=A[Kt].domain)}u(et,st,Lt,{letter:$,counterAxes:dt[$],overlayableAxes:ft($,J),grid:A.grid,overlayingDomain:Xt}),Lt("title.standoff"),lt(),st._input=et}for(k=0;k<Ct.length;){q=Ct[k++],$=(J=y(q)).charAt(0),f.isPlainObject(T[J])||(T[J]={}),et=T[J],st=e.newContainer(A,J,$+"axis"),St();var se={letter:$,font:A.font,outerTicks:nt[J],showGrid:!S[J],data:[],bgColor:yt,calendar:A.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:D,splomStash:((A._splomAxes||{})[$]||{})[q]};Lt("uirevision",A.uirevision),st.type=Pt[q]||"linear",o(et,st,Lt,se,A),u(et,st,Lt,{letter:$,counterAxes:dt[$],overlayableAxes:ft($,J),grid:A.grid}),Lt("fixedrange"),lt(),st._input=et}var de=p("rangeslider","handleDefaults"),xe=p("rangeselector","handleDefaults");for(k=0;k<H.length;k++)J=H[k],et=T[J],st=A[J],de(T,A,J),st.type==="date"&&xe(et,st,A,F,st.calendar),Lt("fixedrange");for(k=0;k<F.length;k++){J=F[k],et=T[J],st=A[J];var Dt=A[y(st.anchor)];Lt("fixedrange",p("rangeslider","isVisible")(Dt))}c.handleDefaults(T,A,{axIds:xt.concat(Ct).sort(h.idSort),axHasImage:Z})}},2128:function(X,d,t){var f=t(4267).mix,g=t(2399),a=t(1828);X.exports=function(n,e,r,i){var l=(i=i||{}).dfltColor;function o(T,A){return a.coerce2(n,e,i.attributes,T,A)}var c=o("linecolor",l),u=o("linewidth");r("showline",i.showLine||!!c||!!u)||(delete e.linecolor,delete e.linewidth);var h=o("gridcolor",f(l,i.bgColor,i.blend||g.lightFraction).toRgbString()),y=o("gridwidth"),m=o("griddash");if(r("showgrid",i.showGrid||!!h||!!y||!!m)||(delete e.gridcolor,delete e.gridwidth,delete e.griddash),i.hasMinor){var v=o("minor.gridcolor",f(e.gridcolor,i.bgColor,67).toRgbString()),x=o("minor.gridwidth",e.gridwidth||1),w=o("minor.griddash",e.griddash||"solid");r("minor.showgrid",!!v||!!x||!!w)||(delete e.minor.gridcolor,delete e.minor.gridwidth,delete e.minor.griddash)}if(!i.noZeroLine){var p=o("zerolinecolor",l),b=o("zerolinewidth");r("zeroline",i.showGrid||!!p||!!b)||(delete e.zerolinecolor,delete e.zerolinewidth)}}},2830:function(X,d,t){var f=t(2770),g=t(1828);X.exports=function(a,n,e,r){var i,l,o,c,u,h,y=r.counterAxes||[],m=r.overlayableAxes||[],v=r.letter,x=r.grid,w=r.overlayingDomain;x&&(l=x._domains[v][x._axisMap[n._id]],i=x._anchors[n._id],l&&(o=x[v+"side"].split(" ")[0],c=x.domain[v][o==="right"||o==="top"?1:0])),l=l||[0,1],i=i||(f(a.position)?"free":y[0]||"free"),o=o||(v==="x"?"bottom":"left"),c=c||0,u=0,h=!1;var p=g.coerce(a,n,{anchor:{valType:"enumerated",values:["free"].concat(y),dflt:i}},"anchor"),b=g.coerce(a,n,{side:{valType:"enumerated",values:v==="x"?["bottom","top"]:["left","right"],dflt:o}},"side");p==="free"&&(v==="y"&&(e("autoshift")&&(c=b==="left"?w[0]:w[1],h=!n.automargin||n.automargin,u=b==="left"?-3:3),e("shift",u)),e("position",c)),e("automargin",h);var T=!1;if(m.length&&(T=g.coerce(a,n,{overlaying:{valType:"enumerated",values:[!1].concat(m),dflt:!1}},"overlaying")),!T){var A=e("domain",l);A[0]>A[1]-.000244140625&&(n.domain=l),g.noneOrAll(a.domain,n.domain,l),n.tickmode==="sync"&&(n.tickmode="auto")}return e("layer"),n}},9426:function(X,d,t){var f=t(9652);X.exports=function(g,a,n,e,r){r||(r={});var i=r.tickSuffixDflt,l=f(g);n("tickprefix")&&n("showtickprefix",l),n("ticksuffix",i)&&n("showticksuffix",l)}},3608:function(X,d,t){var f=t(3074);X.exports=function(g,a,n,e){var r=a._template||{},i=a.type||r.type||"-";n("minallowed"),n("maxallowed");var l,o=n("range");o||e.noInsiderange||i==="log"||(!(l=n("insiderange"))||l[0]!==null&&l[1]!==null||(a.insiderange=!1,l=void 0),l&&(o=n("range",l)));var c,u=a.getAutorangeDflt(o,e),h=n("autorange",u);!o||(o[0]!==null||o[1]!==null)&&(o[0]!==null&&o[1]!==null||h!=="reversed"&&h!==!0)&&(o[0]===null||h!=="min"&&h!=="max reversed")&&(o[1]===null||h!=="max"&&h!=="min reversed")||(o=void 0,delete a.range,a.autorange=!0,c=!0),c||(h=n("autorange",u=a.getAutorangeDflt(o,e))),h&&(f(n,h,o),i!=="linear"&&i!=="-"||n("rangemode")),a.cleanRange()}},2449:function(X,d,t){var f=t(8783).FROM_BL;X.exports=function(g,a,n){n===void 0&&(n=f[g.constraintoward||"center"]);var e=[g.r2l(g.range[0]),g.r2l(g.range[1])],r=e[0]+(e[1]-e[0])*n;g.range=g._input.range=[g.l2r(r+(e[0]-r)*a),g.l2r(r+(e[1]-r)*a)],g.setScale()}},1994:function(X,d,t){var f=t(9898),g=t(4096).g0,a=t(1828),n=a.numberFormat,e=t(2770),r=a.cleanNumber,i=a.ms2DateTime,l=a.dateTime2ms,o=a.ensureNumber,c=a.isArrayOrTypedArray,u=t(606),h=u.FP_SAFE,y=u.BADNUM,m=u.LOG_CLIP,v=u.ONEWEEK,x=u.ONEDAY,w=u.ONEHOUR,p=u.ONEMIN,b=u.ONESEC,T=t(1675),A=t(5555),P=A.HOUR_PATTERN,k=A.WEEKDAY_PATTERN;function L(_){return Math.pow(10,_)}function D(_){return _!=null}X.exports=function(_,I){I=I||{};var O=_._id||"x",N=O.charAt(0);function G(R,j){if(R>0)return Math.log(R)/Math.LN10;if(R<=0&&j&&_.range&&_.range.length===2){var J=_.range[0],q=_.range[1];return .5*(J+q-2*m*Math.abs(J-q))}return y}function z(R,j,J,q){if((q||{}).msUTC&&e(R))return+R;var $=l(R,J||_.calendar);if($===y){if(!e(R))return y;R=+R;var et=Math.floor(10*a.mod(R+.05,1)),st=Math.round(R-et/10);$=l(new Date(st))+et/10}return $}function Y(R,j,J){return i(R,j,J||_.calendar)}function Z(R){return _._categories[Math.round(R)]}function nt(R){if(D(R)){if(_._categoriesMap===void 0&&(_._categoriesMap={}),_._categoriesMap[R]!==void 0)return _._categoriesMap[R];_._categories.push(typeof R=="number"?String(R):R);var j=_._categories.length-1;return _._categoriesMap[R]=j,j}return y}function S(R){if(_._categoriesMap)return _._categoriesMap[R]}function E(R){var j=S(R);return j!==void 0?j:e(R)?+R:void 0}function V(R){return e(R)?+R:S(R)}function Q(R,j,J){return f.round(J+j*R,2)}function tt(R,j,J){return(R-J)/j}var rt=function(R){return e(R)?Q(R,_._m,_._b):y},ot=function(R){return tt(R,_._m,_._b)};if(_.rangebreaks){var H=N==="y";rt=function(R){if(!e(R))return y;var j=_._rangebreaks.length;if(!j)return Q(R,_._m,_._b);var J=H;_.range[0]>_.range[1]&&(J=!J);for(var q=J?-1:1,$=q*R,et=0,st=0;st<j;st++){var yt=q*_._rangebreaks[st].min,St=q*_._rangebreaks[st].max;if($<yt)break;if(!($>St)){et=$<(yt+St)/2?st:st+1;break}et=st+1}var Lt=_._B[et]||0;return isFinite(Lt)?Q(R,_._m2,Lt):0},ot=function(R){var j=_._rangebreaks.length;if(!j)return tt(R,_._m,_._b);for(var J=0,q=0;q<j&&!(R<_._rangebreaks[q].pmin);q++)R>_._rangebreaks[q].pmax&&(J=q+1);return tt(R,_._m2,_._B[J])}}_.c2l=_.type==="log"?G:o,_.l2c=_.type==="log"?L:o,_.l2p=rt,_.p2l=ot,_.c2p=_.type==="log"?function(R,j){return rt(G(R,j))}:rt,_.p2c=_.type==="log"?function(R){return L(ot(R))}:ot,["linear","-"].indexOf(_.type)!==-1?(_.d2r=_.r2d=_.d2c=_.r2c=_.d2l=_.r2l=r,_.c2d=_.c2r=_.l2d=_.l2r=o,_.d2p=_.r2p=function(R){return _.l2p(r(R))},_.p2d=_.p2r=ot,_.cleanPos=o):_.type==="log"?(_.d2r=_.d2l=function(R,j){return G(r(R),j)},_.r2d=_.r2c=function(R){return L(r(R))},_.d2c=_.r2l=r,_.c2d=_.l2r=o,_.c2r=G,_.l2d=L,_.d2p=function(R,j){return _.l2p(_.d2r(R,j))},_.p2d=function(R){return L(ot(R))},_.r2p=function(R){return _.l2p(r(R))},_.p2r=ot,_.cleanPos=o):_.type==="date"?(_.d2r=_.r2d=a.identity,_.d2c=_.r2c=_.d2l=_.r2l=z,_.c2d=_.c2r=_.l2d=_.l2r=Y,_.d2p=_.r2p=function(R,j,J){return _.l2p(z(R,0,J))},_.p2d=_.p2r=function(R,j,J){return Y(ot(R),j,J)},_.cleanPos=function(R){return a.cleanDate(R,y,_.calendar)}):_.type==="category"?(_.d2c=_.d2l=nt,_.r2d=_.c2d=_.l2d=Z,_.d2r=_.d2l_noadd=E,_.r2c=function(R){var j=V(R);return j!==void 0?j:_.fraction2r(.5)},_.l2r=_.c2r=o,_.r2l=V,_.d2p=function(R){return _.l2p(_.r2c(R))},_.p2d=function(R){return Z(ot(R))},_.r2p=_.d2p,_.p2r=ot,_.cleanPos=function(R){return typeof R=="string"&&R!==""?R:o(R)}):_.type==="multicategory"&&(_.r2d=_.c2d=_.l2d=Z,_.d2r=_.d2l_noadd=E,_.r2c=function(R){var j=E(R);return j!==void 0?j:_.fraction2r(.5)},_.r2c_just_indices=S,_.l2r=_.c2r=o,_.r2l=E,_.d2p=function(R){return _.l2p(_.r2c(R))},_.p2d=function(R){return Z(ot(R))},_.r2p=_.d2p,_.p2r=ot,_.cleanPos=function(R){return Array.isArray(R)||typeof R=="string"&&R!==""?R:o(R)},_.setupMultiCategory=function(R){var j,J,q=_._traceIndices,$=_._matchGroup;if($&&_._categories.length===0){for(var et in $)if(et!==O){var st=I[T.id2name(et)];q=q.concat(st._traceIndices)}}var yt=[[0,{}],[0,{}]],St=[];for(j=0;j<q.length;j++){var Lt=R[q[j]];if(N in Lt){var It=Lt[N],it=Lt._length||a.minRowLength(It);if(c(It[0])&&c(It[1]))for(J=0;J<it;J++){var ft=It[0][J],dt=It[1][J];D(ft)&&D(dt)&&(St.push([ft,dt]),ft in yt[0][1]||(yt[0][1][ft]=yt[0][0]++),dt in yt[1][1]||(yt[1][1][dt]=yt[1][0]++))}}}for(St.sort(function(xt,Pt){var Ct=yt[0][1],lt=Ct[xt[0]]-Ct[Pt[0]];if(lt)return lt;var ht=yt[1][1];return ht[xt[1]]-ht[Pt[1]]}),j=0;j<St.length;j++)nt(St[j])}),_.fraction2r=function(R){var j=_.r2l(_.range[0]),J=_.r2l(_.range[1]);return _.l2r(j+R*(J-j))},_.r2fraction=function(R){var j=_.r2l(_.range[0]),J=_.r2l(_.range[1]);return(_.r2l(R)-j)/(J-j)},_.limitRange=function(R){var j=_.minallowed,J=_.maxallowed;if(j!==void 0||J!==void 0){R||(R="range");var q=a.nestedProperty(_,R).get(),$=a.simpleMap(q,_.r2l),et=$[1]<$[0];et&&$.reverse();var st=a.simpleMap([j,J],_.r2l);j!==void 0&&$[0]<st[0]&&(q[et?1:0]=j),J!==void 0&&$[1]>st[1]&&(q[et?0:1]=J)}},_.cleanRange=function(R,j){_._cleanRange(R,j),_.limitRange(R)},_._cleanRange=function(R,j){j||(j={}),R||(R="range");var J,q,$=a.nestedProperty(_,R).get();if(q=(q=_.type==="date"?a.dfltRange(_.calendar):N==="y"?A.DFLTRANGEY:_._name==="realaxis"?[0,1]:j.dfltRange||A.DFLTRANGEX).slice(),_.rangemode!=="tozero"&&_.rangemode!=="nonnegative"||(q[0]=0),$&&$.length===2){var et=$[0]===null,st=$[1]===null;for(_.type!=="date"||_.autorange||($[0]=a.cleanDate($[0],y,_.calendar),$[1]=a.cleanDate($[1],y,_.calendar)),J=0;J<2;J++)if(_.type==="date"){if(!a.isDateTime($[J],_.calendar)){_[R]=q;break}if(_.r2l($[0])===_.r2l($[1])){var yt=a.constrain(_.r2l($[0]),a.MIN_MS+1e3,a.MAX_MS-1e3);$[0]=_.l2r(yt-1e3),$[1]=_.l2r(yt+1e3);break}}else{if(!e($[J])){if(et||st||!e($[1-J])){_[R]=q;break}$[J]=$[1-J]*(J?10:.1)}if($[J]<-h?$[J]=-h:$[J]>h&&($[J]=h),$[0]===$[1]){var St=Math.max(1,Math.abs(1e-6*$[0]));$[0]-=St,$[1]+=St}}}else a.nestedProperty(_,R).set(q)},_.setScale=function(R){var j=I._size;if(_.overlaying){var J=T.getFromId({_fullLayout:I},_.overlaying);_.domain=J.domain}var q=R&&_._r?"_r":"range",$=_.calendar;_.cleanRange(q);var et,st,yt=_.r2l(_[q][0],$),St=_.r2l(_[q][1],$),Lt=N==="y";if(Lt?(_._offset=j.t+(1-_.domain[1])*j.h,_._length=j.h*(_.domain[1]-_.domain[0]),_._m=_._length/(yt-St),_._b=-_._m*St):(_._offset=j.l+_.domain[0]*j.w,_._length=j.w*(_.domain[1]-_.domain[0]),_._m=_._length/(St-yt),_._b=-_._m*yt),_._rangebreaks=[],_._lBreaks=0,_._m2=0,_._B=[],_.rangebreaks&&(_._rangebreaks=_.locateBreaks(Math.min(yt,St),Math.max(yt,St)),_._rangebreaks.length)){for(et=0;et<_._rangebreaks.length;et++)st=_._rangebreaks[et],_._lBreaks+=Math.abs(st.max-st.min);var It=Lt;yt>St&&(It=!It),It&&_._rangebreaks.reverse();var it=It?-1:1;for(_._m2=it*_._length/(Math.abs(St-yt)-_._lBreaks),_._B.push(-_._m2*(Lt?St:yt)),et=0;et<_._rangebreaks.length;et++)st=_._rangebreaks[et],_._B.push(_._B[_._B.length-1]-it*_._m2*(st.max-st.min));for(et=0;et<_._rangebreaks.length;et++)(st=_._rangebreaks[et]).pmin=rt(st.min),st.pmax=rt(st.max)}if(!isFinite(_._m)||!isFinite(_._b)||_._length<0)throw I._replotting=!1,new Error("Something went wrong with axis scaling")},_.maskBreaks=function(R){var j,J,q,$,et,st=_.rangebreaks||[];st._cachedPatterns||(st._cachedPatterns=st.map(function(ft){return ft.enabled&&ft.bounds?a.simpleMap(ft.bounds,ft.pattern?r:_.d2c):null})),st._cachedValues||(st._cachedValues=st.map(function(ft){return ft.enabled&&ft.values?a.simpleMap(ft.values,_.d2c).sort(a.sorterAsc):null}));for(var yt=0;yt<st.length;yt++){var St=st[yt];if(St.enabled){if(St.bounds){var Lt=St.pattern;switch(J=(j=st._cachedPatterns[yt])[0],q=j[1],Lt){case k:$=(et=new Date(R)).getUTCDay(),J>q&&(q+=7,$<J&&($+=7));break;case P:$=(et=new Date(R)).getUTCHours()+(et.getUTCMinutes()/60+et.getUTCSeconds()/3600+et.getUTCMilliseconds()/36e5),J>q&&(q+=24,$<J&&($+=24));break;case"":$=R}if($>=J&&$<q)return y}else for(var It=st._cachedValues[yt],it=0;it<It.length;it++)if(q=(J=It[it])+St.dvalue,R>=J&&R<q)return y}}return R},_.locateBreaks=function(R,j){var J,q,$,et,st=[];if(!_.rangebreaks)return st;var yt=_.rangebreaks.slice().sort(function(ht,vt){return ht.pattern===k&&vt.pattern===P?-1:vt.pattern===k&&ht.pattern===P?1:0}),St=function(ht,vt){if((ht=a.constrain(ht,R,j))!==(vt=a.constrain(vt,R,j))){for(var gt=!0,mt=0;mt<st.length;mt++){var Tt=st[mt];ht<Tt.max&&vt>=Tt.min&&(ht<Tt.min&&(Tt.min=ht),vt>Tt.max&&(Tt.max=vt),gt=!1)}gt&&st.push({min:ht,max:vt})}};for(J=0;J<yt.length;J++){var Lt=yt[J];if(Lt.enabled)if(Lt.bounds){var It=R,it=j;Lt.pattern&&(It=Math.floor(It)),$=(q=a.simpleMap(Lt.bounds,Lt.pattern?r:_.r2l))[0],et=q[1];var ft,dt,xt=new Date(It);switch(Lt.pattern){case k:dt=v,ft=(et-$+(et<$?7:0))*x,It+=$*x-(xt.getUTCDay()*x+xt.getUTCHours()*w+xt.getUTCMinutes()*p+xt.getUTCSeconds()*b+xt.getUTCMilliseconds());break;case P:dt=x,ft=(et-$+(et<$?24:0))*w,It+=$*w-(xt.getUTCHours()*w+xt.getUTCMinutes()*p+xt.getUTCSeconds()*b+xt.getUTCMilliseconds());break;default:It=Math.min(q[0],q[1]),ft=dt=(it=Math.max(q[0],q[1]))-It}for(var Pt=It;Pt<it;Pt+=dt)St(Pt,Pt+ft)}else for(var Ct=a.simpleMap(Lt.values,_.d2c),lt=0;lt<Ct.length;lt++)St($=Ct[lt],et=$+Lt.dvalue)}return st.sort(function(ht,vt){return ht.min-vt.min}),st},_.makeCalcdata=function(R,j,J){var q,$,et,st,yt=_.type,St=yt==="date"&&R[j+"calendar"];if(j in R){if(q=R[j],st=R._length||a.minRowLength(q),a.isTypedArray(q)&&(yt==="linear"||yt==="log")){if(st===q.length)return q;if(q.subarray)return q.subarray(0,st)}if(yt==="multicategory")return function(it,ft){for(var dt=new Array(ft),xt=0;xt<ft;xt++){var Pt=(it[0]||[])[xt],Ct=(it[1]||[])[xt];dt[xt]=S([Pt,Ct])}return dt}(q,st);for($=new Array(st),et=0;et<st;et++)$[et]=_.d2c(q[et],0,St,J)}else{var Lt=j+"0"in R?_.d2c(R[j+"0"],0,St):0,It=R["d"+j]?Number(R["d"+j]):1;for(q=R[{x:"y",y:"x"}[j]],st=R._length||q.length,$=new Array(st),et=0;et<st;et++)$[et]=Lt+et*It}if(_.rangebreaks)for(et=0;et<st;et++)$[et]=_.maskBreaks($[et]);return $},_.isValidRange=function(R,j){return Array.isArray(R)&&R.length===2&&(j&&R[0]===null||e(_.r2l(R[0])))&&(j&&R[1]===null||e(_.r2l(R[1])))},_.getAutorangeDflt=function(R,j){var J=!_.isValidRange(R,"nullOk");return J&&j&&j.reverseDflt?J="reversed":R&&(R[0]===null&&R[1]===null?J=!0:R[0]===null&&R[1]!==null?J="min":R[0]!==null&&R[1]===null&&(J="max")),J},_.isReversed=function(){var R=_.autorange;return R==="reversed"||R==="min reversed"||R==="max reversed"},_.isPtWithinRange=function(R,j){var J=_.c2l(R[N],null,j),q=_.r2l(_.range[0]),$=_.r2l(_.range[1]);return q<$?q<=J&&J<=$:$<=J&&J<=q},_._emptyCategories=function(){_._categories=[],_._categoriesMap={}},_.clearCalc=function(){var R=_._matchGroup;if(R){var j=null,J=null;for(var q in R){var $=I[T.id2name(q)];if($._categories){j=$._categories,J=$._categoriesMap;break}}j&&J?(_._categories=j,_._categoriesMap=J):_._emptyCategories()}else _._emptyCategories();if(_._initialCategories)for(var et=0;et<_._initialCategories.length;et++)nt(_._initialCategories[et])},_.sortByInitialCategories=function(){var R=[];if(_._emptyCategories(),_._initialCategories)for(var j=0;j<_._initialCategories.length;j++)nt(_._initialCategories[j]);R=R.concat(_._traceIndices);var J=_._matchGroup;for(var q in J)if(O!==q){var $=I[T.id2name(q)];$._categories=_._categories,$._categoriesMap=_._categoriesMap,R=R.concat($._traceIndices)}return R};var F=I._d3locale;_.type==="date"&&(_._dateFormat=F?F.timeFormat:g,_._extraFormat=I._extraFormat),_._separators=I.separators,_._numFormat=F?F.numberFormat:n,delete _._minDtick,delete _._forceTick0}},9652:function(X){X.exports=function(d){var t=["showexponent","showtickprefix","showticksuffix"].filter(function(f){return d[f]!==void 0});if(t.every(function(f){return d[f]===d[t[0]]})||t.length===1)return d[t[0]]}},6115:function(X,d,t){var f=t(1828),g=t(7901).contrast,a=t(3838),n=t(9652),e=t(5501);function r(i,l){function o(c,u){return f.coerce(i,l,a.tickformatstops,c,u)}o("enabled")&&(o("dtickrange"),o("value"))}X.exports=function(i,l,o,c,u){u||(u={});var h=o("labelalias");f.isPlainObject(h)||delete l.labelalias;var y=n(i);if(o("showticklabels")){var m=u.font||{},v=l.color,x=(l.ticklabelposition||"").indexOf("inside")!==-1?g(u.bgColor):v&&v!==a.color.dflt?v:m.color;if(f.coerceFont(o,"tickfont",{family:m.family,size:m.size,color:x}),u.noTicklabelstep||c==="multicategory"||c==="log"||o("ticklabelstep"),u.noAng||o("tickangle"),c!=="category"){var w=o("tickformat");e(i,l,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:r}),l.tickformatstops.length||delete l.tickformatstops,u.noExp||w||c==="date"||(o("showexponent",y),o("exponentformat"),o("minexponent"),o("separatethousands"))}}}},8701:function(X,d,t){var f=t(1828),g=t(3838);X.exports=function(a,n,e,r){var i=r.isMinor,l=i?a.minor||{}:a,o=i?n.minor:n,c=i?g.minor:g,u=i?"minor.":"",h=f.coerce2(l,o,c,"ticklen",i?.6*(n.ticklen||5):void 0),y=f.coerce2(l,o,c,"tickwidth",i?n.tickwidth||1:void 0),m=f.coerce2(l,o,c,"tickcolor",(i?n.tickcolor:void 0)||o.color);e(u+"ticks",!i&&r.outerTicks||h||y||m?"outside":"")||(delete o.ticklen,delete o.tickwidth,delete o.tickcolor)}},6218:function(X,d,t){var f=t(6287),g=t(1828).isArrayOrTypedArray;X.exports=function(a,n,e,r,i){i||(i={});var l=i.isMinor,o=l?a.minor||{}:a,c=l?n.minor:n,u=l?"minor.":"";function h(p){var b=o[p];return b!==void 0?b:(c._template||{})[p]}var y=h("tick0"),m=h("dtick"),v=h("tickvals"),x=e(u+"tickmode",g(v)?"array":m?"linear":"auto");if(x==="auto"||x==="sync")e(u+"nticks");else if(x==="linear"){var w=c.dtick=f.dtick(m,r);c.tick0=f.tick0(y,r,n.calendar,w)}else r!=="multicategory"&&(e(u+"tickvals")===void 0?c.tickmode="auto":l||e("ticktext"))}},6847:function(X,d,t){var f=t(9898),g=t(3972),a=t(1828),n=t(1424),e=t(9298);X.exports=function(r,i,l,o){var c=r._fullLayout;if(i.length!==0){var u,h,y,m;o&&(u=o());var v=f.ease(l.easing);return r._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(m),m=null,function(){for(var p={},b=0;b<i.length;b++){var T=i[b],A=T.plotinfo.xaxis,P=T.plotinfo.yaxis;T.xr0&&(p[A._name+".range"]=T.xr0.slice()),T.yr0&&(p[P._name+".range"]=T.yr0.slice())}return g.call("relayout",r,p).then(function(){for(var k=0;k<i.length;k++)x(i[k].plotinfo)})}()}),h=Date.now(),m=window.requestAnimationFrame(function p(){y=Date.now();for(var b=Math.min(1,(y-h)/l.duration),T=v(b),A=0;A<i.length;A++)w(i[A],T);y-h>l.duration?(function(){for(var P={},k=0;k<i.length;k++){var L=i[k],D=L.plotinfo.xaxis,_=L.plotinfo.yaxis;L.xr1&&(P[D._name+".range"]=L.xr1.slice()),L.yr1&&(P[_._name+".range"]=L.yr1.slice())}u&&u(),g.call("relayout",r,P).then(function(){for(var I=0;I<i.length;I++)x(i[I].plotinfo)})}(),m=window.cancelAnimationFrame(p)):m=window.requestAnimationFrame(p)}),Promise.resolve()}function x(p){var b=p.xaxis,T=p.yaxis;c._defs.select("#"+p.clipId+"> rect").call(n.setTranslate,0,0).call(n.setScale,1,1),p.plot.call(n.setTranslate,b._offset,T._offset).call(n.setScale,1,1);var A=p.plot.selectAll(".scatterlayer .trace");A.selectAll(".point").call(n.setPointGroupScale,1,1),A.selectAll(".textpoint").call(n.setTextPointsScale,1,1),A.call(n.hideOutsideRangePoints,p)}function w(p,b){var T=p.plotinfo,A=T.xaxis,P=T.yaxis,k=A._length,L=P._length,D=!!p.xr1,_=!!p.yr1,I=[];if(D){var O=a.simpleMap(p.xr0,A.r2l),N=a.simpleMap(p.xr1,A.r2l),G=O[1]-O[0],z=N[1]-N[0];I[0]=(O[0]*(1-b)+b*N[0]-O[0])/(O[1]-O[0])*k,I[2]=k*(1-b+b*z/G),A.range[0]=A.l2r(O[0]*(1-b)+b*N[0]),A.range[1]=A.l2r(O[1]*(1-b)+b*N[1])}else I[0]=0,I[2]=k;if(_){var Y=a.simpleMap(p.yr0,P.r2l),Z=a.simpleMap(p.yr1,P.r2l),nt=Y[1]-Y[0],S=Z[1]-Z[0];I[1]=(Y[1]*(1-b)+b*Z[1]-Y[1])/(Y[0]-Y[1])*L,I[3]=L*(1-b+b*S/nt),P.range[0]=A.l2r(Y[0]*(1-b)+b*Z[0]),P.range[1]=P.l2r(Y[1]*(1-b)+b*Z[1])}else I[1]=0,I[3]=L;e.drawOne(r,A,{skipTitle:!0}),e.drawOne(r,P,{skipTitle:!0}),e.redrawComponents(r,[A._id,P._id]);var E=D?k/I[2]:1,V=_?L/I[3]:1,Q=D?I[0]:0,tt=_?I[1]:0,rt=D?I[0]/I[2]*k:0,ot=_?I[1]/I[3]*L:0,H=A._offset-rt,F=P._offset-ot;T.clipRect.call(n.setTranslate,Q,tt).call(n.setScale,1/E,1/V),T.plot.call(n.setTranslate,H,F).call(n.setScale,E,V),n.setPointGroupScale(T.zoomScalePts,1/E,1/V),n.setTextPointsScale(T.zoomScaleTxt,1/E,1/V)}e.redrawComponents(r)}},951:function(X,d,t){var f=t(3972).traceIs,g=t(4322);function a(e){return{v:"x",h:"y"}[e.orientation||"v"]}function n(e,r){var i=a(e),l=f(e,"box-violin"),o=f(e._fullInput||{},"candlestick");return l&&!o&&r===i&&e[i]===void 0&&e[i+"0"]===void 0}X.exports=function(e,r,i,l){i("autotypenumbers",l.autotypenumbersDflt),i("type",(l.splomStash||{}).type)==="-"&&(function(o,c){if(o.type==="-"){var u,h=o._id,y=h.charAt(0);h.indexOf("scene")!==-1&&(h=y);var m=function(P,k,L){for(var D=0;D<P.length;D++){var _=P[D];if(_.type==="splom"&&_._length>0&&(_["_"+L+"axes"]||{})[k]||(_[L+"axis"]||L)===k&&(n(_,L)||(_[L]||[]).length||_[L+"0"]))return _}}(c,h,y);if(m)if(m.type!=="histogram"||y!=={v:"y",h:"x"}[m.orientation||"v"]){var v=y+"calendar",x=m[v],w={noMultiCategory:!f(m,"cartesian")||f(m,"noMultiCategory")};if(m.type==="box"&&m._hasPreCompStats&&y==={h:"x",v:"y"}[m.orientation||"v"]&&(w.noMultiCategory=!0),w.autotypenumbers=o.autotypenumbers,n(m,y)){var p=a(m),b=[];for(u=0;u<c.length;u++){var T=c[u];f(T,"box-violin")&&(T[y+"axis"]||y)===h&&(T[p]!==void 0?b.push(T[p][0]):T.name!==void 0?b.push(T.name):b.push("text"),T[v]!==x&&(x=void 0))}o.type=g(b,x,w)}else if(m.type==="splom"){var A=m.dimensions[m._axesDim[h]];A.visible&&(o.type=g(A.values,x,w))}else o.type=g(m[y]||[m[y+"0"]],x,w)}else o.type="linear"}}(r,l.data),r.type==="-"?r.type="linear":e.type=r.type)}},1137:function(X,d,t){var f=t(3972),g=t(1828);function a(i,l,o){var c,u,h,y=!1;if(l.type==="data")c=i._fullData[l.traces!==null?l.traces[0]:0];else{if(l.type!=="layout")return!1;c=i._fullLayout}return u=g.nestedProperty(c,l.prop).get(),(h=o[l.type]=o[l.type]||{}).hasOwnProperty(l.prop)&&h[l.prop]!==u&&(y=!0),h[l.prop]=u,{changed:y,value:u}}function n(i,l){var o=[],c=l[0],u={};if(typeof c=="string")u[c]=l[1];else{if(!g.isPlainObject(c))return o;u=c}return r(u,function(h,y,m){o.push({type:"layout",prop:h,value:m})},"",0),o}function e(i,l){var o,c,u,h,y=[];if(c=l[0],u=l[1],o=l[2],h={},typeof c=="string")h[c]=u;else{if(!g.isPlainObject(c))return y;h=c,o===void 0&&(o=u)}return o===void 0&&(o=null),r(h,function(m,v,x){var w,p;if(Array.isArray(x)){p=x.slice();var b=Math.min(p.length,i.data.length);o&&(b=Math.min(b,o.length)),w=[];for(var T=0;T<b;T++)w[T]=o?o[T]:T}else p=x,w=o?o.slice():null;if(w===null)Array.isArray(p)&&(p=p[0]);else if(Array.isArray(w)){if(!Array.isArray(p)){var A=p;p=[];for(var P=0;P<w.length;P++)p[P]=A}p.length=Math.min(w.length,p.length)}y.push({type:"data",prop:m,traces:w,value:p})},"",0),y}function r(i,l,o,c){Object.keys(i).forEach(function(u){var h=i[u];if(u[0]!=="_"){var y=o+(c>0?".":"")+u;g.isPlainObject(h)?r(h,l,y,c+1):l(y,u,h)}})}d.manageCommandObserver=function(i,l,o,c){var u={},h=!0;l&&l._commandObserver&&(u=l._commandObserver),u.cache||(u.cache={}),u.lookupTable={};var y=d.hasSimpleAPICommandBindings(i,o,u.lookupTable);if(l&&l._commandObserver){if(y)return u;if(l._commandObserver.remove)return l._commandObserver.remove(),l._commandObserver=null,u}if(y){a(i,y,u.cache),u.check=function(){if(h){var x=a(i,y,u.cache);return x.changed&&c&&u.lookupTable[x.value]!==void 0&&(u.disable(),Promise.resolve(c({value:x.value,type:y.type,prop:y.prop,traces:y.traces,index:u.lookupTable[x.value]})).then(u.enable,u.enable)),x.changed}};for(var m=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],v=0;v<m.length;v++)i._internalOn(m[v],u.check);u.remove=function(){for(var x=0;x<m.length;x++)i._removeInternalListener(m[x],u.check)}}else g.log("Unable to automatically bind plot updates to API command"),u.lookupTable={},u.remove=function(){};return u.disable=function(){h=!1},u.enable=function(){h=!0},l&&(l._commandObserver=u),u},d.hasSimpleAPICommandBindings=function(i,l,o){var c,u,h=l.length;for(c=0;c<h;c++){var y,m=l[c],v=m.method,x=m.args;if(Array.isArray(x)||(x=[]),!v)return!1;var w=d.computeAPICommandBindings(i,v,x);if(w.length!==1)return!1;if(u){if((y=w[0]).type!==u.type||y.prop!==u.prop)return!1;if(Array.isArray(u.traces)){if(!Array.isArray(y.traces))return!1;y.traces.sort();for(var p=0;p<u.traces.length;p++)if(u.traces[p]!==y.traces[p])return!1}else if(y.prop!==u.prop)return!1}else u=w[0],Array.isArray(u.traces)&&u.traces.sort();var b=(y=w[0]).value;if(Array.isArray(b)){if(b.length!==1)return!1;b=b[0]}o&&(o[b]=c)}return u},d.executeAPICommand=function(i,l,o){if(l==="skip")return Promise.resolve();var c=f.apiMethodRegistry[l],u=[i];Array.isArray(o)||(o=[]);for(var h=0;h<o.length;h++)u.push(o[h]);return c.apply(null,u).catch(function(y){return g.warn("API call to Plotly."+l+" rejected.",y),Promise.reject(y)})},d.computeAPICommandBindings=function(i,l,o){var c;switch(Array.isArray(o)||(o=[]),l){case"restyle":c=e(i,o);break;case"relayout":c=n(0,o);break;case"update":c=e(i,[o[0],o[2]]).concat(n(0,[o[1]]));break;case"animate":c=function(u,h){return Array.isArray(h[0])&&h[0].length===1&&["string","number"].indexOf(typeof h[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:h[0][0].toString()}]:[]}(0,o);break;default:c=[]}return c}},7670:function(X,d,t){var f=t(1426).extendFlat;d.Y=function(g,a){a=a||{};var n={valType:"info_array",editType:(g=g||{}).editType,items:[{valType:"number",min:0,max:1,editType:g.editType},{valType:"number",min:0,max:1,editType:g.editType}],dflt:[0,1]},e=(g.name&&g.name,g.trace,a.description&&a.description,{x:f({},n,{}),y:f({},n,{}),editType:g.editType});return g.noGridCell||(e.row={valType:"integer",min:0,dflt:0,editType:g.editType},e.column={valType:"integer",min:0,dflt:0,editType:g.editType}),e},d.c=function(g,a,n,e){var r=e&&e.x||[0,1],i=e&&e.y||[0,1],l=a.grid;if(l){var o=n("domain.column");o!==void 0&&(o<l.columns?r=l._domains.x[o]:delete g.domain.column);var c=n("domain.row");c!==void 0&&(c<l.rows?i=l._domains.y[c]:delete g.domain.row)}var u=n("domain.x",r),h=n("domain.y",i);u[0]<u[1]||(g.domain.x=r.slice()),h[0]<h[1]||(g.domain.y=i.slice())}},1940:function(X){X.exports=function(d){var t=d.editType,f=d.colorEditType;f===void 0&&(f=t);var g={family:{valType:"string",noBlank:!0,strict:!0,editType:t},size:{valType:"number",min:1,editType:t},color:{valType:"color",editType:f},editType:t};return d.autoSize&&(g.size.dflt="auto"),d.autoColor&&(g.color.dflt="auto"),d.arrayOk&&(g.family.arrayOk=!0,g.size.arrayOk=!0,g.color.arrayOk=!0),g}},1391:function(X){X.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},7659:function(X,d,t){var f=t(3972);t(5555).SUBPLOT_PATTERN,d.a0=function(g,a){var n,e=[],r=[];if(!(n=typeof a=="string"?f.getModule(a).plot:typeof a=="function"?a:a.plot))return[e,g];for(var i=0;i<g.length;i++){var l=g[i],o=l[0].trace;o.visible===!0&&o._length!==0&&(o._module&&o._module.plot===n?e.push(l):r.push(l))}return[e,r]}},3538:function(X){function d(t,f){var g,a,n=[0,0,0,0];for(g=0;g<4;++g)for(a=0;a<4;++a)n[a]+=t[4*g+a]*f[g];return n}X.exports=function(t,f){return d(t.projection,d(t.view,d(t.model,[f[0],f[1],f[2],1])))}},820:function(X,d,t){var f=t(1940),g=t(5594),a=t(2399),n=t(9241),e=t(3777),r=t(5025),i=t(1426).extendFlat,l=f({editType:"calc"});l.family.dflt='"Open Sans", verdana, arial, sans-serif',l.size.dflt=12,l.color.dflt=a.defaultLine,X.exports={font:l,title:{text:{valType:"string",editType:"layoutstyle"},font:f({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:i(r({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:a.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:a.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:a.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:n.newshape,activeshape:n.activeshape,newselection:e.newselection,activeselection:e.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:i({},g.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:f({editType:"layoutstyle"})}}},5025:function(X){X.exports=function(d){var t=d.editType;return{t:{valType:"number",dflt:0,editType:t},r:{valType:"number",dflt:0,editType:t},b:{valType:"number",dflt:0,editType:t},l:{valType:"number",dflt:0,editType:t},editType:t}}},4875:function(X,d,t){var f=t(9898),g=t(4096).Dq,a=t(721).FF,n=t(2770),e=t(3972),r=t(6281),i=t(4467),l=t(1828),o=t(7901),c=t(606).BADNUM,u=t(1675),h=t(1873).clearOutline,y=t(1479),m=t(5594),v=t(1391),x=t(7659).a0,w=l.relinkPrivateKeys,p=l._,b=X.exports={};l.extendFlat(b,e),b.attributes=t(9012),b.attributes.type.values=b.allTypes,b.fontAttrs=t(1940),b.layoutAttributes=t(820),b.fontWeight="normal";var T=b.transformsRegistry,A=t(1137);b.executeAPICommand=A.executeAPICommand,b.computeAPICommandBindings=A.computeAPICommandBindings,b.manageCommandObserver=A.manageCommandObserver,b.hasSimpleAPICommandBindings=A.hasSimpleAPICommandBindings,b.redrawText=function(S){return S=l.getGraphDiv(S),new Promise(function(E){setTimeout(function(){S._fullLayout&&(e.getComponentMethod("annotations","draw")(S),e.getComponentMethod("legend","draw")(S),e.getComponentMethod("colorbar","draw")(S),E(b.previousPromises(S)))},300)})},b.resize=function(S){var E;S=l.getGraphDiv(S);var V=new Promise(function(Q,tt){S&&!l.isHidden(S)||tt(new Error("Resize must be passed a displayed plot div element.")),S._redrawTimer&&clearTimeout(S._redrawTimer),S._resolveResize&&(E=S._resolveResize),S._resolveResize=Q,S._redrawTimer=setTimeout(function(){if(!S.layout||S.layout.width&&S.layout.height||l.isHidden(S))Q(S);else{delete S.layout.width,delete S.layout.height;var rt=S.changed;S.autoplay=!0,e.call("relayout",S,{autosize:!0}).then(function(){S.changed=rt,S._resolveResize===Q&&(delete S._resolveResize,Q(S))})}},100)});return E&&E(V),V},b.previousPromises=function(S){if((S._promises||[]).length)return Promise.all(S._promises).then(function(){S._promises=[]})},b.addLinks=function(S){if(S._context.showLink||S._context.showSources){var E=S._fullLayout,V=l.ensureSingle(E._paper,"text","js-plot-link-container",function(F){F.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:o.defaultLine,"pointer-events":"all"}).each(function(){var R=f.select(this);R.append("tspan").classed("js-link-to-tool",!0),R.append("tspan").classed("js-link-spacer",!0),R.append("tspan").classed("js-sourcelinks",!0)})}),Q=V.node(),tt={y:E._paper.attr("height")-9};document.body.contains(Q)&&Q.getComputedTextLength()>=E.width-20?(tt["text-anchor"]="start",tt.x=5):(tt["text-anchor"]="end",tt.x=E._paper.attr("width")-7),V.attr(tt);var rt=V.select(".js-link-to-tool"),ot=V.select(".js-link-spacer"),H=V.select(".js-sourcelinks");S._context.showSources&&S._context.showSources(S),S._context.showLink&&function(F,R){R.text("");var j=R.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(F._context.linkText+" "+String.fromCharCode(187));if(F._context.sendData)j.on("click",function(){b.sendDataToCloud(F)});else{var J=window.location.pathname.split("/"),q=window.location.search;j.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+J[2].split(".")[0]+"/"+J[1]+q})}}(S,rt),ot.text(rt.text()&&H.text()?" - ":"")}},b.sendDataToCloud=function(S){var E=(window.PLOTLYENV||{}).BASE_URL||S._context.plotlyServerURL;if(E){S.emit("plotly_beforeexport");var V=f.select(S).append("div").attr("id","hiddenform").style("display","none"),Q=V.append("form").attr({action:E+"/external",method:"post",target:"_blank"});return Q.append("input").attr({type:"text",name:"data"}).node().value=b.graphJson(S,!1,"keepdata"),Q.node().submit(),V.remove(),S.emit("plotly_afterexport"),!1}};var P=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],k=["year","month","dayMonth","dayMonthYear"];function L(S,E){var V=S._context.locale;V||(V="en-US");var Q=!1,tt={};function rt(J){for(var q=!0,$=0;$<E.length;$++){var et=E[$];tt[et]||(J[et]?tt[et]=J[et]:q=!1)}q&&(Q=!0)}for(var ot=0;ot<2;ot++){for(var H=S._context.locales,F=0;F<2;F++){var R=(H[V]||{}).format;if(R&&(rt(R),Q))break;H=e.localeRegistry}var j=V.split("-")[0];if(Q||j===V)break;V=j}return Q||rt(e.localeRegistry.en.format),tt}function D(S,E){var V={_fullLayout:E},Q=S._id.charAt(0)==="x",tt=S._mainAxis._anchorAxis,rt="",ot="",H="";if(tt&&(H=tt._mainAxis._id,rt=Q?S._id+H:H+S._id),!rt||!E._plots[rt]){rt="";for(var F=S._counterAxes,R=0;R<F.length;R++){var j=F[R],J=Q?S._id+j:j+S._id;ot||(ot=J);var q=u.getFromId(V,j);if(H&&q.overlaying===H){rt=J;break}}}return rt||ot}function _(S){var E=S.transforms;if(Array.isArray(E)&&E.length)for(var V=0;V<E.length;V++){var Q=E[V],tt=Q._module||T[Q.type];if(tt&&tt.makesData)return!0}return!1}function I(S,E,V,Q){for(var tt=S.transforms,rt=[S],ot=0;ot<tt.length;ot++){var H=tt[ot],F=T[H.type];F&&F.transform&&(rt=F.transform(rt,{transform:H,fullTrace:S,fullData:E,layout:V,fullLayout:Q,transformIndex:ot}))}return rt}function O(S){return typeof S=="string"&&S.substr(S.length-2)==="px"&&parseFloat(S)}function N(S){var E=S.margin;if(!S._size){var V=S._size={l:Math.round(E.l),r:Math.round(E.r),t:Math.round(E.t),b:Math.round(E.b),p:Math.round(E.pad)};V.w=Math.round(S.width)-V.l-V.r,V.h=Math.round(S.height)-V.t-V.b}S._pushmargin||(S._pushmargin={}),S._pushmarginIds||(S._pushmarginIds={}),S._reservedMargin||(S._reservedMargin={})}b.supplyDefaults=function(S,E){var V=E&&E.skipUpdateCalc,Q=S._fullLayout||{};if(Q._skipDefaults)delete Q._skipDefaults;else{var tt,rt=S._fullLayout={},ot=S.layout||{},H=S._fullData||[],F=S._fullData=[],R=S.data||[],j=S.calcdata||[],J=S._context||{};S._transitionData||b.createTransitionData(S),rt._dfltTitle={plot:p(S,"Click to enter Plot title"),x:p(S,"Click to enter X axis title"),y:p(S,"Click to enter Y axis title"),colorbar:p(S,"Click to enter Colorscale title"),annotation:p(S,"new text")},rt._traceWord=p(S,"trace");var q=L(S,P);if(rt._mapboxAccessToken=J.mapboxAccessToken,Q._initialAutoSizeIsDone){var $=Q.width,et=Q.height;b.supplyLayoutGlobalDefaults(ot,rt,q),ot.width||(rt.width=$),ot.height||(rt.height=et),b.sanitizeMargins(rt)}else{b.supplyLayoutGlobalDefaults(ot,rt,q);var st=!ot.width||!ot.height,yt=rt.autosize,St=J.autosizable;st&&(yt||St)?b.plotAutoSize(S,ot,rt):st&&b.sanitizeMargins(rt),!yt&&st&&(ot.width=rt.width,ot.height=rt.height)}rt._d3locale=function(At,Mt){return At.decimal=Mt.charAt(0),At.thousands=Mt.charAt(1),{numberFormat:function(Rt){try{Rt=a(At).format(l.adjustFormat(Rt))}catch{return l.warnBadFormat(Rt),l.noFormat}return Rt},timeFormat:g(At).utcFormat}}(q,rt.separators),rt._extraFormat=L(S,k),rt._initialAutoSizeIsDone=!0,rt._dataLength=R.length,rt._modules=[],rt._visibleModules=[],rt._basePlotModules=[];var Lt=rt._subplots=function(){var At,Mt,Rt=e.collectableSubplotTypes,Yt={};if(!Rt){Rt=[];var zt=e.subplotsRegistry;for(var Xt in zt){var Kt=zt[Xt].attr;if(Kt&&(Rt.push(Xt),Array.isArray(Kt)))for(Mt=0;Mt<Kt.length;Mt++)l.pushUnique(Rt,Kt[Mt])}}for(At=0;At<Rt.length;At++)Yt[Rt[At]]=[];return Yt}(),It=rt._splomAxes={x:{},y:{}},it=rt._splomSubplots={};rt._splomGridDflt={},rt._scatterStackOpts={},rt._firstScatter={},rt._alignmentOpts={},rt._colorAxes={},rt._requestRangeslider={},rt._traceUids=function(At,Mt){var Rt,Yt,zt=Mt.length,Xt=[];for(Rt=0;Rt<At.length;Rt++){var Kt=At[Rt]._fullInput;Kt!==Yt&&Xt.push(Kt),Yt=Kt}var se=Xt.length,de=new Array(zt),xe={};function Dt(Wt,me){de[me]=Wt,xe[Wt]=1}function wt(Wt,me){if(Wt&&typeof Wt=="string"&&!xe[Wt])return Dt(Wt,me),!0}for(Rt=0;Rt<zt;Rt++){var Ut=Mt[Rt].uid;typeof Ut=="number"&&(Ut=String(Ut)),wt(Ut,Rt)||Rt<se&&wt(Xt[Rt].uid,Rt)||Dt(l.randstr(xe),Rt)}return de}(H,R),rt._globalTransforms=(S._context||{}).globalTransforms,b.supplyDataDefaults(R,F,ot,rt);var ft=Object.keys(It.x),dt=Object.keys(It.y);if(ft.length>1&&dt.length>1){for(e.getComponentMethod("grid","sizeDefaults")(ot,rt),tt=0;tt<ft.length;tt++)l.pushUnique(Lt.xaxis,ft[tt]);for(tt=0;tt<dt.length;tt++)l.pushUnique(Lt.yaxis,dt[tt]);for(var xt in it)l.pushUnique(Lt.cartesian,xt)}if(rt._has=b._hasPlotType.bind(rt),H.length===F.length)for(tt=0;tt<F.length;tt++)w(F[tt],H[tt]);b.supplyLayoutModuleDefaults(ot,rt,F,S._transitionData);var Pt=rt._visibleModules,Ct=[];for(tt=0;tt<Pt.length;tt++){var lt=Pt[tt].crossTraceDefaults;lt&&l.pushUnique(Ct,lt)}for(tt=0;tt<Ct.length;tt++)Ct[tt](F,rt);rt._hasOnlyLargeSploms=rt._basePlotModules.length===1&&rt._basePlotModules[0].name==="splom"&&ft.length>15&&dt.length>15&&rt.shapes.length===0&&rt.images.length===0,b.linkSubplots(F,rt,H,Q),b.cleanPlot(F,rt,H,Q);var ht=!(!Q._has||!Q._has("gl2d")),vt=!(!rt._has||!rt._has("gl2d")),gt=!(!Q._has||!Q._has("cartesian"))||ht,mt=!(!rt._has||!rt._has("cartesian"))||vt;gt&&!mt?Q._bgLayer.remove():mt&&!gt&&(rt._shouldCreateBgLayer=!0),Q._zoomlayer&&!S._dragging&&h({_fullLayout:Q}),function(At,Mt){var Rt,Yt=[];Mt.meta&&(Rt=Mt._meta={meta:Mt.meta,layout:{meta:Mt.meta}});for(var zt=0;zt<At.length;zt++){var Xt=At[zt];Xt.meta?Yt[Xt.index]=Xt._meta={meta:Xt.meta}:Mt.meta&&(Xt._meta={meta:Mt.meta}),Mt.meta&&(Xt._meta.layout={meta:Mt.meta})}Yt.length&&(Rt||(Rt=Mt._meta={}),Rt.data=Yt)}(F,rt),w(rt,Q),e.getComponentMethod("colorscale","crossTraceDefaults")(F,rt),rt._preGUI||(rt._preGUI={}),rt._tracePreGUI||(rt._tracePreGUI={});var Tt,kt=rt._tracePreGUI,_t={};for(Tt in kt)_t[Tt]="old";for(tt=0;tt<F.length;tt++)_t[Tt=F[tt]._fullInput.uid]||(kt[Tt]={}),_t[Tt]="new";for(Tt in _t)_t[Tt]==="old"&&delete kt[Tt];N(rt),e.getComponentMethod("rangeslider","makeData")(rt),V||j.length!==F.length||b.supplyDefaultsUpdateCalc(j,F)}},b.supplyDefaultsUpdateCalc=function(S,E){for(var V=0;V<E.length;V++){var Q=E[V],tt=(S[V]||[])[0];if(tt&&tt.trace){var rt=tt.trace;if(rt._hasCalcTransform){var ot,H,F,R=rt._arrayAttrs;for(ot=0;ot<R.length;ot++)H=R[ot],F=l.nestedProperty(rt,H).get().slice(),l.nestedProperty(Q,H).set(F)}tt.trace=Q}}},b.createTransitionData=function(S){S._transitionData||(S._transitionData={}),S._transitionData._frames||(S._transitionData._frames=[]),S._transitionData._frameHash||(S._transitionData._frameHash={}),S._transitionData._counter||(S._transitionData._counter=0),S._transitionData._interruptCallbacks||(S._transitionData._interruptCallbacks=[])},b._hasPlotType=function(S){var E,V=this._basePlotModules||[];for(E=0;E<V.length;E++)if(V[E].name===S)return!0;var Q=this._modules||[];for(E=0;E<Q.length;E++){var tt=Q[E].name;if(tt===S)return!0;var rt=e.modules[tt];if(rt&&rt.categories[S])return!0}return!1},b.cleanPlot=function(S,E,V,Q){var tt,rt,ot=Q._basePlotModules||[];for(tt=0;tt<ot.length;tt++){var H=ot[tt];H.clean&&H.clean(S,E,V,Q)}var F=Q._has&&Q._has("gl"),R=E._has&&E._has("gl");F&&!R&&Q._glcontainer!==void 0&&(Q._glcontainer.selectAll(".gl-canvas").remove(),Q._glcontainer.selectAll(".no-webgl").remove(),Q._glcanvas=null);var j=!!Q._infolayer;t:for(tt=0;tt<V.length;tt++){var J=V[tt].uid;for(rt=0;rt<S.length;rt++)if(J===S[rt].uid)continue t;j&&Q._infolayer.select(".cb"+J).remove()}},b.linkSubplots=function(S,E,V,Q){var tt,rt,ot=Q._plots||{},H=E._plots={},F=E._subplots,R={_fullData:S,_fullLayout:E},j=F.cartesian.concat(F.gl2d||[]);for(tt=0;tt<j.length;tt++){var J,q=j[tt],$=ot[q],et=u.getFromId(R,q,"x"),st=u.getFromId(R,q,"y");for($?J=H[q]=$:(J=H[q]={}).id=q,et._counterAxes.push(st._id),st._counterAxes.push(et._id),et._subplotsWith.push(q),st._subplotsWith.push(q),J.xaxis=et,J.yaxis=st,J._hasClipOnAxisFalse=!1,rt=0;rt<S.length;rt++){var yt=S[rt];if(yt.xaxis===J.xaxis._id&&yt.yaxis===J.yaxis._id&&yt.cliponaxis===!1){J._hasClipOnAxisFalse=!0;break}}}var St,Lt=u.list(R,null,!0);for(tt=0;tt<Lt.length;tt++){var It=null;(St=Lt[tt]).overlaying&&(It=u.getFromId(R,St.overlaying))&&It.overlaying&&(St.overlaying=!1,It=null),St._mainAxis=It||St,It&&(St.domain=It.domain.slice()),St._anchorAxis=St.anchor==="free"?null:u.getFromId(R,St.anchor)}for(tt=0;tt<Lt.length;tt++)if((St=Lt[tt])._counterAxes.sort(u.idSort),St._subplotsWith.sort(l.subplotSort),St._mainSubplot=D(St,E),St._counterAxes.length&&(St.spikemode&&St.spikemode.indexOf("across")!==-1||St.automargin&&St.mirror&&St.anchor!=="free"||e.getComponentMethod("rangeslider","isVisible")(St))){var it=1,ft=0;for(rt=0;rt<St._counterAxes.length;rt++){var dt=u.getFromId(R,St._counterAxes[rt]);it=Math.min(it,dt.domain[0]),ft=Math.max(ft,dt.domain[1])}it<ft&&(St._counterDomainMin=it,St._counterDomainMax=ft)}},b.clearExpandedTraceDefaultColors=function(S){var E,V,Q;for(V=[],(E=S._module._colorAttrs)||(S._module._colorAttrs=E=[],r.crawl(S._module.attributes,function(tt,rt,ot,H){V[H]=rt,V.length=H+1,tt.valType==="color"&&tt.dflt===void 0&&E.push(V.join("."))})),Q=0;Q<E.length;Q++)l.nestedProperty(S,"_input."+E[Q]).get()||l.nestedProperty(S,E[Q]).set(null)},b.supplyDataDefaults=function(S,E,V,Q){var tt,rt,ot,H=Q._modules,F=Q._visibleModules,R=Q._basePlotModules,j=0,J=0;function q(xt){E.push(xt);var Pt=xt._module;Pt&&(l.pushUnique(H,Pt),xt.visible===!0&&l.pushUnique(F,Pt),l.pushUnique(R,xt._module.basePlotModule),j++,xt._input.visible!==!1&&J++)}Q._transformModules=[];var $={},et=[],st=(V.template||{}).data||{},yt=i.traceTemplater(st);for(tt=0;tt<S.length;tt++){if(ot=S[tt],(rt=yt.newTrace(ot)).uid=Q._traceUids[tt],b.supplyTraceDefaults(ot,rt,J,Q,tt),rt.index=tt,rt._input=ot,rt._expandedIndex=j,rt.transforms&&rt.transforms.length)for(var St=ot.visible!==!1&&rt.visible===!1,Lt=I(rt,E,V,Q),It=0;It<Lt.length;It++){var it=Lt[It],ft={_template:rt._template,type:rt.type,uid:rt.uid+It};St&&it.visible===!1&&delete it.visible,b.supplyTraceDefaults(it,ft,j,Q,tt),w(ft,it),ft.index=tt,ft._input=ot,ft._fullInput=rt,ft._expandedIndex=j,ft._expandedInput=it,q(ft)}else rt._fullInput=rt,rt._expandedInput=rt,q(rt);e.traceIs(rt,"carpetAxis")&&($[rt.carpet]=rt),e.traceIs(rt,"carpetDependent")&&et.push(tt)}for(tt=0;tt<et.length;tt++)if((rt=E[et[tt]]).visible){var dt=$[rt.carpet];rt._carpet=dt,dt&&dt.visible?(rt.xaxis=dt.xaxis,rt.yaxis=dt.yaxis):rt.visible=!1}},b.supplyAnimationDefaults=function(S){var E;S=S||{};var V={};function Q(tt,rt){return l.coerce(S||{},V,m,tt,rt)}if(Q("mode"),Q("direction"),Q("fromcurrent"),Array.isArray(S.frame))for(V.frame=[],E=0;E<S.frame.length;E++)V.frame[E]=b.supplyAnimationFrameDefaults(S.frame[E]||{});else V.frame=b.supplyAnimationFrameDefaults(S.frame||{});if(Array.isArray(S.transition))for(V.transition=[],E=0;E<S.transition.length;E++)V.transition[E]=b.supplyAnimationTransitionDefaults(S.transition[E]||{});else V.transition=b.supplyAnimationTransitionDefaults(S.transition||{});return V},b.supplyAnimationFrameDefaults=function(S){var E={};function V(Q,tt){return l.coerce(S||{},E,m.frame,Q,tt)}return V("duration"),V("redraw"),E},b.supplyAnimationTransitionDefaults=function(S){var E={};function V(Q,tt){return l.coerce(S||{},E,m.transition,Q,tt)}return V("duration"),V("easing"),E},b.supplyFrameDefaults=function(S){var E={};function V(Q,tt){return l.coerce(S,E,v,Q,tt)}return V("group"),V("name"),V("traces"),V("baseframe"),V("data"),V("layout"),E},b.supplyTraceDefaults=function(S,E,V,Q,tt){var rt,ot=Q.colorway||o.defaults,H=ot[V%ot.length];function F(Lt,It){return l.coerce(S,E,b.attributes,Lt,It)}var R=F("visible");F("type"),F("name",Q._traceWord+" "+tt),F("uirevision",Q.uirevision);var j=b.getModule(E);if(E._module=j,j){var J=j.basePlotModule,q=J.attr,$=J.attributes;if(q&&$){var et=Q._subplots,st="";if(R||J.name!=="gl2d"){if(Array.isArray(q))for(rt=0;rt<q.length;rt++){var yt=q[rt],St=l.coerce(S,E,$,yt);et[yt]&&l.pushUnique(et[yt],St),st+=St}else st=l.coerce(S,E,$,q);et[J.name]&&l.pushUnique(et[J.name],st)}}}return R&&(F("customdata"),F("ids"),F("meta"),e.traceIs(E,"showLegend")?(l.coerce(S,E,j.attributes.showlegend?j.attributes:b.attributes,"showlegend"),F("legend"),F("legendwidth"),F("legendgroup"),F("legendgrouptitle.text"),F("legendrank"),E._dfltShowLegend=!0):E._dfltShowLegend=!1,j&&j.supplyDefaults(S,E,H,Q),e.traceIs(E,"noOpacity")||F("opacity"),e.traceIs(E,"notLegendIsolatable")&&(E.visible=!!E.visible),e.traceIs(E,"noHover")||(E.hovertemplate||l.coerceHoverinfo(S,E,Q),E.type!=="parcats"&&e.getComponentMethod("fx","supplyDefaults")(S,E,H,Q)),j&&j.selectPoints&&F("selectedpoints"),b.supplyTransformDefaults(S,E,Q)),E},b.hasMakesDataTransform=_,b.supplyTransformDefaults=function(S,E,V){if(E._length||_(S)){var Q=V._globalTransforms||[],tt=V._transformModules||[];if(Array.isArray(S.transforms)||Q.length!==0)for(var rt=S.transforms||[],ot=Q.concat(rt),H=E.transforms=[],F=0;F<ot.length;F++){var R,j=ot[F],J=j.type,q=T[J],$=!(j._module&&j._module===q),et=q&&typeof q.transform=="function";q||l.warn("Unrecognized transform type "+J+"."),q&&q.supplyDefaults&&($||et)?((R=q.supplyDefaults(j,E,V,S)).type=J,R._module=q,l.pushUnique(tt,q)):R=l.extendFlat({},j),H.push(R)}}},b.supplyLayoutGlobalDefaults=function(S,E,V){function Q(j,J){return l.coerce(S,E,b.layoutAttributes,j,J)}var tt=S.template;l.isPlainObject(tt)&&(E.template=tt,E._template=tt.layout,E._dataTemplate=tt.data),Q("autotypenumbers");var rt=l.coerceFont(Q,"font"),ot=rt.size;l.coerceFont(Q,"title.font",l.extendFlat({},rt,{size:Math.round(1.4*ot)})),Q("title.text",E._dfltTitle.plot),Q("title.xref");var H=Q("title.yref");Q("title.pad.t"),Q("title.pad.r"),Q("title.pad.b"),Q("title.pad.l");var F=Q("title.automargin");Q("title.x"),Q("title.xanchor"),Q("title.y"),Q("title.yanchor"),F&&(H==="paper"&&(E.title.y!==0&&(E.title.y=1),E.title.yanchor==="auto"&&(E.title.yanchor=E.title.y===0?"top":"bottom")),H==="container"&&(E.title.y==="auto"&&(E.title.y=1),E.title.yanchor==="auto"&&(E.title.yanchor=E.title.y<.5?"bottom":"top"))),Q("uniformtext.mode")&&Q("uniformtext.minsize"),Q("autosize",!(S.width&&S.height)),Q("width"),Q("height"),Q("minreducedwidth"),Q("minreducedheight"),Q("margin.l"),Q("margin.r"),Q("margin.t"),Q("margin.b"),Q("margin.pad"),Q("margin.autoexpand"),S.width&&S.height&&b.sanitizeMargins(E),e.getComponentMethod("grid","sizeDefaults")(S,E),Q("paper_bgcolor"),Q("separators",V.decimal+V.thousands),Q("hidesources"),Q("colorway"),Q("datarevision");var R=Q("uirevision");Q("editrevision",R),Q("selectionrevision",R),e.getComponentMethod("modebar","supplyLayoutDefaults")(S,E),e.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(S,E,Q),e.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(S,E,Q),Q("meta"),l.isPlainObject(S.transition)&&(Q("transition.duration"),Q("transition.easing"),Q("transition.ordering")),e.getComponentMethod("calendars","handleDefaults")(S,E,"calendar"),e.getComponentMethod("fx","supplyLayoutGlobalDefaults")(S,E,Q),l.coerce(S,E,y,"scattermode")},b.plotAutoSize=function(S,E,V){var Q,tt,rt=S._context||{},ot=rt.frameMargins,H=l.isPlotDiv(S);if(H&&S.emit("plotly_autosize"),rt.fillFrame)Q=window.innerWidth,tt=window.innerHeight,document.body.style.overflow="hidden";else{var F=H?window.getComputedStyle(S):{};if(Q=O(F.width)||O(F.maxWidth)||V.width,tt=O(F.height)||O(F.maxHeight)||V.height,n(ot)&&ot>0){var R=1-2*ot;Q=Math.round(R*Q),tt=Math.round(R*tt)}}var j=b.layoutAttributes.width.min,J=b.layoutAttributes.height.min;Q<j&&(Q=j),tt<J&&(tt=J);var q=!E.width&&Math.abs(V.width-Q)>1,$=!E.height&&Math.abs(V.height-tt)>1;($||q)&&(q&&(V.width=Q),$&&(V.height=tt)),S._initialAutoSize||(S._initialAutoSize={width:Q,height:tt}),b.sanitizeMargins(V)},b.supplyLayoutModuleDefaults=function(S,E,V,Q){var tt,rt,ot,H=e.componentsRegistry,F=E._basePlotModules,R=e.subplotsRegistry.cartesian;for(tt in H)(ot=H[tt]).includeBasePlot&&ot.includeBasePlot(S,E);for(var j in F.length||F.push(R),E._has("cartesian")&&(e.getComponentMethod("grid","contentDefaults")(S,E),R.finalizeSubplots(S,E)),E._subplots)E._subplots[j].sort(l.subplotSort);for(rt=0;rt<F.length;rt++)(ot=F[rt]).supplyLayoutDefaults&&ot.supplyLayoutDefaults(S,E,V);var J=E._modules;for(rt=0;rt<J.length;rt++)(ot=J[rt]).supplyLayoutDefaults&&ot.supplyLayoutDefaults(S,E,V);var q=E._transformModules;for(rt=0;rt<q.length;rt++)(ot=q[rt]).supplyLayoutDefaults&&ot.supplyLayoutDefaults(S,E,V,Q);for(tt in H)(ot=H[tt]).supplyLayoutDefaults&&ot.supplyLayoutDefaults(S,E,V)},b.purge=function(S){var E=S._fullLayout||{};E._glcontainer!==void 0&&(E._glcontainer.selectAll(".gl-canvas").remove(),E._glcontainer.remove(),E._glcanvas=null),E._modeBar&&E._modeBar.destroy(),S._transitionData&&(S._transitionData._interruptCallbacks&&(S._transitionData._interruptCallbacks.length=0),S._transitionData._animationRaf&&window.cancelAnimationFrame(S._transitionData._animationRaf)),l.clearThrottle(),l.clearResponsive(S),delete S.data,delete S.layout,delete S._fullData,delete S._fullLayout,delete S.calcdata,delete S.empty,delete S.fid,delete S.undoqueue,delete S.undonum,delete S.autoplay,delete S.changed,delete S._promises,delete S._redrawTimer,delete S._hmlumcount,delete S._hmpixcount,delete S._transitionData,delete S._transitioning,delete S._initialAutoSize,delete S._transitioningWithDuration,delete S._dragging,delete S._dragged,delete S._dragdata,delete S._hoverdata,delete S._snapshotInProgress,delete S._editing,delete S._mouseDownTime,delete S._legendMouseDownTime,S.removeAllListeners&&S.removeAllListeners()},b.style=function(S){var E,V=S._fullLayout._visibleModules,Q=[];for(E=0;E<V.length;E++){var tt=V[E];tt.style&&l.pushUnique(Q,tt.style)}for(E=0;E<Q.length;E++)Q[E](S)},b.sanitizeMargins=function(S){if(S&&S.margin){var E,V=S.width,Q=S.height,tt=S.margin,rt=V-(tt.l+tt.r),ot=Q-(tt.t+tt.b);rt<0&&(E=(V-1)/(tt.l+tt.r),tt.l=Math.floor(E*tt.l),tt.r=Math.floor(E*tt.r)),ot<0&&(E=(Q-1)/(tt.t+tt.b),tt.t=Math.floor(E*tt.t),tt.b=Math.floor(E*tt.b))}},b.clearAutoMarginIds=function(S){S._fullLayout._pushmarginIds={}},b.allowAutoMargin=function(S,E){S._fullLayout._pushmarginIds[E]=1},b.autoMargin=function(S,E,V){var Q=S._fullLayout,tt=Q.width,rt=Q.height,ot=Q.margin,H=Q.minreducedwidth,F=Q.minreducedheight,R=l.constrain(tt-ot.l-ot.r,2,H),j=l.constrain(rt-ot.t-ot.b,2,F),J=Math.max(0,tt-R),q=Math.max(0,rt-j),$=Q._pushmargin,et=Q._pushmarginIds;if(ot.autoexpand!==!1){if(V){var st=V.pad;if(st===void 0&&(st=Math.min(12,ot.l,ot.r,ot.t,ot.b)),J){var yt=(V.l+V.r)/J;yt>1&&(V.l/=yt,V.r/=yt)}if(q){var St=(V.t+V.b)/q;St>1&&(V.t/=St,V.b/=St)}var Lt=V.xl!==void 0?V.xl:V.x,It=V.xr!==void 0?V.xr:V.x,it=V.yt!==void 0?V.yt:V.y,ft=V.yb!==void 0?V.yb:V.y;$[E]={l:{val:Lt,size:V.l+st},r:{val:It,size:V.r+st},b:{val:ft,size:V.b+st},t:{val:it,size:V.t+st}},et[E]=1}else delete $[E],delete et[E];if(!Q._replotting)return b.doAutoMargin(S)}},b.doAutoMargin=function(S){var E=S._fullLayout,V=E.width,Q=E.height;E._size||(E._size={}),N(E);var tt=E._size,rt=E.margin,ot={t:0,b:0,l:0,r:0},H=l.extendFlat({},tt),F=rt.l,R=rt.r,j=rt.t,J=rt.b,q=E._pushmargin,$=E._pushmarginIds,et=E.minreducedwidth,st=E.minreducedheight;if(rt.autoexpand!==!1){for(var yt in q)$[yt]||delete q[yt];var St=S._fullLayout._reservedMargin;for(var Lt in St)for(var It in St[Lt]){var it=St[Lt][It];ot[It]=Math.max(ot[It],it)}for(var ft in q.base={l:{val:0,size:F},r:{val:1,size:R},t:{val:1,size:j},b:{val:0,size:J}},ot){var dt=0;for(var xt in q)xt!=="base"&&n(q[xt][ft].size)&&(dt=q[xt][ft].size>dt?q[xt][ft].size:dt);var Pt=Math.max(0,rt[ft]-dt);ot[ft]=Math.max(0,ot[ft]-Pt)}for(var Ct in q){var lt=q[Ct].l||{},ht=q[Ct].b||{},vt=lt.val,gt=lt.size,mt=ht.val,Tt=ht.size,kt=V-ot.r-ot.l,_t=Q-ot.t-ot.b;for(var At in q){if(n(gt)&&q[At].r){var Mt=q[At].r.val,Rt=q[At].r.size;if(Mt>vt){var Yt=(gt*Mt+(Rt-kt)*vt)/(Mt-vt),zt=(Rt*(1-vt)+(gt-kt)*(1-Mt))/(Mt-vt);Yt+zt>F+R&&(F=Yt,R=zt)}}if(n(Tt)&&q[At].t){var Xt=q[At].t.val,Kt=q[At].t.size;if(Xt>mt){var se=(Tt*Xt+(Kt-_t)*mt)/(Xt-mt),de=(Kt*(1-mt)+(Tt-_t)*(1-Xt))/(Xt-mt);se+de>J+j&&(J=se,j=de)}}}}}var xe=l.constrain(V-rt.l-rt.r,2,et),Dt=l.constrain(Q-rt.t-rt.b,2,st),wt=Math.max(0,V-xe),Ut=Math.max(0,Q-Dt);if(wt){var Wt=(F+R)/wt;Wt>1&&(F/=Wt,R/=Wt)}if(Ut){var me=(J+j)/Ut;me>1&&(J/=me,j/=me)}if(tt.l=Math.round(F)+ot.l,tt.r=Math.round(R)+ot.r,tt.t=Math.round(j)+ot.t,tt.b=Math.round(J)+ot.b,tt.p=Math.round(rt.pad),tt.w=Math.round(V)-tt.l-tt.r,tt.h=Math.round(Q)-tt.t-tt.b,!E._replotting&&(b.didMarginChange(H,tt)||function(ne){if("_redrawFromAutoMarginCount"in ne._fullLayout)return!1;var ie=u.list(ne,"",!0);for(var _e in ie)if(ie[_e].autoshift||ie[_e].shift)return!0;return!1}(S))){"_redrawFromAutoMarginCount"in E?E._redrawFromAutoMarginCount++:E._redrawFromAutoMarginCount=1;var Vt=3*(1+Object.keys($).length);if(E._redrawFromAutoMarginCount<Vt)return e.call("_doPlot",S);E._size=H,l.warn("Too many auto-margin redraws.")}(function(ne){var ie=u.list(ne,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(_e){for(var he=0;he<ie.length;he++){var De=ie[he][_e];De&&De()}})})(S)};var G=["l","r","t","b","p","w","h"];function z(S,E,V){var Q=!1,tt=[b.previousPromises,function(){if(S._transitionData)return S._transitioning=!1,function(ot){var H=Promise.resolve();if(!ot)return H;for(;ot.length;)H=H.then(ot.shift());return H}(S._transitionData._interruptCallbacks)},V.prepareFn,b.rehover,b.reselect,function(){return S.emit("plotly_transitioning",[]),new Promise(function(ot){S._transitioning=!0,E.duration>0&&(S._transitioningWithDuration=!0),S._transitionData._interruptCallbacks.push(function(){Q=!0}),V.redraw&&S._transitionData._interruptCallbacks.push(function(){return e.call("redraw",S)}),S._transitionData._interruptCallbacks.push(function(){S.emit("plotly_transitioninterrupted",[])});var H=0,F=0;function R(){return H++,function(){var j;F++,Q||F!==H||(j=ot,S._transitionData&&(function(J){if(J)for(;J.length;)J.shift()}(S._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(V.redraw)return e.call("redraw",S)}).then(function(){S._transitioning=!1,S._transitioningWithDuration=!1,S.emit("plotly_transitioned",[])}).then(j)))}}V.runFn(R),setTimeout(R())})}],rt=l.syncOrAsync(tt,S);return rt&&rt.then||(rt=Promise.resolve()),rt.then(function(){return S})}b.didMarginChange=function(S,E){for(var V=0;V<G.length;V++){var Q=G[V],tt=S[Q],rt=E[Q];if(!n(tt)||Math.abs(rt-tt)>1)return!0}return!1},b.graphJson=function(S,E,V,Q,tt,rt){(tt&&E&&!S._fullData||tt&&!E&&!S._fullLayout)&&b.supplyDefaults(S);var ot=tt?S._fullData:S.data,H=tt?S._fullLayout:S.layout,F=(S._transitionData||{})._frames;function R(q,$){if(typeof q=="function")return $?"_function_":null;if(l.isPlainObject(q)){var et,st={};return Object.keys(q).sort().forEach(function(yt){if(["_","["].indexOf(yt.charAt(0))===-1)if(typeof q[yt]!="function"){if(V==="keepdata"){if(yt.substr(yt.length-3)==="src")return}else if(V==="keepstream"){if(typeof(et=q[yt+"src"])=="string"&&et.indexOf(":")>0&&!l.isPlainObject(q.stream))return}else if(V!=="keepall"&&typeof(et=q[yt+"src"])=="string"&&et.indexOf(":")>0)return;st[yt]=R(q[yt],$)}else $&&(st[yt]="_function")}),st}return Array.isArray(q)?q.map(function(yt){return R(yt,$)}):l.isTypedArray(q)?l.simpleMap(q,l.identity):l.isJSDate(q)?l.ms2DateTimeLocal(+q):q}var j={data:(ot||[]).map(function(q){var $=R(q);return E&&delete $.fit,$})};if(!E&&(j.layout=R(H),tt)){var J=H._size;j.layout.computed={margin:{b:J.b,l:J.l,r:J.r,t:J.t}}}return F&&(j.frames=R(F)),rt&&(j.config=R(S._context,!0)),Q==="object"?j:JSON.stringify(j)},b.modifyFrames=function(S,E){var V,Q,tt,rt=S._transitionData._frames,ot=S._transitionData._frameHash;for(V=0;V<E.length;V++)switch((Q=E[V]).type){case"replace":tt=Q.value;var H=(rt[Q.index]||{}).name,F=tt.name;rt[Q.index]=ot[F]=tt,F!==H&&(delete ot[H],ot[F]=tt);break;case"insert":ot[(tt=Q.value).name]=tt,rt.splice(Q.index,0,tt);break;case"delete":delete ot[(tt=rt[Q.index]).name],rt.splice(Q.index,1)}return Promise.resolve()},b.computeFrame=function(S,E){var V,Q,tt,rt,ot=S._transitionData._frameHash;if(!E)throw new Error("computeFrame must be given a string frame name");var H=ot[E.toString()];if(!H)return!1;for(var F=[H],R=[H.name];H.baseframe&&(H=ot[H.baseframe.toString()])&&R.indexOf(H.name)===-1;)F.push(H),R.push(H.name);for(var j={};H=F.pop();)if(H.layout&&(j.layout=b.extendLayout(j.layout,H.layout)),H.data){if(j.data||(j.data=[]),!(Q=H.traces))for(Q=[],V=0;V<H.data.length;V++)Q[V]=V;for(j.traces||(j.traces=[]),V=0;V<H.data.length;V++)(tt=Q[V])!=null&&((rt=j.traces.indexOf(tt))===-1&&(rt=j.data.length,j.traces[rt]=tt),j.data[rt]=b.extendTrace(j.data[rt],H.data[V]))}return j},b.recomputeFrameHash=function(S){for(var E=S._transitionData._frameHash={},V=S._transitionData._frames,Q=0;Q<V.length;Q++){var tt=V[Q];tt&&tt.name&&(E[tt.name]=tt)}},b.extendObjectWithContainers=function(S,E,V){var Q,tt,rt,ot,H,F,R,j=l.extendDeepNoArrays({},E||{}),J=l.expandObjectPaths(j),q={};if(V&&V.length)for(rt=0;rt<V.length;rt++)(tt=(Q=l.nestedProperty(J,V[rt])).get())===void 0?l.nestedProperty(q,V[rt]).set(null):(Q.set(null),l.nestedProperty(q,V[rt]).set(tt));if(S=l.extendDeepNoArrays(S||{},J),V&&V.length){for(rt=0;rt<V.length;rt++)if(F=l.nestedProperty(q,V[rt]).get()){for(R=(H=l.nestedProperty(S,V[rt])).get(),Array.isArray(R)||(R=[],H.set(R)),ot=0;ot<F.length;ot++){var $=F[ot];R[ot]=$===null?null:b.extendObjectWithContainers(R[ot],$)}H.set(R)}}return S},b.dataArrayContainers=["transforms","dimensions"],b.layoutArrayContainers=e.layoutArrayContainers,b.extendTrace=function(S,E){return b.extendObjectWithContainers(S,E,b.dataArrayContainers)},b.extendLayout=function(S,E){return b.extendObjectWithContainers(S,E,b.layoutArrayContainers)},b.transition=function(S,E,V,Q,tt,rt){var ot={redraw:tt.redraw},H={},F=[];return ot.prepareFn=function(){for(var R=Array.isArray(E)?E.length:0,j=Q.slice(0,R),J=0;J<j.length;J++){var q=j[J],$=S._fullData[q]._module;if($){if($.animatable){var et=$.basePlotModule.name;H[et]||(H[et]=[]),H[et].push(q)}S.data[j[J]]=b.extendTrace(S.data[j[J]],E[J])}}var st=l.expandObjectPaths(l.extendDeepNoArrays({},V)),yt=/^[xy]axis[0-9]*$/;for(var St in st)yt.test(St)&&delete st[St].range;b.extendLayout(S.layout,st),delete S.calcdata,b.supplyDefaults(S),b.doCalcdata(S);var Lt=l.expandObjectPaths(V);if(Lt){var It=S._fullLayout._plots;for(var it in It){var ft=It[it],dt=ft.xaxis,xt=ft.yaxis,Pt=dt.range.slice(),Ct=xt.range.slice(),lt=null,ht=null,vt=null,gt=null;Array.isArray(Lt[dt._name+".range"])?lt=Lt[dt._name+".range"].slice():Array.isArray((Lt[dt._name]||{}).range)&&(lt=Lt[dt._name].range.slice()),Array.isArray(Lt[xt._name+".range"])?ht=Lt[xt._name+".range"].slice():Array.isArray((Lt[xt._name]||{}).range)&&(ht=Lt[xt._name].range.slice()),Pt&&lt&&(dt.r2l(Pt[0])!==dt.r2l(lt[0])||dt.r2l(Pt[1])!==dt.r2l(lt[1]))&&(vt={xr0:Pt,xr1:lt}),Ct&&ht&&(xt.r2l(Ct[0])!==xt.r2l(ht[0])||xt.r2l(Ct[1])!==xt.r2l(ht[1]))&&(gt={yr0:Ct,yr1:ht}),(vt||gt)&&F.push(l.extendFlat({plotinfo:ft},vt,gt))}}return Promise.resolve()},ot.runFn=function(R){var j,J,q=S._fullLayout._basePlotModules,$=F.length;if(V)for(J=0;J<q.length;J++)q[J].transitionAxes&&q[J].transitionAxes(S,F,rt,R);for(var et in $?((j=l.extendFlat({},rt)).duration=0,delete H.cartesian):j=rt,H){var st=H[et];S._fullData[st[0]]._module.basePlotModule.plot(S,st,j,R)}},z(S,rt,ot)},b.transitionFromReact=function(S,E,V,Q){var tt=S._fullLayout,rt=tt.transition,ot={},H=[];return ot.prepareFn=function(){var F=tt._plots;for(var R in ot.redraw=!1,E.anim==="some"&&(ot.redraw=!0),V.anim==="some"&&(ot.redraw=!0),F){var j=F[R],J=j.xaxis,q=j.yaxis,$=Q[J._name].range.slice(),et=Q[q._name].range.slice(),st=J.range.slice(),yt=q.range.slice();J.setScale(),q.setScale();var St=null,Lt=null;J.r2l($[0])===J.r2l(st[0])&&J.r2l($[1])===J.r2l(st[1])||(St={xr0:$,xr1:st}),q.r2l(et[0])===q.r2l(yt[0])&&q.r2l(et[1])===q.r2l(yt[1])||(Lt={yr0:et,yr1:yt}),(St||Lt)&&H.push(l.extendFlat({plotinfo:j},St,Lt))}return Promise.resolve()},ot.runFn=function(F){for(var R,j,J,q=S._fullData,$=S._fullLayout._basePlotModules,et=[],st=0;st<q.length;st++)et.push(st);function yt(){if(S._fullLayout)for(var Lt=0;Lt<$.length;Lt++)$[Lt].transitionAxes&&$[Lt].transitionAxes(S,H,R,F)}function St(){if(S._fullLayout)for(var Lt=0;Lt<$.length;Lt++)$[Lt].plot(S,J,j,F)}H.length&&E.anim?rt.ordering==="traces first"?(R=l.extendFlat({},rt,{duration:0}),J=et,j=rt,setTimeout(yt,rt.duration),St()):(R=rt,J=null,j=l.extendFlat({},rt,{duration:0}),setTimeout(St,R.duration),yt()):H.length?(R=rt,yt()):E.anim&&(J=et,j=rt,St())},z(S,rt,ot)},b.doCalcdata=function(S,E){var V,Q,tt,rt,ot=u.list(S),H=S._fullData,F=S._fullLayout,R=new Array(H.length),j=(S.calcdata||[]).slice();for(S.calcdata=R,F._numBoxes=0,F._numViolins=0,F._violinScaleGroupStats={},S._hmpixcount=0,S._hmlumcount=0,F._piecolormap={},F._sunburstcolormap={},F._treemapcolormap={},F._iciclecolormap={},F._funnelareacolormap={},tt=0;tt<H.length;tt++)Array.isArray(E)&&E.indexOf(tt)===-1&&(R[tt]=j[tt]);for(tt=0;tt<H.length;tt++)(V=H[tt])._arrayAttrs=r.findArrayAttributes(V),V._extremes={};var J=F._subplots.polar||[];for(tt=0;tt<J.length;tt++)ot.push(F[J[tt]].radialaxis,F[J[tt]].angularaxis);for(var q in F._colorAxes){var $=F[q];$.cauto!==!1&&(delete $.cmin,delete $.cmax)}var et=!1;function st(Lt){if(V=H[Lt],Q=V._module,V.visible===!0&&V.transforms){if(Q&&Q.calc){var It=Q.calc(S,V);It[0]&&It[0].t&&It[0].t._scene&&delete It[0].t._scene.dirty}for(rt=0;rt<V.transforms.length;rt++){var it=V.transforms[rt];(Q=T[it.type])&&Q.calcTransform&&(V._hasCalcTransform=!0,et=!0,Q.calcTransform(S,V,it))}}}function yt(Lt,It){if(V=H[Lt],!!(Q=V._module).isContainer===It){var it=[];if(V.visible===!0&&V._length!==0){delete V._indexToPoints;var ft=V.transforms||[];for(rt=ft.length-1;rt>=0;rt--)if(ft[rt].enabled){V._indexToPoints=ft[rt]._indexToPoints;break}Q&&Q.calc&&(it=Q.calc(S,V))}Array.isArray(it)&&it[0]||(it=[{x:c,y:c}]),it[0].t||(it[0].t={}),it[0].trace=V,R[Lt]=it}}for(Z(ot,H,F),tt=0;tt<H.length;tt++)yt(tt,!0);for(tt=0;tt<H.length;tt++)st(tt);for(et&&Z(ot,H,F),tt=0;tt<H.length;tt++)yt(tt,!0);for(tt=0;tt<H.length;tt++)yt(tt,!1);nt(S);var St=function(Lt,It){var it,ft,dt,xt,Pt,Ct=[];function lt(_e,he,De){var fe=he._id.charAt(0);if(_e==="histogram2dcontour"){var K=he._counterAxes[0],at=u.getFromId(It,K),Et=fe==="x"||K==="x"&&at.type==="category",Ot=fe==="y"||K==="y"&&at.type==="category";return function(Bt,Nt){return Bt===0||Nt===0||Et&&Bt===De[Nt].length-1||Ot&&Nt===De.length-1?-1:(fe==="y"?Nt:Bt)-1}}return function(Bt,Nt){return fe==="y"?Nt:Bt}}var ht={min:function(_e){return l.aggNums(Math.min,null,_e)},max:function(_e){return l.aggNums(Math.max,null,_e)},sum:function(_e){return l.aggNums(function(he,De){return he+De},null,_e)},total:function(_e){return l.aggNums(function(he,De){return he+De},null,_e)},mean:function(_e){return l.mean(_e)},median:function(_e){return l.median(_e)}};function vt(_e,he){return _e[1]-he[1]}function gt(_e,he){return he[1]-_e[1]}for(it=0;it<Lt.length;it++){var mt=Lt[it];if(mt.type==="category"){var Tt=mt.categoryorder.match(Y);if(Tt){var kt=Tt[1],_t=Tt[2],At=mt._id.charAt(0),Mt=At==="x",Rt=[];for(ft=0;ft<mt._categories.length;ft++)Rt.push([mt._categories[ft],[]]);for(ft=0;ft<mt._traceIndices.length;ft++){var Yt=mt._traceIndices[ft],zt=It._fullData[Yt];if(zt.visible===!0){var Xt=zt.type;e.traceIs(zt,"histogram")&&(delete zt._xautoBinFinished,delete zt._yautoBinFinished);var Kt=Xt==="splom",se=Xt==="scattergl",de=It.calcdata[Yt];for(dt=0;dt<de.length;dt++){var xe,Dt,wt=de[dt];if(Kt){var Ut=zt._axesDim[mt._id];if(!Mt){var Wt=zt._diag[Ut][0];Wt&&(mt=It._fullLayout[u.id2name(Wt)])}var me=wt.trace.dimensions[Ut].values;for(xt=0;xt<me.length;xt++)for(xe=mt._categoriesMap[me[xt]],Pt=0;Pt<wt.trace.dimensions.length;Pt++)if(Pt!==Ut){var Vt=wt.trace.dimensions[Pt];Rt[xe][1].push(Vt.values[xt])}}else if(se){for(xt=0;xt<wt.t.x.length;xt++)Mt?(xe=wt.t.x[xt],Dt=wt.t.y[xt]):(xe=wt.t.y[xt],Dt=wt.t.x[xt]),Rt[xe][1].push(Dt);wt.t&&wt.t._scene&&delete wt.t._scene.dirty}else if(wt.hasOwnProperty("z")){Dt=wt.z;var ne=lt(zt.type,mt,Dt);for(xt=0;xt<Dt.length;xt++)for(Pt=0;Pt<Dt[xt].length;Pt++)(xe=ne(Pt,xt))+1&&Rt[xe][1].push(Dt[xt][Pt])}else for((xe=wt.p)===void 0&&(xe=wt[At]),(Dt=wt.s)===void 0&&(Dt=wt.v),Dt===void 0&&(Dt=Mt?wt.y:wt.x),Array.isArray(Dt)||(Dt=Dt===void 0?[]:[Dt]),xt=0;xt<Dt.length;xt++)Rt[xe][1].push(Dt[xt])}}}mt._categoriesValue=Rt;var ie=[];for(ft=0;ft<Rt.length;ft++)ie.push([Rt[ft][0],ht[kt](Rt[ft][1])]);ie.sort(_t==="descending"?gt:vt),mt._categoriesAggregatedValue=ie,mt._initialCategories=ie.map(function(_e){return _e[0]}),Ct=Ct.concat(mt.sortByInitialCategories())}}}return Ct}(ot,S);if(St.length){for(F._numBoxes=0,F._numViolins=0,tt=0;tt<St.length;tt++)yt(St[tt],!0);for(tt=0;tt<St.length;tt++)yt(St[tt],!1);nt(S)}e.getComponentMethod("fx","calc")(S),e.getComponentMethod("errorbars","calc")(S)};var Y=/(total|sum|min|max|mean|median) (ascending|descending)/;function Z(S,E,V){var Q={};function tt(F){F.clearCalc(),F.type==="multicategory"&&F.setupMultiCategory(E),Q[F._id]=1}l.simpleMap(S,tt);for(var rt=V._axisMatchGroups||[],ot=0;ot<rt.length;ot++)for(var H in rt[ot])Q[H]||tt(V[u.id2name(H)])}function nt(S){var E,V,Q,tt=S._fullLayout,rt=tt._visibleModules,ot={};for(V=0;V<rt.length;V++){var H=rt[V],F=H.crossTraceCalc;if(F){var R=H.basePlotModule.name;ot[R]?l.pushUnique(ot[R],F):ot[R]=[F]}}for(Q in ot){var j=ot[Q],J=tt._subplots[Q];if(Array.isArray(J))for(E=0;E<J.length;E++){var q=J[E],$=Q==="cartesian"?tt._plots[q]:tt[q];for(V=0;V<j.length;V++)j[V](S,$,q)}else for(V=0;V<j.length;V++)j[V](S)}}b.rehover=function(S){S._fullLayout._rehover&&S._fullLayout._rehover()},b.redrag=function(S){S._fullLayout._redrag&&S._fullLayout._redrag()},b.reselect=function(S){var E=S._fullLayout,V=(S.layout||{}).selections,Q=E._previousSelections;E._previousSelections=V;var tt=E._reselect||JSON.stringify(V)!==JSON.stringify(Q);e.getComponentMethod("selections","reselect")(S,tt)},b.generalUpdatePerTraceModule=function(S,E,V,Q){var tt,rt=E.traceHash,ot={};for(tt=0;tt<V.length;tt++){var H=V[tt],F=H[0].trace;F.visible&&(ot[F.type]=ot[F.type]||[],ot[F.type].push(H))}for(var R in rt)if(!ot[R]){var j=rt[R][0];j[0].trace.visible=!1,ot[R]=[j]}for(var J in ot){var q=ot[J];q[0][0].trace._module.plot(S,E,l.filterVisible(q),Q)}E.traceHash=ot},b.plotBasePlot=function(S,E,V,Q,tt){var rt=e.getModule(S),ot=x(E.calcdata,rt)[0];rt.plot(E,ot,Q,tt)},b.cleanBasePlot=function(S,E,V,Q,tt){var rt=tt._has&&tt._has(S),ot=V._has&&V._has(S);rt&&!ot&&tt["_"+S+"layer"].selectAll("g.trace").remove()}},5386:function(X,d,t){var f=t(1562);function g(a){var n=a.description?" "+a.description:"",e=a.keys||[];if(e.length>0){for(var r=[],i=0;i<e.length;i++)r[i]="`"+e[i]+"`";n+="Finally, the template string has access to ",n=e.length===1?n+"variable "+r[0]:n+"variables "+r.slice(0,-1).join(", ")+" and "+r.slice(-1)+"."}return n}f.FORMAT_LINK,f.DATE_FORMAT_LINK,d.fF=function(a,n){a=a||{},g(n=n||{});var e={valType:"string",dflt:"",editType:a.editType||"none"};return a.arrayOk!==!1&&(e.arrayOk=!0),e},d.si=function(a,n){a=a||{},g(n=n||{});var e={valType:"string",dflt:"",editType:a.editType||"calc"};return a.arrayOk!==!1&&(e.arrayOk=!0),e},d.R=function(a,n){return n=n||{},(a=a||{}).newshape,g(n),{valType:"string",dflt:"",editType:a.editType||"arraydraw"}}},3972:function(X,d,t){var f=t(7769),g=t(4213),a=t(5138),n=t(1965),e=t(4401).addStyleRule,r=t(1426),i=t(9012),l=t(820),o=r.extendFlat,c=r.extendDeepAll;function u(T){var A=T.name,P=T.categories,k=T.meta;if(d.modules[A])f.log("Type "+A+" already registered");else{d.subplotsRegistry[T.basePlotModule.name]||function(z){var Y=z.name;if(d.subplotsRegistry[Y])f.log("Plot type "+Y+" already registered.");else for(var Z in v(z),d.subplotsRegistry[Y]=z,d.componentsRegistry)p(Z,z.name)}(T.basePlotModule);for(var L={},D=0;D<P.length;D++)L[P[D]]=!0,d.allCategories[P[D]]=!0;for(var _ in d.modules[A]={_module:T,categories:L},k&&Object.keys(k).length&&(d.modules[A].meta=k),d.allTypes.push(A),d.componentsRegistry)x(_,A);T.layoutAttributes&&o(d.traceLayoutAttributes,T.layoutAttributes);var I=T.basePlotModule,O=I.name;if(O==="mapbox"){var N=I.constants.styleRules;for(var G in N)e(".js-plotly-plot .plotly .mapboxgl-"+G,N[G])}O!=="geo"&&O!=="mapbox"||window.PlotlyGeoAssets!==void 0||(window.PlotlyGeoAssets={topojson:{}})}}function h(T){if(typeof T.name!="string")throw new Error("Component module *name* must be a string.");var A=T.name;for(var P in d.componentsRegistry[A]=T,T.layoutAttributes&&(T.layoutAttributes._isLinkedToArray&&a(d.layoutArrayContainers,A),v(T)),d.modules)x(A,P);for(var k in d.subplotsRegistry)p(A,k);for(var L in d.transformsRegistry)w(A,L);T.schema&&T.schema.layout&&c(l,T.schema.layout)}function y(T){if(typeof T.name!="string")throw new Error("Transform module *name* must be a string.");var A="Transform module "+T.name,P=typeof T.transform=="function",k=typeof T.calcTransform=="function";if(!P&&!k)throw new Error(A+" is missing a *transform* or *calcTransform* method.");for(var L in P&&k&&f.log([A+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),n(T.attributes)||f.log(A+" registered without an *attributes* object."),typeof T.supplyDefaults!="function"&&f.log(A+" registered without a *supplyDefaults* method."),d.transformsRegistry[T.name]=T,d.componentsRegistry)w(L,T.name)}function m(T){var A=T.name,P=A.split("-")[0],k=T.dictionary,L=T.format,D=k&&Object.keys(k).length,_=L&&Object.keys(L).length,I=d.localeRegistry,O=I[A];if(O||(I[A]=O={}),P!==A){var N=I[P];N||(I[P]=N={}),D&&N.dictionary===O.dictionary&&(N.dictionary=k),_&&N.format===O.format&&(N.format=L)}D&&(O.dictionary=k),_&&(O.format=L)}function v(T){if(T.layoutAttributes){var A=T.layoutAttributes._arrayAttrRegexps;if(A)for(var P=0;P<A.length;P++)a(d.layoutArrayRegexes,A[P])}}function x(T,A){var P=d.componentsRegistry[T].schema;if(P&&P.traces){var k=P.traces[A];k&&c(d.modules[A]._module.attributes,k)}}function w(T,A){var P=d.componentsRegistry[T].schema;if(P&&P.transforms){var k=P.transforms[A];k&&c(d.transformsRegistry[A].attributes,k)}}function p(T,A){var P=d.componentsRegistry[T].schema;if(P&&P.subplots){var k=d.subplotsRegistry[A],L=k.layoutAttributes,D=k.attr==="subplot"?k.name:k.attr;Array.isArray(D)&&(D=D[0]);var _=P.subplots[D];L&&_&&c(L,_)}}function b(T){return typeof T=="object"&&(T=T.type),T}d.modules={},d.allCategories={},d.allTypes=[],d.subplotsRegistry={},d.transformsRegistry={},d.componentsRegistry={},d.layoutArrayContainers=[],d.layoutArrayRegexes=[],d.traceLayoutAttributes={},d.localeRegistry={},d.apiMethodRegistry={},d.collectableSubplotTypes=null,d.register=function(T){if(d.collectableSubplotTypes=null,!T)throw new Error("No argument passed to Plotly.register.");T&&!Array.isArray(T)&&(T=[T]);for(var A=0;A<T.length;A++){var P=T[A];if(!P)throw new Error("Invalid module was attempted to be registered!");switch(P.moduleType){case"trace":u(P);break;case"transform":y(P);break;case"component":h(P);break;case"locale":m(P);break;case"apiMethod":var k=P.name;d.apiMethodRegistry[k]=P.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},d.getModule=function(T){var A=d.modules[b(T)];return!!A&&A._module},d.traceIs=function(T,A){if((T=b(T))==="various")return!1;var P=d.modules[T];return P||(T&&f.log("Unrecognized trace type "+T+"."),P=d.modules[i.type.dflt]),!!P.categories[A]},d.getTransformIndices=function(T,A){for(var P=[],k=T.transforms||[],L=0;L<k.length;L++)k[L].type===A&&P.push(L);return P},d.hasTransform=function(T,A){for(var P=T.transforms||[],k=0;k<P.length;k++)if(P[k].type===A)return!0;return!1},d.getComponentMethod=function(T,A){var P=d.componentsRegistry[T];return P&&P[A]||g},d.call=function(){var T=arguments[0],A=[].slice.call(arguments,1);return d.apiMethodRegistry[T].apply(null,A)}},1914:function(X,d,t){var f=t(3972),g=t(1828),a=g.extendFlat,n=g.extendDeep;function e(r){var i;switch(r){case"themes__thumb":i={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":i={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:i={}}return i}X.exports=function(r,i){var l,o,c=r.data,u=r.layout,h=n([],c),y=n({},u,e(i.tileClass)),m=r._context||{};if(i.width&&(y.width=i.width),i.height&&(y.height=i.height),i.tileClass==="thumbnail"||i.tileClass==="themes__thumb"){y.annotations=[];var v=Object.keys(y);for(l=0;l<v.length;l++)o=v[l],["xaxis","yaxis","zaxis"].indexOf(o.slice(0,5))>-1&&(y[v[l]].title={text:""});for(l=0;l<h.length;l++){var x=h[l];x.showscale=!1,x.marker&&(x.marker.showscale=!1),f.traceIs(x,"pie-like")&&(x.textposition="none")}}if(Array.isArray(i.annotations))for(l=0;l<i.annotations.length;l++)y.annotations.push(i.annotations[l]);var w=Object.keys(y).filter(function(P){return P.match(/^scene\d*$/)});if(w.length){var p={};for(i.tileClass==="thumbnail"&&(p={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),l=0;l<w.length;l++){var b=y[w[l]];b.xaxis||(b.xaxis={}),b.yaxis||(b.yaxis={}),b.zaxis||(b.zaxis={}),a(b.xaxis,p),a(b.yaxis,p),a(b.zaxis,p),b._scene=null}}var T=document.createElement("div");i.tileClass&&(T.className=i.tileClass);var A={gd:T,td:T,layout:y,data:h,config:{staticPlot:i.staticPlot===void 0||i.staticPlot,plotGlPixelRatio:i.plotGlPixelRatio===void 0?2:i.plotGlPixelRatio,displaylogo:i.displaylogo||!1,showLink:i.showLink||!1,showTips:i.showTips||!1,mapboxAccessToken:m.mapboxAccessToken}};return i.setBackground!=="transparent"&&(A.config.setBackground=i.setBackground||"opaque"),A.gd.defaultLayout=e(i.tileClass),A}},7239:function(X,d,t){var f=t(1828),g=t(403),a=t(2435),n=t(5095);X.exports=function(e,r){var i;return f.isPlainObject(e)||(i=f.getGraphDiv(e)),(r=r||{}).format=r.format||"png",r.width=r.width||null,r.height=r.height||null,r.imageDataOnly=!0,new Promise(function(l,o){i&&i._snapshotInProgress&&o(new Error("Snapshotting already in progress.")),f.isIE()&&r.format!=="svg"&&o(new Error(n.MSG_IE_BAD_FORMAT)),i&&(i._snapshotInProgress=!0);var c=g(e,r),u=r.filename||e.fn||"newplot";u+="."+r.format.replace("-","."),c.then(function(h){return i&&(i._snapshotInProgress=!1),a(h,u,r.format)}).then(function(h){l(h)}).catch(function(h){i&&(i._snapshotInProgress=!1),o(h)})})}},2435:function(X,d,t){var f=t(1828),g=t(5095);X.exports=function(a,n,e){var r=document.createElement("a"),i="download"in r;return new Promise(function(l,o){var c,u;if(f.isIE())return c=g.createBlob(a,"svg"),window.navigator.msSaveBlob(c,n),c=null,l(n);if(i)return c=g.createBlob(a,e),u=g.createObjectURL(c),r.href=u,r.download=n,document.body.appendChild(r),r.click(),document.body.removeChild(r),g.revokeObjectURL(u),c=null,l(n);if(f.isSafari()){var h=e==="svg"?",":";base64,";return g.octetStream(h+encodeURIComponent(a)),l(n)}o(new Error("download error"))})}},5095:function(X,d,t){var f=t(3972);d.getDelay=function(a){return a._has&&(a._has("gl3d")||a._has("gl2d")||a._has("mapbox"))?500:0},d.getRedrawFunc=function(a){return function(){f.getComponentMethod("colorbar","draw")(a)}},d.encodeSVG=function(a){return"data:image/svg+xml,"+encodeURIComponent(a)},d.encodeJSON=function(a){return"data:application/json,"+encodeURIComponent(a)};var g=window.URL||window.webkitURL;d.createObjectURL=function(a){return g.createObjectURL(a)},d.revokeObjectURL=function(a){return g.revokeObjectURL(a)},d.createBlob=function(a,n){if(n==="svg")return new window.Blob([a],{type:"image/svg+xml;charset=utf-8"});if(n==="full-json")return new window.Blob([a],{type:"application/json;charset=utf-8"});var e=function(r){for(var i=r.length,l=new ArrayBuffer(i),o=new Uint8Array(l),c=0;c<i;c++)o[c]=r.charCodeAt(c);return l}(window.atob(a));return new window.Blob([e],{type:"image/"+n})},d.octetStream=function(a){document.location.href="data:application/octet-stream"+a},d.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,d.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},4511:function(X,d,t){var f=t(5095),g={getDelay:f.getDelay,getRedrawFunc:f.getRedrawFunc,clone:t(1914),toSVG:t(5900),svgToImg:t(942),toImage:t(6395),downloadImage:t(7239)};X.exports=g},942:function(X,d,t){var f=t(1828),g=t(5398).EventEmitter,a=t(5095);X.exports=function(n){var e=n.emitter||new g,r=new Promise(function(i,l){var o=window.Image,c=n.svg,u=n.format||"png";if(f.isIE()&&u!=="svg"){var h=new Error(a.MSG_IE_BAD_FORMAT);return l(h),n.promise?r:e.emit("error",h)}var y,m,v=n.canvas,x=n.scale||1,w=n.width||300,p=n.height||150,b=x*w,T=x*p,A=v.getContext("2d",{willReadFrequently:!0}),P=new o;u==="svg"||f.isSafari()?m=a.encodeSVG(c):(y=a.createBlob(c,"svg"),m=a.createObjectURL(y)),v.width=b,v.height=T,P.onload=function(){var k;switch(y=null,a.revokeObjectURL(m),u!=="svg"&&A.drawImage(P,0,0,b,T),u){case"jpeg":k=v.toDataURL("image/jpeg");break;case"png":k=v.toDataURL("image/png");break;case"webp":k=v.toDataURL("image/webp");break;case"svg":k=m;break;default:var L="Image format is not jpeg, png, svg or webp.";if(l(new Error(L)),!n.promise)return e.emit("error",L)}i(k),n.promise||e.emit("success",k)},P.onerror=function(k){if(y=null,a.revokeObjectURL(m),l(k),!n.promise)return e.emit("error",k)},P.src=m});return n.promise?r:e}},6395:function(X,d,t){var f=t(5398).EventEmitter,g=t(3972),a=t(1828),n=t(5095),e=t(1914),r=t(5900),i=t(942);X.exports=function(l,o){var c=new f,u=e(l,{format:"png"}),h=u.gd;h.style.position="absolute",h.style.left="-5000px",document.body.appendChild(h);var y=n.getRedrawFunc(h);return g.call("_doPlot",h,u.data,u.layout,u.config).then(y).then(function(){var m=n.getDelay(h._fullLayout);setTimeout(function(){var v=r(h),x=document.createElement("canvas");x.id=a.randstr(),(c=i({format:o.format,width:h._fullLayout.width,height:h._fullLayout.height,canvas:x,emitter:c,svg:v})).clean=function(){h&&document.body.removeChild(h)}},m)}).catch(function(m){c.emit("error",m)}),c}},5900:function(X,d,t){var f=t(9898),g=t(1828),a=t(1424),n=t(7901),e=t(7922),r=/"/g,i="TOBESTRIPPED",l=new RegExp('("'+i+")|("+i+'")',"g");X.exports=function(o,c,u){var h,y=o._fullLayout,m=y._paper,v=y._toppaper,x=y.width,w=y.height;m.insert("rect",":first-child").call(a.setRect,0,0,x,w).call(n.fill,y.paper_bgcolor);var p=y._basePlotModules||[];for(h=0;h<p.length;h++){var b=p[h];b.toSVG&&b.toSVG(o)}if(v){var T=v.node().childNodes,A=Array.prototype.slice.call(T);for(h=0;h<A.length;h++){var P=A[h];P.childNodes.length&&m.node().appendChild(P)}}y._draggers&&y._draggers.remove(),m.node().style.background="",m.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var L=f.select(this);if(this.style.visibility!=="hidden"&&this.style.display!=="none"){L.style({visibility:null,display:null});var D=this.style.fontFamily;D&&D.indexOf('"')!==-1&&L.style("font-family",D.replace(r,i))}else L.remove()}),m.selectAll(".gradient_filled,.pattern_filled").each(function(){var L=f.select(this),D=this.style.fill;D&&D.indexOf("url(")!==-1&&L.style("fill",D.replace(r,i));var _=this.style.stroke;_&&_.indexOf("url(")!==-1&&L.style("stroke",_.replace(r,i))}),c!=="pdf"&&c!=="eps"||m.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),m.node().setAttributeNS(e.xmlns,"xmlns",e.svg),m.node().setAttributeNS(e.xmlns,"xmlns:xlink",e.xlink),c==="svg"&&u&&(m.attr("width",u*x),m.attr("height",u*w),m.attr("viewBox","0 0 "+x+" "+w));var k=new window.XMLSerializer().serializeToString(m.node());return k=(k=(k=function(L){var D=f.select("body").append("div").style({display:"none"}).html(""),_=L.replace(/(&[^;]*;)/gi,function(I){return I==="&lt;"?"&#60;":I==="&rt;"?"&#62;":I.indexOf("<")!==-1||I.indexOf(">")!==-1?"":D.html(I).text()});return D.remove(),_}(k)).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(l,"'"),g.isIE()&&(k=(k=(k=k.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),k}},5341:function(X,d,t){var f=t(1828);X.exports=function(g,a){for(var n=0;n<g.length;n++)g[n].i=n;f.mergeArray(a.text,g,"tx"),f.mergeArray(a.hovertext,g,"htx");var e=a.marker;if(e){f.mergeArray(e.opacity,g,"mo",!0),f.mergeArray(e.color,g,"mc");var r=e.line;r&&(f.mergeArray(r.color,g,"mlc"),f.mergeArrayCastPositive(r.width,g,"mlw"))}}},1486:function(X,d,t){var f=t(2196),g=t(2663).axisHoverFormat,a=t(5386).fF,n=t(5386).si,e=t(693),r=t(1940),i=t(7313),l=t(9952).u,o=t(1426).extendFlat,c=r({editType:"calc",arrayOk:!0,colorEditType:"style"}),u=o({},f.marker.line.width,{dflt:0}),h=o({width:u,editType:"calc"},e("marker.line")),y=o({line:h,editType:"calc"},e("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:l});X.exports={x:f.x,x0:f.x0,dx:f.dx,y:f.y,y0:f.y0,dy:f.dy,xperiod:f.xperiod,yperiod:f.yperiod,xperiod0:f.xperiod0,yperiod0:f.yperiod0,xperiodalignment:f.xperiodalignment,yperiodalignment:f.yperiodalignment,xhoverformat:g("x"),yhoverformat:g("y"),text:f.text,texttemplate:n({editType:"plot"},{keys:i.eventDataKeys}),hovertext:f.hovertext,hovertemplate:a({},{keys:i.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:o({},c,{}),insidetextfont:o({},c,{}),outsidetextfont:o({},c,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:o({},f.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:y,offsetgroup:f.offsetgroup,alignmentgroup:f.alignmentgroup,selected:{marker:{opacity:f.selected.marker.opacity,color:f.selected.marker.color,editType:"style"},textfont:f.selected.textfont,editType:"style"},unselected:{marker:{opacity:f.unselected.marker.opacity,color:f.unselected.marker.color,editType:"style"},textfont:f.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},2290:function(X,d,t){var f=t(9298),g=t(2973),a=t(2869).hasColorscale,n=t(8803),e=t(5341),r=t(6279);X.exports=function(i,l){var o,c,u,h,y,m,v=f.getFromId(i,l.xaxis||"x"),x=f.getFromId(i,l.yaxis||"y"),w={msUTC:!(!l.base&&l.base!==0)};l.orientation==="h"?(o=v.makeCalcdata(l,"x",w),u=x.makeCalcdata(l,"y"),h=g(l,x,"y",u),y=!!l.yperiodalignment,m="y"):(o=x.makeCalcdata(l,"y",w),u=v.makeCalcdata(l,"x"),h=g(l,v,"x",u),y=!!l.xperiodalignment,m="x"),c=h.vals;for(var p=Math.min(c.length,o.length),b=new Array(p),T=0;T<p;T++)b[T]={p:c[T],s:o[T]},y&&(b[T].orig_p=u[T],b[T][m+"End"]=h.ends[T],b[T][m+"Start"]=h.starts[T]),l.ids&&(b[T].id=String(l.ids[T]));return a(l,"marker")&&n(i,l,{vals:l.marker.color,containerStr:"marker",cLetter:"c"}),a(l,"marker.line")&&n(i,l,{vals:l.marker.line.color,containerStr:"marker.line",cLetter:"c"}),e(b,l),r(b,l),b}},7313:function(X){X.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},1661:function(X,d,t){var f=t(2770),g=t(1828).isArrayOrTypedArray,a=t(606).BADNUM,n=t(3972),e=t(9298),r=t(9082).getAxisGroup,i=t(1546);function l(p,b,T,A,P){if(A.length){var k,L,D,_;switch(function(I,O){var N,G;for(N=0;N<O.length;N++){var z,Y=O[N],Z=Y[0].trace,nt=Z.type==="funnel"?Z._base:Z.base,S=Z.orientation==="h"?Z.xcalendar:Z.ycalendar,E=I.type==="category"||I.type==="multicategory"?function(){return null}:I.d2c;if(g(nt)){for(G=0;G<Math.min(nt.length,Y.length);G++)z=E(nt[G],0,S),f(z)?(Y[G].b=+z,Y[G].hasB=1):Y[G].b=0;for(;G<Y.length;G++)Y[G].b=0}else{z=E(nt,0,S);var V=f(z);for(z=V?z:0,G=0;G<Y.length;G++)Y[G].b=z,V&&(Y[G].hasB=1)}}}(T,A),P.mode){case"overlay":o(b,T,A,P);break;case"group":for(k=[],L=[],D=0;D<A.length;D++)(_=A[D])[0].trace.offset===void 0?L.push(_):k.push(_);L.length&&function(I,O,N,G,z){var Y=new i(G,{posAxis:O,sepNegVal:!1,overlapNoMerge:!z.norm});(function(Z,nt,S,E){for(var V=Z._fullLayout,Q=S.positions,tt=S.distinctPositions,rt=S.minDiff,ot=S.traces,H=ot.length,F=Q.length!==tt.length,R=rt*(1-E.gap),j=r(V,nt._id)+ot[0][0].trace.orientation,J=V._alignmentOpts[j]||{},q=0;q<H;q++){var $,et,st=ot[q],yt=st[0].trace,St=J[yt.alignmentgroup]||{},Lt=Object.keys(St.offsetGroups||{}).length,It=($=Lt?R/Lt:F?R/H:R)*(1-(E.groupgap||0));et=Lt?((2*yt._offsetIndex+1-Lt)*$-It)/2:F?((2*q+1-H)*$-It)/2:-It/2;var it=st[0].t;it.barwidth=It,it.poffset=et,it.bargroupwidth=R,it.bardelta=rt}S.binWidth=ot[0][0].t.barwidth/100,u(S),h(nt,S),y(nt,S,F)})(I,O,Y,z),function(Z,nt){for(var S=Z.traces,E=0;E<S.length;E++){var V=S[E];if(V[0].trace.base===void 0)for(var Q=new i([V],{posAxis:nt,sepNegVal:!0,overlapNoMerge:!0}),tt=0;tt<V.length;tt++){var rt=V[tt];if(rt.p!==a){var ot=Q.put(rt.p,rt.b+rt.s);ot&&(rt.b=ot)}}}}(Y,O),z.norm?(v(Y),x(N,Y,z)):m(N,Y)}(p,b,T,L,P),k.length&&o(b,T,k,P);break;case"stack":case"relative":for(k=[],L=[],D=0;D<A.length;D++)(_=A[D])[0].trace.base===void 0?L.push(_):k.push(_);L.length&&function(I,O,N,G,z){var Y=new i(G,{posAxis:O,sepNegVal:z.mode==="relative",overlapNoMerge:!(z.norm||z.mode==="stack"||z.mode==="relative")});c(O,Y,z),function(V,Q,tt){var rt,ot,H,F,R,j,J=w(V),q=Q.traces;for(F=0;F<q.length;F++)if((ot=(rt=q[F])[0].trace).type==="funnel")for(R=0;R<rt.length;R++)(j=rt[R]).s!==a&&Q.put(j.p,-.5*j.s);for(F=0;F<q.length;F++){H=(ot=(rt=q[F])[0].trace).type==="funnel";var $=[];for(R=0;R<rt.length;R++)if((j=rt[R]).s!==a){var et;et=H?j.s:j.s+j.b;var st=Q.put(j.p,et),yt=st+et;j.b=st,j[J]=yt,tt.norm||($.push(yt),j.hasB&&$.push(st))}tt.norm||(ot._extremes[V._id]=e.findExtremes(V,$,{tozero:!0,padded:!0}))}}(N,Y,z);for(var Z=0;Z<G.length;Z++)for(var nt=G[Z],S=0;S<nt.length;S++){var E=nt[S];E.s!==a&&E.b+E.s===Y.get(E.p,E.s)&&(E._outmost=!0)}z.norm&&x(N,Y,z)}(0,b,T,L,P),k.length&&o(b,T,k,P)}(function(I,O){var N,G,z,Y=w(O),Z={},nt=1/0,S=-1/0;for(N=0;N<I.length;N++)for(z=I[N],G=0;G<z.length;G++){var E=z[G].p;f(E)&&(nt=Math.min(nt,E),S=Math.max(S,E))}var V=1e4/(S-nt),Q=Z.round=function(j){return String(Math.round(V*(j-nt)))};for(N=0;N<I.length;N++){(z=I[N])[0].t.extents=Z;var tt=z[0].t.poffset,rt=Array.isArray(tt);for(G=0;G<z.length;G++){var ot=z[G],H=ot[Y]-ot.w/2;if(f(H)){var F=ot[Y]+ot.w/2,R=Q(ot.p);Z[R]?Z[R]=[Math.min(H,Z[R][0]),Math.max(F,Z[R][1])]:Z[R]=[H,F]}ot.p0=ot.p+(rt?tt[G]:tt),ot.p1=ot.p0+ot.w,ot.s0=ot.b,ot.s1=ot.s0+ot.s}}})(A,b)}}function o(p,b,T,A){for(var P=0;P<T.length;P++){var k=T[P],L=new i([k],{posAxis:p,sepNegVal:!1,overlapNoMerge:!A.norm});c(p,L,A),A.norm?(v(L),x(b,L,A)):m(b,L)}}function c(p,b,T){for(var A=b.minDiff,P=b.traces,k=A*(1-T.gap),L=k*(1-(T.groupgap||0)),D=-L/2,_=0;_<P.length;_++){var I=P[_][0].t;I.barwidth=L,I.poffset=D,I.bargroupwidth=k,I.bardelta=A}b.binWidth=P[0][0].t.barwidth/100,u(b),h(p,b),y(p,b)}function u(p){var b,T,A=p.traces;for(b=0;b<A.length;b++){var P,k=A[b],L=k[0],D=L.trace,_=L.t,I=D._offset||D.offset,O=_.poffset;if(g(I)){for(P=Array.prototype.slice.call(I,0,k.length),T=0;T<P.length;T++)f(P[T])||(P[T]=O);for(T=P.length;T<k.length;T++)P.push(O);_.poffset=P}else I!==void 0&&(_.poffset=I);var N=D._width||D.width,G=_.barwidth;if(g(N)){var z=Array.prototype.slice.call(N,0,k.length);for(T=0;T<z.length;T++)f(z[T])||(z[T]=G);for(T=z.length;T<k.length;T++)z.push(G);if(_.barwidth=z,I===void 0){for(P=[],T=0;T<k.length;T++)P.push(O+(G-z[T])/2);_.poffset=P}}else N!==void 0&&(_.barwidth=N,I===void 0&&(_.poffset=O+(G-N)/2))}}function h(p,b){for(var T=b.traces,A=w(p),P=0;P<T.length;P++)for(var k=T[P],L=k[0].t,D=L.poffset,_=Array.isArray(D),I=L.barwidth,O=Array.isArray(I),N=0;N<k.length;N++){var G=k[N],z=G.w=O?I[N]:I;G.p===void 0&&(G.p=G[A],G["orig_"+A]=G[A]);var Y=(_?D[N]:D)+z/2;G[A]=G.p+Y}}function y(p,b,T){var A=b.traces,P=b.minDiff/2;e.minDtick(p,b.minDiff,b.distinctPositions[0],T);for(var k=0;k<A.length;k++){var L,D,_,I,O=A[k],N=O[0],G=N.trace,z=[];for(I=0;I<O.length;I++)D=(L=O[I]).p-P,_=L.p+P,z.push(D,_);if(G.width||G.offset){var Y=N.t,Z=Y.poffset,nt=Y.barwidth,S=Array.isArray(Z),E=Array.isArray(nt);for(I=0;I<O.length;I++){L=O[I];var V=S?Z[I]:Z,Q=E?nt[I]:nt;_=(D=L.p+V)+Q,z.push(D,_)}}G._extremes[p._id]=e.findExtremes(p,z,{padded:!1})}}function m(p,b){for(var T=b.traces,A=w(p),P=0;P<T.length;P++){for(var k=T[P],L=k[0].trace,D=L.type==="scatter",_=L.orientation==="v",I=[],O=!1,N=0;N<k.length;N++){var G=k[N],z=D?0:G.b,Y=D?_?G.y:G.x:z+G.s;G[A]=Y,I.push(Y),G.hasB&&I.push(z),G.hasB&&G.b||(O=!0)}L._extremes[p._id]=e.findExtremes(p,I,{tozero:O,padded:!0})}}function v(p){for(var b=p.traces,T=0;T<b.length;T++)for(var A=b[T],P=0;P<A.length;P++){var k=A[P];k.s!==a&&p.put(k.p,k.b+k.s)}}function x(p,b,T){var A=b.traces,P=w(p),k=T.norm==="fraction"?1:100,L=k/1e9,D=p.l2c(p.c2l(0)),_=T.mode==="stack"?k:D;function I(tt){return f(p.c2l(tt))&&(tt<D-L||tt>_+L||!f(D))}for(var O=0;O<A.length;O++){for(var N=A[O],G=N[0].trace,z=[],Y=!1,Z=!1,nt=0;nt<N.length;nt++){var S=N[nt];if(S.s!==a){var E=Math.abs(k/b.get(S.p,S.s));S.b*=E,S.s*=E;var V=S.b,Q=V+S.s;S[P]=Q,z.push(Q),Z=Z||I(Q),S.hasB&&(z.push(V),Z=Z||I(V)),S.hasB&&S.b||(Y=!0)}}G._extremes[p._id]=e.findExtremes(p,z,{tozero:Y,padded:Z})}}function w(p){return p._id.charAt(0)}X.exports={crossTraceCalc:function(p,b){for(var T=b.xaxis,A=b.yaxis,P=p._fullLayout,k=p._fullData,L=p.calcdata,D=[],_=[],I=0;I<k.length;I++){var O=k[I];if(O.visible===!0&&n.traceIs(O,"bar")&&O.xaxis===T._id&&O.yaxis===A._id&&(O.orientation==="h"?D.push(L[I]):_.push(L[I]),O._computePh))for(var N=p.calcdata[I],G=0;G<N.length;G++)typeof N[G].ph0=="function"&&(N[G].ph0=N[G].ph0()),typeof N[G].ph1=="function"&&(N[G].ph1=N[G].ph1())}var z={xCat:T.type==="category"||T.type==="multicategory",yCat:A.type==="category"||A.type==="multicategory",mode:P.barmode,norm:P.barnorm,gap:P.bargap,groupgap:P.bargroupgap};l(p,T,A,_,z),l(p,A,T,D,z)},setGroupPositions:l}},769:function(X,d,t){var f=t(1828),g=t(7901),a=t(3972),n=t(7513),e=t(3927),r=t(8340),i=t(6125),l=t(1486),o=f.coerceFont;function c(u,h,y,m,v,x){var w=(x=x||{}).moduleHasSelected!==!1,p=x.moduleHasUnselected!==!1,b=x.moduleHasConstrain!==!1,T=x.moduleHasCliponaxis!==!1,A=x.moduleHasTextangle!==!1,P=x.moduleHasInsideanchor!==!1,k=!!x.hasPathbar,L=Array.isArray(v)||v==="auto",D=L||v==="inside",_=L||v==="outside";if(D||_){var I=o(m,"textfont",y.font),O=f.extendFlat({},I),N=!(u.textfont&&u.textfont.color);if(N&&delete O.color,o(m,"insidetextfont",O),k){var G=f.extendFlat({},I);N&&delete G.color,o(m,"pathbar.textfont",G)}_&&o(m,"outsidetextfont",I),w&&m("selected.textfont.color"),p&&m("unselected.textfont.color"),b&&m("constraintext"),T&&m("cliponaxis"),A&&m("textangle"),m("texttemplate")}D&&P&&m("insidetextanchor")}X.exports={supplyDefaults:function(u,h,y,m){function v(b,T){return f.coerce(u,h,l,b,T)}if(n(u,h,m,v)){e(u,h,m,v),v("xhoverformat"),v("yhoverformat"),v("orientation",h.x&&!h.y?"h":"v"),v("base"),v("offset"),v("width"),v("text"),v("hovertext"),v("hovertemplate");var x=v("textposition");c(u,0,m,v,x,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),r(u,h,v,y,m);var w=(h.marker.line||{}).color,p=a.getComponentMethod("errorbars","supplyDefaults");p(u,h,w||g.defaultLine,{axis:"y"}),p(u,h,w||g.defaultLine,{axis:"x",inherit:"y"}),f.coerceSelectionMarkerOpacity(h,v)}else h.visible=!1},crossTraceDefaults:function(u,h){var y,m;function v(w){return f.coerce(m._input,m,l,w)}if(h.barmode==="group")for(var x=0;x<u.length;x++)(m=u[x]).type==="bar"&&(y=m._input,i(y,m,h,v))},handleText:c}},8065:function(X){X.exports=function(d,t,f){return d.x="xVal"in t?t.xVal:t.x,d.y="yVal"in t?t.yVal:t.y,t.xa&&(d.xaxis=t.xa),t.ya&&(d.yaxis=t.ya),f.orientation==="h"?(d.label=d.y,d.value=d.x):(d.label=d.x,d.value=d.y),d}},9383:function(X,d,t){var f=t(2770),g=t(4267),a=t(1828).isArrayOrTypedArray;d.coerceString=function(n,e,r){if(typeof e=="string"){if(e||!n.noBlank)return e}else if((typeof e=="number"||e===!0)&&!n.strict)return String(e);return r!==void 0?r:n.dflt},d.coerceNumber=function(n,e,r){if(f(e)){e=+e;var i=n.min,l=n.max;if(!(i!==void 0&&e<i||l!==void 0&&e>l))return e}return r!==void 0?r:n.dflt},d.coerceColor=function(n,e,r){return g(e).isValid()?e:r!==void 0?r:n.dflt},d.coerceEnumerated=function(n,e,r){return n.coerceNumber&&(e=+e),n.values.indexOf(e)!==-1?e:r!==void 0?r:n.dflt},d.getValue=function(n,e){var r;return Array.isArray(n)?e<n.length&&(r=n[e]):r=n,r},d.getLineWidth=function(n,e){return 0<e.mlw?e.mlw:a(n.marker.line.width)?0:n.marker.line.width}},5423:function(X,d,t){var f=t(211),g=t(3972),a=t(7901),n=t(1828).fillText,e=t(9383).getLineWidth,r=t(9298).hoverLabelText,i=t(606).BADNUM;function l(c,u,h,y,m){var v,x,w,p,b,T,A,P=c.cd,k=P[0].trace,L=P[0].t,D=y==="closest",_=k.type==="waterfall",I=c.maxHoverDistance,O=c.maxSpikeDistance;k.orientation==="h"?(v=h,x=u,w="y",p="x",b=rt,T=Q):(v=u,x=h,w="x",p="y",T=rt,b=Q);var N=k[w+"period"],G=D||N;function z($){return Z($,-1)}function Y($){return Z($,1)}function Z($,et){var st=$.w;return $[w]+et*st/2}function nt($){return $[w+"End"]-$[w+"Start"]}var S=D?z:N?function($){return $.p-nt($)/2}:function($){return Math.min(z($),$.p-L.bardelta/2)},E=D?Y:N?function($){return $.p+nt($)/2}:function($){return Math.max(Y($),$.p+L.bardelta/2)};function V($,et,st){return m.finiteRange&&(st=0),f.inbox($-v,et-v,st+Math.min(1,Math.abs(et-$)/A)-1)}function Q($){return V(S($),E($),I)}function tt($){var et=$[p];if(_){var st=Math.abs($.rawS)||0;x>0?et+=st:x<0&&(et-=st)}return et}function rt($){var et=x,st=$.b,yt=tt($);return f.inbox(st-et,yt-et,I+(yt-et)/(yt-st)-1)}var ot=c[w+"a"],H=c[p+"a"];A=Math.abs(ot.r2c(ot.range[1])-ot.r2c(ot.range[0]));var F=f.getDistanceFunction(y,b,T,function($){return(b($)+T($))/2});if(f.getClosest(P,F,c),c.index!==!1&&P[c.index].p!==i){G||(S=function($){return Math.min(z($),$.p-L.bargroupwidth/2)},E=function($){return Math.max(Y($),$.p+L.bargroupwidth/2)});var R=P[c.index],j=k.base?R.b+R.s:R.s;c[p+"0"]=c[p+"1"]=H.c2p(R[p],!0),c[p+"LabelVal"]=j;var J=L.extents[L.extents.round(R.p)];c[w+"0"]=ot.c2p(D?S(R):J[0],!0),c[w+"1"]=ot.c2p(D?E(R):J[1],!0);var q=R.orig_p!==void 0;return c[w+"LabelVal"]=q?R.orig_p:R.p,c.labelLabel=r(ot,c[w+"LabelVal"],k[w+"hoverformat"]),c.valueLabel=r(H,c[p+"LabelVal"],k[p+"hoverformat"]),c.baseLabel=r(H,R.b,k[p+"hoverformat"]),c.spikeDistance=(function($){var et=x,st=$.b,yt=tt($);return f.inbox(st-et,yt-et,O+(yt-et)/(yt-st)-1)}(R)+function($){return V(z($),Y($),O)}(R))/2,c[w+"Spike"]=ot.c2p(R.p,!0),n(R,k,c),c.hovertemplate=k.hovertemplate,c}}function o(c,u){var h=u.mcc||c.marker.color,y=u.mlcc||c.marker.line.color,m=e(c,u);return a.opacity(h)?h:a.opacity(y)&&m?y:void 0}X.exports={hoverPoints:function(c,u,h,y,m){var v=l(c,u,h,y,m);if(v){var x=v.cd,w=x[0].trace,p=x[v.index];return v.color=o(w,p),g.getComponentMethod("errorbars","hoverInfo")(p,w,v),[v]}},hoverOnBars:l,getTraceColor:o}},822:function(X,d,t){X.exports={attributes:t(1486),layoutAttributes:t(3641),supplyDefaults:t(769).supplyDefaults,crossTraceDefaults:t(769).crossTraceDefaults,supplyLayoutDefaults:t(3957),calc:t(2290),crossTraceCalc:t(1661).crossTraceCalc,colorbar:t(4898),arraysToCalcdata:t(5341),plot:t(7295).plot,style:t(6688).style,styleOnSelect:t(6688).styleOnSelect,hoverPoints:t(5423).hoverPoints,eventData:t(8065),selectPoints:t(1974),moduleType:"trace",name:"bar",basePlotModule:t(3612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},3641:function(X){X.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},3957:function(X,d,t){var f=t(3972),g=t(9298),a=t(1828),n=t(3641);X.exports=function(e,r,i){function l(w,p){return a.coerce(e,r,n,w,p)}for(var o=!1,c=!1,u=!1,h={},y=l("barmode"),m=0;m<i.length;m++){var v=i[m];if(f.traceIs(v,"bar")&&v.visible){if(o=!0,y==="group"){var x=v.xaxis+v.yaxis;h[x]&&(u=!0),h[x]=!0}v.visible&&v.type==="histogram"&&g.getFromId({_fullLayout:r},v[v.orientation==="v"?"xaxis":"yaxis"]).type!=="category"&&(c=!0)}}o?(y!=="overlay"&&l("barnorm"),l("bargap",c&&!u?0:.2),l("bargroupgap")):delete r.barmode}},7295:function(X,d,t){var f=t(9898),g=t(2770),a=t(1828),n=t(3893),e=t(7901),r=t(1424),i=t(3972),l=t(9298).tickText,o=t(2597),c=o.recordMinTextSize,u=o.clearMinTextSize,h=t(6688),y=t(9383),m=t(7313),v=t(1486),x=v.text,w=v.textposition,p=t(3469).appendArrayPointValue,b=m.TEXTPAD;function T(O){return O.id}function A(O){if(O.ids)return T}function P(O,N){return O<N?1:-1}function k(O,N,G,z){var Y;return!N.uniformtext.mode&&L(G)?(z&&(Y=z()),O.transition().duration(G.duration).ease(G.easing).each("end",function(){Y&&Y()}).each("interrupt",function(){Y&&Y()})):O}function L(O){return O&&O.duration>0}function D(O){return O==="auto"?0:O}function _(O,N){var G=Math.PI/180*N,z=Math.abs(Math.sin(G)),Y=Math.abs(Math.cos(G));return{x:O.width*Y+O.height*z,y:O.width*z+O.height*Y}}function I(O,N,G,z,Y,Z){var nt=!!Z.isHorizontal,S=!!Z.constrained,E=Z.angle||0,V=Z.anchor||"end",Q=V==="end",tt=V==="start",rt=((Z.leftToRight||0)+1)/2,ot=1-rt,H=Y.width,F=Y.height,R=Math.abs(N-O),j=Math.abs(z-G),J=R>2*b&&j>2*b?b:0;R-=2*J,j-=2*J;var q=D(E);E!=="auto"||H<=R&&F<=j||!(H>R||F>j)||(H>j||F>R)&&H<F==R<j||(q+=90);var $=_(Y,q),et=1;S&&(et=Math.min(1,R/$.x,j/$.y));var st=Y.left*ot+Y.right*rt,yt=(Y.top+Y.bottom)/2,St=(O+b)*ot+(N-b)*rt,Lt=(G+z)/2,It=0,it=0;if(tt||Q){var ft=(nt?$.x:$.y)/2,dt=nt?P(O,N):P(G,z);nt?tt?(St=O+dt*J,It=-dt*ft):(St=N-dt*J,It=dt*ft):tt?(Lt=G+dt*J,it=-dt*ft):(Lt=z-dt*J,it=dt*ft)}return{textX:st,textY:yt,targetX:St,targetY:Lt,anchorX:It,anchorY:it,scale:et,rotate:q}}X.exports={plot:function(O,N,G,z,Y,Z){var nt=N.xaxis,S=N.yaxis,E=O._fullLayout,V=O._context.staticPlot;Y||(Y={mode:E.barmode,norm:E.barmode,gap:E.bargap,groupgap:E.bargroupgap},u("bar",E));var Q=a.makeTraceGroups(z,G,"trace bars").each(function(tt){var rt=f.select(this),ot=tt[0].trace,H=ot.type==="waterfall",F=ot.type==="funnel",R=ot.type==="bar"||F,j=0;H&&ot.connector.visible&&ot.connector.mode==="between"&&(j=ot.connector.line.width/2);var J=ot.orientation==="h",q=L(Y),$=a.ensureSingle(rt,"g","points"),et=A(ot),st=$.selectAll("g.point").data(a.identity,et);st.enter().append("g").classed("point",!0),st.exit().remove(),st.each(function(St,Lt){var It,it,ft=f.select(this),dt=function(_t,At,Mt,Rt){var Yt=[],zt=[],Xt=Rt?At:Mt,Kt=Rt?Mt:At;return Yt[0]=Xt.c2p(_t.s0,!0),zt[0]=Kt.c2p(_t.p0,!0),Yt[1]=Xt.c2p(_t.s1,!0),zt[1]=Kt.c2p(_t.p1,!0),Rt?[Yt,zt]:[zt,Yt]}(St,nt,S,J),xt=dt[0][0],Pt=dt[0][1],Ct=dt[1][0],lt=dt[1][1],ht=(J?Pt-xt:lt-Ct)==0;if(ht&&R&&y.getLineWidth(ot,St)&&(ht=!1),ht||(ht=!(g(xt)&&g(Pt)&&g(Ct)&&g(lt))),St.isBlank=ht,ht&&(J?Pt=xt:lt=Ct),j&&!ht&&(J?(xt-=P(xt,Pt)*j,Pt+=P(xt,Pt)*j):(Ct-=P(Ct,lt)*j,lt+=P(Ct,lt)*j)),ot.type==="waterfall"){if(!ht){var vt=ot[St.dir].marker;It=vt.line.width,it=vt.color}}else It=y.getLineWidth(ot,St),it=St.mc||ot.marker.color;function gt(_t){var At=f.round(It/2%1,2);return Y.gap===0&&Y.groupgap===0?f.round(Math.round(_t)-At,2):_t}if(!O._context.staticPlot){var mt=e.opacity(it)<1||It>.01?gt:function(_t,At,Mt){return Mt&&_t===At?_t:Math.abs(_t-At)>=2?gt(_t):_t>At?Math.ceil(_t):Math.floor(_t)};xt=mt(xt,Pt,J),Pt=mt(Pt,xt,J),Ct=mt(Ct,lt,!J),lt=mt(lt,Ct,!J)}var Tt=k(a.ensureSingle(ft,"path"),E,Y,Z);if(Tt.style("vector-effect",V?"none":"non-scaling-stroke").attr("d",isNaN((Pt-xt)*(lt-Ct))||ht&&O._context.staticPlot?"M0,0Z":"M"+xt+","+Ct+"V"+lt+"H"+Pt+"V"+Ct+"Z").call(r.setClipUrl,N.layerClipId,O),!E.uniformtext.mode&&q){var kt=r.makePointStyleFns(ot);r.singlePointStyle(St,Tt,ot,kt,O)}(function(_t,At,Mt,Rt,Yt,zt,Xt,Kt,se,de,xe){var Dt,wt=At.xaxis,Ut=At.yaxis,Wt=_t._fullLayout;function me(Me,re,$t){return a.ensureSingle(Me,"text").text(re).attr({class:"bartext bartext-"+Dt,"text-anchor":"middle","data-notex":1}).call(r.font,$t).call(n.convertToTspans,_t)}var Vt=Rt[0].trace,ne=Vt.orientation==="h",ie=function(Me,re,$t,ve,Ee){var Fe,je=re[0].trace;return Fe=je.texttemplate?function(le,be,we,Ce,Le){var Oe=be[0].trace,Ae=a.castOption(Oe,we,"texttemplate");if(!Ae)return"";var Ne,ke,ze,Ye,We=Oe.type==="histogram",Xe=Oe.type==="waterfall",Ge=Oe.type==="funnel",qe=Oe.orientation==="h";function tn(sn){return l(Ye,Ye.c2l(sn),!0).text}qe?(Ne="y",ke=Le,ze="x",Ye=Ce):(Ne="x",ke=Ce,ze="y",Ye=Le);var Ue,Qe=be[we],Ve={};Ve.label=Qe.p,Ve.labelLabel=Ve[Ne+"Label"]=(Ue=Qe.p,l(ke,ke.c2l(Ue),!0).text);var rn=a.castOption(Oe,Qe.i,"text");(rn===0||rn)&&(Ve.text=rn),Ve.value=Qe.s,Ve.valueLabel=Ve[ze+"Label"]=tn(Qe.s);var an={};p(an,Oe,Qe.i),(We||an.x===void 0)&&(an.x=qe?Ve.value:Ve.label),(We||an.y===void 0)&&(an.y=qe?Ve.label:Ve.value),(We||an.xLabel===void 0)&&(an.xLabel=qe?Ve.valueLabel:Ve.labelLabel),(We||an.yLabel===void 0)&&(an.yLabel=qe?Ve.labelLabel:Ve.valueLabel),Xe&&(Ve.delta=+Qe.rawS||Qe.s,Ve.deltaLabel=tn(Ve.delta),Ve.final=Qe.v,Ve.finalLabel=tn(Ve.final),Ve.initial=Ve.final-Ve.delta,Ve.initialLabel=tn(Ve.initial)),Ge&&(Ve.value=Qe.s,Ve.valueLabel=tn(Ve.value),Ve.percentInitial=Qe.begR,Ve.percentInitialLabel=a.formatPercent(Qe.begR),Ve.percentPrevious=Qe.difR,Ve.percentPreviousLabel=a.formatPercent(Qe.difR),Ve.percentTotal=Qe.sumR,Ve.percenTotalLabel=a.formatPercent(Qe.sumR));var un=a.castOption(Oe,Qe.i,"customdata");return un&&(Ve.customdata=un),a.texttemplateString(Ae,Ve,le._d3locale,an,Ve,Oe._meta||{})}(Me,re,$t,ve,Ee):je.textinfo?function(le,be,we,Ce){var Le=le[0].trace,Oe=Le.orientation==="h",Ae=Le.type==="waterfall",Ne=Le.type==="funnel";function ke(un){return l(Oe?we:Ce,+un,!0).text}var ze,Ye,We=Le.textinfo,Xe=le[be],Ge=We.split("+"),qe=[],tn=function(un){return Ge.indexOf(un)!==-1};if(tn("label")&&qe.push((Ye=le[be].p,l(Oe?Ce:we,Ye,!0).text)),tn("text")&&((ze=a.castOption(Le,Xe.i,"text"))===0||ze)&&qe.push(ze),Ae){var Ue=+Xe.rawS||Xe.s,Qe=Xe.v,Ve=Qe-Ue;tn("initial")&&qe.push(ke(Ve)),tn("delta")&&qe.push(ke(Ue)),tn("final")&&qe.push(ke(Qe))}if(Ne){tn("value")&&qe.push(ke(Xe.s));var rn=0;tn("percent initial")&&rn++,tn("percent previous")&&rn++,tn("percent total")&&rn++;var an=rn>1;tn("percent initial")&&(ze=a.formatPercent(Xe.begR),an&&(ze+=" of initial"),qe.push(ze)),tn("percent previous")&&(ze=a.formatPercent(Xe.difR),an&&(ze+=" of previous"),qe.push(ze)),tn("percent total")&&(ze=a.formatPercent(Xe.sumR),an&&(ze+=" of total"),qe.push(ze))}return qe.join("<br>")}(re,$t,ve,Ee):y.getValue(je.text,$t),y.coerceString(x,Fe)}(Wt,Rt,Yt,wt,Ut);Dt=function(Me,re){var $t=y.getValue(Me.textposition,re);return y.coerceEnumerated(w,$t)}(Vt,Yt);var _e=de.mode==="stack"||de.mode==="relative",he=Rt[Yt],De=!_e||he._outmost;if(ie&&Dt!=="none"&&(!he.isBlank&&zt!==Xt&&Kt!==se||Dt!=="auto"&&Dt!=="inside")){var fe=Wt.font,K=h.getBarColor(Rt[Yt],Vt),at=h.getInsideTextFont(Vt,Yt,fe,K),Et=h.getOutsideTextFont(Vt,Yt,fe),Ot=Mt.datum();ne?wt.type==="log"&&Ot.s0<=0&&(zt=wt.range[0]<wt.range[1]?0:wt._length):Ut.type==="log"&&Ot.s0<=0&&(Kt=Ut.range[0]<Ut.range[1]?Ut._length:0);var Bt,Nt,Ht,Zt,Qt,oe=Math.abs(Xt-zt)-2*b,qt=Math.abs(se-Kt)-2*b;if(Dt==="outside"&&(De||he.hasB||(Dt="inside")),Dt==="auto"&&(De?(Dt="inside",Bt=me(Mt,ie,Qt=a.ensureUniformFontSize(_t,at)),Ht=(Nt=r.bBox(Bt.node())).width,Zt=Nt.height,Ht>0&&Zt>0&&(Ht<=oe&&Zt<=qt||Ht<=qt&&Zt<=oe||(ne?oe>=Ht*(qt/Zt):qt>=Zt*(oe/Ht)))?Dt="inside":(Dt="outside",Bt.remove(),Bt=null)):Dt="inside"),!Bt){var Te=(Bt=me(Mt,ie,Qt=a.ensureUniformFontSize(_t,Dt==="outside"?Et:at))).attr("transform");if(Bt.attr("transform",""),Ht=(Nt=r.bBox(Bt.node())).width,Zt=Nt.height,Bt.attr("transform",Te),Ht<=0||Zt<=0)return void Bt.remove()}var Re,pe=Vt.textangle;Re=Dt==="outside"?function(Me,re,$t,ve,Ee,Fe){var je,le=!!Fe.isHorizontal,be=!!Fe.constrained,we=Fe.angle||0,Ce=Ee.width,Le=Ee.height,Oe=Math.abs(re-Me),Ae=Math.abs(ve-$t);je=le?Ae>2*b?b:0:Oe>2*b?b:0;var Ne=1;be&&(Ne=le?Math.min(1,Ae/Le):Math.min(1,Oe/Ce));var ke=D(we),ze=_(Ee,ke),Ye=(le?ze.x:ze.y)/2,We=(Ee.left+Ee.right)/2,Xe=(Ee.top+Ee.bottom)/2,Ge=(Me+re)/2,qe=($t+ve)/2,tn=0,Ue=0,Qe=le?P(re,Me):P($t,ve);return le?(Ge=re-Qe*je,tn=Qe*Ye):(qe=ve+Qe*je,Ue=-Qe*Ye),{textX:We,textY:Xe,targetX:Ge,targetY:qe,anchorX:tn,anchorY:Ue,scale:Ne,rotate:ke}}(zt,Xt,Kt,se,Nt,{isHorizontal:ne,constrained:Vt.constraintext==="both"||Vt.constraintext==="outside",angle:pe}):I(zt,Xt,Kt,se,Nt,{isHorizontal:ne,constrained:Vt.constraintext==="both"||Vt.constraintext==="inside",angle:pe,anchor:Vt.insidetextanchor}),Re.fontSize=Qt.size,c(Vt.type==="histogram"?"bar":Vt.type,Re,Wt),he.transform=Re;var Se=k(Bt,Wt,de,xe);a.setTransormAndDisplay(Se,Re)}else Mt.select("text").remove()})(O,N,ft,tt,Lt,xt,Pt,Ct,lt,Y,Z),N.layerClipId&&r.hideOutsideRangePoint(St,ft.select("text"),nt,S,ot.xcalendar,ot.ycalendar)});var yt=ot.cliponaxis===!1;r.setClipUrl(rt,yt?null:N.layerClipId,O)});i.getComponentMethod("errorbars","plot")(O,Q,N,Y)},toMoveInsideBar:I}},1974:function(X){function d(t,f,g,a,n){var e=f.c2p(a?t.s0:t.p0,!0),r=f.c2p(a?t.s1:t.p1,!0),i=g.c2p(a?t.p0:t.s0,!0),l=g.c2p(a?t.p1:t.s1,!0);return n?[(e+r)/2,(i+l)/2]:a?[r,(i+l)/2]:[(e+r)/2,l]}X.exports=function(t,f){var g,a=t.cd,n=t.xaxis,e=t.yaxis,r=a[0].trace,i=r.type==="funnel",l=r.orientation==="h",o=[];if(f===!1)for(g=0;g<a.length;g++)a[g].selected=0;else for(g=0;g<a.length;g++){var c=a[g],u="ct"in c?c.ct:d(c,n,e,l,i);f.contains(u,!1,g,t)?(o.push({pointNumber:g,x:n.c2d(c.x),y:e.c2d(c.y)}),c.selected=1):c.selected=0}return o}},1546:function(X,d,t){X.exports=g;var f=t(1828).distinctVals;function g(a,n){this.traces=a,this.sepNegVal=n.sepNegVal,this.overlapNoMerge=n.overlapNoMerge;for(var e=1/0,r=n.posAxis._id.charAt(0),i=[],l=0;l<a.length;l++){for(var o=a[l],c=0;c<o.length;c++){var u=o[c],h=u.p;h===void 0&&(h=u[r]),h!==void 0&&i.push(h)}o[0]&&o[0].width1&&(e=Math.min(o[0].width1,e))}this.positions=i;var y=f(i);this.distinctPositions=y.vals,y.vals.length===1&&e!==1/0?this.minDiff=e:this.minDiff=Math.min(y.minDiff,e);var m=(n.posAxis||{}).type;m!=="category"&&m!=="multicategory"||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}g.prototype.put=function(a,n){var e=this.getLabel(a,n),r=this.bins[e]||0;return this.bins[e]=r+n,r},g.prototype.get=function(a,n){var e=this.getLabel(a,n);return this.bins[e]||0},g.prototype.getLabel=function(a,n){return(n<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?a:Math.round(a/this.binWidth))}},6688:function(X,d,t){var f=t(9898),g=t(7901),a=t(1424),n=t(1828),e=t(3972),r=t(2597).resizeText,i=t(1486),l=i.textfont,o=i.insidetextfont,c=i.outsidetextfont,u=t(9383);function h(T,A,P){a.pointStyle(T.selectAll("path"),A,P),y(T,A,P)}function y(T,A,P){T.selectAll("text").each(function(k){var L=f.select(this),D=n.ensureUniformFontSize(P,m(L,k,A,P));a.font(L,D)})}function m(T,A,P,k){var L=k._fullLayout.font,D=P.textfont;if(T.classed("bartext-inside")){var _=b(A,P);D=x(P,A.i,L,_)}else T.classed("bartext-outside")&&(D=w(P,A.i,L));return D}function v(T,A,P){return p(l,T.textfont,A,P)}function x(T,A,P,k){var L=v(T,A,P);return(T._input.textfont===void 0||T._input.textfont.color===void 0||Array.isArray(T.textfont.color)&&T.textfont.color[A]===void 0)&&(L={color:g.contrast(k),family:L.family,size:L.size}),p(o,T.insidetextfont,A,L)}function w(T,A,P){var k=v(T,A,P);return p(c,T.outsidetextfont,A,k)}function p(T,A,P,k){A=A||{};var L=u.getValue(A.family,P),D=u.getValue(A.size,P),_=u.getValue(A.color,P);return{family:u.coerceString(T.family,L,k.family),size:u.coerceNumber(T.size,D,k.size),color:u.coerceColor(T.color,_,k.color)}}function b(T,A){return A.type==="waterfall"?A[T.dir].marker.color:T.mcc||T.mc||A.marker.color}X.exports={style:function(T){var A=f.select(T).selectAll("g.barlayer").selectAll("g.trace");r(T,A,"bar");var P=A.size(),k=T._fullLayout;A.style("opacity",function(L){return L[0].trace.opacity}).each(function(L){(k.barmode==="stack"&&P>1||k.bargap===0&&k.bargroupgap===0&&!L[0].trace.marker.line.width)&&f.select(this).attr("shape-rendering","crispEdges")}),A.selectAll("g.points").each(function(L){h(f.select(this),L[0].trace,T)}),e.getComponentMethod("errorbars","style")(A)},styleTextPoints:y,styleOnSelect:function(T,A,P){var k=A[0].trace;k.selectedpoints?function(L,D,_){a.selectedPointStyle(L.selectAll("path"),D),function(I,O,N){I.each(function(G){var z,Y=f.select(this);if(G.selected){z=n.ensureUniformFontSize(N,m(Y,G,O,N));var Z=O.selected.textfont&&O.selected.textfont.color;Z&&(z.color=Z),a.font(Y,z)}else a.selectedTextStyle(Y,O)})}(L.selectAll("text"),D,_)}(P,k,T):(h(P,k,T),e.getComponentMethod("errorbars","style")(P))},getInsideTextFont:x,getOutsideTextFont:w,getBarColor:b,resizeText:r}},8340:function(X,d,t){var f=t(7901),g=t(2869).hasColorscale,a=t(1586),n=t(1828).coercePattern;X.exports=function(e,r,i,l,o){var c=i("marker.color",l),u=g(e,"marker");u&&a(e,r,o,i,{prefix:"marker.",cLetter:"c"}),i("marker.line.color",f.defaultLine),g(e,"marker.line")&&a(e,r,o,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width"),i("marker.opacity"),n(i,"marker.pattern",c,u),i("selected.marker.color"),i("unselected.marker.color")}},2597:function(X,d,t){var f=t(9898),g=t(1828);function a(n){return"_"+n+"Text_minsize"}X.exports={recordMinTextSize:function(n,e,r){if(r.uniformtext.mode){var i=a(n),l=r.uniformtext.minsize,o=e.scale*e.fontSize;e.hide=o<l,r[i]=r[i]||1/0,e.hide||(r[i]=Math.min(r[i],Math.max(o,l)))}},clearMinTextSize:function(n,e){e[a(n)]=void 0},resizeText:function(n,e,r){var i=n._fullLayout,l=i["_"+r+"Text_minsize"];if(l){var o,c=i.uniformtext.mode==="hide";switch(r){case"funnelarea":case"pie":case"sunburst":o="g.slice";break;case"treemap":case"icicle":o="g.slice, g.pathbar";break;default:o="g.points > g.point"}e.selectAll(o).each(function(u){var h=u.transform;if(h){h.scale=c&&h.hide?0:l/h.fontSize;var y=f.select(this).select("text");g.setTransormAndDisplay(y,h)}})}}}},4e3:function(X,d,t){var f=t(9012),g=t(7670).Y,a=t(1940),n=t(2399),e=t(5386).fF,r=t(5386).si,i=t(1426).extendFlat,l=t(9952).u,o=a({editType:"plot",arrayOk:!0,colorEditType:"plot"});X.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:n.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:l,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:i({},f.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:e({},{keys:["label","color","value","percent","text"]}),texttemplate:r({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:i({},o,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:i({},o,{}),outsidetextfont:i({},o,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:i({},o,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:g({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:i({},o,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},3584:function(X,d,t){var f=t(4875);d.name="pie",d.plot=function(g,a,n,e){f.plotBasePlot(d.name,g,a,n,e)},d.clean=function(g,a,n,e){f.cleanBasePlot(d.name,g,a,n,e)}},2354:function(X,d,t){var f=t(2770),g=t(4267),a=t(7901),n={};function e(i){return function(l,o){return!!l&&!!(l=g(l)).isValid()&&(l=a.addOpacity(l,l.getAlpha()),i[o]||(i[o]=l),l)}}function r(i,l){var o,c=JSON.stringify(i),u=l[c];if(!u){for(u=i.slice(),o=0;o<i.length;o++)u.push(g(i[o]).lighten(20).toHexString());for(o=0;o<i.length;o++)u.push(g(i[o]).darken(20).toHexString());l[c]=u}return u}X.exports={calc:function(i,l){var o,c,u=[],h=i._fullLayout,y=h.hiddenlabels||[],m=l.labels,v=l.marker.colors||[],x=l.values,w=l._length,p=l._hasValues&&w;if(l.dlabel)for(m=new Array(w),o=0;o<w;o++)m[o]=String(l.label0+o*l.dlabel);var b={},T=e(h["_"+l.type+"colormap"]),A=0,P=!1;for(o=0;o<w;o++){var k,L,D;if(p){if(k=x[o],!f(k))continue;k=+k}else k=1;(L=m[o])!==void 0&&L!==""||(L=o);var _=b[L=String(L)];_===void 0?(b[L]=u.length,(D=y.indexOf(L)!==-1)||(A+=k),u.push({v:k,label:L,color:T(v[o],L),i:o,pts:[o],hidden:D})):(P=!0,(c=u[_]).v+=k,c.pts.push(o),c.hidden||(A+=k),c.color===!1&&v[o]&&(c.color=T(v[o],L)))}return u=u.filter(function(I){return I.v>=0}),(l.type==="funnelarea"?P:l.sort)&&u.sort(function(I,O){return O.v-I.v}),u[0]&&(u[0].vTotal=A),u},crossTraceCalc:function(i,l){var o=(l||{}).type;o||(o="pie");var c=i._fullLayout,u=i.calcdata,h=c[o+"colorway"],y=c["_"+o+"colormap"];c["extend"+o+"colors"]&&(h=r(h,n));for(var m=0,v=0;v<u.length;v++){var x=u[v];if(x[0].trace.type===o)for(var w=0;w<x.length;w++){var p=x[w];p.color===!1&&(y[p.label]?p.color=y[p.label]:(y[p.label]=p.color=h[m%h.length],m++))}}},makePullColorFn:e,generateExtendedColors:r}},7434:function(X,d,t){var f=t(2770),g=t(1828),a=t(4e3),n=t(7670).c,e=t(769).handleText,r=t(1828).coercePattern;function i(o,c){var u=Array.isArray(o),h=g.isArrayOrTypedArray(c),y=Math.min(u?o.length:1/0,h?c.length:1/0);if(isFinite(y)||(y=0),y&&h){for(var m,v=0;v<y;v++){var x=c[v];if(f(x)&&x>0){m=!0;break}}m||(y=0)}return{hasLabels:u,hasValues:h,len:y}}function l(o,c,u,h,y){h("marker.line.width")&&h("marker.line.color",y?void 0:u.paper_bgcolor);var m=h("marker.colors");r(h,"marker.pattern",m),o.marker&&!c.marker.pattern.fgcolor&&(c.marker.pattern.fgcolor=o.marker.colors),c.marker.pattern.bgcolor||(c.marker.pattern.bgcolor=u.paper_bgcolor)}X.exports={handleLabelsAndValues:i,handleMarkerDefaults:l,supplyDefaults:function(o,c,u,h){function y(P,k){return g.coerce(o,c,a,P,k)}var m=i(y("labels"),y("values")),v=m.len;if(c._hasLabels=m.hasLabels,c._hasValues=m.hasValues,!c._hasLabels&&c._hasValues&&(y("label0"),y("dlabel")),v){c._length=v,l(o,c,h,y,!0),y("scalegroup");var x,w=y("text"),p=y("texttemplate");if(p||(x=y("textinfo",Array.isArray(w)?"text+percent":"percent")),y("hovertext"),y("hovertemplate"),p||x&&x!=="none"){var b=y("textposition");e(o,c,h,y,b,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(b)||b==="auto"||b==="outside")&&y("automargin"),(b==="inside"||b==="auto"||Array.isArray(b))&&y("insidetextorientation")}n(c,h,y);var T=y("hole");if(y("title.text")){var A=y("title.position",T?"middle center":"top center");T||A!=="middle center"||(c.title.position="top center"),g.coerceFont(y,"title.font",h.font)}y("sort"),y("direction"),y("rotation"),y("pull")}else c.visible=!1}}},7:function(X,d,t){var f=t(3469).appendArrayMultiPointValues;X.exports=function(g,a){var n={curveNumber:a.index,pointNumbers:g.pts,data:a._input,fullData:a,label:g.label,color:g.color,value:g.v,percent:g.percent,text:g.text,bbox:g.bbox,v:g.v};return g.pts.length===1&&(n.pointNumber=n.i=g.pts[0]),f(n,a,g.pts),a.type==="funnelarea"&&(delete n.v,delete n.i),n}},2209:function(X,d,t){var f=t(1424),g=t(7901);X.exports=function(a,n,e,r){var i=e.marker.pattern;i&&i.shape?f.pointStyle(a,e,r,n):g.fill(a,n.color)}},3581:function(X,d,t){var f=t(1828);function g(a){return a.indexOf("e")!==-1?a.replace(/[.]?0+e/,"e"):a.indexOf(".")!==-1?a.replace(/[.]?0+$/,""):a}d.formatPiePercent=function(a,n){var e=g((100*a).toPrecision(3));return f.numSeparate(e,n)+"%"},d.formatPieValue=function(a,n){var e=g(a.toPrecision(10));return f.numSeparate(e,n)},d.getFirstFilled=function(a,n){if(Array.isArray(a))for(var e=0;e<n.length;e++){var r=a[n[e]];if(r||r===0||r==="")return r}},d.castOption=function(a,n){return Array.isArray(a)?d.getFirstFilled(a,n):a||void 0},d.getRotationAngle=function(a){return(a==="auto"?0:a)*Math.PI/180}},8810:function(X,d,t){X.exports={attributes:t(4e3),supplyDefaults:t(7434).supplyDefaults,supplyLayoutDefaults:t(2097),layoutAttributes:t(7550),calc:t(2354).calc,crossTraceCalc:t(2354).crossTraceCalc,plot:t(4575).plot,style:t(8357),styleOne:t(3463),moduleType:"trace",name:"pie",basePlotModule:t(3584),categories:["pie-like","pie","showLegend"],meta:{}}},7550:function(X){X.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},2097:function(X,d,t){var f=t(1828),g=t(7550);X.exports=function(a,n){function e(r,i){return f.coerce(a,n,g,r,i)}e("hiddenlabels"),e("piecolorway",n.colorway),e("extendpiecolors")}},4575:function(X,d,t){var f=t(9898),g=t(4875),a=t(211),n=t(7901),e=t(1424),r=t(1828),i=r.strScale,l=r.strTranslate,o=t(3893),c=t(2597),u=c.recordMinTextSize,h=c.clearMinTextSize,y=t(7313).TEXTPAD,m=t(3581),v=t(7),x=t(1828).isValidTextValue;function w(S,E,V){var Q=V[0],tt=Q.cx,rt=Q.cy,ot=Q.trace,H=ot.type==="funnelarea";"_hasHoverLabel"in ot||(ot._hasHoverLabel=!1),"_hasHoverEvent"in ot||(ot._hasHoverEvent=!1),S.on("mouseover",function(F){var R=E._fullLayout,j=E._fullData[ot.index];if(!E._dragging&&R.hovermode!==!1){var J=j.hoverinfo;if(Array.isArray(J)&&(J=a.castHoverinfo({hoverinfo:[m.castOption(J,F.pts)],_module:ot._module},R,0)),J==="all"&&(J="label+text+value+percent+name"),j.hovertemplate||J!=="none"&&J!=="skip"&&J){var q=F.rInscribed||0,$=tt+F.pxmid[0]*(1-q),et=rt+F.pxmid[1]*(1-q),st=R.separators,yt=[];if(J&&J.indexOf("label")!==-1&&yt.push(F.label),F.text=m.castOption(j.hovertext||j.text,F.pts),J&&J.indexOf("text")!==-1){var St=F.text;r.isValidTextValue(St)&&yt.push(St)}F.value=F.v,F.valueLabel=m.formatPieValue(F.v,st),J&&J.indexOf("value")!==-1&&yt.push(F.valueLabel),F.percent=F.v/Q.vTotal,F.percentLabel=m.formatPiePercent(F.percent,st),J&&J.indexOf("percent")!==-1&&yt.push(F.percentLabel);var Lt=j.hoverlabel,It=Lt.font,it=[];a.loneHover({trace:ot,x0:$-q*Q.r,x1:$+q*Q.r,y:et,_x0:H?tt+F.TL[0]:$-q*Q.r,_x1:H?tt+F.TR[0]:$+q*Q.r,_y0:H?rt+F.TL[1]:et-q*Q.r,_y1:H?rt+F.BL[1]:et+q*Q.r,text:yt.join("<br>"),name:j.hovertemplate||J.indexOf("name")!==-1?j.name:void 0,idealAlign:F.pxmid[0]<0?"left":"right",color:m.castOption(Lt.bgcolor,F.pts)||F.color,borderColor:m.castOption(Lt.bordercolor,F.pts),fontFamily:m.castOption(It.family,F.pts),fontSize:m.castOption(It.size,F.pts),fontColor:m.castOption(It.color,F.pts),nameLength:m.castOption(Lt.namelength,F.pts),textAlign:m.castOption(Lt.align,F.pts),hovertemplate:m.castOption(j.hovertemplate,F.pts),hovertemplateLabels:F,eventData:[v(F,j)]},{container:R._hoverlayer.node(),outerContainer:R._paper.node(),gd:E,inOut_bbox:it}),F.bbox=it[0],ot._hasHoverLabel=!0}ot._hasHoverEvent=!0,E.emit("plotly_hover",{points:[v(F,j)],event:f.event})}}),S.on("mouseout",function(F){var R=E._fullLayout,j=E._fullData[ot.index],J=f.select(this).datum();ot._hasHoverEvent&&(F.originalEvent=f.event,E.emit("plotly_unhover",{points:[v(J,j)],event:f.event}),ot._hasHoverEvent=!1),ot._hasHoverLabel&&(a.loneUnhover(R._hoverlayer.node()),ot._hasHoverLabel=!1)}),S.on("click",function(F){var R=E._fullLayout,j=E._fullData[ot.index];E._dragging||R.hovermode===!1||(E._hoverdata=[v(F,j)],a.click(E,f.event))})}function p(S,E,V){var Q=m.castOption(S.insidetextfont.color,E.pts);!Q&&S._input.textfont&&(Q=m.castOption(S._input.textfont.color,E.pts));var tt=m.castOption(S.insidetextfont.family,E.pts)||m.castOption(S.textfont.family,E.pts)||V.family,rt=m.castOption(S.insidetextfont.size,E.pts)||m.castOption(S.textfont.size,E.pts)||V.size;return{color:Q||n.contrast(E.color),family:tt,size:rt}}function b(S,E){for(var V,Q,tt=0;tt<S.length;tt++)if((Q=(V=S[tt][0]).trace).title.text){var rt=Q.title.text;Q._meta&&(rt=r.templateString(rt,Q._meta));var ot=e.tester.append("text").attr("data-notex",1).text(rt).call(e.font,Q.title.font).call(o.convertToTspans,E),H=e.bBox(ot.node(),!0);V.titleBox={width:H.width,height:H.height},ot.remove()}}function T(S,E,V){var Q=V.r||E.rpx1,tt=E.rInscribed;if(E.startangle===E.stopangle)return{rCenter:1-tt,scale:0,rotate:0,textPosAngle:0};var rt,ot=E.ring,H=ot===1&&Math.abs(E.startangle-E.stopangle)===2*Math.PI,F=E.halfangle,R=E.midangle,j=V.trace.insidetextorientation,J=j==="horizontal",q=j==="tangential",$=j==="radial",et=j==="auto",st=[];if(!et){var yt,St=function(xt,Pt){if(function(vt,gt){var mt=vt.startangle,Tt=vt.stopangle;return mt>gt&&gt>Tt||mt<gt&&gt<Tt}(E,xt)){var Ct=Math.abs(xt-E.startangle),lt=Math.abs(xt-E.stopangle),ht=Ct<lt?Ct:lt;(rt=Pt==="tan"?P(S,Q,ot,ht,0):A(S,Q,ot,ht,Math.PI/2)).textPosAngle=xt,st.push(rt)}};if(J||q){for(yt=4;yt>=-4;yt-=2)St(Math.PI*yt,"tan");for(yt=4;yt>=-4;yt-=2)St(Math.PI*(yt+1),"tan")}if(J||$){for(yt=4;yt>=-4;yt-=2)St(Math.PI*(yt+1.5),"rad");for(yt=4;yt>=-4;yt-=2)St(Math.PI*(yt+.5),"rad")}}if(H||et||J){var Lt=Math.sqrt(S.width*S.width+S.height*S.height);if((rt={scale:tt*Q*2/Lt,rCenter:1-tt,rotate:0}).textPosAngle=(E.startangle+E.stopangle)/2,rt.scale>=1)return rt;st.push(rt)}(et||$)&&((rt=A(S,Q,ot,F,R)).textPosAngle=(E.startangle+E.stopangle)/2,st.push(rt)),(et||q)&&((rt=P(S,Q,ot,F,R)).textPosAngle=(E.startangle+E.stopangle)/2,st.push(rt));for(var It=0,it=0,ft=0;ft<st.length;ft++){var dt=st[ft].scale;if(it<dt&&(it=dt,It=ft),!et&&it>=1)break}return st[It]}function A(S,E,V,Q,tt){E=Math.max(0,E-2*y);var rt=S.width/S.height,ot=D(rt,Q,E,V);return{scale:2*ot/S.height,rCenter:k(rt,ot/E),rotate:L(tt)}}function P(S,E,V,Q,tt){E=Math.max(0,E-2*y);var rt=S.height/S.width,ot=D(rt,Q,E,V);return{scale:2*ot/S.width,rCenter:k(rt,ot/E),rotate:L(tt+Math.PI/2)}}function k(S,E){return Math.cos(E)-S*E}function L(S){return(180/Math.PI*S+720)%180-90}function D(S,E,V,Q){var tt=S+1/(2*Math.tan(E));return V*Math.min(1/(Math.sqrt(tt*tt+.5)+tt),Q/(Math.sqrt(S*S+Q/2)+S))}function _(S,E){return S.v!==E.vTotal||E.trace.hole?Math.min(1/(1+1/Math.sin(S.halfangle)),S.ring/2):1}function I(S,E){var V=E.pxmid[0],Q=E.pxmid[1],tt=S.width/2,rt=S.height/2;return V<0&&(tt*=-1),Q<0&&(rt*=-1),{scale:1,rCenter:1,rotate:0,x:tt+Math.abs(rt)*(tt>0?1:-1)/2,y:rt/(1+V*V/(Q*Q)),outside:!0}}function O(S,E){var V,Q,tt,rt=S.trace,ot={x:S.cx,y:S.cy},H={tx:0,ty:0};H.ty+=rt.title.font.size,tt=G(rt),rt.title.position.indexOf("top")!==-1?(ot.y-=(1+tt)*S.r,H.ty-=S.titleBox.height):rt.title.position.indexOf("bottom")!==-1&&(ot.y+=(1+tt)*S.r);var F,R=S.r/((F=S.trace.aspectratio)===void 0?1:F),j=E.w*(rt.domain.x[1]-rt.domain.x[0])/2;return rt.title.position.indexOf("left")!==-1?(j+=R,ot.x-=(1+tt)*R,H.tx+=S.titleBox.width/2):rt.title.position.indexOf("center")!==-1?j*=2:rt.title.position.indexOf("right")!==-1&&(j+=R,ot.x+=(1+tt)*R,H.tx-=S.titleBox.width/2),V=j/S.titleBox.width,Q=N(S,E)/S.titleBox.height,{x:ot.x,y:ot.y,scale:Math.min(V,Q),tx:H.tx,ty:H.ty}}function N(S,E){var V=S.trace,Q=E.h*(V.domain.y[1]-V.domain.y[0]);return Math.min(S.titleBox.height,Q/2)}function G(S){var E,V=S.pull;if(!V)return 0;if(Array.isArray(V))for(V=0,E=0;E<S.pull.length;E++)S.pull[E]>V&&(V=S.pull[E]);return V}function z(S,E){for(var V=[],Q=0;Q<S.length;Q++){var tt=S[Q][0],rt=tt.trace,ot=rt.domain,H=E.w*(ot.x[1]-ot.x[0]),F=E.h*(ot.y[1]-ot.y[0]);rt.title.text&&rt.title.position!=="middle center"&&(F-=N(tt,E));var R=H/2,j=F/2;rt.type!=="funnelarea"||rt.scalegroup||(j/=rt.aspectratio),tt.r=Math.min(R,j)/(1+G(rt)),tt.cx=E.l+E.w*(rt.domain.x[1]+rt.domain.x[0])/2,tt.cy=E.t+E.h*(1-rt.domain.y[0])-F/2,rt.title.text&&rt.title.position.indexOf("bottom")!==-1&&(tt.cy-=N(tt,E)),rt.scalegroup&&V.indexOf(rt.scalegroup)===-1&&V.push(rt.scalegroup)}(function(J,q){for(var $,et,st,yt=0;yt<q.length;yt++){var St=1/0,Lt=q[yt];for(et=0;et<J.length;et++)if((st=($=J[et][0]).trace).scalegroup===Lt){var It;if(st.type==="pie")It=$.r*$.r;else if(st.type==="funnelarea"){var it,ft;st.aspectratio>1?ft=(it=$.r)/st.aspectratio:it=(ft=$.r)*st.aspectratio,It=(it*=(1+st.baseratio)/2)*ft}St=Math.min(St,It/$.vTotal)}for(et=0;et<J.length;et++)if((st=($=J[et][0]).trace).scalegroup===Lt){var dt=St*$.vTotal;st.type==="funnelarea"&&(dt/=(1+st.baseratio)/2,dt/=st.aspectratio),$.r=Math.sqrt(dt)}}})(S,V)}function Y(S,E){return[S*Math.sin(E),-S*Math.cos(E)]}function Z(S,E,V){var Q=S._fullLayout,tt=V.trace,rt=tt.texttemplate,ot=tt.textinfo;if(!rt&&ot&&ot!=="none"){var H,F=ot.split("+"),R=function(It){return F.indexOf(It)!==-1},j=R("label"),J=R("text"),q=R("value"),$=R("percent"),et=Q.separators;if(H=j?[E.label]:[],J){var st=m.getFirstFilled(tt.text,E.pts);x(st)&&H.push(st)}q&&H.push(m.formatPieValue(E.v,et)),$&&H.push(m.formatPiePercent(E.v/V.vTotal,et)),E.text=H.join("<br>")}if(rt){var yt=r.castOption(tt,E.i,"texttemplate");if(yt){var St=function(It){return{label:It.label,value:It.v,valueLabel:m.formatPieValue(It.v,Q.separators),percent:It.v/V.vTotal,percentLabel:m.formatPiePercent(It.v/V.vTotal,Q.separators),color:It.color,text:It.text,customdata:r.castOption(tt,It.i,"customdata")}}(E),Lt=m.getFirstFilled(tt.text,E.pts);(x(Lt)||Lt==="")&&(St.text=Lt),E.text=r.texttemplateString(yt,St,S._fullLayout._d3locale,St,tt._meta||{})}else E.text=""}}function nt(S,E){var V=S.rotate*Math.PI/180,Q=Math.cos(V),tt=Math.sin(V),rt=(E.left+E.right)/2,ot=(E.top+E.bottom)/2;S.textX=rt*Q-ot*tt,S.textY=rt*tt+ot*Q,S.noCenter=!0}X.exports={plot:function(S,E){var V=S._context.staticPlot,Q=S._fullLayout,tt=Q._size;h("pie",Q),b(E,S),z(E,tt);var rt=r.makeTraceGroups(Q._pielayer,E,"trace").each(function(ot){var H=f.select(this),F=ot[0],R=F.trace;(function(j){var J,q,$,et=j[0],st=et.r,yt=et.trace,St=m.getRotationAngle(yt.rotation),Lt=2*Math.PI/et.vTotal,It="px0",it="px1";if(yt.direction==="counterclockwise"){for(J=0;J<j.length&&j[J].hidden;J++);if(J===j.length)return;St+=Lt*j[J].v,Lt*=-1,It="px1",it="px0"}for($=Y(st,St),J=0;J<j.length;J++)(q=j[J]).hidden||(q[It]=$,q.startangle=St,St+=Lt*q.v/2,q.pxmid=Y(st,St),q.midangle=St,$=Y(st,St+=Lt*q.v/2),q.stopangle=St,q[it]=$,q.largeArc=q.v>et.vTotal/2?1:0,q.halfangle=Math.PI*Math.min(q.v/et.vTotal,.5),q.ring=1-yt.hole,q.rInscribed=_(q,et))})(ot),H.attr("stroke-linejoin","round"),H.each(function(){var j=f.select(this).selectAll("g.slice").data(ot);j.enter().append("g").classed("slice",!0),j.exit().remove();var J=[[[],[]],[[],[]]],q=!1;j.each(function(it,ft){if(it.hidden)f.select(this).selectAll("path,g").remove();else{it.pointNumber=it.i,it.curveNumber=R.index,J[it.pxmid[1]<0?0:1][it.pxmid[0]<0?0:1].push(it);var dt=F.cx,xt=F.cy,Pt=f.select(this),Ct=Pt.selectAll("path.surface").data([it]);if(Ct.enter().append("path").classed("surface",!0).style({"pointer-events":V?"none":"all"}),Pt.call(w,S,ot),R.pull){var lt=+m.castOption(R.pull,it.pts)||0;lt>0&&(dt+=lt*it.pxmid[0],xt+=lt*it.pxmid[1])}it.cxFinal=dt,it.cyFinal=xt;var ht=R.hole;if(it.v===F.vTotal){var vt="M"+(dt+it.px0[0])+","+(xt+it.px0[1])+_t(it.px0,it.pxmid,!0,1)+_t(it.pxmid,it.px0,!0,1)+"Z";ht?Ct.attr("d","M"+(dt+ht*it.px0[0])+","+(xt+ht*it.px0[1])+_t(it.px0,it.pxmid,!1,ht)+_t(it.pxmid,it.px0,!1,ht)+"Z"+vt):Ct.attr("d",vt)}else{var gt=_t(it.px0,it.px1,!0,1);if(ht){var mt=1-ht;Ct.attr("d","M"+(dt+ht*it.px1[0])+","+(xt+ht*it.px1[1])+_t(it.px1,it.px0,!1,ht)+"l"+mt*it.px0[0]+","+mt*it.px0[1]+gt+"Z")}else Ct.attr("d","M"+dt+","+xt+"l"+it.px0[0]+","+it.px0[1]+gt+"Z")}Z(S,it,F);var Tt=m.castOption(R.textposition,it.pts),kt=Pt.selectAll("g.slicetext").data(it.text&&Tt!=="none"?[0]:[]);kt.enter().append("g").classed("slicetext",!0),kt.exit().remove(),kt.each(function(){var At=r.ensureSingle(f.select(this),"text","",function(de){de.attr("data-notex",1)}),Mt=r.ensureUniformFontSize(S,Tt==="outside"?function(de,xe,Dt){return{color:m.castOption(de.outsidetextfont.color,xe.pts)||m.castOption(de.textfont.color,xe.pts)||Dt.color,family:m.castOption(de.outsidetextfont.family,xe.pts)||m.castOption(de.textfont.family,xe.pts)||Dt.family,size:m.castOption(de.outsidetextfont.size,xe.pts)||m.castOption(de.textfont.size,xe.pts)||Dt.size}}(R,it,Q.font):p(R,it,Q.font));At.text(it.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(e.font,Mt).call(o.convertToTspans,S);var Rt,Yt=e.bBox(At.node());if(Tt==="outside")Rt=I(Yt,it);else if(Rt=T(Yt,it,F),Tt==="auto"&&Rt.scale<1){var zt=r.ensureUniformFontSize(S,R.outsidetextfont);At.call(e.font,zt),Rt=I(Yt=e.bBox(At.node()),it)}var Xt=Rt.textPosAngle,Kt=Xt===void 0?it.pxmid:Y(F.r,Xt);if(Rt.targetX=dt+Kt[0]*Rt.rCenter+(Rt.x||0),Rt.targetY=xt+Kt[1]*Rt.rCenter+(Rt.y||0),nt(Rt,Yt),Rt.outside){var se=Rt.targetY;it.yLabelMin=se-Yt.height/2,it.yLabelMid=se,it.yLabelMax=se+Yt.height/2,it.labelExtraX=0,it.labelExtraY=0,q=!0}Rt.fontSize=Mt.size,u(R.type,Rt,Q),ot[ft].transform=Rt,r.setTransormAndDisplay(At,Rt)})}function _t(At,Mt,Rt,Yt){var zt=Yt*(Mt[0]-At[0]),Xt=Yt*(Mt[1]-At[1]);return"a"+Yt*F.r+","+Yt*F.r+" 0 "+it.largeArc+(Rt?" 1 ":" 0 ")+zt+","+Xt}});var $=f.select(this).selectAll("g.titletext").data(R.title.text?[0]:[]);if($.enter().append("g").classed("titletext",!0),$.exit().remove(),$.each(function(){var it,ft=r.ensureSingle(f.select(this),"text","",function(xt){xt.attr("data-notex",1)}),dt=R.title.text;R._meta&&(dt=r.templateString(dt,R._meta)),ft.text(dt).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(e.font,R.title.font).call(o.convertToTspans,S),it=R.title.position==="middle center"?function(xt){var Pt=Math.sqrt(xt.titleBox.width*xt.titleBox.width+xt.titleBox.height*xt.titleBox.height);return{x:xt.cx,y:xt.cy,scale:xt.trace.hole*xt.r*2/Pt,tx:0,ty:-xt.titleBox.height/2+xt.trace.title.font.size}}(F):O(F,tt),ft.attr("transform",l(it.x,it.y)+i(Math.min(1,it.scale))+l(it.tx,it.ty))}),q&&function(it,ft){var dt,xt,Pt,Ct,lt,ht,vt,gt,mt,Tt,kt,_t,At;function Mt(Xt,Kt){return Xt.pxmid[1]-Kt.pxmid[1]}function Rt(Xt,Kt){return Kt.pxmid[1]-Xt.pxmid[1]}function Yt(Xt,Kt){Kt||(Kt={});var se,de,xe,Dt,wt=Kt.labelExtraY+(xt?Kt.yLabelMax:Kt.yLabelMin),Ut=xt?Xt.yLabelMin:Xt.yLabelMax,Wt=xt?Xt.yLabelMax:Xt.yLabelMin,me=Xt.cyFinal+lt(Xt.px0[1],Xt.px1[1]),Vt=wt-Ut;if(Vt*vt>0&&(Xt.labelExtraY=Vt),Array.isArray(ft.pull))for(de=0;de<Tt.length;de++)(xe=Tt[de])===Xt||(m.castOption(ft.pull,Xt.pts)||0)>=(m.castOption(ft.pull,xe.pts)||0)||((Xt.pxmid[1]-xe.pxmid[1])*vt>0?(Vt=xe.cyFinal+lt(xe.px0[1],xe.px1[1])-Ut-Xt.labelExtraY)*vt>0&&(Xt.labelExtraY+=Vt):(Wt+Xt.labelExtraY-me)*vt>0&&(se=3*ht*Math.abs(de-Tt.indexOf(Xt)),(Dt=xe.cxFinal+Ct(xe.px0[0],xe.px1[0])+se-(Xt.cxFinal+Xt.pxmid[0])-Xt.labelExtraX)*ht>0&&(Xt.labelExtraX+=Dt)))}for(xt=0;xt<2;xt++)for(Pt=xt?Mt:Rt,lt=xt?Math.max:Math.min,vt=xt?1:-1,dt=0;dt<2;dt++){for(Ct=dt?Math.max:Math.min,ht=dt?1:-1,(gt=it[xt][dt]).sort(Pt),mt=it[1-xt][dt],Tt=mt.concat(gt),_t=[],kt=0;kt<gt.length;kt++)gt[kt].yLabelMid!==void 0&&_t.push(gt[kt]);for(At=!1,kt=0;xt&&kt<mt.length;kt++)if(mt[kt].yLabelMid!==void 0){At=mt[kt];break}for(kt=0;kt<_t.length;kt++){var zt=kt&&_t[kt-1];At&&!kt&&(zt=At),Yt(_t[kt],zt)}}}(J,R),function(it,ft){it.each(function(dt){var xt=f.select(this);if(dt.labelExtraX||dt.labelExtraY){var Pt=xt.select("g.slicetext text");dt.transform.targetX+=dt.labelExtraX,dt.transform.targetY+=dt.labelExtraY,r.setTransormAndDisplay(Pt,dt.transform);var Ct=dt.cxFinal+dt.pxmid[0],lt="M"+Ct+","+(dt.cyFinal+dt.pxmid[1]),ht=(dt.yLabelMax-dt.yLabelMin)*(dt.pxmid[0]<0?-1:1)/4;if(dt.labelExtraX){var vt=dt.labelExtraX*dt.pxmid[1]/dt.pxmid[0],gt=dt.yLabelMid+dt.labelExtraY-(dt.cyFinal+dt.pxmid[1]);Math.abs(vt)>Math.abs(gt)?lt+="l"+gt*dt.pxmid[0]/dt.pxmid[1]+","+gt+"H"+(Ct+dt.labelExtraX+ht):lt+="l"+dt.labelExtraX+","+vt+"v"+(gt-vt)+"h"+ht}else lt+="V"+(dt.yLabelMid+dt.labelExtraY)+"h"+ht;r.ensureSingle(xt,"path","textline").call(n.stroke,ft.outsidetextfont.color).attr({"stroke-width":Math.min(2,ft.outsidetextfont.size/8),d:lt,fill:"none"})}else xt.select("path.textline").remove()})}(j,R),q&&R.automargin){var et=e.bBox(H.node()),st=R.domain,yt=tt.w*(st.x[1]-st.x[0]),St=tt.h*(st.y[1]-st.y[0]),Lt=(.5*yt-F.r)/tt.w,It=(.5*St-F.r)/tt.h;g.autoMargin(S,"pie."+R.uid+".automargin",{xl:st.x[0]-Lt,xr:st.x[1]+Lt,yb:st.y[0]-It,yt:st.y[1]+It,l:Math.max(F.cx-F.r-et.left,0),r:Math.max(et.right-(F.cx+F.r),0),b:Math.max(et.bottom-(F.cy+F.r),0),t:Math.max(F.cy-F.r-et.top,0),pad:5})}})});setTimeout(function(){rt.selectAll("tspan").each(function(){var ot=f.select(this);ot.attr("dy")&&ot.attr("dy",ot.attr("dy"))})},0)},formatSliceLabel:Z,transformInsideText:T,determineInsideTextFont:p,positionTitleOutside:O,prerenderTitles:b,layoutAreas:z,attachFxHandlers:w,computeTransform:nt}},8357:function(X,d,t){var f=t(9898),g=t(3463),a=t(2597).resizeText;X.exports=function(n){var e=n._fullLayout._pielayer.selectAll(".trace");a(n,e,"pie"),e.each(function(r){var i=r[0].trace,l=f.select(this);l.style({opacity:i.opacity}),l.selectAll("path.surface").each(function(o){f.select(this).call(g,o,i,n)})})}},3463:function(X,d,t){var f=t(7901),g=t(3581).castOption,a=t(2209);X.exports=function(n,e,r,i){var l=r.marker.line,o=g(l.color,e.pts)||f.defaultLine,c=g(l.width,e.pts)||0;n.call(a,e,r,i).style("stroke-width",c).call(f.stroke,o)}},5225:function(X,d,t){var f=t(1828);X.exports=function(g,a){for(var n=0;n<g.length;n++)g[n].i=n;f.mergeArray(a.text,g,"tx"),f.mergeArray(a.texttemplate,g,"txt"),f.mergeArray(a.hovertext,g,"htx"),f.mergeArray(a.customdata,g,"data"),f.mergeArray(a.textposition,g,"tp"),a.textfont&&(f.mergeArrayCastPositive(a.textfont.size,g,"ts"),f.mergeArray(a.textfont.color,g,"tc"),f.mergeArray(a.textfont.family,g,"tf"));var e=a.marker;if(e){f.mergeArrayCastPositive(e.size,g,"ms"),f.mergeArrayCastPositive(e.opacity,g,"mo"),f.mergeArray(e.symbol,g,"mx"),f.mergeArray(e.angle,g,"ma"),f.mergeArray(e.standoff,g,"mf"),f.mergeArray(e.color,g,"mc");var r=e.line;e.line&&(f.mergeArray(r.color,g,"mlc"),f.mergeArrayCastPositive(r.width,g,"mlw"));var i=e.gradient;i&&i.type!=="none"&&(f.mergeArray(i.type,g,"mgt"),f.mergeArray(i.color,g,"mgc"))}}},2196:function(X,d,t){var f=t(2663).axisHoverFormat,g=t(5386).si,a=t(5386).fF,n=t(693),e=t(1940),r=t(9952).P,i=t(9952).u,l=t(1424),o=t(7581),c=t(1426).extendFlat;X.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:f("x"),yhoverformat:f("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:g({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:a({},{keys:o.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:c({},r,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:i,marker:c({symbol:{valType:"enumerated",values:l.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:c({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},n("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},n("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:e({editType:"calc",colorEditType:"style",arrayOk:!0})}},7761:function(X,d,t){var f=t(2770),g=t(1828),a=t(9298),n=t(2973),e=t(606).BADNUM,r=t(4098),i=t(6922),l=t(5225),o=t(6279);function c(v,x,w,p,b,T,A){var P=x._length,k=v._fullLayout,L=w._id,D=p._id,_=k._firstScatter[y(x)]===x.uid,I=(m(x,k,w,p)||{}).orientation,O=x.fill;w._minDtick=0,p._minDtick=0;var N={padded:!0},G={padded:!0};A&&(N.ppad=G.ppad=A);var z=P<2||b[0]!==b[P-1]||T[0]!==T[P-1];z&&(O==="tozerox"||O==="tonextx"&&(_||I==="h"))?N.tozero=!0:(x.error_y||{}).visible||O!=="tonexty"&&O!=="tozeroy"&&(r.hasMarkers(x)||r.hasText(x))||(N.padded=!1,N.ppad=0),z&&(O==="tozeroy"||O==="tonexty"&&(_||I==="v"))?G.tozero=!0:O!=="tonextx"&&O!=="tozerox"||(G.padded=!1),L&&(x._extremes[L]=a.findExtremes(w,b,N)),D&&(x._extremes[D]=a.findExtremes(p,T,G))}function u(v,x){if(r.hasMarkers(v)){var w,p=v.marker,b=1.6*(v.marker.sizeref||1);if(w=v.marker.sizemode==="area"?function(L){return Math.max(Math.sqrt((L||0)/b),3)}:function(L){return Math.max((L||0)/b,3)},g.isArrayOrTypedArray(p.size)){var T={type:"linear"};a.setConvert(T);for(var A=T.makeCalcdata(v.marker,"size"),P=new Array(x),k=0;k<x;k++)P[k]=w(A[k]);return P}return w(p.size)}}function h(v,x){var w=y(x),p=v._firstScatter;p[w]||(p[w]=x.uid)}function y(v){var x=v.stackgroup;return v.xaxis+v.yaxis+v.type+(x?"-"+x:"")}function m(v,x,w,p){var b=v.stackgroup;if(b){var T=x._scatterStackOpts[w._id+p._id][b],A=T.orientation==="v"?p:w;return A.type==="linear"||A.type==="log"?T:void 0}}X.exports={calc:function(v,x){var w,p,b,T,A,P,k=v._fullLayout,L=x._xA=a.getFromId(v,x.xaxis||"x","x"),D=x._yA=a.getFromId(v,x.yaxis||"y","y"),_=L.makeCalcdata(x,"x"),I=D.makeCalcdata(x,"y"),O=n(x,L,"x",_),N=n(x,D,"y",I),G=O.vals,z=N.vals,Y=x._length,Z=new Array(Y),nt=x.ids,S=m(x,k,L,D),E=!1;h(k,x);var V,Q="x",tt="y";S?(g.pushUnique(S.traceIndices,x._expandedIndex),(w=S.orientation==="v")?(tt="s",V="x"):(Q="s",V="y"),A=S.stackgaps==="interpolate"):c(v,x,L,D,G,z,u(x,Y));var rt=!!x.xperiodalignment,ot=!!x.yperiodalignment;for(p=0;p<Y;p++){var H=Z[p]={},F=f(G[p]),R=f(z[p]);F&&R?(H[Q]=G[p],H[tt]=z[p],rt&&(H.orig_x=_[p],H.xEnd=O.ends[p],H.xStart=O.starts[p]),ot&&(H.orig_y=I[p],H.yEnd=N.ends[p],H.yStart=N.starts[p])):S&&(w?F:R)?(H[V]=w?G[p]:z[p],H.gap=!0,A?(H.s=e,E=!0):H.s=0):H[Q]=H[tt]=e,nt&&(H.id=String(nt[p]))}if(l(Z,x),i(v,x),o(Z,x),S){for(p=0;p<Z.length;)Z[p][V]===e?Z.splice(p,1):p++;if(g.sort(Z,function($,et){return $[V]-et[V]||$.i-et.i}),E){for(p=0;p<Z.length-1&&Z[p].gap;)p++;for((P=Z[p].s)||(P=Z[p].s=0),b=0;b<p;b++)Z[b].s=P;for(T=Z.length-1;T>p&&Z[T].gap;)T--;for(P=Z[T].s,b=Z.length-1;b>T;b--)Z[b].s=P;for(;p<T;)if(Z[++p].gap){for(b=p+1;Z[b].gap;)b++;for(var j=Z[p-1][V],J=Z[p-1].s,q=(Z[b].s-J)/(Z[b][V]-j);p<b;)Z[p].s=J+(Z[p][V]-j)*q,p++}}}return Z},calcMarkerSize:u,calcAxisExpansion:c,setFirstScatter:h,getStackOpts:m}},6279:function(X,d,t){var f=t(1828);X.exports=function(g,a){f.isArrayOrTypedArray(a.selectedpoints)&&f.tagSelected(g,a)}},6922:function(X,d,t){var f=t(2869).hasColorscale,g=t(8803),a=t(4098);X.exports=function(n,e){a.hasLines(e)&&f(e,"line")&&g(n,e,{vals:e.line.color,containerStr:"line",cLetter:"c"}),a.hasMarkers(e)&&(f(e,"marker")&&g(n,e,{vals:e.marker.color,containerStr:"marker",cLetter:"c"}),f(e,"marker.line")&&g(n,e,{vals:e.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},7581:function(X){X.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},2626:function(X,d,t){var f=t(7761),g=t(1661).setGroupPositions;function a(n,e,r,i,l,o,c){l[i]=!0;var u={i:null,gap:!0,s:0};if(u[c]=r,n.splice(e,0,u),e&&r===n[e-1][c]){var h=n[e-1];u.s=h.s,u.i=h.i,u.gap=h.gap}else o&&(u.s=function(y,m,v,x){var w=y[m-1],p=y[m+1];return p?w?w.s+(p.s-w.s)*(v-w[x])/(p[x]-w[x]):p.s:w.s}(n,e,r,c));e||(n[0].t=n[1].t,n[0].trace=n[1].trace,delete n[1].t,delete n[1].trace)}X.exports=function(n,e){n._fullLayout.scattermode==="group"&&function(V,Q){for(var tt=Q.xaxis,rt=Q.yaxis,ot=V._fullLayout,H=V._fullData,F=V.calcdata,R=[],j=[],J=0;J<H.length;J++){var q=H[J];q.visible===!0&&q.type==="scatter"&&q.xaxis===tt._id&&q.yaxis===rt._id&&(q.orientation==="h"?R.push(F[J]):q.orientation==="v"&&j.push(F[J]))}var $={mode:ot.scattermode,gap:ot.scattergap};g(V,tt,rt,j,$),g(V,rt,tt,R,$)}(n,e);var r=e.xaxis,i=e.yaxis,l=r._id+i._id,o=n._fullLayout._scatterStackOpts[l];if(o){var c,u,h,y,m,v,x,w,p,b,T,A,P,k,L,D=n.calcdata;for(var _ in o){var I=(b=o[_]).traceIndices;if(I.length){for(T=b.stackgaps==="interpolate",A=b.groupnorm,b.orientation==="v"?(P="x",k="y"):(P="y",k="x"),L=new Array(I.length),c=0;c<L.length;c++)L[c]=!1;v=D[I[0]];var O=new Array(v.length);for(c=0;c<v.length;c++)O[c]=v[c][P];for(c=1;c<I.length;c++){for(m=D[I[c]],u=h=0;u<m.length;u++){for(x=m[u][P];x>O[h]&&h<O.length;h++)a(m,u,O[h],c,L,T,P),u++;if(x!==O[h]){for(y=0;y<c;y++)a(D[I[y]],h,x,y,L,T,P);O.splice(h,0,x)}h++}for(;h<O.length;h++)a(m,u,O[h],c,L,T,P),u++}var N=O.length;for(u=0;u<v.length;u++){for(w=v[u][k]=v[u].s,c=1;c<I.length;c++)(m=D[I[c]])[0].trace._rawLength=m[0].trace._length,m[0].trace._length=N,w+=m[u].s,m[u][k]=w;if(A)for(p=(A==="fraction"?w:w/100)||1,c=0;c<I.length;c++){var G=D[I[c]][u];G[k]/=p,G.sNorm=G.s/p}}for(c=0;c<I.length;c++){var z=(m=D[I[c]])[0].trace,Y=f.calcMarkerSize(z,z._rawLength),Z=Array.isArray(Y);if(Y&&L[c]||Z){var nt=Y;for(Y=new Array(N),u=0;u<N;u++)Y[u]=m[u].gap?0:Z?nt[m[u].i]:nt}var S=new Array(N),E=new Array(N);for(u=0;u<N;u++)S[u]=m[u].x,E[u]=m[u].y;f.calcAxisExpansion(n,z,r,i,S,E,Y),m[0].t.orientation=b.orientation}}}}}},462:function(X,d,t){var f=t(1828),g=t(6125),a=t(2196);X.exports=function(n,e){var r,i,l;function o(m){return f.coerce(i._input,i,a,m)}if(e.scattermode==="group")for(l=0;l<n.length;l++)(i=n[l]).type==="scatter"&&(r=i._input,g(r,i,e,o));for(l=0;l<n.length;l++){var c=n[l];if(c.type==="scatter"){var u=c.fill;if(u!=="none"&&u!=="toself"&&(c.opacity=void 0,u==="tonexty"||u==="tonextx"))for(var h=l-1;h>=0;h--){var y=n[h];if(y.type==="scatter"&&y.xaxis===c.xaxis&&y.yaxis===c.yaxis){y.opacity=void 0;break}}}}}},7438:function(X,d,t){var f=t(1828),g=t(3972),a=t(2196),n=t(7581),e=t(4098),r=t(7513),i=t(3927),l=t(565),o=t(9508),c=t(1058),u=t(4039),h=t(2410),y=t(8908),m=t(1828).coercePattern;X.exports=function(v,x,w,p){function b(I,O){return f.coerce(v,x,a,I,O)}var T=r(v,x,p,b);if(T||(x.visible=!1),x.visible){i(v,x,p,b),b("xhoverformat"),b("yhoverformat");var A=l(v,x,p,b);p.scattermode==="group"&&x.orientation===void 0&&b("orientation","v");var P=!A&&T<n.PTS_LINESONLY?"lines+markers":"lines";b("text"),b("hovertext"),b("mode",P),e.hasLines(x)&&(c(v,x,w,p,b,{backoff:!0}),u(v,x,b),b("connectgaps"),b("line.simplify")),e.hasMarkers(x)&&o(v,x,w,p,b,{gradient:!0}),e.hasText(x)&&(b("texttemplate"),h(v,x,p,b));var k=[];(e.hasMarkers(x)||e.hasText(x))&&(b("cliponaxis"),b("marker.maxdisplayed"),k.push("points")),b("fill",A?A.fillDflt:"none"),x.fill!=="none"&&(y(v,x,w,b),e.hasLines(x)||u(v,x,b),m(b,"fillpattern",x.fillcolor,!1));var L=(x.line||{}).color,D=(x.marker||{}).color;x.fill!=="tonext"&&x.fill!=="toself"||k.push("fills"),b("hoveron",k.join("+")||"points"),x.hoveron!=="fills"&&b("hovertemplate");var _=g.getComponentMethod("errorbars","supplyDefaults");_(v,x,L||D||w,{axis:"y"}),_(v,x,L||D||w,{axis:"x",inherit:"y"}),f.coerceSelectionMarkerOpacity(x,b)}}},8908:function(X,d,t){var f=t(7901),g=t(1828).isArrayOrTypedArray;X.exports=function(a,n,e,r){var i=!1;if(n.marker){var l=n.marker.color,o=(n.marker.line||{}).color;l&&!g(l)?i=l:o&&!g(o)&&(i=o)}r("fillcolor",f.addOpacity((n.line||{}).color||i||e,.5))}},8225:function(X,d,t){var f=t(9298);X.exports=function(g,a,n){var e={},r={_fullLayout:n},i=f.getFromTrace(r,a,"x"),l=f.getFromTrace(r,a,"y"),o=g.orig_x;o===void 0&&(o=g.x);var c=g.orig_y;return c===void 0&&(c=g.y),e.xLabel=f.tickText(i,i.c2l(o),!0).text,e.yLabel=f.tickText(l,l.c2l(c),!0).text,e}},4603:function(X,d,t){var f=t(7901),g=t(4098);X.exports=function(a,n){var e,r;if(a.mode==="lines")return(e=a.line.color)&&f.opacity(e)?e:a.fillcolor;if(a.mode==="none")return a.fill?a.fillcolor:"";var i=n.mcc||(a.marker||{}).color,l=n.mlcc||((a.marker||{}).line||{}).color;return(r=i&&f.opacity(i)?i:l&&f.opacity(l)&&(n.mlw||((a.marker||{}).line||{}).width)?l:"")?f.opacity(r)<.3?f.addOpacity(r,.3):r:(e=(a.line||{}).color)&&f.opacity(e)&&g.hasLines(a)&&a.line.width?e:a.fillcolor}},6125:function(X,d,t){var f=t(9082).getAxisGroup;X.exports=function(g,a,n,e){var r=a.orientation,i=a[{v:"x",h:"y"}[r]+"axis"],l=f(n,i)+r,o=n._alignmentOpts||{},c=e("alignmentgroup"),u=o[l];u||(u=o[l]={});var h=u[c];h?h.traces.push(a):h=u[c]={traces:[a],alignmentIndex:Object.keys(u).length,offsetGroups:{}};var y=e("offsetgroup"),m=h.offsetGroups,v=m[y];y&&(v||(v=m[y]={offsetIndex:Object.keys(m).length}),a._offsetIndex=v.offsetIndex)}},3720:function(X,d,t){var f=t(1828),g=t(211),a=t(3972),n=t(4603),e=t(7901),r=f.fillText;X.exports=function(i,l,o,c){var u=i.cd,h=u[0].trace,y=i.xa,m=i.ya,v=y.c2p(l),x=m.c2p(o),w=[v,x],p=h.hoveron||"",b=h.mode.indexOf("markers")!==-1?3:.5,T=!!h.xperiodalignment,A=!!h.yperiodalignment;if(p.indexOf("points")!==-1){var P=function(st){var yt=Math.max(b,st.mrc||0),St=y.c2p(st.x)-v,Lt=m.c2p(st.y)-x;return Math.max(Math.sqrt(St*St+Lt*Lt)-yt,1-b/yt)},k=g.getDistanceFunction(c,function(st){if(T){var yt=y.c2p(st.xStart),St=y.c2p(st.xEnd);return v>=Math.min(yt,St)&&v<=Math.max(yt,St)?0:1/0}var Lt=Math.max(3,st.mrc||0),It=1-1/Lt,it=Math.abs(y.c2p(st.x)-v);return it<Lt?It*it/Lt:it-Lt+It},function(st){if(A){var yt=m.c2p(st.yStart),St=m.c2p(st.yEnd);return x>=Math.min(yt,St)&&x<=Math.max(yt,St)?0:1/0}var Lt=Math.max(3,st.mrc||0),It=1-1/Lt,it=Math.abs(m.c2p(st.y)-x);return it<Lt?It*it/Lt:it-Lt+It},P);if(g.getClosest(u,k,i),i.index!==!1){var L=u[i.index],D=y.c2p(L.x,!0),_=m.c2p(L.y,!0),I=L.mrc||1;i.index=L.i;var O=u[0].t.orientation,N=O&&(L.sNorm||L.s),G=O==="h"?N:L.orig_x!==void 0?L.orig_x:L.x,z=O==="v"?N:L.orig_y!==void 0?L.orig_y:L.y;return f.extendFlat(i,{color:n(h,L),x0:D-I,x1:D+I,xLabelVal:G,y0:_-I,y1:_+I,yLabelVal:z,spikeDistance:P(L),hovertemplate:h.hovertemplate}),r(L,h,i),a.getComponentMethod("errorbars","hoverInfo")(L,h,i),[i]}}if(p.indexOf("fills")!==-1&&h._polygons){var Y,Z,nt,S,E,V,Q,tt,rt,ot=h._polygons,H=[],F=!1,R=1/0,j=-1/0,J=1/0,q=-1/0;for(Y=0;Y<ot.length;Y++)(nt=ot[Y]).contains(w)&&(F=!F,H.push(nt),J=Math.min(J,nt.ymin),q=Math.max(q,nt.ymax));if(F){var $=((J=Math.max(J,0))+(q=Math.min(q,m._length)))/2;for(Y=0;Y<H.length;Y++)for(S=H[Y].pts,Z=1;Z<S.length;Z++)(tt=S[Z-1][1])>$!=(rt=S[Z][1])>=$&&(V=S[Z-1][0],Q=S[Z][0],rt-tt&&(E=V+(Q-V)*($-tt)/(rt-tt),R=Math.min(R,E),j=Math.max(j,E)));R=Math.max(R,0),j=Math.min(j,y._length);var et=e.defaultLine;return e.opacity(h.fillcolor)?et=h.fillcolor:e.opacity((h.line||{}).color)&&(et=h.line.color),f.extendFlat(i,{distance:i.maxHoverDistance,x0:R,x1:j,y0:$,y1:$,color:et,hovertemplate:!1}),delete i.index,h.text&&!Array.isArray(h.text)?i.text=String(h.text):i.text=h.name,[i]}}}},7368:function(X,d,t){var f=t(4098);X.exports={hasLines:f.hasLines,hasMarkers:f.hasMarkers,hasText:f.hasText,isBubble:f.isBubble,attributes:t(2196),layoutAttributes:t(1479),supplyDefaults:t(7438),crossTraceDefaults:t(462),supplyLayoutDefaults:t(9334),calc:t(7761).calc,crossTraceCalc:t(2626),arraysToCalcdata:t(5225),plot:t(7399),colorbar:t(4898),formatLabels:t(8225),style:t(6296).style,styleOnSelect:t(6296).styleOnSelect,hoverPoints:t(3720),selectPoints:t(8002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:t(3612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},1479:function(X){X.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},9334:function(X,d,t){var f=t(1828),g=t(1479);X.exports=function(a,n){var e,r=n.barmode==="group";n.scattermode==="group"&&(e=r?n.bargap:.2,f.coerce(a,n,g,"scattergap",e))}},1058:function(X,d,t){var f=t(1828).isArrayOrTypedArray,g=t(2869).hasColorscale,a=t(1586);X.exports=function(n,e,r,i,l,o){o||(o={});var c=(n.marker||{}).color;l("line.color",r),g(n,"line")?a(n,e,i,l,{prefix:"line.",cLetter:"c"}):l("line.color",!f(c)&&c||r),l("line.width"),o.noDash||l("line.dash"),o.backoff&&l("line.backoff")}},4621:function(X,d,t){var f=t(1424),g=t(606),a=g.BADNUM,n=g.LOG_CLIP,e=n+.5,r=n-.5,i=t(1828),l=i.segmentsIntersect,o=i.constrain,c=t(7581);X.exports=function(u,h){var y,m,v,x,w,p,b,T,A,P,k,L,D,_,I,O,N,G,z=h.trace||{},Y=h.xaxis,Z=h.yaxis,nt=Y.type==="log",S=Z.type==="log",E=Y._length,V=Z._length,Q=h.backoff,tt=z.marker,rt=h.connectGaps,ot=h.baseTolerance,H=h.shape,F=H==="linear",R=z.fill&&z.fill!=="none",j=[],J=c.minTolerance,q=u.length,$=new Array(q),et=0;function st(Vt){var ne=u[Vt];if(!ne)return!1;var ie=h.linearized?Y.l2p(ne.x):Y.c2p(ne.x),_e=h.linearized?Z.l2p(ne.y):Z.c2p(ne.y);if(ie===a){if(nt&&(ie=Y.c2p(ne.x,!0)),ie===a)return!1;S&&_e===a&&(ie*=Math.abs(Y._m*V*(Y._m>0?e:r)/(Z._m*E*(Z._m>0?e:r)))),ie*=1e3}if(_e===a){if(S&&(_e=Z.c2p(ne.y,!0)),_e===a)return!1;_e*=1e3}return[ie,_e]}function yt(Vt,ne,ie,_e){var he=ie-Vt,De=_e-ne,fe=.5-Vt,K=.5-ne,at=he*he+De*De,Et=he*fe+De*K;if(Et>0&&Et<at){var Ot=fe*De-K*he;if(Ot*Ot<at)return!0}}function St(Vt,ne){var ie=Vt[0]/E,_e=Vt[1]/V,he=Math.max(0,-ie,ie-1,-_e,_e-1);return he&&N!==void 0&&yt(ie,_e,N,G)&&(he=0),he&&ne&&yt(ie,_e,ne[0]/E,ne[1]/V)&&(he=0),(1+c.toleranceGrowth*he)*ot}function Lt(Vt,ne){var ie=Vt[0]-ne[0],_e=Vt[1]-ne[1];return Math.sqrt(ie*ie+_e*_e)}var It,it,ft,dt,xt,Pt,Ct,lt=c.maxScreensAway,ht=-E*lt,vt=E*(1+lt),gt=-V*lt,mt=V*(1+lt),Tt=[[ht,gt,vt,gt],[vt,gt,vt,mt],[vt,mt,ht,mt],[ht,mt,ht,gt]];function kt(Vt){if(Vt[0]<ht||Vt[0]>vt||Vt[1]<gt||Vt[1]>mt)return[o(Vt[0],ht,vt),o(Vt[1],gt,mt)]}function _t(Vt,ne){return Vt[0]===ne[0]&&(Vt[0]===ht||Vt[0]===vt)||Vt[1]===ne[1]&&(Vt[1]===gt||Vt[1]===mt)||void 0}function At(Vt,ne,ie){return function(_e,he){var De=kt(_e),fe=kt(he),K=[];if(De&&fe&&_t(De,fe))return K;De&&K.push(De),fe&&K.push(fe);var at=2*i.constrain((_e[Vt]+he[Vt])/2,ne,ie)-((De||_e)[Vt]+(fe||he)[Vt]);return at&&((De&&fe?at>0==De[Vt]>fe[Vt]?De:fe:De||fe)[Vt]+=at),K}}function Mt(Vt){var ne=Vt[0],ie=Vt[1],_e=ne===$[et-1][0],he=ie===$[et-1][1];if(!_e||!he)if(et>1){var De=ne===$[et-2][0],fe=ie===$[et-2][1];_e&&(ne===ht||ne===vt)&&De?fe?et--:$[et-1]=Vt:he&&(ie===gt||ie===mt)&&fe?De?et--:$[et-1]=Vt:$[et++]=Vt}else $[et++]=Vt}function Rt(Vt){$[et-1][0]!==Vt[0]&&$[et-1][1]!==Vt[1]&&Mt([ft,dt]),Mt(Vt),xt=null,ft=dt=0}H==="linear"||H==="spline"?Ct=function(Vt,ne){for(var ie=[],_e=0,he=0;he<4;he++){var De=Tt[he],fe=l(Vt[0],Vt[1],ne[0],ne[1],De[0],De[1],De[2],De[3]);fe&&(!_e||Math.abs(fe.x-ie[0][0])>1||Math.abs(fe.y-ie[0][1])>1)&&(fe=[fe.x,fe.y],_e&&Lt(fe,Vt)<Lt(ie[0],Vt)?ie.unshift(fe):ie.push(fe),_e++)}return ie}:H==="hv"||H==="vh"?Ct=function(Vt,ne){var ie=[],_e=kt(Vt),he=kt(ne);return _e&&he&&_t(_e,he)||(_e&&ie.push(_e),he&&ie.push(he)),ie}:H==="hvh"?Ct=At(0,ht,vt):H==="vhv"&&(Ct=At(1,gt,mt));var Yt=i.isArrayOrTypedArray(tt);function zt(Vt){if(Vt&&Q&&(Vt.i=y,Vt.d=u,Vt.trace=z,Vt.marker=Yt?tt[Vt.i]:tt,Vt.backoff=Q),N=Vt[0]/E,G=Vt[1]/V,It=Vt[0]<ht?ht:Vt[0]>vt?vt:0,it=Vt[1]<gt?gt:Vt[1]>mt?mt:0,It||it){if(et)if(xt){var ne=Ct(xt,Vt);ne.length>1&&(Rt(ne[0]),$[et++]=ne[1])}else Pt=Ct($[et-1],Vt)[0],$[et++]=Pt;else $[et++]=[It||Vt[0],it||Vt[1]];var ie=$[et-1];It&&it&&(ie[0]!==It||ie[1]!==it)?(xt&&(ft!==It&&dt!==it?Mt(ft&&dt?(_e=xt,De=(he=Vt)[0]-_e[0],fe=(he[1]-_e[1])/De,(_e[1]*he[0]-he[1]*_e[0])/De>0?[fe>0?ht:vt,mt]:[fe>0?vt:ht,gt]):[ft||It,dt||it]):ft&&dt&&Mt([ft,dt])),Mt([It,it])):ft-It&&dt-it&&Mt([It||ft,it||dt]),xt=Vt,ft=It,dt=it}else xt&&Rt(Ct(xt,Vt)[0]),$[et++]=Vt;var _e,he,De,fe}for(y=0;y<q;y++)if(m=st(y)){for(et=0,xt=null,zt(m),y++;y<q;y++){if(!(x=st(y))){if(rt)continue;break}if(F&&h.simplify){var Xt=st(y+1);if(P=Lt(x,m),R&&(et===0||et===q-1)||!(P<St(x,Xt)*J)){for(T=[(x[0]-m[0])/P,(x[1]-m[1])/P],w=m,k=P,L=_=I=0,b=!1,v=x,y++;y<u.length;y++){if(p=Xt,Xt=st(y+1),!p){if(rt)continue;break}if(O=(A=[p[0]-m[0],p[1]-m[1]])[0]*T[1]-A[1]*T[0],_=Math.min(_,O),(I=Math.max(I,O))-_>St(p,Xt))break;v=p,(D=A[0]*T[0]+A[1]*T[1])>k?(k=D,x=p,b=!1):D<L&&(L=D,w=p,b=!0)}if(b?(zt(x),v!==w&&zt(w)):(w!==m&&zt(w),v!==x&&zt(x)),zt(v),y>=u.length||!p)break;zt(p),m=p}}else zt(x)}xt&&Mt([ft||xt[0],dt||xt[1]]),j.push($.slice(0,et))}var Kt=H.slice(H.length-1);if(Q&&Kt!=="h"&&Kt!=="v"){for(var se=!1,de=-1,xe=[],Dt=0;Dt<j.length;Dt++)for(var wt=0;wt<j[Dt].length-1;wt++){var Ut=j[Dt][wt],Wt=j[Dt][wt+1],me=f.applyBackoff(Wt,Ut);me[0]===Wt[0]&&me[1]===Wt[1]||(se=!0),xe[de+1]||(xe[++de]=[Ut,[me[0],me[1]]])}return se?xe:j}return j}},4039:function(X){X.exports=function(d,t,f){f("line.shape")==="spline"&&f("line.smoothing")}},8687:function(X){var d={tonextx:1,tonexty:1,tonext:1};X.exports=function(t,f,g){var a,n,e,r,i,l={},o=!1,c=-1,u=0,h=-1;for(n=0;n<g.length;n++)(e=(a=g[n][0].trace).stackgroup||"")?e in l?i=l[e]:(i=l[e]=u,u++):a.fill in d&&h>=0?i=h:(i=h=u,u++),i<c&&(o=!0),a._groupIndex=c=i;var y=g.slice();o&&y.sort(function(v,x){var w=v[0].trace,p=x[0].trace;return w._groupIndex-p._groupIndex||w.index-p.index});var m={};for(n=0;n<y.length;n++)e=(a=y[n][0].trace).stackgroup||"",a.visible===!0?(a._nexttrace=null,a.fill in d&&(r=m[e],a._prevtrace=r||null,r&&(r._nexttrace=a)),a._ownfill=a.fill&&(a.fill.substr(0,6)==="tozero"||a.fill==="toself"||a.fill.substr(0,2)==="to"&&!a._prevtrace),m[e]=a):a._prevtrace=a._nexttrace=a._ownfill=null;return y}},9984:function(X,d,t){var f=t(2770);X.exports=function(g,a){a||(a=2);var n=g.marker,e=n.sizeref||1,r=n.sizemin||0,i=n.sizemode==="area"?function(l){return Math.sqrt(l/e)}:function(l){return l/e};return function(l){var o=i(l/a);return f(o)&&o>0?Math.max(o,r):0}}},4898:function(X){X.exports={container:"marker",min:"cmin",max:"cmax"}},9508:function(X,d,t){var f=t(7901),g=t(2869).hasColorscale,a=t(1586),n=t(4098);X.exports=function(e,r,i,l,o,c){var u=n.isBubble(e),h=(e.line||{}).color;c=c||{},h&&(i=h),o("marker.symbol"),o("marker.opacity",u?.7:1),o("marker.size"),c.noAngle||(o("marker.angle"),c.noAngleRef||o("marker.angleref"),c.noStandOff||o("marker.standoff")),o("marker.color",i),g(e,"marker")&&a(e,r,l,o,{prefix:"marker.",cLetter:"c"}),c.noSelect||(o("selected.marker.color"),o("unselected.marker.color"),o("selected.marker.size"),o("unselected.marker.size")),c.noLine||(o("marker.line.color",h&&!Array.isArray(h)&&r.marker.color!==h?h:u?f.background:f.defaultLine),g(e,"marker.line")&&a(e,r,l,o,{prefix:"marker.line.",cLetter:"c"}),o("marker.line.width",u?1:0)),u&&(o("marker.sizeref"),o("marker.sizemin"),o("marker.sizemode")),c.gradient&&o("marker.gradient.type")!=="none"&&o("marker.gradient.color")}},3927:function(X,d,t){var f=t(1828).dateTick0,g=t(606).ONEWEEK;function a(n,e){return f(e,n%g==0?1:0)}X.exports=function(n,e,r,i,l){if(l||(l={x:!0,y:!0}),l.x){var o=i("xperiod");o&&(i("xperiod0",a(o,e.xcalendar)),i("xperiodalignment"))}if(l.y){var c=i("yperiod");c&&(i("yperiod0",a(c,e.ycalendar)),i("yperiodalignment"))}}},7399:function(X,d,t){var f=t(9898),g=t(3972),a=t(1828),n=a.ensureSingle,e=a.identity,r=t(1424),i=t(4098),l=t(4621),o=t(8687),c=t(1082).tester;function u(h,y,m,v,x,w,p){var b,T=h._context.staticPlot;(function(Ct,lt,ht,vt,gt){var mt=ht.xaxis,Tt=ht.yaxis,kt=f.extent(a.simpleMap(mt.range,mt.r2c)),_t=f.extent(a.simpleMap(Tt.range,Tt.r2c)),At=vt[0].trace;if(i.hasMarkers(At)){var Mt=At.marker.maxdisplayed;if(Mt!==0){var Rt=vt.filter(function(Kt){return Kt.x>=kt[0]&&Kt.x<=kt[1]&&Kt.y>=_t[0]&&Kt.y<=_t[1]}),Yt=Math.ceil(Rt.length/Mt),zt=0;gt.forEach(function(Kt,se){var de=Kt[0].trace;i.hasMarkers(de)&&de.marker.maxdisplayed>0&&se<lt&&zt++});var Xt=Math.round(zt*Yt/3+Math.floor(zt/3)*Yt/7.1);vt.forEach(function(Kt){delete Kt.vis}),Rt.forEach(function(Kt,se){Math.round((se+Xt)%Yt)===0&&(Kt.vis=!0)})}}})(0,y,m,v,x);var A=!!p&&p.duration>0;function P(Ct){return A?Ct.transition():Ct}var k=m.xaxis,L=m.yaxis,D=v[0].trace,_=D.line,I=f.select(w),O=n(I,"g","errorbars"),N=n(I,"g","lines"),G=n(I,"g","points"),z=n(I,"g","text");if(g.getComponentMethod("errorbars","plot")(h,O,m,p),D.visible===!0){var Y,Z;P(I).style("opacity",D.opacity);var nt=D.fill.charAt(D.fill.length-1);nt!=="x"&&nt!=="y"&&(nt=""),v[0][m.isRangePlot?"nodeRangePlot3":"node3"]=I;var S,E,V="",Q=[],tt=D._prevtrace;tt&&(V=tt._prevRevpath||"",Z=tt._nextFill,Q=tt._polygons);var rt,ot,H,F,R,j,J,q="",$="",et=[],st=a.noop;if(Y=D._ownFill,i.hasLines(D)||D.fill!=="none"){for(Z&&Z.datum(v),["hv","vh","hvh","vhv"].indexOf(_.shape)!==-1?(rt=r.steps(_.shape),ot=r.steps(_.shape.split("").reverse().join(""))):rt=ot=_.shape==="spline"?function(Ct){var lt=Ct[Ct.length-1];return Ct.length>1&&Ct[0][0]===lt[0]&&Ct[0][1]===lt[1]?r.smoothclosed(Ct.slice(1),_.smoothing):r.smoothopen(Ct,_.smoothing)}:function(Ct){return"M"+Ct.join("L")},H=function(Ct){return ot(Ct.reverse())},et=l(v,{xaxis:k,yaxis:L,trace:D,connectGaps:D.connectgaps,baseTolerance:Math.max(_.width||1,3)/4,shape:_.shape,backoff:_.backoff,simplify:_.simplify,fill:D.fill}),J=D._polygons=new Array(et.length),b=0;b<et.length;b++)D._polygons[b]=c(et[b]);et.length&&(F=et[0][0],j=(R=et[et.length-1])[R.length-1]),st=function(Ct){return function(lt){if(S=rt(lt),E=H(lt),q?nt?(q+="L"+S.substr(1),$=E+"L"+$.substr(1)):(q+="Z"+S,$=E+"Z"+$):(q=S,$=E),i.hasLines(D)){var ht=f.select(this);if(ht.datum(v),Ct)P(ht.style("opacity",0).attr("d",S).call(r.lineGroupStyle)).style("opacity",1);else{var vt=P(ht);vt.attr("d",S),r.singleLineStyle(v,vt)}}}}}var yt=N.selectAll(".js-line").data(et);P(yt.exit()).style("opacity",0).remove(),yt.each(st(!1)),yt.enter().append("path").classed("js-line",!0).style("vector-effect",T?"none":"non-scaling-stroke").call(r.lineGroupStyle).each(st(!0)),r.setClipUrl(yt,m.layerClipId,h),et.length?(Y?(Y.datum(v),F&&j&&(nt?(nt==="y"?F[1]=j[1]=L.c2p(0,!0):nt==="x"&&(F[0]=j[0]=k.c2p(0,!0)),P(Y).attr("d","M"+j+"L"+F+"L"+q.substr(1)).call(r.singleFillStyle,h)):P(Y).attr("d",q+"Z").call(r.singleFillStyle,h))):Z&&(D.fill.substr(0,6)==="tonext"&&q&&V?(D.fill==="tonext"?P(Z).attr("d",q+"Z"+V+"Z").call(r.singleFillStyle,h):P(Z).attr("d",q+"L"+V.substr(1)+"Z").call(r.singleFillStyle,h),D._polygons=D._polygons.concat(Q)):(Lt(Z),D._polygons=null)),D._prevRevpath=$,D._prevPolygons=J):(Y?Lt(Y):Z&&Lt(Z),D._polygons=D._prevRevpath=D._prevPolygons=null),G.datum(v),z.datum(v),function(Ct,lt,ht){var vt,gt=ht[0].trace,mt=i.hasMarkers(gt),Tt=i.hasText(gt),kt=xt(gt),_t=Pt,At=Pt;if(mt||Tt){var Mt=e,Rt=gt.stackgroup,Yt=Rt&&h._fullLayout._scatterStackOpts[k._id+L._id][Rt].stackgaps==="infer zero";gt.marker.maxdisplayed||gt._needsCull?Mt=Yt?it:It:Rt&&!Yt&&(Mt=ft),mt&&(_t=Mt),Tt&&(At=Mt)}var zt,Xt=(vt=Ct.selectAll("path.point").data(_t,kt)).enter().append("path").classed("point",!0);A&&Xt.call(r.pointStyle,gt,h).call(r.translatePoints,k,L).style("opacity",0).transition().style("opacity",1),vt.order(),mt&&(zt=r.makePointStyleFns(gt)),vt.each(function(Kt){var se=f.select(this),de=P(se);r.translatePoint(Kt,de,k,L)?(r.singlePointStyle(Kt,de,gt,zt,h),m.layerClipId&&r.hideOutsideRangePoint(Kt,de,k,L,gt.xcalendar,gt.ycalendar),gt.customdata&&se.classed("plotly-customdata",Kt.data!==null&&Kt.data!==void 0)):de.remove()}),A?vt.exit().transition().style("opacity",0).remove():vt.exit().remove(),(vt=lt.selectAll("g").data(At,kt)).enter().append("g").classed("textpoint",!0).append("text"),vt.order(),vt.each(function(Kt){var se=f.select(this),de=P(se.select("text"));r.translatePoint(Kt,de,k,L)?m.layerClipId&&r.hideOutsideRangePoint(Kt,se,k,L,gt.xcalendar,gt.ycalendar):se.remove()}),vt.selectAll("text").call(r.textPointStyle,gt,h).each(function(Kt){var se=k.c2p(Kt.x),de=L.c2p(Kt.y);f.select(this).selectAll("tspan.line").each(function(){P(f.select(this)).attr({x:se,y:de})})}),vt.exit().remove()}(G,z,v);var St=D.cliponaxis===!1?null:m.layerClipId;r.setClipUrl(G,St,h),r.setClipUrl(z,St,h)}function Lt(Ct){P(Ct).attr("d","M0,0Z")}function It(Ct){return Ct.filter(function(lt){return!lt.gap&&lt.vis})}function it(Ct){return Ct.filter(function(lt){return lt.vis})}function ft(Ct){return Ct.filter(function(lt){return!lt.gap})}function dt(Ct){return Ct.id}function xt(Ct){if(Ct.ids)return dt}function Pt(){return!1}}X.exports=function(h,y,m,v,x,w){var p,b,T=!x,A=!!x&&x.duration>0,P=o(h,y,m);(p=v.selectAll("g.trace").data(P,function(k){return k[0].trace.uid})).enter().append("g").attr("class",function(k){return"trace scatter trace"+k[0].trace.uid}).style("stroke-miterlimit",2),p.order(),function(k,L,D){L.each(function(_){var I=n(f.select(this),"g","fills");r.setClipUrl(I,D.layerClipId,k);var O=_[0].trace,N=[];O._ownfill&&N.push("_ownFill"),O._nexttrace&&N.push("_nextFill");var G=I.selectAll("g").data(N,e);G.enter().append("g"),G.exit().each(function(z){O[z]=null}).remove(),G.order().each(function(z){O[z]=n(f.select(this),"path","js-fill")})})}(h,p,y),A?(w&&(b=w()),f.transition().duration(x.duration).ease(x.easing).each("end",function(){b&&b()}).each("interrupt",function(){b&&b()}).each(function(){v.selectAll("g.trace").each(function(k,L){u(h,L,y,k,P,this,x)})})):p.each(function(k,L){u(h,L,y,k,P,this,x)}),T&&p.exit().remove(),v.selectAll("path:not([d])").remove()}},8002:function(X,d,t){var f=t(4098);X.exports=function(g,a){var n,e,r,i,l=g.cd,o=g.xaxis,c=g.yaxis,u=[],h=l[0].trace;if(!f.hasMarkers(h)&&!f.hasText(h))return[];if(a===!1)for(n=0;n<l.length;n++)l[n].selected=0;else for(n=0;n<l.length;n++)e=l[n],r=o.c2p(e.x),i=c.c2p(e.y),e.i!==null&&a.contains([r,i],!1,n,g)?(u.push({pointNumber:e.i,x:o.c2d(e.x),y:c.c2d(e.y)}),e.selected=1):e.selected=0;return u}},565:function(X){var d=["orientation","groupnorm","stackgaps"];X.exports=function(t,f,g,a){var n=g._scatterStackOpts,e=a("stackgroup");if(e){var r=f.xaxis+f.yaxis,i=n[r];i||(i=n[r]={});var l=i[e],o=!1;l?l.traces.push(f):(l=i[e]={traceIndices:[],traces:[f]},o=!0);for(var c={orientation:f.x&&!f.y?"h":"v"},u=0;u<d.length;u++){var h=d[u],y=h+"Found";if(!l[y]){var m=t[h]!==void 0,v=h==="orientation";if((m||o)&&(l[h]=a(h,c[h]),v&&(l.fillDflt=l[h]==="h"?"tonextx":"tonexty"),m&&(l[y]=!0,!o&&(delete l.traces[0][h],v))))for(var x=0;x<l.traces.length-1;x++){var w=l.traces[x];w._input.fill!==w.fill&&(w.fill=l.fillDflt)}}}return l}}},6296:function(X,d,t){var f=t(9898),g=t(1424),a=t(3972);function n(r,i,l){g.pointStyle(r.selectAll("path.point"),i,l)}function e(r,i,l){g.textPointStyle(r.selectAll("text"),i,l)}X.exports={style:function(r){var i=f.select(r).selectAll("g.trace.scatter");i.style("opacity",function(l){return l[0].trace.opacity}),i.selectAll("g.points").each(function(l){n(f.select(this),l.trace||l[0].trace,r)}),i.selectAll("g.text").each(function(l){e(f.select(this),l.trace||l[0].trace,r)}),i.selectAll("g.trace path.js-line").call(g.lineGroupStyle),i.selectAll("g.trace path.js-fill").call(g.fillGroupStyle,r),a.getComponentMethod("errorbars","style")(i)},stylePoints:n,styleText:e,styleOnSelect:function(r,i,l){var o=i[0].trace;o.selectedpoints?(g.selectedPointStyle(l.selectAll("path.point"),o),g.selectedTextStyle(l.selectAll("text"),o)):(n(l,o,r),e(l,o,r))}}},4098:function(X,d,t){var f=t(1828);X.exports={hasLines:function(g){return g.visible&&g.mode&&g.mode.indexOf("lines")!==-1},hasMarkers:function(g){return g.visible&&(g.mode&&g.mode.indexOf("markers")!==-1||g.type==="splom")},hasText:function(g){return g.visible&&g.mode&&g.mode.indexOf("text")!==-1},isBubble:function(g){return f.isPlainObject(g.marker)&&f.isArrayOrTypedArray(g.marker.size)}}},2410:function(X,d,t){var f=t(1828);X.exports=function(g,a,n,e,r){r=r||{},e("textposition"),f.coerceFont(e,"textfont",r.font||n.font),r.noSelect||(e("selected.textfont.color"),e("unselected.textfont.color"))}},7513:function(X,d,t){var f=t(1828),g=t(3972);X.exports=function(a,n,e,r){var i,l=r("x"),o=r("y");if(g.getComponentMethod("calendars","handleTraceDefaults")(a,n,["x","y"],e),l){var c=f.minRowLength(l);o?i=Math.min(c,f.minRowLength(o)):(i=c,r("y0"),r("dy"))}else{if(!o)return 0;i=f.minRowLength(o),r("x0"),r("dx")}return n._length=i,i}},2887:function(X,d,t){var f=t(9298),g=t(1828),a=t(6281),n=t(9344).p,e=t(606).BADNUM;d.moduleType="transform",d.name="aggregate";var r=d.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},i=r.aggregations;function l(h,y,m,v){if(v.enabled){for(var x=v.target,w=g.nestedProperty(y,x),p=w.get(),b=function(P,k){var L=P.func,D=k.d2c,_=k.c2d;switch(L){case"count":return o;case"first":return c;case"last":return u;case"sum":return function(I,O){for(var N=0,G=0;G<O.length;G++){var z=D(I[O[G]]);z!==e&&(N+=z)}return _(N)};case"avg":return function(I,O){for(var N=0,G=0,z=0;z<O.length;z++){var Y=D(I[O[z]]);Y!==e&&(N+=Y,G++)}return G?_(N/G):e};case"min":return function(I,O){for(var N=1/0,G=0;G<O.length;G++){var z=D(I[O[G]]);z!==e&&(N=Math.min(N,z))}return N===1/0?e:_(N)};case"max":return function(I,O){for(var N=-1/0,G=0;G<O.length;G++){var z=D(I[O[G]]);z!==e&&(N=Math.max(N,z))}return N===-1/0?e:_(N)};case"range":return function(I,O){for(var N=1/0,G=-1/0,z=0;z<O.length;z++){var Y=D(I[O[z]]);Y!==e&&(N=Math.min(N,Y),G=Math.max(G,Y))}return G===-1/0||N===1/0?e:_(G-N)};case"change":return function(I,O){var N=D(I[O[0]]),G=D(I[O[O.length-1]]);return N===e||G===e?e:_(G-N)};case"median":return function(I,O){for(var N=[],G=0;G<O.length;G++){var z=D(I[O[G]]);z!==e&&N.push(z)}if(!N.length)return e;N.sort(g.sorterAsc);var Y=(N.length-1)/2;return _((N[Math.floor(Y)]+N[Math.ceil(Y)])/2)};case"mode":return function(I,O){for(var N={},G=0,z=e,Y=0;Y<O.length;Y++){var Z=D(I[O[Y]]);if(Z!==e){var nt=N[Z]=(N[Z]||0)+1;nt>G&&(G=nt,z=Z)}}return G?_(z):e};case"rms":return function(I,O){for(var N=0,G=0,z=0;z<O.length;z++){var Y=D(I[O[z]]);Y!==e&&(N+=Y*Y,G++)}return G?_(Math.sqrt(N/G)):e};case"stddev":return function(I,O){var N,G=0,z=0,Y=1,Z=e;for(N=0;N<O.length&&Z===e;N++)Z=D(I[O[N]]);if(Z===e)return e;for(;N<O.length;N++){var nt=D(I[O[N]]);if(nt!==e){var S=nt-Z;G+=S,z+=S*S,Y++}}var E=P.funcmode==="sample"?Y-1:Y;return E?Math.sqrt((z-G*G/Y)/E):0}}}(v,f.getDataConversions(h,y,x,p)),T=new Array(m.length),A=0;A<m.length;A++)T[A]=b(p,m[A]);w.set(T),v.func==="count"&&g.pushUnique(y._arrayAttrs,x)}}function o(h,y){return y.length}function c(h,y){return h[y[0]]}function u(h,y){return h[y[y.length-1]]}d.supplyDefaults=function(h,y){var m,v={};function x(_,I){return g.coerce(h,v,r,_,I)}if(!x("enabled"))return v;var w=a.findArrayAttributes(y),p={};for(m=0;m<w.length;m++)p[w[m]]=1;var b=x("groups");if(!Array.isArray(b)){if(!p[b])return v.enabled=!1,v;p[b]=0}var T,A=h.aggregations||[],P=v.aggregations=new Array(A.length);function k(_,I){return g.coerce(A[m],T,i,_,I)}for(m=0;m<A.length;m++){T={_index:m};var L=k("target"),D=k("func");k("enabled")&&L&&(p[L]||D==="count"&&p[L]===void 0)?(D==="stddev"&&k("funcmode"),p[L]=0,P[m]=T):P[m]={enabled:!1,_index:m}}for(m=0;m<w.length;m++)p[w[m]]&&P.push({target:w[m],func:i.func.dflt,enabled:!0,_index:-1});return v},d.calcTransform=function(h,y,m){if(m.enabled){var v=m.groups,x=g.getTargetArray(y,{target:v});if(x){var w,p,b,T,A={},P={},k=[],L=n(y.transforms,m),D=x.length;for(y._length&&(D=Math.min(D,y._length)),w=0;w<D;w++)(b=A[p=x[w]])===void 0?(A[p]=k.length,T=[w],k.push(T),P[A[p]]=L(w)):(k[b].push(w),P[A[p]]=(P[A[p]]||[]).concat(L(w)));m._indexToPoints=P;var _=m.aggregations;for(w=0;w<_.length;w++)l(h,y,k,_[w]);typeof v=="string"&&l(h,y,k,{target:v,func:"first",enabled:!0}),y._length=k.length}}}},4382:function(X,d,t){var f=t(1828),g=t(3972),a=t(9298),n=t(9344).p,e=t(4808),r=e.COMPARISON_OPS,i=e.INTERVAL_OPS,l=e.SET_OPS;d.moduleType="transform",d.name="filter",d.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(r).concat(i).concat(l),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},d.supplyDefaults=function(o){var c={};function u(m,v){return f.coerce(o,c,d.attributes,m,v)}if(u("enabled")){var h=u("target");if(f.isArrayOrTypedArray(h)&&h.length===0)return c.enabled=!1,c;u("preservegaps"),u("operation"),u("value");var y=g.getComponentMethod("calendars","handleDefaults");y(o,c,"valuecalendar",null),y(o,c,"targetcalendar",null)}return c},d.calcTransform=function(o,c,u){if(u.enabled){var h=f.getTargetArray(c,u);if(h){var y=u.target,m=h.length;c._length&&(m=Math.min(m,c._length));var v=u.targetcalendar,x=c._arrayAttrs,w=u.preservegaps;if(typeof y=="string"){var p=f.nestedProperty(c,y+"calendar").get();p&&(v=p)}var b,T,A=function(O,N,G){var z=O.operation,Y=O.value,Z=Array.isArray(Y);function nt(Q){return Q.indexOf(z)!==-1}var S,E=function(Q){return N(Q,0,O.valuecalendar)},V=function(Q){return N(Q,0,G)};switch(nt(r)?S=E(Z?Y[0]:Y):nt(i)?S=Z?[E(Y[0]),E(Y[1])]:[E(Y),E(Y)]:nt(l)&&(S=Z?Y.map(E):[E(Y)]),z){case"=":return function(Q){return V(Q)===S};case"!=":return function(Q){return V(Q)!==S};case"<":return function(Q){return V(Q)<S};case"<=":return function(Q){return V(Q)<=S};case">":return function(Q){return V(Q)>S};case">=":return function(Q){return V(Q)>=S};case"[]":return function(Q){var tt=V(Q);return tt>=S[0]&&tt<=S[1]};case"()":return function(Q){var tt=V(Q);return tt>S[0]&&tt<S[1]};case"[)":return function(Q){var tt=V(Q);return tt>=S[0]&&tt<S[1]};case"(]":return function(Q){var tt=V(Q);return tt>S[0]&&tt<=S[1]};case"][":return function(Q){var tt=V(Q);return tt<=S[0]||tt>=S[1]};case")(":return function(Q){var tt=V(Q);return tt<S[0]||tt>S[1]};case"](":return function(Q){var tt=V(Q);return tt<=S[0]||tt>S[1]};case")[":return function(Q){var tt=V(Q);return tt<S[0]||tt>=S[1]};case"{}":return function(Q){return S.indexOf(V(Q))!==-1};case"}{":return function(Q){return S.indexOf(V(Q))===-1}}}(u,a.getDataToCoordFunc(o,c,y,h),v),P={},k={},L=0;w?(b=function(O){P[O.astr]=f.extendDeep([],O.get()),O.set(new Array(m))},T=function(O,N){var G=P[O.astr][N];O.get()[N]=G}):(b=function(O){P[O.astr]=f.extendDeep([],O.get()),O.set([])},T=function(O,N){var G=P[O.astr][N];O.get().push(G)}),I(b);for(var D=n(c.transforms,u),_=0;_<m;_++)A(h[_])?(I(T,_),k[L++]=D(_)):w&&L++;u._indexToPoints=k,c._length=L}}function I(O,N){for(var G=0;G<x.length;G++)O(f.nestedProperty(c,x[G]),N)}}},3102:function(X,d,t){var f=t(1828),g=t(6281),a=t(4875),n=t(9344).p;function e(r,i){var l,o,c,u,h,y,m,v,x,w,p=i.transform,b=i.transformIndex,T=r.transforms[b].groups,A=n(r.transforms,p);if(!f.isArrayOrTypedArray(T)||T.length===0)return[r];var P=f.filterUnique(T),k=new Array(P.length),L=T.length,D=g.findArrayAttributes(r),_=p.styles||[],I={};for(l=0;l<_.length;l++)I[_[l].target]=_[l].value;p.styles&&(w=f.keyedContainer(p,"styles","target","value.name"));var O={},N={};for(l=0;l<P.length;l++){O[y=P[l]]=l,N[y]=0,(m=k[l]=f.extendDeepNoArrays({},r))._group=y,m.transforms[b]._indexToPoints={};var G=null;for(w&&(G=w.get(y)),m.name=G||G===""?G:f.templateString(p.nameformat,{trace:r.name,group:y}),v=m.transforms,m.transforms=[],o=0;o<v.length;o++)m.transforms[o]=f.extendDeepNoArrays({},v[o]);for(o=0;o<D.length;o++)f.nestedProperty(m,D[o]).set([])}for(c=0;c<D.length;c++){for(u=D[c],o=0,x=[];o<P.length;o++)x[o]=f.nestedProperty(k[o],u).get();for(h=f.nestedProperty(r,u).get(),o=0;o<L;o++)x[O[T[o]]].push(h[o])}for(o=0;o<L;o++)(m=k[O[T[o]]]).transforms[b]._indexToPoints[N[T[o]]]=A(o),N[T[o]]++;for(l=0;l<P.length;l++)y=P[l],m=k[l],a.clearExpandedTraceDefaultColors(m),m=f.extendDeepNoArrays(m,I[y]||{});return k}d.moduleType="transform",d.name="groupby",d.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},d.supplyDefaults=function(r,i,l){var o,c={};function u(x,w){return f.coerce(r,c,d.attributes,x,w)}if(!u("enabled"))return c;u("groups"),u("nameformat",l._dataLength>1?"%{group} (%{trace})":"%{group}");var h=r.styles,y=c.styles=[];if(h)for(o=0;o<h.length;o++){var m=y[o]={};f.coerce(h[o],y[o],d.attributes.styles,"target");var v=f.coerce(h[o],y[o],d.attributes.styles,"value");f.isPlainObject(v)?m.value=f.extendDeep({},v):v&&delete m.value}return c},d.transform=function(r,i){var l,o,c,u=[];for(o=0;o<r.length;o++)for(l=e(r[o],i),c=0;c<l.length;c++)u.push(l[c]);return u}},9344:function(X,d){d.p=function(t,f){for(var g,a,n=0;n<t.length&&(g=t[n])!==f;n++)g._indexToPoints&&g.enabled!==!1&&(a=g._indexToPoints);var e=a?function(r){return a[r]}:function(r){return[r]};return e}},2275:function(X,d,t){var f=t(1828),g=t(9298),a=t(9344).p,n=t(606).BADNUM;d.moduleType="transform",d.name="sort",d.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},d.supplyDefaults=function(e){var r={};function i(l,o){return f.coerce(e,r,d.attributes,l,o)}return i("enabled")&&(i("target"),i("order")),r},d.calcTransform=function(e,r,i){if(i.enabled){var l=f.getTargetArray(r,i);if(l){var o=i.target,c=l.length;r._length&&(c=Math.min(c,r._length));var u,h,y=r._arrayAttrs,m=function(T,A,P,k){var L,D=new Array(k),_=new Array(k);for(L=0;L<k;L++)D[L]={v:A[L],i:L};for(D.sort(function(I,O){switch(I.order){case"ascending":return function(N,G){var z=O(N.v),Y=O(G.v);return z===n?1:Y===n?-1:z-Y};case"descending":return function(N,G){var z=O(N.v),Y=O(G.v);return z===n?1:Y===n?-1:Y-z}}}(T,P)),L=0;L<k;L++)_[L]=D[L].i;return _}(i,l,g.getDataToCoordFunc(e,r,o,l),c),v=a(r.transforms,i),x={};for(u=0;u<y.length;u++){var w=f.nestedProperty(r,y[u]),p=w.get(),b=new Array(c);for(h=0;h<c;h++)b[h]=p[m[h]];w.set(b)}for(h=0;h<c;h++)x[h]=v(m[h]);i._indexToPoints=x,r._length=c}}}},1506:function(X,d){d.version="2.27.1"},5791:function(X){X.exports=g,X.exports.isMobile=g,X.exports.default=g;var d=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,f=/android|ipad|playbook|silk/i;function g(a){a||(a={});var n=a.ua;if(n||typeof navigator>"u"||(n=navigator.userAgent),n&&n.headers&&typeof n.headers["user-agent"]=="string"&&(n=n.headers["user-agent"]),typeof n!="string")return!1;var e=d.test(n)&&!t.test(n)||!!a.tablet&&f.test(n);return!e&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&n.indexOf("Macintosh")!==-1&&n.indexOf("Safari")!==-1&&(e=!0),e}},9898:function(X,d,t){var f,g;(function(){var a={version:"3.8.0"},n=[].slice,e=function(s){return n.call(s)},r=self.document;function i(s){return s&&(s.ownerDocument||s.document||s).documentElement}function l(s){return s&&(s.ownerDocument&&s.ownerDocument.defaultView||s.document&&s||s.defaultView)}if(r)try{e(r.documentElement.childNodes)[0].nodeType}catch{e=function(M){for(var C=M.length,B=new Array(C);C--;)B[C]=M[C];return B}}if(Date.now||(Date.now=function(){return+new Date}),r)try{r.createElement("DIV").style.setProperty("opacity",0,"")}catch{var o=this.Element.prototype,c=o.setAttribute,u=o.setAttributeNS,h=this.CSSStyleDeclaration.prototype,y=h.setProperty;o.setAttribute=function(M,C){c.call(this,M,C+"")},o.setAttributeNS=function(M,C,B){u.call(this,M,C,B+"")},h.setProperty=function(M,C,B){y.call(this,M,C+"",B)}}function m(s,M){return s<M?-1:s>M?1:s>=M?0:NaN}function v(s){return s===null?NaN:+s}function x(s){return!isNaN(s)}function w(s){return{left:function(M,C,B,U){for(arguments.length<3&&(B=0),arguments.length<4&&(U=M.length);B<U;){var W=B+U>>>1;s(M[W],C)<0?B=W+1:U=W}return B},right:function(M,C,B,U){for(arguments.length<3&&(B=0),arguments.length<4&&(U=M.length);B<U;){var W=B+U>>>1;s(M[W],C)>0?U=W:B=W+1}return B}}}a.ascending=m,a.descending=function(s,M){return M<s?-1:M>s?1:M>=s?0:NaN},a.min=function(s,M){var C,B,U=-1,W=s.length;if(arguments.length===1){for(;++U<W;)if((B=s[U])!=null&&B>=B){C=B;break}for(;++U<W;)(B=s[U])!=null&&C>B&&(C=B)}else{for(;++U<W;)if((B=M.call(s,s[U],U))!=null&&B>=B){C=B;break}for(;++U<W;)(B=M.call(s,s[U],U))!=null&&C>B&&(C=B)}return C},a.max=function(s,M){var C,B,U=-1,W=s.length;if(arguments.length===1){for(;++U<W;)if((B=s[U])!=null&&B>=B){C=B;break}for(;++U<W;)(B=s[U])!=null&&B>C&&(C=B)}else{for(;++U<W;)if((B=M.call(s,s[U],U))!=null&&B>=B){C=B;break}for(;++U<W;)(B=M.call(s,s[U],U))!=null&&B>C&&(C=B)}return C},a.extent=function(s,M){var C,B,U,W=-1,ct=s.length;if(arguments.length===1){for(;++W<ct;)if((B=s[W])!=null&&B>=B){C=U=B;break}for(;++W<ct;)(B=s[W])!=null&&(C>B&&(C=B),U<B&&(U=B))}else{for(;++W<ct;)if((B=M.call(s,s[W],W))!=null&&B>=B){C=U=B;break}for(;++W<ct;)(B=M.call(s,s[W],W))!=null&&(C>B&&(C=B),U<B&&(U=B))}return[C,U]},a.sum=function(s,M){var C,B=0,U=s.length,W=-1;if(arguments.length===1)for(;++W<U;)x(C=+s[W])&&(B+=C);else for(;++W<U;)x(C=+M.call(s,s[W],W))&&(B+=C);return B},a.mean=function(s,M){var C,B=0,U=s.length,W=-1,ct=U;if(arguments.length===1)for(;++W<U;)x(C=v(s[W]))?B+=C:--ct;else for(;++W<U;)x(C=v(M.call(s,s[W],W)))?B+=C:--ct;if(ct)return B/ct},a.quantile=function(s,M){var C=(s.length-1)*M+1,B=Math.floor(C),U=+s[B-1],W=C-B;return W?U+W*(s[B]-U):U},a.median=function(s,M){var C,B=[],U=s.length,W=-1;if(arguments.length===1)for(;++W<U;)x(C=v(s[W]))&&B.push(C);else for(;++W<U;)x(C=v(M.call(s,s[W],W)))&&B.push(C);if(B.length)return a.quantile(B.sort(m),.5)},a.variance=function(s,M){var C,B,U=s.length,W=0,ct=0,ut=-1,pt=0;if(arguments.length===1)for(;++ut<U;)x(C=v(s[ut]))&&(ct+=(B=C-W)*(C-(W+=B/++pt)));else for(;++ut<U;)x(C=v(M.call(s,s[ut],ut)))&&(ct+=(B=C-W)*(C-(W+=B/++pt)));if(pt>1)return ct/(pt-1)},a.deviation=function(){var s=a.variance.apply(this,arguments);return s&&Math.sqrt(s)};var p=w(m);function b(s){return s.length}a.bisectLeft=p.left,a.bisect=a.bisectRight=p.right,a.bisector=function(s){return w(s.length===1?function(M,C){return m(s(M),C)}:s)},a.shuffle=function(s,M,C){(W=arguments.length)<3&&(C=s.length,W<2&&(M=0));for(var B,U,W=C-M;W;)U=Math.random()*W--|0,B=s[W+M],s[W+M]=s[U+M],s[U+M]=B;return s},a.permute=function(s,M){for(var C=M.length,B=new Array(C);C--;)B[C]=s[M[C]];return B},a.pairs=function(s){for(var M=0,C=s.length-1,B=s[0],U=new Array(C<0?0:C);M<C;)U[M]=[B,B=s[++M]];return U},a.transpose=function(s){if(!(U=s.length))return[];for(var M=-1,C=a.min(s,b),B=new Array(C);++M<C;)for(var U,W=-1,ct=B[M]=new Array(U);++W<U;)ct[W]=s[W][M];return B},a.zip=function(){return a.transpose(arguments)},a.keys=function(s){var M=[];for(var C in s)M.push(C);return M},a.values=function(s){var M=[];for(var C in s)M.push(s[C]);return M},a.entries=function(s){var M=[];for(var C in s)M.push({key:C,value:s[C]});return M},a.merge=function(s){for(var M,C,B,U=s.length,W=-1,ct=0;++W<U;)ct+=s[W].length;for(C=new Array(ct);--U>=0;)for(M=(B=s[U]).length;--M>=0;)C[--ct]=B[M];return C};var T=Math.abs;function A(s,M){for(var C in M)Object.defineProperty(s.prototype,C,{value:M[C],enumerable:!1})}function P(){this._=Object.create(null)}a.range=function(s,M,C){if(arguments.length<3&&(C=1,arguments.length<2&&(M=s,s=0)),(M-s)/C==1/0)throw new Error("infinite range");var B,U=[],W=function(ut){for(var pt=1;ut*pt%1;)pt*=10;return pt}(T(C)),ct=-1;if(s*=W,M*=W,(C*=W)<0)for(;(B=s+C*++ct)>M;)U.push(B/W);else for(;(B=s+C*++ct)<M;)U.push(B/W);return U},a.map=function(s,M){var C=new P;if(s instanceof P)s.forEach(function(ut,pt){C.set(ut,pt)});else if(Array.isArray(s)){var B,U=-1,W=s.length;if(arguments.length===1)for(;++U<W;)C.set(U,s[U]);else for(;++U<W;)C.set(M.call(s,B=s[U],U),B)}else for(var ct in s)C.set(ct,s[ct]);return C};var k="__proto__",L="\0";function D(s){return(s+="")===k||s[0]===L?L+s:s}function _(s){return(s+="")[0]===L?s.slice(1):s}function I(s){return D(s)in this._}function O(s){return(s=D(s))in this._&&delete this._[s]}function N(){var s=[];for(var M in this._)s.push(_(M));return s}function G(){var s=0;for(var M in this._)++s;return s}function z(){for(var s in this._)return!1;return!0}function Y(){this._=Object.create(null)}function Z(s){return s}function nt(s,M,C){return function(){var B=C.apply(M,arguments);return B===M?s:B}}function S(s,M){if(M in s)return M;M=M.charAt(0).toUpperCase()+M.slice(1);for(var C=0,B=E.length;C<B;++C){var U=E[C]+M;if(U in s)return U}}A(P,{has:I,get:function(s){return this._[D(s)]},set:function(s,M){return this._[D(s)]=M},remove:O,keys:N,values:function(){var s=[];for(var M in this._)s.push(this._[M]);return s},entries:function(){var s=[];for(var M in this._)s.push({key:_(M),value:this._[M]});return s},size:G,empty:z,forEach:function(s){for(var M in this._)s.call(this,_(M),this._[M])}}),a.nest=function(){var s,M,C={},B=[],U=[];function W(ut,pt,bt){if(bt>=B.length)return M?M.call(C,pt):s?pt.sort(s):pt;for(var Ft,jt,Gt,ae,ge=-1,ee=pt.length,ce=B[bt++],Jt=new P;++ge<ee;)(ae=Jt.get(Ft=ce(jt=pt[ge])))?ae.push(jt):Jt.set(Ft,[jt]);return ut?(jt=ut(),Gt=function(ye,ue){jt.set(ye,W(ut,ue,bt))}):(jt={},Gt=function(ye,ue){jt[ye]=W(ut,ue,bt)}),Jt.forEach(Gt),jt}function ct(ut,pt){if(pt>=B.length)return ut;var bt=[],Ft=U[pt++];return ut.forEach(function(jt,Gt){bt.push({key:jt,values:ct(Gt,pt)})}),Ft?bt.sort(function(jt,Gt){return Ft(jt.key,Gt.key)}):bt}return C.map=function(ut,pt){return W(pt,ut,0)},C.entries=function(ut){return ct(W(a.map,ut,0),0)},C.key=function(ut){return B.push(ut),C},C.sortKeys=function(ut){return U[B.length-1]=ut,C},C.sortValues=function(ut){return s=ut,C},C.rollup=function(ut){return M=ut,C},C},a.set=function(s){var M=new Y;if(s)for(var C=0,B=s.length;C<B;++C)M.add(s[C]);return M},A(Y,{has:I,add:function(s){return this._[D(s+="")]=!0,s},remove:O,values:N,size:G,empty:z,forEach:function(s){for(var M in this._)s.call(this,_(M))}}),a.behavior={},a.rebind=function(s,M){for(var C,B=1,U=arguments.length;++B<U;)s[C=arguments[B]]=nt(s,M,M[C]);return s};var E=["webkit","ms","moz","Moz","o","O"];function V(){}function Q(){}function tt(s){var M=[],C=new P;function B(){for(var U,W=M,ct=-1,ut=W.length;++ct<ut;)(U=W[ct].on)&&U.apply(this,arguments);return s}return B.on=function(U,W){var ct,ut=C.get(U);return arguments.length<2?ut&&ut.on:(ut&&(ut.on=null,M=M.slice(0,ct=M.indexOf(ut)).concat(M.slice(ct+1)),C.remove(U)),W&&M.push(C.set(U,{on:W})),s)},B}function rt(){a.event.preventDefault()}function ot(){for(var s,M=a.event;s=M.sourceEvent;)M=s;return M}function H(s){for(var M=new Q,C=0,B=arguments.length;++C<B;)M[arguments[C]]=tt(M);return M.of=function(U,W){return function(ct){try{var ut=ct.sourceEvent=a.event;ct.target=s,a.event=ct,M[ct.type].apply(U,W)}finally{a.event=ut}}},M}a.dispatch=function(){for(var s=new Q,M=-1,C=arguments.length;++M<C;)s[arguments[M]]=tt(s);return s},Q.prototype.on=function(s,M){var C=s.indexOf("."),B="";if(C>=0&&(B=s.slice(C+1),s=s.slice(0,C)),s)return arguments.length<2?this[s].on(B):this[s].on(B,M);if(arguments.length===2){if(M==null)for(s in this)this.hasOwnProperty(s)&&this[s].on(B,null);return this}},a.event=null,a.requote=function(s){return s.replace(F,"\\$&")};var F=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,R={}.__proto__?function(s,M){s.__proto__=M}:function(s,M){for(var C in M)s[C]=M[C]};function j(s){return R(s,et),s}var J=function(s,M){return M.querySelector(s)},q=function(s,M){return M.querySelectorAll(s)},$=function(s,M){var C=s.matches||s[S(s,"matchesSelector")];return $=function(B,U){return C.call(B,U)},$(s,M)};typeof Sizzle=="function"&&(J=function(s,M){return Sizzle(s,M)[0]||null},q=Sizzle,$=Sizzle.matchesSelector),a.selection=function(){return a.select(r.documentElement)};var et=a.selection.prototype=[];function st(s){return typeof s=="function"?s:function(){return J(s,this)}}function yt(s){return typeof s=="function"?s:function(){return q(s,this)}}et.select=function(s){var M,C,B,U,W=[];s=st(s);for(var ct=-1,ut=this.length;++ct<ut;){W.push(M=[]),M.parentNode=(B=this[ct]).parentNode;for(var pt=-1,bt=B.length;++pt<bt;)(U=B[pt])?(M.push(C=s.call(U,U.__data__,pt,ct)),C&&"__data__"in U&&(C.__data__=U.__data__)):M.push(null)}return j(W)},et.selectAll=function(s){var M,C,B=[];s=yt(s);for(var U=-1,W=this.length;++U<W;)for(var ct=this[U],ut=-1,pt=ct.length;++ut<pt;)(C=ct[ut])&&(B.push(M=e(s.call(C,C.__data__,ut,U))),M.parentNode=C);return j(B)};var St="http://www.w3.org/1999/xhtml",Lt={svg:"http://www.w3.org/2000/svg",xhtml:St,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function It(s,M){return s=a.ns.qualify(s),M==null?s.local?function(){this.removeAttributeNS(s.space,s.local)}:function(){this.removeAttribute(s)}:typeof M=="function"?s.local?function(){var C=M.apply(this,arguments);C==null?this.removeAttributeNS(s.space,s.local):this.setAttributeNS(s.space,s.local,C)}:function(){var C=M.apply(this,arguments);C==null?this.removeAttribute(s):this.setAttribute(s,C)}:s.local?function(){this.setAttributeNS(s.space,s.local,M)}:function(){this.setAttribute(s,M)}}function it(s){return s.trim().replace(/\s+/g," ")}function ft(s){return new RegExp("(?:^|\\s+)"+a.requote(s)+"(?:\\s+|$)","g")}function dt(s){return(s+"").trim().split(/^|\s+/)}function xt(s,M){var C=(s=dt(s).map(Pt)).length;return typeof M=="function"?function(){for(var B=-1,U=M.apply(this,arguments);++B<C;)s[B](this,U)}:function(){for(var B=-1;++B<C;)s[B](this,M)}}function Pt(s){var M=ft(s);return function(C,B){if(U=C.classList)return B?U.add(s):U.remove(s);var U=C.getAttribute("class")||"";B?(M.lastIndex=0,M.test(U)||C.setAttribute("class",it(U+" "+s))):C.setAttribute("class",it(U.replace(M," ")))}}function Ct(s,M,C){return M==null?function(){this.style.removeProperty(s)}:typeof M=="function"?function(){var B=M.apply(this,arguments);B==null?this.style.removeProperty(s):this.style.setProperty(s,B,C)}:function(){this.style.setProperty(s,M,C)}}function lt(s,M){return M==null?function(){delete this[s]}:typeof M=="function"?function(){var C=M.apply(this,arguments);C==null?delete this[s]:this[s]=C}:function(){this[s]=M}}function ht(s){return typeof s=="function"?s:(s=a.ns.qualify(s)).local?function(){return this.ownerDocument.createElementNS(s.space,s.local)}:function(){var M=this.ownerDocument,C=this.namespaceURI;return C===St&&M.documentElement.namespaceURI===St?M.createElement(s):M.createElementNS(C,s)}}function vt(){var s=this.parentNode;s&&s.removeChild(this)}function gt(s){return{__data__:s}}function mt(s){return function(){return $(this,s)}}function Tt(s){return arguments.length||(s=m),function(M,C){return M&&C?s(M.__data__,C.__data__):!M-!C}}function kt(s,M){for(var C=0,B=s.length;C<B;C++)for(var U,W=s[C],ct=0,ut=W.length;ct<ut;ct++)(U=W[ct])&&M(U,ct,C);return s}function _t(s){return R(s,At),s}a.ns={prefix:Lt,qualify:function(s){var M=s.indexOf(":"),C=s;return M>=0&&(C=s.slice(0,M))!=="xmlns"&&(s=s.slice(M+1)),Lt.hasOwnProperty(C)?{space:Lt[C],local:s}:s}},et.attr=function(s,M){if(arguments.length<2){if(typeof s=="string"){var C=this.node();return(s=a.ns.qualify(s)).local?C.getAttributeNS(s.space,s.local):C.getAttribute(s)}for(M in s)this.each(It(M,s[M]));return this}return this.each(It(s,M))},et.classed=function(s,M){if(arguments.length<2){if(typeof s=="string"){var C=this.node(),B=(s=dt(s)).length,U=-1;if(M=C.classList){for(;++U<B;)if(!M.contains(s[U]))return!1}else for(M=C.getAttribute("class");++U<B;)if(!ft(s[U]).test(M))return!1;return!0}for(M in s)this.each(xt(M,s[M]));return this}return this.each(xt(s,M))},et.style=function(s,M,C){var B=arguments.length;if(B<3){if(typeof s!="string"){for(C in B<2&&(M=""),s)this.each(Ct(C,s[C],M));return this}if(B<2){var U=this.node();return l(U).getComputedStyle(U,null).getPropertyValue(s)}C=""}return this.each(Ct(s,M,C))},et.property=function(s,M){if(arguments.length<2){if(typeof s=="string")return this.node()[s];for(M in s)this.each(lt(M,s[M]));return this}return this.each(lt(s,M))},et.text=function(s){return arguments.length?this.each(typeof s=="function"?function(){var M=s.apply(this,arguments);this.textContent=M??""}:s==null?function(){this.textContent=""}:function(){this.textContent=s}):this.node().textContent},et.html=function(s){return arguments.length?this.each(typeof s=="function"?function(){var M=s.apply(this,arguments);this.innerHTML=M??""}:s==null?function(){this.innerHTML=""}:function(){this.innerHTML=s}):this.node().innerHTML},et.append=function(s){return s=ht(s),this.select(function(){return this.appendChild(s.apply(this,arguments))})},et.insert=function(s,M){return s=ht(s),M=st(M),this.select(function(){return this.insertBefore(s.apply(this,arguments),M.apply(this,arguments)||null)})},et.remove=function(){return this.each(vt)},et.data=function(s,M){var C,B,U=-1,W=this.length;if(!arguments.length){for(s=new Array(W=(C=this[0]).length);++U<W;)(B=C[U])&&(s[U]=B.__data__);return s}function ct(Ft,jt){var Gt,ae,ge,ee=Ft.length,ce=jt.length,Jt=Math.min(ee,ce),ye=new Array(ce),ue=new Array(ce),te=new Array(ee);if(M){var Pe,Ie=new P,He=new Array(ee);for(Gt=-1;++Gt<ee;)(ae=Ft[Gt])&&(Ie.has(Pe=M.call(ae,ae.__data__,Gt))?te[Gt]=ae:Ie.set(Pe,ae),He[Gt]=Pe);for(Gt=-1;++Gt<ce;)(ae=Ie.get(Pe=M.call(jt,ge=jt[Gt],Gt)))?ae!==!0&&(ye[Gt]=ae,ae.__data__=ge):ue[Gt]=gt(ge),Ie.set(Pe,!0);for(Gt=-1;++Gt<ee;)Gt in He&&Ie.get(He[Gt])!==!0&&(te[Gt]=Ft[Gt])}else{for(Gt=-1;++Gt<Jt;)ae=Ft[Gt],ge=jt[Gt],ae?(ae.__data__=ge,ye[Gt]=ae):ue[Gt]=gt(ge);for(;Gt<ce;++Gt)ue[Gt]=gt(jt[Gt]);for(;Gt<ee;++Gt)te[Gt]=Ft[Gt]}ue.update=ye,ue.parentNode=ye.parentNode=te.parentNode=Ft.parentNode,ut.push(ue),pt.push(ye),bt.push(te)}var ut=_t([]),pt=j([]),bt=j([]);if(typeof s=="function")for(;++U<W;)ct(C=this[U],s.call(C,C.parentNode.__data__,U));else for(;++U<W;)ct(C=this[U],s);return pt.enter=function(){return ut},pt.exit=function(){return bt},pt},et.datum=function(s){return arguments.length?this.property("__data__",s):this.property("__data__")},et.filter=function(s){var M,C,B,U=[];typeof s!="function"&&(s=mt(s));for(var W=0,ct=this.length;W<ct;W++){U.push(M=[]),M.parentNode=(C=this[W]).parentNode;for(var ut=0,pt=C.length;ut<pt;ut++)(B=C[ut])&&s.call(B,B.__data__,ut,W)&&M.push(B)}return j(U)},et.order=function(){for(var s=-1,M=this.length;++s<M;)for(var C,B=this[s],U=B.length-1,W=B[U];--U>=0;)(C=B[U])&&(W&&W!==C.nextSibling&&W.parentNode.insertBefore(C,W),W=C);return this},et.sort=function(s){s=Tt.apply(this,arguments);for(var M=-1,C=this.length;++M<C;)this[M].sort(s);return this.order()},et.each=function(s){return kt(this,function(M,C,B){s.call(M,M.__data__,C,B)})},et.call=function(s){var M=e(arguments);return s.apply(M[0]=this,M),this},et.empty=function(){return!this.node()},et.node=function(){for(var s=0,M=this.length;s<M;s++)for(var C=this[s],B=0,U=C.length;B<U;B++){var W=C[B];if(W)return W}return null},et.size=function(){var s=0;return kt(this,function(){++s}),s};var At=[];function Mt(s,M,C){var B="__on"+s,U=s.indexOf("."),W=Yt;U>0&&(s=s.slice(0,U));var ct=Rt.get(s);function ut(){var pt=this[B];pt&&(this.removeEventListener(s,pt,pt.$),delete this[B])}return ct&&(s=ct,W=zt),U?M?function(){var pt=W(M,e(arguments));ut.call(this),this.addEventListener(s,this[B]=pt,pt.$=C),pt._=M}:ut:M?V:function(){var pt,bt=new RegExp("^__on([^.]+)"+a.requote(s)+"$");for(var Ft in this)if(pt=Ft.match(bt)){var jt=this[Ft];this.removeEventListener(pt[1],jt,jt.$),delete this[Ft]}}}a.selection.enter=_t,a.selection.enter.prototype=At,At.append=et.append,At.empty=et.empty,At.node=et.node,At.call=et.call,At.size=et.size,At.select=function(s){for(var M,C,B,U,W,ct=[],ut=-1,pt=this.length;++ut<pt;){B=(U=this[ut]).update,ct.push(M=[]),M.parentNode=U.parentNode;for(var bt=-1,Ft=U.length;++bt<Ft;)(W=U[bt])?(M.push(B[bt]=C=s.call(U.parentNode,W.__data__,bt,ut)),C.__data__=W.__data__):M.push(null)}return j(ct)},At.insert=function(s,M){var C,B,U;return arguments.length<2&&(C=this,M=function(W,ct,ut){var pt,bt=C[ut].update,Ft=bt.length;for(ut!=U&&(U=ut,B=0),ct>=B&&(B=ct+1);!(pt=bt[B])&&++B<Ft;);return pt}),et.insert.call(this,s,M)},a.select=function(s){var M;return typeof s=="string"?(M=[J(s,r)]).parentNode=r.documentElement:(M=[s]).parentNode=i(s),j([M])},a.selectAll=function(s){var M;return typeof s=="string"?(M=e(q(s,r))).parentNode=r.documentElement:(M=e(s)).parentNode=null,j([M])},et.on=function(s,M,C){var B=arguments.length;if(B<3){if(typeof s!="string"){for(C in B<2&&(M=!1),s)this.each(Mt(C,s[C],M));return this}if(B<2)return(B=this.node()["__on"+s])&&B._;C=!1}return this.each(Mt(s,M,C))};var Rt=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Yt(s,M){return function(C){var B=a.event;a.event=C,M[0]=this.__data__;try{s.apply(this,M)}finally{a.event=B}}}function zt(s,M){var C=Yt(s,M);return function(B){var U=this,W=B.relatedTarget;W&&(W===U||8&W.compareDocumentPosition(U))||C.call(U,B)}}r&&Rt.forEach(function(s){"on"+s in r&&Rt.remove(s)});var Xt,Kt=0;function se(s){var M=".dragsuppress-"+ ++Kt,C="click"+M,B=a.select(l(s)).on("touchmove"+M,rt).on("dragstart"+M,rt).on("selectstart"+M,rt);if(Xt==null&&(Xt=!("onselectstart"in s)&&S(s.style,"userSelect")),Xt){var U=i(s).style,W=U[Xt];U[Xt]="none"}return function(ct){if(B.on(M,null),Xt&&(U[Xt]=W),ct){var ut=function(){B.on(C,null)};B.on(C,function(){rt(),ut()},!0),setTimeout(ut,0)}}}a.mouse=function(s){return xe(s,ot())};var de=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function xe(s,M){M.changedTouches&&(M=M.changedTouches[0]);var C=s.ownerSVGElement||s;if(C.createSVGPoint){var B=C.createSVGPoint();if(de<0){var U=l(s);if(U.scrollX||U.scrollY){var W=(C=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();de=!(W.f||W.e),C.remove()}}return de?(B.x=M.pageX,B.y=M.pageY):(B.x=M.clientX,B.y=M.clientY),[(B=B.matrixTransform(s.getScreenCTM().inverse())).x,B.y]}var ct=s.getBoundingClientRect();return[M.clientX-ct.left-s.clientLeft,M.clientY-ct.top-s.clientTop]}function Dt(){return a.event.changedTouches[0].identifier}a.touch=function(s,M,C){if(arguments.length<3&&(C=M,M=ot().changedTouches),M){for(var B,U=0,W=M.length;U<W;++U)if((B=M[U]).identifier===C)return xe(s,B)}},a.behavior.drag=function(){var s=H(U,"drag","dragstart","dragend"),M=null,C=W(V,a.mouse,l,"mousemove","mouseup"),B=W(Dt,a.touch,Z,"touchmove","touchend");function U(){this.on("mousedown.drag",C).on("touchstart.drag",B)}function W(ct,ut,pt,bt,Ft){return function(){var jt,Gt=this,ae=a.event.target.correspondingElement||a.event.target,ge=Gt.parentNode,ee=s.of(Gt,arguments),ce=0,Jt=ct(),ye=".drag"+(Jt==null?"":"-"+Jt),ue=a.select(pt(ae)).on(bt+ye,function(){var Ie,He,Be=ut(ge,Jt);Be&&(Ie=Be[0]-Pe[0],He=Be[1]-Pe[1],ce|=Ie|He,Pe=Be,ee({type:"drag",x:Be[0]+jt[0],y:Be[1]+jt[1],dx:Ie,dy:He}))}).on(Ft+ye,function(){ut(ge,Jt)&&(ue.on(bt+ye,null).on(Ft+ye,null),te(ce),ee({type:"dragend"}))}),te=se(ae),Pe=ut(ge,Jt);jt=M?[(jt=M.apply(Gt,arguments)).x-Pe[0],jt.y-Pe[1]]:[0,0],ee({type:"dragstart"})}}return U.origin=function(ct){return arguments.length?(M=ct,U):M},a.rebind(U,s,"on")},a.touches=function(s,M){return arguments.length<2&&(M=ot().touches),M?e(M).map(function(C){var B=xe(s,C);return B.identifier=C.identifier,B}):[]};var wt=1e-6,Ut=wt*wt,Wt=Math.PI,me=2*Wt,Vt=me-wt,ne=Wt/2,ie=Wt/180,_e=180/Wt;function he(s){return s>1?ne:s<-1?-ne:Math.asin(s)}function De(s){return((s=Math.exp(s))+1/s)/2}var fe=Math.SQRT2;a.interpolateZoom=function(s,M){var C,B,U=s[0],W=s[1],ct=s[2],ut=M[0],pt=M[1],bt=M[2],Ft=ut-U,jt=pt-W,Gt=Ft*Ft+jt*jt;if(Gt<Ut)B=Math.log(bt/ct)/fe,C=function(ye){return[U+ye*Ft,W+ye*jt,ct*Math.exp(fe*ye*B)]};else{var ae=Math.sqrt(Gt),ge=(bt*bt-ct*ct+4*Gt)/(2*ct*2*ae),ee=(bt*bt-ct*ct-4*Gt)/(2*bt*2*ae),ce=Math.log(Math.sqrt(ge*ge+1)-ge),Jt=Math.log(Math.sqrt(ee*ee+1)-ee);B=(Jt-ce)/fe,C=function(ye){var ue,te=ye*B,Pe=De(ce),Ie=ct/(2*ae)*(Pe*(ue=fe*te+ce,((ue=Math.exp(2*ue))-1)/(ue+1))-function(He){return((He=Math.exp(He))-1/He)/2}(ce));return[U+Ie*Ft,W+Ie*jt,ct*Pe/De(fe*te+ce)]}}return C.duration=1e3*B,C},a.behavior.zoom=function(){var s,M,C,B,U,W,ct,ut,pt,bt={x:0,y:0,k:1},Ft=[960,500],jt=Et,Gt=250,ae=0,ge="mousedown.zoom",ee="mousemove.zoom",ce="mouseup.zoom",Jt="touchstart.zoom",ye=H(ue,"zoomstart","zoom","zoomend");function ue(Ze){Ze.on(ge,nn).on(at+".zoom",_n).on("dblclick.zoom",An).on(Jt,mn)}function te(Ze){return[(Ze[0]-bt.x)/bt.k,(Ze[1]-bt.y)/bt.k]}function Pe(Ze){bt.k=Math.max(jt[0],Math.min(jt[1],Ze))}function Ie(Ze,Ke){Ke=function(dn){return[dn[0]*bt.k+bt.x,dn[1]*bt.k+bt.y]}(Ke),bt.x+=Ze[0]-Ke[0],bt.y+=Ze[1]-Ke[1]}function He(Ze,Ke,dn,hn){Ze.__chart__={x:bt.x,y:bt.y,k:bt.k},Pe(Math.pow(2,hn)),Ie(M=Ke,dn),Ze=a.select(Ze),Gt>0&&(Ze=Ze.transition().duration(Gt)),Ze.call(ue.event)}function Be(){ct&&ct.domain(W.range().map(function(Ze){return(Ze-bt.x)/bt.k}).map(W.invert)),pt&&pt.domain(ut.range().map(function(Ze){return(Ze-bt.y)/bt.k}).map(ut.invert))}function $e(Ze){ae++||Ze({type:"zoomstart"})}function en(Ze){Be(),Ze({type:"zoom",scale:bt.k,translate:[bt.x,bt.y]})}function ln(Ze){--ae||(Ze({type:"zoomend"}),M=null)}function nn(){var Ze=this,Ke=ye.of(Ze,arguments),dn=0,hn=a.select(l(Ze)).on(ee,function(){dn=1,Ie(a.mouse(Ze),bn),en(Ke)}).on(ce,function(){hn.on(ee,null).on(ce,null),Mn(dn),ln(Ke)}),bn=te(a.mouse(Ze)),Mn=se(Ze);Hr.call(Ze),$e(Ke)}function mn(){var Ze,Ke=this,dn=ye.of(Ke,arguments),hn={},bn=0,Mn=".zoom-"+a.event.changedTouches[0].identifier,Fn="touchmove"+Mn,Pn="touchend"+Mn,Bn=[],Rn=a.select(Ke),Hn=se(Ke);function Wn(){var Yn=a.touches(Ke);return Ze=bt.k,Yn.forEach(function(En){En.identifier in hn&&(hn[En.identifier]=te(En))}),Yn}function lr(){var Yn=a.event.target;a.select(Yn).on(Fn,ur).on(Pn,fr),Bn.push(Yn);for(var En=a.event.changedTouches,Kn=0,$n=En.length;Kn<$n;++Kn)hn[En[Kn].identifier]=null;var tr=Wn(),rr=Date.now();if(tr.length===1){if(rr-U<500){var hr=tr[0];He(Ke,hr,hn[hr.identifier],Math.floor(Math.log(bt.k)/Math.LN2)+1),rt()}U=rr}else if(tr.length>1){hr=tr[0];var yr=tr[1],Ur=hr[0]-yr[0],di=hr[1]-yr[1];bn=Ur*Ur+di*di}}function ur(){var Yn,En,Kn,$n,tr=a.touches(Ke);Hr.call(Ke);for(var rr=0,hr=tr.length;rr<hr;++rr,$n=null)if(Kn=tr[rr],$n=hn[Kn.identifier]){if(En)break;Yn=Kn,En=$n}if($n){var yr=(yr=Kn[0]-Yn[0])*yr+(yr=Kn[1]-Yn[1])*yr,Ur=bn&&Math.sqrt(yr/bn);Yn=[(Yn[0]+Kn[0])/2,(Yn[1]+Kn[1])/2],En=[(En[0]+$n[0])/2,(En[1]+$n[1])/2],Pe(Ur*Ze)}U=null,Ie(Yn,En),en(dn)}function fr(){if(a.event.touches.length){for(var Yn=a.event.changedTouches,En=0,Kn=Yn.length;En<Kn;++En)delete hn[Yn[En].identifier];for(var $n in hn)return void Wn()}a.selectAll(Bn).on(Mn,null),Rn.on(ge,nn).on(Jt,mn),Hn(),ln(dn)}lr(),$e(dn),Rn.on(ge,null).on(Jt,lr)}function _n(){var Ze=ye.of(this,arguments);B?clearTimeout(B):(Hr.call(this),s=te(M=C||a.mouse(this)),$e(Ze)),B=setTimeout(function(){B=null,ln(Ze)},50),rt(),Pe(Math.pow(2,.002*K())*bt.k),Ie(M,s),en(Ze)}function An(){var Ze=a.mouse(this),Ke=Math.log(bt.k)/Math.LN2;He(this,Ze,te(Ze),a.event.shiftKey?Math.ceil(Ke)-1:Math.floor(Ke)+1)}return at||(at="onwheel"in r?(K=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in r?(K=function(){return a.event.wheelDelta},"mousewheel"):(K=function(){return-a.event.detail},"MozMousePixelScroll")),ue.event=function(Ze){Ze.each(function(){var Ke=ye.of(this,arguments),dn=bt;_r?a.select(this).transition().each("start.zoom",function(){bt=this.__chart__||{x:0,y:0,k:1},$e(Ke)}).tween("zoom:zoom",function(){var hn=Ft[0],bn=Ft[1],Mn=M?M[0]:hn/2,Fn=M?M[1]:bn/2,Pn=a.interpolateZoom([(Mn-bt.x)/bt.k,(Fn-bt.y)/bt.k,hn/bt.k],[(Mn-dn.x)/dn.k,(Fn-dn.y)/dn.k,hn/dn.k]);return function(Bn){var Rn=Pn(Bn),Hn=hn/Rn[2];this.__chart__=bt={x:Mn-Rn[0]*Hn,y:Fn-Rn[1]*Hn,k:Hn},en(Ke)}}).each("interrupt.zoom",function(){ln(Ke)}).each("end.zoom",function(){ln(Ke)}):(this.__chart__=bt,$e(Ke),en(Ke),ln(Ke))})},ue.translate=function(Ze){return arguments.length?(bt={x:+Ze[0],y:+Ze[1],k:bt.k},Be(),ue):[bt.x,bt.y]},ue.scale=function(Ze){return arguments.length?(bt={x:bt.x,y:bt.y,k:null},Pe(+Ze),Be(),ue):bt.k},ue.scaleExtent=function(Ze){return arguments.length?(jt=Ze==null?Et:[+Ze[0],+Ze[1]],ue):jt},ue.center=function(Ze){return arguments.length?(C=Ze&&[+Ze[0],+Ze[1]],ue):C},ue.size=function(Ze){return arguments.length?(Ft=Ze&&[+Ze[0],+Ze[1]],ue):Ft},ue.duration=function(Ze){return arguments.length?(Gt=+Ze,ue):Gt},ue.x=function(Ze){return arguments.length?(ct=Ze,W=Ze.copy(),bt={x:0,y:0,k:1},ue):ct},ue.y=function(Ze){return arguments.length?(pt=Ze,ut=Ze.copy(),bt={x:0,y:0,k:1},ue):pt},a.rebind(ue,ye,"on")};var K,at,Et=[0,1/0];function Ot(){}function Bt(s,M,C){return this instanceof Bt?(this.h=+s,this.s=+M,void(this.l=+C)):arguments.length<2?s instanceof Bt?new Bt(s.h,s.s,s.l):Ce(""+s,Le,Bt):new Bt(s,M,C)}a.color=Ot,Ot.prototype.toString=function(){return this.rgb()+""},a.hsl=Bt;var Nt=Bt.prototype=new Ot;function Ht(s,M,C){var B,U;function W(ct){return Math.round(255*function(ut){return ut>360?ut-=360:ut<0&&(ut+=360),ut<60?B+(U-B)*ut/60:ut<180?U:ut<240?B+(U-B)*(240-ut)/60:B}(ct))}return s=isNaN(s)?0:(s%=360)<0?s+360:s,M=isNaN(M)||M<0?0:M>1?1:M,B=2*(C=C<0?0:C>1?1:C)-(U=C<=.5?C*(1+M):C+M-C*M),new Fe(W(s+120),W(s),W(s-120))}function Zt(s,M,C){return this instanceof Zt?(this.h=+s,this.c=+M,void(this.l=+C)):arguments.length<2?s instanceof Zt?new Zt(s.h,s.c,s.l):function(B,U,W){return B>0?new Zt(Math.atan2(W,U)*_e,Math.sqrt(U*U+W*W),B):new Zt(NaN,NaN,B)}(s instanceof qt?s.l:(s=Oe((s=a.rgb(s)).r,s.g,s.b)).l,s.a,s.b):new Zt(s,M,C)}Nt.brighter=function(s){return s=Math.pow(.7,arguments.length?s:1),new Bt(this.h,this.s,this.l/s)},Nt.darker=function(s){return s=Math.pow(.7,arguments.length?s:1),new Bt(this.h,this.s,s*this.l)},Nt.rgb=function(){return Ht(this.h,this.s,this.l)},a.hcl=Zt;var Qt=Zt.prototype=new Ot;function oe(s,M,C){return isNaN(s)&&(s=0),isNaN(M)&&(M=0),new qt(C,Math.cos(s*=ie)*M,Math.sin(s)*M)}function qt(s,M,C){return this instanceof qt?(this.l=+s,this.a=+M,void(this.b=+C)):arguments.length<2?s instanceof qt?new qt(s.l,s.a,s.b):s instanceof Zt?oe(s.h,s.c,s.l):Oe((s=Fe(s)).r,s.g,s.b):new qt(s,M,C)}Qt.brighter=function(s){return new Zt(this.h,this.c,Math.min(100,this.l+Te*(arguments.length?s:1)))},Qt.darker=function(s){return new Zt(this.h,this.c,Math.max(0,this.l-Te*(arguments.length?s:1)))},Qt.rgb=function(){return oe(this.h,this.c,this.l).rgb()},a.lab=qt;var Te=18,Re=.95047,pe=1,Se=1.08883,Me=qt.prototype=new Ot;function re(s,M,C){var B=(s+16)/116,U=B+M/500,W=B-C/200;return new Fe(Ee(3.2404542*(U=$t(U)*Re)-1.5371385*(B=$t(B)*pe)-.4985314*(W=$t(W)*Se)),Ee(-.969266*U+1.8760108*B+.041556*W),Ee(.0556434*U-.2040259*B+1.0572252*W))}function $t(s){return s>.206893034?s*s*s:(s-.13793103448275862)/7.787037}function ve(s){return s>.008856?Math.pow(s,.3333333333333333):7.787037*s+.13793103448275862}function Ee(s){return Math.round(255*(s<=.00304?12.92*s:1.055*Math.pow(s,.4166666666666667)-.055))}function Fe(s,M,C){return this instanceof Fe?(this.r=~~s,this.g=~~M,void(this.b=~~C)):arguments.length<2?s instanceof Fe?new Fe(s.r,s.g,s.b):Ce(""+s,Fe,Ht):new Fe(s,M,C)}function je(s){return new Fe(s>>16,s>>8&255,255&s)}function le(s){return je(s)+""}Me.brighter=function(s){return new qt(Math.min(100,this.l+Te*(arguments.length?s:1)),this.a,this.b)},Me.darker=function(s){return new qt(Math.max(0,this.l-Te*(arguments.length?s:1)),this.a,this.b)},Me.rgb=function(){return re(this.l,this.a,this.b)},a.rgb=Fe;var be=Fe.prototype=new Ot;function we(s){return s<16?"0"+Math.max(0,s).toString(16):Math.min(255,s).toString(16)}function Ce(s,M,C){var B,U,W,ct=0,ut=0,pt=0;if(B=/([a-z]+)\((.*)\)/.exec(s=s.toLowerCase()))switch(U=B[2].split(","),B[1]){case"hsl":return C(parseFloat(U[0]),parseFloat(U[1])/100,parseFloat(U[2])/100);case"rgb":return M(Ne(U[0]),Ne(U[1]),Ne(U[2]))}return(W=ke.get(s))?M(W.r,W.g,W.b):(s==null||s.charAt(0)!=="#"||isNaN(W=parseInt(s.slice(1),16))||(s.length===4?(ct=(3840&W)>>4,ct|=ct>>4,ut=240&W,ut|=ut>>4,pt=15&W,pt|=pt<<4):s.length===7&&(ct=(16711680&W)>>16,ut=(65280&W)>>8,pt=255&W)),M(ct,ut,pt))}function Le(s,M,C){var B,U,W=Math.min(s/=255,M/=255,C/=255),ct=Math.max(s,M,C),ut=ct-W,pt=(ct+W)/2;return ut?(U=pt<.5?ut/(ct+W):ut/(2-ct-W),B=s==ct?(M-C)/ut+(M<C?6:0):M==ct?(C-s)/ut+2:(s-M)/ut+4,B*=60):(B=NaN,U=pt>0&&pt<1?0:B),new Bt(B,U,pt)}function Oe(s,M,C){var B=ve((.4124564*(s=Ae(s))+.3575761*(M=Ae(M))+.1804375*(C=Ae(C)))/Re),U=ve((.2126729*s+.7151522*M+.072175*C)/pe);return qt(116*U-16,500*(B-U),200*(U-ve((.0193339*s+.119192*M+.9503041*C)/Se)))}function Ae(s){return(s/=255)<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4)}function Ne(s){var M=parseFloat(s);return s.charAt(s.length-1)==="%"?Math.round(2.55*M):M}be.brighter=function(s){s=Math.pow(.7,arguments.length?s:1);var M=this.r,C=this.g,B=this.b,U=30;return M||C||B?(M&&M<U&&(M=U),C&&C<U&&(C=U),B&&B<U&&(B=U),new Fe(Math.min(255,M/s),Math.min(255,C/s),Math.min(255,B/s))):new Fe(U,U,U)},be.darker=function(s){return new Fe((s=Math.pow(.7,arguments.length?s:1))*this.r,s*this.g,s*this.b)},be.hsl=function(){return Le(this.r,this.g,this.b)},be.toString=function(){return"#"+we(this.r)+we(this.g)+we(this.b)};var ke=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function ze(s){return typeof s=="function"?s:function(){return s}}function Ye(s){return function(M,C,B){return arguments.length===2&&typeof C=="function"&&(B=C,C=null),We(M,C,s,B)}}function We(s,M,C,B){var U={},W=a.dispatch("beforesend","progress","load","error"),ct={},ut=new XMLHttpRequest,pt=null;function bt(){var Ft,jt=ut.status;if(!jt&&function(Gt){var ae=Gt.responseType;return ae&&ae!=="text"?Gt.response:Gt.responseText}(ut)||jt>=200&&jt<300||jt===304){try{Ft=C.call(U,ut)}catch(Gt){return void W.error.call(U,Gt)}W.load.call(U,Ft)}else W.error.call(U,ut)}return self.XDomainRequest&&!("withCredentials"in ut)&&/^(http(s)?:)?\/\//.test(s)&&(ut=new XDomainRequest),"onload"in ut?ut.onload=ut.onerror=bt:ut.onreadystatechange=function(){ut.readyState>3&&bt()},ut.onprogress=function(Ft){var jt=a.event;a.event=Ft;try{W.progress.call(U,ut)}finally{a.event=jt}},U.header=function(Ft,jt){return Ft=(Ft+"").toLowerCase(),arguments.length<2?ct[Ft]:(jt==null?delete ct[Ft]:ct[Ft]=jt+"",U)},U.mimeType=function(Ft){return arguments.length?(M=Ft==null?null:Ft+"",U):M},U.responseType=function(Ft){return arguments.length?(pt=Ft,U):pt},U.response=function(Ft){return C=Ft,U},["get","post"].forEach(function(Ft){U[Ft]=function(){return U.send.apply(U,[Ft].concat(e(arguments)))}}),U.send=function(Ft,jt,Gt){if(arguments.length===2&&typeof jt=="function"&&(Gt=jt,jt=null),ut.open(Ft,s,!0),M==null||"accept"in ct||(ct.accept=M+",*/*"),ut.setRequestHeader)for(var ae in ct)ut.setRequestHeader(ae,ct[ae]);return M!=null&&ut.overrideMimeType&&ut.overrideMimeType(M),pt!=null&&(ut.responseType=pt),Gt!=null&&U.on("error",Gt).on("load",function(ge){Gt(null,ge)}),W.beforesend.call(U,ut),ut.send(jt??null),U},U.abort=function(){return ut.abort(),U},a.rebind(U,W,"on"),B==null?U:U.get(function(Ft){return Ft.length===1?function(jt,Gt){Ft(jt==null?Gt:null)}:Ft}(B))}ke.forEach(function(s,M){ke.set(s,je(M))}),a.functor=ze,a.xhr=Ye(Z),a.dsv=function(s,M){var C=new RegExp('["'+s+`
]`),B=s.charCodeAt(0);function U(bt,Ft,jt){arguments.length<3&&(jt=Ft,Ft=null);var Gt=We(bt,M,Ft==null?W:ct(Ft),jt);return Gt.row=function(ae){return arguments.length?Gt.response((Ft=ae)==null?W:ct(ae)):Ft},Gt}function W(bt){return U.parse(bt.responseText)}function ct(bt){return function(Ft){return U.parse(Ft.responseText,bt)}}function ut(bt){return bt.map(pt).join(s)}function pt(bt){return C.test(bt)?'"'+bt.replace(/\"/g,'""')+'"':bt}return U.parse=function(bt,Ft){var jt;return U.parseRows(bt,function(Gt,ae){if(jt)return jt(Gt,ae-1);var ge=function(ee){for(var ce={},Jt=Gt.length,ye=0;ye<Jt;++ye)ce[Gt[ye]]=ee[ye];return ce};jt=Ft?function(ee,ce){return Ft(ge(ee),ce)}:ge})},U.parseRows=function(bt,Ft){var jt,Gt,ae={},ge={},ee=[],ce=bt.length,Jt=0,ye=0;function ue(){if(Jt>=ce)return ge;if(Gt)return Gt=!1,ae;var Pe=Jt;if(bt.charCodeAt(Pe)===34){for(var Ie=Pe;Ie++<ce;)if(bt.charCodeAt(Ie)===34){if(bt.charCodeAt(Ie+1)!==34)break;++Ie}return Jt=Ie+2,(He=bt.charCodeAt(Ie+1))===13?(Gt=!0,bt.charCodeAt(Ie+2)===10&&++Jt):He===10&&(Gt=!0),bt.slice(Pe+1,Ie).replace(/""/g,'"')}for(;Jt<ce;){var He,Be=1;if((He=bt.charCodeAt(Jt++))===10)Gt=!0;else if(He===13)Gt=!0,bt.charCodeAt(Jt)===10&&(++Jt,++Be);else if(He!==B)continue;return bt.slice(Pe,Jt-Be)}return bt.slice(Pe)}for(;(jt=ue())!==ge;){for(var te=[];jt!==ae&&jt!==ge;)te.push(jt),jt=ue();Ft&&(te=Ft(te,ye++))==null||ee.push(te)}return ee},U.format=function(bt){if(Array.isArray(bt[0]))return U.formatRows(bt);var Ft=new Y,jt=[];return bt.forEach(function(Gt){for(var ae in Gt)Ft.has(ae)||jt.push(Ft.add(ae))}),[jt.map(pt).join(s)].concat(bt.map(function(Gt){return jt.map(function(ae){return pt(Gt[ae])}).join(s)})).join(`
`)},U.formatRows=function(bt){return bt.map(ut).join(`
`)},U},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("	","text/tab-separated-values");var Xe,Ge,qe,tn,Ue=this[S(this,"requestAnimationFrame")]||function(s){setTimeout(s,17)};function Qe(s,M,C){var B=arguments.length;B<2&&(M=0),B<3&&(C=Date.now());var U={c:s,t:C+M,n:null};return Ge?Ge.n=U:Xe=U,Ge=U,qe||(tn=clearTimeout(tn),qe=1,Ue(Ve)),U}function Ve(){var s=rn(),M=an()-s;M>24?(isFinite(M)&&(clearTimeout(tn),tn=setTimeout(Ve,M)),qe=0):(qe=1,Ue(Ve))}function rn(){for(var s=Date.now(),M=Xe;M;)s>=M.t&&M.c(s-M.t)&&(M.c=null),M=M.n;return s}function an(){for(var s,M=Xe,C=1/0;M;)M.c?(M.t<C&&(C=M.t),M=(s=M).n):M=s?s.n=M.n:Xe=M.n;return Ge=s,C}function un(s){return s[0]}function sn(s){return s[1]}function on(s){for(var M,C,B,U=s.length,W=[0,1],ct=2,ut=2;ut<U;ut++){for(;ct>1&&(M=s[W[ct-2]],C=s[W[ct-1]],B=s[ut],(C[0]-M[0])*(B[1]-M[1])-(C[1]-M[1])*(B[0]-M[0])<=0);)--ct;W[ct++]=ut}return W.slice(0,ct)}function gn(s,M){return s[0]-M[0]||s[1]-M[1]}a.timer=function(){Qe.apply(this,arguments)},a.timer.flush=function(){rn(),an()},a.round=function(s,M){return M?Math.round(s*(M=Math.pow(10,M)))/M:Math.round(s)},a.geom={},a.geom.hull=function(s){var M=un,C=sn;if(arguments.length)return B(s);function B(U){if(U.length<3)return[];var W,ct=ze(M),ut=ze(C),pt=U.length,bt=[],Ft=[];for(W=0;W<pt;W++)bt.push([+ct.call(this,U[W],W),+ut.call(this,U[W],W),W]);for(bt.sort(gn),W=0;W<pt;W++)Ft.push([bt[W][0],-bt[W][1]]);var jt=on(bt),Gt=on(Ft),ae=Gt[0]===jt[0],ge=Gt[Gt.length-1]===jt[jt.length-1],ee=[];for(W=jt.length-1;W>=0;--W)ee.push(U[bt[jt[W]][2]]);for(W=+ae;W<Gt.length-ge;++W)ee.push(U[bt[Gt[W]][2]]);return ee}return B.x=function(U){return arguments.length?(M=U,B):M},B.y=function(U){return arguments.length?(C=U,B):C},B},a.geom.polygon=function(s){return R(s,Sn),s};var Sn=a.geom.polygon.prototype=[];function Xn(s,M,C){return(C[0]-M[0])*(s[1]-M[1])<(C[1]-M[1])*(s[0]-M[0])}function Ln(s,M,C,B){var U=s[0],W=C[0],ct=M[0]-U,ut=B[0]-W,pt=s[1],bt=C[1],Ft=M[1]-pt,jt=B[1]-bt,Gt=(ut*(pt-bt)-jt*(U-W))/(jt*ct-ut*Ft);return[U+Gt*ct,pt+Gt*Ft]}function Zn(s){var M=s[0],C=s[s.length-1];return!(M[0]-C[0]||M[1]-C[1])}Sn.area=function(){for(var s,M=-1,C=this.length,B=this[C-1],U=0;++M<C;)s=B,B=this[M],U+=s[1]*B[0]-s[0]*B[1];return .5*U},Sn.centroid=function(s){var M,C,B=-1,U=this.length,W=0,ct=0,ut=this[U-1];for(arguments.length||(s=-1/(6*this.area()));++B<U;)M=ut,ut=this[B],C=M[0]*ut[1]-ut[0]*M[1],W+=(M[0]+ut[0])*C,ct+=(M[1]+ut[1])*C;return[W*s,ct*s]},Sn.clip=function(s){for(var M,C,B,U,W,ct,ut=Zn(s),pt=-1,bt=this.length-Zn(this),Ft=this[bt-1];++pt<bt;){for(M=s.slice(),s.length=0,U=this[pt],W=M[(B=M.length-ut)-1],C=-1;++C<B;)Xn(ct=M[C],Ft,U)?(Xn(W,Ft,U)||s.push(Ln(W,ct,Ft,U)),s.push(ct)):Xn(W,Ft,U)&&s.push(Ln(W,ct,Ft,U)),W=ct;ut&&s.push(s[0]),Ft=U}return s};var In,wn,qn,Dn,cn,Je=[],yn=[];function zn(){sr(this),this.edge=this.site=this.circle=null}function pn(s){var M=Je.pop()||new zn;return M.site=s,M}function xn(s){Un(s),qn.remove(s),Je.push(s),sr(s)}function vn(s){var M=s.circle,C=M.x,B=M.cy,U={x:C,y:B},W=s.P,ct=s.N,ut=[s];xn(s);for(var pt=W;pt.circle&&T(C-pt.circle.x)<wt&&T(B-pt.circle.cy)<wt;)W=pt.P,ut.unshift(pt),xn(pt),pt=W;ut.unshift(pt),Un(pt);for(var bt=ct;bt.circle&&T(C-bt.circle.x)<wt&&T(B-bt.circle.cy)<wt;)ct=bt.N,ut.push(bt),xn(bt),bt=ct;ut.push(bt),Un(bt);var Ft,jt=ut.length;for(Ft=1;Ft<jt;++Ft)bt=ut[Ft],pt=ut[Ft-1],jn(bt.edge,pt.site,bt.site,U);pt=ut[0],(bt=ut[jt-1]).edge=Jn(pt.site,bt.site,null,U),Vn(pt),Vn(bt)}function Tn(s){for(var M,C,B,U,W=s.x,ct=s.y,ut=qn._;ut;)if((B=kn(ut,ct)-W)>wt)ut=ut.L;else{if(!((U=W-Cn(ut,ct))>wt)){B>-wt?(M=ut.P,C=ut):U>-wt?(M=ut,C=ut.N):M=C=ut;break}if(!ut.R){M=ut;break}ut=ut.R}var pt=pn(s);if(qn.insert(M,pt),M||C){if(M===C)return Un(M),C=pn(M.site),qn.insert(pt,C),pt.edge=C.edge=Jn(M.site,pt.site),Vn(M),void Vn(C);if(C){Un(M),Un(C);var bt=M.site,Ft=bt.x,jt=bt.y,Gt=s.x-Ft,ae=s.y-jt,ge=C.site,ee=ge.x-Ft,ce=ge.y-jt,Jt=2*(Gt*ce-ae*ee),ye=Gt*Gt+ae*ae,ue=ee*ee+ce*ce,te={x:(ce*ye-ae*ue)/Jt+Ft,y:(Gt*ue-ee*ye)/Jt+jt};jn(C.edge,bt,ge,te),pt.edge=Jn(bt,s,null,te),C.edge=Jn(s,ge,null,te),Vn(M),Vn(C)}else pt.edge=Jn(M.site,pt.site)}}function kn(s,M){var C=s.site,B=C.x,U=C.y,W=U-M;if(!W)return B;var ct=s.P;if(!ct)return-1/0;var ut=(C=ct.site).x,pt=C.y,bt=pt-M;if(!bt)return ut;var Ft=ut-B,jt=1/W-1/bt,Gt=Ft/bt;return jt?(-Gt+Math.sqrt(Gt*Gt-2*jt*(Ft*Ft/(-2*bt)-pt+bt/2+U-W/2)))/jt+B:(B+ut)/2}function Cn(s,M){var C=s.N;if(C)return kn(C,M);var B=s.site;return B.y===M?B.x:1/0}function On(s){this.site=s,this.edges=[]}function Qn(s,M){return M.angle-s.angle}function er(){sr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Vn(s){var M=s.P,C=s.N;if(M&&C){var B=M.site,U=s.site,W=C.site;if(B!==W){var ct=U.x,ut=U.y,pt=B.x-ct,bt=B.y-ut,Ft=W.x-ct,jt=2*(pt*(ce=W.y-ut)-bt*Ft);if(!(jt>=-Ut)){var Gt=pt*pt+bt*bt,ae=Ft*Ft+ce*ce,ge=(ce*Gt-bt*ae)/jt,ee=(pt*ae-Ft*Gt)/jt,ce=ee+ut,Jt=yn.pop()||new er;Jt.arc=s,Jt.site=U,Jt.x=ge+ct,Jt.y=ce+Math.sqrt(ge*ge+ee*ee),Jt.cy=ce,s.circle=Jt;for(var ye=null,ue=cn._;ue;)if(Jt.y<ue.y||Jt.y===ue.y&&Jt.x<=ue.x){if(!ue.L){ye=ue.P;break}ue=ue.L}else{if(!ue.R){ye=ue;break}ue=ue.R}cn.insert(ye,Jt),ye||(Dn=Jt)}}}}function Un(s){var M=s.circle;M&&(M.P||(Dn=M.N),cn.remove(M),yn.push(M),sr(M),s.circle=null)}function fn(s,M){var C=s.b;if(C)return!0;var B,U,W=s.a,ct=M[0][0],ut=M[1][0],pt=M[0][1],bt=M[1][1],Ft=s.l,jt=s.r,Gt=Ft.x,ae=Ft.y,ge=jt.x,ee=jt.y,ce=(Gt+ge)/2,Jt=(ae+ee)/2;if(ee===ae){if(ce<ct||ce>=ut)return;if(Gt>ge){if(W){if(W.y>=bt)return}else W={x:ce,y:pt};C={x:ce,y:bt}}else{if(W){if(W.y<pt)return}else W={x:ce,y:bt};C={x:ce,y:pt}}}else if(U=Jt-(B=(Gt-ge)/(ee-ae))*ce,B<-1||B>1)if(Gt>ge){if(W){if(W.y>=bt)return}else W={x:(pt-U)/B,y:pt};C={x:(bt-U)/B,y:bt}}else{if(W){if(W.y<pt)return}else W={x:(bt-U)/B,y:bt};C={x:(pt-U)/B,y:pt}}else if(ae<ee){if(W){if(W.x>=ut)return}else W={x:ct,y:B*ct+U};C={x:ut,y:B*ut+U}}else{if(W){if(W.x<ct)return}else W={x:ut,y:B*ut+U};C={x:ct,y:B*ct+U}}return s.a=W,s.b=C,!0}function Gn(s,M){this.l=s,this.r=M,this.a=this.b=null}function Jn(s,M,C,B){var U=new Gn(s,M);return In.push(U),C&&jn(U,s,M,C),B&&jn(U,M,s,B),wn[s.i].edges.push(new vr(U,s,M)),wn[M.i].edges.push(new vr(U,M,s)),U}function jn(s,M,C,B){s.a||s.b?s.l===C?s.b=B:s.a=B:(s.a=B,s.l=M,s.r=C)}function vr(s,M,C){var B=s.a,U=s.b;this.edge=s,this.site=M,this.angle=C?Math.atan2(C.y-M.y,C.x-M.x):s.l===M?Math.atan2(U.x-B.x,B.y-U.y):Math.atan2(B.x-U.x,U.y-B.y)}function xr(){this._=null}function sr(s){s.U=s.C=s.L=s.R=s.P=s.N=null}function ar(s,M){var C=M,B=M.R,U=C.U;U?U.L===C?U.L=B:U.R=B:s._=B,B.U=U,C.U=B,C.R=B.L,C.R&&(C.R.U=C),B.L=C}function ir(s,M){var C=M,B=M.L,U=C.U;U?U.L===C?U.L=B:U.R=B:s._=B,B.U=U,C.U=B,C.L=B.R,C.L&&(C.L.U=C),B.R=C}function wr(s){for(;s.L;)s=s.L;return s}function Tr(s,M){var C,B,U,W=s.sort(Cr).pop();for(In=[],wn=new Array(s.length),qn=new xr,cn=new xr;;)if(U=Dn,W&&(!U||W.y<U.y||W.y===U.y&&W.x<U.x))W.x===C&&W.y===B||(wn[W.i]=new On(W),Tn(W),C=W.x,B=W.y),W=s.pop();else{if(!U)break;vn(U.arc)}M&&(function(ut){for(var pt,bt,Ft,jt,Gt,ae=In,ge=(bt=ut[0][0],Ft=ut[0][1],jt=ut[1][0],Gt=ut[1][1],function(ce){var Jt,ye=ce.a,ue=ce.b,te=ye.x,Pe=ye.y,Ie=0,He=1,Be=ue.x-te,$e=ue.y-Pe;if(Jt=bt-te,Be||!(Jt>0)){if(Jt/=Be,Be<0){if(Jt<Ie)return;Jt<He&&(He=Jt)}else if(Be>0){if(Jt>He)return;Jt>Ie&&(Ie=Jt)}if(Jt=jt-te,Be||!(Jt<0)){if(Jt/=Be,Be<0){if(Jt>He)return;Jt>Ie&&(Ie=Jt)}else if(Be>0){if(Jt<Ie)return;Jt<He&&(He=Jt)}if(Jt=Ft-Pe,$e||!(Jt>0)){if(Jt/=$e,$e<0){if(Jt<Ie)return;Jt<He&&(He=Jt)}else if($e>0){if(Jt>He)return;Jt>Ie&&(Ie=Jt)}if(Jt=Gt-Pe,$e||!(Jt<0)){if(Jt/=$e,$e<0){if(Jt>He)return;Jt>Ie&&(Ie=Jt)}else if($e>0){if(Jt<Ie)return;Jt<He&&(He=Jt)}return Ie>0&&(ce.a={x:te+Ie*Be,y:Pe+Ie*$e}),He<1&&(ce.b={x:te+He*Be,y:Pe+He*$e}),ce}}}}}),ee=ae.length;ee--;)(!fn(pt=ae[ee],ut)||!ge(pt)||T(pt.a.x-pt.b.x)<wt&&T(pt.a.y-pt.b.y)<wt)&&(pt.a=pt.b=null,ae.splice(ee,1))}(M),function(ut){for(var pt,bt,Ft,jt,Gt,ae,ge,ee,ce,Jt,ye=ut[0][0],ue=ut[1][0],te=ut[0][1],Pe=ut[1][1],Ie=wn,He=Ie.length;He--;)if((Gt=Ie[He])&&Gt.prepare())for(ee=(ge=Gt.edges).length,ae=0;ae<ee;)Ft=(Jt=ge[ae].end()).x,jt=Jt.y,pt=(ce=ge[++ae%ee].start()).x,bt=ce.y,(T(Ft-pt)>wt||T(jt-bt)>wt)&&(ge.splice(ae,0,new vr((Be=Gt.site,$e=Jt,en=T(Ft-ye)<wt&&Pe-jt>wt?{x:ye,y:T(pt-ye)<wt?bt:Pe}:T(jt-Pe)<wt&&ue-Ft>wt?{x:T(bt-Pe)<wt?pt:ue,y:Pe}:T(Ft-ue)<wt&&jt-te>wt?{x:ue,y:T(pt-ue)<wt?bt:te}:T(jt-te)<wt&&Ft-ye>wt?{x:T(bt-te)<wt?pt:ye,y:te}:null,ln=void 0,(ln=new Gn(Be,null)).a=$e,ln.b=en,In.push(ln),ln),Gt.site,null)),++ee);var Be,$e,en,ln}(M));var ct={cells:wn,edges:In};return qn=cn=In=wn=null,ct}function Cr(s,M){return M.y-s.y||M.x-s.x}On.prototype.prepare=function(){for(var s,M=this.edges,C=M.length;C--;)(s=M[C].edge).b&&s.a||M.splice(C,1);return M.sort(Qn),M.length},vr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},xr.prototype={insert:function(s,M){var C,B,U;if(s){if(M.P=s,M.N=s.N,s.N&&(s.N.P=M),s.N=M,s.R){for(s=s.R;s.L;)s=s.L;s.L=M}else s.R=M;C=s}else this._?(s=wr(this._),M.P=null,M.N=s,s.P=s.L=M,C=s):(M.P=M.N=null,this._=M,C=null);for(M.L=M.R=null,M.U=C,M.C=!0,s=M;C&&C.C;)C===(B=C.U).L?(U=B.R)&&U.C?(C.C=U.C=!1,B.C=!0,s=B):(s===C.R&&(ar(this,C),C=(s=C).U),C.C=!1,B.C=!0,ir(this,B)):(U=B.L)&&U.C?(C.C=U.C=!1,B.C=!0,s=B):(s===C.L&&(ir(this,C),C=(s=C).U),C.C=!1,B.C=!0,ar(this,B)),C=s.U;this._.C=!1},remove:function(s){s.N&&(s.N.P=s.P),s.P&&(s.P.N=s.N),s.N=s.P=null;var M,C,B,U=s.U,W=s.L,ct=s.R;if(C=W?ct?wr(ct):W:ct,U?U.L===s?U.L=C:U.R=C:this._=C,W&&ct?(B=C.C,C.C=s.C,C.L=W,W.U=C,C!==ct?(U=C.U,C.U=s.U,s=C.R,U.L=s,C.R=ct,ct.U=C):(C.U=U,U=C,s=C.R)):(B=s.C,s=C),s&&(s.U=U),!B)if(s&&s.C)s.C=!1;else{do{if(s===this._)break;if(s===U.L){if((M=U.R).C&&(M.C=!1,U.C=!0,ar(this,U),M=U.R),M.L&&M.L.C||M.R&&M.R.C){M.R&&M.R.C||(M.L.C=!1,M.C=!0,ir(this,M),M=U.R),M.C=U.C,U.C=M.R.C=!1,ar(this,U),s=this._;break}}else if((M=U.L).C&&(M.C=!1,U.C=!0,ir(this,U),M=U.L),M.L&&M.L.C||M.R&&M.R.C){M.L&&M.L.C||(M.R.C=!1,M.C=!0,ar(this,M),M=U.L),M.C=U.C,U.C=M.L.C=!1,ir(this,U),s=this._;break}M.C=!0,s=U,U=U.U}while(!s.C);s&&(s.C=!1)}}},a.geom.voronoi=function(s){var M=un,C=sn,B=M,U=C,W=gr;if(s)return ct(s);function ct(pt){var bt=new Array(pt.length),Ft=W[0][0],jt=W[0][1],Gt=W[1][0],ae=W[1][1];return Tr(ut(pt),W).cells.forEach(function(ge,ee){var ce=ge.edges,Jt=ge.site;(bt[ee]=ce.length?ce.map(function(ye){var ue=ye.start();return[ue.x,ue.y]}):Jt.x>=Ft&&Jt.x<=Gt&&Jt.y>=jt&&Jt.y<=ae?[[Ft,ae],[Gt,ae],[Gt,jt],[Ft,jt]]:[]).point=pt[ee]}),bt}function ut(pt){return pt.map(function(bt,Ft){return{x:Math.round(B(bt,Ft)/wt)*wt,y:Math.round(U(bt,Ft)/wt)*wt,i:Ft}})}return ct.links=function(pt){return Tr(ut(pt)).edges.filter(function(bt){return bt.l&&bt.r}).map(function(bt){return{source:pt[bt.l.i],target:pt[bt.r.i]}})},ct.triangles=function(pt){var bt=[];return Tr(ut(pt)).cells.forEach(function(Ft,jt){for(var Gt,ae,ge,ee,ce=Ft.site,Jt=Ft.edges.sort(Qn),ye=-1,ue=Jt.length,te=Jt[ue-1].edge,Pe=te.l===ce?te.r:te.l;++ye<ue;)Gt=Pe,Pe=(te=Jt[ye].edge).l===ce?te.r:te.l,jt<Gt.i&&jt<Pe.i&&(ge=Gt,ee=Pe,((ae=ce).x-ee.x)*(ge.y-ae.y)-(ae.x-ge.x)*(ee.y-ae.y)<0)&&bt.push([pt[jt],pt[Gt.i],pt[Pe.i]])}),bt},ct.x=function(pt){return arguments.length?(B=ze(M=pt),ct):M},ct.y=function(pt){return arguments.length?(U=ze(C=pt),ct):C},ct.clipExtent=function(pt){return arguments.length?(W=pt??gr,ct):W===gr?null:W},ct.size=function(pt){return arguments.length?ct.clipExtent(pt&&[[0,0],pt]):W===gr?null:W&&W[1]},ct};var gr=[[-1e6,-1e6],[1e6,1e6]];function Or(s){return s.x}function vi(s){return s.y}function kr(s,M,C,B,U,W){if(!s(M,C,B,U,W)){var ct=.5*(C+U),ut=.5*(B+W),pt=M.nodes;pt[0]&&kr(s,pt[0],C,B,ct,ut),pt[1]&&kr(s,pt[1],ct,B,U,ut),pt[2]&&kr(s,pt[2],C,ut,ct,W),pt[3]&&kr(s,pt[3],ct,ut,U,W)}}function Gr(s,M){s=a.rgb(s),M=a.rgb(M);var C=s.r,B=s.g,U=s.b,W=M.r-C,ct=M.g-B,ut=M.b-U;return function(pt){return"#"+we(Math.round(C+W*pt))+we(Math.round(B+ct*pt))+we(Math.round(U+ut*pt))}}function ha(s,M){var C,B={},U={};for(C in s)C in M?B[C]=br(s[C],M[C]):U[C]=s[C];for(C in M)C in s||(U[C]=M[C]);return function(W){for(C in B)U[C]=B[C](W);return U}}function dr(s,M){return s=+s,M=+M,function(C){return s*(1-C)+M*C}}function pa(s,M){var C,B,U,W=Zr.lastIndex=qr.lastIndex=0,ct=-1,ut=[],pt=[];for(s+="",M+="";(C=Zr.exec(s))&&(B=qr.exec(M));)(U=B.index)>W&&(U=M.slice(W,U),ut[ct]?ut[ct]+=U:ut[++ct]=U),(C=C[0])===(B=B[0])?ut[ct]?ut[ct]+=B:ut[++ct]=B:(ut[++ct]=null,pt.push({i:ct,x:dr(C,B)})),W=qr.lastIndex;return W<M.length&&(U=M.slice(W),ut[ct]?ut[ct]+=U:ut[++ct]=U),ut.length<2?pt[0]?(M=pt[0].x,function(bt){return M(bt)+""}):function(){return M}:(M=pt.length,function(bt){for(var Ft,jt=0;jt<M;++jt)ut[(Ft=pt[jt]).i]=Ft.x(bt);return ut.join("")})}a.geom.delaunay=function(s){return a.geom.voronoi().triangles(s)},a.geom.quadtree=function(s,M,C,B,U){var W,ct=un,ut=sn;if(W=arguments.length)return ct=Or,ut=vi,W===3&&(U=C,B=M,C=M=0),pt(s);function pt(bt){var Ft,jt,Gt,ae,ge,ee,ce,Jt,ye,ue=ze(ct),te=ze(ut);if(M!=null)ee=M,ce=C,Jt=B,ye=U;else if(Jt=ye=-(ee=ce=1/0),jt=[],Gt=[],ge=bt.length,W)for(ae=0;ae<ge;++ae)(Ft=bt[ae]).x<ee&&(ee=Ft.x),Ft.y<ce&&(ce=Ft.y),Ft.x>Jt&&(Jt=Ft.x),Ft.y>ye&&(ye=Ft.y),jt.push(Ft.x),Gt.push(Ft.y);else for(ae=0;ae<ge;++ae){var Pe=+ue(Ft=bt[ae],ae),Ie=+te(Ft,ae);Pe<ee&&(ee=Pe),Ie<ce&&(ce=Ie),Pe>Jt&&(Jt=Pe),Ie>ye&&(ye=Ie),jt.push(Pe),Gt.push(Ie)}var He=Jt-ee,Be=ye-ce;function $e(nn,mn,_n,An,Ze,Ke,dn,hn){if(!isNaN(_n)&&!isNaN(An))if(nn.leaf){var bn=nn.x,Mn=nn.y;if(bn!=null)if(T(bn-_n)+T(Mn-An)<.01)en(nn,mn,_n,An,Ze,Ke,dn,hn);else{var Fn=nn.point;nn.x=nn.y=nn.point=null,en(nn,Fn,bn,Mn,Ze,Ke,dn,hn),en(nn,mn,_n,An,Ze,Ke,dn,hn)}else nn.x=_n,nn.y=An,nn.point=mn}else en(nn,mn,_n,An,Ze,Ke,dn,hn)}function en(nn,mn,_n,An,Ze,Ke,dn,hn){var bn=.5*(Ze+dn),Mn=.5*(Ke+hn),Fn=_n>=bn,Pn=An>=Mn,Bn=Pn<<1|Fn;nn.leaf=!1,Fn?Ze=bn:dn=bn,Pn?Ke=Mn:hn=Mn,$e(nn=nn.nodes[Bn]||(nn.nodes[Bn]={leaf:!0,nodes:[],point:null,x:null,y:null}),mn,_n,An,Ze,Ke,dn,hn)}He>Be?ye=ce+He:Jt=ee+Be;var ln={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(nn){$e(ln,nn,+ue(nn,++ae),+te(nn,ae),ee,ce,Jt,ye)}};if(ln.visit=function(nn){kr(nn,ln,ee,ce,Jt,ye)},ln.find=function(nn){return function(mn,_n,An,Ze,Ke,dn,hn){var bn,Mn=1/0;return function Fn(Pn,Bn,Rn,Hn,Wn){if(!(Bn>dn||Rn>hn||Hn<Ze||Wn<Ke)){if(lr=Pn.point){var lr,ur=_n-Pn.x,fr=An-Pn.y,Yn=ur*ur+fr*fr;if(Yn<Mn){var En=Math.sqrt(Mn=Yn);Ze=_n-En,Ke=An-En,dn=_n+En,hn=An+En,bn=lr}}for(var Kn=Pn.nodes,$n=.5*(Bn+Hn),tr=.5*(Rn+Wn),rr=(An>=tr)<<1|_n>=$n,hr=rr+4;rr<hr;++rr)if(Pn=Kn[3&rr])switch(3&rr){case 0:Fn(Pn,Bn,Rn,$n,tr);break;case 1:Fn(Pn,$n,Rn,Hn,tr);break;case 2:Fn(Pn,Bn,tr,$n,Wn);break;case 3:Fn(Pn,$n,tr,Hn,Wn)}}}(mn,Ze,Ke,dn,hn),bn}(ln,nn[0],nn[1],ee,ce,Jt,ye)},ae=-1,M==null){for(;++ae<ge;)$e(ln,bt[ae],jt[ae],Gt[ae],ee,ce,Jt,ye);--ae}else bt.forEach(ln.add);return jt=Gt=bt=Ft=null,ln}return pt.x=function(bt){return arguments.length?(ct=bt,pt):ct},pt.y=function(bt){return arguments.length?(ut=bt,pt):ut},pt.extent=function(bt){return arguments.length?(bt==null?M=C=B=U=null:(M=+bt[0][0],C=+bt[0][1],B=+bt[1][0],U=+bt[1][1]),pt):M==null?null:[[M,C],[B,U]]},pt.size=function(bt){return arguments.length?(bt==null?M=C=B=U=null:(M=C=0,B=+bt[0],U=+bt[1]),pt):M==null?null:[B-M,U-C]},pt},a.interpolateRgb=Gr,a.interpolateObject=ha,a.interpolateNumber=dr,a.interpolateString=pa;var Zr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qr=new RegExp(Zr.source,"g");function br(s,M){for(var C,B=a.interpolators.length;--B>=0&&!(C=a.interpolators[B](s,M)););return C}function Pr(s,M){var C,B=[],U=[],W=s.length,ct=M.length,ut=Math.min(s.length,M.length);for(C=0;C<ut;++C)B.push(br(s[C],M[C]));for(;C<W;++C)U[C]=s[C];for(;C<ct;++C)U[C]=M[C];return function(pt){for(C=0;C<ut;++C)U[C]=B[C](pt);return U}}a.interpolate=br,a.interpolators=[function(s,M){var C=typeof M;return(C==="string"?ke.has(M.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(M)?Gr:pa:M instanceof Ot?Gr:Array.isArray(M)?Pr:C==="object"&&isNaN(M)?ha:dr)(s,M)}],a.interpolateArray=Pr;var va=function(){return Z},gi=a.map({linear:va,poly:function(s){return function(M){return Math.pow(M,s)}},quad:function(){return yi},cubic:function(){return xi},sin:function(){return _i},exp:function(){return wi},circle:function(){return Ti},elastic:function(s,M){var C;return arguments.length<2&&(M=.45),arguments.length?C=M/me*Math.asin(1/s):(s=1,C=M/4),function(B){return 1+s*Math.pow(2,-10*B)*Math.sin((B-C)*me/M)}},back:function(s){return s||(s=1.70158),function(M){return M*M*((s+1)*M-s)}},bounce:function(){return Mi}}),mi=a.map({in:Z,out:ga,"in-out":ma,"out-in":function(s){return ma(ga(s))}});function ga(s){return function(M){return 1-s(1-M)}}function ma(s){return function(M){return .5*(M<.5?s(2*M):2-s(2-2*M))}}function yi(s){return s*s}function xi(s){return s*s*s}function bi(s){if(s<=0)return 0;if(s>=1)return 1;var M=s*s,C=M*s;return 4*(s<.5?C:3*(s-M)+C-.75)}function _i(s){return 1-Math.cos(s*ne)}function wi(s){return Math.pow(2,10*(s-1))}function Ti(s){return 1-Math.sqrt(1-s*s)}function Mi(s){return s<.36363636363636365?7.5625*s*s:s<.7272727272727273?7.5625*(s-=.5454545454545454)*s+.75:s<.9090909090909091?7.5625*(s-=.8181818181818182)*s+.9375:7.5625*(s-=.9545454545454546)*s+.984375}function ya(s,M){return M-=s,function(C){return Math.round(s+M*C)}}function xa(s){var M,C,B,U=[s.a,s.b],W=[s.c,s.d],ct=_a(U),ut=ba(U,W),pt=_a(((M=W)[0]+=(B=-ut)*(C=U)[0],M[1]+=B*C[1],M))||0;U[0]*W[1]<W[0]*U[1]&&(U[0]*=-1,U[1]*=-1,ct*=-1,ut*=-1),this.rotate=(ct?Math.atan2(U[1],U[0]):Math.atan2(-W[0],W[1]))*_e,this.translate=[s.e,s.f],this.scale=[ct,pt],this.skew=pt?Math.atan2(ut,pt)*_e:0}function ba(s,M){return s[0]*M[0]+s[1]*M[1]}function _a(s){var M=Math.sqrt(ba(s,s));return M&&(s[0]/=M,s[1]/=M),M}a.ease=function(s){var M,C=s.indexOf("-"),B=C>=0?s.slice(0,C):s,U=C>=0?s.slice(C+1):"in";return B=gi.get(B)||va,U=mi.get(U)||Z,M=U(B.apply(null,n.call(arguments,1))),function(W){return W<=0?0:W>=1?1:M(W)}},a.interpolateHcl=function(s,M){s=a.hcl(s),M=a.hcl(M);var C=s.h,B=s.c,U=s.l,W=M.h-C,ct=M.c-B,ut=M.l-U;return isNaN(ct)&&(ct=0,B=isNaN(B)?M.c:B),isNaN(W)?(W=0,C=isNaN(C)?M.h:C):W>180?W-=360:W<-180&&(W+=360),function(pt){return oe(C+W*pt,B+ct*pt,U+ut*pt)+""}},a.interpolateHsl=function(s,M){s=a.hsl(s),M=a.hsl(M);var C=s.h,B=s.s,U=s.l,W=M.h-C,ct=M.s-B,ut=M.l-U;return isNaN(ct)&&(ct=0,B=isNaN(B)?M.s:B),isNaN(W)?(W=0,C=isNaN(C)?M.h:C):W>180?W-=360:W<-180&&(W+=360),function(pt){return Ht(C+W*pt,B+ct*pt,U+ut*pt)+""}},a.interpolateLab=function(s,M){s=a.lab(s),M=a.lab(M);var C=s.l,B=s.a,U=s.b,W=M.l-C,ct=M.a-B,ut=M.b-U;return function(pt){return re(C+W*pt,B+ct*pt,U+ut*pt)+""}},a.interpolateRound=ya,a.transform=function(s){var M=r.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(C){if(C!=null){M.setAttribute("transform",C);var B=M.transform.baseVal.consolidate()}return new xa(B?B.matrix:ki)})(s)},xa.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ki={a:1,b:0,c:0,d:1,e:0,f:0};function Mr(s){return s.length?s.pop()+",":""}function wa(s,M){var C=[],B=[];return s=a.transform(s),M=a.transform(M),function(U,W,ct,ut){if(U[0]!==W[0]||U[1]!==W[1]){var pt=ct.push("translate(",null,",",null,")");ut.push({i:pt-4,x:dr(U[0],W[0])},{i:pt-2,x:dr(U[1],W[1])})}else(W[0]||W[1])&&ct.push("translate("+W+")")}(s.translate,M.translate,C,B),function(U,W,ct,ut){U!==W?(U-W>180?W+=360:W-U>180&&(U+=360),ut.push({i:ct.push(Mr(ct)+"rotate(",null,")")-2,x:dr(U,W)})):W&&ct.push(Mr(ct)+"rotate("+W+")")}(s.rotate,M.rotate,C,B),function(U,W,ct,ut){U!==W?ut.push({i:ct.push(Mr(ct)+"skewX(",null,")")-2,x:dr(U,W)}):W&&ct.push(Mr(ct)+"skewX("+W+")")}(s.skew,M.skew,C,B),function(U,W,ct,ut){if(U[0]!==W[0]||U[1]!==W[1]){var pt=ct.push(Mr(ct)+"scale(",null,",",null,")");ut.push({i:pt-4,x:dr(U[0],W[0])},{i:pt-2,x:dr(U[1],W[1])})}else W[0]===1&&W[1]===1||ct.push(Mr(ct)+"scale("+W+")")}(s.scale,M.scale,C,B),s=M=null,function(U){for(var W,ct=-1,ut=B.length;++ct<ut;)C[(W=B[ct]).i]=W.x(U);return C.join("")}}function Ai(s,M){return M=(M-=s=+s)||1/M,function(C){return(C-s)/M}}function Li(s,M){return M=(M-=s=+s)||1/M,function(C){return Math.max(0,Math.min(1,(C-s)/M))}}function Si(s){for(var M=s.source,C=s.target,B=function(ct,ut){if(ct===ut)return ct;for(var pt=Ta(ct),bt=Ta(ut),Ft=pt.pop(),jt=bt.pop(),Gt=null;Ft===jt;)Gt=Ft,Ft=pt.pop(),jt=bt.pop();return Gt}(M,C),U=[M];M!==B;)M=M.parent,U.push(M);for(var W=U.length;C!==B;)U.splice(W,0,C),C=C.parent;return U}function Ta(s){for(var M=[],C=s.parent;C!=null;)M.push(s),s=C,C=C.parent;return M.push(s),M}function Di(s){s.fixed|=2}function Ci(s){s.fixed&=-7}function Oi(s){s.fixed|=4,s.px=s.x,s.py=s.y}function Pi(s){s.fixed&=-5}function Ma(s,M,C){var B=0,U=0;if(s.charge=0,!s.leaf)for(var W,ct=s.nodes,ut=ct.length,pt=-1;++pt<ut;)(W=ct[pt])!=null&&(Ma(W,M,C),s.charge+=W.charge,B+=W.charge*W.cx,U+=W.charge*W.cy);if(s.point){s.leaf||(s.point.x+=Math.random()-.5,s.point.y+=Math.random()-.5);var bt=M*C[s.point.index];s.charge+=s.pointCharge=bt,B+=bt*s.point.x,U+=bt*s.point.y}s.cx=B/s.charge,s.cy=U/s.charge}a.interpolateTransform=wa,a.layout={},a.layout.bundle=function(){return function(s){for(var M=[],C=-1,B=s.length;++C<B;)M.push(Si(s[C]));return M}},a.layout.chord=function(){var s,M,C,B,U,W,ct,ut={},pt=0;function bt(){var jt,Gt,ae,ge,ee,ce={},Jt=[],ye=a.range(B),ue=[];for(s=[],M=[],jt=0,ge=-1;++ge<B;){for(Gt=0,ee=-1;++ee<B;)Gt+=C[ge][ee];Jt.push(Gt),ue.push(a.range(B)),jt+=Gt}for(U&&ye.sort(function(ln,nn){return U(Jt[ln],Jt[nn])}),W&&ue.forEach(function(ln,nn){ln.sort(function(mn,_n){return W(C[nn][mn],C[nn][_n])})}),jt=(me-pt*B)/jt,Gt=0,ge=-1;++ge<B;){for(ae=Gt,ee=-1;++ee<B;){var te=ye[ge],Pe=ue[te][ee],Ie=C[te][Pe],He=Gt,Be=Gt+=Ie*jt;ce[te+"-"+Pe]={index:te,subindex:Pe,startAngle:He,endAngle:Be,value:Ie}}M[te]={index:te,startAngle:ae,endAngle:Gt,value:Jt[te]},Gt+=pt}for(ge=-1;++ge<B;)for(ee=ge-1;++ee<B;){var $e=ce[ge+"-"+ee],en=ce[ee+"-"+ge];($e.value||en.value)&&s.push($e.value<en.value?{source:en,target:$e}:{source:$e,target:en})}ct&&Ft()}function Ft(){s.sort(function(jt,Gt){return ct((jt.source.value+jt.target.value)/2,(Gt.source.value+Gt.target.value)/2)})}return ut.matrix=function(jt){return arguments.length?(B=(C=jt)&&C.length,s=M=null,ut):C},ut.padding=function(jt){return arguments.length?(pt=jt,s=M=null,ut):pt},ut.sortGroups=function(jt){return arguments.length?(U=jt,s=M=null,ut):U},ut.sortSubgroups=function(jt){return arguments.length?(W=jt,s=null,ut):W},ut.sortChords=function(jt){return arguments.length?(ct=jt,s&&Ft(),ut):ct},ut.chords=function(){return s||bt(),s},ut.groups=function(){return M||bt(),M},ut},a.layout.force=function(){var s,M,C,B,U,W,ct={},ut=a.dispatch("start","tick","end"),pt=[1,1],bt=.9,Ft=Ii,jt=zi,Gt=-30,ae=Fi,ge=.1,ee=.64,ce=[],Jt=[];function ye(te){return function(Pe,Ie,He,Be){if(Pe.point!==te){var $e=Pe.cx-te.x,en=Pe.cy-te.y,ln=Be-Ie,nn=$e*$e+en*en;if(ln*ln/ee<nn){if(nn<ae){var mn=Pe.charge/nn;te.px-=$e*mn,te.py-=en*mn}return!0}Pe.point&&nn&&nn<ae&&(mn=Pe.pointCharge/nn,te.px-=$e*mn,te.py-=en*mn)}return!Pe.charge}}function ue(te){te.px=a.event.x,te.py=a.event.y,ct.resume()}return ct.tick=function(){if((C*=.99)<.005)return s=null,ut.end({type:"end",alpha:C=0}),!0;var te,Pe,Ie,He,Be,$e,en,ln,nn,mn=ce.length,_n=Jt.length;for(Pe=0;Pe<_n;++Pe)He=(Ie=Jt[Pe]).source,($e=(ln=(Be=Ie.target).x-He.x)*ln+(nn=Be.y-He.y)*nn)&&(ln*=$e=C*U[Pe]*(($e=Math.sqrt($e))-B[Pe])/$e,nn*=$e,Be.x-=ln*(en=He.weight+Be.weight?He.weight/(He.weight+Be.weight):.5),Be.y-=nn*en,He.x+=ln*(en=1-en),He.y+=nn*en);if((en=C*ge)&&(ln=pt[0]/2,nn=pt[1]/2,Pe=-1,en))for(;++Pe<mn;)(Ie=ce[Pe]).x+=(ln-Ie.x)*en,Ie.y+=(nn-Ie.y)*en;if(Gt)for(Ma(te=a.geom.quadtree(ce),C,W),Pe=-1;++Pe<mn;)(Ie=ce[Pe]).fixed||te.visit(ye(Ie));for(Pe=-1;++Pe<mn;)(Ie=ce[Pe]).fixed?(Ie.x=Ie.px,Ie.y=Ie.py):(Ie.x-=(Ie.px-(Ie.px=Ie.x))*bt,Ie.y-=(Ie.py-(Ie.py=Ie.y))*bt);ut.tick({type:"tick",alpha:C})},ct.nodes=function(te){return arguments.length?(ce=te,ct):ce},ct.links=function(te){return arguments.length?(Jt=te,ct):Jt},ct.size=function(te){return arguments.length?(pt=te,ct):pt},ct.linkDistance=function(te){return arguments.length?(Ft=typeof te=="function"?te:+te,ct):Ft},ct.distance=ct.linkDistance,ct.linkStrength=function(te){return arguments.length?(jt=typeof te=="function"?te:+te,ct):jt},ct.friction=function(te){return arguments.length?(bt=+te,ct):bt},ct.charge=function(te){return arguments.length?(Gt=typeof te=="function"?te:+te,ct):Gt},ct.chargeDistance=function(te){return arguments.length?(ae=te*te,ct):Math.sqrt(ae)},ct.gravity=function(te){return arguments.length?(ge=+te,ct):ge},ct.theta=function(te){return arguments.length?(ee=te*te,ct):Math.sqrt(ee)},ct.alpha=function(te){return arguments.length?(te=+te,C?te>0?C=te:(s.c=null,s.t=NaN,s=null,ut.end({type:"end",alpha:C=0})):te>0&&(ut.start({type:"start",alpha:C=te}),s=Qe(ct.tick)),ct):C},ct.start=function(){var te,Pe,Ie,He=ce.length,Be=Jt.length,$e=pt[0],en=pt[1];for(te=0;te<He;++te)(Ie=ce[te]).index=te,Ie.weight=0;for(te=0;te<Be;++te)typeof(Ie=Jt[te]).source=="number"&&(Ie.source=ce[Ie.source]),typeof Ie.target=="number"&&(Ie.target=ce[Ie.target]),++Ie.source.weight,++Ie.target.weight;for(te=0;te<He;++te)Ie=ce[te],isNaN(Ie.x)&&(Ie.x=ln("x",$e)),isNaN(Ie.y)&&(Ie.y=ln("y",en)),isNaN(Ie.px)&&(Ie.px=Ie.x),isNaN(Ie.py)&&(Ie.py=Ie.y);if(B=[],typeof Ft=="function")for(te=0;te<Be;++te)B[te]=+Ft.call(this,Jt[te],te);else for(te=0;te<Be;++te)B[te]=Ft;if(U=[],typeof jt=="function")for(te=0;te<Be;++te)U[te]=+jt.call(this,Jt[te],te);else for(te=0;te<Be;++te)U[te]=jt;if(W=[],typeof Gt=="function")for(te=0;te<He;++te)W[te]=+Gt.call(this,ce[te],te);else for(te=0;te<He;++te)W[te]=Gt;function ln(nn,mn){if(!Pe){for(Pe=new Array(He),Ke=0;Ke<He;++Ke)Pe[Ke]=[];for(Ke=0;Ke<Be;++Ke){var _n=Jt[Ke];Pe[_n.source.index].push(_n.target),Pe[_n.target.index].push(_n.source)}}for(var An,Ze=Pe[te],Ke=-1,dn=Ze.length;++Ke<dn;)if(!isNaN(An=Ze[Ke][nn]))return An;return Math.random()*mn}return ct.resume()},ct.resume=function(){return ct.alpha(.1)},ct.stop=function(){return ct.alpha(0)},ct.drag=function(){if(M||(M=a.behavior.drag().origin(Z).on("dragstart.force",Di).on("drag.force",ue).on("dragend.force",Ci)),!arguments.length)return M;this.on("mouseover.force",Oi).on("mouseout.force",Pi).call(M)},a.rebind(ct,ut,"on")};var Ii=20,zi=1,Fi=1/0;function Ar(s,M){return a.rebind(s,M,"sort","children","value"),s.nodes=s,s.links=ji,s}function Lr(s,M){for(var C=[s];(s=C.pop())!=null;)if(M(s),(U=s.children)&&(B=U.length))for(var B,U;--B>=0;)C.push(U[B])}function cr(s,M){for(var C=[s],B=[];(s=C.pop())!=null;)if(B.push(s),(W=s.children)&&(U=W.length))for(var U,W,ct=-1;++ct<U;)C.push(W[ct]);for(;(s=B.pop())!=null;)M(s)}function Ri(s){return s.children}function Ei(s){return s.value}function Ni(s,M){return M.value-s.value}function ji(s){return a.merge(s.map(function(M){return(M.children||[]).map(function(C){return{source:M,target:C}})}))}a.layout.hierarchy=function(){var s=Ni,M=Ri,C=Ei;function B(U){var W,ct=[U],ut=[];for(U.depth=0;(W=ct.pop())!=null;)if(ut.push(W),(bt=M.call(B,W,W.depth))&&(pt=bt.length)){for(var pt,bt,Ft;--pt>=0;)ct.push(Ft=bt[pt]),Ft.parent=W,Ft.depth=W.depth+1;C&&(W.value=0),W.children=bt}else C&&(W.value=+C.call(B,W,W.depth)||0),delete W.children;return cr(U,function(jt){var Gt,ae;s&&(Gt=jt.children)&&Gt.sort(s),C&&(ae=jt.parent)&&(ae.value+=jt.value)}),ut}return B.sort=function(U){return arguments.length?(s=U,B):s},B.children=function(U){return arguments.length?(M=U,B):M},B.value=function(U){return arguments.length?(C=U,B):C},B.revalue=function(U){return C&&(Lr(U,function(W){W.children&&(W.value=0)}),cr(U,function(W){var ct;W.children||(W.value=+C.call(B,W,W.depth)||0),(ct=W.parent)&&(ct.value+=W.value)})),U},B},a.layout.partition=function(){var s=a.layout.hierarchy(),M=[1,1];function C(W,ct,ut,pt){var bt=W.children;if(W.x=ct,W.y=W.depth*pt,W.dx=ut,W.dy=pt,bt&&(Ft=bt.length)){var Ft,jt,Gt,ae=-1;for(ut=W.value?ut/W.value:0;++ae<Ft;)C(jt=bt[ae],ct,Gt=jt.value*ut,pt),ct+=Gt}}function B(W){var ct=W.children,ut=0;if(ct&&(pt=ct.length))for(var pt,bt=-1;++bt<pt;)ut=Math.max(ut,B(ct[bt]));return 1+ut}function U(W,ct){var ut=s.call(this,W,ct);return C(ut[0],0,M[0],M[1]/B(ut[0])),ut}return U.size=function(W){return arguments.length?(M=W,U):M},Ar(U,s)},a.layout.pie=function(){var s=Number,M=ka,C=0,B=me,U=0;function W(ct){var ut,pt=ct.length,bt=ct.map(function(ye,ue){return+s.call(W,ye,ue)}),Ft=+(typeof C=="function"?C.apply(this,arguments):C),jt=(typeof B=="function"?B.apply(this,arguments):B)-Ft,Gt=Math.min(Math.abs(jt)/pt,+(typeof U=="function"?U.apply(this,arguments):U)),ae=Gt*(jt<0?-1:1),ge=a.sum(bt),ee=ge?(jt-pt*ae)/ge:0,ce=a.range(pt),Jt=[];return M!=null&&ce.sort(M===ka?function(ye,ue){return bt[ue]-bt[ye]}:function(ye,ue){return M(ct[ye],ct[ue])}),ce.forEach(function(ye){Jt[ye]={data:ct[ye],value:ut=bt[ye],startAngle:Ft,endAngle:Ft+=ut*ee+ae,padAngle:Gt}}),Jt}return W.value=function(ct){return arguments.length?(s=ct,W):s},W.sort=function(ct){return arguments.length?(M=ct,W):M},W.startAngle=function(ct){return arguments.length?(C=ct,W):C},W.endAngle=function(ct){return arguments.length?(B=ct,W):B},W.padAngle=function(ct){return arguments.length?(U=ct,W):U},W};var ka={};function Bi(s){return s.x}function Hi(s){return s.y}function Yi(s,M,C){s.y0=M,s.y=C}a.layout.stack=function(){var s=Z,M=Jr,C=Wr,B=Yi,U=Bi,W=Hi;function ct(ut,pt){if(!(Gt=ut.length))return ut;var bt=ut.map(function(ye,ue){return s.call(ct,ye,ue)}),Ft=bt.map(function(ye){return ye.map(function(ue,te){return[U.call(ct,ue,te),W.call(ct,ue,te)]})}),jt=M.call(ct,Ft,pt);bt=a.permute(bt,jt),Ft=a.permute(Ft,jt);var Gt,ae,ge,ee,ce=C.call(ct,Ft,pt),Jt=bt[0].length;for(ge=0;ge<Jt;++ge)for(B.call(ct,bt[0][ge],ee=ce[ge],Ft[0][ge][1]),ae=1;ae<Gt;++ae)B.call(ct,bt[ae][ge],ee+=Ft[ae-1][ge][1],Ft[ae][ge][1]);return ut}return ct.values=function(ut){return arguments.length?(s=ut,ct):s},ct.order=function(ut){return arguments.length?(M=typeof ut=="function"?ut:Vi.get(ut)||Jr,ct):M},ct.offset=function(ut){return arguments.length?(C=typeof ut=="function"?ut:Ui.get(ut)||Wr,ct):C},ct.x=function(ut){return arguments.length?(U=ut,ct):U},ct.y=function(ut){return arguments.length?(W=ut,ct):W},ct.out=function(ut){return arguments.length?(B=ut,ct):B},ct};var Vi=a.map({"inside-out":function(s){var M,C,B=s.length,U=s.map(Gi),W=s.map(Zi),ct=a.range(B).sort(function(jt,Gt){return U[jt]-U[Gt]}),ut=0,pt=0,bt=[],Ft=[];for(M=0;M<B;++M)C=ct[M],ut<pt?(ut+=W[C],bt.push(C)):(pt+=W[C],Ft.push(C));return Ft.reverse().concat(bt)},reverse:function(s){return a.range(s.length).reverse()},default:Jr}),Ui=a.map({silhouette:function(s){var M,C,B,U=s.length,W=s[0].length,ct=[],ut=0,pt=[];for(C=0;C<W;++C){for(M=0,B=0;M<U;M++)B+=s[M][C][1];B>ut&&(ut=B),ct.push(B)}for(C=0;C<W;++C)pt[C]=(ut-ct[C])/2;return pt},wiggle:function(s){var M,C,B,U,W,ct,ut,pt,bt,Ft=s.length,jt=s[0],Gt=jt.length,ae=[];for(ae[0]=pt=bt=0,C=1;C<Gt;++C){for(M=0,U=0;M<Ft;++M)U+=s[M][C][1];for(M=0,W=0,ut=jt[C][0]-jt[C-1][0];M<Ft;++M){for(B=0,ct=(s[M][C][1]-s[M][C-1][1])/(2*ut);B<M;++B)ct+=(s[B][C][1]-s[B][C-1][1])/ut;W+=ct*s[M][C][1]}ae[C]=pt-=U?W/U*ut:0,pt<bt&&(bt=pt)}for(C=0;C<Gt;++C)ae[C]-=bt;return ae},expand:function(s){var M,C,B,U=s.length,W=s[0].length,ct=1/U,ut=[];for(C=0;C<W;++C){for(M=0,B=0;M<U;M++)B+=s[M][C][1];if(B)for(M=0;M<U;M++)s[M][C][1]/=B;else for(M=0;M<U;M++)s[M][C][1]=ct}for(C=0;C<W;++C)ut[C]=0;return ut},zero:Wr});function Jr(s){return a.range(s.length)}function Wr(s){for(var M=-1,C=s[0].length,B=[];++M<C;)B[M]=0;return B}function Gi(s){for(var M,C=1,B=0,U=s[0][1],W=s.length;C<W;++C)(M=s[C][1])>U&&(B=C,U=M);return B}function Zi(s){return s.reduce(qi,0)}function qi(s,M){return s+M[1]}function Ji(s,M){return Aa(s,Math.ceil(Math.log(M.length)/Math.LN2+1))}function Aa(s,M){for(var C=-1,B=+s[0],U=(s[1]-B)/M,W=[];++C<=M;)W[C]=U*C+B;return W}function Wi(s){return[a.min(s),a.max(s)]}function Xi(s,M){return s.value-M.value}function Xr(s,M){var C=s._pack_next;s._pack_next=M,M._pack_prev=s,M._pack_next=C,C._pack_prev=M}function La(s,M){s._pack_next=M,M._pack_prev=s}function Sa(s,M){var C=M.x-s.x,B=M.y-s.y,U=s.r+M.r;return .999*U*U>C*C+B*B}function Da(s){if((M=s.children)&&(pt=M.length)){var M,C,B,U,W,ct,ut,pt,bt=1/0,Ft=-1/0,jt=1/0,Gt=-1/0;if(M.forEach(Qi),(C=M[0]).x=-C.r,C.y=0,ue(C),pt>1&&((B=M[1]).x=B.r,B.y=0,ue(B),pt>2))for(Oa(C,B,U=M[2]),ue(U),Xr(C,U),C._pack_prev=U,Xr(U,B),B=C._pack_next,W=3;W<pt;W++){Oa(C,B,U=M[W]);var ae=0,ge=1,ee=1;for(ct=B._pack_next;ct!==B;ct=ct._pack_next,ge++)if(Sa(ct,U)){ae=1;break}if(ae==1)for(ut=C._pack_prev;ut!==ct._pack_prev&&!Sa(ut,U);ut=ut._pack_prev,ee++);ae?(ge<ee||ge==ee&&B.r<C.r?La(C,B=ct):La(C=ut,B),W--):(Xr(C,U),B=U,ue(U))}var ce=(bt+Ft)/2,Jt=(jt+Gt)/2,ye=0;for(W=0;W<pt;W++)(U=M[W]).x-=ce,U.y-=Jt,ye=Math.max(ye,U.r+Math.sqrt(U.x*U.x+U.y*U.y));s.r=ye,M.forEach(Ki)}function ue(te){bt=Math.min(te.x-te.r,bt),Ft=Math.max(te.x+te.r,Ft),jt=Math.min(te.y-te.r,jt),Gt=Math.max(te.y+te.r,Gt)}}function Qi(s){s._pack_next=s._pack_prev=s}function Ki(s){delete s._pack_next,delete s._pack_prev}function Ca(s,M,C,B){var U=s.children;if(s.x=M+=B*s.x,s.y=C+=B*s.y,s.r*=B,U)for(var W=-1,ct=U.length;++W<ct;)Ca(U[W],M,C,B)}function Oa(s,M,C){var B=s.r+C.r,U=M.x-s.x,W=M.y-s.y;if(B&&(U||W)){var ct=M.r+C.r,ut=U*U+W*W,pt=.5+((B*=B)-(ct*=ct))/(2*ut),bt=Math.sqrt(Math.max(0,2*ct*(B+ut)-(B-=ut)*B-ct*ct))/(2*ut);C.x=s.x+pt*U+bt*W,C.y=s.y+pt*W-bt*U}else C.x=s.x+B,C.y=s.y}function Pa(s,M){return s.parent==M.parent?1:2}function Qr(s){var M=s.children;return M.length?M[0]:s.t}function Kr(s){var M,C=s.children;return(M=C.length)?C[M-1]:s.t}function $i(s,M,C){var B=C/(M.i-s.i);M.c-=B,M.s+=C,s.c+=B,M.z+=C,M.m+=C}function to(s,M,C){return s.a.parent===M.parent?s.a:C}function Ia(s){var M=s.children;return M&&M.length?Ia(M[0]):s}function za(s){var M,C=s.children;return C&&(M=C.length)?za(C[M-1]):s}function $r(s){return{x:s.x,y:s.y,dx:s.dx,dy:s.dy}}function Fa(s,M){var C=s.x+M[3],B=s.y+M[0],U=s.dx-M[1]-M[3],W=s.dy-M[0]-M[2];return U<0&&(C+=U/2,U=0),W<0&&(B+=W/2,W=0),{x:C,y:B,dx:U,dy:W}}function Ir(s){var M=s[0],C=s[s.length-1];return M<C?[M,C]:[C,M]}function zr(s){return s.rangeExtent?s.rangeExtent():Ir(s.range())}function eo(s,M,C,B){var U=C(s[0],s[1]),W=B(M[0],M[1]);return function(ct){return W(U(ct))}}function ta(s,M){var C,B=0,U=s.length-1,W=s[B],ct=s[U];return ct<W&&(C=B,B=U,U=C,C=W,W=ct,ct=C),s[B]=M.floor(W),s[U]=M.ceil(ct),s}function Ra(s){return s?{floor:function(M){return Math.floor(M/s)*s},ceil:function(M){return Math.ceil(M/s)*s}}:no}a.layout.histogram=function(){var s=!0,M=Number,C=Wi,B=Ji;function U(W,ct){for(var ut,pt,bt=[],Ft=W.map(M,this),jt=C.call(this,Ft,ct),Gt=B.call(this,jt,Ft,ct),ae=(ct=-1,Ft.length),ge=Gt.length-1,ee=s?1:1/ae;++ct<ge;)(ut=bt[ct]=[]).dx=Gt[ct+1]-(ut.x=Gt[ct]),ut.y=0;if(ge>0)for(ct=-1;++ct<ae;)(pt=Ft[ct])>=jt[0]&&pt<=jt[1]&&((ut=bt[a.bisect(Gt,pt,1,ge)-1]).y+=ee,ut.push(W[ct]));return bt}return U.value=function(W){return arguments.length?(M=W,U):M},U.range=function(W){return arguments.length?(C=ze(W),U):C},U.bins=function(W){return arguments.length?(B=typeof W=="number"?function(ct){return Aa(ct,W)}:ze(W),U):B},U.frequency=function(W){return arguments.length?(s=!!W,U):s},U},a.layout.pack=function(){var s,M=a.layout.hierarchy().sort(Xi),C=0,B=[1,1];function U(W,ct){var ut=M.call(this,W,ct),pt=ut[0],bt=B[0],Ft=B[1],jt=s==null?Math.sqrt:typeof s=="function"?s:function(){return s};if(pt.x=pt.y=0,cr(pt,function(ae){ae.r=+jt(ae.value)}),cr(pt,Da),C){var Gt=C*(s?1:Math.max(2*pt.r/bt,2*pt.r/Ft))/2;cr(pt,function(ae){ae.r+=Gt}),cr(pt,Da),cr(pt,function(ae){ae.r-=Gt})}return Ca(pt,bt/2,Ft/2,s?1:1/Math.max(2*pt.r/bt,2*pt.r/Ft)),ut}return U.size=function(W){return arguments.length?(B=W,U):B},U.radius=function(W){return arguments.length?(s=W==null||typeof W=="function"?W:+W,U):s},U.padding=function(W){return arguments.length?(C=+W,U):C},Ar(U,M)},a.layout.tree=function(){var s=a.layout.hierarchy().sort(null).value(null),M=Pa,C=[1,1],B=null;function U(pt,bt){var Ft=s.call(this,pt,bt),jt=Ft[0],Gt=function(ue){for(var te,Pe={A:null,children:[ue]},Ie=[Pe];(te=Ie.pop())!=null;)for(var He,Be=te.children,$e=0,en=Be.length;$e<en;++$e)Ie.push((Be[$e]=He={_:Be[$e],parent:te,children:(He=Be[$e].children)&&He.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:$e}).a=He);return Pe.children[0]}(jt);if(cr(Gt,W),Gt.parent.m=-Gt.z,Lr(Gt,ct),B)Lr(jt,ut);else{var ae=jt,ge=jt,ee=jt;Lr(jt,function(ue){ue.x<ae.x&&(ae=ue),ue.x>ge.x&&(ge=ue),ue.depth>ee.depth&&(ee=ue)});var ce=M(ae,ge)/2-ae.x,Jt=C[0]/(ge.x+M(ge,ae)/2+ce),ye=C[1]/(ee.depth||1);Lr(jt,function(ue){ue.x=(ue.x+ce)*Jt,ue.y=ue.depth*ye})}return Ft}function W(pt){var bt=pt.children,Ft=pt.parent.children,jt=pt.i?Ft[pt.i-1]:null;if(bt.length){(function(ae){for(var ge,ee=0,ce=0,Jt=ae.children,ye=Jt.length;--ye>=0;)(ge=Jt[ye]).z+=ee,ge.m+=ee,ee+=ge.s+(ce+=ge.c)})(pt);var Gt=(bt[0].z+bt[bt.length-1].z)/2;jt?(pt.z=jt.z+M(pt._,jt._),pt.m=pt.z-Gt):pt.z=Gt}else jt&&(pt.z=jt.z+M(pt._,jt._));pt.parent.A=function(ae,ge,ee){if(ge){for(var ce,Jt=ae,ye=ae,ue=ge,te=Jt.parent.children[0],Pe=Jt.m,Ie=ye.m,He=ue.m,Be=te.m;ue=Kr(ue),Jt=Qr(Jt),ue&&Jt;)te=Qr(te),(ye=Kr(ye)).a=ae,(ce=ue.z+He-Jt.z-Pe+M(ue._,Jt._))>0&&($i(to(ue,ae,ee),ae,ce),Pe+=ce,Ie+=ce),He+=ue.m,Pe+=Jt.m,Be+=te.m,Ie+=ye.m;ue&&!Kr(ye)&&(ye.t=ue,ye.m+=He-Ie),Jt&&!Qr(te)&&(te.t=Jt,te.m+=Pe-Be,ee=ae)}return ee}(pt,jt,pt.parent.A||Ft[0])}function ct(pt){pt._.x=pt.z+pt.parent.m,pt.m+=pt.parent.m}function ut(pt){pt.x*=C[0],pt.y=pt.depth*C[1]}return U.separation=function(pt){return arguments.length?(M=pt,U):M},U.size=function(pt){return arguments.length?(B=(C=pt)==null?ut:null,U):B?null:C},U.nodeSize=function(pt){return arguments.length?(B=(C=pt)==null?null:ut,U):B?C:null},Ar(U,s)},a.layout.cluster=function(){var s=a.layout.hierarchy().sort(null).value(null),M=Pa,C=[1,1],B=!1;function U(W,ct){var ut,pt=s.call(this,W,ct),bt=pt[0],Ft=0;cr(bt,function(ee){var ce=ee.children;ce&&ce.length?(ee.x=function(Jt){return Jt.reduce(function(ye,ue){return ye+ue.x},0)/Jt.length}(ce),ee.y=function(Jt){return 1+a.max(Jt,function(ye){return ye.y})}(ce)):(ee.x=ut?Ft+=M(ee,ut):0,ee.y=0,ut=ee)});var jt=Ia(bt),Gt=za(bt),ae=jt.x-M(jt,Gt)/2,ge=Gt.x+M(Gt,jt)/2;return cr(bt,B?function(ee){ee.x=(ee.x-bt.x)*C[0],ee.y=(bt.y-ee.y)*C[1]}:function(ee){ee.x=(ee.x-ae)/(ge-ae)*C[0],ee.y=(1-(bt.y?ee.y/bt.y:1))*C[1]}),pt}return U.separation=function(W){return arguments.length?(M=W,U):M},U.size=function(W){return arguments.length?(B=(C=W)==null,U):B?null:C},U.nodeSize=function(W){return arguments.length?(B=(C=W)!=null,U):B?C:null},Ar(U,s)},a.layout.treemap=function(){var s,M=a.layout.hierarchy(),C=Math.round,B=[1,1],U=null,W=$r,ct=!1,ut="squarify",pt=.5*(1+Math.sqrt(5));function bt(ee,ce){for(var Jt,ye,ue=-1,te=ee.length;++ue<te;)ye=(Jt=ee[ue]).value*(ce<0?0:ce),Jt.area=isNaN(ye)||ye<=0?0:ye}function Ft(ee){var ce=ee.children;if(ce&&ce.length){var Jt,ye,ue,te=W(ee),Pe=[],Ie=ce.slice(),He=1/0,Be=ut==="slice"?te.dx:ut==="dice"?te.dy:ut==="slice-dice"?1&ee.depth?te.dy:te.dx:Math.min(te.dx,te.dy);for(bt(Ie,te.dx*te.dy/ee.value),Pe.area=0;(ue=Ie.length)>0;)Pe.push(Jt=Ie[ue-1]),Pe.area+=Jt.area,ut!=="squarify"||(ye=Gt(Pe,Be))<=He?(Ie.pop(),He=ye):(Pe.area-=Pe.pop().area,ae(Pe,Be,te,!1),Be=Math.min(te.dx,te.dy),Pe.length=Pe.area=0,He=1/0);Pe.length&&(ae(Pe,Be,te,!0),Pe.length=Pe.area=0),ce.forEach(Ft)}}function jt(ee){var ce=ee.children;if(ce&&ce.length){var Jt,ye=W(ee),ue=ce.slice(),te=[];for(bt(ue,ye.dx*ye.dy/ee.value),te.area=0;Jt=ue.pop();)te.push(Jt),te.area+=Jt.area,Jt.z!=null&&(ae(te,Jt.z?ye.dx:ye.dy,ye,!ue.length),te.length=te.area=0);ce.forEach(jt)}}function Gt(ee,ce){for(var Jt,ye=ee.area,ue=0,te=1/0,Pe=-1,Ie=ee.length;++Pe<Ie;)(Jt=ee[Pe].area)&&(Jt<te&&(te=Jt),Jt>ue&&(ue=Jt));return ce*=ce,(ye*=ye)?Math.max(ce*ue*pt/ye,ye/(ce*te*pt)):1/0}function ae(ee,ce,Jt,ye){var ue,te=-1,Pe=ee.length,Ie=Jt.x,He=Jt.y,Be=ce?C(ee.area/ce):0;if(ce==Jt.dx){for((ye||Be>Jt.dy)&&(Be=Jt.dy);++te<Pe;)(ue=ee[te]).x=Ie,ue.y=He,ue.dy=Be,Ie+=ue.dx=Math.min(Jt.x+Jt.dx-Ie,Be?C(ue.area/Be):0);ue.z=!0,ue.dx+=Jt.x+Jt.dx-Ie,Jt.y+=Be,Jt.dy-=Be}else{for((ye||Be>Jt.dx)&&(Be=Jt.dx);++te<Pe;)(ue=ee[te]).x=Ie,ue.y=He,ue.dx=Be,He+=ue.dy=Math.min(Jt.y+Jt.dy-He,Be?C(ue.area/Be):0);ue.z=!1,ue.dy+=Jt.y+Jt.dy-He,Jt.x+=Be,Jt.dx-=Be}}function ge(ee){var ce=s||M(ee),Jt=ce[0];return Jt.x=Jt.y=0,Jt.value?(Jt.dx=B[0],Jt.dy=B[1]):Jt.dx=Jt.dy=0,s&&M.revalue(Jt),bt([Jt],Jt.dx*Jt.dy/Jt.value),(s?jt:Ft)(Jt),ct&&(s=ce),ce}return ge.size=function(ee){return arguments.length?(B=ee,ge):B},ge.padding=function(ee){if(!arguments.length)return U;function ce(ye){return Fa(ye,ee)}var Jt;return W=(U=ee)==null?$r:(Jt=typeof ee)=="function"?function(ye){var ue=ee.call(ge,ye,ye.depth);return ue==null?$r(ye):Fa(ye,typeof ue=="number"?[ue,ue,ue,ue]:ue)}:(Jt==="number"&&(ee=[ee,ee,ee,ee]),ce),ge},ge.round=function(ee){return arguments.length?(C=ee?Math.round:Number,ge):C!=Number},ge.sticky=function(ee){return arguments.length?(ct=ee,s=null,ge):ct},ge.ratio=function(ee){return arguments.length?(pt=ee,ge):pt},ge.mode=function(ee){return arguments.length?(ut=ee+"",ge):ut},Ar(ge,M)},a.random={normal:function(s,M){var C=arguments.length;return C<2&&(M=1),C<1&&(s=0),function(){var B,U,W;do W=(B=2*Math.random()-1)*B+(U=2*Math.random()-1)*U;while(!W||W>1);return s+M*B*Math.sqrt(-2*Math.log(W)/W)}},logNormal:function(){var s=a.random.normal.apply(a,arguments);return function(){return Math.exp(s())}},bates:function(s){var M=a.random.irwinHall(s);return function(){return M()/s}},irwinHall:function(s){return function(){for(var M=0,C=0;C<s;C++)M+=Math.random();return M}}},a.scale={};var no={floor:Z,ceil:Z};function ro(s,M,C,B){var U=[],W=[],ct=0,ut=Math.min(s.length,M.length)-1;for(s[ut]<s[0]&&(s=s.slice().reverse(),M=M.slice().reverse());++ct<=ut;)U.push(C(s[ct-1],s[ct])),W.push(B(M[ct-1],M[ct]));return function(pt){var bt=a.bisect(s,pt,1,ut)-1;return W[bt](U[bt](pt))}}function Ea(s,M,C,B){var U,W;function ct(){var pt=Math.min(s.length,M.length)>2?ro:eo,bt=B?Li:Ai;return U=pt(s,M,bt,C),W=pt(M,s,bt,br),ut}function ut(pt){return U(pt)}return ut.invert=function(pt){return W(pt)},ut.domain=function(pt){return arguments.length?(s=pt.map(Number),ct()):s},ut.range=function(pt){return arguments.length?(M=pt,ct()):M},ut.rangeRound=function(pt){return ut.range(pt).interpolate(ya)},ut.clamp=function(pt){return arguments.length?(B=pt,ct()):B},ut.interpolate=function(pt){return arguments.length?(C=pt,ct()):C},ut.ticks=function(pt){return na(s,pt)},ut.tickFormat=function(pt,bt){return d3_scale_linearTickFormat(s,pt,bt)},ut.nice=function(pt){return ja(s,pt),ct()},ut.copy=function(){return Ea(s,M,C,B)},ct()}function Na(s,M){return a.rebind(s,M,"range","rangeRound","interpolate","clamp")}function ja(s,M){return ta(s,Ra(ea(s,M)[2])),ta(s,Ra(ea(s,M)[2])),s}function ea(s,M){M==null&&(M=10);var C=Ir(s),B=C[1]-C[0],U=Math.pow(10,Math.floor(Math.log(B/M)/Math.LN10)),W=M/B*U;return W<=.15?U*=10:W<=.35?U*=5:W<=.75&&(U*=2),C[0]=Math.ceil(C[0]/U)*U,C[1]=Math.floor(C[1]/U)*U+.5*U,C[2]=U,C}function na(s,M){return a.range.apply(a,ea(s,M))}function Ba(s,M,C,B){function U(ut){return(C?Math.log(ut<0?0:ut):-Math.log(ut>0?0:-ut))/Math.log(M)}function W(ut){return C?Math.pow(M,ut):-Math.pow(M,-ut)}function ct(ut){return s(U(ut))}return ct.invert=function(ut){return W(s.invert(ut))},ct.domain=function(ut){return arguments.length?(C=ut[0]>=0,s.domain((B=ut.map(Number)).map(U)),ct):B},ct.base=function(ut){return arguments.length?(M=+ut,s.domain(B.map(U)),ct):M},ct.nice=function(){var ut=ta(B.map(U),C?Math:ao);return s.domain(ut),B=ut.map(W),ct},ct.ticks=function(){var ut=Ir(B),pt=[],bt=ut[0],Ft=ut[1],jt=Math.floor(U(bt)),Gt=Math.ceil(U(Ft)),ae=M%1?2:M;if(isFinite(Gt-jt)){if(C){for(;jt<Gt;jt++)for(var ge=1;ge<ae;ge++)pt.push(W(jt)*ge);pt.push(W(jt))}else for(pt.push(W(jt));jt++<Gt;)for(ge=ae-1;ge>0;ge--)pt.push(W(jt)*ge);for(jt=0;pt[jt]<bt;jt++);for(Gt=pt.length;pt[Gt-1]>Ft;Gt--);pt=pt.slice(jt,Gt)}return pt},ct.copy=function(){return Ba(s.copy(),M,C,B)},Na(ct,s)}a.scale.linear=function(){return Ea([0,1],[0,1],br,!1)},a.scale.log=function(){return Ba(a.scale.linear().domain([0,1]),10,!0,[1,10])};var ao={floor:function(s){return-Math.ceil(-s)},ceil:function(s){return-Math.floor(-s)}};function Ha(s,M,C){var B=Fr(M),U=Fr(1/M);function W(ct){return s(B(ct))}return W.invert=function(ct){return U(s.invert(ct))},W.domain=function(ct){return arguments.length?(s.domain((C=ct.map(Number)).map(B)),W):C},W.ticks=function(ct){return na(C,ct)},W.tickFormat=function(ct,ut){return d3_scale_linearTickFormat(C,ct,ut)},W.nice=function(ct){return W.domain(ja(C,ct))},W.exponent=function(ct){return arguments.length?(B=Fr(M=ct),U=Fr(1/M),s.domain(C.map(B)),W):M},W.copy=function(){return Ha(s.copy(),M,C)},Na(W,s)}function Fr(s){return function(M){return M<0?-Math.pow(-M,s):Math.pow(M,s)}}function Ya(s,M){var C,B,U;function W(ut){return B[((C.get(ut)||(M.t==="range"?C.set(ut,s.push(ut)):NaN))-1)%B.length]}function ct(ut,pt){return a.range(s.length).map(function(bt){return ut+pt*bt})}return W.domain=function(ut){if(!arguments.length)return s;s=[],C=new P;for(var pt,bt=-1,Ft=ut.length;++bt<Ft;)C.has(pt=ut[bt])||C.set(pt,s.push(pt));return W[M.t].apply(W,M.a)},W.range=function(ut){return arguments.length?(B=ut,U=0,M={t:"range",a:arguments},W):B},W.rangePoints=function(ut,pt){arguments.length<2&&(pt=0);var bt=ut[0],Ft=ut[1],jt=s.length<2?(bt=(bt+Ft)/2,0):(Ft-bt)/(s.length-1+pt);return B=ct(bt+jt*pt/2,jt),U=0,M={t:"rangePoints",a:arguments},W},W.rangeRoundPoints=function(ut,pt){arguments.length<2&&(pt=0);var bt=ut[0],Ft=ut[1],jt=s.length<2?(bt=Ft=Math.round((bt+Ft)/2),0):(Ft-bt)/(s.length-1+pt)|0;return B=ct(bt+Math.round(jt*pt/2+(Ft-bt-(s.length-1+pt)*jt)/2),jt),U=0,M={t:"rangeRoundPoints",a:arguments},W},W.rangeBands=function(ut,pt,bt){arguments.length<2&&(pt=0),arguments.length<3&&(bt=pt);var Ft=ut[1]<ut[0],jt=ut[Ft-0],Gt=(ut[1-Ft]-jt)/(s.length-pt+2*bt);return B=ct(jt+Gt*bt,Gt),Ft&&B.reverse(),U=Gt*(1-pt),M={t:"rangeBands",a:arguments},W},W.rangeRoundBands=function(ut,pt,bt){arguments.length<2&&(pt=0),arguments.length<3&&(bt=pt);var Ft=ut[1]<ut[0],jt=ut[Ft-0],Gt=ut[1-Ft],ae=Math.floor((Gt-jt)/(s.length-pt+2*bt));return B=ct(jt+Math.round((Gt-jt-(s.length-pt)*ae)/2),ae),Ft&&B.reverse(),U=Math.round(ae*(1-pt)),M={t:"rangeRoundBands",a:arguments},W},W.rangeBand=function(){return U},W.rangeExtent=function(){return Ir(M.a[0])},W.copy=function(){return Ya(s,M)},W.domain(s)}a.scale.pow=function(){return Ha(a.scale.linear(),1,[0,1])},a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return Ya([],{t:"range",a:[[]]})},a.scale.category10=function(){return a.scale.ordinal().range(io)},a.scale.category20=function(){return a.scale.ordinal().range(oo)},a.scale.category20b=function(){return a.scale.ordinal().range(lo)},a.scale.category20c=function(){return a.scale.ordinal().range(so)};var io=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(le),oo=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(le),lo=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(le),so=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(le);function Va(s,M){var C;function B(){var W=0,ct=M.length;for(C=[];++W<ct;)C[W-1]=a.quantile(s,W/ct);return U}function U(W){if(!isNaN(W=+W))return M[a.bisect(C,W)]}return U.domain=function(W){return arguments.length?(s=W.map(v).filter(x).sort(m),B()):s},U.range=function(W){return arguments.length?(M=W,B()):M},U.quantiles=function(){return C},U.invertExtent=function(W){return(W=M.indexOf(W))<0?[NaN,NaN]:[W>0?C[W-1]:s[0],W<C.length?C[W]:s[s.length-1]]},U.copy=function(){return Va(s,M)},B()}function Ua(s,M,C){var B,U;function W(ut){return C[Math.max(0,Math.min(U,Math.floor(B*(ut-s))))]}function ct(){return B=C.length/(M-s),U=C.length-1,W}return W.domain=function(ut){return arguments.length?(s=+ut[0],M=+ut[ut.length-1],ct()):[s,M]},W.range=function(ut){return arguments.length?(C=ut,ct()):C},W.invertExtent=function(ut){return[ut=(ut=C.indexOf(ut))<0?NaN:ut/B+s,ut+1/B]},W.copy=function(){return Ua(s,M,C)},ct()}function Ga(s,M){function C(B){if(B<=B)return M[a.bisect(s,B)]}return C.domain=function(B){return arguments.length?(s=B,C):s},C.range=function(B){return arguments.length?(M=B,C):M},C.invertExtent=function(B){return B=M.indexOf(B),[s[B-1],s[B]]},C.copy=function(){return Ga(s,M)},C}function Za(s){function M(C){return+C}return M.invert=M,M.domain=M.range=function(C){return arguments.length?(s=C.map(M),M):s},M.ticks=function(C){return na(s,C)},M.tickFormat=function(C,B){return d3_scale_linearTickFormat(s,C,B)},M.copy=function(){return Za(s)},M}function co(){return 0}a.scale.quantile=function(){return Va([],[])},a.scale.quantize=function(){return Ua(0,1,[0,1])},a.scale.threshold=function(){return Ga([.5],[0,1])},a.scale.identity=function(){return Za([0,1])},a.svg={},a.svg.arc=function(){var s=uo,M=fo,C=co,B=Rr,U=qa,W=Ja,ct=ho;function ut(){var bt=Math.max(0,+s.apply(this,arguments)),Ft=Math.max(0,+M.apply(this,arguments)),jt=U.apply(this,arguments)-ne,Gt=W.apply(this,arguments)-ne,ae=Math.abs(Gt-jt),ge=jt>Gt?0:1;if(Ft<bt&&(ee=Ft,Ft=bt,bt=ee),ae>=Vt)return pt(Ft,ge)+(bt?pt(bt,1-ge):"")+"Z";var ee,ce,Jt,ye,ue,te,Pe,Ie,He,Be,$e,en,ln=0,nn=0,mn=[];if((ye=(+ct.apply(this,arguments)||0)/2)&&(Jt=B===Rr?Math.sqrt(bt*bt+Ft*Ft):+B.apply(this,arguments),ge||(nn*=-1),Ft&&(nn=he(Jt/Ft*Math.sin(ye))),bt&&(ln=he(Jt/bt*Math.sin(ye)))),Ft){ue=Ft*Math.cos(jt+nn),te=Ft*Math.sin(jt+nn),Pe=Ft*Math.cos(Gt-nn),Ie=Ft*Math.sin(Gt-nn);var _n=Math.abs(Gt-jt-2*nn)<=Wt?0:1;if(nn&&Er(ue,te,Pe,Ie)===ge^_n){var An=(jt+Gt)/2;ue=Ft*Math.cos(An),te=Ft*Math.sin(An),Pe=Ie=null}}else ue=te=0;if(bt){He=bt*Math.cos(Gt-ln),Be=bt*Math.sin(Gt-ln),$e=bt*Math.cos(jt+ln),en=bt*Math.sin(jt+ln);var Ze=Math.abs(jt-Gt+2*ln)<=Wt?0:1;if(ln&&Er(He,Be,$e,en)===1-ge^Ze){var Ke=(jt+Gt)/2;He=bt*Math.cos(Ke),Be=bt*Math.sin(Ke),$e=en=null}}else He=Be=0;if(ae>wt&&(ee=Math.min(Math.abs(Ft-bt)/2,+C.apply(this,arguments)))>.001){ce=bt<Ft^ge?0:1;var dn=ee,hn=ee;if(ae<Wt){var bn=$e==null?[He,Be]:Pe==null?[ue,te]:Ln([ue,te],[$e,en],[Pe,Ie],[He,Be]),Mn=ue-bn[0],Fn=te-bn[1],Pn=Pe-bn[0],Bn=Ie-bn[1],Rn=1/Math.sin(Math.acos((Mn*Pn+Fn*Bn)/(Math.sqrt(Mn*Mn+Fn*Fn)*Math.sqrt(Pn*Pn+Bn*Bn)))/2),Hn=Math.sqrt(bn[0]*bn[0]+bn[1]*bn[1]);hn=Math.min(ee,(bt-Hn)/(Rn-1)),dn=Math.min(ee,(Ft-Hn)/(Rn+1))}if(Pe!=null){var Wn=Nr($e==null?[He,Be]:[$e,en],[ue,te],Ft,dn,ge),lr=Nr([Pe,Ie],[He,Be],Ft,dn,ge);ee===dn?mn.push("M",Wn[0],"A",dn,",",dn," 0 0,",ce," ",Wn[1],"A",Ft,",",Ft," 0 ",1-ge^Er(Wn[1][0],Wn[1][1],lr[1][0],lr[1][1]),",",ge," ",lr[1],"A",dn,",",dn," 0 0,",ce," ",lr[0]):mn.push("M",Wn[0],"A",dn,",",dn," 0 1,",ce," ",lr[0])}else mn.push("M",ue,",",te);if($e!=null){var ur=Nr([ue,te],[$e,en],bt,-hn,ge),fr=Nr([He,Be],Pe==null?[ue,te]:[Pe,Ie],bt,-hn,ge);ee===hn?mn.push("L",fr[0],"A",hn,",",hn," 0 0,",ce," ",fr[1],"A",bt,",",bt," 0 ",ge^Er(fr[1][0],fr[1][1],ur[1][0],ur[1][1]),",",1-ge," ",ur[1],"A",hn,",",hn," 0 0,",ce," ",ur[0]):mn.push("L",fr[0],"A",hn,",",hn," 0 0,",ce," ",ur[0])}else mn.push("L",He,",",Be)}else mn.push("M",ue,",",te),Pe!=null&&mn.push("A",Ft,",",Ft," 0 ",_n,",",ge," ",Pe,",",Ie),mn.push("L",He,",",Be),$e!=null&&mn.push("A",bt,",",bt," 0 ",Ze,",",1-ge," ",$e,",",en);return mn.push("Z"),mn.join("")}function pt(bt,Ft){return"M0,"+bt+"A"+bt+","+bt+" 0 1,"+Ft+" 0,"+-bt+"A"+bt+","+bt+" 0 1,"+Ft+" 0,"+bt}return ut.innerRadius=function(bt){return arguments.length?(s=ze(bt),ut):s},ut.outerRadius=function(bt){return arguments.length?(M=ze(bt),ut):M},ut.cornerRadius=function(bt){return arguments.length?(C=ze(bt),ut):C},ut.padRadius=function(bt){return arguments.length?(B=bt==Rr?Rr:ze(bt),ut):B},ut.startAngle=function(bt){return arguments.length?(U=ze(bt),ut):U},ut.endAngle=function(bt){return arguments.length?(W=ze(bt),ut):W},ut.padAngle=function(bt){return arguments.length?(ct=ze(bt),ut):ct},ut.centroid=function(){var bt=(+s.apply(this,arguments)+ +M.apply(this,arguments))/2,Ft=(+U.apply(this,arguments)+ +W.apply(this,arguments))/2-ne;return[Math.cos(Ft)*bt,Math.sin(Ft)*bt]},ut};var Rr="auto";function uo(s){return s.innerRadius}function fo(s){return s.outerRadius}function qa(s){return s.startAngle}function Ja(s){return s.endAngle}function ho(s){return s&&s.padAngle}function Er(s,M,C,B){return(s-C)*M-(M-B)*s>0?0:1}function Nr(s,M,C,B,U){var W=s[0]-M[0],ct=s[1]-M[1],ut=(U?B:-B)/Math.sqrt(W*W+ct*ct),pt=ut*ct,bt=-ut*W,Ft=s[0]+pt,jt=s[1]+bt,Gt=M[0]+pt,ae=M[1]+bt,ge=(Ft+Gt)/2,ee=(jt+ae)/2,ce=Gt-Ft,Jt=ae-jt,ye=ce*ce+Jt*Jt,ue=C-B,te=Ft*ae-Gt*jt,Pe=(Jt<0?-1:1)*Math.sqrt(Math.max(0,ue*ue*ye-te*te)),Ie=(te*Jt-ce*Pe)/ye,He=(-te*ce-Jt*Pe)/ye,Be=(te*Jt+ce*Pe)/ye,$e=(-te*ce+Jt*Pe)/ye,en=Ie-ge,ln=He-ee,nn=Be-ge,mn=$e-ee;return en*en+ln*ln>nn*nn+mn*mn&&(Ie=Be,He=$e),[[Ie-pt,He-bt],[Ie*C/ue,He*C/ue]]}function Wa(){return!0}function Xa(s){var M=un,C=sn,B=Wa,U=or,W=U.key,ct=.7;function ut(pt){var bt,Ft=[],jt=[],Gt=-1,ae=pt.length,ge=ze(M),ee=ze(C);function ce(){Ft.push("M",U(s(jt),ct))}for(;++Gt<ae;)B.call(this,bt=pt[Gt],Gt)?jt.push([+ge.call(this,bt,Gt),+ee.call(this,bt,Gt)]):jt.length&&(ce(),jt=[]);return jt.length&&ce(),Ft.length?Ft.join(""):null}return ut.x=function(pt){return arguments.length?(M=pt,ut):M},ut.y=function(pt){return arguments.length?(C=pt,ut):C},ut.defined=function(pt){return arguments.length?(B=pt,ut):B},ut.interpolate=function(pt){return arguments.length?(W=typeof pt=="function"?U=pt:(U=ra.get(pt)||or).key,ut):W},ut.tension=function(pt){return arguments.length?(ct=pt,ut):ct},ut}a.svg.line=function(){return Xa(Z)};var ra=a.map({linear:or,"linear-closed":Qa,step:function(s){for(var M=0,C=s.length,B=s[0],U=[B[0],",",B[1]];++M<C;)U.push("H",(B[0]+(B=s[M])[0])/2,"V",B[1]);return C>1&&U.push("H",B[0]),U.join("")},"step-before":aa,"step-after":ia,basis:Ka,"basis-open":function(s){if(s.length<4)return or(s);for(var M,C=[],B=-1,U=s.length,W=[0],ct=[0];++B<3;)M=s[B],W.push(M[0]),ct.push(M[1]);for(C.push(nr(mr,W)+","+nr(mr,ct)),--B;++B<U;)M=s[B],W.shift(),W.push(M[0]),ct.shift(),ct.push(M[1]),la(C,W,ct);return C.join("")},"basis-closed":function(s){for(var M,C,B=-1,U=s.length,W=U+4,ct=[],ut=[];++B<4;)C=s[B%U],ct.push(C[0]),ut.push(C[1]);for(M=[nr(mr,ct),",",nr(mr,ut)],--B;++B<W;)C=s[B%U],ct.shift(),ct.push(C[0]),ut.shift(),ut.push(C[1]),la(M,ct,ut);return M.join("")},bundle:function(s,M){var C=s.length-1;if(C)for(var B,U,W=s[0][0],ct=s[0][1],ut=s[C][0]-W,pt=s[C][1]-ct,bt=-1;++bt<=C;)U=bt/C,(B=s[bt])[0]=M*B[0]+(1-M)*(W+U*ut),B[1]=M*B[1]+(1-M)*(ct+U*pt);return Ka(s)},cardinal:function(s,M){return s.length<3?or(s):s[0]+jr(s,oa(s,M))},"cardinal-open":function(s,M){return s.length<4?or(s):s[1]+jr(s.slice(1,-1),oa(s,M))},"cardinal-closed":function(s,M){return s.length<3?Qa(s):s[0]+jr((s.push(s[0]),s),oa([s[s.length-2]].concat(s,[s[1]]),M))},monotone:function(s){return s.length<3?or(s):s[0]+jr(s,function(M){for(var C,B,U,W,ct=[],ut=function(Ft){for(var jt=0,Gt=Ft.length-1,ae=[],ge=Ft[0],ee=Ft[1],ce=ae[0]=sa(ge,ee);++jt<Gt;)ae[jt]=(ce+(ce=sa(ge=ee,ee=Ft[jt+1])))/2;return ae[jt]=ce,ae}(M),pt=-1,bt=M.length-1;++pt<bt;)C=sa(M[pt],M[pt+1]),T(C)<wt?ut[pt]=ut[pt+1]=0:(W=(B=ut[pt]/C)*B+(U=ut[pt+1]/C)*U)>9&&(W=3*C/Math.sqrt(W),ut[pt]=W*B,ut[pt+1]=W*U);for(pt=-1;++pt<=bt;)W=(M[Math.min(bt,pt+1)][0]-M[Math.max(0,pt-1)][0])/(6*(1+ut[pt]*ut[pt])),ct.push([W||0,ut[pt]*W||0]);return ct}(s))}});function or(s){return s.length>1?s.join("L"):s+"Z"}function Qa(s){return s.join("L")+"Z"}function aa(s){for(var M=0,C=s.length,B=s[0],U=[B[0],",",B[1]];++M<C;)U.push("V",(B=s[M])[1],"H",B[0]);return U.join("")}function ia(s){for(var M=0,C=s.length,B=s[0],U=[B[0],",",B[1]];++M<C;)U.push("H",(B=s[M])[0],"V",B[1]);return U.join("")}function jr(s,M){if(M.length<1||s.length!=M.length&&s.length!=M.length+2)return or(s);var C=s.length!=M.length,B="",U=s[0],W=s[1],ct=M[0],ut=ct,pt=1;if(C&&(B+="Q"+(W[0]-2*ct[0]/3)+","+(W[1]-2*ct[1]/3)+","+W[0]+","+W[1],U=s[1],pt=2),M.length>1){ut=M[1],W=s[pt],pt++,B+="C"+(U[0]+ct[0])+","+(U[1]+ct[1])+","+(W[0]-ut[0])+","+(W[1]-ut[1])+","+W[0]+","+W[1];for(var bt=2;bt<M.length;bt++,pt++)W=s[pt],ut=M[bt],B+="S"+(W[0]-ut[0])+","+(W[1]-ut[1])+","+W[0]+","+W[1]}if(C){var Ft=s[pt];B+="Q"+(W[0]+2*ut[0]/3)+","+(W[1]+2*ut[1]/3)+","+Ft[0]+","+Ft[1]}return B}function oa(s,M){for(var C,B=[],U=(1-M)/2,W=s[0],ct=s[1],ut=1,pt=s.length;++ut<pt;)C=W,W=ct,ct=s[ut],B.push([U*(ct[0]-C[0]),U*(ct[1]-C[1])]);return B}function Ka(s){if(s.length<3)return or(s);var M=1,C=s.length,B=s[0],U=B[0],W=B[1],ct=[U,U,U,(B=s[1])[0]],ut=[W,W,W,B[1]],pt=[U,",",W,"L",nr(mr,ct),",",nr(mr,ut)];for(s.push(s[C-1]);++M<=C;)B=s[M],ct.shift(),ct.push(B[0]),ut.shift(),ut.push(B[1]),la(pt,ct,ut);return s.pop(),pt.push("L",B),pt.join("")}function nr(s,M){return s[0]*M[0]+s[1]*M[1]+s[2]*M[2]+s[3]*M[3]}ra.forEach(function(s,M){M.key=s,M.closed=/-closed$/.test(s)});var $a=[0,2/3,1/3,0],ti=[0,1/3,2/3,0],mr=[0,1/6,2/3,1/6];function la(s,M,C){s.push("C",nr($a,M),",",nr($a,C),",",nr(ti,M),",",nr(ti,C),",",nr(mr,M),",",nr(mr,C))}function sa(s,M){return(M[1]-s[1])/(M[0]-s[0])}function ei(s){for(var M,C,B,U=-1,W=s.length;++U<W;)C=(M=s[U])[0],B=M[1]-ne,M[0]=C*Math.cos(B),M[1]=C*Math.sin(B);return s}function ni(s){var M=un,C=un,B=0,U=sn,W=Wa,ct=or,ut=ct.key,pt=ct,bt="L",Ft=.7;function jt(Gt){var ae,ge,ee,ce=[],Jt=[],ye=[],ue=-1,te=Gt.length,Pe=ze(M),Ie=ze(B),He=M===C?function(){return ge}:ze(C),Be=B===U?function(){return ee}:ze(U);function $e(){ce.push("M",ct(s(ye),Ft),bt,pt(s(Jt.reverse()),Ft),"Z")}for(;++ue<te;)W.call(this,ae=Gt[ue],ue)?(Jt.push([ge=+Pe.call(this,ae,ue),ee=+Ie.call(this,ae,ue)]),ye.push([+He.call(this,ae,ue),+Be.call(this,ae,ue)])):Jt.length&&($e(),Jt=[],ye=[]);return Jt.length&&$e(),ce.length?ce.join(""):null}return jt.x=function(Gt){return arguments.length?(M=C=Gt,jt):C},jt.x0=function(Gt){return arguments.length?(M=Gt,jt):M},jt.x1=function(Gt){return arguments.length?(C=Gt,jt):C},jt.y=function(Gt){return arguments.length?(B=U=Gt,jt):U},jt.y0=function(Gt){return arguments.length?(B=Gt,jt):B},jt.y1=function(Gt){return arguments.length?(U=Gt,jt):U},jt.defined=function(Gt){return arguments.length?(W=Gt,jt):W},jt.interpolate=function(Gt){return arguments.length?(ut=typeof Gt=="function"?ct=Gt:(ct=ra.get(Gt)||or).key,pt=ct.reverse||ct,bt=ct.closed?"M":"L",jt):ut},jt.tension=function(Gt){return arguments.length?(Ft=Gt,jt):Ft},jt}function ri(s){return s.source}function ai(s){return s.target}function po(s){return s.radius}function ii(s){return[s.x,s.y]}function vo(){return 64}function go(){return"circle"}function oi(s){var M=Math.sqrt(s/Wt);return"M0,"+M+"A"+M+","+M+" 0 1,1 0,"+-M+"A"+M+","+M+" 0 1,1 0,"+M+"Z"}a.svg.line.radial=function(){var s=Xa(ei);return s.radius=s.x,delete s.x,s.angle=s.y,delete s.y,s},aa.reverse=ia,ia.reverse=aa,a.svg.area=function(){return ni(Z)},a.svg.area.radial=function(){var s=ni(ei);return s.radius=s.x,delete s.x,s.innerRadius=s.x0,delete s.x0,s.outerRadius=s.x1,delete s.x1,s.angle=s.y,delete s.y,s.startAngle=s.y0,delete s.y0,s.endAngle=s.y1,delete s.y1,s},a.svg.chord=function(){var s=ri,M=ai,C=po,B=qa,U=Ja;function W(bt,Ft){var jt,Gt,ae=ct(this,s,bt,Ft),ge=ct(this,M,bt,Ft);return"M"+ae.p0+ut(ae.r,ae.p1,ae.a1-ae.a0)+(Gt=ge,((jt=ae).a0==Gt.a0&&jt.a1==Gt.a1?pt(ae.r,ae.p1,ae.r,ae.p0):pt(ae.r,ae.p1,ge.r,ge.p0)+ut(ge.r,ge.p1,ge.a1-ge.a0)+pt(ge.r,ge.p1,ae.r,ae.p0))+"Z")}function ct(bt,Ft,jt,Gt){var ae=Ft.call(bt,jt,Gt),ge=C.call(bt,ae,Gt),ee=B.call(bt,ae,Gt)-ne,ce=U.call(bt,ae,Gt)-ne;return{r:ge,a0:ee,a1:ce,p0:[ge*Math.cos(ee),ge*Math.sin(ee)],p1:[ge*Math.cos(ce),ge*Math.sin(ce)]}}function ut(bt,Ft,jt){return"A"+bt+","+bt+" 0 "+ +(jt>Wt)+",1 "+Ft}function pt(bt,Ft,jt,Gt){return"Q 0,0 "+Gt}return W.radius=function(bt){return arguments.length?(C=ze(bt),W):C},W.source=function(bt){return arguments.length?(s=ze(bt),W):s},W.target=function(bt){return arguments.length?(M=ze(bt),W):M},W.startAngle=function(bt){return arguments.length?(B=ze(bt),W):B},W.endAngle=function(bt){return arguments.length?(U=ze(bt),W):U},W},a.svg.diagonal=function(){var s=ri,M=ai,C=ii;function B(U,W){var ct=s.call(this,U,W),ut=M.call(this,U,W),pt=(ct.y+ut.y)/2,bt=[ct,{x:ct.x,y:pt},{x:ut.x,y:pt},ut];return"M"+(bt=bt.map(C))[0]+"C"+bt[1]+" "+bt[2]+" "+bt[3]}return B.source=function(U){return arguments.length?(s=ze(U),B):s},B.target=function(U){return arguments.length?(M=ze(U),B):M},B.projection=function(U){return arguments.length?(C=U,B):C},B},a.svg.diagonal.radial=function(){var s=a.svg.diagonal(),M=ii,C=s.projection;return s.projection=function(B){return arguments.length?C(function(U){return function(){var W=U.apply(this,arguments),ct=W[0],ut=W[1]-ne;return[ct*Math.cos(ut),ct*Math.sin(ut)]}}(M=B)):M},s},a.svg.symbol=function(){var s=go,M=vo;function C(B,U){return(li.get(s.call(this,B,U))||oi)(M.call(this,B,U))}return C.type=function(B){return arguments.length?(s=ze(B),C):s},C.size=function(B){return arguments.length?(M=ze(B),C):M},C};var li=a.map({circle:oi,cross:function(s){var M=Math.sqrt(s/5)/2;return"M"+-3*M+","+-M+"H"+-M+"V"+-3*M+"H"+M+"V"+-M+"H"+3*M+"V"+M+"H"+M+"V"+3*M+"H"+-M+"V"+M+"H"+-3*M+"Z"},diamond:function(s){var M=Math.sqrt(s/(2*si)),C=M*si;return"M0,"+-M+"L"+C+",0 0,"+M+" "+-C+",0Z"},square:function(s){var M=Math.sqrt(s)/2;return"M"+-M+","+-M+"L"+M+","+-M+" "+M+","+M+" "+-M+","+M+"Z"},"triangle-down":function(s){var M=Math.sqrt(s/Br),C=M*Br/2;return"M0,"+C+"L"+M+","+-C+" "+-M+","+-C+"Z"},"triangle-up":function(s){var M=Math.sqrt(s/Br),C=M*Br/2;return"M0,"+-C+"L"+M+","+C+" "+-M+","+C+"Z"}});a.svg.symbolTypes=li.keys();var Br=Math.sqrt(3),si=Math.tan(30*ie);et.transition=function(s){for(var M,C,B=_r||++ui,U=ua(s),W=[],ct=Yr||{time:Date.now(),ease:bi,delay:0,duration:250},ut=-1,pt=this.length;++ut<pt;){W.push(M=[]);for(var bt=this[ut],Ft=-1,jt=bt.length;++Ft<jt;)(C=bt[Ft])&&Vr(C,Ft,U,B,ct),M.push(C)}return Sr(W,U,B)},et.interrupt=function(s){return this.each(s==null?Hr:ci(ua(s)))};var Hr=ci(ua());function ci(s){return function(){var M,C,B;(M=this[s])&&(B=M[C=M.active])&&(B.timer.c=null,B.timer.t=NaN,--M.count?delete M[C]:delete this[s],M.active+=.5,B.event&&B.event.interrupt.call(this,this.__data__,B.index))}}function Sr(s,M,C){return R(s,Nn),s.namespace=M,s.id=C,s}var _r,Yr,Nn=[],ui=0;function ca(s,M,C,B){var U=s.id,W=s.namespace;return kt(s,typeof C=="function"?function(ct,ut,pt){ct[W][U].tween.set(M,B(C.call(ct,ct.__data__,ut,pt)))}:(C=B(C),function(ct){ct[W][U].tween.set(M,C)}))}function mo(s){return s==null&&(s=""),function(){this.textContent=s}}function ua(s){return s==null?"__transition__":"__transition_"+s+"__"}function Vr(s,M,C,B,U){var W,ct,ut,pt,bt,Ft=s[C]||(s[C]={active:0,count:0}),jt=Ft[B];function Gt(ge){var ee=Ft.active,ce=Ft[ee];for(var Jt in ce&&(ce.timer.c=null,ce.timer.t=NaN,--Ft.count,delete Ft[ee],ce.event&&ce.event.interrupt.call(s,s.__data__,ce.index)),Ft)if(+Jt<B){var ye=Ft[Jt];ye.timer.c=null,ye.timer.t=NaN,--Ft.count,delete Ft[Jt]}ct.c=ae,Qe(function(){return ct.c&&ae(ge||1)&&(ct.c=null,ct.t=NaN),1},0,W),Ft.active=B,jt.event&&jt.event.start.call(s,s.__data__,M),bt=[],jt.tween.forEach(function(ue,te){(te=te.call(s,s.__data__,M))&&bt.push(te)}),pt=jt.ease,ut=jt.duration}function ae(ge){for(var ee=ge/ut,ce=pt(ee),Jt=bt.length;Jt>0;)bt[--Jt].call(s,ce);if(ee>=1)return jt.event&&jt.event.end.call(s,s.__data__,M),--Ft.count?delete Ft[B]:delete s[C],1}jt||(W=U.time,ct=Qe(function(ge){var ee=jt.delay;if(ct.t=ee+W,ee<=ge)return Gt(ge-ee);ct.c=Gt},0,W),jt=Ft[B]={tween:new P,time:W,timer:ct,delay:U.delay,duration:U.duration,ease:U.ease,index:M},U=null,++Ft.count)}Nn.call=et.call,Nn.empty=et.empty,Nn.node=et.node,Nn.size=et.size,a.transition=function(s,M){return s&&s.transition?_r?s.transition(M):s:a.selection().transition(s)},a.transition.prototype=Nn,Nn.select=function(s){var M,C,B,U=this.id,W=this.namespace,ct=[];s=st(s);for(var ut=-1,pt=this.length;++ut<pt;){ct.push(M=[]);for(var bt=this[ut],Ft=-1,jt=bt.length;++Ft<jt;)(B=bt[Ft])&&(C=s.call(B,B.__data__,Ft,ut))?("__data__"in B&&(C.__data__=B.__data__),Vr(C,Ft,W,U,B[W][U]),M.push(C)):M.push(null)}return Sr(ct,W,U)},Nn.selectAll=function(s){var M,C,B,U,W,ct=this.id,ut=this.namespace,pt=[];s=yt(s);for(var bt=-1,Ft=this.length;++bt<Ft;)for(var jt=this[bt],Gt=-1,ae=jt.length;++Gt<ae;)if(B=jt[Gt]){W=B[ut][ct],C=s.call(B,B.__data__,Gt,bt),pt.push(M=[]);for(var ge=-1,ee=C.length;++ge<ee;)(U=C[ge])&&Vr(U,ge,ut,ct,W),M.push(U)}return Sr(pt,ut,ct)},Nn.filter=function(s){var M,C,B=[];typeof s!="function"&&(s=mt(s));for(var U=0,W=this.length;U<W;U++){B.push(M=[]);for(var ct,ut=0,pt=(ct=this[U]).length;ut<pt;ut++)(C=ct[ut])&&s.call(C,C.__data__,ut,U)&&M.push(C)}return Sr(B,this.namespace,this.id)},Nn.tween=function(s,M){var C=this.id,B=this.namespace;return arguments.length<2?this.node()[B][C].tween.get(s):kt(this,M==null?function(U){U[B][C].tween.remove(s)}:function(U){U[B][C].tween.set(s,M)})},Nn.attr=function(s,M){if(arguments.length<2){for(M in s)this.attr(M,s[M]);return this}var C=s=="transform"?wa:br,B=a.ns.qualify(s);function U(){this.removeAttribute(B)}function W(){this.removeAttributeNS(B.space,B.local)}return ca(this,"attr."+s,M,B.local?function(ct){return ct==null?W:(ct+="",function(){var ut,pt=this.getAttributeNS(B.space,B.local);return pt!==ct&&(ut=C(pt,ct),function(bt){this.setAttributeNS(B.space,B.local,ut(bt))})})}:function(ct){return ct==null?U:(ct+="",function(){var ut,pt=this.getAttribute(B);return pt!==ct&&(ut=C(pt,ct),function(bt){this.setAttribute(B,ut(bt))})})})},Nn.attrTween=function(s,M){var C=a.ns.qualify(s);return this.tween("attr."+s,C.local?function(B,U){var W=M.call(this,B,U,this.getAttributeNS(C.space,C.local));return W&&function(ct){this.setAttributeNS(C.space,C.local,W(ct))}}:function(B,U){var W=M.call(this,B,U,this.getAttribute(C));return W&&function(ct){this.setAttribute(C,W(ct))}})},Nn.style=function(s,M,C){var B=arguments.length;if(B<3){if(typeof s!="string"){for(C in B<2&&(M=""),s)this.style(C,s[C],M);return this}C=""}function U(){this.style.removeProperty(s)}return ca(this,"style."+s,M,function(W){return W==null?U:(W+="",function(){var ct,ut=l(this).getComputedStyle(this,null).getPropertyValue(s);return ut!==W&&(ct=br(ut,W),function(pt){this.style.setProperty(s,ct(pt),C)})})})},Nn.styleTween=function(s,M,C){return arguments.length<3&&(C=""),this.tween("style."+s,function(B,U){var W=M.call(this,B,U,l(this).getComputedStyle(this,null).getPropertyValue(s));return W&&function(ct){this.style.setProperty(s,W(ct),C)}})},Nn.text=function(s){return ca(this,"text",s,mo)},Nn.remove=function(){var s=this.namespace;return this.each("end.transition",function(){var M;this[s].count<2&&(M=this.parentNode)&&M.removeChild(this)})},Nn.ease=function(s){var M=this.id,C=this.namespace;return arguments.length<1?this.node()[C][M].ease:(typeof s!="function"&&(s=a.ease.apply(a,arguments)),kt(this,function(B){B[C][M].ease=s}))},Nn.delay=function(s){var M=this.id,C=this.namespace;return arguments.length<1?this.node()[C][M].delay:kt(this,typeof s=="function"?function(B,U,W){B[C][M].delay=+s.call(B,B.__data__,U,W)}:(s=+s,function(B){B[C][M].delay=s}))},Nn.duration=function(s){var M=this.id,C=this.namespace;return arguments.length<1?this.node()[C][M].duration:kt(this,typeof s=="function"?function(B,U,W){B[C][M].duration=Math.max(1,s.call(B,B.__data__,U,W))}:(s=Math.max(1,s),function(B){B[C][M].duration=s}))},Nn.each=function(s,M){var C=this.id,B=this.namespace;if(arguments.length<2){var U=Yr,W=_r;try{_r=C,kt(this,function(ct,ut,pt){Yr=ct[B][C],s.call(ct,ct.__data__,ut,pt)})}finally{Yr=U,_r=W}}else kt(this,function(ct){var ut=ct[B][C];(ut.event||(ut.event=a.dispatch("start","end","interrupt"))).on(s,M)});return this},Nn.transition=function(){for(var s,M,C,B=this.id,U=++ui,W=this.namespace,ct=[],ut=0,pt=this.length;ut<pt;ut++){ct.push(s=[]);for(var bt,Ft=0,jt=(bt=this[ut]).length;Ft<jt;Ft++)(M=bt[Ft])&&Vr(M,Ft,W,U,{time:(C=M[W][B]).time,ease:C.ease,delay:C.delay+C.duration,duration:C.duration}),s.push(M)}return Sr(ct,W,U)},a.svg.axis=function(){var s,M=a.scale.linear(),C=fi,B=6,U=6,W=3,ct=[10],ut=null;function pt(bt){bt.each(function(){var Ft,jt=a.select(this),Gt=this.__chart__||M,ae=this.__chart__=M.copy(),ge=ut??(ae.ticks?ae.ticks.apply(ae,ct):ae.domain()),ee=s??(ae.tickFormat?ae.tickFormat.apply(ae,ct):Z),ce=jt.selectAll(".tick").data(ge,ae),Jt=ce.enter().insert("g",".domain").attr("class","tick").style("opacity",wt),ye=a.transition(ce.exit()).style("opacity",wt).remove(),ue=a.transition(ce.order()).style("opacity",1),te=Math.max(B,0)+W,Pe=zr(ae),Ie=jt.selectAll(".domain").data([0]),He=(Ie.enter().append("path").attr("class","domain"),a.transition(Ie));Jt.append("line"),Jt.append("text");var Be,$e,en,ln,nn=Jt.select("line"),mn=ue.select("line"),_n=ce.select("text").text(ee),An=Jt.select("text"),Ze=ue.select("text"),Ke=C==="top"||C==="left"?-1:1;if(C==="bottom"||C==="top"?(Ft=xo,Be="x",en="y",$e="x2",ln="y2",_n.attr("dy",Ke<0?"0em":".71em").style("text-anchor","middle"),He.attr("d","M"+Pe[0]+","+Ke*U+"V0H"+Pe[1]+"V"+Ke*U)):(Ft=bo,Be="y",en="x",$e="y2",ln="x2",_n.attr("dy",".32em").style("text-anchor",Ke<0?"end":"start"),He.attr("d","M"+Ke*U+","+Pe[0]+"H0V"+Pe[1]+"H"+Ke*U)),nn.attr(ln,Ke*B),An.attr(en,Ke*te),mn.attr($e,0).attr(ln,Ke*B),Ze.attr(Be,0).attr(en,Ke*te),ae.rangeBand){var dn=ae,hn=dn.rangeBand()/2;Gt=ae=function(bn){return dn(bn)+hn}}else Gt.rangeBand?Gt=ae:ye.call(Ft,ae,Gt);Jt.call(Ft,Gt,ae),ue.call(Ft,ae,ae)})}return pt.scale=function(bt){return arguments.length?(M=bt,pt):M},pt.orient=function(bt){return arguments.length?(C=bt in yo?bt+"":fi,pt):C},pt.ticks=function(){return arguments.length?(ct=e(arguments),pt):ct},pt.tickValues=function(bt){return arguments.length?(ut=bt,pt):ut},pt.tickFormat=function(bt){return arguments.length?(s=bt,pt):s},pt.tickSize=function(bt){var Ft=arguments.length;return Ft?(B=+bt,U=+arguments[Ft-1],pt):B},pt.innerTickSize=function(bt){return arguments.length?(B=+bt,pt):B},pt.outerTickSize=function(bt){return arguments.length?(U=+bt,pt):U},pt.tickPadding=function(bt){return arguments.length?(W=+bt,pt):W},pt.tickSubdivide=function(){return arguments.length&&pt},pt};var fi="bottom",yo={top:1,right:1,bottom:1,left:1};function xo(s,M,C){s.attr("transform",function(B){var U=M(B);return"translate("+(isFinite(U)?U:C(B))+",0)"})}function bo(s,M,C){s.attr("transform",function(B){var U=M(B);return"translate(0,"+(isFinite(U)?U:C(B))+")"})}a.svg.brush=function(){var s,M,C=H(Ft,"brushstart","brush","brushend"),B=null,U=null,W=[0,0],ct=[0,0],ut=!0,pt=!0,bt=fa[0];function Ft(ee){ee.each(function(){var ce=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",ge).on("touchstart.brush",ge),Jt=ce.selectAll(".background").data([0]);Jt.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),ce.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var ye=ce.selectAll(".resize").data(bt,Z);ye.exit().remove(),ye.enter().append("g").attr("class",function(Ie){return"resize "+Ie}).style("cursor",function(Ie){return _o[Ie]}).append("rect").attr("x",function(Ie){return/[ew]$/.test(Ie)?-3:null}).attr("y",function(Ie){return/^[ns]/.test(Ie)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),ye.style("display",Ft.empty()?"none":null);var ue,te=a.transition(ce),Pe=a.transition(Jt);B&&(ue=zr(B),Pe.attr("x",ue[0]).attr("width",ue[1]-ue[0]),Gt(te)),U&&(ue=zr(U),Pe.attr("y",ue[0]).attr("height",ue[1]-ue[0]),ae(te)),jt(te)})}function jt(ee){ee.selectAll(".resize").attr("transform",function(ce){return"translate("+W[+/e$/.test(ce)]+","+ct[+/^s/.test(ce)]+")"})}function Gt(ee){ee.select(".extent").attr("x",W[0]),ee.selectAll(".extent,.n>rect,.s>rect").attr("width",W[1]-W[0])}function ae(ee){ee.select(".extent").attr("y",ct[0]),ee.selectAll(".extent,.e>rect,.w>rect").attr("height",ct[1]-ct[0])}function ge(){var ee,ce,Jt=this,ye=a.select(a.event.target),ue=C.of(Jt,arguments),te=a.select(Jt),Pe=ye.datum(),Ie=!/^(n|s)$/.test(Pe)&&B,He=!/^(e|w)$/.test(Pe)&&U,Be=ye.classed("extent"),$e=se(Jt),en=a.mouse(Jt),ln=a.select(l(Jt)).on("keydown.brush",function(){a.event.keyCode==32&&(Be||(ee=null,en[0]-=W[1],en[1]-=ct[1],Be=2),rt())}).on("keyup.brush",function(){a.event.keyCode==32&&Be==2&&(en[0]+=W[1],en[1]+=ct[1],Be=0,rt())});if(a.event.changedTouches?ln.on("touchmove.brush",_n).on("touchend.brush",Ze):ln.on("mousemove.brush",_n).on("mouseup.brush",Ze),te.interrupt().selectAll("*").interrupt(),Be)en[0]=W[0]-en[0],en[1]=ct[0]-en[1];else if(Pe){var nn=+/w$/.test(Pe),mn=+/^n/.test(Pe);ce=[W[1-nn]-en[0],ct[1-mn]-en[1]],en[0]=W[nn],en[1]=ct[mn]}else a.event.altKey&&(ee=en.slice());function _n(){var Ke=a.mouse(Jt),dn=!1;ce&&(Ke[0]+=ce[0],Ke[1]+=ce[1]),Be||(a.event.altKey?(ee||(ee=[(W[0]+W[1])/2,(ct[0]+ct[1])/2]),en[0]=W[+(Ke[0]<ee[0])],en[1]=ct[+(Ke[1]<ee[1])]):ee=null),Ie&&An(Ke,B,0)&&(Gt(te),dn=!0),He&&An(Ke,U,1)&&(ae(te),dn=!0),dn&&(jt(te),ue({type:"brush",mode:Be?"move":"resize"}))}function An(Ke,dn,hn){var bn,Mn,Fn=zr(dn),Pn=Fn[0],Bn=Fn[1],Rn=en[hn],Hn=hn?ct:W,Wn=Hn[1]-Hn[0];if(Be&&(Pn-=Rn,Bn-=Wn+Rn),bn=(hn?pt:ut)?Math.max(Pn,Math.min(Bn,Ke[hn])):Ke[hn],Be?Mn=(bn+=Rn)+Wn:(ee&&(Rn=Math.max(Pn,Math.min(Bn,2*ee[hn]-bn))),Rn<bn?(Mn=bn,bn=Rn):Mn=Rn),Hn[0]!=bn||Hn[1]!=Mn)return hn?M=null:s=null,Hn[0]=bn,Hn[1]=Mn,!0}function Ze(){_n(),te.style("pointer-events","all").selectAll(".resize").style("display",Ft.empty()?"none":null),a.select("body").style("cursor",null),ln.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),$e(),ue({type:"brushend"})}te.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",ye.style("cursor")),ue({type:"brushstart"}),_n()}return Ft.event=function(ee){ee.each(function(){var ce=C.of(this,arguments),Jt={x:W,y:ct,i:s,j:M},ye=this.__chart__||Jt;this.__chart__=Jt,_r?a.select(this).transition().each("start.brush",function(){s=ye.i,M=ye.j,W=ye.x,ct=ye.y,ce({type:"brushstart"})}).tween("brush:brush",function(){var ue=Pr(W,Jt.x),te=Pr(ct,Jt.y);return s=M=null,function(Pe){W=Jt.x=ue(Pe),ct=Jt.y=te(Pe),ce({type:"brush",mode:"resize"})}}).each("end.brush",function(){s=Jt.i,M=Jt.j,ce({type:"brush",mode:"resize"}),ce({type:"brushend"})}):(ce({type:"brushstart"}),ce({type:"brush",mode:"resize"}),ce({type:"brushend"}))})},Ft.x=function(ee){return arguments.length?(bt=fa[!(B=ee)<<1|!U],Ft):B},Ft.y=function(ee){return arguments.length?(bt=fa[!B<<1|!(U=ee)],Ft):U},Ft.clamp=function(ee){return arguments.length?(B&&U?(ut=!!ee[0],pt=!!ee[1]):B?ut=!!ee:U&&(pt=!!ee),Ft):B&&U?[ut,pt]:B?ut:U?pt:null},Ft.extent=function(ee){var ce,Jt,ye,ue,te;return arguments.length?(B&&(ce=ee[0],Jt=ee[1],U&&(ce=ce[0],Jt=Jt[0]),s=[ce,Jt],B.invert&&(ce=B(ce),Jt=B(Jt)),Jt<ce&&(te=ce,ce=Jt,Jt=te),ce==W[0]&&Jt==W[1]||(W=[ce,Jt])),U&&(ye=ee[0],ue=ee[1],B&&(ye=ye[1],ue=ue[1]),M=[ye,ue],U.invert&&(ye=U(ye),ue=U(ue)),ue<ye&&(te=ye,ye=ue,ue=te),ye==ct[0]&&ue==ct[1]||(ct=[ye,ue])),Ft):(B&&(s?(ce=s[0],Jt=s[1]):(ce=W[0],Jt=W[1],B.invert&&(ce=B.invert(ce),Jt=B.invert(Jt)),Jt<ce&&(te=ce,ce=Jt,Jt=te))),U&&(M?(ye=M[0],ue=M[1]):(ye=ct[0],ue=ct[1],U.invert&&(ye=U.invert(ye),ue=U.invert(ue)),ue<ye&&(te=ye,ye=ue,ue=te))),B&&U?[[ce,ye],[Jt,ue]]:B?[ce,Jt]:U&&[ye,ue])},Ft.clear=function(){return Ft.empty()||(W=[0,0],ct=[0,0],s=M=null),Ft},Ft.empty=function(){return!!B&&W[0]==W[1]||!!U&&ct[0]==ct[1]},a.rebind(Ft,C,"on")};var _o={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},fa=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function wo(s){return JSON.parse(s.responseText)}function To(s){var M=r.createRange();return M.selectNode(r.body),M.createContextualFragment(s.responseText)}a.text=Ye(function(s){return s.responseText}),a.json=function(s,M){return We(s,"application/json",wo,M)},a.html=function(s,M){return We(s,"text/html",To,M)},a.xml=Ye(function(s){return s.responseXML}),(g=typeof(f=a)=="function"?f.call(d,t,d,X):f)===void 0||(X.exports=g)}).apply(self)},721:function(X,d,t){function f(m,v){if((x=(m=v?m.toExponential(v-1):m.toExponential()).indexOf("e"))<0)return null;var x,w=m.slice(0,x);return[w.length>1?w[0]+w.slice(2):w,+m.slice(x+1)]}t.d(d,{WU:function(){return c},FF:function(){return y}});var g,a=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function n(m){if(!(v=a.exec(m)))throw new Error("invalid format: "+m);var v;return new e({fill:v[1],align:v[2],sign:v[3],symbol:v[4],zero:v[5],width:v[6],comma:v[7],precision:v[8]&&v[8].slice(1),trim:v[9],type:v[10]})}function e(m){this.fill=m.fill===void 0?" ":m.fill+"",this.align=m.align===void 0?">":m.align+"",this.sign=m.sign===void 0?"-":m.sign+"",this.symbol=m.symbol===void 0?"":m.symbol+"",this.zero=!!m.zero,this.width=m.width===void 0?void 0:+m.width,this.comma=!!m.comma,this.precision=m.precision===void 0?void 0:+m.precision,this.trim=!!m.trim,this.type=m.type===void 0?"":m.type+""}function r(m,v){var x=f(m,v);if(!x)return m+"";var w=x[0],p=x[1];return p<0?"0."+new Array(-p).join("0")+w:w.length>p+1?w.slice(0,p+1)+"."+w.slice(p+1):w+new Array(p-w.length+2).join("0")}n.prototype=e.prototype,e.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var i={"%":function(m,v){return(100*m).toFixed(v)},b:function(m){return Math.round(m).toString(2)},c:function(m){return m+""},d:function(m){return Math.abs(m=Math.round(m))>=1e21?m.toLocaleString("en").replace(/,/g,""):m.toString(10)},e:function(m,v){return m.toExponential(v)},f:function(m,v){return m.toFixed(v)},g:function(m,v){return m.toPrecision(v)},o:function(m){return Math.round(m).toString(8)},p:function(m,v){return r(100*m,v)},r,s:function(m,v){var x=f(m,v);if(!x)return m+"";var w=x[0],p=x[1],b=p-(g=3*Math.max(-8,Math.min(8,Math.floor(p/3))))+1,T=w.length;return b===T?w:b>T?w+new Array(b-T+1).join("0"):b>0?w.slice(0,b)+"."+w.slice(b):"0."+new Array(1-b).join("0")+f(m,Math.max(0,v+b-1))[0]},X:function(m){return Math.round(m).toString(16).toUpperCase()},x:function(m){return Math.round(m).toString(16)}};function l(m){return m}var o,c,u=Array.prototype.map,h=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function y(m){var v,x,w=m.grouping===void 0||m.thousands===void 0?l:(v=u.call(m.grouping,Number),x=m.thousands+"",function(_,I){for(var O=_.length,N=[],G=0,z=v[0],Y=0;O>0&&z>0&&(Y+z+1>I&&(z=Math.max(1,I-Y)),N.push(_.substring(O-=z,O+z)),!((Y+=z+1)>I));)z=v[G=(G+1)%v.length];return N.reverse().join(x)}),p=m.currency===void 0?"":m.currency[0]+"",b=m.currency===void 0?"":m.currency[1]+"",T=m.decimal===void 0?".":m.decimal+"",A=m.numerals===void 0?l:function(_){return function(I){return I.replace(/[0-9]/g,function(O){return _[+O]})}}(u.call(m.numerals,String)),P=m.percent===void 0?"%":m.percent+"",k=m.minus===void 0?"-":m.minus+"",L=m.nan===void 0?"NaN":m.nan+"";function D(_){var I=(_=n(_)).fill,O=_.align,N=_.sign,G=_.symbol,z=_.zero,Y=_.width,Z=_.comma,nt=_.precision,S=_.trim,E=_.type;E==="n"?(Z=!0,E="g"):i[E]||(nt===void 0&&(nt=12),S=!0,E="g"),(z||I==="0"&&O==="=")&&(z=!0,I="0",O="=");var V=G==="$"?p:G==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",Q=G==="$"?b:/[%p]/.test(E)?P:"",tt=i[E],rt=/[defgprs%]/.test(E);function ot(H){var F,R,j,J=V,q=Q;if(E==="c")q=tt(H)+q,H="";else{var $=(H=+H)<0||1/H<0;if(H=isNaN(H)?L:tt(Math.abs(H),nt),S&&(H=function(yt){t:for(var St,Lt=yt.length,It=1,it=-1;It<Lt;++It)switch(yt[It]){case".":it=St=It;break;case"0":it===0&&(it=It),St=It;break;default:if(!+yt[It])break t;it>0&&(it=0)}return it>0?yt.slice(0,it)+yt.slice(St+1):yt}(H)),$&&+H==0&&N!=="+"&&($=!1),J=($?N==="("?N:k:N==="-"||N==="("?"":N)+J,q=(E==="s"?h[8+g/3]:"")+q+($&&N==="("?")":""),rt){for(F=-1,R=H.length;++F<R;)if(48>(j=H.charCodeAt(F))||j>57){q=(j===46?T+H.slice(F+1):H.slice(F))+q,H=H.slice(0,F);break}}}Z&&!z&&(H=w(H,1/0));var et=J.length+H.length+q.length,st=et<Y?new Array(Y-et+1).join(I):"";switch(Z&&z&&(H=w(st+H,st.length?Y-q.length:1/0),st=""),O){case"<":H=J+H+q+st;break;case"=":H=J+st+H+q;break;case"^":H=st.slice(0,et=st.length>>1)+J+H+q+st.slice(et);break;default:H=st+J+H+q}return A(H)}return nt=nt===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,nt)):Math.max(0,Math.min(20,nt)),ot.toString=function(){return _+""},ot}return{format:D,formatPrefix:function(_,I){var O,N=D(((_=n(_)).type="f",_)),G=3*Math.max(-8,Math.min(8,Math.floor((O=I,((O=f(Math.abs(O)))?O[1]:NaN)/3)))),z=Math.pow(10,-G),Y=h[8+G/3];return function(Z){return N(z*Z)+Y}}}}o=y({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),c=o.format,o.formatPrefix},4096:function(X,d,t){t.d(d,{i$:function(){return h},Dq:function(){return c},g0:function(){return y}});var f=t(8176),g=t(8480),a=t(9879),n=t(2301),e=t(4823),r=t(9791);function i(Dt){if(0<=Dt.y&&Dt.y<100){var wt=new Date(-1,Dt.m,Dt.d,Dt.H,Dt.M,Dt.S,Dt.L);return wt.setFullYear(Dt.y),wt}return new Date(Dt.y,Dt.m,Dt.d,Dt.H,Dt.M,Dt.S,Dt.L)}function l(Dt){if(0<=Dt.y&&Dt.y<100){var wt=new Date(Date.UTC(-1,Dt.m,Dt.d,Dt.H,Dt.M,Dt.S,Dt.L));return wt.setUTCFullYear(Dt.y),wt}return new Date(Date.UTC(Dt.y,Dt.m,Dt.d,Dt.H,Dt.M,Dt.S,Dt.L))}function o(Dt,wt,Ut){return{y:Dt,m:wt,d:Ut,H:0,M:0,S:0,L:0}}function c(Dt){var wt=Dt.dateTime,Ut=Dt.date,Wt=Dt.time,me=Dt.periods,Vt=Dt.days,ne=Dt.shortDays,ie=Dt.months,_e=Dt.shortMonths,he=T(me),De=A(me),fe=T(Vt),K=A(Vt),at=T(ne),Et=A(ne),Ot=T(ie),Bt=A(ie),Nt=T(_e),Ht=A(_e),Zt={a:function(pe){return ne[pe.getDay()]},A:function(pe){return Vt[pe.getDay()]},b:function(pe){return _e[pe.getMonth()]},B:function(pe){return ie[pe.getMonth()]},c:null,d:H,e:H,f:q,H:F,I:R,j,L:J,m:$,M:et,p:function(pe){return me[+(pe.getHours()>=12)]},q:function(pe){return 1+~~(pe.getMonth()/3)},Q:de,s:xe,S:st,u:yt,U:St,V:Lt,w:It,W:it,x:null,X:null,y:ft,Y:dt,Z:xt,"%":se},Qt={a:function(pe){return ne[pe.getUTCDay()]},A:function(pe){return Vt[pe.getUTCDay()]},b:function(pe){return _e[pe.getUTCMonth()]},B:function(pe){return ie[pe.getUTCMonth()]},c:null,d:Pt,e:Pt,f:gt,H:Ct,I:lt,j:ht,L:vt,m:mt,M:Tt,p:function(pe){return me[+(pe.getUTCHours()>=12)]},q:function(pe){return 1+~~(pe.getUTCMonth()/3)},Q:de,s:xe,S:kt,u:_t,U:At,V:Mt,w:Rt,W:Yt,x:null,X:null,y:zt,Y:Xt,Z:Kt,"%":se},oe={a:function(pe,Se,Me){var re=at.exec(Se.slice(Me));return re?(pe.w=Et[re[0].toLowerCase()],Me+re[0].length):-1},A:function(pe,Se,Me){var re=fe.exec(Se.slice(Me));return re?(pe.w=K[re[0].toLowerCase()],Me+re[0].length):-1},b:function(pe,Se,Me){var re=Nt.exec(Se.slice(Me));return re?(pe.m=Ht[re[0].toLowerCase()],Me+re[0].length):-1},B:function(pe,Se,Me){var re=Ot.exec(Se.slice(Me));return re?(pe.m=Bt[re[0].toLowerCase()],Me+re[0].length):-1},c:function(pe,Se,Me){return Re(pe,wt,Se,Me)},d:Y,e:Y,f:Q,H:nt,I:nt,j:Z,L:V,m:z,M:S,p:function(pe,Se,Me){var re=he.exec(Se.slice(Me));return re?(pe.p=De[re[0].toLowerCase()],Me+re[0].length):-1},q:G,Q:rt,s:ot,S:E,u:k,U:L,V:D,w:P,W:_,x:function(pe,Se,Me){return Re(pe,Ut,Se,Me)},X:function(pe,Se,Me){return Re(pe,Wt,Se,Me)},y:O,Y:I,Z:N,"%":tt};function qt(pe,Se){return function(Me){var re,$t,ve,Ee=[],Fe=-1,je=0,le=pe.length;for(Me instanceof Date||(Me=new Date(+Me));++Fe<le;)pe.charCodeAt(Fe)===37&&(Ee.push(pe.slice(je,Fe)),($t=m[re=pe.charAt(++Fe)])!=null?re=pe.charAt(++Fe):$t=re==="e"?" ":"0",(ve=Se[re])&&(re=ve(Me,$t)),Ee.push(re),je=Fe+1);return Ee.push(pe.slice(je,Fe)),Ee.join("")}}function Te(pe,Se){return function(Me){var re,$t,ve=o(1900,void 0,1);if(Re(ve,pe,Me+="",0)!=Me.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(1e3*ve.s+("L"in ve?ve.L:0));if(Se&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+12*ve.p),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?($t=(re=l(o(ve.y,0,1))).getUTCDay(),re=$t>4||$t===0?f.l6.ceil(re):(0,f.l6)(re),re=g.Z.offset(re,7*(ve.V-1)),ve.y=re.getUTCFullYear(),ve.m=re.getUTCMonth(),ve.d=re.getUTCDate()+(ve.w+6)%7):($t=(re=i(o(ve.y,0,1))).getDay(),re=$t>4||$t===0?a.wA.ceil(re):(0,a.wA)(re),re=n.Z.offset(re,7*(ve.V-1)),ve.y=re.getFullYear(),ve.m=re.getMonth(),ve.d=re.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),$t="Z"in ve?l(o(ve.y,0,1)).getUTCDay():i(o(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+7*ve.W-($t+5)%7:ve.w+7*ve.U-($t+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,l(ve)):i(ve)}}function Re(pe,Se,Me,re){for(var $t,ve,Ee=0,Fe=Se.length,je=Me.length;Ee<Fe;){if(re>=je)return-1;if(($t=Se.charCodeAt(Ee++))===37){if($t=Se.charAt(Ee++),!(ve=oe[$t in m?Se.charAt(Ee++):$t])||(re=ve(pe,Me,re))<0)return-1}else if($t!=Me.charCodeAt(re++))return-1}return re}return Zt.x=qt(Ut,Zt),Zt.X=qt(Wt,Zt),Zt.c=qt(wt,Zt),Qt.x=qt(Ut,Qt),Qt.X=qt(Wt,Qt),Qt.c=qt(wt,Qt),{format:function(pe){var Se=qt(pe+="",Zt);return Se.toString=function(){return pe},Se},parse:function(pe){var Se=Te(pe+="",!1);return Se.toString=function(){return pe},Se},utcFormat:function(pe){var Se=qt(pe+="",Qt);return Se.toString=function(){return pe},Se},utcParse:function(pe){var Se=Te(pe+="",!0);return Se.toString=function(){return pe},Se}}}var u,h,y,m={"-":"",_:" ",0:"0"},v=/^\s*\d+/,x=/^%/,w=/[\\^$*+?|[\]().{}]/g;function p(Dt,wt,Ut){var Wt=Dt<0?"-":"",me=(Wt?-Dt:Dt)+"",Vt=me.length;return Wt+(Vt<Ut?new Array(Ut-Vt+1).join(wt)+me:me)}function b(Dt){return Dt.replace(w,"\\$&")}function T(Dt){return new RegExp("^(?:"+Dt.map(b).join("|")+")","i")}function A(Dt){for(var wt={},Ut=-1,Wt=Dt.length;++Ut<Wt;)wt[Dt[Ut].toLowerCase()]=Ut;return wt}function P(Dt,wt,Ut){var Wt=v.exec(wt.slice(Ut,Ut+1));return Wt?(Dt.w=+Wt[0],Ut+Wt[0].length):-1}function k(Dt,wt,Ut){var Wt=v.exec(wt.slice(Ut,Ut+1));return Wt?(Dt.u=+Wt[0],Ut+Wt[0].length):-1}function L(Dt,wt,Ut){var Wt=v.exec(wt.slice(Ut,Ut+2));return Wt?(Dt.U=+Wt[0],Ut+Wt[0].length):-1}function D(Dt,wt,Ut){var Wt=v.exec(wt.slice(Ut,Ut+2));return Wt?(Dt.V=+Wt[0],Ut+Wt[0].length):-1}function _(Dt,wt,Ut){var Wt=v.exec(wt.slice(Ut,Ut+2));return Wt?(Dt.W=+Wt[0],Ut+Wt[0].length):-1}function I(Dt,wt,Ut){var Wt=v.exec(wt.slice(Ut,Ut+4));return Wt?(Dt.y=+Wt[0],Ut+Wt[0].length):-1}function O(Dt,wt,Ut){var Wt=v.exec(wt.slice(Ut,Ut+2));return Wt?(Dt.y=+Wt[0]+(+Wt[0]>68?1900:2e3),Ut+Wt[0].length):-1}function N(Dt,wt,Ut){var Wt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(wt.slice(Ut,Ut+6));return Wt?(Dt.Z=Wt[1]?0:-(Wt[2]+(Wt[3]||"00")),Ut+Wt[0].length):-1}function G(Dt,wt,Ut){var Wt=v.exec(wt.slice(Ut,Ut+1));return Wt?(Dt.q=3*Wt[0]-3,Ut+Wt[0].length):-1}function z(Dt,wt,Ut){var Wt=v.exec(wt.slice(Ut,Ut+2));return Wt?(Dt.m=Wt[0]-1,Ut+Wt[0].length):-1}function Y(Dt,wt,Ut){var Wt=v.exec(wt.slice(Ut,Ut+2));return Wt?(Dt.d=+Wt[0],Ut+Wt[0].length):-1}function Z(Dt,wt,Ut){var Wt=v.exec(wt.slice(Ut,Ut+3));return Wt?(Dt.m=0,Dt.d=+Wt[0],Ut+Wt[0].length):-1}function nt(Dt,wt,Ut){var Wt=v.exec(wt.slice(Ut,Ut+2));return Wt?(Dt.H=+Wt[0],Ut+Wt[0].length):-1}function S(Dt,wt,Ut){var Wt=v.exec(wt.slice(Ut,Ut+2));return Wt?(Dt.M=+Wt[0],Ut+Wt[0].length):-1}function E(Dt,wt,Ut){var Wt=v.exec(wt.slice(Ut,Ut+2));return Wt?(Dt.S=+Wt[0],Ut+Wt[0].length):-1}function V(Dt,wt,Ut){var Wt=v.exec(wt.slice(Ut,Ut+3));return Wt?(Dt.L=+Wt[0],Ut+Wt[0].length):-1}function Q(Dt,wt,Ut){var Wt=v.exec(wt.slice(Ut,Ut+6));return Wt?(Dt.L=Math.floor(Wt[0]/1e3),Ut+Wt[0].length):-1}function tt(Dt,wt,Ut){var Wt=x.exec(wt.slice(Ut,Ut+1));return Wt?Ut+Wt[0].length:-1}function rt(Dt,wt,Ut){var Wt=v.exec(wt.slice(Ut));return Wt?(Dt.Q=+Wt[0],Ut+Wt[0].length):-1}function ot(Dt,wt,Ut){var Wt=v.exec(wt.slice(Ut));return Wt?(Dt.s=+Wt[0],Ut+Wt[0].length):-1}function H(Dt,wt){return p(Dt.getDate(),wt,2)}function F(Dt,wt){return p(Dt.getHours(),wt,2)}function R(Dt,wt){return p(Dt.getHours()%12||12,wt,2)}function j(Dt,wt){return p(1+n.Z.count((0,e.Z)(Dt),Dt),wt,3)}function J(Dt,wt){return p(Dt.getMilliseconds(),wt,3)}function q(Dt,wt){return J(Dt,wt)+"000"}function $(Dt,wt){return p(Dt.getMonth()+1,wt,2)}function et(Dt,wt){return p(Dt.getMinutes(),wt,2)}function st(Dt,wt){return p(Dt.getSeconds(),wt,2)}function yt(Dt){var wt=Dt.getDay();return wt===0?7:wt}function St(Dt,wt){return p(a.OM.count((0,e.Z)(Dt)-1,Dt),wt,2)}function Lt(Dt,wt){var Ut=Dt.getDay();return Dt=Ut>=4||Ut===0?(0,a.bL)(Dt):a.bL.ceil(Dt),p(a.bL.count((0,e.Z)(Dt),Dt)+((0,e.Z)(Dt).getDay()===4),wt,2)}function It(Dt){return Dt.getDay()}function it(Dt,wt){return p(a.wA.count((0,e.Z)(Dt)-1,Dt),wt,2)}function ft(Dt,wt){return p(Dt.getFullYear()%100,wt,2)}function dt(Dt,wt){return p(Dt.getFullYear()%1e4,wt,4)}function xt(Dt){var wt=Dt.getTimezoneOffset();return(wt>0?"-":(wt*=-1,"+"))+p(wt/60|0,"0",2)+p(wt%60,"0",2)}function Pt(Dt,wt){return p(Dt.getUTCDate(),wt,2)}function Ct(Dt,wt){return p(Dt.getUTCHours(),wt,2)}function lt(Dt,wt){return p(Dt.getUTCHours()%12||12,wt,2)}function ht(Dt,wt){return p(1+g.Z.count((0,r.Z)(Dt),Dt),wt,3)}function vt(Dt,wt){return p(Dt.getUTCMilliseconds(),wt,3)}function gt(Dt,wt){return vt(Dt,wt)+"000"}function mt(Dt,wt){return p(Dt.getUTCMonth()+1,wt,2)}function Tt(Dt,wt){return p(Dt.getUTCMinutes(),wt,2)}function kt(Dt,wt){return p(Dt.getUTCSeconds(),wt,2)}function _t(Dt){var wt=Dt.getUTCDay();return wt===0?7:wt}function At(Dt,wt){return p(f.Ox.count((0,r.Z)(Dt)-1,Dt),wt,2)}function Mt(Dt,wt){var Ut=Dt.getUTCDay();return Dt=Ut>=4||Ut===0?(0,f.hB)(Dt):f.hB.ceil(Dt),p(f.hB.count((0,r.Z)(Dt),Dt)+((0,r.Z)(Dt).getUTCDay()===4),wt,2)}function Rt(Dt){return Dt.getUTCDay()}function Yt(Dt,wt){return p(f.l6.count((0,r.Z)(Dt)-1,Dt),wt,2)}function zt(Dt,wt){return p(Dt.getUTCFullYear()%100,wt,2)}function Xt(Dt,wt){return p(Dt.getUTCFullYear()%1e4,wt,4)}function Kt(){return"+0000"}function se(){return"%"}function de(Dt){return+Dt}function xe(Dt){return Math.floor(+Dt/1e3)}u=c({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),h=u.format,u.parse,y=u.utcFormat,u.utcParse},2301:function(X,d,t){t.d(d,{a:function(){return n}});var f=t(52),g=t(4263),a=(0,f.Z)(function(e){e.setHours(0,0,0,0)},function(e,r){e.setDate(e.getDate()+r)},function(e,r){return(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*g.yB)/g.UD},function(e){return e.getDate()-1});d.Z=a;var n=a.range},4263:function(X,d,t){t.d(d,{UD:function(){return n},Y2:function(){return a},Ym:function(){return f},iM:function(){return e},yB:function(){return g}});var f=1e3,g=6e4,a=36e5,n=864e5,e=6048e5},1041:function(X,d,t){t.r(d),t.d(d,{timeDay:function(){return v.Z},timeDays:function(){return v.a},timeFriday:function(){return x.mC},timeFridays:function(){return x.b$},timeHour:function(){return y},timeHours:function(){return m},timeInterval:function(){return f.Z},timeMillisecond:function(){return a},timeMilliseconds:function(){return n},timeMinute:function(){return c},timeMinutes:function(){return u},timeMonday:function(){return x.wA},timeMondays:function(){return x.bJ},timeMonth:function(){return p},timeMonths:function(){return b},timeSaturday:function(){return x.EY},timeSaturdays:function(){return x.Ff},timeSecond:function(){return i},timeSeconds:function(){return l},timeSunday:function(){return x.OM},timeSundays:function(){return x.vm},timeThursday:function(){return x.bL},timeThursdays:function(){return x.$t},timeTuesday:function(){return x.sy},timeTuesdays:function(){return x.aU},timeWednesday:function(){return x.zg},timeWednesdays:function(){return x.Ld},timeWeek:function(){return x.OM},timeWeeks:function(){return x.vm},timeYear:function(){return T.Z},timeYears:function(){return T.g},utcDay:function(){return I.Z},utcDays:function(){return I.y},utcFriday:function(){return O.QQ},utcFridays:function(){return O.fz},utcHour:function(){return D},utcHours:function(){return _},utcMillisecond:function(){return a},utcMilliseconds:function(){return n},utcMinute:function(){return P},utcMinutes:function(){return k},utcMonday:function(){return O.l6},utcMondays:function(){return O.$3},utcMonth:function(){return G},utcMonths:function(){return z},utcSaturday:function(){return O.g4},utcSaturdays:function(){return O.Q_},utcSecond:function(){return i},utcSeconds:function(){return l},utcSunday:function(){return O.Ox},utcSundays:function(){return O.SU},utcThursday:function(){return O.hB},utcThursdays:function(){return O.xj},utcTuesday:function(){return O.J1},utcTuesdays:function(){return O.DK},utcWednesday:function(){return O.b3},utcWednesdays:function(){return O.uy},utcWeek:function(){return O.Ox},utcWeeks:function(){return O.SU},utcYear:function(){return Y.Z},utcYears:function(){return Y.D}});var f=t(52),g=(0,f.Z)(function(){},function(Z,nt){Z.setTime(+Z+nt)},function(Z,nt){return nt-Z});g.every=function(Z){return Z=Math.floor(Z),isFinite(Z)&&Z>0?Z>1?(0,f.Z)(function(nt){nt.setTime(Math.floor(nt/Z)*Z)},function(nt,S){nt.setTime(+nt+S*Z)},function(nt,S){return(S-nt)/Z}):g:null};var a=g,n=g.range,e=t(4263),r=(0,f.Z)(function(Z){Z.setTime(Z-Z.getMilliseconds())},function(Z,nt){Z.setTime(+Z+nt*e.Ym)},function(Z,nt){return(nt-Z)/e.Ym},function(Z){return Z.getUTCSeconds()}),i=r,l=r.range,o=(0,f.Z)(function(Z){Z.setTime(Z-Z.getMilliseconds()-Z.getSeconds()*e.Ym)},function(Z,nt){Z.setTime(+Z+nt*e.yB)},function(Z,nt){return(nt-Z)/e.yB},function(Z){return Z.getMinutes()}),c=o,u=o.range,h=(0,f.Z)(function(Z){Z.setTime(Z-Z.getMilliseconds()-Z.getSeconds()*e.Ym-Z.getMinutes()*e.yB)},function(Z,nt){Z.setTime(+Z+nt*e.Y2)},function(Z,nt){return(nt-Z)/e.Y2},function(Z){return Z.getHours()}),y=h,m=h.range,v=t(2301),x=t(9879),w=(0,f.Z)(function(Z){Z.setDate(1),Z.setHours(0,0,0,0)},function(Z,nt){Z.setMonth(Z.getMonth()+nt)},function(Z,nt){return nt.getMonth()-Z.getMonth()+12*(nt.getFullYear()-Z.getFullYear())},function(Z){return Z.getMonth()}),p=w,b=w.range,T=t(4823),A=(0,f.Z)(function(Z){Z.setUTCSeconds(0,0)},function(Z,nt){Z.setTime(+Z+nt*e.yB)},function(Z,nt){return(nt-Z)/e.yB},function(Z){return Z.getUTCMinutes()}),P=A,k=A.range,L=(0,f.Z)(function(Z){Z.setUTCMinutes(0,0,0)},function(Z,nt){Z.setTime(+Z+nt*e.Y2)},function(Z,nt){return(nt-Z)/e.Y2},function(Z){return Z.getUTCHours()}),D=L,_=L.range,I=t(8480),O=t(8176),N=(0,f.Z)(function(Z){Z.setUTCDate(1),Z.setUTCHours(0,0,0,0)},function(Z,nt){Z.setUTCMonth(Z.getUTCMonth()+nt)},function(Z,nt){return nt.getUTCMonth()-Z.getUTCMonth()+12*(nt.getUTCFullYear()-Z.getUTCFullYear())},function(Z){return Z.getUTCMonth()}),G=N,z=N.range,Y=t(9791)},52:function(X,d,t){t.d(d,{Z:function(){return a}});var f=new Date,g=new Date;function a(n,e,r,i){function l(o){return n(o=arguments.length===0?new Date:new Date(+o)),o}return l.floor=function(o){return n(o=new Date(+o)),o},l.ceil=function(o){return n(o=new Date(o-1)),e(o,1),n(o),o},l.round=function(o){var c=l(o),u=l.ceil(o);return o-c<u-o?c:u},l.offset=function(o,c){return e(o=new Date(+o),c==null?1:Math.floor(c)),o},l.range=function(o,c,u){var h,y=[];if(o=l.ceil(o),u=u==null?1:Math.floor(u),!(o<c&&u>0))return y;do y.push(h=new Date(+o)),e(o,u),n(o);while(h<o&&o<c);return y},l.filter=function(o){return a(function(c){if(c>=c)for(;n(c),!o(c);)c.setTime(c-1)},function(c,u){if(c>=c)if(u<0)for(;++u<=0;)for(;e(c,-1),!o(c););else for(;--u>=0;)for(;e(c,1),!o(c););})},r&&(l.count=function(o,c){return f.setTime(+o),g.setTime(+c),n(f),n(g),Math.floor(r(f,g))},l.every=function(o){return o=Math.floor(o),isFinite(o)&&o>0?o>1?l.filter(i?function(c){return i(c)%o==0}:function(c){return l.count(0,c)%o==0}):l:null}),l}},8480:function(X,d,t){t.d(d,{y:function(){return n}});var f=t(52),g=t(4263),a=(0,f.Z)(function(e){e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCDate(e.getUTCDate()+r)},function(e,r){return(r-e)/g.UD},function(e){return e.getUTCDate()-1});d.Z=a;var n=a.range},8176:function(X,d,t){t.d(d,{$3:function(){return h},DK:function(){return y},J1:function(){return r},Ox:function(){return n},QQ:function(){return o},Q_:function(){return w},SU:function(){return u},b3:function(){return i},fz:function(){return x},g4:function(){return c},hB:function(){return l},l6:function(){return e},uy:function(){return m},xj:function(){return v}});var f=t(52),g=t(4263);function a(p){return(0,f.Z)(function(b){b.setUTCDate(b.getUTCDate()-(b.getUTCDay()+7-p)%7),b.setUTCHours(0,0,0,0)},function(b,T){b.setUTCDate(b.getUTCDate()+7*T)},function(b,T){return(T-b)/g.iM})}var n=a(0),e=a(1),r=a(2),i=a(3),l=a(4),o=a(5),c=a(6),u=n.range,h=e.range,y=r.range,m=i.range,v=l.range,x=o.range,w=c.range},9791:function(X,d,t){t.d(d,{D:function(){return a}});var f=t(52),g=(0,f.Z)(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e)},function(n,e){return e.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()});g.every=function(n){return isFinite(n=Math.floor(n))&&n>0?(0,f.Z)(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCFullYear(e.getUTCFullYear()+r*n)}):null},d.Z=g;var a=g.range},9879:function(X,d,t){t.d(d,{$t:function(){return v},EY:function(){return c},Ff:function(){return w},Ld:function(){return m},OM:function(){return n},aU:function(){return y},b$:function(){return x},bJ:function(){return h},bL:function(){return l},mC:function(){return o},sy:function(){return r},vm:function(){return u},wA:function(){return e},zg:function(){return i}});var f=t(52),g=t(4263);function a(p){return(0,f.Z)(function(b){b.setDate(b.getDate()-(b.getDay()+7-p)%7),b.setHours(0,0,0,0)},function(b,T){b.setDate(b.getDate()+7*T)},function(b,T){return(T-b-(T.getTimezoneOffset()-b.getTimezoneOffset())*g.yB)/g.iM})}var n=a(0),e=a(1),r=a(2),i=a(3),l=a(4),o=a(5),c=a(6),u=n.range,h=e.range,y=r.range,m=i.range,v=l.range,x=o.range,w=c.range},4823:function(X,d,t){t.d(d,{g:function(){return a}});var f=t(52),g=(0,f.Z)(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e)},function(n,e){return e.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()});g.every=function(n){return isFinite(n=Math.floor(n))&&n>0?(0,f.Z)(function(e){e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,r){e.setFullYear(e.getFullYear()+r*n)}):null},d.Z=g;var a=g.range},5398:function(X){var d,t=typeof Reflect=="object"?Reflect:null,f=t&&typeof t.apply=="function"?t.apply:function(m,v,x){return Function.prototype.apply.call(m,v,x)};d=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:function(m){return Object.getOwnPropertyNames(m)};var g=Number.isNaN||function(m){return m!=m};function a(){a.init.call(this)}X.exports=a,X.exports.once=function(m,v){return new Promise(function(x,w){function p(T){m.removeListener(v,b),w(T)}function b(){typeof m.removeListener=="function"&&m.removeListener("error",p),x([].slice.call(arguments))}y(m,v,b,{once:!0}),v!=="error"&&function(T,A,P){typeof T.on=="function"&&y(T,"error",A,{once:!0})}(m,p)})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var n=10;function e(m){if(typeof m!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof m)}function r(m){return m._maxListeners===void 0?a.defaultMaxListeners:m._maxListeners}function i(m,v,x,w){var p,b,T,A;if(e(x),(b=m._events)===void 0?(b=m._events=Object.create(null),m._eventsCount=0):(b.newListener!==void 0&&(m.emit("newListener",v,x.listener?x.listener:x),b=m._events),T=b[v]),T===void 0)T=b[v]=x,++m._eventsCount;else if(typeof T=="function"?T=b[v]=w?[x,T]:[T,x]:w?T.unshift(x):T.push(x),(p=r(m))>0&&T.length>p&&!T.warned){T.warned=!0;var P=new Error("Possible EventEmitter memory leak detected. "+T.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");P.name="MaxListenersExceededWarning",P.emitter=m,P.type=v,P.count=T.length,A=P,console&&console.warn&&console.warn(A)}return m}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function o(m,v,x){var w={fired:!1,wrapFn:void 0,target:m,type:v,listener:x},p=l.bind(w);return p.listener=x,w.wrapFn=p,p}function c(m,v,x){var w=m._events;if(w===void 0)return[];var p=w[v];return p===void 0?[]:typeof p=="function"?x?[p.listener||p]:[p]:x?function(b){for(var T=new Array(b.length),A=0;A<T.length;++A)T[A]=b[A].listener||b[A];return T}(p):h(p,p.length)}function u(m){var v=this._events;if(v!==void 0){var x=v[m];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}function h(m,v){for(var x=new Array(v),w=0;w<v;++w)x[w]=m[w];return x}function y(m,v,x,w){if(typeof m.on=="function")w.once?m.once(v,x):m.on(v,x);else{if(typeof m.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof m);m.addEventListener(v,function p(b){w.once&&m.removeEventListener(v,p),x(b)})}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return n},set:function(m){if(typeof m!="number"||m<0||g(m))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+m+".");n=m}}),a.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(m){if(typeof m!="number"||m<0||g(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this},a.prototype.getMaxListeners=function(){return r(this)},a.prototype.emit=function(m){for(var v=[],x=1;x<arguments.length;x++)v.push(arguments[x]);var w=m==="error",p=this._events;if(p!==void 0)w=w&&p.error===void 0;else if(!w)return!1;if(w){var b;if(v.length>0&&(b=v[0]),b instanceof Error)throw b;var T=new Error("Unhandled error."+(b?" ("+b.message+")":""));throw T.context=b,T}var A=p[m];if(A===void 0)return!1;if(typeof A=="function")f(A,this,v);else{var P=A.length,k=h(A,P);for(x=0;x<P;++x)f(k[x],this,v)}return!0},a.prototype.addListener=function(m,v){return i(this,m,v,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(m,v){return i(this,m,v,!0)},a.prototype.once=function(m,v){return e(v),this.on(m,o(this,m,v)),this},a.prototype.prependOnceListener=function(m,v){return e(v),this.prependListener(m,o(this,m,v)),this},a.prototype.removeListener=function(m,v){var x,w,p,b,T;if(e(v),(w=this._events)===void 0)return this;if((x=w[m])===void 0)return this;if(x===v||x.listener===v)--this._eventsCount==0?this._events=Object.create(null):(delete w[m],w.removeListener&&this.emit("removeListener",m,x.listener||v));else if(typeof x!="function"){for(p=-1,b=x.length-1;b>=0;b--)if(x[b]===v||x[b].listener===v){T=x[b].listener,p=b;break}if(p<0)return this;p===0?x.shift():function(A,P){for(;P+1<A.length;P++)A[P]=A[P+1];A.pop()}(x,p),x.length===1&&(w[m]=x[0]),w.removeListener!==void 0&&this.emit("removeListener",m,T||v)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(m){var v,x,w;if((x=this._events)===void 0)return this;if(x.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):x[m]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete x[m]),this;if(arguments.length===0){var p,b=Object.keys(x);for(w=0;w<b.length;++w)(p=b[w])!=="removeListener"&&this.removeAllListeners(p);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(v=x[m])=="function")this.removeListener(m,v);else if(v!==void 0)for(w=v.length-1;w>=0;w--)this.removeListener(m,v[w]);return this},a.prototype.listeners=function(m){return c(this,m,!0)},a.prototype.rawListeners=function(m){return c(this,m,!1)},a.listenerCount=function(m,v){return typeof m.listenerCount=="function"?m.listenerCount(v):u.call(m,v)},a.prototype.listenerCount=u,a.prototype.eventNames=function(){return this._eventsCount>0?d(this._events):[]}},2770:function(X,d,t){var f=t(8546);X.exports=function(g){var a=typeof g;if(a==="string"){var n=g;if((g=+g)==0&&f(n))return!1}else if(a!=="number")return!1;return g-g<1}},5400:function(X){X.exports=function(d,t){var f=t[0],g=t[1],a=t[2],n=t[3],e=t[4],r=t[5],i=t[6],l=t[7],o=t[8],c=t[9],u=t[10],h=t[11],y=t[12],m=t[13],v=t[14],x=t[15];return d[0]=r*(u*x-h*v)-c*(i*x-l*v)+m*(i*h-l*u),d[1]=-(g*(u*x-h*v)-c*(a*x-n*v)+m*(a*h-n*u)),d[2]=g*(i*x-l*v)-r*(a*x-n*v)+m*(a*l-n*i),d[3]=-(g*(i*h-l*u)-r*(a*h-n*u)+c*(a*l-n*i)),d[4]=-(e*(u*x-h*v)-o*(i*x-l*v)+y*(i*h-l*u)),d[5]=f*(u*x-h*v)-o*(a*x-n*v)+y*(a*h-n*u),d[6]=-(f*(i*x-l*v)-e*(a*x-n*v)+y*(a*l-n*i)),d[7]=f*(i*h-l*u)-e*(a*h-n*u)+o*(a*l-n*i),d[8]=e*(c*x-h*m)-o*(r*x-l*m)+y*(r*h-l*c),d[9]=-(f*(c*x-h*m)-o*(g*x-n*m)+y*(g*h-n*c)),d[10]=f*(r*x-l*m)-e*(g*x-n*m)+y*(g*l-n*r),d[11]=-(f*(r*h-l*c)-e*(g*h-n*c)+o*(g*l-n*r)),d[12]=-(e*(c*v-u*m)-o*(r*v-i*m)+y*(r*u-i*c)),d[13]=f*(c*v-u*m)-o*(g*v-a*m)+y*(g*u-a*c),d[14]=-(f*(r*v-i*m)-e*(g*v-a*m)+y*(g*i-a*r)),d[15]=f*(r*u-i*c)-e*(g*u-a*c)+o*(g*i-a*r),d}},2331:function(X){X.exports=function(d){var t=new Float32Array(16);return t[0]=d[0],t[1]=d[1],t[2]=d[2],t[3]=d[3],t[4]=d[4],t[5]=d[5],t[6]=d[6],t[7]=d[7],t[8]=d[8],t[9]=d[9],t[10]=d[10],t[11]=d[11],t[12]=d[12],t[13]=d[13],t[14]=d[14],t[15]=d[15],t}},1042:function(X){X.exports=function(d,t){return d[0]=t[0],d[1]=t[1],d[2]=t[2],d[3]=t[3],d[4]=t[4],d[5]=t[5],d[6]=t[6],d[7]=t[7],d[8]=t[8],d[9]=t[9],d[10]=t[10],d[11]=t[11],d[12]=t[12],d[13]=t[13],d[14]=t[14],d[15]=t[15],d}},1902:function(X){X.exports=function(){var d=new Float32Array(16);return d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,d}},9887:function(X){X.exports=function(d){var t=d[0],f=d[1],g=d[2],a=d[3],n=d[4],e=d[5],r=d[6],i=d[7],l=d[8],o=d[9],c=d[10],u=d[11],h=d[12],y=d[13],m=d[14],v=d[15];return(t*e-f*n)*(c*v-u*m)-(t*r-g*n)*(o*v-u*y)+(t*i-a*n)*(o*m-c*y)+(f*r-g*e)*(l*v-u*h)-(f*i-a*e)*(l*m-c*h)+(g*i-a*r)*(l*y-o*h)}},7812:function(X){X.exports=function(d,t){var f=t[0],g=t[1],a=t[2],n=t[3],e=f+f,r=g+g,i=a+a,l=f*e,o=g*e,c=g*r,u=a*e,h=a*r,y=a*i,m=n*e,v=n*r,x=n*i;return d[0]=1-c-y,d[1]=o+x,d[2]=u-v,d[3]=0,d[4]=o-x,d[5]=1-l-y,d[6]=h+m,d[7]=0,d[8]=u+v,d[9]=h-m,d[10]=1-l-c,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,d}},4045:function(X){X.exports=function(d,t,f){var g,a,n,e=f[0],r=f[1],i=f[2],l=Math.sqrt(e*e+r*r+i*i);return Math.abs(l)<1e-6?null:(e*=l=1/l,r*=l,i*=l,g=Math.sin(t),n=1-(a=Math.cos(t)),d[0]=e*e*n+a,d[1]=r*e*n+i*g,d[2]=i*e*n-r*g,d[3]=0,d[4]=e*r*n-i*g,d[5]=r*r*n+a,d[6]=i*r*n+e*g,d[7]=0,d[8]=e*i*n+r*g,d[9]=r*i*n-e*g,d[10]=i*i*n+a,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,d)}},5973:function(X){X.exports=function(d,t,f){var g=t[0],a=t[1],n=t[2],e=t[3],r=g+g,i=a+a,l=n+n,o=g*r,c=g*i,u=g*l,h=a*i,y=a*l,m=n*l,v=e*r,x=e*i,w=e*l;return d[0]=1-(h+m),d[1]=c+w,d[2]=u-x,d[3]=0,d[4]=c-w,d[5]=1-(o+m),d[6]=y+v,d[7]=0,d[8]=u+x,d[9]=y-v,d[10]=1-(o+h),d[11]=0,d[12]=f[0],d[13]=f[1],d[14]=f[2],d[15]=1,d}},1472:function(X){X.exports=function(d,t){return d[0]=t[0],d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=t[1],d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=t[2],d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,d}},4669:function(X){X.exports=function(d,t){return d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=t[0],d[13]=t[1],d[14]=t[2],d[15]=1,d}},5262:function(X){X.exports=function(d,t){var f=Math.sin(t),g=Math.cos(t);return d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=g,d[6]=f,d[7]=0,d[8]=0,d[9]=-f,d[10]=g,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,d}},331:function(X){X.exports=function(d,t){var f=Math.sin(t),g=Math.cos(t);return d[0]=g,d[1]=0,d[2]=-f,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=f,d[9]=0,d[10]=g,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,d}},1049:function(X){X.exports=function(d,t){var f=Math.sin(t),g=Math.cos(t);return d[0]=g,d[1]=f,d[2]=0,d[3]=0,d[4]=-f,d[5]=g,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,d}},5195:function(X){X.exports=function(d,t,f,g,a,n,e){var r=1/(f-t),i=1/(a-g),l=1/(n-e);return d[0]=2*n*r,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=2*n*i,d[6]=0,d[7]=0,d[8]=(f+t)*r,d[9]=(a+g)*i,d[10]=(e+n)*l,d[11]=-1,d[12]=0,d[13]=0,d[14]=e*n*2*l,d[15]=0,d}},1551:function(X){X.exports=function(d){return d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,d}},9576:function(X,d,t){X.exports={create:t(1902),clone:t(2331),copy:t(1042),identity:t(1551),transpose:t(8654),invert:t(5874),adjoint:t(5400),determinant:t(9887),multiply:t(1362),translate:t(1283),scale:t(789),rotate:t(5074),rotateX:t(5545),rotateY:t(4918),rotateZ:t(5692),fromRotation:t(4045),fromRotationTranslation:t(5973),fromScaling:t(1472),fromTranslation:t(4669),fromXRotation:t(5262),fromYRotation:t(331),fromZRotation:t(1049),fromQuat:t(7812),frustum:t(5195),perspective:t(7864),perspectiveFromFieldOfView:t(5279),ortho:t(378),lookAt:t(5551),str:t(6726)}},5874:function(X){X.exports=function(d,t){var f=t[0],g=t[1],a=t[2],n=t[3],e=t[4],r=t[5],i=t[6],l=t[7],o=t[8],c=t[9],u=t[10],h=t[11],y=t[12],m=t[13],v=t[14],x=t[15],w=f*r-g*e,p=f*i-a*e,b=f*l-n*e,T=g*i-a*r,A=g*l-n*r,P=a*l-n*i,k=o*m-c*y,L=o*v-u*y,D=o*x-h*y,_=c*v-u*m,I=c*x-h*m,O=u*x-h*v,N=w*O-p*I+b*_+T*D-A*L+P*k;return N?(N=1/N,d[0]=(r*O-i*I+l*_)*N,d[1]=(a*I-g*O-n*_)*N,d[2]=(m*P-v*A+x*T)*N,d[3]=(u*A-c*P-h*T)*N,d[4]=(i*D-e*O-l*L)*N,d[5]=(f*O-a*D+n*L)*N,d[6]=(v*b-y*P-x*p)*N,d[7]=(o*P-u*b+h*p)*N,d[8]=(e*I-r*D+l*k)*N,d[9]=(g*D-f*I-n*k)*N,d[10]=(y*A-m*b+x*w)*N,d[11]=(c*b-o*A-h*w)*N,d[12]=(r*L-e*_-i*k)*N,d[13]=(f*_-g*L+a*k)*N,d[14]=(m*p-y*T-v*w)*N,d[15]=(o*T-c*p+u*w)*N,d):null}},5551:function(X,d,t){var f=t(1551);X.exports=function(g,a,n,e){var r,i,l,o,c,u,h,y,m,v,x=a[0],w=a[1],p=a[2],b=e[0],T=e[1],A=e[2],P=n[0],k=n[1],L=n[2];return Math.abs(x-P)<1e-6&&Math.abs(w-k)<1e-6&&Math.abs(p-L)<1e-6?f(g):(h=x-P,y=w-k,m=p-L,r=T*(m*=v=1/Math.sqrt(h*h+y*y+m*m))-A*(y*=v),i=A*(h*=v)-b*m,l=b*y-T*h,(v=Math.sqrt(r*r+i*i+l*l))?(r*=v=1/v,i*=v,l*=v):(r=0,i=0,l=0),o=y*l-m*i,c=m*r-h*l,u=h*i-y*r,(v=Math.sqrt(o*o+c*c+u*u))?(o*=v=1/v,c*=v,u*=v):(o=0,c=0,u=0),g[0]=r,g[1]=o,g[2]=h,g[3]=0,g[4]=i,g[5]=c,g[6]=y,g[7]=0,g[8]=l,g[9]=u,g[10]=m,g[11]=0,g[12]=-(r*x+i*w+l*p),g[13]=-(o*x+c*w+u*p),g[14]=-(h*x+y*w+m*p),g[15]=1,g)}},1362:function(X){X.exports=function(d,t,f){var g=t[0],a=t[1],n=t[2],e=t[3],r=t[4],i=t[5],l=t[6],o=t[7],c=t[8],u=t[9],h=t[10],y=t[11],m=t[12],v=t[13],x=t[14],w=t[15],p=f[0],b=f[1],T=f[2],A=f[3];return d[0]=p*g+b*r+T*c+A*m,d[1]=p*a+b*i+T*u+A*v,d[2]=p*n+b*l+T*h+A*x,d[3]=p*e+b*o+T*y+A*w,p=f[4],b=f[5],T=f[6],A=f[7],d[4]=p*g+b*r+T*c+A*m,d[5]=p*a+b*i+T*u+A*v,d[6]=p*n+b*l+T*h+A*x,d[7]=p*e+b*o+T*y+A*w,p=f[8],b=f[9],T=f[10],A=f[11],d[8]=p*g+b*r+T*c+A*m,d[9]=p*a+b*i+T*u+A*v,d[10]=p*n+b*l+T*h+A*x,d[11]=p*e+b*o+T*y+A*w,p=f[12],b=f[13],T=f[14],A=f[15],d[12]=p*g+b*r+T*c+A*m,d[13]=p*a+b*i+T*u+A*v,d[14]=p*n+b*l+T*h+A*x,d[15]=p*e+b*o+T*y+A*w,d}},378:function(X){X.exports=function(d,t,f,g,a,n,e){var r=1/(t-f),i=1/(g-a),l=1/(n-e);return d[0]=-2*r,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=-2*i,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=2*l,d[11]=0,d[12]=(t+f)*r,d[13]=(a+g)*i,d[14]=(e+n)*l,d[15]=1,d}},7864:function(X){X.exports=function(d,t,f,g,a){var n=1/Math.tan(t/2),e=1/(g-a);return d[0]=n/f,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=n,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=(a+g)*e,d[11]=-1,d[12]=0,d[13]=0,d[14]=2*a*g*e,d[15]=0,d}},5279:function(X){X.exports=function(d,t,f,g){var a=Math.tan(t.upDegrees*Math.PI/180),n=Math.tan(t.downDegrees*Math.PI/180),e=Math.tan(t.leftDegrees*Math.PI/180),r=Math.tan(t.rightDegrees*Math.PI/180),i=2/(e+r),l=2/(a+n);return d[0]=i,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=l,d[6]=0,d[7]=0,d[8]=-(e-r)*i*.5,d[9]=(a-n)*l*.5,d[10]=g/(f-g),d[11]=-1,d[12]=0,d[13]=0,d[14]=g*f/(f-g),d[15]=0,d}},5074:function(X){X.exports=function(d,t,f,g){var a,n,e,r,i,l,o,c,u,h,y,m,v,x,w,p,b,T,A,P,k,L,D,_,I=g[0],O=g[1],N=g[2],G=Math.sqrt(I*I+O*O+N*N);return Math.abs(G)<1e-6?null:(I*=G=1/G,O*=G,N*=G,a=Math.sin(f),e=1-(n=Math.cos(f)),r=t[0],i=t[1],l=t[2],o=t[3],c=t[4],u=t[5],h=t[6],y=t[7],m=t[8],v=t[9],x=t[10],w=t[11],p=I*I*e+n,b=O*I*e+N*a,T=N*I*e-O*a,A=I*O*e-N*a,P=O*O*e+n,k=N*O*e+I*a,L=I*N*e+O*a,D=O*N*e-I*a,_=N*N*e+n,d[0]=r*p+c*b+m*T,d[1]=i*p+u*b+v*T,d[2]=l*p+h*b+x*T,d[3]=o*p+y*b+w*T,d[4]=r*A+c*P+m*k,d[5]=i*A+u*P+v*k,d[6]=l*A+h*P+x*k,d[7]=o*A+y*P+w*k,d[8]=r*L+c*D+m*_,d[9]=i*L+u*D+v*_,d[10]=l*L+h*D+x*_,d[11]=o*L+y*D+w*_,t!==d&&(d[12]=t[12],d[13]=t[13],d[14]=t[14],d[15]=t[15]),d)}},5545:function(X){X.exports=function(d,t,f){var g=Math.sin(f),a=Math.cos(f),n=t[4],e=t[5],r=t[6],i=t[7],l=t[8],o=t[9],c=t[10],u=t[11];return t!==d&&(d[0]=t[0],d[1]=t[1],d[2]=t[2],d[3]=t[3],d[12]=t[12],d[13]=t[13],d[14]=t[14],d[15]=t[15]),d[4]=n*a+l*g,d[5]=e*a+o*g,d[6]=r*a+c*g,d[7]=i*a+u*g,d[8]=l*a-n*g,d[9]=o*a-e*g,d[10]=c*a-r*g,d[11]=u*a-i*g,d}},4918:function(X){X.exports=function(d,t,f){var g=Math.sin(f),a=Math.cos(f),n=t[0],e=t[1],r=t[2],i=t[3],l=t[8],o=t[9],c=t[10],u=t[11];return t!==d&&(d[4]=t[4],d[5]=t[5],d[6]=t[6],d[7]=t[7],d[12]=t[12],d[13]=t[13],d[14]=t[14],d[15]=t[15]),d[0]=n*a-l*g,d[1]=e*a-o*g,d[2]=r*a-c*g,d[3]=i*a-u*g,d[8]=n*g+l*a,d[9]=e*g+o*a,d[10]=r*g+c*a,d[11]=i*g+u*a,d}},5692:function(X){X.exports=function(d,t,f){var g=Math.sin(f),a=Math.cos(f),n=t[0],e=t[1],r=t[2],i=t[3],l=t[4],o=t[5],c=t[6],u=t[7];return t!==d&&(d[8]=t[8],d[9]=t[9],d[10]=t[10],d[11]=t[11],d[12]=t[12],d[13]=t[13],d[14]=t[14],d[15]=t[15]),d[0]=n*a+l*g,d[1]=e*a+o*g,d[2]=r*a+c*g,d[3]=i*a+u*g,d[4]=l*a-n*g,d[5]=o*a-e*g,d[6]=c*a-r*g,d[7]=u*a-i*g,d}},789:function(X){X.exports=function(d,t,f){var g=f[0],a=f[1],n=f[2];return d[0]=t[0]*g,d[1]=t[1]*g,d[2]=t[2]*g,d[3]=t[3]*g,d[4]=t[4]*a,d[5]=t[5]*a,d[6]=t[6]*a,d[7]=t[7]*a,d[8]=t[8]*n,d[9]=t[9]*n,d[10]=t[10]*n,d[11]=t[11]*n,d[12]=t[12],d[13]=t[13],d[14]=t[14],d[15]=t[15],d}},6726:function(X){X.exports=function(d){return"mat4("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+", "+d[4]+", "+d[5]+", "+d[6]+", "+d[7]+", "+d[8]+", "+d[9]+", "+d[10]+", "+d[11]+", "+d[12]+", "+d[13]+", "+d[14]+", "+d[15]+")"}},1283:function(X){X.exports=function(d,t,f){var g,a,n,e,r,i,l,o,c,u,h,y,m=f[0],v=f[1],x=f[2];return t===d?(d[12]=t[0]*m+t[4]*v+t[8]*x+t[12],d[13]=t[1]*m+t[5]*v+t[9]*x+t[13],d[14]=t[2]*m+t[6]*v+t[10]*x+t[14],d[15]=t[3]*m+t[7]*v+t[11]*x+t[15]):(g=t[0],a=t[1],n=t[2],e=t[3],r=t[4],i=t[5],l=t[6],o=t[7],c=t[8],u=t[9],h=t[10],y=t[11],d[0]=g,d[1]=a,d[2]=n,d[3]=e,d[4]=r,d[5]=i,d[6]=l,d[7]=o,d[8]=c,d[9]=u,d[10]=h,d[11]=y,d[12]=g*m+r*v+c*x+t[12],d[13]=a*m+i*v+u*x+t[13],d[14]=n*m+l*v+h*x+t[14],d[15]=e*m+o*v+y*x+t[15]),d}},8654:function(X){X.exports=function(d,t){if(d===t){var f=t[1],g=t[2],a=t[3],n=t[6],e=t[7],r=t[11];d[1]=t[4],d[2]=t[8],d[3]=t[12],d[4]=f,d[6]=t[9],d[7]=t[13],d[8]=g,d[9]=n,d[11]=t[14],d[12]=a,d[13]=e,d[14]=r}else d[0]=t[0],d[1]=t[4],d[2]=t[8],d[3]=t[12],d[4]=t[1],d[5]=t[5],d[6]=t[9],d[7]=t[13],d[8]=t[2],d[9]=t[6],d[10]=t[10],d[11]=t[14],d[12]=t[3],d[13]=t[7],d[14]=t[11],d[15]=t[15];return d}},7035:function(X,d,t){var f,g=t(4404);f=typeof t.g.matchMedia=="function"?!t.g.matchMedia("(hover: none)").matches:g,X.exports=f},8520:function(X,d,t){var f=t(4404);X.exports=f&&function(){var g=!1;try{var a=Object.defineProperty({},"passive",{get:function(){g=!0}});window.addEventListener("test",null,a),window.removeEventListener("test",null,a)}catch{g=!1}return g}()},4404:function(X){X.exports=!0},8546:function(X){X.exports=function(d){for(var t,f=d.length,g=0;g<f;g++)if(((t=d.charCodeAt(g))<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},8956:function(X){var d={left:0,top:0};X.exports=function(t,f,g){f=f||t.currentTarget||t.srcElement,Array.isArray(g)||(g=[0,0]);var a,n=t.clientX||0,e=t.clientY||0,r=(a=f)===window||a===document||a===document.body?d:a.getBoundingClientRect();return g[0]=n-r.left,g[1]=e-r.top,g}},7417:function(X,d,t){var f,g,a,n;g="Promise",n=function(){var e,r,i,l=Object.prototype.toString,o=typeof setImmediate<"u"?function(A){return setImmediate(A)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(A,P,k,L){return Object.defineProperty(A,P,{value:k,writable:!0,configurable:L!==!1})}}catch{e=function(P,k,L){return P[k]=L,P}}function c(A,P){i.add(A,P),r||(r=o(i.drain))}function u(A){var P,k=typeof A;return A==null||k!="object"&&k!="function"||(P=A.then),typeof P=="function"&&P}function h(){for(var A=0;A<this.chain.length;A++)y(this,this.state===1?this.chain[A].success:this.chain[A].failure,this.chain[A]);this.chain.length=0}function y(A,P,k){var L,D;try{P===!1?k.reject(A.msg):(L=P===!0?A.msg:P.call(void 0,A.msg))===k.promise?k.reject(TypeError("Promise-chain cycle")):(D=u(L))?D.call(L,k.resolve,k.reject):k.resolve(L)}catch(_){k.reject(_)}}function m(A){var P,k=this;if(!k.triggered){k.triggered=!0,k.def&&(k=k.def);try{(P=u(A))?c(function(){var L=new w(k);try{P.call(A,function(){m.apply(L,arguments)},function(){v.apply(L,arguments)})}catch(D){v.call(L,D)}}):(k.msg=A,k.state=1,k.chain.length>0&&c(h,k))}catch(L){v.call(new w(k),L)}}}function v(A){var P=this;P.triggered||(P.triggered=!0,P.def&&(P=P.def),P.msg=A,P.state=2,P.chain.length>0&&c(h,P))}function x(A,P,k,L){for(var D=0;D<P.length;D++)(function(_){A.resolve(P[_]).then(function(I){k(_,I)},L)})(D)}function w(A){this.def=A,this.triggered=!1}function p(A){this.promise=A,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function b(A){if(typeof A!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var P=new p(this);this.then=function(k,L){var D={success:typeof k!="function"||k,failure:typeof L=="function"&&L};return D.promise=new this.constructor(function(_,I){if(typeof _!="function"||typeof I!="function")throw TypeError("Not a function");D.resolve=_,D.reject=I}),P.chain.push(D),P.state!==0&&c(h,P),D.promise},this.catch=function(k){return this.then(void 0,k)};try{A.call(void 0,function(k){m.call(P,k)},function(k){v.call(P,k)})}catch(k){v.call(P,k)}}i=function(){var A,P,k;function L(D,_){this.fn=D,this.self=_,this.next=void 0}return{add:function(D,_){k=new L(D,_),P?P.next=k:A=k,P=k,k=void 0},drain:function(){var D=A;for(A=P=r=void 0;D;)D.fn.call(D.self),D=D.next}}}();var T=e({},"constructor",b,!1);return b.prototype=T,e(T,"__NPO__",0,!1),e(b,"resolve",function(A){return A&&typeof A=="object"&&A.__NPO__===1?A:new this(function(P,k){if(typeof P!="function"||typeof k!="function")throw TypeError("Not a function");P(A)})}),e(b,"reject",function(A){return new this(function(P,k){if(typeof P!="function"||typeof k!="function")throw TypeError("Not a function");k(A)})}),e(b,"all",function(A){var P=this;return l.call(A)!="[object Array]"?P.reject(TypeError("Not an array")):A.length===0?P.resolve([]):new P(function(k,L){if(typeof k!="function"||typeof L!="function")throw TypeError("Not a function");var D=A.length,_=Array(D),I=0;x(P,A,function(O,N){_[O]=N,++I===D&&k(_)},L)})}),e(b,"race",function(A){var P=this;return l.call(A)!="[object Array]"?P.reject(TypeError("Not an array")):new P(function(k,L){if(typeof k!="function"||typeof L!="function")throw TypeError("Not a function");x(P,A,function(D,_){k(_)},L)})}),b},(a=t.g!==void 0?t.g:this)[g]=a[g]||n(),X.exports?X.exports=a[g]:(f=function(){return a[g]}.call(d,t,d,X))===void 0||(X.exports=f)},6131:function(X){var d=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;X.exports=function(){try{if(!Object.assign)return!1;var g=new String("abc");if(g[5]="de",Object.getOwnPropertyNames(g)[0]==="5")return!1;for(var a={},n=0;n<10;n++)a["_"+String.fromCharCode(n)]=n;if(Object.getOwnPropertyNames(a).map(function(r){return a[r]}).join("")!=="0123456789")return!1;var e={};return"abcdefghijklmnopqrst".split("").forEach(function(r){e[r]=r}),Object.keys(Object.assign({},e)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(g,a){for(var n,e,r=function(c){if(c==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(c)}(g),i=1;i<arguments.length;i++){for(var l in n=Object(arguments[i]))t.call(n,l)&&(r[l]=n[l]);if(d){e=d(n);for(var o=0;o<e.length;o++)f.call(n,e[o])&&(r[e[o]]=n[e[o]])}}return r}},5616:function(X){X.exports=function(g){var a=[];return g.replace(t,function(n,e,r){var i=e.toLowerCase();for(r=function(l){var o=l.match(f);return o?o.map(Number):[]}(r),i=="m"&&r.length>2&&(a.push([e].concat(r.splice(0,2))),i="l",e=e=="m"?"l":"L");;){if(r.length==d[i])return r.unshift(e),a.push(r);if(r.length<d[i])throw new Error("malformed path data");a.push([e].concat(r.splice(0,d[i])))}}),a};var d={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/gi,f=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},8258:function(X){X.exports=function(d,t,f,g){var a=d[0],n=d[1],e=!1;f===void 0&&(f=0),g===void 0&&(g=t.length);for(var r=g-f,i=0,l=r-1;i<r;l=i++){var o=t[i+f][0],c=t[i+f][1],u=t[l+f][0],h=t[l+f][1];c>n!=h>n&&a<(u-o)*(n-c)/(h-c)+o&&(e=!e)}return e}},2142:function(X,d,t){var f,g=t(9444),a=t(9023),n=t(7263),e=t(1328),r=t(5968),i=t(670),l=!1,o=a();function c(u,h,y){var m=f.segments(u),v=f.segments(h),x=y(f.combine(m,v));return f.polygon(x)}f={buildLog:function(u){return u===!0?l=g():u===!1&&(l=!1),l!==!1&&l.list},epsilon:function(u){return o.epsilon(u)},segments:function(u){var h=n(!0,o,l);return u.regions.forEach(h.addRegion),{segments:h.calculate(u.inverted),inverted:u.inverted}},combine:function(u,h){return{combined:n(!1,o,l).calculate(u.segments,u.inverted,h.segments,h.inverted),inverted1:u.inverted,inverted2:h.inverted}},selectUnion:function(u){return{segments:r.union(u.combined,l),inverted:u.inverted1||u.inverted2}},selectIntersect:function(u){return{segments:r.intersect(u.combined,l),inverted:u.inverted1&&u.inverted2}},selectDifference:function(u){return{segments:r.difference(u.combined,l),inverted:u.inverted1&&!u.inverted2}},selectDifferenceRev:function(u){return{segments:r.differenceRev(u.combined,l),inverted:!u.inverted1&&u.inverted2}},selectXor:function(u){return{segments:r.xor(u.combined,l),inverted:u.inverted1!==u.inverted2}},polygon:function(u){return{regions:e(u.segments,o,l),inverted:u.inverted}},polygonFromGeoJSON:function(u){return i.toPolygon(f,u)},polygonToGeoJSON:function(u){return i.fromPolygon(f,o,u)},union:function(u,h){return c(u,h,f.selectUnion)},intersect:function(u,h){return c(u,h,f.selectIntersect)},difference:function(u,h){return c(u,h,f.selectDifference)},differenceRev:function(u,h){return c(u,h,f.selectDifferenceRev)},xor:function(u,h){return c(u,h,f.selectXor)}},typeof window=="object"&&(window.PolyBool=f),X.exports=f},9444:function(X){X.exports=function(){var d,t=0,f=!1;function g(a,n){return d.list.push({type:a,data:n?JSON.parse(JSON.stringify(n)):void 0}),d}return d={list:[],segmentId:function(){return t++},checkIntersection:function(a,n){return g("check",{seg1:a,seg2:n})},segmentChop:function(a,n){return g("div_seg",{seg:a,pt:n}),g("chop",{seg:a,pt:n})},statusRemove:function(a){return g("pop_seg",{seg:a})},segmentUpdate:function(a){return g("seg_update",{seg:a})},segmentNew:function(a,n){return g("new_seg",{seg:a,primary:n})},segmentRemove:function(a){return g("rem_seg",{seg:a})},tempStatus:function(a,n,e){return g("temp_status",{seg:a,above:n,below:e})},rewind:function(a){return g("rewind",{seg:a})},status:function(a,n,e){return g("status",{seg:a,above:n,below:e})},vert:function(a){return a===f?d:(f=a,g("vert",{x:a}))},log:function(a){return typeof a!="string"&&(a=JSON.stringify(a,!1,"  ")),g("log",{txt:a})},reset:function(){return g("reset")},selected:function(a){return g("selected",{segs:a})},chainStart:function(a){return g("chain_start",{seg:a})},chainRemoveHead:function(a,n){return g("chain_rem_head",{index:a,pt:n})},chainRemoveTail:function(a,n){return g("chain_rem_tail",{index:a,pt:n})},chainNew:function(a,n){return g("chain_new",{pt1:a,pt2:n})},chainMatch:function(a){return g("chain_match",{index:a})},chainClose:function(a){return g("chain_close",{index:a})},chainAddHead:function(a,n){return g("chain_add_head",{index:a,pt:n})},chainAddTail:function(a,n){return g("chain_add_tail",{index:a,pt:n})},chainConnect:function(a,n){return g("chain_con",{index1:a,index2:n})},chainReverse:function(a){return g("chain_rev",{index:a})},chainJoin:function(a,n){return g("chain_join",{index1:a,index2:n})},done:function(){return g("done")}}}},9023:function(X){X.exports=function(d){typeof d!="number"&&(d=1e-10);var t={epsilon:function(f){return typeof f=="number"&&(d=f),d},pointAboveOrOnLine:function(f,g,a){var n=g[0],e=g[1],r=a[0],i=a[1],l=f[0];return(r-n)*(f[1]-e)-(i-e)*(l-n)>=-d},pointBetween:function(f,g,a){var n=f[1]-g[1],e=a[0]-g[0],r=f[0]-g[0],i=a[1]-g[1],l=r*e+n*i;return!(l<d||l-(e*e+i*i)>-d)},pointsSameX:function(f,g){return Math.abs(f[0]-g[0])<d},pointsSameY:function(f,g){return Math.abs(f[1]-g[1])<d},pointsSame:function(f,g){return t.pointsSameX(f,g)&&t.pointsSameY(f,g)},pointsCompare:function(f,g){return t.pointsSameX(f,g)?t.pointsSameY(f,g)?0:f[1]<g[1]?-1:1:f[0]<g[0]?-1:1},pointsCollinear:function(f,g,a){var n=f[0]-g[0],e=f[1]-g[1],r=g[0]-a[0],i=g[1]-a[1];return Math.abs(n*i-r*e)<d},linesIntersect:function(f,g,a,n){var e=g[0]-f[0],r=g[1]-f[1],i=n[0]-a[0],l=n[1]-a[1],o=e*l-r*i;if(Math.abs(o)<d)return!1;var c=f[0]-a[0],u=f[1]-a[1],h=(i*u-l*c)/o,y=(e*u-r*c)/o,m={alongA:0,alongB:0,pt:[f[0]+h*e,f[1]+h*r]};return m.alongA=h<=-d?-2:h<d?-1:h-1<=-d?0:h-1<d?1:2,m.alongB=y<=-d?-2:y<d?-1:y-1<=-d?0:y-1<d?1:2,m},pointInsideRegion:function(f,g){for(var a=f[0],n=f[1],e=g[g.length-1][0],r=g[g.length-1][1],i=!1,l=0;l<g.length;l++){var o=g[l][0],c=g[l][1];c-n>d!=r-n>d&&(e-o)*(n-c)/(r-c)+o-a>d&&(i=!i),e=o,r=c}return i}};return t}},670:function(X){var d={toPolygon:function(t,f){function g(e){if(e.length<=0)return t.segments({inverted:!1,regions:[]});function r(o){var c=o.slice(0,o.length-1);return t.segments({inverted:!1,regions:[c]})}for(var i=r(e[0]),l=1;l<e.length;l++)i=t.selectDifference(t.combine(i,r(e[l])));return i}if(f.type==="Polygon")return t.polygon(g(f.coordinates));if(f.type==="MultiPolygon"){for(var a=t.segments({inverted:!1,regions:[]}),n=0;n<f.coordinates.length;n++)a=t.selectUnion(t.combine(a,g(f.coordinates[n])));return t.polygon(a)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(t,f,g){function a(y,m){return f.pointInsideRegion([.5*(y[0][0]+y[1][0]),.5*(y[0][1]+y[1][1])],m)}function n(y){return{region:y,children:[]}}g=t.polygon(t.segments(g));var e=n(null);function r(y,m){for(var v=0;v<y.children.length;v++)if(a(m,(w=y.children[v]).region))return void r(w,m);var x=n(m);for(v=0;v<y.children.length;v++){var w;a((w=y.children[v]).region,m)&&(x.children.push(w),y.children.splice(v,1),v--)}y.children.push(x)}for(var i=0;i<g.regions.length;i++){var l=g.regions[i];l.length<3||r(e,l)}function o(y,m){for(var v=0,x=y[y.length-1][0],w=y[y.length-1][1],p=[],b=0;b<y.length;b++){var T=y[b][0],A=y[b][1];p.push([T,A]),v+=A*x-T*w,x=T,w=A}return v<0!==m&&p.reverse(),p.push([p[0][0],p[0][1]]),p}var c=[];function u(y){var m=[o(y.region,!1)];c.push(m);for(var v=0;v<y.children.length;v++)m.push(h(y.children[v]))}function h(y){for(var m=0;m<y.children.length;m++)u(y.children[m]);return o(y.region,!0)}for(i=0;i<e.children.length;i++)u(e.children[i]);return c.length<=0?{type:"Polygon",coordinates:[]}:c.length==1?{type:"Polygon",coordinates:c[0]}:{type:"MultiPolygon",coordinates:c}}};X.exports=d},7263:function(X,d,t){var f=t(6859);X.exports=function(g,a,n){function e(u,h,y){return{id:n?n.segmentId():-1,start:u,end:h,myFill:{above:y.myFill.above,below:y.myFill.below},otherFill:null}}var r=f.create();function i(u,h){r.insertBefore(u,function(y){return m=u.isStart,v=u.pt,x=h,w=y.isStart,p=y.pt,b=y.other.pt,((T=a.pointsCompare(v,p))!==0?T:a.pointsSame(x,b)?0:m!==w?m?1:-1:a.pointAboveOrOnLine(x,w?p:b,w?b:p)?1:-1)<0;var m,v,x,w,p,b,T})}function l(u,h){var y=function(m,v){var x=f.node({isStart:!0,pt:m.start,seg:m,primary:v,other:null,status:null});return i(x,m.end),x}(u,h);return function(m,v,x){var w=f.node({isStart:!1,pt:v.end,seg:v,primary:x,other:m,status:null});m.other=w,i(w,m.pt)}(y,u,h),y}function o(u,h){var y=e(h,u.seg.end,u.seg);return function(m,v){n&&n.segmentChop(m.seg,v),m.other.remove(),m.seg.end=v,m.other.pt=v,i(m.other,m.pt)}(u,h),l(y,u.primary)}function c(u,h){var y=f.create();function m(_){return y.findTransition(function(I){var O,N,G,z,Y,Z;return O=_,N=I.ev,G=O.seg.start,z=O.seg.end,Y=N.seg.start,Z=N.seg.end,(a.pointsCollinear(G,Y,Z)?a.pointsCollinear(z,Y,Z)||a.pointAboveOrOnLine(z,Y,Z)?1:-1:a.pointAboveOrOnLine(G,Y,Z)?1:-1)>0})}function v(_,I){var O=_.seg,N=I.seg,G=O.start,z=O.end,Y=N.start,Z=N.end;n&&n.checkIntersection(O,N);var nt=a.linesIntersect(G,z,Y,Z);if(nt===!1){if(!a.pointsCollinear(G,z,Y)||a.pointsSame(G,Z)||a.pointsSame(z,Y))return!1;var S=a.pointsSame(G,Y),E=a.pointsSame(z,Z);if(S&&E)return I;var V=!S&&a.pointBetween(G,Y,Z),Q=!E&&a.pointBetween(z,Y,Z);if(S)return Q?o(I,z):o(_,Z),I;V&&(E||(Q?o(I,z):o(_,Z)),o(I,G))}else nt.alongA===0&&(nt.alongB===-1?o(_,Y):nt.alongB===0?o(_,nt.pt):nt.alongB===1&&o(_,Z)),nt.alongB===0&&(nt.alongA===-1?o(I,G):nt.alongA===0?o(I,nt.pt):nt.alongA===1&&o(I,z));return!1}for(var x=[];!r.isEmpty();){var w=r.getHead();if(n&&n.vert(w.pt[0]),w.isStart){let _=function(){if(b){var I=v(w,b);if(I)return I}return!!T&&v(w,T)};n&&n.segmentNew(w.seg,w.primary);var p=m(w),b=p.before?p.before.ev:null,T=p.after?p.after.ev:null;n&&n.tempStatus(w.seg,!!b&&b.seg,!!T&&T.seg);var A,P,k=_();if(k&&(g?(P=w.seg.myFill.below===null||w.seg.myFill.above!==w.seg.myFill.below)&&(k.seg.myFill.above=!k.seg.myFill.above):k.seg.otherFill=w.seg.myFill,n&&n.segmentUpdate(k.seg),w.other.remove(),w.remove()),r.getHead()!==w){n&&n.rewind(w.seg);continue}g?(P=w.seg.myFill.below===null||w.seg.myFill.above!==w.seg.myFill.below,w.seg.myFill.below=T?T.seg.myFill.above:u,w.seg.myFill.above=P?!w.seg.myFill.below:w.seg.myFill.below):w.seg.otherFill===null&&(A=T?w.primary===T.primary?T.seg.otherFill.above:T.seg.myFill.above:w.primary?h:u,w.seg.otherFill={above:A,below:A}),n&&n.status(w.seg,!!b&&b.seg,!!T&&T.seg),w.other.status=p.insert(f.node({ev:w}))}else{var L=w.status;if(L===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(y.exists(L.prev)&&y.exists(L.next)&&v(L.prev.ev,L.next.ev),n&&n.statusRemove(L.ev.seg),L.remove(),!w.primary){var D=w.seg.myFill;w.seg.myFill=w.seg.otherFill,w.seg.otherFill=D}x.push(w.seg)}r.getHead().remove()}return n&&n.done(),x}return g?{addRegion:function(u){for(var h,y,m,v=u[u.length-1],x=0;x<u.length;x++){h=v,v=u[x];var w=a.pointsCompare(h,v);w!==0&&l((y=w<0?h:v,m=w<0?v:h,{id:n?n.segmentId():-1,start:y,end:m,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(u){return c(u,!1)}}:{calculate:function(u,h,y,m){return u.forEach(function(v){l(e(v.start,v.end,v),!0)}),y.forEach(function(v){l(e(v.start,v.end,v),!1)}),c(h,m)}}}},6859:function(X){X.exports={create:function(){var d={root:{root:!0,next:null},exists:function(t){return t!==null&&t!==d.root},isEmpty:function(){return d.root.next===null},getHead:function(){return d.root.next},insertBefore:function(t,f){for(var g=d.root,a=d.root.next;a!==null;){if(f(a))return t.prev=a.prev,t.next=a,a.prev.next=t,void(a.prev=t);g=a,a=a.next}g.next=t,t.prev=g,t.next=null},findTransition:function(t){for(var f=d.root,g=d.root.next;g!==null&&!t(g);)f=g,g=g.next;return{before:f===d.root?null:f,after:g,insert:function(a){return a.prev=f,a.next=g,f.next=a,g!==null&&(g.prev=a),a}}}};return d},node:function(d){return d.prev=null,d.next=null,d.remove=function(){d.prev.next=d.next,d.next&&(d.next.prev=d.prev),d.prev=null,d.next=null},d}}},1328:function(X){X.exports=function(d,t,f){var g=[],a=[];return d.forEach(function(n){var e=n.start,r=n.end;if(t.pointsSame(e,r))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{f&&f.chainStart(n);for(var i={index:0,matches_head:!1,matches_pt1:!1},l={index:0,matches_head:!1,matches_pt1:!1},o=i,c=0;c<g.length;c++){var u=(x=g[c])[0],h=(x[1],x[x.length-1]);if(x[x.length-2],t.pointsSame(u,e)){if(L(c,!0,!0))break}else if(t.pointsSame(u,r)){if(L(c,!0,!1))break}else if(t.pointsSame(h,e)){if(L(c,!1,!0))break}else if(t.pointsSame(h,r)&&L(c,!1,!1))break}if(o===i)return g.push([e,r]),void(f&&f.chainNew(e,r));if(o===l){f&&f.chainMatch(i.index);var y=i.index,m=i.matches_pt1?r:e,v=i.matches_head,x=g[y],w=v?x[0]:x[x.length-1],p=v?x[1]:x[x.length-2],b=v?x[x.length-1]:x[0],T=v?x[x.length-2]:x[1];return t.pointsCollinear(p,w,m)&&(v?(f&&f.chainRemoveHead(i.index,m),x.shift()):(f&&f.chainRemoveTail(i.index,m),x.pop()),w=p),t.pointsSame(b,m)?(g.splice(y,1),t.pointsCollinear(T,b,w)&&(v?(f&&f.chainRemoveTail(i.index,w),x.pop()):(f&&f.chainRemoveHead(i.index,w),x.shift())),f&&f.chainClose(i.index),void a.push(x)):void(v?(f&&f.chainAddHead(i.index,m),x.unshift(m)):(f&&f.chainAddTail(i.index,m),x.push(m)))}var A=i.index,P=l.index;f&&f.chainConnect(A,P);var k=g[A].length<g[P].length;i.matches_head?l.matches_head?k?(D(A),_(A,P)):(D(P),_(P,A)):_(P,A):l.matches_head?_(A,P):k?(D(A),_(P,A)):(D(P),_(A,P))}function L(I,O,N){return o.index=I,o.matches_head=O,o.matches_pt1=N,o===i?(o=l,!1):(o=null,!0)}function D(I){f&&f.chainReverse(I),g[I].reverse()}function _(I,O){var N=g[I],G=g[O],z=N[N.length-1],Y=N[N.length-2],Z=G[0],nt=G[1];t.pointsCollinear(Y,z,Z)&&(f&&f.chainRemoveTail(I,z),N.pop(),z=Y),t.pointsCollinear(z,Z,nt)&&(f&&f.chainRemoveHead(O,Z),G.shift()),f&&f.chainJoin(I,O),g[I]=N.concat(G),g.splice(O,1)}}),a}},5968:function(X){function d(f,g,a){var n=[];return f.forEach(function(e){var r=(e.myFill.above?8:0)+(e.myFill.below?4:0)+(e.otherFill&&e.otherFill.above?2:0)+(e.otherFill&&e.otherFill.below?1:0);g[r]!==0&&n.push({id:a?a.segmentId():-1,start:e.start,end:e.end,myFill:{above:g[r]===1,below:g[r]===2},otherFill:null})}),a&&a.selected(n),n}var t={union:function(f,g){return d(f,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],g)},intersect:function(f,g){return d(f,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],g)},difference:function(f,g){return d(f,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],g)},differenceRev:function(f,g){return d(f,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],g)},xor:function(f,g){return d(f,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],g)}};X.exports=t},4267:function(X,d,t){var f;(function(g){var a=/^\s+/,n=/\s+$/,e=0,r=g.round,i=g.min,l=g.max,o=g.random;function c(F,R){if(R=R||{},(F=F||"")instanceof c)return F;if(!(this instanceof c))return new c(F,R);var j=function(J){var q,$,et,st={r:0,g:0,b:0},yt=1,St=null,Lt=null,It=null,it=!1,ft=!1;return typeof J=="string"&&(J=function(dt){dt=dt.replace(a,"").replace(n,"").toLowerCase();var xt,Pt=!1;if(O[dt])dt=O[dt],Pt=!0;else if(dt=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(xt=ot.rgb.exec(dt))?{r:xt[1],g:xt[2],b:xt[3]}:(xt=ot.rgba.exec(dt))?{r:xt[1],g:xt[2],b:xt[3],a:xt[4]}:(xt=ot.hsl.exec(dt))?{h:xt[1],s:xt[2],l:xt[3]}:(xt=ot.hsla.exec(dt))?{h:xt[1],s:xt[2],l:xt[3],a:xt[4]}:(xt=ot.hsv.exec(dt))?{h:xt[1],s:xt[2],v:xt[3]}:(xt=ot.hsva.exec(dt))?{h:xt[1],s:xt[2],v:xt[3],a:xt[4]}:(xt=ot.hex8.exec(dt))?{r:Z(xt[1]),g:Z(xt[2]),b:Z(xt[3]),a:V(xt[4]),format:Pt?"name":"hex8"}:(xt=ot.hex6.exec(dt))?{r:Z(xt[1]),g:Z(xt[2]),b:Z(xt[3]),format:Pt?"name":"hex"}:(xt=ot.hex4.exec(dt))?{r:Z(xt[1]+""+xt[1]),g:Z(xt[2]+""+xt[2]),b:Z(xt[3]+""+xt[3]),a:V(xt[4]+""+xt[4]),format:Pt?"name":"hex8"}:!!(xt=ot.hex3.exec(dt))&&{r:Z(xt[1]+""+xt[1]),g:Z(xt[2]+""+xt[2]),b:Z(xt[3]+""+xt[3]),format:Pt?"name":"hex"}}(J)),typeof J=="object"&&(H(J.r)&&H(J.g)&&H(J.b)?(q=J.r,$=J.g,et=J.b,st={r:255*z(q,255),g:255*z($,255),b:255*z(et,255)},it=!0,ft=String(J.r).substr(-1)==="%"?"prgb":"rgb"):H(J.h)&&H(J.s)&&H(J.v)?(St=S(J.s),Lt=S(J.v),st=function(dt,xt,Pt){dt=6*z(dt,360),xt=z(xt,100),Pt=z(Pt,100);var Ct=g.floor(dt),lt=dt-Ct,ht=Pt*(1-xt),vt=Pt*(1-lt*xt),gt=Pt*(1-(1-lt)*xt),mt=Ct%6;return{r:255*[Pt,vt,ht,ht,gt,Pt][mt],g:255*[gt,Pt,Pt,vt,ht,ht][mt],b:255*[ht,ht,gt,Pt,Pt,vt][mt]}}(J.h,St,Lt),it=!0,ft="hsv"):H(J.h)&&H(J.s)&&H(J.l)&&(St=S(J.s),It=S(J.l),st=function(dt,xt,Pt){var Ct,lt,ht;function vt(Tt,kt,_t){return _t<0&&(_t+=1),_t>1&&(_t-=1),_t<1/6?Tt+6*(kt-Tt)*_t:_t<.5?kt:_t<2/3?Tt+(kt-Tt)*(2/3-_t)*6:Tt}if(dt=z(dt,360),xt=z(xt,100),Pt=z(Pt,100),xt===0)Ct=lt=ht=Pt;else{var gt=Pt<.5?Pt*(1+xt):Pt+xt-Pt*xt,mt=2*Pt-gt;Ct=vt(mt,gt,dt+1/3),lt=vt(mt,gt,dt),ht=vt(mt,gt,dt-1/3)}return{r:255*Ct,g:255*lt,b:255*ht}}(J.h,St,It),it=!0,ft="hsl"),J.hasOwnProperty("a")&&(yt=J.a)),yt=G(yt),{ok:it,format:J.format||ft,r:i(255,l(st.r,0)),g:i(255,l(st.g,0)),b:i(255,l(st.b,0)),a:yt}}(F);this._originalInput=F,this._r=j.r,this._g=j.g,this._b=j.b,this._a=j.a,this._roundA=r(100*this._a)/100,this._format=R.format||j.format,this._gradientType=R.gradientType,this._r<1&&(this._r=r(this._r)),this._g<1&&(this._g=r(this._g)),this._b<1&&(this._b=r(this._b)),this._ok=j.ok,this._tc_id=e++}function u(F,R,j){F=z(F,255),R=z(R,255),j=z(j,255);var J,q,$=l(F,R,j),et=i(F,R,j),st=($+et)/2;if($==et)J=q=0;else{var yt=$-et;switch(q=st>.5?yt/(2-$-et):yt/($+et),$){case F:J=(R-j)/yt+(R<j?6:0);break;case R:J=(j-F)/yt+2;break;case j:J=(F-R)/yt+4}J/=6}return{h:J,s:q,l:st}}function h(F,R,j){F=z(F,255),R=z(R,255),j=z(j,255);var J,q,$=l(F,R,j),et=i(F,R,j),st=$,yt=$-et;if(q=$===0?0:yt/$,$==et)J=0;else{switch($){case F:J=(R-j)/yt+(R<j?6:0);break;case R:J=(j-F)/yt+2;break;case j:J=(F-R)/yt+4}J/=6}return{h:J,s:q,v:st}}function y(F,R,j,J){var q=[nt(r(F).toString(16)),nt(r(R).toString(16)),nt(r(j).toString(16))];return J&&q[0].charAt(0)==q[0].charAt(1)&&q[1].charAt(0)==q[1].charAt(1)&&q[2].charAt(0)==q[2].charAt(1)?q[0].charAt(0)+q[1].charAt(0)+q[2].charAt(0):q.join("")}function m(F,R,j,J){return[nt(E(J)),nt(r(F).toString(16)),nt(r(R).toString(16)),nt(r(j).toString(16))].join("")}function v(F,R){R=R===0?0:R||10;var j=c(F).toHsl();return j.s-=R/100,j.s=Y(j.s),c(j)}function x(F,R){R=R===0?0:R||10;var j=c(F).toHsl();return j.s+=R/100,j.s=Y(j.s),c(j)}function w(F){return c(F).desaturate(100)}function p(F,R){R=R===0?0:R||10;var j=c(F).toHsl();return j.l+=R/100,j.l=Y(j.l),c(j)}function b(F,R){R=R===0?0:R||10;var j=c(F).toRgb();return j.r=l(0,i(255,j.r-r(-R/100*255))),j.g=l(0,i(255,j.g-r(-R/100*255))),j.b=l(0,i(255,j.b-r(-R/100*255))),c(j)}function T(F,R){R=R===0?0:R||10;var j=c(F).toHsl();return j.l-=R/100,j.l=Y(j.l),c(j)}function A(F,R){var j=c(F).toHsl(),J=(j.h+R)%360;return j.h=J<0?360+J:J,c(j)}function P(F){var R=c(F).toHsl();return R.h=(R.h+180)%360,c(R)}function k(F){var R=c(F).toHsl(),j=R.h;return[c(F),c({h:(j+120)%360,s:R.s,l:R.l}),c({h:(j+240)%360,s:R.s,l:R.l})]}function L(F){var R=c(F).toHsl(),j=R.h;return[c(F),c({h:(j+90)%360,s:R.s,l:R.l}),c({h:(j+180)%360,s:R.s,l:R.l}),c({h:(j+270)%360,s:R.s,l:R.l})]}function D(F){var R=c(F).toHsl(),j=R.h;return[c(F),c({h:(j+72)%360,s:R.s,l:R.l}),c({h:(j+216)%360,s:R.s,l:R.l})]}function _(F,R,j){R=R||6,j=j||30;var J=c(F).toHsl(),q=360/j,$=[c(F)];for(J.h=(J.h-(q*R>>1)+720)%360;--R;)J.h=(J.h+q)%360,$.push(c(J));return $}function I(F,R){R=R||6;for(var j=c(F).toHsv(),J=j.h,q=j.s,$=j.v,et=[],st=1/R;R--;)et.push(c({h:J,s:q,v:$})),$=($+st)%1;return et}c.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var F=this.toRgb();return(299*F.r+587*F.g+114*F.b)/1e3},getLuminance:function(){var F,R,j,J=this.toRgb();return F=J.r/255,R=J.g/255,j=J.b/255,.2126*(F<=.03928?F/12.92:g.pow((F+.055)/1.055,2.4))+.7152*(R<=.03928?R/12.92:g.pow((R+.055)/1.055,2.4))+.0722*(j<=.03928?j/12.92:g.pow((j+.055)/1.055,2.4))},setAlpha:function(F){return this._a=G(F),this._roundA=r(100*this._a)/100,this},toHsv:function(){var F=h(this._r,this._g,this._b);return{h:360*F.h,s:F.s,v:F.v,a:this._a}},toHsvString:function(){var F=h(this._r,this._g,this._b),R=r(360*F.h),j=r(100*F.s),J=r(100*F.v);return this._a==1?"hsv("+R+", "+j+"%, "+J+"%)":"hsva("+R+", "+j+"%, "+J+"%, "+this._roundA+")"},toHsl:function(){var F=u(this._r,this._g,this._b);return{h:360*F.h,s:F.s,l:F.l,a:this._a}},toHslString:function(){var F=u(this._r,this._g,this._b),R=r(360*F.h),j=r(100*F.s),J=r(100*F.l);return this._a==1?"hsl("+R+", "+j+"%, "+J+"%)":"hsla("+R+", "+j+"%, "+J+"%, "+this._roundA+")"},toHex:function(F){return y(this._r,this._g,this._b,F)},toHexString:function(F){return"#"+this.toHex(F)},toHex8:function(F){return function(R,j,J,q,$){var et=[nt(r(R).toString(16)),nt(r(j).toString(16)),nt(r(J).toString(16)),nt(E(q))];return $&&et[0].charAt(0)==et[0].charAt(1)&&et[1].charAt(0)==et[1].charAt(1)&&et[2].charAt(0)==et[2].charAt(1)&&et[3].charAt(0)==et[3].charAt(1)?et[0].charAt(0)+et[1].charAt(0)+et[2].charAt(0)+et[3].charAt(0):et.join("")}(this._r,this._g,this._b,this._a,F)},toHex8String:function(F){return"#"+this.toHex8(F)},toRgb:function(){return{r:r(this._r),g:r(this._g),b:r(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+r(this._r)+", "+r(this._g)+", "+r(this._b)+")":"rgba("+r(this._r)+", "+r(this._g)+", "+r(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:r(100*z(this._r,255))+"%",g:r(100*z(this._g,255))+"%",b:r(100*z(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+r(100*z(this._r,255))+"%, "+r(100*z(this._g,255))+"%, "+r(100*z(this._b,255))+"%)":"rgba("+r(100*z(this._r,255))+"%, "+r(100*z(this._g,255))+"%, "+r(100*z(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(N[y(this._r,this._g,this._b,!0)]||!1)},toFilter:function(F){var R="#"+m(this._r,this._g,this._b,this._a),j=R,J=this._gradientType?"GradientType = 1, ":"";if(F){var q=c(F);j="#"+m(q._r,q._g,q._b,q._a)}return"progid:DXImageTransform.Microsoft.gradient("+J+"startColorstr="+R+",endColorstr="+j+")"},toString:function(F){var R=!!F;F=F||this._format;var j=!1,J=this._a<1&&this._a>=0;return R||!J||F!=="hex"&&F!=="hex6"&&F!=="hex3"&&F!=="hex4"&&F!=="hex8"&&F!=="name"?(F==="rgb"&&(j=this.toRgbString()),F==="prgb"&&(j=this.toPercentageRgbString()),F!=="hex"&&F!=="hex6"||(j=this.toHexString()),F==="hex3"&&(j=this.toHexString(!0)),F==="hex4"&&(j=this.toHex8String(!0)),F==="hex8"&&(j=this.toHex8String()),F==="name"&&(j=this.toName()),F==="hsl"&&(j=this.toHslString()),F==="hsv"&&(j=this.toHsvString()),j||this.toHexString()):F==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return c(this.toString())},_applyModification:function(F,R){var j=F.apply(null,[this].concat([].slice.call(R)));return this._r=j._r,this._g=j._g,this._b=j._b,this.setAlpha(j._a),this},lighten:function(){return this._applyModification(p,arguments)},brighten:function(){return this._applyModification(b,arguments)},darken:function(){return this._applyModification(T,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(x,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(A,arguments)},_applyCombination:function(F,R){return F.apply(null,[this].concat([].slice.call(R)))},analogous:function(){return this._applyCombination(_,arguments)},complement:function(){return this._applyCombination(P,arguments)},monochromatic:function(){return this._applyCombination(I,arguments)},splitcomplement:function(){return this._applyCombination(D,arguments)},triad:function(){return this._applyCombination(k,arguments)},tetrad:function(){return this._applyCombination(L,arguments)}},c.fromRatio=function(F,R){if(typeof F=="object"){var j={};for(var J in F)F.hasOwnProperty(J)&&(j[J]=J==="a"?F[J]:S(F[J]));F=j}return c(F,R)},c.equals=function(F,R){return!(!F||!R)&&c(F).toRgbString()==c(R).toRgbString()},c.random=function(){return c.fromRatio({r:o(),g:o(),b:o()})},c.mix=function(F,R,j){j=j===0?0:j||50;var J=c(F).toRgb(),q=c(R).toRgb(),$=j/100;return c({r:(q.r-J.r)*$+J.r,g:(q.g-J.g)*$+J.g,b:(q.b-J.b)*$+J.b,a:(q.a-J.a)*$+J.a})},c.readability=function(F,R){var j=c(F),J=c(R);return(g.max(j.getLuminance(),J.getLuminance())+.05)/(g.min(j.getLuminance(),J.getLuminance())+.05)},c.isReadable=function(F,R,j){var J,q,$,et,st,yt=c.readability(F,R);switch(q=!1,($=j,(et=(($=$||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&et!=="AAA"&&(et="AA"),(st=($.size||"small").toLowerCase())!=="small"&&st!=="large"&&(st="small"),J={level:et,size:st}).level+J.size){case"AAsmall":case"AAAlarge":q=yt>=4.5;break;case"AAlarge":q=yt>=3;break;case"AAAsmall":q=yt>=7}return q},c.mostReadable=function(F,R,j){var J,q,$,et,st=null,yt=0;q=(j=j||{}).includeFallbackColors,$=j.level,et=j.size;for(var St=0;St<R.length;St++)(J=c.readability(F,R[St]))>yt&&(yt=J,st=c(R[St]));return c.isReadable(F,st,{level:$,size:et})||!q?st:(j.includeFallbackColors=!1,c.mostReadable(F,["#fff","#000"],j))};var O=c.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},N=c.hexNames=function(F){var R={};for(var j in F)F.hasOwnProperty(j)&&(R[F[j]]=j);return R}(O);function G(F){return F=parseFloat(F),(isNaN(F)||F<0||F>1)&&(F=1),F}function z(F,R){(function(J){return typeof J=="string"&&J.indexOf(".")!=-1&&parseFloat(J)===1})(F)&&(F="100%");var j=function(J){return typeof J=="string"&&J.indexOf("%")!=-1}(F);return F=i(R,l(0,parseFloat(F))),j&&(F=parseInt(F*R,10)/100),g.abs(F-R)<1e-6?1:F%R/parseFloat(R)}function Y(F){return i(1,l(0,F))}function Z(F){return parseInt(F,16)}function nt(F){return F.length==1?"0"+F:""+F}function S(F){return F<=1&&(F=100*F+"%"),F}function E(F){return g.round(255*parseFloat(F)).toString(16)}function V(F){return Z(F)/255}var Q,tt,rt,ot=(tt="[\\s|\\(]+("+(Q="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Q+")[,|\\s]+("+Q+")\\s*\\)?",rt="[\\s|\\(]+("+Q+")[,|\\s]+("+Q+")[,|\\s]+("+Q+")[,|\\s]+("+Q+")\\s*\\)?",{CSS_UNIT:new RegExp(Q),rgb:new RegExp("rgb"+tt),rgba:new RegExp("rgba"+rt),hsl:new RegExp("hsl"+tt),hsla:new RegExp("hsla"+rt),hsv:new RegExp("hsv"+tt),hsva:new RegExp("hsva"+rt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function H(F){return!!ot.CSS_UNIT.exec(F)}X.exports?X.exports=c:(f=function(){return c}.call(d,t,d,X))===void 0||(X.exports=f)})(Math)},3961:function(X,d,t){var f=t(3489),g=t(6131),a=f.instance();function n(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}n.prototype=new f.baseCalendar,g(n.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(u,h){if(typeof u=="string"){var y=u.match(r);return y?y[0]:""}var m=this._validateYear(u),v=u.month(),x=""+this.toChineseMonth(m,v);return h&&x.length<2&&(x="0"+x),this.isIntercalaryMonth(m,v)&&(x+="i"),x},monthNames:function(u){if(typeof u=="string"){var h=u.match(i);return h?h[0]:""}var y=this._validateYear(u),m=u.month(),v=["","","","","","","","","","","",""][this.toChineseMonth(y,m)-1];return this.isIntercalaryMonth(y,m)&&(v=""+v),v},monthNamesShort:function(u){if(typeof u=="string"){var h=u.match(l);return h?h[0]:""}var y=this._validateYear(u),m=u.month(),v=["","","","","","","","","","","",""][this.toChineseMonth(y,m)-1];return this.isIntercalaryMonth(y,m)&&(v=""+v),v},parseMonth:function(u,h){u=this._validateYear(u);var y,m=parseInt(h);if(isNaN(m))h[0]===""&&(y=!0,h=h.substring(1)),h[h.length-1]===""&&(h=h.substring(0,h.length-1)),m=1+["","","","","","","","","","","",""].indexOf(h);else{var v=h[h.length-1];y=v==="i"||v==="I"}return this.toMonthIndex(u,m,y)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(u,h){if(u.year&&(u=u.year()),typeof u!="number"||u<1888||u>2111)throw h.replace(/\{0\}/,this.local.name);return u},toMonthIndex:function(u,h,y){var m=this.intercalaryMonth(u);if(y&&h!==m||h<1||h>12)throw f.local.invalidMonth.replace(/\{0\}/,this.local.name);return m?!y&&h<=m?h-1:h:h-1},toChineseMonth:function(u,h){u.year&&(h=(u=u.year()).month());var y=this.intercalaryMonth(u);if(h<0||h>(y?12:11))throw f.local.invalidMonth.replace(/\{0\}/,this.local.name);return y?h<y?h+1:h:h+1},intercalaryMonth:function(u){return u=this._validateYear(u),o[u-o[0]]>>13},isIntercalaryMonth:function(u,h){u.year&&(h=(u=u.year()).month());var y=this.intercalaryMonth(u);return!!y&&y===h},leapYear:function(u){return this.intercalaryMonth(u)!==0},weekOfYear:function(u,h,y){var m,v=this._validateYear(u,f.local.invalidyear),x=c[v-c[0]],w=x>>9&4095,p=x>>5&15,b=31&x;(m=a.newDate(w,p,b)).add(4-(m.dayOfWeek()||7),"d");var T=this.toJD(u,h,y)-m.toJD();return 1+Math.floor(T/7)},monthsInYear:function(u){return this.leapYear(u)?13:12},daysInMonth:function(u,h){u.year&&(h=u.month(),u=u.year()),u=this._validateYear(u);var y=o[u-o[0]];if(h>(y>>13?12:11))throw f.local.invalidMonth.replace(/\{0\}/,this.local.name);return y&1<<12-h?30:29},weekDay:function(u,h,y){return(this.dayOfWeek(u,h,y)||7)<6},toJD:function(u,h,y){var m=this._validate(u,x,y,f.local.invalidDate);u=this._validateYear(m.year()),h=m.month(),y=m.day();var v=this.isIntercalaryMonth(u,h),x=this.toChineseMonth(u,h),w=function(p,b,T,A,P){var k,L,D;if(typeof p=="object")L=p,k=b||{};else{var _;if(!(typeof p=="number"&&p>=1888&&p<=2111))throw new Error("Lunar year outside range 1888-2111");if(!(typeof b=="number"&&b>=1&&b<=12))throw new Error("Lunar month outside range 1 - 12");if(!(typeof T=="number"&&T>=1&&T<=30))throw new Error("Lunar day outside range 1 - 30");typeof A=="object"?(_=!1,k=A):(_=!!A,k={}),L={year:p,month:b,day:T,isIntercalary:_}}D=L.day-1;var I,O=o[L.year-o[0]],N=O>>13;I=N&&(L.month>N||L.isIntercalary)?L.month:L.month-1;for(var G=0;G<I;G++)D+=O&1<<12-G?30:29;var z=c[L.year-c[0]],Y=new Date(z>>9&4095,(z>>5&15)-1,(31&z)+D);return k.year=Y.getFullYear(),k.month=1+Y.getMonth(),k.day=Y.getDate(),k}(u,x,y,v);return a.toJD(w.year,w.month,w.day)},fromJD:function(u){var h=a.fromJD(u),y=function(v,x,w,p){var b,T;if(typeof v=="object")b=v,T=x||{};else{if(!(typeof v=="number"&&v>=1888&&v<=2111))throw new Error("Solar year outside range 1888-2111");if(!(typeof x=="number"&&x>=1&&x<=12))throw new Error("Solar month outside range 1 - 12");if(!(typeof w=="number"&&w>=1&&w<=31))throw new Error("Solar day outside range 1 - 31");b={year:v,month:x,day:w},T={}}var A=c[b.year-c[0]],P=b.year<<9|b.month<<5|b.day;T.year=P>=A?b.year:b.year-1,A=c[T.year-c[0]];var k,L=new Date(A>>9&4095,(A>>5&15)-1,31&A),D=new Date(b.year,b.month-1,b.day);k=Math.round((D-L)/864e5);var _,I=o[T.year-o[0]];for(_=0;_<13;_++){var O=I&1<<12-_?30:29;if(k<O)break;k-=O}var N=I>>13;return!N||_<N?(T.isIntercalary=!1,T.month=1+_):_===N?(T.isIntercalary=!0,T.month=_):(T.isIntercalary=!1,T.month=_),T.day=1+k,T}(h.year(),h.month(),h.day()),m=this.toMonthIndex(y.year,y.month,y.isIntercalary);return this.newDate(y.year,m,y.day)},fromString:function(u){var h=u.match(e),y=this._validateYear(+h[1]),m=+h[2],v=!!h[3],x=this.toMonthIndex(y,m,v),w=+h[4];return this.newDate(y,x,w)},add:function(u,h,y){var m=u.year(),v=u.month(),x=this.isIntercalaryMonth(m,v),w=this.toChineseMonth(m,v),p=Object.getPrototypeOf(n.prototype).add.call(this,u,h,y);if(y==="y"){var b=p.year(),T=p.month(),A=this.isIntercalaryMonth(b,w),P=x&&A?this.toMonthIndex(b,w,!0):this.toMonthIndex(b,w,!1);P!==T&&p.month(P)}return p}});var e=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,r=/^\d?\d[iI]?/m,i=/^??[]?/m,l=/^??[]?/m;f.calendars.chinese=n;var o=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],c=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},8751:function(X,d,t){var f=t(3489),g=t(6131);function a(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}a.prototype=new f.baseCalendar,g(a.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var e=this._validate(n,this.minMonth,this.minDay,f.local.invalidYear);return(n=e.year()+(e.year()<0?1:0))%4==3||n%4==-1},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,f.local.invalidYear||f.regionalOptions[""].invalidYear),13},weekOfYear:function(n,e,r){var i=this.newDate(n,e,r);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(n,e){var r=this._validate(n,e,this.minDay,f.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===13&&this.leapYear(r.year())?1:0)},weekDay:function(n,e,r){return(this.dayOfWeek(n,e,r)||7)<6},toJD:function(n,e,r){var i=this._validate(n,e,r,f.local.invalidDate);return(n=i.year())<0&&n++,i.day()+30*(i.month()-1)+365*(n-1)+Math.floor(n/4)+this.jdEpoch-1},fromJD:function(n){var e=Math.floor(n)+.5-this.jdEpoch,r=Math.floor((e-Math.floor((e+366)/1461))/365)+1;r<=0&&r--,e=Math.floor(n)+.5-this.newDate(r,1,1).toJD();var i=Math.floor(e/30)+1,l=e-30*(i-1)+1;return this.newDate(r,i,l)}}),f.calendars.coptic=a},6825:function(X,d,t){var f=t(3489),g=t(6131);function a(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}a.prototype=new f.baseCalendar,g(a.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,f.local.invalidYear),!1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,f.local.invalidYear),13},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,f.local.invalidYear),400},weekOfYear:function(e,r,i){var l=this.newDate(e,r,i);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/8)+1},daysInMonth:function(e,r){var i=this._validate(e,r,this.minDay,f.local.invalidMonth);return this.daysPerMonth[i.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(e,r,i){return(this._validate(e,r,i,f.local.invalidDate).day()+1)%8},weekDay:function(e,r,i){var l=this.dayOfWeek(e,r,i);return l>=2&&l<=6},extraInfo:function(e,r,i){var l=this._validate(e,r,i,f.local.invalidDate);return{century:n[Math.floor((l.year()-1)/100)+1]||""}},toJD:function(e,r,i){var l=this._validate(e,r,i,f.local.invalidDate);return e=l.year()+(l.year()<0?1:0),r=l.month(),(i=l.day())+(r>1?16:0)+(r>2?32*(r-2):0)+400*(e-1)+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e+.5)-Math.floor(this.jdEpoch)-1;var r=Math.floor(e/400)+1;e-=400*(r-1),e+=e>15?16:0;var i=Math.floor(e/32)+1,l=e-32*(i-1)+1;return this.newDate(r<=0?r-1:r,i,l)}});var n={20:"Fruitbat",21:"Anchovy"};f.calendars.discworld=a},7715:function(X,d,t){var f=t(3489),g=t(6131);function a(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}a.prototype=new f.baseCalendar,g(a.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var e=this._validate(n,this.minMonth,this.minDay,f.local.invalidYear);return(n=e.year()+(e.year()<0?1:0))%4==3||n%4==-1},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,f.local.invalidYear||f.regionalOptions[""].invalidYear),13},weekOfYear:function(n,e,r){var i=this.newDate(n,e,r);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(n,e){var r=this._validate(n,e,this.minDay,f.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===13&&this.leapYear(r.year())?1:0)},weekDay:function(n,e,r){return(this.dayOfWeek(n,e,r)||7)<6},toJD:function(n,e,r){var i=this._validate(n,e,r,f.local.invalidDate);return(n=i.year())<0&&n++,i.day()+30*(i.month()-1)+365*(n-1)+Math.floor(n/4)+this.jdEpoch-1},fromJD:function(n){var e=Math.floor(n)+.5-this.jdEpoch,r=Math.floor((e-Math.floor((e+366)/1461))/365)+1;r<=0&&r--,e=Math.floor(n)+.5-this.newDate(r,1,1).toJD();var i=Math.floor(e/30)+1,l=e-30*(i-1)+1;return this.newDate(r,i,l)}}),f.calendars.ethiopian=a},9384:function(X,d,t){var f=t(3489),g=t(6131);function a(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}function n(e,r){return e-r*Math.floor(e/r)}a.prototype=new f.baseCalendar,g(a.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,f.local.invalidYear);return this._leapYear(r.year())},_leapYear:function(e){return n(7*(e=e<0?e+1:e)+1,19)<7},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,f.local.invalidYear),this._leapYear(e.year?e.year():e)?13:12},weekOfYear:function(e,r,i){var l=this.newDate(e,r,i);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInYear:function(e){return e=this._validate(e,this.minMonth,this.minDay,f.local.invalidYear).year(),this.toJD(e===-1?1:e+1,7,1)-this.toJD(e,7,1)},daysInMonth:function(e,r){return e.year&&(r=e.month(),e=e.year()),this._validate(e,r,this.minDay,f.local.invalidMonth),r===12&&this.leapYear(e)||r===8&&n(this.daysInYear(e),10)===5?30:r===9&&n(this.daysInYear(e),10)===3?29:this.daysPerMonth[r-1]},weekDay:function(e,r,i){return this.dayOfWeek(e,r,i)!==6},extraInfo:function(e,r,i){var l=this._validate(e,r,i,f.local.invalidDate);return{yearType:(this.leapYear(l)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(l)%10-3]}},toJD:function(e,r,i){var l=this._validate(e,r,i,f.local.invalidDate);e=l.year(),r=l.month(),i=l.day();var o=e<=0?e+1:e,c=this.jdEpoch+this._delay1(o)+this._delay2(o)+i+1;if(r<7){for(var u=7;u<=this.monthsInYear(e);u++)c+=this.daysInMonth(e,u);for(u=1;u<r;u++)c+=this.daysInMonth(e,u)}else for(u=7;u<r;u++)c+=this.daysInMonth(e,u);return c},_delay1:function(e){var r=Math.floor((235*e-234)/19),i=12084+13753*r,l=29*r+Math.floor(i/25920);return n(3*(l+1),7)<3&&l++,l},_delay2:function(e){var r=this._delay1(e-1),i=this._delay1(e);return this._delay1(e+1)-i==356?2:i-r==382?1:0},fromJD:function(e){e=Math.floor(e)+.5;for(var r=Math.floor(98496*(e-this.jdEpoch)/35975351)-1;e>=this.toJD(r===-1?1:r+1,7,1);)r++;for(var i=e<this.toJD(r,1,1)?7:1;e>this.toJD(r,i,this.daysInMonth(r,i));)i++;var l=e-this.toJD(r,i,1)+1;return this.newDate(r,i,l)}}),f.calendars.hebrew=a},3805:function(X,d,t){var f=t(3489),g=t(6131);function a(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}a.prototype=new f.baseCalendar,g(a.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(n){return(11*this._validate(n,this.minMonth,this.minDay,f.local.invalidYear).year()+14)%30<11},weekOfYear:function(n,e,r){var i=this.newDate(n,e,r);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInYear:function(n){return this.leapYear(n)?355:354},daysInMonth:function(n,e){var r=this._validate(n,e,this.minDay,f.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===12&&this.leapYear(r.year())?1:0)},weekDay:function(n,e,r){return this.dayOfWeek(n,e,r)!==5},toJD:function(n,e,r){var i=this._validate(n,e,r,f.local.invalidDate);return n=i.year(),e=i.month(),n=n<=0?n+1:n,(r=i.day())+Math.ceil(29.5*(e-1))+354*(n-1)+Math.floor((3+11*n)/30)+this.jdEpoch-1},fromJD:function(n){n=Math.floor(n)+.5;var e=Math.floor((30*(n-this.jdEpoch)+10646)/10631);e=e<=0?e-1:e;var r=Math.min(12,Math.ceil((n-29-this.toJD(e,1,1))/29.5)+1),i=n-this.toJD(e,r,1)+1;return this.newDate(e,r,i)}}),f.calendars.islamic=a},8874:function(X,d,t){var f=t(3489),g=t(6131);function a(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}a.prototype=new f.baseCalendar,g(a.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var e=this._validate(n,this.minMonth,this.minDay,f.local.invalidYear);return(n=e.year()<0?e.year()+1:e.year())%4==0},weekOfYear:function(n,e,r){var i=this.newDate(n,e,r);return i.add(4-(i.dayOfWeek()||7),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(n,e){var r=this._validate(n,e,this.minDay,f.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===2&&this.leapYear(r.year())?1:0)},weekDay:function(n,e,r){return(this.dayOfWeek(n,e,r)||7)<6},toJD:function(n,e,r){var i=this._validate(n,e,r,f.local.invalidDate);return n=i.year(),e=i.month(),r=i.day(),n<0&&n++,e<=2&&(n--,e+=12),Math.floor(365.25*(n+4716))+Math.floor(30.6001*(e+1))+r-1524.5},fromJD:function(n){var e=Math.floor(n+.5)+1524,r=Math.floor((e-122.1)/365.25),i=Math.floor(365.25*r),l=Math.floor((e-i)/30.6001),o=l-Math.floor(l<14?1:13),c=r-Math.floor(o>2?4716:4715),u=e-i-Math.floor(30.6001*l);return c<=0&&c--,this.newDate(c,o,u)}}),f.calendars.julian=a},3290:function(X,d,t){var f=t(3489),g=t(6131);function a(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}function n(r,i){return r-i*Math.floor(r/i)}function e(r,i){return n(r-1,i)+1}a.prototype=new f.baseCalendar,g(a.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(r){return this._validate(r,this.minMonth,this.minDay,f.local.invalidYear),!1},formatYear:function(r){r=this._validate(r,this.minMonth,this.minDay,f.local.invalidYear).year();var i=Math.floor(r/400);return r%=400,r+=r<0?400:0,i+"."+Math.floor(r/20)+"."+r%20},forYear:function(r){if((r=r.split(".")).length<3)throw"Invalid Mayan year";for(var i=0,l=0;l<r.length;l++){var o=parseInt(r[l],10);if(Math.abs(o)>19||l>0&&o<0)throw"Invalid Mayan year";i=20*i+o}return i},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,f.local.invalidYear),18},weekOfYear:function(r,i,l){return this._validate(r,i,l,f.local.invalidDate),0},daysInYear:function(r){return this._validate(r,this.minMonth,this.minDay,f.local.invalidYear),360},daysInMonth:function(r,i){return this._validate(r,i,this.minDay,f.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(r,i,l){return this._validate(r,i,l,f.local.invalidDate).day()},weekDay:function(r,i,l){return this._validate(r,i,l,f.local.invalidDate),!0},extraInfo:function(r,i,l){var o=this._validate(r,i,l,f.local.invalidDate).toJD(),c=this._toHaab(o),u=this._toTzolkin(o);return{haabMonthName:this.local.haabMonths[c[0]-1],haabMonth:c[0],haabDay:c[1],tzolkinDayName:this.local.tzolkinMonths[u[0]-1],tzolkinDay:u[0],tzolkinTrecena:u[1]}},_toHaab:function(r){var i=n(8+(r-=this.jdEpoch)+340,365);return[Math.floor(i/20)+1,n(i,20)]},_toTzolkin:function(r){return[e(20+(r-=this.jdEpoch),20),e(r+4,13)]},toJD:function(r,i,l){var o=this._validate(r,i,l,f.local.invalidDate);return o.day()+20*o.month()+360*o.year()+this.jdEpoch},fromJD:function(r){r=Math.floor(r)+.5-this.jdEpoch;var i=Math.floor(r/360);r%=360,r+=r<0?360:0;var l=Math.floor(r/20),o=r%20;return this.newDate(i,l,o)}}),f.calendars.mayan=a},9108:function(X,d,t){var f=t(3489),g=t(6131);function a(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}a.prototype=new f.baseCalendar;var n=f.instance("gregorian");g(a.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,f.local.invalidYear||f.regionalOptions[""].invalidYear);return n.leapYear(r.year()+(r.year()<1?1:0)+1469)},weekOfYear:function(e,r,i){var l=this.newDate(e,r,i);return l.add(1-(l.dayOfWeek()||7),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var i=this._validate(e,r,this.minDay,f.local.invalidMonth);return this.daysPerMonth[i.month()-1]+(i.month()===12&&this.leapYear(i.year())?1:0)},weekDay:function(e,r,i){return(this.dayOfWeek(e,r,i)||7)<6},toJD:function(e,r,i){var l=this._validate(e,r,i,f.local.invalidMonth);(e=l.year())<0&&e++;for(var o=l.day(),c=1;c<l.month();c++)o+=this.daysPerMonth[c-1];return o+n.toJD(e+1468,3,13)},fromJD:function(e){e=Math.floor(e+.5);for(var r=Math.floor((e-(this.jdEpoch-1))/366);e>=this.toJD(r+1,1,1);)r++;for(var i=e-Math.floor(this.toJD(r,1,1)+.5)+1,l=1;i>this.daysInMonth(r,l);)i-=this.daysInMonth(r,l),l++;return this.newDate(r,l,i)}}),f.calendars.nanakshahi=a},5422:function(X,d,t){var f=t(3489),g=t(6131);function a(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}a.prototype=new f.baseCalendar,g(a.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(n){return this.daysInYear(n)!==this.daysPerYear},weekOfYear:function(n,e,r){var i=this.newDate(n,e,r);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInYear:function(n){if(n=this._validate(n,this.minMonth,this.minDay,f.local.invalidYear).year(),this.NEPALI_CALENDAR_DATA[n]===void 0)return this.daysPerYear;for(var e=0,r=this.minMonth;r<=12;r++)e+=this.NEPALI_CALENDAR_DATA[n][r];return e},daysInMonth:function(n,e){return n.year&&(e=n.month(),n=n.year()),this._validate(n,e,this.minDay,f.local.invalidMonth),this.NEPALI_CALENDAR_DATA[n]===void 0?this.daysPerMonth[e-1]:this.NEPALI_CALENDAR_DATA[n][e]},weekDay:function(n,e,r){return this.dayOfWeek(n,e,r)!==6},toJD:function(n,e,r){var i=this._validate(n,e,r,f.local.invalidDate);n=i.year(),e=i.month(),r=i.day();var l=f.instance(),o=0,c=e,u=n;this._createMissingCalendarData(n);var h=n-(c>9||c===9&&r>=this.NEPALI_CALENDAR_DATA[u][0]?56:57);for(e!==9&&(o=r,c--);c!==9;)c<=0&&(c=12,u--),o+=this.NEPALI_CALENDAR_DATA[u][c],c--;return e===9?(o+=r-this.NEPALI_CALENDAR_DATA[u][0])<0&&(o+=l.daysInYear(h)):o+=this.NEPALI_CALENDAR_DATA[u][9]-this.NEPALI_CALENDAR_DATA[u][0],l.newDate(h,1,1).add(o,"d").toJD()},fromJD:function(n){var e=f.instance().fromJD(n),r=e.year(),i=e.dayOfYear(),l=r+56;this._createMissingCalendarData(l);for(var o=9,c=this.NEPALI_CALENDAR_DATA[l][0],u=this.NEPALI_CALENDAR_DATA[l][o]-c+1;i>u;)++o>12&&(o=1,l++),u+=this.NEPALI_CALENDAR_DATA[l][o];var h=this.NEPALI_CALENDAR_DATA[l][o]-(u-i);return this.newDate(l,o,h)},_createMissingCalendarData:function(n){var e=this.daysPerMonth.slice(0);e.unshift(17);for(var r=n-1;r<n+2;r++)this.NEPALI_CALENDAR_DATA[r]===void 0&&(this.NEPALI_CALENDAR_DATA[r]=e)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),f.calendars.nepali=a},4320:function(X,d,t){var f=t(3489),g=t(6131);function a(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}function n(e,r){return e-r*Math.floor(e/r)}a.prototype=new f.baseCalendar,g(a.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,f.local.invalidYear);return 682*((r.year()-(r.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(e,r,i){var l=this.newDate(e,r,i);return l.add(-(l.dayOfWeek()+1)%7,"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(e,r){var i=this._validate(e,r,this.minDay,f.local.invalidMonth);return this.daysPerMonth[i.month()-1]+(i.month()===12&&this.leapYear(i.year())?1:0)},weekDay:function(e,r,i){return this.dayOfWeek(e,r,i)!==5},toJD:function(e,r,i){var l=this._validate(e,r,i,f.local.invalidDate);e=l.year(),r=l.month(),i=l.day();var o=e-(e>=0?474:473),c=474+n(o,2820);return i+(r<=7?31*(r-1):30*(r-1)+6)+Math.floor((682*c-110)/2816)+365*(c-1)+1029983*Math.floor(o/2820)+this.jdEpoch-1},fromJD:function(e){var r=(e=Math.floor(e)+.5)-this.toJD(475,1,1),i=Math.floor(r/1029983),l=n(r,1029983),o=2820;if(l!==1029982){var c=Math.floor(l/366),u=n(l,366);o=Math.floor((2134*c+2816*u+2815)/1028522)+c+1}var h=o+2820*i+474;h=h<=0?h-1:h;var y=e-this.toJD(h,1,1)+1,m=y<=186?Math.ceil(y/31):Math.ceil((y-6)/30),v=e-this.toJD(h,m,1)+1;return this.newDate(h,m,v)}}),f.calendars.persian=a,f.calendars.jalali=a},1320:function(X,d,t){var f=t(3489),g=t(6131),a=f.instance();function n(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}n.prototype=new f.baseCalendar,g(n.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,f.local.invalidYear);return e=this._t2gYear(r.year()),a.leapYear(e)},weekOfYear:function(e,r,i){var l=this._validate(e,this.minMonth,this.minDay,f.local.invalidYear);return e=this._t2gYear(l.year()),a.weekOfYear(e,l.month(),l.day())},daysInMonth:function(e,r){var i=this._validate(e,r,this.minDay,f.local.invalidMonth);return this.daysPerMonth[i.month()-1]+(i.month()===2&&this.leapYear(i.year())?1:0)},weekDay:function(e,r,i){return(this.dayOfWeek(e,r,i)||7)<6},toJD:function(e,r,i){var l=this._validate(e,r,i,f.local.invalidDate);return e=this._t2gYear(l.year()),a.toJD(e,l.month(),l.day())},fromJD:function(e){var r=a.fromJD(e),i=this._g2tYear(r.year());return this.newDate(i,r.month(),r.day())},_t2gYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)},_g2tYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)}}),f.calendars.taiwan=n},1367:function(X,d,t){var f=t(3489),g=t(6131),a=f.instance();function n(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}n.prototype=new f.baseCalendar,g(n.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,f.local.invalidYear);return e=this._t2gYear(r.year()),a.leapYear(e)},weekOfYear:function(e,r,i){var l=this._validate(e,this.minMonth,this.minDay,f.local.invalidYear);return e=this._t2gYear(l.year()),a.weekOfYear(e,l.month(),l.day())},daysInMonth:function(e,r){var i=this._validate(e,r,this.minDay,f.local.invalidMonth);return this.daysPerMonth[i.month()-1]+(i.month()===2&&this.leapYear(i.year())?1:0)},weekDay:function(e,r,i){return(this.dayOfWeek(e,r,i)||7)<6},toJD:function(e,r,i){var l=this._validate(e,r,i,f.local.invalidDate);return e=this._t2gYear(l.year()),a.toJD(e,l.month(),l.day())},fromJD:function(e){var r=a.fromJD(e),i=this._g2tYear(r.year());return this.newDate(i,r.month(),r.day())},_t2gYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)},_g2tYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)}}),f.calendars.thai=n},1457:function(X,d,t){var f=t(3489),g=t(6131);function a(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}a.prototype=new f.baseCalendar,g(a.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,f.local.invalidYear);return this.daysInYear(r.year())===355},weekOfYear:function(e,r,i){var l=this.newDate(e,r,i);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInYear:function(e){for(var r=0,i=1;i<=12;i++)r+=this.daysInMonth(e,i);return r},daysInMonth:function(e,r){for(var i=this._validate(e,r,this.minDay,f.local.invalidMonth).toJD()-24e5+.5,l=0,o=0;o<n.length;o++){if(n[o]>i)return n[l]-n[l-1];l++}return 30},weekDay:function(e,r,i){return this.dayOfWeek(e,r,i)!==5},toJD:function(e,r,i){var l=this._validate(e,r,i,f.local.invalidDate),o=12*(l.year()-1)+l.month()-15292;return l.day()+n[o-1]-1+24e5-.5},fromJD:function(e){for(var r=e-24e5+.5,i=0,l=0;l<n.length&&!(n[l]>r);l++)i++;var o=i+15292,c=Math.floor((o-1)/12),u=c+1,h=o-12*c,y=r-n[i-1]+1;return this.newDate(u,h,y)},isValid:function(e,r,i){var l=f.baseCalendar.prototype.isValid.apply(this,arguments);return l&&(l=(e=e.year!=null?e.year:e)>=1276&&e<=1500),l},_validate:function(e,r,i,l){var o=f.baseCalendar.prototype._validate.apply(this,arguments);if(o.year<1276||o.year>1500)throw l.replace(/\{0\}/,this.local.name);return o}}),f.calendars.ummalqura=a;var n=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},3489:function(X,d,t){var f=t(6131);function g(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function a(l,o,c,u){if(this._calendar=l,this._year=o,this._month=c,this._day=u,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(i.local.invalidDate||i.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function n(l,o){return"000000".substring(0,o-(l=""+l).length)+l}function e(){this.shortYearCutoff="+10"}function r(l){this.local=this.regionalOptions[l]||this.regionalOptions[""]}f(g.prototype,{instance:function(l,o){l=(l||"gregorian").toLowerCase(),o=o||"";var c=this._localCals[l+"-"+o];if(!c&&this.calendars[l]&&(c=new this.calendars[l](o),this._localCals[l+"-"+o]=c),!c)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,l);return c},newDate:function(l,o,c,u,h){return(u=(l!=null&&l.year?l.calendar():typeof u=="string"?this.instance(u,h):u)||this.instance()).newDate(l,o,c)},substituteDigits:function(l){return function(o){return(o+"").replace(/[0-9]/g,function(c){return l[c]})}},substituteChineseDigits:function(l,o){return function(c){for(var u="",h=0;c>0;){var y=c%10;u=(y===0?"":l[y]+o[h])+u,h++,c=Math.floor(c/10)}return u.indexOf(l[1]+o[1])===0&&(u=u.substr(1)),u||l[0]}}}),f(a.prototype,{newDate:function(l,o,c){return this._calendar.newDate(l??this,o,c)},year:function(l){return arguments.length===0?this._year:this.set(l,"y")},month:function(l){return arguments.length===0?this._month:this.set(l,"m")},day:function(l){return arguments.length===0?this._day:this.set(l,"d")},date:function(l,o,c){if(!this._calendar.isValid(l,o,c))throw(i.local.invalidDate||i.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=l,this._month=o,this._day=c,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(l,o){return this._calendar.add(this,l,o)},set:function(l,o){return this._calendar.set(this,l,o)},compareTo:function(l){if(this._calendar.name!==l._calendar.name)throw(i.local.differentCalendars||i.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,l._calendar.local.name);var o=this._year!==l._year?this._year-l._year:this._month!==l._month?this.monthOfYear()-l.monthOfYear():this._day-l._day;return o===0?0:o<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(l){return this._calendar.fromJD(l)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(l){return this._calendar.fromJSDate(l)},toString:function(){return(this.year()<0?"-":"")+n(Math.abs(this.year()),4)+"-"+n(this.month(),2)+"-"+n(this.day(),2)}}),f(e.prototype,{_validateLevel:0,newDate:function(l,o,c){return l==null?this.today():(l.year&&(this._validate(l,o,c,i.local.invalidDate||i.regionalOptions[""].invalidDate),c=l.day(),o=l.month(),l=l.year()),new a(this,l,o,c))},today:function(){return this.fromJSDate(new Date)},epoch:function(l){return this._validate(l,this.minMonth,this.minDay,i.local.invalidYear||i.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(l){var o=this._validate(l,this.minMonth,this.minDay,i.local.invalidYear||i.regionalOptions[""].invalidYear);return(o.year()<0?"-":"")+n(Math.abs(o.year()),4)},monthsInYear:function(l){return this._validate(l,this.minMonth,this.minDay,i.local.invalidYear||i.regionalOptions[""].invalidYear),12},monthOfYear:function(l,o){var c=this._validate(l,o,this.minDay,i.local.invalidMonth||i.regionalOptions[""].invalidMonth);return(c.month()+this.monthsInYear(c)-this.firstMonth)%this.monthsInYear(c)+this.minMonth},fromMonthOfYear:function(l,o){var c=(o+this.firstMonth-2*this.minMonth)%this.monthsInYear(l)+this.minMonth;return this._validate(l,c,this.minDay,i.local.invalidMonth||i.regionalOptions[""].invalidMonth),c},daysInYear:function(l){var o=this._validate(l,this.minMonth,this.minDay,i.local.invalidYear||i.regionalOptions[""].invalidYear);return this.leapYear(o)?366:365},dayOfYear:function(l,o,c){var u=this._validate(l,o,c,i.local.invalidDate||i.regionalOptions[""].invalidDate);return u.toJD()-this.newDate(u.year(),this.fromMonthOfYear(u.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(l,o,c){var u=this._validate(l,o,c,i.local.invalidDate||i.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(u))+2)%this.daysInWeek()},extraInfo:function(l,o,c){return this._validate(l,o,c,i.local.invalidDate||i.regionalOptions[""].invalidDate),{}},add:function(l,o,c){return this._validate(l,this.minMonth,this.minDay,i.local.invalidDate||i.regionalOptions[""].invalidDate),this._correctAdd(l,this._add(l,o,c),o,c)},_add:function(l,o,c){if(this._validateLevel++,c==="d"||c==="w"){var u=l.toJD()+o*(c==="w"?this.daysInWeek():1),h=l.calendar().fromJD(u);return this._validateLevel--,[h.year(),h.month(),h.day()]}try{var y=l.year()+(c==="y"?o:0),m=l.monthOfYear()+(c==="m"?o:0);h=l.day(),c==="y"?(l.month()!==this.fromMonthOfYear(y,m)&&(m=this.newDate(y,l.month(),this.minDay).monthOfYear()),m=Math.min(m,this.monthsInYear(y)),h=Math.min(h,this.daysInMonth(y,this.fromMonthOfYear(y,m)))):c==="m"&&(function(x){for(;m<x.minMonth;)y--,m+=x.monthsInYear(y);for(var w=x.monthsInYear(y);m>w-1+x.minMonth;)y++,m-=w,w=x.monthsInYear(y)}(this),h=Math.min(h,this.daysInMonth(y,this.fromMonthOfYear(y,m))));var v=[y,this.fromMonthOfYear(y,m),h];return this._validateLevel--,v}catch(x){throw this._validateLevel--,x}},_correctAdd:function(l,o,c,u){if(!(this.hasYearZero||u!=="y"&&u!=="m"||o[0]!==0&&l.year()>0==o[0]>0)){var h={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[u],y=c<0?-1:1;o=this._add(l,c*h[0]+y*h[1],h[2])}return l.date(o[0],o[1],o[2])},set:function(l,o,c){this._validate(l,this.minMonth,this.minDay,i.local.invalidDate||i.regionalOptions[""].invalidDate);var u=c==="y"?o:l.year(),h=c==="m"?o:l.month(),y=c==="d"?o:l.day();return c!=="y"&&c!=="m"||(y=Math.min(y,this.daysInMonth(u,h))),l.date(u,h,y)},isValid:function(l,o,c){this._validateLevel++;var u=this.hasYearZero||l!==0;if(u){var h=this.newDate(l,o,this.minDay);u=o>=this.minMonth&&o-this.minMonth<this.monthsInYear(h)&&c>=this.minDay&&c-this.minDay<this.daysInMonth(h)}return this._validateLevel--,u},toJSDate:function(l,o,c){var u=this._validate(l,o,c,i.local.invalidDate||i.regionalOptions[""].invalidDate);return i.instance().fromJD(this.toJD(u)).toJSDate()},fromJSDate:function(l){return this.fromJD(i.instance().fromJSDate(l).toJD())},_validate:function(l,o,c,u){if(l.year){if(this._validateLevel===0&&this.name!==l.calendar().name)throw(i.local.differentCalendars||i.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,l.calendar().local.name);return l}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(l,o,c))throw u.replace(/\{0\}/,this.local.name);var h=this.newDate(l,o,c);return this._validateLevel--,h}catch(y){throw this._validateLevel--,y}}}),r.prototype=new e,f(r.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var o=this._validate(l,this.minMonth,this.minDay,i.local.invalidYear||i.regionalOptions[""].invalidYear);return(l=o.year()+(o.year()<0?1:0))%4==0&&(l%100!=0||l%400==0)},weekOfYear:function(l,o,c){var u=this.newDate(l,o,c);return u.add(4-(u.dayOfWeek()||7),"d"),Math.floor((u.dayOfYear()-1)/7)+1},daysInMonth:function(l,o){var c=this._validate(l,o,this.minDay,i.local.invalidMonth||i.regionalOptions[""].invalidMonth);return this.daysPerMonth[c.month()-1]+(c.month()===2&&this.leapYear(c.year())?1:0)},weekDay:function(l,o,c){return(this.dayOfWeek(l,o,c)||7)<6},toJD:function(l,o,c){var u=this._validate(l,o,c,i.local.invalidDate||i.regionalOptions[""].invalidDate);l=u.year(),o=u.month(),c=u.day(),l<0&&l++,o<3&&(o+=12,l--);var h=Math.floor(l/100),y=2-h+Math.floor(h/4);return Math.floor(365.25*(l+4716))+Math.floor(30.6001*(o+1))+c+y-1524.5},fromJD:function(l){var o=Math.floor(l+.5),c=Math.floor((o-186721625e-2)/36524.25),u=1524+(c=o+1+c-Math.floor(c/4)),h=Math.floor((u-122.1)/365.25),y=Math.floor(365.25*h),m=Math.floor((u-y)/30.6001),v=u-y-Math.floor(30.6001*m),x=m-(m>13.5?13:1),w=h-(x>2.5?4716:4715);return w<=0&&w--,this.newDate(w,x,v)},toJSDate:function(l,o,c){var u=this._validate(l,o,c,i.local.invalidDate||i.regionalOptions[""].invalidDate),h=new Date(u.year(),u.month()-1,u.day());return h.setHours(0),h.setMinutes(0),h.setSeconds(0),h.setMilliseconds(0),h.setHours(h.getHours()>12?h.getHours()+2:0),h},fromJSDate:function(l){return this.newDate(l.getFullYear(),l.getMonth()+1,l.getDate())}});var i=X.exports=new g;i.cdate=a,i.baseCalendar=e,i.calendars.gregorian=r},4338:function(X,d,t){var f=t(6131),g=t(3489);f(g.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),g.local=g.regionalOptions[""],f(g.cdate.prototype,{formatDate:function(a,n){return typeof a!="string"&&(n=a,a=""),this._calendar.formatDate(a||"",this,n)}}),f(g.baseCalendar.prototype,{UNIX_EPOCH:g.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:g.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(a,n,e){if(typeof a!="string"&&(e=n,n=a,a=""),!n)return"";if(n.calendar()!==this)throw g.local.invalidFormat||g.regionalOptions[""].invalidFormat;a=a||this.local.dateFormat;for(var r,i,l,o=(e=e||{}).dayNamesShort||this.local.dayNamesShort,c=e.dayNames||this.local.dayNames,u=e.monthNumbers||this.local.monthNumbers,h=e.monthNamesShort||this.local.monthNamesShort,y=e.monthNames||this.local.monthNames,m=(e.calculateWeek||this.local.calculateWeek,function(L,D){for(var _=1;k+_<a.length&&a.charAt(k+_)===L;)_++;return k+=_-1,Math.floor(_/(D||1))>1}),v=function(L,D,_,I){var O=""+D;if(m(L,I))for(;O.length<_;)O="0"+O;return O},x=this,w=function(L){return typeof u=="function"?u.call(x,L,m("m")):T(v("m",L.month(),2))},p=function(L,D){return D?typeof y=="function"?y.call(x,L):y[L.month()-x.minMonth]:typeof h=="function"?h.call(x,L):h[L.month()-x.minMonth]},b=this.local.digits,T=function(L){return e.localNumbers&&b?b(L):L},A="",P=!1,k=0;k<a.length;k++)if(P)a.charAt(k)!=="'"||m("'")?A+=a.charAt(k):P=!1;else switch(a.charAt(k)){case"d":A+=T(v("d",n.day(),2));break;case"D":A+=(r=n.dayOfWeek(),i=o,l=c,m("D")?l[r]:i[r]);break;case"o":A+=v("o",n.dayOfYear(),3);break;case"w":A+=v("w",n.weekOfYear(),2);break;case"m":A+=w(n);break;case"M":A+=p(n,m("M"));break;case"y":A+=m("y",2)?n.year():(n.year()%100<10?"0":"")+n.year()%100;break;case"Y":m("Y",2),A+=n.formatYear();break;case"J":A+=n.toJD();break;case"@":A+=(n.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":A+=(n.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":m("'")?A+="'":P=!0;break;default:A+=a.charAt(k)}return A},parseDate:function(a,n,e){if(n==null)throw g.local.invalidArguments||g.regionalOptions[""].invalidArguments;if((n=typeof n=="object"?n.toString():n+"")==="")return null;a=a||this.local.dateFormat;var r=(e=e||{}).shortYearCutoff||this.shortYearCutoff;r=typeof r!="string"?r:this.today().year()%100+parseInt(r,10);for(var i=e.dayNamesShort||this.local.dayNamesShort,l=e.dayNames||this.local.dayNames,o=e.parseMonth||this.local.parseMonth,c=e.monthNumbers||this.local.monthNumbers,u=e.monthNamesShort||this.local.monthNamesShort,h=e.monthNames||this.local.monthNames,y=-1,m=-1,v=-1,x=-1,w=-1,p=!1,b=!1,T=function(z,Y){for(var Z=1;O+Z<a.length&&a.charAt(O+Z)===z;)Z++;return O+=Z-1,Math.floor(Z/(Y||1))>1},A=function(z,Y){var Z=T(z,Y),nt=[2,3,Z?4:2,Z?4:2,10,11,20]["oyYJ@!".indexOf(z)+1],S=new RegExp("^-?\\d{1,"+nt+"}"),E=n.substring(I).match(S);if(!E)throw(g.local.missingNumberAt||g.regionalOptions[""].missingNumberAt).replace(/\{0\}/,I);return I+=E[0].length,parseInt(E[0],10)},P=this,k=function(){if(typeof c=="function"){T("m");var z=c.call(P,n.substring(I));return I+=z.length,z}return A("m")},L=function(z,Y,Z,nt){for(var S=T(z,nt)?Z:Y,E=0;E<S.length;E++)if(n.substr(I,S[E].length).toLowerCase()===S[E].toLowerCase())return I+=S[E].length,E+P.minMonth;throw(g.local.unknownNameAt||g.regionalOptions[""].unknownNameAt).replace(/\{0\}/,I)},D=function(){if(typeof h=="function"){var z=T("M")?h.call(P,n.substring(I)):u.call(P,n.substring(I));return I+=z.length,z}return L("M",u,h)},_=function(){if(n.charAt(I)!==a.charAt(O))throw(g.local.unexpectedLiteralAt||g.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,I);I++},I=0,O=0;O<a.length;O++)if(b)a.charAt(O)!=="'"||T("'")?_():b=!1;else switch(a.charAt(O)){case"d":x=A("d");break;case"D":L("D",i,l);break;case"o":w=A("o");break;case"w":A("w");break;case"m":v=k();break;case"M":v=D();break;case"y":var N=O;p=!T("y",2),O=N,m=A("y",2);break;case"Y":m=A("Y",2);break;case"J":y=A("J")+.5,n.charAt(I)==="."&&(I++,A("J"));break;case"@":y=A("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":y=A("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":I=n.length;break;case"'":T("'")?_():b=!0;break;default:_()}if(I<n.length)throw g.local.unexpectedText||g.regionalOptions[""].unexpectedText;if(m===-1?m=this.today().year():m<100&&p&&(m+=r===-1?1900:this.today().year()-this.today().year()%100-(m<=r?0:100)),typeof v=="string"&&(v=o.call(this,m,v)),w>-1){v=1,x=w;for(var G=this.daysInMonth(m,v);x>G;G=this.daysInMonth(m,v))v++,x-=G}return y>-1?this.fromJD(y):this.newDate(m,v,x)},determineDate:function(a,n,e,r,i){e&&typeof e!="object"&&(i=r,r=e,e=null),typeof r!="string"&&(i=r,r="");var l=this;return n=n?n.newDate():null,a==null?n:typeof a=="string"?function(o){try{return l.parseDate(r,o,i)}catch{}for(var c=((o=o.toLowerCase()).match(/^c/)&&e?e.newDate():null)||l.today(),u=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,h=u.exec(o);h;)c.add(parseInt(h[1],10),h[2]||"d"),h=u.exec(o);return c}(a):typeof a=="number"?isNaN(a)||a===1/0||a===-1/0?n:l.today().add(a,"d"):l.newDate(a)}})}},Dr={};function pr(X){var d=Dr[X];if(d!==void 0)return d.exports;var t=Dr[X]={exports:{}};return da[X].call(t.exports,t,t.exports,pr),t.exports}return pr.d=function(X,d){for(var t in d)pr.o(d,t)&&!pr.o(X,t)&&Object.defineProperty(X,t,{enumerable:!0,get:d[t]})},pr.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),pr.o=function(X,d){return Object.prototype.hasOwnProperty.call(X,d)},pr.r=function(X){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(X,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(X,"__esModule",{value:!0})},pr(2576)}()})})(hi);var ko=hi.exports;const So=Mo(ko);export{So as P};
