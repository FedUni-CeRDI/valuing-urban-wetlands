import{g as Mo}from"./lodash-ebdeb6e1.js";var vi={exports:{}};(function(gi,Ao){/*! For license information please see plotly-basic.min.js.LICENSE.txt */(function(ya,Rr){gi.exports=Rr()})(self,function(){return function(){var ya={9288:function(J,h,t){var f=t(3400),y={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var i in y){var a=i.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");f.addStyleRule(a,y[i])}},6712:function(J,h,t){J.exports=t(1843)},7240:function(J,h,t){J.exports=t(1132)},6144:function(J,h,t){J.exports=t(7776)},2016:function(J,h,t){J.exports=t(4884)},5556:function(J,h,t){J.exports=t(6744)},6489:function(J,h,t){J.exports=t(2028)},3472:function(J,h,t){var f=t(2016);f.register([t(7240),t(260),t(6712),t(5556),t(6489),t(7312),t(6144)]),J.exports=f},260:function(J,h,t){J.exports=t(5792)},7312:function(J,h,t){J.exports=t(6272)},2196:function(J){J.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},3916:function(J,h,t){var f=t(2196),y=t(5376),i=t(3816),a=t(1780).templatedArray;t(6208),J.exports=a("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:y({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:f.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:f.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:y({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},272:function(J,h,t){var f=t(3400),y=t(4460),i=t(6196).draw;function a(r){var o=r._fullLayout;f.filterVisible(o.annotations).forEach(function(s){var e=y.getFromId(r,s.xref),l=y.getFromId(r,s.yref),u=y.getRefType(s.xref),m=y.getRefType(s.yref);s._extremes={},u==="range"&&n(s,e),m==="range"&&n(s,l)})}function n(r,o){var s,e=o._id,l=e.charAt(0),u=r[l],m=r["a"+l],_=r[l+"ref"],p=r["a"+l+"ref"],v=r["_"+l+"padplus"],g=r["_"+l+"padminus"],b={x:1,y:-1}[l]*r[l+"shift"],d=3*r.arrowsize*r.arrowwidth||0,T=d+b,w=d-b,k=3*r.startarrowsize*r.arrowwidth||0,P=k+b,A=k-b;if(p===_){var L=y.findExtremes(o,[o.r2c(u)],{ppadplus:T,ppadminus:w}),I=y.findExtremes(o,[o.r2c(m)],{ppadplus:Math.max(v,P),ppadminus:Math.max(g,A)});s={min:[L.min[0],I.min[0]],max:[L.max[0],I.max[0]]}}else P=m?P+m:P,A=m?A-m:A,s=y.findExtremes(o,[o.r2c(u)],{ppadplus:Math.max(v,T,P),ppadminus:Math.max(g,w,A)});r._extremes[e]=s}J.exports=function(r){var o=r._fullLayout;if(f.filterVisible(o.annotations).length&&r._fullData.length)return f.syncOrAsync([i,a],r)}},2300:function(J,h,t){var f=t(3400),y=t(4040),i=t(1780).arrayEditor;function a(r,o){var s,e,l,u,m,_,p,v=r._fullLayout.annotations,g=[],b=[],d=[],T=(o||[]).length;for(s=0;s<v.length;s++)if(u=(l=v[s]).clicktoshow){for(e=0;e<T;e++)if(_=(m=o[e]).xaxis,p=m.yaxis,_._id===l.xref&&p._id===l.yref&&_.d2r(m.x)===n(l._xclick,_)&&p.d2r(m.y)===n(l._yclick,p)){(l.visible?u==="onout"?b:d:g).push(s);break}e===T&&l.visible&&u==="onout"&&b.push(s)}return{on:g,off:b,explicitOff:d}}function n(r,o){return o.type==="log"?o.l2r(r):o.d2r(r)}J.exports={hasClickToShow:function(r,o){var s=a(r,o);return s.on.length>0||s.explicitOff.length>0},onClick:function(r,o){var s,e,l=a(r,o),u=l.on,m=l.off.concat(l.explicitOff),_={},p=r._fullLayout.annotations;if(u.length||m.length){for(s=0;s<u.length;s++)(e=i(r.layout,"annotations",p[u[s]])).modifyItem("visible",!0),f.extendFlat(_,e.getUpdateObj());for(s=0;s<m.length;s++)(e=i(r.layout,"annotations",p[m[s]])).modifyItem("visible",!1),f.extendFlat(_,e.getUpdateObj());return y.call("update",r,{},_)}}}},7192:function(J,h,t){var f=t(3400),y=t(6308);J.exports=function(i,a,n,r){r("opacity");var o=r("bgcolor"),s=r("bordercolor"),e=y.opacity(s);r("borderpad");var l=r("borderwidth"),u=r("showarrow");if(r("text",u?" ":n._dfltTitle.annotation),r("textangle"),f.coerceFont(r,"font",n.font),r("width"),r("align"),r("height")&&r("valign"),u){var m,_,p=r("arrowside");p.indexOf("end")!==-1&&(m=r("arrowhead"),_=r("arrowsize")),p.indexOf("start")!==-1&&(r("startarrowhead",m),r("startarrowsize",_)),r("arrowcolor",e?a.bordercolor:y.defaultLine),r("arrowwidth",2*(e&&l||1)),r("standoff"),r("startstandoff")}var v=r("hovertext"),g=n.hoverlabel||{};if(v){var b=r("hoverlabel.bgcolor",g.bgcolor||(y.opacity(o)?y.rgb(o):y.defaultLine)),d=r("hoverlabel.bordercolor",g.bordercolor||y.contrast(b));f.coerceFont(r,"hoverlabel.font",{family:g.font.family,size:g.font.size,color:g.font.color||d})}r("captureevents",!!v)}},9208:function(J,h,t){var f=t(8248),y=t(6896);J.exports=function(i,a,n,r){a=a||{};var o=n==="log"&&a.type==="linear",s=n==="linear"&&a.type==="log";if(o||s)for(var e,l,u=i._fullLayout.annotations,m=a._id.charAt(0),_=0;_<u.length;_++)e=u[_],l="annotations["+_+"].",e[m+"ref"]===a._id&&p(m),e["a"+m+"ref"]===a._id&&p("a"+m);function p(v){var g=e[v],b=null;b=o?y(g,a.range):Math.pow(10,g),f(b)||(b=null),r(l+v,b)}}},5216:function(J,h,t){var f=t(3400),y=t(4460),i=t(1272),a=t(7192),n=t(3916);function r(o,s,e){function l(I,x){return f.coerce(o,s,n,I,x)}var u=l("visible"),m=l("clicktoshow");if(u||m){a(o,s,e,l);for(var _=s.showarrow,p=["x","y"],v=[-10,-30],g={_fullLayout:e},b=0;b<2;b++){var d=p[b],T=y.coerceRef(o,s,g,d,"","paper");if(T!=="paper"&&y.getFromId(g,T)._annIndices.push(s._index),y.coercePosition(s,g,l,T,d,.5),_){var w="a"+d,k=y.coerceRef(o,s,g,w,"pixel",["pixel","paper"]);k!=="pixel"&&k!==T&&(k=s[w]="pixel");var P=k==="pixel"?v[b]:.4;y.coercePosition(s,g,l,k,w,P)}l(d+"anchor"),l(d+"shift")}if(f.noneOrAll(o,s,["x","y"]),_&&f.noneOrAll(o,s,["ax","ay"]),m){var A=l("xclick"),L=l("yclick");s._xclick=A===void 0?s.x:y.cleanPosition(A,g,s.xref),s._yclick=L===void 0?s.y:y.cleanPosition(L,g,s.yref)}}}J.exports=function(o,s){i(o,s,{name:"annotations",handleItemDefaults:r})}},6196:function(J,h,t){var f=t(3428),y=t(4040),i=t(7316),a=t(3400),n=a.strTranslate,r=t(4460),o=t(6308),s=t(3616),e=t(3024),l=t(2736),u=t(3972),m=t(6476),_=t(1780).arrayEditor,p=t(3652);function v(d,T){var w=d._fullLayout.annotations[T]||{},k=r.getFromId(d,w.xref),P=r.getFromId(d,w.yref);k&&k.setScale(),P&&P.setScale(),b(d,w,T,!1,k,P)}function g(d,T,w,k,P){var A=P[w],L=P[w+"ref"],I=w.indexOf("y")!==-1,x=r.getRefType(L)==="domain",C=I?k.h:k.w;return d?x?A+(I?-T:T)/d._length:d.p2r(d.r2p(A)+T):A+(I?-T:T)/C}function b(d,T,w,k,P,A){var L,I,x=d._fullLayout,C=d._fullLayout._size,F=d._context.edits;k?(L="annotation-"+k,I=k+".annotations"):(L="annotation",I="annotations");var N=_(d.layout,I,T),j=N.modifyBase,z=N.modifyItem,H=N.getUpdateObj;x._infolayer.selectAll("."+L+'[data-index="'+w+'"]').remove();var U="clip"+x._uid+"_ann"+w;if(T._input&&T.visible!==!1){var it={x:{},y:{}},K=+T.textangle||0,D=x._infolayer.append("g").classed(L,!0).attr("data-index",String(w)).style("opacity",T.opacity),B=D.append("g").classed("annotation-text-g",!0),q=F[T.showarrow?"annotationTail":"annotationPosition"],nt=T.captureevents||F.annotationText||q,ot=B.append("g").style("pointer-events",nt?"all":null).call(u,"pointer").on("click",function(){d._dragging=!1,d.emit("plotly_clickannotation",tt(f.event))});T.hovertext&&ot.on("mouseover",function(){var kt=T.hoverlabel,lt=kt.font,st=this.getBoundingClientRect(),ht=d.getBoundingClientRect();e.loneHover({x0:st.left-ht.left,x1:st.right-ht.left,y:(st.top+st.bottom)/2-ht.top,text:T.hovertext,color:kt.bgcolor,borderColor:kt.bordercolor,fontFamily:lt.family,fontSize:lt.size,fontColor:lt.color},{container:x._hoverlayer.node(),outerContainer:x._paper.node(),gd:d})}).on("mouseout",function(){e.loneUnhover(x._hoverlayer.node())});var rt=T.borderwidth,$=T.borderpad,E=rt+$,S=ot.append("rect").attr("class","bg").style("stroke-width",rt+"px").call(o.stroke,T.bordercolor).call(o.fill,T.bgcolor),Y=T.width||T.height,Z=x._topclips.selectAll("#"+U).data(Y?[0]:[]);Z.enter().append("clipPath").classed("annclip",!0).attr("id",U).append("rect"),Z.exit().remove();var G=T.font,Q=x._meta?a.templateString(T.text,x._meta):T.text,at=ot.append("text").classed("annotation-text",!0).text(Q);F.annotationText?at.call(l.makeEditable,{delegate:ot,gd:d}).call(_t).on("edit",function(kt){T.text=kt,this.call(_t),z("text",kt),P&&P.autorange&&j(P._name+".autorange",!0),A&&A.autorange&&j(A._name+".autorange",!0),y.call("_guiRelayout",d,H())}):at.call(_t)}else f.selectAll("#"+U).remove();function tt(kt){var lt={index:w,annotation:T._input,fullAnnotation:T,event:kt};return k&&(lt.subplotId=k),lt}function _t(kt){return kt.call(s.font,G).attr({"text-anchor":{left:"start",right:"end"}[T.align]||"middle"}),l.convertToTspans(kt,d,Pt),kt}function Pt(){var kt=at.selectAll("a");kt.size()===1&&kt.text()===at.text()&&ot.insert("a",":first-child").attr({"xlink:xlink:href":kt.attr("xlink:href"),"xlink:xlink:show":kt.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(S.node());var lt=ot.select(".annotation-text-math-group"),st=!lt.empty(),ht=s.bBox((st?lt:at).node()),bt=ht.width,pt=ht.height,Dt=T.width||bt,qt=T.height||pt,ct=Math.round(Dt+2*E),xt=Math.round(qt+2*E);function dt(Ht,Zt){return Zt==="auto"&&(Zt=Ht<.3333333333333333?"left":Ht>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Zt]}for(var vt=!1,yt=["x","y"],Mt=0;Mt<yt.length;Mt++){var Tt,Lt,St,At,Nt,zt=yt[Mt],Ft=T[zt+"ref"]||zt,Gt=T["a"+zt+"ref"],Bt={x:P,y:A}[zt],de=(K+(zt==="x"?0:-90))*Math.PI/180,ie=ct*Math.cos(de),pe=xt*Math.sin(de),Ot=Math.abs(ie)+Math.abs(pe),gt=T[zt+"anchor"],jt=T[zt+"shift"]*(zt==="x"?1:-1),Xt=it[zt],xe=r.getRefType(Ft);if(Bt&&xe!=="domain"){var Vt=Bt.r2fraction(T[zt]);(Vt<0||Vt>1)&&(Gt===Ft?((Vt=Bt.r2fraction(T["a"+zt]))<0||Vt>1)&&(vt=!0):vt=!0),Tt=Bt._offset+Bt.r2p(T[zt]),At=.5}else{var Qt=xe==="domain";zt==="x"?(St=T[zt],Tt=Qt?Bt._offset+Bt._length*St:Tt=C.l+C.w*St):(St=1-T[zt],Tt=Qt?Bt._offset+Bt._length*St:Tt=C.t+C.h*St),At=T.showarrow?.5:St}if(T.showarrow){Xt.head=Tt;var re=T["a"+zt];if(Nt=ie*dt(.5,T.xanchor)-pe*dt(.5,T.yanchor),Gt===Ft){var _e=r.getRefType(Gt);_e==="domain"?(zt==="y"&&(re=1-re),Xt.tail=Bt._offset+Bt._length*re):_e==="paper"?zt==="y"?(re=1-re,Xt.tail=C.t+C.h*re):Xt.tail=C.l+C.w*re:Xt.tail=Bt._offset+Bt.r2p(re),Lt=Nt}else Xt.tail=Tt+re,Lt=Nt+re;Xt.text=Xt.tail+Nt;var ce=x[zt==="x"?"width":"height"];if(Ft==="paper"&&(Xt.head=a.constrain(Xt.head,1,ce-1)),Gt==="pixel"){var Me=-Math.max(Xt.tail-3,Xt.text),te=Math.min(Xt.tail+3,Xt.text)-ce;Me>0?(Xt.tail+=Me,Xt.text+=Me):te>0&&(Xt.tail-=te,Xt.text-=te)}Xt.tail+=jt,Xt.head+=jt}else Lt=Nt=Ot*dt(At,gt),Xt.text=Tt+Nt;Xt.text+=jt,Nt+=jt,Lt+=jt,T["_"+zt+"padplus"]=Ot/2+Lt,T["_"+zt+"padminus"]=Ot/2-Lt,T["_"+zt+"size"]=Ot,T["_"+zt+"shift"]=Nt}if(vt)ot.remove();else{var X=0,et=0;if(T.align!=="left"&&(X=(Dt-bt)*(T.align==="center"?.5:1)),T.valign!=="top"&&(et=(qt-pt)*(T.valign==="middle"?.5:1)),st)lt.select("svg").attr({x:E+X-1,y:E+et}).call(s.setClipUrl,Y?U:null,d);else{var It=E+et-ht.top,Ct=E+X-ht.left;at.call(l.positionText,Ct,It).call(s.setClipUrl,Y?U:null,d)}Z.select("rect").call(s.setRect,E,E,Dt,qt),S.call(s.setRect,rt/2,rt/2,ct-rt,xt-rt),ot.call(s.setTranslate,Math.round(it.x.text-ct/2),Math.round(it.y.text-xt/2)),B.attr({transform:"rotate("+K+","+it.x.text+","+it.y.text+")"});var Ut,Rt=function(Ht,Zt){D.selectAll(".annotation-arrow-g").remove();var Kt=it.x.head,oe=it.y.head,ue=it.x.tail+Ht,Se=it.y.tail+Zt,he=it.x.text+Ht,ve=it.y.text+Zt,ke=a.rotationXYMatrix(K,he,ve),Ae=a.apply2DTransform(ke),ee=a.apply2DTransform2(ke),fe=+S.attr("width"),ge=+S.attr("height"),je=he-.5*fe,Ie=je+fe,Fe=ve-.5*ge,ye=Fe+ge,be=[[je,Fe,je,ye],[je,ye,Ie,ye],[Ie,ye,Ie,Fe],[Ie,Fe,je,Fe]].map(ee);if(!be.reduce(function(Ge,Je){return Ge^!!a.segmentsIntersect(Kt,oe,Kt+1e6,oe+1e6,Je[0],Je[1],Je[2],Je[3])},!1)){be.forEach(function(Ge){var Je=a.segmentsIntersect(ue,Se,Kt,oe,Ge[0],Ge[1],Ge[2],Ge[3]);Je&&(ue=Je.x,Se=Je.y)});var Te=T.arrowwidth,Pe=T.arrowcolor,Le=T.arrowside,Oe=D.append("g").style({opacity:o.opacity(Pe)}).classed("annotation-arrow-g",!0),Ee=Oe.append("path").attr("d","M"+ue+","+Se+"L"+Kt+","+oe).style("stroke-width",Te+"px").call(o.stroke,o.rgb(Pe));if(p(Ee,Le,T),F.annotationPosition&&Ee.node().parentNode&&!k){var He=Kt,ze=oe;if(T.standoff){var Ne=Math.sqrt(Math.pow(Kt-ue,2)+Math.pow(oe-Se,2));He+=T.standoff*(ue-Kt)/Ne,ze+=T.standoff*(Se-oe)/Ne}var Ye,Ze,Re=Oe.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(ue-He)+","+(Se-ze),transform:n(He,ze)}).style("stroke-width",Te+6+"px").call(o.stroke,"rgba(0,0,0,0)").call(o.fill,"rgba(0,0,0,0)");m.init({element:Re.node(),gd:d,prepFn:function(){var Ge=s.getTranslate(ot);Ye=Ge.x,Ze=Ge.y,P&&P.autorange&&j(P._name+".autorange",!0),A&&A.autorange&&j(A._name+".autorange",!0)},moveFn:function(Ge,Je){var fn=Ae(Ye,Ze),gn=fn[0]+Ge,sn=fn[1]+Je;ot.call(s.setTranslate,gn,sn),z("x",g(P,Ge,"x",C,T)),z("y",g(A,Je,"y",C,T)),T.axref===T.xref&&z("ax",g(P,Ge,"ax",C,T)),T.ayref===T.yref&&z("ay",g(A,Je,"ay",C,T)),Oe.attr("transform",n(Ge,Je)),B.attr({transform:"rotate("+K+","+gn+","+sn+")"})},doneFn:function(){y.call("_guiRelayout",d,H());var Ge=document.querySelector(".js-notes-box-panel");Ge&&Ge.redraw(Ge.selectedObj)}})}}};T.showarrow&&Rt(0,0),q&&m.init({element:ot.node(),gd:d,prepFn:function(){Ut=B.attr("transform")},moveFn:function(Ht,Zt){var Kt="pointer";if(T.showarrow)T.axref===T.xref?z("ax",g(P,Ht,"ax",C,T)):z("ax",T.ax+Ht),T.ayref===T.yref?z("ay",g(A,Zt,"ay",C.w,T)):z("ay",T.ay+Zt),Rt(Ht,Zt);else{if(k)return;var oe,ue;if(P)oe=g(P,Ht,"x",C,T);else{var Se=T._xsize/C.w,he=T.x+(T._xshift-T.xshift)/C.w-Se/2;oe=m.align(he+Ht/C.w,Se,0,1,T.xanchor)}if(A)ue=g(A,Zt,"y",C,T);else{var ve=T._ysize/C.h,ke=T.y-(T._yshift+T.yshift)/C.h-ve/2;ue=m.align(ke-Zt/C.h,ve,0,1,T.yanchor)}z("x",oe),z("y",ue),P&&A||(Kt=m.getCursor(P?.5:oe,A?.5:ue,T.xanchor,T.yanchor))}B.attr({transform:n(Ht,Zt)+Ut}),u(ot,Kt)},clickFn:function(Ht,Zt){T.captureevents&&d.emit("plotly_clickannotation",tt(Zt))},doneFn:function(){u(ot),y.call("_guiRelayout",d,H());var Ht=document.querySelector(".js-notes-box-panel");Ht&&Ht.redraw(Ht.selectedObj)}})}}}J.exports={draw:function(d){var T=d._fullLayout;T._infolayer.selectAll(".annotation").remove();for(var w=0;w<T.annotations.length;w++)T.annotations[w].visible&&v(d,w);return i.previousPromises(d)},drawOne:v,drawRaw:b}},3652:function(J,h,t){var f=t(3428),y=t(6308),i=t(2196),a=t(3400),n=a.strScale,r=a.strRotate,o=a.strTranslate;J.exports=function(s,e,l){var u,m,_,p,v=s.node(),g=i[l.arrowhead||0],b=i[l.startarrowhead||0],d=(l.arrowwidth||1)*(l.arrowsize||1),T=(l.arrowwidth||1)*(l.startarrowsize||1),w=e.indexOf("start")>=0,k=e.indexOf("end")>=0,P=g.backoff*d+l.standoff,A=b.backoff*T+l.startstandoff;if(v.nodeName==="line"){u={x:+s.attr("x1"),y:+s.attr("y1")},m={x:+s.attr("x2"),y:+s.attr("y2")};var L=u.x-m.x,I=u.y-m.y;if(p=(_=Math.atan2(I,L))+Math.PI,P&&A&&P+A>Math.sqrt(L*L+I*I))return void D();if(P){if(P*P>L*L+I*I)return void D();var x=P*Math.cos(_),C=P*Math.sin(_);m.x+=x,m.y+=C,s.attr({x2:m.x,y2:m.y})}if(A){if(A*A>L*L+I*I)return void D();var F=A*Math.cos(_),N=A*Math.sin(_);u.x-=F,u.y-=N,s.attr({x1:u.x,y1:u.y})}}else if(v.nodeName==="path"){var j=v.getTotalLength(),z="";if(j<P+A)return void D();var H=v.getPointAtLength(0),U=v.getPointAtLength(.1);_=Math.atan2(H.y-U.y,H.x-U.x),u=v.getPointAtLength(Math.min(A,j)),z="0px,"+A+"px,";var it=v.getPointAtLength(j),K=v.getPointAtLength(j-.1);p=Math.atan2(it.y-K.y,it.x-K.x),m=v.getPointAtLength(Math.max(0,j-P)),z+=j-(z?A+P:P)+"px,"+j+"px",s.style("stroke-dasharray",z)}function D(){s.style("stroke-dasharray","0px,100px")}function B(q,nt,ot,rt){q.path&&(q.noRotate&&(ot=0),f.select(v.parentNode).append("path").attr({class:s.attr("class"),d:q.path,transform:o(nt.x,nt.y)+r(180*ot/Math.PI)+n(rt)}).style({fill:y.rgb(l.arrowcolor),"stroke-width":0}))}w&&B(b,u,_,T),k&&B(g,m,p,d)}},9180:function(J,h,t){var f=t(6196),y=t(2300);J.exports={moduleType:"component",name:"annotations",layoutAttributes:t(3916),supplyLayoutDefaults:t(5216),includeBasePlot:t(6632)("annotations"),calcAutorange:t(272),draw:f.draw,drawOne:f.drawOne,drawRaw:f.drawRaw,hasClickToShow:y.hasClickToShow,onClick:y.onClick,convertCoords:t(9208)}},5899:function(J,h,t){var f=t(3916),y=t(7824).overrideAll,i=t(1780).templatedArray;J.exports=y(i("annotation",{visible:f.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:f.xanchor,xshift:f.xshift,yanchor:f.yanchor,yshift:f.yshift,text:f.text,textangle:f.textangle,font:f.font,width:f.width,height:f.height,opacity:f.opacity,align:f.align,valign:f.valign,bgcolor:f.bgcolor,bordercolor:f.bordercolor,borderpad:f.borderpad,borderwidth:f.borderwidth,showarrow:f.showarrow,arrowcolor:f.arrowcolor,arrowhead:f.arrowhead,startarrowhead:f.startarrowhead,arrowside:f.arrowside,arrowsize:f.arrowsize,startarrowsize:f.startarrowsize,arrowwidth:f.arrowwidth,standoff:f.standoff,startstandoff:f.startstandoff,hovertext:f.hovertext,hoverlabel:f.hoverlabel,captureevents:f.captureevents}),"calc","from-root")},76:function(J,h,t){var f=t(3400),y=t(4460);function i(a,n){var r=n.fullSceneLayout.domain,o=n.fullLayout._size,s={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};a._xa={},f.extendFlat(a._xa,s),y.setConvert(a._xa),a._xa._offset=o.l+r.x[0]*o.w,a._xa.l2p=function(){return .5*(1+a._pdata[0]/a._pdata[3])*o.w*(r.x[1]-r.x[0])},a._ya={},f.extendFlat(a._ya,s),y.setConvert(a._ya),a._ya._offset=o.t+(1-r.y[1])*o.h,a._ya.l2p=function(){return .5*(1-a._pdata[1]/a._pdata[3])*o.h*(r.y[1]-r.y[0])}}J.exports=function(a){for(var n=a.fullSceneLayout.annotations,r=0;r<n.length;r++)i(n[r],a);a.fullLayout._infolayer.selectAll(".annotation-"+a.id).remove()}},2808:function(J,h,t){var f=t(3400),y=t(4460),i=t(1272),a=t(7192),n=t(5899);function r(o,s,e,l){function u(_,p){return f.coerce(o,s,n,_,p)}function m(_){var p=_+"axis",v={_fullLayout:{}};return v._fullLayout[p]=e[p],y.coercePosition(s,v,u,_,_,.5)}u("visible")&&(a(o,s,l.fullLayout,u),m("x"),m("y"),m("z"),f.noneOrAll(o,s,["x","y","z"]),s.xref="x",s.yref="y",s.zref="z",u("xanchor"),u("yanchor"),u("xshift"),u("yshift"),s.showarrow&&(s.axref="pixel",s.ayref="pixel",u("ax",-10),u("ay",-30),f.noneOrAll(o,s,["ax","ay"])))}J.exports=function(o,s,e){i(o,s,{name:"annotations",handleItemDefaults:r,fullLayout:e.fullLayout})}},1836:function(J,h,t){var f=t(6196).drawRaw,y=t(4424),i=["x","y","z"];J.exports=function(a){for(var n=a.fullSceneLayout,r=a.dataScale,o=n.annotations,s=0;s<o.length;s++){for(var e=o[s],l=!1,u=0;u<3;u++){var m=i[u],_=e[m],p=n[m+"axis"].r2fraction(_);if(p<0||p>1){l=!0;break}}l?a.fullLayout._infolayer.select(".annotation-"+a.id+'[data-index="'+s+'"]').remove():(e._pdata=y(a.glplot.cameraParams,[n.xaxis.r2l(e.x)*r[0],n.yaxis.r2l(e.y)*r[1],n.zaxis.r2l(e.z)*r[2]]),f(a.graphDiv,e,s,a.id,e._xa,e._ya))}}},6864:function(J,h,t){var f=t(4040),y=t(3400);J.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:t(5899)}}},layoutAttributes:t(5899),handleDefaults:t(2808),includeBasePlot:function(i,a){var n=f.subplotsRegistry.gl3d;if(n)for(var r=n.attrRegex,o=Object.keys(i),s=0;s<o.length;s++){var e=o[s];r.test(e)&&(i[e].annotations||[]).length&&(y.pushUnique(a._basePlotModules,n),y.pushUnique(a._subplots.gl3d,e))}},convert:t(76),draw:t(1836)}},4976:function(J,h,t){J.exports=t(8700),t(5168),t(7020),t(7411),t(5668),t(2787),t(2084),t(6368),t(4747),t(5616),t(632),t(3040),t(1104),t(9075),t(4592),t(5348)},7776:function(J,h,t){var f=t(4976),y=t(3400),i=t(9032),a=i.EPOCHJD,n=i.ONEDAY,r={valType:"enumerated",values:y.sortObjectKeys(f.calendars),editType:"calc",dflt:"gregorian"},o=function(d,T,w,k){var P={};return P[w]=r,y.coerce(d,T,P,w,k)},s="##",e={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:s,w:s,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},l={};function u(d){var T=l[d];return T||(l[d]=f.instance(d))}function m(d){return y.extendFlat({},r,{description:d})}function _(d){return"Sets the calendar system to use with `"+d+"` date data."}var p={xcalendar:m(_("x"))},v=y.extendFlat({},p,{ycalendar:m(_("y"))}),g=y.extendFlat({},v,{zcalendar:m(_("z"))}),b=m(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));J.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:v,bar:v,box:v,heatmap:v,contour:v,histogram:v,histogram2d:v,histogram2dcontour:v,scatter3d:g,surface:g,mesh3d:g,scattergl:v,ohlc:p,candlestick:p},layout:{calendar:m(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:b},yaxis:{calendar:b},scene:{xaxis:{calendar:b},yaxis:{calendar:b},zaxis:{calendar:b}},polar:{radialaxis:{calendar:b}}},transforms:{filter:{valuecalendar:m(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:m(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:r,handleDefaults:o,handleTraceDefaults:function(d,T,w,k){for(var P=0;P<w.length;P++)o(d,T,w[P]+"calendar",k.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:u,worldCalFmt:function(d,T,w){for(var k,P,A,L,I,x=Math.floor((T+.05)/n)+a,C=u(w).fromJD(x),F=0;(F=d.indexOf("%",F))!==-1;)(k=d.charAt(F+1))==="0"||k==="-"||k==="_"?(A=3,P=d.charAt(F+2),k==="_"&&(k="-")):(P=k,k="0",A=2),(L=e[P])?(I=L===s?s:C.formatDate(L[k]),d=d.substr(0,F)+I+d.substr(F+A),F+=I.length):F+=A;return d}}},2548:function(J,h){h.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],h.defaultLine="#444",h.lightLine="#eee",h.background="#fff",h.borderLine="#BEC8D9",h.lightFraction=90.9090909090909},6308:function(J,h,t){var f=t(9760),y=t(8248),i=t(8116).isTypedArray,a=J.exports={},n=t(2548);a.defaults=n.defaults;var r=a.defaultLine=n.defaultLine;a.lightLine=n.lightLine;var o=a.background=n.background;function s(e){if(y(e)||typeof e!="string")return e;var l=e.trim();if(l.substr(0,3)!=="rgb")return e;var u=l.match(/^rgba?\s*\(([^()]*)\)$/);if(!u)return e;var m=u[1].trim().split(/\s*[\s,]\s*/),_=l.charAt(3)==="a"&&m.length===4;if(!_&&m.length!==3)return e;for(var p=0;p<m.length;p++){if(!m[p].length||(m[p]=Number(m[p]),!(m[p]>=0)))return e;if(p===3)m[p]>1&&(m[p]=1);else if(m[p]>=1)return e}var v=Math.round(255*m[0])+", "+Math.round(255*m[1])+", "+Math.round(255*m[2]);return _?"rgba("+v+", "+m[3]+")":"rgb("+v+")"}a.tinyRGB=function(e){var l=e.toRgb();return"rgb("+Math.round(l.r)+", "+Math.round(l.g)+", "+Math.round(l.b)+")"},a.rgb=function(e){return a.tinyRGB(f(e))},a.opacity=function(e){return e?f(e).getAlpha():0},a.addOpacity=function(e,l){var u=f(e).toRgb();return"rgba("+Math.round(u.r)+", "+Math.round(u.g)+", "+Math.round(u.b)+", "+l+")"},a.combine=function(e,l){var u=f(e).toRgb();if(u.a===1)return f(e).toRgbString();var m=f(l||o).toRgb(),_=m.a===1?m:{r:255*(1-m.a)+m.r*m.a,g:255*(1-m.a)+m.g*m.a,b:255*(1-m.a)+m.b*m.a},p={r:_.r*(1-u.a)+u.r*u.a,g:_.g*(1-u.a)+u.g*u.a,b:_.b*(1-u.a)+u.b*u.a};return f(p).toRgbString()},a.interpolate=function(e,l,u){var m=f(e).toRgb(),_=f(l).toRgb(),p={r:u*m.r+(1-u)*_.r,g:u*m.g+(1-u)*_.g,b:u*m.b+(1-u)*_.b};return f(p).toRgbString()},a.contrast=function(e,l,u){var m=f(e);return m.getAlpha()!==1&&(m=f(a.combine(e,o))),(m.isDark()?l?m.lighten(l):o:u?m.darken(u):r).toString()},a.stroke=function(e,l){var u=f(l);e.style({stroke:a.tinyRGB(u),"stroke-opacity":u.getAlpha()})},a.fill=function(e,l){var u=f(l);e.style({fill:a.tinyRGB(u),"fill-opacity":u.getAlpha()})},a.clean=function(e){if(e&&typeof e=="object"){var l,u,m,_,p=Object.keys(e);for(l=0;l<p.length;l++)if(_=e[m=p[l]],m.substr(m.length-5)==="color")if(Array.isArray(_))for(u=0;u<_.length;u++)_[u]=s(_[u]);else e[m]=s(_);else if(m.substr(m.length-10)==="colorscale"&&Array.isArray(_))for(u=0;u<_.length;u++)Array.isArray(_[u])&&(_[u][1]=s(_[u][1]));else if(Array.isArray(_)){var v=_[0];if(!Array.isArray(v)&&v&&typeof v=="object")for(u=0;u<_.length;u++)a.clean(_[u])}else _&&typeof _=="object"&&!i(_)&&a.clean(_)}}},616:function(J,h,t){var f=t(4724),y=t(5376),i=t(2880).extendFlat,a=t(7824).overrideAll;J.exports=a({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:f.linecolor,outlinewidth:f.linewidth,bordercolor:f.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:f.minor.tickmode,nticks:f.nticks,tick0:f.tick0,dtick:f.dtick,tickvals:f.tickvals,ticktext:f.ticktext,ticks:i({},f.ticks,{dflt:""}),ticklabeloverflow:i({},f.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:f.ticklen,tickwidth:f.tickwidth,tickcolor:f.tickcolor,ticklabelstep:f.ticklabelstep,showticklabels:f.showticklabels,labelalias:f.labelalias,tickfont:y({}),tickangle:f.tickangle,tickformat:f.tickformat,tickformatstops:f.tickformatstops,tickprefix:f.tickprefix,showtickprefix:f.showtickprefix,ticksuffix:f.ticksuffix,showticksuffix:f.showticksuffix,separatethousands:f.separatethousands,exponentformat:f.exponentformat,minexponent:f.minexponent,showexponent:f.showexponent,title:{text:{valType:"string"},font:y({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:y({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},3964:function(J){J.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},4013:function(J,h,t){var f=t(3400),y=t(1780),i=t(6332),a=t(5404),n=t(5936),r=t(2568),o=t(616);J.exports=function(s,e,l){var u=y.newContainer(e,"colorbar"),m=s.colorbar||{};function _(z,H){return f.coerce(m,u,o,z,H)}var p=l.margin||{t:0,b:0,l:0,r:0},v=l.width-p.l-p.r,g=l.height-p.t-p.b,b=_("orientation")==="v",d=_("thicknessmode");_("thickness",d==="fraction"?30/(b?v:g):30);var T=_("lenmode");_("len",T==="fraction"?1:b?g:v);var w,k,P,A=_("yref")==="paper",L=_("xref")==="paper",I="left";b?(P="middle",I=L?"left":"right",w=L?1.02:1,k=.5):(P=A?"bottom":"top",I="center",w=.5,k=A?1.02:1),f.coerce(m,u,{x:{valType:"number",min:L?-2:0,max:L?3:1,dflt:w}},"x"),f.coerce(m,u,{y:{valType:"number",min:A?-2:0,max:A?3:1,dflt:k}},"y"),_("xanchor",I),_("xpad"),_("yanchor",P),_("ypad"),f.noneOrAll(m,u,["x","y"]),_("outlinecolor"),_("outlinewidth"),_("bordercolor"),_("borderwidth"),_("bgcolor");var x=f.coerce(m,u,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:b?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");_("ticklabeloverflow",x.indexOf("inside")!==-1?"hide past domain":"hide past div"),i(m,u,_,"linear");var C=l.font,F={noAutotickangles:!0,outerTicks:!1,font:C};x.indexOf("inside")!==-1&&(F.bgColor="black"),r(m,u,_,"linear",F),n(m,u,_,"linear",F),a(m,u,_,"linear",F),_("title.text",l._dfltTitle.colorbar);var N=u.showticklabels?u.tickfont:C,j=f.extendFlat({},N,{color:C.color,size:f.bigFont(N.size)});f.coerceFont(_,"title.font",j),_("title.side",b?"top":"right")}},7848:function(J,h,t){var f=t(3428),y=t(9760),i=t(7316),a=t(4040),n=t(4460),r=t(6476),o=t(3400),s=o.strTranslate,e=t(2880).extendFlat,l=t(3972),u=t(3616),m=t(6308),_=t(1668),p=t(2736),v=t(4288).flipScale,g=t(5955),b=t(7668),d=t(4724),T=t(4284),w=T.LINE_SPACING,k=T.FROM_TL,P=T.FROM_BR,A=t(3964).cn;J.exports={draw:function(L){var I=L._fullLayout._infolayer.selectAll("g."+A.colorbar).data(function(x){var C,F,N,j,z=x._fullLayout,H=x.calcdata,U=[];function it(Y){return e(Y,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function K(){typeof j.calc=="function"?j.calc(x,N,C):(C._fillgradient=F.reversescale?v(F.colorscale):F.colorscale,C._zrange=[F[j.min],F[j.max]])}for(var D=0;D<H.length;D++){var B=H[D];if((N=B[0].trace)._module){var q=N._module.colorbar;if(N.visible===!0&&q)for(var nt=Array.isArray(q),ot=nt?q:[q],rt=0;rt<ot.length;rt++){var $=(j=ot[rt]).container;(F=$?N[$]:N)&&F.showscale&&((C=it(F.colorbar))._id="cb"+N.uid+(nt&&$?"-"+$:""),C._traceIndex=N.index,C._propPrefix=($?$+".":"")+"colorbar.",C._meta=N._meta,K(),U.push(C))}}}for(var E in z._colorAxes)if((F=z[E]).showscale){var S=z._colorAxes[E];(C=it(F.colorbar))._id="cb"+E,C._propPrefix=E+".colorbar.",C._meta=z._meta,j={min:"cmin",max:"cmax"},S[0]!=="heatmap"&&(N=S[1],j.calc=N._module.colorbar.calc),K(),U.push(C)}return U}(L),function(x){return x._id});I.enter().append("g").attr("class",function(x){return x._id}).classed(A.colorbar,!0),I.each(function(x){var C=f.select(this);o.ensureSingle(C,"rect",A.cbbg),o.ensureSingle(C,"g",A.cbfills),o.ensureSingle(C,"g",A.cblines),o.ensureSingle(C,"g",A.cbaxis,function(N){N.classed(A.crisp,!0)}),o.ensureSingle(C,"g",A.cbtitleunshift,function(N){N.append("g").classed(A.cbtitle,!0)}),o.ensureSingle(C,"rect",A.cboutline);var F=function(N,j,z){var H=j.orientation==="v",U=j.len,it=j.lenmode,K=j.thickness,D=j.thicknessmode,B=j.outlinewidth,q=j.borderwidth,nt=j.bgcolor,ot=j.xanchor,rt=j.yanchor,$=j.xpad,E=j.ypad,S=j.x,Y=H?j.y:1-j.y,Z=j.yref==="paper",G=j.xref==="paper",Q=z._fullLayout,at=Q._size,tt=j._fillcolor,_t=j._line,Pt=j.title,kt=Pt.side,lt=j._zrange||f.extent((typeof tt=="function"?tt:_t.color).domain()),st=typeof _t.color=="function"?_t.color:function(){return _t.color},ht=typeof tt=="function"?tt:function(){return tt},bt=j._levels,pt=function(_e,ce,Me){var te,X,et=ce._levels,It=[],Ct=[],Ut=et.end+et.size/100,Rt=et.size,Ht=1.001*Me[0]-.001*Me[1],Zt=1.001*Me[1]-.001*Me[0];for(X=0;X<1e5&&(te=et.start+X*Rt,!(Rt>0?te>=Ut:te<=Ut));X++)te>Ht&&te<Zt&&It.push(te);if(ce._fillgradient)Ct=[0];else if(typeof ce._fillcolor=="function"){var Kt=ce._filllevels;if(Kt)for(Ut=Kt.end+Kt.size/100,Rt=Kt.size,X=0;X<1e5&&(te=Kt.start+X*Rt,!(Rt>0?te>=Ut:te<=Ut));X++)te>Me[0]&&te<Me[1]&&Ct.push(te);else(Ct=It.map(function(oe){return oe-et.size/2})).push(Ct[Ct.length-1]+et.size)}else ce._fillcolor&&typeof ce._fillcolor=="string"&&(Ct=[0]);return et.size<0&&(It.reverse(),Ct.reverse()),{line:It,fill:Ct}}(0,j,lt),Dt=pt.fill,qt=pt.line,ct=Math.round(K*(D==="fraction"?H?at.w:at.h:1)),xt=ct/(H?at.w:at.h),dt=Math.round(U*(it==="fraction"?H?at.h:at.w:1)),vt=dt/(H?at.h:at.w),yt=G?at.w:z._fullLayout.width,Mt=Z?at.h:z._fullLayout.height,Tt=Math.round(H?S*yt+$:Y*Mt+E),Lt={center:.5,right:1}[ot]||0,St={top:1,middle:.5}[rt]||0,At=H?S-Lt*xt:Y-St*xt,Nt=H?Y-St*vt:S-Lt*vt,zt=Math.round(H?Mt*(1-Nt):yt*Nt);j._lenFrac=vt,j._thickFrac=xt,j._uFrac=At,j._vFrac=Nt;var Ft=j._axis=function(_e,ce,Me){var te=_e._fullLayout,X=ce.orientation==="v",et={type:"linear",range:Me,tickmode:ce.tickmode,nticks:ce.nticks,tick0:ce.tick0,dtick:ce.dtick,tickvals:ce.tickvals,ticktext:ce.ticktext,ticks:ce.ticks,ticklen:ce.ticklen,tickwidth:ce.tickwidth,tickcolor:ce.tickcolor,showticklabels:ce.showticklabels,labelalias:ce.labelalias,ticklabelposition:ce.ticklabelposition,ticklabeloverflow:ce.ticklabeloverflow,ticklabelstep:ce.ticklabelstep,tickfont:ce.tickfont,tickangle:ce.tickangle,tickformat:ce.tickformat,exponentformat:ce.exponentformat,minexponent:ce.minexponent,separatethousands:ce.separatethousands,showexponent:ce.showexponent,showtickprefix:ce.showtickprefix,tickprefix:ce.tickprefix,showticksuffix:ce.showticksuffix,ticksuffix:ce.ticksuffix,title:ce.title,showline:!0,anchor:"free",side:X?"right":"bottom",position:1},It=X?"y":"x",Ct={type:"linear",_id:It+ce._id},Ut={letter:It,font:te.font,noAutotickangles:It==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:te.calendar};function Rt(Ht,Zt){return o.coerce(et,Ct,d,Ht,Zt)}return g(et,Ct,Rt,Ut,te),b(et,Ct,Rt,Ut),Ct}(z,j,lt);Ft.position=xt+(H?S+$/at.w:Y+E/at.h);var Gt=["top","bottom"].indexOf(kt)!==-1;if(H&&Gt&&(Ft.title.side=kt,Ft.titlex=S+$/at.w,Ft.titley=Nt+(Pt.side==="top"?vt-E/at.h:E/at.h)),H||Gt||(Ft.title.side=kt,Ft.titley=Y+E/at.h,Ft.titlex=Nt+$/at.w),_t.color&&j.tickmode==="auto"){Ft.tickmode="linear",Ft.tick0=bt.start;var Bt=bt.size,de=o.constrain(dt/50,4,15)+1,ie=(lt[1]-lt[0])/((j.nticks||de)*Bt);if(ie>1){var pe=Math.pow(10,Math.floor(Math.log(ie)/Math.LN10));Bt*=pe*o.roundUp(ie/pe,[2,5,10]),(Math.abs(bt.start)/bt.size+1e-6)%1<2e-6&&(Ft.tick0=0)}Ft.dtick=Bt}Ft.domain=H?[Nt+E/at.h,Nt+vt-E/at.h]:[Nt+$/at.w,Nt+vt-$/at.w],Ft.setScale(),N.attr("transform",s(Math.round(at.l),Math.round(at.t)));var Ot,gt=N.select("."+A.cbtitleunshift).attr("transform",s(-Math.round(at.l),-Math.round(at.t))),jt=Ft.ticklabelposition,Xt=Ft.title.font.size,xe=N.select("."+A.cbaxis),Vt=0,Qt=0;function re(_e,ce){var Me={propContainer:Ft,propName:j._propPrefix+"title",traceIndex:j._traceIndex,_meta:j._meta,placeholder:Q._dfltTitle.colorbar,containerGroup:N.select("."+A.cbtitle)},te=_e.charAt(0)==="h"?_e.substr(1):"h"+_e;N.selectAll("."+te+",."+te+"-math-group").remove(),_.draw(z,_e,e(Me,ce||{}))}return o.syncOrAsync([i.previousPromises,function(){var _e,ce;(H&&Gt||!H&&!Gt)&&(kt==="top"&&(_e=$+at.l+yt*S,ce=E+at.t+Mt*(1-Nt-vt)+3+.75*Xt),kt==="bottom"&&(_e=$+at.l+yt*S,ce=E+at.t+Mt*(1-Nt)-3-.25*Xt),kt==="right"&&(ce=E+at.t+Mt*Y+3+.75*Xt,_e=$+at.l+yt*Nt),re(Ft._id+"title",{attributes:{x:_e,y:ce,"text-anchor":H?"start":"middle"}}))},function(){if(!H&&!Gt||H&&Gt){var _e,ce=N.select("."+A.cbtitle),Me=ce.select("text"),te=[-B/2,B/2],X=ce.select(".h"+Ft._id+"title-math-group").node(),et=15.6;if(Me.node()&&(et=parseInt(Me.node().style.fontSize,10)*w),X?(_e=u.bBox(X),Qt=_e.width,(Vt=_e.height)>et&&(te[1]-=(Vt-et)/2)):Me.node()&&!Me.classed(A.jsPlaceholder)&&(_e=u.bBox(Me.node()),Qt=_e.width,Vt=_e.height),H){if(Vt){if(Vt+=5,kt==="top")Ft.domain[1]-=Vt/at.h,te[1]*=-1;else{Ft.domain[0]+=Vt/at.h;var It=p.lineCount(Me);te[1]+=(1-It)*et}ce.attr("transform",s(te[0],te[1])),Ft.setScale()}}else Qt&&(kt==="right"&&(Ft.domain[0]+=(Qt+Xt/2)/at.w),ce.attr("transform",s(te[0],te[1])),Ft.setScale())}N.selectAll("."+A.cbfills+",."+A.cblines).attr("transform",H?s(0,Math.round(at.h*(1-Ft.domain[1]))):s(Math.round(at.w*Ft.domain[0]),0)),xe.attr("transform",H?s(0,Math.round(-at.t)):s(Math.round(-at.l),0));var Ct=N.select("."+A.cbfills).selectAll("rect."+A.cbfill).attr("style","").data(Dt);Ct.enter().append("rect").classed(A.cbfill,!0).attr("style",""),Ct.exit().remove();var Ut=lt.map(Ft.c2p).map(Math.round).sort(function(oe,ue){return oe-ue});Ct.each(function(oe,ue){var Se=[ue===0?lt[0]:(Dt[ue]+Dt[ue-1])/2,ue===Dt.length-1?lt[1]:(Dt[ue]+Dt[ue+1])/2].map(Ft.c2p).map(Math.round);H&&(Se[1]=o.constrain(Se[1]+(Se[1]>Se[0])?1:-1,Ut[0],Ut[1]));var he=f.select(this).attr(H?"x":"y",Tt).attr(H?"y":"x",f.min(Se)).attr(H?"width":"height",Math.max(ct,2)).attr(H?"height":"width",Math.max(f.max(Se)-f.min(Se),2));if(j._fillgradient)u.gradient(he,z,j._id,H?"vertical":"horizontalreversed",j._fillgradient,"fill");else{var ve=ht(oe).replace("e-","");he.attr("fill",y(ve).toHexString())}});var Rt=N.select("."+A.cblines).selectAll("path."+A.cbline).data(_t.color&&_t.width?qt:[]);Rt.enter().append("path").classed(A.cbline,!0),Rt.exit().remove(),Rt.each(function(oe){var ue=Tt,Se=Math.round(Ft.c2p(oe))+_t.width/2%1;f.select(this).attr("d","M"+(H?ue+","+Se:Se+","+ue)+(H?"h":"v")+ct).call(u.lineGroupStyle,_t.width,st(oe),_t.dash)}),xe.selectAll("g."+Ft._id+"tick,path").remove();var Ht=Tt+ct+(B||0)/2-(j.ticks==="outside"?1:0),Zt=n.calcTicks(Ft),Kt=n.getTickSigns(Ft)[2];return n.drawTicks(z,Ft,{vals:Ft.ticks==="inside"?n.clipEnds(Ft,Zt):Zt,layer:xe,path:n.makeTickPath(Ft,Ht,Kt),transFn:n.makeTransTickFn(Ft)}),n.drawLabels(z,Ft,{vals:Zt,layer:xe,transFn:n.makeTransTickLabelFn(Ft),labelFns:n.makeLabelFns(Ft,Ht)})},function(){if(H&&!Gt||!H&&Gt){var _e,ce,Me=Ft.position||0,te=Ft._offset+Ft._length/2;if(kt==="right")ce=te,_e=at.l+yt*Me+10+Xt*(Ft.showticklabels?1:.5);else if(_e=te,kt==="bottom"&&(ce=at.t+Mt*Me+10+(jt.indexOf("inside")===-1?Ft.tickfont.size:0)+(Ft.ticks!=="intside"&&j.ticklen||0)),kt==="top"){var X=Pt.text.split("<br>").length;ce=at.t+Mt*Me+10-ct-w*Xt*X}re((H?"h":"v")+Ft._id+"title",{avoid:{selection:f.select(z).selectAll("g."+Ft._id+"tick"),side:kt,offsetTop:H?0:at.t,offsetLeft:H?at.l:0,maxShift:H?Q.width:Q.height},attributes:{x:_e,y:ce,"text-anchor":"middle"},transform:{rotate:H?-90:0,offset:0}})}},i.previousPromises,function(){var _e,ce=ct+B/2;jt.indexOf("inside")===-1&&(_e=u.bBox(xe.node()),ce+=H?_e.width:_e.height),Ot=gt.select("text");var Me=0,te=H&&kt==="top",X=!H&&kt==="right",et=0;if(Ot.node()&&!Ot.classed(A.jsPlaceholder)){var It,Ct=gt.select(".h"+Ft._id+"title-math-group").node();Ct&&(H&&Gt||!H&&!Gt)?(Me=(_e=u.bBox(Ct)).width,It=_e.height):(Me=(_e=u.bBox(gt.node())).right-at.l-(H?Tt:zt),It=_e.bottom-at.t-(H?zt:Tt),H||kt!=="top"||(ce+=_e.height,et=_e.height)),X&&(Ot.attr("transform",s(Me/2+Xt/2,0)),Me*=2),ce=Math.max(ce,H?Me:It)}var Ut=2*(H?$:E)+ce+q+B/2,Rt=0;!H&&Pt.text&&rt==="bottom"&&Y<=0&&(Ut+=Rt=Ut/2,et+=Rt),Q._hColorbarMoveTitle=Rt,Q._hColorbarMoveCBTitle=et;var Ht=q+B,Zt=(H?Tt:zt)-Ht/2-(H?$:0),Kt=(H?zt:Tt)-(H?dt:E+et-Rt);N.select("."+A.cbbg).attr("x",Zt).attr("y",Kt).attr(H?"width":"height",Math.max(Ut-Rt,2)).attr(H?"height":"width",Math.max(dt+Ht,2)).call(m.fill,nt).call(m.stroke,j.bordercolor).style("stroke-width",q);var oe=X?Math.max(Me-10,0):0;N.selectAll("."+A.cboutline).attr("x",(H?Tt:zt+$)+oe).attr("y",(H?zt+E-dt:Tt)+(te?Vt:0)).attr(H?"width":"height",Math.max(ct,2)).attr(H?"height":"width",Math.max(dt-(H?2*E+Vt:2*$+oe),2)).call(m.stroke,j.outlinecolor).style({fill:"none","stroke-width":B});var ue=H?Lt*Ut:0,Se=H?0:(1-St)*Ut-et;if(ue=G?at.l-ue:-ue,Se=Z?at.t-Se:-Se,N.attr("transform",s(ue,Se)),!H&&(q||y(nt).getAlpha()&&!y.equals(Q.paper_bgcolor,nt))){var he=xe.selectAll("text"),ve=he[0].length,ke=N.select("."+A.cbbg).node(),Ae=u.bBox(ke),ee=u.getTranslate(N);he.each(function(Le,Oe){var Ee=ve-1;if(Oe===0||Oe===Ee){var He,ze=u.bBox(this),Ne=u.getTranslate(this);if(Oe===Ee){var Ye=ze.right+Ne.x;(He=Ae.right+ee.x+zt-q-2+S-Ye)>0&&(He=0)}else if(Oe===0){var Ze=ze.left+Ne.x;(He=Ae.left+ee.x+zt+q+2-Ze)<0&&(He=0)}He&&(ve<3?this.setAttribute("transform","translate("+He+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var fe={},ge=k[ot],je=P[ot],Ie=k[rt],Fe=P[rt],ye=Ut-ct;H?(it==="pixels"?(fe.y=Y,fe.t=dt*Ie,fe.b=dt*Fe):(fe.t=fe.b=0,fe.yt=Y+U*Ie,fe.yb=Y-U*Fe),D==="pixels"?(fe.x=S,fe.l=Ut*ge,fe.r=Ut*je):(fe.l=ye*ge,fe.r=ye*je,fe.xl=S-K*ge,fe.xr=S+K*je)):(it==="pixels"?(fe.x=S,fe.l=dt*ge,fe.r=dt*je):(fe.l=fe.r=0,fe.xl=S+U*ge,fe.xr=S-U*je),D==="pixels"?(fe.y=1-Y,fe.t=Ut*Ie,fe.b=Ut*Fe):(fe.t=ye*Ie,fe.b=ye*Fe,fe.yt=Y-K*Ie,fe.yb=Y+K*Fe));var be=j.y<.5?"b":"t",Te=j.x<.5?"l":"r";z._fullLayout._reservedMargin[j._id]={};var Pe={r:Q.width-Zt-ue,l:Zt+fe.r,b:Q.height-Kt-Se,t:Kt+fe.b};G&&Z?i.autoMargin(z,j._id,fe):G?z._fullLayout._reservedMargin[j._id][be]=Pe[be]:Z||H?z._fullLayout._reservedMargin[j._id][Te]=Pe[Te]:z._fullLayout._reservedMargin[j._id][be]=Pe[be]}],z)}(C,x,L);F&&F.then&&(L._promises||[]).push(F),L._context.edits.colorbarPosition&&function(N,j,z){var H,U,it,K=j.orientation==="v",D=z._fullLayout._size;r.init({element:N.node(),gd:z,prepFn:function(){H=N.attr("transform"),l(N)},moveFn:function(B,q){N.attr("transform",H+s(B,q)),U=r.align((K?j._uFrac:j._vFrac)+B/D.w,K?j._thickFrac:j._lenFrac,0,1,j.xanchor),it=r.align((K?j._vFrac:1-j._uFrac)-q/D.h,K?j._lenFrac:j._thickFrac,0,1,j.yanchor);var nt=r.getCursor(U,it,j.xanchor,j.yanchor);l(N,nt)},doneFn:function(){if(l(N),U!==void 0&&it!==void 0){var B={};B[j._propPrefix+"x"]=U,B[j._propPrefix+"y"]=it,j._traceIndex!==void 0?a.call("_guiRestyle",z,B,j._traceIndex):a.call("_guiRelayout",z,B)}}})}(C,x,L)}),I.exit().each(function(x){i.autoMargin(L,x._id)}).remove(),I.order()}}},553:function(J,h,t){var f=t(3400);J.exports=function(y){return f.isPlainObject(y.colorbar)}},5080:function(J,h,t){J.exports={moduleType:"component",name:"colorbar",attributes:t(616),supplyDefaults:t(4013),draw:t(7848).draw,hasColorbar:t(553)}},9084:function(J,h,t){var f=t(616),y=t(3756).counter,i=t(2996),a=t(8304).scales;function n(r){return"`"+r+"`"}i(a),J.exports=function(r,o){r=r||"";var s,e=(o=o||{}).cLetter||"c",l=("onlyIfNumerical"in o&&o.onlyIfNumerical,"noScale"in o?o.noScale:r==="marker.line"),u="showScaleDflt"in o?o.showScaleDflt:e==="z",m=typeof o.colorscaleDflt=="string"?a[o.colorscaleDflt]:null,_=o.editTypeOverride||"",p=r?r+".":"";"colorAttr"in o?(s=o.colorAttr,o.colorAttr):n(p+(s={z:"z",c:"color"}[e]));var v=e+"auto",g=e+"min",b=e+"max",d=e+"mid",T={};T[g]=T[b]=void 0;var w={};w[v]=!1;var k={};return s==="color"&&(k.color={valType:"color",arrayOk:!0,editType:_||"style"},o.anim&&(k.color.anim=!0)),k[v]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:T},k[g]={valType:"number",dflt:null,editType:_||"plot",impliedEdits:w},k[b]={valType:"number",dflt:null,editType:_||"plot",impliedEdits:w},k[d]={valType:"number",dflt:null,editType:"calc",impliedEdits:T},k.colorscale={valType:"colorscale",editType:"calc",dflt:m,impliedEdits:{autocolorscale:!1}},k.autocolorscale={valType:"boolean",dflt:o.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},k.reversescale={valType:"boolean",dflt:!1,editType:"plot"},l||(k.showscale={valType:"boolean",dflt:u,editType:"calc"},k.colorbar=f),o.noColorAxis||(k.coloraxis={valType:"subplotid",regex:y("coloraxis"),dflt:null,editType:"calc"}),k}},7128:function(J,h,t){var f=t(8248),y=t(3400),i=t(4288).extractOpts;J.exports=function(a,n,r){var o,s=a._fullLayout,e=r.vals,l=r.containerStr,u=l?y.nestedProperty(n,l).get():n,m=i(u),_=m.auto!==!1,p=m.min,v=m.max,g=m.mid,b=function(){return y.aggNums(Math.min,null,e)},d=function(){return y.aggNums(Math.max,null,e)};p===void 0?p=b():_&&(p=u._colorAx&&f(p)?Math.min(p,b()):b()),v===void 0?v=d():_&&(v=u._colorAx&&f(v)?Math.max(v,d()):d()),_&&g!==void 0&&(v-g>g-p?p=g-(v-g):v-g<g-p&&(v=g+(g-p))),p===v&&(p-=.5,v+=.5),m._sync("min",p),m._sync("max",v),m.autocolorscale&&(o=p*v<0?s.colorscale.diverging:p>=0?s.colorscale.sequential:s.colorscale.sequentialminus,m._sync("colorscale",o))}},5504:function(J,h,t){var f=t(3400),y=t(4288).hasColorscale,i=t(4288).extractOpts;J.exports=function(a,n){function r(_,p){var v=_["_"+p];v!==void 0&&(_[p]=v)}function o(_,p){var v=p.container?f.nestedProperty(_,p.container).get():_;if(v)if(v.coloraxis)v._colorAx=n[v.coloraxis];else{var g=i(v),b=g.auto;(b||g.min===void 0)&&r(v,p.min),(b||g.max===void 0)&&r(v,p.max),g.autocolorscale&&r(v,"colorscale")}}for(var s=0;s<a.length;s++){var e=a[s],l=e._module.colorbar;if(l)if(Array.isArray(l))for(var u=0;u<l.length;u++)o(e,l[u]);else o(e,l);y(e,"marker.line")&&o(e,{container:"marker.line",min:"cmin",max:"cmax"})}for(var m in n._colorAxes)o(n[m],{min:"cmin",max:"cmax"})}},7260:function(J,h,t){var f=t(8248),y=t(3400),i=t(553),a=t(4013),n=t(8304).isValid,r=t(4040).traceIs;function o(s,e){var l=e.slice(0,e.length-1);return e?y.nestedProperty(s,l).get()||{}:s}J.exports=function s(e,l,u,m,_){var p=_.prefix,v=_.cLetter,g="_module"in l,b=o(e,p),d=o(l,p),T=o(l._template||{},p)||{},w=function(){return delete e.coloraxis,delete l.coloraxis,s(e,l,u,m,_)};if(g){var k=u._colorAxes||{},P=m(p+"coloraxis");if(P){var A=r(l,"contour")&&y.nestedProperty(l,"contours.coloring").get()||"heatmap",L=k[P];return void(L?(L[2].push(w),L[0]!==A&&(L[0]=!1,y.warn(["Ignoring coloraxis:",P,"setting","as it is linked to incompatible colorscales."].join(" ")))):k[P]=[A,l,[w]])}}var I=b[v+"min"],x=b[v+"max"],C=f(I)&&f(x)&&I<x;m(p+v+"auto",!C)?m(p+v+"mid"):(m(p+v+"min"),m(p+v+"max"));var F,N,j=b.colorscale,z=T.colorscale;j!==void 0&&(F=!n(j)),z!==void 0&&(F=!n(z)),m(p+"autocolorscale",F),m(p+"colorscale"),m(p+"reversescale"),p!=="marker.line."&&(p&&g&&(N=i(b)),m(p+"showscale",N)&&(p&&T&&(d._template=T),a(b,d,u)))}},4288:function(J,h,t){var f=t(3428),y=t(9760),i=t(8248),a=t(3400),n=t(6308),r=t(8304).isValid,o=["showscale","autocolorscale","colorscale","reversescale","colorbar"],s=["min","max","mid","auto"];function e(p){var v,g,b,d=p._colorAx,T=d||p,w={};for(g=0;g<o.length;g++)w[b=o[g]]=T[b];if(d)for(v="c",g=0;g<s.length;g++)w[b=s[g]]=T["c"+b];else{var k;for(g=0;g<s.length;g++)((k="c"+(b=s[g]))in T||(k="z"+b)in T)&&(w[b]=T[k]);v=k.charAt(0)}return w._sync=function(P,A){var L=s.indexOf(P)!==-1?v+P:P;T[L]=T["_"+L]=A},w}function l(p){for(var v=e(p),g=v.min,b=v.max,d=v.reversescale?u(v.colorscale):v.colorscale,T=d.length,w=new Array(T),k=new Array(T),P=0;P<T;P++){var A=d[P];w[P]=g+A[0]*(b-g),k[P]=A[1]}return{domain:w,range:k}}function u(p){for(var v=p.length,g=new Array(v),b=v-1,d=0;b>=0;b--,d++){var T=p[b];g[d]=[1-T[0],T[1]]}return g}function m(p,v){v=v||{};for(var g=p.domain,b=p.range,d=b.length,T=new Array(d),w=0;w<d;w++){var k=y(b[w]).toRgb();T[w]=[k.r,k.g,k.b,k.a]}var P,A=f.scale.linear().domain(g).range(T).clamp(!0),L=v.noNumericCheck,I=v.returnArray;return(P=L&&I?A:L?function(x){return _(A(x))}:I?function(x){return i(x)?A(x):y(x).isValid()?x:n.defaultLine}:function(x){return i(x)?_(A(x)):y(x).isValid()?x:n.defaultLine}).domain=A.domain,P.range=function(){return b},P}function _(p){var v={r:p[0],g:p[1],b:p[2],a:p[3]};return y(v).toRgbString()}J.exports={hasColorscale:function(p,v,g){var b=v?a.nestedProperty(p,v).get()||{}:p,d=b[g||"color"];d&&d._inputArray&&(d=d._inputArray);var T=!1;if(a.isArrayOrTypedArray(d)){for(var w=0;w<d.length;w++)if(i(d[w])){T=!0;break}}return a.isPlainObject(b)&&(T||b.showscale===!0||i(b.cmin)&&i(b.cmax)||r(b.colorscale)||a.isPlainObject(b.colorbar))},extractOpts:e,extractScale:l,flipScale:u,makeColorScaleFunc:m,makeColorScaleFuncFromTrace:function(p,v){return m(l(p),v)}}},8932:function(J,h,t){var f=t(8304),y=t(4288);J.exports={moduleType:"component",name:"colorscale",attributes:t(9084),layoutAttributes:t(2332),supplyLayoutDefaults:t(1608),handleDefaults:t(7260),crossTraceDefaults:t(5504),calc:t(7128),scales:f.scales,defaultScale:f.defaultScale,getScale:f.get,isValidScale:f.isValid,hasColorscale:y.hasColorscale,extractOpts:y.extractOpts,extractScale:y.extractScale,flipScale:y.flipScale,makeColorScaleFunc:y.makeColorScaleFunc,makeColorScaleFuncFromTrace:y.makeColorScaleFuncFromTrace}},2332:function(J,h,t){var f=t(2880).extendFlat,y=t(9084),i=t(8304).scales;J.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:i.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:i.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:i.RdBu,editType:"calc"}},coloraxis:f({_isSubplotObj:!0,editType:"calc"},y("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},1608:function(J,h,t){var f=t(3400),y=t(1780),i=t(2332),a=t(7260);J.exports=function(n,r){function o(v,g){return f.coerce(n,r,i,v,g)}o("colorscale.sequential"),o("colorscale.sequentialminus"),o("colorscale.diverging");var s,e,l=r._colorAxes;function u(v,g){return f.coerce(s,e,i.coloraxis,v,g)}for(var m in l){var _=l[m];if(_[0])s=n[m]||{},(e=y.newContainer(r,m,"coloraxis"))._name=m,a(s,e,r,u,{prefix:"",cLetter:"c"});else{for(var p=0;p<_[2].length;p++)_[2][p]();delete r._colorAxes[m]}}}},8304:function(J,h,t){var f=t(9760),y={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},i=y.RdBu;function a(n){var r=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var o=0;o<n.length;o++){var s=n[o];if(s.length!==2||+s[0]<r||!f(s[1]).isValid())return!1;r=+s[0]}return!0}J.exports={scales:y,defaultScale:i,get:function(n,r){if(r||(r=i),!n)return r;function o(){try{n=y[n]||JSON.parse(n)}catch{n=r}}return typeof n=="string"&&(o(),typeof n=="string"&&o()),a(n)?n:r},isValid:function(n){return y[n]!==void 0||a(n)}}},8316:function(J){J.exports=function(h,t,f,y,i){var a=(h-f)/(y-f),n=a+t/(y-f),r=(a+n)/2;return i==="left"||i==="bottom"?a:i==="center"||i==="middle"?r:i==="right"||i==="top"?n:a<.6666666666666666-r?a:n>1.3333333333333333-r?n:r}},7416:function(J,h,t){var f=t(3400),y=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];J.exports=function(i,a,n,r){return i=n==="left"?0:n==="center"?1:n==="right"?2:f.constrain(Math.floor(3*i),0,2),a=r==="bottom"?0:r==="middle"?1:r==="top"?2:f.constrain(Math.floor(3*a),0,2),y[a][i]}},2760:function(J,h){h.selectMode=function(t){return t==="lasso"||t==="select"},h.drawMode=function(t){return t==="drawclosedpath"||t==="drawopenpath"||t==="drawline"||t==="drawrect"||t==="drawcircle"},h.openMode=function(t){return t==="drawline"||t==="drawopenpath"},h.rectMode=function(t){return t==="select"||t==="drawline"||t==="drawrect"||t==="drawcircle"},h.freeMode=function(t){return t==="lasso"||t==="drawclosedpath"||t==="drawopenpath"},h.selectingOrDrawing=function(t){return h.freeMode(t)||h.rectMode(t)}},6476:function(J,h,t){var f=t(9128),y=t(2264),i=t(9184),a=t(3400).removeElement,n=t(3816),r=J.exports={};r.align=t(8316),r.getCursor=t(7416);var o=t(2616);function s(){var l=document.createElement("div");l.className="dragcover";var u=l.style;return u.position="fixed",u.left=0,u.right=0,u.top=0,u.bottom=0,u.zIndex=999999999,u.background="none",document.body.appendChild(l),l}function e(l){return f(l.changedTouches?l.changedTouches[0]:l,document.body)}r.unhover=o.wrapped,r.unhoverRaw=o.raw,r.init=function(l){var u,m,_,p,v,g,b,d,T=l.gd,w=1,k=T._context.doubleClickDelay,P=l.element;T._mouseDownTime||(T._mouseDownTime=0),P.style.pointerEvents="all",P.onmousedown=L,i?(P._ontouchstart&&P.removeEventListener("touchstart",P._ontouchstart),P._ontouchstart=L,P.addEventListener("touchstart",L,{passive:!1})):P.ontouchstart=L;var A=l.clampFn||function(C,F,N){return Math.abs(C)<N&&(C=0),Math.abs(F)<N&&(F=0),[C,F]};function L(C){T._dragged=!1,T._dragging=!0;var F=e(C);u=F[0],m=F[1],b=C.target,g=C,d=C.buttons===2||C.ctrlKey,C.clientX===void 0&&C.clientY===void 0&&(C.clientX=u,C.clientY=m),(_=new Date().getTime())-T._mouseDownTime<k?w+=1:(w=1,T._mouseDownTime=_),l.prepFn&&l.prepFn(C,u,m),y&&!d?(v=s()).style.cursor=window.getComputedStyle(P).cursor:y||(v=document,p=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(P).cursor),document.addEventListener("mouseup",x),document.addEventListener("touchend",x),l.dragmode!==!1&&(C.preventDefault(),document.addEventListener("mousemove",I),document.addEventListener("touchmove",I,{passive:!1}))}function I(C){C.preventDefault();var F=e(C),N=l.minDrag||n.MINDRAG,j=A(F[0]-u,F[1]-m,N),z=j[0],H=j[1];(z||H)&&(T._dragged=!0,r.unhover(T,C)),T._dragged&&l.moveFn&&!d&&(T._dragdata={element:P,dx:z,dy:H},l.moveFn(z,H))}function x(C){if(delete T._dragdata,l.dragmode!==!1&&(C.preventDefault(),document.removeEventListener("mousemove",I),document.removeEventListener("touchmove",I)),document.removeEventListener("mouseup",x),document.removeEventListener("touchend",x),y?a(v):p&&(v.documentElement.style.cursor=p,p=null),T._dragging){if(T._dragging=!1,new Date().getTime()-T._mouseDownTime>k&&(w=Math.max(w-1,1)),T._dragged)l.doneFn&&l.doneFn();else if(l.clickFn&&l.clickFn(w,g),!d){var F;try{F=new MouseEvent("click",C)}catch{var N=e(C);(F=document.createEvent("MouseEvents")).initMouseEvent("click",C.bubbles,C.cancelable,C.view,C.detail,C.screenX,C.screenY,N[0],N[1],C.ctrlKey,C.altKey,C.shiftKey,C.metaKey,C.button,C.relatedTarget)}b.dispatchEvent(F)}T._dragging=!1,T._dragged=!1}else T._dragged=!1}},r.coverSlip=s},2616:function(J,h,t){var f=t(5924),y=t(1200),i=t(2200).getGraphDiv,a=t(2456),n=J.exports={};n.wrapped=function(r,o,s){(r=i(r))._fullLayout&&y.clear(r._fullLayout._uid+a.HOVERID),n.raw(r,o,s)},n.raw=function(r,o){var s=r._fullLayout,e=r._hoverdata;o||(o={}),o.target&&!r._dragged&&f.triggerHandler(r,"plotly_beforehover",o)===!1||(s._hoverlayer.selectAll("g").remove(),s._hoverlayer.selectAll("line").remove(),s._hoverlayer.selectAll("circle").remove(),r._hoverdata=void 0,o.target&&e&&r.emit("plotly_unhover",{event:o,points:e}))}},8192:function(J,h){h.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},h.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},3616:function(J,h,t){var f=t(3428),y=t(3400),i=y.numberFormat,a=t(8248),n=t(9760),r=t(4040),o=t(6308),s=t(8932),e=y.strTranslate,l=t(2736),u=t(9616),m=t(4284).LINE_SPACING,_=t(3448).DESELECTDIM,p=t(3028),v=t(7152),g=t(624).appendArrayPointValue,b=J.exports={};function d(lt,st,ht,bt){var pt=st.fillpattern,Dt=st.fillgradient,qt=pt&&b.getPatternAttr(pt.shape,0,"");if(qt){var ct=b.getPatternAttr(pt.bgcolor,0,null),xt=b.getPatternAttr(pt.fgcolor,0,null),dt=pt.fgopacity,vt=b.getPatternAttr(pt.size,0,8),yt=b.getPatternAttr(pt.solidity,0,.3),Mt=st.uid;b.pattern(lt,"point",ht,Mt,qt,vt,yt,void 0,pt.fillmode,ct,xt,dt)}else if(Dt&&Dt.type!=="none"){var Tt,Lt,St=Dt.type,At="scatterfill-"+st.uid;bt&&(At="legendfill-"+st.uid),bt||Dt.start===void 0&&Dt.stop===void 0?(St==="horizontal"&&(St+="reversed"),lt.call(b.gradient,ht,At,St,Dt.colorscale,"fill")):(St==="horizontal"?(Tt={x:Dt.start,y:0},Lt={x:Dt.stop,y:0}):St==="vertical"&&(Tt={x:0,y:Dt.start},Lt={x:0,y:Dt.stop}),Tt.x=st._xA.c2p(Tt.x===void 0?st._extremes.x.min[0].val:Tt.x,!0),Tt.y=st._yA.c2p(Tt.y===void 0?st._extremes.y.min[0].val:Tt.y,!0),Lt.x=st._xA.c2p(Lt.x===void 0?st._extremes.x.max[0].val:Lt.x,!0),Lt.y=st._yA.c2p(Lt.y===void 0?st._extremes.y.max[0].val:Lt.y,!0),lt.call(L,ht,At,"linear",Dt.colorscale,"fill",Tt,Lt,!0,!1))}else st.fillcolor&&lt.call(o.fill,st.fillcolor)}b.font=function(lt,st,ht,bt){y.isPlainObject(st)&&(bt=st.color,ht=st.size,st=st.family),st&&lt.style("font-family",st),ht+1&&lt.style("font-size",ht+"px"),bt&&lt.call(o.fill,bt)},b.setPosition=function(lt,st,ht){lt.attr("x",st).attr("y",ht)},b.setSize=function(lt,st,ht){lt.attr("width",st).attr("height",ht)},b.setRect=function(lt,st,ht,bt,pt){lt.call(b.setPosition,st,ht).call(b.setSize,bt,pt)},b.translatePoint=function(lt,st,ht,bt){var pt=ht.c2p(lt.x),Dt=bt.c2p(lt.y);return!!(a(pt)&&a(Dt)&&st.node())&&(st.node().nodeName==="text"?st.attr("x",pt).attr("y",Dt):st.attr("transform",e(pt,Dt)),!0)},b.translatePoints=function(lt,st,ht){lt.each(function(bt){var pt=f.select(this);b.translatePoint(bt,pt,st,ht)})},b.hideOutsideRangePoint=function(lt,st,ht,bt,pt,Dt){st.attr("display",ht.isPtWithinRange(lt,pt)&&bt.isPtWithinRange(lt,Dt)?null:"none")},b.hideOutsideRangePoints=function(lt,st){if(st._hasClipOnAxisFalse){var ht=st.xaxis,bt=st.yaxis;lt.each(function(pt){var Dt=pt[0].trace,qt=Dt.xcalendar,ct=Dt.ycalendar,xt=r.traceIs(Dt,"bar-like")?".bartext":".point,.textpoint";lt.selectAll(xt).each(function(dt){b.hideOutsideRangePoint(dt,f.select(this),ht,bt,qt,ct)})})}},b.crispRound=function(lt,st,ht){return st&&a(st)?lt._context.staticPlot?st:st<1?1:Math.round(st):ht||0},b.singleLineStyle=function(lt,st,ht,bt,pt){st.style("fill","none");var Dt=(((lt||[])[0]||{}).trace||{}).line||{},qt=ht||Dt.width||0,ct=pt||Dt.dash||"";o.stroke(st,bt||Dt.color),b.dashLine(st,ct,qt)},b.lineGroupStyle=function(lt,st,ht,bt){lt.style("fill","none").each(function(pt){var Dt=(((pt||[])[0]||{}).trace||{}).line||{},qt=st||Dt.width||0,ct=bt||Dt.dash||"";f.select(this).call(o.stroke,ht||Dt.color).call(b.dashLine,ct,qt)})},b.dashLine=function(lt,st,ht){ht=+ht||0,st=b.dashStyle(st,ht),lt.style({"stroke-dasharray":st,"stroke-width":ht+"px"})},b.dashStyle=function(lt,st){st=+st||1;var ht=Math.max(st,3);return lt==="solid"?lt="":lt==="dot"?lt=ht+"px,"+ht+"px":lt==="dash"?lt=3*ht+"px,"+3*ht+"px":lt==="longdash"?lt=5*ht+"px,"+5*ht+"px":lt==="dashdot"?lt=3*ht+"px,"+ht+"px,"+ht+"px,"+ht+"px":lt==="longdashdot"&&(lt=5*ht+"px,"+2*ht+"px,"+ht+"px,"+2*ht+"px"),lt},b.singleFillStyle=function(lt,st){var ht=f.select(lt.node());d(lt,((ht.data()[0]||[])[0]||{}).trace||{},st,!1)},b.fillGroupStyle=function(lt,st,ht){lt.style("stroke-width",0).each(function(bt){var pt=f.select(this);bt[0].trace&&d(pt,bt[0].trace,st,ht)})};var T=t(1984);b.symbolNames=[],b.symbolFuncs=[],b.symbolBackOffs=[],b.symbolNeedLines={},b.symbolNoDot={},b.symbolNoFill={},b.symbolList=[],Object.keys(T).forEach(function(lt){var st=T[lt],ht=st.n;b.symbolList.push(ht,String(ht),lt,ht+100,String(ht+100),lt+"-open"),b.symbolNames[ht]=lt,b.symbolFuncs[ht]=st.f,b.symbolBackOffs[ht]=st.backoff||0,st.needLine&&(b.symbolNeedLines[ht]=!0),st.noDot?b.symbolNoDot[ht]=!0:b.symbolList.push(ht+200,String(ht+200),lt+"-dot",ht+300,String(ht+300),lt+"-open-dot"),st.noFill&&(b.symbolNoFill[ht]=!0)});var w=b.symbolNames.length;function k(lt,st,ht,bt){var pt=lt%100;return b.symbolFuncs[pt](st,ht,bt)+(lt>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}b.symbolNumber=function(lt){if(a(lt))lt=+lt;else if(typeof lt=="string"){var st=0;lt.indexOf("-open")>0&&(st=100,lt=lt.replace("-open","")),lt.indexOf("-dot")>0&&(st+=200,lt=lt.replace("-dot","")),(lt=b.symbolNames.indexOf(lt))>=0&&(lt+=st)}return lt%100>=w||lt>=400?0:Math.floor(Math.max(lt,0))};var P=i("~f"),A={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};function L(lt,st,ht,bt,pt,Dt,qt,ct,xt,dt){var vt,yt=pt.length;bt==="linear"?vt={node:"linearGradient",attrs:{x1:qt.x,y1:qt.y,x2:ct.x,y2:ct.y,gradientUnits:xt?"userSpaceOnUse":"objectBoundingBox"},reversed:dt}:bt==="radial"&&(vt={node:"radialGradient",reversed:dt});for(var Mt=new Array(yt),Tt=0;Tt<yt;Tt++)vt.reversed?Mt[yt-1-Tt]=[P(100*(1-pt[Tt][0])),pt[Tt][1]]:Mt[Tt]=[P(100*pt[Tt][0]),pt[Tt][1]];var Lt=st._fullLayout,St="g"+Lt._uid+"-"+ht,At=Lt._defs.select(".gradients").selectAll("#"+St).data([bt+Mt.join(";")],y.identity);At.exit().remove(),At.enter().append(vt.node).each(function(){var Nt=f.select(this);vt.attrs&&Nt.attr(vt.attrs),Nt.attr("id",St);var zt=Nt.selectAll("stop").data(Mt);zt.exit().remove(),zt.enter().append("stop"),zt.each(function(Ft){var Gt=n(Ft[1]);f.select(this).attr({offset:Ft[0]+"%","stop-color":o.tinyRGB(Gt),"stop-opacity":Gt.getAlpha()})})}),lt.style(Dt,nt(St,st)).style(Dt+"-opacity",null),lt.classed("gradient_filled",!0)}b.gradient=function(lt,st,ht,bt,pt,Dt){var qt=A[bt];return L(lt,st,ht,qt.type,pt,Dt,qt.start,qt.stop,!1,qt.reversed)},b.pattern=function(lt,st,ht,bt,pt,Dt,qt,ct,xt,dt,vt,yt){var Mt=st==="legend";ct&&(xt==="overlay"?(dt=ct,vt=o.contrast(dt)):(dt=void 0,vt=ct));var Tt,Lt,St,At,Nt,zt,Ft,Gt,Bt,de=ht._fullLayout,ie="p"+de._uid+"-"+bt,pe={},Ot=n(vt),gt=o.tinyRGB(Ot),jt=yt*Ot.getAlpha();switch(pt){case"/":Tt=Dt*Math.sqrt(2),Lt=Dt*Math.sqrt(2),zt="path",pe={d:St="M-"+Tt/4+","+Lt/4+"l"+Tt/2+",-"+Lt/2+"M0,"+Lt+"L"+Tt+",0M"+Tt/4*3+","+Lt/4*5+"l"+Tt/2+",-"+Lt/2,opacity:jt,stroke:gt,"stroke-width":(At=qt*Dt)+"px"};break;case"\\":Tt=Dt*Math.sqrt(2),Lt=Dt*Math.sqrt(2),zt="path",pe={d:St="M"+Tt/4*3+",-"+Lt/4+"l"+Tt/2+","+Lt/2+"M0,0L"+Tt+","+Lt+"M-"+Tt/4+","+Lt/4*3+"l"+Tt/2+","+Lt/2,opacity:jt,stroke:gt,"stroke-width":(At=qt*Dt)+"px"};break;case"x":Tt=Dt*Math.sqrt(2),Lt=Dt*Math.sqrt(2),St="M-"+Tt/4+","+Lt/4+"l"+Tt/2+",-"+Lt/2+"M0,"+Lt+"L"+Tt+",0M"+Tt/4*3+","+Lt/4*5+"l"+Tt/2+",-"+Lt/2+"M"+Tt/4*3+",-"+Lt/4+"l"+Tt/2+","+Lt/2+"M0,0L"+Tt+","+Lt+"M-"+Tt/4+","+Lt/4*3+"l"+Tt/2+","+Lt/2,At=Dt-Dt*Math.sqrt(1-qt),zt="path",pe={d:St,opacity:jt,stroke:gt,"stroke-width":At+"px"};break;case"|":zt="path",zt="path",pe={d:St="M"+(Tt=Dt)/2+",0L"+Tt/2+","+(Lt=Dt),opacity:jt,stroke:gt,"stroke-width":(At=qt*Dt)+"px"};break;case"-":zt="path",zt="path",pe={d:St="M0,"+(Lt=Dt)/2+"L"+(Tt=Dt)+","+Lt/2,opacity:jt,stroke:gt,"stroke-width":(At=qt*Dt)+"px"};break;case"+":zt="path",St="M"+(Tt=Dt)/2+",0L"+Tt/2+","+(Lt=Dt)+"M0,"+Lt/2+"L"+Tt+","+Lt/2,At=Dt-Dt*Math.sqrt(1-qt),zt="path",pe={d:St,opacity:jt,stroke:gt,"stroke-width":At+"px"};break;case".":Tt=Dt,Lt=Dt,qt<Math.PI/4?Nt=Math.sqrt(qt*Dt*Dt/Math.PI):(Ft=qt,Gt=Math.PI/4,Nt=(Bt=Dt/2)+(Dt/Math.sqrt(2)-Bt)*(Ft-Gt)/(1-Gt)),zt="circle",pe={cx:Tt/2,cy:Lt/2,r:Nt,opacity:jt,fill:gt}}var Xt=[pt||"noSh",dt||"noBg",vt||"noFg",Dt,qt].join(";"),xe=de._defs.select(".patterns").selectAll("#"+ie).data([Xt],y.identity);xe.exit().remove(),xe.enter().append("pattern").each(function(){var Vt=f.select(this);if(Vt.attr({id:ie,width:Tt+"px",height:Lt+"px",patternUnits:"userSpaceOnUse",patternTransform:Mt?"scale(0.8)":""}),dt){var Qt=n(dt),re=o.tinyRGB(Qt),_e=Qt.getAlpha(),ce=Vt.selectAll("rect").data([0]);ce.exit().remove(),ce.enter().append("rect").attr({width:Tt+"px",height:Lt+"px",fill:re,"fill-opacity":_e})}var Me=Vt.selectAll(zt).data([0]);Me.exit().remove(),Me.enter().append(zt).attr(pe)}),lt.style("fill",nt(ie,ht)).style("fill-opacity",null),lt.classed("pattern_filled",!0)},b.initGradients=function(lt){var st=lt._fullLayout;y.ensureSingle(st._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),f.select(lt).selectAll(".gradient_filled").classed("gradient_filled",!1)},b.initPatterns=function(lt){var st=lt._fullLayout;y.ensureSingle(st._defs,"g","patterns").selectAll("pattern").remove(),f.select(lt).selectAll(".pattern_filled").classed("pattern_filled",!1)},b.getPatternAttr=function(lt,st,ht){return lt&&y.isArrayOrTypedArray(lt)?st<lt.length?lt[st]:ht:lt},b.pointStyle=function(lt,st,ht,bt){if(lt.size()){var pt=b.makePointStyleFns(st);lt.each(function(Dt){b.singlePointStyle(Dt,f.select(this),st,pt,ht,bt)})}},b.singlePointStyle=function(lt,st,ht,bt,pt,Dt){var qt=ht.marker,ct=qt.line;if(Dt&&Dt.i>=0&&lt.i===void 0&&(lt.i=Dt.i),st.style("opacity",bt.selectedOpacityFn?bt.selectedOpacityFn(lt):lt.mo===void 0?qt.opacity:lt.mo),bt.ms2mrc){var xt;xt=lt.ms==="various"||qt.size==="various"?3:bt.ms2mrc(lt.ms),lt.mrc=xt,bt.selectedSizeFn&&(xt=lt.mrc=bt.selectedSizeFn(lt));var dt=b.symbolNumber(lt.mx||qt.symbol)||0;lt.om=dt%200>=100;var vt=kt(lt,ht),yt=$(lt,ht);st.attr("d",k(dt,xt,vt,yt))}var Mt,Tt,Lt,St=!1;if(lt.so)Lt=ct.outlierwidth,Tt=ct.outliercolor,Mt=qt.outliercolor;else{var At=(ct||{}).width;Lt=(lt.mlw+1||At+1||(lt.trace?(lt.trace.marker.line||{}).width:0)+1)-1||0,Tt="mlc"in lt?lt.mlcc=bt.lineScale(lt.mlc):y.isArrayOrTypedArray(ct.color)?o.defaultLine:ct.color,y.isArrayOrTypedArray(qt.color)&&(Mt=o.defaultLine,St=!0),Mt="mc"in lt?lt.mcc=bt.markerScale(lt.mc):qt.color||qt.colors||"rgba(0,0,0,0)",bt.selectedColorFn&&(Mt=bt.selectedColorFn(lt))}if(lt.om)st.call(o.stroke,Mt).style({"stroke-width":(Lt||1)+"px",fill:"none"});else{st.style("stroke-width",(lt.isBlank?0:Lt)+"px");var Nt=qt.gradient,zt=lt.mgt;zt?St=!0:zt=Nt&&Nt.type,y.isArrayOrTypedArray(zt)&&(zt=zt[0],A[zt]||(zt=0));var Ft=qt.pattern,Gt=Ft&&b.getPatternAttr(Ft.shape,lt.i,"");if(zt&&zt!=="none"){var Bt=lt.mgc;Bt?St=!0:Bt=Nt.color;var de=ht.uid;St&&(de+="-"+lt.i),b.gradient(st,pt,de,zt,[[0,Bt],[1,Mt]],"fill")}else if(Gt){var ie=!1,pe=Ft.fgcolor;!pe&&Dt&&Dt.color&&(pe=Dt.color,ie=!0);var Ot=b.getPatternAttr(pe,lt.i,Dt&&Dt.color||null),gt=b.getPatternAttr(Ft.bgcolor,lt.i,null),jt=Ft.fgopacity,Xt=b.getPatternAttr(Ft.size,lt.i,8),xe=b.getPatternAttr(Ft.solidity,lt.i,.3);ie=ie||lt.mcc||y.isArrayOrTypedArray(Ft.shape)||y.isArrayOrTypedArray(Ft.bgcolor)||y.isArrayOrTypedArray(Ft.fgcolor)||y.isArrayOrTypedArray(Ft.size)||y.isArrayOrTypedArray(Ft.solidity);var Vt=ht.uid;ie&&(Vt+="-"+lt.i),b.pattern(st,"point",pt,Vt,Gt,Xt,xe,lt.mcc,Ft.fillmode,gt,Ot,jt)}else y.isArrayOrTypedArray(Mt)?o.fill(st,Mt[lt.i]):o.fill(st,Mt);Lt&&o.stroke(st,Tt)}},b.makePointStyleFns=function(lt){var st={},ht=lt.marker;return st.markerScale=b.tryColorscale(ht,""),st.lineScale=b.tryColorscale(ht,"line"),r.traceIs(lt,"symbols")&&(st.ms2mrc=p.isBubble(lt)?v(lt):function(){return(ht.size||6)/2}),lt.selectedpoints&&y.extendFlat(st,b.makeSelectedPointStyleFns(lt)),st},b.makeSelectedPointStyleFns=function(lt){var st={},ht=lt.selected||{},bt=lt.unselected||{},pt=lt.marker||{},Dt=ht.marker||{},qt=bt.marker||{},ct=pt.opacity,xt=Dt.opacity,dt=qt.opacity,vt=xt!==void 0,yt=dt!==void 0;(y.isArrayOrTypedArray(ct)||vt||yt)&&(st.selectedOpacityFn=function(Gt){var Bt=Gt.mo===void 0?pt.opacity:Gt.mo;return Gt.selected?vt?xt:Bt:yt?dt:_*Bt});var Mt=pt.color,Tt=Dt.color,Lt=qt.color;(Tt||Lt)&&(st.selectedColorFn=function(Gt){var Bt=Gt.mcc||Mt;return Gt.selected?Tt||Bt:Lt||Bt});var St=pt.size,At=Dt.size,Nt=qt.size,zt=At!==void 0,Ft=Nt!==void 0;return r.traceIs(lt,"symbols")&&(zt||Ft)&&(st.selectedSizeFn=function(Gt){var Bt=Gt.mrc||St/2;return Gt.selected?zt?At/2:Bt:Ft?Nt/2:Bt}),st},b.makeSelectedTextStyleFns=function(lt){var st={},ht=lt.selected||{},bt=lt.unselected||{},pt=lt.textfont||{},Dt=ht.textfont||{},qt=bt.textfont||{},ct=pt.color,xt=Dt.color,dt=qt.color;return st.selectedTextColorFn=function(vt){var yt=vt.tc||ct;return vt.selected?xt||yt:dt||(xt?yt:o.addOpacity(yt,_))},st},b.selectedPointStyle=function(lt,st){if(lt.size()&&st.selectedpoints){var ht=b.makeSelectedPointStyleFns(st),bt=st.marker||{},pt=[];ht.selectedOpacityFn&&pt.push(function(Dt,qt){Dt.style("opacity",ht.selectedOpacityFn(qt))}),ht.selectedColorFn&&pt.push(function(Dt,qt){o.fill(Dt,ht.selectedColorFn(qt))}),ht.selectedSizeFn&&pt.push(function(Dt,qt){var ct=qt.mx||bt.symbol||0,xt=ht.selectedSizeFn(qt);Dt.attr("d",k(b.symbolNumber(ct),xt,kt(qt,st),$(qt,st))),qt.mrc2=xt}),pt.length&&lt.each(function(Dt){for(var qt=f.select(this),ct=0;ct<pt.length;ct++)pt[ct](qt,Dt)})}},b.tryColorscale=function(lt,st){var ht=st?y.nestedProperty(lt,st).get():lt;if(ht){var bt=ht.color;if((ht.colorscale||ht._colorAx)&&y.isArrayOrTypedArray(bt))return s.makeColorScaleFuncFromTrace(ht)}return y.identity};var I,x,C={start:1,end:-1,middle:0,bottom:1,top:-1};function F(lt,st,ht,bt,pt){var Dt=f.select(lt.node().parentNode),qt=st.indexOf("top")!==-1?"top":st.indexOf("bottom")!==-1?"bottom":"middle",ct=st.indexOf("left")!==-1?"end":st.indexOf("right")!==-1?"start":"middle",xt=bt?bt/.8+1:0,dt=(l.lineCount(lt)-1)*m+1,vt=C[ct]*xt,yt=.75*ht+C[qt]*xt+(C[qt]-1)*dt*ht/2;lt.attr("text-anchor",ct),pt||Dt.attr("transform",e(vt,yt))}function N(lt,st){var ht=lt.ts||st.textfont.size;return a(ht)&&ht>0?ht:0}function j(lt,st,ht){return ht&&(lt=D(lt)),st?H(lt[1]):z(lt[0])}function z(lt){var st=f.round(lt,2);return I=st,st}function H(lt){var st=f.round(lt,2);return x=st,st}function U(lt,st,ht,bt){var pt=lt[0]-st[0],Dt=lt[1]-st[1],qt=ht[0]-st[0],ct=ht[1]-st[1],xt=Math.pow(pt*pt+Dt*Dt,.25),dt=Math.pow(qt*qt+ct*ct,.25),vt=(dt*dt*pt-xt*xt*qt)*bt,yt=(dt*dt*Dt-xt*xt*ct)*bt,Mt=3*dt*(xt+dt),Tt=3*xt*(xt+dt);return[[z(st[0]+(Mt&&vt/Mt)),H(st[1]+(Mt&&yt/Mt))],[z(st[0]-(Tt&&vt/Tt)),H(st[1]-(Tt&&yt/Tt))]]}b.textPointStyle=function(lt,st,ht){if(lt.size()){var bt;if(st.selectedpoints){var pt=b.makeSelectedTextStyleFns(st);bt=pt.selectedTextColorFn}var Dt=st.texttemplate,qt=ht._fullLayout;lt.each(function(ct){var xt=f.select(this),dt=Dt?y.extractOption(ct,st,"txt","texttemplate"):y.extractOption(ct,st,"tx","text");if(dt||dt===0){if(Dt){var vt=st._module.formatLabels,yt=vt?vt(ct,st,qt):{},Mt={};g(Mt,st,ct.i);var Tt=st._meta||{};dt=y.texttemplateString(dt,yt,qt._d3locale,Mt,ct,Tt)}var Lt=ct.tp||st.textposition,St=N(ct,st),At=bt?bt(ct):ct.tc||st.textfont.color;xt.call(b.font,ct.tf||st.textfont.family,St,At).text(dt).call(l.convertToTspans,ht).call(F,Lt,St,ct.mrc)}else xt.remove()})}},b.selectedTextStyle=function(lt,st){if(lt.size()&&st.selectedpoints){var ht=b.makeSelectedTextStyleFns(st);lt.each(function(bt){var pt=f.select(this),Dt=ht.selectedTextColorFn(bt),qt=bt.tp||st.textposition,ct=N(bt,st);o.fill(pt,Dt);var xt=r.traceIs(st,"bar-like");F(pt,qt,ct,bt.mrc2||bt.mrc,xt)})}},b.smoothopen=function(lt,st){if(lt.length<3)return"M"+lt.join("L");var ht,bt="M"+lt[0],pt=[];for(ht=1;ht<lt.length-1;ht++)pt.push(U(lt[ht-1],lt[ht],lt[ht+1],st));for(bt+="Q"+pt[0][0]+" "+lt[1],ht=2;ht<lt.length-1;ht++)bt+="C"+pt[ht-2][1]+" "+pt[ht-1][0]+" "+lt[ht];return bt+"Q"+pt[lt.length-3][1]+" "+lt[lt.length-1]},b.smoothclosed=function(lt,st){if(lt.length<3)return"M"+lt.join("L")+"Z";var ht,bt="M"+lt[0],pt=lt.length-1,Dt=[U(lt[pt],lt[0],lt[1],st)];for(ht=1;ht<pt;ht++)Dt.push(U(lt[ht-1],lt[ht],lt[ht+1],st));for(Dt.push(U(lt[pt-1],lt[pt],lt[0],st)),ht=1;ht<=pt;ht++)bt+="C"+Dt[ht-1][1]+" "+Dt[ht][0]+" "+lt[ht];return bt+"C"+Dt[pt][1]+" "+Dt[0][0]+" "+lt[0]+"Z"};var it={hv:function(lt,st,ht){return"H"+z(st[0])+"V"+j(st,1,ht)},vh:function(lt,st,ht){return"V"+H(st[1])+"H"+j(st,0,ht)},hvh:function(lt,st,ht){return"H"+z((lt[0]+st[0])/2)+"V"+H(st[1])+"H"+j(st,0,ht)},vhv:function(lt,st,ht){return"V"+H((lt[1]+st[1])/2)+"H"+z(st[0])+"V"+j(st,1,ht)}},K=function(lt,st,ht){return"L"+j(st,0,ht)+","+j(st,1,ht)};function D(lt,st){var ht=lt.backoff,bt=lt.trace,pt=lt.d,Dt=lt.i;if(ht&&bt&&bt.marker&&bt.marker.angle%360==0&&bt.line&&bt.line.shape!=="spline"){var qt=y.isArrayOrTypedArray(ht),ct=lt,xt=st?st[0]:I||0,dt=st?st[1]:x||0,vt=ct[0],yt=ct[1],Mt=vt-xt,Tt=yt-dt,Lt=Math.atan2(Tt,Mt),St=qt?ht[Dt]:ht;if(St==="auto"){var At=ct.i;bt.type==="scatter"&&At--;var Nt=ct.marker,zt=Nt.symbol;y.isArrayOrTypedArray(zt)&&(zt=zt[At]);var Ft=Nt.size;y.isArrayOrTypedArray(Ft)&&(Ft=Ft[At]),St=Nt?b.symbolBackOffs[b.symbolNumber(zt)]*Ft:0,St+=b.getMarkerStandoff(pt[At],bt)||0}var Gt=vt-St*Math.cos(Lt),Bt=yt-St*Math.sin(Lt);(Gt<=vt&&Gt>=xt||Gt>=vt&&Gt<=xt)&&(Bt<=yt&&Bt>=dt||Bt>=yt&&Bt<=dt)&&(lt=[Gt,Bt])}return lt}b.steps=function(lt){var st=it[lt]||K;return function(ht){for(var bt="M"+z(ht[0][0])+","+H(ht[0][1]),pt=ht.length,Dt=1;Dt<pt;Dt++)bt+=st(ht[Dt-1],ht[Dt],Dt===pt-1);return bt}},b.applyBackoff=D,b.makeTester=function(){var lt=y.ensureSingleById(f.select("body"),"svg","js-plotly-tester",function(ht){ht.attr(u.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),st=y.ensureSingle(lt,"path","js-reference-point",function(ht){ht.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});b.tester=lt,b.testref=st},b.savedBBoxes={};var B=0;function q(lt){var st=lt.getAttribute("data-unformatted");if(st!==null)return st+lt.getAttribute("data-math")+lt.getAttribute("text-anchor")+lt.getAttribute("style")}function nt(lt,st){if(!lt)return null;var ht=st._context,bt=ht._exportedPlot?"":ht._baseUrl||"";return bt?"url('"+bt+"#"+lt+"')":"url(#"+lt+")"}b.bBox=function(lt,st,ht){var bt,pt,Dt;if(ht||(ht=q(lt)),ht){if(bt=b.savedBBoxes[ht])return y.extendFlat({},bt)}else if(lt.childNodes.length===1){var qt=lt.childNodes[0];if(ht=q(qt)){var ct=+qt.getAttribute("x")||0,xt=+qt.getAttribute("y")||0,dt=qt.getAttribute("transform");if(!dt){var vt=b.bBox(qt,!1,ht);return ct&&(vt.left+=ct,vt.right+=ct),xt&&(vt.top+=xt,vt.bottom+=xt),vt}if(ht+="~"+ct+"~"+xt+"~"+dt,bt=b.savedBBoxes[ht])return y.extendFlat({},bt)}}st?pt=lt:(Dt=b.tester.node(),pt=lt.cloneNode(!0),Dt.appendChild(pt)),f.select(pt).attr("transform",null).call(l.positionText,0,0);var yt=pt.getBoundingClientRect(),Mt=b.testref.node().getBoundingClientRect();st||Dt.removeChild(pt);var Tt={height:yt.height,width:yt.width,left:yt.left-Mt.left,top:yt.top-Mt.top,right:yt.right-Mt.left,bottom:yt.bottom-Mt.top};return B>=1e4&&(b.savedBBoxes={},B=0),ht&&(b.savedBBoxes[ht]=Tt),B++,y.extendFlat({},Tt)},b.setClipUrl=function(lt,st,ht){lt.attr("clip-path",nt(st,ht))},b.getTranslate=function(lt){var st=(lt[lt.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(ht,bt,pt){return[bt,pt].join(" ")}).split(" ");return{x:+st[0]||0,y:+st[1]||0}},b.setTranslate=function(lt,st,ht){var bt=lt.attr?"attr":"getAttribute",pt=lt.attr?"attr":"setAttribute",Dt=lt[bt]("transform")||"";return st=st||0,ht=ht||0,Dt=Dt.replace(/(\btranslate\(.*?\);?)/,"").trim(),Dt=(Dt+=e(st,ht)).trim(),lt[pt]("transform",Dt),Dt},b.getScale=function(lt){var st=(lt[lt.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(ht,bt,pt){return[bt,pt].join(" ")}).split(" ");return{x:+st[0]||1,y:+st[1]||1}},b.setScale=function(lt,st,ht){var bt=lt.attr?"attr":"getAttribute",pt=lt.attr?"attr":"setAttribute",Dt=lt[bt]("transform")||"";return st=st||1,ht=ht||1,Dt=Dt.replace(/(\bscale\(.*?\);?)/,"").trim(),Dt=(Dt+="scale("+st+","+ht+")").trim(),lt[pt]("transform",Dt),Dt};var ot=/\s*sc.*/;b.setPointGroupScale=function(lt,st,ht){if(st=st||1,ht=ht||1,lt){var bt=st===1&&ht===1?"":"scale("+st+","+ht+")";lt.each(function(){var pt=(this.getAttribute("transform")||"").replace(ot,"");pt=(pt+=bt).trim(),this.setAttribute("transform",pt)})}};var rt=/translate\([^)]*\)\s*$/;function $(lt,st){var ht;return lt&&(ht=lt.mf),ht===void 0&&(ht=st.marker&&st.marker.standoff||0),st._geo||st._xA?ht:-ht}b.setTextPointsScale=function(lt,st,ht){lt&&lt.each(function(){var bt,pt=f.select(this),Dt=pt.select("text");if(Dt.node()){var qt=parseFloat(Dt.attr("x")||0),ct=parseFloat(Dt.attr("y")||0),xt=(pt.attr("transform")||"").match(rt);bt=st===1&&ht===1?[]:[e(qt,ct),"scale("+st+","+ht+")",e(-qt,-ct)],xt&&bt.push(xt),pt.attr("transform",bt.join(""))}})},b.getMarkerStandoff=$;var E,S,Y,Z,G,Q,at=Math.atan2,tt=Math.cos,_t=Math.sin;function Pt(lt,st){var ht=st[0],bt=st[1];return[ht*tt(lt)-bt*_t(lt),ht*_t(lt)+bt*tt(lt)]}function kt(lt,st){var ht,bt,pt=lt.ma;pt===void 0&&((pt=st.marker.angle)&&!y.isArrayOrTypedArray(pt)||(pt=0));var Dt=st.marker.angleref;if(Dt==="previous"||Dt==="north"){if(st._geo){var qt=st._geo.project(lt.lonlat);ht=qt[0],bt=qt[1]}else{var ct=st._xA,xt=st._yA;if(!ct||!xt)return 90;ht=ct.c2p(lt.x),bt=xt.c2p(lt.y)}if(st._geo){var dt,vt=lt.lonlat[0],yt=lt.lonlat[1],Mt=st._geo.project([vt,yt+1e-5]),Tt=st._geo.project([vt+1e-5,yt]),Lt=at(Tt[1]-bt,Tt[0]-ht),St=at(Mt[1]-bt,Mt[0]-ht);if(Dt==="north")dt=pt/180*Math.PI;else if(Dt==="previous"){var At=vt/180*Math.PI,Nt=yt/180*Math.PI,zt=E/180*Math.PI,Ft=S/180*Math.PI,Gt=zt-At,Bt=tt(Ft)*_t(Gt),de=_t(Ft)*tt(Nt)-tt(Ft)*_t(Nt)*tt(Gt);dt=-at(Bt,de)-Math.PI,E=vt,S=yt}var ie=Pt(Lt,[tt(dt),0]),pe=Pt(St,[_t(dt),0]);pt=at(ie[1]+pe[1],ie[0]+pe[0])/Math.PI*180,Dt!=="previous"||Q===st.uid&&lt.i===G+1||(pt=null)}if(Dt==="previous"&&!st._geo)if(Q===st.uid&&lt.i===G+1&&a(ht)&&a(bt)){var Ot=ht-Y,gt=bt-Z,jt=st.line&&st.line.shape||"",Xt=jt.slice(jt.length-1);Xt==="h"&&(gt=0),Xt==="v"&&(Ot=0),pt+=at(gt,Ot)/Math.PI*180+90}else pt=null}return Y=ht,Z=bt,G=lt.i,Q=st.uid,pt}b.getMarkerAngle=kt},1984:function(J,h,t){var f,y,i,a,n=t(9604),r=t(3428).round,o="M0,0Z",s=Math.sqrt(2),e=Math.sqrt(3),l=Math.PI,u=Math.cos,m=Math.sin;function _(v){return v===null}function p(v,g,b){if(!(v&&v%360!=0||g))return b;if(i===v&&a===g&&f===b)return y;function d(z,H){var U=u(z),it=m(z),K=H[0],D=H[1]+(g||0);return[K*U-D*it,K*it+D*U]}i=v,a=g,f=b;for(var T=v/180*l,w=0,k=0,P=n(b),A="",L=0;L<P.length;L++){var I=P[L],x=I[0],C=w,F=k;if(x==="M"||x==="L")w=+I[1],k=+I[2];else if(x==="m"||x==="l")w+=+I[1],k+=+I[2];else if(x==="H")w=+I[1];else if(x==="h")w+=+I[1];else if(x==="V")k=+I[1];else if(x==="v")k+=+I[1];else if(x==="A"){w=+I[1],k=+I[2];var N=d(T,[+I[6],+I[7]]);I[6]=N[0],I[7]=N[1],I[3]=+I[3]+v}x!=="H"&&x!=="V"||(x="L"),x!=="h"&&x!=="v"||(x="l"),x!=="m"&&x!=="l"||(w-=C,k-=F);var j=d(T,[w,k]);x!=="H"&&x!=="V"||(x="L"),x!=="M"&&x!=="L"&&x!=="m"&&x!=="l"||(I[1]=j[0],I[2]=j[1]),I[0]=x,A+=I[0]+I.slice(1).join(",")}return y=A,A}J.exports={circle:{n:0,f:function(v,g,b){if(_(g))return o;var d=r(v,2),T="M"+d+",0A"+d+","+d+" 0 1,1 0,-"+d+"A"+d+","+d+" 0 0,1 "+d+",0Z";return b?p(g,b,T):T}},square:{n:1,f:function(v,g,b){if(_(g))return o;var d=r(v,2);return p(g,b,"M"+d+","+d+"H-"+d+"V-"+d+"H"+d+"Z")}},diamond:{n:2,f:function(v,g,b){if(_(g))return o;var d=r(1.3*v,2);return p(g,b,"M"+d+",0L0,"+d+"L-"+d+",0L0,-"+d+"Z")}},cross:{n:3,f:function(v,g,b){if(_(g))return o;var d=r(.4*v,2),T=r(1.2*v,2);return p(g,b,"M"+T+","+d+"H"+d+"V"+T+"H-"+d+"V"+d+"H-"+T+"V-"+d+"H-"+d+"V-"+T+"H"+d+"V-"+d+"H"+T+"Z")}},x:{n:4,f:function(v,g,b){if(_(g))return o;var d=r(.8*v/s,2),T="l"+d+","+d,w="l"+d+",-"+d,k="l-"+d+",-"+d,P="l-"+d+","+d;return p(g,b,"M0,"+d+T+w+k+w+k+P+k+P+T+P+T+"Z")}},"triangle-up":{n:5,f:function(v,g,b){if(_(g))return o;var d=r(2*v/e,2);return p(g,b,"M-"+d+","+r(v/2,2)+"H"+d+"L0,-"+r(v,2)+"Z")}},"triangle-down":{n:6,f:function(v,g,b){if(_(g))return o;var d=r(2*v/e,2);return p(g,b,"M-"+d+",-"+r(v/2,2)+"H"+d+"L0,"+r(v,2)+"Z")}},"triangle-left":{n:7,f:function(v,g,b){if(_(g))return o;var d=r(2*v/e,2);return p(g,b,"M"+r(v/2,2)+",-"+d+"V"+d+"L-"+r(v,2)+",0Z")}},"triangle-right":{n:8,f:function(v,g,b){if(_(g))return o;var d=r(2*v/e,2);return p(g,b,"M-"+r(v/2,2)+",-"+d+"V"+d+"L"+r(v,2)+",0Z")}},"triangle-ne":{n:9,f:function(v,g,b){if(_(g))return o;var d=r(.6*v,2),T=r(1.2*v,2);return p(g,b,"M-"+T+",-"+d+"H"+d+"V"+T+"Z")}},"triangle-se":{n:10,f:function(v,g,b){if(_(g))return o;var d=r(.6*v,2),T=r(1.2*v,2);return p(g,b,"M"+d+",-"+T+"V"+d+"H-"+T+"Z")}},"triangle-sw":{n:11,f:function(v,g,b){if(_(g))return o;var d=r(.6*v,2),T=r(1.2*v,2);return p(g,b,"M"+T+","+d+"H-"+d+"V-"+T+"Z")}},"triangle-nw":{n:12,f:function(v,g,b){if(_(g))return o;var d=r(.6*v,2),T=r(1.2*v,2);return p(g,b,"M-"+d+","+T+"V-"+d+"H"+T+"Z")}},pentagon:{n:13,f:function(v,g,b){if(_(g))return o;var d=r(.951*v,2),T=r(.588*v,2),w=r(-v,2),k=r(-.309*v,2);return p(g,b,"M"+d+","+k+"L"+T+","+r(.809*v,2)+"H-"+T+"L-"+d+","+k+"L0,"+w+"Z")}},hexagon:{n:14,f:function(v,g,b){if(_(g))return o;var d=r(v,2),T=r(v/2,2),w=r(v*e/2,2);return p(g,b,"M"+w+",-"+T+"V"+T+"L0,"+d+"L-"+w+","+T+"V-"+T+"L0,-"+d+"Z")}},hexagon2:{n:15,f:function(v,g,b){if(_(g))return o;var d=r(v,2),T=r(v/2,2),w=r(v*e/2,2);return p(g,b,"M-"+T+","+w+"H"+T+"L"+d+",0L"+T+",-"+w+"H-"+T+"L-"+d+",0Z")}},octagon:{n:16,f:function(v,g,b){if(_(g))return o;var d=r(.924*v,2),T=r(.383*v,2);return p(g,b,"M-"+T+",-"+d+"H"+T+"L"+d+",-"+T+"V"+T+"L"+T+","+d+"H-"+T+"L-"+d+","+T+"V-"+T+"Z")}},star:{n:17,f:function(v,g,b){if(_(g))return o;var d=1.4*v,T=r(.225*d,2),w=r(.951*d,2),k=r(.363*d,2),P=r(.588*d,2),A=r(-d,2),L=r(-.309*d,2),I=r(.118*d,2),x=r(.809*d,2);return p(g,b,"M"+T+","+L+"H"+w+"L"+k+","+I+"L"+P+","+x+"L0,"+r(.382*d,2)+"L-"+P+","+x+"L-"+k+","+I+"L-"+w+","+L+"H-"+T+"L0,"+A+"Z")}},hexagram:{n:18,f:function(v,g,b){if(_(g))return o;var d=r(.66*v,2),T=r(.38*v,2),w=r(.76*v,2);return p(g,b,"M-"+w+",0l-"+T+",-"+d+"h"+w+"l"+T+",-"+d+"l"+T+","+d+"h"+w+"l-"+T+","+d+"l"+T+","+d+"h-"+w+"l-"+T+","+d+"l-"+T+",-"+d+"h-"+w+"Z")}},"star-triangle-up":{n:19,f:function(v,g,b){if(_(g))return o;var d=r(v*e*.8,2),T=r(.8*v,2),w=r(1.6*v,2),k=r(4*v,2),P="A "+k+","+k+" 0 0 1 ";return p(g,b,"M-"+d+","+T+P+d+","+T+P+"0,-"+w+P+"-"+d+","+T+"Z")}},"star-triangle-down":{n:20,f:function(v,g,b){if(_(g))return o;var d=r(v*e*.8,2),T=r(.8*v,2),w=r(1.6*v,2),k=r(4*v,2),P="A "+k+","+k+" 0 0 1 ";return p(g,b,"M"+d+",-"+T+P+"-"+d+",-"+T+P+"0,"+w+P+d+",-"+T+"Z")}},"star-square":{n:21,f:function(v,g,b){if(_(g))return o;var d=r(1.1*v,2),T=r(2*v,2),w="A "+T+","+T+" 0 0 1 ";return p(g,b,"M-"+d+",-"+d+w+"-"+d+","+d+w+d+","+d+w+d+",-"+d+w+"-"+d+",-"+d+"Z")}},"star-diamond":{n:22,f:function(v,g,b){if(_(g))return o;var d=r(1.4*v,2),T=r(1.9*v,2),w="A "+T+","+T+" 0 0 1 ";return p(g,b,"M-"+d+",0"+w+"0,"+d+w+d+",0"+w+"0,-"+d+w+"-"+d+",0Z")}},"diamond-tall":{n:23,f:function(v,g,b){if(_(g))return o;var d=r(.7*v,2),T=r(1.4*v,2);return p(g,b,"M0,"+T+"L"+d+",0L0,-"+T+"L-"+d+",0Z")}},"diamond-wide":{n:24,f:function(v,g,b){if(_(g))return o;var d=r(1.4*v,2),T=r(.7*v,2);return p(g,b,"M0,"+T+"L"+d+",0L0,-"+T+"L-"+d+",0Z")}},hourglass:{n:25,f:function(v,g,b){if(_(g))return o;var d=r(v,2);return p(g,b,"M"+d+","+d+"H-"+d+"L"+d+",-"+d+"H-"+d+"Z")},noDot:!0},bowtie:{n:26,f:function(v,g,b){if(_(g))return o;var d=r(v,2);return p(g,b,"M"+d+","+d+"V-"+d+"L-"+d+","+d+"V-"+d+"Z")},noDot:!0},"circle-cross":{n:27,f:function(v,g,b){if(_(g))return o;var d=r(v,2);return p(g,b,"M0,"+d+"V-"+d+"M"+d+",0H-"+d+"M"+d+",0A"+d+","+d+" 0 1,1 0,-"+d+"A"+d+","+d+" 0 0,1 "+d+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(v,g,b){if(_(g))return o;var d=r(v,2),T=r(v/s,2);return p(g,b,"M"+T+","+T+"L-"+T+",-"+T+"M"+T+",-"+T+"L-"+T+","+T+"M"+d+",0A"+d+","+d+" 0 1,1 0,-"+d+"A"+d+","+d+" 0 0,1 "+d+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(v,g,b){if(_(g))return o;var d=r(v,2);return p(g,b,"M0,"+d+"V-"+d+"M"+d+",0H-"+d+"M"+d+","+d+"H-"+d+"V-"+d+"H"+d+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(v,g,b){if(_(g))return o;var d=r(v,2);return p(g,b,"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d+"M"+d+","+d+"H-"+d+"V-"+d+"H"+d+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(v,g,b){if(_(g))return o;var d=r(1.3*v,2);return p(g,b,"M"+d+",0L0,"+d+"L-"+d+",0L0,-"+d+"ZM0,-"+d+"V"+d+"M-"+d+",0H"+d)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(v,g,b){if(_(g))return o;var d=r(1.3*v,2),T=r(.65*v,2);return p(g,b,"M"+d+",0L0,"+d+"L-"+d+",0L0,-"+d+"ZM-"+T+",-"+T+"L"+T+","+T+"M-"+T+","+T+"L"+T+",-"+T)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(v,g,b){if(_(g))return o;var d=r(1.4*v,2);return p(g,b,"M0,"+d+"V-"+d+"M"+d+",0H-"+d)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(v,g,b){if(_(g))return o;var d=r(v,2);return p(g,b,"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(v,g,b){if(_(g))return o;var d=r(1.2*v,2),T=r(.85*v,2);return p(g,b,"M0,"+d+"V-"+d+"M"+d+",0H-"+d+"M"+T+","+T+"L-"+T+",-"+T+"M"+T+",-"+T+"L-"+T+","+T)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(v,g,b){if(_(g))return o;var d=r(v/2,2),T=r(v,2);return p(g,b,"M"+d+","+T+"V-"+T+"M"+(d-T)+",-"+T+"V"+T+"M"+T+","+d+"H-"+T+"M-"+T+","+(d-T)+"H"+T)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(v,g,b){if(_(g))return o;var d=r(1.2*v,2),T=r(1.6*v,2),w=r(.8*v,2);return p(g,b,"M-"+d+","+w+"L0,0M"+d+","+w+"L0,0M0,-"+T+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(v,g,b){if(_(g))return o;var d=r(1.2*v,2),T=r(1.6*v,2),w=r(.8*v,2);return p(g,b,"M-"+d+",-"+w+"L0,0M"+d+",-"+w+"L0,0M0,"+T+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(v,g,b){if(_(g))return o;var d=r(1.2*v,2),T=r(1.6*v,2),w=r(.8*v,2);return p(g,b,"M"+w+","+d+"L0,0M"+w+",-"+d+"L0,0M-"+T+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(v,g,b){if(_(g))return o;var d=r(1.2*v,2),T=r(1.6*v,2),w=r(.8*v,2);return p(g,b,"M-"+w+","+d+"L0,0M-"+w+",-"+d+"L0,0M"+T+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(v,g,b){if(_(g))return o;var d=r(1.4*v,2);return p(g,b,"M"+d+",0H-"+d)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(v,g,b){if(_(g))return o;var d=r(1.4*v,2);return p(g,b,"M0,"+d+"V-"+d)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(v,g,b){if(_(g))return o;var d=r(v,2);return p(g,b,"M"+d+",-"+d+"L-"+d+","+d)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(v,g,b){if(_(g))return o;var d=r(v,2);return p(g,b,"M"+d+","+d+"L-"+d+",-"+d)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(v,g,b){if(_(g))return o;var d=r(v,2);return p(g,b,"M0,0L-"+d+","+r(2*v,2)+"H"+d+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(v,g,b){if(_(g))return o;var d=r(v,2);return p(g,b,"M0,0L-"+d+",-"+r(2*v,2)+"H"+d+"Z")},noDot:!0},"arrow-left":{n:47,f:function(v,g,b){if(_(g))return o;var d=r(2*v,2),T=r(v,2);return p(g,b,"M0,0L"+d+",-"+T+"V"+T+"Z")},noDot:!0},"arrow-right":{n:48,f:function(v,g,b){if(_(g))return o;var d=r(2*v,2),T=r(v,2);return p(g,b,"M0,0L-"+d+",-"+T+"V"+T+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(v,g,b){if(_(g))return o;var d=r(v,2);return p(g,b,"M-"+d+",0H"+d+"M0,0L-"+d+","+r(2*v,2)+"H"+d+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(v,g,b){if(_(g))return o;var d=r(v,2);return p(g,b,"M-"+d+",0H"+d+"M0,0L-"+d+",-"+r(2*v,2)+"H"+d+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(v,g,b){if(_(g))return o;var d=r(2*v,2),T=r(v,2);return p(g,b,"M0,-"+T+"V"+T+"M0,0L"+d+",-"+T+"V"+T+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(v,g,b){if(_(g))return o;var d=r(2*v,2),T=r(v,2);return p(g,b,"M0,-"+T+"V"+T+"M0,0L-"+d+",-"+T+"V"+T+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(v,g,b){if(_(g))return o;var d=l/2.5,T=2*v*u(d),w=2*v*m(d);return p(g,b,"M0,0L"+-T+","+w+"L"+T+","+w+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(v,g,b){if(_(g))return o;var d=l/4,T=2*v*u(d),w=2*v*m(d);return p(g,b,"M0,0L"+-T+","+w+"A "+2*v+","+2*v+" 0 0 1 "+T+","+w+"Z")},backoff:.4,noDot:!0}}},7644:function(J){J.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},4880:function(J,h,t){var f=t(8248),y=t(4040),i=t(4460),a=t(3400),n=t(3792);function r(o,s,e,l){var u=s["error_"+l]||{},m=[];if(u.visible&&["linear","log"].indexOf(e.type)!==-1){for(var _=n(u),p=0;p<o.length;p++){var v=o[p],g=v.i;if(g===void 0)g=p;else if(g===null)continue;var b=v[l];if(f(e.c2l(b))){var d=_(b,g);if(f(d[0])&&f(d[1])){var T=v[l+"s"]=b-d[0],w=v[l+"h"]=b+d[1];m.push(T,w)}}}var k=e._id,P=s._extremes[k],A=i.findExtremes(e,m,a.extendFlat({tozero:P.opts.tozero},{padded:!0}));P.min=P.min.concat(A.min),P.max=P.max.concat(A.max)}}J.exports=function(o){for(var s=o.calcdata,e=0;e<s.length;e++){var l=s[e],u=l[0].trace;if(u.visible===!0&&y.traceIs(u,"errorBarsOK")){var m=i.getFromId(o,u.xaxis),_=i.getFromId(o,u.yaxis);r(l,u,m,"x"),r(l,u,_,"y")}}}},3792:function(J){function h(t,f){return t==="percent"?function(y){return Math.abs(y*f/100)}:t==="constant"?function(){return Math.abs(f)}:t==="sqrt"?function(y){return Math.sqrt(Math.abs(y))}:void 0}J.exports=function(t){var f=t.type,y=t.symmetric;if(f==="data"){var i=t.array||[];if(y)return function(o,s){var e=+i[s];return[e,e]};var a=t.arrayminus||[];return function(o,s){var e=+i[s],l=+a[s];return isNaN(e)&&isNaN(l)?[NaN,NaN]:[l||0,e||0]}}var n=h(f,t.value),r=h(f,t.valueminus);return y||t.valueminus===void 0?function(o){var s=n(o);return[s,s]}:function(o){return[r(o),n(o)]}}},5200:function(J,h,t){var f=t(8248),y=t(4040),i=t(3400),a=t(1780),n=t(7644);J.exports=function(r,o,s,e){var l="error_"+e.axis,u=a.newContainer(o,l),m=r[l]||{};function _(b,d){return i.coerce(m,u,n,b,d)}if(_("visible",m.array!==void 0||m.value!==void 0||m.type==="sqrt")!==!1){var p=_("type","array"in m?"data":"percent"),v=!0;p!=="sqrt"&&(v=_("symmetric",!((p==="data"?"arrayminus":"valueminus")in m))),p==="data"?(_("array"),_("traceref"),v||(_("arrayminus"),_("tracerefminus"))):p!=="percent"&&p!=="constant"||(_("value"),v||_("valueminus"));var g="copy_"+e.inherit+"style";e.inherit&&(o["error_"+e.inherit]||{}).visible&&_(g,!(m.color||f(m.thickness)||f(m.width))),e.inherit&&u[g]||(_("color",s),_("thickness"),_("width",y.traceIs(o,"gl3d")?0:4))}}},4968:function(J,h,t){var f=t(3400),y=t(7824).overrideAll,i=t(7644),a={error_x:f.extendFlat({},i),error_y:f.extendFlat({},i)};delete a.error_x.copy_zstyle,delete a.error_y.copy_zstyle,delete a.error_y.copy_ystyle;var n={error_x:f.extendFlat({},i),error_y:f.extendFlat({},i),error_z:f.extendFlat({},i)};delete n.error_x.copy_ystyle,delete n.error_y.copy_ystyle,delete n.error_z.copy_ystyle,delete n.error_z.copy_zstyle,J.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:a,bar:a,histogram:a,scatter3d:y(n,"calc","nested"),scattergl:y(a,"calc","nested")}},supplyDefaults:t(5200),calc:t(4880),makeComputeError:t(3792),plot:t(8512),style:t(2036),hoverInfo:function(r,o,s){(o.error_y||{}).visible&&(s.yerr=r.yh-r.y,o.error_y.symmetric||(s.yerrneg=r.y-r.ys)),(o.error_x||{}).visible&&(s.xerr=r.xh-r.x,o.error_x.symmetric||(s.xerrneg=r.x-r.xs))}}},8512:function(J,h,t){var f=t(3428),y=t(8248),i=t(3616),a=t(3028);J.exports=function(n,r,o,s){var e=o.xaxis,l=o.yaxis,u=s&&s.duration>0,m=n._context.staticPlot;r.each(function(_){var p,v=_[0].trace,g=v.error_x||{},b=v.error_y||{};v.ids&&(p=function(k){return k.id});var d=a.hasMarkers(v)&&v.marker.maxdisplayed>0;b.visible||g.visible||(_=[]);var T=f.select(this).selectAll("g.errorbar").data(_,p);if(T.exit().remove(),_.length){g.visible||T.selectAll("path.xerror").remove(),b.visible||T.selectAll("path.yerror").remove(),T.style("opacity",1);var w=T.enter().append("g").classed("errorbar",!0);u&&w.style("opacity",0).transition().duration(s.duration).style("opacity",1),i.setClipUrl(T,o.layerClipId,n),T.each(function(k){var P=f.select(this),A=function(N,j,z){var H={x:j.c2p(N.x),y:z.c2p(N.y)};return N.yh!==void 0&&(H.yh=z.c2p(N.yh),H.ys=z.c2p(N.ys),y(H.ys)||(H.noYS=!0,H.ys=z.c2p(N.ys,!0))),N.xh!==void 0&&(H.xh=j.c2p(N.xh),H.xs=j.c2p(N.xs),y(H.xs)||(H.noXS=!0,H.xs=j.c2p(N.xs,!0))),H}(k,e,l);if(!d||k.vis){var L,I=P.select("path.yerror");if(b.visible&&y(A.x)&&y(A.yh)&&y(A.ys)){var x=b.width;L="M"+(A.x-x)+","+A.yh+"h"+2*x+"m-"+x+",0V"+A.ys,A.noYS||(L+="m-"+x+",0h"+2*x),I.size()?u&&(I=I.transition().duration(s.duration).ease(s.easing)):I=P.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("yerror",!0),I.attr("d",L)}else I.remove();var C=P.select("path.xerror");if(g.visible&&y(A.y)&&y(A.xh)&&y(A.xs)){var F=(g.copy_ystyle?b:g).width;L="M"+A.xh+","+(A.y-F)+"v"+2*F+"m0,-"+F+"H"+A.xs,A.noXS||(L+="m0,-"+F+"v"+2*F),C.size()?u&&(C=C.transition().duration(s.duration).ease(s.easing)):C=P.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("xerror",!0),C.attr("d",L)}else C.remove()}})}})}},2036:function(J,h,t){var f=t(3428),y=t(6308);J.exports=function(i){i.each(function(a){var n=a[0].trace,r=n.error_y||{},o=n.error_x||{},s=f.select(this);s.selectAll("path.yerror").style("stroke-width",r.thickness+"px").call(y.stroke,r.color),o.copy_ystyle&&(o=r),s.selectAll("path.xerror").style("stroke-width",o.thickness+"px").call(y.stroke,o.color)})}},5756:function(J,h,t){var f=t(5376),y=t(5460).hoverlabel,i=t(2880).extendFlat;J.exports={hoverlabel:{bgcolor:i({},y.bgcolor,{arrayOk:!0}),bordercolor:i({},y.bordercolor,{arrayOk:!0}),font:f({arrayOk:!0,editType:"none"}),align:i({},y.align,{arrayOk:!0}),namelength:i({},y.namelength,{arrayOk:!0}),editType:"none"}}},5056:function(J,h,t){var f=t(3400),y=t(4040);function i(a,n,r,o){o=o||f.identity,Array.isArray(a)&&(n[0][r]=o(a))}J.exports=function(a){var n=a.calcdata,r=a._fullLayout;function o(m){return function(_){return f.coerceHoverinfo({hoverinfo:_},{_module:m._module},r)}}for(var s=0;s<n.length;s++){var e=n[s],l=e[0].trace;if(!y.traceIs(l,"pie-like")){var u=y.traceIs(l,"2dMap")?i:f.fillArray;u(l.hoverinfo,e,"hi",o(l)),l.hovertemplate&&u(l.hovertemplate,e,"ht"),l.hoverlabel&&(u(l.hoverlabel.bgcolor,e,"hbg"),u(l.hoverlabel.bordercolor,e,"hbc"),u(l.hoverlabel.font.size,e,"hts"),u(l.hoverlabel.font.color,e,"htc"),u(l.hoverlabel.font.family,e,"htf"),u(l.hoverlabel.namelength,e,"hnl"),u(l.hoverlabel.align,e,"hta"))}}}},2376:function(J,h,t){var f=t(4040),y=t(3292).hover;J.exports=function(i,a,n){var r=f.getComponentMethod("annotations","onClick")(i,i._hoverdata);function o(){i.emit("plotly_click",{points:i._hoverdata,event:a})}n!==void 0&&y(i,a,n,!0),i._hoverdata&&a&&a.target&&(r&&r.then?r.then(o):o(),a.stopImmediatePropagation&&a.stopImmediatePropagation())}},2456:function(J){J.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},5448:function(J,h,t){var f=t(3400),y=t(5756),i=t(6132);J.exports=function(a,n,r,o){var s=f.extendFlat({},o.hoverlabel);n.hovertemplate&&(s.namelength=-1),i(a,n,function(e,l){return f.coerce(a,n,y,e,l)},s)}},624:function(J,h,t){var f=t(3400);h.getSubplot=function(o){return o.subplot||o.xaxis+o.yaxis||o.geo},h.isTraceInSubplots=function(o,s){if(o.type==="splom"){for(var e=o.xaxes||[],l=o.yaxes||[],u=0;u<e.length;u++)for(var m=0;m<l.length;m++)if(s.indexOf(e[u]+l[m])!==-1)return!0;return!1}return s.indexOf(h.getSubplot(o))!==-1},h.flat=function(o,s){for(var e=new Array(o.length),l=0;l<o.length;l++)e[l]=s;return e},h.p2c=function(o,s){for(var e=new Array(o.length),l=0;l<o.length;l++)e[l]=o[l].p2c(s);return e},h.getDistanceFunction=function(o,s,e,l){return o==="closest"?l||h.quadrature(s,e):o.charAt(0)==="x"?s:e},h.getClosest=function(o,s,e){if(e.index!==!1)e.index>=0&&e.index<o.length?e.distance=0:e.index=!1;else for(var l=0;l<o.length;l++){var u=s(o[l]);u<=e.distance&&(e.index=l,e.distance=u)}return e},h.inbox=function(o,s,e){return o*s<0||o===0?e:1/0},h.quadrature=function(o,s){return function(e){var l=o(e),u=s(e);return Math.sqrt(l*l+u*u)}},h.makeEventData=function(o,s,e){var l="index"in o?o.index:o.pointNumber,u={data:s._input,fullData:s,curveNumber:s.index,pointNumber:l};if(s._indexToPoints){var m=s._indexToPoints[l];m.length===1?u.pointIndex=m[0]:u.pointIndices=m}else u.pointIndex=l;return s._module.eventData?u=s._module.eventData(u,o,s,e,l):("xVal"in o?u.x=o.xVal:"x"in o&&(u.x=o.x),"yVal"in o?u.y=o.yVal:"y"in o&&(u.y=o.y),o.xa&&(u.xaxis=o.xa),o.ya&&(u.yaxis=o.ya),o.zLabelVal!==void 0&&(u.z=o.zLabelVal)),h.appendArrayPointValue(u,s,l),u},h.appendArrayPointValue=function(o,s,e){var l=s._arrayAttrs;if(l)for(var u=0;u<l.length;u++){var m=l[u],_=i(m);if(o[_]===void 0){var p=a(f.nestedProperty(s,m).get(),e);p!==void 0&&(o[_]=p)}}},h.appendArrayMultiPointValues=function(o,s,e){var l=s._arrayAttrs;if(l)for(var u=0;u<l.length;u++){var m=l[u],_=i(m);if(o[_]===void 0){for(var p=f.nestedProperty(s,m).get(),v=new Array(e.length),g=0;g<e.length;g++)v[g]=a(p,e[g]);o[_]=v}}};var y={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function i(o){return y[o]||o}function a(o,s){return Array.isArray(s)?Array.isArray(o)&&Array.isArray(o[s[0]])?o[s[0]][s[1]]:void 0:o[s]}var n={x:!0,y:!0},r={"x unified":!0,"y unified":!0};h.isUnifiedHover=function(o){return typeof o=="string"&&!!r[o]},h.isXYhover=function(o){return typeof o=="string"&&!!n[o]}},3292:function(J,h,t){var f=t(3428),y=t(8248),i=t(9760),a=t(3400),n=a.pushUnique,r=a.strTranslate,o=a.strRotate,s=t(5924),e=t(2736),l=t(2213),u=t(3616),m=t(6308),_=t(6476),p=t(4460),v=t(4040),g=t(624),b=t(2456),d=t(7864),T=t(1140),w=b.YANGLE,k=Math.PI*w/180,P=1/Math.sin(k),A=Math.cos(k),L=Math.sin(k),I=b.HOVERARROWSIZE,x=b.HOVERTEXTPAD,C={box:!0,ohlc:!0,violin:!0,candlestick:!0},F={scatter:!0,scattergl:!0,splom:!0};function N(S,Y){return S.distance-Y.distance}function j(S){return[S.trace.index,S.index,S.x0,S.y0,S.name,S.attr,S.xa?S.xa._id:"",S.ya?S.ya._id:""].join(",")}h.hover=function(S,Y,Z,G){S=a.getGraphDiv(S);var Q=Y.target;a.throttle(S._fullLayout._uid+b.HOVERID,b.HOVERMINTIME,function(){(function(at,tt,_t,Pt,kt){_t||(_t="xy");var lt,st,ht,bt=Array.isArray(_t)?_t:[_t],pt=at._fullLayout,Dt=pt.hoversubplots,qt=pt._plots||[],ct=qt[_t],xt=pt._has("cartesian"),dt=tt.hovermode||pt.hovermode,vt=(dt||"").charAt(0)==="x",yt=(dt||"").charAt(0)==="y";if(xt&&(vt||yt)&&Dt==="axis"){for(var Mt=bt.length,Tt=0;Tt<Mt;Tt++)if(qt[lt=bt[Tt]]){st=p.getFromId(at,lt,"x"),ht=p.getFromId(at,lt,"y");var Lt=(vt?st:ht)._subplotsWith;if(Lt&&Lt.length)for(var St=0;St<Lt.length;St++)n(bt,Lt[St])}}if(ct&&Dt!=="single"){var At=ct.overlays.map(function(Ke){return Ke.id});bt=bt.concat(At)}for(var Nt=bt.length,zt=new Array(Nt),Ft=new Array(Nt),Gt=!1,Bt=0;Bt<Nt;Bt++)if(qt[lt=bt[Bt]])Gt=!0,zt[Bt]=qt[lt].xaxis,Ft[Bt]=qt[lt].yaxis;else{if(!pt[lt]||!pt[lt]._subplot)return void a.warn("Unrecognized subplot: "+lt);var de=pt[lt]._subplot;zt[Bt]=de.xaxis,Ft[Bt]=de.yaxis}if(dt&&!Gt&&(dt="closest"),["x","y","closest","x unified","y unified"].indexOf(dt)===-1||!at.calcdata||at.querySelector(".zoombox")||at._dragging)return _.unhoverRaw(at,tt);var ie=pt.hoverdistance;ie===-1&&(ie=1/0);var pe=pt.spikedistance;pe===-1&&(pe=1/0);var Ot,gt,jt,Xt,xe,Vt,Qt,re,_e,ce,Me,te,X,et=[],It=[],Ct={hLinePoint:null,vLinePoint:null},Ut=!1;if(Array.isArray(tt))for(dt="array",jt=0;jt<tt.length;jt++)(xe=at.calcdata[tt[jt].curveNumber||0])&&(Vt=xe[0].trace,xe[0].trace.hoverinfo!=="skip"&&(It.push(xe),Vt.orientation==="h"&&(Ut=!0)));else{var Rt,Ht,Zt=at.calcdata.slice();for(Zt.sort(function(Ke,hn){return(Ke[0].trace.zorder||0)-(hn[0].trace.zorder||0)}),Xt=0;Xt<Zt.length;Xt++)xe=Zt[Xt],(Vt=xe[0].trace).hoverinfo!=="skip"&&g.isTraceInSubplots(Vt,bt)&&(It.push(xe),Vt.orientation==="h"&&(Ut=!0));if(kt){if(s.triggerHandler(at,"plotly_beforehover",tt)===!1)return;var Kt=kt.getBoundingClientRect();Rt=tt.clientX-Kt.left,Ht=tt.clientY-Kt.top,pt._calcInverseTransform(at);var oe=a.apply3DTransform(pt._invTransform)(Rt,Ht);if(Rt=oe[0],Ht=oe[1],Rt<0||Rt>zt[0]._length||Ht<0||Ht>Ft[0]._length)return _.unhoverRaw(at,tt)}else Rt="xpx"in tt?tt.xpx:zt[0]._length/2,Ht="ypx"in tt?tt.ypx:Ft[0]._length/2;if(tt.pointerX=Rt+zt[0]._offset,tt.pointerY=Ht+Ft[0]._offset,Ot="xval"in tt?g.flat(bt,tt.xval):g.p2c(zt,Rt),gt="yval"in tt?g.flat(bt,tt.yval):g.p2c(Ft,Ht),!y(Ot[0])||!y(gt[0]))return a.warn("Fx.hover failed",tt,at),_.unhoverRaw(at,tt)}var ue=1/0;function Se(Ke,hn){for(Xt=0;Xt<It.length;Xt++)if((xe=It[Xt])&&xe[0]&&xe[0].trace&&(Vt=xe[0].trace).visible===!0&&Vt._length!==0&&["carpet","contourcarpet"].indexOf(Vt._module.name)===-1){if(_e=dt,g.isUnifiedHover(_e)&&(_e=_e.charAt(0)),Vt.type==="splom"?Qt=bt[re=0]:(Qt=g.getSubplot(Vt),re=bt.indexOf(Qt)),te={cd:xe,trace:Vt,xa:zt[re],ya:Ft[re],maxHoverDistance:ie,maxSpikeDistance:pe,index:!1,distance:Math.min(ue,ie),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:m.defaultLine,name:Vt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},pt[Qt]&&(te.subplot=pt[Qt]._subplot),pt._splomScenes&&pt._splomScenes[Vt.uid]&&(te.scene=pt._splomScenes[Vt.uid]),_e==="array"){var $e=tt[Xt];"pointNumber"in $e?(te.index=$e.pointNumber,_e="closest"):(_e="","xval"in $e&&(ce=$e.xval,_e="x"),"yval"in $e&&(Me=$e.yval,_e=_e?"closest":"y"))}else Ke!==void 0&&hn!==void 0?(ce=Ke,Me=hn):(ce=Ot[re],Me=gt[re]);if(X=et.length,ie!==0)if(Vt._module&&Vt._module.hoverPoints){var on=Vt._module.hoverPoints(te,ce,Me,_e,{finiteRange:!0,hoverLayer:pt._hoverlayer,hoversubplots:Dt,gd:at});if(on)for(var mn,Xe=0;Xe<on.length;Xe++)mn=on[Xe],y(mn.x0)&&y(mn.y0)&&et.push(D(mn,dt))}else a.log("Unrecognized trace type in hover:",Vt);if(dt==="closest"&&et.length>X&&(et.splice(0,X),ue=et[0].distance),xt&&pe!==0&&et.length===0){te.distance=pe,te.index=!1;var Be=Vt._module.hoverPoints(te,ce,Me,"closest",{hoverLayer:pt._hoverlayer});if(Be&&(Be=Be.filter(function(un){return un.spikeDistance<=pe})),Be&&Be.length){var We,nn=Be.filter(function(un){return un.xa.showspikes&&un.xa.spikesnap!=="hovered data"});if(nn.length){var tn=nn[0];y(tn.x0)&&y(tn.y0)&&(We=ve(tn),(!Ct.vLinePoint||Ct.vLinePoint.spikeDistance>We.spikeDistance)&&(Ct.vLinePoint=We))}var pn=Be.filter(function(un){return un.ya.showspikes&&un.ya.spikesnap!=="hovered data"});if(pn.length){var ln=pn[0];y(ln.x0)&&y(ln.y0)&&(We=ve(ln),(!Ct.hLinePoint||Ct.hLinePoint.spikeDistance>We.spikeDistance)&&(Ct.hLinePoint=We))}}}}}function he(Ke,hn,$e){for(var on,mn=null,Xe=1/0,Be=0;Be<Ke.length;Be++)st&&st._id!==Ke[Be].xa._id||ht&&ht._id!==Ke[Be].ya._id||(on=Ke[Be].spikeDistance,$e&&Be===0&&(on=-1/0),on<=Xe&&on<=hn&&(mn=Ke[Be],Xe=on));return mn}function ve(Ke){return Ke?{xa:Ke.xa,ya:Ke.ya,x:Ke.xSpike!==void 0?Ke.xSpike:(Ke.x0+Ke.x1)/2,y:Ke.ySpike!==void 0?Ke.ySpike:(Ke.y0+Ke.y1)/2,distance:Ke.distance,spikeDistance:Ke.spikeDistance,curveNumber:Ke.trace.index,color:Ke.color,pointNumber:Ke.index}:null}Se();var ke={fullLayout:pt,container:pt._hoverlayer,event:tt},Ae=at._spikepoints,ee={vLinePoint:Ct.vLinePoint,hLinePoint:Ct.hLinePoint};at._spikepoints=ee;var fe=function(){var Ke=et.filter(function($e){return st&&st._id===$e.xa._id&&ht&&ht._id===$e.ya._id}),hn=et.filter(function($e){return!(st&&st._id===$e.xa._id&&ht&&ht._id===$e.ya._id)});Ke.sort(N),hn.sort(N),et=function($e,on){for(var mn=on.charAt(0),Xe=[],Be=[],We=[],nn=0;nn<$e.length;nn++){var tn=$e[nn];v.traceIs(tn.trace,"bar-like")||v.traceIs(tn.trace,"box-violin")?We.push(tn):tn.trace[mn+"period"]?Be.push(tn):Xe.push(tn)}return Xe.concat(Be).concat(We)}(et=Ke.concat(hn),dt)};fe();var ge=dt.charAt(0),je=(ge==="x"||ge==="y")&&et[0]&&F[et[0].trace.type];if(xt&&pe!==0&&et.length!==0){var Ie=he(et.filter(function(Ke){return Ke.ya.showspikes}),pe,je);Ct.hLinePoint=ve(Ie);var Fe=he(et.filter(function(Ke){return Ke.xa.showspikes}),pe,je);Ct.vLinePoint=ve(Fe)}if(et.length===0){var ye=_.unhoverRaw(at,tt);return!xt||Ct.hLinePoint===null&&Ct.vLinePoint===null||q(Ae)&&B(at,Ct,ke),ye}if(xt&&q(Ae)&&B(at,Ct,ke),g.isXYhover(_e)&&et[0].length!==0&&et[0].trace.type!=="splom"){var be=et[0],Te=(et=C[be.trace.type]?et.filter(function(Ke){return Ke.trace.index===be.trace.index}):[be]).length;Se(ot("x",be,pt),ot("y",be,pt));var Pe,Le=[],Oe={},Ee=0,He=function(Ke){var hn=C[Ke.trace.type]?j(Ke):Ke.trace.index;if(Oe[hn]){var $e=Oe[hn]-1,on=Le[$e];$e>0&&Math.abs(Ke.distance)<Math.abs(on.distance)&&(Le[$e]=Ke)}else Ee++,Oe[hn]=Ee,Le.push(Ke)};for(Pe=0;Pe<Te;Pe++)He(et[Pe]);for(Pe=et.length-1;Pe>Te-1;Pe--)He(et[Pe]);et=Le,fe()}var ze=at._hoverdata,Ne=[],Ye=rt(at),Ze=$(at);for(jt=0;jt<et.length;jt++){var Re=et[jt],Ge=g.makeEventData(Re,Re.trace,Re.cd);if(Re.hovertemplate!==!1){var Je=!1;Re.cd[Re.index]&&Re.cd[Re.index].ht&&(Je=Re.cd[Re.index].ht),Re.hovertemplate=Je||Re.trace.hovertemplate||!1}if(Re.xa&&Re.ya){var fn=Re.x0+Re.xa._offset,gn=Re.x1+Re.xa._offset,sn=Re.y0+Re.ya._offset,Cn=Re.y1+Re.ya._offset,Tn=Math.min(fn,gn),On=Math.max(fn,gn),Pn=Math.min(sn,Cn),zn=Math.max(sn,Cn);Ge.bbox={x0:Tn+Ze,x1:On+Ze,y0:Pn+Ye,y1:zn+Ye}}Re.eventData=[Ge],Ne.push(Ge)}at._hoverdata=Ne;var Bn=dt==="y"&&(It.length>1||et.length>1)||dt==="closest"&&Ut&&et.length>1,Un=m.combine(pt.plot_bgcolor||m.background,pt.paper_bgcolor),Fn=H(et,{gd:at,hovermode:dt,rotateLabels:Bn,bgColor:Un,container:pt._hoverlayer,outerContainer:pt._paper.node(),commonLabelOpts:pt.hoverlabel,hoverdistance:pt.hoverdistance}),Mn=Fn.hoverLabels;if(g.isUnifiedHover(dt)||(function(Ke,hn,$e,on){var mn,Xe,Be,We,nn,tn,pn,ln=hn?"xa":"ya",un=hn?"ya":"xa",An=0,Nn=1,Ln=Ke.size(),En=new Array(Ln),In=0,_n=on.minX,jn=on.maxX,Sn=on.minY,xn=on.maxY,Qn=function(vn){return vn*$e._invScaleX},Yn=function(vn){return vn*$e._invScaleY};function lr(vn){var tr=vn[0],sr=vn[vn.length-1];if(Xe=tr.pmin-tr.pos-tr.dp+tr.size,Be=sr.pos+sr.dp+sr.size-tr.pmax,Xe>.01){for(nn=vn.length-1;nn>=0;nn--)vn[nn].dp+=Xe;mn=!1}if(!(Be<.01)){if(Xe<-.01){for(nn=vn.length-1;nn>=0;nn--)vn[nn].dp-=Be;mn=!1}if(mn){var Wn=0;for(We=0;We<vn.length;We++)(tn=vn[We]).pos+tn.dp+tn.size>tr.pmax&&Wn++;for(We=vn.length-1;We>=0&&!(Wn<=0);We--)(tn=vn[We]).pos>tr.pmax-1&&(tn.del=!0,Wn--);for(We=0;We<vn.length&&!(Wn<=0);We++)if((tn=vn[We]).pos<tr.pmin+1)for(tn.del=!0,Wn--,Be=2*tn.size,nn=vn.length-1;nn>=0;nn--)vn[nn].dp-=Be;for(We=vn.length-1;We>=0&&!(Wn<=0);We--)(tn=vn[We]).pos+tn.dp+tn.size>tr.pmax&&(tn.del=!0,Wn--)}}}for(Ke.each(function(vn){var tr=vn[ln],sr=vn[un],Wn=tr._id.charAt(0)==="x",Lr=tr.range;In===0&&Lr&&Lr[0]>Lr[1]!==Wn&&(Nn=-1);var Or=0,rr=Wn?$e.width:$e.height;if($e.hovermode==="x"||$e.hovermode==="y"){var Tr,br,Sr=it(vn,hn),vr=vn.anchor,Dr=vr==="end"?-1:1;if(vr==="middle")br=(Tr=vn.crossPos+(Wn?Yn(Sr.y-vn.by/2):Qn(vn.bx/2+vn.tx2width/2)))+(Wn?Yn(vn.by):Qn(vn.bx));else if(Wn)br=(Tr=vn.crossPos+Yn(I+Sr.y)-Yn(vn.by/2-I))+Yn(vn.by);else{var Pr=Qn(Dr*I+Sr.x),jr=Pr+Qn(Dr*vn.bx);Tr=vn.crossPos+Math.min(Pr,jr),br=vn.crossPos+Math.max(Pr,jr)}Wn?Sn!==void 0&&xn!==void 0&&Math.min(br,xn)-Math.max(Tr,Sn)>1&&(sr.side==="left"?(Or=sr._mainLinePosition,rr=$e.width):rr=sr._mainLinePosition):_n!==void 0&&jn!==void 0&&Math.min(br,jn)-Math.max(Tr,_n)>1&&(sr.side==="top"?(Or=sr._mainLinePosition,rr=$e.height):rr=sr._mainLinePosition)}En[In++]=[{datum:vn,traceIndex:vn.trace.index,dp:0,pos:vn.pos,posref:vn.posref,size:vn.by*(Wn?P:1)/2,pmin:Or,pmax:rr}]}),En.sort(function(vn,tr){return vn[0].posref-tr[0].posref||Nn*(tr[0].traceIndex-vn[0].traceIndex)});!mn&&An<=Ln;){for(An++,mn=!0,We=0;We<En.length-1;){var nr=En[We],xr=En[We+1],fr=nr[nr.length-1],dr=xr[0];if((Xe=fr.pos+fr.dp+fr.size-dr.pos-dr.dp+dr.size)>.01&&fr.pmin===dr.pmin&&fr.pmax===dr.pmax){for(nn=xr.length-1;nn>=0;nn--)xr[nn].dp+=Xe;for(nr.push.apply(nr,xr),En.splice(We+1,1),pn=0,nn=nr.length-1;nn>=0;nn--)pn+=nr[nn].dp;for(Be=pn/nr.length,nn=nr.length-1;nn>=0;nn--)nr[nn].dp-=Be;mn=!1}else We++}En.forEach(lr)}for(We=En.length-1;We>=0;We--){var zr=En[We];for(nn=zr.length-1;nn>=0;nn--){var Ar=zr[nn],Br=Ar.datum;Br.offset=Ar.dp,Br.del=Ar.del}}}(Mn,Bn,pt,Fn.commonLabelBoundingBox),K(Mn,Bn,pt._invScaleX,pt._invScaleY)),kt&&kt.tagName){var kn=v.getComponentMethod("annotations","hasClickToShow")(at,Ne);l(f.select(kt),kn?"pointer":"")}kt&&!Pt&&function(Ke,hn,$e){if(!$e||$e.length!==Ke._hoverdata.length)return!0;for(var on=$e.length-1;on>=0;on--){var mn=$e[on],Xe=Ke._hoverdata[on];if(mn.curveNumber!==Xe.curveNumber||String(mn.pointNumber)!==String(Xe.pointNumber)||String(mn.pointNumbers)!==String(Xe.pointNumbers))return!0}return!1}(at,0,ze)&&(ze&&at.emit("plotly_unhover",{event:tt,points:ze}),at.emit("plotly_hover",{event:tt,points:at._hoverdata,xaxes:zt,yaxes:Ft,xvals:Ot,yvals:gt}))})(S,Y,Z,G,Q)})},h.loneHover=function(S,Y){var Z=!0;Array.isArray(S)||(Z=!1,S=[S]);var G=Y.gd,Q=rt(G),at=$(G),tt=H(S.map(function(kt){var lt=kt._x0||kt.x0||kt.x||0,st=kt._x1||kt.x1||kt.x||0,ht=kt._y0||kt.y0||kt.y||0,bt=kt._y1||kt.y1||kt.y||0,pt=kt.eventData;if(pt){var Dt=Math.min(lt,st),qt=Math.max(lt,st),ct=Math.min(ht,bt),xt=Math.max(ht,bt),dt=kt.trace;if(v.traceIs(dt,"gl3d")){var vt=G._fullLayout[dt.scene]._scene.container,yt=vt.offsetLeft,Mt=vt.offsetTop;Dt+=yt,qt+=yt,ct+=Mt,xt+=Mt}pt.bbox={x0:Dt+at,x1:qt+at,y0:ct+Q,y1:xt+Q},Y.inOut_bbox&&Y.inOut_bbox.push(pt.bbox)}else pt=!1;return{color:kt.color||m.defaultLine,x0:kt.x0||kt.x||0,x1:kt.x1||kt.x||0,y0:kt.y0||kt.y||0,y1:kt.y1||kt.y||0,xLabel:kt.xLabel,yLabel:kt.yLabel,zLabel:kt.zLabel,text:kt.text,name:kt.name,idealAlign:kt.idealAlign,borderColor:kt.borderColor,fontFamily:kt.fontFamily,fontSize:kt.fontSize,fontColor:kt.fontColor,nameLength:kt.nameLength,textAlign:kt.textAlign,trace:kt.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:kt.hovertemplate||!1,hovertemplateLabels:kt.hovertemplateLabels||!1,eventData:pt}}),{gd:G,hovermode:"closest",rotateLabels:!1,bgColor:Y.bgColor||m.background,container:f.select(Y.container),outerContainer:Y.outerContainer||Y.container}).hoverLabels,_t=0,Pt=0;return tt.sort(function(kt,lt){return kt.y0-lt.y0}).each(function(kt,lt){var st=kt.y0-kt.by/2;kt.offset=st-5<_t?_t-st+5:0,_t=st+kt.by+kt.offset,lt===Y.anchorIndex&&(Pt=kt.offset)}).each(function(kt){kt.offset-=Pt}),K(tt,!1,G._fullLayout._invScaleX,G._fullLayout._invScaleY),Z?tt:tt.node()};var z=/<extra>([\s\S]*)<\/extra>/;function H(S,Y){var Z=Y.gd,G=Z._fullLayout,Q=Y.hovermode,at=Y.rotateLabels,tt=Y.bgColor,_t=Y.container,Pt=Y.outerContainer,kt=Y.commonLabelOpts||{};if(S.length===0)return[[]];var lt=Y.fontFamily||b.HOVERFONT,st=Y.fontSize||b.HOVERFONTSIZE,ht=S[0],bt=ht.xa,pt=ht.ya,Dt=Q.charAt(0),qt=Dt+"Label",ct=ht[qt];if(ct===void 0&&bt.type==="multicategory")for(var xt=0;xt<S.length&&(ct=S[xt][qt])===void 0;xt++);var dt=E(Z,Pt),vt=dt.top,yt=dt.width,Mt=dt.height,Tt=ct!==void 0&&ht.distance<=Y.hoverdistance&&(Q==="x"||Q==="y");if(Tt){var Lt,St,At=!0;for(Lt=0;Lt<S.length;Lt++)if(At&&S[Lt].zLabel===void 0&&(At=!1),St=S[Lt].hoverinfo||S[Lt].trace.hoverinfo){var Nt=Array.isArray(St)?St:St.split("+");if(Nt.indexOf("all")===-1&&Nt.indexOf(Q)===-1){Tt=!1;break}}At&&(Tt=!1)}var zt=_t.selectAll("g.axistext").data(Tt?[0]:[]);zt.enter().append("g").classed("axistext",!0),zt.exit().remove();var Ft={minX:0,maxX:0,minY:0,maxY:0};if(zt.each(function(){var he=f.select(this),ve=a.ensureSingle(he,"path","",function(Re){Re.style({"stroke-width":"1px"})}),ke=a.ensureSingle(he,"text","",function(Re){Re.attr("data-notex",1)}),Ae=kt.bgcolor||m.defaultLine,ee=kt.bordercolor||m.contrast(Ae),fe=m.contrast(Ae),ge={family:kt.font.family||lt,size:kt.font.size||st,color:kt.font.color||fe};ve.style({fill:Ae,stroke:ee}),ke.text(ct).call(u.font,ge).call(e.positionText,0,0).call(e.convertToTspans,Z),he.attr("transform","");var je,Ie,Fe=E(Z,ke.node());if(Q==="x"){var ye=bt.side==="top"?"-":"";ke.attr("text-anchor","middle").call(e.positionText,0,bt.side==="top"?vt-Fe.bottom-I-x:vt-Fe.top+I+x),je=bt._offset+(ht.x0+ht.x1)/2,Ie=pt._offset+(bt.side==="top"?0:pt._length);var be=Fe.width/2+x,Te=je;je<be?Te=be:je>G.width-be&&(Te=G.width-be),ve.attr("d","M"+(je-Te)+",0L"+(je-Te+I)+","+ye+I+"H"+be+"v"+ye+(2*x+Fe.height)+"H"+-be+"V"+ye+I+"H"+(je-Te-I)+"Z"),je=Te,Ft.minX=je-be,Ft.maxX=je+be,bt.side==="top"?(Ft.minY=Ie-(2*x+Fe.height),Ft.maxY=Ie-x):(Ft.minY=Ie+x,Ft.maxY=Ie+(2*x+Fe.height))}else{var Pe,Le,Oe;pt.side==="right"?(Pe="start",Le=1,Oe="",je=bt._offset+bt._length):(Pe="end",Le=-1,Oe="-",je=bt._offset),Ie=pt._offset+(ht.y0+ht.y1)/2,ke.attr("text-anchor",Pe),ve.attr("d","M0,0L"+Oe+I+","+I+"V"+(x+Fe.height/2)+"h"+Oe+(2*x+Fe.width)+"V-"+(x+Fe.height/2)+"H"+Oe+I+"V-"+I+"Z"),Ft.minY=Ie-(x+Fe.height/2),Ft.maxY=Ie+(x+Fe.height/2),pt.side==="right"?(Ft.minX=je+I,Ft.maxX=je+I+(2*x+Fe.width)):(Ft.minX=je-I-(2*x+Fe.width),Ft.maxX=je-I);var Ee,He=Fe.height/2,ze=vt-Fe.top-He,Ne="clip"+G._uid+"commonlabel"+pt._id;if(je<Fe.width+2*x+I){Ee="M-"+(I+x)+"-"+He+"h-"+(Fe.width-x)+"V"+He+"h"+(Fe.width-x)+"Z";var Ye=Fe.width-je+x;e.positionText(ke,Ye,ze),Pe==="end"&&ke.selectAll("tspan").each(function(){var Re=f.select(this),Ge=u.tester.append("text").text(Re.text()).call(u.font,ge),Je=E(Z,Ge.node());Math.round(Je.width)<Math.round(Fe.width)&&Re.attr("x",Ye-Je.width),Ge.remove()})}else e.positionText(ke,Le*(x+I),ze),Ee=null;var Ze=G._topclips.selectAll("#"+Ne).data(Ee?[0]:[]);Ze.enter().append("clipPath").attr("id",Ne).append("path"),Ze.exit().remove(),Ze.select("path").attr("d",Ee),u.setClipUrl(ke,Ee?Ne:null,Z)}he.attr("transform",r(je,Ie))}),g.isUnifiedHover(Q)){_t.selectAll("g.hovertext").remove();var Gt=S.filter(function(he){return he.hoverinfo!=="none"});if(Gt.length===0)return[];var Bt=G.hoverlabel,de=Bt.font,ie={showlegend:!0,legend:{title:{text:ct,font:de},font:de,bgcolor:Bt.bgcolor,bordercolor:Bt.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:G.legend?G.legend.traceorder:void 0,orientation:"v"}},pe={font:de};d(ie,pe,Z._fullData);var Ot=pe.legend;Ot.entries=[];for(var gt=0;gt<Gt.length;gt++){var jt=Gt[gt];if(jt.hoverinfo!=="none"){var Xt=U(jt,!0,Q,G,ct),xe=Xt[0],Vt=Xt[1];jt.name=Vt,jt.text=Vt!==""?Vt+" : "+xe:xe;var Qt=jt.cd[jt.index];Qt&&(Qt.mc&&(jt.mc=Qt.mc),Qt.mcc&&(jt.mc=Qt.mcc),Qt.mlc&&(jt.mlc=Qt.mlc),Qt.mlcc&&(jt.mlc=Qt.mlcc),Qt.mlw&&(jt.mlw=Qt.mlw),Qt.mrc&&(jt.mrc=Qt.mrc),Qt.dir&&(jt.dir=Qt.dir)),jt._distinct=!0,Ot.entries.push([jt])}}Ot.entries.sort(function(he,ve){return he[0].trace.index-ve[0].trace.index}),Ot.layer=_t,Ot._inHover=!0,Ot._groupTitleFont=Bt.grouptitlefont,T(Z,Ot);var re,_e,ce,Me,te=_t.select("g.legend"),X=E(Z,te.node()),et=X.width+2*x,It=X.height+2*x,Ct=Gt[0],Ut=(Ct.x0+Ct.x1)/2,Rt=(Ct.y0+Ct.y1)/2,Ht=!(v.traceIs(Ct.trace,"bar-like")||v.traceIs(Ct.trace,"box-violin"));Dt==="y"?Ht?(_e=Rt-x,re=Rt+x):(_e=Math.min.apply(null,Gt.map(function(he){return Math.min(he.y0,he.y1)})),re=Math.max.apply(null,Gt.map(function(he){return Math.max(he.y0,he.y1)}))):_e=re=a.mean(Gt.map(function(he){return(he.y0+he.y1)/2}))-It/2,Dt==="x"?Ht?(ce=Ut+x,Me=Ut-x):(ce=Math.max.apply(null,Gt.map(function(he){return Math.max(he.x0,he.x1)})),Me=Math.min.apply(null,Gt.map(function(he){return Math.min(he.x0,he.x1)}))):ce=Me=a.mean(Gt.map(function(he){return(he.x0+he.x1)/2}))-et/2;var Zt,Kt,oe=bt._offset,ue=pt._offset;return Me+=oe-et,_e+=ue-It,Zt=(ce+=oe)+et<yt&&ce>=0?ce:Me+et<yt&&Me>=0?Me:oe+et<yt?oe:ce-Ut<Ut-Me+et?yt-et:0,Zt+=x,Kt=(re+=ue)+It<Mt&&re>=0?re:_e+It<Mt&&_e>=0?_e:ue+It<Mt?ue:re-Rt<Rt-_e+It?Mt-It:0,Kt+=x,te.attr("transform",r(Zt-1,Kt-1)),te}var Se=_t.selectAll("g.hovertext").data(S,function(he){return j(he)});return Se.enter().append("g").classed("hovertext",!0).each(function(){var he=f.select(this);he.append("rect").call(m.fill,m.addOpacity(tt,.8)),he.append("text").classed("name",!0),he.append("path").style("stroke-width","1px"),he.append("text").classed("nums",!0).call(u.font,lt,st)}),Se.exit().remove(),Se.each(function(he){var ve=f.select(this).attr("transform",""),ke=he.color;Array.isArray(ke)&&(ke=ke[he.eventData[0].pointNumber]);var Ae=he.bgcolor||ke,ee=m.combine(m.opacity(Ae)?Ae:m.defaultLine,tt),fe=m.combine(m.opacity(ke)?ke:m.defaultLine,tt),ge=he.borderColor||m.contrast(ee),je=U(he,Tt,Q,G,ct,ve),Ie=je[0],Fe=je[1],ye=ve.select("text.nums").call(u.font,he.fontFamily||lt,he.fontSize||st,he.fontColor||ge).text(Ie).attr("data-notex",1).call(e.positionText,0,0).call(e.convertToTspans,Z),be=ve.select("text.name"),Te=0,Pe=0;if(Fe&&Fe!==Ie){be.call(u.font,he.fontFamily||lt,he.fontSize||st,fe).text(Fe).attr("data-notex",1).call(e.positionText,0,0).call(e.convertToTspans,Z);var Le=E(Z,be.node());Te=Le.width+2*x,Pe=Le.height+2*x}else be.remove(),ve.select("rect").remove();ve.select("path").style({fill:ee,stroke:ge});var Oe=he.xa._offset+(he.x0+he.x1)/2,Ee=he.ya._offset+(he.y0+he.y1)/2,He=Math.abs(he.x1-he.x0),ze=Math.abs(he.y1-he.y0),Ne=E(Z,ye.node()),Ye=Ne.width/G._invScaleX,Ze=Ne.height/G._invScaleY;he.ty0=(vt-Ne.top)/G._invScaleY,he.bx=Ye+2*x,he.by=Math.max(Ze+2*x,Pe),he.anchor="start",he.txwidth=Ye,he.tx2width=Te,he.offset=0;var Re,Ge,Je=(Ye+I+x+Te)*G._invScaleX;if(at)he.pos=Oe,Re=Ee+ze/2+Je<=Mt,Ge=Ee-ze/2-Je>=0,he.idealAlign!=="top"&&Re||!Ge?Re?(Ee+=ze/2,he.anchor="start"):he.anchor="middle":(Ee-=ze/2,he.anchor="end"),he.crossPos=Ee;else{if(he.pos=Ee,Re=Oe+He/2+Je<=yt,Ge=Oe-He/2-Je>=0,he.idealAlign!=="left"&&Re||!Ge)if(Re)Oe+=He/2,he.anchor="start";else{he.anchor="middle";var fn=Je/2,gn=Oe+fn-yt,sn=Oe-fn;gn>0&&(Oe-=gn),sn<0&&(Oe+=-sn)}else Oe-=He/2,he.anchor="end";he.crossPos=Oe}ye.attr("text-anchor",he.anchor),Te&&be.attr("text-anchor",he.anchor),ve.attr("transform",r(Oe,Ee)+(at?o(w):""))}),{hoverLabels:Se,commonLabelBoundingBox:Ft}}function U(S,Y,Z,G,Q,at){var tt="",_t="";S.nameOverride!==void 0&&(S.name=S.nameOverride),S.name&&(S.trace._meta&&(S.name=a.templateString(S.name,S.trace._meta)),tt=nt(S.name,S.nameLength));var Pt=Z.charAt(0),kt=Pt==="x"?"y":"x";S.zLabel!==void 0?(S.xLabel!==void 0&&(_t+="x: "+S.xLabel+"<br>"),S.yLabel!==void 0&&(_t+="y: "+S.yLabel+"<br>"),S.trace.type!=="choropleth"&&S.trace.type!=="choroplethmapbox"&&(_t+=(_t?"z: ":"")+S.zLabel)):Y&&S[Pt+"Label"]===Q?_t=S[kt+"Label"]||"":S.xLabel===void 0?S.yLabel!==void 0&&S.trace.type!=="scattercarpet"&&(_t=S.yLabel):_t=S.yLabel===void 0?S.xLabel:"("+S.xLabel+", "+S.yLabel+")",!S.text&&S.text!==0||Array.isArray(S.text)||(_t+=(_t?"<br>":"")+S.text),S.extraText!==void 0&&(_t+=(_t?"<br>":"")+S.extraText),at&&_t===""&&!S.hovertemplate&&(tt===""&&at.remove(),_t=tt);var lt=S.hovertemplate||!1;if(lt){var st=S.hovertemplateLabels||S;S[Pt+"Label"]!==Q&&(st[Pt+"other"]=st[Pt+"Val"],st[Pt+"otherLabel"]=st[Pt+"Label"]),_t=(_t=a.hovertemplateString(lt,st,G._d3locale,S.eventData[0]||{},S.trace._meta)).replace(z,function(ht,bt){return tt=nt(bt,S.nameLength),""})}return[_t,tt]}function it(S,Y){var Z=0,G=S.offset;return Y&&(G*=-L,Z=S.offset*A),{x:Z,y:G}}function K(S,Y,Z,G){var Q=function(tt){return tt*Z},at=function(tt){return tt*G};S.each(function(tt){var _t=f.select(this);if(tt.del)return _t.remove();var Pt,kt,lt,st,ht=_t.select("text.nums"),bt=tt.anchor,pt=bt==="end"?-1:1,Dt=(st=(lt=(kt={start:1,end:-1,middle:0}[(Pt=tt).anchor])*(I+x))+kt*(Pt.txwidth+x),Pt.anchor==="middle"&&(lt-=Pt.tx2width/2,st+=Pt.txwidth/2+x),{alignShift:kt,textShiftX:lt,text2ShiftX:st}),qt=it(tt,Y),ct=qt.x,xt=qt.y,dt=bt==="middle";_t.select("path").attr("d",dt?"M-"+Q(tt.bx/2+tt.tx2width/2)+","+at(xt-tt.by/2)+"h"+Q(tt.bx)+"v"+at(tt.by)+"h-"+Q(tt.bx)+"Z":"M0,0L"+Q(pt*I+ct)+","+at(I+xt)+"v"+at(tt.by/2-I)+"h"+Q(pt*tt.bx)+"v-"+at(tt.by)+"H"+Q(pt*I+ct)+"V"+at(xt-I)+"Z");var vt=ct+Dt.textShiftX,yt=xt+tt.ty0-tt.by/2+x,Mt=tt.textAlign||"auto";Mt!=="auto"&&(Mt==="left"&&bt!=="start"?(ht.attr("text-anchor","start"),vt=dt?-tt.bx/2-tt.tx2width/2+x:-tt.bx-x):Mt==="right"&&bt!=="end"&&(ht.attr("text-anchor","end"),vt=dt?tt.bx/2-tt.tx2width/2-x:tt.bx+x)),ht.call(e.positionText,Q(vt),at(yt)),tt.tx2width&&(_t.select("text.name").call(e.positionText,Q(Dt.text2ShiftX+Dt.alignShift*x+ct),at(xt+tt.ty0-tt.by/2+x)),_t.select("rect").call(u.setRect,Q(Dt.text2ShiftX+(Dt.alignShift-1)*tt.tx2width/2+ct),at(xt-tt.by/2-1),Q(tt.tx2width),at(tt.by+2)))})}function D(S,Y){var Z=S.index,G=S.trace||{},Q=S.cd[0],at=S.cd[Z]||{};function tt(ht){return ht||y(ht)&&ht===0}var _t=Array.isArray(Z)?function(ht,bt){var pt=a.castOption(Q,Z,ht);return tt(pt)?pt:a.extractOption({},G,"",bt)}:function(ht,bt){return a.extractOption(at,G,ht,bt)};function Pt(ht,bt,pt){var Dt=_t(bt,pt);tt(Dt)&&(S[ht]=Dt)}if(Pt("hoverinfo","hi","hoverinfo"),Pt("bgcolor","hbg","hoverlabel.bgcolor"),Pt("borderColor","hbc","hoverlabel.bordercolor"),Pt("fontFamily","htf","hoverlabel.font.family"),Pt("fontSize","hts","hoverlabel.font.size"),Pt("fontColor","htc","hoverlabel.font.color"),Pt("nameLength","hnl","hoverlabel.namelength"),Pt("textAlign","hta","hoverlabel.align"),S.posref=Y==="y"||Y==="closest"&&G.orientation==="h"?S.xa._offset+(S.x0+S.x1)/2:S.ya._offset+(S.y0+S.y1)/2,S.x0=a.constrain(S.x0,0,S.xa._length),S.x1=a.constrain(S.x1,0,S.xa._length),S.y0=a.constrain(S.y0,0,S.ya._length),S.y1=a.constrain(S.y1,0,S.ya._length),S.xLabelVal!==void 0&&(S.xLabel="xLabel"in S?S.xLabel:p.hoverLabelText(S.xa,S.xLabelVal,G.xhoverformat),S.xVal=S.xa.c2d(S.xLabelVal)),S.yLabelVal!==void 0&&(S.yLabel="yLabel"in S?S.yLabel:p.hoverLabelText(S.ya,S.yLabelVal,G.yhoverformat),S.yVal=S.ya.c2d(S.yLabelVal)),S.zLabelVal!==void 0&&S.zLabel===void 0&&(S.zLabel=String(S.zLabelVal)),!(isNaN(S.xerr)||S.xa.type==="log"&&S.xerr<=0)){var kt=p.tickText(S.xa,S.xa.c2l(S.xerr),"hover").text;S.xerrneg!==void 0?S.xLabel+=" +"+kt+" / -"+p.tickText(S.xa,S.xa.c2l(S.xerrneg),"hover").text:S.xLabel+=" ± "+kt,Y==="x"&&(S.distance+=1)}if(!(isNaN(S.yerr)||S.ya.type==="log"&&S.yerr<=0)){var lt=p.tickText(S.ya,S.ya.c2l(S.yerr),"hover").text;S.yerrneg!==void 0?S.yLabel+=" +"+lt+" / -"+p.tickText(S.ya,S.ya.c2l(S.yerrneg),"hover").text:S.yLabel+=" ± "+lt,Y==="y"&&(S.distance+=1)}var st=S.hoverinfo||S.trace.hoverinfo;return st&&st!=="all"&&((st=Array.isArray(st)?st:st.split("+")).indexOf("x")===-1&&(S.xLabel=void 0),st.indexOf("y")===-1&&(S.yLabel=void 0),st.indexOf("z")===-1&&(S.zLabel=void 0),st.indexOf("text")===-1&&(S.text=void 0),st.indexOf("name")===-1&&(S.name=void 0)),S}function B(S,Y,Z){var G,Q,at=Z.container,tt=Z.fullLayout,_t=tt._size,Pt=Z.event,kt=!!Y.hLinePoint,lt=!!Y.vLinePoint;if(at.selectAll(".spikeline").remove(),lt||kt){var st=m.combine(tt.plot_bgcolor,tt.paper_bgcolor);if(kt){var ht,bt,pt=Y.hLinePoint;G=pt&&pt.xa,(Q=pt&&pt.ya).spikesnap==="cursor"?(ht=Pt.pointerX,bt=Pt.pointerY):(ht=G._offset+pt.x,bt=Q._offset+pt.y);var Dt,qt,ct=i.readability(pt.color,st)<1.5?m.contrast(st):pt.color,xt=Q.spikemode,dt=Q.spikethickness,vt=Q.spikecolor||ct,yt=p.getPxPosition(S,Q);if(xt.indexOf("toaxis")!==-1||xt.indexOf("across")!==-1){if(xt.indexOf("toaxis")!==-1&&(Dt=yt,qt=ht),xt.indexOf("across")!==-1){var Mt=Q._counterDomainMin,Tt=Q._counterDomainMax;Q.anchor==="free"&&(Mt=Math.min(Mt,Q.position),Tt=Math.max(Tt,Q.position)),Dt=_t.l+Mt*_t.w,qt=_t.l+Tt*_t.w}at.insert("line",":first-child").attr({x1:Dt,x2:qt,y1:bt,y2:bt,"stroke-width":dt,stroke:vt,"stroke-dasharray":u.dashStyle(Q.spikedash,dt)}).classed("spikeline",!0).classed("crisp",!0),at.insert("line",":first-child").attr({x1:Dt,x2:qt,y1:bt,y2:bt,"stroke-width":dt+2,stroke:st}).classed("spikeline",!0).classed("crisp",!0)}xt.indexOf("marker")!==-1&&at.insert("circle",":first-child").attr({cx:yt+(Q.side!=="right"?dt:-dt),cy:bt,r:dt,fill:vt}).classed("spikeline",!0)}if(lt){var Lt,St,At=Y.vLinePoint;G=At&&At.xa,Q=At&&At.ya,G.spikesnap==="cursor"?(Lt=Pt.pointerX,St=Pt.pointerY):(Lt=G._offset+At.x,St=Q._offset+At.y);var Nt,zt,Ft=i.readability(At.color,st)<1.5?m.contrast(st):At.color,Gt=G.spikemode,Bt=G.spikethickness,de=G.spikecolor||Ft,ie=p.getPxPosition(S,G);if(Gt.indexOf("toaxis")!==-1||Gt.indexOf("across")!==-1){if(Gt.indexOf("toaxis")!==-1&&(Nt=ie,zt=St),Gt.indexOf("across")!==-1){var pe=G._counterDomainMin,Ot=G._counterDomainMax;G.anchor==="free"&&(pe=Math.min(pe,G.position),Ot=Math.max(Ot,G.position)),Nt=_t.t+(1-Ot)*_t.h,zt=_t.t+(1-pe)*_t.h}at.insert("line",":first-child").attr({x1:Lt,x2:Lt,y1:Nt,y2:zt,"stroke-width":Bt,stroke:de,"stroke-dasharray":u.dashStyle(G.spikedash,Bt)}).classed("spikeline",!0).classed("crisp",!0),at.insert("line",":first-child").attr({x1:Lt,x2:Lt,y1:Nt,y2:zt,"stroke-width":Bt+2,stroke:st}).classed("spikeline",!0).classed("crisp",!0)}Gt.indexOf("marker")!==-1&&at.insert("circle",":first-child").attr({cx:Lt,cy:ie-(G.side!=="top"?Bt:-Bt),r:Bt,fill:de}).classed("spikeline",!0)}}}function q(S,Y){return!Y||Y.vLinePoint!==S._spikepoints.vLinePoint||Y.hLinePoint!==S._spikepoints.hLinePoint}function nt(S,Y){return e.plainText(S||"",{len:Y,allowedTags:["br","sub","sup","b","i","em"]})}function ot(S,Y,Z){var G=Y[S+"a"],Q=Y[S+"Val"],at=Y.cd[0];if(G.type==="category"||G.type==="multicategory")Q=G._categoriesMap[Q];else if(G.type==="date"){var tt=Y.trace[S+"periodalignment"];if(tt){var _t=Y.cd[Y.index],Pt=_t[S+"Start"];Pt===void 0&&(Pt=_t[S]);var kt=_t[S+"End"];kt===void 0&&(kt=_t[S]);var lt=kt-Pt;tt==="end"?Q+=lt:tt==="middle"&&(Q+=lt/2)}Q=G.d2c(Q)}return at&&at.t&&at.t.posLetter===G._id&&(Z.boxmode!=="group"&&Z.violinmode!=="group"||(Q+=at.t.dPos)),Q}function rt(S){return S.offsetTop+S.clientTop}function $(S){return S.offsetLeft+S.clientLeft}function E(S,Y){var Z=S._fullLayout,G=Y.getBoundingClientRect(),Q=G.left,at=G.top,tt=Q+G.width,_t=at+G.height,Pt=a.apply3DTransform(Z._invTransform)(Q,at),kt=a.apply3DTransform(Z._invTransform)(tt,_t),lt=Pt[0],st=Pt[1],ht=kt[0],bt=kt[1];return{x:lt,y:st,width:ht-lt,height:bt-st,top:Math.min(st,bt),left:Math.min(lt,ht),right:Math.max(lt,ht),bottom:Math.max(st,bt)}}},6132:function(J,h,t){var f=t(3400),y=t(6308),i=t(624).isUnifiedHover;J.exports=function(a,n,r,o){o=o||{};var s=n.legend;function e(l){o.font[l]||(o.font[l]=s?n.legend.font[l]:n.font[l])}n&&i(n.hovermode)&&(o.font||(o.font={}),e("size"),e("family"),e("color"),s?(o.bgcolor||(o.bgcolor=y.combine(n.legend.bgcolor,n.paper_bgcolor)),o.bordercolor||(o.bordercolor=n.legend.bordercolor)):o.bgcolor||(o.bgcolor=n.paper_bgcolor)),r("hoverlabel.bgcolor",o.bgcolor),r("hoverlabel.bordercolor",o.bordercolor),r("hoverlabel.namelength",o.namelength),f.coerceFont(r,"hoverlabel.font",o.font),r("hoverlabel.align",o.align)}},1008:function(J,h,t){var f=t(3400),y=t(5460);J.exports=function(i,a){function n(r,o){return a[r]!==void 0?a[r]:f.coerce(i,a,y,r,o)}return n("clickmode"),n("hoversubplots"),n("hovermode")}},3024:function(J,h,t){var f=t(3428),y=t(3400),i=t(6476),a=t(624),n=t(5460),r=t(3292);J.exports={moduleType:"component",name:"fx",constants:t(2456),schema:{layout:n},attributes:t(5756),layoutAttributes:n,supplyLayoutGlobalDefaults:t(1976),supplyDefaults:t(5448),supplyLayoutDefaults:t(8336),calc:t(5056),getDistanceFunction:a.getDistanceFunction,getClosest:a.getClosest,inbox:a.inbox,quadrature:a.quadrature,appendArrayPointValue:a.appendArrayPointValue,castHoverOption:function(o,s,e){return y.castOption(o,s,"hoverlabel."+e)},castHoverinfo:function(o,s,e){return y.castOption(o,e,"hoverinfo",function(l){return y.coerceHoverinfo({hoverinfo:l},{_module:o._module},s)})},hover:r.hover,unhover:i.unhover,loneHover:r.loneHover,loneUnhover:function(o){var s=y.isD3Selection(o)?o:f.select(o);s.selectAll("g.hovertext").remove(),s.selectAll(".spikeline").remove()},click:t(2376)}},5460:function(J,h,t){var f=t(2456),y=t(5376),i=y({editType:"none"});i.family.dflt=f.HOVERFONT,i.size.dflt=f.HOVERFONTSIZE,J.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:i,grouptitlefont:y({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},8336:function(J,h,t){var f=t(3400),y=t(5460),i=t(1008),a=t(6132);J.exports=function(n,r){function o(u,m){return f.coerce(n,r,y,u,m)}i(n,r)&&(o("hoverdistance"),o("spikedistance")),o("dragmode")==="select"&&o("selectdirection");var s=r._has("mapbox"),e=r._has("geo"),l=r._basePlotModules.length;r.dragmode==="zoom"&&((s||e)&&l===1||s&&e&&l===2)&&(r.dragmode="pan"),a(n,r,o),f.coerceFont(o,"hoverlabel.grouptitlefont",r.hoverlabel.font)}},1976:function(J,h,t){var f=t(3400),y=t(6132),i=t(5460);J.exports=function(a,n){y(a,n,function(r,o){return f.coerce(a,n,i,r,o)})}},2704:function(J,h,t){var f=t(3400),y=t(3756).counter,i=t(6968).u,a=t(3816).idRegex,n=t(1780),r={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[y("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[a.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[a.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:i({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function o(l,u,m){var _=u[m+"axes"],p=Object.keys((l._splomAxes||{})[m]||{});return Array.isArray(_)?_:p.length?p:void 0}function s(l,u,m,_,p,v){var g=u(l+"gap",m),b=u("domain."+l);u(l+"side",_);for(var d=new Array(p),T=b[0],w=(b[1]-T)/(p-g),k=w*(1-g),P=0;P<p;P++){var A=T+w*P;d[v?p-1-P:P]=[A,A+k]}return d}function e(l,u,m,_,p){var v,g=new Array(m);function b(d,T){u.indexOf(T)!==-1&&_[T]===void 0?(g[d]=T,_[T]=d):g[d]=""}if(Array.isArray(l))for(v=0;v<m;v++)b(v,l[v]);else for(b(0,p),v=1;v<m;v++)b(v,p+(v+1));return g}J.exports={moduleType:"component",name:"grid",schema:{layout:{grid:r}},layoutAttributes:r,sizeDefaults:function(l,u){var m=l.grid||{},_=o(u,m,"x"),p=o(u,m,"y");if(l.grid||_||p){var v,g,b=Array.isArray(m.subplots)&&Array.isArray(m.subplots[0]),d=Array.isArray(_),T=Array.isArray(p),w=d&&_!==m.xaxes&&T&&p!==m.yaxes;b?(v=m.subplots.length,g=m.subplots[0].length):(T&&(v=p.length),d&&(g=_.length));var k=n.newContainer(u,"grid"),P=N("rows",v),A=N("columns",g);if(P*A>1){b||d||T||N("pattern")==="independent"&&(b=!0),k._hasSubplotGrid=b;var L,I,x=N("roworder")==="top to bottom",C=b?.2:.1,F=b?.3:.1;w&&u._splomGridDflt&&(L=u._splomGridDflt.xside,I=u._splomGridDflt.yside),k._domains={x:s("x",N,C,L,A),y:s("y",N,F,I,P,x)}}else delete u.grid}function N(j,z){return f.coerce(m,k,r,j,z)}},contentDefaults:function(l,u){var m=u.grid;if(m&&m._domains){var _,p,v,g,b,d,T,w=l.grid||{},k=u._subplots,P=m._hasSubplotGrid,A=m.rows,L=m.columns,I=m.pattern==="independent",x=m._axisMap={};if(P){var C=w.subplots||[];d=m.subplots=new Array(A);var F=1;for(_=0;_<A;_++){var N=d[_]=new Array(L),j=C[_]||[];for(p=0;p<L;p++)if(I?(b=F===1?"xy":"x"+F+"y"+F,F++):b=j[p],N[p]="",k.cartesian.indexOf(b)!==-1){if(T=b.indexOf("y"),v=b.slice(0,T),g=b.slice(T),x[v]!==void 0&&x[v]!==p||x[g]!==void 0&&x[g]!==_)continue;N[p]=b,x[v]=p,x[g]=_}}}else{var z=o(u,w,"x"),H=o(u,w,"y");m.xaxes=e(z,k.xaxis,L,x,"x"),m.yaxes=e(H,k.yaxis,A,x,"y")}var U=m._anchors={},it=m.roworder==="top to bottom";for(var K in x){var D,B,q,nt=K.charAt(0),ot=m[nt+"side"];if(ot.length<8)U[K]="free";else if(nt==="x"){if(ot.charAt(0)==="t"===it?(D=0,B=1,q=A):(D=A-1,B=-1,q=-1),P){var rt=x[K];for(_=D;_!==q;_+=B)if((b=d[_][rt])&&(T=b.indexOf("y"),b.slice(0,T)===K)){U[K]=b.slice(T);break}}else for(_=D;_!==q;_+=B)if(g=m.yaxes[_],k.cartesian.indexOf(K+g)!==-1){U[K]=g;break}}else if(ot.charAt(0)==="l"?(D=0,B=1,q=L):(D=L-1,B=-1,q=-1),P){var $=x[K];for(_=D;_!==q;_+=B)if((b=d[$][_])&&(T=b.indexOf("y"),b.slice(T)===K)){U[K]=b.slice(0,T);break}}else for(_=D;_!==q;_+=B)if(v=m.xaxes[_],k.cartesian.indexOf(v+K)!==-1){U[K]=v;break}}}}}},5760:function(J,h,t){var f=t(3816),y=t(1780).templatedArray;t(6208),J.exports=y("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",f.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",f.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},3556:function(J,h,t){var f=t(8248),y=t(6896);J.exports=function(i,a,n,r){a=a||{};var o=n==="log"&&a.type==="linear",s=n==="linear"&&a.type==="log";if(o||s){for(var e,l,u=i._fullLayout.images,m=a._id.charAt(0),_=0;_<u.length;_++)if(l="images["+_+"].",(e=u[_])[m+"ref"]===a._id){var p=e[m],v=e["size"+m],g=null,b=null;if(o){g=y(p,a.range);var d=v/Math.pow(10,g)/2;b=2*Math.log(d+Math.sqrt(1+d*d))/Math.LN10}else b=(g=Math.pow(10,p))*(Math.pow(10,v/2)-Math.pow(10,-v/2));f(g)?f(b)||(b=null):(g=null,b=null),r(l+m,g),r(l+"size"+m,b)}}}},7404:function(J,h,t){var f=t(3400),y=t(4460),i=t(1272),a=t(5760);function n(r,o,s){function e(g,b){return f.coerce(r,o,a,g,b)}var l=e("source");if(!e("visible",!!l))return o;e("layer"),e("xanchor"),e("yanchor"),e("sizex"),e("sizey"),e("sizing"),e("opacity");for(var u={_fullLayout:s},m=["x","y"],_=0;_<2;_++){var p=m[_],v=y.coerceRef(r,o,u,p,"paper",void 0);v!=="paper"&&y.getFromId(u,v)._imgIndices.push(o._index),y.coercePosition(o,u,e,v,p,0)}return o}J.exports=function(r,o){i(r,o,{name:"images",handleItemDefaults:n})}},963:function(J,h,t){var f=t(3428),y=t(3616),i=t(4460),a=t(9811),n=t(9616);J.exports=function(r){var o,s,e=r._fullLayout,l=[],u={},m=[];for(s=0;s<e.images.length;s++){var _=e.images[s];if(_.visible)if(_.layer==="below"&&_.xref!=="paper"&&_.yref!=="paper"){o=a.ref2id(_.xref)+a.ref2id(_.yref);var p=e._plots[o];if(!p){m.push(_);continue}p.mainplot&&(o=p.mainplot.id),u[o]||(u[o]=[]),u[o].push(_)}else _.layer==="above"?l.push(_):m.push(_)}var v={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},g={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function b(L){var I=f.select(this);if(this._imgSrc!==L.source)if(I.attr("xmlns",n.svg),L.source&&L.source.slice(0,5)==="data:")I.attr("xlink:href",L.source),this._imgSrc=L.source;else{var x=new Promise(function(C){var F=new Image;function N(){I.remove(),C()}this.img=F,F.setAttribute("crossOrigin","anonymous"),F.onerror=N,F.onload=function(){var j=document.createElement("canvas");j.width=this.width,j.height=this.height,j.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var z=j.toDataURL("image/png");I.attr("xlink:href",z),C()},I.on("error",N),F.src=L.source,this._imgSrc=L.source}.bind(this));r._promises.push(x)}}function d(L){var I,x,C=f.select(this),F=i.getFromId(r,L.xref),N=i.getFromId(r,L.yref),j=i.getRefType(L.xref)==="domain",z=i.getRefType(L.yref)==="domain",H=e._size;I=F!==void 0?typeof L.xref=="string"&&j?F._length*L.sizex:Math.abs(F.l2p(L.sizex)-F.l2p(0)):L.sizex*H.w,x=N!==void 0?typeof L.yref=="string"&&z?N._length*L.sizey:Math.abs(N.l2p(L.sizey)-N.l2p(0)):L.sizey*H.h;var U,it,K=I*v[L.xanchor].offset,D=x*g[L.yanchor].offset,B=v[L.xanchor].sizing+g[L.yanchor].sizing;switch(U=F!==void 0?typeof L.xref=="string"&&j?F._length*L.x+F._offset:F.r2p(L.x)+F._offset:L.x*H.w+H.l,U+=K,it=N!==void 0?typeof L.yref=="string"&&z?N._length*(1-L.y)+N._offset:N.r2p(L.y)+N._offset:H.h-L.y*H.h+H.t,it+=D,L.sizing){case"fill":B+=" slice";break;case"stretch":B="none"}C.attr({x:U,y:it,width:I,height:x,preserveAspectRatio:B,opacity:L.opacity});var q=(F&&i.getRefType(L.xref)!=="domain"?F._id:"")+(N&&i.getRefType(L.yref)!=="domain"?N._id:"");y.setClipUrl(C,q?"clip"+e._uid+q:null,r)}var T=e._imageLowerLayer.selectAll("image").data(m),w=e._imageUpperLayer.selectAll("image").data(l);T.enter().append("image"),w.enter().append("image"),T.exit().remove(),w.exit().remove(),T.each(function(L){b.bind(this)(L),d.bind(this)(L)}),w.each(function(L){b.bind(this)(L),d.bind(this)(L)});var k=Object.keys(e._plots);for(s=0;s<k.length;s++){o=k[s];var P=e._plots[o];if(P.imagelayer){var A=P.imagelayer.selectAll("image").data(u[o]||[]);A.enter().append("image"),A.exit().remove(),A.each(function(L){b.bind(this)(L),d.bind(this)(L)})}}}},7402:function(J,h,t){J.exports={moduleType:"component",name:"images",layoutAttributes:t(5760),supplyLayoutDefaults:t(7404),includeBasePlot:t(6632)("images"),draw:t(963),convertCoords:t(3556)}},3800:function(J,h,t){var f=t(5376),y=t(2548);J.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:y.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:f({editType:"legend"}),grouptitlefont:f({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:f({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},5196:function(J){J.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},7864:function(J,h,t){var f=t(4040),y=t(3400),i=t(1780),a=t(5464),n=t(3800),r=t(4859),o=t(2451);function s(e,l,u,m){var _=l[e]||{},p=i.newContainer(u,e);function v(B,q){return y.coerce(_,p,n,B,q)}var g=y.coerceFont(v,"font",u.font);if(v("bgcolor",u.paper_bgcolor),v("bordercolor"),v("visible")){for(var b,d=function(B,q){var nt=b._input,ot=b;return y.coerce(nt,ot,a,B,q)},T=u.font||{},w=y.coerceFont(v,"grouptitlefont",y.extendFlat({},T,{size:Math.round(1.1*T.size)})),k=0,P=!1,A="normal",L=(u.shapes||[]).filter(function(B){return B.showlegend}),I=m.concat(L).filter(function(B){return e===(B.legend||"legend")}),x=0;x<I.length;x++)if((b=I[x]).visible){var C=b._isShape;(b.showlegend||b._dfltShowLegend&&!(b._module&&b._module.attributes&&b._module.attributes.showlegend&&b._module.attributes.showlegend.dflt===!1))&&(k++,b.showlegend&&(P=!0,(!C&&f.traceIs(b,"pie-like")||b._input.showlegend===!0)&&k++),y.coerceFont(d,"legendgrouptitle.font",w)),(!C&&f.traceIs(b,"bar")&&u.barmode==="stack"||["tonextx","tonexty"].indexOf(b.fill)!==-1)&&(A=o.isGrouped({traceorder:A})?"grouped+reversed":"reversed"),b.legendgroup!==void 0&&b.legendgroup!==""&&(A=o.isReversed({traceorder:A})?"reversed+grouped":"grouped")}var F=y.coerce(l,u,r,"showlegend",P&&k>(e==="legend"?1:0));if(F===!1&&(u[e]=void 0),(F!==!1||_.uirevision)&&(v("uirevision",u.uirevision),F!==!1)){v("borderwidth");var N,j,z,H=v("orientation")==="h",U=v("yref")==="paper",it=v("xref")==="paper",K="left";if(H?(N=0,f.getComponentMethod("rangeslider","isVisible")(l.xaxis)?U?(j=1.1,z="bottom"):(j=1,z="top"):U?(j=-.1,z="top"):(j=0,z="bottom")):(j=1,z="auto",it?N=1.02:(N=1,K="right")),y.coerce(_,p,{x:{valType:"number",editType:"legend",min:it?-2:0,max:it?3:1,dflt:N}},"x"),y.coerce(_,p,{y:{valType:"number",editType:"legend",min:U?-2:0,max:U?3:1,dflt:j}},"y"),v("traceorder",A),o.isGrouped(u[e])&&v("tracegroupgap"),v("entrywidth"),v("entrywidthmode"),v("indentation"),v("itemsizing"),v("itemwidth"),v("itemclick"),v("itemdoubleclick"),v("groupclick"),v("xanchor",K),v("yanchor",z),v("valign"),y.noneOrAll(_,p,["x","y"]),v("title.text")){v("title.side",H?"left":"top");var D=y.extendFlat({},g,{size:y.bigFont(g.size)});y.coerceFont(v,"title.font",D)}}}}J.exports=function(e,l,u){var m,_=u.slice(),p=l.shapes;if(p)for(m=0;m<p.length;m++){var v=p[m];if(v.showlegend){var g={_input:v._input,visible:v.visible,showlegend:v.showlegend,legend:v.legend};_.push(g)}}var b=["legend"];for(m=0;m<_.length;m++)y.pushUnique(b,_[m].legend);for(l._legends=[],m=0;m<b.length;m++){var d=b[m];s(d,e,l,_),l[d]&&l[d].visible&&(l[d]._id=d),l._legends.push(d)}}},1140:function(J,h,t){var f=t(3428),y=t(3400),i=t(7316),a=t(4040),n=t(5924),r=t(6476),o=t(3616),s=t(6308),e=t(2736),l=t(3048),u=t(5196),m=t(4284),_=m.LINE_SPACING,p=m.FROM_TL,v=m.FROM_BR,g=t(3076),b=t(2012),d=t(2451),T=1,w=/^legend[0-9]*$/;function k(z,H){var U,it,K=H||{},D=z._fullLayout,B=j(K),q=K._inHover;if(q?(it=K.layer,U="hover"):(it=D._infolayer,U=B),it){var nt;if(U+=D._uid,z._legendMouseDownTime||(z._legendMouseDownTime=0),q){if(!K.entries)return;nt=g(K.entries,K)}else{for(var ot=(z.calcdata||[]).slice(),rt=D.shapes,$=0;$<rt.length;$++){var E=rt[$];if(E.showlegend){var S={_isShape:!0,_fullInput:E,index:E._index,name:E.name||E.label.text||"shape "+E._index,legend:E.legend,legendgroup:E.legendgroup,legendgrouptitle:E.legendgrouptitle,legendrank:E.legendrank,legendwidth:E.legendwidth,showlegend:E.showlegend,visible:E.visible,opacity:E.opacity,mode:E.type==="line"?"lines":"markers",line:E.line,marker:{line:E.line,color:E.fillcolor,size:12,symbol:E.type==="rect"?"square":E.type==="circle"?"circle":"hexagon2"}};ot.push([{trace:S}])}}nt=D.showlegend&&g(ot,K,D._legends.length>1)}var Y=D.hiddenlabels||[];if(!(q||D.showlegend&&nt.length))return it.selectAll("."+B).remove(),D._topdefs.select("#"+U).remove(),i.autoMargin(z,B);var Z=y.ensureSingle(it,"g",B,function(st){q||st.attr("pointer-events","all")}),G=y.ensureSingleById(D._topdefs,"clipPath",U,function(st){st.append("rect")}),Q=y.ensureSingle(Z,"rect","bg",function(st){st.attr("shape-rendering","crispEdges")});Q.call(s.stroke,K.bordercolor).call(s.fill,K.bgcolor).style("stroke-width",K.borderwidth+"px");var at,tt=y.ensureSingle(Z,"g","scrollbox"),_t=K.title;K._titleWidth=0,K._titleHeight=0,_t.text?((at=y.ensureSingle(tt,"text",B+"titletext")).attr("text-anchor","start").call(o.font,_t.font).text(_t.text),C(at,tt,z,K,T)):tt.selectAll("."+B+"titletext").remove();var Pt=y.ensureSingle(Z,"rect","scrollbar",function(st){st.attr(u.scrollBarEnterAttrs).call(s.fill,u.scrollBarColor)}),kt=tt.selectAll("g.groups").data(nt);kt.enter().append("g").attr("class","groups"),kt.exit().remove();var lt=kt.selectAll("g.traces").data(y.identity);lt.enter().append("g").attr("class","traces"),lt.exit().remove(),lt.style("opacity",function(st){var ht=st[0].trace;return a.traceIs(ht,"pie-like")?Y.indexOf(st[0].label)!==-1?.5:1:ht.visible==="legendonly"?.5:1}).each(function(){f.select(this).call(L,z,K)}).call(b,z,K).each(function(){q||f.select(this).call(x,z,B)}),y.syncOrAsync([i.previousPromises,function(){return function(st,ht,bt,pt){var Dt=st._fullLayout,qt=j(pt);pt||(pt=Dt[qt]);var ct=Dt._size,xt=d.isVertical(pt),dt=d.isGrouped(pt),vt=pt.entrywidthmode==="fraction",yt=pt.borderwidth,Mt=2*yt,Tt=u.itemGap,Lt=pt.indentation+pt.itemwidth+2*Tt,St=2*(yt+Tt),At=N(pt),Nt=pt.y<0||pt.y===0&&At==="top",zt=pt.y>1||pt.y===1&&At==="bottom",Ft=pt.tracegroupgap,Gt={};pt._maxHeight=Math.max(Nt||zt?Dt.height/2:ct.h,30);var Bt=0;pt._width=0,pt._height=0;var de=function(Rt){var Ht=0,Zt=0,Kt=Rt.title.side;return Kt&&(Kt.indexOf("left")!==-1&&(Ht=Rt._titleWidth),Kt.indexOf("top")!==-1&&(Zt=Rt._titleHeight)),[Ht,Zt]}(pt);if(xt)bt.each(function(Rt){var Ht=Rt[0].height;o.setTranslate(this,yt+de[0],yt+de[1]+pt._height+Ht/2+Tt),pt._height+=Ht,pt._width=Math.max(pt._width,Rt[0].width)}),Bt=Lt+pt._width,pt._width+=Tt+Lt+Mt,pt._height+=St,dt&&(ht.each(function(Rt,Ht){o.setTranslate(this,0,Ht*pt.tracegroupgap)}),pt._height+=(pt._lgroupsLength-1)*pt.tracegroupgap);else{var ie=F(pt),pe=pt.x<0||pt.x===0&&ie==="right",Ot=pt.x>1||pt.x===1&&ie==="left",gt=zt||Nt,jt=Dt.width/2;pt._maxWidth=Math.max(pe?gt&&ie==="left"?ct.l+ct.w:jt:Ot?gt&&ie==="right"?ct.r+ct.w:jt:ct.w,2*Lt);var Xt=0,xe=0;bt.each(function(Rt){var Ht=P(Rt,pt,Lt);Xt=Math.max(Xt,Ht),xe+=Ht}),Bt=null;var Vt=0;if(dt){var Qt=0,re=0,_e=0;ht.each(function(){var Rt=0,Ht=0;f.select(this).selectAll("g.traces").each(function(Kt){var oe=P(Kt,pt,Lt),ue=Kt[0].height;o.setTranslate(this,de[0],de[1]+yt+Tt+ue/2+Ht),Ht+=ue,Rt=Math.max(Rt,oe),Gt[Kt[0].trace.legendgroup]=Rt});var Zt=Rt+Tt;re>0&&Zt+yt+re>pt._maxWidth?(Vt=Math.max(Vt,re),re=0,_e+=Qt+Ft,Qt=Ht):Qt=Math.max(Qt,Ht),o.setTranslate(this,re,_e),re+=Zt}),pt._width=Math.max(Vt,re)+yt,pt._height=_e+Qt+St}else{var ce=bt.size(),Me=xe+Mt+(ce-1)*Tt<pt._maxWidth,te=0,X=0,et=0,It=0;bt.each(function(Rt){var Ht=Rt[0].height,Zt=P(Rt,pt,Lt),Kt=Me?Zt:Xt;vt||(Kt+=Tt),Kt+yt+X-Tt>=pt._maxWidth&&(Vt=Math.max(Vt,It),X=0,et+=te,pt._height+=te,te=0),o.setTranslate(this,de[0]+yt+X,de[1]+yt+et+Ht/2+Tt),It=X+Zt+Tt,X+=Kt,te=Math.max(te,Ht)}),Me?(pt._width=X+Mt,pt._height=te+St):(pt._width=Math.max(Vt,It)+Mt,pt._height+=te+St)}}pt._width=Math.ceil(Math.max(pt._width+de[0],pt._titleWidth+2*(yt+u.titlePad))),pt._height=Math.ceil(Math.max(pt._height+de[1],pt._titleHeight+2*(yt+u.itemGap))),pt._effHeight=Math.min(pt._height,pt._maxHeight);var Ct=st._context.edits,Ut=Ct.legendText||Ct.legendPosition;bt.each(function(Rt){var Ht=f.select(this).select("."+qt+"toggle"),Zt=Rt[0].height,Kt=Rt[0].trace.legendgroup,oe=P(Rt,pt,Lt);dt&&Kt!==""&&(oe=Gt[Kt]);var ue=Ut?Lt:Bt||oe;xt||vt||(ue+=Tt/2),o.setRect(Ht,0,-Zt/2,ue,Zt)})}(z,kt,lt,K)},function(){var st,ht,bt,pt,Dt=D._size,qt=K.borderwidth,ct=K.xref==="paper",xt=K.yref==="paper";if(_t.text&&function(gt,jt,Xt){if(jt.title.side==="top center"||jt.title.side==="top right"){var xe=jt.title.font.size*_,Vt=0,Qt=gt.node(),re=o.bBox(Qt).width;jt.title.side==="top center"?Vt=.5*(jt._width-2*Xt-2*u.titlePad-re):jt.title.side==="top right"&&(Vt=jt._width-2*Xt-2*u.titlePad-re),e.positionText(gt,Xt+u.titlePad+Vt,Xt+xe)}}(at,K,qt),!q){var dt,vt;dt=ct?Dt.l+Dt.w*K.x-p[F(K)]*K._width:D.width*K.x-p[F(K)]*K._width,vt=xt?Dt.t+Dt.h*(1-K.y)-p[N(K)]*K._effHeight:D.height*(1-K.y)-p[N(K)]*K._effHeight;var yt=function(gt,jt,Xt,xe){var Vt=gt._fullLayout,Qt=Vt[jt],re=F(Qt),_e=N(Qt),ce=Qt.xref==="paper",Me=Qt.yref==="paper";gt._fullLayout._reservedMargin[jt]={};var te=Qt.y<.5?"b":"t",X=Qt.x<.5?"l":"r",et={r:Vt.width-Xt,l:Xt+Qt._width,b:Vt.height-xe,t:xe+Qt._effHeight};if(ce&&Me)return i.autoMargin(gt,jt,{x:Qt.x,y:Qt.y,l:Qt._width*p[re],r:Qt._width*v[re],b:Qt._effHeight*v[_e],t:Qt._effHeight*p[_e]});ce?gt._fullLayout._reservedMargin[jt][te]=et[te]:Me||Qt.orientation==="v"?gt._fullLayout._reservedMargin[jt][X]=et[X]:gt._fullLayout._reservedMargin[jt][te]=et[te]}(z,B,dt,vt);if(yt)return;if(D.margin.autoexpand){var Mt=dt,Tt=vt;dt=ct?y.constrain(dt,0,D.width-K._width):Mt,vt=xt?y.constrain(vt,0,D.height-K._effHeight):Tt,dt!==Mt&&y.log("Constrain "+B+".x to make legend fit inside graph"),vt!==Tt&&y.log("Constrain "+B+".y to make legend fit inside graph")}o.setTranslate(Z,dt,vt)}if(Pt.on(".drag",null),Z.on("wheel",null),q||K._height<=K._maxHeight||z._context.staticPlot){var Lt=K._effHeight;q&&(Lt=K._height),Q.attr({width:K._width-qt,height:Lt-qt,x:qt/2,y:qt/2}),o.setTranslate(tt,0,0),G.select("rect").attr({width:K._width-2*qt,height:Lt-2*qt,x:qt,y:qt}),o.setClipUrl(tt,U,z),o.setRect(Pt,0,0,0,0),delete K._scrollY}else{var St,At,Nt,zt=Math.max(u.scrollBarMinHeight,K._effHeight*K._effHeight/K._height),Ft=K._effHeight-zt-2*u.scrollBarMargin,Gt=K._height-K._effHeight,Bt=Ft/Gt,de=Math.min(K._scrollY||0,Gt);Q.attr({width:K._width-2*qt+u.scrollBarWidth+u.scrollBarMargin,height:K._effHeight-qt,x:qt/2,y:qt/2}),G.select("rect").attr({width:K._width-2*qt+u.scrollBarWidth+u.scrollBarMargin,height:K._effHeight-2*qt,x:qt,y:qt+de}),o.setClipUrl(tt,U,z),Ot(de,zt,Bt),Z.on("wheel",function(){Ot(de=y.constrain(K._scrollY+f.event.deltaY/Ft*Gt,0,Gt),zt,Bt),de!==0&&de!==Gt&&f.event.preventDefault()});var ie=f.behavior.drag().on("dragstart",function(){var gt=f.event.sourceEvent;St=gt.type==="touchstart"?gt.changedTouches[0].clientY:gt.clientY,Nt=de}).on("drag",function(){var gt=f.event.sourceEvent;gt.buttons===2||gt.ctrlKey||(At=gt.type==="touchmove"?gt.changedTouches[0].clientY:gt.clientY,de=function(jt,Xt,xe){var Vt=(xe-Xt)/Bt+jt;return y.constrain(Vt,0,Gt)}(Nt,St,At),Ot(de,zt,Bt))});Pt.call(ie);var pe=f.behavior.drag().on("dragstart",function(){var gt=f.event.sourceEvent;gt.type==="touchstart"&&(St=gt.changedTouches[0].clientY,Nt=de)}).on("drag",function(){var gt=f.event.sourceEvent;gt.type==="touchmove"&&(At=gt.changedTouches[0].clientY,de=function(jt,Xt,xe){var Vt=(Xt-xe)/Bt+jt;return y.constrain(Vt,0,Gt)}(Nt,St,At),Ot(de,zt,Bt))});tt.call(pe)}function Ot(gt,jt,Xt){K._scrollY=z._fullLayout[B]._scrollY=gt,o.setTranslate(tt,0,-gt),o.setRect(Pt,K._width,u.scrollBarMargin+gt*Xt,u.scrollBarWidth,jt),G.select("rect").attr("y",qt+gt)}z._context.edits.legendPosition&&(Z.classed("cursor-move",!0),r.init({element:Z.node(),gd:z,prepFn:function(){var gt=o.getTranslate(Z);bt=gt.x,pt=gt.y},moveFn:function(gt,jt){var Xt=bt+gt,xe=pt+jt;o.setTranslate(Z,Xt,xe),st=r.align(Xt,K._width,Dt.l,Dt.l+Dt.w,K.xanchor),ht=r.align(xe+K._height,-K._height,Dt.t+Dt.h,Dt.t,K.yanchor)},doneFn:function(){if(st!==void 0&&ht!==void 0){var gt={};gt[B+".x"]=st,gt[B+".y"]=ht,a.call("_guiRelayout",z,gt)}},clickFn:function(gt,jt){var Xt=it.selectAll("g.traces").filter(function(){var xe=this.getBoundingClientRect();return jt.clientX>=xe.left&&jt.clientX<=xe.right&&jt.clientY>=xe.top&&jt.clientY<=xe.bottom});Xt.size()>0&&A(z,Z,Xt,gt,jt)}}))}],z)}}function P(z,H,U){var it=z[0],K=it.width,D=H.entrywidthmode,B=it.trace.legendwidth||H.entrywidth;return D==="fraction"?H._maxWidth*B:U+(B||K)}function A(z,H,U,it,K){var D=U.data()[0][0].trace,B={event:K,node:U.node(),curveNumber:D.index,expandedIndex:D._expandedIndex,data:z.data,layout:z.layout,frames:z._transitionData._frames,config:z._context,fullData:z._fullData,fullLayout:z._fullLayout};D._group&&(B.group=D._group),a.traceIs(D,"pie-like")&&(B.label=U.datum()[0].label);var q=n.triggerHandler(z,"plotly_legendclick",B);if(it===1){if(q===!1)return;H._clickTimeout=setTimeout(function(){z._fullLayout&&l(U,z,it)},z._context.doubleClickDelay)}else it===2&&(H._clickTimeout&&clearTimeout(H._clickTimeout),z._legendMouseDownTime=0,n.triggerHandler(z,"plotly_legenddoubleclick",B)!==!1&&q!==!1&&l(U,z,it))}function L(z,H,U){var it,K,D=j(U),B=z.data()[0][0],q=B.trace,nt=a.traceIs(q,"pie-like"),ot=!U._inHover&&H._context.edits.legendText&&!nt,rt=U._maxNameLength;B.groupTitle?(it=B.groupTitle.text,K=B.groupTitle.font):(K=U.font,U.entries?it=B.text:(it=nt?B.label:q.name,q._meta&&(it=y.templateString(it,q._meta))));var $=y.ensureSingle(z,"text",D+"text");$.attr("text-anchor","start").call(o.font,K).text(ot?I(it,rt):it);var E=U.indentation+U.itemwidth+2*u.itemGap;e.positionText($,E,0),ot?$.call(e.makeEditable,{gd:H,text:it}).call(C,z,H,U).on("edit",function(S){this.text(I(S,rt)).call(C,z,H,U);var Y=B.trace._fullInput||{},Z={};if(a.hasTransform(Y,"groupby")){var G=a.getTransformIndices(Y,"groupby"),Q=G[G.length-1],at=y.keyedContainer(Y,"transforms["+Q+"].styles","target","value.name");at.set(B.trace._group,S),Z=at.constructUpdate()}else Z.name=S;return Y._isShape?a.call("_guiRelayout",H,"shapes["+q.index+"].name",Z.name):a.call("_guiRestyle",H,Z,q.index)}):C($,z,H,U)}function I(z,H){var U=Math.max(4,H);if(z&&z.trim().length>=U/2)return z;for(var it=U-(z=z||"").length;it>0;it--)z+=" ";return z}function x(z,H,U){var it,K=H._context.doubleClickDelay,D=1,B=y.ensureSingle(z,"rect",U+"toggle",function(q){H._context.staticPlot||q.style("cursor","pointer").attr("pointer-events","all"),q.call(s.fill,"rgba(0,0,0,0)")});H._context.staticPlot||(B.on("mousedown",function(){(it=new Date().getTime())-H._legendMouseDownTime<K?D+=1:(D=1,H._legendMouseDownTime=it)}),B.on("mouseup",function(){if(!H._dragged&&!H._editing){var q=H._fullLayout[U];new Date().getTime()-H._legendMouseDownTime>K&&(D=Math.max(D-1,1)),A(H,q,z,D,f.event)}}))}function C(z,H,U,it,K){it._inHover&&z.attr("data-notex",!0),e.convertToTspans(z,U,function(){(function(D,B,q,nt){var ot=D.data()[0][0];if(q._inHover||!ot||ot.trace.showlegend){var rt=D.select("g[class*=math-group]"),$=rt.node(),E=j(q);q||(q=B._fullLayout[E]);var S,Y,Z=q.borderwidth,G=(nt===T?q.title.font:ot.groupTitle?ot.groupTitle.font:q.font).size*_;if($){var Q=o.bBox($);S=Q.height,Y=Q.width,nt===T?o.setTranslate(rt,Z,Z+.75*S):o.setTranslate(rt,0,.25*S)}else{var at="."+E+(nt===T?"title":"")+"text",tt=D.select(at),_t=e.lineCount(tt),Pt=tt.node();if(S=G*_t,Y=Pt?o.bBox(Pt).width:0,nt===T)q.title.side==="left"&&(Y+=2*u.itemGap),e.positionText(tt,Z+u.titlePad,Z+G);else{var kt=2*u.itemGap+q.indentation+q.itemwidth;ot.groupTitle&&(kt=u.itemGap,Y-=q.indentation+q.itemwidth),e.positionText(tt,kt,-G*((_t-1)/2-.3))}}nt===T?(q._titleWidth=Y,q._titleHeight=S):(ot.lineHeight=G,ot.height=Math.max(S,16)+3,ot.width=Y)}else D.remove()})(H,U,it,K)})}function F(z){return y.isRightAnchor(z)?"right":y.isCenterAnchor(z)?"center":"left"}function N(z){return y.isBottomAnchor(z)?"bottom":y.isMiddleAnchor(z)?"middle":"top"}function j(z){return z._id||"legend"}J.exports=function(z,H){if(H)k(z,H);else{var U=z._fullLayout,it=U._legends;U._infolayer.selectAll('[class^="legend"]').each(function(){var B=f.select(this),q=B.attr("class").split(" ")[0];q.match(w)&&it.indexOf(q)===-1&&B.remove()});for(var K=0;K<it.length;K++){var D=it[K];k(z,z._fullLayout[D])}}}},3076:function(J,h,t){var f=t(4040),y=t(2451);J.exports=function(i,a,n){var r,o,s=a._inHover,e=y.isGrouped(a),l=y.isReversed(a),u={},m=[],_=!1,p={},v=0,g=0;function b(it,K,D){if(a.visible!==!1&&(!n||it===a._id))if(K!==""&&y.isGrouped(a))m.indexOf(K)===-1?(m.push(K),_=!0,u[K]=[D]):u[K].push(D);else{var B="~~i"+v;m.push(B),u[B]=[D],v++}}for(r=0;r<i.length;r++){var d=i[r],T=d[0],w=T.trace,k=w.legend,P=w.legendgroup;if(s||w.visible&&w.showlegend)if(f.traceIs(w,"pie-like"))for(p[P]||(p[P]={}),o=0;o<d.length;o++){var A=d[o].label;p[P][A]||(b(k,P,{label:A,color:d[o].color,i:d[o].i,trace:w,pts:d[o].pts}),p[P][A]=!0,g=Math.max(g,(A||"").length))}else b(k,P,T),g=Math.max(g,(w.name||"").length)}if(!m.length)return[];var L=!_||!e,I=[];for(r=0;r<m.length;r++){var x=u[m[r]];L?I.push(x[0]):I.push(x)}for(L&&(I=[I]),r=0;r<I.length;r++){var C=1/0;for(o=0;o<I[r].length;o++){var F=I[r][o].trace.legendrank;C>F&&(C=F)}I[r][0]._groupMinRank=C,I[r][0]._preGroupSort=r}var N=function(it,K){return it.trace.legendrank-K.trace.legendrank||it._preSort-K._preSort};for(I.forEach(function(it,K){it[0]._preGroupSort=K}),I.sort(function(it,K){return it[0]._groupMinRank-K[0]._groupMinRank||it[0]._preGroupSort-K[0]._preGroupSort}),r=0;r<I.length;r++){I[r].forEach(function(it,K){it._preSort=K}),I[r].sort(N);var j=I[r][0].trace,z=null;for(o=0;o<I[r].length;o++){var H=I[r][o].trace.legendgrouptitle;if(H&&H.text){z=H,s&&(H.font=a._groupTitleFont);break}}if(l&&I[r].reverse(),z){var U=!1;for(o=0;o<I[r].length;o++)if(f.traceIs(I[r][o].trace,"pie-like")){U=!0;break}I[r].unshift({i:-1,groupTitle:z,noClick:U,trace:{showlegend:j.showlegend,legendgroup:j.legendgroup,visible:a.groupclick==="toggleitem"||j.visible}})}for(o=0;o<I[r].length;o++)I[r][o]=[I[r][o]]}return a._lgroupsLength=I.length,a._maxNameLength=g,I}},3048:function(J,h,t){var f=t(4040),y=t(3400),i=y.pushUnique,a=!0;J.exports=function(n,r,o){var s=r._fullLayout;if(!r._dragged&&!r._editing){var e,l=s.legend.itemclick,u=s.legend.itemdoubleclick,m=s.legend.groupclick;if(o===1&&l==="toggle"&&u==="toggleothers"&&a&&r.data&&r._context.showTips&&y.notifier(y._(r,"Double-click on legend to isolate one trace"),"long"),a=!1,o===1?e=l:o===2&&(e=u),e){var _=m==="togglegroup",p=s.hiddenlabels?s.hiddenlabels.slice():[],v=n.data()[0][0];if(!v.groupTitle||!v.noClick){var g=r._fullData,b=(s.shapes||[]).filter(function(ht){return ht.showlegend}),d=g.concat(b),T=v.trace;T._isShape&&(T=T._fullInput);var w,k,P,A,L,I=T.legendgroup,x={},C=[],F=[],N=[],j=(s.shapes||[]).map(function(ht){return ht._input}),z=!1,H=T.legend,U=T._fullInput;if(U&&U._isShape||!f.traceIs(T,"pie-like")){var it,K=I&&I.length,D=[];if(K)for(w=0;w<d.length;w++)(it=d[w]).visible&&it.legendgroup===I&&D.push(w);if(e==="toggle"){var B;switch(T.visible){case!0:B="legendonly";break;case!1:B=!1;break;case"legendonly":B=!0}if(K)if(_)for(w=0;w<d.length;w++){var q=d[w];q.visible!==!1&&q.legendgroup===I&&st(q,B)}else st(T,B);else st(T,B)}else if(e==="toggleothers"){var nt,ot,rt,$,E=!0;for(w=0;w<d.length;w++)if(nt=($=d[w])===T,ot=$.showlegend!==!0,!(nt||ot||K&&$.legendgroup===I||$.legend!==H||$.visible!==!0||f.traceIs($,"notLegendIsolatable"))){E=!1;break}for(w=0;w<d.length;w++)if(($=d[w]).visible!==!1&&$.legend===H&&!f.traceIs($,"notLegendIsolatable"))switch(T.visible){case"legendonly":st($,!0);break;case!0:rt=!!E||"legendonly",nt=$===T,ot=$.showlegend!==!0&&!$.legendgroup,st($,!!(nt||K&&$.legendgroup===I||ot)||rt)}}for(w=0;w<F.length;w++)if(P=F[w]){var S=P.constructUpdate(),Y=Object.keys(S);for(k=0;k<Y.length;k++)A=Y[k],(x[A]=x[A]||[])[N[w]]=S[A]}for(L=Object.keys(x),w=0;w<L.length;w++)for(A=L[w],k=0;k<C.length;k++)x[A].hasOwnProperty(k)||(x[A][k]=void 0);z?f.call("_guiUpdate",r,x,{shapes:j},C):f.call("_guiRestyle",r,x,C)}else{var Z=v.label,G=p.indexOf(Z);if(e==="toggle")G===-1?p.push(Z):p.splice(G,1);else if(e==="toggleothers"){var Q=G!==-1,at=[];for(w=0;w<r.calcdata.length;w++){var tt=r.calcdata[w];for(k=0;k<tt.length;k++){var _t=tt[k].label;H===tt[0].trace.legend&&Z!==_t&&(p.indexOf(_t)===-1&&(Q=!0),i(p,_t),at.push(_t))}}if(!Q)for(var Pt=0;Pt<at.length;Pt++){var kt=p.indexOf(at[Pt]);kt!==-1&&p.splice(kt,1)}}f.call("_guiRelayout",r,"hiddenlabels",p)}}}}function lt(ht,bt){var pt=C.indexOf(ht),Dt=x.visible;return Dt||(Dt=x.visible=[]),C.indexOf(ht)===-1&&(C.push(ht),pt=C.length-1),Dt[pt]=bt,pt}function st(ht,bt){if(!v.groupTitle||_){var pt,Dt=ht._fullInput||ht,qt=Dt._isShape,ct=Dt.index;if(ct===void 0&&(ct=Dt._index),f.hasTransform(Dt,"groupby")){var xt=F[ct];if(!xt){var dt=f.getTransformIndices(Dt,"groupby"),vt=dt[dt.length-1];xt=y.keyedContainer(Dt,"transforms["+vt+"].styles","target","value.visible"),F[ct]=xt}var yt=xt.get(ht._group);yt===void 0&&(yt=!0),yt!==!1&&xt.set(ht._group,bt),N[ct]=lt(ct,Dt.visible!==!1)}else{var Mt=Dt.visible!==!1&&bt;qt?(pt=Mt,j[ct].visible=pt,z=!0):lt(ct,Mt)}}}}},2451:function(J,h){h.isGrouped=function(t){return(t.traceorder||"").indexOf("grouped")!==-1},h.isVertical=function(t){return t.orientation!=="h"},h.isReversed=function(t){return(t.traceorder||"").indexOf("reversed")!==-1}},2780:function(J,h,t){J.exports={moduleType:"component",name:"legend",layoutAttributes:t(3800),supplyLayoutDefaults:t(7864),draw:t(1140),style:t(2012)}},2012:function(J,h,t){var f=t(3428),y=t(4040),i=t(3400),a=i.strTranslate,n=t(3616),r=t(6308),o=t(4288).extractOpts,s=t(3028),e=t(528),l=t(9656).castOption,u=t(5196);function m(v,g){return(g?"radial":"horizontal")+(v?"":"reversed")}function _(v){var g=v[0].trace,b=g.contours,d=s.hasLines(g),T=s.hasMarkers(g),w=g.visible&&g.fill&&g.fill!=="none",k=!1,P=!1;if(b){var A=b.coloring;A==="lines"?k=!0:d=A==="none"||A==="heatmap"||b.showlines,b.type==="constraint"?w=b._operation!=="=":A!=="fill"&&A!=="heatmap"||(P=!0)}return{showMarker:T,showLine:d,showFill:w,showGradientLine:k,showGradientFill:P,anyLine:d||k,anyFill:w||P}}function p(v,g,b){return v&&i.isArrayOrTypedArray(v)?g:v>b?b:v}J.exports=function(v,g,b){var d=g._fullLayout;b||(b=d.legend);var T=b.itemsizing==="constant",w=b.itemwidth,k=(w+2*u.itemGap)/2,P=a(k,0),A=function(x,C,F,N){var j;if(x+1)j=x;else{if(!(C&&C.width>0))return 0;j=C.width}return T?N:Math.min(j,F)};function L(x,C,F){var N=x[0].trace,j=N.marker||{},z=j.line||{},H=j.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",U=F?N.visible&&N.type===F:y.traceIs(N,"bar"),it=f.select(C).select("g.legendpoints").selectAll("path.legend"+F).data(U?[x]:[]);it.enter().append("path").classed("legend"+F,!0).attr("d",H).attr("transform",P),it.exit().remove(),it.each(function(K){var D=f.select(this),B=K[0],q=A(B.mlw,j.line,5,2);D.style("stroke-width",q+"px");var nt=B.mcc;if(!b._inHover&&"mc"in B){var ot=o(j),rt=ot.mid;rt===void 0&&(rt=(ot.max+ot.min)/2),nt=n.tryColorscale(j,"")(rt)}var $=nt||B.mc||j.color,E=j.pattern,S=E&&n.getPatternAttr(E.shape,0,"");if(S){var Y=n.getPatternAttr(E.bgcolor,0,null),Z=n.getPatternAttr(E.fgcolor,0,null),G=E.fgopacity,Q=p(E.size,8,10),at=p(E.solidity,.5,1),tt="legend-"+N.uid;D.call(n.pattern,"legend",g,tt,S,Q,at,nt,E.fillmode,Y,Z,G)}else D.call(r.fill,$);q&&r.stroke(D,B.mlc||z.color)})}function I(x,C,F){var N=x[0],j=N.trace,z=F?j.visible&&j.type===F:y.traceIs(j,F),H=f.select(C).select("g.legendpoints").selectAll("path.legend"+F).data(z?[x]:[]);if(H.enter().append("path").classed("legend"+F,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",P),H.exit().remove(),H.size()){var U=j.marker||{},it=A(l(U.line.width,N.pts),U.line,5,2),K="pieLike",D=i.minExtend(j,{marker:{line:{width:it}}},K),B=i.minExtend(N,{trace:D},K);e(H,B,D,g)}}v.each(function(x){var C=f.select(this),F=i.ensureSingle(C,"g","layers");F.style("opacity",x[0].trace.opacity);var N=b.indentation,j=b.valign,z=x[0].lineHeight,H=x[0].height;if(j==="middle"&&N===0||!z||!H)F.attr("transform",null);else{var U={top:1,bottom:-1}[j]*(.5*(z-H+3))||0,it=b.indentation;F.attr("transform",a(it,U))}F.selectAll("g.legendfill").data([x]).enter().append("g").classed("legendfill",!0),F.selectAll("g.legendlines").data([x]).enter().append("g").classed("legendlines",!0);var K=F.selectAll("g.legendsymbols").data([x]);K.enter().append("g").classed("legendsymbols",!0),K.selectAll("g.legendpoints").data([x]).enter().append("g").classed("legendpoints",!0)}).each(function(x){var C,F=x[0].trace,N=[];if(F.visible)switch(F.type){case"histogram2d":case"heatmap":N=[["M-15,-2V4H15V-2Z"]],C=!0;break;case"choropleth":case"choroplethmapbox":N=[["M-6,-6V6H6V-6Z"]],C=!0;break;case"densitymapbox":N=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],C="radial";break;case"cone":N=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],C=!1;break;case"streamtube":N=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],C=!1;break;case"surface":N=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],C=!0;break;case"mesh3d":N=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],C=!1;break;case"volume":N=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],C=!0;break;case"isosurface":N=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],C=!1}var j=f.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(N);j.enter().append("path").classed("legend3dandfriends",!0).attr("transform",P).style("stroke-miterlimit",1),j.exit().remove(),j.each(function(z,H){var U,it=f.select(this),K=o(F),D=K.colorscale,B=K.reversescale;if(D){if(!C){var q=D.length;U=H===0?D[B?q-1:0][1]:H===1?D[B?0:q-1][1]:D[Math.floor((q-1)/2)][1]}}else{var nt=F.vertexcolor||F.facecolor||F.color;U=i.isArrayOrTypedArray(nt)?nt[H]||nt[0]:nt}it.attr("d",z[0]),U?it.call(r.fill,U):it.call(function(ot){if(ot.size()){var rt="legendfill-"+F.uid;n.gradient(ot,g,rt,m(B,C==="radial"),D,"fill")}})})}).each(function(x){var C=x[0].trace,F=C.type==="waterfall";if(x[0]._distinct&&F){var N=x[0].trace[x[0].dir].marker;return x[0].mc=N.color,x[0].mlw=N.line.width,x[0].mlc=N.line.color,L(x,this,"waterfall")}var j=[];C.visible&&F&&(j=x[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var z=f.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(j);z.enter().append("path").classed("legendwaterfall",!0).attr("transform",P).style("stroke-miterlimit",1),z.exit().remove(),z.each(function(H){var U=f.select(this),it=C[H[0]].marker,K=A(void 0,it.line,5,2);U.attr("d",H[1]).style("stroke-width",K+"px").call(r.fill,it.color),K&&U.call(r.stroke,it.line.color)})}).each(function(x){L(x,this,"funnel")}).each(function(x){L(x,this)}).each(function(x){var C=x[0].trace,F=f.select(this).select("g.legendpoints").selectAll("path.legendbox").data(C.visible&&y.traceIs(C,"box-violin")?[x]:[]);F.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",P),F.exit().remove(),F.each(function(){var N=f.select(this);if(C.boxpoints!=="all"&&C.points!=="all"||r.opacity(C.fillcolor)!==0||r.opacity((C.line||{}).color)!==0){var j=A(void 0,C.line,5,2);N.style("stroke-width",j+"px").call(r.fill,C.fillcolor),j&&r.stroke(N,C.line.color)}else{var z=i.minExtend(C,{marker:{size:T?12:i.constrain(C.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});F.call(n.pointStyle,z,g)}})}).each(function(x){I(x,this,"funnelarea")}).each(function(x){I(x,this,"pie")}).each(function(x){var C,F,N=_(x),j=N.showFill,z=N.showLine,H=N.showGradientLine,U=N.showGradientFill,it=N.anyFill,K=N.anyLine,D=x[0],B=D.trace,q=o(B),nt=q.colorscale,ot=q.reversescale,rt=s.hasMarkers(B)||!it?"M5,0":K?"M5,-2":"M5,-3",$=f.select(this),E=$.select(".legendfill").selectAll("path").data(j||U?[x]:[]);if(E.enter().append("path").classed("js-fill",!0),E.exit().remove(),E.attr("d",rt+"h"+w+"v6h-"+w+"z").call(function(Z){if(Z.size())if(j)n.fillGroupStyle(Z,g,!0);else{var G="legendfill-"+B.uid;n.gradient(Z,g,G,m(ot),nt,"fill")}}),z||H){var S=A(void 0,B.line,10,5);F=i.minExtend(B,{line:{width:S}}),C=[i.minExtend(D,{trace:F})]}var Y=$.select(".legendlines").selectAll("path").data(z||H?[C]:[]);Y.enter().append("path").classed("js-line",!0),Y.exit().remove(),Y.attr("d",rt+(H?"l"+w+",0.0001":"h"+w)).call(z?n.lineGroupStyle:function(Z){if(Z.size()){var G="legendline-"+B.uid;n.lineGroupStyle(Z),n.gradient(Z,g,G,m(ot),nt,"stroke")}})}).each(function(x){var C,F,N=_(x),j=N.anyFill,z=N.anyLine,H=N.showLine,U=N.showMarker,it=x[0],K=it.trace,D=!U&&!z&&!j&&s.hasText(K);function B(Y,Z,G,Q){var at=i.nestedProperty(K,Y).get(),tt=i.isArrayOrTypedArray(at)&&Z?Z(at):at;if(T&&tt&&Q!==void 0&&(tt=Q),G){if(tt<G[0])return G[0];if(tt>G[1])return G[1]}return tt}function q(Y){return it._distinct&&it.index&&Y[it.index]?Y[it.index]:Y[0]}if(U||D||H){var nt={},ot={};if(U){nt.mc=B("marker.color",q),nt.mx=B("marker.symbol",q),nt.mo=B("marker.opacity",i.mean,[.2,1]),nt.mlc=B("marker.line.color",q),nt.mlw=B("marker.line.width",i.mean,[0,5],2),ot.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var rt=B("marker.size",i.mean,[2,16],12);nt.ms=rt,ot.marker.size=rt}H&&(ot.line={width:B("line.width",q,[0,10],5)}),D&&(nt.tx="Aa",nt.tp=B("textposition",q),nt.ts=10,nt.tc=B("textfont.color",q),nt.tf=B("textfont.family",q)),C=[i.minExtend(it,nt)],(F=i.minExtend(K,ot)).selectedpoints=null,F.texttemplate=null}var $=f.select(this).select("g.legendpoints"),E=$.selectAll("path.scatterpts").data(U?C:[]);E.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",P),E.exit().remove(),E.call(n.pointStyle,F,g),U&&(C[0].mrc=3);var S=$.selectAll("g.pointtext").data(D?C:[]);S.enter().append("g").classed("pointtext",!0).append("text").attr("transform",P),S.exit().remove(),S.selectAll("text").call(n.textPointStyle,F,g)}).each(function(x){var C=x[0].trace,F=f.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(C.visible&&C.type==="candlestick"?[x,x]:[]);F.enter().append("path").classed("legendcandle",!0).attr("d",function(N,j){return j?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",P).style("stroke-miterlimit",1),F.exit().remove(),F.each(function(N,j){var z=f.select(this),H=C[j?"increasing":"decreasing"],U=A(void 0,H.line,5,2);z.style("stroke-width",U+"px").call(r.fill,H.fillcolor),U&&r.stroke(z,H.line.color)})}).each(function(x){var C=x[0].trace,F=f.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(C.visible&&C.type==="ohlc"?[x,x]:[]);F.enter().append("path").classed("legendohlc",!0).attr("d",function(N,j){return j?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",P).style("stroke-miterlimit",1),F.exit().remove(),F.each(function(N,j){var z=f.select(this),H=C[j?"increasing":"decreasing"],U=A(void 0,H.line,5,2);z.style("fill","none").call(n.dashLine,H.line.dash,U),U&&r.stroke(z,H.line.color)})})}},6540:function(J,h,t){t(6052),J.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},1868:function(J,h,t){var f=t(4040),y=t(7316),i=t(9811),a=t(9224),n=t(4016).eraseActiveShape,r=t(3400),o=r._,s=J.exports={};function e(d,T){var w,k,P=T.currentTarget,A=P.getAttribute("data-attr"),L=P.getAttribute("data-val")||!0,I=d._fullLayout,x={},C=i.list(d,null,!0),F=I._cartesianSpikesEnabled;if(A==="zoom"){var N,j=L==="in"?.5:2,z=(1+j)/2,H=(1-j)/2;for(k=0;k<C.length;k++)if(!(w=C[k]).fixedrange)if(N=w._name,L==="auto")x[N+".autorange"]=!0;else if(L==="reset")w._rangeInitial0===void 0&&w._rangeInitial1===void 0?x[N+".autorange"]=!0:w._rangeInitial0===void 0?(x[N+".autorange"]=w._autorangeInitial,x[N+".range"]=[null,w._rangeInitial1]):w._rangeInitial1===void 0?(x[N+".range"]=[w._rangeInitial0,null],x[N+".autorange"]=w._autorangeInitial):x[N+".range"]=[w._rangeInitial0,w._rangeInitial1],w._showSpikeInitial!==void 0&&(x[N+".showspikes"]=w._showSpikeInitial,F!=="on"||w._showSpikeInitial||(F="off"));else{var U=[w.r2l(w.range[0]),w.r2l(w.range[1])],it=[z*U[0]+H*U[1],z*U[1]+H*U[0]];x[N+".range[0]"]=w.l2r(it[0]),x[N+".range[1]"]=w.l2r(it[1])}}else A!=="hovermode"||L!=="x"&&L!=="y"||(L=I._isHoriz?"y":"x",P.setAttribute("data-val",L)),x[A]=L;I._cartesianSpikesEnabled=F,f.call("_guiRelayout",d,x)}function l(d,T){for(var w=T.currentTarget,k=w.getAttribute("data-attr"),P=w.getAttribute("data-val")||!0,A=d._fullLayout._subplots.gl3d||[],L={},I=k.split("."),x=0;x<A.length;x++)L[A[x]+"."+I[1]]=P;var C=P==="pan"?P:"zoom";L.dragmode=C,f.call("_guiRelayout",d,L)}function u(d,T){for(var w=T.currentTarget.getAttribute("data-attr"),k=w==="resetLastSave",P=w==="resetDefault",A=d._fullLayout,L=A._subplots.gl3d||[],I={},x=0;x<L.length;x++){var C,F=L[x],N=F+".camera",j=F+".aspectratio",z=F+".aspectmode",H=A[F]._scene;k?(I[N+".up"]=H.viewInitial.up,I[N+".eye"]=H.viewInitial.eye,I[N+".center"]=H.viewInitial.center,C=!0):P&&(I[N+".up"]=null,I[N+".eye"]=null,I[N+".center"]=null,C=!0),C&&(I[j+".x"]=H.viewInitial.aspectratio.x,I[j+".y"]=H.viewInitial.aspectratio.y,I[j+".z"]=H.viewInitial.aspectratio.z,I[z]=H.viewInitial.aspectmode)}f.call("_guiRelayout",d,I)}function m(d,T){var w=T.currentTarget,k=w._previousVal,P=d._fullLayout,A=P._subplots.gl3d||[],L=["xaxis","yaxis","zaxis"],I={},x={};if(k)x=k,w._previousVal=null;else{for(var C=0;C<A.length;C++){var F=A[C],N=P[F],j=F+".hovermode";I[j]=N.hovermode,x[j]=!1;for(var z=0;z<3;z++){var H=L[z],U=F+"."+H+".showspikes";x[U]=!1,I[U]=N[H].showspikes}}w._previousVal=I}return x}function _(d,T){for(var w=T.currentTarget,k=w.getAttribute("data-attr"),P=w.getAttribute("data-val")||!0,A=d._fullLayout,L=A._subplots.geo||[],I=0;I<L.length;I++){var x=L[I],C=A[x];if(k==="zoom"){var F=C.projection.scale,N=P==="in"?2*F:.5*F;f.call("_guiRelayout",d,x+".projection.scale",N)}}k==="reset"&&b(d,"geo")}function p(d){var T=d._fullLayout;return!T.hovermode&&(T._has("cartesian")?T._isHoriz?"y":"x":"closest")}function v(d){var T=p(d);f.call("_guiRelayout",d,"hovermode",T)}function g(d,T){for(var w=T.currentTarget.getAttribute("data-val"),k=d._fullLayout,P=k._subplots.mapbox||[],A={},L=0;L<P.length;L++){var I=P[L],x=k[I].zoom,C=w==="in"?1.05*x:x/1.05;A[I+".zoom"]=C}f.call("_guiRelayout",d,A)}function b(d,T){for(var w=d._fullLayout,k=w._subplots[T]||[],P={},A=0;A<k.length;A++)for(var L=k[A],I=w[L]._subplot.viewInitial,x=Object.keys(I),C=0;C<x.length;C++){var F=x[C];P[L+"."+F]=I[F]}f.call("_guiRelayout",d,P)}s.toImage={name:"toImage",title:function(d){var T=(d._context.toImageButtonOptions||{}).format||"png";return o(d,T==="png"?"Download plot as a png":"Download plot")},icon:a.camera,click:function(d){var T=d._context.toImageButtonOptions,w={format:T.format||"png"};r.notifier(o(d,"Taking snapshot - this may take a few seconds"),"long"),w.format!=="svg"&&r.isIE()&&(r.notifier(o(d,"IE only supports svg.  Changing format to svg."),"long"),w.format="svg"),["filename","width","height","scale"].forEach(function(k){k in T&&(w[k]=T[k])}),f.call("downloadImage",d,w).then(function(k){r.notifier(o(d,"Snapshot succeeded")+" - "+k,"long")}).catch(function(){r.notifier(o(d,"Sorry, there was a problem downloading your snapshot!"),"long")})}},s.sendDataToCloud={name:"sendDataToCloud",title:function(d){return o(d,"Edit in Chart Studio")},icon:a.disk,click:function(d){y.sendDataToCloud(d)}},s.editInChartStudio={name:"editInChartStudio",title:function(d){return o(d,"Edit in Chart Studio")},icon:a.pencil,click:function(d){y.sendDataToCloud(d)}},s.zoom2d={name:"zoom2d",_cat:"zoom",title:function(d){return o(d,"Zoom")},attr:"dragmode",val:"zoom",icon:a.zoombox,click:e},s.pan2d={name:"pan2d",_cat:"pan",title:function(d){return o(d,"Pan")},attr:"dragmode",val:"pan",icon:a.pan,click:e},s.select2d={name:"select2d",_cat:"select",title:function(d){return o(d,"Box Select")},attr:"dragmode",val:"select",icon:a.selectbox,click:e},s.lasso2d={name:"lasso2d",_cat:"lasso",title:function(d){return o(d,"Lasso Select")},attr:"dragmode",val:"lasso",icon:a.lasso,click:e},s.drawclosedpath={name:"drawclosedpath",title:function(d){return o(d,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:a.drawclosedpath,click:e},s.drawopenpath={name:"drawopenpath",title:function(d){return o(d,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:a.drawopenpath,click:e},s.drawline={name:"drawline",title:function(d){return o(d,"Draw line")},attr:"dragmode",val:"drawline",icon:a.drawline,click:e},s.drawrect={name:"drawrect",title:function(d){return o(d,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:a.drawrect,click:e},s.drawcircle={name:"drawcircle",title:function(d){return o(d,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:a.drawcircle,click:e},s.eraseshape={name:"eraseshape",title:function(d){return o(d,"Erase active shape")},icon:a.eraseshape,click:n},s.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(d){return o(d,"Zoom in")},attr:"zoom",val:"in",icon:a.zoom_plus,click:e},s.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(d){return o(d,"Zoom out")},attr:"zoom",val:"out",icon:a.zoom_minus,click:e},s.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(d){return o(d,"Autoscale")},attr:"zoom",val:"auto",icon:a.autoscale,click:e},s.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(d){return o(d,"Reset axes")},attr:"zoom",val:"reset",icon:a.home,click:e},s.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(d){return o(d,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:a.tooltip_basic,gravity:"ne",click:e},s.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(d){return o(d,"Compare data on hover")},attr:"hovermode",val:function(d){return d._fullLayout._isHoriz?"y":"x"},icon:a.tooltip_compare,gravity:"ne",click:e},s.zoom3d={name:"zoom3d",_cat:"zoom",title:function(d){return o(d,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:a.zoombox,click:l},s.pan3d={name:"pan3d",_cat:"pan",title:function(d){return o(d,"Pan")},attr:"scene.dragmode",val:"pan",icon:a.pan,click:l},s.orbitRotation={name:"orbitRotation",title:function(d){return o(d,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:a["3d_rotate"],click:l},s.tableRotation={name:"tableRotation",title:function(d){return o(d,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:a["z-axis"],click:l},s.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(d){return o(d,"Reset camera to default")},attr:"resetDefault",icon:a.home,click:u},s.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(d){return o(d,"Reset camera to last save")},attr:"resetLastSave",icon:a.movie,click:u},s.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(d){return o(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:function(d,T){var w=m(d,T);f.call("_guiRelayout",d,w)}},s.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(d){return o(d,"Zoom in")},attr:"zoom",val:"in",icon:a.zoom_plus,click:_},s.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(d){return o(d,"Zoom out")},attr:"zoom",val:"out",icon:a.zoom_minus,click:_},s.resetGeo={name:"resetGeo",_cat:"reset",title:function(d){return o(d,"Reset")},attr:"reset",val:null,icon:a.autoscale,click:_},s.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(d){return o(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:v},s.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(d){return o(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:v},s.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(d){return o(d,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:a.tooltip_basic,gravity:"ne",click:v},s.resetViewSankey={name:"resetSankeyGroup",title:function(d){return o(d,"Reset view")},icon:a.home,click:function(d){for(var T={"node.groups":[],"node.x":[],"node.y":[]},w=0;w<d._fullData.length;w++){var k=d._fullData[w]._viewInitial;T["node.groups"].push(k.node.groups.slice()),T["node.x"].push(k.node.x.slice()),T["node.y"].push(k.node.y.slice())}f.call("restyle",d,T)}},s.toggleHover={name:"toggleHover",title:function(d){return o(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:function(d,T){var w=m(d,T);w.hovermode=p(d),f.call("_guiRelayout",d,w)}},s.resetViews={name:"resetViews",title:function(d){return o(d,"Reset views")},icon:a.home,click:function(d,T){var w=T.currentTarget;w.setAttribute("data-attr","zoom"),w.setAttribute("data-val","reset"),e(d,T),w.setAttribute("data-attr","resetLastSave"),u(d,T),b(d,"geo"),b(d,"mapbox")}},s.toggleSpikelines={name:"toggleSpikelines",title:function(d){return o(d,"Toggle Spike Lines")},icon:a.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(d){var T=d._fullLayout,w=T._cartesianSpikesEnabled;T._cartesianSpikesEnabled=w==="on"?"off":"on",f.call("_guiRelayout",d,function(k){for(var P=k._fullLayout._cartesianSpikesEnabled==="on",A=i.list(k,null,!0),L={},I=0;I<A.length;I++){var x=A[I];L[x._name+".showspikes"]=!!P||x._showSpikeInitial}return L}(d))}},s.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(d){return o(d,"Reset view")},attr:"reset",icon:a.home,click:function(d){b(d,"mapbox")}},s.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(d){return o(d,"Zoom in")},attr:"zoom",val:"in",icon:a.zoom_plus,click:g},s.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(d){return o(d,"Zoom out")},attr:"zoom",val:"out",icon:a.zoom_minus,click:g}},6052:function(J,h,t){var f=t(1868),y=Object.keys(f),i=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],a=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(i),n=[];y.forEach(function(r){(function(o){if(a.indexOf(o._cat||o.name)===-1){var s=o.name,e=(o._cat||o.name).toLowerCase();n.indexOf(s)===-1&&n.push(s),n.indexOf(e)===-1&&n.push(e)}})(f[r])}),n.sort(),J.exports={DRAW_MODES:i,backButtons:a,foreButtons:n}},824:function(J,h,t){var f=t(3400),y=t(6308),i=t(1780),a=t(6540);J.exports=function(n,r){var o=n.modebar||{},s=i.newContainer(r,"modebar");function e(u,m){return f.coerce(o,s,a,u,m)}e("orientation"),e("bgcolor",y.addOpacity(r.paper_bgcolor,.5));var l=y.contrast(y.rgb(r.modebar.bgcolor));e("color",y.addOpacity(l,.3)),e("activecolor",y.addOpacity(l,.7)),e("uirevision",r.uirevision),e("add"),e("remove")}},3080:function(J,h,t){J.exports={moduleType:"component",name:"modebar",layoutAttributes:t(6540),supplyLayoutDefaults:t(824),manage:t(8816)}},8816:function(J,h,t){var f=t(9811),y=t(3028),i=t(4040),a=t(624).isUnifiedHover,n=t(6400),r=t(1868),o=t(6052).DRAW_MODES,s=t(3400).extendDeep;J.exports=function(e){var l=e._fullLayout,u=e._context,m=l._modeBar;if(u.displayModeBar||u.watermark){if(!Array.isArray(u.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(u.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var _,p=u.modeBarButtons;_=Array.isArray(p)&&p.length?function(v){for(var g=s([],v),b=0;b<g.length;b++)for(var d=g[b],T=0;T<d.length;T++){var w=d[T];if(typeof w=="string"){if(r[w]===void 0)throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));g[b][T]=r[w]}}return g}(p):!u.displayModeBar&&u.watermark?[]:function(v){var g=v._fullLayout,b=v._fullData,d=v._context;function T(at,tt){if(typeof tt=="string"){if(tt.toLowerCase()===at.toLowerCase())return!0}else{var _t=tt.name,Pt=tt._cat||tt.name;if(_t===at||Pt===at.toLowerCase())return!0}return!1}var w=g.modebar.add;typeof w=="string"&&(w=[w]);var k=g.modebar.remove;typeof k=="string"&&(k=[k]);var P=d.modeBarButtonsToAdd.concat(w.filter(function(at){for(var tt=0;tt<d.modeBarButtonsToRemove.length;tt++)if(T(at,d.modeBarButtonsToRemove[tt]))return!1;return!0})),A=d.modeBarButtonsToRemove.concat(k.filter(function(at){for(var tt=0;tt<d.modeBarButtonsToAdd.length;tt++)if(T(at,d.modeBarButtonsToAdd[tt]))return!1;return!0})),L=g._has("cartesian"),I=g._has("gl3d"),x=g._has("geo"),C=g._has("pie"),F=g._has("funnelarea"),N=g._has("gl2d"),j=g._has("ternary"),z=g._has("mapbox"),H=g._has("polar"),U=g._has("smith"),it=g._has("sankey"),K=function(at){for(var tt=f.list({_fullLayout:at},null,!0),_t=0;_t<tt.length;_t++)if(!tt[_t].fixedrange)return!1;return!0}(g),D=a(g.hovermode),B=[];function q(at){if(at.length){for(var tt=[],_t=0;_t<at.length;_t++){for(var Pt=at[_t],kt=r[Pt],lt=kt.name.toLowerCase(),st=(kt._cat||kt.name).toLowerCase(),ht=!1,bt=0;bt<A.length;bt++){var pt=A[bt].toLowerCase();if(pt===lt||pt===st){ht=!0;break}}ht||tt.push(r[Pt])}B.push(tt)}}var nt=["toImage"];d.showEditInChartStudio?nt.push("editInChartStudio"):d.showSendToCloud&&nt.push("sendDataToCloud"),q(nt);var ot=[],rt=[],$=[],E=[];(L||N||C||F||j)+x+I+z+H+U>1?(rt=["toggleHover"],$=["resetViews"]):x?(ot=["zoomInGeo","zoomOutGeo"],rt=["hoverClosestGeo"],$=["resetGeo"]):I?(rt=["hoverClosest3d"],$=["resetCameraDefault3d","resetCameraLastSave3d"]):z?(ot=["zoomInMapbox","zoomOutMapbox"],rt=["toggleHover"],$=["resetViewMapbox"]):N?rt=["hoverClosestGl2d"]:C?rt=["hoverClosestPie"]:it?(rt=["hoverClosestCartesian","hoverCompareCartesian"],$=["resetViewSankey"]):rt=["toggleHover"],L&&(rt=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(at){for(var tt=0;tt<at.length;tt++)if(!i.traceIs(at[tt],"noHover"))return!1;return!0}(b)||D)&&(rt=[]),!L&&!N||K||(ot=["zoomIn2d","zoomOut2d","autoScale2d"],$[0]!=="resetViews"&&($=["resetScale2d"])),I?E=["zoom3d","pan3d","orbitRotation","tableRotation"]:(L||N)&&!K||j?E=["zoom2d","pan2d"]:z||x?E=["pan2d"]:H&&(E=["zoom2d"]),function(at){for(var tt=!1,_t=0;_t<at.length&&!tt;_t++){var Pt=at[_t];Pt._module&&Pt._module.selectPoints&&(i.traceIs(Pt,"scatter-like")?(y.hasMarkers(Pt)||y.hasText(Pt))&&(tt=!0):i.traceIs(Pt,"box-violin")&&Pt.boxpoints!=="all"&&Pt.points!=="all"||(tt=!0))}return tt}(b)&&E.push("select2d","lasso2d");var S=[],Y=function(at){S.indexOf(at)===-1&&rt.indexOf(at)!==-1&&S.push(at)};if(Array.isArray(P)){for(var Z=[],G=0;G<P.length;G++){var Q=P[G];typeof Q=="string"?(Q=Q.toLowerCase(),o.indexOf(Q)!==-1?(g._has("mapbox")||g._has("cartesian"))&&E.push(Q):Q==="togglespikelines"?Y("toggleSpikelines"):Q==="togglehover"?Y("toggleHover"):Q==="hovercompare"?Y("hoverCompareCartesian"):Q==="hoverclosest"?(Y("hoverClosestCartesian"),Y("hoverClosestGeo"),Y("hoverClosest3d"),Y("hoverClosestGl2d"),Y("hoverClosestPie")):Q==="v1hovermode"&&(Y("toggleHover"),Y("hoverClosestCartesian"),Y("hoverCompareCartesian"),Y("hoverClosestGeo"),Y("hoverClosest3d"),Y("hoverClosestGl2d"),Y("hoverClosestPie"))):Z.push(Q)}P=Z}return q(E),q(ot.concat($)),q(S),function(at,tt){if(tt.length)if(Array.isArray(tt[0]))for(var _t=0;_t<tt.length;_t++)at.push(tt[_t]);else at.push(tt);return at}(B,P)}(e),m?m.update(e,_):l._modeBar=n(e,_)}else m&&(m.destroy(),delete l._modeBar)}},6400:function(J,h,t){var f=t(3428),y=t(8248),i=t(3400),a=t(9224),n=t(5788).version,r=new DOMParser;function o(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var s=o.prototype;s.update=function(e,l){this.graphInfo=e;var u=this.graphInfo._context,m=this.graphInfo._fullLayout,_="modebar-"+m._uid;this.element.setAttribute("id",_),this._uid=_,this.element.className="modebar",u.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),m.modebar.orientation==="v"&&(this.element.className+=" vertical",l=l.reverse());var p=m.modebar,v=u.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";i.deleteRelatedStyleRule(_),i.addRelatedStyleRule(_,v+"#"+_+" .modebar-group","background-color: "+p.bgcolor),i.addRelatedStyleRule(_,"#"+_+" .modebar-btn .icon path","fill: "+p.color),i.addRelatedStyleRule(_,"#"+_+" .modebar-btn:hover .icon path","fill: "+p.activecolor),i.addRelatedStyleRule(_,"#"+_+" .modebar-btn.active .icon path","fill: "+p.activecolor);var g=!this.hasButtons(l),b=this.hasLogo!==u.displaylogo,d=this.locale!==u.locale;if(this.locale=u.locale,(g||b||d)&&(this.removeAllButtons(),this.updateButtons(l),u.watermark||u.displaylogo)){var T=this.getLogo();u.watermark&&(T.className=T.className+" watermark"),m.modebar.orientation==="v"?this.element.insertBefore(T,this.element.childNodes[0]):this.element.appendChild(T),this.hasLogo=!0}this.updateActiveButton()},s.updateButtons=function(e){var l=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(u){var m=l.createGroup();u.forEach(function(_){var p=_.name;if(!p)throw new Error("must provide button 'name' in button config");if(l.buttonsNames.indexOf(p)!==-1)throw new Error("button name '"+p+"' is taken");l.buttonsNames.push(p);var v=l.createButton(_);l.buttonElements.push(v),m.appendChild(v)}),l.element.appendChild(m)})},s.createGroup=function(){var e=document.createElement("div");return e.className="modebar-group",e},s.createButton=function(e){var l=this,u=document.createElement("a");u.setAttribute("rel","tooltip"),u.className="modebar-btn";var m=e.title;m===void 0?m=e.name:typeof m=="function"&&(m=m(this.graphInfo)),(m||m===0)&&u.setAttribute("data-title",m),e.attr!==void 0&&u.setAttribute("data-attr",e.attr);var _=e.val;if(_!==void 0&&(typeof _=="function"&&(_=_(this.graphInfo)),u.setAttribute("data-val",_)),typeof e.click!="function")throw new Error("must provide button 'click' function in button config");u.addEventListener("click",function(v){e.click(l.graphInfo,v),l.updateActiveButton(v.currentTarget)}),u.setAttribute("data-toggle",e.toggle||!1),e.toggle&&f.select(u).classed("active",!0);var p=e.icon;return typeof p=="function"?u.appendChild(p()):u.appendChild(this.createIcon(p||a.question)),u.setAttribute("data-gravity",e.gravity||"n"),u},s.createIcon=function(e){var l,u=y(e.height)?Number(e.height):e.ascent-e.descent,m="http://www.w3.org/2000/svg";if(e.path){(l=document.createElementNS(m,"svg")).setAttribute("viewBox",[0,0,e.width,u].join(" ")),l.setAttribute("class","icon");var _=document.createElementNS(m,"path");_.setAttribute("d",e.path),e.transform?_.setAttribute("transform",e.transform):e.ascent!==void 0&&_.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),l.appendChild(_)}return e.svg&&(l=r.parseFromString(e.svg,"application/xml").childNodes[0]),l.setAttribute("height","1em"),l.setAttribute("width","1em"),l},s.updateActiveButton=function(e){var l=this.graphInfo._fullLayout,u=e!==void 0?e.getAttribute("data-attr"):null;this.buttonElements.forEach(function(m){var _=m.getAttribute("data-val")||!0,p=m.getAttribute("data-attr"),v=m.getAttribute("data-toggle")==="true",g=f.select(m);if(v)p===u&&g.classed("active",!g.classed("active"));else{var b=p===null?p:i.nestedProperty(l,p).get();g.classed("active",b===_)}})},s.hasButtons=function(e){var l=this.buttons;if(!l||e.length!==l.length)return!1;for(var u=0;u<e.length;++u){if(e[u].length!==l[u].length)return!1;for(var m=0;m<e[u].length;m++)if(e[u][m].name!==l[u][m].name)return!1}return!0},s.getLogo=function(){var e=this.createGroup(),l=document.createElement("a");return l.href="https://plotly.com/",l.target="_blank",l.setAttribute("data-title",i._(this.graphInfo,"Produced with Plotly.js")+" (v"+n+")"),l.className="modebar-btn plotlyjsicon modebar-btn--logo",l.appendChild(this.createIcon(a.newplotlylogo)),e.appendChild(l),e},s.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},s.destroy=function(){i.removeElement(this.container.querySelector(".modebar")),i.deleteRelatedStyleRule(this._uid)},J.exports=function(e,l){var u=e._fullLayout,m=new o({graphInfo:e,container:u._modebardiv.node(),buttons:l});return u._privateplot&&f.select(m.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),m}},6680:function(J,h,t){var f=t(5376),y=t(2548),i=(0,t(1780).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});J.exports={visible:{valType:"boolean",editType:"plot"},buttons:i,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:f({editType:"plot"}),bgcolor:{valType:"color",dflt:y.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:y.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},5984:function(J){J.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},2148:function(J,h,t){var f=t(3400),y=t(6308),i=t(1780),a=t(1272),n=t(6680),r=t(5984);function o(s,e,l,u){var m=u.calendar;function _(v,g){return f.coerce(s,e,n.buttons,v,g)}if(_("visible")){var p=_("step");p!=="all"&&(!m||m==="gregorian"||p!=="month"&&p!=="year"?_("stepmode"):e.stepmode="backward",_("count")),_("label")}}J.exports=function(s,e,l,u,m){var _=s.rangeselector||{},p=i.newContainer(e,"rangeselector");function v(d,T){return f.coerce(_,p,n,d,T)}if(v("visible",a(_,p,{name:"buttons",handleItemDefaults:o,calendar:m}).length>0)){var g=function(d,T,w){for(var k=w.filter(function(I){return T[I].anchor===d._id}),P=0,A=0;A<k.length;A++){var L=T[k[A]].domain;L&&(P=Math.max(L[1],P))}return[d.domain[0],P+r.yPad]}(e,l,u);v("x",g[0]),v("y",g[1]),f.noneOrAll(s,e,["x","y"]),v("xanchor"),v("yanchor"),f.coerceFont(v,"font",l.font);var b=v("bgcolor");v("activecolor",y.contrast(b,r.lightAmount,r.darkAmount)),v("bordercolor"),v("borderwidth")}}},216:function(J,h,t){var f=t(3428),y=t(4040),i=t(7316),a=t(6308),n=t(3616),r=t(3400),o=r.strTranslate,s=t(2736),e=t(9811),l=t(4284),u=l.LINE_SPACING,m=l.FROM_TL,_=l.FROM_BR,p=t(5984),v=t(8040);function g(T){return T._id}function b(T,w,k){var P=r.ensureSingle(T,"rect","selector-rect",function(A){A.attr("shape-rendering","crispEdges")});P.attr({rx:p.rx,ry:p.ry}),P.call(a.stroke,w.bordercolor).call(a.fill,function(A,L){return L._isActive||L._isHovered?A.activecolor:A.bgcolor}(w,k)).style("stroke-width",w.borderwidth+"px")}function d(T,w,k,P){var A,L;r.ensureSingle(T,"text","selector-text",function(I){I.attr("text-anchor","middle")}).call(n.font,w.font).text((A=k,L=P._fullLayout._meta,A.label?L?r.templateString(A.label,L):A.label:A.step==="all"?"all":A.count+A.step.charAt(0))).call(function(I){s.convertToTspans(I,P)})}J.exports=function(T){var w=T._fullLayout._infolayer.selectAll(".rangeselector").data(function(k){for(var P=e.list(k,"x",!0),A=[],L=0;L<P.length;L++){var I=P[L];I.rangeselector&&I.rangeselector.visible&&A.push(I)}return A}(T),g);w.enter().append("g").classed("rangeselector",!0),w.exit().remove(),w.style({cursor:"pointer","pointer-events":"all"}),w.each(function(k){var P=f.select(this),A=k,L=A.rangeselector,I=P.selectAll("g.button").data(r.filterVisible(L.buttons));I.enter().append("g").classed("button",!0),I.exit().remove(),I.each(function(x){var C=f.select(this),F=v(A,x);x._isActive=function(N,j,z){if(j.step==="all")return N.autorange===!0;var H=Object.keys(z);return N.range[0]===z[H[0]]&&N.range[1]===z[H[1]]}(A,x,F),C.call(b,L,x),C.call(d,L,x,T),C.on("click",function(){T._dragged||y.call("_guiRelayout",T,F)}),C.on("mouseover",function(){x._isHovered=!0,C.call(b,L,x)}),C.on("mouseout",function(){x._isHovered=!1,C.call(b,L,x)})}),function(x,C,F,N,j){var z=0,H=0,U=F.borderwidth;C.each(function(){var nt=f.select(this).select(".selector-text"),ot=F.font.size*u,rt=Math.max(ot*s.lineCount(nt),16)+3;H=Math.max(H,rt)}),C.each(function(){var nt=f.select(this),ot=nt.select(".selector-rect"),rt=nt.select(".selector-text"),$=rt.node()&&n.bBox(rt.node()).width,E=F.font.size*u,S=s.lineCount(rt),Y=Math.max($+10,p.minButtonWidth);nt.attr("transform",o(U+z,U)),ot.attr({x:0,y:0,width:Y,height:H}),s.positionText(rt,Y/2,H/2-(S-1)*E/2+3),z+=Y+5});var it=x._fullLayout._size,K=it.l+it.w*F.x,D=it.t+it.h*(1-F.y),B="left";r.isRightAnchor(F)&&(K-=z,B="right"),r.isCenterAnchor(F)&&(K-=z/2,B="center");var q="top";r.isBottomAnchor(F)&&(D-=H,q="bottom"),r.isMiddleAnchor(F)&&(D-=H/2,q="middle"),z=Math.ceil(z),H=Math.ceil(H),K=Math.round(K),D=Math.round(D),i.autoMargin(x,N+"-range-selector",{x:F.x,y:F.y,l:z*m[B],r:z*_[B],b:H*_[q],t:H*m[q]}),j.attr("transform",o(K,D))}(T,I,L,A._name,P)})}},8040:function(J,h,t){var f=t(3220),y=t(3400).titleCase;J.exports=function(i,a){var n=i._name,r={};if(a.step==="all")r[n+".autorange"]=!0;else{var o=function(s,e){var l,u=s.range,m=new Date(s.r2l(u[1])),_=e.step,p=f["utc"+y(_)],v=e.count;switch(e.stepmode){case"backward":l=s.l2r(+p.offset(m,-v));break;case"todate":var g=p.offset(m,-v);l=s.l2r(+p.ceil(g))}return[l,u[1]]}(i,a);r[n+".range[0]"]=o[0],r[n+".range[1]"]=o[1]}return r}},1152:function(J,h,t){J.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:t(6680)}}},layoutAttributes:t(6680),handleDefaults:t(2148),draw:t(216)}},8820:function(J,h,t){var f=t(2548);J.exports={bgcolor:{valType:"color",dflt:f.background,editType:"plot"},bordercolor:{valType:"color",dflt:f.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},6652:function(J,h,t){var f=t(9811).list,y=t(9280).getAutoRange,i=t(4636);J.exports=function(a){for(var n=f(a,"x",!0),r=0;r<n.length;r++){var o=n[r],s=o[i.name];s&&s.visible&&s.autorange&&(s._input.autorange=!0,s._input.range=s.range=y(a,o))}}},4636:function(J){J.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},1659:function(J,h,t){var f=t(3400),y=t(1780),i=t(9811),a=t(8820),n=t(936);J.exports=function(r,o,s){var e=r[s],l=o[s];if(e.rangeslider||o._requestRangeslider[l._id]){f.isPlainObject(e.rangeslider)||(e.rangeslider={});var u,m,_=e.rangeslider,p=y.newContainer(l,"rangeslider");if(P("visible")){P("bgcolor",o.plot_bgcolor),P("bordercolor"),P("borderwidth"),P("thickness"),P("autorange",!l.isValidRange(_.range)),P("range");var v=o._subplots;if(v)for(var g=v.cartesian.filter(function(L){return L.substr(0,L.indexOf("y"))===i.name2id(s)}).map(function(L){return L.substr(L.indexOf("y"),L.length)}),b=f.simpleMap(g,i.id2name),d=0;d<b.length;d++){var T=b[d];u=_[T]||{},m=y.newContainer(p,T,"yaxis");var w,k=o[T];u.range&&k.isValidRange(u.range)&&(w="fixed"),A("rangemode",w)!=="match"&&A("range",k.range.slice())}p._input=_}}function P(L,I){return f.coerce(_,p,a,L,I)}function A(L,I){return f.coerce(u,m,n,L,I)}}},60:function(J,h,t){var f=t(3428),y=t(4040),i=t(7316),a=t(3400),n=a.strTranslate,r=t(3616),o=t(6308),s=t(1668),e=t(7952),l=t(9811),u=t(6476),m=t(3972),_=t(4636);function p(k){return typeof k.clientX=="number"?k.clientX:k.touches&&k.touches.length>0?k.touches[0].clientX:0}function v(k,P,A,L){var I=a.ensureSingle(k,"rect",_.bgClassName,function(N){N.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),x=L.borderwidth%2==0?L.borderwidth:L.borderwidth-1,C=-L._offsetShift,F=r.crispRound(P,L.borderwidth);I.attr({width:L._width+x,height:L._height+x,transform:n(C,C),"stroke-width":F}).call(o.stroke,L.bordercolor).call(o.fill,L.bgcolor)}function g(k,P,A,L){var I=P._fullLayout;a.ensureSingleById(I._topdefs,"clipPath",L._clipId,function(x){x.append("rect").attr({x:0,y:0})}).select("rect").attr({width:L._width,height:L._height})}function b(k,P,A,L){var I,x=P.calcdata,C=k.selectAll("g."+_.rangePlotClassName).data(A._subplotsWith,a.identity);C.enter().append("g").attr("class",function(F){return _.rangePlotClassName+" "+F}).call(r.setClipUrl,L._clipId,P),C.order(),C.exit().remove(),C.each(function(F,N){var j=f.select(this),z=N===0,H=l.getFromId(P,F,"y"),U=H._name,it=L[U],K={data:[],layout:{xaxis:{type:A.type,domain:[0,1],range:L.range.slice(),calendar:A.calendar},width:L._width,height:L._height,margin:{t:0,b:0,l:0,r:0}},_context:P._context};A.rangebreaks&&(K.layout.xaxis.rangebreaks=A.rangebreaks),K.layout[U]={type:H.type,domain:[0,1],range:it.rangemode!=="match"?it.range.slice():H.range.slice(),calendar:H.calendar},H.rangebreaks&&(K.layout[U].rangebreaks=H.rangebreaks),i.supplyDefaults(K);var D=K._fullLayout.xaxis,B=K._fullLayout[U];D.clearCalc(),D.setScale(),B.clearCalc(),B.setScale();var q={id:F,plotgroup:j,xaxis:D,yaxis:B,isRangePlot:!0};z?I=q:(q.mainplot="xy",q.mainplotinfo=I),e.rangePlot(P,q,function(nt,ot){for(var rt=[],$=0;$<nt.length;$++){var E=nt[$],S=E[0].trace;S.xaxis+S.yaxis===ot&&rt.push(E)}return rt}(x,F))})}function d(k,P,A,L,I){a.ensureSingle(k,"rect",_.maskMinClassName,function(x){x.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",L._height).call(o.fill,_.maskColor),a.ensureSingle(k,"rect",_.maskMaxClassName,function(x){x.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",L._height).call(o.fill,_.maskColor),I.rangemode!=="match"&&(a.ensureSingle(k,"rect",_.maskMinOppAxisClassName,function(x){x.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",L._width).call(o.fill,_.maskOppAxisColor),a.ensureSingle(k,"rect",_.maskMaxOppAxisClassName,function(x){x.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",L._width).style("border-top",_.maskOppBorder).call(o.fill,_.maskOppAxisColor))}function T(k,P,A,L){P._context.staticPlot||a.ensureSingle(k,"rect",_.slideBoxClassName,function(I){I.attr({y:0,cursor:_.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:L._height,fill:_.slideBoxFill})}function w(k,P,A,L){var I=a.ensureSingle(k,"g",_.grabberMinClassName),x=a.ensureSingle(k,"g",_.grabberMaxClassName),C={x:0,width:_.handleWidth,rx:_.handleRadius,fill:o.background,stroke:o.defaultLine,"stroke-width":_.handleStrokeWidth,"shape-rendering":"crispEdges"},F={y:Math.round(L._height/4),height:Math.round(L._height/2)};a.ensureSingle(I,"rect",_.handleMinClassName,function(j){j.attr(C)}).attr(F),a.ensureSingle(x,"rect",_.handleMaxClassName,function(j){j.attr(C)}).attr(F);var N={width:_.grabAreaWidth,x:0,y:0,fill:_.grabAreaFill,cursor:P._context.staticPlot?void 0:_.grabAreaCursor};a.ensureSingle(I,"rect",_.grabAreaMinClassName,function(j){j.attr(N)}).attr("height",L._height),a.ensureSingle(x,"rect",_.grabAreaMaxClassName,function(j){j.attr(N)}).attr("height",L._height)}J.exports=function(k){for(var P=k._fullLayout,A=P._rangeSliderData,L=0;L<A.length;L++){var I=A[L][_.name];I._clipId=I._id+"-"+P._uid}var x=P._infolayer.selectAll("g."+_.containerClassName).data(A,function(C){return C._name});x.exit().each(function(C){var F=C[_.name];P._topdefs.select("#"+F._clipId).remove()}).remove(),A.length!==0&&(x.enter().append("g").classed(_.containerClassName,!0).attr("pointer-events","all"),x.each(function(C){var F=f.select(this),N=C[_.name],j=P[l.id2name(C.anchor)],z=N[l.id2name(C.anchor)];if(N.range){var H,U=a.simpleMap(N.range,C.r2l),it=a.simpleMap(C.range,C.r2l);H=it[0]<it[1]?[Math.min(U[0],it[0]),Math.max(U[1],it[1])]:[Math.max(U[0],it[0]),Math.min(U[1],it[1])],N.range=N._input.range=a.simpleMap(H,C.l2r)}C.cleanRange("rangeslider.range");var K=P._size,D=C.domain;N._width=K.w*(D[1]-D[0]);var B=Math.round(K.l+K.w*D[0]),q=Math.round(K.t+K.h*(1-C._counterDomainMin)+(C.side==="bottom"?C._depth:0)+N._offsetShift+_.extraPad);F.attr("transform",n(B,q)),N._rl=a.simpleMap(N.range,C.r2l);var nt=N._rl[0],ot=N._rl[1],rt=ot-nt;if(N.p2d=function(tt){return tt/N._width*rt+nt},N.d2p=function(tt){return(tt-nt)/rt*N._width},C.rangebreaks){var $=C.locateBreaks(nt,ot);if($.length){var E,S,Y=0;for(E=0;E<$.length;E++)Y+=(S=$[E]).max-S.min;var Z=N._width/(ot-nt-Y),G=[-Z*nt];for(E=0;E<$.length;E++)S=$[E],G.push(G[G.length-1]-Z*(S.max-S.min));for(N.d2p=function(tt){for(var _t=G[0],Pt=0;Pt<$.length;Pt++){var kt=$[Pt];if(tt>=kt.max)_t=G[Pt+1];else if(tt<kt.min)break}return _t+Z*tt},E=0;E<$.length;E++)(S=$[E]).pmin=N.d2p(S.min),S.pmax=N.d2p(S.max);N.p2d=function(tt){for(var _t=G[0],Pt=0;Pt<$.length;Pt++){var kt=$[Pt];if(tt>=kt.pmax)_t=G[Pt+1];else if(tt<kt.pmin)break}return(tt-_t)/Z}}}if(z.rangemode!=="match"){var Q=j.r2l(z.range[0]),at=j.r2l(z.range[1])-Q;N.d2pOppAxis=function(tt){return(tt-Q)/at*N._height}}F.call(v,k,C,N).call(g,k,C,N).call(b,k,C,N).call(d,k,C,N,z).call(T,k,C,N).call(w,k,C,N),function(tt,_t,Pt,kt){if(!_t._context.staticPlot){var lt=tt.select("rect."+_.slideBoxClassName).node(),st=tt.select("rect."+_.grabAreaMinClassName).node(),ht=tt.select("rect."+_.grabAreaMaxClassName).node();tt.on("mousedown",bt),tt.on("touchstart",bt)}function bt(){var pt=f.event,Dt=pt.target,qt=p(pt),ct=qt-tt.node().getBoundingClientRect().left,xt=kt.d2p(Pt._rl[0]),dt=kt.d2p(Pt._rl[1]),vt=u.coverSlip();function yt(Tt){var Lt,St,At,Nt=+p(Tt)-qt;switch(Dt){case lt:if(At="ew-resize",xt+Nt>Pt._length||dt+Nt<0)return;Lt=xt+Nt,St=dt+Nt;break;case st:if(At="col-resize",xt+Nt>Pt._length)return;Lt=xt+Nt,St=dt;break;case ht:if(At="col-resize",dt+Nt<0)return;Lt=xt,St=dt+Nt;break;default:At="ew-resize",Lt=ct,St=ct+Nt}if(St<Lt){var zt=St;St=Lt,Lt=zt}kt._pixelMin=Lt,kt._pixelMax=St,m(f.select(vt),At),function(Ft,Gt,Bt,de){function ie(gt){return Bt.l2r(a.constrain(gt,de._rl[0],de._rl[1]))}var pe=ie(de.p2d(de._pixelMin)),Ot=ie(de.p2d(de._pixelMax));window.requestAnimationFrame(function(){y.call("_guiRelayout",Gt,Bt._name+".range",[pe,Ot])})}(0,_t,Pt,kt)}function Mt(){vt.removeEventListener("mousemove",yt),vt.removeEventListener("mouseup",Mt),this.removeEventListener("touchmove",yt),this.removeEventListener("touchend",Mt),a.removeElement(vt)}this.addEventListener("touchmove",yt),this.addEventListener("touchend",Mt),vt.addEventListener("mousemove",yt),vt.addEventListener("mouseup",Mt)}}(F,k,C,N),function(tt,_t,Pt,kt,lt,st){var ht=_.handleWidth/2;function bt(Tt){return a.constrain(Tt,0,kt._width)}function pt(Tt){return a.constrain(Tt,0,kt._height)}function Dt(Tt){return a.constrain(Tt,-ht,kt._width+ht)}var qt=bt(kt.d2p(Pt._rl[0])),ct=bt(kt.d2p(Pt._rl[1]));if(tt.select("rect."+_.slideBoxClassName).attr("x",qt).attr("width",ct-qt),tt.select("rect."+_.maskMinClassName).attr("width",qt),tt.select("rect."+_.maskMaxClassName).attr("x",ct).attr("width",kt._width-ct),st.rangemode!=="match"){var xt=kt._height-pt(kt.d2pOppAxis(lt._rl[1])),dt=kt._height-pt(kt.d2pOppAxis(lt._rl[0]));tt.select("rect."+_.maskMinOppAxisClassName).attr("x",qt).attr("height",xt).attr("width",ct-qt),tt.select("rect."+_.maskMaxOppAxisClassName).attr("x",qt).attr("y",dt).attr("height",kt._height-dt).attr("width",ct-qt),tt.select("rect."+_.slideBoxClassName).attr("y",xt).attr("height",dt-xt)}var vt=.5,yt=Math.round(Dt(qt-ht))-vt,Mt=Math.round(Dt(ct-ht))+vt;tt.select("g."+_.grabberMinClassName).attr("transform",n(yt,vt)),tt.select("g."+_.grabberMaxClassName).attr("transform",n(Mt,vt))}(F,0,C,N,j,z),C.side==="bottom"&&s.draw(k,C._id+"title",{propContainer:C,propName:C._name+".title",placeholder:P._dfltTitle.x,attributes:{x:C._offset+C._length/2,y:q+N._height+N._offsetShift+10+1.5*C.title.font.size,"text-anchor":"middle"}})}))}},7944:function(J,h,t){var f=t(9811),y=t(2736),i=t(4636),a=t(4284).LINE_SPACING,n=i.name;function r(o){var s=o&&o[n];return s&&s.visible}h.isVisible=r,h.makeData=function(o){var s=f.list({_fullLayout:o},"x",!0),e=o.margin,l=[];if(!o._has("gl2d"))for(var u=0;u<s.length;u++){var m=s[u];if(r(m)){l.push(m);var _=m[n];_._id=n+m._id,_._height=(o.height-e.b-e.t)*_.thickness,_._offsetShift=Math.floor(_.borderwidth/2)}}o._rangeSliderData=l},h.autoMarginOpts=function(o,s){var e=o._fullLayout,l=s[n],u=s._id.charAt(0),m=0,_=0;return s.side==="bottom"&&(m=s._depth,s.title.text!==e._dfltTitle[u]&&(_=1.5*s.title.font.size+10+l._offsetShift,_+=(s.title.text.match(y.BR_TAG_ALL)||[]).length*s.title.font.size*a)),{x:0,y:s._counterDomainMin,l:0,r:0,t:0,b:l._height+m+Math.max(e.margin.b,_),pad:i.extraPad+2*l._offsetShift}}},9692:function(J,h,t){var f=t(3400),y=t(8820),i=t(936),a=t(7944);J.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:f.extendFlat({},y,{yaxis:i})}}},layoutAttributes:t(8820),handleDefaults:t(1659),calcAutorange:t(6652),draw:t(60),isVisible:a.isVisible,makeData:a.makeData,autoMarginOpts:a.autoMarginOpts}},936:function(J){J.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},3956:function(J,h,t){var f=t(3916),y=t(2904).line,i=t(8192).u,a=t(2880).extendFlat,n=t(7824).overrideAll,r=t(1780).templatedArray;t(6208),J.exports=n(r("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:a({},f.xref,{}),yref:a({},f.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:y.color,width:a({},y.width,{min:1,dflt:1}),dash:a({},i,{dflt:"dot"})}}),"arraydraw","from-root")},3280:function(J){J.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},4224:function(J,h,t){var f=t(3400),y=t(4460),i=t(1272),a=t(3956),n=t(5152);function r(o,s,e){function l(C,F){return f.coerce(o,s,a,C,F)}var u=l("path"),m=l("type",u?"path":"rect")!=="path";m&&delete s.path,l("opacity"),l("line.color"),l("line.width"),l("line.dash");for(var _=["x","y"],p=0;p<2;p++){var v,g,b,d=_[p],T={_fullLayout:e},w=y.coerceRef(o,s,T,d);if((v=y.getFromId(T,w))._selectionIndices.push(s._index),b=n.rangeToShapePosition(v),g=n.shapePositionToRange(v),m){var k=d+"0",P=d+"1",A=o[k],L=o[P];o[k]=g(o[k],!0),o[P]=g(o[P],!0),y.coercePosition(s,T,l,w,k),y.coercePosition(s,T,l,w,P);var I=s[k],x=s[P];I!==void 0&&x!==void 0&&(s[k]=b(I),s[P]=b(x),o[k]=A,o[P]=L)}}m&&f.noneOrAll(o,s,["x0","x1","y0","y1"])}J.exports=function(o,s){i(o,s,{name:"selections",handleItemDefaults:r});for(var e=s.selections,l=0;l<e.length;l++){var u=e[l];u&&u.path===void 0&&(u.x0!==void 0&&u.x1!==void 0&&u.y0!==void 0&&u.y1!==void 0||(s.selections[l]=null))}}},3640:function(J,h,t){var f=t(9856).readPaths,y=t(5496),i=t(1936).clearOutlineControllers,a=t(6308),n=t(3616),r=t(1780).arrayEditor,o=t(5152),s=o.getPathString;function e(p){var v=p._fullLayout;for(var g in i(p),v._selectionLayer.selectAll("path").remove(),v._plots){var b=v._plots[g].selectionLayer;b&&b.selectAll("path").remove()}for(var d=0;d<v.selections.length;d++)u(p,d)}function l(p){return p._context.editSelection}function u(p,v){p._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+v+'"]').remove();var g=o.makeSelectionsOptionsAndPlotinfo(p,v),b=g.options,d=g.plotinfo;b._input&&function(T){var w=s(p,b),k={"data-index":v,"fill-rule":"evenodd",d:w},P=b.opacity,A="rgba(0,0,0,0)",L=b.line.color||a.contrast(p._fullLayout.plot_bgcolor),I=b.line.width,x=b.line.dash;I||(I=5,x="solid");var C=l(p)&&p._fullLayout._activeSelectionIndex===v;C&&(A=p._fullLayout.activeselection.fillcolor,P=p._fullLayout.activeselection.opacity);for(var F=[],N=1;N>=0;N--){var j=T.append("path").attr(k).style("opacity",N?.1:P).call(a.stroke,L).call(a.fill,A).call(n.dashLine,N?"solid":x,N?4+I:I);if(m(j,p,b),C){var z=r(p.layout,"selections",b);j.style({cursor:"move"});var H={element:j.node(),plotinfo:d,gd:p,editHelpers:z,isActiveSelection:!0},U=f(w,p);y(U,j,H)}else j.style("pointer-events",N?"all":"none");F[N]=j}var it=F[0];F[1].node().addEventListener("click",function(){return function(K,D){if(l(K)){var B=+D.node().getAttribute("data-index");if(B>=0){if(B===K._fullLayout._activeSelectionIndex)return void _(K);K._fullLayout._activeSelectionIndex=B,K._fullLayout._deactivateSelection=_,e(K)}}}(p,it)})}(p._fullLayout._selectionLayer)}function m(p,v,g){var b=g.xref+g.yref;n.setClipUrl(p,"clip"+v._fullLayout._uid+b,v)}function _(p){l(p)&&p._fullLayout._activeSelectionIndex>=0&&(i(p),delete p._fullLayout._activeSelectionIndex,e(p))}J.exports={draw:e,drawOne:u,activateLastSelection:function(p){if(l(p)){var v=p._fullLayout.selections.length-1;p._fullLayout._activeSelectionIndex=v,p._fullLayout._deactivateSelection=_,e(p)}}}},4200:function(J,h,t){var f=t(8192).u,y=t(2880).extendFlat;J.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:y({},f,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},1004:function(J){J.exports=function(h,t,f){f("newselection.mode"),f("newselection.line.width")&&(f("newselection.line.color"),f("newselection.line.dash")),f("activeselection.fillcolor"),f("activeselection.opacity")}},5968:function(J,h,t){var f=t(2760).selectMode,y=t(1936).clearOutline,i=t(9856),a=i.readPaths,n=i.writePaths,r=i.fixDatesForPaths;J.exports=function(o,s){if(o.length){var e=o[0][0];if(e){var l=e.getAttribute("d"),u=s.gd,m=u._fullLayout.newselection,_=s.plotinfo,p=_.xaxis,v=_.yaxis,g=s.isActiveSelection,b=s.dragmode,d=(u.layout||{}).selections||[];if(!f(b)&&g!==void 0){var T=u._fullLayout._activeSelectionIndex;if(T<d.length)switch(u._fullLayout.selections[T].type){case"rect":b="select";break;case"path":b="lasso"}}var w,k=a(l,u,_,g),P={xref:p._id,yref:v._id,opacity:m.opacity,line:{color:m.line.color,width:m.line.width,dash:m.line.dash}};k.length===1&&(w=k[0]),w&&w.length===5&&b==="select"?(P.type="rect",P.x0=w[0][1],P.y0=w[0][2],P.x1=w[2][1],P.y1=w[2][2]):(P.type="path",p&&v&&r(k,p,v),P.path=n(k),w=null),y(u);for(var A=s.editHelpers,L=(A||{}).modifyItem,I=[],x=0;x<d.length;x++){var C=u._fullLayout.selections[x];if(C){if(I[x]=C._input,g!==void 0&&x===u._fullLayout._activeSelectionIndex){var F=P;switch(C.type){case"rect":L("x0",F.x0),L("x1",F.x1),L("y0",F.y0),L("y1",F.y1);break;case"path":L("path",F.path)}}}else I[x]=C}return g===void 0?(I.push(P),I):A?A.getUpdateObj():{}}}}},5840:function(J,h,t){var f=t(3400).strTranslate;function y(i,a){switch(i.type){case"log":return i.p2d(a);case"date":return i.p2r(a,0,i.calendar);default:return i.p2r(a)}}J.exports={p2r:y,r2p:function(i,a){switch(i.type){case"log":return i.d2p(a);case"date":return i.r2p(a,0,i.calendar);default:return i.r2p(a)}},axValue:function(i){var a=i._id.charAt(0)==="y"?1:0;return function(n){return y(i,n[a])}},getTransform:function(i){return f(i.xaxis._offset,i.yaxis._offset)}}},2676:function(J,h,t){var f=t(3640),y=t(3156);J.exports={moduleType:"component",name:"selections",layoutAttributes:t(3956),supplyLayoutDefaults:t(4224),supplyDrawNewSelectionDefaults:t(1004),includeBasePlot:t(6632)("selections"),draw:f.draw,drawOne:f.drawOne,reselect:y.reselect,prepSelect:y.prepSelect,clearOutline:y.clearOutline,clearSelectionsCache:y.clearSelectionsCache,selectOnClick:y.selectOnClick}},3156:function(J,h,t){var f=t(4756),y=t(1456),i=t(4040),a=t(3616).dashStyle,n=t(6308),r=t(3024),o=t(624).makeEventData,s=t(2760),e=s.freeMode,l=s.rectMode,u=s.drawMode,m=s.openMode,_=s.selectMode,p=t(5152),v=t(3068),g=t(5496),b=t(1936).clearOutline,d=t(9856),T=d.handleEllipse,w=d.readPaths,k=t(3940).newShapes,P=t(5968),A=t(3640).activateLastSelection,L=t(3400),I=L.sorterAsc,x=t(2065),C=t(1200),F=t(9811).getFromId,N=t(3696),j=t(9172).redrawReglTraces,z=t(3280),H=z.MINSELECT,U=x.filter,it=x.tester,K=t(5840),D=K.p2r,B=K.axValue,q=K.getTransform;function nt(yt){return yt.subplot!==void 0}function ot(yt,Mt,Tt,Lt,St,At,Nt){var zt,Ft,Gt,Bt,de,ie,pe,Ot,gt,jt=Mt._hoverdata,Xt=Mt._fullLayout.clickmode.indexOf("event")>-1,xe=[];if(function(ce){return ce&&Array.isArray(ce)&&ce[0].hoverOnBox!==!0}(jt)){S(yt,Mt,At);var Vt=function(ce,Me){var te,X,et=ce[0],It=-1,Ct=[];for(X=0;X<Me.length;X++)if(te=Me[X],et.fullData._expandedIndex===te.cd[0].trace._expandedIndex){if(et.hoverOnBox===!0)break;et.pointNumber!==void 0?It=et.pointNumber:et.binNumber!==void 0&&(It=et.binNumber,Ct=et.pointNumbers);break}return{pointNumber:It,pointNumbers:Ct,searchInfo:te}}(jt,zt=G(Mt,Tt,Lt,St));if(Vt.pointNumbers.length>0?function(ce,Me){var te,X,et,It=[];for(et=0;et<ce.length;et++)(te=ce[et]).cd[0].trace.selectedpoints&&te.cd[0].trace.selectedpoints.length>0&&It.push(te);if(It.length===1&&It[0]===Me.searchInfo&&(X=Me.searchInfo.cd[0].trace).selectedpoints.length===Me.pointNumbers.length){for(et=0;et<Me.pointNumbers.length;et++)if(X.selectedpoints.indexOf(Me.pointNumbers[et])<0)return!1;return!0}return!1}(zt,Vt):function(ce){var Me,te,X=0;for(te=0;te<ce.length;te++)if((Me=ce[te].cd[0].trace).selectedpoints&&(Me.selectedpoints.length>1||(X+=Me.selectedpoints.length)>1))return!1;return X===1}(zt)&&(ie=at(Vt))){for(Nt&&Nt.remove(),gt=0;gt<zt.length;gt++)(Ft=zt[gt])._module.selectPoints(Ft,!1);tt(Mt,zt),Y(At),Xt&&vt(Mt)}else{for(pe=yt.shiftKey&&(ie!==void 0?ie:at(Vt)),Gt=function(ce,Me,te){return{pointNumber:ce,searchInfo:Me,subtract:!!te}}(Vt.pointNumber,Vt.searchInfo,pe),Bt=E(At.selectionDefs.concat([Gt])),gt=0;gt<zt.length;gt++)if(de=Pt(zt[gt]._module.selectPoints(zt[gt],Bt),zt[gt]),xe.length)for(var Qt=0;Qt<de.length;Qt++)xe.push(de[Qt]);else xe=de;if(tt(Mt,zt,Ot={points:xe}),Gt&&At&&At.selectionDefs.push(Gt),Nt){var re=At.mergedPolygons,_e=m(At.dragmode);g(kt(re,_e),Nt,At)}Xt&&dt(Mt,Ot)}}}function rt(yt){return"pointNumber"in yt&&"searchInfo"in yt}function $(yt){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Mt,Tt,Lt,St){var At=yt.searchInfo.cd[0].trace._expandedIndex;return St.cd[0].trace._expandedIndex===At&&Lt===yt.pointNumber},isRect:!1,degenerate:!1,subtract:!!yt.subtract}}function E(yt){if(yt.length){for(var Mt=[],Tt=rt(yt[0])?0:yt[0][0][0],Lt=Tt,St=rt(yt[0])?0:yt[0][0][1],At=St,Nt=0;Nt<yt.length;Nt++)if(rt(yt[Nt]))Mt.push($(yt[Nt]));else{var zt=it(yt[Nt]);zt.subtract=!!yt[Nt].subtract,Mt.push(zt),Tt=Math.min(Tt,zt.xmin),Lt=Math.max(Lt,zt.xmax),St=Math.min(St,zt.ymin),At=Math.max(At,zt.ymax)}return{xmin:Tt,xmax:Lt,ymin:St,ymax:At,pts:[],contains:function(Ft,Gt,Bt,de){for(var ie=!1,pe=0;pe<Mt.length;pe++)Mt[pe].contains(Ft,Gt,Bt,de)&&(ie=!Mt[pe].subtract);return ie},isRect:!1,degenerate:!1}}}function S(yt,Mt,Tt){var Lt=Mt._fullLayout,St=Tt.plotinfo,At=Tt.dragmode,Nt=Lt._lastSelectedSubplot&&Lt._lastSelectedSubplot===St.id,zt=(yt.shiftKey||yt.altKey)&&!(u(At)&&m(At));Nt&&zt&&St.selection&&St.selection.selectionDefs&&!Tt.selectionDefs?(Tt.selectionDefs=St.selection.selectionDefs,Tt.mergedPolygons=St.selection.mergedPolygons):zt&&St.selection||Y(Tt),Nt||(b(Mt),Lt._lastSelectedSubplot=St.id)}function Y(yt,Mt){var Tt=yt.dragmode,Lt=yt.plotinfo,St=yt.gd;(function(de){return de._fullLayout._activeShapeIndex>=0})(St)&&St._fullLayout._deactivateShape(St),function(de){return de._fullLayout._activeSelectionIndex>=0}(St)&&St._fullLayout._deactivateSelection(St);var At=St._fullLayout._zoomlayer,Nt=u(Tt),zt=_(Tt);if(Nt||zt){var Ft,Gt,Bt=At.selectAll(".select-outline-"+Lt.id);Bt&&St._fullLayout._outlining&&(Nt&&(Ft=k(Bt,yt)),Ft&&i.call("_guiRelayout",St,{shapes:Ft}),zt&&!nt(yt)&&(Gt=P(Bt,yt)),Gt&&(St._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",St,{selections:Gt}).then(function(){Mt&&A(St)})),St._fullLayout._outlining=!1)}Lt.selection={},Lt.selection.selectionDefs=yt.selectionDefs=[],Lt.selection.mergedPolygons=yt.mergedPolygons=[]}function Z(yt){return yt._id}function G(yt,Mt,Tt,Lt){if(!yt.calcdata)return[];var St,At,Nt,zt=[],Ft=Mt.map(Z),Gt=Tt.map(Z);for(Nt=0;Nt<yt.calcdata.length;Nt++)if((At=(St=yt.calcdata[Nt])[0].trace).visible===!0&&At._module&&At._module.selectPoints)if(!nt({subplot:Lt})||At.subplot!==Lt&&At.geo!==Lt)if(At.type==="splom"){if(At._xaxes[Ft[0]]&&At._yaxes[Gt[0]]){var Bt=Q(At._module,St,Mt[0],Tt[0]);Bt.scene=yt._fullLayout._splomScenes[At.uid],zt.push(Bt)}}else if(At.type==="sankey"){var de=Q(At._module,St,Mt[0],Tt[0]);zt.push(de)}else{if(!(Ft.indexOf(At.xaxis)!==-1||At._xA&&At._xA.overlaying)||!(Gt.indexOf(At.yaxis)!==-1||At._yA&&At._yA.overlaying))continue;zt.push(Q(At._module,St,F(yt,At.xaxis),F(yt,At.yaxis)))}else zt.push(Q(At._module,St,Mt[0],Tt[0]));return zt}function Q(yt,Mt,Tt,Lt){return{_module:yt,cd:Mt,xaxis:Tt,yaxis:Lt}}function at(yt){var Mt=yt.searchInfo.cd[0].trace,Tt=yt.pointNumber,Lt=yt.pointNumbers,St=Lt.length>0?Lt[0]:Tt;return!!Mt.selectedpoints&&Mt.selectedpoints.indexOf(St)>-1}function tt(yt,Mt,Tt){var Lt,St;for(Lt=0;Lt<Mt.length;Lt++){var At=Mt[Lt].cd[0].trace._fullInput,Nt=yt._fullLayout._tracePreGUI[At.uid]||{};Nt.selectedpoints===void 0&&(Nt.selectedpoints=At._input.selectedpoints||null)}if(Tt){var zt=Tt.points||[];for(Lt=0;Lt<Mt.length;Lt++)(St=Mt[Lt].cd[0].trace)._input.selectedpoints=St._fullInput.selectedpoints=[],St._fullInput!==St&&(St.selectedpoints=[]);for(var Ft=0;Ft<zt.length;Ft++){var Gt=zt[Ft],Bt=Gt.data,de=Gt.fullData,ie=Gt.pointIndex,pe=Gt.pointIndices;pe?([].push.apply(Bt.selectedpoints,pe),St._fullInput!==St&&[].push.apply(de.selectedpoints,pe)):(Bt.selectedpoints.push(ie),St._fullInput!==St&&de.selectedpoints.push(ie))}}else for(Lt=0;Lt<Mt.length;Lt++)delete(St=Mt[Lt].cd[0].trace).selectedpoints,delete St._input.selectedpoints,St._fullInput!==St&&delete St._fullInput.selectedpoints;(function(Ot,gt){for(var jt=!1,Xt=0;Xt<gt.length;Xt++){var xe=gt[Xt],Vt=xe.cd;i.traceIs(Vt[0].trace,"regl")&&(jt=!0);var Qt=xe._module,re=Qt.styleOnSelect||Qt.style;re&&(re(Ot,Vt,Vt[0].node3),Vt[0].nodeRangePlot3&&re(Ot,Vt,Vt[0].nodeRangePlot3))}jt&&(N(Ot),j(Ot))})(yt,Mt)}function _t(yt,Mt,Tt){for(var Lt=(Tt?f.difference:f.union)({regions:yt},{regions:[Mt]}).regions.reverse(),St=0;St<Lt.length;St++){var At=Lt[St];At.subtract=Dt(At,Lt.slice(0,St))}return Lt}function Pt(yt,Mt){if(Array.isArray(yt))for(var Tt=Mt.cd,Lt=Mt.cd[0].trace,St=0;St<yt.length;St++)yt[St]=o(yt[St],Lt,Tt);return yt}function kt(yt,Mt){for(var Tt=[],Lt=0;Lt<yt.length;Lt++){Tt[Lt]=[];for(var St=0;St<yt[Lt].length;St++){Tt[Lt][St]=[],Tt[Lt][St][0]=St?"L":"M";for(var At=0;At<yt[Lt][St].length;At++)Tt[Lt][St].push(yt[Lt][St][At])}Mt||Tt[Lt].push(["Z",Tt[Lt][0][1],Tt[Lt][0][2]])}return Tt}function lt(yt,Mt){for(var Tt,Lt,St=[],At=[],Nt=0;Nt<Mt.length;Nt++){var zt=Mt[Nt];Lt=zt._module.selectPoints(zt,yt),At.push(Lt),Tt=Pt(Lt,zt),St=St.concat(Tt)}return St}function st(yt,Mt,Tt,Lt,St){var At,Nt,zt,Ft=!!Lt;St&&(At=St.plotinfo,Nt=St.xaxes[0]._id,zt=St.yaxes[0]._id);var Gt=[],Bt=[],de=pt(yt),ie=yt._fullLayout;if(At){var pe=ie._zoomlayer,Ot=ie.dragmode,gt=u(Ot),jt=_(Ot);if(gt||jt){var Xt=F(yt,Nt,"x"),xe=F(yt,zt,"y");if(Xt&&xe){var Vt=pe.selectAll(".select-outline-"+At.id);if(Vt&&yt._fullLayout._outlining&&Vt.length){for(var Qt=Vt[0][0].getAttribute("d"),re=w(Qt,yt,At),_e=[],ce=0;ce<re.length;ce++){for(var Me=re[ce],te=[],X=0;X<Me.length;X++)te.push([qt(Xt,Me[X][1]),qt(xe,Me[X][2])]);te.xref=Nt,te.yref=zt,te.subtract=Dt(te,_e),_e.push(te)}de=de.concat(_e)}}}}var et=Nt&&zt?[Nt+zt]:ie._subplots.cartesian;(function(Ee){var He=Ee.calcdata;if(He)for(var ze=0;ze<He.length;ze++){var Ne=He[ze][0].trace,Ye=Ee._fullLayout._splomScenes;if(Ye){var Ze=Ye[Ne.uid];Ze&&(Ze.selectBatch=[])}}})(yt);for(var It={},Ct=0;Ct<et.length;Ct++){var Ut=et[Ct],Rt=Ut.indexOf("y"),Ht=Ut.slice(0,Rt),Zt=Ut.slice(Rt),Kt=Nt&&zt?Tt:void 0;if(Kt=bt(de,Ht,Zt,Kt)){var oe=Lt;if(!Ft){var ue=F(yt,Ht,"x"),Se=F(yt,Zt,"y");oe=G(yt,[ue],[Se],Ut);for(var he=0;he<oe.length;he++){var ve=oe[he],ke=ve.cd[0],Ae=ke.trace;if(ve._module.name==="scattergl"&&!ke.t.xpx){var ee=Ae.x,fe=Ae.y,ge=Ae._length;ke.t.xpx=[],ke.t.ypx=[];for(var je=0;je<ge;je++)ke.t.xpx[je]=ue.c2p(ee[je]),ke.t.ypx[je]=Se.c2p(fe[je])}ve._module.name==="splom"&&(It[Ae.uid]||(It[Ae.uid]=!0))}}var Ie=lt(Kt,oe);Gt=Gt.concat(Ie),Bt=Bt.concat(oe)}}var Fe={points:Gt};tt(yt,Bt,Fe);var ye=ie.clickmode.indexOf("event")>-1&&Mt;if(!At&&Mt){var be=pt(yt,!0);if(be.length){var Te=be[0].xref,Pe=be[0].yref;if(Te&&Pe){var Le=ct(be);xt([F(yt,Te,"x"),F(yt,Pe,"y")])(Fe,Le)}}yt._fullLayout._noEmitSelectedAtStart?yt._fullLayout._noEmitSelectedAtStart=!1:ye&&dt(yt,Fe),ie._reselect=!1}if(!At&&ie._deselect){var Oe=ie._deselect;(function(Ee,He,ze){for(var Ne=0;Ne<ze.length;Ne++){var Ye=ze[Ne];if(Ye.xaxis&&Ye.xaxis._id===Ee&&Ye.yaxis&&Ye.yaxis._id===He)return!0}return!1})(Nt=Oe.xref,zt=Oe.yref,Bt)||ht(yt,Nt,zt,Lt),ye&&(Fe.points.length?dt(yt,Fe):vt(yt)),ie._deselect=!1}return{eventData:Fe,selectionTesters:Tt}}function ht(yt,Mt,Tt,Lt){Lt=G(yt,[F(yt,Mt,"x")],[F(yt,Tt,"y")],Mt+Tt);for(var St=0;St<Lt.length;St++){var At=Lt[St];At._module.selectPoints(At,!1)}tt(yt,Lt)}function bt(yt,Mt,Tt,Lt){for(var St,At=0;At<yt.length;At++){var Nt=yt[At];Mt===Nt.xref&&Tt===Nt.yref&&(St?Lt=E(St=_t(St,Nt,!!Nt.subtract)):(St=[Nt],Lt=it(Nt)))}return Lt}function pt(yt,Mt){for(var Tt=[],Lt=yt._fullLayout,St=Lt.selections,At=St.length,Nt=0;Nt<At;Nt++)if(!Mt||Nt===Lt._activeSelectionIndex){var zt=St[Nt];if(zt){var Ft,Gt,Bt,de,ie,pe=zt.xref,Ot=zt.yref,gt=F(yt,pe,"x"),jt=F(yt,Ot,"y");if(zt.type==="rect"){ie=[];var Xt=qt(gt,zt.x0),xe=qt(gt,zt.x1),Vt=qt(jt,zt.y0),Qt=qt(jt,zt.y1);ie=[[Xt,Vt],[Xt,Qt],[xe,Qt],[xe,Vt]],Ft=Math.min(Xt,xe),Gt=Math.max(Xt,xe),Bt=Math.min(Vt,Qt),de=Math.max(Vt,Qt),ie.xmin=Ft,ie.xmax=Gt,ie.ymin=Bt,ie.ymax=de,ie.xref=pe,ie.yref=Ot,ie.subtract=!1,ie.isRect=!0,Tt.push(ie)}else if(zt.type==="path")for(var re=zt.path.split("Z"),_e=[],ce=0;ce<re.length;ce++){var Me=re[ce];if(Me){Me+="Z";var te=p.extractPathCoords(Me,v.paramIsX,"raw"),X=p.extractPathCoords(Me,v.paramIsY,"raw");Ft=1/0,Gt=-1/0,Bt=1/0,de=-1/0,ie=[];for(var et=0;et<te.length;et++){var It=qt(gt,te[et]),Ct=qt(jt,X[et]);ie.push([It,Ct]),Ft=Math.min(It,Ft),Gt=Math.max(It,Gt),Bt=Math.min(Ct,Bt),de=Math.max(Ct,de)}ie.xmin=Ft,ie.xmax=Gt,ie.ymin=Bt,ie.ymax=de,ie.xref=pe,ie.yref=Ot,ie.subtract=Dt(ie,_e),_e.push(ie),Tt.push(ie)}}}}return Tt}function Dt(yt,Mt){for(var Tt=!1,Lt=0;Lt<Mt.length;Lt++)for(var St=Mt[Lt],At=0;At<yt.length;At++)if(y(yt[At],St)){Tt=!Tt;break}return Tt}function qt(yt,Mt){return yt.type==="date"&&(Mt=Mt.replace("_"," ")),yt.type==="log"?yt.c2p(Mt):yt.r2p(Mt,null,yt.calendar)}function ct(yt){for(var Mt=yt.length,Tt=[],Lt=0;Lt<Mt;Lt++){var St=yt[Lt];Tt=(Tt=Tt.concat(St)).concat([St[0]])}return(At=Tt).isRect=At.length===5&&At[0][0]===At[4][0]&&At[0][1]===At[4][1]&&At[0][0]===At[1][0]&&At[2][0]===At[3][0]&&At[0][1]===At[3][1]&&At[1][1]===At[2][1]||At[0][1]===At[1][1]&&At[2][1]===At[3][1]&&At[0][0]===At[3][0]&&At[1][0]===At[2][0],At.isRect&&(At.xmin=Math.min(At[0][0],At[2][0]),At.xmax=Math.max(At[0][0],At[2][0]),At.ymin=Math.min(At[0][1],At[2][1]),At.ymax=Math.max(At[0][1],At[2][1])),At;var At}function xt(yt){return function(Mt,Tt){for(var Lt,St,At=0;At<yt.length;At++){var Nt=yt[At],zt=Nt._id,Ft=zt.charAt(0);if(Tt.isRect){Lt||(Lt={});var Gt=Tt[Ft+"min"],Bt=Tt[Ft+"max"];Gt!==void 0&&Bt!==void 0&&(Lt[zt]=[D(Nt,Gt),D(Nt,Bt)].sort(I))}else St||(St={}),St[zt]=Tt.map(B(Nt))}Lt&&(Mt.range=Lt),St&&(Mt.lassoPoints=St)}}function dt(yt,Mt){Mt&&(Mt.selections=(yt.layout||{}).selections||[]),yt.emit("plotly_selected",Mt)}function vt(yt){yt.emit("plotly_deselect",null)}J.exports={reselect:st,prepSelect:function(yt,Mt,Tt,Lt,St){var At=!nt(Lt),Nt=e(St),zt=l(St),Ft=m(St),Gt=u(St),Bt=_(St),de=St==="drawcircle",ie=St==="drawline"||de,pe=Lt.gd,Ot=pe._fullLayout,gt=Bt&&Ot.newselection.mode==="immediate"&&At,jt=Ot._zoomlayer,Xt=Lt.element.getBoundingClientRect(),xe=Lt.plotinfo,Vt=q(xe),Qt=Mt-Xt.left,re=Tt-Xt.top;Ot._calcInverseTransform(pe);var _e=L.apply3DTransform(Ot._invTransform)(Qt,re);Qt=_e[0],re=_e[1];var ce,Me,te,X,et,It,Ct,Ut=Ot._invScaleX,Rt=Ot._invScaleY,Ht=Qt,Zt=re,Kt="M"+Qt+","+re,oe=Lt.xaxes[0],ue=Lt.yaxes[0],Se=oe._length,he=ue._length,ve=yt.altKey&&!(u(St)&&Ft);S(yt,pe,Lt),Nt&&(ce=U([[Qt,re]],z.BENDPX));var ke=jt.selectAll("path.select-outline-"+xe.id).data([1]),Ae=Gt?Ot.newshape:Ot.newselection;Gt&&(Lt.hasText=Ae.label.text||Ae.label.texttemplate);var ee=Gt&&!Ft?Ae.fillcolor:"rgba(0,0,0,0)",fe=Ae.line.color||(At?n.contrast(pe._fullLayout.plot_bgcolor):"#7f7f7f");ke.enter().append("path").attr("class","select-outline select-outline-"+xe.id).style({opacity:Gt?Ae.opacity/2:1,"stroke-dasharray":a(Ae.line.dash,Ae.line.width),"stroke-width":Ae.line.width+"px","shape-rendering":"crispEdges"}).call(n.stroke,fe).call(n.fill,ee).attr("fill-rule","evenodd").classed("cursor-move",!!Gt).attr("transform",Vt).attr("d",Kt+"Z");var ge=jt.append("path").attr("class","zoombox-corners").style({fill:n.background,stroke:n.defaultLine,"stroke-width":1}).attr("transform",Vt).attr("d","M0,0Z");if(Gt&&Lt.hasText){var je=jt.select(".label-temp");je.empty()&&(je=jt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Ie=Ot._uid+z.SELECTID,Fe=[],ye=G(pe,Lt.xaxes,Lt.yaxes,Lt.subplot);gt&&!yt.shiftKey&&(Lt._clearSubplotSelections=function(){if(At){var Te=oe._id,Pe=ue._id;ht(pe,Te,Pe,ye);for(var Le=(pe.layout||{}).selections||[],Oe=[],Ee=!1,He=0;He<Le.length;He++){var ze=Ot.selections[He];ze.xref!==Te||ze.yref!==Pe?Oe.push(Le[He]):Ee=!0}Ee&&(pe._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",pe,{selections:Oe}))}});var be=function(Te){return Te.plotinfo.fillRangeItems||xt(Te.xaxes.concat(Te.yaxes))}(Lt);Lt.moveFn=function(Te,Pe){Lt._clearSubplotSelections&&(Lt._clearSubplotSelections(),Lt._clearSubplotSelections=void 0),Ht=Math.max(0,Math.min(Se,Ut*Te+Qt)),Zt=Math.max(0,Math.min(he,Rt*Pe+re));var Le=Math.abs(Ht-Qt),Oe=Math.abs(Zt-re);if(zt){var Ee,He,ze;if(Bt){var Ne=Ot.selectdirection;switch(Ee=Ne==="any"?Oe<Math.min(.6*Le,H)?"h":Le<Math.min(.6*Oe,H)?"v":"d":Ne){case"h":He=de?he/2:0,ze=he;break;case"v":He=de?Se/2:0,ze=Se}}if(Gt)switch(Ot.newshape.drawdirection){case"vertical":Ee="h",He=de?he/2:0,ze=he;break;case"horizontal":Ee="v",He=de?Se/2:0,ze=Se;break;case"ortho":Le<Oe?(Ee="h",He=re,ze=Zt):(Ee="v",He=Qt,ze=Ht);break;default:Ee="d"}Ee==="h"?((X=ie?T(de,[Ht,He],[Ht,ze]):[[Qt,He],[Qt,ze],[Ht,ze],[Ht,He]]).xmin=ie?Ht:Math.min(Qt,Ht),X.xmax=ie?Ht:Math.max(Qt,Ht),X.ymin=Math.min(He,ze),X.ymax=Math.max(He,ze),ge.attr("d","M"+X.xmin+","+(re-H)+"h-4v"+2*H+"h4ZM"+(X.xmax-1)+","+(re-H)+"h4v"+2*H+"h-4Z")):Ee==="v"?((X=ie?T(de,[He,Zt],[ze,Zt]):[[He,re],[He,Zt],[ze,Zt],[ze,re]]).xmin=Math.min(He,ze),X.xmax=Math.max(He,ze),X.ymin=ie?Zt:Math.min(re,Zt),X.ymax=ie?Zt:Math.max(re,Zt),ge.attr("d","M"+(Qt-H)+","+X.ymin+"v-4h"+2*H+"v4ZM"+(Qt-H)+","+(X.ymax-1)+"v4h"+2*H+"v-4Z")):Ee==="d"&&((X=ie?T(de,[Qt,re],[Ht,Zt]):[[Qt,re],[Qt,Zt],[Ht,Zt],[Ht,re]]).xmin=Math.min(Qt,Ht),X.xmax=Math.max(Qt,Ht),X.ymin=Math.min(re,Zt),X.ymax=Math.max(re,Zt),ge.attr("d","M0,0Z"))}else Nt&&(ce.addPt([Ht,Zt]),X=ce.filtered);if(Lt.selectionDefs&&Lt.selectionDefs.length?(te=_t(Lt.mergedPolygons,X,ve),X.subtract=ve,Me=E(Lt.selectionDefs.concat([X]))):(te=[X],Me=it(X)),g(kt(te,Ft),ke,Lt),Bt){var Ye,Ze=st(pe,!1),Re=Ze.eventData?Ze.eventData.points.slice():[];Ze=st(pe,!1,Me,ye,Lt),Me=Ze.selectionTesters,Ct=Ze.eventData,Ye=ce?ce.filtered:ct(te),C.throttle(Ie,z.SELECTDELAY,function(){for(var Ge=(Fe=lt(Me,ye)).slice(),Je=0;Je<Re.length;Je++){for(var fn=Re[Je],gn=!1,sn=0;sn<Ge.length;sn++)if(Ge[sn].curveNumber===fn.curveNumber&&Ge[sn].pointNumber===fn.pointNumber){gn=!0;break}gn||Ge.push(fn)}Ge.length&&(Ct||(Ct={}),Ct.points=Ge),be(Ct,Ye),function(Cn,Tn){Cn.emit("plotly_selecting",Tn)}(pe,Ct)})}},Lt.clickFn=function(Te,Pe){if(ge.remove(),pe._fullLayout._activeShapeIndex>=0)pe._fullLayout._deactivateShape(pe);else if(!Gt){var Le=Ot.clickmode;C.done(Ie).then(function(){if(C.clear(Ie),Te===2){for(ke.remove(),et=0;et<ye.length;et++)(It=ye[et])._module.selectPoints(It,!1);if(tt(pe,ye),Y(Lt),vt(pe),ye.length){var Oe=ye[0].xaxis,Ee=ye[0].yaxis;if(Oe&&Ee){for(var He=[],ze=pe._fullLayout.selections,Ne=0;Ne<ze.length;Ne++){var Ye=ze[Ne];Ye&&(Ye.xref===Oe._id&&Ye.yref===Ee._id||He.push(Ye))}He.length<ze.length&&(pe._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",pe,{selections:He}))}}}else Le.indexOf("select")>-1&&ot(Pe,pe,Lt.xaxes,Lt.yaxes,Lt.subplot,Lt,ke),Le==="event"&&dt(pe,void 0);r.click(pe,Pe,xe.id)}).catch(L.error)}},Lt.doneFn=function(){ge.remove(),C.done(Ie).then(function(){C.clear(Ie),!gt&&X&&Lt.selectionDefs&&(X.subtract=ve,Lt.selectionDefs.push(X),Lt.mergedPolygons.length=0,[].push.apply(Lt.mergedPolygons,te)),(gt||Gt)&&Y(Lt,gt),Lt.doneFnCompleted&&Lt.doneFnCompleted(Fe),Bt&&dt(pe,Ct)}).catch(L.error)}},clearOutline:b,clearSelectionsCache:Y,selectOnClick:ot}},6056:function(J,h,t){var f=t(3916),y=t(5376),i=t(2904).line,a=t(8192).u,n=t(2880).extendFlat,r=t(1780).templatedArray,o=(t(6208),t(5464)),s=t(1776).ye,e=t(7728);J.exports=r("shape",{visible:n({},o.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:n({},o.legend,{editType:"calc+arraydraw"}),legendgroup:n({},o.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:n({},o.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:y({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:n({},o.legendrank,{editType:"calc+arraydraw"}),legendwidth:n({},o.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:n({},f.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:n({},f.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:n({},i.color,{editType:"arraydraw"}),width:n({},i.width,{editType:"calc+arraydraw"}),dash:n({},a,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:s({},{keys:Object.keys(e)}),font:y({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},6084:function(J,h,t){var f=t(3400),y=t(4460),i=t(3068),a=t(5152);function n(e){return o(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function r(e){return o(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function o(e,l,u,m,_,p){var v=e/2,g=p;if(l==="pixel"){var b=_?a.extractPathCoords(_,p?i.paramIsY:i.paramIsX):[u,m],d=f.aggNums(Math.max,null,b),T=f.aggNums(Math.min,null,b),w=T<0?Math.abs(T)+v:v,k=d>0?d+v:v;return{ppad:v,ppadplus:g?w:k,ppadminus:g?k:w}}return{ppad:v}}function s(e,l,u,m,_){var p=e.type==="category"||e.type==="multicategory"?e.r2c:e.d2c;if(l!==void 0)return[p(l),p(u)];if(m){var v,g,b,d,T=1/0,w=-1/0,k=m.match(i.segmentRE);for(e.type==="date"&&(p=a.decodeDate(p)),v=0;v<k.length;v++)(g=_[k[v].charAt(0)].drawn)!==void 0&&(!(b=k[v].substr(1).match(i.paramRE))||b.length<g||((d=p(b[g]))<T&&(T=d),d>w&&(w=d)));return w>=T?[T,w]:void 0}}J.exports=function(e){var l=e._fullLayout,u=f.filterVisible(l.shapes);if(u.length&&e._fullData.length)for(var m=0;m<u.length;m++){var _,p,v=u[m];v._extremes={};var g=y.getRefType(v.xref),b=y.getRefType(v.yref);if(v.xref!=="paper"&&g!=="domain"){var d=v.xsizemode==="pixel"?v.xanchor:v.x0,T=v.xsizemode==="pixel"?v.xanchor:v.x1;(p=s(_=y.getFromId(e,v.xref),d,T,v.path,i.paramIsX))&&(v._extremes[_._id]=y.findExtremes(_,p,n(v)))}if(v.yref!=="paper"&&b!=="domain"){var w=v.ysizemode==="pixel"?v.yanchor:v.y0,k=v.ysizemode==="pixel"?v.yanchor:v.y1;(p=s(_=y.getFromId(e,v.yref),w,k,v.path,i.paramIsY))&&(v._extremes[_._id]=y.findExtremes(_,p,r(v)))}}}},3068:function(J){J.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},3712:function(J,h,t){var f=t(3400),y=t(4460),i=t(1272),a=t(6056),n=t(5152);function r(o,s,e){function l(K,D){return f.coerce(o,s,a,K,D)}if(s._isShape=!0,l("visible")){l("showlegend")&&(l("legend"),l("legendwidth"),l("legendgroup"),l("legendgrouptitle.text"),f.coerceFont(l,"legendgrouptitle.font"),l("legendrank"));var u=l("path"),m=l("type",u?"path":"rect"),_=m!=="path";_&&delete s.path,l("editable"),l("layer"),l("opacity"),l("fillcolor"),l("fillrule"),l("line.width")&&(l("line.color"),l("line.dash"));for(var p=l("xsizemode"),v=l("ysizemode"),g=["x","y"],b=0;b<2;b++){var d,T,w,k=g[b],P=k+"anchor",A=k==="x"?p:v,L={_fullLayout:e},I=y.coerceRef(o,s,L,k,void 0,"paper");if(y.getRefType(I)==="range"?((d=y.getFromId(L,I))._shapeIndices.push(s._index),w=n.rangeToShapePosition(d),T=n.shapePositionToRange(d)):T=w=f.identity,_){var x=k+"0",C=k+"1",F=o[x],N=o[C];o[x]=T(o[x],!0),o[C]=T(o[C],!0),A==="pixel"?(l(x,0),l(C,10)):(y.coercePosition(s,L,l,I,x,.25),y.coercePosition(s,L,l,I,C,.75)),s[x]=w(s[x]),s[C]=w(s[C]),o[x]=F,o[C]=N}if(A==="pixel"){var j=o[P];o[P]=T(o[P],!0),y.coercePosition(s,L,l,I,P,.25),s[P]=w(s[P]),o[P]=j}}_&&f.noneOrAll(o,s,["x0","x1","y0","y1"]);var z,H,U=m==="line";if(_&&(z=l("label.texttemplate")),z||(H=l("label.text")),H||z){l("label.textangle");var it=l("label.textposition",U?"middle":"middle center");l("label.xanchor"),l("label.yanchor",function(K,D){return K?"bottom":D.indexOf("top")!==-1?"top":D.indexOf("bottom")!==-1?"bottom":"middle"}(U,it)),l("label.padding"),f.coerceFont(l,"label.font",e.font)}}}J.exports=function(o,s){i(o,s,{name:"shapes",handleItemDefaults:r})}},728:function(J,h,t){var f=t(3400),y=t(4460),i=t(2736),a=t(3616),n=t(9856).readPaths,r=t(5152),o=r.getPathString,s=t(7728),e=t(4284).FROM_TL;J.exports=function(l,u,m,_){if(_.selectAll(".shape-label").remove(),m.label.text||m.label.texttemplate){var p;if(m.label.texttemplate){var v={};if(m.type!=="path"){var g=y.getFromId(l,m.xref),b=y.getFromId(l,m.yref);for(var d in s){var T=s[d](m,g,b);T!==void 0&&(v[d]=T)}}p=f.texttemplateStringForShapes(m.label.texttemplate,{},l._fullLayout._d3locale,v)}else p=m.label.text;var w,k,P,A,L={"data-index":u},I=m.label.font,x=_.append("g").attr(L).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(p);if(m.path){var C=o(l,m),F=n(C,l);w=1/0,P=1/0,k=-1/0,A=-1/0;for(var N=0;N<F.length;N++)for(var j=0;j<F[N].length;j++)for(var z=F[N][j],H=1;H<z.length;H+=2){var U=z[H],it=z[H+1];w=Math.min(w,U),k=Math.max(k,U),P=Math.min(P,it),A=Math.max(A,it)}}else{var K=y.getFromId(l,m.xref),D=y.getRefType(m.xref),B=y.getFromId(l,m.yref),q=y.getRefType(m.yref),nt=r.getDataToPixel(l,K,!1,D),ot=r.getDataToPixel(l,B,!0,q);w=nt(m.x0),k=nt(m.x1),P=ot(m.y0),A=ot(m.y1)}var rt=m.label.textangle;rt==="auto"&&(rt=m.type==="line"?function(Z,G,Q,at){var tt,_t;return _t=Math.abs(Q-Z),tt=Q>=Z?G-at:at-G,-180/Math.PI*Math.atan2(tt,_t)}(w,P,k,A):0),x.call(function(Z){return Z.call(a.font,I).attr({}),i.convertToTspans(Z,l),Z});var $=function(Z,G,Q,at,tt,_t,Pt){var kt,lt,st,ht,bt=tt.label.textposition,pt=tt.label.textangle,Dt=tt.label.padding,qt=tt.type,ct=Math.PI/180*_t,xt=Math.sin(ct),dt=Math.cos(ct),vt=tt.label.xanchor,yt=tt.label.yanchor;if(qt==="line"){bt==="start"?(kt=Z,lt=G):bt==="end"?(kt=Q,lt=at):(kt=(Z+Q)/2,lt=(G+at)/2),vt==="auto"&&(vt=bt==="start"?pt==="auto"?Q>Z?"left":Q<Z?"right":"center":Q>Z?"right":Q<Z?"left":"center":bt==="end"?pt==="auto"?Q>Z?"right":Q<Z?"left":"center":Q>Z?"left":Q<Z?"right":"center":"center");var Mt={bottom:-1,middle:0,top:1};if(pt==="auto"){var Tt=Mt[yt];st=-Dt*xt*Tt,ht=Dt*dt*Tt}else st=Dt*{left:1,center:0,right:-1}[vt],ht=Dt*Mt[yt];kt+=st,lt+=ht}else st=Dt+3,bt.indexOf("right")!==-1?(kt=Math.max(Z,Q)-st,vt==="auto"&&(vt="right")):bt.indexOf("left")!==-1?(kt=Math.min(Z,Q)+st,vt==="auto"&&(vt="left")):(kt=(Z+Q)/2,vt==="auto"&&(vt="center")),lt=bt.indexOf("top")!==-1?Math.min(G,at):bt.indexOf("bottom")!==-1?Math.max(G,at):(G+at)/2,ht=Dt,yt==="bottom"?lt-=ht:yt==="top"&&(lt+=ht);var Lt=e[yt],St=tt.label.font.size,At=Pt.height;return{textx:kt+(At*Lt-St)*xt,texty:lt+-(At*Lt-St)*dt,xanchor:vt}}(w,P,k,A,m,rt,a.bBox(x.node())),E=$.textx,S=$.texty,Y=$.xanchor;x.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[Y],y:S,x:E,transform:"rotate("+rt+","+E+","+S+")"}).call(i.positionText,E,S)}}},5496:function(J,h,t){var f=t(3400).strTranslate,y=t(6476),i=t(2760),a=i.drawMode,n=i.selectMode,r=t(4040),o=t(6308),s=t(7e3),e=s.i000,l=s.i090,u=s.i180,m=s.i270,_=t(1936).clearOutlineControllers,p=t(9856),v=p.pointsOnRectangle,g=p.pointsOnEllipse,b=p.writePaths,d=t(3940).newShapes,T=t(3940).createShapeObj,w=t(5968),k=t(728);function P(A,L){var I,x,C,F=A[L][1],N=A[L][2],j=A.length;return x=A[I=(L+1)%j][1],C=A[I][2],x===F&&C===N&&(x=A[I=(L+2)%j][1],C=A[I][2]),[I,x,C]}J.exports=function A(L,I,x,C){C||(C=0);var F=x.gd;function N(){A(L,I,x,C++),(g(L[0])||x.hasText)&&j({redrawing:!0})}function j(tt){var _t={};x.isActiveShape!==void 0&&(x.isActiveShape=!1,_t=d(I,x)),x.isActiveSelection!==void 0&&(x.isActiveSelection=!1,_t=w(I,x),F._fullLayout._reselect=!0),Object.keys(_t).length&&r.call((tt||{}).redrawing?"relayout":"_guiRelayout",F,_t)}var z,H,U,it,K,D=F._fullLayout._zoomlayer,B=x.dragmode,q=a(B),nt=n(B);if((q||nt)&&(F._fullLayout._outlining=!0),_(F),I.attr("d",b(L)),C||!x.isActiveShape&&!x.isActiveSelection||(K=function(tt,_t){for(var Pt=0;Pt<_t.length;Pt++){var kt=_t[Pt];tt[Pt]=[];for(var lt=0;lt<kt.length;lt++){tt[Pt][lt]=[];for(var st=0;st<kt[lt].length;st++)tt[Pt][lt][st]=kt[lt][st]}}return tt}([],L),function(tt){z=[];for(var _t=0;_t<L.length;_t++){var Pt=L[_t],kt=v(Pt),lt=!kt&&g(Pt);z[_t]=[];for(var st=Pt.length,ht=0;ht<st;ht++)if(Pt[ht][0]!=="Z"&&(!lt||ht===e||ht===l||ht===u||ht===m)){var bt,pt=kt&&x.isActiveSelection;pt&&(bt=P(Pt,ht));var Dt=Pt[ht][1],qt=Pt[ht][2],ct=tt.append(pt?"rect":"circle").attr("data-i",_t).attr("data-j",ht).style({fill:o.background,stroke:o.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(pt){var xt=bt[1]-Dt,dt=bt[2]-qt,vt=dt?5:Math.max(Math.min(25,Math.abs(xt)-5),5),yt=xt?5:Math.max(Math.min(25,Math.abs(dt)-5),5);ct.classed(dt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",vt).attr("height",yt).attr("x",Dt-vt/2).attr("y",qt-yt/2).attr("transform",f(xt/2,dt/2))}else ct.classed("cursor-grab",!0).attr("r",5).attr("cx",Dt).attr("cy",qt);z[_t][ht]={element:ct.node(),gd:F,prepFn:$,doneFn:S,clickFn:Y},y.init(z[_t][ht])}}}(D.append("g").attr("class","outline-controllers")),function(){H=[],L.length&&(H[0]={element:I[0][0],gd:F,prepFn:G,doneFn:Q,clickFn:at},y.init(H[0]))}()),q&&x.hasText){var ot=D.select(".label-temp"),rt=T(I,x,x.dragmode);k(F,"label-temp",rt,ot)}function $(tt){U=+tt.srcElement.getAttribute("data-i"),it=+tt.srcElement.getAttribute("data-j"),z[U][it].moveFn=E}function E(tt,_t){if(L.length){var Pt=K[U][it][1],kt=K[U][it][2],lt=L[U],st=lt.length;if(v(lt)){var ht=tt,bt=_t;x.isActiveSelection&&(P(lt,it)[1]===lt[it][1]?bt=0:ht=0);for(var pt=0;pt<st;pt++)if(pt!==it){var Dt=lt[pt];Dt[1]===lt[it][1]&&(Dt[1]=Pt+ht),Dt[2]===lt[it][2]&&(Dt[2]=kt+bt)}if(lt[it][1]=Pt+ht,lt[it][2]=kt+bt,!v(lt))for(var qt=0;qt<st;qt++)for(var ct=0;ct<lt[qt].length;ct++)lt[qt][ct]=K[U][qt][ct]}else lt[it][1]=Pt+tt,lt[it][2]=kt+_t;N()}}function S(){j()}function Y(tt,_t){if(tt===2){U=+_t.srcElement.getAttribute("data-i"),it=+_t.srcElement.getAttribute("data-j");var Pt=L[U];v(Pt)||g(Pt)||function(){if(L.length&&L[U]&&L[U].length){for(var kt=[],lt=0;lt<L[U].length;lt++)lt!==it&&kt.push(L[U][lt]);kt.length>1&&(kt.length!==2||kt[1][0]!=="Z")&&(it===0&&(kt[0][0]="M"),L[U]=kt,N(),j())}}()}}function Z(tt,_t){(function(Pt,kt){if(L.length)for(var lt=0;lt<L.length;lt++)for(var st=0;st<L[lt].length;st++)for(var ht=0;ht+2<L[lt][st].length;ht+=2)L[lt][st][ht+1]=K[lt][st][ht+1]+Pt,L[lt][st][ht+2]=K[lt][st][ht+2]+kt})(tt,_t),N()}function G(tt){(U=+tt.srcElement.getAttribute("data-i"))||(U=0),H[U].moveFn=Z}function Q(){j()}function at(tt){tt===2&&function(_t){if(n(_t._fullLayout.dragmode)){_(_t);var Pt=_t._fullLayout._activeSelectionIndex,kt=(_t.layout||{}).selections||[];if(Pt<kt.length){for(var lt=[],st=0;st<kt.length;st++)st!==Pt&&lt.push(kt[st]);delete _t._fullLayout._activeSelectionIndex;var ht=_t._fullLayout.selections[Pt];_t._fullLayout._deselect={xref:ht.xref,yref:ht.yref},r.call("_guiRelayout",_t,{selections:lt})}}}(F)}}},4016:function(J,h,t){var f=t(3428),y=t(4040),i=t(3400),a=t(4460),n=t(9856).readPaths,r=t(5496),o=t(728),s=t(1936).clearOutlineControllers,e=t(6308),l=t(3616),u=t(1780).arrayEditor,m=t(6476),_=t(3972),p=t(3068),v=t(5152),g=v.getPathString;function b(L){var I=L._fullLayout;for(var x in I._shapeUpperLayer.selectAll("path").remove(),I._shapeLowerLayer.selectAll("path").remove(),I._shapeUpperLayer.selectAll("text").remove(),I._shapeLowerLayer.selectAll("text").remove(),I._plots){var C=I._plots[x].shapelayer;C&&(C.selectAll("path").remove(),C.selectAll("text").remove())}for(var F=0;F<I.shapes.length;F++)I.shapes[F].visible===!0&&w(L,F)}function d(L){return!!L._fullLayout._outlining}function T(L){return!L._context.edits.shapePosition}function w(L,I){L._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+I+'"]').remove();var x=v.makeShapesOptionsAndPlotinfo(L,I),C=x.options,F=x.plotinfo;function N(j){var z=g(L,C),H={"data-index":I,"fill-rule":C.fillrule,d:z},U=C.opacity,it=C.fillcolor,K=C.line.width?C.line.color:"rgba(0,0,0,0)",D=C.line.width,B=C.line.dash;D||C.editable!==!0||(D=5,B="solid");var q=z[z.length-1]!=="Z",nt=T(L)&&C.editable&&L._fullLayout._activeShapeIndex===I;nt&&(it=q?"rgba(0,0,0,0)":L._fullLayout.activeshape.fillcolor,U=L._fullLayout.activeshape.opacity);var ot,rt=j.append("g").classed("shape-group",!0).attr({"data-index":I}),$=rt.append("path").attr(H).style("opacity",U).call(e.stroke,K).call(e.fill,it).call(l.dashLine,B,D);if(k(rt,L,C),o(L,I,C,rt),(nt||L._context.edits.shapePosition)&&(ot=u(L.layout,"shapes",C)),nt){$.style({cursor:"move"});var E={element:$.node(),plotinfo:F,gd:L,editHelpers:ot,hasText:C.label.text||C.label.texttemplate,isActiveShape:!0},S=n(z,L);r(S,$,E)}else L._context.edits.shapePosition?function(Y,Z,G,Q,at,tt){var _t,Pt,kt,lt,st,ht,bt,pt,Dt,qt,ct,xt,dt,vt,yt,Mt,Tt=10,Lt=10,St=G.xsizemode==="pixel",At=G.ysizemode==="pixel",Nt=G.type==="line",zt=G.type==="path",Ft=tt.modifyItem,Gt=f.select(Z.node().parentNode),Bt=a.getFromId(Y,G.xref),de=a.getRefType(G.xref),ie=a.getFromId(Y,G.yref),pe=a.getRefType(G.yref),Ot=v.getDataToPixel(Y,Bt,!1,de),gt=v.getDataToPixel(Y,ie,!0,pe),jt=v.getPixelToData(Y,Bt,!1,de),Xt=v.getPixelToData(Y,ie,!0,pe),xe=Nt?function(){var te=10,X=Math.max(G.line.width,te),et=at.append("g").attr("data-index",Q).attr("drag-helper",!0);et.append("path").attr("d",Z.attr("d")).style({cursor:"move","stroke-width":X,"stroke-opacity":"0"});var It={"fill-opacity":"0"},Ct=Math.max(X/2,te);return et.append("circle").attr({"data-line-point":"start-point",cx:St?Ot(G.xanchor)+G.x0:Ot(G.x0),cy:At?gt(G.yanchor)-G.y0:gt(G.y0),r:Ct}).style(It).classed("cursor-grab",!0),et.append("circle").attr({"data-line-point":"end-point",cx:St?Ot(G.xanchor)+G.x1:Ot(G.x1),cy:At?gt(G.yanchor)-G.y1:gt(G.y1),r:Ct}).style(It).classed("cursor-grab",!0),et}():Z,Vt={element:xe.node(),gd:Y,prepFn:function(te){d(Y)||(St&&(st=Ot(G.xanchor)),At&&(ht=gt(G.yanchor)),G.type==="path"?yt=G.path:(_t=St?G.x0:Ot(G.x0),Pt=At?G.y0:gt(G.y0),kt=St?G.x1:Ot(G.x1),lt=At?G.y1:gt(G.y1)),_t<kt?(Dt=_t,dt="x0",qt=kt,vt="x1"):(Dt=kt,dt="x1",qt=_t,vt="x0"),!At&&Pt<lt||At&&Pt>lt?(bt=Pt,ct="y0",pt=lt,xt="y1"):(bt=lt,ct="y1",pt=Pt,xt="y0"),Qt(te),ce(at,G),function(X,et,It){var Ct=et.xref,Ut=et.yref,Rt=a.getFromId(It,Ct),Ht=a.getFromId(It,Ut),Zt="";Ct==="paper"||Rt.autorange||(Zt+=Ct),Ut==="paper"||Ht.autorange||(Zt+=Ut),l.setClipUrl(X,Zt?"clip"+It._fullLayout._uid+Zt:null,It)}(Z,G,Y),Vt.moveFn=Mt==="move"?re:_e,Vt.altKey=te.altKey)},doneFn:function(){d(Y)||(_(Z),Me(at),k(Z,Y,G),y.call("_guiRelayout",Y,tt.getUpdateObj()))},clickFn:function(){d(Y)||Me(at)}};function Qt(te){if(d(Y))Mt=null;else if(Nt)Mt=te.target.tagName==="path"?"move":te.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var X=Vt.element.getBoundingClientRect(),et=X.right-X.left,It=X.bottom-X.top,Ct=te.clientX-X.left,Ut=te.clientY-X.top,Rt=!zt&&et>Tt&&It>Lt&&!te.shiftKey?m.getCursor(Ct/et,1-Ut/It):"move";_(Z,Rt),Mt=Rt.split("-")[0]}}function re(te,X){if(G.type==="path"){var et=function(Ut){return Ut},It=et,Ct=et;St?Ft("xanchor",G.xanchor=jt(st+te)):(It=function(Ut){return jt(Ot(Ut)+te)},Bt&&Bt.type==="date"&&(It=v.encodeDate(It))),At?Ft("yanchor",G.yanchor=Xt(ht+X)):(Ct=function(Ut){return Xt(gt(Ut)+X)},ie&&ie.type==="date"&&(Ct=v.encodeDate(Ct))),Ft("path",G.path=P(yt,It,Ct))}else St?Ft("xanchor",G.xanchor=jt(st+te)):(Ft("x0",G.x0=jt(_t+te)),Ft("x1",G.x1=jt(kt+te))),At?Ft("yanchor",G.yanchor=Xt(ht+X)):(Ft("y0",G.y0=Xt(Pt+X)),Ft("y1",G.y1=Xt(lt+X)));Z.attr("d",g(Y,G)),ce(at,G),o(Y,Q,G,Gt)}function _e(te,X){if(zt){var et=function(fe){return fe},It=et,Ct=et;St?Ft("xanchor",G.xanchor=jt(st+te)):(It=function(fe){return jt(Ot(fe)+te)},Bt&&Bt.type==="date"&&(It=v.encodeDate(It))),At?Ft("yanchor",G.yanchor=Xt(ht+X)):(Ct=function(fe){return Xt(gt(fe)+X)},ie&&ie.type==="date"&&(Ct=v.encodeDate(Ct))),Ft("path",G.path=P(yt,It,Ct))}else if(Nt){if(Mt==="resize-over-start-point"){var Ut=_t+te,Rt=At?Pt-X:Pt+X;Ft("x0",G.x0=St?Ut:jt(Ut)),Ft("y0",G.y0=At?Rt:Xt(Rt))}else if(Mt==="resize-over-end-point"){var Ht=kt+te,Zt=At?lt-X:lt+X;Ft("x1",G.x1=St?Ht:jt(Ht)),Ft("y1",G.y1=At?Zt:Xt(Zt))}}else{var Kt=function(fe){return Mt.indexOf(fe)!==-1},oe=Kt("n"),ue=Kt("s"),Se=Kt("w"),he=Kt("e"),ve=oe?bt+X:bt,ke=ue?pt+X:pt,Ae=Se?Dt+te:Dt,ee=he?qt+te:qt;At&&(oe&&(ve=bt-X),ue&&(ke=pt-X)),(!At&&ke-ve>Lt||At&&ve-ke>Lt)&&(Ft(ct,G[ct]=At?ve:Xt(ve)),Ft(xt,G[xt]=At?ke:Xt(ke))),ee-Ae>Tt&&(Ft(dt,G[dt]=St?Ae:jt(Ae)),Ft(vt,G[vt]=St?ee:jt(ee)))}Z.attr("d",g(Y,G)),ce(at,G),o(Y,Q,G,Gt)}function ce(te,X){(St||At)&&function(){var et=X.type!=="path",It=te.selectAll(".visual-cue").data([0]);It.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var Ct=Ot(St?X.xanchor:i.midRange(et?[X.x0,X.x1]:v.extractPathCoords(X.path,p.paramIsX))),Ut=gt(At?X.yanchor:i.midRange(et?[X.y0,X.y1]:v.extractPathCoords(X.path,p.paramIsY)));if(Ct=v.roundPositionForSharpStrokeRendering(Ct,1),Ut=v.roundPositionForSharpStrokeRendering(Ut,1),St&&At){var Rt="M"+(Ct-1-1)+","+(Ut-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";It.attr("d",Rt)}else if(St){var Ht="M"+(Ct-1-1)+","+(Ut-9-1)+"v18 h2 v-18 Z";It.attr("d",Ht)}else{var Zt="M"+(Ct-9-1)+","+(Ut-1-1)+"h18 v2 h-18 Z";It.attr("d",Zt)}}()}function Me(te){te.selectAll(".visual-cue").remove()}m.init(Vt),xe.node().onmousemove=Qt}(L,$,C,I,j,ot):C.editable===!0&&$.style("pointer-events",q||e.opacity(it)*U<=.5?"stroke":"all");$.node().addEventListener("click",function(){return function(Y,Z){if(T(Y)){var G=+Z.node().getAttribute("data-index");if(G>=0){if(G===Y._fullLayout._activeShapeIndex)return void A(Y);Y._fullLayout._activeShapeIndex=G,Y._fullLayout._deactivateShape=A,b(Y)}}}(L,$)})}C._input&&C.visible===!0&&(C.layer==="above"?N(L._fullLayout._shapeUpperLayer):C.xref==="paper"||C.yref==="paper"?N(L._fullLayout._shapeLowerLayer):C.layer==="between"?N(F.shapelayerBetween):F._hadPlotinfo?N((F.mainplotinfo||F).shapelayer):N(L._fullLayout._shapeLowerLayer))}function k(L,I,x){var C=(x.xref+x.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");l.setClipUrl(L,C?"clip"+I._fullLayout._uid+C:null,I)}function P(L,I,x){return L.replace(p.segmentRE,function(C){var F=0,N=C.charAt(0),j=p.paramIsX[N],z=p.paramIsY[N],H=p.numParams[N];return N+C.substr(1).replace(p.paramRE,function(U){return F>=H||(j[F]?U=I(U):z[F]&&(U=x(U)),F++),U})})}function A(L){T(L)&&L._fullLayout._activeShapeIndex>=0&&(s(L),delete L._fullLayout._activeShapeIndex,b(L))}J.exports={draw:b,drawOne:w,eraseActiveShape:function(L){if(T(L)){s(L);var I=L._fullLayout._activeShapeIndex,x=(L.layout||{}).shapes||[];if(I<x.length){for(var C=[],F=0;F<x.length;F++)F!==I&&C.push(x[F]);return delete L._fullLayout._activeShapeIndex,y.call("_guiRelayout",L,{shapes:C})}}},drawLabel:o}},2872:function(J,h,t){var f=t(7824).overrideAll,y=t(5464),i=t(5376),a=t(8192).u,n=t(2880).extendFlat,r=t(1776).ye,o=t(7728);J.exports=f({newshape:{visible:n({},y.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:n({},y.legend,{}),legendgroup:n({},y.legendgroup,{}),legendgrouptitle:{text:n({},y.legendgrouptitle.text,{}),font:i({})},legendrank:n({},y.legendrank,{}),legendwidth:n({},y.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:n({},a,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:n({},y.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:r({newshape:!0},{keys:Object.keys(o)}),font:i({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(J){J.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},5144:function(J,h,t){var f=t(6308),y=t(3400);J.exports=function(i,a,n){if(n("newshape.visible"),n("newshape.name"),n("newshape.showlegend"),n("newshape.legend"),n("newshape.legendwidth"),n("newshape.legendgroup"),n("newshape.legendgrouptitle.text"),y.coerceFont(n,"newshape.legendgrouptitle.font"),n("newshape.legendrank"),n("newshape.drawdirection"),n("newshape.layer"),n("newshape.fillcolor"),n("newshape.fillrule"),n("newshape.opacity"),n("newshape.line.width")){var r=(i||{}).plot_bgcolor||"#FFF";n("newshape.line.color",f.contrast(r)),n("newshape.line.dash")}var o=i.dragmode==="drawline",s=n("newshape.label.text"),e=n("newshape.label.texttemplate");if(s||e){n("newshape.label.textangle");var l=n("newshape.label.textposition",o?"middle":"middle center");n("newshape.label.xanchor"),n("newshape.label.yanchor",function(u,m){return u?"bottom":m.indexOf("top")!==-1?"top":m.indexOf("bottom")!==-1?"bottom":"middle"}(o,l)),n("newshape.label.padding"),y.coerceFont(n,"newshape.label.font",a.font)}n("activeshape.fillcolor"),n("activeshape.opacity")}},9856:function(J,h,t){var f=t(9604),y=t(7e3),i=y.CIRCLE_SIDES,a=y.SQRT2,n=t(5840),r=n.p2r,o=n.r2p,s=[0,3,4,5,6,1,2],e=[0,3,4,1,2];function l(m,_){return Math.abs(m-_)<=1e-6}function u(m,_){var p=_[1]-m[1],v=_[2]-m[2];return Math.sqrt(p*p+v*v)}h.writePaths=function(m){var _=m.length;if(!_)return"M0,0Z";for(var p="",v=0;v<_;v++)for(var g=m[v].length,b=0;b<g;b++){var d=m[v][b][0];if(d==="Z")p+="Z";else for(var T=m[v][b].length,w=0;w<T;w++){var k=w;d==="Q"||d==="S"?k=e[w]:d==="C"&&(k=s[w]),p+=m[v][b][k],w>0&&w<T-1&&(p+=",")}}return p},h.readPaths=function(m,_,p,v){var g,b,d,T=f(m),w=[],k=-1,P=0,A=0,L=function(){b=P,d=A};L();for(var I=0;I<T.length;I++){var x,C,F,N,j=[],z=T[I][0],H=z;switch(z){case"M":w[++k]=[],P=+T[I][1],A=+T[I][2],j.push([H,P,A]),L();break;case"Q":case"S":x=+T[I][1],F=+T[I][2],P=+T[I][3],A=+T[I][4],j.push([H,P,A,x,F]);break;case"C":x=+T[I][1],F=+T[I][2],C=+T[I][3],N=+T[I][4],P=+T[I][5],A=+T[I][6],j.push([H,P,A,x,F,C,N]);break;case"T":case"L":P=+T[I][1],A=+T[I][2],j.push([H,P,A]);break;case"H":H="L",P=+T[I][1],j.push([H,P,A]);break;case"V":H="L",A=+T[I][1],j.push([H,P,A]);break;case"A":H="L";var U=+T[I][1],it=+T[I][2];+T[I][4]||(U=-U,it=-it);var K=P-U,D=A;for(g=1;g<=i/2;g++){var B=2*Math.PI*g/i;j.push([H,K+U*Math.cos(B),D+it*Math.sin(B)])}break;case"Z":P===b&&A===d||(P=b,A=d,j.push([H,P,A]))}for(var q=(p||{}).domain,nt=_._fullLayout._size,ot=p&&p.xsizemode==="pixel",rt=p&&p.ysizemode==="pixel",$=v===!1,E=0;E<j.length;E++){for(g=0;g+2<7;g+=2){var S=j[E][g+1],Y=j[E][g+2];S!==void 0&&Y!==void 0&&(P=S,A=Y,p&&(p.xaxis&&p.xaxis.p2r?($&&(S-=p.xaxis._offset),S=ot?o(p.xaxis,p.xanchor)+S:r(p.xaxis,S)):($&&(S-=nt.l),q?S=q.x[0]+S/nt.w:S/=nt.w),p.yaxis&&p.yaxis.p2r?($&&(Y-=p.yaxis._offset),Y=rt?o(p.yaxis,p.yanchor)-Y:r(p.yaxis,Y)):($&&(Y-=nt.t),Y=q?q.y[1]-Y/nt.h:1-Y/nt.h)),j[E][g+1]=S,j[E][g+2]=Y)}w[k].push(j[E].slice())}}return w},h.pointsOnRectangle=function(m){if(m.length!==5)return!1;for(var _=1;_<3;_++)if(!l(m[0][_]-m[1][_],m[3][_]-m[2][_])||!l(m[0][_]-m[3][_],m[1][_]-m[2][_]))return!1;return!(!l(m[0][1],m[1][1])&&!l(m[0][1],m[3][1])||!(u(m[0],m[1])*u(m[0],m[3])))},h.pointsOnEllipse=function(m){var _=m.length;if(_!==i+1)return!1;_=i;for(var p=0;p<_;p++){var v=(2*_-p)%_,g=(_/2+v)%_,b=(_/2+p)%_;if(!l(u(m[p],m[b]),u(m[v],m[g])))return!1}return!0},h.handleEllipse=function(m,_,p){if(!m)return[_,p];var v=h.ellipseOver({x0:_[0],y0:_[1],x1:p[0],y1:p[1]}),g=(v.x1+v.x0)/2,b=(v.y1+v.y0)/2,d=(v.x1-v.x0)/2,T=(v.y1-v.y0)/2;d||(d=T/=a),T||(T=d/=a);for(var w=[],k=0;k<i;k++){var P=2*k*Math.PI/i;w.push([g+d*Math.cos(P),b+T*Math.sin(P)])}return w},h.ellipseOver=function(m){var _=m.x0,p=m.y0,v=m.x1,g=m.y1,b=v-_,d=g-p,T=((_-=b)+v)/2,w=((p-=d)+g)/2;return{x0:T-(b*=a),y0:w-(d*=a),x1:T+b,y1:w+d}},h.fixDatesForPaths=function(m,_,p){var v=_.type==="date",g=p.type==="date";if(!v&&!g)return m;for(var b=0;b<m.length;b++)for(var d=0;d<m[b].length;d++)for(var T=0;T+2<m[b][d].length;T+=2)v&&(m[b][d][T+1]=m[b][d][T+1].replace(" ","_")),g&&(m[b][d][T+2]=m[b][d][T+2].replace(" ","_"));return m}},3940:function(J,h,t){var f=t(2760),y=f.drawMode,i=f.openMode,a=t(7e3),n=a.i000,r=a.i090,o=a.i180,s=a.i270,e=a.cos45,l=a.sin45,u=t(5840),m=u.p2r,_=u.r2p,p=t(1936).clearOutline,v=t(9856),g=v.readPaths,b=v.writePaths,d=v.ellipseOver,T=v.fixDatesForPaths;function w(k,P,A){var L,I=k[0][0],x=P.gd,C=I.getAttribute("d"),F=x._fullLayout.newshape,N=P.plotinfo,j=P.isActiveShape,z=N.xaxis,H=N.yaxis,U=!!N.domain||!N.xaxis,it=!!N.domain||!N.yaxis,K=i(A),D=g(C,x,N,j),B={editable:!0,visible:F.visible,name:F.name,showlegend:F.showlegend,legend:F.legend,legendwidth:F.legendwidth,legendgroup:F.legendgroup,legendgrouptitle:{text:F.legendgrouptitle.text,font:F.legendgrouptitle.font},legendrank:F.legendrank,label:F.label,xref:U?"paper":z._id,yref:it?"paper":H._id,layer:F.layer,opacity:F.opacity,line:{color:F.line.color,width:F.line.width,dash:F.line.dash}};if(K||(B.fillcolor=F.fillcolor,B.fillrule=F.fillrule),D.length===1&&(L=D[0]),L&&L.length===5&&A==="drawrect")B.type="rect",B.x0=L[0][1],B.y0=L[0][2],B.x1=L[2][1],B.y1=L[2][2];else if(L&&A==="drawline")B.type="line",B.x0=L[0][1],B.y0=L[0][2],B.x1=L[1][1],B.y1=L[1][2];else if(L&&A==="drawcircle"){B.type="circle";var q=L[n][1],nt=L[r][1],ot=L[o][1],rt=L[s][1],$=L[n][2],E=L[r][2],S=L[o][2],Y=L[s][2],Z=N.xaxis&&(N.xaxis.type==="date"||N.xaxis.type==="log"),G=N.yaxis&&(N.yaxis.type==="date"||N.yaxis.type==="log");Z&&(q=_(N.xaxis,q),nt=_(N.xaxis,nt),ot=_(N.xaxis,ot),rt=_(N.xaxis,rt)),G&&($=_(N.yaxis,$),E=_(N.yaxis,E),S=_(N.yaxis,S),Y=_(N.yaxis,Y));var Q=(nt+rt)/2,at=($+S)/2,tt=d({x0:Q,y0:at,x1:Q+(rt-nt+ot-q)/2*e,y1:at+(Y-E+S-$)/2*l});Z&&(tt.x0=m(N.xaxis,tt.x0),tt.x1=m(N.xaxis,tt.x1)),G&&(tt.y0=m(N.yaxis,tt.y0),tt.y1=m(N.yaxis,tt.y1)),B.x0=tt.x0,B.y0=tt.y0,B.x1=tt.x1,B.y1=tt.y1}else B.type="path",z&&H&&T(D,z,H),B.path=b(D),L=null;return B}J.exports={newShapes:function(k,P){if(k.length&&k[0][0]){var A=P.gd,L=P.isActiveShape,I=P.dragmode,x=(A.layout||{}).shapes||[];if(!y(I)&&L!==void 0){var C=A._fullLayout._activeShapeIndex;if(C<x.length)switch(A._fullLayout.shapes[C].type){case"rect":I="drawrect";break;case"circle":I="drawcircle";break;case"line":I="drawline";break;case"path":var F=x[C].path||"";I=F[F.length-1]==="Z"?"drawclosedpath":"drawopenpath"}}var N=w(k,P,I);p(A);for(var j=P.editHelpers,z=(j||{}).modifyItem,H=[],U=0;U<x.length;U++){var it=A._fullLayout.shapes[U];if(H[U]=it._input,L!==void 0&&U===A._fullLayout._activeShapeIndex){var K=N;switch(it.type){case"line":case"rect":case"circle":z("x0",K.x0),z("x1",K.x1),z("y0",K.y0),z("y1",K.y1);break;case"path":z("path",K.path)}}}return L===void 0?(H.push(N),H):j?j.getUpdateObj():{}}},createShapeObj:w}},1936:function(J){J.exports={clearOutlineControllers:function(h){var t=h._fullLayout._zoomlayer;t&&t.selectAll(".outline-controllers").remove()},clearOutline:function(h){var t=h._fullLayout._zoomlayer;t&&t.selectAll(".select-outline").remove(),h._fullLayout._outlining=!1}}},5152:function(J,h,t){var f=t(3068),y=t(3400),i=t(4460);h.rangeToShapePosition=function(a){return a.type==="log"?a.r2d:function(n){return n}},h.shapePositionToRange=function(a){return a.type==="log"?a.d2r:function(n){return n}},h.decodeDate=function(a){return function(n){return n.replace&&(n=n.replace("_"," ")),a(n)}},h.encodeDate=function(a){return function(n){return a(n).replace(" ","_")}},h.extractPathCoords=function(a,n,r){var o=[];return a.match(f.segmentRE).forEach(function(s){var e=n[s.charAt(0)].drawn;if(e!==void 0){var l=s.substr(1).match(f.paramRE);if(l&&!(l.length<e)){var u=l[e],m=r?u:y.cleanNumber(u);o.push(m)}}}),o},h.getDataToPixel=function(a,n,r,o){var s,e=a._fullLayout._size;if(n)if(o==="domain")s=function(u){return n._length*(r?1-u:u)+n._offset};else{var l=h.shapePositionToRange(n);s=function(u){return n._offset+n.r2p(l(u,!0))},n.type==="date"&&(s=h.decodeDate(s))}else s=r?function(u){return e.t+e.h*(1-u)}:function(u){return e.l+e.w*u};return s},h.getPixelToData=function(a,n,r,o){var s,e=a._fullLayout._size;if(n)if(o==="domain")s=function(u){var m=(u-n._offset)/n._length;return r?1-m:m};else{var l=h.rangeToShapePosition(n);s=function(u){return l(n.p2r(u-n._offset))}}else s=r?function(u){return 1-(u-e.t)/e.h}:function(u){return(u-e.l)/e.w};return s},h.roundPositionForSharpStrokeRendering=function(a,n){var r=Math.round(n%2)===1,o=Math.round(a);return r?o+.5:o},h.makeShapesOptionsAndPlotinfo=function(a,n){var r=a._fullLayout.shapes[n]||{},o=a._fullLayout._plots[r.xref+r.yref];return o?o._hadPlotinfo=!0:(o={},r.xref&&r.xref!=="paper"&&(o.xaxis=a._fullLayout[r.xref+"axis"]),r.yref&&r.yref!=="paper"&&(o.yaxis=a._fullLayout[r.yref+"axis"])),o.xsizemode=r.xsizemode,o.ysizemode=r.ysizemode,o.xanchor=r.xanchor,o.yanchor=r.yanchor,{options:r,plotinfo:o}},h.makeSelectionsOptionsAndPlotinfo=function(a,n){var r=a._fullLayout.selections[n]||{},o=a._fullLayout._plots[r.xref+r.yref];return o?o._hadPlotinfo=!0:(o={},r.xref&&(o.xaxis=a._fullLayout[r.xref+"axis"]),r.yref&&(o.yaxis=a._fullLayout[r.yref+"axis"])),{options:r,plotinfo:o}},h.getPathString=function(a,n){var r,o,s,e,l,u,m,_,p=n.type,v=i.getRefType(n.xref),g=i.getRefType(n.yref),b=i.getFromId(a,n.xref),d=i.getFromId(a,n.yref),T=a._fullLayout._size;if(b?v==="domain"?o=function(F){return b._offset+b._length*F}:(r=h.shapePositionToRange(b),o=function(F){return b._offset+b.r2p(r(F,!0))}):o=function(F){return T.l+T.w*F},d?g==="domain"?e=function(F){return d._offset+d._length*(1-F)}:(s=h.shapePositionToRange(d),e=function(F){return d._offset+d.r2p(s(F,!0))}):e=function(F){return T.t+T.h*(1-F)},p==="path")return b&&b.type==="date"&&(o=h.decodeDate(o)),d&&d.type==="date"&&(e=h.decodeDate(e)),function(F,N,j){var z=F.path,H=F.xsizemode,U=F.ysizemode,it=F.xanchor,K=F.yanchor;return z.replace(f.segmentRE,function(D){var B=0,q=D.charAt(0),nt=f.paramIsX[q],ot=f.paramIsY[q],rt=f.numParams[q],$=D.substr(1).replace(f.paramRE,function(E){return nt[B]?E=H==="pixel"?N(it)+Number(E):N(E):ot[B]&&(E=U==="pixel"?j(K)-Number(E):j(E)),++B>rt&&(E="X"),E});return B>rt&&($=$.replace(/[\s,]*X.*/,""),y.log("Ignoring extra params in segment "+D)),q+$})}(n,o,e);if(n.xsizemode==="pixel"){var w=o(n.xanchor);l=w+n.x0,u=w+n.x1}else l=o(n.x0),u=o(n.x1);if(n.ysizemode==="pixel"){var k=e(n.yanchor);m=k-n.y0,_=k-n.y1}else m=e(n.y0),_=e(n.y1);if(p==="line")return"M"+l+","+m+"L"+u+","+_;if(p==="rect")return"M"+l+","+m+"H"+u+"V"+_+"H"+l+"Z";var P=(l+u)/2,A=(m+_)/2,L=Math.abs(P-l),I=Math.abs(A-m),x="A"+L+","+I,C=P+L+","+A;return"M"+C+x+" 0 1,1 "+P+","+(A-I)+x+" 0 0,1 "+C+"Z"}},1592:function(J,h,t){var f=t(4016);J.exports={moduleType:"component",name:"shapes",layoutAttributes:t(6056),supplyLayoutDefaults:t(3712),supplyDrawNewShapeDefaults:t(5144),includeBasePlot:t(6632)("shapes"),calcAutorange:t(6084),draw:f.draw,drawOne:f.drawOne}},7728:function(J){function h(i,a){return a?a.d2l(i):i}function t(i,a){return a?a.l2d(i):i}function f(i,a){return h(i.x1,a)-h(i.x0,a)}function y(i,a,n){return h(i.y1,n)-h(i.y0,n)}J.exports={x0:function(i){return i.x0},x1:function(i){return i.x1},y0:function(i){return i.y0},y1:function(i){return i.y1},slope:function(i,a,n){return i.type!=="line"?void 0:y(i,0,n)/f(i,a)},dx:f,dy:y,width:function(i,a){return Math.abs(f(i,a))},height:function(i,a,n){return Math.abs(y(i,0,n))},length:function(i,a,n){return i.type!=="line"?void 0:Math.sqrt(Math.pow(f(i,a),2)+Math.pow(y(i,0,n),2))},xcenter:function(i,a){return t((h(i.x1,a)+h(i.x0,a))/2,a)},ycenter:function(i,a,n){return t((h(i.y1,n)+h(i.y0,n))/2,n)}}},9861:function(J,h,t){var f=t(5376),y=t(6741),i=t(2880).extendDeepAll,a=t(7824).overrideAll,n=t(5656),r=t(1780).templatedArray,o=t(876),s=r("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});J.exports=a(r("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:s,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:i(y({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:n.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:f({})},font:f({}),activebgcolor:{valType:"color",dflt:o.gripBgActiveColor},bgcolor:{valType:"color",dflt:o.railBgColor},bordercolor:{valType:"color",dflt:o.railBorderColor},borderwidth:{valType:"number",min:0,dflt:o.railBorderWidth},ticklen:{valType:"number",min:0,dflt:o.tickLength},tickcolor:{valType:"color",dflt:o.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:o.minorTickLength}}),"arraydraw","from-root")},876:function(J){J.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(J,h,t){var f=t(3400),y=t(1272),i=t(9861),a=t(876).name,n=i.steps;function r(s,e,l){function u(g,b){return f.coerce(s,e,i,g,b)}for(var m=y(s,e,{name:"steps",handleItemDefaults:o}),_=0,p=0;p<m.length;p++)m[p].visible&&_++;if(_<2?e.visible=!1:u("visible")){e._stepCount=_;var v=e._visibleSteps=f.filterVisible(m);(m[u("active")]||{}).visible||(e.active=v[0]._index),u("x"),u("y"),f.noneOrAll(s,e,["x","y"]),u("xanchor"),u("yanchor"),u("len"),u("lenmode"),u("pad.t"),u("pad.r"),u("pad.b"),u("pad.l"),f.coerceFont(u,"font",l.font),u("currentvalue.visible")&&(u("currentvalue.xanchor"),u("currentvalue.prefix"),u("currentvalue.suffix"),u("currentvalue.offset"),f.coerceFont(u,"currentvalue.font",e.font)),u("transition.duration"),u("transition.easing"),u("bgcolor"),u("activebgcolor"),u("bordercolor"),u("borderwidth"),u("ticklen"),u("tickwidth"),u("tickcolor"),u("minorticklen")}}function o(s,e){function l(m,_){return f.coerce(s,e,n,m,_)}if(s.method==="skip"||Array.isArray(s.args)?l("visible"):e.visible=!1){l("method"),l("args");var u=l("label","step-"+e._index);l("value",u),l("execute")}}J.exports=function(s,e){y(s,e,{name:a,handleItemDefaults:r})}},9664:function(J,h,t){var f=t(3428),y=t(7316),i=t(6308),a=t(3616),n=t(3400),r=n.strTranslate,o=t(2736),s=t(1780).arrayEditor,e=t(876),l=t(4284),u=l.LINE_SPACING,m=l.FROM_TL,_=l.FROM_BR;function p(j){return e.autoMarginIdRoot+j._index}function v(j){return j._index}function g(j,z){var H=a.tester.selectAll("g."+e.labelGroupClass).data(z._visibleSteps);H.enter().append("g").classed(e.labelGroupClass,!0);var U=0,it=0;H.each(function(E){var S=T(f.select(this),{step:E},z).node();if(S){var Y=a.bBox(S);it=Math.max(it,Y.height),U=Math.max(U,Y.width)}}),H.remove();var K=z._dims={};K.inputAreaWidth=Math.max(e.railWidth,e.gripHeight);var D=j._fullLayout._size;K.lx=D.l+D.w*z.x,K.ly=D.t+D.h*(1-z.y),z.lenmode==="fraction"?K.outerLength=Math.round(D.w*z.len):K.outerLength=z.len,K.inputAreaStart=0,K.inputAreaLength=Math.round(K.outerLength-z.pad.l-z.pad.r);var B=(K.inputAreaLength-2*e.stepInset)/(z._stepCount-1),q=U+e.labelPadding;if(K.labelStride=Math.max(1,Math.ceil(q/B)),K.labelHeight=it,K.currentValueMaxWidth=0,K.currentValueHeight=0,K.currentValueTotalHeight=0,K.currentValueMaxLines=1,z.currentvalue.visible){var nt=a.tester.append("g");H.each(function(E){var S=b(nt,z,E.label),Y=S.node()&&a.bBox(S.node())||{width:0,height:0},Z=o.lineCount(S);K.currentValueMaxWidth=Math.max(K.currentValueMaxWidth,Math.ceil(Y.width)),K.currentValueHeight=Math.max(K.currentValueHeight,Math.ceil(Y.height)),K.currentValueMaxLines=Math.max(K.currentValueMaxLines,Z)}),K.currentValueTotalHeight=K.currentValueHeight+z.currentvalue.offset,nt.remove()}K.height=K.currentValueTotalHeight+e.tickOffset+z.ticklen+e.labelOffset+K.labelHeight+z.pad.t+z.pad.b;var ot="left";n.isRightAnchor(z)&&(K.lx-=K.outerLength,ot="right"),n.isCenterAnchor(z)&&(K.lx-=K.outerLength/2,ot="center");var rt="top";n.isBottomAnchor(z)&&(K.ly-=K.height,rt="bottom"),n.isMiddleAnchor(z)&&(K.ly-=K.height/2,rt="middle"),K.outerLength=Math.ceil(K.outerLength),K.height=Math.ceil(K.height),K.lx=Math.round(K.lx),K.ly=Math.round(K.ly);var $={y:z.y,b:K.height*_[rt],t:K.height*m[rt]};z.lenmode==="fraction"?($.l=0,$.xl=z.x-z.len*m[ot],$.r=0,$.xr=z.x+z.len*_[ot]):($.x=z.x,$.l=K.outerLength*m[ot],$.r=K.outerLength*_[ot]),y.autoMargin(j,p(z),$)}function b(j,z,H){if(z.currentvalue.visible){var U,it,K=z._dims;switch(z.currentvalue.xanchor){case"right":U=K.inputAreaLength-e.currentValueInset-K.currentValueMaxWidth,it="left";break;case"center":U=.5*K.inputAreaLength,it="middle";break;default:U=e.currentValueInset,it="left"}var D=n.ensureSingle(j,"text",e.labelClass,function($){$.attr({"text-anchor":it,"data-notex":1})}),B=z.currentvalue.prefix?z.currentvalue.prefix:"";if(typeof H=="string")B+=H;else{var q=z.steps[z.active].label,nt=z._gd._fullLayout._meta;nt&&(q=n.templateString(q,nt)),B+=q}z.currentvalue.suffix&&(B+=z.currentvalue.suffix),D.call(a.font,z.currentvalue.font).text(B).call(o.convertToTspans,z._gd);var ot=o.lineCount(D),rt=(K.currentValueMaxLines+1-ot)*z.currentvalue.font.size*u;return o.positionText(D,U,rt),D}}function d(j,z,H){n.ensureSingle(j,"rect",e.gripRectClass,function(U){U.call(A,z,j,H).style("pointer-events","all")}).attr({width:e.gripWidth,height:e.gripHeight,rx:e.gripRadius,ry:e.gripRadius}).call(i.stroke,H.bordercolor).call(i.fill,H.bgcolor).style("stroke-width",H.borderwidth+"px")}function T(j,z,H){var U=n.ensureSingle(j,"text",e.labelClass,function(D){D.attr({"text-anchor":"middle","data-notex":1})}),it=z.step.label,K=H._gd._fullLayout._meta;return K&&(it=n.templateString(it,K)),U.call(a.font,H.font).text(it).call(o.convertToTspans,H._gd),U}function w(j,z){var H=n.ensureSingle(j,"g",e.labelsClass),U=z._dims,it=H.selectAll("g."+e.labelGroupClass).data(U.labelSteps);it.enter().append("g").classed(e.labelGroupClass,!0),it.exit().remove(),it.each(function(K){var D=f.select(this);D.call(T,K,z),a.setTranslate(D,x(z,K.fraction),e.tickOffset+z.ticklen+z.font.size*u+e.labelOffset+U.currentValueTotalHeight)})}function k(j,z,H,U,it){var K=Math.round(U*(H._stepCount-1)),D=H._visibleSteps[K]._index;D!==H.active&&P(j,z,H,D,!0,it)}function P(j,z,H,U,it,K){var D=H.active;H.active=U,s(j.layout,e.name,H).applyUpdate("active",U);var B=H.steps[H.active];z.call(I,H,K),z.call(b,H),j.emit("plotly_sliderchange",{slider:H,step:H.steps[H.active],interaction:it,previousActive:D}),B&&B.method&&it&&(z._nextMethod?(z._nextMethod.step=B,z._nextMethod.doCallback=it,z._nextMethod.doTransition=K):(z._nextMethod={step:B,doCallback:it,doTransition:K},z._nextMethodRaf=window.requestAnimationFrame(function(){var q=z._nextMethod.step;q.method&&(q.execute&&y.executeAPICommand(j,q.method,q.args),z._nextMethod=null,z._nextMethodRaf=null)})))}function A(j,z,H){if(!z._context.staticPlot){var U=H.node(),it=f.select(z);j.on("mousedown",D),j.on("touchstart",D)}function K(){return H.data()[0]}function D(){var B=K();z.emit("plotly_sliderstart",{slider:B});var q=H.select("."+e.gripRectClass);f.event.stopPropagation(),f.event.preventDefault(),q.call(i.fill,B.activebgcolor);var nt=C(B,f.mouse(U)[0]);function ot(){var $=K(),E=C($,f.mouse(U)[0]);k(z,H,$,E,!1)}function rt(){var $=K();$._dragging=!1,q.call(i.fill,$.bgcolor),it.on("mouseup",null),it.on("mousemove",null),it.on("touchend",null),it.on("touchmove",null),z.emit("plotly_sliderend",{slider:$,step:$.steps[$.active]})}k(z,H,B,nt,!0),B._dragging=!0,it.on("mousemove",ot),it.on("touchmove",ot),it.on("mouseup",rt),it.on("touchend",rt)}}function L(j,z){var H=j.selectAll("rect."+e.tickRectClass).data(z._visibleSteps),U=z._dims;H.enter().append("rect").classed(e.tickRectClass,!0),H.exit().remove(),H.attr({width:z.tickwidth+"px","shape-rendering":"crispEdges"}),H.each(function(it,K){var D=K%U.labelStride==0,B=f.select(this);B.attr({height:D?z.ticklen:z.minorticklen}).call(i.fill,z.tickcolor),a.setTranslate(B,x(z,K/(z._stepCount-1))-.5*z.tickwidth,(D?e.tickOffset:e.minorTickOffset)+U.currentValueTotalHeight)})}function I(j,z,H){for(var U=j.select("rect."+e.gripRectClass),it=0,K=0;K<z._stepCount;K++)if(z._visibleSteps[K]._index===z.active){it=K;break}var D=x(z,it/(z._stepCount-1));if(!z._invokingCommand){var B=U;H&&z.transition.duration>0&&(B=B.transition().duration(z.transition.duration).ease(z.transition.easing)),B.attr("transform",r(D-.5*e.gripWidth,z._dims.currentValueTotalHeight))}}function x(j,z){var H=j._dims;return H.inputAreaStart+e.stepInset+(H.inputAreaLength-2*e.stepInset)*Math.min(1,Math.max(0,z))}function C(j,z){var H=j._dims;return Math.min(1,Math.max(0,(z-e.stepInset-H.inputAreaStart)/(H.inputAreaLength-2*e.stepInset-2*H.inputAreaStart)))}function F(j,z,H){var U=H._dims,it=n.ensureSingle(j,"rect",e.railTouchRectClass,function(K){K.call(A,z,j,H).style("pointer-events","all")});it.attr({width:U.inputAreaLength,height:Math.max(U.inputAreaWidth,e.tickOffset+H.ticklen+U.labelHeight)}).call(i.fill,H.bgcolor).attr("opacity",0),a.setTranslate(it,0,U.currentValueTotalHeight)}function N(j,z){var H=z._dims,U=H.inputAreaLength-2*e.railInset,it=n.ensureSingle(j,"rect",e.railRectClass);it.attr({width:U,height:e.railWidth,rx:e.railRadius,ry:e.railRadius,"shape-rendering":"crispEdges"}).call(i.stroke,z.bordercolor).call(i.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px"),a.setTranslate(it,e.railInset,.5*(H.inputAreaWidth-e.railWidth)+H.currentValueTotalHeight)}J.exports=function(j){var z=j._context.staticPlot,H=j._fullLayout,U=function(nt,ot){for(var rt=nt[e.name],$=[],E=0;E<rt.length;E++){var S=rt[E];S.visible&&(S._gd=ot,$.push(S))}return $}(H,j),it=H._infolayer.selectAll("g."+e.containerClassName).data(U.length>0?[0]:[]);function K(nt){nt._commandObserver&&(nt._commandObserver.remove(),delete nt._commandObserver),y.autoMargin(j,p(nt))}if(it.enter().append("g").classed(e.containerClassName,!0).style("cursor",z?null:"ew-resize"),it.exit().each(function(){f.select(this).selectAll("g."+e.groupClassName).each(K)}).remove(),U.length!==0){var D=it.selectAll("g."+e.groupClassName).data(U,v);D.enter().append("g").classed(e.groupClassName,!0),D.exit().each(K).remove();for(var B=0;B<U.length;B++){var q=U[B];g(j,q)}D.each(function(nt){var ot=f.select(this);(function(rt){var $=rt._dims;$.labelSteps=[];for(var E=rt._stepCount,S=0;S<E;S+=$.labelStride)$.labelSteps.push({fraction:S/(E-1),step:rt._visibleSteps[S]})})(nt),y.manageCommandObserver(j,nt,nt._visibleSteps,function(rt){var $=ot.data()[0];$.active!==rt.index&&($._dragging||P(j,ot,$,rt.index,!1,!0))}),function(rt,$,E){(E.steps[E.active]||{}).visible||(E.active=E._visibleSteps[0]._index),$.call(b,E).call(N,E).call(w,E).call(L,E).call(F,rt,E).call(d,rt,E);var S=E._dims;a.setTranslate($,S.lx+E.pad.l,S.ly+E.pad.t),$.call(I,E,!1),$.call(b,E)}(j,f.select(this),nt)})}}},7544:function(J,h,t){var f=t(876);J.exports={moduleType:"component",name:f.name,layoutAttributes:t(9861),supplyLayoutDefaults:t(8132),draw:t(9664)}},1668:function(J,h,t){var f=t(3428),y=t(8248),i=t(7316),a=t(4040),n=t(3400),r=n.strTranslate,o=t(3616),s=t(6308),e=t(2736),l=t(3448),u=t(4284).OPPOSITE_SIDE,m=/ [XY][0-9]* /;J.exports={draw:function(_,p,v){var g,b=v.propContainer,d=v.propName,T=v.placeholder,w=v.traceIndex,k=v.avoid||{},P=v.attributes,A=v.transform,L=v.containerGroup,I=_._fullLayout,x=1,C=!1,F=b.title,N=(F&&F.text?F.text:"").trim(),j=F&&F.font?F.font:{},z=j.family,H=j.size,U=j.color;d==="title.text"?g="titleText":d.indexOf("axis")!==-1?g="axisTitleText":d.indexOf(!0)&&(g="colorbarTitleText");var it=_._context.edits[g];N===""?x=0:N.replace(m," % ")===T.replace(m," % ")&&(x=.2,C=!0,it||(N="")),v._meta?N=n.templateString(N,v._meta):I._meta&&(N=n.templateString(N,I._meta));var K,D=N||it;L||(L=n.ensureSingle(I._infolayer,"g","g-"+p),K=I._hColorbarMoveTitle);var B=L.selectAll("text").data(D?[0]:[]);if(B.enter().append("text"),B.text(N).attr("class",p),B.exit().remove(),!D)return L;function q(rt){n.syncOrAsync([nt,ot],rt)}function nt(rt){var $;return!A&&K&&(A={}),A?($="",A.rotate&&($+="rotate("+[A.rotate,P.x,P.y]+")"),(A.offset||K)&&($+=r(0,(A.offset||0)-(K||0)))):$=null,rt.attr("transform",$),rt.style({"font-family":z,"font-size":f.round(H,2)+"px",fill:s.rgb(U),opacity:x*s.opacity(U),"font-weight":i.fontWeight}).attr(P).call(e.convertToTspans,_),i.previousPromises(_)}function ot(rt){var $=f.select(rt.node().parentNode);if(k&&k.selection&&k.side&&N){$.attr("transform",null);var E=u[k.side],S=k.side==="left"||k.side==="top"?-1:1,Y=y(k.pad)?k.pad:2,Z=o.bBox($.node()),G={t:0,b:0,l:0,r:0},Q=_._fullLayout._reservedMargin;for(var at in Q)for(var tt in Q[at]){var _t=Q[at][tt];G[tt]=Math.max(G[tt],_t)}var Pt={left:G.l,top:G.t,right:I.width-G.r,bottom:I.height-G.b},kt=k.maxShift||S*(Pt[k.side]-Z[k.side]),lt=0;if(kt<0)lt=kt;else{var st=k.offsetLeft||0,ht=k.offsetTop||0;Z.left-=st,Z.right-=st,Z.top-=ht,Z.bottom-=ht,k.selection.each(function(){var pt=o.bBox(this);n.bBoxIntersect(Z,pt,Y)&&(lt=Math.max(lt,S*(pt[k.side]-Z[E])+Y))}),lt=Math.min(kt,lt),b._titleScoot=Math.abs(lt)}if(lt>0||kt<0){var bt={left:[-lt,0],right:[lt,0],top:[0,-lt],bottom:[0,lt]}[k.side];$.attr("transform",r(bt[0],bt[1]))}}}return B.call(q),it&&(N?B.on(".opacity",null):(x=0,C=!0,B.text(T).on("mouseover.opacity",function(){f.select(this).transition().duration(l.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){f.select(this).transition().duration(l.HIDE_PLACEHOLDER).style("opacity",0)})),B.call(e.makeEditable,{gd:_}).on("edit",function(rt){w!==void 0?a.call("_guiRestyle",_,d,rt,w):a.call("_guiRelayout",_,d,rt)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(q)}).on("input",function(rt){this.text(rt||" ").call(e.positionText,P.x,P.y)})),B.classed("js-placeholder",C),L}}},8444:function(J,h,t){var f=t(5376),y=t(2548),i=t(2880).extendFlat,a=t(7824).overrideAll,n=t(6741),r=t(1780).templatedArray,o=r("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});J.exports=a(r("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:o,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:i(n({editType:"arraydraw"}),{}),font:f({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:y.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},1331:function(J){J.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},1384:function(J,h,t){var f=t(3400),y=t(1272),i=t(8444),a=t(1331).name,n=i.buttons;function r(s,e,l){function u(m,_){return f.coerce(s,e,i,m,_)}u("visible",y(s,e,{name:"buttons",handleItemDefaults:o}).length>0)&&(u("active"),u("direction"),u("type"),u("showactive"),u("x"),u("y"),f.noneOrAll(s,e,["x","y"]),u("xanchor"),u("yanchor"),u("pad.t"),u("pad.r"),u("pad.b"),u("pad.l"),f.coerceFont(u,"font",l.font),u("bgcolor",l.paper_bgcolor),u("bordercolor"),u("borderwidth"))}function o(s,e){function l(u,m){return f.coerce(s,e,n,u,m)}l("visible",s.method==="skip"||Array.isArray(s.args))&&(l("method"),l("args"),l("args2"),l("label"),l("execute"))}J.exports=function(s,e){y(s,e,{name:a,handleItemDefaults:r})}},4420:function(J,h,t){var f=t(3428),y=t(7316),i=t(6308),a=t(3616),n=t(3400),r=t(2736),o=t(1780).arrayEditor,s=t(4284).LINE_SPACING,e=t(1331),l=t(7400);function u(x){return x._index}function m(x,C){return+x.attr(e.menuIndexAttrName)===C._index}function _(x,C,F,N,j,z,H,U){C.active=H,o(x.layout,e.name,C).applyUpdate("active",H),C.type==="buttons"?v(x,N,null,null,C):C.type==="dropdown"&&(j.attr(e.menuIndexAttrName,"-1"),p(x,N,j,z,C),U||v(x,N,j,z,C))}function p(x,C,F,N,j){var z=n.ensureSingle(C,"g",e.headerClassName,function(B){B.style("pointer-events","all")}),H=j._dims,U=j.active,it=j.buttons[U]||e.blankHeaderOpts,K={y:j.pad.t,yPad:0,x:j.pad.l,xPad:0,index:0},D={width:H.headerWidth,height:H.headerHeight};z.call(g,j,it,x).call(L,j,K,D),n.ensureSingle(C,"text",e.headerArrowClassName,function(B){B.attr("text-anchor","end").call(a.font,j.font).text(e.arrowSymbol[j.direction])}).attr({x:H.headerWidth-e.arrowOffsetX+j.pad.l,y:H.headerHeight/2+e.textOffsetY+j.pad.t}),z.on("click",function(){F.call(I,String(m(F,j)?-1:j._index)),v(x,C,F,N,j)}),z.on("mouseover",function(){z.call(w)}),z.on("mouseout",function(){z.call(k,j)}),a.setTranslate(C,H.lx,H.ly)}function v(x,C,F,N,j){F||(F=C).attr("pointer-events","all");var z=function($){return+$.attr(e.menuIndexAttrName)==-1}(F)&&j.type!=="buttons"?[]:j.buttons,H=j.type==="dropdown"?e.dropdownButtonClassName:e.buttonClassName,U=F.selectAll("g."+H).data(n.filterVisible(z)),it=U.enter().append("g").classed(H,!0),K=U.exit();j.type==="dropdown"?(it.attr("opacity","0").transition().attr("opacity","1"),K.transition().attr("opacity","0").remove()):K.remove();var D=0,B=0,q=j._dims,nt=["up","down"].indexOf(j.direction)!==-1;j.type==="dropdown"&&(nt?B=q.headerHeight+e.gapButtonHeader:D=q.headerWidth+e.gapButtonHeader),j.type==="dropdown"&&j.direction==="up"&&(B=-e.gapButtonHeader+e.gapButton-q.openHeight),j.type==="dropdown"&&j.direction==="left"&&(D=-e.gapButtonHeader+e.gapButton-q.openWidth);var ot={x:q.lx+D+j.pad.l,y:q.ly+B+j.pad.t,yPad:e.gapButton,xPad:e.gapButton,index:0},rt={l:ot.x+j.borderwidth,t:ot.y+j.borderwidth};U.each(function($,E){var S=f.select(this);S.call(g,j,$,x).call(L,j,ot),S.on("click",function(){f.event.defaultPrevented||($.execute&&($.args2&&j.active===E?(_(x,j,0,C,F,N,-1),y.executeAPICommand(x,$.method,$.args2)):(_(x,j,0,C,F,N,E),y.executeAPICommand(x,$.method,$.args))),x.emit("plotly_buttonclicked",{menu:j,button:$,active:j.active}))}),S.on("mouseover",function(){S.call(w)}),S.on("mouseout",function(){S.call(k,j),U.call(T,j)})}),U.call(T,j),nt?(rt.w=Math.max(q.openWidth,q.headerWidth),rt.h=ot.y-rt.t):(rt.w=ot.x-rt.l,rt.h=Math.max(q.openHeight,q.headerHeight)),rt.direction=j.direction,N&&(U.size()?function($,E,S,Y,Z,G){var Q,at,tt,_t=Z.direction,Pt=_t==="up"||_t==="down",kt=Z._dims,lt=Z.active;if(Pt)for(at=0,tt=0;tt<lt;tt++)at+=kt.heights[tt]+e.gapButton;else for(Q=0,tt=0;tt<lt;tt++)Q+=kt.widths[tt]+e.gapButton;Y.enable(G,Q,at),Y.hbar&&Y.hbar.attr("opacity","0").transition().attr("opacity","1"),Y.vbar&&Y.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,N,j,rt):function($){var E=!!$.hbar,S=!!$.vbar;E&&$.hbar.transition().attr("opacity","0").each("end",function(){E=!1,S||$.disable()}),S&&$.vbar.transition().attr("opacity","0").each("end",function(){S=!1,E||$.disable()})}(N))}function g(x,C,F,N){x.call(b,C).call(d,C,F,N)}function b(x,C){n.ensureSingle(x,"rect",e.itemRectClassName,function(F){F.attr({rx:e.rx,ry:e.ry,"shape-rendering":"crispEdges"})}).call(i.stroke,C.bordercolor).call(i.fill,C.bgcolor).style("stroke-width",C.borderwidth+"px")}function d(x,C,F,N){var j=n.ensureSingle(x,"text",e.itemTextClassName,function(U){U.attr({"text-anchor":"start","data-notex":1})}),z=F.label,H=N._fullLayout._meta;H&&(z=n.templateString(z,H)),j.call(a.font,C.font).text(z).call(r.convertToTspans,N)}function T(x,C){var F=C.active;x.each(function(N,j){var z=f.select(this);j===F&&C.showactive&&z.select("rect."+e.itemRectClassName).call(i.fill,e.activeColor)})}function w(x){x.select("rect."+e.itemRectClassName).call(i.fill,e.hoverColor)}function k(x,C){x.select("rect."+e.itemRectClassName).call(i.fill,C.bgcolor)}function P(x,C){var F=C._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},N=a.tester.selectAll("g."+e.dropdownButtonClassName).data(n.filterVisible(C.buttons));N.enter().append("g").classed(e.dropdownButtonClassName,!0);var j=["up","down"].indexOf(C.direction)!==-1;N.each(function(D,B){var q=f.select(this);q.call(g,C,D,x);var nt=q.select("."+e.itemTextClassName),ot=nt.node()&&a.bBox(nt.node()).width,rt=Math.max(ot+e.textPadX,e.minWidth),$=C.font.size*s,E=r.lineCount(nt),S=Math.max($*E,e.minHeight)+e.textOffsetY;S=Math.ceil(S),rt=Math.ceil(rt),F.widths[B]=rt,F.heights[B]=S,F.height1=Math.max(F.height1,S),F.width1=Math.max(F.width1,rt),j?(F.totalWidth=Math.max(F.totalWidth,rt),F.openWidth=F.totalWidth,F.totalHeight+=S+e.gapButton,F.openHeight+=S+e.gapButton):(F.totalWidth+=rt+e.gapButton,F.openWidth+=rt+e.gapButton,F.totalHeight=Math.max(F.totalHeight,S),F.openHeight=F.totalHeight)}),j?F.totalHeight-=e.gapButton:F.totalWidth-=e.gapButton,F.headerWidth=F.width1+e.arrowPadX,F.headerHeight=F.height1,C.type==="dropdown"&&(j?(F.width1+=e.arrowPadX,F.totalHeight=F.height1):F.totalWidth=F.width1,F.totalWidth+=e.arrowPadX),N.remove();var z=F.totalWidth+C.pad.l+C.pad.r,H=F.totalHeight+C.pad.t+C.pad.b,U=x._fullLayout._size;F.lx=U.l+U.w*C.x,F.ly=U.t+U.h*(1-C.y);var it="left";n.isRightAnchor(C)&&(F.lx-=z,it="right"),n.isCenterAnchor(C)&&(F.lx-=z/2,it="center");var K="top";n.isBottomAnchor(C)&&(F.ly-=H,K="bottom"),n.isMiddleAnchor(C)&&(F.ly-=H/2,K="middle"),F.totalWidth=Math.ceil(F.totalWidth),F.totalHeight=Math.ceil(F.totalHeight),F.lx=Math.round(F.lx),F.ly=Math.round(F.ly),y.autoMargin(x,A(C),{x:C.x,y:C.y,l:z*({right:1,center:.5}[it]||0),r:z*({left:1,center:.5}[it]||0),b:H*({top:1,middle:.5}[K]||0),t:H*({bottom:1,middle:.5}[K]||0)})}function A(x){return e.autoMarginIdRoot+x._index}function L(x,C,F,N){N=N||{};var j=x.select("."+e.itemRectClassName),z=x.select("."+e.itemTextClassName),H=C.borderwidth,U=F.index,it=C._dims;a.setTranslate(x,H+F.x,H+F.y);var K=["up","down"].indexOf(C.direction)!==-1,D=N.height||(K?it.heights[U]:it.height1);j.attr({x:0,y:0,width:N.width||(K?it.width1:it.widths[U]),height:D});var B=C.font.size*s,q=(r.lineCount(z)-1)*B/2;r.positionText(z,e.textOffsetX,D/2-q+e.textOffsetY),K?F.y+=it.heights[U]+F.yPad:F.x+=it.widths[U]+F.xPad,F.index++}function I(x,C){x.attr(e.menuIndexAttrName,C||"-1").selectAll("g."+e.dropdownButtonClassName).remove()}J.exports=function(x){var C=x._fullLayout,F=n.filterVisible(C[e.name]);function N(B){y.autoMargin(x,A(B))}var j=C._menulayer.selectAll("g."+e.containerClassName).data(F.length>0?[0]:[]);if(j.enter().append("g").classed(e.containerClassName,!0).style("cursor","pointer"),j.exit().each(function(){f.select(this).selectAll("g."+e.headerGroupClassName).each(N)}).remove(),F.length!==0){var z=j.selectAll("g."+e.headerGroupClassName).data(F,u);z.enter().append("g").classed(e.headerGroupClassName,!0);for(var H=n.ensureSingle(j,"g",e.dropdownButtonGroupClassName,function(B){B.style("pointer-events","all")}),U=0;U<F.length;U++){var it=F[U];P(x,it)}var K="updatemenus"+C._uid,D=new l(x,H,K);z.enter().size()&&(H.node().parentNode.appendChild(H.node()),H.call(I)),z.exit().each(function(B){H.call(I),N(B)}).remove(),z.each(function(B){var q=f.select(this),nt=B.type==="dropdown"?H:null;y.manageCommandObserver(x,B,B.buttons,function(ot){_(x,B,B.buttons[ot.index],q,nt,D,ot.index,!0)}),B.type==="dropdown"?(p(x,q,H,D,B),m(H,B)&&v(x,q,H,D,B)):v(x,q,null,null,B)})}}},6908:function(J,h,t){var f=t(1331);J.exports={moduleType:"component",name:f.name,layoutAttributes:t(8444),supplyLayoutDefaults:t(1384),draw:t(4420)}},7400:function(J,h,t){J.exports=n;var f=t(3428),y=t(6308),i=t(3616),a=t(3400);function n(r,o,s){this.gd=r,this.container=o,this.id=s,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}n.barWidth=2,n.barLength=20,n.barRadius=2,n.barPad=1,n.barColor="#808BA4",n.prototype.enable=function(r,o,s){var e=this.gd._fullLayout,l=e.width,u=e.height;this.position=r;var m,_,p,v,g=this.position.l,b=this.position.w,d=this.position.t,T=this.position.h,w=this.position.direction,k=w==="down",P=w==="left",A=w==="up",L=b,I=T;k||P||w==="right"||A||(this.position.direction="down",k=!0),k||A?(_=(m=g)+L,k?(p=d,I=(v=Math.min(p+I,u))-p):I=(v=d+I)-(p=Math.max(v-I,0))):(v=(p=d)+I,P?L=(_=g+L)-(m=Math.max(_-L,0)):(m=g,L=(_=Math.min(m+L,l))-m)),this._box={l:m,t:p,w:L,h:I};var x=b>L,C=n.barLength+2*n.barPad,F=n.barWidth+2*n.barPad,N=g,j=d+T;j+F>u&&(j=u-F);var z=this.container.selectAll("rect.scrollbar-horizontal").data(x?[0]:[]);z.exit().on(".drag",null).remove(),z.enter().append("rect").classed("scrollbar-horizontal",!0).call(y.fill,n.barColor),x?(this.hbar=z.attr({rx:n.barRadius,ry:n.barRadius,x:N,y:j,width:C,height:F}),this._hbarXMin=N+C/2,this._hbarTranslateMax=L-C):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var H=T>I,U=n.barWidth+2*n.barPad,it=n.barLength+2*n.barPad,K=g+b,D=d;K+U>l&&(K=l-U);var B=this.container.selectAll("rect.scrollbar-vertical").data(H?[0]:[]);B.exit().on(".drag",null).remove(),B.enter().append("rect").classed("scrollbar-vertical",!0).call(y.fill,n.barColor),H?(this.vbar=B.attr({rx:n.barRadius,ry:n.barRadius,x:K,y:D,width:U,height:it}),this._vbarYMin=D+it/2,this._vbarTranslateMax=I-it):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var q=this.id,nt=m-.5,ot=H?_+U+.5:_+.5,rt=p-.5,$=x?v+F+.5:v+.5,E=e._topdefs.selectAll("#"+q).data(x||H?[0]:[]);if(E.exit().remove(),E.enter().append("clipPath").attr("id",q).append("rect"),x||H?(this._clipRect=E.select("rect").attr({x:Math.floor(nt),y:Math.floor(rt),width:Math.ceil(ot)-Math.floor(nt),height:Math.ceil($)-Math.floor(rt)}),this.container.call(i.setClipUrl,q,this.gd),this.bg.attr({x:g,y:d,width:b,height:T})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),x||H){var S=f.behavior.drag().on("dragstart",function(){f.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(S);var Y=f.behavior.drag().on("dragstart",function(){f.event.sourceEvent.preventDefault(),f.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));x&&this.hbar.on(".drag",null).call(Y),H&&this.vbar.on(".drag",null).call(Y)}this.setTranslate(o,s)},n.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},n.prototype._onBoxDrag=function(){var r=this.translateX,o=this.translateY;this.hbar&&(r-=f.event.dx),this.vbar&&(o-=f.event.dy),this.setTranslate(r,o)},n.prototype._onBoxWheel=function(){var r=this.translateX,o=this.translateY;this.hbar&&(r+=f.event.deltaY),this.vbar&&(o+=f.event.deltaY),this.setTranslate(r,o)},n.prototype._onBarDrag=function(){var r=this.translateX,o=this.translateY;if(this.hbar){var s=r+this._hbarXMin,e=s+this._hbarTranslateMax;r=(a.constrain(f.event.x,s,e)-s)/(e-s)*(this.position.w-this._box.w)}if(this.vbar){var l=o+this._vbarYMin,u=l+this._vbarTranslateMax;o=(a.constrain(f.event.y,l,u)-l)/(u-l)*(this.position.h-this._box.h)}this.setTranslate(r,o)},n.prototype.setTranslate=function(r,o){var s=this.position.w-this._box.w,e=this.position.h-this._box.h;if(r=a.constrain(r||0,0,s),o=a.constrain(o||0,0,e),this.translateX=r,this.translateY=o,this.container.call(i.setTranslate,this._box.l-this.position.l-r,this._box.t-this.position.t-o),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+r-.5),y:Math.floor(this.position.t+o-.5)}),this.hbar){var l=r/s;this.hbar.call(i.setTranslate,r+l*this._hbarTranslateMax,o)}if(this.vbar){var u=o/e;this.vbar.call(i.setTranslate,r,o+u*this._vbarTranslateMax)}}},4284:function(J){J.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},6208:function(J){J.exports={axisRefDescription:function(h,t,f){return["If set to a",h,"axis id (e.g. *"+h+"* or","*"+h+"2*), the `"+h+"` position refers to a",h,"coordinate. If set to *paper*, the `"+h+"`","position refers to the distance from the",t,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",t,"("+f+"). If set to a",h,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",t,"of the domain of that axis: e.g.,","*"+h+"2 domain* refers to the domain of the second",h," axis and a",h,"position of 0.5 refers to the","point between the",t,"and the",f,"of the domain of the","second",h,"axis."].join(" ")}}},6880:function(J){J.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},9104:function(J){J.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},3448:function(J){J.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},9032:function(J){J.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},9616:function(J,h){h.xmlns="http://www.w3.org/2000/xmlns/",h.svg="http://www.w3.org/2000/svg",h.xlink="http://www.w3.org/1999/xlink",h.svgAttrs={xmlns:h.svg,"xmlns:xlink":h.xlink}},4884:function(J,h,t){h.version=t(5788).version,t(8324),t(9288);for(var f=t(4040),y=h.register=f.register,i=t(2448),a=Object.keys(i),n=0;n<a.length;n++){var r=a[n];r.charAt(0)!=="_"&&(h[r]=i[r]),y({moduleType:"apiMethod",name:r,fn:i[r]})}y(t(5875)),y([t(9180),t(6864),t(2676),t(1592),t(7402),t(6908),t(7544),t(9692),t(1152),t(2704),t(4968),t(8932),t(5080),t(2780),t(3024),t(3080)]),y([t(6580),t(1680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(y(window.PlotlyLocales),delete window.PlotlyLocales),h.Icons=t(9224);var o=t(3024),s=t(7316);h.Plots={resize:s.resize,graphJson:s.graphJson,sendDataToCloud:s.sendDataToCloud},h.Fx={hover:o.hover,unhover:o.unhover,loneHover:o.loneHover,loneUnhover:o.loneUnhover},h.Snapshot=t(8904),h.PlotSchema=t(3060)},9224:function(J){J.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},8308:function(J,h){h.isLeftAnchor=function(t){return t.xanchor==="left"||t.xanchor==="auto"&&t.x<=.3333333333333333},h.isCenterAnchor=function(t){return t.xanchor==="center"||t.xanchor==="auto"&&t.x>.3333333333333333&&t.x<.6666666666666666},h.isRightAnchor=function(t){return t.xanchor==="right"||t.xanchor==="auto"&&t.x>=.6666666666666666},h.isTopAnchor=function(t){return t.yanchor==="top"||t.yanchor==="auto"&&t.y>=.6666666666666666},h.isMiddleAnchor=function(t){return t.yanchor==="middle"||t.yanchor==="auto"&&t.y>.3333333333333333&&t.y<.6666666666666666},h.isBottomAnchor=function(t){return t.yanchor==="bottom"||t.yanchor==="auto"&&t.y<=.3333333333333333}},1864:function(J,h,t){var f=t(435),y=f.mod,i=f.modHalf,a=Math.PI,n=2*a;function r(l){return Math.abs(l[1]-l[0])>n-1e-14}function o(l,u){return i(u-l,n)}function s(l,u){if(r(u))return!0;var m,_;u[0]<u[1]?(m=u[0],_=u[1]):(m=u[1],_=u[0]),(m=y(m,n))>(_=y(_,n))&&(_+=n);var p=y(l,n),v=p+n;return p>=m&&p<=_||v>=m&&v<=_}function e(l,u,m,_,p,v,g){p=p||0,v=v||0;var b,d,T,w,k,P=r([m,_]);function A(C,F){return[C*Math.cos(F)+p,v-C*Math.sin(F)]}P?(b=0,d=a,T=n):m<_?(b=m,T=_):(b=_,T=m),l<u?(w=l,k=u):(w=u,k=l);var L,I=Math.abs(T-b)<=a?0:1;function x(C,F,N){return"A"+[C,C]+" "+[0,I,N]+" "+A(C,F)}return P?L=w===null?"M"+A(k,b)+x(k,d,0)+x(k,T,0)+"Z":"M"+A(w,b)+x(w,d,0)+x(w,T,0)+"ZM"+A(k,b)+x(k,d,1)+x(k,T,1)+"Z":w===null?(L="M"+A(k,b)+x(k,T,0),g&&(L+="L0,0Z")):L="M"+A(w,b)+"L"+A(k,b)+x(k,T,0)+"L"+A(w,T)+x(w,b,1)+"Z",L}J.exports={deg2rad:function(l){return l/180*a},rad2deg:function(l){return l/a*180},angleDelta:o,angleDist:function(l,u){return Math.abs(o(l,u))},isFullCircle:r,isAngleInsideSector:s,isPtInsideSector:function(l,u,m,_){return!!s(u,_)&&(m[0]<m[1]?(p=m[0],v=m[1]):(p=m[1],v=m[0]),l>=p&&l<=v);var p,v},pathArc:function(l,u,m,_,p){return e(null,l,u,m,_,p,0)},pathSector:function(l,u,m,_,p){return e(null,l,u,m,_,p,1)},pathAnnulus:function(l,u,m,_,p,v){return e(l,u,m,_,p,v,1)}}},8116:function(J,h,t){var f=t(3160).decode,y=t(3620),i=Array.isArray,a=ArrayBuffer,n=DataView;function r(u){return a.isView(u)&&!(u instanceof n)}function o(u){return i(u)||r(u)}h.isTypedArray=r,h.isArrayOrTypedArray=o,h.isArray1D=function(u){return!o(u[0])},h.ensureArray=function(u,m){return i(u)||(u=[]),u.length=m,u};var s={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};function e(u){return u.constructor===ArrayBuffer}function l(u,m,_){if(o(u)){if(o(u[0])){for(var p=_,v=0;v<u.length;v++)p=m(p,u[v].length);return p}return u.length}return 0}s.uint8c=s.u1c,s.uint8=s.u1,s.int8=s.i1,s.uint16=s.u2,s.int16=s.i2,s.uint32=s.u4,s.int32=s.i4,s.float32=s.f4,s.float64=s.f8,h.isArrayBuffer=e,h.decodeTypedArraySpec=function(u){var m=[],_=function(C){return{bdata:C.bdata,dtype:C.dtype,shape:C.shape}}(u),p=_.dtype,v=s[p];if(!v)throw new Error('Error in dtype: "'+p+'"');var g=v.BYTES_PER_ELEMENT,b=_.bdata;e(b)||(b=f(b));var d=_.shape===void 0?[b.byteLength/g]:(""+_.shape).split(",");d.reverse();var T,w,k=d.length,P=+d[0],A=g*P,L=0;if(k===1)m=new v(b);else if(k===2)for(T=+d[1],w=0;w<T;w++)m[w]=new v(b,L,P),L+=A;else{if(k!==3)throw new Error("ndim: "+k+'is not supported with the shape:"'+_.shape+'"');T=+d[1];for(var I=+d[2],x=0;x<I;x++)for(m[x]=[],w=0;w<T;w++)m[x][w]=new v(b,L,P),L+=A}return m.bdata=_.bdata,m.dtype=_.dtype,m.shape=d.reverse().join(","),u._inputArray=m,m},h.isTypedArraySpec=function(u){return y(u)&&u.hasOwnProperty("dtype")&&typeof u.dtype=="string"&&u.hasOwnProperty("bdata")&&(typeof u.bdata=="string"||e(u.bdata))&&(u.shape===void 0||u.hasOwnProperty("shape")&&(typeof u.shape=="string"||typeof u.shape=="number"))},h.concat=function(){var u,m,_,p,v,g,b,d,T=[],w=!0,k=0;for(_=0;_<arguments.length;_++)(g=(p=arguments[_]).length)&&(m?T.push(p):(m=p,v=g),i(p)?u=!1:(w=!1,k?u!==p.constructor&&(u=!1):u=p.constructor),k+=g);if(!k)return[];if(!T.length)return m;if(w)return m.concat.apply(m,T);if(u){for((b=new u(k)).set(m),_=0;_<T.length;_++)p=T[_],b.set(p,v),v+=p.length;return b}for(b=new Array(k),d=0;d<m.length;d++)b[d]=m[d];for(_=0;_<T.length;_++){for(p=T[_],d=0;d<p.length;d++)b[v+d]=p[d];v+=d}return b},h.maxRowLength=function(u){return l(u,Math.max,0)},h.minRowLength=function(u){return l(u,Math.min,1/0)}},4037:function(J,h,t){var f=t(8248),y=t(9032).BADNUM,i=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;J.exports=function(a){return typeof a=="string"&&(a=a.replace(i,"")),f(a)?Number(a):y}},3696:function(J){J.exports=function(h){var t=h._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(f){f.regl&&f.regl.clear({color:!0,depth:!0})})}},5352:function(J){J.exports=function(h){h._responsiveChartHandler&&(window.removeEventListener("resize",h._responsiveChartHandler),delete h._responsiveChartHandler)}},3064:function(J,h,t){var f=t(8248),y=t(9760),i=t(5464),a=t(8304),n=t(6308),r=t(3448).DESELECTDIM,o=t(2296),s=t(3756).counter,e=t(435).modHalf,l=t(8116).isArrayOrTypedArray,u=t(8116).isTypedArraySpec,m=t(8116).decodeTypedArraySpec;function _(p,v){var g=h.valObjectMeta[v.valType];if(v.arrayOk&&l(p))return!0;if(g.validateFunction)return g.validateFunction(p,v);var b={},d=b,T={set:function(w){d=w}};return g.coerceFunction(p,T,b,v),d!==b}h.valObjectMeta={data_array:{coerceFunction:function(p,v,g){v.set(l(p)?p:u(p)?m(p):g)}},enumerated:{coerceFunction:function(p,v,g,b){b.coerceNumber&&(p=+p),b.values.indexOf(p)===-1?v.set(g):v.set(p)},validateFunction:function(p,v){v.coerceNumber&&(p=+p);for(var g=v.values,b=0;b<g.length;b++){var d=String(g[b]);if(d.charAt(0)==="/"&&d.charAt(d.length-1)==="/"){if(new RegExp(d.substr(1,d.length-2)).test(p))return!0}else if(p===g[b])return!0}return!1}},boolean:{coerceFunction:function(p,v,g){p===!0||p===!1?v.set(p):v.set(g)}},number:{coerceFunction:function(p,v,g,b){!f(p)||b.min!==void 0&&p<b.min||b.max!==void 0&&p>b.max?v.set(g):v.set(+p)}},integer:{coerceFunction:function(p,v,g,b){p%1||!f(p)||b.min!==void 0&&p<b.min||b.max!==void 0&&p>b.max?v.set(g):v.set(+p)}},string:{coerceFunction:function(p,v,g,b){if(typeof p!="string"){var d=typeof p=="number";b.strict!==!0&&d?v.set(String(p)):v.set(g)}else b.noBlank&&!p?v.set(g):v.set(p)}},color:{coerceFunction:function(p,v,g){y(p).isValid()?v.set(p):v.set(g)}},colorlist:{coerceFunction:function(p,v,g){Array.isArray(p)&&p.length&&p.every(function(b){return y(b).isValid()})?v.set(p):v.set(g)}},colorscale:{coerceFunction:function(p,v,g){v.set(a.get(p,g))}},angle:{coerceFunction:function(p,v,g){p==="auto"?v.set("auto"):f(p)?v.set(e(+p,360)):v.set(g)}},subplotid:{coerceFunction:function(p,v,g,b){var d=b.regex||s(g);typeof p=="string"&&d.test(p)?v.set(p):v.set(g)},validateFunction:function(p,v){var g=v.dflt;return p===g||typeof p=="string"&&!!s(g).test(p)}},flaglist:{coerceFunction:function(p,v,g,b){if((b.extras||[]).indexOf(p)===-1)if(typeof p=="string"){for(var d=p.split("+"),T=0;T<d.length;){var w=d[T];b.flags.indexOf(w)===-1||d.indexOf(w)<T?d.splice(T,1):T++}d.length?v.set(d.join("+")):v.set(g)}else v.set(g);else v.set(p)}},any:{coerceFunction:function(p,v,g){p===void 0?v.set(g):v.set(u(p)?m(p):p)}},info_array:{coerceFunction:function(p,v,g,b){function d(H,U,it){var K,D={set:function(B){K=B}};return it===void 0&&(it=U.dflt),h.valObjectMeta[U.valType].coerceFunction(H,D,it,U),K}if(u(p)&&(p=m(p)),l(p)){var T,w,k,P,A,L,I=b.dimensions===2||b.dimensions==="1-2"&&Array.isArray(p)&&l(p[0]),x=b.items,C=[],F=Array.isArray(x),N=F&&I&&l(x[0]),j=I&&F&&!N,z=F&&!j?x.length:p.length;if(g=Array.isArray(g)?g:[],I)for(T=0;T<z;T++)for(C[T]=[],k=l(p[T])?p[T]:[],A=j?x.length:F?x[T].length:k.length,w=0;w<A;w++)P=j?x[w]:F?x[T][w]:x,(L=d(k[w],P,(g[T]||[])[w]))!==void 0&&(C[T][w]=L);else for(T=0;T<z;T++)(L=d(p[T],F?x[T]:x,g[T]))!==void 0&&(C[T]=L);v.set(C)}else v.set(g)},validateFunction:function(p,v){if(!l(p))return!1;var g=v.items,b=Array.isArray(g),d=v.dimensions===2;if(!v.freeLength&&p.length!==g.length)return!1;for(var T=0;T<p.length;T++)if(d){if(!l(p[T])||!v.freeLength&&p[T].length!==g[T].length)return!1;for(var w=0;w<p[T].length;w++)if(!_(p[T][w],b?g[T][w]:g))return!1}else if(!_(p[T],b?g[T]:g))return!1;return!0}}},h.coerce=function(p,v,g,b,d){var T=o(g,b).get(),w=o(p,b),k=o(v,b),P=w.get(),A=v._template;if(P===void 0&&A&&(P=o(A,b).get(),A=0),d===void 0&&(d=T.dflt),T.arrayOk){if(l(P))return k.set(P),P;if(u(P))return P=m(P),k.set(P),P}var L=h.valObjectMeta[T.valType].coerceFunction;L(P,k,d,T);var I=k.get();return A&&I===d&&!_(P,T)&&(L(P=o(A,b).get(),k,d,T),I=k.get()),I},h.coerce2=function(p,v,g,b,d){var T=o(p,b),w=h.coerce(p,v,g,b,d);return T.get()!=null&&w},h.coerceFont=function(p,v,g){var b={};return g=g||{},b.family=p(v+".family",g.family),b.size=p(v+".size",g.size),b.color=p(v+".color",g.color),b},h.coercePattern=function(p,v,g,b){if(p(v+".shape")){p(v+".solidity"),p(v+".size");var d=p(v+".fillmode")==="overlay";if(!b){var T=p(v+".bgcolor",d?g:void 0);p(v+".fgcolor",d?n.contrast(T):g)}p(v+".fgopacity",d?.5:1)}},h.coerceHoverinfo=function(p,v,g){var b,d=v._module.attributes,T=d.hoverinfo?d:i,w=T.hoverinfo;if(g._dataLength===1){var k=w.dflt==="all"?w.flags.slice():w.dflt.split("+");k.splice(k.indexOf("name"),1),b=k.join("+")}return h.coerce(p,v,T,"hoverinfo",b)},h.coerceSelectionMarkerOpacity=function(p,v){if(p.marker){var g,b,d=p.marker.opacity;d!==void 0&&(l(d)||p.selected||p.unselected||(g=d,b=r*d),v("selected.marker.opacity",g),v("unselected.marker.opacity",b))}},h.validate=_},7555:function(J,h,t){var f,y,i=t(4336).Yn,a=t(8248),n=t(4248),r=t(435).mod,o=t(9032),s=o.BADNUM,e=o.ONEDAY,l=o.ONEHOUR,u=o.ONEMIN,m=o.ONESEC,_=o.EPOCHJD,p=t(4040),v=t(4336).E9,g=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,b=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,d=new Date().getFullYear()-70;function T(z){return z&&p.componentsRegistry.calendars&&typeof z=="string"&&z!=="gregorian"}function w(z,H){return String(z+Math.pow(10,H)).substr(1)}h.dateTick0=function(z,H){var U=function(K,D){return T(K)?D?p.getComponentMethod("calendars","CANONICAL_SUNDAY")[K]:p.getComponentMethod("calendars","CANONICAL_TICK")[K]:D?"2000-01-02":"2000-01-01"}(z,!!H);if(H<2)return U;var it=h.dateTime2ms(U,z);return it+=e*(H-1),h.ms2DateTime(it,0,z)},h.dfltRange=function(z){return T(z)?p.getComponentMethod("calendars","DFLTRANGE")[z]:["2000-01-01","2001-01-01"]},h.isJSDate=function(z){return typeof z=="object"&&z!==null&&typeof z.getTime=="function"},h.dateTime2ms=function(z,H){if(h.isJSDate(z)){var U=z.getTimezoneOffset()*u,it=(z.getUTCMinutes()-z.getMinutes())*u+(z.getUTCSeconds()-z.getSeconds())*m+(z.getUTCMilliseconds()-z.getMilliseconds());if(it){var K=3*u;U=U-K/2+r(it-U+K/2,K)}return(z=Number(z)-U)>=f&&z<=y?z:s}if(typeof z!="string"&&typeof z!="number")return s;z=String(z);var D=T(H),B=z.charAt(0);!D||B!=="G"&&B!=="g"||(z=z.substr(1),H="");var q=D&&H.substr(0,7)==="chinese",nt=z.match(q?b:g);if(!nt)return s;var ot=nt[1],rt=nt[3]||"1",$=Number(nt[5]||1),E=Number(nt[7]||0),S=Number(nt[9]||0),Y=Number(nt[11]||0);if(D){if(ot.length===2)return s;var Z;ot=Number(ot);try{var G=p.getComponentMethod("calendars","getCal")(H);if(q){var Q=rt.charAt(rt.length-1)==="i";rt=parseInt(rt,10),Z=G.newDate(ot,G.toMonthIndex(ot,rt,Q),$)}else Z=G.newDate(ot,Number(rt),$)}catch{return s}return Z?(Z.toJD()-_)*e+E*l+S*u+Y*m:s}ot=ot.length===2?(Number(ot)+2e3-d)%100+d:Number(ot),rt-=1;var at=new Date(Date.UTC(2e3,rt,$,E,S));return at.setUTCFullYear(ot),at.getUTCMonth()!==rt||at.getUTCDate()!==$?s:at.getTime()+Y*m},f=h.MIN_MS=h.dateTime2ms("-9999"),y=h.MAX_MS=h.dateTime2ms("9999-12-31 23:59:59.9999"),h.isDateTime=function(z,H){return h.dateTime2ms(z,H)!==s};var k=90*e,P=3*l,A=5*u;function L(z,H,U,it,K){if((H||U||it||K)&&(z+=" "+w(H,2)+":"+w(U,2),(it||K)&&(z+=":"+w(it,2),K))){for(var D=4;K%10==0;)D-=1,K/=10;z+="."+w(K,D)}return z}h.ms2DateTime=function(z,H,U){if(typeof z!="number"||!(z>=f&&z<=y))return s;H||(H=0);var it,K,D,B,q,nt,ot=Math.floor(10*r(z+.05,1)),rt=Math.round(z-ot/10);if(T(U)){var $=Math.floor(rt/e)+_,E=Math.floor(r(z,e));try{it=p.getComponentMethod("calendars","getCal")(U).fromJD($).formatDate("yyyy-mm-dd")}catch{it=v("G%Y-%m-%d")(new Date(rt))}if(it.charAt(0)==="-")for(;it.length<11;)it="-0"+it.substr(1);else for(;it.length<10;)it="0"+it;K=H<k?Math.floor(E/l):0,D=H<k?Math.floor(E%l/u):0,B=H<P?Math.floor(E%u/m):0,q=H<A?E%m*10+ot:0}else nt=new Date(rt),it=v("%Y-%m-%d")(nt),K=H<k?nt.getUTCHours():0,D=H<k?nt.getUTCMinutes():0,B=H<P?nt.getUTCSeconds():0,q=H<A?10*nt.getUTCMilliseconds()+ot:0;return L(it,K,D,B,q)},h.ms2DateTimeLocal=function(z){if(!(z>=f+e&&z<=y-e))return s;var H=Math.floor(10*r(z+.05,1)),U=new Date(Math.round(z-H/10));return L(i("%Y-%m-%d")(U),U.getHours(),U.getMinutes(),U.getSeconds(),10*U.getUTCMilliseconds()+H)},h.cleanDate=function(z,H,U){if(z===s)return H;if(h.isJSDate(z)||typeof z=="number"&&isFinite(z)){if(T(U))return n.error("JS Dates and milliseconds are incompatible with world calendars",z),H;if(!(z=h.ms2DateTimeLocal(+z))&&H!==void 0)return H}else if(!h.isDateTime(z,U))return n.error("unrecognized date",z),H;return z};var I=/%\d?f/g,x=/%h/g,C={1:"1",2:"1",3:"2",4:"2"};function F(z,H,U,it){z=z.replace(I,function(D){var B=Math.min(+D.charAt(1)||6,6);return(H/1e3%1+2).toFixed(B).substr(2).replace(/0+$/,"")||"0"});var K=new Date(Math.floor(H+.05));if(z=z.replace(x,function(){return C[U("%q")(K)]}),T(it))try{z=p.getComponentMethod("calendars","worldCalFmt")(z,H,it)}catch{return"Invalid"}return U(z)(K)}var N=[59,59.9,59.99,59.999,59.9999];h.formatDate=function(z,H,U,it,K,D){if(K=T(K)&&K,!H)if(U==="y")H=D.year;else if(U==="m")H=D.month;else{if(U!=="d")return function(B,q){var nt=r(B+.05,e),ot=w(Math.floor(nt/l),2)+":"+w(r(Math.floor(nt/u),60),2);if(q!=="M"){a(q)||(q=0);var rt=(100+Math.min(r(B/m,60),N[q])).toFixed(q).substr(1);q>0&&(rt=rt.replace(/0+$/,"").replace(/[\.]$/,"")),ot+=":"+rt}return ot}(z,U)+`
`+F(D.dayMonthYear,z,it,K);H=D.dayMonth+`
`+D.year}return F(H,z,it,K)};var j=3*e;h.incrementMonth=function(z,H,U){U=T(U)&&U;var it=r(z,e);if(z=Math.round(z-it),U)try{var K=Math.round(z/e)+_,D=p.getComponentMethod("calendars","getCal")(U),B=D.fromJD(K);return H%12?D.add(B,H,"m"):D.add(B,H/12,"y"),(B.toJD()-_)*e+it}catch{n.error("invalid ms "+z+" in calendar "+U)}var q=new Date(z+j);return q.setUTCMonth(q.getUTCMonth()+H)+it-j},h.findExactDates=function(z,H){for(var U,it,K=0,D=0,B=0,q=0,nt=T(H)&&p.getComponentMethod("calendars","getCal")(H),ot=0;ot<z.length;ot++)if(it=z[ot],a(it)){if(!(it%e))if(nt)try{(U=nt.fromJD(it/e+_)).day()===1?U.month()===1?K++:D++:B++}catch{}else(U=new Date(it)).getUTCDate()===1?U.getUTCMonth()===0?K++:D++:B++}else q++;B+=D+=K;var rt=z.length-q;return{exactYears:K/rt,exactMonths:D/rt,exactDays:B/rt}}},2200:function(J,h,t){var f=t(3428),y=t(4248),i=t(2248),a=t(6524);function n(l){var u=l&&l.parentNode;u&&u.removeChild(l)}function r(l,u,m){var _="plotly.js-style-"+l,p=document.getElementById(_);p||((p=document.createElement("style")).setAttribute("id",_),p.appendChild(document.createTextNode("")),document.head.appendChild(p));var v=p.sheet;v.insertRule?v.insertRule(u+"{"+m+"}",0):v.addRule?v.addRule(u,m,0):y.warn("addStyleRule failed")}function o(l){var u=window.getComputedStyle(l,null),m=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("-moz-transform")||u.getPropertyValue("-ms-transform")||u.getPropertyValue("-o-transform")||u.getPropertyValue("transform");return m==="none"?null:m.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(_){return+_})}function s(l){for(var u=[];e(l);)u.push(l),l=l.parentNode;return u}function e(l){return l&&(l instanceof Element||l instanceof HTMLElement)}J.exports={getGraphDiv:function(l){var u;if(typeof l=="string"){if((u=document.getElementById(l))===null)throw new Error("No DOM element with id '"+l+"' exists on the page.");return u}if(l==null)throw new Error("DOM element provided is null or undefined");return l},isPlotDiv:function(l){var u=f.select(l);return u.node()instanceof HTMLElement&&u.size()&&u.classed("js-plotly-plot")},removeElement:n,addStyleRule:function(l,u){r("global",l,u)},addRelatedStyleRule:r,deleteRelatedStyleRule:function(l){var u="plotly.js-style-"+l,m=document.getElementById(u);m&&n(m)},getFullTransformMatrix:function(l){var u=s(l),m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return u.forEach(function(_){var p=o(_);if(p){var v=i.convertCssMatrix(p);m=a.multiply(m,m,v)}}),m},getElementTransformMatrix:o,getElementAndAncestors:s,equalDomRects:function(l,u){return l&&u&&l.top===u.top&&l.left===u.left&&l.right===u.right&&l.bottom===u.bottom}}},5924:function(J,h,t){var f=t(1252).EventEmitter,y={init:function(i){if(i._ev instanceof f)return i;var a=new f,n=new f;return i._ev=a,i._internalEv=n,i.on=a.on.bind(a),i.once=a.once.bind(a),i.removeListener=a.removeListener.bind(a),i.removeAllListeners=a.removeAllListeners.bind(a),i._internalOn=n.on.bind(n),i._internalOnce=n.once.bind(n),i._removeInternalListener=n.removeListener.bind(n),i._removeAllInternalListeners=n.removeAllListeners.bind(n),i.emit=function(r,o){typeof jQuery<"u"&&jQuery(i).trigger(r,o),a.emit(r,o),n.emit(r,o)},i},triggerHandler:function(i,a,n){var r,o;typeof jQuery<"u"&&(r=jQuery(i).triggerHandler(a,n));var s=i._ev;if(!s)return r;var e,l=s._events[a];if(!l)return r;function u(m){return m.listener?(s.removeListener(a,m.listener),m.fired?void 0:(m.fired=!0,m.listener.apply(s,[n]))):m.apply(s,[n])}for(l=Array.isArray(l)?l:[l],e=0;e<l.length-1;e++)u(l[e]);return o=u(l[e]),r!==void 0?r:o},purge:function(i){return delete i._ev,delete i.on,delete i.once,delete i.removeListener,delete i.removeAllListeners,delete i.emit,delete i._ev,delete i._internalEv,delete i._internalOn,delete i._internalOnce,delete i._removeInternalListener,delete i._removeAllInternalListeners,i}};J.exports=y},2880:function(J,h,t){var f=t(3620),y=Array.isArray;function i(a,n,r,o){var s,e,l,u,m,_,p,v=a[0],g=a.length;if(g===2&&y(v)&&y(a[1])&&v.length===0){if(p=function(d,T){var w,k;for(w=0;w<d.length;w++){if((k=d[w])!==null&&typeof k=="object")return!1;k!==void 0&&(T[w]=k)}return!0}(a[1],v),p)return v;v.splice(0,v.length)}for(var b=1;b<g;b++)for(e in s=a[b])l=v[e],u=s[e],o&&y(u)?v[e]=u:n&&u&&(f(u)||(m=y(u)))?(m?(m=!1,_=l&&y(l)?l:[]):_=l&&f(l)?l:{},v[e]=i([_,u],n,r,o)):(u!==void 0||r)&&(v[e]=u);return v}h.extendFlat=function(){return i(arguments,!1,!1,!1)},h.extendDeep=function(){return i(arguments,!0,!1,!1)},h.extendDeepAll=function(){return i(arguments,!0,!0,!1)},h.extendDeepNoArrays=function(){return i(arguments,!0,!1,!0)}},8944:function(J){J.exports=function(h){for(var t={},f=[],y=0,i=0;i<h.length;i++){var a=h[i];t[a]!==1&&(t[a]=1,f[y++]=a)}return f}},3880:function(J){function h(f){return f.visible===!0}function t(f){var y=f[0].trace;return y.visible===!0&&y._length!==0}J.exports=function(f){for(var y,i=(y=f,Array.isArray(y)&&Array.isArray(y[0])&&y[0][0]&&y[0][0].trace?t:h),a=[],n=0;n<f.length;n++){var r=f[n];i(r)&&a.push(r)}return a}},2348:function(J,h,t){var f,y,i,a=t(435).mod;function n(o,s,e,l,u,m,_,p){var v=e-o,g=u-o,b=_-u,d=l-s,T=m-s,w=p-m,k=v*w-b*d;if(k===0)return null;var P=(g*w-b*T)/k,A=(g*d-v*T)/k;return A<0||A>1||P<0||P>1?null:{x:o+v*P,y:s+d*P}}function r(o,s,e,l,u){var m=l*o+u*s;if(m<0)return l*l+u*u;if(m>e){var _=l-o,p=u-s;return _*_+p*p}var v=l*s-u*o;return v*v/e}h.segmentsIntersect=n,h.segmentDistance=function(o,s,e,l,u,m,_,p){if(n(o,s,e,l,u,m,_,p))return 0;var v=e-o,g=l-s,b=_-u,d=p-m,T=v*v+g*g,w=b*b+d*d,k=Math.min(r(v,g,T,u-o,m-s),r(v,g,T,_-o,p-s),r(b,d,w,o-u,s-m),r(b,d,w,e-u,l-m));return Math.sqrt(k)},h.getTextLocation=function(o,s,e,l){if(o===y&&l===i||(f={},y=o,i=l),f[e])return f[e];var u=o.getPointAtLength(a(e-l/2,s)),m=o.getPointAtLength(a(e+l/2,s)),_=Math.atan((m.y-u.y)/(m.x-u.x)),p=o.getPointAtLength(a(e,s)),v={x:(4*p.x+u.x+m.x)/6,y:(4*p.y+u.y+m.y)/6,theta:_};return f[e]=v,v},h.clearLocationCache=function(){y=null},h.getVisibleSegment=function(o,s,e){var l,u,m=s.left,_=s.right,p=s.top,v=s.bottom,g=0,b=o.getTotalLength(),d=b;function T(k){var P=o.getPointAtLength(k);k===0?l=P:k===b&&(u=P);var A=P.x<m?m-P.x:P.x>_?P.x-_:0,L=P.y<p?p-P.y:P.y>v?P.y-v:0;return Math.sqrt(A*A+L*L)}for(var w=T(g);w;){if((g+=w+e)>d)return;w=T(g)}for(w=T(d);w;){if(g>(d-=w+e))return;w=T(d)}return{min:g,max:d,len:d-g,total:b,isClosed:g===0&&d===b&&Math.abs(l.x-u.x)<.1&&Math.abs(l.y-u.y)<.1}},h.findPointOnPath=function(o,s,e,l){for(var u,m,_,p=(l=l||{}).pathLength||o.getTotalLength(),v=l.tolerance||.001,g=l.iterationLimit||30,b=o.getPointAtLength(0)[e]>o.getPointAtLength(p)[e]?-1:1,d=0,T=0,w=p;d<g;){if(u=(T+w)/2,_=(m=o.getPointAtLength(u))[e]-s,Math.abs(_)<v)return m;b*_>0?w=u:T=u,d++}return m}},5536:function(J){J.exports=function(h){return h}},1396:function(J){J.exports=function(h,t){if(!t)return h;var f=1/Math.abs(t),y=f>1?(f*h+f*t)/f:h+t,i=String(y).length;if(i>16){var a=String(t).length;if(i>=String(h).length+a){var n=parseFloat(y).toPrecision(12);n.indexOf("e+")===-1&&(y=+n)}}return y}},3400:function(J,h,t){var f=t(3428),y=t(4336).E9,i=t(7624).E9,a=t(8248),n=t(9032),r=n.FP_SAFE,o=-r,s=n.BADNUM,e=J.exports={};e.adjustFormat=function(E){return!E||/^\d[.]\df/.test(E)||/[.]\d%/.test(E)?E:E==="0.f"?"~f":/^\d%/.test(E)?"~%":/^\ds/.test(E)?"~s":!/^[~,.0$]/.test(E)&&/[&fps]/.test(E)?"~"+E:E};var l={};e.warnBadFormat=function(E){var S=String(E);l[S]||(l[S]=1,e.warn('encountered bad format: "'+S+'"'))},e.noFormat=function(E){return String(E)},e.numberFormat=function(E){var S;try{S=i(e.adjustFormat(E))}catch{return e.warnBadFormat(E),e.noFormat}return S},e.nestedProperty=t(2296),e.keyedContainer=t(7804),e.relativeAttr=t(3193),e.isPlainObject=t(3620),e.toLogRange=t(6896),e.relinkPrivateKeys=t(1528);var u=t(8116);e.isArrayBuffer=u.isArrayBuffer,e.isTypedArray=u.isTypedArray,e.isArrayOrTypedArray=u.isArrayOrTypedArray,e.isArray1D=u.isArray1D,e.ensureArray=u.ensureArray,e.concat=u.concat,e.maxRowLength=u.maxRowLength,e.minRowLength=u.minRowLength;var m=t(435);e.mod=m.mod,e.modHalf=m.modHalf;var _=t(3064);e.valObjectMeta=_.valObjectMeta,e.coerce=_.coerce,e.coerce2=_.coerce2,e.coerceFont=_.coerceFont,e.coercePattern=_.coercePattern,e.coerceHoverinfo=_.coerceHoverinfo,e.coerceSelectionMarkerOpacity=_.coerceSelectionMarkerOpacity,e.validate=_.validate;var p=t(7555);e.dateTime2ms=p.dateTime2ms,e.isDateTime=p.isDateTime,e.ms2DateTime=p.ms2DateTime,e.ms2DateTimeLocal=p.ms2DateTimeLocal,e.cleanDate=p.cleanDate,e.isJSDate=p.isJSDate,e.formatDate=p.formatDate,e.incrementMonth=p.incrementMonth,e.dateTick0=p.dateTick0,e.dfltRange=p.dfltRange,e.findExactDates=p.findExactDates,e.MIN_MS=p.MIN_MS,e.MAX_MS=p.MAX_MS;var v=t(4952);e.findBin=v.findBin,e.sorterAsc=v.sorterAsc,e.sorterDes=v.sorterDes,e.distinctVals=v.distinctVals,e.roundUp=v.roundUp,e.sort=v.sort,e.findIndexOfMin=v.findIndexOfMin,e.sortObjectKeys=t(2996);var g=t(3084);e.aggNums=g.aggNums,e.len=g.len,e.mean=g.mean,e.median=g.median,e.midRange=g.midRange,e.variance=g.variance,e.stdev=g.stdev,e.interp=g.interp;var b=t(2248);e.init2dArray=b.init2dArray,e.transposeRagged=b.transposeRagged,e.dot=b.dot,e.translationMatrix=b.translationMatrix,e.rotationMatrix=b.rotationMatrix,e.rotationXYMatrix=b.rotationXYMatrix,e.apply3DTransform=b.apply3DTransform,e.apply2DTransform=b.apply2DTransform,e.apply2DTransform2=b.apply2DTransform2,e.convertCssMatrix=b.convertCssMatrix,e.inverseTransformMatrix=b.inverseTransformMatrix;var d=t(1864);e.deg2rad=d.deg2rad,e.rad2deg=d.rad2deg,e.angleDelta=d.angleDelta,e.angleDist=d.angleDist,e.isFullCircle=d.isFullCircle,e.isAngleInsideSector=d.isAngleInsideSector,e.isPtInsideSector=d.isPtInsideSector,e.pathArc=d.pathArc,e.pathSector=d.pathSector,e.pathAnnulus=d.pathAnnulus;var T=t(8308);e.isLeftAnchor=T.isLeftAnchor,e.isCenterAnchor=T.isCenterAnchor,e.isRightAnchor=T.isRightAnchor,e.isTopAnchor=T.isTopAnchor,e.isMiddleAnchor=T.isMiddleAnchor,e.isBottomAnchor=T.isBottomAnchor;var w=t(2348);e.segmentsIntersect=w.segmentsIntersect,e.segmentDistance=w.segmentDistance,e.getTextLocation=w.getTextLocation,e.clearLocationCache=w.clearLocationCache,e.getVisibleSegment=w.getVisibleSegment,e.findPointOnPath=w.findPointOnPath;var k=t(2880);e.extendFlat=k.extendFlat,e.extendDeep=k.extendDeep,e.extendDeepAll=k.extendDeepAll,e.extendDeepNoArrays=k.extendDeepNoArrays;var P=t(4248);e.log=P.log,e.warn=P.warn,e.error=P.error;var A=t(3756);e.counterRegex=A.counter;var L=t(1200);e.throttle=L.throttle,e.throttleDone=L.done,e.clearThrottle=L.clear;var I=t(2200);function x(E){var S={};for(var Y in E)for(var Z=E[Y],G=0;G<Z.length;G++)S[Z[G]]=+Y;return S}e.getGraphDiv=I.getGraphDiv,e.isPlotDiv=I.isPlotDiv,e.removeElement=I.removeElement,e.addStyleRule=I.addStyleRule,e.addRelatedStyleRule=I.addRelatedStyleRule,e.deleteRelatedStyleRule=I.deleteRelatedStyleRule,e.getFullTransformMatrix=I.getFullTransformMatrix,e.getElementTransformMatrix=I.getElementTransformMatrix,e.getElementAndAncestors=I.getElementAndAncestors,e.equalDomRects=I.equalDomRects,e.clearResponsive=t(5352),e.preserveDrawingBuffer=t(4296),e.makeTraceGroups=t(988),e._=t(8356),e.notifier=t(1792),e.filterUnique=t(8944),e.filterVisible=t(3880),e.pushUnique=t(2416),e.increment=t(1396),e.cleanNumber=t(4037),e.ensureNumber=function(E){return a(E)?(E=Number(E))>r||E<o?s:E:s},e.isIndex=function(E,S){return!(S!==void 0&&E>=S)&&a(E)&&E>=0&&E%1==0},e.noop=t(6628),e.identity=t(5536),e.repeat=function(E,S){for(var Y=new Array(S),Z=0;Z<S;Z++)Y[Z]=E;return Y},e.swapAttrs=function(E,S,Y,Z){Y||(Y="x"),Z||(Z="y");for(var G=0;G<S.length;G++){var Q=S[G],at=e.nestedProperty(E,Q.replace("?",Y)),tt=e.nestedProperty(E,Q.replace("?",Z)),_t=at.get();at.set(tt.get()),tt.set(_t)}},e.raiseToTop=function(E){E.parentNode.appendChild(E)},e.cancelTransition=function(E){return E.transition().duration(0)},e.constrain=function(E,S,Y){return S>Y?Math.max(Y,Math.min(S,E)):Math.max(S,Math.min(Y,E))},e.bBoxIntersect=function(E,S,Y){return Y=Y||0,E.left<=S.right+Y&&S.left<=E.right+Y&&E.top<=S.bottom+Y&&S.top<=E.bottom+Y},e.simpleMap=function(E,S,Y,Z,G){for(var Q=E.length,at=new Array(Q),tt=0;tt<Q;tt++)at[tt]=S(E[tt],Y,Z,G);return at},e.randstr=function E(S,Y,Z,G){if(Z||(Z=16),Y===void 0&&(Y=24),Y<=0)return"0";var Q,at,tt=Math.log(Math.pow(2,Y))/Math.log(Z),_t="";for(Q=2;tt===1/0;Q*=2)tt=Math.log(Math.pow(2,Y/Q))/Math.log(Z)*Q;var Pt=tt-Math.floor(tt);for(Q=0;Q<Math.floor(tt);Q++)_t=Math.floor(Math.random()*Z).toString(Z)+_t;Pt&&(at=Math.pow(Z,Pt),_t=Math.floor(Math.random()*at).toString(Z)+_t);var kt=parseInt(_t,Z);return S&&S[_t]||kt!==1/0&&kt>=Math.pow(2,Y)?G>10?(e.warn("randstr failed uniqueness"),_t):E(S,Y,Z,(G||0)+1):_t},e.OptionControl=function(E,S){E||(E={}),S||(S="opt");var Y={optionList:[],_newoption:function(Z){Z[S]=E,Y[Z.name]=Z,Y.optionList.push(Z)}};return Y["_"+S]=E,Y},e.smooth=function(E,S){if((S=Math.round(S)||0)<2)return E;var Y,Z,G,Q,at=E.length,tt=2*at,_t=2*S-1,Pt=new Array(_t),kt=new Array(at);for(Y=0;Y<_t;Y++)Pt[Y]=(1-Math.cos(Math.PI*(Y+1)/S))/(2*S);for(Y=0;Y<at;Y++){for(Q=0,Z=0;Z<_t;Z++)(G=Y+Z+1-S)<-at?G-=tt*Math.round(G/tt):G>=tt&&(G-=tt*Math.floor(G/tt)),G<0?G=-1-G:G>=at&&(G=tt-1-G),Q+=E[G]*Pt[Z];kt[Y]=Q}return kt},e.syncOrAsync=function(E,S,Y){var Z;function G(){return e.syncOrAsync(E,S,Y)}for(;E.length;)if((Z=(0,E.splice(0,1)[0])(S))&&Z.then)return Z.then(G);return Y&&Y(S)},e.stripTrailingSlash=function(E){return E.substr(-1)==="/"?E.substr(0,E.length-1):E},e.noneOrAll=function(E,S,Y){if(E){var Z,G=!1,Q=!0;for(Z=0;Z<Y.length;Z++)E[Y[Z]]!=null?G=!0:Q=!1;if(G&&!Q)for(Z=0;Z<Y.length;Z++)E[Y[Z]]=S[Y[Z]]}},e.mergeArray=function(E,S,Y,Z){var G=typeof Z=="function";if(e.isArrayOrTypedArray(E))for(var Q=Math.min(E.length,S.length),at=0;at<Q;at++){var tt=E[at];S[at][Y]=G?Z(tt):tt}},e.mergeArrayCastPositive=function(E,S,Y){return e.mergeArray(E,S,Y,function(Z){var G=+Z;return isFinite(G)&&G>0?G:0})},e.fillArray=function(E,S,Y,Z){if(Z=Z||e.identity,e.isArrayOrTypedArray(E))for(var G=0;G<S.length;G++)S[G][Y]=Z(E[G])},e.castOption=function(E,S,Y,Z){Z=Z||e.identity;var G=e.nestedProperty(E,Y).get();return e.isArrayOrTypedArray(G)?Array.isArray(S)&&e.isArrayOrTypedArray(G[S[0]])?Z(G[S[0]][S[1]]):Z(G[S]):G},e.extractOption=function(E,S,Y,Z){if(Y in E)return E[Y];var G=e.nestedProperty(S,Z).get();return Array.isArray(G)?void 0:G},e.tagSelected=function(E,S,Y){var Z,G,Q=S.selectedpoints,at=S._indexToPoints;at&&(Z=x(at));for(var tt=0;tt<Q.length;tt++){var _t=Q[tt];if(e.isIndex(_t)||e.isArrayOrTypedArray(_t)&&e.isIndex(_t[0])&&e.isIndex(_t[1])){var Pt=Z?Z[_t]:_t,kt=Y?Y[Pt]:Pt;(G=kt)!==void 0&&G<E.length&&(E[kt].selected=1)}}},e.selIndices2selPoints=function(E){var S=E.selectedpoints,Y=E._indexToPoints;if(Y){for(var Z=x(Y),G=[],Q=0;Q<S.length;Q++){var at=S[Q];if(e.isIndex(at)){var tt=Z[at];e.isIndex(tt)&&G.push(tt)}}return G}return S},e.getTargetArray=function(E,S){var Y=S.target;if(typeof Y=="string"&&Y){var Z=e.nestedProperty(E,Y).get();return!!e.isArrayOrTypedArray(Z)&&Z}return!!e.isArrayOrTypedArray(Y)&&Y},e.minExtend=function E(S,Y,Z){var G={};typeof Y!="object"&&(Y={});var Q,at,tt,_t=Z==="pieLike"?-1:3,Pt=Object.keys(S);for(Q=0;Q<Pt.length;Q++)tt=S[at=Pt[Q]],at.charAt(0)!=="_"&&typeof tt!="function"&&(at==="module"?G[at]=tt:Array.isArray(tt)?G[at]=at==="colorscale"||_t===-1?tt.slice():tt.slice(0,_t):e.isTypedArray(tt)?G[at]=_t===-1?tt.subarray():tt.subarray(0,_t):G[at]=tt&&typeof tt=="object"?E(S[at],Y[at],Z):tt);for(Pt=Object.keys(Y),Q=0;Q<Pt.length;Q++)typeof(tt=Y[at=Pt[Q]])=="object"&&at in G&&typeof G[at]=="object"||(G[at]=tt);return G},e.titleCase=function(E){return E.charAt(0).toUpperCase()+E.substr(1)},e.containsAny=function(E,S){for(var Y=0;Y<S.length;Y++)if(E.indexOf(S[Y])!==-1)return!0;return!1},e.isIE=function(){return window.navigator.msSaveBlob!==void 0};var C=/Version\/[\d\.]+.*Safari/;e.isSafari=function(){return C.test(window.navigator.userAgent)};var F=/iPad|iPhone|iPod/;e.isIOS=function(){return F.test(window.navigator.userAgent)};var N=/Firefox\/(\d+)\.\d+/;e.getFirefoxVersion=function(){var E=N.exec(window.navigator.userAgent);if(E&&E.length===2){var S=parseInt(E[1]);if(!isNaN(S))return S}return null},e.isD3Selection=function(E){return E instanceof f.selection},e.ensureSingle=function(E,S,Y,Z){var G=E.select(S+(Y?"."+Y:""));if(G.size())return G;var Q=E.append(S);return Y&&Q.classed(Y,!0),Z&&Q.call(Z),Q},e.ensureSingleById=function(E,S,Y,Z){var G=E.select(S+"#"+Y);if(G.size())return G;var Q=E.append(S).attr("id",Y);return Z&&Q.call(Z),Q},e.objectFromPath=function(E,S){for(var Y,Z=E.split("."),G=Y={},Q=0;Q<Z.length;Q++){var at=Z[Q],tt=null,_t=Z[Q].match(/(.*)\[([0-9]+)\]/);_t?(at=_t[1],tt=_t[2],Y=Y[at]=[],Q===Z.length-1?Y[tt]=S:Y[tt]={},Y=Y[tt]):(Q===Z.length-1?Y[at]=S:Y[at]={},Y=Y[at])}return G};var j=/^([^\[\.]+)\.(.+)?/,z=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function H(E){return E.slice(0,2)==="__"}e.expandObjectPaths=function(E){var S,Y,Z,G,Q,at,tt;if(typeof E=="object"&&!Array.isArray(E)){for(Y in E)if(E.hasOwnProperty(Y))if(S=Y.match(j)){if(G=E[Y],H(Z=S[1]))continue;delete E[Y],E[Z]=e.extendDeepNoArrays(E[Z]||{},e.objectFromPath(Y,e.expandObjectPaths(G))[Z])}else if(S=Y.match(z)){if(G=E[Y],H(Z=S[1]))continue;if(Q=parseInt(S[2]),delete E[Y],E[Z]=E[Z]||[],S[3]===".")tt=S[4],at=E[Z][Q]=E[Z][Q]||{},e.extendDeepNoArrays(at,e.objectFromPath(tt,e.expandObjectPaths(G)));else{if(H(Z))continue;E[Z][Q]=e.expandObjectPaths(G)}}else{if(H(Y))continue;E[Y]=e.expandObjectPaths(E[Y])}}return E},e.numSeparate=function(E,S,Y){if(Y||(Y=!1),typeof S!="string"||S.length===0)throw new Error("Separator string required for formatting!");typeof E=="number"&&(E=String(E));var Z=/(\d+)(\d{3})/,G=S.charAt(0),Q=S.charAt(1),at=E.split("."),tt=at[0],_t=at.length>1?G+at[1]:"";if(Q&&(at.length>1||tt.length>4||Y))for(;Z.test(tt);)tt=tt.replace(Z,"$1"+Q+"$2");return tt+_t},e.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var U=/^\w*$/;e.templateString=function(E,S){var Y={};return E.replace(e.TEMPLATE_STRING_REGEX,function(Z,G){var Q;return U.test(G)?Q=S[G]:(Y[G]=Y[G]||e.nestedProperty(S,G).get,Q=Y[G]()),e.isValidTextValue(Q)?Q:""})};var it={max:10,count:0,name:"hovertemplate"};e.hovertemplateString=function(){return nt.apply(it,arguments)};var K={max:10,count:0,name:"texttemplate"};e.texttemplateString=function(){return nt.apply(K,arguments)};var D=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/,B={max:10,count:0,name:"texttemplate",parseMultDiv:!0};e.texttemplateStringForShapes=function(){return nt.apply(B,arguments)};var q=/^[:|\|]/;function nt(E,S,Y){var Z=this,G=arguments;S||(S={});var Q={};return E.replace(e.TEMPLATE_STRING_REGEX,function(at,tt,_t){var Pt=tt==="_xother"||tt==="_yother",kt=tt==="_xother_"||tt==="_yother_",lt=tt==="xother_"||tt==="yother_",st=tt==="xother"||tt==="yother"||Pt||lt||kt,ht=tt;(Pt||kt)&&(ht=ht.substring(1)),(lt||kt)&&(ht=ht.substring(0,ht.length-1));var bt,pt,Dt,qt=null,ct=null;if(Z.parseMultDiv){var xt=function(Mt){var Tt=Mt.match(D);return Tt?{key:Tt[1],op:Tt[2],number:Number(Tt[3])}:{key:Mt,op:null,number:null}}(ht);ht=xt.key,qt=xt.op,ct=xt.number}if(st){if((bt=S[ht])===void 0)return""}else for(Dt=3;Dt<G.length;Dt++)if(pt=G[Dt]){if(pt.hasOwnProperty(ht)){bt=pt[ht];break}if(U.test(ht)||(bt=e.nestedProperty(pt,ht).get(),(bt=Q[ht]||e.nestedProperty(pt,ht).get())&&(Q[ht]=bt)),bt!==void 0)break}if(bt!==void 0&&(qt==="*"&&(bt*=ct),qt==="/"&&(bt/=ct)),bt===void 0&&Z)return Z.count<Z.max&&(e.warn("Variable '"+ht+"' in "+Z.name+" could not be found!"),bt=at),Z.count===Z.max&&e.warn("Too many "+Z.name+" warnings - additional warnings will be suppressed"),Z.count++,at;if(_t){var dt;if(_t[0]===":"&&(dt=Y?Y.numberFormat:e.numberFormat,bt!==""&&(bt=dt(_t.replace(q,""))(bt))),_t[0]==="|"){dt=Y?Y.timeFormat:y;var vt=e.dateTime2ms(bt);bt=e.formatDate(vt,_t.replace(q,""),!1,dt)}}else{var yt=ht+"Label";S.hasOwnProperty(yt)&&(bt=S[yt])}return st&&(bt="("+bt+")",(Pt||kt)&&(bt=" "+bt),(lt||kt)&&(bt+=" ")),bt})}e.subplotSort=function(E,S){for(var Y=Math.min(E.length,S.length)+1,Z=0,G=0,Q=0;Q<Y;Q++){var at=E.charCodeAt(Q)||0,tt=S.charCodeAt(Q)||0,_t=at>=48&&at<=57,Pt=tt>=48&&tt<=57;if(_t&&(Z=10*Z+at-48),Pt&&(G=10*G+tt-48),!_t||!Pt){if(Z!==G)return Z-G;if(at!==tt)return at-tt}}return G-Z};var ot=2e9;e.seedPseudoRandom=function(){ot=2e9},e.pseudoRandom=function(){var E=ot;return ot=(69069*ot+1)%4294967296,Math.abs(ot-E)<429496729?e.pseudoRandom():ot/4294967296},e.fillText=function(E,S,Y){var Z=Array.isArray(Y)?function(at){Y.push(at)}:function(at){Y.text=at},G=e.extractOption(E,S,"htx","hovertext");if(e.isValidTextValue(G))return Z(G);var Q=e.extractOption(E,S,"tx","text");return e.isValidTextValue(Q)?Z(Q):void 0},e.isValidTextValue=function(E){return E||E===0},e.formatPercent=function(E,S){S=S||0;for(var Y=(Math.round(100*E*Math.pow(10,S))*Math.pow(.1,S)).toFixed(S)+"%",Z=0;Z<S;Z++)Y.indexOf(".")!==-1&&(Y=(Y=Y.replace("0%","%")).replace(".%","%"));return Y},e.isHidden=function(E){var S=window.getComputedStyle(E).display;return!S||S==="none"},e.strTranslate=function(E,S){return E||S?"translate("+E+","+S+")":""},e.strRotate=function(E){return E?"rotate("+E+")":""},e.strScale=function(E){return E!==1?"scale("+E+")":""},e.getTextTransform=function(E){var S=E.noCenter,Y=E.textX,Z=E.textY,G=E.targetX,Q=E.targetY,at=E.anchorX||0,tt=E.anchorY||0,_t=E.rotate,Pt=E.scale;return Pt?Pt>1&&(Pt=1):Pt=0,e.strTranslate(G-Pt*(Y+at),Q-Pt*(Z+tt))+e.strScale(Pt)+(_t?"rotate("+_t+(S?"":" "+Y+" "+Z)+")":"")},e.setTransormAndDisplay=function(E,S){E.attr("transform",e.getTextTransform(S)),E.style("display",S.scale?null:"none")},e.ensureUniformFontSize=function(E,S){var Y=e.extendFlat({},S);return Y.size=Math.max(S.size,E._fullLayout.uniformtext.minsize||0),Y},e.join2=function(E,S,Y){var Z=E.length;return Z>1?E.slice(0,-1).join(S)+Y+E[Z-1]:E.join(S)},e.bigFont=function(E){return Math.round(1.2*E)};var rt=e.getFirefoxVersion(),$=rt!==null&&rt<86;e.getPositionFromD3Event=function(){return $?[f.event.layerX,f.event.layerY]:[f.event.offsetX,f.event.offsetY]}},3620:function(J){J.exports=function(h){return window&&window.process&&window.process.versions?Object.prototype.toString.call(h)==="[object Object]":Object.prototype.toString.call(h)==="[object Object]"&&Object.getPrototypeOf(h).hasOwnProperty("hasOwnProperty")}},7804:function(J,h,t){var f=t(2296),y=/^\w*$/;J.exports=function(i,a,n,r){var o,s,e;n=n||"name",r=r||"value";var l={};a&&a.length?(e=f(i,a),s=e.get()):s=i,a=a||"";var u={};if(s)for(o=0;o<s.length;o++)u[s[o][n]]=o;var m=y.test(r),_={set:function(p,v){var g=v===null?4:0;if(!s){if(!e||g===4)return;s=[],e.set(s)}var b=u[p];if(b===void 0){if(g===4)return;g|=3,b=s.length,u[p]=b}else v!==(m?s[b][r]:f(s[b],r).get())&&(g|=2);var d=s[b]=s[b]||{};return d[n]=p,m?d[r]=v:f(d,r).set(v),v!==null&&(g&=-5),l[b]=l[b]|g,_},get:function(p){if(s){var v=u[p];return v===void 0?void 0:m?s[v][r]:f(s[v],r).get()}},rename:function(p,v){var g=u[p];return g===void 0||(l[g]=1|l[g],u[v]=g,delete u[p],s[g][n]=v),_},remove:function(p){var v=u[p];if(v===void 0)return _;var g=s[v];if(Object.keys(g).length>2)return l[v]=2|l[v],_.set(p,null);if(m){for(o=v;o<s.length;o++)l[o]=3|l[o];for(o=v;o<s.length;o++)u[s[o][n]]--;s.splice(v,1),delete u[p]}else f(g,r).set(null),l[v]=6|l[v];return _},constructUpdate:function(){for(var p,v,g={},b=Object.keys(l),d=0;d<b.length;d++)v=b[d],p=a+"["+v+"]",s[v]?(1&l[v]&&(g[p+"."+n]=s[v][n]),2&l[v]&&(g[p+"."+r]=m?4&l[v]?null:s[v][r]:4&l[v]?null:f(s[v],r).get())):g[p]=null;return g}};return _}},8356:function(J,h,t){var f=t(4040);J.exports=function(y,i){for(var a=y._context.locale,n=0;n<2;n++){for(var r=y._context.locales,o=0;o<2;o++){var s=(r[a]||{}).dictionary;if(s){var e=s[i];if(e)return e}r=f.localeRegistry}var l=a.split("-")[0];if(l===a)break;a=l}return i}},4248:function(J,h,t){var f=t(556).dfltConfig,y=t(1792),i=J.exports={};i.log=function(){var a;if(f.logging>1){var n=["LOG:"];for(a=0;a<arguments.length;a++)n.push(arguments[a]);console.trace.apply(console,n)}if(f.notifyOnLogging>1){var r=[];for(a=0;a<arguments.length;a++)r.push(arguments[a]);y(r.join("<br>"),"long")}},i.warn=function(){var a;if(f.logging>0){var n=["WARN:"];for(a=0;a<arguments.length;a++)n.push(arguments[a]);console.trace.apply(console,n)}if(f.notifyOnLogging>0){var r=[];for(a=0;a<arguments.length;a++)r.push(arguments[a]);y(r.join("<br>"),"stick")}},i.error=function(){var a;if(f.logging>0){var n=["ERROR:"];for(a=0;a<arguments.length;a++)n.push(arguments[a]);console.error.apply(console,n)}if(f.notifyOnLogging>0){var r=[];for(a=0;a<arguments.length;a++)r.push(arguments[a]);y(r.join("<br>"),"stick")}}},988:function(J,h,t){var f=t(3428);J.exports=function(y,i,a){var n=y.selectAll("g."+a.replace(/\s/g,".")).data(i,function(o){return o[0].trace.uid});n.exit().remove(),n.enter().append("g").attr("class",a),n.order();var r=y.classed("rangeplot")?"nodeRangePlot3":"node3";return n.each(function(o){o[0][r]=f.select(this)}),n}},2248:function(J,h,t){var f=t(6524);h.init2dArray=function(y,i){for(var a=new Array(y),n=0;n<y;n++)a[n]=new Array(i);return a},h.transposeRagged=function(y){var i,a,n=0,r=y.length;for(i=0;i<r;i++)n=Math.max(n,y[i].length);var o=new Array(n);for(i=0;i<n;i++)for(o[i]=new Array(r),a=0;a<r;a++)o[i][a]=y[a][i];return o},h.dot=function(y,i){if(!y.length||!i.length||y.length!==i.length)return null;var a,n,r=y.length;if(y[0].length)for(a=new Array(r),n=0;n<r;n++)a[n]=h.dot(y[n],i);else if(i[0].length){var o=h.transposeRagged(i);for(a=new Array(o.length),n=0;n<o.length;n++)a[n]=h.dot(y,o[n])}else for(a=0,n=0;n<r;n++)a+=y[n]*i[n];return a},h.translationMatrix=function(y,i){return[[1,0,y],[0,1,i],[0,0,1]]},h.rotationMatrix=function(y){var i=y*Math.PI/180;return[[Math.cos(i),-Math.sin(i),0],[Math.sin(i),Math.cos(i),0],[0,0,1]]},h.rotationXYMatrix=function(y,i,a){return h.dot(h.dot(h.translationMatrix(i,a),h.rotationMatrix(y)),h.translationMatrix(-i,-a))},h.apply3DTransform=function(y){return function(){var i=arguments,a=arguments.length===1?i[0]:[i[0],i[1],i[2]||0];return h.dot(y,[a[0],a[1],a[2],1]).slice(0,3)}},h.apply2DTransform=function(y){return function(){var i=arguments;i.length===3&&(i=i[0]);var a=arguments.length===1?i[0]:[i[0],i[1]];return h.dot(y,[a[0],a[1],1]).slice(0,2)}},h.apply2DTransform2=function(y){var i=h.apply2DTransform(y);return function(a){return i(a.slice(0,2)).concat(i(a.slice(2,4)))}},h.convertCssMatrix=function(y){if(y){var i=y.length;if(i===16)return y;if(i===6)return[y[0],y[1],0,0,y[2],y[3],0,0,0,0,1,0,y[4],y[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},h.inverseTransformMatrix=function(y){var i=[];return f.invert(i,y),[[i[0],i[1],i[2],i[3]],[i[4],i[5],i[6],i[7]],[i[8],i[9],i[10],i[11]],[i[12],i[13],i[14],i[15]]]}},435:function(J){J.exports={mod:function(h,t){var f=h%t;return f<0?f+t:f},modHalf:function(h,t){return Math.abs(h)>t/2?h-Math.round(h/t)*t:h}}},2296:function(J,h,t){var f=t(8248),y=t(8116).isArrayOrTypedArray;function i(l,u){return function(){var m,_,p,v,g,b=l;for(v=0;v<u.length-1;v++){if((m=u[v])===-1){for(_=!0,p=[],g=0;g<b.length;g++)p[g]=i(b[g],u.slice(v+1))(),p[g]!==p[0]&&(_=!1);return _?p[0]:p}if(typeof m=="number"&&!y(b)||typeof(b=b[m])!="object"||b===null)return}if(typeof b=="object"&&b!==null&&(p=b[u[v]])!==null)return p}}J.exports=function(l,u){if(f(u))u=String(u);else if(typeof u!="string"||u.substr(u.length-4)==="[-1]")throw"bad property string";var m,_,p,v,g=u.split(".");for(v=0;v<g.length;v++)if(String(g[v]).slice(0,2)==="__")throw"bad property string";for(v=0;v<g.length;){if(m=String(g[v]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(m[1])g[v]=m[1];else{if(v!==0)throw"bad property string";g.splice(0,1)}for(_=m[2].substr(1,m[2].length-2).split("]["),p=0;p<_.length;p++)v++,g.splice(v,0,Number(_[p]))}v++}return typeof l!="object"?function(b,d,T){return{set:function(){throw"bad container"},get:function(){},astr:d,parts:T,obj:b}}(l,u,g):{set:r(l,g,u),get:i(l,g),astr:u,parts:g,obj:l}};var a=/(^|\.)args\[/;function n(l,u){return l===void 0||l===null&&!u.match(a)}function r(l,u,m){return function(_){var p,v,g=l,b="",d=n(_,m);for(v=0;v<u.length-1;v++){if(typeof(p=u[v])=="number"&&!y(g))throw"array index but container is not an array";if(p===-1){if(d=!s(g,u.slice(v+1),_,m))break;return}if(!e(g,p,u[v+1],d))break;if(typeof(g=g[p])!="object"||g===null)throw"container is not an object";b=o(b,p)}if(d){if(v===u.length-1&&(delete g[u[v]],Array.isArray(g)&&+u[v]==g.length-1))for(;g.length&&g[g.length-1]===void 0;)g.pop()}else g[u[v]]=_}}function o(l,u){var m=u;return f(u)?m="["+u+"]":l&&(m="."+u),l+m}function s(l,u,m,_){var p,v=y(m),g=!0,b=m,d=_.replace("-1",0),T=!v&&n(m,d),w=u[0];for(p=0;p<l.length;p++)d=_.replace("-1",p),v&&(T=n(b=m[p%m.length],d)),T&&(g=!1),e(l,p,w,T)&&r(l[p],u,_.replace("-1",p))(b);return g}function e(l,u,m,_){if(l[u]===void 0){if(_)return!1;l[u]=typeof m=="number"?[]:{}}return!0}},6628:function(J){J.exports=function(){}},1792:function(J,h,t){var f=t(3428),y=t(8248),i=[];J.exports=function(a,n){if(i.indexOf(a)===-1){i.push(a);var r=1e3;y(n)?r=n:n==="long"&&(r=3e3);var o=f.select("body").selectAll(".plotly-notifier").data([0]);o.enter().append("div").classed("plotly-notifier",!0),o.selectAll(".notifier-note").data(i).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(e){var l=f.select(this);l.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){l.transition().call(s)});for(var u=l.append("p"),m=e.split(/<br\s*\/?>/g),_=0;_<m.length;_++)_&&u.append("br"),u.append("span").text(m[_]);n==="stick"?l.transition().duration(350).style("opacity",1):l.transition().duration(700).style("opacity",1).transition().delay(r).call(s)})}function s(e){e.duration(700).style("opacity",0).each("end",function(l){var u=i.indexOf(l);u!==-1&&i.splice(u,1),f.select(this).remove()})}}},2213:function(J,h,t){var f=t(3972),y="data-savedcursor";J.exports=function(i,a){var n=i.attr(y);if(a){if(!n){for(var r=(i.attr("class")||"").split(" "),o=0;o<r.length;o++){var s=r[o];s.indexOf("cursor-")===0&&i.attr(y,s.substr(7)).classed(s,!1)}i.attr(y)||i.attr(y,"!!")}f(i,a)}else n&&(i.attr(y,null),n==="!!"?f(i):f(i,n))}},2065:function(J,h,t){var f=t(2248).dot,y=t(9032).BADNUM,i=J.exports={};i.tester=function(a){var n,r=a.slice(),o=r[0][0],s=o,e=r[0][1],l=e;for(r[r.length-1][0]===r[0][0]&&r[r.length-1][1]===r[0][1]||r.push(r[0]),n=1;n<r.length;n++)o=Math.min(o,r[n][0]),s=Math.max(s,r[n][0]),e=Math.min(e,r[n][1]),l=Math.max(l,r[n][1]);var u,m=!1;r.length===5&&(r[0][0]===r[1][0]?r[2][0]===r[3][0]&&r[0][1]===r[3][1]&&r[1][1]===r[2][1]&&(m=!0,u=function(v){return v[0]===r[0][0]}):r[0][1]===r[1][1]&&r[2][1]===r[3][1]&&r[0][0]===r[3][0]&&r[1][0]===r[2][0]&&(m=!0,u=function(v){return v[1]===r[0][1]}));var _=!0,p=r[0];for(n=1;n<r.length;n++)if(p[0]!==r[n][0]||p[1]!==r[n][1]){_=!1;break}return{xmin:o,xmax:s,ymin:e,ymax:l,pts:r,contains:m?function(v,g){var b=v[0],d=v[1];return!(b===y||b<o||b>s||d===y||d<e||d>l||g&&u(v))}:function(v,g){var b=v[0],d=v[1];if(b===y||b<o||b>s||d===y||d<e||d>l)return!1;var T,w,k,P,A,L=r.length,I=r[0][0],x=r[0][1],C=0;for(T=1;T<L;T++)if(w=I,k=x,I=r[T][0],x=r[T][1],!(b<(P=Math.min(w,I))||b>Math.max(w,I)||d>Math.max(k,x)))if(d<Math.min(k,x))b!==P&&C++;else{if(d===(A=I===w?d:k+(b-w)*(x-k)/(I-w)))return T!==1||!g;d<=A&&b!==P&&C++}return C%2==1},isRect:m,degenerate:_}},i.isSegmentBent=function(a,n,r,o){var s,e,l,u=a[n],m=[a[r][0]-u[0],a[r][1]-u[1]],_=f(m,m),p=Math.sqrt(_),v=[-m[1]/p,m[0]/p];for(s=n+1;s<r;s++)if(e=[a[s][0]-u[0],a[s][1]-u[1]],(l=f(e,m))<0||l>_||Math.abs(f(e,v))>o)return!0;return!1},i.filter=function(a,n){var r=[a[0]],o=0,s=0;function e(l){a.push(l);var u=r.length,m=o;r.splice(s+1);for(var _=m+1;_<a.length;_++)(_===a.length-1||i.isSegmentBent(a,m,_+1,n))&&(r.push(a[_]),r.length<u-2&&(o=_,s=r.length-1),m=_)}return a.length>1&&e(a.pop()),{addPt:e,raw:a,filtered:r}}},4296:function(J,h,t){var f=t(8248),y=t(5928);J.exports=function(i){var a;if(typeof(a=i&&i.hasOwnProperty("userAgent")?i.userAgent:function(){var u;return typeof navigator<"u"&&(u=navigator.userAgent),u&&u.headers&&typeof u.headers["user-agent"]=="string"&&(u=u.headers["user-agent"]),u}())!="string")return!0;var n=y({ua:{headers:{"user-agent":a}},tablet:!0,featureDetect:!1});if(!n){for(var r=a.split(" "),o=1;o<r.length;o++)if(r[o].indexOf("Safari")!==-1)for(var s=o-1;s>-1;s--){var e=r[s];if(e.substr(0,8)==="Version/"){var l=e.substr(8).split(".")[0];if(f(l)&&(l=+l),l>=13)return!0}}}return n}},2416:function(J){J.exports=function(h,t){if(t instanceof RegExp){for(var f=t.toString(),y=0;y<h.length;y++)if(h[y]instanceof RegExp&&h[y].toString()===f)return h;h.push(t)}else!t&&t!==0||h.indexOf(t)!==-1||h.push(t);return h}},4552:function(J,h,t){var f=t(3400),y=t(556).dfltConfig,i={add:function(a,n,r,o,s){var e,l;a.undoQueue=a.undoQueue||{index:0,queue:[],sequence:!1},l=a.undoQueue.index,a.autoplay?a.undoQueue.inSequence||(a.autoplay=!1):(!a.undoQueue.sequence||a.undoQueue.beginSequence?(e={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},a.undoQueue.queue.splice(l,a.undoQueue.queue.length-l,e),a.undoQueue.index+=1):e=a.undoQueue.queue[l-1],a.undoQueue.beginSequence=!1,e&&(e.undo.calls.unshift(n),e.undo.args.unshift(r),e.redo.calls.push(o),e.redo.args.push(s)),a.undoQueue.queue.length>y.queueLength&&(a.undoQueue.queue.shift(),a.undoQueue.index--))},startSequence:function(a){a.undoQueue=a.undoQueue||{index:0,queue:[],sequence:!1},a.undoQueue.sequence=!0,a.undoQueue.beginSequence=!0},stopSequence:function(a){a.undoQueue=a.undoQueue||{index:0,queue:[],sequence:!1},a.undoQueue.sequence=!1,a.undoQueue.beginSequence=!1},undo:function(a){var n,r;if(!(a.undoQueue===void 0||isNaN(a.undoQueue.index)||a.undoQueue.index<=0)){for(a.undoQueue.index--,n=a.undoQueue.queue[a.undoQueue.index],a.undoQueue.inSequence=!0,r=0;r<n.undo.calls.length;r++)i.plotDo(a,n.undo.calls[r],n.undo.args[r]);a.undoQueue.inSequence=!1,a.autoplay=!1}},redo:function(a){var n,r;if(!(a.undoQueue===void 0||isNaN(a.undoQueue.index)||a.undoQueue.index>=a.undoQueue.queue.length)){for(n=a.undoQueue.queue[a.undoQueue.index],a.undoQueue.inSequence=!0,r=0;r<n.redo.calls.length;r++)i.plotDo(a,n.redo.calls[r],n.redo.args[r]);a.undoQueue.inSequence=!1,a.autoplay=!1,a.undoQueue.index++}},plotDo:function(a,n,r){a.autoplay=!0,r=function(o,s){for(var e,l=[],u=0;u<s.length;u++)e=s[u],l[u]=e===o?e:typeof e=="object"?Array.isArray(e)?f.extendDeep([],e):f.extendDeepAll({},e):e;return l}(a,r),n.apply(null,r)}};J.exports=i},3756:function(J,h){h.counter=function(t,f,y,i){var a=(f||"")+(y?"":"$"),n=i===!1?"":"^";return t==="xy"?new RegExp(n+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+a):new RegExp(n+t+"([2-9]|[1-9][0-9]+)?"+a)}},3193:function(J){var h=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,t=/^[^\.\[\]]+$/;J.exports=function(f,y){for(;y;){var i=f.match(h);if(i)f=i[1];else{if(!f.match(t))throw new Error("bad relativeAttr call:"+[f,y]);f=""}if(y.charAt(0)!=="^")break;y=y.slice(1)}return f&&y.charAt(0)!=="["?f+"."+y:f+y}},1528:function(J,h,t){var f=t(8116).isArrayOrTypedArray,y=t(3620);J.exports=function i(a,n){for(var r in n){var o=n[r],s=a[r];if(s!==o)if(r.charAt(0)==="_"||typeof o=="function"){if(r in a)continue;a[r]=o}else if(f(o)&&f(s)&&y(o[0])){if(r==="customdata"||r==="ids")continue;for(var e=Math.min(o.length,s.length),l=0;l<e;l++)s[l]!==o[l]&&y(o[l])&&y(s[l])&&i(s[l],o[l])}else y(o)&&y(s)&&(i(s,o),Object.keys(s).length||delete a[r])}}},4952:function(J,h,t){var f=t(8248),y=t(4248),i=t(5536),a=t(9032).BADNUM,n=1e-9;function r(l,u){return l<u}function o(l,u){return l<=u}function s(l,u){return l>u}function e(l,u){return l>=u}h.findBin=function(l,u,m){if(f(u.start))return m?Math.ceil((l-u.start)/u.size-n)-1:Math.floor((l-u.start)/u.size+n);var _,p,v=0,g=u.length,b=0,d=g>1?(u[g-1]-u[0])/(g-1):1;for(p=d>=0?m?r:o:m?e:s,l+=d*n*(m?-1:1)*(d>=0?1:-1);v<g&&b++<100;)p(u[_=Math.floor((v+g)/2)],l)?v=_+1:g=_;return b>90&&y.log("Long binary search..."),v-1},h.sorterAsc=function(l,u){return l-u},h.sorterDes=function(l,u){return u-l},h.distinctVals=function(l){var u,m=l.slice();for(m.sort(h.sorterAsc),u=m.length-1;u>-1&&m[u]===a;u--);for(var _,p=m[u]-m[0]||1,v=p/(u||1)/1e4,g=[],b=0;b<=u;b++){var d=m[b],T=d-_;_===void 0?(g.push(d),_=d):T>v&&(p=Math.min(p,T),g.push(d),_=d)}return{vals:g,minDiff:p}},h.roundUp=function(l,u,m){for(var _,p=0,v=u.length-1,g=0,b=m?0:1,d=m?1:0,T=m?Math.ceil:Math.floor;p<v&&g++<100;)u[_=T((p+v)/2)]<=l?p=_+b:v=_-d;return u[p]},h.sort=function(l,u){for(var m=0,_=0,p=1;p<l.length;p++){var v=u(l[p],l[p-1]);if(v<0?m=1:v>0&&(_=1),m&&_)return l.sort(u)}return _?l:l.reverse()},h.findIndexOfMin=function(l,u){u=u||i;for(var m,_=1/0,p=0;p<l.length;p++){var v=u(l[p]);v<_&&(_=v,m=p)}return m}},3972:function(J){J.exports=function(h,t){(h.attr("class")||"").split(" ").forEach(function(f){f.indexOf("cursor-")===0&&h.classed(f,!1)}),t&&h.classed("cursor-"+t,!0)}},2996:function(J){J.exports=function(h){return Object.keys(h).sort()}},3084:function(J,h,t){var f=t(8248),y=t(8116).isArrayOrTypedArray;h.aggNums=function(i,a,n,r){var o,s;if((!r||r>n.length)&&(r=n.length),f(a)||(a=!1),y(n[0])){for(s=new Array(r),o=0;o<r;o++)s[o]=h.aggNums(i,a,n[o]);n=s}for(o=0;o<r;o++)f(a)?f(n[o])&&(a=i(+a,+n[o])):a=n[o];return a},h.len=function(i){return h.aggNums(function(a){return a+1},0,i)},h.mean=function(i,a){return a||(a=h.len(i)),h.aggNums(function(n,r){return n+r},0,i)/a},h.midRange=function(i){if(i!==void 0&&i.length!==0)return(h.aggNums(Math.max,null,i)+h.aggNums(Math.min,null,i))/2},h.variance=function(i,a,n){return a||(a=h.len(i)),f(n)||(n=h.mean(i,a)),h.aggNums(function(r,o){return r+Math.pow(o-n,2)},0,i)/a},h.stdev=function(i,a,n){return Math.sqrt(h.variance(i,a,n))},h.median=function(i){var a=i.slice().sort();return h.interp(a,.5)},h.interp=function(i,a){if(!f(a))throw"n should be a finite number";if((a=a*i.length-.5)<0)return i[0];if(a>i.length-1)return i[i.length-1];var n=a%1;return n*i[Math.ceil(a)]+(1-n)*i[Math.floor(a)]}},2736:function(J,h,t){var f=t(3428),y=t(3400),i=y.strTranslate,a=t(9616),n=t(4284).LINE_SPACING,r=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;h.convertToTspans=function(z,H,U){var it=z.text(),K=!z.attr("data-notex")&&H&&H._context.typesetMath&&typeof MathJax<"u"&&it.match(r),D=f.select(z.node().parentNode);if(!D.empty()){var B=z.attr("class")?z.attr("class").split(" ")[0]:"text";return B+="-math",D.selectAll("svg."+B).remove(),D.selectAll("g."+B+"-group").remove(),z.style("display",null).attr({"data-unformatted":it,"data-math":"N"}),K?(H&&H._promises||[]).push(new Promise(function(nt){z.style("display","none");var ot=parseInt(z.node().style.fontSize,10),rt={fontSize:ot};(function($,E,S){var Y,Z,G,Q,at=parseInt((MathJax.version||"").split(".")[0]);if(at===2||at===3){var tt=function(){var Pt="math-output-"+y.randstr({},64),kt=(Q=f.select("body").append("div").attr({id:Pt}).style({visibility:"hidden",position:"absolute","font-size":E.fontSize+"px"}).text($.replace(o,"\\lt ").replace(s,"\\gt "))).node();return at===2?MathJax.Hub.Typeset(kt):MathJax.typeset([kt])},_t=function(){var Pt=Q.select(at===2?".MathJax_SVG":".MathJax"),kt=!Pt.empty()&&Q.select("svg").node();if(kt){var lt,st=kt.getBoundingClientRect();lt=at===2?f.select("body").select("#MathJax_SVG_glyphs"):Pt.select("defs"),S(Pt,lt,st)}else y.log("There was an error in the tex syntax.",$),S();Q.remove()};at===2?MathJax.Hub.Queue(function(){return Z=y.extendDeepAll({},MathJax.Hub.config),G=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:e},displayAlign:"left"})},function(){if((Y=MathJax.Hub.config.menuSettings.renderer)!=="SVG")return MathJax.Hub.setRenderer("SVG")},tt,_t,function(){if(Y!=="SVG")return MathJax.Hub.setRenderer(Y)},function(){return G!==void 0&&(MathJax.Hub.processSectionDelay=G),MathJax.Hub.Config(Z)}):at===3&&(Z=y.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=e,(Y=MathJax.config.startup.output)!=="svg"&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){tt(),_t(),Y!=="svg"&&(MathJax.config.startup.output=Y),MathJax.config=Z}))}else y.warn("No MathJax version:",MathJax.version)})(K[2],rt,function($,E,S){D.selectAll("svg."+B).remove(),D.selectAll("g."+B+"-group").remove();var Y=$&&$.select("svg");if(!Y||!Y.node())return q(),void nt();var Z=D.append("g").classed(B+"-group",!0).attr({"pointer-events":"none","data-unformatted":it,"data-math":"Y"});Z.node().appendChild(Y.node()),E&&E.node()&&Y.node().insertBefore(E.node().cloneNode(!0),Y.node().firstChild);var G=S.width,Q=S.height;Y.attr({class:B,height:Q,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var at=z.node().style.fill||"black",tt=Y.select("g");tt.attr({fill:at,stroke:at});var _t=tt.node().getBoundingClientRect(),Pt=_t.width,kt=_t.height;(Pt>G||kt>Q)&&(Y.style("overflow","hidden"),Pt=(_t=Y.node().getBoundingClientRect()).width,kt=_t.height);var lt=+z.attr("x"),st=+z.attr("y"),ht=-(ot||z.node().getBoundingClientRect().height)/4;if(B[0]==="y")Z.attr({transform:"rotate("+[-90,lt,st]+")"+i(-Pt/2,ht-kt/2)});else if(B[0]==="l")st=ht-kt/2;else if(B[0]==="a"&&B.indexOf("atitle")!==0)lt=0,st=ht;else{var bt=z.attr("text-anchor");lt-=Pt*(bt==="middle"?.5:bt==="end"?1:0),st=st+ht-kt/2}Y.attr({x:lt,y:st}),U&&U.call(z,Z),nt(Z)})})):q(),z}function q(){D.empty()||(B=z.attr("class")+"-math",D.select("svg."+B).remove()),z.text("").style("white-space","pre");var nt=function(ot,rt){rt=rt.replace(v," ");var $,E=!1,S=[],Y=-1;function Z(){Y++;var ct=document.createElementNS(a.svg,"tspan");f.select(ct).attr({class:"line",dy:Y*n+"em"}),ot.appendChild(ct),$=ct;var xt=S;if(S=[{node:ct}],xt.length>1)for(var dt=1;dt<xt.length;dt++)G(xt[dt])}function G(ct){var xt,dt=ct.type,vt={};if(dt==="a"){xt="a";var yt=ct.target,Mt=ct.href,Tt=ct.popup;Mt&&(vt={"xlink:xlink:show":yt==="_blank"||yt.charAt(0)!=="_"?"new":"replace",target:yt,"xlink:xlink:href":Mt},Tt&&(vt.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Tt+'");return false;'))}else xt="tspan";ct.style&&(vt.style=ct.style);var Lt=document.createElementNS(a.svg,xt);if(dt==="sup"||dt==="sub"){Q($,_),$.appendChild(Lt);var St=document.createElementNS(a.svg,"tspan");Q(St,_),f.select(St).attr("dy",m[dt]),vt.dy=u[dt],$.appendChild(Lt),$.appendChild(St)}else $.appendChild(Lt);f.select(Lt).attr(vt),$=ct.node=Lt,S.push(ct)}function Q(ct,xt){ct.appendChild(document.createTextNode(xt))}function at(ct){if(S.length!==1){var xt=S.pop();ct!==xt.type&&y.log("Start tag <"+xt.type+"> doesnt match end tag <"+ct+">. Pretending it did match.",rt),$=S[S.length-1].node}else y.log("Ignoring unexpected end tag </"+ct+">.",rt)}d.test(rt)?Z():($=ot,S=[{node:ot}]);for(var tt=rt.split(g),_t=0;_t<tt.length;_t++){var Pt=tt[_t],kt=Pt.match(b),lt=kt&&kt[2].toLowerCase(),st=l[lt];if(lt==="br")Z();else if(st===void 0)Q($,C(Pt));else if(kt[1])at(lt);else{var ht=kt[4],bt={type:lt},pt=A(ht,T);if(pt?(pt=pt.replace(L,"$1 fill:"),st&&(pt+=";"+st)):st&&(pt=st),pt&&(bt.style=pt),lt==="a"){E=!0;var Dt=A(ht,w);if(Dt){var qt=F(Dt);qt&&(bt.href=qt,bt.target=A(ht,k)||"_blank",bt.popup=A(ht,P))}}G(bt)}}return E}(z.node(),it);nt&&z.style("pointer-events","all"),h.positionText(z),U&&U.call(z)}};var o=/(<|&lt;|&#60;)/g,s=/(>|&gt;|&#62;)/g,e=[["$","$"],["\\(","\\)"]],l={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},u={sub:"0.3em",sup:"-0.6em"},m={sub:"-0.21em",sup:"0.42em"},_="​",p=["http:","https:","mailto:","",void 0,":"],v=h.NEWLINES=/(\r\n?|\n)/g,g=/(<[^<>]*>)/,b=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;h.BR_TAG_ALL=/<br(\s+.*)?>/gi;var T=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,w=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,k=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,P=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function A(z,H){if(!z)return null;var U=z.match(H),it=U&&(U[3]||U[4]);return it&&C(it)}var L=/(^|;)\s*color:/;h.plainText=function(z,H){for(var U=(H=H||{}).len!==void 0&&H.len!==-1?H.len:1/0,it=H.allowedTags!==void 0?H.allowedTags:["br"],K=z.split(g),D=[],B="",q=0,nt=0;nt<K.length;nt++){var ot=K[nt],rt=ot.match(b),$=rt&&rt[2].toLowerCase();if($)it.indexOf($)!==-1&&(D.push(ot),B=$);else{var E=ot.length;if(q+E<U)D.push(ot),q+=E;else if(q<U){var S=U-q;B&&(B!=="br"||S<=3||E<=3)&&D.pop(),U>3?D.push(ot.substr(0,S-3)+"..."):D.push(ot.substr(0,S));break}B=""}}return D.join("")};var I={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},x=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function C(z){return z.replace(x,function(H,U){return(U.charAt(0)==="#"?function(it){if(!(it>1114111)){var K=String.fromCodePoint;if(K)return K(it);var D=String.fromCharCode;return it<=65535?D(it):D(55232+(it>>10),it%1024+56320)}}(U.charAt(1)==="x"?parseInt(U.substr(2),16):parseInt(U.substr(1),10)):I[U])||H})}function F(z){var H=encodeURI(decodeURI(z)),U=document.createElement("a"),it=document.createElement("a");U.href=z,it.href=H;var K=U.protocol,D=it.protocol;return p.indexOf(K)!==-1&&p.indexOf(D)!==-1?H:""}function N(z,H,U){var it,K,D,B=U.horizontalAlign,q=U.verticalAlign||"top",nt=z.node().getBoundingClientRect(),ot=H.node().getBoundingClientRect();return K=q==="bottom"?function(){return nt.bottom-it.height}:q==="middle"?function(){return nt.top+(nt.height-it.height)/2}:function(){return nt.top},D=B==="right"?function(){return nt.right-it.width}:B==="center"?function(){return nt.left+(nt.width-it.width)/2}:function(){return nt.left},function(){it=this.node().getBoundingClientRect();var rt=D()-ot.left,$=K()-ot.top,E=U.gd||{};if(U.gd){E._fullLayout._calcInverseTransform(E);var S=y.apply3DTransform(E._fullLayout._invTransform)(rt,$);rt=S[0],$=S[1]}return this.style({top:$+"px",left:rt+"px","z-index":1e3}),this}}h.convertEntities=C,h.sanitizeHTML=function(z){z=z.replace(v," ");for(var H=document.createElement("p"),U=H,it=[],K=z.split(g),D=0;D<K.length;D++){var B=K[D],q=B.match(b),nt=q&&q[2].toLowerCase();if(nt in l)if(q[1])it.length&&(U=it.pop());else{var ot=q[4],rt=A(ot,T),$=rt?{style:rt}:{};if(nt==="a"){var E=A(ot,w);if(E){var S=F(E);if(S){$.href=S;var Y=A(ot,k);Y&&($.target=Y)}}}var Z=document.createElement(nt);U.appendChild(Z),f.select(Z).attr($),U=Z,it.push(Z)}else U.appendChild(document.createTextNode(C(B)))}return H.innerHTML},h.lineCount=function(z){return z.selectAll("tspan.line").size()||1},h.positionText=function(z,H,U){return z.each(function(){var it=f.select(this);function K(q,nt){return nt===void 0?(nt=it.attr(q))===null&&(it.attr(q,0),nt=0):it.attr(q,nt),nt}var D=K("x",H),B=K("y",U);this.nodeName==="text"&&it.selectAll("tspan.line").attr({x:D,y:B})})};var j="1px ";h.makeTextShadow=function(z){return j+j+j+z+", -"+j+"-"+j+j+z+", "+j+"-"+j+j+z+", -"+j+j+j+z},h.makeEditable=function(z,H){var U=H.gd,it=H.delegate,K=f.dispatch("edit","input","cancel"),D=it||z;if(z.style({"pointer-events":it?"none":"all"}),z.size()!==1)throw new Error("boo");function B(){var nt,ot,rt,$,E;nt=f.select(U).select(".svg-container"),ot=nt.append("div"),rt=z.node().style,$=parseFloat(rt.fontSize||12),(E=H.text)===void 0&&(E=z.attr("data-unformatted")),ot.classed("plugin-editable editable",!0).style({position:"absolute","font-family":rt.fontFamily||"Arial","font-size":$,color:H.fill||rt.fill||"black",opacity:1,"background-color":H.background||"transparent",outline:"#ffffff33 1px solid",margin:[-$/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(E).call(N(z,nt,H)).on("blur",function(){U._editing=!1,z.text(this.textContent).style({opacity:1});var Z,G=f.select(this).attr("class");(Z=G?"."+G.split(" ")[0]+"-math-group":"[class*=-math-group]")&&f.select(z.node().parentNode).select(Z).style({opacity:0});var Q=this.textContent;f.select(this).transition().duration(0).remove(),f.select(document).on("mouseup",null),K.edit.call(z,Q)}).on("focus",function(){var Z=this;U._editing=!0,f.select(document).on("mouseup",function(){if(f.event.target===Z)return!1;document.activeElement===ot.node()&&ot.node().blur()})}).on("keyup",function(){f.event.which===27?(U._editing=!1,z.style({opacity:1}),f.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),K.cancel.call(z,this.textContent)):(K.input.call(z,this.textContent),f.select(this).call(N(z,nt,H)))}).on("keydown",function(){f.event.which===13&&this.blur()}).call(q),z.style({opacity:0});var S,Y=D.attr("class");(S=Y?"."+Y.split(" ")[0]+"-math-group":"[class*=-math-group]")&&f.select(z.node().parentNode).select(S).style({opacity:0})}function q(nt){var ot=nt.node(),rt=document.createRange();rt.selectNodeContents(ot);var $=window.getSelection();$.removeAllRanges(),$.addRange(rt),ot.focus()}return H.immediate?B():D.on("click",B),f.rebind(z,K,"on")}},1200:function(J,h){var t={};function f(y){y&&y.timer!==null&&(clearTimeout(y.timer),y.timer=null)}h.throttle=function(y,i,a){var n=t[y],r=Date.now();if(!n){for(var o in t)t[o].ts<r-6e4&&delete t[o];n=t[y]={ts:0,timer:null}}function s(){a(),n.ts=Date.now(),n.onDone&&(n.onDone(),n.onDone=null)}f(n),r>n.ts+i?s():n.timer=setTimeout(function(){s(),n.timer=null},i)},h.done=function(y){var i=t[y];return i&&i.timer?new Promise(function(a){var n=i.onDone;i.onDone=function(){n&&n(),a(),i.onDone=null}}):Promise.resolve()},h.clear=function(y){if(y)f(t[y]),delete t[y];else for(var i in t)h.clear(i)}},6896:function(J,h,t){var f=t(8248);J.exports=function(y,i){if(y>0)return Math.log(y)/Math.LN10;var a=Math.log(Math.min(i[0],i[1]))/Math.LN10;return f(a)||(a=Math.log(Math.max(i[0],i[1]))/Math.LN10-6),a}},1680:function(J){J.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(J){J.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},9820:function(J,h,t){var f=t(4040);J.exports=function(y){for(var i,a,n=f.layoutArrayContainers,r=f.layoutArrayRegexes,o=y.split("[")[0],s=0;s<r.length;s++)if((a=y.match(r[s]))&&a.index===0){i=a[0];break}if(i||(i=n[n.indexOf(o)]),!i)return!1;var e=y.substr(i.length);return e?!!(a=e.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:i,index:Number(a[1]),property:a[3]||""}:{array:i,index:"",property:""}}},7824:function(J,h,t){var f=t(2880).extendFlat,y=t(3620),i={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},a={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},n=i.flags.slice().concat(["fullReplot"]),r=a.flags.slice().concat("layoutReplot");function o(l){for(var u={},m=0;m<l.length;m++)u[l[m]]=!1;return u}function s(l,u,m){var _=f({},l);for(var p in _){var v=_[p];y(v)&&(_[p]=e(v,u,0,p))}return m==="from-root"&&(_.editType=u),_}function e(l,u,m,_){if(l.valType){var p=f({},l);if(p.editType=u,Array.isArray(l.items)){p.items=new Array(l.items.length);for(var v=0;v<l.items.length;v++)p.items[v]=e(l.items[v],u)}return p}return s(l,u,_.charAt(0)==="_"?"nested":"from-root")}J.exports={traces:i,layout:a,traceFlags:function(){return o(n)},layoutFlags:function(){return o(r)},update:function(l,u){var m=u.editType;if(m&&m!=="none")for(var _=m.split("+"),p=0;p<_.length;p++)l[_[p]]=!0},overrideAll:s}},3404:function(J,h,t){var f=t(8248),y=t(1784),i=t(4040),a=t(3400),n=t(7316),r=t(9811),o=t(6308),s=r.cleanId,e=r.getFromTrace,l=i.traceIs;function u(w,k){var P=w[k],A=k.charAt(0);P&&P!=="paper"&&(w[k]=s(P,A,!0))}function m(w){function k(P,A){var L=w[P],I=w.title&&w.title[A];L&&!I&&(w.title||(w.title={}),w.title[A]=w[P],delete w[P])}w&&(typeof w.title!="string"&&typeof w.title!="number"||(w.title={text:w.title}),k("titlefont","font"),k("titleposition","position"),k("titleside","side"),k("titleoffset","offset"))}function _(w){if(!a.isPlainObject(w))return!1;var k=w.name;return delete w.name,delete w.showlegend,(typeof k=="string"||typeof k=="number")&&String(k)}function p(w,k,P,A){if(P&&!A)return w;if(A&&!P||!w.trim())return k;if(!k.trim())return w;var L,I=Math.min(w.length,k.length);for(L=0;L<I&&w.charAt(L)===k.charAt(L);L++);return w.substr(0,L).trim()}function v(w){var k="middle",P="center";return typeof w=="string"&&(w.indexOf("top")!==-1?k="top":w.indexOf("bottom")!==-1&&(k="bottom"),w.indexOf("left")!==-1?P="left":w.indexOf("right")!==-1&&(P="right")),k+" "+P}function g(w,k){return k in w&&typeof w[k]=="object"&&Object.keys(w[k]).length===0}h.clearPromiseQueue=function(w){Array.isArray(w._promises)&&w._promises.length>0&&a.log("Clearing previous rejected promises from queue."),w._promises=[]},h.cleanLayout=function(w){var k,P;w||(w={}),w.xaxis1&&(w.xaxis||(w.xaxis=w.xaxis1),delete w.xaxis1),w.yaxis1&&(w.yaxis||(w.yaxis=w.yaxis1),delete w.yaxis1),w.scene1&&(w.scene||(w.scene=w.scene1),delete w.scene1);var A=(n.subplotsRegistry.cartesian||{}).attrRegex,L=(n.subplotsRegistry.polar||{}).attrRegex,I=(n.subplotsRegistry.ternary||{}).attrRegex,x=(n.subplotsRegistry.gl3d||{}).attrRegex,C=Object.keys(w);for(k=0;k<C.length;k++){var F=C[k];if(A&&A.test(F)){var N=w[F];N.anchor&&N.anchor!=="free"&&(N.anchor=s(N.anchor)),N.overlaying&&(N.overlaying=s(N.overlaying)),N.type||(N.isdate?N.type="date":N.islog?N.type="log":N.isdate===!1&&N.islog===!1&&(N.type="linear")),N.autorange!=="withzero"&&N.autorange!=="tozero"||(N.autorange=!0,N.rangemode="tozero"),N.insiderange&&delete N.range,delete N.islog,delete N.isdate,delete N.categories,g(N,"domain")&&delete N.domain,N.autotick!==void 0&&(N.tickmode===void 0&&(N.tickmode=N.autotick?"auto":"linear"),delete N.autotick),m(N)}else if(L&&L.test(F))m(w[F].radialaxis);else if(I&&I.test(F)){var j=w[F];m(j.aaxis),m(j.baxis),m(j.caxis)}else if(x&&x.test(F)){var z=w[F],H=z.cameraposition;if(Array.isArray(H)&&H[0].length===4){var U=H[0],it=H[1],K=H[2],D=y([],U),B=[];for(P=0;P<3;++P)B[P]=it[P]+K*D[2+4*P];z.camera={eye:{x:B[0],y:B[1],z:B[2]},center:{x:it[0],y:it[1],z:it[2]},up:{x:0,y:0,z:1}},delete z.cameraposition}m(z.xaxis),m(z.yaxis),m(z.zaxis)}}var q=Array.isArray(w.annotations)?w.annotations.length:0;for(k=0;k<q;k++){var nt=w.annotations[k];a.isPlainObject(nt)&&(nt.ref&&(nt.ref==="paper"?(nt.xref="paper",nt.yref="paper"):nt.ref==="data"&&(nt.xref="x",nt.yref="y"),delete nt.ref),u(nt,"xref"),u(nt,"yref"))}var ot=Array.isArray(w.shapes)?w.shapes.length:0;for(k=0;k<ot;k++){var rt=w.shapes[k];a.isPlainObject(rt)&&(u(rt,"xref"),u(rt,"yref"))}var $=Array.isArray(w.images)?w.images.length:0;for(k=0;k<$;k++){var E=w.images[k];a.isPlainObject(E)&&(u(E,"xref"),u(E,"yref"))}var S=w.legend;return S&&(S.x>3?(S.x=1.02,S.xanchor="left"):S.x<-2&&(S.x=-.02,S.xanchor="right"),S.y>3?(S.y=1.02,S.yanchor="bottom"):S.y<-2&&(S.y=-.02,S.yanchor="top")),m(w),w.dragmode==="rotate"&&(w.dragmode="orbit"),o.clean(w),w.template&&w.template.layout&&h.cleanLayout(w.template.layout),w},h.cleanData=function(w){for(var k=0;k<w.length;k++){var P,A=w[k];if(A.type==="histogramy"&&"xbins"in A&&!("ybins"in A)&&(A.ybins=A.xbins,delete A.xbins),A.error_y&&"opacity"in A.error_y){var L=o.defaults,I=A.error_y.color||(l(A,"bar")?o.defaultLine:L[k%L.length]);A.error_y.color=o.addOpacity(o.rgb(I),o.opacity(I)*A.error_y.opacity),delete A.error_y.opacity}if("bardir"in A&&(A.bardir!=="h"||!l(A,"bar")&&A.type.substr(0,9)!=="histogram"||(A.orientation="h",h.swapXYData(A)),delete A.bardir),A.type==="histogramy"&&h.swapXYData(A),A.type!=="histogramx"&&A.type!=="histogramy"||(A.type="histogram"),"scl"in A&&!("colorscale"in A)&&(A.colorscale=A.scl,delete A.scl),"reversescl"in A&&!("reversescale"in A)&&(A.reversescale=A.reversescl,delete A.reversescl),A.xaxis&&(A.xaxis=s(A.xaxis,"x")),A.yaxis&&(A.yaxis=s(A.yaxis,"y")),l(A,"gl3d")&&A.scene&&(A.scene=n.subplotsRegistry.gl3d.cleanId(A.scene)),!l(A,"pie-like")&&!l(A,"bar-like"))if(Array.isArray(A.textposition))for(P=0;P<A.textposition.length;P++)A.textposition[P]=v(A.textposition[P]);else A.textposition&&(A.textposition=v(A.textposition));var x=i.getModule(A);if(x&&x.colorbar){var C=x.colorbar.container,F=C?A[C]:A;F&&F.colorscale&&(F.colorscale==="YIGnBu"&&(F.colorscale="YlGnBu"),F.colorscale==="YIOrRd"&&(F.colorscale="YlOrRd"))}if(A.type==="surface"&&a.isPlainObject(A.contours)){var N=["x","y","z"];for(P=0;P<N.length;P++){var j=A.contours[N[P]];a.isPlainObject(j)&&(j.highlightColor&&(j.highlightcolor=j.highlightColor,delete j.highlightColor),j.highlightWidth&&(j.highlightwidth=j.highlightWidth,delete j.highlightWidth))}}if(A.type==="candlestick"||A.type==="ohlc"){var z=(A.increasing||{}).showlegend!==!1,H=(A.decreasing||{}).showlegend!==!1,U=_(A.increasing),it=_(A.decreasing);if(U!==!1&&it!==!1){var K=p(U,it,z,H);K&&(A.name=K)}else!U&&!it||A.name||(A.name=U||it)}if(Array.isArray(A.transforms)){var D=A.transforms;for(P=0;P<D.length;P++){var B=D[P];if(a.isPlainObject(B))switch(B.type){case"filter":B.filtersrc&&(B.target=B.filtersrc,delete B.filtersrc),B.calendar&&(B.valuecalendar||(B.valuecalendar=B.calendar),delete B.calendar);break;case"groupby":if(B.styles=B.styles||B.style,B.styles&&!Array.isArray(B.styles)){var q=B.styles,nt=Object.keys(q);B.styles=[];for(var ot=0;ot<nt.length;ot++)B.styles.push({target:nt[ot],value:q[nt[ot]]})}}}}g(A,"line")&&delete A.line,"marker"in A&&(g(A.marker,"line")&&delete A.marker.line,g(A,"marker")&&delete A.marker),o.clean(A),A.autobinx&&(delete A.autobinx,delete A.xbins),A.autobiny&&(delete A.autobiny,delete A.ybins),m(A),A.colorbar&&m(A.colorbar),A.marker&&A.marker.colorbar&&m(A.marker.colorbar),A.line&&A.line.colorbar&&m(A.line.colorbar),A.aaxis&&m(A.aaxis),A.baxis&&m(A.baxis)}},h.swapXYData=function(w){var k;if(a.swapAttrs(w,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(w.z)&&Array.isArray(w.z[0])&&(w.transpose?delete w.transpose:w.transpose=!0),w.error_x&&w.error_y){var P=w.error_y,A="copy_ystyle"in P?P.copy_ystyle:!(P.color||P.thickness||P.width);a.swapAttrs(w,["error_?.copy_ystyle"]),A&&a.swapAttrs(w,["error_?.color","error_?.thickness","error_?.width"])}if(typeof w.hoverinfo=="string"){var L=w.hoverinfo.split("+");for(k=0;k<L.length;k++)L[k]==="x"?L[k]="y":L[k]==="y"&&(L[k]="x");w.hoverinfo=L.join("+")}},h.coerceTraceIndices=function(w,k){if(f(k))return[k];if(!Array.isArray(k)||!k.length)return w.data.map(function(L,I){return I});if(Array.isArray(k)){for(var P=[],A=0;A<k.length;A++)a.isIndex(k[A],w.data.length)?P.push(k[A]):a.warn("trace index (",k[A],") is not a number or is out of bounds");return P}return k},h.manageArrayContainers=function(w,k,P){var A=w.obj,L=w.parts,I=L.length,x=L[I-1],C=f(x);if(C&&k===null){var F=L.slice(0,I-1).join(".");a.nestedProperty(A,F).get().splice(x,1)}else C&&w.get()===void 0&&w.get()===void 0&&(P[w.astr]=null),w.set(k)};var b=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function d(w){var k=w.search(b);if(k>0)return w.substr(0,k)}h.hasParent=function(w,k){for(var P=d(k);P;){if(P in w)return!0;P=d(P)}return!1};var T=["x","y","z"];h.clearAxisTypes=function(w,k,P){for(var A=0;A<k.length;A++)for(var L=w._fullData[A],I=0;I<3;I++){var x=e(w,L,T[I]);if(x&&x.type!=="log"){var C=x._name,F=x._id.substr(1);if(F.substr(0,5)==="scene"){if(P[F]!==void 0)continue;C=F+"."+C}var N=C+".type";P[C]===void 0&&P[N]===void 0&&a.nestedProperty(w.layout,N).set(null)}}}},2448:function(J,h,t){var f=t(6424);h._doPlot=f._doPlot,h.newPlot=f.newPlot,h.restyle=f.restyle,h.relayout=f.relayout,h.redraw=f.redraw,h.update=f.update,h._guiRestyle=f._guiRestyle,h._guiRelayout=f._guiRelayout,h._guiUpdate=f._guiUpdate,h._storeDirectGUIEdit=f._storeDirectGUIEdit,h.react=f.react,h.extendTraces=f.extendTraces,h.prependTraces=f.prependTraces,h.addTraces=f.addTraces,h.deleteTraces=f.deleteTraces,h.moveTraces=f.moveTraces,h.purge=f.purge,h.addFrames=f.addFrames,h.deleteFrames=f.deleteFrames,h.animate=f.animate,h.setPlotConfig=f.setPlotConfig;var y=t(2200).getGraphDiv,i=t(4016).eraseActiveShape;h.deleteActiveShape=function(n){return i(y(n))},h.toImage=t(7024),h.validate=t(1480),h.downloadImage=t(7412);var a=t(4828);h.makeTemplate=a.makeTemplate,h.validateTemplate=a.validateTemplate},7680:function(J,h,t){var f=t(3620),y=t(6628),i=t(4248),a=t(4952).sorterAsc,n=t(4040);h.containerArrayMatch=t(9820);var r=h.isAddVal=function(s){return s==="add"||f(s)},o=h.isRemoveVal=function(s){return s===null||s==="remove"};h.applyContainerArrayChanges=function(s,e,l,u,m){var _=e.astr,p=n.getComponentMethod(_,"supplyLayoutDefaults"),v=n.getComponentMethod(_,"draw"),g=n.getComponentMethod(_,"drawOne"),b=u.replot||u.recalc||p===y||v===y,d=s.layout,T=s._fullLayout;if(l[""]){Object.keys(l).length>1&&i.warn("Full array edits are incompatible with other edits",_);var w=l[""][""];if(o(w))e.set(null);else{if(!Array.isArray(w))return i.warn("Unrecognized full array edit value",_,w),!0;e.set(w)}return!b&&(p(d,T),v(s),!0)}var k,P,A,L,I,x,C,F,N=Object.keys(l).map(Number).sort(a),j=e.get(),z=j||[],H=m(T,_).get(),U=[],it=-1,K=z.length;for(k=0;k<N.length;k++)if(L=l[A=N[k]],I=Object.keys(L),x=L[""],C=r(x),A<0||A>z.length-(C?0:1))i.warn("index out of range",_,A);else if(x!==void 0)I.length>1&&i.warn("Insertion & removal are incompatible with edits to the same index.",_,A),o(x)?U.push(A):C?(x==="add"&&(x={}),z.splice(A,0,x),H&&H.splice(A,0,{})):i.warn("Unrecognized full object edit value",_,A,x),it===-1&&(it=A);else for(P=0;P<I.length;P++)F=_+"["+A+"].",m(z[A],I[P],F).set(L[I[P]]);for(k=U.length-1;k>=0;k--)z.splice(U[k],1),H&&H.splice(U[k],1);if(z.length?j||e.set(z):e.set(null),b)return!1;if(p(d,T),g!==y){var D;if(it===-1)D=N;else{for(K=Math.max(z.length,K),D=[],k=0;k<N.length&&!((A=N[k])>=it);k++)D.push(A);for(k=it;k<K;k++)D.push(k)}for(k=0;k<D.length;k++)g(s,D[k])}else v(s);return!0}},6424:function(J,h,t){var f=t(3428),y=t(8248),i=t(2264),a=t(3400),n=a.nestedProperty,r=t(5924),o=t(4552),s=t(4040),e=t(3060),l=t(7316),u=t(4460),m=t(6312),_=t(4724),p=t(3616),v=t(6308),g=t(2464).initInteractions,b=t(9616),d=t(2676).clearOutline,T=t(556).dfltConfig,w=t(7680),k=t(3404),P=t(9172),A=t(7824),L=t(3816).AX_NAME_PATTERN,I=0;function x(ct){var xt=ct._fullLayout;xt._redrawFromAutoMarginCount?xt._redrawFromAutoMarginCount--:ct.emit("plotly_afterplot")}function C(ct,xt){try{ct._fullLayout._paper.style("background",xt)}catch(dt){a.error(dt)}}function F(ct,xt){C(ct,v.combine(xt,"white"))}function N(ct,xt){if(!ct._context){ct._context=a.extendDeep({},T);var dt=f.select("base");ct._context._baseUrl=dt.size()&&dt.attr("href")?window.location.href.split("#")[0]:""}var vt,yt,Mt,Tt=ct._context;if(xt){for(yt=Object.keys(xt),vt=0;vt<yt.length;vt++)(Mt=yt[vt])!=="editable"&&Mt!=="edits"&&Mt in Tt&&(Mt==="setBackground"&&xt[Mt]==="opaque"?Tt[Mt]=F:Tt[Mt]=xt[Mt]);xt.plot3dPixelRatio&&!Tt.plotGlPixelRatio&&(Tt.plotGlPixelRatio=Tt.plot3dPixelRatio);var Lt=xt.editable;if(Lt!==void 0)for(Tt.editable=Lt,yt=Object.keys(Tt.edits),vt=0;vt<yt.length;vt++)Tt.edits[yt[vt]]=Lt;if(xt.edits)for(yt=Object.keys(xt.edits),vt=0;vt<yt.length;vt++)(Mt=yt[vt])in Tt.edits&&(Tt.edits[Mt]=xt.edits[Mt]);Tt._exportedPlot=xt._exportedPlot}Tt.staticPlot&&(Tt.editable=!1,Tt.edits={},Tt.autosizable=!1,Tt.scrollZoom=!1,Tt.doubleClick=!1,Tt.showTips=!1,Tt.showLink=!1,Tt.displayModeBar=!1),Tt.displayModeBar!=="hover"||i||(Tt.displayModeBar=!0),Tt.setBackground!=="transparent"&&typeof Tt.setBackground=="function"||(Tt.setBackground=C),Tt._hasZeroHeight=Tt._hasZeroHeight||ct.clientHeight===0,Tt._hasZeroWidth=Tt._hasZeroWidth||ct.clientWidth===0;var St=Tt.scrollZoom,At=Tt._scrollZoom={};if(St===!0)At.cartesian=1,At.gl3d=1,At.geo=1,At.mapbox=1;else if(typeof St=="string"){var Nt=St.split("+");for(vt=0;vt<Nt.length;vt++)At[Nt[vt]]=1}else St!==!1&&(At.gl3d=1,At.geo=1,At.mapbox=1)}function j(ct,xt){var dt,vt,yt=xt+1,Mt=[];for(dt=0;dt<ct.length;dt++)(vt=ct[dt])<0?Mt.push(yt+vt):Mt.push(vt);return Mt}function z(ct,xt,dt){var vt,yt;for(vt=0;vt<xt.length;vt++){if((yt=xt[vt])!==parseInt(yt,10))throw new Error("all values in "+dt+" must be integers");if(yt>=ct.data.length||yt<-ct.data.length)throw new Error(dt+" must be valid indices for gd.data.");if(xt.indexOf(yt,vt+1)>-1||yt>=0&&xt.indexOf(-ct.data.length+yt)>-1||yt<0&&xt.indexOf(ct.data.length+yt)>-1)throw new Error("each index in "+dt+" must be unique.")}}function H(ct,xt,dt){if(!Array.isArray(ct.data))throw new Error("gd.data must be an array.");if(xt===void 0)throw new Error("currentIndices is a required argument.");if(Array.isArray(xt)||(xt=[xt]),z(ct,xt,"currentIndices"),dt===void 0||Array.isArray(dt)||(dt=[dt]),dt!==void 0&&z(ct,dt,"newIndices"),dt!==void 0&&xt.length!==dt.length)throw new Error("current and new indices must be of equal length.")}function U(ct,xt,dt,vt,yt){(function(Ft,Gt,Bt,de){var ie=a.isPlainObject(de);if(!Array.isArray(Ft.data))throw new Error("gd.data must be an array");if(!a.isPlainObject(Gt))throw new Error("update must be a key:value object");if(Bt===void 0)throw new Error("indices must be an integer or array of integers");for(var pe in z(Ft,Bt,"indices"),Gt){if(!Array.isArray(Gt[pe])||Gt[pe].length!==Bt.length)throw new Error("attribute "+pe+" must be an array of length equal to indices array length");if(ie&&(!(pe in de)||!Array.isArray(de[pe])||de[pe].length!==Gt[pe].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}})(ct,xt,dt,vt);for(var Mt=function(Ft,Gt,Bt,de){var ie,pe,Ot,gt,jt,Xt=a.isPlainObject(de),xe=[];for(var Vt in Array.isArray(Bt)||(Bt=[Bt]),Bt=j(Bt,Ft.data.length-1),Gt)for(var Qt=0;Qt<Bt.length;Qt++){if(ie=Ft.data[Bt[Qt]],pe=(Ot=n(ie,Vt)).get(),gt=Gt[Vt][Qt],!a.isArrayOrTypedArray(gt))throw new Error("attribute: "+Vt+" index: "+Qt+" must be an array");if(!a.isArrayOrTypedArray(pe))throw new Error("cannot extend missing or non-array attribute: "+Vt);if(pe.constructor!==gt.constructor)throw new Error("cannot extend array with an array of a different type: "+Vt);jt=Xt?de[Vt][Qt]:de,y(jt)||(jt=-1),xe.push({prop:Ot,target:pe,insert:gt,maxp:Math.floor(jt)})}return xe}(ct,xt,dt,vt),Tt={},Lt={},St=0;St<Mt.length;St++){var At=Mt[St].prop,Nt=Mt[St].maxp,zt=yt(Mt[St].target,Mt[St].insert,Nt);At.set(zt[0]),Array.isArray(Tt[At.astr])||(Tt[At.astr]=[]),Tt[At.astr].push(zt[1]),Array.isArray(Lt[At.astr])||(Lt[At.astr]=[]),Lt[At.astr].push(Mt[St].target.length)}return{update:Tt,maxPoints:Lt}}function it(ct,xt){var dt=new ct.constructor(ct.length+xt.length);return dt.set(ct),dt.set(xt,ct.length),dt}function K(ct,xt,dt,vt){ct=a.getGraphDiv(ct),k.clearPromiseQueue(ct);var yt={};if(typeof xt=="string")yt[xt]=dt;else{if(!a.isPlainObject(xt))return a.warn("Restyle fail.",xt,dt,vt),Promise.reject();yt=a.extendFlat({},xt),vt===void 0&&(vt=dt)}Object.keys(yt).length&&(ct.changed=!0);var Mt=k.coerceTraceIndices(ct,vt),Tt=nt(ct,yt,Mt),Lt=Tt.flags;Lt.calc&&(ct.calcdata=void 0),Lt.clearAxisTypes&&k.clearAxisTypes(ct,Mt,{});var St=[];Lt.fullReplot?St.push(h._doPlot):(St.push(l.previousPromises),l.supplyDefaults(ct),Lt.markerSize&&(l.doCalcdata(ct),E(St)),Lt.style&&St.push(P.doTraceStyle),Lt.colorbars&&St.push(P.doColorBars),St.push(x)),St.push(l.rehover,l.redrag,l.reselect),o.add(ct,K,[ct,Tt.undoit,Tt.traces],K,[ct,Tt.redoit,Tt.traces]);var At=a.syncOrAsync(St,ct);return At&&At.then||(At=Promise.resolve()),At.then(function(){return ct.emit("plotly_restyle",Tt.eventData),ct})}function D(ct){return ct===void 0?null:ct}function B(ct,xt){return xt?function(dt,vt,yt){var Mt=n(dt,vt),Tt=Mt.set;return Mt.set=function(Lt){q((yt||"")+vt,Mt.get(),Lt,ct),Tt(Lt)},Mt}:n}function q(ct,xt,dt,vt){if(Array.isArray(xt)||Array.isArray(dt))for(var yt=Array.isArray(xt)?xt:[],Mt=Array.isArray(dt)?dt:[],Tt=Math.max(yt.length,Mt.length),Lt=0;Lt<Tt;Lt++)q(ct+"["+Lt+"]",yt[Lt],Mt[Lt],vt);else if(a.isPlainObject(xt)||a.isPlainObject(dt)){var St=a.isPlainObject(xt)?xt:{},At=a.isPlainObject(dt)?dt:{},Nt=a.extendFlat({},St,At);for(var zt in Nt)q(ct+"."+zt,St[zt],At[zt],vt)}else vt[ct]===void 0&&(vt[ct]=D(xt))}function nt(ct,xt,dt){var vt,yt=ct._fullLayout,Mt=ct._fullData,Tt=ct.data,Lt=yt._guiEditing,St=B(yt._preGUI,Lt),At=a.extendDeepAll({},xt);ot(xt);var Nt,zt=A.traceFlags(),Ft={},Gt={};function Bt(){return dt.map(function(){})}function de(ee){var fe=u.id2name(ee);Nt.indexOf(fe)===-1&&Nt.push(fe)}function ie(ee){return"LAYOUT"+ee+".autorange"}function pe(ee){return"LAYOUT"+ee+".range"}function Ot(ee){for(var fe=ee;fe<Mt.length;fe++)if(Mt[fe]._input===Tt[ee])return Mt[fe]}function gt(ee,fe,ge){if(Array.isArray(ee))ee.forEach(function(Fe){gt(Fe,fe,ge)});else if(!(ee in xt)&&!k.hasParent(xt,ee)){var je;if(ee.substr(0,6)==="LAYOUT")je=St(ct.layout,ee.replace("LAYOUT",""));else{var Ie=dt[ge];je=B(yt._tracePreGUI[Ot(Ie)._fullInput.uid],Lt)(Tt[Ie],ee)}ee in Gt||(Gt[ee]=Bt()),Gt[ee][ge]===void 0&&(Gt[ee][ge]=D(je.get())),fe!==void 0&&je.set(fe)}}function jt(ee){return function(fe){return Mt[fe][ee]}}function Xt(ee){return function(fe,ge){return fe===!1?Mt[dt[ge]][ee]:null}}for(var xe in xt){if(k.hasParent(xt,xe))throw new Error("cannot set "+xe+" and a parent attribute simultaneously");var Vt,Qt,re,_e,ce,Me,te=xt[xe];if(xe!=="autobinx"&&xe!=="autobiny"||(xe=xe.charAt(xe.length-1)+"bins",te=Array.isArray(te)?te.map(Xt(xe)):te===!1?dt.map(jt(xe)):null),Ft[xe]=te,xe.substr(0,6)!=="LAYOUT"){for(Gt[xe]=Bt(),vt=0;vt<dt.length;vt++)if(Vt=Tt[dt[vt]],Qt=Ot(dt[vt]),_e=(re=B(yt._tracePreGUI[Qt._fullInput.uid],Lt)(Vt,xe)).get(),(ce=Array.isArray(te)?te[vt%te.length]:te)!==void 0){var X=re.parts[re.parts.length-1],et=xe.substr(0,xe.length-X.length-1),It=et?et+".":"",Ct=et?n(Qt,et).get():Qt;if((Me=e.getTraceValObject(Qt,re.parts))&&Me.impliedEdits&&ce!==null)for(var Ut in Me.impliedEdits)gt(a.relativeAttr(xe,Ut),Me.impliedEdits[Ut],vt);else if(X!=="thicknessmode"&&X!=="lenmode"||_e===ce||ce!=="fraction"&&ce!=="pixels"||!Ct){if(xe==="type"&&(ce==="pie"!=(_e==="pie")||ce==="funnelarea"!=(_e==="funnelarea"))){var Rt="x",Ht="y";ce!=="bar"&&_e!=="bar"||Vt.orientation!=="h"||(Rt="y",Ht="x"),a.swapAttrs(Vt,["?","?src"],"labels",Rt),a.swapAttrs(Vt,["d?","?0"],"label",Rt),a.swapAttrs(Vt,["?","?src"],"values",Ht),_e==="pie"||_e==="funnelarea"?(n(Vt,"marker.color").set(n(Vt,"marker.colors").get()),yt._pielayer.selectAll("g.trace").remove()):s.traceIs(Vt,"cartesian")&&n(Vt,"marker.colors").set(n(Vt,"marker.color").get())}}else{var Zt=yt._size,Kt=Ct.orient,oe=Kt==="top"||Kt==="bottom";if(X==="thicknessmode"){var ue=oe?Zt.h:Zt.w;gt(It+"thickness",Ct.thickness*(ce==="fraction"?1/ue:ue),vt)}else{var Se=oe?Zt.w:Zt.h;gt(It+"len",Ct.len*(ce==="fraction"?1/Se:Se),vt)}}if(Gt[xe][vt]=D(_e),["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(xe)!==-1){if(xe==="orientation"){re.set(ce);var he=Vt.x&&!Vt.y?"h":"v";if((re.get()||he)===Qt.orientation)continue}else xe==="orientationaxes"&&(Vt.orientation={v:"h",h:"v"}[Qt.orientation]);k.swapXYData(Vt),zt.calc=zt.clearAxisTypes=!0}else l.dataArrayContainers.indexOf(re.parts[0])!==-1?(k.manageArrayContainers(re,ce,Gt),zt.calc=!0):(Me?Me.arrayOk&&!s.traceIs(Qt,"regl")&&(a.isArrayOrTypedArray(ce)||a.isArrayOrTypedArray(_e))?zt.calc=!0:A.update(zt,Me):zt.calc=!0,re.set(ce))}if(["swapxyaxes","orientationaxes"].indexOf(xe)!==-1&&u.swap(ct,dt),xe==="orientationaxes"){var ve=n(ct.layout,"hovermode"),ke=ve.get();ke==="x"?ve.set("y"):ke==="y"?ve.set("x"):ke==="x unified"?ve.set("y unified"):ke==="y unified"&&ve.set("x unified")}if(["orientation","type"].indexOf(xe)!==-1){for(Nt=[],vt=0;vt<dt.length;vt++){var Ae=Tt[dt[vt]];s.traceIs(Ae,"cartesian")&&(de(Ae.xaxis||"x"),de(Ae.yaxis||"y"))}gt(Nt.map(ie),!0,0),gt(Nt.map(pe),[0,1],0)}}else re=St(ct.layout,xe.replace("LAYOUT","")),Gt[xe]=[D(re.get())],re.set(Array.isArray(te)?te[0]:te),zt.calc=!0}return(zt.calc||zt.plot)&&(zt.fullReplot=!0),{flags:zt,undoit:Gt,redoit:Ft,traces:dt,eventData:a.extendDeepNoArrays([],[At,dt])}}function ot(ct){var xt,dt,vt,yt=a.counterRegex("axis",".title",!1,!1),Mt=/colorbar\.title$/,Tt=Object.keys(ct);for(xt=0;xt<Tt.length;xt++)dt=Tt[xt],vt=ct[dt],dt!=="title"&&!yt.test(dt)&&!Mt.test(dt)||typeof vt!="string"&&typeof vt!="number"?dt.indexOf("titlefont")>-1&&dt.indexOf("grouptitlefont")===-1?Lt(dt,dt.replace("titlefont","title.font")):dt.indexOf("titleposition")>-1?Lt(dt,dt.replace("titleposition","title.position")):dt.indexOf("titleside")>-1?Lt(dt,dt.replace("titleside","title.side")):dt.indexOf("titleoffset")>-1&&Lt(dt,dt.replace("titleoffset","title.offset")):Lt(dt,dt.replace("title","title.text"));function Lt(St,At){ct[At]=ct[St],delete ct[St]}}function rt(ct,xt,dt){ct=a.getGraphDiv(ct),k.clearPromiseQueue(ct);var vt={};if(typeof xt=="string")vt[xt]=dt;else{if(!a.isPlainObject(xt))return a.warn("Relayout fail.",xt,dt),Promise.reject();vt=a.extendFlat({},xt)}Object.keys(vt).length&&(ct.changed=!0);var yt=G(ct,vt),Mt=yt.flags;Mt.calc&&(ct.calcdata=void 0);var Tt=[l.previousPromises];Mt.layoutReplot?Tt.push(P.layoutReplot):Object.keys(vt).length&&($(ct,Mt,yt)||l.supplyDefaults(ct),Mt.legend&&Tt.push(P.doLegend),Mt.layoutstyle&&Tt.push(P.layoutStyles),Mt.axrange&&E(Tt,yt.rangesAltered),Mt.ticks&&Tt.push(P.doTicksRelayout),Mt.modebar&&Tt.push(P.doModeBar),Mt.camera&&Tt.push(P.doCamera),Mt.colorbars&&Tt.push(P.doColorBars),Tt.push(x)),Tt.push(l.rehover,l.redrag,l.reselect),o.add(ct,rt,[ct,yt.undoit],rt,[ct,yt.redoit]);var Lt=a.syncOrAsync(Tt,ct);return Lt&&Lt.then||(Lt=Promise.resolve(ct)),Lt.then(function(){return ct.emit("plotly_relayout",yt.eventData),ct})}function $(ct,xt,dt){var vt,yt,Mt=ct._fullLayout;if(!xt.axrange)return!1;for(var Tt in xt)if(Tt!=="axrange"&&xt[Tt])return!1;var Lt=function(Gt,Bt){return a.coerce(vt,yt,_,Gt,Bt)},St={};for(var At in dt.rangesAltered){var Nt=u.id2name(At);if(vt=ct.layout[Nt],yt=Mt[Nt],m(vt,yt,Lt,St),yt._matchGroup){for(var zt in yt._matchGroup)if(zt!==At){var Ft=Mt[u.id2name(zt)];Ft.autorange=yt.autorange,Ft.range=yt.range.slice(),Ft._input.range=yt.range.slice()}}}return!0}function E(ct,xt){var dt=xt?function(vt){var yt=[];for(var Mt in xt){var Tt=u.getFromId(vt,Mt);if(yt.push(Mt),(Tt.ticklabelposition||"").indexOf("inside")!==-1&&Tt._anchorAxis&&yt.push(Tt._anchorAxis._id),Tt._matchGroup)for(var Lt in Tt._matchGroup)xt[Lt]||yt.push(Lt)}return u.draw(vt,yt,{skipTitle:!0})}:function(vt){return u.draw(vt,"redraw")};ct.push(d,P.doAutoRangeAndConstraints,dt,P.drawData,P.finalDraw)}var S=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Y=/^[xyz]axis[0-9]*\.autorange$/,Z=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function G(ct,xt){var dt,vt,yt,Mt=ct.layout,Tt=ct._fullLayout,Lt=Tt._guiEditing,St=B(Tt._preGUI,Lt),At=Object.keys(xt),Nt=u.list(ct),zt=a.extendDeepAll({},xt),Ft={};for(ot(xt),At=Object.keys(xt),vt=0;vt<At.length;vt++)if(At[vt].indexOf("allaxes")===0){for(yt=0;yt<Nt.length;yt++){var Gt=Nt[yt]._id.substr(1),Bt=Gt.indexOf("scene")!==-1?Gt+".":"",de=At[vt].replace("allaxes",Bt+Nt[yt]._name);xt[de]||(xt[de]=xt[At[vt]])}delete xt[At[vt]]}var ie=A.layoutFlags(),pe={},Ot={};function gt(Fe,ye){if(Array.isArray(Fe))Fe.forEach(function(Te){gt(Te,ye)});else if(!(Fe in xt)&&!k.hasParent(xt,Fe)){var be=St(Mt,Fe);Fe in Ot||(Ot[Fe]=D(be.get())),ye!==void 0&&be.set(ye)}}var jt,Xt={};function xe(Fe){var ye=u.name2id(Fe.split(".")[0]);return Xt[ye]=1,ye}for(var Vt in xt){if(k.hasParent(xt,Vt))throw new Error("cannot set "+Vt+" and a parent attribute simultaneously");for(var Qt=St(Mt,Vt),re=xt[Vt],_e=Qt.parts.length-1;_e>0&&typeof Qt.parts[_e]!="string";)_e--;var ce=Qt.parts[_e],Me=Qt.parts[_e-1]+"."+ce,te=Qt.parts.slice(0,_e).join("."),X=n(ct.layout,te).get(),et=n(Tt,te).get(),It=Qt.get();if(re!==void 0){pe[Vt]=re,Ot[Vt]=ce==="reverse"?re:D(It);var Ct=e.getLayoutValObject(Tt,Qt.parts);if(Ct&&Ct.impliedEdits&&re!==null)for(var Ut in Ct.impliedEdits)gt(a.relativeAttr(Vt,Ut),Ct.impliedEdits[Ut]);if(["width","height"].indexOf(Vt)!==-1)if(re){gt("autosize",null);var Rt=Vt==="height"?"width":"height";gt(Rt,Tt[Rt])}else Tt[Vt]=ct._initialAutoSize[Vt];else if(Vt==="autosize")gt("width",re?null:Tt.width),gt("height",re?null:Tt.height);else if(Me.match(S))xe(Me),n(Tt,te+"._inputRange").set(null);else if(Me.match(Y)){xe(Me),n(Tt,te+"._inputRange").set(null);var Ht=n(Tt,te).get();Ht._inputDomain&&(Ht._input.domain=Ht._inputDomain.slice())}else Me.match(Z)&&n(Tt,te+"._inputDomain").set(null);if(ce==="type"){jt=X;var Zt=et.type==="linear"&&re==="log",Kt=et.type==="log"&&re==="linear";if(Zt||Kt){if(jt&&jt.range)if(et.autorange)Zt&&(jt.range=jt.range[1]>jt.range[0]?[1,2]:[2,1]);else{var oe=jt.range[0],ue=jt.range[1];Zt?(oe<=0&&ue<=0&&gt(te+".autorange",!0),oe<=0?oe=ue/1e6:ue<=0&&(ue=oe/1e6),gt(te+".range[0]",Math.log(oe)/Math.LN10),gt(te+".range[1]",Math.log(ue)/Math.LN10)):(gt(te+".range[0]",Math.pow(10,oe)),gt(te+".range[1]",Math.pow(10,ue)))}else gt(te+".autorange",!0);Array.isArray(Tt._subplots.polar)&&Tt._subplots.polar.length&&Tt[Qt.parts[0]]&&Qt.parts[1]==="radialaxis"&&delete Tt[Qt.parts[0]]._subplot.viewInitial["radialaxis.range"],s.getComponentMethod("annotations","convertCoords")(ct,et,re,gt),s.getComponentMethod("images","convertCoords")(ct,et,re,gt)}else gt(te+".autorange",!0),gt(te+".range",null);n(Tt,te+"._inputRange").set(null)}else if(ce.match(L)){var Se=n(Tt,Vt).get(),he=(re||{}).type;he&&he!=="-"||(he="linear"),s.getComponentMethod("annotations","convertCoords")(ct,Se,he,gt),s.getComponentMethod("images","convertCoords")(ct,Se,he,gt)}var ve=w.containerArrayMatch(Vt);if(ve){dt=ve.array,vt=ve.index;var ke=ve.property,Ae=Ct||{editType:"calc"};vt!==""&&ke===""&&(w.isAddVal(re)?Ot[Vt]=null:w.isRemoveVal(re)?Ot[Vt]=(n(Mt,dt).get()||[])[vt]:a.warn("unrecognized full object value",xt)),A.update(ie,Ae),Ft[dt]||(Ft[dt]={});var ee=Ft[dt][vt];ee||(ee=Ft[dt][vt]={}),ee[ke]=re,delete xt[Vt]}else ce==="reverse"?(X.range?X.range.reverse():(gt(te+".autorange",!0),X.range=[1,0]),et.autorange?ie.calc=!0:ie.plot=!0):(Vt==="dragmode"&&(re===!1&&It!==!1||re!==!1&&It===!1)||Tt._has("scatter-like")&&Tt._has("regl")&&Vt==="dragmode"&&(re==="lasso"||re==="select")&&It!=="lasso"&&It!=="select"||Tt._has("gl2d")?ie.plot=!0:Ct?A.update(ie,Ct):ie.calc=!0,Qt.set(re))}}for(dt in Ft)w.applyContainerArrayChanges(ct,St(Mt,dt),Ft[dt],ie,St)||(ie.plot=!0);for(var fe in Xt){var ge=(jt=u.getFromId(ct,fe))&&jt._constraintGroup;if(ge)for(var je in ie.calc=!0,ge)Xt[je]||(u.getFromId(ct,je)._constraintShrinkable=!0)}(Q(ct)||xt.height||xt.width)&&(ie.plot=!0);var Ie=Tt.shapes;for(vt=0;vt<Ie.length;vt++)if(Ie[vt].showlegend){ie.calc=!0;break}return(ie.plot||ie.calc)&&(ie.layoutReplot=!0),{flags:ie,rangesAltered:Xt,undoit:Ot,redoit:pe,eventData:zt}}function Q(ct){var xt=ct._fullLayout,dt=xt.width,vt=xt.height;return ct.layout.autosize&&l.plotAutoSize(ct,ct.layout,xt),xt.width!==dt||xt.height!==vt}function at(ct,xt,dt,vt){ct=a.getGraphDiv(ct),k.clearPromiseQueue(ct),a.isPlainObject(xt)||(xt={}),a.isPlainObject(dt)||(dt={}),Object.keys(xt).length&&(ct.changed=!0),Object.keys(dt).length&&(ct.changed=!0);var yt=k.coerceTraceIndices(ct,vt),Mt=nt(ct,a.extendFlat({},xt),yt),Tt=Mt.flags,Lt=G(ct,a.extendFlat({},dt)),St=Lt.flags;(Tt.calc||St.calc)&&(ct.calcdata=void 0),Tt.clearAxisTypes&&k.clearAxisTypes(ct,yt,dt);var At=[];St.layoutReplot?At.push(P.layoutReplot):Tt.fullReplot?At.push(h._doPlot):(At.push(l.previousPromises),$(ct,St,Lt)||l.supplyDefaults(ct),Tt.style&&At.push(P.doTraceStyle),(Tt.colorbars||St.colorbars)&&At.push(P.doColorBars),St.legend&&At.push(P.doLegend),St.layoutstyle&&At.push(P.layoutStyles),St.axrange&&E(At,Lt.rangesAltered),St.ticks&&At.push(P.doTicksRelayout),St.modebar&&At.push(P.doModeBar),St.camera&&At.push(P.doCamera),At.push(x)),At.push(l.rehover,l.redrag,l.reselect),o.add(ct,at,[ct,Mt.undoit,Lt.undoit,Mt.traces],at,[ct,Mt.redoit,Lt.redoit,Mt.traces]);var Nt=a.syncOrAsync(At,ct);return Nt&&Nt.then||(Nt=Promise.resolve(ct)),Nt.then(function(){return ct.emit("plotly_update",{data:Mt.eventData,layout:Lt.eventData}),ct})}function tt(ct){return function(xt){xt._fullLayout._guiEditing=!0;var dt=ct.apply(null,arguments);return xt._fullLayout._guiEditing=!1,dt}}var _t=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Pt=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function kt(ct,xt){for(var dt=0;dt<xt.length;dt++){var vt=xt[dt],yt=ct.match(vt.pattern);if(yt){var Mt=yt[1]||"";return{head:Mt,tail:ct.substr(Mt.length+1),attr:vt.attr}}}}function lt(ct,xt){var dt=n(xt,ct).get();if(dt!==void 0)return dt;var vt=ct.split(".");for(vt.pop();vt.length>1;)if(vt.pop(),(dt=n(xt,vt.join(".")+".uirevision").get())!==void 0)return dt;return xt.uirevision}function st(ct,xt){for(var dt=0;dt<xt.length;dt++)if(xt[dt]._fullInput.uid===ct)return dt;return-1}function ht(ct,xt,dt){for(var vt=0;vt<xt.length;vt++)if(xt[vt].uid===ct)return vt;return!xt[dt]||xt[dt].uid?-1:dt}function bt(ct,xt){var dt=a.isPlainObject(ct),vt=Array.isArray(ct);return dt||vt?(dt&&a.isPlainObject(xt)||vt&&Array.isArray(xt))&&JSON.stringify(ct)===JSON.stringify(xt):ct===xt}function pt(ct,xt,dt,vt){var yt,Mt,Tt,Lt=vt.getValObject,St=vt.flags,At=vt.immutable,Nt=vt.inArray,zt=vt.arrayIndex;function Ft(){var X=yt.editType;Nt&&X.indexOf("arraydraw")!==-1?a.pushUnique(St.arrays[Nt],zt):(A.update(St,yt),X!=="none"&&St.nChanges++,vt.transition&&yt.anim&&St.nChangesAnim++,(S.test(Tt)||Y.test(Tt))&&(St.rangesAltered[dt[0]]=1),Z.test(Tt)&&n(xt,"_inputDomain").set(null),Mt==="datarevision"&&(St.newDataRevision=1))}function Gt(X){return X.valType==="data_array"||X.arrayOk}for(Mt in ct){if(St.calc&&!vt.transition)return;var Bt=ct[Mt],de=xt[Mt],ie=dt.concat(Mt);if(Tt=ie.join("."),Mt.charAt(0)!=="_"&&typeof Bt!="function"&&Bt!==de){if((Mt==="tick0"||Mt==="dtick")&&dt[0]!=="geo"){var pe=xt.tickmode;if(pe==="auto"||pe==="array"||!pe)continue}if((Mt!=="range"||!xt.autorange)&&(Mt!=="zmin"&&Mt!=="zmax"||xt.type!=="contourcarpet")&&(yt=Lt(ie))&&(!yt._compareAsJSON||JSON.stringify(Bt)!==JSON.stringify(de))){var Ot,gt=yt.valType,jt=Gt(yt),Xt=Array.isArray(Bt),xe=Array.isArray(de);if(Xt&&xe){var Vt="_input_"+Mt,Qt=ct[Vt],re=xt[Vt];if(Array.isArray(Qt)&&Qt===re)continue}if(de===void 0)jt&&Xt?St.calc=!0:Ft();else if(yt._isLinkedToArray){var _e=[],ce=!1;Nt||(St.arrays[Mt]=_e);var Me=Math.min(Bt.length,de.length),te=Math.max(Bt.length,de.length);if(Me!==te){if(yt.editType!=="arraydraw"){Ft();continue}ce=!0}for(Ot=0;Ot<Me;Ot++)pt(Bt[Ot],de[Ot],ie.concat(Ot),a.extendFlat({inArray:Mt,arrayIndex:Ot},vt));if(ce)for(Ot=Me;Ot<te;Ot++)_e.push(Ot)}else!gt&&a.isPlainObject(Bt)?pt(Bt,de,ie,vt):jt?Xt&&xe?(At&&(St.calc=!0),(At||vt.newDataRevision)&&Ft()):Xt!==xe?St.calc=!0:Ft():Xt&&xe&&Bt.length===de.length&&String(Bt)===String(de)||Ft()}}}for(Mt in xt)if(!(Mt in ct)&&Mt.charAt(0)!=="_"&&typeof xt[Mt]!="function"){if(Gt(yt=Lt(dt.concat(Mt)))&&Array.isArray(xt[Mt]))return void(St.calc=!0);Ft()}}function Dt(ct,xt){var dt;for(dt in ct)if(dt.charAt(0)!=="_"){var vt=ct[dt],yt=xt[dt];if(vt!==yt)if(a.isPlainObject(vt)&&a.isPlainObject(yt)){if(Dt(vt,yt))return!0}else{if(!Array.isArray(vt)||!Array.isArray(yt)||vt.length!==yt.length)return!0;for(var Mt=0;Mt<vt.length;Mt++)if(vt[Mt]!==yt[Mt]&&(!a.isPlainObject(vt[Mt])||!a.isPlainObject(yt[Mt])||Dt(vt[Mt],yt[Mt])))return!0}}}function qt(ct){var xt=ct._fullLayout,dt=ct.getBoundingClientRect();if(!a.equalDomRects(dt,xt._lastBBox)){var vt=xt._invTransform=a.inverseTransformMatrix(a.getFullTransformMatrix(ct));xt._invScaleX=Math.sqrt(vt[0][0]*vt[0][0]+vt[0][1]*vt[0][1]+vt[0][2]*vt[0][2]),xt._invScaleY=Math.sqrt(vt[1][0]*vt[1][0]+vt[1][1]*vt[1][1]+vt[1][2]*vt[1][2]),xt._lastBBox=dt}}h.animate=function(ct,xt,dt){if(ct=a.getGraphDiv(ct),!a.isPlotDiv(ct))throw new Error("This element is not a Plotly plot: "+ct+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var vt=ct._transitionData;vt._frameQueue||(vt._frameQueue=[]);var yt=(dt=l.supplyAnimationDefaults(dt)).transition,Mt=dt.frame;function Tt(At){return Array.isArray(yt)?At>=yt.length?yt[0]:yt[At]:yt}function Lt(At){return Array.isArray(Mt)?At>=Mt.length?Mt[0]:Mt[At]:Mt}function St(At,Nt){var zt=0;return function(){if(At&&++zt===Nt)return At()}}return vt._frameWaitingCnt===void 0&&(vt._frameWaitingCnt=0),new Promise(function(At,Nt){function zt(){ct.emit("plotly_animating"),vt._lastFrameAt=-1/0,vt._timeToNext=0,vt._runningTransitions=0,vt._currentFrame=null;var Vt=function(){vt._animationRaf=window.requestAnimationFrame(Vt),Date.now()-vt._lastFrameAt>vt._timeToNext&&function(){vt._currentFrame&&vt._currentFrame.onComplete&&vt._currentFrame.onComplete();var Qt=vt._currentFrame=vt._frameQueue.shift();if(Qt){var re=Qt.name?Qt.name.toString():null;ct._fullLayout._currentFrame=re,vt._lastFrameAt=Date.now(),vt._timeToNext=Qt.frameOpts.duration,l.transition(ct,Qt.frame.data,Qt.frame.layout,k.coerceTraceIndices(ct,Qt.frame.traces),Qt.frameOpts,Qt.transitionOpts).then(function(){Qt.onComplete&&Qt.onComplete()}),ct.emit("plotly_animatingframe",{name:re,frame:Qt.frame,animation:{frame:Qt.frameOpts,transition:Qt.transitionOpts}})}else ct.emit("plotly_animated"),window.cancelAnimationFrame(vt._animationRaf),vt._animationRaf=null}()};Vt()}var Ft,Gt,Bt=0;function de(Vt){return Array.isArray(yt)?Bt>=yt.length?Vt.transitionOpts=yt[Bt]:Vt.transitionOpts=yt[0]:Vt.transitionOpts=yt,Bt++,Vt}var ie=[],pe=xt==null,Ot=Array.isArray(xt);if(pe||Ot||!a.isPlainObject(xt)){if(pe||["string","number"].indexOf(typeof xt)!==-1)for(Ft=0;Ft<vt._frames.length;Ft++)(Gt=vt._frames[Ft])&&(pe||String(Gt.group)===String(xt))&&ie.push({type:"byname",name:String(Gt.name),data:de({name:Gt.name})});else if(Ot)for(Ft=0;Ft<xt.length;Ft++){var gt=xt[Ft];["number","string"].indexOf(typeof gt)!==-1?(gt=String(gt),ie.push({type:"byname",name:gt,data:de({name:gt})})):a.isPlainObject(gt)&&ie.push({type:"object",data:de(a.extendFlat({},gt))})}}else ie.push({type:"object",data:de(a.extendFlat({},xt))});for(Ft=0;Ft<ie.length;Ft++)if((Gt=ie[Ft]).type==="byname"&&!vt._frameHash[Gt.data.name])return a.warn('animate failure: frame not found: "'+Gt.data.name+'"'),void Nt();["next","immediate"].indexOf(dt.mode)!==-1&&function(){if(vt._frameQueue.length!==0){for(;vt._frameQueue.length;){var Vt=vt._frameQueue.pop();Vt.onInterrupt&&Vt.onInterrupt()}ct.emit("plotly_animationinterrupted",[])}}(),dt.direction==="reverse"&&ie.reverse();var jt=ct._fullLayout._currentFrame;if(jt&&dt.fromcurrent){var Xt=-1;for(Ft=0;Ft<ie.length;Ft++)if((Gt=ie[Ft]).type==="byname"&&Gt.name===jt){Xt=Ft;break}if(Xt>0&&Xt<ie.length-1){var xe=[];for(Ft=0;Ft<ie.length;Ft++)Gt=ie[Ft],(ie[Ft].type!=="byname"||Ft>Xt)&&xe.push(Gt);ie=xe}}ie.length>0?function(Vt){if(Vt.length!==0){for(var Qt=0;Qt<Vt.length;Qt++){var re;re=Vt[Qt].type==="byname"?l.computeFrame(ct,Vt[Qt].name):Vt[Qt].data;var _e=Lt(Qt),ce=Tt(Qt);ce.duration=Math.min(ce.duration,_e.duration);var Me={frame:re,name:Vt[Qt].name,frameOpts:_e,transitionOpts:ce};Qt===Vt.length-1&&(Me.onComplete=St(At,2),Me.onInterrupt=Nt),vt._frameQueue.push(Me)}dt.mode==="immediate"&&(vt._lastFrameAt=-1/0),vt._animationRaf||zt()}}(ie):(ct.emit("plotly_animated"),At())})},h.addFrames=function(ct,xt,dt){if(ct=a.getGraphDiv(ct),xt==null)return Promise.resolve();if(!a.isPlotDiv(ct))throw new Error("This element is not a Plotly plot: "+ct+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var vt,yt,Mt,Tt,Lt=ct._transitionData._frames,St=ct._transitionData._frameHash;if(!Array.isArray(xt))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+xt);var At=Lt.length+2*xt.length,Nt=[],zt={};for(vt=xt.length-1;vt>=0;vt--)if(a.isPlainObject(xt[vt])){var Ft=xt[vt].name,Gt=(St[Ft]||zt[Ft]||{}).name,Bt=xt[vt].name,de=St[Gt]||zt[Gt];Gt&&Bt&&typeof Bt=="number"&&de&&I<5&&(I++,a.warn('addFrames: overwriting frame "'+(St[Gt]||zt[Gt]).name+'" with a frame whose name of type "number" also equates to "'+Gt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),I===5&&a.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),zt[Ft]={name:Ft},Nt.push({frame:l.supplyFrameDefaults(xt[vt]),index:dt&&dt[vt]!==void 0&&dt[vt]!==null?dt[vt]:At+vt})}Nt.sort(function(Vt,Qt){return Vt.index>Qt.index?-1:Vt.index<Qt.index?1:0});var ie=[],pe=[],Ot=Lt.length;for(vt=Nt.length-1;vt>=0;vt--){if(typeof(yt=Nt[vt].frame).name=="number"&&a.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!yt.name)for(;St[yt.name="frame "+ct._transitionData._counter++];);if(St[yt.name]){for(Mt=0;Mt<Lt.length&&(Lt[Mt]||{}).name!==yt.name;Mt++);ie.push({type:"replace",index:Mt,value:yt}),pe.unshift({type:"replace",index:Mt,value:Lt[Mt]})}else Tt=Math.max(0,Math.min(Nt[vt].index,Ot)),ie.push({type:"insert",index:Tt,value:yt}),pe.unshift({type:"delete",index:Tt}),Ot++}var gt=l.modifyFrames,jt=l.modifyFrames,Xt=[ct,pe],xe=[ct,ie];return o&&o.add(ct,gt,Xt,jt,xe),l.modifyFrames(ct,ie)},h.deleteFrames=function(ct,xt){if(ct=a.getGraphDiv(ct),!a.isPlotDiv(ct))throw new Error("This element is not a Plotly plot: "+ct);var dt,vt,yt=ct._transitionData._frames,Mt=[],Tt=[];if(!xt)for(xt=[],dt=0;dt<yt.length;dt++)xt.push(dt);for((xt=xt.slice()).sort(),dt=xt.length-1;dt>=0;dt--)vt=xt[dt],Mt.push({type:"delete",index:vt}),Tt.unshift({type:"insert",index:vt,value:yt[vt]});var Lt=l.modifyFrames,St=l.modifyFrames,At=[ct,Tt],Nt=[ct,Mt];return o&&o.add(ct,Lt,At,St,Nt),l.modifyFrames(ct,Mt)},h.addTraces=function ct(xt,dt,vt){xt=a.getGraphDiv(xt);var yt,Mt,Tt=[],Lt=h.deleteTraces,St=ct,At=[xt,Tt],Nt=[xt,dt];for(function(zt,Ft,Gt){var Bt,de;if(!Array.isArray(zt.data))throw new Error("gd.data must be an array.");if(Ft===void 0)throw new Error("traces must be defined.");for(Array.isArray(Ft)||(Ft=[Ft]),Bt=0;Bt<Ft.length;Bt++)if(typeof(de=Ft[Bt])!="object"||Array.isArray(de)||de===null)throw new Error("all values in traces array must be non-array objects");if(Gt===void 0||Array.isArray(Gt)||(Gt=[Gt]),Gt!==void 0&&Gt.length!==Ft.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(xt,dt,vt),Array.isArray(dt)||(dt=[dt]),dt=dt.map(function(zt){return a.extendFlat({},zt)}),k.cleanData(dt),yt=0;yt<dt.length;yt++)xt.data.push(dt[yt]);for(yt=0;yt<dt.length;yt++)Tt.push(-dt.length+yt);if(vt===void 0)return Mt=h.redraw(xt),o.add(xt,Lt,At,St,Nt),Mt;Array.isArray(vt)||(vt=[vt]);try{H(xt,Tt,vt)}catch(zt){throw xt.data.splice(xt.data.length-dt.length,dt.length),zt}return o.startSequence(xt),o.add(xt,Lt,At,St,Nt),Mt=h.moveTraces(xt,Tt,vt),o.stopSequence(xt),Mt},h.deleteTraces=function ct(xt,dt){xt=a.getGraphDiv(xt);var vt,yt,Mt=[],Tt=h.addTraces,Lt=ct,St=[xt,Mt,dt],At=[xt,dt];if(dt===void 0)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(dt)||(dt=[dt]),z(xt,dt,"indices"),(dt=j(dt,xt.data.length-1)).sort(a.sorterDes),vt=0;vt<dt.length;vt+=1)yt=xt.data.splice(dt[vt],1)[0],Mt.push(yt);var Nt=h.redraw(xt);return o.add(xt,Tt,St,Lt,At),Nt},h.extendTraces=function ct(xt,dt,vt,yt){var Mt=U(xt=a.getGraphDiv(xt),dt,vt,yt,function(St,At,Nt){var zt,Ft;if(a.isTypedArray(St))if(Nt<0){var Gt=new St.constructor(0),Bt=it(St,At);Nt<0?(zt=Bt,Ft=Gt):(zt=Gt,Ft=Bt)}else if(zt=new St.constructor(Nt),Ft=new St.constructor(St.length+At.length-Nt),Nt===At.length)zt.set(At),Ft.set(St);else if(Nt<At.length){var de=At.length-Nt;zt.set(At.subarray(de)),Ft.set(St),Ft.set(At.subarray(0,de),St.length)}else{var ie=Nt-At.length,pe=St.length-ie;zt.set(St.subarray(pe)),zt.set(At,ie),Ft.set(St.subarray(0,pe))}else zt=St.concat(At),Ft=Nt>=0&&Nt<zt.length?zt.splice(0,zt.length-Nt):[];return[zt,Ft]}),Tt=h.redraw(xt),Lt=[xt,Mt.update,vt,Mt.maxPoints];return o.add(xt,h.prependTraces,Lt,ct,arguments),Tt},h.moveTraces=function ct(xt,dt,vt){var yt,Mt=[],Tt=[],Lt=ct,St=ct,At=[xt=a.getGraphDiv(xt),vt,dt],Nt=[xt,dt,vt];if(H(xt,dt,vt),dt=Array.isArray(dt)?dt:[dt],vt===void 0)for(vt=[],yt=0;yt<dt.length;yt++)vt.push(-dt.length+yt);for(vt=Array.isArray(vt)?vt:[vt],dt=j(dt,xt.data.length-1),vt=j(vt,xt.data.length-1),yt=0;yt<xt.data.length;yt++)dt.indexOf(yt)===-1&&Mt.push(xt.data[yt]);for(yt=0;yt<dt.length;yt++)Tt.push({newIndex:vt[yt],trace:xt.data[dt[yt]]});for(Tt.sort(function(Ft,Gt){return Ft.newIndex-Gt.newIndex}),yt=0;yt<Tt.length;yt+=1)Mt.splice(Tt[yt].newIndex,0,Tt[yt].trace);xt.data=Mt;var zt=h.redraw(xt);return o.add(xt,Lt,At,St,Nt),zt},h.prependTraces=function ct(xt,dt,vt,yt){var Mt=U(xt=a.getGraphDiv(xt),dt,vt,yt,function(St,At,Nt){var zt,Ft;if(a.isTypedArray(St))if(Nt<=0){var Gt=new St.constructor(0),Bt=it(At,St);Nt<0?(zt=Bt,Ft=Gt):(zt=Gt,Ft=Bt)}else if(zt=new St.constructor(Nt),Ft=new St.constructor(St.length+At.length-Nt),Nt===At.length)zt.set(At),Ft.set(St);else if(Nt<At.length){var de=At.length-Nt;zt.set(At.subarray(0,de)),Ft.set(At.subarray(de)),Ft.set(St,de)}else{var ie=Nt-At.length;zt.set(At),zt.set(St.subarray(0,ie),At.length),Ft.set(St.subarray(ie))}else zt=At.concat(St),Ft=Nt>=0&&Nt<zt.length?zt.splice(Nt,zt.length):[];return[zt,Ft]}),Tt=h.redraw(xt),Lt=[xt,Mt.update,vt,Mt.maxPoints];return o.add(xt,h.extendTraces,Lt,ct,arguments),Tt},h.newPlot=function(ct,xt,dt,vt){return ct=a.getGraphDiv(ct),l.cleanPlot([],{},ct._fullData||[],ct._fullLayout||{}),l.purge(ct),h._doPlot(ct,xt,dt,vt)},h._doPlot=function(ct,xt,dt,vt){var yt;if(ct=a.getGraphDiv(ct),r.init(ct),a.isPlainObject(xt)){var Mt=xt;xt=Mt.data,dt=Mt.layout,vt=Mt.config,yt=Mt.frames}if(r.triggerHandler(ct,"plotly_beforeplot",[xt,dt,vt])===!1)return Promise.reject();xt||dt||a.isPlotDiv(ct)||a.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",ct),N(ct,vt),dt||(dt={}),f.select(ct).classed("js-plotly-plot",!0),p.makeTester(),Array.isArray(ct._promises)||(ct._promises=[]);var Tt=(ct.data||[]).length===0&&Array.isArray(xt);Array.isArray(xt)&&(k.cleanData(xt),Tt?ct.data=xt:ct.data.push.apply(ct.data,xt),ct.empty=!1),ct.layout&&!Tt||(ct.layout=k.cleanLayout(dt)),l.supplyDefaults(ct);var Lt=ct._fullLayout,St=Lt._has("cartesian");Lt._replotting=!0,(Tt||Lt._shouldCreateBgLayer)&&(function(pe){var Ot=f.select(pe),gt=pe._fullLayout;if(gt._calcInverseTransform=qt,gt._calcInverseTransform(pe),gt._container=Ot.selectAll(".plot-container").data([0]),gt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),gt._paperdiv=gt._container.selectAll(".svg-container").data([0]),gt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),gt._glcontainer=gt._paperdiv.selectAll(".gl-container").data([{}]),gt._glcontainer.enter().append("div").classed("gl-container",!0),gt._paperdiv.selectAll(".main-svg").remove(),gt._paperdiv.select(".modebar-container").remove(),gt._paper=gt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),gt._toppaper=gt._paperdiv.append("svg").classed("main-svg",!0),gt._modebardiv=gt._paperdiv.append("div"),delete gt._modeBar,gt._hoverpaper=gt._paperdiv.append("svg").classed("main-svg",!0),!gt._uid){var jt={};f.selectAll("defs").each(function(){this.id&&(jt[this.id.split("-")[1]]=1)}),gt._uid=a.randstr(jt)}gt._paperdiv.selectAll(".main-svg").attr(b.svgAttrs),gt._defs=gt._paper.append("defs").attr("id","defs-"+gt._uid),gt._clips=gt._defs.append("g").classed("clips",!0),gt._topdefs=gt._toppaper.append("defs").attr("id","topdefs-"+gt._uid),gt._topclips=gt._topdefs.append("g").classed("clips",!0),gt._bgLayer=gt._paper.append("g").classed("bglayer",!0),gt._draggers=gt._paper.append("g").classed("draglayer",!0);var Xt=gt._paper.append("g").classed("layer-below",!0);gt._imageLowerLayer=Xt.append("g").classed("imagelayer",!0),gt._shapeLowerLayer=Xt.append("g").classed("shapelayer",!0),gt._cartesianlayer=gt._paper.append("g").classed("cartesianlayer",!0),gt._polarlayer=gt._paper.append("g").classed("polarlayer",!0),gt._smithlayer=gt._paper.append("g").classed("smithlayer",!0),gt._ternarylayer=gt._paper.append("g").classed("ternarylayer",!0),gt._geolayer=gt._paper.append("g").classed("geolayer",!0),gt._funnelarealayer=gt._paper.append("g").classed("funnelarealayer",!0),gt._pielayer=gt._paper.append("g").classed("pielayer",!0),gt._iciclelayer=gt._paper.append("g").classed("iciclelayer",!0),gt._treemaplayer=gt._paper.append("g").classed("treemaplayer",!0),gt._sunburstlayer=gt._paper.append("g").classed("sunburstlayer",!0),gt._indicatorlayer=gt._toppaper.append("g").classed("indicatorlayer",!0),gt._glimages=gt._paper.append("g").classed("glimages",!0);var xe=gt._toppaper.append("g").classed("layer-above",!0);gt._imageUpperLayer=xe.append("g").classed("imagelayer",!0),gt._shapeUpperLayer=xe.append("g").classed("shapelayer",!0),gt._selectionLayer=gt._toppaper.append("g").classed("selectionlayer",!0),gt._infolayer=gt._toppaper.append("g").classed("infolayer",!0),gt._menulayer=gt._toppaper.append("g").classed("menulayer",!0),gt._zoomlayer=gt._toppaper.append("g").classed("zoomlayer",!0),gt._hoverlayer=gt._hoverpaper.append("g").classed("hoverlayer",!0),gt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),pe.emit("plotly_framework")}(ct),Lt._shouldCreateBgLayer&&delete Lt._shouldCreateBgLayer),p.initGradients(ct),p.initPatterns(ct),Tt&&u.saveShowSpikeInitial(ct);var At=!ct.calcdata||ct.calcdata.length!==(ct._fullData||[]).length;At&&l.doCalcdata(ct);for(var Nt=0;Nt<ct.calcdata.length;Nt++)ct.calcdata[Nt][0].trace=ct._fullData[Nt];ct._context.responsive?ct._responsiveChartHandler||(ct._responsiveChartHandler=function(){a.isHidden(ct)||l.resize(ct)},window.addEventListener("resize",ct._responsiveChartHandler)):a.clearResponsive(ct);var zt=a.extendFlat({},Lt._size),Ft=0;function Gt(){if(l.clearAutoMarginIds(ct),P.drawMarginPushers(ct),u.allowAutoMargin(ct),ct._fullLayout.title.text&&ct._fullLayout.title.automargin&&l.allowAutoMargin(ct,"title.automargin"),Lt._has("pie"))for(var pe=ct._fullData,Ot=0;Ot<pe.length;Ot++){var gt=pe[Ot];gt.type==="pie"&&gt.automargin&&l.allowAutoMargin(ct,"pie."+gt.uid+".automargin")}return l.doAutoMargin(ct),l.previousPromises(ct)}function Bt(){ct._transitioning||(P.doAutoRangeAndConstraints(ct),Tt&&u.saveRangeInitial(ct),s.getComponentMethod("rangeslider","calcAutorange")(ct))}var de=[l.previousPromises,function(){if(yt)return h.addFrames(ct,yt)},function pe(){for(var Ot=Lt._basePlotModules,gt=0;gt<Ot.length;gt++)Ot[gt].drawFramework&&Ot[gt].drawFramework(ct);!Lt._glcanvas&&Lt._has("gl")&&(Lt._glcanvas=Lt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Vt){return Vt.key}),Lt._glcanvas.enter().append("canvas").attr("class",function(Vt){return"gl-canvas gl-canvas-"+Vt.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var jt=ct._context.plotGlPixelRatio;if(Lt._glcanvas){Lt._glcanvas.attr("width",Lt.width*jt).attr("height",Lt.height*jt).style("width",Lt.width+"px").style("height",Lt.height+"px");var Xt=Lt._glcanvas.data()[0].regl;if(Xt&&(Math.floor(Lt.width*jt)!==Xt._gl.drawingBufferWidth||Math.floor(Lt.height*jt)!==Xt._gl.drawingBufferHeight)){var xe="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Ft)return a.log(xe+" Clearing graph and plotting again."),l.cleanPlot([],{},ct._fullData,Lt),l.supplyDefaults(ct),Lt=ct._fullLayout,l.doCalcdata(ct),Ft++,pe();a.error(xe)}}return Lt.modebar.orientation==="h"?Lt._modebardiv.style("height",null).style("width","100%"):Lt._modebardiv.style("width",null).style("height",Lt.height+"px"),l.previousPromises(ct)},Gt,function(){if(l.didMarginChange(zt,Lt._size))return a.syncOrAsync([Gt,P.layoutStyles],ct)}];St&&de.push(function(){if(At)return a.syncOrAsync([s.getComponentMethod("shapes","calcAutorange"),s.getComponentMethod("annotations","calcAutorange"),Bt],ct);Bt()}),de.push(P.layoutStyles),St&&de.push(function(){return u.draw(ct,Tt?"":"redraw")},function(pe){var Ot=pe._fullLayout._insideTickLabelsUpdaterange;if(Ot)return pe._fullLayout._insideTickLabelsUpdaterange=void 0,rt(pe,Ot).then(function(){u.saveRangeInitial(pe,!0)})}),de.push(P.drawData,P.finalDraw,g,l.addLinks,l.rehover,l.redrag,l.reselect,l.doAutoMargin,l.previousPromises);var ie=a.syncOrAsync(de,ct);return ie&&ie.then||(ie=Promise.resolve()),ie.then(function(){return x(ct),ct})},h.purge=function(ct){var xt=(ct=a.getGraphDiv(ct))._fullLayout||{},dt=ct._fullData||[];return l.cleanPlot([],{},dt,xt),l.purge(ct),r.purge(ct),xt._container&&xt._container.remove(),delete ct._context,ct},h.react=function(ct,xt,dt,vt){var yt,Mt;ct=a.getGraphDiv(ct),k.clearPromiseQueue(ct);var Tt=ct._fullData,Lt=ct._fullLayout;if(a.isPlotDiv(ct)&&Tt&&Lt){if(a.isPlainObject(xt)){var St=xt;xt=St.data,dt=St.layout,vt=St.config,yt=St.frames}var At=!1;if(vt){var Nt=a.extendDeep({},ct._context);ct._context=void 0,N(ct,vt),At=Dt(Nt,ct._context)}ct.data=xt||[],k.cleanData(ct.data),ct.layout=dt||{},k.cleanLayout(ct.layout),function(te,X,et,It){var Ct,Ut,Rt,Ht,Zt,Kt,oe,ue,Se,he,ve=It._preGUI,ke=[],Ae={},ee={};for(Ct in ve){if(Zt=kt(Ct,_t)){if(Se=Zt.head,he=Zt.tail,Ut=Zt.attr||Se+".uirevision",(Ht=(Rt=n(It,Ut).get())&&lt(Ut,X))&&Ht===Rt){if((Kt=ve[Ct])===null&&(Kt=void 0),bt(ue=(oe=n(X,Ct)).get(),Kt)){ue===void 0&&he==="autorange"&&ke.push(Se),oe.set(D(n(It,Ct).get()));continue}if(he==="autorange"||he.substr(0,6)==="range["){var fe=ve[Se+".range[0]"],ge=ve[Se+".range[1]"],je=ve[Se+".autorange"];if(je||je===null&&fe===null&&ge===null){if(!(Se in Ae)){var Ie=n(X,Se).get();Ae[Se]=Ie&&(Ie.autorange||Ie.autorange!==!1&&(!Ie.range||Ie.range.length!==2))}if(Ae[Se]){oe.set(D(n(It,Ct).get()));continue}}}}}else a.warn("unrecognized GUI edit: "+Ct);delete ve[Ct],Zt&&Zt.tail.substr(0,6)==="range["&&(ee[Zt.head]=1)}for(var Fe=0;Fe<ke.length;Fe++){var ye=ke[Fe];if(ee[ye]){var be=n(X,ye).get();be&&delete be.autorange}}var Te=It._tracePreGUI;for(var Pe in Te){var Le,Oe=Te[Pe],Ee=null;for(Ct in Oe){if(!Ee){var He=st(Pe,et);if(He<0){delete Te[Pe];break}var ze=ht(Pe,te,(Le=et[He]._fullInput).index);if(ze<0){delete Te[Pe];break}Ee=te[ze]}if(Zt=kt(Ct,Pt)){if(Zt.attr?Ht=(Rt=n(It,Zt.attr).get())&&lt(Zt.attr,X):(Rt=Le.uirevision,(Ht=Ee.uirevision)===void 0&&(Ht=X.uirevision)),Ht&&Ht===Rt&&((Kt=Oe[Ct])===null&&(Kt=void 0),bt(ue=(oe=n(Ee,Ct)).get(),Kt))){oe.set(D(n(Le,Ct).get()));continue}}else a.warn("unrecognized GUI edit: "+Ct+" in trace uid "+Pe);delete Oe[Ct]}}}(ct.data,ct.layout,Tt,Lt),l.supplyDefaults(ct,{skipUpdateCalc:!0});var zt=ct._fullData,Ft=ct._fullLayout,Gt=Ft.datarevision===void 0,Bt=Ft.transition,de=function(te,X,et,It,Ct){var Ut=A.layoutFlags();return Ut.arrays={},Ut.rangesAltered={},Ut.nChanges=0,Ut.nChangesAnim=0,pt(X,et,[],{getValObject:function(Rt){return e.getLayoutValObject(et,Rt)},flags:Ut,immutable:It,transition:Ct,gd:te}),(Ut.plot||Ut.calc)&&(Ut.layoutReplot=!0),Ct&&Ut.nChanges&&Ut.nChangesAnim&&(Ut.anim=Ut.nChanges===Ut.nChangesAnim?"all":"some"),Ut}(ct,Lt,Ft,Gt,Bt),ie=de.newDataRevision,pe=function(te,X,et,It,Ct,Ut){var Rt=X.length===et.length;if(!Ct&&!Rt)return{fullReplot:!0,calc:!0};var Ht,Zt,Kt=A.traceFlags();Kt.arrays={},Kt.nChanges=0,Kt.nChangesAnim=0;var oe={getValObject:function(Se){var he=e.getTraceValObject(Zt,Se);return!Zt._module.animatable&&he.anim&&(he.anim=!1),he},flags:Kt,immutable:It,transition:Ct,newDataRevision:Ut,gd:te},ue={};for(Ht=0;Ht<X.length;Ht++)if(et[Ht]){if(Zt=et[Ht]._fullInput,l.hasMakesDataTransform(Zt)&&(Zt=et[Ht]),ue[Zt.uid])continue;ue[Zt.uid]=1,pt(X[Ht]._fullInput,Zt,[],oe)}return(Kt.calc||Kt.plot)&&(Kt.fullReplot=!0),Ct&&Kt.nChanges&&Kt.nChangesAnim&&(Kt.anim=Kt.nChanges===Kt.nChangesAnim&&Rt?"all":"some"),Kt}(ct,Tt,zt,Gt,Bt,ie);if(Q(ct)&&(de.layoutReplot=!0),pe.calc||de.calc){ct.calcdata=void 0;for(var Ot=Object.getOwnPropertyNames(Ft),gt=0;gt<Ot.length;gt++){var jt=Ot[gt],Xt=jt.substring(0,5);if(Xt==="xaxis"||Xt==="yaxis"){var xe=Ft[jt]._emptyCategories;xe&&xe()}}}else l.supplyDefaultsUpdateCalc(ct.calcdata,zt);var Vt=[];if(yt&&(ct._transitionData={},l.createTransitionData(ct),Vt.push(function(){return h.addFrames(ct,yt)})),Ft.transition&&!At&&(pe.anim||de.anim))de.ticks&&Vt.push(P.doTicksRelayout),l.doCalcdata(ct),P.doAutoRangeAndConstraints(ct),Vt.push(function(){return l.transitionFromReact(ct,pe,de,Lt)});else if(pe.fullReplot||de.layoutReplot||At)ct._fullLayout._skipDefaults=!0,Vt.push(h._doPlot);else{for(var Qt in de.arrays){var re=de.arrays[Qt];if(re.length){var _e=s.getComponentMethod(Qt,"drawOne");if(_e!==a.noop)for(var ce=0;ce<re.length;ce++)_e(ct,re[ce]);else{var Me=s.getComponentMethod(Qt,"draw");if(Me===a.noop)throw new Error("cannot draw components: "+Qt);Me(ct)}}}Vt.push(l.previousPromises),pe.style&&Vt.push(P.doTraceStyle),(pe.colorbars||de.colorbars)&&Vt.push(P.doColorBars),de.legend&&Vt.push(P.doLegend),de.layoutstyle&&Vt.push(P.layoutStyles),de.axrange&&E(Vt),de.ticks&&Vt.push(P.doTicksRelayout),de.modebar&&Vt.push(P.doModeBar),de.camera&&Vt.push(P.doCamera),Vt.push(x)}Vt.push(l.rehover,l.redrag,l.reselect),(Mt=a.syncOrAsync(Vt,ct))&&Mt.then||(Mt=Promise.resolve(ct))}else Mt=h.newPlot(ct,xt,dt,vt);return Mt.then(function(){return ct.emit("plotly_react",{data:xt,layout:dt}),ct})},h.redraw=function(ct){if(ct=a.getGraphDiv(ct),!a.isPlotDiv(ct))throw new Error("This element is not a Plotly plot: "+ct);return k.cleanData(ct.data),k.cleanLayout(ct.layout),ct.calcdata=void 0,h._doPlot(ct).then(function(){return ct.emit("plotly_redraw"),ct})},h.relayout=rt,h.restyle=K,h.setPlotConfig=function(ct){return a.extendFlat(T,ct)},h.update=at,h._guiRelayout=tt(rt),h._guiRestyle=tt(K),h._guiUpdate=tt(at),h._storeDirectGUIEdit=function(ct,xt,dt){for(var vt in dt)q(vt,n(ct,vt).get(),dt[vt],xt)}},556:function(J){var h={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},t={};(function f(y,i){for(var a in y){var n=y[a];n.valType?i[a]=n.dflt:(i[a]||(i[a]={}),f(n,i[a]))}})(h,t),J.exports={configAttributes:h,dfltConfig:t}},3060:function(J,h,t){var f=t(4040),y=t(3400),i=t(5464),a=t(4859),n=t(6672),r=t(5656),o=t(556).configAttributes,s=t(7824),e=y.extendDeepAll,l=y.isPlainObject,u=y.isArrayOrTypedArray,m=y.nestedProperty,_=y.valObjectMeta,p="_isSubplotObj",v="_isLinkedToArray",g="_deprecated",b=[p,v,"_arrayAttrRegexps",g];function d(L,I,x){if(!L)return!1;if(L._isLinkedToArray){if(T(I[x]))x++;else if(x<I.length)return!1}for(;x<I.length;x++){var C=L[I[x]];if(!l(C)||(L=C,x===I.length-1))break;if(L._isLinkedToArray){if(!T(I[++x]))return!1}else if(L.valType==="info_array"){var F=I[++x];if(!T(F))return!1;var N=L.items;if(Array.isArray(N)){if(F>=N.length)return!1;if(L.dimensions===2){if(x++,I.length===x)return L;var j=I[x];if(!T(j))return!1;L=N[F][j]}else L=N[F]}else L=N}}return L}function T(L){return L===Math.round(L)&&L>=0}function w(){var L,I,x={};for(L in e(x,a),f.subplotsRegistry)if((I=f.subplotsRegistry[L]).layoutAttributes)if(Array.isArray(I.attr))for(var C=0;C<I.attr.length;C++)P(x,I,I.attr[C]);else P(x,I,I.attr==="subplot"?I.name:I.attr);for(L in f.componentsRegistry){var F=(I=f.componentsRegistry[L]).schema;if(F&&(F.subplots||F.layout)){var N=F.subplots;if(N&&N.xaxis&&!N.yaxis)for(var j in N.xaxis)delete x.yaxis[j];delete x.xaxis.shift,delete x.xaxis.autoshift}else I.name==="colorscale"?e(x,I.layoutAttributes):I.layoutAttributes&&A(x,I.layoutAttributes,I.name)}return{layoutAttributes:k(x)}}function k(L){return function(I){h.crawl(I,function(x,C,F){h.isValObject(x)?x.arrayOk!==!0&&x.valType!=="data_array"||(F[C+"src"]={valType:"string",editType:"none"}):l(x)&&(x.role="object")})}(L),function(I){h.crawl(I,function(x,C,F){if(x){var N=x[v];N&&(delete x[v],F[C]={items:{}},F[C].items[N]=x,F[C].role="object")}})}(L),function(I){(function x(C){for(var F in C)if(l(C[F]))x(C[F]);else if(Array.isArray(C[F]))for(var N=0;N<C[F].length;N++)x(C[F][N]);else C[F]instanceof RegExp&&(C[F]=C[F].toString())})(I)}(L),L}function P(L,I,x){var C=m(L,x),F=e({},I.layoutAttributes);F[p]=!0,C.set(F)}function A(L,I,x){var C=m(L,x);C.set(e(C.get()||{},I))}h.IS_SUBPLOT_OBJ=p,h.IS_LINKED_TO_ARRAY=v,h.DEPRECATED=g,h.UNDERSCORE_ATTRS=b,h.get=function(){var L={};f.allTypes.forEach(function(C){L[C]=function(F){var N,j;j=(N=f.modules[F]._module).basePlotModule;var z={type:null},H=e({},i),U=e({},N.attributes);h.crawl(U,function(D,B,q,nt,ot){m(H,ot).set(void 0),D===void 0&&m(U,ot).set(void 0)}),e(z,H),f.traceIs(F,"noOpacity")&&delete z.opacity,f.traceIs(F,"showLegend")||(delete z.showlegend,delete z.legendgroup),f.traceIs(F,"noHover")&&(delete z.hoverinfo,delete z.hoverlabel),N.selectPoints||delete z.selectedpoints,e(z,U),j.attributes&&e(z,j.attributes),z.type=F;var it={meta:N.meta||{},categories:N.categories||{},animatable:!!N.animatable,type:F,attributes:k(z)};if(N.layoutAttributes){var K={};e(K,N.layoutAttributes),it.layoutAttributes=k(K)}return N.animatable||h.crawl(it,function(D){h.isValObject(D)&&"anim"in D&&delete D.anim}),it}(C)});var I,x={};return Object.keys(f.transformsRegistry).forEach(function(C){x[C]=function(F){var N=f.transformsRegistry[F],j=e({},N.attributes);return Object.keys(f.componentsRegistry).forEach(function(z){var H=f.componentsRegistry[z];H.schema&&H.schema.transforms&&H.schema.transforms[F]&&Object.keys(H.schema.transforms[F]).forEach(function(U){A(j,H.schema.transforms[F][U],U)})}),{attributes:k(j)}}(C)}),{defs:{valObjects:_,metaKeys:b.concat(["description","role","editType","impliedEdits"]),editType:{traces:s.traces,layout:s.layout},impliedEdits:{}},traces:L,layout:w(),transforms:x,frames:(I={frames:e({},n)},k(I),I.frames),animation:k(r),config:k(o)}},h.crawl=function(L,I,x,C){var F=x||0;C=C||"",Object.keys(L).forEach(function(N){var j=L[N];if(b.indexOf(N)===-1){var z=(C?C+".":"")+N;I(j,N,L,F,z),h.isValObject(j)||l(j)&&N!=="impliedEdits"&&h.crawl(j,I,F+1,z)}})},h.isValObject=function(L){return L&&L.valType!==void 0},h.findArrayAttributes=function(L){var I,x,C=[],F=[],N=[];function j(D,B,q,nt){F=F.slice(0,nt).concat([B]),N=N.slice(0,nt).concat([D&&D._isLinkedToArray]),D&&(D.valType==="data_array"||D.arrayOk===!0)&&(F[nt-1]!=="colorbar"||B!=="ticktext"&&B!=="tickvals")&&z(I,0,"")}function z(D,B,q){var nt=D[F[B]],ot=q+F[B];if(B===F.length-1)u(nt)&&C.push(x+ot);else if(N[B]){if(Array.isArray(nt))for(var rt=0;rt<nt.length;rt++)l(nt[rt])&&z(nt[rt],B+1,ot+"["+rt+"].")}else l(nt)&&z(nt,B+1,ot+".")}I=L,x="",h.crawl(i,j),L._module&&L._module.attributes&&h.crawl(L._module.attributes,j);var H=L.transforms;if(H)for(var U=0;U<H.length;U++){var it=H[U],K=it._module;K&&(x="transforms["+U+"].",I=it,h.crawl(K.attributes,j))}return C},h.getTraceValObject=function(L,I){var x,C,F=I[0],N=1;if(F==="transforms"){if(I.length===1)return i.transforms;var j=L.transforms;if(!Array.isArray(j)||!j.length)return!1;var z=I[1];if(!T(z)||z>=j.length)return!1;C=(x=(f.transformsRegistry[j[z].type]||{}).attributes)&&x[I[2]],N=3}else{var H=L._module;if(H||(H=(f.modules[L.type||i.type.dflt]||{})._module),!H)return!1;if(!(C=(x=H.attributes)&&x[F])){var U=H.basePlotModule;U&&U.attributes&&(C=U.attributes[F])}C||(C=i[F])}return d(C,I,N)},h.getLayoutValObject=function(L,I){var x=function(C,F){var N,j,z,H,U=C._basePlotModules;if(U){var it;for(N=0;N<U.length;N++){if((z=U[N]).attrRegex&&z.attrRegex.test(F)){if(z.layoutAttrOverrides)return z.layoutAttrOverrides;!it&&z.layoutAttributes&&(it=z.layoutAttributes)}var K=z.baseLayoutAttrOverrides;if(K&&F in K)return K[F]}if(it)return it}var D=C._modules;if(D){for(N=0;N<D.length;N++)if((H=D[N].layoutAttributes)&&F in H)return H[F]}for(j in f.componentsRegistry){if((z=f.componentsRegistry[j]).name==="colorscale"&&F.indexOf("coloraxis")===0)return z.layoutAttributes[F];if(!z.schema&&F===z.name)return z.layoutAttributes}return F in a&&a[F]}(L,I[0]);return d(x,I,1)}},1780:function(J,h,t){var f=t(3400),y=t(5464),i="templateitemname",a={name:{valType:"string",editType:"none"}};function n(o){return o&&typeof o=="string"}function r(o){var s=o.length-1;return o.charAt(s)!=="s"&&f.warn("bad argument to arrayDefaultKey: "+o),o.substr(0,o.length-1)+"defaults"}a[i]={valType:"string",editType:"calc"},h.templatedArray=function(o,s){return s._isLinkedToArray=o,s.name=a.name,s[i]=a[i],s},h.traceTemplater=function(o){var s,e,l={};for(s in o)e=o[s],Array.isArray(e)&&e.length&&(l[s]=0);return{newTrace:function(u){var m={type:s=f.coerce(u,{},y,"type"),_template:null};if(s in l){e=o[s];var _=l[s]%e.length;l[s]++,m._template=e[_]}return m}}},h.newContainer=function(o,s,e){var l=o._template,u=l&&(l[s]||e&&l[e]);return f.isPlainObject(u)||(u=null),o[s]={_template:u}},h.arrayTemplater=function(o,s,e){var l=o._template,u=l&&l[r(s)],m=l&&l[s];Array.isArray(m)&&m.length||(m=[]);var _={};return{newItem:function(p){var v={name:p.name,_input:p},g=v[i]=p[i];if(!n(g))return v._template=u,v;for(var b=0;b<m.length;b++){var d=m[b];if(d.name===g)return _[g]=1,v._template=d,v}return v[e]=p[e]||!1,v._template=!1,v},defaultItems:function(){for(var p=[],v=0;v<m.length;v++){var g=m[v],b=g.name;if(n(b)&&!_[b]){var d={_template:g,name:b,_input:{_templateitemname:b}};d[i]=g[i],p.push(d),_[b]=1}}return p}}},h.arrayDefaultKey=r,h.arrayEditor=function(o,s,e){var l=(f.nestedProperty(o,s).get()||[]).length,u=e._index,m=u>=l&&(e._input||{})._templateitemname;m&&(u=l);var _,p=s+"["+u+"]";function v(){_={},m&&(_[p]={},_[p][i]=m)}function g(d,T){m?f.nestedProperty(_[p],d).set(T):_[p+"."+d]=T}function b(){var d=_;return v(),d}return v(),{modifyBase:function(d,T){_[d]=T},modifyItem:g,getUpdateObj:b,applyUpdate:function(d,T){d&&g(d,T);var w=b();for(var k in w)f.nestedProperty(o,k).set(w[k])}}}},9172:function(J,h,t){var f=t(3428),y=t(4040),i=t(7316),a=t(3400),n=t(2736),r=t(3696),o=t(6308),s=t(3616),e=t(1668),l=t(3080),u=t(4460),m=t(4284),_=t(1888),p=_.enforce,v=_.clean,g=t(9280).doAutoRange,b="start";function d(A,L,I){for(var x=0;x<I.length;x++){var C=I[x][0],F=I[x][1];if(!(C[0]>=A[1]||C[1]<=A[0])&&F[0]<L[1]&&F[1]>L[0])return!0}return!1}function T(A){var L,I,x,C,F,N,j=A._fullLayout,z=j._size,H=z.p,U=u.list(A,"",!0);if(j._paperdiv.style({width:A._context.responsive&&j.autosize&&!A._context._hasZeroWidth&&!A.layout.width?"100%":j.width+"px",height:A._context.responsive&&j.autosize&&!A._context._hasZeroHeight&&!A.layout.height?"100%":j.height+"px"}).selectAll(".main-svg").call(s.setSize,j.width,j.height),A._context.setBackground(A,j.paper_bgcolor),h.drawMainTitle(A),l.manage(A),!j._has("cartesian"))return i.previousPromises(A);function it(At,Nt,zt){var Ft=At._lw/2;return At._id.charAt(0)==="x"?Nt?zt==="top"?Nt._offset-H-Ft:Nt._offset+Nt._length+H+Ft:z.t+z.h*(1-(At.position||0))+Ft%1:Nt?zt==="right"?Nt._offset+Nt._length+H+Ft:Nt._offset-H-Ft:z.l+z.w*(At.position||0)+Ft%1}for(L=0;L<U.length;L++){var K=(C=U[L])._anchorAxis;C._linepositions={},C._lw=s.crispRound(A,C.linewidth,1),C._mainLinePosition=it(C,K,C.side),C._mainMirrorPosition=C.mirror&&K?it(C,K,m.OPPOSITE_SIDE[C.side]):null}var D=[],B=[],q=[],nt=o.opacity(j.paper_bgcolor)===1&&o.opacity(j.plot_bgcolor)===1&&j.paper_bgcolor===j.plot_bgcolor;for(I in j._plots)if((x=j._plots[I]).mainplot)x.bg&&x.bg.remove(),x.bg=void 0;else{var ot=x.xaxis.domain,rt=x.yaxis.domain,$=x.plotgroup;if(d(ot,rt,q)){var E=$.node(),S=x.bg=a.ensureSingle($,"rect","bg");E.insertBefore(S.node(),E.childNodes[0]),B.push(I)}else $.select("rect.bg").remove(),q.push([ot,rt]),nt||(D.push(I),B.push(I))}var Y,Z,G,Q,at,tt,_t,Pt,kt,lt,st,ht,bt,pt=j._bgLayer.selectAll(".bg").data(D);for(pt.enter().append("rect").classed("bg",!0),pt.exit().remove(),pt.each(function(At){j._plots[At].bg=f.select(this)}),L=0;L<B.length;L++)x=j._plots[B[L]],F=x.xaxis,N=x.yaxis,x.bg&&F._offset!==void 0&&N._offset!==void 0&&x.bg.call(s.setRect,F._offset-H,N._offset-H,F._length+2*H,N._length+2*H).call(o.fill,j.plot_bgcolor).style("stroke-width",0);if(!j._hasOnlyLargeSploms)for(I in j._plots){x=j._plots[I],F=x.xaxis,N=x.yaxis;var Dt,qt,ct=x.clipId="clip"+j._uid+I+"plot",xt=a.ensureSingleById(j._clips,"clipPath",ct,function(At){At.classed("plotclip",!0).append("rect")});x.clipRect=xt.select("rect").attr({width:F._length,height:N._length}),s.setTranslate(x.plot,F._offset,N._offset),x._hasClipOnAxisFalse?(Dt=null,qt=ct):(Dt=ct,qt=null),s.setClipUrl(x.plot,Dt,A),x.layerClipId=qt}function dt(At){return"M"+Y+","+At+"H"+Z}function vt(At){return"M"+F._offset+","+At+"h"+F._length}function yt(At){return"M"+At+","+Pt+"V"+_t}function Mt(At){return N._shift!==void 0&&(At+=N._shift),"M"+At+","+N._offset+"v"+N._length}function Tt(At,Nt,zt){if(!At.showline||I!==At._mainSubplot)return"";if(!At._anchorAxis)return zt(At._mainLinePosition);var Ft=Nt(At._mainLinePosition);return At.mirror&&(Ft+=Nt(At._mainMirrorPosition)),Ft}for(I in j._plots){x=j._plots[I],F=x.xaxis,N=x.yaxis;var Lt="M0,0";w(F,I)&&(at=P(F,"left",N,U),Y=F._offset-(at?H+at:0),tt=P(F,"right",N,U),Z=F._offset+F._length+(tt?H+tt:0),G=it(F,N,"bottom"),Q=it(F,N,"top"),!(bt=!F._anchorAxis||I!==F._mainSubplot)||F.mirror!=="allticks"&&F.mirror!=="all"||(F._linepositions[I]=[G,Q]),Lt=Tt(F,dt,vt),bt&&F.showline&&(F.mirror==="all"||F.mirror==="allticks")&&(Lt+=dt(G)+dt(Q)),x.xlines.style("stroke-width",F._lw+"px").call(o.stroke,F.showline?F.linecolor:"rgba(0,0,0,0)")),x.xlines.attr("d",Lt);var St="M0,0";w(N,I)&&(st=P(N,"bottom",F,U),_t=N._offset+N._length+(st?H:0),ht=P(N,"top",F,U),Pt=N._offset-(ht?H:0),kt=it(N,F,"left"),lt=it(N,F,"right"),!(bt=!N._anchorAxis||I!==N._mainSubplot)||N.mirror!=="allticks"&&N.mirror!=="all"||(N._linepositions[I]=[kt,lt]),St=Tt(N,yt,Mt),bt&&N.showline&&(N.mirror==="all"||N.mirror==="allticks")&&(St+=yt(kt)+yt(lt)),x.ylines.style("stroke-width",N._lw+"px").call(o.stroke,N.showline?N.linecolor:"rgba(0,0,0,0)")),x.ylines.attr("d",St)}return u.makeClipPaths(A),i.previousPromises(A)}function w(A,L){return(A.ticks||A.showline)&&(L===A._mainSubplot||A.mirror==="all"||A.mirror==="allticks")}function k(A,L,I){if(!I.showline||!I._lw)return!1;if(I.mirror==="all"||I.mirror==="allticks")return!0;var x=I._anchorAxis;if(!x)return!1;var C=m.FROM_BL[L];return I.side===L?x.domain[C]===A.domain[C]:I.mirror&&x.domain[1-C]===A.domain[1-C]}function P(A,L,I,x){if(k(A,L,I))return I._lw;for(var C=0;C<x.length;C++){var F=x[C];if(F._mainAxis===I._mainAxis&&k(A,L,F))return F._lw}return 0}h.layoutStyles=function(A){return a.syncOrAsync([i.doAutoMargin,T],A)},h.drawMainTitle=function(A){var L,I=A._fullLayout.title,x=A._fullLayout,C=function(D){var B=D.title,q="middle";return a.isRightAnchor(B)?q="end":a.isLeftAnchor(B)&&(q=b),q}(x),F=function(D){var B=D.title,q="0em";return a.isTopAnchor(B)?q=m.CAP_SHIFT+"em":a.isMiddleAnchor(B)&&(q=m.MID_SHIFT+"em"),q}(x),N=function(D,B){var q=D.title,nt=D._size,ot=0;return B!=="0em"&&B?B===m.CAP_SHIFT+"em"&&(ot=q.pad.t):ot=-q.pad.b,q.y==="auto"?nt.t/2:q.yref==="paper"?nt.t+nt.h-nt.h*q.y+ot:D.height-D.height*q.y+ot}(x,F),j=function(D,B){var q=D.title,nt=D._size,ot=0;return B===b?ot=q.pad.l:B==="end"&&(ot=-q.pad.r),q.xref==="paper"?nt.l+nt.w*q.x+ot:D.width*q.x+ot}(x,C);if(e.draw(A,"gtitle",{propContainer:x,propName:"title.text",placeholder:x._dfltTitle.plot,attributes:{x:j,y:N,"text-anchor":C,dy:F}}),I.text&&I.automargin){var z=f.selectAll(".gtitle"),H=s.bBox(z.node()).height,U=function(D,B,q){var nt=B.y,ot=B.yanchor,rt=nt>.5?"t":"b",$=D._fullLayout.margin[rt],E=0;return B.yref==="paper"?E=q+B.pad.t+B.pad.b:B.yref==="container"&&(E=function(S,Y,Z,G,Q){var at=0;return Z==="middle"&&(at+=Q/2),S==="t"?(Z==="top"&&(at+=Q),at+=G-Y*G):(Z==="bottom"&&(at+=Q),at+=Y*G),at}(rt,nt,ot,D._fullLayout.height,q)+B.pad.t+B.pad.b),E>$?E:0}(A,I,H);if(U>0){(function(D,B,q,nt){var ot="title.automargin",rt=D._fullLayout.title,$=rt.y>.5?"t":"b",E={x:rt.x,y:rt.y,t:0,b:0},S={};rt.yref==="paper"&&function(Y,Z,G,Q,at){var tt=Z.yref==="paper"?Y._fullLayout._size.h:Y._fullLayout.height,_t=a.isTopAnchor(Z)?Q:Q-at,Pt=G==="b"?tt-_t:_t;return!(a.isTopAnchor(Z)&&G==="t"||a.isBottomAnchor(Z)&&G==="b")&&Pt<at}(D,rt,$,B,nt)?E[$]=q:rt.yref==="container"&&(S[$]=q,D._fullLayout._reservedMargin[ot]=S),i.allowAutoMargin(D,ot),i.autoMargin(D,ot,E)})(A,N,U,H),z.attr({x:j,y:N,"text-anchor":C,dy:(L=I.yanchor,L==="top"?m.CAP_SHIFT+.3+"em":L==="bottom"?"-0.3em":m.MID_SHIFT+"em")}).call(n.positionText,j,N);var it=(I.text.match(n.BR_TAG_ALL)||[]).length;if(it){var K=m.LINE_SPACING*it+m.MID_SHIFT;I.y===0&&(K=-K),z.selectAll(".line").each(function(){var D=+this.getAttribute("dy").slice(0,-2)-K+"em";this.setAttribute("dy",D)})}}}},h.doTraceStyle=function(A){var L,I=A.calcdata,x=[];for(L=0;L<I.length;L++){var C=I[L],F=C[0]||{},N=F.trace||{},j=N._module||{},z=j.arraysToCalcdata;z&&z(C,N);var H=j.editStyle;H&&x.push({fn:H,cd0:F})}if(x.length){for(L=0;L<x.length;L++){var U=x[L];U.fn(A,U.cd0)}r(A),h.redrawReglTraces(A)}return i.style(A),y.getComponentMethod("legend","draw")(A),i.previousPromises(A)},h.doColorBars=function(A){return y.getComponentMethod("colorbar","draw")(A),i.previousPromises(A)},h.layoutReplot=function(A){var L=A.layout;return A.layout=void 0,y.call("_doPlot",A,"",L)},h.doLegend=function(A){return y.getComponentMethod("legend","draw")(A),i.previousPromises(A)},h.doTicksRelayout=function(A){return u.draw(A,"redraw"),A._fullLayout._hasOnlyLargeSploms&&(y.subplotsRegistry.splom.updateGrid(A),r(A),h.redrawReglTraces(A)),h.drawMainTitle(A),i.previousPromises(A)},h.doModeBar=function(A){var L=A._fullLayout;l.manage(A);for(var I=0;I<L._basePlotModules.length;I++){var x=L._basePlotModules[I].updateFx;x&&x(A)}return i.previousPromises(A)},h.doCamera=function(A){for(var L=A._fullLayout,I=L._subplots.gl3d,x=0;x<I.length;x++){var C=L[I[x]];C._scene.setViewport(C)}},h.drawData=function(A){var L=A._fullLayout;r(A);for(var I=L._basePlotModules,x=0;x<I.length;x++)I[x].plot(A);return h.redrawReglTraces(A),i.style(A),y.getComponentMethod("selections","draw")(A),y.getComponentMethod("shapes","draw")(A),y.getComponentMethod("annotations","draw")(A),y.getComponentMethod("images","draw")(A),L._replotting=!1,i.previousPromises(A)},h.redrawReglTraces=function(A){var L=A._fullLayout;if(L._has("regl")){var I,x,C=A._fullData,F=[],N=[];for(L._hasOnlyLargeSploms&&L._splomGrid.draw(),I=0;I<C.length;I++){var j=C[I];j.visible===!0&&j._length!==0&&(j.type==="splom"?L._splomScenes[j.uid].draw():j.type==="scattergl"?a.pushUnique(F,j.xaxis+j.yaxis):j.type==="scatterpolargl"&&a.pushUnique(N,j.subplot))}for(I=0;I<F.length;I++)(x=L._plots[F[I]])._scene&&x._scene.draw();for(I=0;I<N.length;I++)(x=L[N[I]]._subplot)._scene&&x._scene.draw()}},h.doAutoRangeAndConstraints=function(A){for(var L,I=u.list(A,"",!0),x={},C=0;C<I.length;C++)if(!x[(L=I[C])._id]){x[L._id]=1,v(A,L),g(A,L);var F=L._matchGroup;if(F)for(var N in F){var j=u.getFromId(A,N);g(A,j,L.range),x[N]=1}}p(A)},h.finalDraw=function(A){y.getComponentMethod("rangeslider","draw")(A),y.getComponentMethod("rangeselector","draw")(A)},h.drawMarginPushers=function(A){y.getComponentMethod("legend","draw")(A),y.getComponentMethod("rangeselector","draw")(A),y.getComponentMethod("sliders","draw")(A),y.getComponentMethod("updatemenus","draw")(A),y.getComponentMethod("colorbar","draw")(A)}},4828:function(J,h,t){var f=t(3400),y=f.isPlainObject,i=t(3060),a=t(7316),n=t(5464),r=t(1780),o=t(556).dfltConfig;function s(g,b){g=f.extendDeep({},g);var d,T,w=Object.keys(g).sort();function k(x,C,F){if(y(C)&&y(x))s(x,C);else if(Array.isArray(C)&&Array.isArray(x)){var N=r.arrayTemplater({_template:g},F);for(T=0;T<C.length;T++){var j=C[T],z=N.newItem(j)._template;z&&s(z,j)}var H=N.defaultItems();for(T=0;T<H.length;T++)C.push(H[T]._template);for(T=0;T<C.length;T++)delete C[T].templateitemname}}for(d=0;d<w.length;d++){var P=w[d],A=g[P];if(P in b?k(A,b[P],P):b[P]=A,e(P)===P)for(var L in b){var I=e(L);L===I||I!==P||L in g||k(A,b[L],P)}}}function e(g){return g.replace(/[0-9]+$/,"")}function l(g,b,d,T,w){var k=w&&d(w);for(var P in g){var A=g[P],L=_(g,P,T),I=_(g,P,w),x=d(I);if(!x){var C=e(P);C!==P&&(x=d(I=_(g,C,w)))}if(!(k&&k===x||!x||x._noTemplating||x.valType==="data_array"||x.arrayOk&&Array.isArray(A)))if(!x.valType&&y(A))l(A,b,d,L,I);else if(x._isLinkedToArray&&Array.isArray(A))for(var F=!1,N=0,j={},z=0;z<A.length;z++){var H=A[z];if(y(H)){var U=H.name;if(U)j[U]||(l(H,b,d,_(A,N,L),_(A,N,I)),N++,j[U]=1);else if(!F){var it=_(g,r.arrayDefaultKey(P),T),K=_(A,N,L);l(H,b,d,K,_(A,N,I));var D=f.nestedProperty(b,K);f.nestedProperty(b,it).set(D.get()),D.set(null),F=!0}}}else f.nestedProperty(b,L).set(A)}}function u(g,b){return i.getLayoutValObject(g,f.nestedProperty({},b).parts)}function m(g,b){return i.getTraceValObject(g,f.nestedProperty({},b).parts)}function _(g,b,d){return d?Array.isArray(g)?d+"["+b+"]":d+"."+b:b}function p(g){for(var b=0;b<g.length;b++)if(y(g[b]))return!0}function v(g){var b;switch(g.code){case"data":b="The template has no key data.";break;case"layout":b="The template has no key layout.";break;case"missing":b=g.path?"There are no templates for item "+g.path+" with name "+g.templateitemname:"There are no templates for trace "+g.index+", of type "+g.traceType+".";break;case"unused":b=g.path?"The template item at "+g.path+" was not used in constructing the plot.":g.dataCount?"Some of the templates of type "+g.traceType+" were not used. The template has "+g.templateCount+" traces, the data only has "+g.dataCount+" of this type.":"The template has "+g.templateCount+" traces of type "+g.traceType+" but there are none in the data.";break;case"reused":b="Some of the templates of type "+g.traceType+" were used more than once. The template has "+g.templateCount+" traces, the data has "+g.dataCount+" of this type."}return g.msg=b,g}h.makeTemplate=function(g){g=f.isPlainObject(g)?g:f.getGraphDiv(g),g=f.extendDeep({_context:o},{data:g.data,layout:g.layout}),a.supplyDefaults(g);var b=g.data||[],d=g.layout||{};d._basePlotModules=g._fullLayout._basePlotModules,d._modules=g._fullLayout._modules;var T={data:{},layout:{}};b.forEach(function(N){var j={};l(N,j,m.bind(null,N));var z=f.coerce(N,{},n,"type"),H=T.data[z];H||(H=T.data[z]=[]),H.push(j)}),l(d,T.layout,u.bind(null,d)),delete T.layout.template;var w=d.template;if(y(w)){var k,P,A,L,I,x,C=w.layout;y(C)&&s(C,T.layout);var F=w.data;if(y(F)){for(P in T.data)if(A=F[P],Array.isArray(A)){for(x=(I=T.data[P]).length,L=A.length,k=0;k<x;k++)s(A[k%L],I[k]);for(k=x;k<L;k++)I.push(f.extendDeep({},A[k]))}for(P in F)P in T.data||(T.data[P]=f.extendDeep([],F[P]))}}return T},h.validateTemplate=function(g,b){var d=f.extendDeep({},{_context:o,data:g.data,layout:g.layout}),T=d.layout||{};y(b)||(b=T.template||{});var w=b.layout,k=b.data,P=[];d.layout=T,d.layout.template=b,a.supplyDefaults(d);var A=d._fullLayout,L=d._fullData,I={};if(y(w)?(function H(U,it){for(var K in U)if(K.charAt(0)!=="_"&&y(U[K])){var D,B=e(K),q=[];for(D=0;D<it.length;D++)q.push(_(U,K,it[D])),B!==K&&q.push(_(U,B,it[D]));for(D=0;D<q.length;D++)I[q[D]]=1;H(U[K],q)}}(A,["layout"]),function H(U,it){for(var K in U)if(K.indexOf("defaults")===-1&&y(U[K])){var D=_(U,K,it);I[D]?H(U[K],D):P.push({code:"unused",path:D})}}(w,"layout")):P.push({code:"layout"}),y(k)){for(var x,C={},F=0;F<L.length;F++){var N=L[F];C[x=N.type]=(C[x]||0)+1,N._fullInput._template||P.push({code:"missing",index:N._fullInput.index,traceType:x})}for(x in k){var j=k[x].length,z=C[x]||0;j>z?P.push({code:"unused",traceType:x,templateCount:j,dataCount:z}):z>j&&P.push({code:"reused",traceType:x,templateCount:j,dataCount:z})}}else P.push({code:"data"});if(function H(U,it){for(var K in U)if(K.charAt(0)!=="_"){var D=U[K],B=_(U,K,it);y(D)?(Array.isArray(U)&&D._template===!1&&D.templateitemname&&P.push({code:"missing",path:B,templateitemname:D.templateitemname}),H(D,B)):Array.isArray(D)&&p(D)&&H(D,B)}}({data:L,layout:A},""),P.length)return P.map(v)}},7024:function(J,h,t){var f=t(8248),y=t(6424),i=t(7316),a=t(3400),n=t(7030),r=t(7164),o=t(3268),s=t(5788).version,e={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};J.exports=function(l,u){var m,_,p,v;function g(z){return!(z in u)||a.validate(u[z],e[z])}if(u=u||{},a.isPlainObject(l)?(m=l.data||[],_=l.layout||{},p=l.config||{},v={}):(l=a.getGraphDiv(l),m=a.extendDeep([],l.data),_=a.extendDeep({},l.layout),p=l._context,v=l._fullLayout||{}),!g("width")&&u.width!==null||!g("height")&&u.height!==null)throw new Error("Height and width should be pixel values.");if(!g("format"))throw new Error("Export format is not "+a.join2(e.format.values,", "," or ")+".");var b={};function d(z,H){return a.coerce(u,b,e,z,H)}var T=d("format"),w=d("width"),k=d("height"),P=d("scale"),A=d("setBackground"),L=d("imageDataOnly"),I=document.createElement("div");I.style.position="absolute",I.style.left="-5000px",document.body.appendChild(I);var x=a.extendFlat({},_);w?x.width=w:u.width===null&&f(v.width)&&(x.width=v.width),k?x.height=k:u.height===null&&f(v.height)&&(x.height=v.height);var C=a.extendFlat({},p,{_exportedPlot:!0,staticPlot:!0,setBackground:A}),F=n.getRedrawFunc(I);function N(){return new Promise(function(z){setTimeout(z,n.getDelay(I._fullLayout))})}function j(){return new Promise(function(z,H){var U=r(I,T,P),it=I._fullLayout.width,K=I._fullLayout.height;function D(){y.purge(I),document.body.removeChild(I)}if(T==="full-json"){var B=i.graphJson(I,!1,"keepdata","object",!0,!0);return B.version=s,B=JSON.stringify(B),D(),z(L?B:n.encodeJSON(B))}if(D(),T==="svg")return z(L?U:n.encodeSVG(U));var q=document.createElement("canvas");q.id=a.randstr(),o({format:T,width:it,height:K,scale:P,canvas:q,svg:U,promise:!0}).then(z).catch(H)})}return new Promise(function(z,H){y.newPlot(I,m,x,C).then(F).then(N).then(j).then(function(U){z(function(it){return L?it.replace(n.IMAGE_URL_PREFIX,""):it}(U))}).catch(function(U){H(U)})})}},1480:function(J,h,t){var f=t(3400),y=t(7316),i=t(3060),a=t(556).dfltConfig,n=f.isPlainObject,r=Array.isArray,o=f.isArrayOrTypedArray;function s(g,b,d,T,w,k){k=k||[];for(var P=Object.keys(g),A=0;A<P.length;A++){var L=P[A];if(L!=="transforms"){var I=k.slice();I.push(L);var x=g[L],C=b[L],F=_(d,L),N=(F||{}).valType,j=N==="info_array",z=N==="colorscale",H=(F||{}).items;if(m(d,L))if(n(x)&&n(C)&&N!=="any")s(x,C,F,T,w,I);else if(j&&r(x)){x.length>C.length&&T.push(u("unused",w,I.concat(C.length)));var U,it,K,D,B,q=C.length,nt=Array.isArray(H);if(nt&&(q=Math.min(q,H.length)),F.dimensions===2)for(it=0;it<q;it++)if(r(x[it])){x[it].length>C[it].length&&T.push(u("unused",w,I.concat(it,C[it].length)));var ot=C[it].length;for(U=0;U<(nt?Math.min(ot,H[it].length):ot);U++)K=nt?H[it][U]:H,D=x[it][U],B=C[it][U],f.validate(D,K)?B!==D&&B!==+D&&T.push(u("dynamic",w,I.concat(it,U),D,B)):T.push(u("value",w,I.concat(it,U),D))}else T.push(u("array",w,I.concat(it),x[it]));else for(it=0;it<q;it++)K=nt?H[it]:H,D=x[it],B=C[it],f.validate(D,K)?B!==D&&B!==+D&&T.push(u("dynamic",w,I.concat(it),D,B)):T.push(u("value",w,I.concat(it),D))}else if(F.items&&!j&&r(x)){var rt,$,E=H[Object.keys(H)[0]],S=[];for(rt=0;rt<C.length;rt++){var Y=C[rt]._index||rt;if(($=I.slice()).push(Y),n(x[Y])&&n(C[rt])){S.push(Y);var Z=x[Y],G=C[rt];n(Z)&&Z.visible!==!1&&G.visible===!1?T.push(u("invisible",w,$)):s(Z,G,E,T,w,$)}}for(rt=0;rt<x.length;rt++)($=I.slice()).push(rt),n(x[rt])?S.indexOf(rt)===-1&&T.push(u("unused",w,$)):T.push(u("object",w,$,x[rt]))}else!n(x)&&n(C)?T.push(u("object",w,I,x)):o(x)||!o(C)||j||z?L in b?f.validate(x,F)?F.valType==="enumerated"&&(F.coerceNumber&&x!==+C||x!==C)&&T.push(u("dynamic",w,I,x,C)):T.push(u("value",w,I,x)):T.push(u("unused",w,I,x)):T.push(u("array",w,I,x));else T.push(u("schema",w,I))}}return T}J.exports=function(g,b){g===void 0&&(g=[]),b===void 0&&(b={});var d,T,w=i.get(),k=[],P={_context:f.extendFlat({},a)};r(g)?(P.data=f.extendDeep([],g),d=g):(P.data=[],d=[],k.push(u("array","data"))),n(b)?(P.layout=f.extendDeep({},b),T=b):(P.layout={},T={},arguments.length>1&&k.push(u("object","layout"))),y.supplyDefaults(P);for(var A=P._fullData,L=d.length,I=0;I<L;I++){var x=d[I],C=["data",I];if(n(x)){var F=A[I],N=F.type,j=w.traces[N].attributes;j.type={valType:"enumerated",values:[N]},F.visible===!1&&x.visible!==!1&&k.push(u("invisible",C)),s(x,F,j,k,C);var z=x.transforms,H=F.transforms;if(z){r(z)||k.push(u("array",C,["transforms"])),C.push("transforms");for(var U=0;U<z.length;U++){var it=["transforms",U],K=z[U].type;if(n(z[U])){var D=w.transforms[K]?w.transforms[K].attributes:{};D.type={valType:"enumerated",values:Object.keys(w.transforms)},s(z[U],H[U],D,k,C,it)}else k.push(u("object",C,it))}}}else k.push(u("object",C))}var B=P._fullLayout,q=function(nt,ot){for(var rt=nt.layout.layoutAttributes,$=0;$<ot.length;$++){var E=ot[$],S=nt.traces[E.type],Y=S.layoutAttributes;Y&&(E.subplot?f.extendFlat(rt[S.attributes.subplot.dflt],Y):f.extendFlat(rt,Y))}return rt}(w,A);return s(T,B,q,k,"layout"),k.length===0?void 0:k};var e={object:function(g,b){return(g==="layout"&&b===""?"The layout argument":g[0]==="data"&&b===""?"Trace "+g[1]+" in the data argument":l(g)+"key "+b)+" must be linked to an object container"},array:function(g,b){return(g==="data"?"The data argument":l(g)+"key "+b)+" must be linked to an array container"},schema:function(g,b){return l(g)+"key "+b+" is not part of the schema"},unused:function(g,b,d){var T=n(d)?"container":"key";return l(g)+T+" "+b+" did not get coerced"},dynamic:function(g,b,d,T){return[l(g)+"key",b,"(set to '"+d+"')","got reset to","'"+T+"'","during defaults."].join(" ")},invisible:function(g,b){return(b?l(g)+"item "+b:"Trace "+g[1])+" got defaulted to be not visible"},value:function(g,b,d){return[l(g)+"key "+b,"is set to an invalid value ("+d+")"].join(" ")}};function l(g){return r(g)?"In data trace "+g[1]+", ":"In "+g+", "}function u(g,b,d,T,w){var k,P;d=d||"",r(b)?(k=b[0],P=b[1]):(k=b,P=null);var A=function(I){if(!r(I))return String(I);for(var x="",C=0;C<I.length;C++){var F=I[C];typeof F=="number"?x=x.substr(0,x.length-1)+"["+F+"]":x+=F,C<I.length-1&&(x+=".")}return x}(d),L=e[g](b,A,T,w);return f.log(L),{code:g,container:k,trace:P,path:d,astr:A,msg:L}}function m(g,b){var d=v(b),T=d.keyMinusId,w=d.id;return!!(T in g&&g[T]._isSubplotObj&&w)||b in g}function _(g,b){return b in g?g[b]:g[v(b).keyMinusId]}var p=f.counterRegex("([a-z]+)");function v(g){var b=g.match(p);return{keyMinusId:b&&b[1],id:b&&b[2]}}},5656:function(J){J.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},1272:function(J,h,t){var f=t(3400),y=t(1780);J.exports=function(i,a,n){var r,o,s=n.name,e=n.inclusionAttr||"visible",l=a[s],u=f.isArrayOrTypedArray(i[s])?i[s]:[],m=a[s]=[],_=y.arrayTemplater(a,s,e);for(r=0;r<u.length;r++){var p=u[r];f.isPlainObject(p)?o=_.newItem(p):(o=_.newItem({}))[e]=!1,o._index=r,o[e]!==!1&&n.handleItemDefaults(p,o,a,n),m.push(o)}var v=_.defaultItems();for(r=0;r<v.length;r++)(o=v[r])._index=m.length,n.handleItemDefaults({},o,a,n,{}),m.push(o);if(f.isArrayOrTypedArray(l)){var g=Math.min(l.length,m.length);for(r=0;r<g;r++)f.relinkPrivateKeys(m[r],l[r])}return m}},5464:function(J,h,t){var f=t(5376),y=t(5756);J.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:f({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:y.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(J,h,t){var f=t(8248),y=t(3400),i=y.dateTime2ms,a=y.incrementMonth,n=t(9032).ONEAVGMONTH;J.exports=function(r,o,s,e){if(o.type!=="date")return{vals:e};var l=r[s+"periodalignment"];if(!l)return{vals:e};var u,m=r[s+"period"];if(f(m)){if((m=+m)<=0)return{vals:e}}else if(typeof m=="string"&&m.charAt(0)==="M"){var _=+m.substring(1);if(!(_>0&&Math.round(_)===_))return{vals:e};u=_}for(var p=o.calendar,v=l==="start",g=l==="end",b=r[s+"period0"],d=i(b,p)||0,T=[],w=[],k=[],P=e.length,A=0;A<P;A++){var L,I,x,C=e[A];if(u){for(L=Math.round((C-d)/(u*n)),x=a(d,u*L,p);x>C;)x=a(x,-u,p);for(;x<=C;)x=a(x,u,p);I=a(x,-u,p)}else{for(x=d+(L=Math.round((C-d)/m))*m;x>C;)x-=m;for(;x<=C;)x+=m;I=x-m}T[A]=v?I:g?x:(I+x)/2,w[A]=I,k[A]=x}return{vals:T,starts:w,ends:k}}},6720:function(J){J.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},9280:function(J,h,t){var f=t(3428),y=t(8248),i=t(3400),a=t(9032).FP_SAFE,n=t(4040),r=t(3616),o=t(9811),s=o.getFromId,e=o.isLinked;function l(A,L){var I,x,C=[],F=A._fullLayout,N=m(F,L,0),j=m(F,L,1),z=p(A,L),H=z.min,U=z.max;if(H.length===0||U.length===0)return i.simpleMap(L.range,L.r2l);var it=H[0].val,K=U[0].val;for(I=1;I<H.length&&it===K;I++)it=Math.min(it,H[I].val);for(I=1;I<U.length&&it===K;I++)K=Math.max(K,U[I].val);var D=L.autorange,B=D==="reversed"||D==="min reversed"||D==="max reversed";if(!B&&L.range){var q=i.simpleMap(L.range,L.r2l);B=q[1]<q[0]}L.autorange==="reversed"&&(L.autorange=!0);var nt,ot,rt,$,E,S,Y=L.rangemode,Z=Y==="tozero",G=Y==="nonnegative",Q=L._length,at=Q/10,tt=0;for(I=0;I<H.length;I++)for(nt=H[I],x=0;x<U.length;x++)(S=(ot=U[x]).val-nt.val-u(L,nt.val,ot.val))>0&&((E=Q-N(nt)-j(ot))>at?S/E>tt&&(rt=nt,$=ot,tt=S/E):S/Q>tt&&(rt={val:nt.val,nopad:1},$={val:ot.val,nopad:1},tt=S/Q));if(it===K){var _t=it-1,Pt=it+1;if(Z)if(it===0)C=[0,1];else{var kt=(it>0?U:H).reduce(function(st,ht){return Math.max(st,j(ht))},0),lt=it/(1-Math.min(.5,kt/Q));C=it>0?[0,lt]:[lt,0]}else C=G?[Math.max(0,_t),Math.max(1,Pt)]:[_t,Pt]}else Z?(rt.val>=0&&(rt={val:0,nopad:1}),$.val<=0&&($={val:0,nopad:1})):G&&(rt.val-tt*N(rt)<0&&(rt={val:0,nopad:1}),$.val<=0&&($={val:1,nopad:1})),tt=($.val-rt.val-u(L,nt.val,ot.val))/(Q-N(rt)-j($)),C=[rt.val-tt*N(rt),$.val+tt*j($)];return C=P(C,L),L.limitRange&&L.limitRange(),B&&C.reverse(),i.simpleMap(C,L.l2r||Number)}function u(A,L,I){var x=0;if(A.rangebreaks)for(var C=A.locateBreaks(L,I),F=0;F<C.length;F++){var N=C[F];x+=N.max-N.min}return x}function m(A,L,I){var x=.05*L._length,C=L._anchorAxis||{};if((L.ticklabelposition||"").indexOf("inside")!==-1||(C.ticklabelposition||"").indexOf("inside")!==-1){var F=L.isReversed();if(!F){var N=i.simpleMap(L.range,L.r2l);F=N[1]<N[0]}F&&(I=!I)}var j=0;return e(A,L._id)||(j=function(z,H,U){var it=0,K=H._id.charAt(0)==="x";for(var D in z._plots){var B=z._plots[D];if(H._id===B.xaxis._id||H._id===B.yaxis._id){var q=(K?B.yaxis:B.xaxis)||{};if((q.ticklabelposition||"").indexOf("inside")!==-1&&(!U&&(q.side==="left"||q.side==="bottom")||U&&(q.side==="top"||q.side==="right"))){if(q._vals){var nt=i.deg2rad(q._tickAngles[q._id+"tick"]||0),ot=Math.abs(Math.cos(nt)),rt=Math.abs(Math.sin(nt));if(!q._vals[0].bb){var $=q._id+"tick";q._selections[$].each(function(G){var Q=f.select(this);Q.select(".text-math-group").empty()&&(G.bb=r.bBox(Q.node()))})}for(var E=0;E<q._vals.length;E++){var S=q._vals[E].bb;if(S){var Y=2*_+S.width,Z=2*_+S.height;it=Math.max(it,K?Math.max(Y*ot,Z*rt):Math.max(Z*ot,Y*rt))}}}q.ticks==="inside"&&q.ticklabelposition==="inside"&&(it+=q.ticklen||0)}}}return it}(A,L,I)),x=Math.max(j,x),L.constrain==="domain"&&L._inputDomain&&(x*=(L._inputDomain[1]-L._inputDomain[0])/(L.domain[1]-L.domain[0])),function(z){return z.nopad?0:z.pad+(z.extrapad?x:j)}}J.exports={applyAutorangeOptions:P,getAutoRange:l,makePadFn:m,doAutoRange:function(A,L,I){if(L.setScale(),L.autorange){L.range=I?I.slice():l(A,L),L._r=L.range.slice(),L._rl=i.simpleMap(L._r,L.r2l);var x=L._input,C={};C[L._attr+".range"]=L.range,C[L._attr+".autorange"]=L.autorange,n.call("_storeDirectGUIEdit",A.layout,A._fullLayout._preGUI,C),x.range=L.range.slice(),x.autorange=L.autorange}var F=L._anchorAxis;if(F&&F.rangeslider){var N=F.rangeslider[L._name];N&&N.rangemode==="auto"&&(N.range=l(A,L)),F._input.rangeslider[L._name]=i.extendFlat({},N)}},findExtremes:function(A,L,I){I||(I={}),A._m||A.setScale();var x,C,F,N,j,z,H,U,it,K=[],D=[],B=L.length,q=I.padded||!1,nt=I.tozero&&(A.type==="linear"||A.type==="-"),ot=A.type==="log",rt=!1,$=I.vpadLinearized||!1;function E(_t){if(Array.isArray(_t))return rt=!0,function(kt){return Math.max(Number(_t[kt]||0),0)};var Pt=Math.max(Number(_t||0),0);return function(){return Pt}}var S=E((A._m>0?I.ppadplus:I.ppadminus)||I.ppad||0),Y=E((A._m>0?I.ppadminus:I.ppadplus)||I.ppad||0),Z=E(I.vpadplus||I.vpad),G=E(I.vpadminus||I.vpad);if(!rt){if(U=1/0,it=-1/0,ot)for(x=0;x<B;x++)(C=L[x])<U&&C>0&&(U=C),C>it&&C<a&&(it=C);else for(x=0;x<B;x++)(C=L[x])<U&&C>-a&&(U=C),C>it&&C<a&&(it=C);L=[U,it],B=2}var Q={tozero:nt,extrapad:q};function at(_t){F=L[_t],y(F)&&(z=S(_t),H=Y(_t),$?(N=A.c2l(F)-G(_t),j=A.c2l(F)+Z(_t)):(U=F-G(_t),it=F+Z(_t),ot&&U<it/10&&(U=it/10),N=A.c2l(U),j=A.c2l(it)),nt&&(N=Math.min(0,N),j=Math.max(0,j)),d(N)&&v(K,N,H,Q),d(j)&&g(D,j,z,Q))}var tt=Math.min(6,B);for(x=0;x<tt;x++)at(x);for(x=B-1;x>=tt;x--)at(x);return{min:K,max:D,opts:I}},concatExtremes:p};var _=3;function p(A,L,I){var x,C,F,N=L._id,j=A._fullData,z=A._fullLayout,H=[],U=[];function it(nt,ot){for(x=0;x<ot.length;x++){var rt=nt[ot[x]],$=(rt._extremes||{})[N];if(rt.visible===!0&&$){for(C=0;C<$.min.length;C++)F=$.min[C],v(H,F.val,F.pad,{extrapad:F.extrapad});for(C=0;C<$.max.length;C++)F=$.max[C],g(U,F.val,F.pad,{extrapad:F.extrapad})}}}if(it(j,L._traceIndices),it(z.annotations||[],L._annIndices||[]),it(z.shapes||[],L._shapeIndices||[]),L._matchGroup&&!I){for(var K in L._matchGroup)if(K!==L._id){var D=s(A,K),B=p(A,D,!0),q=L._length/D._length;for(C=0;C<B.min.length;C++)F=B.min[C],v(H,F.val,F.pad*q,{extrapad:F.extrapad});for(C=0;C<B.max.length;C++)F=B.max[C],g(U,F.val,F.pad*q,{extrapad:F.extrapad})}}return{min:H,max:U}}function v(A,L,I,x){b(A,L,I,x,T)}function g(A,L,I,x){b(A,L,I,x,w)}function b(A,L,I,x,C){for(var F=x.tozero,N=x.extrapad,j=!0,z=0;z<A.length&&j;z++){var H=A[z];if(C(H.val,L)&&H.pad>=I&&(H.extrapad||!N)){j=!1;break}C(L,H.val)&&H.pad<=I&&(N||!H.extrapad)&&(A.splice(z,1),z--)}if(j){var U=F&&L===0;A.push({val:L,pad:U?0:I,extrapad:!U&&N})}}function d(A){return y(A)&&Math.abs(A)<a}function T(A,L){return A<=L}function w(A,L){return A>=L}function k(A,L,I){return L===void 0||I===void 0||(L=A.d2l(L))<A.d2l(I)}function P(A,L){if(!L||!L.autorangeoptions)return A;var I=A[0],x=A[1],C=L.autorangeoptions.include;if(C!==void 0){var F=L.d2l(I),N=L.d2l(x);i.isArrayOrTypedArray(C)||(C=[C]);for(var j=0;j<C.length;j++){var z=L.d2l(C[j]);F>=z&&(F=z,I=z),N<=z&&(N=z,x=z)}}return I=function(H,U){var it=U.autorangeoptions;return it&&it.minallowed!==void 0&&k(U,it.minallowed,it.maxallowed)?it.minallowed:it&&it.clipmin!==void 0&&k(U,it.clipmin,it.clipmax)?Math.max(H,U.d2l(it.clipmin)):H}(I,L),x=function(H,U){var it=U.autorangeoptions;return it&&it.maxallowed!==void 0&&k(U,it.minallowed,it.maxallowed)?it.maxallowed:it&&it.clipmax!==void 0&&k(U,it.clipmin,it.clipmax)?Math.min(H,U.d2l(it.clipmax)):H}(x,L),[I,x]}},6808:function(J){J.exports=function(h,t,f){var y,i;if(f){var a=t==="reversed"||t==="min reversed"||t==="max reversed";y=f[a?1:0],i=f[a?0:1]}var n=h("autorangeoptions.minallowed",i===null?y:void 0),r=h("autorangeoptions.maxallowed",y===null?i:void 0);n===void 0&&h("autorangeoptions.clipmin"),r===void 0&&h("autorangeoptions.clipmax"),h("autorangeoptions.include")}},4460:function(J,h,t){var f=t(3428),y=t(8248),i=t(7316),a=t(4040),n=t(3400),r=n.strTranslate,o=t(2736),s=t(1668),e=t(6308),l=t(3616),u=t(4724),m=t(8728),_=t(9032),p=_.ONEMAXYEAR,v=_.ONEAVGYEAR,g=_.ONEMINYEAR,b=_.ONEMAXQUARTER,d=_.ONEAVGQUARTER,T=_.ONEMINQUARTER,w=_.ONEMAXMONTH,k=_.ONEAVGMONTH,P=_.ONEMINMONTH,A=_.ONEWEEK,L=_.ONEDAY,I=L/2,x=_.ONEHOUR,C=_.ONEMIN,F=_.ONESEC,N=_.MINUS_SIGN,j=_.BADNUM,z={K:"zeroline"},H={K:"gridline",L:"path"},U={K:"minor-gridline",L:"path"},it={K:"tick",L:"path"},K={K:"tick",L:"text"},D={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},B=t(4284),q=B.MID_SHIFT,nt=B.CAP_SHIFT,ot=B.LINE_SPACING,rt=B.OPPOSITE_SIDE,$=J.exports={};$.setConvert=t(8344);var E=t(2976),S=t(9811),Y=S.idSort,Z=S.isLinked;$.id2name=S.id2name,$.name2id=S.name2id,$.cleanId=S.cleanId,$.list=S.list,$.listIds=S.listIds,$.getFromId=S.getFromId,$.getFromTrace=S.getFromTrace;var G=t(9280);$.getAutoRange=G.getAutoRange,$.findExtremes=G.findExtremes;var Q=1e-4;function at(X){var et=(X[1]-X[0])*Q;return[X[0]-et,X[1]+et]}$.coerceRef=function(X,et,It,Ct,Ut,Rt){var Ht=Ct.charAt(Ct.length-1),Zt=It._fullLayout._subplots[Ht+"axis"],Kt=Ct+"ref",oe={};return Ut||(Ut=Zt[0]||(typeof Rt=="string"?Rt:Rt[0])),Rt||(Rt=Ut),Zt=Zt.concat(Zt.map(function(ue){return ue+" domain"})),oe[Kt]={valType:"enumerated",values:Zt.concat(Rt?typeof Rt=="string"?[Rt]:Rt:[]),dflt:Ut},n.coerce(X,et,oe,Kt)},$.getRefType=function(X){return X===void 0?X:X==="paper"?"paper":X==="pixel"?"pixel":/( domain)$/.test(X)?"domain":"range"},$.coercePosition=function(X,et,It,Ct,Ut,Rt){var Ht,Zt;if($.getRefType(Ct)!=="range")Ht=n.ensureNumber,Zt=It(Ut,Rt);else{var Kt=$.getFromId(et,Ct);Zt=It(Ut,Rt=Kt.fraction2r(Rt)),Ht=Kt.cleanPos}X[Ut]=Ht(Zt)},$.cleanPosition=function(X,et,It){return(It==="paper"||It==="pixel"?n.ensureNumber:$.getFromId(et,It).cleanPos)(X)},$.redrawComponents=function(X,et){et=et||$.listIds(X);var It=X._fullLayout;function Ct(Ut,Rt,Ht,Zt){for(var Kt=a.getComponentMethod(Ut,Rt),oe={},ue=0;ue<et.length;ue++)for(var Se=It[$.id2name(et[ue])][Ht],he=0;he<Se.length;he++){var ve=Se[he];if(!oe[ve]&&(Kt(X,ve),oe[ve]=1,Zt))return}}Ct("annotations","drawOne","_annIndices"),Ct("shapes","drawOne","_shapeIndices"),Ct("images","draw","_imgIndices",!0),Ct("selections","drawOne","_selectionIndices")};var tt=$.getDataConversions=function(X,et,It,Ct){var Ut,Rt=It==="x"||It==="y"||It==="z"?It:Ct;if(n.isArrayOrTypedArray(Rt)){if(Ut={type:E(Ct,void 0,{autotypenumbers:X._fullLayout.autotypenumbers}),_categories:[]},$.setConvert(Ut),Ut.type==="category")for(var Ht=0;Ht<Ct.length;Ht++)Ut.d2c(Ct[Ht])}else Ut=$.getFromTrace(X,et,Rt);return Ut?{d2c:Ut.d2c,c2d:Ut.c2d}:Rt==="ids"?{d2c:Pt,c2d:Pt}:{d2c:_t,c2d:_t}};function _t(X){return+X}function Pt(X){return String(X)}function kt(X,et){return Math.abs((X/et+.5)%1-.5)<.001}function lt(X,et){return Math.abs(X/et-1)<.001}function st(X){return+X.substring(1)}function ht(X,et){return X.rangebreaks&&(et=et.filter(function(It){return X.maskBreaks(It.x)!==j})),et}function bt(X){var et=X._mainAxis,It=[];if(et._vals){for(var Ct=0;Ct<et._vals.length;Ct++)if(!et._vals[Ct].noTick){var Ut=et.l2p(et._vals[Ct].x),Rt=X.p2l(Ut),Ht=$.tickText(X,Rt);et._vals[Ct].minor&&(Ht.minor=!0,Ht.text=""),It.push(Ht)}}return ht(X,It)}function pt(X,et){var It=at(n.simpleMap(X.range,X.r2l)),Ct=Math.min(It[0],It[1]),Ut=Math.max(It[0],It[1]),Rt=X.type==="category"?X.d2l_noadd:X.d2l;X.type==="log"&&String(X.dtick).charAt(0)!=="L"&&(X.dtick="L"+Math.pow(10,Math.floor(Math.min(X.range[0],X.range[1]))-1));for(var Ht=[],Zt=0;Zt<=1;Zt++)if((et===void 0||!(et&&Zt||et===!1&&!Zt))&&(!Zt||X.minor)){var Kt=Zt?X.minor.tickvals:X.tickvals,oe=Zt?[]:X.ticktext;if(Kt){n.isArrayOrTypedArray(oe)||(oe=[]);for(var ue=0;ue<Kt.length;ue++){var Se=Rt(Kt[ue]);if(Se>Ct&&Se<Ut){var he=$.tickText(X,Se,!1,String(oe[ue]));Zt&&(he.minor=!0,he.text=""),Ht.push(he)}}}}return ht(X,Ht)}$.getDataToCoordFunc=function(X,et,It,Ct){return tt(X,et,It,Ct).d2c},$.counterLetter=function(X){var et=X.charAt(0);return et==="x"?"y":et==="y"?"x":void 0},$.minDtick=function(X,et,It,Ct){["log","category","multicategory"].indexOf(X.type)===-1&&Ct?X._minDtick===void 0?(X._minDtick=et,X._forceTick0=It):X._minDtick&&((X._minDtick/et+1e-6)%1<2e-6&&((It-X._forceTick0)/et%1+1.000001)%1<2e-6?(X._minDtick=et,X._forceTick0=It):((et/X._minDtick+1e-6)%1>2e-6||((It-X._forceTick0)/X._minDtick%1+1.000001)%1>2e-6)&&(X._minDtick=0)):X._minDtick=0},$.saveRangeInitial=function(X,et){for(var It=$.list(X,"",!0),Ct=!1,Ut=0;Ut<It.length;Ut++){var Rt=It[Ut],Ht=Rt._rangeInitial0===void 0&&Rt._rangeInitial1===void 0,Zt=Ht||Rt.range[0]!==Rt._rangeInitial0||Rt.range[1]!==Rt._rangeInitial1,Kt=Rt.autorange;(Ht&&Kt!==!0||et&&Zt)&&(Rt._rangeInitial0=Kt==="min"||Kt==="max reversed"?void 0:Rt.range[0],Rt._rangeInitial1=Kt==="max"||Kt==="min reversed"?void 0:Rt.range[1],Rt._autorangeInitial=Kt,Ct=!0)}return Ct},$.saveShowSpikeInitial=function(X,et){for(var It=$.list(X,"",!0),Ct=!1,Ut="on",Rt=0;Rt<It.length;Rt++){var Ht=It[Rt],Zt=Ht._showSpikeInitial===void 0,Kt=Zt||Ht.showspikes!==Ht._showspikes;(Zt||et&&Kt)&&(Ht._showSpikeInitial=Ht.showspikes,Ct=!0),Ut!=="on"||Ht.showspikes||(Ut="off")}return X._fullLayout._cartesianSpikesEnabled=Ut,Ct},$.autoBin=function(X,et,It,Ct,Ut,Rt){var Ht,Zt=n.aggNums(Math.min,null,X),Kt=n.aggNums(Math.max,null,X);if(et.type==="category"||et.type==="multicategory")return{start:Zt-.5,end:Kt+.5,size:Math.max(1,Math.round(Rt)||1),_dataSpan:Kt-Zt};if(Ut||(Ut=et.calendar),Ht=et.type==="log"?{type:"linear",range:[Zt,Kt]}:{type:et.type,range:n.simpleMap([Zt,Kt],et.c2r,0,Ut),calendar:Ut},$.setConvert(Ht),Rt=Rt&&m.dtick(Rt,Ht.type))Ht.dtick=Rt,Ht.tick0=m.tick0(void 0,Ht.type,Ut);else{var oe;if(It)oe=(Kt-Zt)/It;else{var ue=n.distinctVals(X),Se=Math.pow(10,Math.floor(Math.log(ue.minDiff)/Math.LN10)),he=Se*n.roundUp(ue.minDiff/Se,[.9,1.9,4.9,9.9],!0);oe=Math.max(he,2*n.stdev(X)/Math.pow(X.length,Ct?.25:.4)),y(oe)||(oe=1)}$.autoTicks(Ht,oe)}var ve,ke=Ht.dtick,Ae=$.tickIncrement($.tickFirst(Ht),ke,"reverse",Ut);if(typeof ke=="number")Ae=function(ee,fe,ge,je,Ie){var Fe=0,ye=0,be=0,Te=0;function Pe(He){return(1+100*(He-ee)/ge.dtick)%100<2}for(var Le=0;Le<fe.length;Le++)fe[Le]%1==0?be++:y(fe[Le])||Te++,Pe(fe[Le])&&Fe++,Pe(fe[Le]+ge.dtick/2)&&ye++;var Oe=fe.length-Te;if(be===Oe&&ge.type!=="date")ge.dtick<1?ee=je-.5*ge.dtick:(ee-=.5)+ge.dtick<je&&(ee+=ge.dtick);else if(ye<.1*Oe&&(Fe>.3*Oe||Pe(je)||Pe(Ie))){var Ee=ge.dtick/2;ee+=ee+Ee<je?Ee:-Ee}return ee}(Ae,X,Ht,Zt,Kt),ve=Ae+(1+Math.floor((Kt-Ae)/ke))*ke;else for(Ht.dtick.charAt(0)==="M"&&(Ae=function(ee,fe,ge,je,Ie){var Fe=n.findExactDates(fe,Ie);if(Fe.exactDays>.8){var ye=Number(ge.substr(1));Fe.exactYears>.8&&ye%12==0?ee=$.tickIncrement(ee,"M6","reverse")+1.5*L:Fe.exactMonths>.8?ee=$.tickIncrement(ee,"M1","reverse")+15.5*L:ee-=I;var be=$.tickIncrement(ee,ge);if(be<=je)return be}return ee}(Ae,X,ke,Zt,Ut)),ve=Ae;ve<=Kt;)ve=$.tickIncrement(ve,ke,!1,Ut);return{start:et.c2r(Ae,0,Ut),end:et.c2r(ve,0,Ut),size:ke,_dataSpan:Kt-Zt}},$.prepMinorTicks=function(X,et,It){if(!et.minor.dtick){delete X.dtick;var Ct,Ut=et.dtick&&y(et._tmin);if(Ut){var Rt=$.tickIncrement(et._tmin,et.dtick,!0);Ct=[et._tmin,.99*Rt+.01*et._tmin]}else{var Ht=n.simpleMap(et.range,et.r2l);Ct=[Ht[0],.8*Ht[0]+.2*Ht[1]]}if(X.range=n.simpleMap(Ct,et.l2r),X._isMinor=!0,$.prepTicks(X,It),Ut){var Zt=y(et.dtick),Kt=y(X.dtick),oe=Zt?et.dtick:+et.dtick.substring(1),ue=Kt?X.dtick:+X.dtick.substring(1);Zt&&Kt?kt(oe,ue)?oe===2*A&&ue===2*L&&(X.dtick=A):oe===2*A&&ue===3*L?X.dtick=A:oe!==A||(et._input.minor||{}).nticks?lt(oe/ue,2.5)?X.dtick=oe/2:X.dtick=oe:X.dtick=L:String(et.dtick).charAt(0)==="M"?Kt?X.dtick="M1":kt(oe,ue)?oe>=12&&ue===2&&(X.dtick="M3"):X.dtick=et.dtick:String(X.dtick).charAt(0)==="L"?String(et.dtick).charAt(0)==="L"?kt(oe,ue)||(X.dtick=lt(oe/ue,2.5)?et.dtick/2:et.dtick):X.dtick="D1":X.dtick==="D2"&&+et.dtick>1&&(X.dtick=1)}X.range=et.range}et.minor._tick0Init===void 0&&(X.tick0=et.tick0)},$.prepTicks=function(X,et){var It=n.simpleMap(X.range,X.r2l,void 0,void 0,et);if(X.tickmode==="auto"||!X.dtick){var Ct,Ut=X.nticks;Ut||(X.type==="category"||X.type==="multicategory"?(Ct=X.tickfont?n.bigFont(X.tickfont.size||12):15,Ut=X._length/Ct):(Ct=X._id.charAt(0)==="y"?40:80,Ut=n.constrain(X._length/Ct,4,9)+1),X._name==="radialaxis"&&(Ut*=2)),X.minor&&X.minor.tickmode!=="array"||X.tickmode==="array"&&(Ut*=100),X._roughDTick=Math.abs(It[1]-It[0])/Ut,$.autoTicks(X,X._roughDTick),X._minDtick>0&&X.dtick<2*X._minDtick&&(X.dtick=X._minDtick,X.tick0=X.l2r(X._forceTick0))}X.ticklabelmode==="period"&&function(Rt){var Ht;function Zt(){return!(y(Rt.dtick)||Rt.dtick.charAt(0)!=="M")}var Kt=Zt(),oe=$.getTickFormat(Rt);if(oe){var ue=Rt._dtickInit!==Rt.dtick;/%[fLQsSMX]/.test(oe)||(/%[HI]/.test(oe)?(Ht=x,ue&&!Kt&&Rt.dtick<x&&(Rt.dtick=x)):/%p/.test(oe)?(Ht=I,ue&&!Kt&&Rt.dtick<I&&(Rt.dtick=I)):/%[Aadejuwx]/.test(oe)?(Ht=L,ue&&!Kt&&Rt.dtick<L&&(Rt.dtick=L)):/%[UVW]/.test(oe)?(Ht=A,ue&&!Kt&&Rt.dtick<A&&(Rt.dtick=A)):/%[Bbm]/.test(oe)?(Ht=k,ue&&(Kt?st(Rt.dtick)<1:Rt.dtick<P)&&(Rt.dtick="M1")):/%[q]/.test(oe)?(Ht=d,ue&&(Kt?st(Rt.dtick)<3:Rt.dtick<T)&&(Rt.dtick="M3")):/%[Yy]/.test(oe)&&(Ht=v,ue&&(Kt?st(Rt.dtick)<12:Rt.dtick<g)&&(Rt.dtick="M12")))}(Kt=Zt())&&Rt.tick0===Rt._dowTick0&&(Rt.tick0=Rt._rawTick0),Rt._definedDelta=Ht}(X),X.tick0||(X.tick0=X.type==="date"?"2000-01-01":0),X.type==="date"&&X.dtick<.1&&(X.dtick=.1),Tt(X)},$.calcTicks=function(X,et){for(var It,Ct,Ut=X.type,Rt=X.calendar,Ht=X.ticklabelstep,Zt=X.ticklabelmode==="period",Kt=n.simpleMap(X.range,X.r2l,void 0,void 0,et),oe=Kt[1]<Kt[0],ue=Math.min(Kt[0],Kt[1]),Se=Math.max(Kt[0],Kt[1]),he=Math.max(1e3,X._length||0),ve=[],ke=[],Ae=[],ee=[],fe=X.minor&&(X.minor.ticks||X.minor.showgrid),ge=1;ge>=(fe?0:1);ge--){var je=!ge;ge?(X._dtickInit=X.dtick,X._tick0Init=X.tick0):(X.minor._dtickInit=X.minor.dtick,X.minor._tick0Init=X.minor.tick0);var Ie=ge?X:n.extendFlat({},X,X.minor);if(je?$.prepMinorTicks(Ie,X,et):$.prepTicks(Ie,et),Ie.tickmode!=="array")if(Ie.tickmode!=="sync"){var Fe=at(Kt),ye=Fe[0],be=Fe[1],Te=y(Ie.dtick),Pe=Ut==="log"&&!(Te||Ie.dtick.charAt(0)==="L"),Le=$.tickFirst(Ie,et);if(ge){if(X._tmin=Le,Le<ye!==oe)break;Ut!=="category"&&Ut!=="multicategory"||(be=oe?Math.max(-.5,be):Math.min(X._categories.length-.5,be))}var Oe,Ee,He=null,ze=Le;ge&&(Te?Ee=X.dtick:Ut==="date"?typeof X.dtick=="string"&&X.dtick.charAt(0)==="M"&&(Ee=k*X.dtick.substring(1)):Ee=X._roughDTick,Oe=Math.round((X.r2l(ze)-X.r2l(X.tick0))/Ee)-1);var Ne=Ie.dtick;for(Ie.rangebreaks&&Ie._tick0Init!==Ie.tick0&&(ze=_e(ze,X),oe||(ze=$.tickIncrement(ze,Ne,!oe,Rt))),ge&&Zt&&(ze=$.tickIncrement(ze,Ne,!oe,Rt),Oe--);oe?ze>=be:ze<=be;ze=$.tickIncrement(ze,Ne,oe,Rt)){if(ge&&Oe++,Ie.rangebreaks&&!oe){if(ze<ye)continue;if(Ie.maskBreaks(ze)===j&&_e(ze,Ie)>=Se)break}if(Ae.length>he||ze===He)break;He=ze;var Ye={value:ze};ge?(Pe&&ze!==(0|ze)&&(Ye.simpleLabel=!0),Ht>1&&Oe%Ht&&(Ye.skipLabel=!0),Ae.push(Ye)):(Ye.minor=!0,ee.push(Ye))}}else Ae=[],ve=bt(X);else ge?(Ae=[],ve=pt(X,!je)):(ee=[],ke=pt(X,!je))}if(fe&&!(X.minor.ticks==="inside"&&X.ticks==="outside"||X.minor.ticks==="outside"&&X.ticks==="inside")){for(var Ze=Ae.map(function(kn){return kn.value}),Re=[],Ge=0;Ge<ee.length;Ge++){var Je=ee[Ge],fn=Je.value;if(Ze.indexOf(fn)===-1){for(var gn=!1,sn=0;!gn&&sn<Ae.length;sn++)1e7+Ae[sn].value===1e7+fn&&(gn=!0);gn||Re.push(Je)}}ee=Re}if(Zt&&function(kn,Ke,hn){for(var $e=0;$e<kn.length;$e++){var on=kn[$e].value,mn=$e,Xe=$e+1;$e<kn.length-1?(mn=$e,Xe=$e+1):$e>0?(mn=$e-1,Xe=$e):(mn=$e,Xe=$e);var Be,We=kn[mn].value,nn=kn[Xe].value,tn=Math.abs(nn-We),pn=hn||tn,ln=0;pn>=g?ln=tn>=g&&tn<=p?tn:v:hn===d&&pn>=T?ln=tn>=T&&tn<=b?tn:d:pn>=P?ln=tn>=P&&tn<=w?tn:k:hn===A&&pn>=A?ln=A:pn>=L?ln=L:hn===I&&pn>=I?ln=I:hn===x&&pn>=x&&(ln=x),ln>=tn&&(ln=tn,Be=!0);var un=on+ln;if(Ke.rangebreaks&&ln>0){for(var An=0,Nn=0;Nn<84;Nn++){var Ln=(Nn+.5)/84;Ke.maskBreaks(on*(1-Ln)+Ln*un)!==j&&An++}(ln*=An/84)||(kn[$e].drop=!0),Be&&tn>A&&(ln=tn)}(ln>0||$e===0)&&(kn[$e].periodX=on+ln/2)}}(Ae,X,X._definedDelta),X.rangebreaks){var Cn=X._id.charAt(0)==="y",Tn=1;X.tickmode==="auto"&&(Tn=X.tickfont?X.tickfont.size:12);var On=NaN;for(It=Ae.length-1;It>-1;It--)if(Ae[It].drop)Ae.splice(It,1);else{Ae[It].value=_e(Ae[It].value,X);var Pn=X.c2p(Ae[It].value);(Cn?On>Pn-Tn:On<Pn+Tn)?Ae.splice(oe?It+1:It,1):On=Pn}}re(X)&&Math.abs(Kt[1]-Kt[0])===360&&Ae.pop(),X._tmax=(Ae[Ae.length-1]||{}).value,X._prevDateHead="",X._inCalcTicks=!0;var zn,Bn,Un=function(kn){kn.text="",X._prevDateHead=Ct};for(Ae=Ae.concat(ee),It=0;It<Ae.length;It++){var Fn=Ae[It].minor,Mn=Ae[It].value;Fn?ke.push({x:Mn,minor:!0}):(Ct=X._prevDateHead,zn=$.tickText(X,Mn,!1,Ae[It].simpleLabel),(Bn=Ae[It].periodX)!==void 0&&(zn.periodX=Bn,(Bn>Se||Bn<ue)&&(Bn>Se&&(zn.periodX=Se),Bn<ue&&(zn.periodX=ue),Un(zn))),Ae[It].skipLabel&&Un(zn),ve.push(zn))}return ve=ve.concat(ke),X._inCalcTicks=!1,Zt&&ve.length&&(ve[0].noTick=!0),ve};var Dt=[2,5,10],qt=[1,2,3,6,12],ct=[1,2,5,10,15,30],xt=[1,2,3,7,14],dt=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],vt=[-.301,0,.301,.699,1],yt=[15,30,45,90,180];function Mt(X,et,It){return et*n.roundUp(X/et,It)}function Tt(X){var et=X.dtick;if(X._tickexponent=0,y(et)||typeof et=="string"||(et=1),X.type!=="category"&&X.type!=="multicategory"||(X._tickround=null),X.type==="date"){var It=X.r2l(X.tick0),Ct=X.l2r(It).replace(/(^-|i)/g,""),Ut=Ct.length;if(String(et).charAt(0)==="M")Ut>10||Ct.substr(5)!=="01-01"?X._tickround="d":X._tickround=+et.substr(1)%12==0?"y":"m";else if(et>=L&&Ut<=10||et>=15*L)X._tickround="d";else if(et>=C&&Ut<=16||et>=x)X._tickround="M";else if(et>=F&&Ut<=19||et>=C)X._tickround="S";else{var Rt=X.l2r(It+et).replace(/^-/,"").length;X._tickround=Math.max(Ut,Rt)-20,X._tickround<0&&(X._tickround=4)}}else if(y(et)||et.charAt(0)==="L"){var Ht=X.range.map(X.r2d||Number);y(et)||(et=Number(et.substr(1))),X._tickround=2-Math.floor(Math.log(et)/Math.LN10+.01);var Zt=Math.max(Math.abs(Ht[0]),Math.abs(Ht[1])),Kt=Math.floor(Math.log(Zt)/Math.LN10+.01),oe=X.minexponent===void 0?3:X.minexponent;Math.abs(Kt)>oe&&(At(X.exponentformat)&&!Nt(Kt)?X._tickexponent=3*Math.round((Kt-1)/3):X._tickexponent=Kt)}else X._tickround=null}function Lt(X,et,It){var Ct=X.tickfont||{};return{x:et,dx:0,dy:0,text:It||"",fontSize:Ct.size,font:Ct.family,fontColor:Ct.color}}$.autoTicks=function(X,et,It){var Ct;function Ut(Se){return Math.pow(Se,Math.floor(Math.log(et)/Math.LN10))}if(X.type==="date"){X.tick0=n.dateTick0(X.calendar,0);var Rt=2*et;if(Rt>v)et/=v,Ct=Ut(10),X.dtick="M"+12*Mt(et,Ct,Dt);else if(Rt>k)et/=k,X.dtick="M"+Mt(et,1,qt);else if(Rt>L){if(X.dtick=Mt(et,L,X._hasDayOfWeekBreaks?[1,2,7,14]:xt),!It){var Ht=$.getTickFormat(X),Zt=X.ticklabelmode==="period";Zt&&(X._rawTick0=X.tick0),/%[uVW]/.test(Ht)?X.tick0=n.dateTick0(X.calendar,2):X.tick0=n.dateTick0(X.calendar,1),Zt&&(X._dowTick0=X.tick0)}}else Rt>x?X.dtick=Mt(et,x,qt):Rt>C?X.dtick=Mt(et,C,ct):Rt>F?X.dtick=Mt(et,F,ct):(Ct=Ut(10),X.dtick=Mt(et,Ct,Dt))}else if(X.type==="log"){X.tick0=0;var Kt=n.simpleMap(X.range,X.r2l);if(X._isMinor&&(et*=1.5),et>.7)X.dtick=Math.ceil(et);else if(Math.abs(Kt[1]-Kt[0])<1){var oe=1.5*Math.abs((Kt[1]-Kt[0])/et);et=Math.abs(Math.pow(10,Kt[1])-Math.pow(10,Kt[0]))/oe,Ct=Ut(10),X.dtick="L"+Mt(et,Ct,Dt)}else X.dtick=et>.3?"D2":"D1"}else X.type==="category"||X.type==="multicategory"?(X.tick0=0,X.dtick=Math.ceil(Math.max(et,1))):re(X)?(X.tick0=0,Ct=1,X.dtick=Mt(et,Ct,yt)):(X.tick0=0,Ct=Ut(10),X.dtick=Mt(et,Ct,Dt));if(X.dtick===0&&(X.dtick=1),!y(X.dtick)&&typeof X.dtick!="string"){var ue=X.dtick;throw X.dtick=1,"ax.dtick error: "+String(ue)}},$.tickIncrement=function(X,et,It,Ct){var Ut=It?-1:1;if(y(et))return n.increment(X,Ut*et);var Rt=et.charAt(0),Ht=Ut*Number(et.substr(1));if(Rt==="M")return n.incrementMonth(X,Ht,Ct);if(Rt==="L")return Math.log(Math.pow(10,X)+Ht)/Math.LN10;if(Rt==="D"){var Zt=et==="D2"?vt:dt,Kt=X+.01*Ut,oe=n.roundUp(n.mod(Kt,1),Zt,It);return Math.floor(Kt)+Math.log(f.round(Math.pow(10,oe),1))/Math.LN10}throw"unrecognized dtick "+String(et)},$.tickFirst=function(X,et){var It=X.r2l||Number,Ct=n.simpleMap(X.range,It,void 0,void 0,et),Ut=Ct[1]<Ct[0],Rt=Ut?Math.floor:Math.ceil,Ht=at(Ct)[0],Zt=X.dtick,Kt=It(X.tick0);if(y(Zt)){var oe=Rt((Ht-Kt)/Zt)*Zt+Kt;return X.type!=="category"&&X.type!=="multicategory"||(oe=n.constrain(oe,0,X._categories.length-1)),oe}var ue=Zt.charAt(0),Se=Number(Zt.substr(1));if(ue==="M"){for(var he,ve,ke,Ae=0,ee=Kt;Ae<10;){if(((he=$.tickIncrement(ee,Zt,Ut,X.calendar))-Ht)*(ee-Ht)<=0)return Ut?Math.min(ee,he):Math.max(ee,he);ve=(Ht-(ee+he)/2)/(he-ee),ke=ue+(Math.abs(Math.round(ve))||1)*Se,ee=$.tickIncrement(ee,ke,ve<0?!Ut:Ut,X.calendar),Ae++}return n.error("tickFirst did not converge",X),ee}if(ue==="L")return Math.log(Rt((Math.pow(10,Ht)-Kt)/Se)*Se+Kt)/Math.LN10;if(ue==="D"){var fe=Zt==="D2"?vt:dt,ge=n.roundUp(n.mod(Ht,1),fe,Ut);return Math.floor(Ht)+Math.log(f.round(Math.pow(10,ge),1))/Math.LN10}throw"unrecognized dtick "+String(Zt)},$.tickText=function(X,et,It,Ct){var Ut,Rt=Lt(X,et),Ht=X.tickmode==="array",Zt=It||Ht,Kt=X.type,oe=Kt==="category"?X.d2l_noadd:X.d2l,ue=function(ee){var fe=X.l2p(ee);return fe>=0&&fe<=X._length?ee:null};if(Ht&&n.isArrayOrTypedArray(X.ticktext)){var Se=n.simpleMap(X.range,X.r2l),he=(Math.abs(Se[1]-Se[0])-(X._lBreaks||0))/1e4;for(Ut=0;Ut<X.ticktext.length&&!(Math.abs(et-oe(X.tickvals[Ut]))<he);Ut++);if(Ut<X.ticktext.length)return Rt.text=String(X.ticktext[Ut]),Rt.xbnd=[ue(Rt.x-.5),ue(Rt.x+X.dtick-.5)],Rt}function ve(ee){if(ee===void 0)return!0;if(It)return ee==="none";var fe={first:X._tmin,last:X._tmax}[ee];return ee!=="all"&&et!==fe}var ke=It?"never":X.exponentformat!=="none"&&ve(X.showexponent)?"hide":"";if(Kt==="date"?function(ee,fe,ge,je){var Ie=ee._tickround,Fe=ge&&ee.hoverformat||$.getTickFormat(ee);(je=!Fe&&je)&&(Ie=y(Ie)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[Ie]);var ye,be=n.formatDate(fe.x,Fe,Ie,ee._dateFormat,ee.calendar,ee._extraFormat),Te=be.indexOf(`
`);if(Te!==-1&&(ye=be.substr(Te+1),be=be.substr(0,Te)),je&&(ye===void 0||be!=="00:00:00"&&be!=="00:00"?be.length===8&&(be=be.replace(/:00$/,"")):(be=ye,ye="")),ye)if(ge)Ie==="d"?be+=", "+ye:be=ye+(be?", "+be:"");else if(ee._inCalcTicks&&ee._prevDateHead===ye){var Pe=ce(ee),Le=ee._trueSide||ee.side;(!Pe&&Le==="top"||Pe&&Le==="bottom")&&(be+="<br> ")}else ee._prevDateHead=ye,be+="<br>"+ye;fe.text=be}(X,Rt,It,Zt):Kt==="log"?function(ee,fe,ge,je,Ie){var Fe=ee.dtick,ye=fe.x,be=ee.tickformat,Te=typeof Fe=="string"&&Fe.charAt(0);if(Ie==="never"&&(Ie=""),je&&Te!=="L"&&(Fe="L3",Te="L"),be||Te==="L")fe.text=zt(Math.pow(10,ye),ee,Ie,je);else if(y(Fe)||Te==="D"&&n.mod(ye+.01,1)<.1){var Pe=Math.round(ye),Le=Math.abs(Pe),Oe=ee.exponentformat;Oe==="power"||At(Oe)&&Nt(Pe)?(fe.text=Pe===0?1:Pe===1?"10":"10<sup>"+(Pe>1?"":N)+Le+"</sup>",fe.fontSize*=1.25):(Oe==="e"||Oe==="E")&&Le>2?fe.text="1"+Oe+(Pe>0?"+":N)+Le:(fe.text=zt(Math.pow(10,ye),ee,"","fakehover"),Fe==="D1"&&ee._id.charAt(0)==="y"&&(fe.dy-=fe.fontSize/6))}else{if(Te!=="D")throw"unrecognized dtick "+String(Fe);fe.text=String(Math.round(Math.pow(10,n.mod(ye,1)))),fe.fontSize*=.75}if(ee.dtick==="D1"){var Ee=String(fe.text).charAt(0);Ee!=="0"&&Ee!=="1"||(ee._id.charAt(0)==="y"?fe.dx-=fe.fontSize/4:(fe.dy+=fe.fontSize/2,fe.dx+=(ee.range[1]>ee.range[0]?1:-1)*fe.fontSize*(ye<0?.5:.25)))}}(X,Rt,0,Zt,ke):Kt==="category"?function(ee,fe){var ge=ee._categories[Math.round(fe.x)];ge===void 0&&(ge=""),fe.text=String(ge)}(X,Rt):Kt==="multicategory"?function(ee,fe,ge){var je=Math.round(fe.x),Ie=ee._categories[je]||[],Fe=Ie[1]===void 0?"":String(Ie[1]),ye=Ie[0]===void 0?"":String(Ie[0]);ge?fe.text=ye+" - "+Fe:(fe.text=Fe,fe.text2=ye)}(X,Rt,It):re(X)?function(ee,fe,ge,je,Ie){if(ee.thetaunit!=="radians"||ge)fe.text=zt(fe.x,ee,Ie,je);else{var Fe=fe.x/180;if(Fe===0)fe.text="0";else{var ye=function(Te){function Pe(He,ze){return Math.abs(He-ze)<=1e-6}var Le=function(He){for(var ze=1;!Pe(Math.round(He*ze)/ze,He);)ze*=10;return ze}(Te),Oe=Te*Le,Ee=Math.abs(function He(ze,Ne){return Pe(Ne,0)?ze:He(Ne,ze%Ne)}(Oe,Le));return[Math.round(Oe/Ee),Math.round(Le/Ee)]}(Fe);if(ye[1]>=100)fe.text=zt(n.deg2rad(fe.x),ee,Ie,je);else{var be=fe.x<0;ye[1]===1?ye[0]===1?fe.text="π":fe.text=ye[0]+"π":fe.text=["<sup>",ye[0],"</sup>","⁄","<sub>",ye[1],"</sub>","π"].join(""),be&&(fe.text=N+fe.text)}}}}(X,Rt,It,Zt,ke):function(ee,fe,ge,je,Ie){Ie==="never"?Ie="":ee.showexponent==="all"&&Math.abs(fe.x/ee.dtick)<1e-6&&(Ie="hide"),fe.text=zt(fe.x,ee,Ie,je)}(X,Rt,0,Zt,ke),Ct||(X.tickprefix&&!ve(X.showtickprefix)&&(Rt.text=X.tickprefix+Rt.text),X.ticksuffix&&!ve(X.showticksuffix)&&(Rt.text+=X.ticksuffix)),X.labelalias&&X.labelalias.hasOwnProperty(Rt.text)){var Ae=X.labelalias[Rt.text];typeof Ae=="string"&&(Rt.text=Ae)}return(X.tickson==="boundaries"||X.showdividers)&&(Rt.xbnd=[ue(Rt.x-.5),ue(Rt.x+X.dtick-.5)]),Rt},$.hoverLabelText=function(X,et,It){It&&(X=n.extendFlat({},X,{hoverformat:It}));var Ct=n.isArrayOrTypedArray(et)?et[0]:et,Ut=n.isArrayOrTypedArray(et)?et[1]:void 0;if(Ut!==void 0&&Ut!==Ct)return $.hoverLabelText(X,Ct,It)+" - "+$.hoverLabelText(X,Ut,It);var Rt=X.type==="log"&&Ct<=0,Ht=$.tickText(X,X.c2l(Rt?-Ct:Ct),"hover").text;return Rt?Ct===0?"0":N+Ht:Ht};var St=["f","p","n","μ","m","","k","M","G","T"];function At(X){return X==="SI"||X==="B"}function Nt(X){return X>14||X<-15}function zt(X,et,It,Ct){var Ut=X<0,Rt=et._tickround,Ht=It||et.exponentformat||"B",Zt=et._tickexponent,Kt=$.getTickFormat(et),oe=et.separatethousands;if(Ct){var ue={exponentformat:Ht,minexponent:et.minexponent,dtick:et.showexponent==="none"?et.dtick:y(X)&&Math.abs(X)||1,range:et.showexponent==="none"?et.range.map(et.r2d):[0,X||1]};Tt(ue),Rt=(Number(ue._tickround)||0)+4,Zt=ue._tickexponent,et.hoverformat&&(Kt=et.hoverformat)}if(Kt)return et._numFormat(Kt)(X).replace(/-/g,N);var Se,he=Math.pow(10,-Rt)/2;if(Ht==="none"&&(Zt=0),(X=Math.abs(X))<he)X="0",Ut=!1;else{if(X+=he,Zt&&(X*=Math.pow(10,-Zt),Rt+=Zt),Rt===0)X=String(Math.floor(X));else if(Rt<0){X=(X=String(Math.round(X))).substr(0,X.length+Rt);for(var ve=Rt;ve<0;ve++)X+="0"}else{var ke=(X=String(X)).indexOf(".")+1;ke&&(X=X.substr(0,ke+Rt).replace(/\.?0+$/,""))}X=n.numSeparate(X,et._separators,oe)}return Zt&&Ht!=="hide"&&(At(Ht)&&Nt(Zt)&&(Ht="power"),Se=Zt<0?N+-Zt:Ht!=="power"?"+"+Zt:String(Zt),Ht==="e"||Ht==="E"?X+=Ht+Se:Ht==="power"?X+="×10<sup>"+Se+"</sup>":Ht==="B"&&Zt===9?X+="B":At(Ht)&&(X+=St[Zt/3+5])),Ut?N+X:X}function Ft(X,et){if(X){var It=Object.keys(D).reduce(function(Ct,Ut){return et.indexOf(Ut)!==-1&&D[Ut].forEach(function(Rt){Ct[Rt]=1}),Ct},{});Object.keys(X).forEach(function(Ct){It[Ct]||(Ct.length===1?X[Ct]=0:delete X[Ct])})}}function Gt(X,et){for(var It=[],Ct={},Ut=0;Ut<et.length;Ut++){var Rt=et[Ut];Ct[Rt.text2]?Ct[Rt.text2].push(Rt.x):Ct[Rt.text2]=[Rt.x]}for(var Ht in Ct)It.push(Lt(X,n.interp(Ct[Ht],.5),Ht));return It}function Bt(X){return X.periodX!==void 0?X.periodX:X.x}function de(X){return[X.text,X.x,X.axInfo,X.font,X.fontSize,X.fontColor].join("_")}function ie(X){var et=X.title.font.size,It=(X.title.text.match(o.BR_TAG_ALL)||[]).length;return X.title.hasOwnProperty("standoff")?It?et*(nt+It*ot):et*nt:It?et*(It+1)*ot:et}function pe(X,et){var It=X.l2p(et);return It>1&&It<X._length-1}function Ot(X){var et=f.select(X),It=et.select(".text-math-group");return It.empty()?et.select("text"):It}function gt(X){return X._id+".automargin"}function jt(X){return gt(X)+".mirror"}function Xt(X){return X._id+".rangeslider"}function xe(X,et){for(var It=0;It<et.length;It++)X.indexOf(et[It])===-1&&X.push(et[It])}function Vt(X,et,It){var Ct,Ut,Rt=[],Ht=[],Zt=X.layout;for(Ct=0;Ct<et.length;Ct++)Rt.push($.getFromId(X,et[Ct]));for(Ct=0;Ct<It.length;Ct++)Ht.push($.getFromId(X,It[Ct]));var Kt=Object.keys(u),oe=["anchor","domain","overlaying","position","side","tickangle","editType"],ue=["linear","log"];for(Ct=0;Ct<Kt.length;Ct++){var Se=Kt[Ct],he=Rt[0][Se],ve=Ht[0][Se],ke=!0,Ae=!1,ee=!1;if(Se.charAt(0)!=="_"&&typeof he!="function"&&oe.indexOf(Se)===-1){for(Ut=1;Ut<Rt.length&&ke;Ut++){var fe=Rt[Ut][Se];Se==="type"&&ue.indexOf(he)!==-1&&ue.indexOf(fe)!==-1&&he!==fe?Ae=!0:fe!==he&&(ke=!1)}for(Ut=1;Ut<Ht.length&&ke;Ut++){var ge=Ht[Ut][Se];Se==="type"&&ue.indexOf(ve)!==-1&&ue.indexOf(ge)!==-1&&ve!==ge?ee=!0:Ht[Ut][Se]!==ve&&(ke=!1)}ke&&(Ae&&(Zt[Rt[0]._name].type="linear"),ee&&(Zt[Ht[0]._name].type="linear"),Qt(Zt,Se,Rt,Ht,X._fullLayout._dfltTitle))}}for(Ct=0;Ct<X._fullLayout.annotations.length;Ct++){var je=X._fullLayout.annotations[Ct];et.indexOf(je.xref)!==-1&&It.indexOf(je.yref)!==-1&&n.swapAttrs(Zt.annotations[Ct],["?"])}}function Qt(X,et,It,Ct,Ut){var Rt,Ht=n.nestedProperty,Zt=Ht(X[It[0]._name],et).get(),Kt=Ht(X[Ct[0]._name],et).get();for(et==="title"&&(Zt&&Zt.text===Ut.x&&(Zt.text=Ut.y),Kt&&Kt.text===Ut.y&&(Kt.text=Ut.x)),Rt=0;Rt<It.length;Rt++)Ht(X,It[Rt]._name+"."+et).set(Kt);for(Rt=0;Rt<Ct.length;Rt++)Ht(X,Ct[Rt]._name+"."+et).set(Zt)}function re(X){return X._id==="angularaxis"}function _e(X,et){for(var It=et._rangebreaks.length,Ct=0;Ct<It;Ct++){var Ut=et._rangebreaks[Ct];if(X>=Ut.min&&X<Ut.max)return Ut.max}return X}function ce(X){return(X.ticklabelposition||"").indexOf("inside")!==-1}function Me(X,et){ce(X._anchorAxis||{})&&X._hideCounterAxisInsideTickLabels&&X._hideCounterAxisInsideTickLabels(et)}function te(X,et,It,Ct){var Ut,Rt=X.anchor==="free"||X.overlaying!==void 0&&X.overlaying!==!1?X.overlaying:X._id;Ut=Ct?X.side==="right"?et:-et:et,Rt in It||(It[Rt]={}),X.side in It[Rt]||(It[Rt][X.side]=0),It[Rt][X.side]+=Ut}$.getTickFormat=function(X){var et,It,Ct,Ut,Rt,Ht,Zt,Kt;function oe(he){return typeof he!="string"?he:Number(he.replace("M",""))*k}function ue(he,ve){var ke=["L","D"];if(typeof he==typeof ve){if(typeof he=="number")return he-ve;var Ae=ke.indexOf(he.charAt(0)),ee=ke.indexOf(ve.charAt(0));return Ae===ee?Number(he.replace(/(L|D)/g,""))-Number(ve.replace(/(L|D)/g,"")):Ae-ee}return typeof he=="number"?1:-1}function Se(he,ve){var ke=ve[0]===null,Ae=ve[1]===null,ee=ue(he,ve[0])>=0,fe=ue(he,ve[1])<=0;return(ke||ee)&&(Ae||fe)}if(X.tickformatstops&&X.tickformatstops.length>0)switch(X.type){case"date":case"linear":for(et=0;et<X.tickformatstops.length;et++)if((Ct=X.tickformatstops[et]).enabled&&(Ut=X.dtick,Ht=void 0,Ht=oe||function(he){return he},Zt=(Rt=Ct.dtickrange)[0],Kt=Rt[1],(!Zt&&typeof Zt!="number"||Ht(Zt)<=Ht(Ut))&&(!Kt&&typeof Kt!="number"||Ht(Kt)>=Ht(Ut)))){It=Ct;break}break;case"log":for(et=0;et<X.tickformatstops.length;et++)if((Ct=X.tickformatstops[et]).enabled&&Se(X.dtick,Ct.dtickrange)){It=Ct;break}}return It?It.value:X.tickformat},$.getSubplots=function(X,et){var It=X._fullLayout._subplots,Ct=It.cartesian.concat(It.gl2d||[]),Ut=et?$.findSubplotsWithAxis(Ct,et):Ct;return Ut.sort(function(Rt,Ht){var Zt=Rt.substr(1).split("y"),Kt=Ht.substr(1).split("y");return Zt[0]===Kt[0]?+Zt[1]-+Kt[1]:+Zt[0]-+Kt[0]}),Ut},$.findSubplotsWithAxis=function(X,et){for(var It=new RegExp(et._id.charAt(0)==="x"?"^"+et._id+"y":et._id+"$"),Ct=[],Ut=0;Ut<X.length;Ut++){var Rt=X[Ut];It.test(Rt)&&Ct.push(Rt)}return Ct},$.makeClipPaths=function(X){var et=X._fullLayout;if(!et._hasOnlyLargeSploms){var It,Ct,Ut={_offset:0,_length:et.width,_id:""},Rt={_offset:0,_length:et.height,_id:""},Ht=$.list(X,"x",!0),Zt=$.list(X,"y",!0),Kt=[];for(It=0;It<Ht.length;It++)for(Kt.push({x:Ht[It],y:Rt}),Ct=0;Ct<Zt.length;Ct++)It===0&&Kt.push({x:Ut,y:Zt[Ct]}),Kt.push({x:Ht[It],y:Zt[Ct]});var oe=et._clips.selectAll(".axesclip").data(Kt,function(ue){return ue.x._id+ue.y._id});oe.enter().append("clipPath").classed("axesclip",!0).attr("id",function(ue){return"clip"+et._uid+ue.x._id+ue.y._id}).append("rect"),oe.exit().remove(),oe.each(function(ue){f.select(this).select("rect").attr({x:ue.x._offset||0,y:ue.y._offset||0,width:ue.x._length||1,height:ue.y._length||1})})}},$.draw=function(X,et,It){var Ct=X._fullLayout;et==="redraw"&&Ct._paper.selectAll("g.subplot").each(function(Zt){var Kt=Zt[0],oe=Ct._plots[Kt];if(oe){var ue=oe.xaxis,Se=oe.yaxis;oe.xaxislayer.selectAll("."+ue._id+"tick").remove(),oe.yaxislayer.selectAll("."+Se._id+"tick").remove(),oe.xaxislayer.selectAll("."+ue._id+"tick2").remove(),oe.yaxislayer.selectAll("."+Se._id+"tick2").remove(),oe.xaxislayer.selectAll("."+ue._id+"divider").remove(),oe.yaxislayer.selectAll("."+Se._id+"divider").remove(),oe.minorGridlayer&&oe.minorGridlayer.selectAll("path").remove(),oe.gridlayer&&oe.gridlayer.selectAll("path").remove(),oe.zerolinelayer&&oe.zerolinelayer.selectAll("path").remove(),Ct._infolayer.select(".g-"+ue._id+"title").remove(),Ct._infolayer.select(".g-"+Se._id+"title").remove()}});var Ut=et&&et!=="redraw"?et:$.listIds(X),Rt=$.list(X).filter(function(Zt){return Zt.autoshift}).map(function(Zt){return Zt.overlaying});Ut.map(function(Zt){var Kt=$.getFromId(X,Zt);if(Kt.tickmode==="sync"&&Kt.overlaying){var oe=Ut.findIndex(function(ue){return ue===Kt.overlaying});oe>=0&&Ut.unshift(Ut.splice(oe,1).shift())}});var Ht={false:{left:0,right:0}};return n.syncOrAsync(Ut.map(function(Zt){return function(){if(Zt){var Kt=$.getFromId(X,Zt);It||(It={}),It.axShifts=Ht,It.overlayingShiftedAx=Rt;var oe=$.drawOne(X,Kt,It);return Kt._shiftPusher&&te(Kt,Kt._fullDepth||0,Ht,!0),Kt._r=Kt.range.slice(),Kt._rl=n.simpleMap(Kt._r,Kt.r2l),oe}}}))},$.drawOne=function(X,et,It){var Ct,Ut,Rt,Ht=(It=It||{}).axShifts||{},Zt=It.overlayingShiftedAx||[];et.setScale();var Kt=X._fullLayout,oe=et._id,ue=oe.charAt(0),Se=$.counterLetter(oe),he=Kt._plots[et._mainSubplot];if(he){if(et._shiftPusher=et.autoshift||Zt.indexOf(et._id)!==-1||Zt.indexOf(et.overlaying)!==-1,et._shiftPusher&et.anchor==="free"){var ve=et.linewidth/2||0;et.ticks==="inside"&&(ve+=et.ticklen),te(et,ve,Ht,!0),te(et,et.shift||0,Ht,!1)}It.skipTitle===!0&&et._shift!==void 0||(et._shift=function(Xe,Be){return Xe.autoshift?Be[Xe.overlaying][Xe.side]:Xe.shift||0}(et,Ht));var ke=he[ue+"axislayer"],Ae=et._mainLinePosition,ee=Ae+=et._shift,fe=et._mainMirrorPosition,ge=et._vals=$.calcTicks(et),je=[et.mirror,ee,fe].join("_");for(Ct=0;Ct<ge.length;Ct++)ge[Ct].axInfo=je;et._selections={},et._tickAngles&&(et._prevTickAngles=et._tickAngles),et._tickAngles={},et._depth=null;var Ie={};if(et.visible){var Fe,ye,be=$.makeTransTickFn(et),Te=$.makeTransTickLabelFn(et),Pe=et.ticks==="inside",Le=et.ticks==="outside";if(et.tickson==="boundaries"){var Oe=function(Xe,Be){var We,nn=[],tn=function(pn,ln){var un=pn.xbnd[ln];un!==null&&nn.push(n.extendFlat({},pn,{x:un}))};if(Be.length){for(We=0;We<Be.length;We++)tn(Be[We],0);tn(Be[We-1],1)}return nn}(0,ge);ye=$.clipEnds(et,Oe),Fe=Pe?ye:Oe}else ye=$.clipEnds(et,ge),Fe=Pe&&et.ticklabelmode!=="period"?ye:ge;var Ee,He=et._gridVals=ye,ze=function(Xe,Be){var We,nn,tn=[],pn=Be.length&&Be[Be.length-1].x<Be[0].x,ln=function(An,Nn){var Ln=An.xbnd[Nn];Ln!==null&&tn.push(n.extendFlat({},An,{x:Ln}))};if(Xe.showdividers&&Be.length){for(We=0;We<Be.length;We++){var un=Be[We];un.text2!==nn&&ln(un,pn?1:0),nn=un.text2}ln(Be[We-1],pn?0:1)}return tn}(et,ge);if(!Kt._hasOnlyLargeSploms){var Ne=et._subplotsWith,Ye={};for(Ct=0;Ct<Ne.length;Ct++){Ut=Ne[Ct];var Ze=(Rt=Kt._plots[Ut])[Se+"axis"],Re=Ze._mainAxis._id;if(!Ye[Re]){Ye[Re]=1;var Ge=ue==="x"?"M0,"+Ze._offset+"v"+Ze._length:"M"+Ze._offset+",0h"+Ze._length;$.drawGrid(X,et,{vals:He,counterAxis:Ze,layer:Rt.gridlayer.select("."+oe),minorLayer:Rt.minorGridlayer.select("."+oe),path:Ge,transFn:be}),$.drawZeroLine(X,et,{counterAxis:Ze,layer:Rt.zerolinelayer,path:Ge,transFn:be})}}}var Je=$.getTickSigns(et),fn=$.getTickSigns(et,"minor");if(et.ticks||et.minor&&et.minor.ticks){var gn,sn,Cn,Tn,On=$.makeTickPath(et,ee,Je[2]),Pn=$.makeTickPath(et,ee,fn[2],{minor:!0});if(et._anchorAxis&&et.mirror&&et.mirror!==!0?(gn=$.makeTickPath(et,fe,Je[3]),sn=$.makeTickPath(et,fe,fn[3],{minor:!0}),Cn=On+gn,Tn=Pn+sn):(gn="",sn="",Cn=On,Tn=Pn),et.showdividers&&Le&&et.tickson==="boundaries"){var zn={};for(Ct=0;Ct<ze.length;Ct++)zn[ze[Ct].x]=1;Ee=function(Xe){return zn[Xe.x]?gn:Cn}}else Ee=function(Xe){return Xe.minor?Tn:Cn}}if($.drawTicks(X,et,{vals:Fe,layer:ke,path:Ee,transFn:be}),et.mirror==="allticks"){var Bn=Object.keys(et._linepositions||{});for(Ct=0;Ct<Bn.length;Ct++){Ut=Bn[Ct],Rt=Kt._plots[Ut];var Un=et._linepositions[Ut]||[],Fn=Un[0],Mn=Un[1],kn=Un[2],Ke=$.makeTickPath(et,Fn,kn?Je[0]:fn[0],{minor:kn})+$.makeTickPath(et,Mn,kn?Je[1]:fn[1],{minor:kn});$.drawTicks(X,et,{vals:Fe,layer:Rt[ue+"axislayer"],path:Ke,transFn:be})}}var hn=[];if(hn.push(function(){return $.drawLabels(X,et,{vals:ge,layer:ke,plotinfo:Rt,transFn:Te,labelFns:$.makeLabelFns(et,ee)})}),et.type==="multicategory"){var $e={x:2,y:10}[ue];hn.push(function(){var Xe={x:"height",y:"width"}[ue],Be=mn()[Xe]+$e+(et._tickAngles[oe+"tick"]?et.tickfont.size*ot:0);return $.drawLabels(X,et,{vals:Gt(et,ge),layer:ke,cls:oe+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:be,labelFns:$.makeLabelFns(et,ee+Be*Je[4])})}),hn.push(function(){return et._depth=Je[4]*(mn("tick2")[et.side]-ee),function(Xe,Be,We){var nn=Be._id+"divider",tn=We.vals,pn=We.layer.selectAll("path."+nn).data(tn,de);pn.exit().remove(),pn.enter().insert("path",":first-child").classed(nn,1).classed("crisp",1).call(e.stroke,Be.dividercolor).style("stroke-width",l.crispRound(Xe,Be.dividerwidth,1)+"px"),pn.attr("transform",We.transFn).attr("d",We.path)}(X,et,{vals:ze,layer:ke,path:$.makeTickPath(et,ee,Je[4],{len:et._depth}),transFn:be})})}else et.title.hasOwnProperty("standoff")&&hn.push(function(){et._depth=Je[4]*(mn()[et.side]-ee)});var on=a.getComponentMethod("rangeslider","isVisible")(et);return It.skipTitle||on&&et.side==="bottom"||hn.push(function(){return function(Xe,Be){var We,nn=Xe._fullLayout,tn=Be._id,pn=tn.charAt(0),ln=Be.title.font.size;if(Be.title.hasOwnProperty("standoff"))We=Be._depth+Be.title.standoff+ie(Be);else{var un=ce(Be);if(Be.type==="multicategory")We=Be._depth;else{var An=1.5*ln;un&&(An=.5*ln,Be.ticks==="outside"&&(An+=Be.ticklen)),We=10+An+(Be.linewidth?Be.linewidth-1:0)}un||(We+=pn==="x"?Be.side==="top"?ln*(Be.showticklabels?1:0):ln*(Be.showticklabels?1.5:.5):Be.side==="right"?ln*(Be.showticklabels?1:.5):ln*(Be.showticklabels?.5:0))}var Nn,Ln,En,In,_n=$.getPxPosition(Xe,Be);if(pn==="x"?(Ln=Be._offset+Be._length/2,En=Be.side==="top"?_n-We:_n+We):(En=Be._offset+Be._length/2,Ln=Be.side==="right"?_n+We:_n-We,Nn={rotate:"-90",offset:0}),Be.type!=="multicategory"){var jn=Be._selections[Be._id+"tick"];if(In={selection:jn,side:Be.side},jn&&jn.node()&&jn.node().parentNode){var Sn=l.getTranslate(jn.node().parentNode);In.offsetLeft=Sn.x,In.offsetTop=Sn.y}Be.title.hasOwnProperty("standoff")&&(In.pad=0)}return Be._titleStandoff=We,s.draw(Xe,tn+"title",{propContainer:Be,propName:Be._name+".title.text",placeholder:nn._dfltTitle[pn],avoid:In,transform:Nn,attributes:{x:Ln,y:En,"text-anchor":"middle"}})}(X,et)}),hn.push(function(){var Xe,Be,We,nn,tn=et.side.charAt(0),pn=rt[et.side].charAt(0),ln=$.getPxPosition(X,et),un=Le?et.ticklen:0;(et.automargin||on||et._shiftPusher)&&(et.type==="multicategory"?Xe=mn("tick2"):(Xe=mn(),ue==="x"&&tn==="b"&&(et._depth=Math.max(Xe.width>0?Xe.bottom-ln:0,un))));var An=0,Nn=0;if(et._shiftPusher&&(An=Math.max(un,Xe.height>0?tn==="l"?ln-Xe.left:Xe.right-ln:0),et.title.text!==Kt._dfltTitle[ue]&&(Nn=(et._titleStandoff||0)+(et._titleScoot||0),tn==="l"&&(Nn+=ie(et))),et._fullDepth=Math.max(An,Nn)),et.automargin){Be={x:0,y:0,r:0,l:0,t:0,b:0};var Ln=[0,1],En=typeof et._shift=="number"?et._shift:0;if(ue==="x"){if(tn==="b"?Be[tn]=et._depth:(Be[tn]=et._depth=Math.max(Xe.width>0?ln-Xe.top:0,un),Ln.reverse()),Xe.width>0){var In=Xe.right-(et._offset+et._length);In>0&&(Be.xr=1,Be.r=In);var _n=et._offset-Xe.left;_n>0&&(Be.xl=0,Be.l=_n)}}else if(tn==="l"?(et._depth=Math.max(Xe.height>0?ln-Xe.left:0,un),Be[tn]=et._depth-En):(et._depth=Math.max(Xe.height>0?Xe.right-ln:0,un),Be[tn]=et._depth+En,Ln.reverse()),Xe.height>0){var jn=Xe.bottom-(et._offset+et._length);jn>0&&(Be.yb=0,Be.b=jn);var Sn=et._offset-Xe.top;Sn>0&&(Be.yt=1,Be.t=Sn)}Be[Se]=et.anchor==="free"?et.position:et._anchorAxis.domain[Ln[0]],et.title.text!==Kt._dfltTitle[ue]&&(Be[tn]+=ie(et)+(et.title.standoff||0)),et.mirror&&et.anchor!=="free"&&((We={x:0,y:0,r:0,l:0,t:0,b:0})[pn]=et.linewidth,et.mirror&&et.mirror!==!0&&(We[pn]+=un),et.mirror===!0||et.mirror==="ticks"?We[Se]=et._anchorAxis.domain[Ln[1]]:et.mirror!=="all"&&et.mirror!=="allticks"||(We[Se]=[et._counterDomainMin,et._counterDomainMax][Ln[1]]))}on&&(nn=a.getComponentMethod("rangeslider","autoMarginOpts")(X,et)),typeof et.automargin=="string"&&(Ft(Be,et.automargin),Ft(We,et.automargin)),i.autoMargin(X,gt(et),Be),i.autoMargin(X,jt(et),We),i.autoMargin(X,Xt(et),nn)}),n.syncOrAsync(hn)}}function mn(Xe){var Be=oe+(Xe||"tick");return Ie[Be]||(Ie[Be]=function(We,nn,tn){var pn,ln,un,An;if(We._selections[nn].size())pn=1/0,ln=-1/0,un=1/0,An=-1/0,We._selections[nn].each(function(){var Ln=Ot(this),En=l.bBox(Ln.node().parentNode);pn=Math.min(pn,En.top),ln=Math.max(ln,En.bottom),un=Math.min(un,En.left),An=Math.max(An,En.right)});else{var Nn=$.makeLabelFns(We,tn);pn=ln=Nn.yFn({dx:0,dy:0,fontSize:0}),un=An=Nn.xFn({dx:0,dy:0,fontSize:0})}return{top:pn,bottom:ln,left:un,right:An,height:ln-pn,width:An-un}}(et,Be,ee)),Ie[Be]}},$.getTickSigns=function(X,et){var It=X._id.charAt(0),Ct={x:"top",y:"right"}[It],Ut=X.side===Ct?1:-1,Rt=[-1,1,Ut,-Ut];return(et?(X.minor||{}).ticks:X.ticks)!=="inside"==(It==="x")&&(Rt=Rt.map(function(Ht){return-Ht})),X.side&&Rt.push({l:-1,t:-1,r:1,b:1}[X.side.charAt(0)]),Rt},$.makeTransTickFn=function(X){return X._id.charAt(0)==="x"?function(et){return r(X._offset+X.l2p(et.x),0)}:function(et){return r(0,X._offset+X.l2p(et.x))}},$.makeTransTickLabelFn=function(X){var et=function(Ut){var Rt=Ut.ticklabelposition||"",Ht=function(fe){return Rt.indexOf(fe)!==-1},Zt=Ht("top"),Kt=Ht("left"),oe=Ht("right"),ue=Ht("bottom"),Se=Ht("inside"),he=ue||Kt||Zt||oe;if(!he&&!Se)return[0,0];var ve=Ut.side,ke=he?(Ut.tickwidth||0)/2:0,Ae=3,ee=Ut.tickfont?Ut.tickfont.size:12;return(ue||Zt)&&(ke+=ee*nt,Ae+=(Ut.linewidth||0)/2),(Kt||oe)&&(ke+=(Ut.linewidth||0)/2,Ae+=3),Se&&ve==="top"&&(Ae-=ee*(1-nt)),(Kt||Zt)&&(ke=-ke),ve!=="bottom"&&ve!=="right"||(Ae=-Ae),[he?ke:0,Se?Ae:0]}(X),It=et[0],Ct=et[1];return X._id.charAt(0)==="x"?function(Ut){return r(It+X._offset+X.l2p(Bt(Ut)),Ct)}:function(Ut){return r(Ct,It+X._offset+X.l2p(Bt(Ut)))}},$.makeTickPath=function(X,et,It,Ct){Ct||(Ct={});var Ut=Ct.minor;if(Ut&&!X.minor)return"";var Rt=Ct.len!==void 0?Ct.len:Ut?X.minor.ticklen:X.ticklen,Ht=X._id.charAt(0),Zt=(X.linewidth||1)/2;return Ht==="x"?"M0,"+(et+Zt*It)+"v"+Rt*It:"M"+(et+Zt*It)+",0h"+Rt*It},$.makeLabelFns=function(X,et,It){var Ct=X.ticklabelposition||"",Ut=function(Oe){return Ct.indexOf(Oe)!==-1},Rt=Ut("top"),Ht=Ut("left"),Zt=Ut("right"),Kt=Ut("bottom")||Ht||Rt||Zt,oe=Ut("inside"),ue=Ct==="inside"&&X.ticks==="inside"||!oe&&X.ticks==="outside"&&X.tickson!=="boundaries",Se=0,he=0,ve=ue?X.ticklen:0;if(oe?ve*=-1:Kt&&(ve=0),ue&&(Se+=ve,It)){var ke=n.deg2rad(It);Se=ve*Math.cos(ke)+1,he=ve*Math.sin(ke)}X.showticklabels&&(ue||X.showline)&&(Se+=.2*X.tickfont.size);var Ae,ee,fe,ge,je,Ie={labelStandoff:Se+=(X.linewidth||1)/2*(oe?-1:1),labelShift:he},Fe=0,ye=X.side,be=X._id.charAt(0),Te=X.tickangle;if(be==="x")ge=(je=!oe&&ye==="bottom"||oe&&ye==="top")?1:-1,oe&&(ge*=-1),Ae=he*ge,ee=et+Se*ge,fe=je?1:-.2,Math.abs(Te)===90&&(oe?fe+=q:fe=Te===-90&&ye==="bottom"?nt:Te===90&&ye==="top"?q:.5,Fe=q/2*(Te/90)),Ie.xFn=function(Oe){return Oe.dx+Ae+Fe*Oe.fontSize},Ie.yFn=function(Oe){return Oe.dy+ee+Oe.fontSize*fe},Ie.anchorFn=function(Oe,Ee){if(Kt){if(Ht)return"end";if(Zt)return"start"}return y(Ee)&&Ee!==0&&Ee!==180?Ee*ge<0!==oe?"end":"start":"middle"},Ie.heightFn=function(Oe,Ee,He){return Ee<-60||Ee>60?-.5*He:X.side==="top"!==oe?-He:0};else if(be==="y"){if(ge=(je=!oe&&ye==="left"||oe&&ye==="right")?1:-1,oe&&(ge*=-1),Ae=Se,ee=he*ge,fe=0,oe||Math.abs(Te)!==90||(fe=Te===-90&&ye==="left"||Te===90&&ye==="right"?nt:.5),oe){var Pe=y(Te)?+Te:0;if(Pe!==0){var Le=n.deg2rad(Pe);Fe=Math.abs(Math.sin(Le))*nt*ge,fe=0}}Ie.xFn=function(Oe){return Oe.dx+et-(Ae+Oe.fontSize*fe)*ge+Fe*Oe.fontSize},Ie.yFn=function(Oe){return Oe.dy+ee+Oe.fontSize*q},Ie.anchorFn=function(Oe,Ee){return y(Ee)&&Math.abs(Ee)===90?"middle":je?"end":"start"},Ie.heightFn=function(Oe,Ee,He){return X.side==="right"&&(Ee*=-1),Ee<-30?-He:Ee<30?-.5*He:0}}return Ie},$.drawTicks=function(X,et,It){It=It||{};var Ct=et._id+"tick",Ut=[].concat(et.minor&&et.minor.ticks?It.vals.filter(function(Ht){return Ht.minor&&!Ht.noTick}):[]).concat(et.ticks?It.vals.filter(function(Ht){return!Ht.minor&&!Ht.noTick}):[]),Rt=It.layer.selectAll("path."+Ct).data(Ut,de);Rt.exit().remove(),Rt.enter().append("path").classed(Ct,1).classed("ticks",1).classed("crisp",It.crisp!==!1).each(function(Ht){return e.stroke(f.select(this),Ht.minor?et.minor.tickcolor:et.tickcolor)}).style("stroke-width",function(Ht){return l.crispRound(X,Ht.minor?et.minor.tickwidth:et.tickwidth,1)+"px"}).attr("d",It.path).style("display",null),Me(et,[it]),Rt.attr("transform",It.transFn)},$.drawGrid=function(X,et,It){if(It=It||{},et.tickmode!=="sync"){var Ct=et._id+"grid",Ut=et.minor&&et.minor.showgrid,Rt=Ut?It.vals.filter(function(fe){return fe.minor}):[],Ht=et.showgrid?It.vals.filter(function(fe){return!fe.minor}):[],Zt=It.counterAxis;if(Zt&&$.shouldShowZeroLine(X,et,Zt))for(var Kt=et.tickmode==="array",oe=0;oe<Ht.length;oe++){var ue=Ht[oe].x;if(Kt?!ue:Math.abs(ue)<et.dtick/100){if(Ht=Ht.slice(0,oe).concat(Ht.slice(oe+1)),!Kt)break;oe--}}et._gw=l.crispRound(X,et.gridwidth,1);for(var Se=Ut?l.crispRound(X,et.minor.gridwidth,1):0,he=It.layer,ve=It.minorLayer,ke=1;ke>=0;ke--){var Ae=ke?he:ve;if(Ae){var ee=Ae.selectAll("path."+Ct).data(ke?Ht:Rt,de);ee.exit().remove(),ee.enter().append("path").classed(Ct,1).classed("crisp",It.crisp!==!1),ee.attr("transform",It.transFn).attr("d",It.path).each(function(fe){return e.stroke(f.select(this),fe.minor?et.minor.gridcolor:et.gridcolor||"#ddd")}).style("stroke-dasharray",function(fe){return l.dashStyle(fe.minor?et.minor.griddash:et.griddash,fe.minor?et.minor.gridwidth:et.gridwidth)}).style("stroke-width",function(fe){return(fe.minor?Se:et._gw)+"px"}).style("display",null),typeof It.path=="function"&&ee.attr("d",It.path)}}Me(et,[H,U])}},$.drawZeroLine=function(X,et,It){It=It||It;var Ct=et._id+"zl",Ut=$.shouldShowZeroLine(X,et,It.counterAxis),Rt=It.layer.selectAll("path."+Ct).data(Ut?[{x:0,id:et._id}]:[]);Rt.exit().remove(),Rt.enter().append("path").classed(Ct,1).classed("zl",1).classed("crisp",It.crisp!==!1).each(function(){It.layer.selectAll("path").sort(function(Ht,Zt){return Y(Ht.id,Zt.id)})}),Rt.attr("transform",It.transFn).attr("d",It.path).call(e.stroke,et.zerolinecolor||e.defaultLine).style("stroke-width",l.crispRound(X,et.zerolinewidth,et._gw||1)+"px").style("display",null),Me(et,[z])},$.drawLabels=function(X,et,It){It=It||{};var Ct=X._fullLayout,Ut=et._id,Rt=It.cls||Ut+"tick",Ht=It.vals.filter(function(Ye){return Ye.text}),Zt=It.labelFns,Kt=It.secondary?0:et.tickangle,oe=(et._prevTickAngles||{})[Rt],ue=It.layer.selectAll("g."+Rt).data(et.showticklabels?Ht:[],de),Se=[];function he(Ye,Ze){Ye.each(function(Re){var Ge=f.select(this),Je=Ge.select(".text-math-group"),fn=Zt.anchorFn(Re,Ze),gn=It.transFn.call(Ge.node(),Re)+(y(Ze)&&+Ze!=0?" rotate("+Ze+","+Zt.xFn(Re)+","+(Zt.yFn(Re)-Re.fontSize/2)+")":""),sn=o.lineCount(Ge),Cn=ot*Re.fontSize,Tn=Zt.heightFn(Re,y(Ze)?+Ze:0,(sn-1)*Cn);if(Tn&&(gn+=r(0,Tn)),Je.empty()){var On=Ge.select("text");On.attr({transform:gn,"text-anchor":fn}),On.style("opacity",1),et._adjustTickLabelsOverflow&&et._adjustTickLabelsOverflow()}else{var Pn=l.bBox(Je.node()).width*{end:-.5,start:.5}[fn];Je.attr("transform",gn+r(Pn,0))}})}ue.enter().append("g").classed(Rt,1).append("text").attr("text-anchor","middle").each(function(Ye){var Ze=f.select(this),Re=X._promises.length;Ze.call(o.positionText,Zt.xFn(Ye),Zt.yFn(Ye)).call(l.font,Ye.font,Ye.fontSize,Ye.fontColor).text(Ye.text).call(o.convertToTspans,X),X._promises[Re]?Se.push(X._promises.pop().then(function(){he(Ze,Kt)})):he(Ze,Kt)}),Me(et,[K]),ue.exit().remove(),It.repositionOnUpdate&&ue.each(function(Ye){f.select(this).select("text").call(o.positionText,Zt.xFn(Ye),Zt.yFn(Ye))}),et._adjustTickLabelsOverflow=function(){var Ye=et.ticklabeloverflow;if(Ye&&Ye!=="allow"){var Ze=Ye.indexOf("hide")!==-1,Re=et._id.charAt(0)==="x",Ge=0,Je=Re?X._fullLayout.width:X._fullLayout.height;if(Ye.indexOf("domain")!==-1){var fn=n.simpleMap(et.range,et.r2l);Ge=et.l2p(fn[0])+et._offset,Je=et.l2p(fn[1])+et._offset}var gn=Math.min(Ge,Je),sn=Math.max(Ge,Je),Cn=et.side,Tn=1/0,On=-1/0;for(var Pn in ue.each(function(Un){var Fn=f.select(this);if(Fn.select(".text-math-group").empty()){var Mn=l.bBox(Fn.node()),kn=0;Re?(Mn.right>sn||Mn.left<gn)&&(kn=1):(Mn.bottom>sn||Mn.top+(et.tickangle?0:Un.fontSize/4)<gn)&&(kn=1);var Ke=Fn.select("text");kn?Ze&&Ke.style("opacity",0):(Ke.style("opacity",1),Tn=Cn==="bottom"||Cn==="right"?Math.min(Tn,Re?Mn.top:Mn.left):-1/0,On=Cn==="top"||Cn==="left"?Math.max(On,Re?Mn.bottom:Mn.right):1/0)}}),Ct._plots){var zn=Ct._plots[Pn];if(et._id===zn.xaxis._id||et._id===zn.yaxis._id){var Bn=Re?zn.yaxis:zn.xaxis;Bn&&(Bn["_visibleLabelMin_"+et._id]=Tn,Bn["_visibleLabelMax_"+et._id]=On)}}}},et._hideCounterAxisInsideTickLabels=function(Ye){var Ze=et._id.charAt(0)==="x",Re=[];for(var Ge in Ct._plots){var Je=Ct._plots[Ge];et._id!==Je.xaxis._id&&et._id!==Je.yaxis._id||Re.push(Ze?Je.yaxis:Je.xaxis)}Re.forEach(function(fn,gn){fn&&ce(fn)&&(Ye||[z,U,H,it,K]).forEach(function(sn){var Cn=sn.K==="tick"&&sn.L==="text"&&et.ticklabelmode==="period",Tn=Ct._plots[et._mainSubplot];(sn.K===z.K?Tn.zerolinelayer.selectAll("."+et._id+"zl"):sn.K===U.K?Tn.minorGridlayer.selectAll("."+et._id):sn.K===H.K?Tn.gridlayer.selectAll("."+et._id):Tn[et._id.charAt(0)+"axislayer"]).each(function(){var On=f.select(this);sn.L&&(On=On.selectAll(sn.L)),On.each(function(Pn){var zn=et.l2p(Cn?Bt(Pn):Pn.x)+et._offset,Bn=f.select(this);zn<et["_visibleLabelMax_"+fn._id]&&zn>et["_visibleLabelMin_"+fn._id]?Bn.style("display","none"):sn.K!=="tick"||gn||Bn.style("display",null)})})})})},he(ue,oe+1?oe:Kt);var ve=null;et._selections&&(et._selections[Rt]=ue);var ke=[function(){return Se.length&&Promise.all(Se)}];et.automargin&&Ct._redrawFromAutoMarginCount&&oe===90?(ve=oe,ke.push(function(){he(ue,oe)})):ke.push(function(){if(he(ue,Kt),Ht.length&&et.autotickangles&&(et.type!=="log"||String(et.dtick).charAt(0)!=="D")){ve=et.autotickangles[0];var Ye,Ze=0,Re=[],Ge=1;if(ue.each(function(on){Ze=Math.max(Ze,on.fontSize);var mn=et.l2p(on.x),Xe=Ot(this),Be=l.bBox(Xe.node());Ge=Math.max(Ge,o.lineCount(Xe)),Re.push({top:0,bottom:10,height:10,left:mn-Be.width/2,right:mn+Be.width/2+2,width:Be.width+2})}),et.tickson!=="boundaries"&&!et.showdividers||It.secondary){var Je=Ht.length,fn=Math.abs((Ht[Je-1].x-Ht[0].x)*et._m)/(Je-1),gn=et.ticklabelposition||"",sn=function(on){return gn.indexOf(on)!==-1},Cn=sn("top"),Tn=sn("left"),On=sn("right"),Pn=sn("bottom")||Tn||Cn||On?(et.tickwidth||0)+6:0,zn=fn,Bn=1.25*Ze*Ge,Un=zn/Math.sqrt(Math.pow(zn,2)+Math.pow(Bn,2)),Fn=et.autotickangles.map(function(on){return on*Math.PI/180}),Mn=Fn.find(function(on){return Math.abs(Math.cos(on))<=Un});Mn===void 0&&(Mn=Fn.reduce(function(on,mn){return Math.abs(Math.cos(on))<Math.abs(Math.cos(mn))?on:mn},Fn[0]));var kn=Mn*(180/Math.PI);for(Ye=0;Ye<Re.length-1;Ye++)if(n.bBoxIntersect(Re[Ye],Re[Ye+1],Pn)){ve=kn;break}}else{var Ke=2;for(et.ticks&&(Ke+=et.tickwidth/2),Ye=0;Ye<Re.length;Ye++){var hn=Ht[Ye].xbnd,$e=Re[Ye];if(hn[0]!==null&&$e.left-et.l2p(hn[0])<Ke||hn[1]!==null&&et.l2p(hn[1])-$e.right<Ke){ve=90;break}}}ve&&he(ue,ve)}}),et._tickAngles&&ke.push(function(){et._tickAngles[Rt]=ve===null?y(Kt)?Kt:0:ve});var Ae=function(){var Ye=0,Ze=0;return ue.each(function(Re,Ge){var Je,fn=Ot(this);fn.select(".text-math-group").empty()&&(et._vals[Ge]&&(Je=et._vals[Ge].bb||l.bBox(fn.node()),et._vals[Ge].bb=Je),Ye=Math.max(Ye,Je.width),Ze=Math.max(Ze,Je.height))}),{labelsMaxW:Ye,labelsMaxH:Ze}},ee=et._anchorAxis;if(ee&&(ee.autorange||ee.insiderange)&&ce(et)&&!Z(Ct,et._id)&&(Ct._insideTickLabelsUpdaterange||(Ct._insideTickLabelsUpdaterange={}),ee.autorange&&(Ct._insideTickLabelsUpdaterange[ee._name+".autorange"]=ee.autorange,ke.push(Ae)),ee.insiderange)){var fe=Ae(),ge=et._id.charAt(0)==="y"?fe.labelsMaxW:fe.labelsMaxH;ge+=6,et.ticklabelposition==="inside"&&(ge+=et.ticklen||0);var je=et.side==="right"||et.side==="top"?1:-1,Ie=je===1?1:0,Fe=je===1?0:1,ye=[];ye[Fe]=ee.range[Fe];var be=ee.range,Te=ee.r2p(be[Ie]),Pe=ee.r2p(be[Fe]),Le=Ct._insideTickLabelsUpdaterange[ee._name+".range"];if(Le){var Oe=ee.r2p(Le[Ie]),Ee=ee.r2p(Le[Fe]),He=je*(et._id.charAt(0)==="y"?1:-1);He*Te<He*Oe&&(Te=Oe,ye[Ie]=be[Ie]=Le[Ie]),He*Pe>He*Ee&&(Pe=Ee,ye[Fe]=be[Fe]=Le[Fe])}var ze=Math.abs(Pe-Te);ze-ge>0?ge*=1+ge/(ze-=ge):ge=0,et._id.charAt(0)!=="y"&&(ge=-ge),ye[Ie]=ee.p2r(ee.r2p(be[Ie])+je*ge),ee.autorange==="min"||ee.autorange==="max reversed"?(ye[0]=null,ee._rangeInitial0=void 0,ee._rangeInitial1=void 0):ee.autorange!=="max"&&ee.autorange!=="min reversed"||(ye[1]=null,ee._rangeInitial0=void 0,ee._rangeInitial1=void 0),Ct._insideTickLabelsUpdaterange[ee._name+".range"]=ye}var Ne=n.syncOrAsync(ke);return Ne&&Ne.then&&X._promises.push(Ne),Ne},$.getPxPosition=function(X,et){var It,Ct=X._fullLayout._size,Ut=et._id.charAt(0),Rt=et.side;return et.anchor!=="free"?It=et._anchorAxis:Ut==="x"?It={_offset:Ct.t+(1-(et.position||0))*Ct.h,_length:0}:Ut==="y"&&(It={_offset:Ct.l+(et.position||0)*Ct.w+et._shift,_length:0}),Rt==="top"||Rt==="left"?It._offset:Rt==="bottom"||Rt==="right"?It._offset+It._length:void 0},$.shouldShowZeroLine=function(X,et,It){var Ct=n.simpleMap(et.range,et.r2l);return Ct[0]*Ct[1]<=0&&et.zeroline&&(et.type==="linear"||et.type==="-")&&!(et.rangebreaks&&et.maskBreaks(0)===j)&&(pe(et,0)||!function(Ut,Rt,Ht,Zt){var Kt=Ht._mainAxis;if(Kt){var oe=Ut._fullLayout,ue=Rt._id.charAt(0),Se=$.counterLetter(Rt._id),he=Rt._offset+(Math.abs(Zt[0])<Math.abs(Zt[1])==(ue==="x")?0:Rt._length),ve=oe._plots[Ht._mainSubplot];if(!(ve.mainplotinfo||ve).overlays.length)return fe(Ht);for(var ke=$.list(Ut,Se),Ae=0;Ae<ke.length;Ae++){var ee=ke[Ae];if(ee._mainAxis===Kt&&fe(ee))return!0}}function fe(ge){if(!ge.showline||!ge.linewidth)return!1;var je=Math.max((ge.linewidth+Rt.zerolinewidth)/2,1);function Ie(be){return typeof be=="number"&&Math.abs(be-he)<je}if(Ie(ge._mainLinePosition)||Ie(ge._mainMirrorPosition))return!0;var Fe=ge._linepositions||{};for(var ye in Fe)if(Ie(Fe[ye][0])||Ie(Fe[ye][1]))return!0}}(X,et,It,Ct)||function(Ut,Rt){for(var Ht=Ut._fullData,Zt=Rt._mainSubplot,Kt=Rt._id.charAt(0),oe=0;oe<Ht.length;oe++){var ue=Ht[oe];if(ue.visible===!0&&ue.xaxis+ue.yaxis===Zt&&(a.traceIs(ue,"bar-like")&&ue.orientation==={x:"h",y:"v"}[Kt]||ue.fill&&ue.fill.charAt(ue.fill.length-1)===Kt))return!0}return!1}(X,et))},$.clipEnds=function(X,et){return et.filter(function(It){return pe(X,It.x)})},$.allowAutoMargin=function(X){for(var et=$.list(X,"",!0),It=0;It<et.length;It++){var Ct=et[It];Ct.automargin&&(i.allowAutoMargin(X,gt(Ct)),Ct.mirror&&i.allowAutoMargin(X,jt(Ct))),a.getComponentMethod("rangeslider","isVisible")(Ct)&&i.allowAutoMargin(X,Xt(Ct))}},$.swap=function(X,et){for(var It=function(Ut,Rt){var Ht,Zt,Kt=[];for(Ht=0;Ht<Rt.length;Ht++){var oe=[],ue=Ut._fullData[Rt[Ht]].xaxis,Se=Ut._fullData[Rt[Ht]].yaxis;if(ue&&Se){for(Zt=0;Zt<Kt.length;Zt++)Kt[Zt].x.indexOf(ue)===-1&&Kt[Zt].y.indexOf(Se)===-1||oe.push(Zt);if(oe.length){var he,ve=Kt[oe[0]];if(oe.length>1)for(Zt=1;Zt<oe.length;Zt++)he=Kt[oe[Zt]],xe(ve.x,he.x),xe(ve.y,he.y);xe(ve.x,[ue]),xe(ve.y,[Se])}else Kt.push({x:[ue],y:[Se]})}}return Kt}(X,et),Ct=0;Ct<It.length;Ct++)Vt(X,It[Ct].x,It[Ct].y)}},2976:function(J,h,t){var f=t(8248),y=t(3400),i=t(9032).BADNUM,a=y.isArrayOrTypedArray,n=y.isDateTime,r=y.cleanNumber,o=Math.round;function s(l,u){return u?f(l):typeof l=="number"}function e(l){return Math.max(1,(l-1)/1e3)}J.exports=function(l,u,m){var _=l,p=m.noMultiCategory;if(a(_)&&!_.length)return"-";if(!p&&function(T){return a(T[0])&&a(T[1])}(_))return"multicategory";if(p&&Array.isArray(_[0])){for(var v=[],g=0;g<_.length;g++)if(a(_[g]))for(var b=0;b<_[g].length;b++)v.push(_[g][b]);_=v}if(function(T,w){for(var k=T.length,P=e(k),A=0,L=0,I={},x=0;x<k;x+=P){var C=T[o(x)],F=String(C);I[F]||(I[F]=1,n(C,w)&&A++,f(C)&&L++)}return A>2*L}(_,u))return"date";var d=m.autotypenumbers!=="strict";return function(T,w){for(var k=T.length,P=e(k),A=0,L=0,I={},x=0;x<k;x+=P){var C=T[o(x)],F=String(C);if(!I[F]){I[F]=1;var N=typeof C;N==="boolean"?L++:(w?r(C)!==i:N==="number")?A++:N==="string"&&L++}}return L>2*A}(_,d)?"category":function(T,w){for(var k=T.length,P=0;P<k;P++)if(s(T[P],w))return!0;return!1}(_,d)?"linear":"-"}},5955:function(J,h,t){var f=t(8248),y=t(4040),i=t(3400),a=t(1780),n=t(1272),r=t(4724),o=t(6332),s=t(5404),e=t(5936),l=t(2568),u=t(4796),m=t(2136),_=t(6312),p=t(8344),v=t(3816).WEEKDAY_PATTERN,g=t(3816).HOUR_PATTERN;function b(w,k,P){function A(z,H){return i.coerce(w,k,r.rangebreaks,z,H)}if(A("enabled")){var L=A("bounds");if(L&&L.length>=2){var I,x,C="";if(L.length===2){for(I=0;I<2;I++)if(x=T(L[I])){C=v;break}}var F=A("pattern",C);if(F===v)for(I=0;I<2;I++)(x=T(L[I]))&&(k.bounds[I]=L[I]=x-1);if(F)for(I=0;I<2;I++)switch(x=L[I],F){case v:if(!f(x)||(x=+x)!==Math.floor(x)||x<0||x>=7)return void(k.enabled=!1);k.bounds[I]=L[I]=x;break;case g:if(!f(x)||(x=+x)<0||x>24)return void(k.enabled=!1);k.bounds[I]=L[I]=x}if(P.autorange===!1){var N=P.range;if(N[0]<N[1]){if(L[0]<N[0]&&L[1]>N[1])return void(k.enabled=!1)}else if(L[0]>N[0]&&L[1]<N[1])return void(k.enabled=!1)}}else{var j=A("values");if(!j||!j.length)return void(k.enabled=!1);A("dvalue")}}}J.exports=function(w,k,P,A,L){var I,x=A.letter,C=A.font||{},F=A.splomStash||{},N=P("visible",!A.visibleDflt),j=k._template||{},z=k.type||j.type||"-";z==="date"&&(y.getComponentMethod("calendars","handleDefaults")(w,k,"calendar",A.calendar),A.noTicklabelmode||(I=P("ticklabelmode")));var H="";A.noTicklabelposition&&z!=="multicategory"||(H=i.coerce(w,k,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:I==="period"?["outside","inside"]:x==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),A.noTicklabeloverflow||P("ticklabeloverflow",H.indexOf("inside")!==-1?"hide past domain":z==="category"||z==="multicategory"?"allow":"hide past div"),p(k,L),_(w,k,P,A),u(w,k,P,A),z==="category"||A.noHover||P("hoverformat");var U=P("color"),it=U!==r.color.dflt?U:C.color,K=F.label||L._dfltTitle[x];if(l(w,k,P,z,A),!N)return k;P("title.text",K),i.coerceFont(P,"title.font",{family:C.family,size:i.bigFont(C.size),color:it}),o(w,k,P,z);var D=A.hasMinor;if(D&&(a.newContainer(k,"minor"),o(w,k,P,z,{isMinor:!0})),e(w,k,P,z,A),s(w,k,P,A),D){var B=A.isMinor;A.isMinor=!0,s(w,k,P,A),A.isMinor=B}m(w,k,P,{dfltColor:U,bgColor:A.bgColor,showGrid:A.showGrid,hasMinor:D,attributes:r}),!D||k.minor.ticks||k.minor.showgrid||delete k.minor,(k.showline||k.ticks)&&P("mirror");var q,nt=z==="multicategory";if(A.noTickson||z!=="category"&&!nt||!k.ticks&&!k.showgrid||(nt&&(q="boundaries"),P("tickson",q)==="boundaries"&&delete k.ticklabelposition),nt&&P("showdividers")&&(P("dividercolor"),P("dividerwidth")),z==="date")if(n(w,k,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:b}),k.rangebreaks.length){for(var ot=0;ot<k.rangebreaks.length;ot++)if(k.rangebreaks[ot].pattern===v){k._hasDayOfWeekBreaks=!0;break}if(p(k,L),L._has("scattergl")||L._has("splom"))for(var rt=0;rt<A.data.length;rt++){var $=A.data[rt];$.type!=="scattergl"&&$.type!=="splom"||($.visible=!1,i.warn($.type+" traces do not work on axes with rangebreaks. Setting trace "+$.index+" to `visible: false`."))}}else delete k.rangebreaks;return k};var d={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function T(w){if(typeof w=="string")return d[w.substr(0,3).toLowerCase()]}},9736:function(J,h,t){var f=t(6880),y=f.FORMAT_LINK,i=f.DATE_FORMAT_LINK;function a(r,o){return["Sets the "+r+" formatting rule"+(o?"for `"+o+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+y+"."].join(" ")}function n(r,o){return a(r,o)+[" And for dates see: "+i+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}J.exports={axisHoverFormat:function(r,o){return{valType:"string",dflt:"",editType:"none",description:(o?a:n)("hover text",r)+["By default the values are formatted using "+(o?"generic number format":"`"+r+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:a,descriptionWithDates:n}},9811:function(J,h,t){var f=t(4040),y=t(3816);function i(a,n){if(n&&n.length){for(var r=0;r<n.length;r++)if(n[r][a])return!0}return!1}h.id2name=function(a){if(typeof a=="string"&&a.match(y.AX_ID_PATTERN)){var n=a.split(" ")[0].substr(1);return n==="1"&&(n=""),a.charAt(0)+"axis"+n}},h.name2id=function(a){if(a.match(y.AX_NAME_PATTERN)){var n=a.substr(5);return n==="1"&&(n=""),a.charAt(0)+n}},h.cleanId=function(a,n,r){var o=/( domain)$/.test(a);if(typeof a=="string"&&a.match(y.AX_ID_PATTERN)&&(!n||a.charAt(0)===n)&&(!o||r)){var s=a.split(" ")[0].substr(1).replace(/^0+/,"");return s==="1"&&(s=""),a.charAt(0)+s+(o&&r?" domain":"")}},h.list=function(a,n,r){var o=a._fullLayout;if(!o)return[];var s,e=h.listIds(a,n),l=new Array(e.length);for(s=0;s<e.length;s++){var u=e[s];l[s]=o[u.charAt(0)+"axis"+u.substr(1)]}if(!r){var m=o._subplots.gl3d||[];for(s=0;s<m.length;s++){var _=o[m[s]];n?l.push(_[n+"axis"]):l.push(_.xaxis,_.yaxis,_.zaxis)}}return l},h.listIds=function(a,n){var r=a._fullLayout;if(!r)return[];var o=r._subplots;return n?o[n+"axis"]:o.xaxis.concat(o.yaxis)},h.getFromId=function(a,n,r){var o=a._fullLayout;return n=n===void 0||typeof n!="string"?n:n.replace(" domain",""),r==="x"?n=n.replace(/y[0-9]*/,""):r==="y"&&(n=n.replace(/x[0-9]*/,"")),o[h.id2name(n)]},h.getFromTrace=function(a,n,r){var o=a._fullLayout,s=null;if(f.traceIs(n,"gl3d")){var e=n.scene;e.substr(0,5)==="scene"&&(s=o[e][r+"axis"])}else s=h.getFromId(a,n[r+"axis"]||r);return s},h.idSort=function(a,n){var r=a.charAt(0),o=n.charAt(0);return r!==o?r>o?1:-1:+(a.substr(1)||1)-+(n.substr(1)||1)},h.ref2id=function(a){return!!/^[xyz]/.test(a)&&a.split(" ")[0]},h.isLinked=function(a,n){return i(n,a._axisMatchGroups)||i(n,a._axisConstraintGroups)}},4796:function(J,h,t){var f=t(8116).isTypedArraySpec;J.exports=function(y,i,a,n){if(i.type==="category"){var r,o=y.categoryarray,s=Array.isArray(o)&&o.length>0||f(o);s&&(r="array");var e,l=a("categoryorder",r);l==="array"&&(e=a("categoryarray")),s||l!=="array"||(l=i.categoryorder="trace"),l==="trace"?i._initialCategories=[]:l==="array"?i._initialCategories=e.slice():(e=function(u,m){var _,p,v,g=m.dataAttr||u._id.charAt(0),b={};if(m.axData)_=m.axData;else for(_=[],p=0;p<m.data.length;p++){var d=m.data[p];d[g+"axis"]===u._id&&_.push(d)}for(p=0;p<_.length;p++){var T=_[p][g];for(v=0;v<T.length;v++){var w=T[v];w!=null&&(b[w]=1)}}return Object.keys(b)}(i,n).sort(),l==="category ascending"?i._initialCategories=e:l==="category descending"&&(i._initialCategories=e.reverse()))}}},8728:function(J,h,t){var f=t(8248),y=t(3400),i=t(9032),a=i.ONEDAY,n=i.ONEWEEK;h.dtick=function(r,o){var s=o==="log",e=o==="date",l=o==="category",u=e?a:1;if(!r)return u;if(f(r))return(r=Number(r))<=0?u:l?Math.max(1,Math.round(r)):e?Math.max(.1,r):r;if(typeof r!="string"||!e&&!s)return u;var m=r.charAt(0),_=r.substr(1);return(_=f(_)?Number(_):0)<=0||!(e&&m==="M"&&_===Math.round(_)||s&&m==="L"||s&&m==="D"&&(_===1||_===2))?u:r},h.tick0=function(r,o,s,e){return o==="date"?y.cleanDate(r,y.dateTick0(s,e%n==0?1:0)):e!=="D1"&&e!=="D2"?f(r)?Number(r):0:void 0}},3816:function(J,h,t){var f=t(3756).counter;J.exports={idRegex:{x:f("x","( domain)?"),y:f("y","( domain)?")},attrRegex:f("[xy]axis"),xAxisMatch:f("xaxis"),yAxisMatch:f("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},1888:function(J,h,t){var f=t(3400),y=t(9280),i=t(9811).id2name,a=t(4724),n=t(1160),r=t(8344),o=t(9032).ALMOST_EQUAL,s=t(4284).FROM_BL;function e(g,b,d){var T=d.axIds,w=d.layoutOut,k=d.hasImage,P=w._axisConstraintGroups,A=w._axisMatchGroups,L=b._id,I=L.charAt(0),x=((w._splomAxes||{})[I]||{})[L]||{},C=b._id,F=C.charAt(0)==="x";function N(E,S){return f.coerce(g,b,a,E,S)}b._matchGroup=null,b._constraintGroup=null,N("constrain",k?"domain":"range"),f.coerce(g,b,{constraintoward:{valType:"enumerated",values:F?["left","center","right"]:["bottom","middle","top"],dflt:F?"center":"middle"}},"constraintoward");var j,z,H=b.type,U=[];for(j=0;j<T.length;j++)(z=T[j])!==C&&w[i(z)].type===H&&U.push(z);var it=u(P,C);if(it){var K=[];for(j=0;j<U.length;j++)it[z=U[j]]||K.push(z);U=K}var D,B,q=U.length;q&&(g.matches||x.matches)&&(D=f.coerce(g,b,{matches:{valType:"enumerated",values:U,dflt:U.indexOf(x.matches)!==-1?x.matches:void 0}},"matches"));var nt=k&&!F?b.anchor:void 0;if(q&&!D&&(g.scaleanchor||nt)&&(B=f.coerce(g,b,{scaleanchor:{valType:"enumerated",values:U.concat([!1])}},"scaleanchor",nt)),D){b._matchGroup=m(A,C,D,1);var ot=w[i(D)],rt=l(w,b)/l(w,ot);F!==(D.charAt(0)==="x")&&(rt=(F?"x":"y")+rt),m(P,C,D,rt)}else g.matches&&T.indexOf(g.matches)!==-1&&f.warn("ignored "+b._name+'.matches: "'+g.matches+'" to avoid an infinite loop');if(B){var $=N("scaleratio");$||($=b.scaleratio=1),m(P,C,B,$)}else g.scaleanchor&&T.indexOf(g.scaleanchor)!==-1&&f.warn("ignored "+b._name+'.scaleanchor: "'+g.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function l(g,b){var d=b.domain;return d||(d=g[i(b.overlaying)].domain),d[1]-d[0]}function u(g,b){for(var d=0;d<g.length;d++)if(g[d][b])return g[d];return null}function m(g,b,d,T){var w,k,P,A,L,I=u(g,b);I===null?((I={})[b]=1,L=g.length,g.push(I)):L=g.indexOf(I);var x=Object.keys(I);for(w=0;w<g.length;w++)if(P=g[w],w!==L&&P[d]){var C=P[d];for(k=0;k<x.length;k++)P[A=x[k]]=_(C,_(T,I[A]));return void g.splice(L,1)}if(T!==1)for(k=0;k<x.length;k++){var F=x[k];I[F]=_(T,I[F])}I[d]=1}function _(g,b){var d,T,w="",k="";typeof g=="string"&&(d=(w=g.match(/^[xy]*/)[0]).length,g=+g.substr(d)),typeof b=="string"&&(T=(k=b.match(/^[xy]*/)[0]).length,b=+b.substr(T));var P=g*b;return d||T?d&&T&&w.charAt(0)!==k.charAt(0)?d===T?P:(d>T?w.substr(T):k.substr(d))+P:w+k+g*b:P}function p(g,b){for(var d=b._size,T=d.h/d.w,w={},k=Object.keys(g),P=0;P<k.length;P++){var A=k[P],L=g[A];if(typeof L=="string"){var I=L.match(/^[xy]*/)[0],x=I.length;L=+L.substr(x);for(var C=I.charAt(0)==="y"?T:1/T,F=0;F<x;F++)L*=C}w[A]=L}return w}function v(g,b){var d=g._inputDomain,T=s[g.constraintoward],w=d[0]+(d[1]-d[0])*T;g.domain=g._input.domain=[w+(d[0]-w)/b,w+(d[1]-w)/b],g.setScale()}h.handleDefaults=function(g,b,d){var T,w,k,P,A,L,I,x,C=d.axIds,F=d.axHasImage,N=b._axisConstraintGroups=[],j=b._axisMatchGroups=[];for(T=0;T<C.length;T++)e(A=g[P=i(C[T])],L=b[P],{axIds:C,layoutOut:b,hasImage:F[P]});function z(ot,rt){for(T=0;T<ot.length;T++)for(k in w=ot[T])b[i(k)][rt]=w}for(z(j,"_matchGroup"),T=0;T<N.length;T++)for(k in w=N[T])if((L=b[i(k)]).fixedrange){for(var H in w){var U=i(H);(g[U]||{}).fixedrange===!1&&f.warn("fixedrange was specified as false for axis "+U+" but was overridden because another axis in its constraint group has fixedrange true"),b[U].fixedrange=!0}break}for(T=0;T<N.length;){for(k in w=N[T]){(L=b[i(k)])._matchGroup&&Object.keys(L._matchGroup).length===Object.keys(w).length&&(N.splice(T,1),T--);break}T++}z(N,"_constraintGroup");var it=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],K=!1,D=!1;function B(){x=L[I],I==="rangebreaks"&&(D=L._hasDayOfWeekBreaks)}for(T=0;T<j.length;T++){w=j[T];for(var q=0;q<it.length;q++){var nt;for(k in I=it[q],x=null,w)if(A=g[P=i(k)],L=b[P],I in L){if(!L.matches&&(nt=L,I in A)){B();break}x===null&&I in A&&B()}if(I==="range"&&x&&A.range&&A.range.length===2&&A.range[0]!==null&&A.range[1]!==null&&(K=!0),I==="autorange"&&x===null&&K&&(x=!1),x===null&&I in nt&&(x=nt[I]),x!==null)for(k in w)(L=b[i(k)])[I]=I==="range"?x.slice():x,I==="rangebreaks"&&(L._hasDayOfWeekBreaks=D,r(L,b))}}},h.enforce=function(g){var b,d,T,w,k,P,A,L,I=g._fullLayout,x=I._axisConstraintGroups||[];for(b=0;b<x.length;b++){T=p(x[b],I);var C=Object.keys(T),F=1/0,N=0,j=1/0,z={},H={},U=!1;for(d=0;d<C.length;d++)H[w=C[d]]=k=I[i(w)],k._inputDomain?k.domain=k._inputDomain.slice():k._inputDomain=k.domain.slice(),k._inputRange||(k._inputRange=k.range.slice()),k.setScale(),z[w]=P=Math.abs(k._m)/T[w],F=Math.min(F,P),k.constrain!=="domain"&&k._constraintShrinkable||(j=Math.min(j,P)),delete k._constraintShrinkable,N=Math.max(N,P),k.constrain==="domain"&&(U=!0);if(!(F>o*N)||U){for(d=0;d<C.length;d++)if(P=z[w=C[d]],A=(k=H[w]).constrain,P!==j||A==="domain")if(L=P/j,A==="range")n(k,L);else{var it=k._inputDomain,K=(k.domain[1]-k.domain[0])/(it[1]-it[0]),D=(k.r2l(k.range[1])-k.r2l(k.range[0]))/(k.r2l(k._inputRange[1])-k.r2l(k._inputRange[0]));if((L/=K)*D<1){k.domain=k._input.domain=it.slice(),n(k,L);continue}if(D<1&&(k.range=k._input.range=k._inputRange.slice(),L*=D),k.autorange){var B=k.r2l(k.range[0]),q=k.r2l(k.range[1]),nt=(B+q)/2,ot=nt,rt=nt,$=Math.abs(q-nt),E=nt-$*L*1.0001,S=nt+$*L*1.0001,Y=y.makePadFn(I,k,0),Z=y.makePadFn(I,k,1);v(k,L);var G,Q,at=Math.abs(k._m),tt=y.concatExtremes(g,k),_t=tt.min,Pt=tt.max;for(Q=0;Q<_t.length;Q++)(G=_t[Q].val-Y(_t[Q])/at)>E&&G<ot&&(ot=G);for(Q=0;Q<Pt.length;Q++)(G=Pt[Q].val+Z(Pt[Q])/at)<S&&G>rt&&(rt=G);L/=(rt-ot)/(2*$),ot=k.l2r(ot),rt=k.l2r(rt),k.range=k._input.range=B<q?[ot,rt]:[rt,ot]}v(k,L)}}}},h.getAxisGroup=function(g,b){for(var d=g._axisMatchGroups,T=0;T<d.length;T++)if(d[T][b])return"g"+T;return b},h.clean=function(g,b){if(b._inputDomain){for(var d=!1,T=b._id,w=g._fullLayout._axisConstraintGroups,k=0;k<w.length;k++)if(w[k][T]){d=!0;break}d&&b.constrain==="domain"||(b._input.domain=b.domain=b._inputDomain,delete b._inputDomain)}}},1184:function(J,h,t){var f=t(3428),y=t(3400),i=y.numberFormat,a=t(9760),n=t(9184),r=t(4040),o=y.strTranslate,s=t(2736),e=t(6308),l=t(3616),u=t(3024),m=t(4460),_=t(3972),p=t(6476),v=t(2760),g=v.selectingOrDrawing,b=v.freeMode,d=t(4284).FROM_TL,T=t(3696),w=t(9172).redrawReglTraces,k=t(7316),P=t(9811).getFromId,A=t(2676).prepSelect,L=t(2676).clearOutline,I=t(2676).selectOnClick,x=t(1160),C=t(3816),F=C.MINDRAG,N=C.MINZOOM,j=!0;function z(G,Q,at,tt){var _t=y.ensureSingle(G.draglayer,Q,at,function(Pt){Pt.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",G.id)});return _t.call(_,tt),_t.node()}function H(G,Q,at,tt,_t,Pt,kt){var lt=z(G,"rect",Q,at);return f.select(lt).call(l.setRect,tt,_t,Pt,kt),lt}function U(G,Q){for(var at=0;at<G.length;at++)if(!G[at].fixedrange)return Q;return""}function it(G,Q,at,tt,_t){for(var Pt=0;Pt<G.length;Pt++){var kt=G[Pt];if(!kt.fixedrange)if(kt.rangebreaks){var lt=kt._id.charAt(0)==="y",st=lt?1-Q:Q,ht=lt?1-at:at;tt[kt._name+".range[0]"]=kt.l2r(kt.p2l(st*kt._length)),tt[kt._name+".range[1]"]=kt.l2r(kt.p2l(ht*kt._length))}else{var bt=kt._rl[0],pt=kt._rl[1]-bt;tt[kt._name+".range[0]"]=kt.l2r(bt+pt*Q),tt[kt._name+".range[1]"]=kt.l2r(bt+pt*at)}}if(_t&&_t.length){var Dt=(Q+(1-at))/2;it(_t,Dt,1-Dt,tt,[])}}function K(G,Q){for(var at=0;at<G.length;at++){var tt=G[at];if(!tt.fixedrange){if(tt.rangebreaks){var _t=tt._length,Pt=(tt.p2l(0+Q)-tt.p2l(0)+(tt.p2l(_t+Q)-tt.p2l(_t)))/2;tt.range=[tt.l2r(tt._rl[0]-Pt),tt.l2r(tt._rl[1]-Pt)]}else tt.range=[tt.l2r(tt._rl[0]-Q/tt._m),tt.l2r(tt._rl[1]-Q/tt._m)];tt.limitRange&&tt.limitRange()}}}function D(G){return 1-(G>=0?Math.min(G,.9):1/(1/Math.max(G,-.3)+3.222))}function B(G,Q,at,tt,_t){return G.append("path").attr("class","zoombox").style({fill:Q>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",o(at,tt)).attr("d",_t+"Z")}function q(G,Q,at){return G.append("path").attr("class","zoombox-corners").style({fill:e.background,stroke:e.defaultLine,"stroke-width":1,opacity:0}).attr("transform",o(Q,at)).attr("d","M0,0Z")}function nt(G,Q,at,tt,_t,Pt){G.attr("d",tt+"M"+at.l+","+at.t+"v"+at.h+"h"+at.w+"v-"+at.h+"h-"+at.w+"Z"),ot(G,Q,_t,Pt)}function ot(G,Q,at,tt){at||(G.transition().style("fill",tt>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),Q.transition().style("opacity",1).duration(200))}function rt(G){f.select(G).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function $(G){j&&G.data&&G._context.showTips&&(y.notifier(y._(G,"Double-click to zoom back out"),"long"),j=!1)}function E(G){var Q=Math.floor(Math.min(G.b-G.t,G.r-G.l,N)/2);return"M"+(G.l-3.5)+","+(G.t-.5+Q)+"h3v"+-Q+"h"+Q+"v-3h-"+(Q+3)+"ZM"+(G.r+3.5)+","+(G.t-.5+Q)+"h-3v"+-Q+"h"+-Q+"v-3h"+(Q+3)+"ZM"+(G.r+3.5)+","+(G.b+.5-Q)+"h-3v"+Q+"h"+-Q+"v3h"+(Q+3)+"ZM"+(G.l-3.5)+","+(G.b+.5-Q)+"h3v"+Q+"h"+Q+"v3h-"+(Q+3)+"Z"}function S(G,Q,at,tt,_t){for(var Pt,kt,lt,st,ht=!1,bt={},pt={},Dt=(_t||{}).xaHash,qt=(_t||{}).yaHash,ct=0;ct<Q.length;ct++){var xt=Q[ct];for(Pt in at)if(xt[Pt]){for(lt in xt)_t&&(Dt[lt]||qt[lt])||(lt.charAt(0)==="x"?at:tt)[lt]||(bt[lt]=Pt);for(kt in tt)_t&&(Dt[kt]||qt[kt])||!xt[kt]||(ht=!0)}for(kt in tt)if(xt[kt])for(st in xt)_t&&(Dt[st]||qt[st])||(st.charAt(0)==="x"?at:tt)[st]||(pt[st]=kt)}ht&&(y.extendFlat(bt,pt),pt={});var dt={},vt=[];for(lt in bt){var yt=P(G,lt);vt.push(yt),dt[yt._id]=yt}var Mt={},Tt=[];for(st in pt){var Lt=P(G,st);Tt.push(Lt),Mt[Lt._id]=Lt}return{xaHash:dt,yaHash:Mt,xaxes:vt,yaxes:Tt,xLinks:bt,yLinks:pt,isSubplotConstrained:ht}}function Y(G,Q){if(n){var at=G.onwheel!==void 0?"wheel":"mousewheel";G._onwheel&&G.removeEventListener(at,G._onwheel),G._onwheel=Q,G.addEventListener(at,Q,{passive:!1})}else G.onwheel!==void 0?G.onwheel=Q:G.onmousewheel!==void 0?G.onmousewheel=Q:G.isAddedWheelEvent||(G.isAddedWheelEvent=!0,G.addEventListener("wheel",Q,{passive:!1}))}function Z(G){var Q=[];for(var at in G)Q.push(G[at]);return Q}J.exports={makeDragBox:function(G,Q,at,tt,_t,Pt,kt,lt){var st,ht,bt,pt,Dt,qt,ct,xt,dt,vt,yt,Mt,Tt,Lt,St,At,Nt,zt,Ft,Gt,Bt,de,ie,pe=G._fullLayout._zoomlayer,Ot=kt+lt==="nsew",gt=(kt+lt).length===1;function jt(){if(st=Q.xaxis,ht=Q.yaxis,dt=st._length,vt=ht._length,ct=st._offset,xt=ht._offset,(bt={})[st._id]=st,(pt={})[ht._id]=ht,kt&&lt)for(var ye=Q.overlays,be=0;be<ye.length;be++){var Te=ye[be].xaxis;bt[Te._id]=Te;var Pe=ye[be].yaxis;pt[Pe._id]=Pe}Dt=Z(bt),qt=Z(pt),Tt=U(Dt,lt),Lt=U(qt,kt),St=!Lt&&!Tt,Mt=S(G,G._fullLayout._axisMatchGroups,bt,pt);var Le=(yt=S(G,G._fullLayout._axisConstraintGroups,bt,pt,Mt)).isSubplotConstrained||Mt.isSubplotConstrained;At=lt||Le,Nt=kt||Le;var Oe=G._fullLayout;zt=Oe._has("scattergl"),Ft=Oe._has("splom"),Gt=Oe._has("svg")}at+=Q.yaxis._shift,jt();var Xt=function(ye,be,Te){return ye?ye==="nsew"?Te?"":be==="pan"?"move":"crosshair":ye.toLowerCase()+"-resize":"pointer"}(Lt+Tt,G._fullLayout.dragmode,Ot),xe=H(Q,kt+lt+"drag",Xt,at,tt,_t,Pt);if(St&&!Ot)return xe.onmousedown=null,xe.style.pointerEvents="none",xe;var Vt,Qt,re,_e,ce,Me,te,X,et,It,Ct={element:xe,gd:G,plotinfo:Q};function Ut(){Ct.plotinfo.selection=!1,L(G)}function Rt(ye,be){var Te=Ct.gd;if(Te._fullLayout._activeShapeIndex>=0)Te._fullLayout._deactivateShape(Te);else{var Pe=Te._fullLayout.clickmode;if(rt(Te),ye!==2||gt||ee(),Ot)Pe.indexOf("select")>-1&&I(be,Te,Dt,qt,Q.id,Ct),Pe.indexOf("event")>-1&&u.click(Te,be,Q.id);else if(ye===1&&gt){var Le=kt?ht:st,Oe=kt==="s"||lt==="w"?0:1,Ee=Le._name+".range["+Oe+"]",He=function(Ye,Ze){var Re,Ge=Ye.range[Ze],Je=Math.abs(Ge-Ye.range[1-Ze]);return Ye.type==="date"?Ge:Ye.type==="log"?(Re=Math.ceil(Math.max(0,-Math.log(Je)/Math.LN10))+3,i("."+Re+"g")(Math.pow(10,Ge))):(Re=Math.floor(Math.log(Math.abs(Ge))/Math.LN10)-Math.floor(Math.log(Je)/Math.LN10)+4,i("."+String(Re)+"g")(Ge))}(Le,Oe),ze="left",Ne="middle";if(Le.fixedrange)return;kt?(Ne=kt==="n"?"top":"bottom",Le.side==="right"&&(ze="right")):lt==="e"&&(ze="right"),Te._context.showAxisRangeEntryBoxes&&f.select(xe).call(s.makeEditable,{gd:Te,immediate:!0,background:Te._fullLayout.paper_bgcolor,text:String(He),fill:Le.tickfont?Le.tickfont.color:"#444",horizontalAlign:ze,verticalAlign:Ne}).on("edit",function(Ye){var Ze=Le.d2r(Ye);Ze!==void 0&&r.call("_guiRelayout",Te,Ee,Ze)})}}}function Ht(ye,be){if(G._transitioningWithDuration)return!1;var Te=Math.max(0,Math.min(dt,de*ye+Vt)),Pe=Math.max(0,Math.min(vt,ie*be+Qt)),Le=Math.abs(Te-Vt),Oe=Math.abs(Pe-Qt);function Ee(){te="",re.r=re.l,re.t=re.b,et.attr("d","M0,0Z")}if(re.l=Math.min(Vt,Te),re.r=Math.max(Vt,Te),re.t=Math.min(Qt,Pe),re.b=Math.max(Qt,Pe),yt.isSubplotConstrained)Le>N||Oe>N?(te="xy",Le/dt>Oe/vt?(Oe=Le*vt/dt,Qt>Pe?re.t=Qt-Oe:re.b=Qt+Oe):(Le=Oe*dt/vt,Vt>Te?re.l=Vt-Le:re.r=Vt+Le),et.attr("d",E(re))):Ee();else if(Mt.isSubplotConstrained)if(Le>N||Oe>N){te="xy";var He=Math.min(re.l/dt,(vt-re.b)/vt),ze=Math.max(re.r/dt,(vt-re.t)/vt);re.l=He*dt,re.r=ze*dt,re.b=(1-He)*vt,re.t=(1-ze)*vt,et.attr("d",E(re))}else Ee();else!Lt||Oe<Math.min(Math.max(.6*Le,F),N)?Le<F||!Tt?Ee():(re.t=0,re.b=vt,te="x",et.attr("d",function(Ne,Ye){return"M"+(Ne.l-.5)+","+(Ye-N-.5)+"h-3v"+(2*N+1)+"h3ZM"+(Ne.r+.5)+","+(Ye-N-.5)+"h3v"+(2*N+1)+"h-3Z"}(re,Qt))):!Tt||Le<Math.min(.6*Oe,N)?(re.l=0,re.r=dt,te="y",et.attr("d",function(Ne,Ye){return"M"+(Ye-N-.5)+","+(Ne.t-.5)+"v-3h"+(2*N+1)+"v3ZM"+(Ye-N-.5)+","+(Ne.b+.5)+"v3h"+(2*N+1)+"v-3Z"}(re,Vt))):(te="xy",et.attr("d",E(re)));re.w=re.r-re.l,re.h=re.b-re.t,te&&(It=!0),G._dragged=It,nt(X,et,re,ce,Me,_e),Zt(),G.emit("plotly_relayouting",Bt),Me=!0}function Zt(){Bt={},te!=="xy"&&te!=="x"||(it(Dt,re.l/dt,re.r/dt,Bt,yt.xaxes),ke("x",Bt)),te!=="xy"&&te!=="y"||(it(qt,(vt-re.b)/vt,(vt-re.t)/vt,Bt,yt.yaxes),ke("y",Bt))}function Kt(){Zt(),rt(G),fe(),$(G)}Ct.prepFn=function(ye,be,Te){var Pe=Ct.dragmode,Le=G._fullLayout.dragmode;Le!==Pe&&(Ct.dragmode=Le),jt(),de=G._fullLayout._invScaleX,ie=G._fullLayout._invScaleY,St||(Ot?ye.shiftKey?Le==="pan"?Le="zoom":g(Le)||(Le="pan"):ye.ctrlKey&&(Le="pan"):Le="pan"),b(Le)?Ct.minDrag=1:Ct.minDrag=void 0,g(Le)?(Ct.xaxes=Dt,Ct.yaxes=qt,A(ye,be,Te,Ct,Le)):(Ct.clickFn=Rt,g(Pe)&&Ut(),St||(Le==="zoom"?(Ct.moveFn=Ht,Ct.doneFn=Kt,Ct.minDrag=1,function(Oe,Ee,He){var ze=xe.getBoundingClientRect();Vt=Ee-ze.left,Qt=He-ze.top,G._fullLayout._calcInverseTransform(G);var Ne=y.apply3DTransform(G._fullLayout._invTransform)(Vt,Qt);Vt=Ne[0],Qt=Ne[1],re={l:Vt,r:Vt,w:0,t:Qt,b:Qt,h:0},_e=G._hmpixcount?G._hmlumcount/G._hmpixcount:a(G._fullLayout.plot_bgcolor).getLuminance(),Me=!1,te="xy",It=!1,X=B(pe,_e,ct,xt,ce="M0,0H"+dt+"V"+vt+"H0V0"),et=q(pe,ct,xt)}(0,be,Te)):Le==="pan"&&(Ct.moveFn=ve,Ct.doneFn=fe))),G._fullLayout._redrag=function(){var Oe=G._dragdata;if(Oe&&Oe.element===xe){var Ee=G._fullLayout.dragmode;g(Ee)||(jt(),ge([0,0,dt,vt]),Ct.moveFn(Oe.dx,Oe.dy))}}},p.init(Ct);var oe=[0,0,dt,vt],ue=null,Se=C.REDRAWDELAY,he=Q.mainplot?G._fullLayout._plots[Q.mainplot]:Q;function ve(ye,be){if(ye*=de,be*=ie,!G._transitioningWithDuration){if(G._fullLayout._replotting=!0,Tt==="ew"||Lt==="ns"){var Te=Tt?-ye:0,Pe=Lt?-be:0;if(Mt.isSubplotConstrained){if(Tt&&Lt){var Le=(ye/dt-be/vt)/2;Te=-(ye=Le*dt),Pe=-(be=-Le*vt)}Lt?Te=-Pe*dt/vt:Pe=-Te*vt/dt}return Tt&&(K(Dt,ye),ke("x")),Lt&&(K(qt,be),ke("y")),ge([Te,Pe,dt,vt]),Ae(),void G.emit("plotly_relayouting",Bt)}var Oe,Ee,He=Tt==="w"==(Lt==="n")?1:-1;if(Tt&&Lt&&(yt.isSubplotConstrained||Mt.isSubplotConstrained)){var ze=(ye/dt+He*be/vt)/2;ye=ze*dt,be=He*ze*vt}if(Tt==="w"?ye=Re(Dt,0,ye):Tt==="e"?ye=Re(Dt,1,-ye):Tt||(ye=0),Lt==="n"?be=Re(qt,1,be):Lt==="s"?be=Re(qt,0,-be):Lt||(be=0),Oe=Tt==="w"?ye:0,Ee=Lt==="n"?be:0,yt.isSubplotConstrained&&!Mt.isSubplotConstrained||Mt.isSubplotConstrained&&Tt&&Lt&&He>0){var Ne;if(Mt.isSubplotConstrained||!Tt&&Lt.length===1){for(Ne=0;Ne<Dt.length;Ne++)Dt[Ne].range=Dt[Ne]._r.slice(),x(Dt[Ne],1-be/vt);Oe=(ye=be*dt/vt)/2}if(Mt.isSubplotConstrained||!Lt&&Tt.length===1){for(Ne=0;Ne<qt.length;Ne++)qt[Ne].range=qt[Ne]._r.slice(),x(qt[Ne],1-ye/dt);Ee=(be=ye*vt/dt)/2}}Mt.isSubplotConstrained&&Lt||ke("x"),Mt.isSubplotConstrained&&Tt||ke("y");var Ye=dt-ye,Ze=vt-be;!Mt.isSubplotConstrained||Tt&&Lt||(Tt?(Ee=Oe?0:ye*vt/dt,Ze=Ye*vt/dt):(Oe=Ee?0:be*dt/vt,Ye=Ze*dt/vt)),ge([Oe,Ee,Ye,Ze]),Ae(),G.emit("plotly_relayouting",Bt)}function Re(Ge,Je,fn){for(var gn,sn,Cn=1-Je,Tn=0;Tn<Ge.length;Tn++){var On=Ge[Tn];if(!On.fixedrange){gn=On,sn=On._rl[Cn]+(On._rl[Je]-On._rl[Cn])/D(fn/On._length);var Pn=On.l2r(sn);Pn!==!1&&Pn!==void 0&&(On.range[Je]=Pn)}}return gn._length*(gn._rl[Je]-sn)/(gn._rl[Je]-gn._rl[Cn])}}function ke(ye,be){for(var Te=Mt.isSubplotConstrained?{x:qt,y:Dt}[ye]:Mt[ye+"axes"],Pe=Mt.isSubplotConstrained?{x:Dt,y:qt}[ye]:[],Le=0;Le<Te.length;Le++){var Oe=Te[Le],Ee=Oe._id,He=Mt.xLinks[Ee]||Mt.yLinks[Ee],ze=Pe[0]||bt[He]||pt[He];ze&&(be?(be[Oe._name+".range[0]"]=be[ze._name+".range[0]"],be[Oe._name+".range[1]"]=be[ze._name+".range[1]"]):Oe.range=ze.range.slice())}}function Ae(){var ye,be=[];function Te(Ee){for(ye=0;ye<Ee.length;ye++)Ee[ye].fixedrange||be.push(Ee[ye]._id)}function Pe(Ee,He){for(ye=0;ye<Ee.length;ye++){var ze=Ee[ye],Ne=ze[He];ze.fixedrange||Ne.tickmode!=="sync"||be.push(Ne._id)}}for(At&&(Te(Dt),Te(yt.xaxes),Te(Mt.xaxes),Pe(Q.overlays,"xaxis")),Nt&&(Te(qt),Te(yt.yaxes),Te(Mt.yaxes),Pe(Q.overlays,"yaxis")),Bt={},ye=0;ye<be.length;ye++){var Le=be[ye],Oe=P(G,Le);m.drawOne(G,Oe,{skipTitle:!0}),Bt[Oe._name+".range[0]"]=Oe.range[0],Bt[Oe._name+".range[1]"]=Oe.range[1]}m.redrawComponents(G,be)}function ee(){if(!G._transitioningWithDuration){var ye=G._context.doubleClick,be=[];Tt&&(be=be.concat(Dt)),Lt&&(be=be.concat(qt)),Mt.xaxes&&(be=be.concat(Mt.xaxes)),Mt.yaxes&&(be=be.concat(Mt.yaxes));var Te,Pe,Le={};if(ye==="reset+autosize")for(ye="autosize",Pe=0;Pe<be.length;Pe++){var Oe=(Te=be[Pe])._rangeInitial0,Ee=Te._rangeInitial1,He=Oe!==void 0||Ee!==void 0;if(He&&(Oe!==void 0&&Oe!==Te.range[0]||Ee!==void 0&&Ee!==Te.range[1])||!He&&Te.autorange!==!0){ye="reset";break}}if(ye==="autosize")for(Pe=0;Pe<be.length;Pe++)(Te=be[Pe]).fixedrange||(Le[Te._name+".autorange"]=!0);else if(ye==="reset"){for((Tt||yt.isSubplotConstrained)&&(be=be.concat(yt.xaxes)),Lt&&!yt.isSubplotConstrained&&(be=be.concat(yt.yaxes)),yt.isSubplotConstrained&&(Tt?Lt||(be=be.concat(qt)):be=be.concat(Dt)),Pe=0;Pe<be.length;Pe++)if(!(Te=be[Pe]).fixedrange){var ze=Te._name,Ne=Te._autorangeInitial;Te._rangeInitial0===void 0&&Te._rangeInitial1===void 0?Le[ze+".autorange"]=!0:Te._rangeInitial0===void 0?(Le[ze+".autorange"]=Ne,Le[ze+".range"]=[null,Te._rangeInitial1]):Te._rangeInitial1===void 0?(Le[ze+".range"]=[Te._rangeInitial0,null],Le[ze+".autorange"]=Ne):Le[ze+".range"]=[Te._rangeInitial0,Te._rangeInitial1]}}G.emit("plotly_doubleclick",null),r.call("_guiRelayout",G,Le)}}function fe(){ge([0,0,dt,vt]),y.syncOrAsync([k.previousPromises,function(){G._fullLayout._replotting=!1,r.call("_guiRelayout",G,Bt)}],G)}function ge(ye){var be,Te,Pe,Le,Oe=G._fullLayout,Ee=Oe._plots,He=Oe._subplots.cartesian;if(Ft&&r.subplotsRegistry.splom.drag(G),zt){for(be=0;be<He.length;be++)if(Pe=(Te=Ee[He[be]]).xaxis,Le=Te.yaxis,Te._scene){var ze=y.simpleMap(Pe.range,Pe.r2l),Ne=y.simpleMap(Le.range,Le.r2l);Pe.limitRange&&Pe.limitRange(),Le.limitRange&&Le.limitRange(),ze=Pe.range,Ne=Le.range,Te._scene.update({range:[ze[0],Ne[0],ze[1],Ne[1]]})}}if((Ft||zt)&&(T(G),w(G)),Gt){var Ye=ye[2]/st._length,Ze=ye[3]/ht._length;for(be=0;be<He.length;be++){Pe=(Te=Ee[He[be]]).xaxis,Le=Te.yaxis;var Re,Ge,Je,fn,gn=(At||Mt.isSubplotConstrained)&&!Pe.fixedrange&&bt[Pe._id],sn=(Nt||Mt.isSubplotConstrained)&&!Le.fixedrange&&pt[Le._id];if(gn?(Re=Ye,Je=lt||Mt.isSubplotConstrained?ye[0]:Fe(Pe,Re)):Mt.xaHash[Pe._id]?(Re=Ye,Je=ye[0]*Pe._length/st._length):Mt.yaHash[Pe._id]?(Re=Ze,Je=Lt==="ns"?-ye[1]*Pe._length/ht._length:Fe(Pe,Re,{n:"top",s:"bottom"}[Lt])):Je=Ie(Pe,Re=je(Pe,Ye,Ze)),Re>1&&(Pe.maxallowed!==void 0&&At===(Pe.range[0]<Pe.range[1]?"e":"w")||Pe.minallowed!==void 0&&At===(Pe.range[0]<Pe.range[1]?"w":"e"))&&(Re=1,Je=0),sn?(Ge=Ze,fn=kt||Mt.isSubplotConstrained?ye[1]:Fe(Le,Ge)):Mt.yaHash[Le._id]?(Ge=Ze,fn=ye[1]*Le._length/ht._length):Mt.xaHash[Le._id]?(Ge=Ye,fn=Tt==="ew"?-ye[0]*Le._length/st._length:Fe(Le,Ge,{e:"right",w:"left"}[Tt])):fn=Ie(Le,Ge=je(Le,Ye,Ze)),Ge>1&&(Le.maxallowed!==void 0&&Nt===(Le.range[0]<Le.range[1]?"n":"s")||Le.minallowed!==void 0&&Nt===(Le.range[0]<Le.range[1]?"s":"n"))&&(Ge=1,fn=0),Re||Ge){Re||(Re=1),Ge||(Ge=1);var Cn=Pe._offset-Je/Re,Tn=Le._offset-fn/Ge;Te.clipRect.call(l.setTranslate,Je,fn).call(l.setScale,Re,Ge),Te.plot.call(l.setTranslate,Cn,Tn).call(l.setScale,1/Re,1/Ge),Re===Te.xScaleFactor&&Ge===Te.yScaleFactor||(l.setPointGroupScale(Te.zoomScalePts,Re,Ge),l.setTextPointsScale(Te.zoomScaleTxt,Re,Ge)),l.hideOutsideRangePoints(Te.clipOnAxisFalseTraces,Te),Te.xScaleFactor=Re,Te.yScaleFactor=Ge}}}}function je(ye,be,Te){return ye.fixedrange?0:At&&yt.xaHash[ye._id]?be:Nt&&(yt.isSubplotConstrained?yt.xaHash:yt.yaHash)[ye._id]?Te:0}function Ie(ye,be){return be?(ye.range=ye._r.slice(),x(ye,be),Fe(ye,be)):0}function Fe(ye,be,Te){return ye._length*(1-be)*d[Te||ye.constraintoward||"middle"]}return kt.length*lt.length!=1&&Y(xe,function(ye){if(G._context._scrollZoom.cartesian||G._fullLayout._enablescrollzoom){if(Ut(),G._transitioningWithDuration)return ye.preventDefault(),void ye.stopPropagation();jt(),clearTimeout(ue);var be=-ye.deltaY;if(isFinite(be)||(be=ye.wheelDelta/10),isFinite(be)){var Te,Pe=Math.exp(-Math.min(Math.max(be,-20),20)/200),Le=he.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Oe=(ye.clientX-Le.left)/Le.width,Ee=(Le.bottom-ye.clientY)/Le.height;if(At){for(lt||(Oe=.5),Te=0;Te<Dt.length;Te++)He(Dt[Te],Oe,Pe);ke("x"),oe[2]*=Pe,oe[0]+=oe[2]*Oe*(1/Pe-1)}if(Nt){for(kt||(Ee=.5),Te=0;Te<qt.length;Te++)He(qt[Te],Ee,Pe);ke("y"),oe[3]*=Pe,oe[1]+=oe[3]*(1-Ee)*(1/Pe-1)}ge(oe),Ae(),G.emit("plotly_relayouting",Bt),ue=setTimeout(function(){G._fullLayout&&(oe=[0,0,dt,vt],fe())},Se),ye.preventDefault()}else y.log("Did not find wheel motion attributes: ",ye)}function He(ze,Ne,Ye){if(!ze.fixedrange){var Ze=y.simpleMap(ze.range,ze.r2l),Re=Ze[0]+(Ze[1]-Ze[0])*Ne;ze.range=Ze.map(function(Ge){return ze.l2r(Re+(Ge-Re)*Ye)})}}}),xe},makeDragger:z,makeRectDragger:H,makeZoombox:B,makeCorners:q,updateZoombox:nt,xyCorners:E,transitionZoombox:ot,removeZoombox:rt,showDoubleClickNotifier:$,attachWheelEventHandler:Y}},2464:function(J,h,t){var f=t(3428),y=t(3024),i=t(6476),a=t(3972),n=t(1184).makeDragBox,r=t(3816).DRAGGERSIZE;h.initInteractions=function(o){var s=o._fullLayout;if(o._context.staticPlot)f.select(o).selectAll(".drag").remove();else if(s._has("cartesian")||s._has("splom")){Object.keys(s._plots||{}).sort(function(l,u){if((s._plots[l].mainplot&&!0)===(s._plots[u].mainplot&&!0)){var m=l.split("y"),_=u.split("y");return m[0]===_[0]?Number(m[1]||1)-Number(_[1]||1):Number(m[0]||1)-Number(_[0]||1)}return s._plots[l].mainplot?1:-1}).forEach(function(l){var u=s._plots[l],m=u.xaxis,_=u.yaxis;if(!u.mainplot){var p=n(o,u,m._offset,_._offset,m._length,_._length,"ns","ew");p.onmousemove=function(b){o._fullLayout._rehover=function(){o._fullLayout._hoversubplot===l&&o._fullLayout._plots[l]&&y.hover(o,b,l)},y.hover(o,b,l),o._fullLayout._lasthover=p,o._fullLayout._hoversubplot=l},p.onmouseout=function(b){o._dragging||(o._fullLayout._hoversubplot=null,i.unhover(o,b))},o._context.showAxisDragHandles&&(n(o,u,m._offset-r,_._offset-r,r,r,"n","w"),n(o,u,m._offset+m._length,_._offset-r,r,r,"n","e"),n(o,u,m._offset-r,_._offset+_._length,r,r,"s","w"),n(o,u,m._offset+m._length,_._offset+_._length,r,r,"s","e"))}if(o._context.showAxisDragHandles){if(l===m._mainSubplot){var v=m._mainLinePosition;m.side==="top"&&(v-=r),n(o,u,m._offset+.1*m._length,v,.8*m._length,r,"","ew"),n(o,u,m._offset,v,.1*m._length,r,"","w"),n(o,u,m._offset+.9*m._length,v,.1*m._length,r,"","e")}if(l===_._mainSubplot){var g=_._mainLinePosition;_.side!=="right"&&(g-=r),n(o,u,g,_._offset+.1*_._length,r,.8*_._length,"ns",""),n(o,u,g,_._offset+.9*_._length,r,.1*_._length,"s",""),n(o,u,g,_._offset,r,.1*_._length,"n","")}}});var e=s._hoverlayer.node();e.onmousemove=function(l){l.target=o._fullLayout._lasthover,y.hover(o,l,s._hoversubplot)},e.onclick=function(l){l.target=o._fullLayout._lasthover,y.click(o,l)},e.onmousedown=function(l){o._fullLayout._lasthover.onmousedown(l)},h.updateFx(o)}},h.updateFx=function(o){var s=o._fullLayout,e=s.dragmode==="pan"?"move":"crosshair";a(s._draggers,e)}},6632:function(J,h,t){var f=t(4040),y=t(3400),i=t(9811);J.exports=function(a){return function(n,r){var o=n[a];if(Array.isArray(o))for(var s=f.subplotsRegistry.cartesian,e=s.idRegex,l=r._subplots,u=l.xaxis,m=l.yaxis,_=l.cartesian,p=r._has("cartesian")||r._has("gl2d"),v=0;v<o.length;v++){var g=o[v];if(y.isPlainObject(g)){var b=i.cleanId(g.xref,"x",!1),d=i.cleanId(g.yref,"y",!1),T=e.x.test(b),w=e.y.test(d);if(T||w){p||y.pushUnique(r._basePlotModules,s);var k=!1;T&&u.indexOf(b)===-1&&(u.push(b),k=!0),w&&m.indexOf(d)===-1&&(m.push(d),k=!0),k&&T&&w&&_.push(b+d)}}}}}},7952:function(J,h,t){var f=t(3428),y=t(4040),i=t(3400),a=t(7316),n=t(3616),r=t(4888)._M,o=t(9811),s=t(3816),e=t(9616),l=i.ensureSingle;function u(g,b,d){return i.ensureSingle(g,b,d,function(T){T.datum(d)})}function m(g,b,d,T,w){for(var k,P,A,L=s.traceLayerClasses,I=g._fullLayout,x=I._modules,C={},F=0;F<d.length;F++){var N=d[F][0].trace.zorder||0;C[N]||(C[N]=[]),C[N].push(d[F])}for(var j=[],z=[],H=Object.keys(C).map(Number).sort(i.sorterAsc),U=0;U<H.length;U++)for(var it=H[U],K=0;K<x.length;K++){var D=(k=x[K]).name,B=y.modules[D].categories;if(B.svg){var q=k.layerName||D+"layer",nt=q+(U?Number(U)+1:""),ot=k.plot;A=(P=r(d,ot,it))[0],d=P[1],A.length&&j.push({i:L.indexOf(q),zorder:U,className:nt,plotMethod:ot,cdModule:A}),B.zoomScale&&z.push("."+nt)}}j.sort(function(E,S){return(E.zorder||0)-(S.zorder||0)||E.i-S.i});var rt=b.plot.selectAll("g.mlayer").data(j,function(E){return E.className});if(rt.enter().append("g").attr("class",function(E){return E.className}).classed("mlayer",!0).classed("rangeplot",b.isRangePlot),rt.exit().remove(),rt.order(),rt.each(function(E){var S=f.select(this),Y=E.className;E.plotMethod(g,b,E.cdModule,S,T,w),s.clipOnAxisFalseQuery.indexOf("."+Y)===-1&&n.setClipUrl(S,b.layerClipId,g)}),I._has("scattergl")&&(k=y.getModule("scattergl"),A=r(d,k)[0],k.plot(g,b,A)),!g._context.staticPlot&&(b._hasClipOnAxisFalse&&(b.clipOnAxisFalseTraces=b.plot.selectAll(s.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),z.length)){var $=b.plot.selectAll(z.join(",")).selectAll(".trace");b.zoomScalePts=$.selectAll("path.point"),b.zoomScaleTxt=$.selectAll(".textpoint")}}function _(g,b){var d=b.plotgroup,T=b.id,w=s.layerValue2layerClass[b.xaxis.layer],k=s.layerValue2layerClass[b.yaxis.layer],P=g._fullLayout._hasOnlyLargeSploms;if(b.mainplot){var A=b.mainplotinfo,L=A.plotgroup,I=T+"-x",x=T+"-y";b.minorGridlayer=A.minorGridlayer,b.gridlayer=A.gridlayer,b.zerolinelayer=A.zerolinelayer,l(A.overlinesBelow,"path",I),l(A.overlinesBelow,"path",x),l(A.overaxesBelow,"g",I),l(A.overaxesBelow,"g",x),b.plot=l(A.overplot,"g",T),l(A.overlinesAbove,"path",I),l(A.overlinesAbove,"path",x),l(A.overaxesAbove,"g",I),l(A.overaxesAbove,"g",x),b.xlines=L.select(".overlines-"+w).select("."+I),b.ylines=L.select(".overlines-"+k).select("."+x),b.xaxislayer=L.select(".overaxes-"+w).select("."+I),b.yaxislayer=L.select(".overaxes-"+k).select("."+x)}else if(P)b.xlines=l(d,"path","xlines-above"),b.ylines=l(d,"path","ylines-above"),b.xaxislayer=l(d,"g","xaxislayer-above"),b.yaxislayer=l(d,"g","yaxislayer-above");else{var C=l(d,"g","layer-subplot");b.shapelayer=l(C,"g","shapelayer"),b.imagelayer=l(C,"g","imagelayer"),b.minorGridlayer=l(d,"g","minor-gridlayer"),b.gridlayer=l(d,"g","gridlayer"),b.zerolinelayer=l(d,"g","zerolinelayer");var F=l(d,"g","layer-between");b.shapelayerBetween=l(F,"g","shapelayer"),b.imagelayerBetween=l(F,"g","imagelayer"),l(d,"path","xlines-below"),l(d,"path","ylines-below"),b.overlinesBelow=l(d,"g","overlines-below"),l(d,"g","xaxislayer-below"),l(d,"g","yaxislayer-below"),b.overaxesBelow=l(d,"g","overaxes-below"),b.plot=l(d,"g","plot"),b.overplot=l(d,"g","overplot"),b.xlines=l(d,"path","xlines-above"),b.ylines=l(d,"path","ylines-above"),b.overlinesAbove=l(d,"g","overlines-above"),l(d,"g","xaxislayer-above"),l(d,"g","yaxislayer-above"),b.overaxesAbove=l(d,"g","overaxes-above"),b.xlines=d.select(".xlines-"+w),b.ylines=d.select(".ylines-"+k),b.xaxislayer=d.select(".xaxislayer-"+w),b.yaxislayer=d.select(".yaxislayer-"+k)}P||(u(b.minorGridlayer,"g",b.xaxis._id),u(b.minorGridlayer,"g",b.yaxis._id),b.minorGridlayer.selectAll("g").map(function(N){return N[0]}).sort(o.idSort),u(b.gridlayer,"g",b.xaxis._id),u(b.gridlayer,"g",b.yaxis._id),b.gridlayer.selectAll("g").map(function(N){return N[0]}).sort(o.idSort)),b.xlines.style("fill","none").classed("crisp",!0),b.ylines.style("fill","none").classed("crisp",!0)}function p(g,b){if(g){var d={};for(var T in g.each(function(A){var L=A[0];f.select(this).remove(),v(L,b),d[L]=!0}),b._plots)for(var w=b._plots[T].overlays||[],k=0;k<w.length;k++){var P=w[k];d[P.id]&&P.plot.selectAll(".trace").remove()}}}function v(g,b){b._draggers.selectAll("g."+g).remove(),b._defs.select("#clip"+b._uid+g+"plot").remove()}h.name="cartesian",h.attr=["xaxis","yaxis"],h.idRoot=["x","y"],h.idRegex=s.idRegex,h.attrRegex=s.attrRegex,h.attributes=t(6720),h.layoutAttributes=t(4724),h.supplyLayoutDefaults=t(7352),h.transitionAxes=t(3736),h.finalizeSubplots=function(g,b){var d,T,w,k=b._subplots,P=k.xaxis,A=k.yaxis,L=k.cartesian,I=L.concat(k.gl2d||[]),x={},C={};for(d=0;d<I.length;d++){var F=I[d].split("y");x[F[0]]=1,C["y"+F[1]]=1}for(d=0;d<P.length;d++)x[T=P[d]]||(w=(g[o.id2name(T)]||{}).anchor,s.idRegex.y.test(w)||(w="y"),L.push(T+w),I.push(T+w),C[w]||(C[w]=1,i.pushUnique(A,w)));for(d=0;d<A.length;d++)C[w=A[d]]||(T=(g[o.id2name(w)]||{}).anchor,s.idRegex.x.test(T)||(T="x"),L.push(T+w),I.push(T+w),x[T]||(x[T]=1,i.pushUnique(P,T)));if(!I.length){for(var N in T="",w="",g)s.attrRegex.test(N)&&(N.charAt(0)==="x"?(!T||+N.substr(5)<+T.substr(5))&&(T=N):(!w||+N.substr(5)<+w.substr(5))&&(w=N));T=T?o.name2id(T):"x",w=w?o.name2id(w):"y",P.push(T),A.push(w),L.push(T+w)}},h.plot=function(g,b,d,T){var w,k=g._fullLayout,P=k._subplots.cartesian,A=g.calcdata;if(!Array.isArray(b))for(b=[],w=0;w<A.length;w++)b.push(w);for(w=0;w<P.length;w++){for(var L,I=P[w],x=k._plots[I],C=[],F=0;F<A.length;F++){var N=A[F],j=N[0].trace;j.xaxis+j.yaxis===I&&((b.indexOf(j.index)!==-1||j.carpet)&&(L&&L[0].trace.xaxis+L[0].trace.yaxis===I&&["tonextx","tonexty","tonext"].indexOf(j.fill)!==-1&&C.indexOf(L)===-1&&C.push(L),C.push(N)),L=N)}m(g,x,C,d,T)}},h.clean=function(g,b,d,T){var w,k,P,A=T._plots||{},L=b._plots||{},I=T._subplots||{};if(T._hasOnlyLargeSploms&&!b._hasOnlyLargeSploms)for(P in A)(w=A[P]).plotgroup&&w.plotgroup.remove();var x=T._has&&T._has("gl"),C=b._has&&b._has("gl");if(x&&!C)for(P in A)(w=A[P])._scene&&w._scene.destroy();if(I.xaxis&&I.yaxis){var F=o.listIds({_fullLayout:T});for(k=0;k<F.length;k++){var N=F[k];b[o.id2name(N)]||T._infolayer.selectAll(".g-"+N+"title").remove()}}var j=T._has&&T._has("cartesian"),z=b._has&&b._has("cartesian");if(j&&!z)p(T._cartesianlayer.selectAll(".subplot"),T),T._defs.selectAll(".axesclip").remove(),delete T._axisConstraintGroups,delete T._axisMatchGroups;else if(I.cartesian)for(k=0;k<I.cartesian.length;k++){var H=I.cartesian[k];if(!L[H]){var U="."+H+",."+H+"-x,."+H+"-y";T._cartesianlayer.selectAll(U).remove(),v(H,T)}}},h.drawFramework=function(g){var b=g._fullLayout,d=function(w){var k,P,A,L,I,x,C=w._fullLayout,F=C._subplots.cartesian,N=F.length,j=[],z=[];for(k=0;k<N;k++){A=F[k],I=(L=C._plots[A]).xaxis,x=L.yaxis;var H=I._mainAxis,U=x._mainAxis,it=H._id+U._id,K=C._plots[it];L.overlays=[],it!==A&&K?(L.mainplot=it,L.mainplotinfo=K,z.push(A)):(L.mainplot=void 0,L.mainplotinfo=void 0,j.push(A))}for(k=0;k<z.length;k++)A=z[k],(L=C._plots[A]).mainplotinfo.overlays.push(L);var D=j.concat(z),B=new Array(N);for(k=0;k<N;k++){A=D[k],I=(L=C._plots[A]).xaxis,x=L.yaxis;var q=[A,I.layer,x.layer,I.overlaying||"",x.overlaying||""];for(P=0;P<L.overlays.length;P++)q.push(L.overlays[P].id);B[k]=q}return B}(g),T=b._cartesianlayer.selectAll(".subplot").data(d,String);T.enter().append("g").attr("class",function(w){return"subplot "+w[0]}),T.order(),T.exit().call(p,b),T.each(function(w){var k=w[0],P=b._plots[k];P.plotgroup=f.select(this),_(g,P),P.draglayer=l(b._draggers,"g",k)})},h.rangePlot=function(g,b,d){_(g,b),m(g,b,d),a.style(g)},h.toSVG=function(g){var b=g._fullLayout._glimages,d=f.select(g).selectAll(".svg-container");d.filter(function(T,w){return w===d.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var T=this,w=T.toDataURL("image/png");b.append("svg:image").attr({xmlns:e.svg,"xlink:href":w,preserveAspectRatio:"none",x:0,y:0,width:T.style.width,height:T.style.height})})},h.updateFx=t(2464).updateFx},4724:function(J,h,t){var f=t(5376),y=t(2548),i=t(8192).u,a=t(2880).extendFlat,n=t(1780).templatedArray,r=t(9736).descriptionWithDates,o=t(9032).ONEDAY,s=t(3816),e=s.HOUR_PATTERN,l=s.WEEKDAY_PATTERN,u={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},m=a({},u,{values:u.values.slice().concat(["sync"])});function _(I){return{valType:"integer",min:0,dflt:I?5:0,editType:"ticks"}}var p={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},v={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},g={valType:"data_array",editType:"ticks"},b={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function d(I){var x={valType:"number",min:0,editType:"ticks"};return I||(x.dflt=5),x}function T(I){var x={valType:"number",min:0,editType:"ticks"};return I||(x.dflt=1),x}var w={valType:"color",dflt:y.defaultLine,editType:"ticks"},k={valType:"color",dflt:y.lightLine,editType:"ticks"};function P(I){var x={valType:"number",min:0,editType:"ticks"};return I||(x.dflt=1),x}var A=a({},i,{editType:"ticks"}),L={valType:"boolean",editType:"ticks"};J.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:y.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:f({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[s.idRegex.x.toString(),s.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[s.idRegex.x.toString(),s.idRegex.y.toString()],editType:"calc"},rangebreaks:n("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[l,e,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:o},editType:"calc"}),tickmode:m,nticks:_(),tick0:p,dtick:v,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:g,ticktext:{valType:"data_array",editType:"ticks"},ticks:b,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:d(),tickwidth:T(),tickcolor:w,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:a({},i,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:f({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:r("tick label")},tickformatstops:n("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:r("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:y.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:L,gridcolor:k,gridwidth:P(),griddash:A,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:y.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:y.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",s.idRegex.x.toString(),s.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",s.idRegex.x.toString(),s.idRegex.y.toString()],editType:"plot"},minor:{tickmode:u,nticks:_("minor"),tick0:p,dtick:v,tickvals:g,ticks:b,ticklen:d("minor"),tickwidth:T("minor"),tickcolor:w,gridcolor:k,gridwidth:P("minor"),griddash:A,showgrid:L,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:f({editType:"ticks"})}}},7352:function(J,h,t){var f=t(3400),y=t(6308),i=t(624).isUnifiedHover,a=t(1008),n=t(1780),r=t(4859),o=t(4724),s=t(4944),e=t(5955),l=t(1888),u=t(7668),m=t(9811),_=m.id2name,p=m.name2id,v=t(3816).AX_ID_PATTERN,g=t(4040),b=g.traceIs,d=g.getComponentMethod;function T(w,k,P){Array.isArray(w[k])?w[k].push(P):w[k]=[P]}J.exports=function(w,k,P){var A,L,I=k.autotypenumbers,x={},C={},F={},N={},j={},z={},H={},U={},it={},K={};for(A=0;A<P.length;A++){var D=P[A];if(b(D,"cartesian")||b(D,"gl2d")){var B,q;if(D.xaxis)B=_(D.xaxis),T(x,B,D);else if(D.xaxes)for(L=0;L<D.xaxes.length;L++)T(x,_(D.xaxes[L]),D);if(D.yaxis)q=_(D.yaxis),T(x,q,D);else if(D.yaxes)for(L=0;L<D.yaxes.length;L++)T(x,_(D.yaxes[L]),D);D.type==="funnel"?D.orientation==="h"?(B&&(C[B]=!0),q&&(H[q]=!0)):q&&(F[q]=!0):D.type==="image"?(q&&(U[q]=!0),B&&(U[B]=!0)):(q&&(j[q]=!0,z[q]=!0),b(D,"carpet")&&(D.type!=="carpet"||D._cheater)||B&&(N[B]=!0)),D.type==="carpet"&&D._cheater&&B&&(C[B]=!0),b(D,"2dMap")&&(it[B]=!0,it[q]=!0),b(D,"oriented")&&(K[D.orientation==="h"?q:B]=!0)}}var nt=k._subplots,ot=nt.xaxis,rt=nt.yaxis,$=f.simpleMap(ot,_),E=f.simpleMap(rt,_),S=$.concat(E),Y=y.background;ot.length&&rt.length&&(Y=f.coerce(w,k,r,"plot_bgcolor"));var Z,G,Q,at,tt,_t=y.combine(Y,k.paper_bgcolor);function Pt(){var gt=x[Z]||[];tt._traceIndices=gt.map(function(jt){return jt._expandedIndex}),tt._annIndices=[],tt._shapeIndices=[],tt._selectionIndices=[],tt._imgIndices=[],tt._subplotsWith=[],tt._counterAxes=[],tt._name=tt._attr=Z,tt._id=G}function kt(gt,jt){return f.coerce(at,tt,o,gt,jt)}function lt(gt,jt){return f.coerce2(at,tt,o,gt,jt)}function st(gt){return gt==="x"?rt:ot}function ht(gt,jt){for(var Xt=gt==="x"?$:E,xe=[],Vt=0;Vt<Xt.length;Vt++){var Qt=Xt[Vt];Qt===jt||(w[Qt]||{}).overlaying||xe.push(p(Qt))}return xe}var bt={x:st("x"),y:st("y")},pt=bt.x.concat(bt.y),Dt={},qt=[];function ct(){var gt=at.matches;v.test(gt)&&pt.indexOf(gt)===-1&&(Dt[gt]=at.type,qt=Object.keys(Dt))}var xt=a(w,k),dt=i(xt);for(A=0;A<S.length;A++){Z=S[A],G=p(Z),Q=Z.charAt(0),f.isPlainObject(w[Z])||(w[Z]={}),at=w[Z],tt=n.newContainer(k,Z,Q+"axis"),Pt();var vt=Q==="x"&&!N[Z]&&C[Z]||Q==="y"&&!j[Z]&&F[Z],yt=Q==="y"&&(!z[Z]&&H[Z]||U[Z]),Mt={hasMinor:!0,letter:Q,font:k.font,outerTicks:it[Z],showGrid:!K[Z],data:x[Z]||[],bgColor:_t,calendar:k.calendar,automargin:!0,visibleDflt:vt,reverseDflt:yt,autotypenumbersDflt:I,splomStash:((k._splomAxes||{})[Q]||{})[G],noAutotickangles:Q==="y"};kt("uirevision",k.uirevision),s(at,tt,kt,Mt),e(at,tt,kt,Mt,k);var Tt=dt&&Q===xt.charAt(0),Lt=lt("spikecolor",dt?tt.color:void 0),St=lt("spikethickness",dt?1.5:void 0),At=lt("spikedash",dt?"dot":void 0),Nt=lt("spikemode",dt?"across":void 0),zt=lt("spikesnap");kt("showspikes",!!(Tt||Lt||St||At||Nt||zt))||(delete tt.spikecolor,delete tt.spikethickness,delete tt.spikedash,delete tt.spikemode,delete tt.spikesnap);var Ft=_(at.overlaying),Gt=[0,1];if(k[Ft]!==void 0){var Bt=_(k[Ft].anchor);k[Bt]!==void 0&&(Gt=k[Bt].domain)}u(at,tt,kt,{letter:Q,counterAxes:bt[Q],overlayableAxes:ht(Q,Z),grid:k.grid,overlayingDomain:Gt}),kt("title.standoff"),ct(),tt._input=at}for(A=0;A<qt.length;){G=qt[A++],Q=(Z=_(G)).charAt(0),f.isPlainObject(w[Z])||(w[Z]={}),at=w[Z],tt=n.newContainer(k,Z,Q+"axis"),Pt();var de={letter:Q,font:k.font,outerTicks:it[Z],showGrid:!K[Z],data:[],bgColor:_t,calendar:k.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:I,splomStash:((k._splomAxes||{})[Q]||{})[G]};kt("uirevision",k.uirevision),tt.type=Dt[G]||"linear",e(at,tt,kt,de,k),u(at,tt,kt,{letter:Q,counterAxes:bt[Q],overlayableAxes:ht(Q,Z),grid:k.grid}),kt("fixedrange"),ct(),tt._input=at}var ie=d("rangeslider","handleDefaults"),pe=d("rangeselector","handleDefaults");for(A=0;A<$.length;A++)Z=$[A],at=w[Z],tt=k[Z],ie(w,k,Z),tt.type==="date"&&pe(at,tt,k,E,tt.calendar),kt("fixedrange");for(A=0;A<E.length;A++){Z=E[A],at=w[Z],tt=k[Z];var Ot=k[_(tt.anchor)];kt("fixedrange",d("rangeslider","isVisible")(Ot))}l.handleDefaults(w,k,{axIds:pt.concat(qt).sort(m.idSort),axHasImage:U})}},2136:function(J,h,t){var f=t(9760).mix,y=t(2548),i=t(3400);J.exports=function(a,n,r,o){var s=(o=o||{}).dfltColor;function e(w,k){return i.coerce2(a,n,o.attributes,w,k)}var l=e("linecolor",s),u=e("linewidth");r("showline",o.showLine||!!l||!!u)||(delete n.linecolor,delete n.linewidth);var m=e("gridcolor",f(s,o.bgColor,o.blend||y.lightFraction).toRgbString()),_=e("gridwidth"),p=e("griddash");if(r("showgrid",o.showGrid||!!m||!!_||!!p)||(delete n.gridcolor,delete n.gridwidth,delete n.griddash),o.hasMinor){var v=e("minor.gridcolor",f(n.gridcolor,o.bgColor,67).toRgbString()),g=e("minor.gridwidth",n.gridwidth||1),b=e("minor.griddash",n.griddash||"solid");r("minor.showgrid",!!v||!!g||!!b)||(delete n.minor.gridcolor,delete n.minor.gridwidth,delete n.minor.griddash)}if(!o.noZeroLine){var d=e("zerolinecolor",s),T=e("zerolinewidth");r("zeroline",o.showGrid||!!d||!!T)||(delete n.zerolinecolor,delete n.zerolinewidth)}}},7668:function(J,h,t){var f=t(8248),y=t(3400);J.exports=function(i,a,n,r){var o,s,e,l,u,m,_=r.counterAxes||[],p=r.overlayableAxes||[],v=r.letter,g=r.grid,b=r.overlayingDomain;g&&(s=g._domains[v][g._axisMap[a._id]],o=g._anchors[a._id],s&&(e=g[v+"side"].split(" ")[0],l=g.domain[v][e==="right"||e==="top"?1:0])),s=s||[0,1],o=o||(f(i.position)?"free":_[0]||"free"),e=e||(v==="x"?"bottom":"left"),l=l||0,u=0,m=!1;var d=y.coerce(i,a,{anchor:{valType:"enumerated",values:["free"].concat(_),dflt:o}},"anchor"),T=y.coerce(i,a,{side:{valType:"enumerated",values:v==="x"?["bottom","top"]:["left","right"],dflt:e}},"side");d==="free"&&(v==="y"&&(n("autoshift")&&(l=T==="left"?b[0]:b[1],m=!a.automargin||a.automargin,u=T==="left"?-3:3),n("shift",u)),n("position",l)),n("automargin",m);var w=!1;if(p.length&&(w=y.coerce(i,a,{overlaying:{valType:"enumerated",values:[!1].concat(p),dflt:!1}},"overlaying")),!w){var k=n("domain",s);k[0]>k[1]-.000244140625&&(a.domain=s),y.noneOrAll(i.domain,a.domain,s),a.tickmode==="sync"&&(a.tickmode="auto")}return n("layer"),a}},2568:function(J,h,t){var f=t(5024);J.exports=function(y,i,a,n,r){r||(r={});var o=r.tickSuffixDflt,s=f(y);a("tickprefix")&&a("showtickprefix",s),a("ticksuffix",o)&&a("showticksuffix",s)}},6312:function(J,h,t){var f=t(6808);J.exports=function(y,i,a,n){var r=i._template||{},o=i.type||r.type||"-";a("minallowed"),a("maxallowed");var s,e=a("range");e||n.noInsiderange||o==="log"||(!(s=a("insiderange"))||s[0]!==null&&s[1]!==null||(i.insiderange=!1,s=void 0),s&&(e=a("range",s)));var l,u=i.getAutorangeDflt(e,n),m=a("autorange",u);!e||(e[0]!==null||e[1]!==null)&&(e[0]!==null&&e[1]!==null||m!=="reversed"&&m!==!0)&&(e[0]===null||m!=="min"&&m!=="max reversed")&&(e[1]===null||m!=="max"&&m!=="min reversed")||(e=void 0,delete i.range,i.autorange=!0,l=!0),l||(m=a("autorange",u=i.getAutorangeDflt(e,n))),m&&(f(a,m,e),o!=="linear"&&o!=="-"||a("rangemode")),i.cleanRange()}},1160:function(J,h,t){var f=t(4284).FROM_BL;J.exports=function(y,i,a){a===void 0&&(a=f[y.constraintoward||"center"]);var n=[y.r2l(y.range[0]),y.r2l(y.range[1])],r=n[0]+(n[1]-n[0])*a;y.range=y._input.range=[y.l2r(r+(n[0]-r)*i),y.l2r(r+(n[1]-r)*i)],y.setScale()}},8344:function(J,h,t){var f=t(3428),y=t(4336).E9,i=t(3400),a=i.numberFormat,n=t(8248),r=i.cleanNumber,o=i.ms2DateTime,s=i.dateTime2ms,e=i.ensureNumber,l=i.isArrayOrTypedArray,u=t(9032),m=u.FP_SAFE,_=u.BADNUM,p=u.LOG_CLIP,v=u.ONEWEEK,g=u.ONEDAY,b=u.ONEHOUR,d=u.ONEMIN,T=u.ONESEC,w=t(9811),k=t(3816),P=k.HOUR_PATTERN,A=k.WEEKDAY_PATTERN;function L(x){return Math.pow(10,x)}function I(x){return x!=null}J.exports=function(x,C){C=C||{};var F=x._id||"x",N=F.charAt(0);function j(S,Y){if(S>0)return Math.log(S)/Math.LN10;if(S<=0&&Y&&x.range&&x.range.length===2){var Z=x.range[0],G=x.range[1];return .5*(Z+G-2*p*Math.abs(Z-G))}return _}function z(S,Y,Z,G){if((G||{}).msUTC&&n(S))return+S;var Q=s(S,Z||x.calendar);if(Q===_){if(!n(S))return _;S=+S;var at=Math.floor(10*i.mod(S+.05,1)),tt=Math.round(S-at/10);Q=s(new Date(tt))+at/10}return Q}function H(S,Y,Z){return o(S,Y,Z||x.calendar)}function U(S){return x._categories[Math.round(S)]}function it(S){if(I(S)){if(x._categoriesMap===void 0&&(x._categoriesMap={}),x._categoriesMap[S]!==void 0)return x._categoriesMap[S];x._categories.push(typeof S=="number"?String(S):S);var Y=x._categories.length-1;return x._categoriesMap[S]=Y,Y}return _}function K(S){if(x._categoriesMap)return x._categoriesMap[S]}function D(S){var Y=K(S);return Y!==void 0?Y:n(S)?+S:void 0}function B(S){return n(S)?+S:K(S)}function q(S,Y,Z){return f.round(Z+Y*S,2)}function nt(S,Y,Z){return(S-Z)/Y}var ot=function(S){return n(S)?q(S,x._m,x._b):_},rt=function(S){return nt(S,x._m,x._b)};if(x.rangebreaks){var $=N==="y";ot=function(S){if(!n(S))return _;var Y=x._rangebreaks.length;if(!Y)return q(S,x._m,x._b);var Z=$;x.range[0]>x.range[1]&&(Z=!Z);for(var G=Z?-1:1,Q=G*S,at=0,tt=0;tt<Y;tt++){var _t=G*x._rangebreaks[tt].min,Pt=G*x._rangebreaks[tt].max;if(Q<_t)break;if(!(Q>Pt)){at=Q<(_t+Pt)/2?tt:tt+1;break}at=tt+1}var kt=x._B[at]||0;return isFinite(kt)?q(S,x._m2,kt):0},rt=function(S){var Y=x._rangebreaks.length;if(!Y)return nt(S,x._m,x._b);for(var Z=0,G=0;G<Y&&!(S<x._rangebreaks[G].pmin);G++)S>x._rangebreaks[G].pmax&&(Z=G+1);return nt(S,x._m2,x._B[Z])}}x.c2l=x.type==="log"?j:e,x.l2c=x.type==="log"?L:e,x.l2p=ot,x.p2l=rt,x.c2p=x.type==="log"?function(S,Y){return ot(j(S,Y))}:ot,x.p2c=x.type==="log"?function(S){return L(rt(S))}:rt,["linear","-"].indexOf(x.type)!==-1?(x.d2r=x.r2d=x.d2c=x.r2c=x.d2l=x.r2l=r,x.c2d=x.c2r=x.l2d=x.l2r=e,x.d2p=x.r2p=function(S){return x.l2p(r(S))},x.p2d=x.p2r=rt,x.cleanPos=e):x.type==="log"?(x.d2r=x.d2l=function(S,Y){return j(r(S),Y)},x.r2d=x.r2c=function(S){return L(r(S))},x.d2c=x.r2l=r,x.c2d=x.l2r=e,x.c2r=j,x.l2d=L,x.d2p=function(S,Y){return x.l2p(x.d2r(S,Y))},x.p2d=function(S){return L(rt(S))},x.r2p=function(S){return x.l2p(r(S))},x.p2r=rt,x.cleanPos=e):x.type==="date"?(x.d2r=x.r2d=i.identity,x.d2c=x.r2c=x.d2l=x.r2l=z,x.c2d=x.c2r=x.l2d=x.l2r=H,x.d2p=x.r2p=function(S,Y,Z){return x.l2p(z(S,0,Z))},x.p2d=x.p2r=function(S,Y,Z){return H(rt(S),Y,Z)},x.cleanPos=function(S){return i.cleanDate(S,_,x.calendar)}):x.type==="category"?(x.d2c=x.d2l=it,x.r2d=x.c2d=x.l2d=U,x.d2r=x.d2l_noadd=D,x.r2c=function(S){var Y=B(S);return Y!==void 0?Y:x.fraction2r(.5)},x.l2r=x.c2r=e,x.r2l=B,x.d2p=function(S){return x.l2p(x.r2c(S))},x.p2d=function(S){return U(rt(S))},x.r2p=x.d2p,x.p2r=rt,x.cleanPos=function(S){return typeof S=="string"&&S!==""?S:e(S)}):x.type==="multicategory"&&(x.r2d=x.c2d=x.l2d=U,x.d2r=x.d2l_noadd=D,x.r2c=function(S){var Y=D(S);return Y!==void 0?Y:x.fraction2r(.5)},x.r2c_just_indices=K,x.l2r=x.c2r=e,x.r2l=D,x.d2p=function(S){return x.l2p(x.r2c(S))},x.p2d=function(S){return U(rt(S))},x.r2p=x.d2p,x.p2r=rt,x.cleanPos=function(S){return Array.isArray(S)||typeof S=="string"&&S!==""?S:e(S)},x.setupMultiCategory=function(S){var Y,Z,G=x._traceIndices,Q=x._matchGroup;if(Q&&x._categories.length===0){for(var at in Q)if(at!==F){var tt=C[w.id2name(at)];G=G.concat(tt._traceIndices)}}var _t=[[0,{}],[0,{}]],Pt=[];for(Y=0;Y<G.length;Y++){var kt=S[G[Y]];if(N in kt){var lt=kt[N],st=kt._length||i.minRowLength(lt);if(l(lt[0])&&l(lt[1]))for(Z=0;Z<st;Z++){var ht=lt[0][Z],bt=lt[1][Z];I(ht)&&I(bt)&&(Pt.push([ht,bt]),ht in _t[0][1]||(_t[0][1][ht]=_t[0][0]++),bt in _t[1][1]||(_t[1][1][bt]=_t[1][0]++))}}}for(Pt.sort(function(pt,Dt){var qt=_t[0][1],ct=qt[pt[0]]-qt[Dt[0]];if(ct)return ct;var xt=_t[1][1];return xt[pt[1]]-xt[Dt[1]]}),Y=0;Y<Pt.length;Y++)it(Pt[Y])}),x.fraction2r=function(S){var Y=x.r2l(x.range[0]),Z=x.r2l(x.range[1]);return x.l2r(Y+S*(Z-Y))},x.r2fraction=function(S){var Y=x.r2l(x.range[0]),Z=x.r2l(x.range[1]);return(x.r2l(S)-Y)/(Z-Y)},x.limitRange=function(S){var Y=x.minallowed,Z=x.maxallowed;if(Y!==void 0||Z!==void 0){S||(S="range");var G=i.nestedProperty(x,S).get(),Q=i.simpleMap(G,x.r2l),at=Q[1]<Q[0];at&&Q.reverse();var tt=i.simpleMap([Y,Z],x.r2l);if(Y!==void 0&&Q[0]<tt[0]&&(G[at?1:0]=Y),Z!==void 0&&Q[1]>tt[1]&&(G[at?0:1]=Z),G[0]===G[1]){var _t=x.l2r(Y),Pt=x.l2r(Z);if(Y!==void 0){var kt=_t+1;Z!==void 0&&(kt=Math.min(kt,Pt)),G[at?1:0]=kt}if(Z!==void 0){var lt=Pt+1;Y!==void 0&&(lt=Math.max(lt,_t)),G[at?0:1]=lt}}}},x.cleanRange=function(S,Y){x._cleanRange(S,Y),x.limitRange(S)},x._cleanRange=function(S,Y){Y||(Y={}),S||(S="range");var Z,G,Q=i.nestedProperty(x,S).get();if(G=(G=x.type==="date"?i.dfltRange(x.calendar):N==="y"?k.DFLTRANGEY:x._name==="realaxis"?[0,1]:Y.dfltRange||k.DFLTRANGEX).slice(),x.rangemode!=="tozero"&&x.rangemode!=="nonnegative"||(G[0]=0),Q&&Q.length===2){var at=Q[0]===null,tt=Q[1]===null;for(x.type!=="date"||x.autorange||(Q[0]=i.cleanDate(Q[0],_,x.calendar),Q[1]=i.cleanDate(Q[1],_,x.calendar)),Z=0;Z<2;Z++)if(x.type==="date"){if(!i.isDateTime(Q[Z],x.calendar)){x[S]=G;break}if(x.r2l(Q[0])===x.r2l(Q[1])){var _t=i.constrain(x.r2l(Q[0]),i.MIN_MS+1e3,i.MAX_MS-1e3);Q[0]=x.l2r(_t-1e3),Q[1]=x.l2r(_t+1e3);break}}else{if(!n(Q[Z])){if(at||tt||!n(Q[1-Z])){x[S]=G;break}Q[Z]=Q[1-Z]*(Z?10:.1)}if(Q[Z]<-m?Q[Z]=-m:Q[Z]>m&&(Q[Z]=m),Q[0]===Q[1]){var Pt=Math.max(1,Math.abs(1e-6*Q[0]));Q[0]-=Pt,Q[1]+=Pt}}}else i.nestedProperty(x,S).set(G)},x.setScale=function(S){var Y=C._size;if(x.overlaying){var Z=w.getFromId({_fullLayout:C},x.overlaying);x.domain=Z.domain}var G=S&&x._r?"_r":"range",Q=x.calendar;x.cleanRange(G);var at,tt,_t=x.r2l(x[G][0],Q),Pt=x.r2l(x[G][1],Q),kt=N==="y";if(kt?(x._offset=Y.t+(1-x.domain[1])*Y.h,x._length=Y.h*(x.domain[1]-x.domain[0]),x._m=x._length/(_t-Pt),x._b=-x._m*Pt):(x._offset=Y.l+x.domain[0]*Y.w,x._length=Y.w*(x.domain[1]-x.domain[0]),x._m=x._length/(Pt-_t),x._b=-x._m*_t),x._rangebreaks=[],x._lBreaks=0,x._m2=0,x._B=[],x.rangebreaks&&(x._rangebreaks=x.locateBreaks(Math.min(_t,Pt),Math.max(_t,Pt)),x._rangebreaks.length)){for(at=0;at<x._rangebreaks.length;at++)tt=x._rangebreaks[at],x._lBreaks+=Math.abs(tt.max-tt.min);var lt=kt;_t>Pt&&(lt=!lt),lt&&x._rangebreaks.reverse();var st=lt?-1:1;for(x._m2=st*x._length/(Math.abs(Pt-_t)-x._lBreaks),x._B.push(-x._m2*(kt?Pt:_t)),at=0;at<x._rangebreaks.length;at++)tt=x._rangebreaks[at],x._B.push(x._B[x._B.length-1]-st*x._m2*(tt.max-tt.min));for(at=0;at<x._rangebreaks.length;at++)(tt=x._rangebreaks[at]).pmin=ot(tt.min),tt.pmax=ot(tt.max)}if(!isFinite(x._m)||!isFinite(x._b)||x._length<0)throw C._replotting=!1,new Error("Something went wrong with axis scaling")},x.maskBreaks=function(S){var Y,Z,G,Q,at,tt=x.rangebreaks||[];tt._cachedPatterns||(tt._cachedPatterns=tt.map(function(ht){return ht.enabled&&ht.bounds?i.simpleMap(ht.bounds,ht.pattern?r:x.d2c):null})),tt._cachedValues||(tt._cachedValues=tt.map(function(ht){return ht.enabled&&ht.values?i.simpleMap(ht.values,x.d2c).sort(i.sorterAsc):null}));for(var _t=0;_t<tt.length;_t++){var Pt=tt[_t];if(Pt.enabled){if(Pt.bounds){var kt=Pt.pattern;switch(Z=(Y=tt._cachedPatterns[_t])[0],G=Y[1],kt){case A:Q=(at=new Date(S)).getUTCDay(),Z>G&&(G+=7,Q<Z&&(Q+=7));break;case P:Q=(at=new Date(S)).getUTCHours()+(at.getUTCMinutes()/60+at.getUTCSeconds()/3600+at.getUTCMilliseconds()/36e5),Z>G&&(G+=24,Q<Z&&(Q+=24));break;case"":Q=S}if(Q>=Z&&Q<G)return _}else for(var lt=tt._cachedValues[_t],st=0;st<lt.length;st++)if(G=(Z=lt[st])+Pt.dvalue,S>=Z&&S<G)return _}}return S},x.locateBreaks=function(S,Y){var Z,G,Q,at,tt=[];if(!x.rangebreaks)return tt;var _t=x.rangebreaks.slice().sort(function(xt,dt){return xt.pattern===A&&dt.pattern===P?-1:dt.pattern===A&&xt.pattern===P?1:0}),Pt=function(xt,dt){if((xt=i.constrain(xt,S,Y))!==(dt=i.constrain(dt,S,Y))){for(var vt=!0,yt=0;yt<tt.length;yt++){var Mt=tt[yt];xt<Mt.max&&dt>=Mt.min&&(xt<Mt.min&&(Mt.min=xt),dt>Mt.max&&(Mt.max=dt),vt=!1)}vt&&tt.push({min:xt,max:dt})}};for(Z=0;Z<_t.length;Z++){var kt=_t[Z];if(kt.enabled)if(kt.bounds){var lt=S,st=Y;kt.pattern&&(lt=Math.floor(lt)),Q=(G=i.simpleMap(kt.bounds,kt.pattern?r:x.r2l))[0],at=G[1];var ht,bt,pt=new Date(lt);switch(kt.pattern){case A:bt=v,ht=(at-Q+(at<Q?7:0))*g,lt+=Q*g-(pt.getUTCDay()*g+pt.getUTCHours()*b+pt.getUTCMinutes()*d+pt.getUTCSeconds()*T+pt.getUTCMilliseconds());break;case P:bt=g,ht=(at-Q+(at<Q?24:0))*b,lt+=Q*b-(pt.getUTCHours()*b+pt.getUTCMinutes()*d+pt.getUTCSeconds()*T+pt.getUTCMilliseconds());break;default:lt=Math.min(G[0],G[1]),ht=bt=(st=Math.max(G[0],G[1]))-lt}for(var Dt=lt;Dt<st;Dt+=bt)Pt(Dt,Dt+ht)}else for(var qt=i.simpleMap(kt.values,x.d2c),ct=0;ct<qt.length;ct++)Pt(Q=qt[ct],at=Q+kt.dvalue)}return tt.sort(function(xt,dt){return xt.min-dt.min}),tt},x.makeCalcdata=function(S,Y,Z){var G,Q,at,tt,_t=x.type,Pt=_t==="date"&&S[Y+"calendar"];if(Y in S){if(G=S[Y],tt=S._length||i.minRowLength(G),i.isTypedArray(G)&&(_t==="linear"||_t==="log")){if(tt===G.length)return G;if(G.subarray)return G.subarray(0,tt)}if(_t==="multicategory")return function(st,ht){for(var bt=new Array(ht),pt=0;pt<ht;pt++){var Dt=(st[0]||[])[pt],qt=(st[1]||[])[pt];bt[pt]=K([Dt,qt])}return bt}(G,tt);for(Q=new Array(tt),at=0;at<tt;at++)Q[at]=x.d2c(G[at],0,Pt,Z)}else{var kt=Y+"0"in S?x.d2c(S[Y+"0"],0,Pt):0,lt=S["d"+Y]?Number(S["d"+Y]):1;for(G=S[{x:"y",y:"x"}[Y]],tt=S._length||G.length,Q=new Array(tt),at=0;at<tt;at++)Q[at]=kt+at*lt}if(x.rangebreaks)for(at=0;at<tt;at++)Q[at]=x.maskBreaks(Q[at]);return Q},x.isValidRange=function(S,Y){return Array.isArray(S)&&S.length===2&&(Y&&S[0]===null||n(x.r2l(S[0])))&&(Y&&S[1]===null||n(x.r2l(S[1])))},x.getAutorangeDflt=function(S,Y){var Z=!x.isValidRange(S,"nullOk");return Z&&Y&&Y.reverseDflt?Z="reversed":S&&(S[0]===null&&S[1]===null?Z=!0:S[0]===null&&S[1]!==null?Z="min":S[0]!==null&&S[1]===null&&(Z="max")),Z},x.isReversed=function(){var S=x.autorange;return S==="reversed"||S==="min reversed"||S==="max reversed"},x.isPtWithinRange=function(S,Y){var Z=x.c2l(S[N],null,Y),G=x.r2l(x.range[0]),Q=x.r2l(x.range[1]);return G<Q?G<=Z&&Z<=Q:Q<=Z&&Z<=G},x._emptyCategories=function(){x._categories=[],x._categoriesMap={}},x.clearCalc=function(){var S=x._matchGroup;if(S){var Y=null,Z=null;for(var G in S){var Q=C[w.id2name(G)];if(Q._categories){Y=Q._categories,Z=Q._categoriesMap;break}}Y&&Z?(x._categories=Y,x._categoriesMap=Z):x._emptyCategories()}else x._emptyCategories();if(x._initialCategories)for(var at=0;at<x._initialCategories.length;at++)it(x._initialCategories[at])},x.sortByInitialCategories=function(){var S=[];if(x._emptyCategories(),x._initialCategories)for(var Y=0;Y<x._initialCategories.length;Y++)it(x._initialCategories[Y]);S=S.concat(x._traceIndices);var Z=x._matchGroup;for(var G in Z)if(F!==G){var Q=C[w.id2name(G)];Q._categories=x._categories,Q._categoriesMap=x._categoriesMap,S=S.concat(Q._traceIndices)}return S};var E=C._d3locale;x.type==="date"&&(x._dateFormat=E?E.timeFormat:y,x._extraFormat=C._extraFormat),x._separators=C.separators,x._numFormat=E?E.numberFormat:a,delete x._minDtick,delete x._forceTick0}},5024:function(J){J.exports=function(h){var t=["showexponent","showtickprefix","showticksuffix"].filter(function(f){return h[f]!==void 0});if(t.every(function(f){return h[f]===h[t[0]]})||t.length===1)return h[t[0]]}},5936:function(J,h,t){var f=t(3400),y=t(6308).contrast,i=t(4724),a=t(5024),n=t(1272);function r(o,s){function e(l,u){return f.coerce(o,s,i.tickformatstops,l,u)}e("enabled")&&(e("dtickrange"),e("value"))}J.exports=function(o,s,e,l,u){u||(u={});var m=e("labelalias");f.isPlainObject(m)||delete s.labelalias;var _=a(o);if(e("showticklabels")){var p=u.font||{},v=s.color,g=(s.ticklabelposition||"").indexOf("inside")!==-1?y(u.bgColor):v&&v!==i.color.dflt?v:p.color;if(f.coerceFont(e,"tickfont",{family:p.family,size:p.size,color:g}),u.noTicklabelstep||l==="multicategory"||l==="log"||e("ticklabelstep"),!u.noAng){var b=e("tickangle");u.noAutotickangles||b!=="auto"||e("autotickangles")}if(l!=="category"){var d=e("tickformat");n(o,s,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:r}),s.tickformatstops.length||delete s.tickformatstops,u.noExp||d||l==="date"||(e("showexponent",_),e("exponentformat"),e("minexponent"),e("separatethousands"))}}}},5404:function(J,h,t){var f=t(3400),y=t(4724);J.exports=function(i,a,n,r){var o=r.isMinor,s=o?i.minor||{}:i,e=o?a.minor:a,l=o?y.minor:y,u=o?"minor.":"",m=f.coerce2(s,e,l,"ticklen",o?.6*(a.ticklen||5):void 0),_=f.coerce2(s,e,l,"tickwidth",o?a.tickwidth||1:void 0),p=f.coerce2(s,e,l,"tickcolor",(o?a.tickcolor:void 0)||e.color);n(u+"ticks",!o&&r.outerTicks||m||_||p?"outside":"")||(delete e.ticklen,delete e.tickwidth,delete e.tickcolor)}},6332:function(J,h,t){var f=t(8728),y=t(3400).isArrayOrTypedArray,i=t(8116).isTypedArraySpec,a=t(8116).decodeTypedArraySpec;J.exports=function(n,r,o,s,e){e||(e={});var l=e.isMinor,u=l?n.minor||{}:n,m=l?r.minor:r,_=l?"minor.":"";function p(w){var k=u[w];return i(k)&&(k=a(k)),k!==void 0?k:(m._template||{})[w]}var v=p("tick0"),g=p("dtick"),b=p("tickvals"),d=o(_+"tickmode",y(b)?"array":g?"linear":"auto");if(d==="auto"||d==="sync")o(_+"nticks");else if(d==="linear"){var T=m.dtick=f.dtick(g,s);m.tick0=f.tick0(v,s,r.calendar,T)}else s!=="multicategory"&&(o(_+"tickvals")===void 0?m.tickmode="auto":l||o("ticktext"))}},3736:function(J,h,t){var f=t(3428),y=t(4040),i=t(3400),a=t(3616),n=t(4460);J.exports=function(r,o,s,e){var l=r._fullLayout;if(o.length!==0){var u,m,_,p;e&&(u=e());var v=f.ease(s.easing);return r._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(p),p=null,function(){for(var d={},T=0;T<o.length;T++){var w=o[T],k=w.plotinfo.xaxis,P=w.plotinfo.yaxis;w.xr0&&(d[k._name+".range"]=w.xr0.slice()),w.yr0&&(d[P._name+".range"]=w.yr0.slice())}return y.call("relayout",r,d).then(function(){for(var A=0;A<o.length;A++)g(o[A].plotinfo)})}()}),m=Date.now(),p=window.requestAnimationFrame(function d(){_=Date.now();for(var T=Math.min(1,(_-m)/s.duration),w=v(T),k=0;k<o.length;k++)b(o[k],w);_-m>s.duration?(function(){for(var P={},A=0;A<o.length;A++){var L=o[A],I=L.plotinfo.xaxis,x=L.plotinfo.yaxis;L.xr1&&(P[I._name+".range"]=L.xr1.slice()),L.yr1&&(P[x._name+".range"]=L.yr1.slice())}u&&u(),y.call("relayout",r,P).then(function(){for(var C=0;C<o.length;C++)g(o[C].plotinfo)})}(),p=window.cancelAnimationFrame(d)):p=window.requestAnimationFrame(d)}),Promise.resolve()}function g(d){var T=d.xaxis,w=d.yaxis;l._defs.select("#"+d.clipId+"> rect").call(a.setTranslate,0,0).call(a.setScale,1,1),d.plot.call(a.setTranslate,T._offset,w._offset).call(a.setScale,1,1);var k=d.plot.selectAll(".scatterlayer .trace");k.selectAll(".point").call(a.setPointGroupScale,1,1),k.selectAll(".textpoint").call(a.setTextPointsScale,1,1),k.call(a.hideOutsideRangePoints,d)}function b(d,T){var w=d.plotinfo,k=w.xaxis,P=w.yaxis,A=k._length,L=P._length,I=!!d.xr1,x=!!d.yr1,C=[];if(I){var F=i.simpleMap(d.xr0,k.r2l),N=i.simpleMap(d.xr1,k.r2l),j=F[1]-F[0],z=N[1]-N[0];C[0]=(F[0]*(1-T)+T*N[0]-F[0])/(F[1]-F[0])*A,C[2]=A*(1-T+T*z/j),k.range[0]=k.l2r(F[0]*(1-T)+T*N[0]),k.range[1]=k.l2r(F[1]*(1-T)+T*N[1])}else C[0]=0,C[2]=A;if(x){var H=i.simpleMap(d.yr0,P.r2l),U=i.simpleMap(d.yr1,P.r2l),it=H[1]-H[0],K=U[1]-U[0];C[1]=(H[1]*(1-T)+T*U[1]-H[1])/(H[0]-H[1])*L,C[3]=L*(1-T+T*K/it),P.range[0]=k.l2r(H[0]*(1-T)+T*U[0]),P.range[1]=P.l2r(H[1]*(1-T)+T*U[1])}else C[1]=0,C[3]=L;n.drawOne(r,k,{skipTitle:!0}),n.drawOne(r,P,{skipTitle:!0}),n.redrawComponents(r,[k._id,P._id]);var D=I?A/C[2]:1,B=x?L/C[3]:1,q=I?C[0]:0,nt=x?C[1]:0,ot=I?C[0]/C[2]*A:0,rt=x?C[1]/C[3]*L:0,$=k._offset-ot,E=P._offset-rt;w.clipRect.call(a.setTranslate,q,nt).call(a.setScale,1/D,1/B),w.plot.call(a.setTranslate,$,E).call(a.setScale,D,B),a.setPointGroupScale(w.zoomScalePts,1/D,1/B),a.setTextPointsScale(w.zoomScaleTxt,1/D,1/B)}n.redrawComponents(r)}},4944:function(J,h,t){var f=t(4040).traceIs,y=t(2976);function i(n){return{v:"x",h:"y"}[n.orientation||"v"]}function a(n,r){var o=i(n),s=f(n,"box-violin"),e=f(n._fullInput||{},"candlestick");return s&&!e&&r===o&&n[o]===void 0&&n[o+"0"]===void 0}J.exports=function(n,r,o,s){o("autotypenumbers",s.autotypenumbersDflt),o("type",(s.splomStash||{}).type)==="-"&&(function(e,l){if(e.type==="-"){var u,m=e._id,_=m.charAt(0);m.indexOf("scene")!==-1&&(m=_);var p=function(P,A,L){for(var I=0;I<P.length;I++){var x=P[I];if(x.type==="splom"&&x._length>0&&(x["_"+L+"axes"]||{})[A]||(x[L+"axis"]||L)===A&&(a(x,L)||(x[L]||[]).length||x[L+"0"]))return x}}(l,m,_);if(p)if(p.type!=="histogram"||_!=={v:"y",h:"x"}[p.orientation||"v"]){var v=_+"calendar",g=p[v],b={noMultiCategory:!f(p,"cartesian")||f(p,"noMultiCategory")};if(p.type==="box"&&p._hasPreCompStats&&_==={h:"x",v:"y"}[p.orientation||"v"]&&(b.noMultiCategory=!0),b.autotypenumbers=e.autotypenumbers,a(p,_)){var d=i(p),T=[];for(u=0;u<l.length;u++){var w=l[u];f(w,"box-violin")&&(w[_+"axis"]||_)===m&&(w[d]!==void 0?T.push(w[d][0]):w.name!==void 0?T.push(w.name):T.push("text"),w[v]!==g&&(g=void 0))}e.type=y(T,g,b)}else if(p.type==="splom"){var k=p.dimensions[p._axesDim[m]];k.visible&&(e.type=y(k.values,g,b))}else e.type=y(p[_]||[p[_+"0"]],g,b)}else e.type="linear"}}(r,s.data),r.type==="-"?r.type="linear":n.type=r.type)}},2460:function(J,h,t){var f=t(4040),y=t(3400);function i(o,s,e){var l,u,m,_=!1;if(s.type==="data")l=o._fullData[s.traces!==null?s.traces[0]:0];else{if(s.type!=="layout")return!1;l=o._fullLayout}return u=y.nestedProperty(l,s.prop).get(),(m=e[s.type]=e[s.type]||{}).hasOwnProperty(s.prop)&&m[s.prop]!==u&&(_=!0),m[s.prop]=u,{changed:_,value:u}}function a(o,s){var e=[],l=s[0],u={};if(typeof l=="string")u[l]=s[1];else{if(!y.isPlainObject(l))return e;u=l}return r(u,function(m,_,p){e.push({type:"layout",prop:m,value:p})},"",0),e}function n(o,s){var e,l,u,m,_=[];if(l=s[0],u=s[1],e=s[2],m={},typeof l=="string")m[l]=u;else{if(!y.isPlainObject(l))return _;m=l,e===void 0&&(e=u)}return e===void 0&&(e=null),r(m,function(p,v,g){var b,d;if(Array.isArray(g)){d=g.slice();var T=Math.min(d.length,o.data.length);e&&(T=Math.min(T,e.length)),b=[];for(var w=0;w<T;w++)b[w]=e?e[w]:w}else d=g,b=e?e.slice():null;if(b===null)Array.isArray(d)&&(d=d[0]);else if(Array.isArray(b)){if(!Array.isArray(d)){var k=d;d=[];for(var P=0;P<b.length;P++)d[P]=k}d.length=Math.min(b.length,d.length)}_.push({type:"data",prop:p,traces:b,value:d})},"",0),_}function r(o,s,e,l){Object.keys(o).forEach(function(u){var m=o[u];if(u[0]!=="_"){var _=e+(l>0?".":"")+u;y.isPlainObject(m)?r(m,s,_,l+1):s(_,u,m)}})}h.manageCommandObserver=function(o,s,e,l){var u={},m=!0;s&&s._commandObserver&&(u=s._commandObserver),u.cache||(u.cache={}),u.lookupTable={};var _=h.hasSimpleAPICommandBindings(o,e,u.lookupTable);if(s&&s._commandObserver){if(_)return u;if(s._commandObserver.remove)return s._commandObserver.remove(),s._commandObserver=null,u}if(_){i(o,_,u.cache),u.check=function(){if(m){var g=i(o,_,u.cache);return g.changed&&l&&u.lookupTable[g.value]!==void 0&&(u.disable(),Promise.resolve(l({value:g.value,type:_.type,prop:_.prop,traces:_.traces,index:u.lookupTable[g.value]})).then(u.enable,u.enable)),g.changed}};for(var p=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],v=0;v<p.length;v++)o._internalOn(p[v],u.check);u.remove=function(){for(var g=0;g<p.length;g++)o._removeInternalListener(p[g],u.check)}}else y.log("Unable to automatically bind plot updates to API command"),u.lookupTable={},u.remove=function(){};return u.disable=function(){m=!1},u.enable=function(){m=!0},s&&(s._commandObserver=u),u},h.hasSimpleAPICommandBindings=function(o,s,e){var l,u,m=s.length;for(l=0;l<m;l++){var _,p=s[l],v=p.method,g=p.args;if(Array.isArray(g)||(g=[]),!v)return!1;var b=h.computeAPICommandBindings(o,v,g);if(b.length!==1)return!1;if(u){if((_=b[0]).type!==u.type||_.prop!==u.prop)return!1;if(Array.isArray(u.traces)){if(!Array.isArray(_.traces))return!1;_.traces.sort();for(var d=0;d<u.traces.length;d++)if(u.traces[d]!==_.traces[d])return!1}else if(_.prop!==u.prop)return!1}else u=b[0],Array.isArray(u.traces)&&u.traces.sort();var T=(_=b[0]).value;if(Array.isArray(T)){if(T.length!==1)return!1;T=T[0]}e&&(e[T]=l)}return u},h.executeAPICommand=function(o,s,e){if(s==="skip")return Promise.resolve();var l=f.apiMethodRegistry[s],u=[o];Array.isArray(e)||(e=[]);for(var m=0;m<e.length;m++)u.push(e[m]);return l.apply(null,u).catch(function(_){return y.warn("API call to Plotly."+s+" rejected.",_),Promise.reject(_)})},h.computeAPICommandBindings=function(o,s,e){var l;switch(Array.isArray(e)||(e=[]),s){case"restyle":l=n(o,e);break;case"relayout":l=a(0,e);break;case"update":l=n(o,[e[0],e[2]]).concat(a(0,[e[1]]));break;case"animate":l=function(u,m){return Array.isArray(m[0])&&m[0].length===1&&["string","number"].indexOf(typeof m[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:m[0][0].toString()}]:[]}(0,e);break;default:l=[]}return l}},6968:function(J,h,t){var f=t(2880).extendFlat;h.u=function(y,i){i=i||{};var a={valType:"info_array",editType:(y=y||{}).editType,items:[{valType:"number",min:0,max:1,editType:y.editType},{valType:"number",min:0,max:1,editType:y.editType}],dflt:[0,1]},n=(y.name&&y.name,y.trace,i.description&&i.description,{x:f({},a,{}),y:f({},a,{}),editType:y.editType});return y.noGridCell||(n.row={valType:"integer",min:0,dflt:0,editType:y.editType},n.column={valType:"integer",min:0,dflt:0,editType:y.editType}),n},h.Q=function(y,i,a,n){var r=n&&n.x||[0,1],o=n&&n.y||[0,1],s=i.grid;if(s){var e=a("domain.column");e!==void 0&&(e<s.columns?r=s._domains.x[e]:delete y.domain.column);var l=a("domain.row");l!==void 0&&(l<s.rows?o=s._domains.y[l]:delete y.domain.row)}var u=a("domain.x",r),m=a("domain.y",o);u[0]<u[1]||(y.domain.x=r.slice()),m[0]<m[1]||(y.domain.y=o.slice())}},5376:function(J){J.exports=function(h){var t=h.editType,f=h.colorEditType;f===void 0&&(f=t);var y={family:{valType:"string",noBlank:!0,strict:!0,editType:t},size:{valType:"number",min:1,editType:t},color:{valType:"color",editType:f},editType:t};return h.autoSize&&(y.size.dflt="auto"),h.autoColor&&(y.color.dflt="auto"),h.arrayOk&&(y.family.arrayOk=!0,y.size.arrayOk=!0,y.color.arrayOk=!0),y}},6672:function(J){J.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},4888:function(J,h,t){var f=t(4040);t(3816).SUBPLOT_PATTERN,h._M=function(y,i,a){var n,r=[],o=[];if(!(n=typeof i=="string"?f.getModule(i).plot:typeof i=="function"?i:i.plot))return[r,y];for(var s=a,e=0;e<y.length;e++){var l=y[e],u=l[0].trace,m=u.zorder!==void 0;u.visible===!0&&u._length!==0&&(!u._module||u._module.plot!==n||m&&u.zorder!==s?o.push(l):r.push(l))}return[r,o]}},4424:function(J){function h(t,f){var y,i,a=[0,0,0,0];for(y=0;y<4;++y)for(i=0;i<4;++i)a[i]+=t[4*y+i]*f[y];return a}J.exports=function(t,f){return h(t.projection,h(t.view,h(t.model,[f[0],f[1],f[2],1])))}},4859:function(J,h,t){var f=t(5376),y=t(5656),i=t(2548),a=t(2872),n=t(4200),r=t(6741),o=t(2880).extendFlat,s=f({editType:"calc"});s.family.dflt='"Open Sans", verdana, arial, sans-serif',s.size.dflt=12,s.color.dflt=i.defaultLine,J.exports={font:s,title:{text:{valType:"string",editType:"layoutstyle"},font:f({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:o(r({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:i.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:i.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:i.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:a.newshape,activeshape:a.activeshape,newselection:n.newselection,activeselection:n.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:o({},y.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:f({editType:"layoutstyle"})}}},6741:function(J){J.exports=function(h){var t=h.editType;return{t:{valType:"number",dflt:0,editType:t},r:{valType:"number",dflt:0,editType:t},b:{valType:"number",dflt:0,editType:t},l:{valType:"number",dflt:0,editType:t},editType:t}}},7316:function(J,h,t){var f=t(3428),y=t(4336).m_,i=t(7624).SO,a=t(8248),n=t(3160),r=t(4040),o=t(3060),s=t(1780),e=t(3400),l=t(6308),u=t(9032).BADNUM,m=t(9811),_=t(1936).clearOutline,p=t(5308),v=t(5656),g=t(6672),b=t(4888)._M,d=e.relinkPrivateKeys,T=e._,w=J.exports={};e.extendFlat(w,r),w.attributes=t(5464),w.attributes.type.values=w.allTypes,w.fontAttrs=t(5376),w.layoutAttributes=t(4859),w.fontWeight="normal";var k=w.transformsRegistry,P=t(2460);w.executeAPICommand=P.executeAPICommand,w.computeAPICommandBindings=P.computeAPICommandBindings,w.manageCommandObserver=P.manageCommandObserver,w.hasSimpleAPICommandBindings=P.hasSimpleAPICommandBindings,w.redrawText=function(D){return D=e.getGraphDiv(D),new Promise(function(B){setTimeout(function(){D._fullLayout&&(r.getComponentMethod("annotations","draw")(D),r.getComponentMethod("legend","draw")(D),r.getComponentMethod("colorbar","draw")(D),B(w.previousPromises(D)))},300)})},w.resize=function(D){var B;D=e.getGraphDiv(D);var q=new Promise(function(nt,ot){D&&!e.isHidden(D)||ot(new Error("Resize must be passed a displayed plot div element.")),D._redrawTimer&&clearTimeout(D._redrawTimer),D._resolveResize&&(B=D._resolveResize),D._resolveResize=nt,D._redrawTimer=setTimeout(function(){if(!D.layout||D.layout.width&&D.layout.height||e.isHidden(D))nt(D);else{delete D.layout.width,delete D.layout.height;var rt=D.changed;D.autoplay=!0,r.call("relayout",D,{autosize:!0}).then(function(){D.changed=rt,D._resolveResize===nt&&(delete D._resolveResize,nt(D))})}},100)});return B&&B(q),q},w.previousPromises=function(D){if((D._promises||[]).length)return Promise.all(D._promises).then(function(){D._promises=[]})},w.addLinks=function(D){if(D._context.showLink||D._context.showSources){var B=D._fullLayout,q=e.ensureSingle(B._paper,"text","js-plot-link-container",function(S){S.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:l.defaultLine,"pointer-events":"all"}).each(function(){var Y=f.select(this);Y.append("tspan").classed("js-link-to-tool",!0),Y.append("tspan").classed("js-link-spacer",!0),Y.append("tspan").classed("js-sourcelinks",!0)})}),nt=q.node(),ot={y:B._paper.attr("height")-9};document.body.contains(nt)&&nt.getComputedTextLength()>=B.width-20?(ot["text-anchor"]="start",ot.x=5):(ot["text-anchor"]="end",ot.x=B._paper.attr("width")-7),q.attr(ot);var rt=q.select(".js-link-to-tool"),$=q.select(".js-link-spacer"),E=q.select(".js-sourcelinks");D._context.showSources&&D._context.showSources(D),D._context.showLink&&function(S,Y){Y.text("");var Z=Y.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(S._context.linkText+" "+String.fromCharCode(187));if(S._context.sendData)Z.on("click",function(){w.sendDataToCloud(S)});else{var G=window.location.pathname.split("/"),Q=window.location.search;Z.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+G[2].split(".")[0]+"/"+G[1]+Q})}}(D,rt),$.text(rt.text()&&E.text()?" - ":"")}},w.sendDataToCloud=function(D){var B=(window.PLOTLYENV||{}).BASE_URL||D._context.plotlyServerURL;if(B){D.emit("plotly_beforeexport");var q=f.select(D).append("div").attr("id","hiddenform").style("display","none"),nt=q.append("form").attr({action:B+"/external",method:"post",target:"_blank"});return nt.append("input").attr({type:"text",name:"data"}).node().value=w.graphJson(D,!1,"keepdata"),nt.node().submit(),q.remove(),D.emit("plotly_afterexport"),!1}};var A=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],L=["year","month","dayMonth","dayMonthYear"];function I(D,B){var q=D._context.locale;q||(q="en-US");var nt=!1,ot={};function rt(G){for(var Q=!0,at=0;at<B.length;at++){var tt=B[at];ot[tt]||(G[tt]?ot[tt]=G[tt]:Q=!1)}Q&&(nt=!0)}for(var $=0;$<2;$++){for(var E=D._context.locales,S=0;S<2;S++){var Y=(E[q]||{}).format;if(Y&&(rt(Y),nt))break;E=r.localeRegistry}var Z=q.split("-")[0];if(nt||Z===q)break;q=Z}return nt||rt(r.localeRegistry.en.format),ot}function x(D,B){var q={_fullLayout:B},nt=D._id.charAt(0)==="x",ot=D._mainAxis._anchorAxis,rt="",$="",E="";if(ot&&(E=ot._mainAxis._id,rt=nt?D._id+E:E+D._id),!rt||!B._plots[rt]){rt="";for(var S=D._counterAxes,Y=0;Y<S.length;Y++){var Z=S[Y],G=nt?D._id+Z:Z+D._id;$||($=G);var Q=m.getFromId(q,Z);if(E&&Q.overlaying===E){rt=G;break}}}return rt||$}function C(D){var B=D.transforms;if(Array.isArray(B)&&B.length)for(var q=0;q<B.length;q++){var nt=B[q],ot=nt._module||k[nt.type];if(ot&&ot.makesData)return!0}return!1}function F(D,B,q,nt){for(var ot=D.transforms,rt=[D],$=0;$<ot.length;$++){var E=ot[$],S=k[E.type];S&&S.transform&&(rt=S.transform(rt,{transform:E,fullTrace:D,fullData:B,layout:q,fullLayout:nt,transformIndex:$}))}return rt}function N(D){return typeof D=="string"&&D.substr(D.length-2)==="px"&&parseFloat(D)}function j(D){var B=D.margin;if(!D._size){var q=D._size={l:Math.round(B.l),r:Math.round(B.r),t:Math.round(B.t),b:Math.round(B.b),p:Math.round(B.pad)};q.w=Math.round(D.width)-q.l-q.r,q.h=Math.round(D.height)-q.t-q.b}D._pushmargin||(D._pushmargin={}),D._pushmarginIds||(D._pushmarginIds={}),D._reservedMargin||(D._reservedMargin={})}w.supplyDefaults=function(D,B){var q=B&&B.skipUpdateCalc,nt=D._fullLayout||{};if(nt._skipDefaults)delete nt._skipDefaults;else{var ot,rt=D._fullLayout={},$=D.layout||{},E=D._fullData||[],S=D._fullData=[],Y=D.data||[],Z=D.calcdata||[],G=D._context||{};D._transitionData||w.createTransitionData(D),rt._dfltTitle={plot:T(D,"Click to enter Plot title"),x:T(D,"Click to enter X axis title"),y:T(D,"Click to enter Y axis title"),colorbar:T(D,"Click to enter Colorscale title"),annotation:T(D,"new text")},rt._traceWord=T(D,"trace");var Q=I(D,A);if(rt._mapboxAccessToken=G.mapboxAccessToken,nt._initialAutoSizeIsDone){var at=nt.width,tt=nt.height;w.supplyLayoutGlobalDefaults($,rt,Q),$.width||(rt.width=at),$.height||(rt.height=tt),w.sanitizeMargins(rt)}else{w.supplyLayoutGlobalDefaults($,rt,Q);var _t=!$.width||!$.height,Pt=rt.autosize,kt=G.autosizable;_t&&(Pt||kt)?w.plotAutoSize(D,$,rt):_t&&w.sanitizeMargins(rt),!Pt&&_t&&($.width=rt.width,$.height=rt.height)}rt._d3locale=function(At,Nt){return At.decimal=Nt.charAt(0),At.thousands=Nt.charAt(1),{numberFormat:function(zt){try{zt=i(At).format(e.adjustFormat(zt))}catch{return e.warnBadFormat(zt),e.noFormat}return zt},timeFormat:y(At).utcFormat}}(Q,rt.separators),rt._extraFormat=I(D,L),rt._initialAutoSizeIsDone=!0,rt._dataLength=Y.length,rt._modules=[],rt._visibleModules=[],rt._basePlotModules=[];var lt=rt._subplots=function(){var At,Nt,zt=r.collectableSubplotTypes,Ft={};if(!zt){zt=[];var Gt=r.subplotsRegistry;for(var Bt in Gt){var de=Gt[Bt].attr;if(de&&(zt.push(Bt),Array.isArray(de)))for(Nt=0;Nt<de.length;Nt++)e.pushUnique(zt,de[Nt])}}for(At=0;At<zt.length;At++)Ft[zt[At]]=[];return Ft}(),st=rt._splomAxes={x:{},y:{}},ht=rt._splomSubplots={};rt._splomGridDflt={},rt._scatterStackOpts={},rt._firstScatter={},rt._alignmentOpts={},rt._colorAxes={},rt._requestRangeslider={},rt._traceUids=function(At,Nt){var zt,Ft,Gt=Nt.length,Bt=[];for(zt=0;zt<At.length;zt++){var de=At[zt]._fullInput;de!==Ft&&Bt.push(de),Ft=de}var ie=Bt.length,pe=new Array(Gt),Ot={};function gt(xe,Vt){pe[Vt]=xe,Ot[xe]=1}function jt(xe,Vt){if(xe&&typeof xe=="string"&&!Ot[xe])return gt(xe,Vt),!0}for(zt=0;zt<Gt;zt++){var Xt=Nt[zt].uid;typeof Xt=="number"&&(Xt=String(Xt)),jt(Xt,zt)||zt<ie&&jt(Bt[zt].uid,zt)||gt(e.randstr(Ot),zt)}return pe}(E,Y),rt._globalTransforms=(D._context||{}).globalTransforms,w.supplyDataDefaults(Y,S,$,rt);var bt=Object.keys(st.x),pt=Object.keys(st.y);if(bt.length>1&&pt.length>1){for(r.getComponentMethod("grid","sizeDefaults")($,rt),ot=0;ot<bt.length;ot++)e.pushUnique(lt.xaxis,bt[ot]);for(ot=0;ot<pt.length;ot++)e.pushUnique(lt.yaxis,pt[ot]);for(var Dt in ht)e.pushUnique(lt.cartesian,Dt)}if(rt._has=w._hasPlotType.bind(rt),E.length===S.length)for(ot=0;ot<S.length;ot++)d(S[ot],E[ot]);w.supplyLayoutModuleDefaults($,rt,S,D._transitionData);var qt=rt._visibleModules,ct=[];for(ot=0;ot<qt.length;ot++){var xt=qt[ot].crossTraceDefaults;xt&&e.pushUnique(ct,xt)}for(ot=0;ot<ct.length;ot++)ct[ot](S,rt);rt._hasOnlyLargeSploms=rt._basePlotModules.length===1&&rt._basePlotModules[0].name==="splom"&&bt.length>15&&pt.length>15&&rt.shapes.length===0&&rt.images.length===0,w.linkSubplots(S,rt,E,nt),w.cleanPlot(S,rt,E,nt);var dt=!(!nt._has||!nt._has("gl2d")),vt=!(!rt._has||!rt._has("gl2d")),yt=!(!nt._has||!nt._has("cartesian"))||dt,Mt=!(!rt._has||!rt._has("cartesian"))||vt;yt&&!Mt?nt._bgLayer.remove():Mt&&!yt&&(rt._shouldCreateBgLayer=!0),nt._zoomlayer&&!D._dragging&&_({_fullLayout:nt}),function(At,Nt){var zt,Ft=[];Nt.meta&&(zt=Nt._meta={meta:Nt.meta,layout:{meta:Nt.meta}});for(var Gt=0;Gt<At.length;Gt++){var Bt=At[Gt];Bt.meta?Ft[Bt.index]=Bt._meta={meta:Bt.meta}:Nt.meta&&(Bt._meta={meta:Nt.meta}),Nt.meta&&(Bt._meta.layout={meta:Nt.meta})}Ft.length&&(zt||(zt=Nt._meta={}),zt.data=Ft)}(S,rt),d(rt,nt),r.getComponentMethod("colorscale","crossTraceDefaults")(S,rt),rt._preGUI||(rt._preGUI={}),rt._tracePreGUI||(rt._tracePreGUI={});var Tt,Lt=rt._tracePreGUI,St={};for(Tt in Lt)St[Tt]="old";for(ot=0;ot<S.length;ot++)St[Tt=S[ot]._fullInput.uid]||(Lt[Tt]={}),St[Tt]="new";for(Tt in St)St[Tt]==="old"&&delete Lt[Tt];j(rt),r.getComponentMethod("rangeslider","makeData")(rt),q||Z.length!==S.length||w.supplyDefaultsUpdateCalc(Z,S)}},w.supplyDefaultsUpdateCalc=function(D,B){for(var q=0;q<B.length;q++){var nt=B[q],ot=(D[q]||[])[0];if(ot&&ot.trace){var rt=ot.trace;if(rt._hasCalcTransform){var $,E,S,Y=rt._arrayAttrs;for($=0;$<Y.length;$++)E=Y[$],S=e.nestedProperty(rt,E).get().slice(),e.nestedProperty(nt,E).set(S)}ot.trace=nt}}},w.createTransitionData=function(D){D._transitionData||(D._transitionData={}),D._transitionData._frames||(D._transitionData._frames=[]),D._transitionData._frameHash||(D._transitionData._frameHash={}),D._transitionData._counter||(D._transitionData._counter=0),D._transitionData._interruptCallbacks||(D._transitionData._interruptCallbacks=[])},w._hasPlotType=function(D){var B,q=this._basePlotModules||[];for(B=0;B<q.length;B++)if(q[B].name===D)return!0;var nt=this._modules||[];for(B=0;B<nt.length;B++){var ot=nt[B].name;if(ot===D)return!0;var rt=r.modules[ot];if(rt&&rt.categories[D])return!0}return!1},w.cleanPlot=function(D,B,q,nt){var ot,rt,$=nt._basePlotModules||[];for(ot=0;ot<$.length;ot++){var E=$[ot];E.clean&&E.clean(D,B,q,nt)}var S=nt._has&&nt._has("gl"),Y=B._has&&B._has("gl");S&&!Y&&nt._glcontainer!==void 0&&(nt._glcontainer.selectAll(".gl-canvas").remove(),nt._glcontainer.selectAll(".no-webgl").remove(),nt._glcanvas=null);var Z=!!nt._infolayer;t:for(ot=0;ot<q.length;ot++){var G=q[ot].uid;for(rt=0;rt<D.length;rt++)if(G===D[rt].uid)continue t;Z&&nt._infolayer.select(".cb"+G).remove()}},w.linkSubplots=function(D,B,q,nt){var ot,rt,$=nt._plots||{},E=B._plots={},S=B._subplots,Y={_fullData:D,_fullLayout:B},Z=S.cartesian.concat(S.gl2d||[]);for(ot=0;ot<Z.length;ot++){var G,Q=Z[ot],at=$[Q],tt=m.getFromId(Y,Q,"x"),_t=m.getFromId(Y,Q,"y");for(at?G=E[Q]=at:(G=E[Q]={}).id=Q,tt._counterAxes.push(_t._id),_t._counterAxes.push(tt._id),tt._subplotsWith.push(Q),_t._subplotsWith.push(Q),G.xaxis=tt,G.yaxis=_t,G._hasClipOnAxisFalse=!1,rt=0;rt<D.length;rt++){var Pt=D[rt];if(Pt.xaxis===G.xaxis._id&&Pt.yaxis===G.yaxis._id&&Pt.cliponaxis===!1){G._hasClipOnAxisFalse=!0;break}}}var kt,lt=m.list(Y,null,!0);for(ot=0;ot<lt.length;ot++){var st=null;(kt=lt[ot]).overlaying&&(st=m.getFromId(Y,kt.overlaying))&&st.overlaying&&(kt.overlaying=!1,st=null),kt._mainAxis=st||kt,st&&(kt.domain=st.domain.slice()),kt._anchorAxis=kt.anchor==="free"?null:m.getFromId(Y,kt.anchor)}for(ot=0;ot<lt.length;ot++)if((kt=lt[ot])._counterAxes.sort(m.idSort),kt._subplotsWith.sort(e.subplotSort),kt._mainSubplot=x(kt,B),kt._counterAxes.length&&(kt.spikemode&&kt.spikemode.indexOf("across")!==-1||kt.automargin&&kt.mirror&&kt.anchor!=="free"||r.getComponentMethod("rangeslider","isVisible")(kt))){var ht=1,bt=0;for(rt=0;rt<kt._counterAxes.length;rt++){var pt=m.getFromId(Y,kt._counterAxes[rt]);ht=Math.min(ht,pt.domain[0]),bt=Math.max(bt,pt.domain[1])}ht<bt&&(kt._counterDomainMin=ht,kt._counterDomainMax=bt)}},w.clearExpandedTraceDefaultColors=function(D){var B,q,nt;for(q=[],(B=D._module._colorAttrs)||(D._module._colorAttrs=B=[],o.crawl(D._module.attributes,function(ot,rt,$,E){q[E]=rt,q.length=E+1,ot.valType==="color"&&ot.dflt===void 0&&B.push(q.join("."))})),nt=0;nt<B.length;nt++)e.nestedProperty(D,"_input."+B[nt]).get()||e.nestedProperty(D,B[nt]).set(null)},w.supplyDataDefaults=function(D,B,q,nt){var ot,rt,$,E=nt._modules,S=nt._visibleModules,Y=nt._basePlotModules,Z=0,G=0;function Q(Dt){B.push(Dt);var qt=Dt._module;qt&&(e.pushUnique(E,qt),Dt.visible===!0&&e.pushUnique(S,qt),e.pushUnique(Y,Dt._module.basePlotModule),Z++,Dt._input.visible!==!1&&G++)}nt._transformModules=[];var at={},tt=[],_t=(q.template||{}).data||{},Pt=s.traceTemplater(_t);for(ot=0;ot<D.length;ot++){if($=D[ot],(rt=Pt.newTrace($)).uid=nt._traceUids[ot],w.supplyTraceDefaults($,rt,G,nt,ot),rt.index=ot,rt._input=$,rt._expandedIndex=Z,rt.transforms&&rt.transforms.length)for(var kt=$.visible!==!1&&rt.visible===!1,lt=F(rt,B,q,nt),st=0;st<lt.length;st++){var ht=lt[st],bt={_template:rt._template,type:rt.type,uid:rt.uid+st};kt&&ht.visible===!1&&delete ht.visible,w.supplyTraceDefaults(ht,bt,Z,nt,ot),d(bt,ht),bt.index=ot,bt._input=$,bt._fullInput=rt,bt._expandedIndex=Z,bt._expandedInput=ht,Q(bt)}else rt._fullInput=rt,rt._expandedInput=rt,Q(rt);r.traceIs(rt,"carpetAxis")&&(at[rt.carpet]=rt),r.traceIs(rt,"carpetDependent")&&tt.push(ot)}for(ot=0;ot<tt.length;ot++)if((rt=B[tt[ot]]).visible){var pt=at[rt.carpet];rt._carpet=pt,pt&&pt.visible?(rt.xaxis=pt.xaxis,rt.yaxis=pt.yaxis):rt.visible=!1}},w.supplyAnimationDefaults=function(D){var B;D=D||{};var q={};function nt(ot,rt){return e.coerce(D||{},q,v,ot,rt)}if(nt("mode"),nt("direction"),nt("fromcurrent"),Array.isArray(D.frame))for(q.frame=[],B=0;B<D.frame.length;B++)q.frame[B]=w.supplyAnimationFrameDefaults(D.frame[B]||{});else q.frame=w.supplyAnimationFrameDefaults(D.frame||{});if(Array.isArray(D.transition))for(q.transition=[],B=0;B<D.transition.length;B++)q.transition[B]=w.supplyAnimationTransitionDefaults(D.transition[B]||{});else q.transition=w.supplyAnimationTransitionDefaults(D.transition||{});return q},w.supplyAnimationFrameDefaults=function(D){var B={};function q(nt,ot){return e.coerce(D||{},B,v.frame,nt,ot)}return q("duration"),q("redraw"),B},w.supplyAnimationTransitionDefaults=function(D){var B={};function q(nt,ot){return e.coerce(D||{},B,v.transition,nt,ot)}return q("duration"),q("easing"),B},w.supplyFrameDefaults=function(D){var B={};function q(nt,ot){return e.coerce(D,B,g,nt,ot)}return q("group"),q("name"),q("traces"),q("baseframe"),q("data"),q("layout"),B},w.supplyTraceDefaults=function(D,B,q,nt,ot){var rt,$=nt.colorway||l.defaults,E=$[q%$.length];function S(st,ht){return e.coerce(D,B,w.attributes,st,ht)}var Y=S("visible");S("type"),S("name",nt._traceWord+" "+ot),S("uirevision",nt.uirevision);var Z=w.getModule(B);if(B._module=Z,Z){var G=Z.basePlotModule,Q=G.attr,at=G.attributes;if(Q&&at){var tt=nt._subplots,_t="";if(Y||G.name!=="gl2d"){if(Array.isArray(Q))for(rt=0;rt<Q.length;rt++){var Pt=Q[rt],kt=e.coerce(D,B,at,Pt);tt[Pt]&&e.pushUnique(tt[Pt],kt),_t+=kt}else _t=e.coerce(D,B,at,Q);tt[G.name]&&e.pushUnique(tt[G.name],_t)}}}if(Y){if(S("customdata"),S("ids"),S("meta"),r.traceIs(B,"showLegend")?(e.coerce(D,B,Z.attributes.showlegend?Z.attributes:w.attributes,"showlegend"),S("legend"),S("legendwidth"),S("legendgroup"),S("legendgrouptitle.text"),S("legendrank"),B._dfltShowLegend=!0):B._dfltShowLegend=!1,Z&&Z.supplyDefaults(D,B,E,nt),r.traceIs(B,"noOpacity")||S("opacity"),r.traceIs(B,"notLegendIsolatable")&&(B.visible=!!B.visible),r.traceIs(B,"noHover")||(B.hovertemplate||e.coerceHoverinfo(D,B,nt),B.type!=="parcats"&&r.getComponentMethod("fx","supplyDefaults")(D,B,E,nt)),Z&&Z.selectPoints){var lt=S("selectedpoints");e.isTypedArray(lt)&&(B.selectedpoints=Array.from(lt))}w.supplyTransformDefaults(D,B,nt)}return B},w.hasMakesDataTransform=C,w.supplyTransformDefaults=function(D,B,q){if(B._length||C(D)){var nt=q._globalTransforms||[],ot=q._transformModules||[];if(Array.isArray(D.transforms)||nt.length!==0)for(var rt=D.transforms||[],$=nt.concat(rt),E=B.transforms=[],S=0;S<$.length;S++){var Y,Z=$[S],G=Z.type,Q=k[G],at=!(Z._module&&Z._module===Q),tt=Q&&typeof Q.transform=="function";Q||e.warn("Unrecognized transform type "+G+"."),Q&&Q.supplyDefaults&&(at||tt)?((Y=Q.supplyDefaults(Z,B,q,D)).type=G,Y._module=Q,e.pushUnique(ot,Q)):Y=e.extendFlat({},Z),E.push(Y)}}},w.supplyLayoutGlobalDefaults=function(D,B,q){function nt(Z,G){return e.coerce(D,B,w.layoutAttributes,Z,G)}var ot=D.template;e.isPlainObject(ot)&&(B.template=ot,B._template=ot.layout,B._dataTemplate=ot.data),nt("autotypenumbers");var rt=e.coerceFont(nt,"font"),$=rt.size;e.coerceFont(nt,"title.font",e.extendFlat({},rt,{size:Math.round(1.4*$)})),nt("title.text",B._dfltTitle.plot),nt("title.xref");var E=nt("title.yref");nt("title.pad.t"),nt("title.pad.r"),nt("title.pad.b"),nt("title.pad.l");var S=nt("title.automargin");nt("title.x"),nt("title.xanchor"),nt("title.y"),nt("title.yanchor"),S&&(E==="paper"&&(B.title.y!==0&&(B.title.y=1),B.title.yanchor==="auto"&&(B.title.yanchor=B.title.y===0?"top":"bottom")),E==="container"&&(B.title.y==="auto"&&(B.title.y=1),B.title.yanchor==="auto"&&(B.title.yanchor=B.title.y<.5?"bottom":"top"))),nt("uniformtext.mode")&&nt("uniformtext.minsize"),nt("autosize",!(D.width&&D.height)),nt("width"),nt("height"),nt("minreducedwidth"),nt("minreducedheight"),nt("margin.l"),nt("margin.r"),nt("margin.t"),nt("margin.b"),nt("margin.pad"),nt("margin.autoexpand"),D.width&&D.height&&w.sanitizeMargins(B),r.getComponentMethod("grid","sizeDefaults")(D,B),nt("paper_bgcolor"),nt("separators",q.decimal+q.thousands),nt("hidesources"),nt("colorway"),nt("datarevision");var Y=nt("uirevision");nt("editrevision",Y),nt("selectionrevision",Y),r.getComponentMethod("modebar","supplyLayoutDefaults")(D,B),r.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(D,B,nt),r.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(D,B,nt),nt("meta"),e.isPlainObject(D.transition)&&(nt("transition.duration"),nt("transition.easing"),nt("transition.ordering")),r.getComponentMethod("calendars","handleDefaults")(D,B,"calendar"),r.getComponentMethod("fx","supplyLayoutGlobalDefaults")(D,B,nt),e.coerce(D,B,p,"scattermode")},w.plotAutoSize=function(D,B,q){var nt,ot,rt=D._context||{},$=rt.frameMargins,E=e.isPlotDiv(D);if(E&&D.emit("plotly_autosize"),rt.fillFrame)nt=window.innerWidth,ot=window.innerHeight,document.body.style.overflow="hidden";else{var S=E?window.getComputedStyle(D):{};if(nt=N(S.width)||N(S.maxWidth)||q.width,ot=N(S.height)||N(S.maxHeight)||q.height,a($)&&$>0){var Y=1-2*$;nt=Math.round(Y*nt),ot=Math.round(Y*ot)}}var Z=w.layoutAttributes.width.min,G=w.layoutAttributes.height.min;nt<Z&&(nt=Z),ot<G&&(ot=G);var Q=!B.width&&Math.abs(q.width-nt)>1,at=!B.height&&Math.abs(q.height-ot)>1;(at||Q)&&(Q&&(q.width=nt),at&&(q.height=ot)),D._initialAutoSize||(D._initialAutoSize={width:nt,height:ot}),w.sanitizeMargins(q)},w.supplyLayoutModuleDefaults=function(D,B,q,nt){var ot,rt,$,E=r.componentsRegistry,S=B._basePlotModules,Y=r.subplotsRegistry.cartesian;for(ot in E)($=E[ot]).includeBasePlot&&$.includeBasePlot(D,B);for(var Z in S.length||S.push(Y),B._has("cartesian")&&(r.getComponentMethod("grid","contentDefaults")(D,B),Y.finalizeSubplots(D,B)),B._subplots)B._subplots[Z].sort(e.subplotSort);for(rt=0;rt<S.length;rt++)($=S[rt]).supplyLayoutDefaults&&$.supplyLayoutDefaults(D,B,q);var G=B._modules;for(rt=0;rt<G.length;rt++)($=G[rt]).supplyLayoutDefaults&&$.supplyLayoutDefaults(D,B,q);var Q=B._transformModules;for(rt=0;rt<Q.length;rt++)($=Q[rt]).supplyLayoutDefaults&&$.supplyLayoutDefaults(D,B,q,nt);for(ot in E)($=E[ot]).supplyLayoutDefaults&&$.supplyLayoutDefaults(D,B,q)},w.purge=function(D){var B=D._fullLayout||{};B._glcontainer!==void 0&&(B._glcontainer.selectAll(".gl-canvas").remove(),B._glcontainer.remove(),B._glcanvas=null),B._modeBar&&B._modeBar.destroy(),D._transitionData&&(D._transitionData._interruptCallbacks&&(D._transitionData._interruptCallbacks.length=0),D._transitionData._animationRaf&&window.cancelAnimationFrame(D._transitionData._animationRaf)),e.clearThrottle(),e.clearResponsive(D),delete D.data,delete D.layout,delete D._fullData,delete D._fullLayout,delete D.calcdata,delete D.empty,delete D.fid,delete D.undoqueue,delete D.undonum,delete D.autoplay,delete D.changed,delete D._promises,delete D._redrawTimer,delete D._hmlumcount,delete D._hmpixcount,delete D._transitionData,delete D._transitioning,delete D._initialAutoSize,delete D._transitioningWithDuration,delete D._dragging,delete D._dragged,delete D._dragdata,delete D._hoverdata,delete D._snapshotInProgress,delete D._editing,delete D._mouseDownTime,delete D._legendMouseDownTime,D.removeAllListeners&&D.removeAllListeners()},w.style=function(D){var B,q=D._fullLayout._visibleModules,nt=[];for(B=0;B<q.length;B++){var ot=q[B];ot.style&&e.pushUnique(nt,ot.style)}for(B=0;B<nt.length;B++)nt[B](D)},w.sanitizeMargins=function(D){if(D&&D.margin){var B,q=D.width,nt=D.height,ot=D.margin,rt=q-(ot.l+ot.r),$=nt-(ot.t+ot.b);rt<0&&(B=(q-1)/(ot.l+ot.r),ot.l=Math.floor(B*ot.l),ot.r=Math.floor(B*ot.r)),$<0&&(B=(nt-1)/(ot.t+ot.b),ot.t=Math.floor(B*ot.t),ot.b=Math.floor(B*ot.b))}},w.clearAutoMarginIds=function(D){D._fullLayout._pushmarginIds={}},w.allowAutoMargin=function(D,B){D._fullLayout._pushmarginIds[B]=1},w.autoMargin=function(D,B,q){var nt=D._fullLayout,ot=nt.width,rt=nt.height,$=nt.margin,E=nt.minreducedwidth,S=nt.minreducedheight,Y=e.constrain(ot-$.l-$.r,2,E),Z=e.constrain(rt-$.t-$.b,2,S),G=Math.max(0,ot-Y),Q=Math.max(0,rt-Z),at=nt._pushmargin,tt=nt._pushmarginIds;if($.autoexpand!==!1){if(q){var _t=q.pad;if(_t===void 0&&(_t=Math.min(12,$.l,$.r,$.t,$.b)),G){var Pt=(q.l+q.r)/G;Pt>1&&(q.l/=Pt,q.r/=Pt)}if(Q){var kt=(q.t+q.b)/Q;kt>1&&(q.t/=kt,q.b/=kt)}var lt=q.xl!==void 0?q.xl:q.x,st=q.xr!==void 0?q.xr:q.x,ht=q.yt!==void 0?q.yt:q.y,bt=q.yb!==void 0?q.yb:q.y;at[B]={l:{val:lt,size:q.l+_t},r:{val:st,size:q.r+_t},b:{val:bt,size:q.b+_t},t:{val:ht,size:q.t+_t}},tt[B]=1}else delete at[B],delete tt[B];if(!nt._replotting)return w.doAutoMargin(D)}},w.doAutoMargin=function(D){var B=D._fullLayout,q=B.width,nt=B.height;B._size||(B._size={}),j(B);var ot=B._size,rt=B.margin,$={t:0,b:0,l:0,r:0},E=e.extendFlat({},ot),S=rt.l,Y=rt.r,Z=rt.t,G=rt.b,Q=B._pushmargin,at=B._pushmarginIds,tt=B.minreducedwidth,_t=B.minreducedheight;if(rt.autoexpand!==!1){for(var Pt in Q)at[Pt]||delete Q[Pt];var kt=D._fullLayout._reservedMargin;for(var lt in kt)for(var st in kt[lt]){var ht=kt[lt][st];$[st]=Math.max($[st],ht)}for(var bt in Q.base={l:{val:0,size:S},r:{val:1,size:Y},t:{val:1,size:Z},b:{val:0,size:G}},$){var pt=0;for(var Dt in Q)Dt!=="base"&&a(Q[Dt][bt].size)&&(pt=Q[Dt][bt].size>pt?Q[Dt][bt].size:pt);var qt=Math.max(0,rt[bt]-pt);$[bt]=Math.max(0,$[bt]-qt)}for(var ct in Q){var xt=Q[ct].l||{},dt=Q[ct].b||{},vt=xt.val,yt=xt.size,Mt=dt.val,Tt=dt.size,Lt=q-$.r-$.l,St=nt-$.t-$.b;for(var At in Q){if(a(yt)&&Q[At].r){var Nt=Q[At].r.val,zt=Q[At].r.size;if(Nt>vt){var Ft=(yt*Nt+(zt-Lt)*vt)/(Nt-vt),Gt=(zt*(1-vt)+(yt-Lt)*(1-Nt))/(Nt-vt);Ft+Gt>S+Y&&(S=Ft,Y=Gt)}}if(a(Tt)&&Q[At].t){var Bt=Q[At].t.val,de=Q[At].t.size;if(Bt>Mt){var ie=(Tt*Bt+(de-St)*Mt)/(Bt-Mt),pe=(de*(1-Mt)+(Tt-St)*(1-Bt))/(Bt-Mt);ie+pe>G+Z&&(G=ie,Z=pe)}}}}}var Ot=e.constrain(q-rt.l-rt.r,2,tt),gt=e.constrain(nt-rt.t-rt.b,2,_t),jt=Math.max(0,q-Ot),Xt=Math.max(0,nt-gt);if(jt){var xe=(S+Y)/jt;xe>1&&(S/=xe,Y/=xe)}if(Xt){var Vt=(G+Z)/Xt;Vt>1&&(G/=Vt,Z/=Vt)}if(ot.l=Math.round(S)+$.l,ot.r=Math.round(Y)+$.r,ot.t=Math.round(Z)+$.t,ot.b=Math.round(G)+$.b,ot.p=Math.round(rt.pad),ot.w=Math.round(q)-ot.l-ot.r,ot.h=Math.round(nt)-ot.t-ot.b,!B._replotting&&(w.didMarginChange(E,ot)||function(re){if("_redrawFromAutoMarginCount"in re._fullLayout)return!1;var _e=m.list(re,"",!0);for(var ce in _e)if(_e[ce].autoshift||_e[ce].shift)return!0;return!1}(D))){"_redrawFromAutoMarginCount"in B?B._redrawFromAutoMarginCount++:B._redrawFromAutoMarginCount=1;var Qt=3*(1+Object.keys(at).length);if(B._redrawFromAutoMarginCount<Qt)return r.call("_doPlot",D);B._size=E,e.warn("Too many auto-margin redraws.")}(function(re){var _e=m.list(re,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(ce){for(var Me=0;Me<_e.length;Me++){var te=_e[Me][ce];te&&te()}})})(D)};var z=["l","r","t","b","p","w","h"];function H(D,B,q){var nt=!1,ot=[w.previousPromises,function(){if(D._transitionData)return D._transitioning=!1,function($){var E=Promise.resolve();if(!$)return E;for(;$.length;)E=E.then($.shift());return E}(D._transitionData._interruptCallbacks)},q.prepareFn,w.rehover,w.reselect,function(){return D.emit("plotly_transitioning",[]),new Promise(function($){D._transitioning=!0,B.duration>0&&(D._transitioningWithDuration=!0),D._transitionData._interruptCallbacks.push(function(){nt=!0}),q.redraw&&D._transitionData._interruptCallbacks.push(function(){return r.call("redraw",D)}),D._transitionData._interruptCallbacks.push(function(){D.emit("plotly_transitioninterrupted",[])});var E=0,S=0;function Y(){return E++,function(){var Z;S++,nt||S!==E||(Z=$,D._transitionData&&(function(G){if(G)for(;G.length;)G.shift()}(D._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(q.redraw)return r.call("redraw",D)}).then(function(){D._transitioning=!1,D._transitioningWithDuration=!1,D.emit("plotly_transitioned",[])}).then(Z)))}}q.runFn(Y),setTimeout(Y())})}],rt=e.syncOrAsync(ot,D);return rt&&rt.then||(rt=Promise.resolve()),rt.then(function(){return D})}w.didMarginChange=function(D,B){for(var q=0;q<z.length;q++){var nt=z[q],ot=D[nt],rt=B[nt];if(!a(ot)||Math.abs(rt-ot)>1)return!0}return!1},w.graphJson=function(D,B,q,nt,ot,rt){(ot&&B&&!D._fullData||ot&&!B&&!D._fullLayout)&&w.supplyDefaults(D);var $=ot?D._fullData:D.data,E=ot?D._fullLayout:D.layout,S=(D._transitionData||{})._frames;function Y(Q,at){if(typeof Q=="function")return at?"_function_":null;if(e.isPlainObject(Q)){var tt,_t={};return Object.keys(Q).sort().forEach(function(st){if(["_","["].indexOf(st.charAt(0))===-1)if(typeof Q[st]!="function"){if(q==="keepdata"){if(st.substr(st.length-3)==="src")return}else if(q==="keepstream"){if(typeof(tt=Q[st+"src"])=="string"&&tt.indexOf(":")>0&&!e.isPlainObject(Q.stream))return}else if(q!=="keepall"&&typeof(tt=Q[st+"src"])=="string"&&tt.indexOf(":")>0)return;_t[st]=Y(Q[st],at)}else at&&(_t[st]="_function")}),_t}var Pt=Array.isArray(Q),kt=e.isTypedArray(Q);if((Pt||kt)&&Q.dtype&&Q.shape){var lt=Q.bdata;return Y({dtype:Q.dtype,shape:Q.shape,bdata:e.isArrayBuffer(lt)?n.encode(lt):lt},at)}return Pt?Q.map(function(st){return Y(st,at)}):kt?e.simpleMap(Q,e.identity):e.isJSDate(Q)?e.ms2DateTimeLocal(+Q):Q}var Z={data:($||[]).map(function(Q){var at=Y(Q);return B&&delete at.fit,at})};if(!B&&(Z.layout=Y(E),ot)){var G=E._size;Z.layout.computed={margin:{b:G.b,l:G.l,r:G.r,t:G.t}}}return S&&(Z.frames=Y(S)),rt&&(Z.config=Y(D._context,!0)),nt==="object"?Z:JSON.stringify(Z)},w.modifyFrames=function(D,B){var q,nt,ot,rt=D._transitionData._frames,$=D._transitionData._frameHash;for(q=0;q<B.length;q++)switch((nt=B[q]).type){case"replace":ot=nt.value;var E=(rt[nt.index]||{}).name,S=ot.name;rt[nt.index]=$[S]=ot,S!==E&&(delete $[E],$[S]=ot);break;case"insert":$[(ot=nt.value).name]=ot,rt.splice(nt.index,0,ot);break;case"delete":delete $[(ot=rt[nt.index]).name],rt.splice(nt.index,1)}return Promise.resolve()},w.computeFrame=function(D,B){var q,nt,ot,rt,$=D._transitionData._frameHash;if(!B)throw new Error("computeFrame must be given a string frame name");var E=$[B.toString()];if(!E)return!1;for(var S=[E],Y=[E.name];E.baseframe&&(E=$[E.baseframe.toString()])&&Y.indexOf(E.name)===-1;)S.push(E),Y.push(E.name);for(var Z={};E=S.pop();)if(E.layout&&(Z.layout=w.extendLayout(Z.layout,E.layout)),E.data){if(Z.data||(Z.data=[]),!(nt=E.traces))for(nt=[],q=0;q<E.data.length;q++)nt[q]=q;for(Z.traces||(Z.traces=[]),q=0;q<E.data.length;q++)(ot=nt[q])!=null&&((rt=Z.traces.indexOf(ot))===-1&&(rt=Z.data.length,Z.traces[rt]=ot),Z.data[rt]=w.extendTrace(Z.data[rt],E.data[q]))}return Z},w.recomputeFrameHash=function(D){for(var B=D._transitionData._frameHash={},q=D._transitionData._frames,nt=0;nt<q.length;nt++){var ot=q[nt];ot&&ot.name&&(B[ot.name]=ot)}},w.extendObjectWithContainers=function(D,B,q){var nt,ot,rt,$,E,S,Y,Z=e.extendDeepNoArrays({},B||{}),G=e.expandObjectPaths(Z),Q={};if(q&&q.length)for(rt=0;rt<q.length;rt++)(ot=(nt=e.nestedProperty(G,q[rt])).get())===void 0?e.nestedProperty(Q,q[rt]).set(null):(nt.set(null),e.nestedProperty(Q,q[rt]).set(ot));if(D=e.extendDeepNoArrays(D||{},G),q&&q.length){for(rt=0;rt<q.length;rt++)if(S=e.nestedProperty(Q,q[rt]).get()){for(Y=(E=e.nestedProperty(D,q[rt])).get(),Array.isArray(Y)||(Y=[],E.set(Y)),$=0;$<S.length;$++){var at=S[$];Y[$]=at===null?null:w.extendObjectWithContainers(Y[$],at)}E.set(Y)}}return D},w.dataArrayContainers=["transforms","dimensions"],w.layoutArrayContainers=r.layoutArrayContainers,w.extendTrace=function(D,B){return w.extendObjectWithContainers(D,B,w.dataArrayContainers)},w.extendLayout=function(D,B){return w.extendObjectWithContainers(D,B,w.layoutArrayContainers)},w.transition=function(D,B,q,nt,ot,rt){var $={redraw:ot.redraw},E={},S=[];return $.prepareFn=function(){for(var Y=Array.isArray(B)?B.length:0,Z=nt.slice(0,Y),G=0;G<Z.length;G++){var Q=Z[G],at=D._fullData[Q]._module;if(at){if(at.animatable){var tt=at.basePlotModule.name;E[tt]||(E[tt]=[]),E[tt].push(Q)}D.data[Z[G]]=w.extendTrace(D.data[Z[G]],B[G])}}var _t=e.expandObjectPaths(e.extendDeepNoArrays({},q)),Pt=/^[xy]axis[0-9]*$/;for(var kt in _t)Pt.test(kt)&&delete _t[kt].range;w.extendLayout(D.layout,_t),delete D.calcdata,w.supplyDefaults(D),w.doCalcdata(D);var lt=e.expandObjectPaths(q);if(lt){var st=D._fullLayout._plots;for(var ht in st){var bt=st[ht],pt=bt.xaxis,Dt=bt.yaxis,qt=pt.range.slice(),ct=Dt.range.slice(),xt=null,dt=null,vt=null,yt=null;Array.isArray(lt[pt._name+".range"])?xt=lt[pt._name+".range"].slice():Array.isArray((lt[pt._name]||{}).range)&&(xt=lt[pt._name].range.slice()),Array.isArray(lt[Dt._name+".range"])?dt=lt[Dt._name+".range"].slice():Array.isArray((lt[Dt._name]||{}).range)&&(dt=lt[Dt._name].range.slice()),qt&&xt&&(pt.r2l(qt[0])!==pt.r2l(xt[0])||pt.r2l(qt[1])!==pt.r2l(xt[1]))&&(vt={xr0:qt,xr1:xt}),ct&&dt&&(Dt.r2l(ct[0])!==Dt.r2l(dt[0])||Dt.r2l(ct[1])!==Dt.r2l(dt[1]))&&(yt={yr0:ct,yr1:dt}),(vt||yt)&&S.push(e.extendFlat({plotinfo:bt},vt,yt))}}return Promise.resolve()},$.runFn=function(Y){var Z,G,Q=D._fullLayout._basePlotModules,at=S.length;if(q)for(G=0;G<Q.length;G++)Q[G].transitionAxes&&Q[G].transitionAxes(D,S,rt,Y);for(var tt in at?((Z=e.extendFlat({},rt)).duration=0,delete E.cartesian):Z=rt,E){var _t=E[tt];D._fullData[_t[0]]._module.basePlotModule.plot(D,_t,Z,Y)}},H(D,rt,$)},w.transitionFromReact=function(D,B,q,nt){var ot=D._fullLayout,rt=ot.transition,$={},E=[];return $.prepareFn=function(){var S=ot._plots;for(var Y in $.redraw=!1,B.anim==="some"&&($.redraw=!0),q.anim==="some"&&($.redraw=!0),S){var Z=S[Y],G=Z.xaxis,Q=Z.yaxis,at=nt[G._name].range.slice(),tt=nt[Q._name].range.slice(),_t=G.range.slice(),Pt=Q.range.slice();G.setScale(),Q.setScale();var kt=null,lt=null;G.r2l(at[0])===G.r2l(_t[0])&&G.r2l(at[1])===G.r2l(_t[1])||(kt={xr0:at,xr1:_t}),Q.r2l(tt[0])===Q.r2l(Pt[0])&&Q.r2l(tt[1])===Q.r2l(Pt[1])||(lt={yr0:tt,yr1:Pt}),(kt||lt)&&E.push(e.extendFlat({plotinfo:Z},kt,lt))}return Promise.resolve()},$.runFn=function(S){for(var Y,Z,G,Q=D._fullData,at=D._fullLayout._basePlotModules,tt=[],_t=0;_t<Q.length;_t++)tt.push(_t);function Pt(){if(D._fullLayout)for(var lt=0;lt<at.length;lt++)at[lt].transitionAxes&&at[lt].transitionAxes(D,E,Y,S)}function kt(){if(D._fullLayout)for(var lt=0;lt<at.length;lt++)at[lt].plot(D,G,Z,S)}E.length&&B.anim?rt.ordering==="traces first"?(Y=e.extendFlat({},rt,{duration:0}),G=tt,Z=rt,setTimeout(Pt,rt.duration),kt()):(Y=rt,G=null,Z=e.extendFlat({},rt,{duration:0}),setTimeout(kt,Y.duration),Pt()):E.length?(Y=rt,Pt()):B.anim&&(G=tt,Z=rt,kt())},H(D,rt,$)},w.doCalcdata=function(D,B){var q,nt,ot,rt,$=m.list(D),E=D._fullData,S=D._fullLayout,Y=new Array(E.length),Z=(D.calcdata||[]).slice();for(D.calcdata=Y,S._numBoxes=0,S._numViolins=0,S._violinScaleGroupStats={},D._hmpixcount=0,D._hmlumcount=0,S._piecolormap={},S._sunburstcolormap={},S._treemapcolormap={},S._iciclecolormap={},S._funnelareacolormap={},ot=0;ot<E.length;ot++)Array.isArray(B)&&B.indexOf(ot)===-1&&(Y[ot]=Z[ot]);for(ot=0;ot<E.length;ot++)(q=E[ot])._arrayAttrs=o.findArrayAttributes(q),q._extremes={};var G=S._subplots.polar||[];for(ot=0;ot<G.length;ot++)$.push(S[G[ot]].radialaxis,S[G[ot]].angularaxis);for(var Q in S._colorAxes){var at=S[Q];at.cauto!==!1&&(delete at.cmin,delete at.cmax)}var tt=!1;function _t(lt){if(q=E[lt],nt=q._module,q.visible===!0&&q.transforms){if(nt&&nt.calc){var st=nt.calc(D,q);st[0]&&st[0].t&&st[0].t._scene&&delete st[0].t._scene.dirty}for(rt=0;rt<q.transforms.length;rt++){var ht=q.transforms[rt];(nt=k[ht.type])&&nt.calcTransform&&(q._hasCalcTransform=!0,tt=!0,nt.calcTransform(D,q,ht))}}}function Pt(lt,st){if(q=E[lt],!!(nt=q._module).isContainer===st){var ht=[];if(q.visible===!0&&q._length!==0){delete q._indexToPoints;var bt=q.transforms||[];for(rt=bt.length-1;rt>=0;rt--)if(bt[rt].enabled){q._indexToPoints=bt[rt]._indexToPoints;break}nt&&nt.calc&&(ht=nt.calc(D,q))}Array.isArray(ht)&&ht[0]||(ht=[{x:u,y:u}]),ht[0].t||(ht[0].t={}),ht[0].trace=q,Y[lt]=ht}}for(it($,E,S),ot=0;ot<E.length;ot++)Pt(ot,!0);for(ot=0;ot<E.length;ot++)_t(ot);for(tt&&it($,E,S),ot=0;ot<E.length;ot++)Pt(ot,!0);for(ot=0;ot<E.length;ot++)Pt(ot,!1);K(D);var kt=function(lt,st){var ht,bt,pt,Dt,qt,ct=[];function xt(ce,Me,te){var X=Me._id.charAt(0);if(ce==="histogram2dcontour"){var et=Me._counterAxes[0],It=m.getFromId(st,et),Ct=X==="x"||et==="x"&&It.type==="category",Ut=X==="y"||et==="y"&&It.type==="category";return function(Rt,Ht){return Rt===0||Ht===0||Ct&&Rt===te[Ht].length-1||Ut&&Ht===te.length-1?-1:(X==="y"?Ht:Rt)-1}}return function(Rt,Ht){return X==="y"?Ht:Rt}}var dt={min:function(ce){return e.aggNums(Math.min,null,ce)},max:function(ce){return e.aggNums(Math.max,null,ce)},sum:function(ce){return e.aggNums(function(Me,te){return Me+te},null,ce)},total:function(ce){return e.aggNums(function(Me,te){return Me+te},null,ce)},mean:function(ce){return e.mean(ce)},median:function(ce){return e.median(ce)}};function vt(ce,Me){return ce[1]-Me[1]}function yt(ce,Me){return Me[1]-ce[1]}for(ht=0;ht<lt.length;ht++){var Mt=lt[ht];if(Mt.type==="category"){var Tt=Mt.categoryorder.match(U);if(Tt){var Lt=Tt[1],St=Tt[2],At=Mt._id.charAt(0),Nt=At==="x",zt=[];for(bt=0;bt<Mt._categories.length;bt++)zt.push([Mt._categories[bt],[]]);for(bt=0;bt<Mt._traceIndices.length;bt++){var Ft=Mt._traceIndices[bt],Gt=st._fullData[Ft];if(Gt.visible===!0){var Bt=Gt.type;r.traceIs(Gt,"histogram")&&(delete Gt._xautoBinFinished,delete Gt._yautoBinFinished);var de=Bt==="splom",ie=Bt==="scattergl",pe=st.calcdata[Ft];for(pt=0;pt<pe.length;pt++){var Ot,gt,jt=pe[pt];if(de){var Xt=Gt._axesDim[Mt._id];if(!Nt){var xe=Gt._diag[Xt][0];xe&&(Mt=st._fullLayout[m.id2name(xe)])}var Vt=jt.trace.dimensions[Xt].values;for(Dt=0;Dt<Vt.length;Dt++)for(Ot=Mt._categoriesMap[Vt[Dt]],qt=0;qt<jt.trace.dimensions.length;qt++)if(qt!==Xt){var Qt=jt.trace.dimensions[qt];zt[Ot][1].push(Qt.values[Dt])}}else if(ie){for(Dt=0;Dt<jt.t.x.length;Dt++)Nt?(Ot=jt.t.x[Dt],gt=jt.t.y[Dt]):(Ot=jt.t.y[Dt],gt=jt.t.x[Dt]),zt[Ot][1].push(gt);jt.t&&jt.t._scene&&delete jt.t._scene.dirty}else if(jt.hasOwnProperty("z")){gt=jt.z;var re=xt(Gt.type,Mt,gt);for(Dt=0;Dt<gt.length;Dt++)for(qt=0;qt<gt[Dt].length;qt++)(Ot=re(qt,Dt))+1&&zt[Ot][1].push(gt[Dt][qt])}else for((Ot=jt.p)===void 0&&(Ot=jt[At]),(gt=jt.s)===void 0&&(gt=jt.v),gt===void 0&&(gt=Nt?jt.y:jt.x),Array.isArray(gt)||(gt=gt===void 0?[]:[gt]),Dt=0;Dt<gt.length;Dt++)zt[Ot][1].push(gt[Dt])}}}Mt._categoriesValue=zt;var _e=[];for(bt=0;bt<zt.length;bt++)_e.push([zt[bt][0],dt[Lt](zt[bt][1])]);_e.sort(St==="descending"?yt:vt),Mt._categoriesAggregatedValue=_e,Mt._initialCategories=_e.map(function(ce){return ce[0]}),ct=ct.concat(Mt.sortByInitialCategories())}}}return ct}($,D);if(kt.length){for(S._numBoxes=0,S._numViolins=0,ot=0;ot<kt.length;ot++)Pt(kt[ot],!0);for(ot=0;ot<kt.length;ot++)Pt(kt[ot],!1);K(D)}r.getComponentMethod("fx","calc")(D),r.getComponentMethod("errorbars","calc")(D)};var U=/(total|sum|min|max|mean|median) (ascending|descending)/;function it(D,B,q){var nt={};function ot(S){S.clearCalc(),S.type==="multicategory"&&S.setupMultiCategory(B),nt[S._id]=1}e.simpleMap(D,ot);for(var rt=q._axisMatchGroups||[],$=0;$<rt.length;$++)for(var E in rt[$])nt[E]||ot(q[m.id2name(E)])}function K(D){var B,q,nt,ot=D._fullLayout,rt=ot._visibleModules,$={};for(q=0;q<rt.length;q++){var E=rt[q],S=E.crossTraceCalc;if(S){var Y=E.basePlotModule.name;$[Y]?e.pushUnique($[Y],S):$[Y]=[S]}}for(nt in $){var Z=$[nt],G=ot._subplots[nt];if(Array.isArray(G))for(B=0;B<G.length;B++){var Q=G[B],at=nt==="cartesian"?ot._plots[Q]:ot[Q];for(q=0;q<Z.length;q++)Z[q](D,at,Q)}else for(q=0;q<Z.length;q++)Z[q](D)}}w.rehover=function(D){D._fullLayout._rehover&&D._fullLayout._rehover()},w.redrag=function(D){D._fullLayout._redrag&&D._fullLayout._redrag()},w.reselect=function(D){var B=D._fullLayout,q=(D.layout||{}).selections,nt=B._previousSelections;B._previousSelections=q;var ot=B._reselect||JSON.stringify(q)!==JSON.stringify(nt);r.getComponentMethod("selections","reselect")(D,ot)},w.generalUpdatePerTraceModule=function(D,B,q,nt){var ot,rt=B.traceHash,$={};for(ot=0;ot<q.length;ot++){var E=q[ot],S=E[0].trace;S.visible&&($[S.type]=$[S.type]||[],$[S.type].push(E))}for(var Y in rt)if(!$[Y]){var Z=rt[Y][0];Z[0].trace.visible=!1,$[Y]=[Z]}for(var G in $){var Q=$[G];Q[0][0].trace._module.plot(D,B,e.filterVisible(Q),nt)}B.traceHash=$},w.plotBasePlot=function(D,B,q,nt,ot){var rt=r.getModule(D),$=b(B.calcdata,rt)[0];rt.plot(B,$,nt,ot)},w.cleanBasePlot=function(D,B,q,nt,ot){var rt=ot._has&&ot._has(D),$=q._has&&q._has(D);rt&&!$&&ot["_"+D+"layer"].selectAll("g.trace").remove()}},1776:function(J,h,t){var f=t(6880);function y(i){var a=i.description?" "+i.description:"",n=i.keys||[];if(n.length>0){for(var r=[],o=0;o<n.length;o++)r[o]="`"+n[o]+"`";a+="Finally, the template string has access to ",a=n.length===1?a+"variable "+r[0]:a+"variables "+r.slice(0,-1).join(", ")+" and "+r.slice(-1)+"."}return a}f.FORMAT_LINK,f.DATE_FORMAT_LINK,h.Ks=function(i,a){i=i||{},y(a=a||{});var n={valType:"string",dflt:"",editType:i.editType||"none"};return i.arrayOk!==!1&&(n.arrayOk=!0),n},h.Gw=function(i,a){i=i||{},y(a=a||{});var n={valType:"string",dflt:"",editType:i.editType||"calc"};return i.arrayOk!==!1&&(n.arrayOk=!0),n},h.ye=function(i,a){return a=a||{},(i=i||{}).newshape,y(a),{valType:"string",dflt:"",editType:i.editType||"arraydraw"}}},4040:function(J,h,t){var f=t(4248),y=t(6628),i=t(2416),a=t(3620),n=t(2200).addStyleRule,r=t(2880),o=t(5464),s=t(4859),e=r.extendFlat,l=r.extendDeepAll;function u(w){var k=w.name,P=w.categories,A=w.meta;if(h.modules[k])f.log("Type "+k+" already registered");else{h.subplotsRegistry[w.basePlotModule.name]||function(z){var H=z.name;if(h.subplotsRegistry[H])f.log("Plot type "+H+" already registered.");else for(var U in v(z),h.subplotsRegistry[H]=z,h.componentsRegistry)d(U,z.name)}(w.basePlotModule);for(var L={},I=0;I<P.length;I++)L[P[I]]=!0,h.allCategories[P[I]]=!0;for(var x in h.modules[k]={_module:w,categories:L},A&&Object.keys(A).length&&(h.modules[k].meta=A),h.allTypes.push(k),h.componentsRegistry)g(x,k);w.layoutAttributes&&e(h.traceLayoutAttributes,w.layoutAttributes);var C=w.basePlotModule,F=C.name;if(F==="mapbox"){var N=C.constants.styleRules;for(var j in N)n(".js-plotly-plot .plotly .mapboxgl-"+j,N[j])}F!=="geo"&&F!=="mapbox"||window.PlotlyGeoAssets!==void 0||(window.PlotlyGeoAssets={topojson:{}})}}function m(w){if(typeof w.name!="string")throw new Error("Component module *name* must be a string.");var k=w.name;for(var P in h.componentsRegistry[k]=w,w.layoutAttributes&&(w.layoutAttributes._isLinkedToArray&&i(h.layoutArrayContainers,k),v(w)),h.modules)g(k,P);for(var A in h.subplotsRegistry)d(k,A);for(var L in h.transformsRegistry)b(k,L);w.schema&&w.schema.layout&&l(s,w.schema.layout)}function _(w){if(typeof w.name!="string")throw new Error("Transform module *name* must be a string.");var k="Transform module "+w.name,P=typeof w.transform=="function",A=typeof w.calcTransform=="function";if(!P&&!A)throw new Error(k+" is missing a *transform* or *calcTransform* method.");for(var L in P&&A&&f.log([k+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),a(w.attributes)||f.log(k+" registered without an *attributes* object."),typeof w.supplyDefaults!="function"&&f.log(k+" registered without a *supplyDefaults* method."),h.transformsRegistry[w.name]=w,h.componentsRegistry)b(L,w.name)}function p(w){var k=w.name,P=k.split("-")[0],A=w.dictionary,L=w.format,I=A&&Object.keys(A).length,x=L&&Object.keys(L).length,C=h.localeRegistry,F=C[k];if(F||(C[k]=F={}),P!==k){var N=C[P];N||(C[P]=N={}),I&&N.dictionary===F.dictionary&&(N.dictionary=A),x&&N.format===F.format&&(N.format=L)}I&&(F.dictionary=A),x&&(F.format=L)}function v(w){if(w.layoutAttributes){var k=w.layoutAttributes._arrayAttrRegexps;if(k)for(var P=0;P<k.length;P++)i(h.layoutArrayRegexes,k[P])}}function g(w,k){var P=h.componentsRegistry[w].schema;if(P&&P.traces){var A=P.traces[k];A&&l(h.modules[k]._module.attributes,A)}}function b(w,k){var P=h.componentsRegistry[w].schema;if(P&&P.transforms){var A=P.transforms[k];A&&l(h.transformsRegistry[k].attributes,A)}}function d(w,k){var P=h.componentsRegistry[w].schema;if(P&&P.subplots){var A=h.subplotsRegistry[k],L=A.layoutAttributes,I=A.attr==="subplot"?A.name:A.attr;Array.isArray(I)&&(I=I[0]);var x=P.subplots[I];L&&x&&l(L,x)}}function T(w){return typeof w=="object"&&(w=w.type),w}h.modules={},h.allCategories={},h.allTypes=[],h.subplotsRegistry={},h.transformsRegistry={},h.componentsRegistry={},h.layoutArrayContainers=[],h.layoutArrayRegexes=[],h.traceLayoutAttributes={},h.localeRegistry={},h.apiMethodRegistry={},h.collectableSubplotTypes=null,h.register=function(w){if(h.collectableSubplotTypes=null,!w)throw new Error("No argument passed to Plotly.register.");w&&!Array.isArray(w)&&(w=[w]);for(var k=0;k<w.length;k++){var P=w[k];if(!P)throw new Error("Invalid module was attempted to be registered!");switch(P.moduleType){case"trace":u(P);break;case"transform":_(P);break;case"component":m(P);break;case"locale":p(P);break;case"apiMethod":var A=P.name;h.apiMethodRegistry[A]=P.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},h.getModule=function(w){var k=h.modules[T(w)];return!!k&&k._module},h.traceIs=function(w,k){if((w=T(w))==="various")return!1;var P=h.modules[w];return P||(w&&f.log("Unrecognized trace type "+w+"."),P=h.modules[o.type.dflt]),!!P.categories[k]},h.getTransformIndices=function(w,k){for(var P=[],A=w.transforms||[],L=0;L<A.length;L++)A[L].type===k&&P.push(L);return P},h.hasTransform=function(w,k){for(var P=w.transforms||[],A=0;A<P.length;A++)if(P[A].type===k)return!0;return!1},h.getComponentMethod=function(w,k){var P=h.componentsRegistry[w];return P&&P[k]||y},h.call=function(){var w=arguments[0],k=[].slice.call(arguments,1);return h.apiMethodRegistry[w].apply(null,k)}},1536:function(J,h,t){var f=t(4040),y=t(3400),i=y.extendFlat,a=y.extendDeep;function n(r){var o;switch(r){case"themes__thumb":o={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":o={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:o={}}return o}J.exports=function(r,o){var s,e,l=r.data,u=r.layout,m=a([],l),_=a({},u,n(o.tileClass)),p=r._context||{};if(o.width&&(_.width=o.width),o.height&&(_.height=o.height),o.tileClass==="thumbnail"||o.tileClass==="themes__thumb"){_.annotations=[];var v=Object.keys(_);for(s=0;s<v.length;s++)e=v[s],["xaxis","yaxis","zaxis"].indexOf(e.slice(0,5))>-1&&(_[v[s]].title={text:""});for(s=0;s<m.length;s++){var g=m[s];g.showscale=!1,g.marker&&(g.marker.showscale=!1),f.traceIs(g,"pie-like")&&(g.textposition="none")}}if(Array.isArray(o.annotations))for(s=0;s<o.annotations.length;s++)_.annotations.push(o.annotations[s]);var b=Object.keys(_).filter(function(P){return P.match(/^scene\d*$/)});if(b.length){var d={};for(o.tileClass==="thumbnail"&&(d={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),s=0;s<b.length;s++){var T=_[b[s]];T.xaxis||(T.xaxis={}),T.yaxis||(T.yaxis={}),T.zaxis||(T.zaxis={}),i(T.xaxis,d),i(T.yaxis,d),i(T.zaxis,d),T._scene=null}}var w=document.createElement("div");o.tileClass&&(w.className=o.tileClass);var k={gd:w,td:w,layout:_,data:m,config:{staticPlot:o.staticPlot===void 0||o.staticPlot,plotGlPixelRatio:o.plotGlPixelRatio===void 0?2:o.plotGlPixelRatio,displaylogo:o.displaylogo||!1,showLink:o.showLink||!1,showTips:o.showTips||!1,mapboxAccessToken:p.mapboxAccessToken}};return o.setBackground!=="transparent"&&(k.config.setBackground=o.setBackground||"opaque"),k.gd.defaultLayout=n(o.tileClass),k}},7412:function(J,h,t){var f=t(3400),y=t(7024),i=t(8616),a=t(7030);J.exports=function(n,r){var o;return f.isPlainObject(n)||(o=f.getGraphDiv(n)),(r=r||{}).format=r.format||"png",r.width=r.width||null,r.height=r.height||null,r.imageDataOnly=!0,new Promise(function(s,e){o&&o._snapshotInProgress&&e(new Error("Snapshotting already in progress.")),f.isIE()&&r.format!=="svg"&&e(new Error(a.MSG_IE_BAD_FORMAT)),o&&(o._snapshotInProgress=!0);var l=y(n,r),u=r.filename||n.fn||"newplot";u+="."+r.format.replace("-","."),l.then(function(m){return o&&(o._snapshotInProgress=!1),i(m,u,r.format)}).then(function(m){s(m)}).catch(function(m){o&&(o._snapshotInProgress=!1),e(m)})})}},8616:function(J,h,t){var f=t(3400),y=t(7030);J.exports=function(i,a,n){var r=document.createElement("a"),o="download"in r;return new Promise(function(s,e){var l,u;if(f.isIE())return l=y.createBlob(i,"svg"),window.navigator.msSaveBlob(l,a),l=null,s(a);if(o)return l=y.createBlob(i,n),u=y.createObjectURL(l),r.href=u,r.download=a,document.body.appendChild(r),r.click(),document.body.removeChild(r),y.revokeObjectURL(u),l=null,s(a);if(f.isSafari()){var m=n==="svg"?",":";base64,";return y.octetStream(m+encodeURIComponent(i)),s(a)}e(new Error("download error"))})}},7030:function(J,h,t){var f=t(4040);h.getDelay=function(i){return i._has&&(i._has("gl3d")||i._has("gl2d")||i._has("mapbox"))?500:0},h.getRedrawFunc=function(i){return function(){f.getComponentMethod("colorbar","draw")(i)}},h.encodeSVG=function(i){return"data:image/svg+xml,"+encodeURIComponent(i)},h.encodeJSON=function(i){return"data:application/json,"+encodeURIComponent(i)};var y=window.URL||window.webkitURL;h.createObjectURL=function(i){return y.createObjectURL(i)},h.revokeObjectURL=function(i){return y.revokeObjectURL(i)},h.createBlob=function(i,a){if(a==="svg")return new window.Blob([i],{type:"image/svg+xml;charset=utf-8"});if(a==="full-json")return new window.Blob([i],{type:"application/json;charset=utf-8"});var n=function(r){for(var o=r.length,s=new ArrayBuffer(o),e=new Uint8Array(s),l=0;l<o;l++)e[l]=r.charCodeAt(l);return s}(window.atob(i));return new window.Blob([n],{type:"image/"+a})},h.octetStream=function(i){document.location.href="data:application/octet-stream"+i},h.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,h.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},8904:function(J,h,t){var f=t(7030),y={getDelay:f.getDelay,getRedrawFunc:f.getRedrawFunc,clone:t(1536),toSVG:t(7164),svgToImg:t(3268),toImage:t(1808),downloadImage:t(7412)};J.exports=y},3268:function(J,h,t){var f=t(3400),y=t(1252).EventEmitter,i=t(7030);J.exports=function(a){var n=a.emitter||new y,r=new Promise(function(o,s){var e=window.Image,l=a.svg,u=a.format||"png";if(f.isIE()&&u!=="svg"){var m=new Error(i.MSG_IE_BAD_FORMAT);return s(m),a.promise?r:n.emit("error",m)}var _,p,v=a.canvas,g=a.scale||1,b=a.width||300,d=a.height||150,T=g*b,w=g*d,k=v.getContext("2d",{willReadFrequently:!0}),P=new e;u==="svg"||f.isSafari()?p=i.encodeSVG(l):(_=i.createBlob(l,"svg"),p=i.createObjectURL(_)),v.width=T,v.height=w,P.onload=function(){var A;switch(_=null,i.revokeObjectURL(p),u!=="svg"&&k.drawImage(P,0,0,T,w),u){case"jpeg":A=v.toDataURL("image/jpeg");break;case"png":A=v.toDataURL("image/png");break;case"webp":A=v.toDataURL("image/webp");break;case"svg":A=p;break;default:var L="Image format is not jpeg, png, svg or webp.";if(s(new Error(L)),!a.promise)return n.emit("error",L)}o(A),a.promise||n.emit("success",A)},P.onerror=function(A){if(_=null,i.revokeObjectURL(p),s(A),!a.promise)return n.emit("error",A)},P.src=p});return a.promise?r:n}},1808:function(J,h,t){var f=t(1252).EventEmitter,y=t(4040),i=t(3400),a=t(7030),n=t(1536),r=t(7164),o=t(3268);J.exports=function(s,e){var l=new f,u=n(s,{format:"png"}),m=u.gd;m.style.position="absolute",m.style.left="-5000px",document.body.appendChild(m);var _=a.getRedrawFunc(m);return y.call("_doPlot",m,u.data,u.layout,u.config).then(_).then(function(){var p=a.getDelay(m._fullLayout);setTimeout(function(){var v=r(m),g=document.createElement("canvas");g.id=i.randstr(),(l=o({format:e.format,width:m._fullLayout.width,height:m._fullLayout.height,canvas:g,emitter:l,svg:v})).clean=function(){m&&document.body.removeChild(m)}},p)}).catch(function(p){l.emit("error",p)}),l}},7164:function(J,h,t){var f=t(3428),y=t(3400),i=t(3616),a=t(6308),n=t(9616),r=/"/g,o="TOBESTRIPPED",s=new RegExp('("'+o+")|("+o+'")',"g");J.exports=function(e,l,u){var m,_=e._fullLayout,p=_._paper,v=_._toppaper,g=_.width,b=_.height;p.insert("rect",":first-child").call(i.setRect,0,0,g,b).call(a.fill,_.paper_bgcolor);var d=_._basePlotModules||[];for(m=0;m<d.length;m++){var T=d[m];T.toSVG&&T.toSVG(e)}if(v){var w=v.node().childNodes,k=Array.prototype.slice.call(w);for(m=0;m<k.length;m++){var P=k[m];P.childNodes.length&&p.node().appendChild(P)}}_._draggers&&_._draggers.remove(),p.node().style.background="",p.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var L=f.select(this);if(this.style.visibility!=="hidden"&&this.style.display!=="none"){L.style({visibility:null,display:null});var I=this.style.fontFamily;I&&I.indexOf('"')!==-1&&L.style("font-family",I.replace(r,o))}else L.remove()}),p.selectAll(".gradient_filled,.pattern_filled").each(function(){var L=f.select(this),I=this.style.fill;I&&I.indexOf("url(")!==-1&&L.style("fill",I.replace(r,o));var x=this.style.stroke;x&&x.indexOf("url(")!==-1&&L.style("stroke",x.replace(r,o))}),l!=="pdf"&&l!=="eps"||p.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),p.node().setAttributeNS(n.xmlns,"xmlns",n.svg),p.node().setAttributeNS(n.xmlns,"xmlns:xlink",n.xlink),l==="svg"&&u&&(p.attr("width",u*g),p.attr("height",u*b),p.attr("viewBox","0 0 "+g+" "+b));var A=new window.XMLSerializer().serializeToString(p.node());return A=(A=(A=function(L){var I=f.select("body").append("div").style({display:"none"}).html(""),x=L.replace(/(&[^;]*;)/gi,function(C){return C==="&lt;"?"&#60;":C==="&rt;"?"&#62;":C.indexOf("<")!==-1||C.indexOf(">")!==-1?"":I.html(C).text()});return I.remove(),x}(A)).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(s,"'"),y.isIE()&&(A=(A=(A=A.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),A}},4664:function(J,h,t){var f=t(3400);J.exports=function(y,i){for(var a=0;a<y.length;a++)y[a].i=a;f.mergeArray(i.text,y,"tx"),f.mergeArray(i.hovertext,y,"htx");var n=i.marker;if(n){f.mergeArray(n.opacity,y,"mo",!0),f.mergeArray(n.color,y,"mc");var r=n.line;r&&(f.mergeArray(r.color,y,"mlc"),f.mergeArrayCastPositive(r.width,y,"mlw"))}}},832:function(J,h,t){var f=t(2904),y=t(9736).axisHoverFormat,i=t(1776).Ks,a=t(1776).Gw,n=t(9084),r=t(5376),o=t(8048),s=t(8192).c,e=t(2880).extendFlat,l=r({editType:"calc",arrayOk:!0,colorEditType:"style"}),u=e({},f.marker.line.width,{dflt:0}),m=e({width:u,editType:"calc"},n("marker.line")),_=e({line:m,editType:"calc"},n("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:s,cornerradius:{valType:"any",editType:"calc"}});J.exports={x:f.x,x0:f.x0,dx:f.dx,y:f.y,y0:f.y0,dy:f.dy,xperiod:f.xperiod,yperiod:f.yperiod,xperiod0:f.xperiod0,yperiod0:f.yperiod0,xperiodalignment:f.xperiodalignment,yperiodalignment:f.yperiodalignment,xhoverformat:y("x"),yhoverformat:y("y"),text:f.text,texttemplate:a({editType:"plot"},{keys:o.eventDataKeys}),hovertext:f.hovertext,hovertemplate:i({},{keys:o.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:e({},l,{}),insidetextfont:e({},l,{}),outsidetextfont:e({},l,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:e({},f.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:_,offsetgroup:f.offsetgroup,alignmentgroup:f.alignmentgroup,selected:{marker:{opacity:f.selected.marker.opacity,color:f.selected.marker.color,editType:"style"},textfont:f.selected.textfont,editType:"style"},unselected:{marker:{opacity:f.unselected.marker.opacity,color:f.unselected.marker.color,editType:"style"},textfont:f.unselected.textfont,editType:"style"},zorder:f.zorder,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},9439:function(J,h,t){var f=t(4460),y=t(1220),i=t(4288).hasColorscale,a=t(7128),n=t(4664),r=t(4500);J.exports=function(o,s){var e,l,u,m,_,p,v=f.getFromId(o,s.xaxis||"x"),g=f.getFromId(o,s.yaxis||"y"),b={msUTC:!(!s.base&&s.base!==0)};s.orientation==="h"?(e=v.makeCalcdata(s,"x",b),u=g.makeCalcdata(s,"y"),m=y(s,g,"y",u),_=!!s.yperiodalignment,p="y"):(e=g.makeCalcdata(s,"y",b),u=v.makeCalcdata(s,"x"),m=y(s,v,"x",u),_=!!s.xperiodalignment,p="x"),l=m.vals;for(var d=Math.min(l.length,e.length),T=new Array(d),w=0;w<d;w++)T[w]={p:l[w],s:e[w]},_&&(T[w].orig_p=u[w],T[w][p+"End"]=m.ends[w],T[w][p+"Start"]=m.starts[w]),s.ids&&(T[w].id=String(s.ids[w]));return i(s,"marker")&&a(o,s,{vals:s.marker.color,containerStr:"marker",cLetter:"c"}),i(s,"marker.line")&&a(o,s,{vals:s.marker.line.color,containerStr:"marker.line",cLetter:"c"}),n(T,s),r(T,s),T}},8048:function(J){J.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},6376:function(J,h,t){var f=t(8248),y=t(3400).isArrayOrTypedArray,i=t(9032).BADNUM,a=t(4040),n=t(4460),r=t(1888).getAxisGroup,o=t(2592);function s(d,T,w,k,P){if(k.length){var A,L,I,x;switch(function(C,F){var N,j;for(N=0;N<F.length;N++){var z,H=F[N],U=H[0].trace,it=U.type==="funnel"?U._base:U.base,K=U.orientation==="h"?U.xcalendar:U.ycalendar,D=C.type==="category"||C.type==="multicategory"?function(){return null}:C.d2c;if(y(it)){for(j=0;j<Math.min(it.length,H.length);j++)z=D(it[j],0,K),f(z)?(H[j].b=+z,H[j].hasB=1):H[j].b=0;for(;j<H.length;j++)H[j].b=0}else{z=D(it,0,K);var B=f(z);for(z=B?z:0,j=0;j<H.length;j++)H[j].b=z,B&&(H[j].hasB=1)}}}(w,k),P.mode){case"overlay":e(T,w,k,P);break;case"group":for(A=[],L=[],I=0;I<k.length;I++)(x=k[I])[0].trace.offset===void 0?L.push(x):A.push(x);L.length&&function(C,F,N,j,z){var H=new o(j,{posAxis:F,sepNegVal:!1,overlapNoMerge:!z.norm});(function(U,it,K,D){for(var B=U._fullLayout,q=K.positions,nt=K.distinctPositions,ot=K.minDiff,rt=K.traces,$=rt.length,E=q.length!==nt.length,S=ot*(1-D.gap),Y=r(B,it._id)+rt[0][0].trace.orientation,Z=B._alignmentOpts[Y]||{},G=0;G<$;G++){var Q,at,tt=rt[G],_t=tt[0].trace,Pt=Z[_t.alignmentgroup]||{},kt=Object.keys(Pt.offsetGroups||{}).length,lt=(Q=kt?S/kt:E?S/$:S)*(1-(D.groupgap||0));at=kt?((2*_t._offsetIndex+1-kt)*Q-lt)/2:E?((2*G+1-$)*Q-lt)/2:-lt/2;var st=tt[0].t;st.barwidth=lt,st.poffset=at,st.bargroupwidth=S,st.bardelta=ot}K.binWidth=rt[0][0].t.barwidth/100,u(K),m(it,K),_(it,K,E)})(C,F,H,z),function(U,it){for(var K=U.traces,D=0;D<K.length;D++){var B=K[D];if(B[0].trace.base===void 0)for(var q=new o([B],{posAxis:it,sepNegVal:!0,overlapNoMerge:!0}),nt=0;nt<B.length;nt++){var ot=B[nt];if(ot.p!==i){var rt=q.put(ot.p,ot.b+ot.s);rt&&(ot.b=rt)}}}}(H,F),z.norm?(v(H),g(N,H,z)):p(N,H)}(d,T,w,L,P),A.length&&e(T,w,A,P);break;case"stack":case"relative":for(A=[],L=[],I=0;I<k.length;I++)(x=k[I])[0].trace.base===void 0?L.push(x):A.push(x);(function(C){if(!(C.length<2)){var F,N,j,z,H,U;for(F=0;F<C.length&&(z=(N=C[F][0].trace).marker?N.marker.cornerradius:void 0)===void 0;F++);if(z!==void 0)for(H=f(z)?+z:+z.slice(0,-1),U=f(z)?"px":"%",F=0;F<C.length;F++)(j=C[F][0].t).cornerradiusvalue=H,j.cornerradiusform=U}})(L),L.length&&function(C,F,N,j,z){var H=new o(j,{posAxis:F,sepNegVal:z.mode==="relative",overlapNoMerge:!(z.norm||z.mode==="stack"||z.mode==="relative")});l(F,H,z),function(B,q,nt){var ot,rt,$,E,S,Y,Z=b(B),G=q.traces;for(E=0;E<G.length;E++)if((rt=(ot=G[E])[0].trace).type==="funnel")for(S=0;S<ot.length;S++)(Y=ot[S]).s!==i&&q.put(Y.p,-.5*Y.s);for(E=0;E<G.length;E++){$=(rt=(ot=G[E])[0].trace).type==="funnel";var Q=[];for(S=0;S<ot.length;S++)if((Y=ot[S]).s!==i){var at;at=$?Y.s:Y.s+Y.b;var tt=q.put(Y.p,at),_t=tt+at;Y.b=tt,Y[Z]=_t,nt.norm||(Q.push(_t),Y.hasB&&Q.push(tt))}nt.norm||(rt._extremes[B._id]=n.findExtremes(B,Q,{tozero:!0,padded:!0}))}}(N,H,z);for(var U=0;U<j.length;U++)for(var it=j[U],K=0;K<it.length;K++){var D=it[K];D.s!==i&&D.b+D.s===H.get(D.p,D.s)&&(D._outmost=!0)}z.norm&&g(N,H,z)}(0,T,w,L,P),A.length&&e(T,w,A,P)}(function(C){var F,N,j,z,H,U,it;for(F=0;F<C.length;F++)j=(N=C[F])[0].trace,(z=N[0].t).cornerradiusvalue===void 0&&(H=j.marker?j.marker.cornerradius:void 0)!==void 0&&(U=f(H)?+H:+H.slice(0,-1),it=f(H)?"px":"%",z.cornerradiusvalue=U,z.cornerradiusform=it)})(k),function(C,F){var N,j,z,H=b(F),U={},it=1/0,K=-1/0;for(N=0;N<C.length;N++)for(z=C[N],j=0;j<z.length;j++){var D=z[j].p;f(D)&&(it=Math.min(it,D),K=Math.max(K,D))}var B=1e4/(K-it),q=U.round=function(_t){return String(Math.round(B*(_t-it)))},nt={},ot={},rt=C.some(function(_t){var Pt=_t[0].trace;return"marker"in Pt&&Pt.marker.cornerradius});for(N=0;N<C.length;N++){(z=C[N])[0].t.extents=U;var $=z[0].t.poffset,E=y($);for(j=0;j<z.length;j++){var S=z[j],Y=S[H]-S.w/2;if(f(Y)){var Z=S[H]+S.w/2,G=q(S.p);U[G]?U[G]=[Math.min(Y,U[G][0]),Math.max(Z,U[G][1])]:U[G]=[Y,Z]}if(S.p0=S.p+(E?$[j]:$),S.p1=S.p0+S.w,S.s0=S.b,S.s1=S.s0+S.s,rt){var Q=Math.min(S.s0,S.s1)||0,at=Math.max(S.s0,S.s1)||0,tt=S[H];nt[tt]=tt in nt?Math.min(nt[tt],Q):Q,ot[tt]=tt in ot?Math.max(ot[tt],at):at}}}rt&&function(_t,Pt,kt,lt){for(var st=b(lt),ht=0;ht<_t.length;ht++)for(var bt=_t[ht],pt=0;pt<bt.length;pt++){var Dt=bt[pt],qt=Dt[st];Dt._sMin=Pt[qt],Dt._sMax=kt[qt]}}(C,nt,ot,F)}(k,T)}}function e(d,T,w,k){for(var P=0;P<w.length;P++){var A=w[P],L=new o([A],{posAxis:d,sepNegVal:!1,overlapNoMerge:!k.norm});l(d,L,k),k.norm?(v(L),g(T,L,k)):p(T,L)}}function l(d,T,w){for(var k=T.minDiff,P=T.traces,A=k*(1-w.gap),L=A*(1-(w.groupgap||0)),I=-L/2,x=0;x<P.length;x++){var C=P[x][0].t;C.barwidth=L,C.poffset=I,C.bargroupwidth=A,C.bardelta=k}T.binWidth=P[0][0].t.barwidth/100,u(T),m(d,T),_(d,T)}function u(d){var T,w,k=d.traces;for(T=0;T<k.length;T++){var P,A=k[T],L=A[0],I=L.trace,x=L.t,C=I._offset||I.offset,F=x.poffset;if(y(C)){for(P=Array.prototype.slice.call(C,0,A.length),w=0;w<P.length;w++)f(P[w])||(P[w]=F);for(w=P.length;w<A.length;w++)P.push(F);x.poffset=P}else C!==void 0&&(x.poffset=C);var N=I._width||I.width,j=x.barwidth;if(y(N)){var z=Array.prototype.slice.call(N,0,A.length);for(w=0;w<z.length;w++)f(z[w])||(z[w]=j);for(w=z.length;w<A.length;w++)z.push(j);if(x.barwidth=z,C===void 0){for(P=[],w=0;w<A.length;w++)P.push(F+(j-z[w])/2);x.poffset=P}}else N!==void 0&&(x.barwidth=N,C===void 0&&(x.poffset=F+(j-N)/2))}}function m(d,T){for(var w=T.traces,k=b(d),P=0;P<w.length;P++)for(var A=w[P],L=A[0].t,I=L.poffset,x=y(I),C=L.barwidth,F=y(C),N=0;N<A.length;N++){var j=A[N],z=j.w=F?C[N]:C;j.p===void 0&&(j.p=j[k],j["orig_"+k]=j[k]);var H=(x?I[N]:I)+z/2;j[k]=j.p+H}}function _(d,T,w){var k=T.traces,P=T.minDiff/2;n.minDtick(d,T.minDiff,T.distinctPositions[0],w);for(var A=0;A<k.length;A++){var L,I,x,C,F=k[A],N=F[0],j=N.trace,z=[];for(C=0;C<F.length;C++)I=(L=F[C]).p-P,x=L.p+P,z.push(I,x);if(j.width||j.offset){var H=N.t,U=H.poffset,it=H.barwidth,K=y(U),D=y(it);for(C=0;C<F.length;C++){L=F[C];var B=K?U[C]:U,q=D?it[C]:it;x=(I=L.p+B)+q,z.push(I,x)}}j._extremes[d._id]=n.findExtremes(d,z,{padded:!1})}}function p(d,T){for(var w=T.traces,k=b(d),P=0;P<w.length;P++){for(var A=w[P],L=A[0].trace,I=L.type==="scatter",x=L.orientation==="v",C=[],F=!1,N=0;N<A.length;N++){var j=A[N],z=I?0:j.b,H=I?x?j.y:j.x:z+j.s;j[k]=H,C.push(H),j.hasB&&C.push(z),j.hasB&&j.b||(F=!0)}L._extremes[d._id]=n.findExtremes(d,C,{tozero:F,padded:!0})}}function v(d){for(var T=d.traces,w=0;w<T.length;w++)for(var k=T[w],P=0;P<k.length;P++){var A=k[P];A.s!==i&&d.put(A.p,A.b+A.s)}}function g(d,T,w){var k=T.traces,P=b(d),A=w.norm==="fraction"?1:100,L=A/1e9,I=d.l2c(d.c2l(0)),x=w.mode==="stack"?A:I;function C(nt){return f(d.c2l(nt))&&(nt<I-L||nt>x+L||!f(I))}for(var F=0;F<k.length;F++){for(var N=k[F],j=N[0].trace,z=[],H=!1,U=!1,it=0;it<N.length;it++){var K=N[it];if(K.s!==i){var D=Math.abs(A/T.get(K.p,K.s));K.b*=D,K.s*=D;var B=K.b,q=B+K.s;K[P]=q,z.push(q),U=U||C(q),K.hasB&&(z.push(B),U=U||C(B)),K.hasB&&K.b||(H=!0)}}j._extremes[d._id]=n.findExtremes(d,z,{tozero:H,padded:U})}}function b(d){return d._id.charAt(0)}J.exports={crossTraceCalc:function(d,T){for(var w=T.xaxis,k=T.yaxis,P=d._fullLayout,A=d._fullData,L=d.calcdata,I=[],x=[],C=0;C<A.length;C++){var F=A[C];if(F.visible===!0&&a.traceIs(F,"bar")&&F.xaxis===w._id&&F.yaxis===k._id&&(F.orientation==="h"?I.push(L[C]):x.push(L[C]),F._computePh))for(var N=d.calcdata[C],j=0;j<N.length;j++)typeof N[j].ph0=="function"&&(N[j].ph0=N[j].ph0()),typeof N[j].ph1=="function"&&(N[j].ph1=N[j].ph1())}var z={xCat:w.type==="category"||w.type==="multicategory",yCat:k.type==="category"||k.type==="multicategory",mode:P.barmode,norm:P.barnorm,gap:P.bargap,groupgap:P.bargroupgap};s(d,w,k,x,z),s(d,k,w,I,z)},setGroupPositions:s}},1508:function(J,h,t){var f=t(8248),y=t(3400),i=t(6308),a=t(4040),n=t(3980),r=t(1147),o=t(5592),s=t(11),e=t(832),l=y.coerceFont;function u(_){if(f(_)){if((_=+_)>=0)return _}else if(typeof _=="string"&&(_=_.trim()).slice(-1)==="%"&&f(_.slice(0,-1))&&(_=+_.slice(0,-1))>=0)return _+"%"}function m(_,p,v,g,b,d){var T=(d=d||{}).moduleHasSelected!==!1,w=d.moduleHasUnselected!==!1,k=d.moduleHasConstrain!==!1,P=d.moduleHasCliponaxis!==!1,A=d.moduleHasTextangle!==!1,L=d.moduleHasInsideanchor!==!1,I=!!d.hasPathbar,x=Array.isArray(b)||b==="auto",C=x||b==="inside",F=x||b==="outside";if(C||F){var N=l(g,"textfont",v.font),j=y.extendFlat({},N),z=!(_.textfont&&_.textfont.color);if(z&&delete j.color,l(g,"insidetextfont",j),I){var H=y.extendFlat({},N);z&&delete H.color,l(g,"pathbar.textfont",H)}F&&l(g,"outsidetextfont",N),T&&g("selected.textfont.color"),w&&g("unselected.textfont.color"),k&&g("constraintext"),P&&g("cliponaxis"),A&&g("textangle"),g("texttemplate")}C&&L&&g("insidetextanchor")}J.exports={supplyDefaults:function(_,p,v,g){function b(k,P){return y.coerce(_,p,e,k,P)}if(n(_,p,g,b)){r(_,p,g,b),b("xhoverformat"),b("yhoverformat"),b("zorder"),b("orientation",p.x&&!p.y?"h":"v"),b("base"),b("offset"),b("width"),b("text"),b("hovertext"),b("hovertemplate");var d=b("textposition");m(_,0,g,b,d,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),o(_,p,b,v,g);var T=(p.marker.line||{}).color,w=a.getComponentMethod("errorbars","supplyDefaults");w(_,p,T||i.defaultLine,{axis:"y"}),w(_,p,T||i.defaultLine,{axis:"x",inherit:"y"}),y.coerceSelectionMarkerOpacity(p,b)}else p.visible=!1},crossTraceDefaults:function(_,p){var v,g;function b(w,k){return y.coerce(g._input,g,e,w,k)}for(var d=0;d<_.length;d++)if((g=_[d]).type==="bar"){v=g._input;var T=b("marker.cornerradius",p.barcornerradius);g.marker&&(g.marker.cornerradius=u(T)),p.barmode==="group"&&s(v,g,p,b)}},handleText:m,validateCornerradius:u}},2160:function(J){J.exports=function(h,t,f){return h.x="xVal"in t?t.xVal:t.x,h.y="yVal"in t?t.yVal:t.y,t.xa&&(h.xaxis=t.xa),t.ya&&(h.yaxis=t.ya),f.orientation==="h"?(h.label=h.y,h.value=h.x):(h.label=h.x,h.value=h.y),h}},444:function(J,h,t){var f=t(8248),y=t(9760),i=t(3400).isArrayOrTypedArray;h.coerceString=function(a,n,r){if(typeof n=="string"){if(n||!a.noBlank)return n}else if((typeof n=="number"||n===!0)&&!a.strict)return String(n);return r!==void 0?r:a.dflt},h.coerceNumber=function(a,n,r){if(f(n)){n=+n;var o=a.min,s=a.max;if(!(o!==void 0&&n<o||s!==void 0&&n>s))return n}return r!==void 0?r:a.dflt},h.coerceColor=function(a,n,r){return y(n).isValid()?n:r!==void 0?r:a.dflt},h.coerceEnumerated=function(a,n,r){return a.coerceNumber&&(n=+n),a.values.indexOf(n)!==-1?n:r!==void 0?r:a.dflt},h.getValue=function(a,n){var r;return i(a)?n<a.length&&(r=a[n]):r=a,r},h.getLineWidth=function(a,n){return 0<n.mlw?n.mlw:i(a.marker.line.width)?0:a.marker.line.width}},1020:function(J,h,t){var f=t(3024),y=t(4040),i=t(6308),a=t(3400).fillText,n=t(444).getLineWidth,r=t(4460).hoverLabelText,o=t(9032).BADNUM;function s(l,u,m,_,p){var v,g,b,d,T,w,k,P=l.cd,A=P[0].trace,L=P[0].t,I=_==="closest",x=A.type==="waterfall",C=l.maxHoverDistance,F=l.maxSpikeDistance;A.orientation==="h"?(v=m,g=u,b="y",d="x",T=ot,w=q):(v=u,g=m,b="x",d="y",w=ot,T=q);var N=A[b+"period"],j=I||N;function z(Q){return U(Q,-1)}function H(Q){return U(Q,1)}function U(Q,at){var tt=Q.w;return Q[b]+at*tt/2}function it(Q){return Q[b+"End"]-Q[b+"Start"]}var K=I?z:N?function(Q){return Q.p-it(Q)/2}:function(Q){return Math.min(z(Q),Q.p-L.bardelta/2)},D=I?H:N?function(Q){return Q.p+it(Q)/2}:function(Q){return Math.max(H(Q),Q.p+L.bardelta/2)};function B(Q,at,tt){return p.finiteRange&&(tt=0),f.inbox(Q-v,at-v,tt+Math.min(1,Math.abs(at-Q)/k)-1)}function q(Q){return B(K(Q),D(Q),C)}function nt(Q){var at=Q[d];if(x){var tt=Math.abs(Q.rawS)||0;g>0?at+=tt:g<0&&(at-=tt)}return at}function ot(Q){var at=g,tt=Q.b,_t=nt(Q);return f.inbox(tt-at,_t-at,C+(_t-at)/(_t-tt)-1)}var rt=l[b+"a"],$=l[d+"a"];k=Math.abs(rt.r2c(rt.range[1])-rt.r2c(rt.range[0]));var E=f.getDistanceFunction(_,T,w,function(Q){return(T(Q)+w(Q))/2});if(f.getClosest(P,E,l),l.index!==!1&&P[l.index].p!==o){j||(K=function(Q){return Math.min(z(Q),Q.p-L.bargroupwidth/2)},D=function(Q){return Math.max(H(Q),Q.p+L.bargroupwidth/2)});var S=P[l.index],Y=A.base?S.b+S.s:S.s;l[d+"0"]=l[d+"1"]=$.c2p(S[d],!0),l[d+"LabelVal"]=Y;var Z=L.extents[L.extents.round(S.p)];l[b+"0"]=rt.c2p(I?K(S):Z[0],!0),l[b+"1"]=rt.c2p(I?D(S):Z[1],!0);var G=S.orig_p!==void 0;return l[b+"LabelVal"]=G?S.orig_p:S.p,l.labelLabel=r(rt,l[b+"LabelVal"],A[b+"hoverformat"]),l.valueLabel=r($,l[d+"LabelVal"],A[d+"hoverformat"]),l.baseLabel=r($,S.b,A[d+"hoverformat"]),l.spikeDistance=(function(Q){var at=g,tt=Q.b,_t=nt(Q);return f.inbox(tt-at,_t-at,F+(_t-at)/(_t-tt)-1)}(S)+function(Q){return B(z(Q),H(Q),F)}(S))/2,l[b+"Spike"]=rt.c2p(S.p,!0),a(S,A,l),l.hovertemplate=A.hovertemplate,l}}function e(l,u){var m=u.mcc||l.marker.color,_=u.mlcc||l.marker.line.color,p=n(l,u);return i.opacity(m)?m:i.opacity(_)&&p?_:void 0}J.exports={hoverPoints:function(l,u,m,_,p){var v=s(l,u,m,_,p);if(v){var g=v.cd,b=g[0].trace,d=g[v.index];return v.color=e(b,d),y.getComponentMethod("errorbars","hoverInfo")(d,b,v),[v]}},hoverOnBars:s,getTraceColor:e}},1132:function(J,h,t){J.exports={attributes:t(832),layoutAttributes:t(9324),supplyDefaults:t(1508).supplyDefaults,crossTraceDefaults:t(1508).crossTraceDefaults,supplyLayoutDefaults:t(7156),calc:t(9439),crossTraceCalc:t(6376).crossTraceCalc,colorbar:t(5528),arraysToCalcdata:t(4664),plot:t(8184).plot,style:t(100).style,styleOnSelect:t(100).styleOnSelect,hoverPoints:t(1020).hoverPoints,eventData:t(2160),selectPoints:t(5784),moduleType:"trace",name:"bar",basePlotModule:t(7952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},9324:function(J){J.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},7156:function(J,h,t){var f=t(4040),y=t(4460),i=t(3400),a=t(9324),n=t(1508).validateCornerradius;J.exports=function(r,o,s){function e(T,w){return i.coerce(r,o,a,T,w)}for(var l=!1,u=!1,m=!1,_={},p=e("barmode"),v=0;v<s.length;v++){var g=s[v];if(f.traceIs(g,"bar")&&g.visible){if(l=!0,p==="group"){var b=g.xaxis+g.yaxis;_[b]&&(m=!0),_[b]=!0}g.visible&&g.type==="histogram"&&y.getFromId({_fullLayout:o},g[g.orientation==="v"?"xaxis":"yaxis"]).type!=="category"&&(u=!0)}}if(l){p!=="overlay"&&e("barnorm"),e("bargap",u&&!m?0:.2),e("bargroupgap");var d=e("barcornerradius");o.barcornerradius=n(d)}else delete o.barmode}},8184:function(J,h,t){var f=t(3428),y=t(8248),i=t(3400),a=t(2736),n=t(6308),r=t(3616),o=t(4040),s=t(4460).tickText,e=t(2744),l=e.recordMinTextSize,u=e.clearMinTextSize,m=t(100),_=t(444),p=t(8048),v=t(832),g=v.text,b=v.textposition,d=t(624).appendArrayPointValue,T=p.TEXTPAD;function w(j){return j.id}function k(j){if(j.ids)return w}function P(j){return(j>0)-(j<0)}function A(j,z){return j<z?1:-1}function L(j,z,H,U){var it;return!z.uniformtext.mode&&I(H)?(U&&(it=U()),j.transition().duration(H.duration).ease(H.easing).each("end",function(){it&&it()}).each("interrupt",function(){it&&it()})):j}function I(j){return j&&j.duration>0}function x(j,z,H,U,it){return!(j<0||z<0)&&(H<=j&&U<=z||H<=z&&U<=j||(it?j>=H*(z/U):z>=U*(j/H)))}function C(j){return j==="auto"?0:j}function F(j,z){var H=Math.PI/180*z,U=Math.abs(Math.sin(H)),it=Math.abs(Math.cos(H));return{x:j.width*it+j.height*U,y:j.width*U+j.height*it}}function N(j,z,H,U,it,K){var D=!!K.isHorizontal,B=!!K.constrained,q=K.angle||0,nt=K.anchor,ot=nt==="end",rt=nt==="start",$=((K.leftToRight||0)+1)/2,E=1-$,S=K.hasB,Y=K.r,Z=K.overhead,G=it.width,Q=it.height,at=Math.abs(z-j),tt=Math.abs(U-H),_t=at>2*T&&tt>2*T?T:0;at-=2*_t,tt-=2*_t;var Pt=C(q);q!=="auto"||G<=at&&Q<=tt||!(G>at||Q>tt)||(G>tt||Q>at)&&G<Q==at<tt||(Pt+=90);var kt,lt,st=F(it,Pt);if(Y&&Y-Z>T){var ht=function(yt,Mt,Tt,Lt,St,At,Nt,zt,Ft){var Gt,Bt,de,ie,pe=Math.max(0,Math.abs(Mt-yt)-2*T),Ot=Math.max(0,Math.abs(Lt-Tt)-2*T),gt=At-T,jt=Nt?gt-Math.sqrt(gt*gt-(gt-Nt)*(gt-Nt)):gt,Xt=Ft?2*gt:zt?gt-Nt:2*jt,xe=Ft?2*gt:zt?2*jt:gt-Nt;return St.y/St.x>=Ot/(pe-Xt)?ie=Ot/St.y:St.y/St.x<=(Ot-xe)/pe?ie=pe/St.x:!Ft&&zt?(Gt=St.x*St.x+St.y*St.y/4,de=(pe-gt)*(pe-gt)+(Ot/2-gt)*(Ot/2-gt)-gt*gt,ie=(-(Bt=-2*St.x*(pe-gt)-St.y*(Ot/2-gt))+Math.sqrt(Bt*Bt-4*Gt*de))/(2*Gt)):Ft?(Gt=(St.x*St.x+St.y*St.y)/4,de=(pe/2-gt)*(pe/2-gt)+(Ot/2-gt)*(Ot/2-gt)-gt*gt,ie=(-(Bt=-St.x*(pe/2-gt)-St.y*(Ot/2-gt))+Math.sqrt(Bt*Bt-4*Gt*de))/(2*Gt)):(Gt=St.x*St.x/4+St.y*St.y,de=(pe/2-gt)*(pe/2-gt)+(Ot-gt)*(Ot-gt)-gt*gt,ie=(-(Bt=-St.x*(pe/2-gt)-2*St.y*(Ot-gt))+Math.sqrt(Bt*Bt-4*Gt*de))/(2*Gt)),{scale:ie=Math.min(1,ie),pad:zt?Math.max(0,gt-Math.sqrt(Math.max(0,gt*gt-(gt-(Ot-St.y*ie)/2)*(gt-(Ot-St.y*ie)/2)))-Nt):Math.max(0,gt-Math.sqrt(Math.max(0,gt*gt-(gt-(pe-St.x*ie)/2)*(gt-(pe-St.x*ie)/2)))-Nt)}}(j,z,H,U,st,Y,Z,D,S);kt=ht.scale,lt=ht.pad}else kt=1,B&&(kt=Math.min(1,at/st.x,tt/st.y)),lt=0;var bt=it.left*E+it.right*$,pt=(it.top+it.bottom)/2,Dt=(j+T)*E+(z-T)*$,qt=(H+U)/2,ct=0,xt=0;if(rt||ot){var dt=(D?st.x:st.y)/2;Y&&(ot||S)&&(_t+=lt);var vt=D?A(j,z):A(H,U);D?rt?(Dt=j+vt*_t,ct=-vt*dt):(Dt=z-vt*_t,ct=vt*dt):rt?(qt=H+vt*_t,xt=-vt*dt):(qt=U-vt*_t,xt=vt*dt)}return{textX:bt,textY:pt,targetX:Dt,targetY:qt,anchorX:ct,anchorY:xt,scale:kt,rotate:Pt}}J.exports={plot:function(j,z,H,U,it,K){var D=z.xaxis,B=z.yaxis,q=j._fullLayout,nt=j._context.staticPlot;it||(it={mode:q.barmode,norm:q.barmode,gap:q.bargap,groupgap:q.bargroupgap},u("bar",q));var ot=i.makeTraceGroups(U,H,"trace bars").each(function(rt){var $=f.select(this),E=rt[0].trace,S=rt[0].t,Y=E.type==="waterfall",Z=E.type==="funnel",G=E.type==="histogram",Q=E.type==="bar",at=Q||Z,tt=0;Y&&E.connector.visible&&E.connector.mode==="between"&&(tt=E.connector.line.width/2);var _t=E.orientation==="h",Pt=I(it),kt=i.ensureSingle($,"g","points"),lt=k(E),st=kt.selectAll("g.point").data(i.identity,lt);st.enter().append("g").classed("point",!0),st.exit().remove(),st.each(function(bt,pt){var Dt,qt,ct=f.select(this),xt=function(te,X,et,It){var Ct=[],Ut=[],Rt=It?X:et,Ht=It?et:X;return Ct[0]=Rt.c2p(te.s0,!0),Ut[0]=Ht.c2p(te.p0,!0),Ct[1]=Rt.c2p(te.s1,!0),Ut[1]=Ht.c2p(te.p1,!0),It?[Ct,Ut]:[Ut,Ct]}(bt,D,B,_t),dt=xt[0][0],vt=xt[0][1],yt=xt[1][0],Mt=xt[1][1],Tt=(_t?vt-dt:Mt-yt)==0;if(Tt&&at&&_.getLineWidth(E,bt)&&(Tt=!1),Tt||(Tt=!(y(dt)&&y(vt)&&y(yt)&&y(Mt))),bt.isBlank=Tt,Tt&&(_t?vt=dt:Mt=yt),tt&&!Tt&&(_t?(dt-=A(dt,vt)*tt,vt+=A(dt,vt)*tt):(yt-=A(yt,Mt)*tt,Mt+=A(yt,Mt)*tt)),E.type==="waterfall"){if(!Tt){var Lt=E[bt.dir].marker;Dt=Lt.line.width,qt=Lt.color}}else Dt=_.getLineWidth(E,bt),qt=bt.mc||E.marker.color;function St(te){var X=f.round(Dt/2%1,2);return it.gap===0&&it.groupgap===0?f.round(Math.round(te)-X,2):te}var At=n.opacity(qt)<1||Dt>.01?St:function(te,X,et){return et&&te===X?te:Math.abs(te-X)>=2?St(te):te>X?Math.ceil(te):Math.floor(te)};j._context.staticPlot||(dt=At(dt,vt,_t),vt=At(vt,dt,_t),yt=At(yt,Mt,!_t),Mt=At(Mt,yt,!_t));var Nt,zt=_t?D.c2p:B.c2p;Nt=bt.s0>0?bt._sMax:bt.s0<0?bt._sMin:bt.s1>0?bt._sMax:bt._sMin;var Ft,Gt,Bt=Q||G?function(te,X){if(!te)return 0;var et,It=Math.abs(_t?Mt-yt:vt-dt),Ct=Math.abs(_t?vt-dt:Mt-yt),Ut=At(Math.abs(zt(Nt,!0)-zt(0,!0))),Rt=bt.hasB?Math.min(It/2,Ct/2):Math.min(It/2,Ut);return et=X==="%"?It*(Math.min(50,te)/100):te,At(Math.max(Math.min(et,Rt),0))}(S.cornerradiusvalue,S.cornerradiusform):0,de="M"+dt+","+yt+"V"+Mt+"H"+vt+"V"+yt+"Z",ie=0;if(Bt&&bt.s){var pe=P(bt.s0)===0||P(bt.s)===P(bt.s0)?bt.s1:bt.s0;if((ie=At(bt.hasB?0:Math.abs(zt(Nt,!0)-zt(pe,!0))))<Bt){var Ot=A(dt,vt),gt=A(yt,Mt),jt=Ot===-gt?1:0;if(_t)if(bt.hasB)Ft="M"+(dt+Bt*Ot)+","+yt+"A "+Bt+","+Bt+" 0 0 "+jt+" "+dt+","+(yt+Bt*gt)+"V"+(Mt-Bt*gt)+"A "+Bt+","+Bt+" 0 0 "+jt+" "+(dt+Bt*Ot)+","+Mt+"H"+(vt-Bt*Ot)+"A "+Bt+","+Bt+" 0 0 "+jt+" "+vt+","+(Mt-Bt*gt)+"V"+(yt+Bt*gt)+"A "+Bt+","+Bt+" 0 0 "+jt+" "+(vt-Bt*Ot)+","+yt+"Z";else{var Xt=(Gt=Math.abs(vt-dt)+ie)<Bt?Bt-Math.sqrt(Gt*(2*Bt-Gt)):0,xe=ie>0?Math.sqrt(ie*(2*Bt-ie)):0,Vt=Ot>0?Math.max:Math.min;Ft="M"+dt+","+yt+"V"+(Mt-Xt*gt)+"H"+Vt(vt-(Bt-ie)*Ot,dt)+"A "+Bt+","+Bt+" 0 0 "+jt+" "+vt+","+(Mt-Bt*gt-xe)+"V"+(yt+Bt*gt+xe)+"A "+Bt+","+Bt+" 0 0 "+jt+" "+Vt(vt-(Bt-ie)*Ot,dt)+","+(yt+Xt*gt)+"Z"}else if(bt.hasB)Ft="M"+(dt+Bt*Ot)+","+yt+"A "+Bt+","+Bt+" 0 0 "+jt+" "+dt+","+(yt+Bt*gt)+"V"+(Mt-Bt*gt)+"A "+Bt+","+Bt+" 0 0 "+jt+" "+(dt+Bt*Ot)+","+Mt+"H"+(vt-Bt*Ot)+"A "+Bt+","+Bt+" 0 0 "+jt+" "+vt+","+(Mt-Bt*gt)+"V"+(yt+Bt*gt)+"A "+Bt+","+Bt+" 0 0 "+jt+" "+(vt-Bt*Ot)+","+yt+"Z";else{var Qt=(Gt=Math.abs(Mt-yt)+ie)<Bt?Bt-Math.sqrt(Gt*(2*Bt-Gt)):0,re=ie>0?Math.sqrt(ie*(2*Bt-ie)):0,_e=gt>0?Math.max:Math.min;Ft="M"+(dt+Qt*Ot)+","+yt+"V"+_e(Mt-(Bt-ie)*gt,yt)+"A "+Bt+","+Bt+" 0 0 "+jt+" "+(dt+Bt*Ot-re)+","+Mt+"H"+(vt-Bt*Ot+re)+"A "+Bt+","+Bt+" 0 0 "+jt+" "+(vt-Qt*Ot)+","+_e(Mt-(Bt-ie)*gt,yt)+"V"+yt+"Z"}}else Ft=de}else Ft=de;var ce=L(i.ensureSingle(ct,"path"),q,it,K);if(ce.style("vector-effect",nt?"none":"non-scaling-stroke").attr("d",isNaN((vt-dt)*(Mt-yt))||Tt&&j._context.staticPlot?"M0,0Z":Ft).call(r.setClipUrl,z.layerClipId,j),!q.uniformtext.mode&&Pt){var Me=r.makePointStyleFns(E);r.singlePointStyle(bt,ce,E,Me,j)}(function(te,X,et,It,Ct,Ut,Rt,Ht,Zt,Kt,oe,ue,Se){var he,ve=X.xaxis,ke=X.yaxis,Ae=te._fullLayout;function ee(Un,Fn,Mn){return i.ensureSingle(Un,"text").text(Fn).attr({class:"bartext bartext-"+he,"text-anchor":"middle","data-notex":1}).call(r.font,Mn).call(a.convertToTspans,te)}var fe=It[0].trace,ge=fe.orientation==="h",je=function(Un,Fn,Mn,kn,Ke){var hn,$e=Fn[0].trace;return hn=$e.texttemplate?function(on,mn,Xe,Be,We){var nn=mn[0].trace,tn=i.castOption(nn,Xe,"texttemplate");if(!tn)return"";var pn,ln,un,An,Nn=nn.type==="histogram",Ln=nn.type==="waterfall",En=nn.type==="funnel",In=nn.orientation==="h";function _n(nr){return s(An,An.c2l(nr),!0).text}In?(pn="y",ln=We,un="x",An=Be):(pn="x",ln=Be,un="y",An=We);var jn,Sn=mn[Xe],xn={};xn.label=Sn.p,xn.labelLabel=xn[pn+"Label"]=(jn=Sn.p,s(ln,ln.c2l(jn),!0).text);var Qn=i.castOption(nn,Sn.i,"text");(Qn===0||Qn)&&(xn.text=Qn),xn.value=Sn.s,xn.valueLabel=xn[un+"Label"]=_n(Sn.s);var Yn={};d(Yn,nn,Sn.i),(Nn||Yn.x===void 0)&&(Yn.x=In?xn.value:xn.label),(Nn||Yn.y===void 0)&&(Yn.y=In?xn.label:xn.value),(Nn||Yn.xLabel===void 0)&&(Yn.xLabel=In?xn.valueLabel:xn.labelLabel),(Nn||Yn.yLabel===void 0)&&(Yn.yLabel=In?xn.labelLabel:xn.valueLabel),Ln&&(xn.delta=+Sn.rawS||Sn.s,xn.deltaLabel=_n(xn.delta),xn.final=Sn.v,xn.finalLabel=_n(xn.final),xn.initial=xn.final-xn.delta,xn.initialLabel=_n(xn.initial)),En&&(xn.value=Sn.s,xn.valueLabel=_n(xn.value),xn.percentInitial=Sn.begR,xn.percentInitialLabel=i.formatPercent(Sn.begR),xn.percentPrevious=Sn.difR,xn.percentPreviousLabel=i.formatPercent(Sn.difR),xn.percentTotal=Sn.sumR,xn.percenTotalLabel=i.formatPercent(Sn.sumR));var lr=i.castOption(nn,Sn.i,"customdata");return lr&&(xn.customdata=lr),i.texttemplateString(tn,xn,on._d3locale,Yn,xn,nn._meta||{})}(Un,Fn,Mn,kn,Ke):$e.textinfo?function(on,mn,Xe,Be){var We=on[0].trace,nn=We.orientation==="h",tn=We.type==="waterfall",pn=We.type==="funnel";function ln(lr){return s(nn?Xe:Be,+lr,!0).text}var un,An,Nn=We.textinfo,Ln=on[mn],En=Nn.split("+"),In=[],_n=function(lr){return En.indexOf(lr)!==-1};if(_n("label")&&In.push((An=on[mn].p,s(nn?Be:Xe,An,!0).text)),_n("text")&&((un=i.castOption(We,Ln.i,"text"))===0||un)&&In.push(un),tn){var jn=+Ln.rawS||Ln.s,Sn=Ln.v,xn=Sn-jn;_n("initial")&&In.push(ln(xn)),_n("delta")&&In.push(ln(jn)),_n("final")&&In.push(ln(Sn))}if(pn){_n("value")&&In.push(ln(Ln.s));var Qn=0;_n("percent initial")&&Qn++,_n("percent previous")&&Qn++,_n("percent total")&&Qn++;var Yn=Qn>1;_n("percent initial")&&(un=i.formatPercent(Ln.begR),Yn&&(un+=" of initial"),In.push(un)),_n("percent previous")&&(un=i.formatPercent(Ln.difR),Yn&&(un+=" of previous"),In.push(un)),_n("percent total")&&(un=i.formatPercent(Ln.sumR),Yn&&(un+=" of total"),In.push(un))}return In.join("<br>")}(Fn,Mn,kn,Ke):_.getValue($e.text,Mn),_.coerceString(g,hn)}(Ae,It,Ct,ve,ke);he=function(Un,Fn){var Mn=_.getValue(Un.textposition,Fn);return _.coerceEnumerated(b,Mn)}(fe,Ct);var Ie=ue.mode==="stack"||ue.mode==="relative",Fe=It[Ct],ye=!Ie||Fe._outmost,be=Fe.hasB,Te=Kt&&Kt-oe>T;if(je&&he!=="none"&&(!Fe.isBlank&&Ut!==Rt&&Ht!==Zt||he!=="auto"&&he!=="inside")){var Pe=Ae.font,Le=m.getBarColor(It[Ct],fe),Oe=m.getInsideTextFont(fe,Ct,Pe,Le),Ee=m.getOutsideTextFont(fe,Ct,Pe),He=fe.insidetextanchor||"end",ze=et.datum();ge?ve.type==="log"&&ze.s0<=0&&(Ut=ve.range[0]<ve.range[1]?0:ve._length):ke.type==="log"&&ze.s0<=0&&(Ht=ke.range[0]<ke.range[1]?ke._length:0);var Ne,Ye,Ze,Re,Ge,Je=Math.abs(Rt-Ut),fn=Math.abs(Zt-Ht),gn=Je-2*T,sn=fn-2*T;if(he==="outside"&&(ye||Fe.hasB||(he="inside")),he==="auto")if(ye){he="inside",Ne=ee(et,je,Ge=i.ensureUniformFontSize(te,Oe)),Ze=(Ye=r.bBox(Ne.node())).width,Re=Ye.height;var Cn,Tn=Ze>0&&Re>0;Cn=Te?be?x(gn-2*Kt,sn,Ze,Re,ge)||x(gn,sn-2*Kt,Ze,Re,ge):ge?x(gn-(Kt-oe),sn,Ze,Re,ge)||x(gn,sn-2*(Kt-oe),Ze,Re,ge):x(gn,sn-(Kt-oe),Ze,Re,ge)||x(gn-2*(Kt-oe),sn,Ze,Re,ge):x(gn,sn,Ze,Re,ge),Tn&&Cn?he="inside":(he="outside",Ne.remove(),Ne=null)}else he="inside";if(!Ne){var On=(Ne=ee(et,je,Ge=i.ensureUniformFontSize(te,he==="outside"?Ee:Oe))).attr("transform");if(Ne.attr("transform",""),Ze=(Ye=r.bBox(Ne.node())).width,Re=Ye.height,Ne.attr("transform",On),Ze<=0||Re<=0)return void Ne.remove()}var Pn,zn=fe.textangle;Pn=he==="outside"?function(Un,Fn,Mn,kn,Ke,hn){var $e,on=!!hn.isHorizontal,mn=!!hn.constrained,Xe=hn.angle||0,Be=Ke.width,We=Ke.height,nn=Math.abs(Fn-Un),tn=Math.abs(kn-Mn);$e=on?tn>2*T?T:0:nn>2*T?T:0;var pn=1;mn&&(pn=on?Math.min(1,tn/We):Math.min(1,nn/Be));var ln=C(Xe),un=F(Ke,ln),An=(on?un.x:un.y)/2,Nn=(Ke.left+Ke.right)/2,Ln=(Ke.top+Ke.bottom)/2,En=(Un+Fn)/2,In=(Mn+kn)/2,_n=0,jn=0,Sn=on?A(Fn,Un):A(Mn,kn);return on?(En=Fn-Sn*$e,_n=Sn*An):(In=kn+Sn*$e,jn=-Sn*An),{textX:Nn,textY:Ln,targetX:En,targetY:In,anchorX:_n,anchorY:jn,scale:pn,rotate:ln}}(Ut,Rt,Ht,Zt,Ye,{isHorizontal:ge,constrained:fe.constraintext==="both"||fe.constraintext==="outside",angle:zn}):N(Ut,Rt,Ht,Zt,Ye,{isHorizontal:ge,constrained:fe.constraintext==="both"||fe.constraintext==="inside",angle:zn,anchor:He,hasB:be,r:Kt,overhead:oe}),Pn.fontSize=Ge.size,l(fe.type==="histogram"?"bar":fe.type,Pn,Ae),Fe.transform=Pn;var Bn=L(Ne,Ae,ue,Se);i.setTransormAndDisplay(Bn,Pn)}else et.select("text").remove()})(j,z,ct,rt,pt,dt,vt,yt,Mt,Bt,ie,it,K),z.layerClipId&&r.hideOutsideRangePoint(bt,ct.select("text"),D,B,E.xcalendar,E.ycalendar)});var ht=E.cliponaxis===!1;r.setClipUrl($,ht?null:z.layerClipId,j)});o.getComponentMethod("errorbars","plot")(j,ot,z,it)},toMoveInsideBar:N}},5784:function(J){function h(t,f,y,i,a){var n=f.c2p(i?t.s0:t.p0,!0),r=f.c2p(i?t.s1:t.p1,!0),o=y.c2p(i?t.p0:t.s0,!0),s=y.c2p(i?t.p1:t.s1,!0);return a?[(n+r)/2,(o+s)/2]:i?[r,(o+s)/2]:[(n+r)/2,s]}J.exports=function(t,f){var y,i=t.cd,a=t.xaxis,n=t.yaxis,r=i[0].trace,o=r.type==="funnel",s=r.orientation==="h",e=[];if(f===!1)for(y=0;y<i.length;y++)i[y].selected=0;else for(y=0;y<i.length;y++){var l=i[y],u="ct"in l?l.ct:h(l,a,n,s,o);f.contains(u,!1,y,t)?(e.push({pointNumber:y,x:a.c2d(l.x),y:n.c2d(l.y)}),l.selected=1):l.selected=0}return e}},2592:function(J,h,t){J.exports=y;var f=t(3400).distinctVals;function y(i,a){this.traces=i,this.sepNegVal=a.sepNegVal,this.overlapNoMerge=a.overlapNoMerge;for(var n=1/0,r=a.posAxis._id.charAt(0),o=[],s=0;s<i.length;s++){for(var e=i[s],l=0;l<e.length;l++){var u=e[l],m=u.p;m===void 0&&(m=u[r]),m!==void 0&&o.push(m)}e[0]&&e[0].width1&&(n=Math.min(e[0].width1,n))}this.positions=o;var _=f(o);this.distinctPositions=_.vals,_.vals.length===1&&n!==1/0?this.minDiff=n:this.minDiff=Math.min(_.minDiff,n);var p=(a.posAxis||{}).type;p!=="category"&&p!=="multicategory"||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}y.prototype.put=function(i,a){var n=this.getLabel(i,a),r=this.bins[n]||0;return this.bins[n]=r+a,r},y.prototype.get=function(i,a){var n=this.getLabel(i,a);return this.bins[n]||0},y.prototype.getLabel=function(i,a){return(a<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?i:Math.round(i/this.binWidth))}},100:function(J,h,t){var f=t(3428),y=t(6308),i=t(3616),a=t(3400),n=t(4040),r=t(2744).resizeText,o=t(832),s=o.textfont,e=o.insidetextfont,l=o.outsidetextfont,u=t(444);function m(w,k,P){i.pointStyle(w.selectAll("path"),k,P),_(w,k,P)}function _(w,k,P){w.selectAll("text").each(function(A){var L=f.select(this),I=a.ensureUniformFontSize(P,p(L,A,k,P));i.font(L,I)})}function p(w,k,P,A){var L=A._fullLayout.font,I=P.textfont;if(w.classed("bartext-inside")){var x=T(k,P);I=g(P,k.i,L,x)}else w.classed("bartext-outside")&&(I=b(P,k.i,L));return I}function v(w,k,P){return d(s,w.textfont,k,P)}function g(w,k,P,A){var L=v(w,k,P);return(w._input.textfont===void 0||w._input.textfont.color===void 0||Array.isArray(w.textfont.color)&&w.textfont.color[k]===void 0)&&(L={color:y.contrast(A),family:L.family,size:L.size}),d(e,w.insidetextfont,k,L)}function b(w,k,P){var A=v(w,k,P);return d(l,w.outsidetextfont,k,A)}function d(w,k,P,A){k=k||{};var L=u.getValue(k.family,P),I=u.getValue(k.size,P),x=u.getValue(k.color,P);return{family:u.coerceString(w.family,L,A.family),size:u.coerceNumber(w.size,I,A.size),color:u.coerceColor(w.color,x,A.color)}}function T(w,k){return k.type==="waterfall"?k[w.dir].marker.color:w.mcc||w.mc||k.marker.color}J.exports={style:function(w){var k=f.select(w).selectAll('g[class^="barlayer"]').selectAll("g.trace");r(w,k,"bar");var P=k.size(),A=w._fullLayout;k.style("opacity",function(L){return L[0].trace.opacity}).each(function(L){(A.barmode==="stack"&&P>1||A.bargap===0&&A.bargroupgap===0&&!L[0].trace.marker.line.width)&&f.select(this).attr("shape-rendering","crispEdges")}),k.selectAll("g.points").each(function(L){m(f.select(this),L[0].trace,w)}),n.getComponentMethod("errorbars","style")(k)},styleTextPoints:_,styleOnSelect:function(w,k,P){var A=k[0].trace;A.selectedpoints?function(L,I,x){i.selectedPointStyle(L.selectAll("path"),I),function(C,F,N){C.each(function(j){var z,H=f.select(this);if(j.selected){z=a.ensureUniformFontSize(N,p(H,j,F,N));var U=F.selected.textfont&&F.selected.textfont.color;U&&(z.color=U),i.font(H,z)}else i.selectedTextStyle(H,F)})}(L.selectAll("text"),I,x)}(P,A,w):(m(P,A,w),n.getComponentMethod("errorbars","style")(P))},getInsideTextFont:g,getOutsideTextFont:b,getBarColor:T,resizeText:r}},5592:function(J,h,t){var f=t(6308),y=t(4288).hasColorscale,i=t(7260),a=t(3400).coercePattern;J.exports=function(n,r,o,s,e){var l=o("marker.color",s),u=y(n,"marker");u&&i(n,r,e,o,{prefix:"marker.",cLetter:"c"}),o("marker.line.color",f.defaultLine),y(n,"marker.line")&&i(n,r,e,o,{prefix:"marker.line.",cLetter:"c"}),o("marker.line.width"),o("marker.opacity"),a(o,"marker.pattern",l,u),o("selected.marker.color"),o("unselected.marker.color")}},2744:function(J,h,t){var f=t(3428),y=t(3400);function i(a){return"_"+a+"Text_minsize"}J.exports={recordMinTextSize:function(a,n,r){if(r.uniformtext.mode){var o=i(a),s=r.uniformtext.minsize,e=n.scale*n.fontSize;n.hide=e<s,r[o]=r[o]||1/0,n.hide||(r[o]=Math.min(r[o],Math.max(e,s)))}},clearMinTextSize:function(a,n){n[i(a)]=void 0},resizeText:function(a,n,r){var o=a._fullLayout,s=o["_"+r+"Text_minsize"];if(s){var e,l=o.uniformtext.mode==="hide";switch(r){case"funnelarea":case"pie":case"sunburst":e="g.slice";break;case"treemap":case"icicle":e="g.slice, g.pathbar";break;default:e="g.points > g.point"}n.selectAll(e).each(function(u){var m=u.transform;if(m){m.scale=l&&m.hide?0:s/m.fontSize;var _=f.select(this).select("text");y.setTransormAndDisplay(_,m)}})}}}},4996:function(J,h,t){var f=t(5464),y=t(6968).u,i=t(5376),a=t(2548),n=t(1776).Ks,r=t(1776).Gw,o=t(2880).extendFlat,s=t(8192).c,e=i({editType:"plot",arrayOk:!0,colorEditType:"plot"});J.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:s,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:o({},f.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:n({},{keys:["label","color","value","percent","text"]}),texttemplate:r({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:o({},e,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:o({},e,{}),outsidetextfont:o({},e,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:o({},e,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:y({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:o({},e,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},36:function(J,h,t){var f=t(7316);h.name="pie",h.plot=function(y,i,a,n){f.plotBasePlot(h.name,y,i,a,n)},h.clean=function(y,i,a,n){f.cleanBasePlot(h.name,y,i,a,n)}},5768:function(J,h,t){var f=t(8248),y=t(9760),i=t(6308),a={};function n(o){return function(s,e){return!!s&&!!(s=y(s)).isValid()&&(s=i.addOpacity(s,s.getAlpha()),o[e]||(o[e]=s),s)}}function r(o,s){var e,l=JSON.stringify(o),u=s[l];if(!u){for(u=o.slice(),e=0;e<o.length;e++)u.push(y(o[e]).lighten(20).toHexString());for(e=0;e<o.length;e++)u.push(y(o[e]).darken(20).toHexString());s[l]=u}return u}J.exports={calc:function(o,s){var e,l,u=[],m=o._fullLayout,_=m.hiddenlabels||[],p=s.labels,v=s.marker.colors||[],g=s.values,b=s._length,d=s._hasValues&&b;if(s.dlabel)for(p=new Array(b),e=0;e<b;e++)p[e]=String(s.label0+e*s.dlabel);var T={},w=n(m["_"+s.type+"colormap"]),k=0,P=!1;for(e=0;e<b;e++){var A,L,I;if(d){if(A=g[e],!f(A))continue;A=+A}else A=1;(L=p[e])!==void 0&&L!==""||(L=e);var x=T[L=String(L)];x===void 0?(T[L]=u.length,(I=_.indexOf(L)!==-1)||(k+=A),u.push({v:A,label:L,color:w(v[e],L),i:e,pts:[e],hidden:I})):(P=!0,(l=u[x]).v+=A,l.pts.push(e),l.hidden||(k+=A),l.color===!1&&v[e]&&(l.color=w(v[e],L)))}return u=u.filter(function(C){return C.v>=0}),(s.type==="funnelarea"?P:s.sort)&&u.sort(function(C,F){return F.v-C.v}),u[0]&&(u[0].vTotal=k),u},crossTraceCalc:function(o,s){var e=(s||{}).type;e||(e="pie");var l=o._fullLayout,u=o.calcdata,m=l[e+"colorway"],_=l["_"+e+"colormap"];l["extend"+e+"colors"]&&(m=r(m,a));for(var p=0,v=0;v<u.length;v++){var g=u[v];if(g[0].trace.type===e)for(var b=0;b<g.length;b++){var d=g[b];d.color===!1&&(_[d.label]?d.color=_[d.label]:(_[d.label]=d.color=m[p%m.length],p++))}}},makePullColorFn:n,generateExtendedColors:r}},4174:function(J,h,t){var f=t(8248),y=t(3400),i=t(4996),a=t(6968).Q,n=t(1508).handleText,r=t(3400).coercePattern;function o(e,l){var u=y.isArrayOrTypedArray(e),m=y.isArrayOrTypedArray(l),_=Math.min(u?e.length:1/0,m?l.length:1/0);if(isFinite(_)||(_=0),_&&m){for(var p,v=0;v<_;v++){var g=l[v];if(f(g)&&g>0){p=!0;break}}p||(_=0)}return{hasLabels:u,hasValues:m,len:_}}function s(e,l,u,m,_){m("marker.line.width")&&m("marker.line.color",_?void 0:u.paper_bgcolor);var p=m("marker.colors");r(m,"marker.pattern",p),e.marker&&!l.marker.pattern.fgcolor&&(l.marker.pattern.fgcolor=e.marker.colors),l.marker.pattern.bgcolor||(l.marker.pattern.bgcolor=u.paper_bgcolor)}J.exports={handleLabelsAndValues:o,handleMarkerDefaults:s,supplyDefaults:function(e,l,u,m){function _(P,A){return y.coerce(e,l,i,P,A)}var p=o(_("labels"),_("values")),v=p.len;if(l._hasLabels=p.hasLabels,l._hasValues=p.hasValues,!l._hasLabels&&l._hasValues&&(_("label0"),_("dlabel")),v){l._length=v,s(e,l,m,_,!0),_("scalegroup");var g,b=_("text"),d=_("texttemplate");if(d||(g=_("textinfo",y.isArrayOrTypedArray(b)?"text+percent":"percent")),_("hovertext"),_("hovertemplate"),d||g&&g!=="none"){var T=_("textposition");n(e,l,m,_,T,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(T)||T==="auto"||T==="outside")&&_("automargin"),(T==="inside"||T==="auto"||Array.isArray(T))&&_("insidetextorientation")}else g==="none"&&_("textposition","none");a(l,m,_);var w=_("hole");if(_("title.text")){var k=_("title.position",w?"middle center":"top center");w||k!=="middle center"||(l.title.position="top center"),y.coerceFont(_,"title.font",m.font)}_("sort"),_("direction"),_("rotation"),_("pull")}else l.visible=!1}}},3644:function(J,h,t){var f=t(624).appendArrayMultiPointValues;J.exports=function(y,i){var a={curveNumber:i.index,pointNumbers:y.pts,data:i._input,fullData:i,label:y.label,color:y.color,value:y.v,percent:y.percent,text:y.text,bbox:y.bbox,v:y.v};return y.pts.length===1&&(a.pointNumber=a.i=y.pts[0]),f(a,i,y.pts),i.type==="funnelarea"&&(delete a.v,delete a.i),a}},1552:function(J,h,t){var f=t(3616),y=t(6308);J.exports=function(i,a,n,r){var o=n.marker.pattern;o&&o.shape?f.pointStyle(i,n,r,a):y.fill(i,a.color)}},9656:function(J,h,t){var f=t(3400);function y(i){return i.indexOf("e")!==-1?i.replace(/[.]?0+e/,"e"):i.indexOf(".")!==-1?i.replace(/[.]?0+$/,""):i}h.formatPiePercent=function(i,a){var n=y((100*i).toPrecision(3));return f.numSeparate(n,a)+"%"},h.formatPieValue=function(i,a){var n=y(i.toPrecision(10));return f.numSeparate(n,a)},h.getFirstFilled=function(i,a){if(f.isArrayOrTypedArray(i))for(var n=0;n<a.length;n++){var r=i[a[n]];if(r||r===0||r==="")return r}},h.castOption=function(i,a){return f.isArrayOrTypedArray(i)?h.getFirstFilled(i,a):i||void 0},h.getRotationAngle=function(i){return(i==="auto"?0:i)*Math.PI/180}},5792:function(J,h,t){J.exports={attributes:t(4996),supplyDefaults:t(4174).supplyDefaults,supplyLayoutDefaults:t(248),layoutAttributes:t(5204),calc:t(5768).calc,crossTraceCalc:t(5768).crossTraceCalc,plot:t(7820).plot,style:t(2152),styleOne:t(528),moduleType:"trace",name:"pie",basePlotModule:t(36),categories:["pie-like","pie","showLegend"],meta:{}}},5204:function(J){J.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},248:function(J,h,t){var f=t(3400),y=t(5204);J.exports=function(i,a){function n(r,o){return f.coerce(i,a,y,r,o)}n("hiddenlabels"),n("piecolorway",a.colorway),n("extendpiecolors")}},7820:function(J,h,t){var f=t(3428),y=t(7316),i=t(3024),a=t(6308),n=t(3616),r=t(3400),o=r.strScale,s=r.strTranslate,e=t(2736),l=t(2744),u=l.recordMinTextSize,m=l.clearMinTextSize,_=t(8048).TEXTPAD,p=t(9656),v=t(3644),g=t(3400).isValidTextValue;function b(K,D,B){var q=B[0],nt=q.cx,ot=q.cy,rt=q.trace,$=rt.type==="funnelarea";"_hasHoverLabel"in rt||(rt._hasHoverLabel=!1),"_hasHoverEvent"in rt||(rt._hasHoverEvent=!1),K.on("mouseover",function(E){var S=D._fullLayout,Y=D._fullData[rt.index];if(!D._dragging&&S.hovermode!==!1){var Z=Y.hoverinfo;if(Array.isArray(Z)&&(Z=i.castHoverinfo({hoverinfo:[p.castOption(Z,E.pts)],_module:rt._module},S,0)),Z==="all"&&(Z="label+text+value+percent+name"),Y.hovertemplate||Z!=="none"&&Z!=="skip"&&Z){var G=E.rInscribed||0,Q=nt+E.pxmid[0]*(1-G),at=ot+E.pxmid[1]*(1-G),tt=S.separators,_t=[];if(Z&&Z.indexOf("label")!==-1&&_t.push(E.label),E.text=p.castOption(Y.hovertext||Y.text,E.pts),Z&&Z.indexOf("text")!==-1){var Pt=E.text;r.isValidTextValue(Pt)&&_t.push(Pt)}E.value=E.v,E.valueLabel=p.formatPieValue(E.v,tt),Z&&Z.indexOf("value")!==-1&&_t.push(E.valueLabel),E.percent=E.v/q.vTotal,E.percentLabel=p.formatPiePercent(E.percent,tt),Z&&Z.indexOf("percent")!==-1&&_t.push(E.percentLabel);var kt=Y.hoverlabel,lt=kt.font,st=[];i.loneHover({trace:rt,x0:Q-G*q.r,x1:Q+G*q.r,y:at,_x0:$?nt+E.TL[0]:Q-G*q.r,_x1:$?nt+E.TR[0]:Q+G*q.r,_y0:$?ot+E.TL[1]:at-G*q.r,_y1:$?ot+E.BL[1]:at+G*q.r,text:_t.join("<br>"),name:Y.hovertemplate||Z.indexOf("name")!==-1?Y.name:void 0,idealAlign:E.pxmid[0]<0?"left":"right",color:p.castOption(kt.bgcolor,E.pts)||E.color,borderColor:p.castOption(kt.bordercolor,E.pts),fontFamily:p.castOption(lt.family,E.pts),fontSize:p.castOption(lt.size,E.pts),fontColor:p.castOption(lt.color,E.pts),nameLength:p.castOption(kt.namelength,E.pts),textAlign:p.castOption(kt.align,E.pts),hovertemplate:p.castOption(Y.hovertemplate,E.pts),hovertemplateLabels:E,eventData:[v(E,Y)]},{container:S._hoverlayer.node(),outerContainer:S._paper.node(),gd:D,inOut_bbox:st}),E.bbox=st[0],rt._hasHoverLabel=!0}rt._hasHoverEvent=!0,D.emit("plotly_hover",{points:[v(E,Y)],event:f.event})}}),K.on("mouseout",function(E){var S=D._fullLayout,Y=D._fullData[rt.index],Z=f.select(this).datum();rt._hasHoverEvent&&(E.originalEvent=f.event,D.emit("plotly_unhover",{points:[v(Z,Y)],event:f.event}),rt._hasHoverEvent=!1),rt._hasHoverLabel&&(i.loneUnhover(S._hoverlayer.node()),rt._hasHoverLabel=!1)}),K.on("click",function(E){var S=D._fullLayout,Y=D._fullData[rt.index];D._dragging||S.hovermode===!1||(D._hoverdata=[v(E,Y)],i.click(D,f.event))})}function d(K,D,B){var q=p.castOption(K.insidetextfont.color,D.pts);!q&&K._input.textfont&&(q=p.castOption(K._input.textfont.color,D.pts));var nt=p.castOption(K.insidetextfont.family,D.pts)||p.castOption(K.textfont.family,D.pts)||B.family,ot=p.castOption(K.insidetextfont.size,D.pts)||p.castOption(K.textfont.size,D.pts)||B.size;return{color:q||a.contrast(D.color),family:nt,size:ot}}function T(K,D){for(var B,q,nt=0;nt<K.length;nt++)if((q=(B=K[nt][0]).trace).title.text){var ot=q.title.text;q._meta&&(ot=r.templateString(ot,q._meta));var rt=n.tester.append("text").attr("data-notex",1).text(ot).call(n.font,q.title.font).call(e.convertToTspans,D),$=n.bBox(rt.node(),!0);B.titleBox={width:$.width,height:$.height},rt.remove()}}function w(K,D,B){var q=B.r||D.rpx1,nt=D.rInscribed;if(D.startangle===D.stopangle)return{rCenter:1-nt,scale:0,rotate:0,textPosAngle:0};var ot,rt=D.ring,$=rt===1&&Math.abs(D.startangle-D.stopangle)===2*Math.PI,E=D.halfangle,S=D.midangle,Y=B.trace.insidetextorientation,Z=Y==="horizontal",G=Y==="tangential",Q=Y==="radial",at=Y==="auto",tt=[];if(!at){var _t,Pt=function(pt,Dt){if(function(dt,vt){var yt=dt.startangle,Mt=dt.stopangle;return yt>vt&&vt>Mt||yt<vt&&vt<Mt}(D,pt)){var qt=Math.abs(pt-D.startangle),ct=Math.abs(pt-D.stopangle),xt=qt<ct?qt:ct;(ot=Dt==="tan"?P(K,q,rt,xt,0):k(K,q,rt,xt,Math.PI/2)).textPosAngle=pt,tt.push(ot)}};if(Z||G){for(_t=4;_t>=-4;_t-=2)Pt(Math.PI*_t,"tan");for(_t=4;_t>=-4;_t-=2)Pt(Math.PI*(_t+1),"tan")}if(Z||Q){for(_t=4;_t>=-4;_t-=2)Pt(Math.PI*(_t+1.5),"rad");for(_t=4;_t>=-4;_t-=2)Pt(Math.PI*(_t+.5),"rad")}}if($||at||Z){var kt=Math.sqrt(K.width*K.width+K.height*K.height);if((ot={scale:nt*q*2/kt,rCenter:1-nt,rotate:0}).textPosAngle=(D.startangle+D.stopangle)/2,ot.scale>=1)return ot;tt.push(ot)}(at||Q)&&((ot=k(K,q,rt,E,S)).textPosAngle=(D.startangle+D.stopangle)/2,tt.push(ot)),(at||G)&&((ot=P(K,q,rt,E,S)).textPosAngle=(D.startangle+D.stopangle)/2,tt.push(ot));for(var lt=0,st=0,ht=0;ht<tt.length;ht++){var bt=tt[ht].scale;if(st<bt&&(st=bt,lt=ht),!at&&st>=1)break}return tt[lt]}function k(K,D,B,q,nt){D=Math.max(0,D-2*_);var ot=K.width/K.height,rt=I(ot,q,D,B);return{scale:2*rt/K.height,rCenter:A(ot,rt/D),rotate:L(nt)}}function P(K,D,B,q,nt){D=Math.max(0,D-2*_);var ot=K.height/K.width,rt=I(ot,q,D,B);return{scale:2*rt/K.width,rCenter:A(ot,rt/D),rotate:L(nt+Math.PI/2)}}function A(K,D){return Math.cos(D)-K*D}function L(K){return(180/Math.PI*K+720)%180-90}function I(K,D,B,q){var nt=K+1/(2*Math.tan(D));return B*Math.min(1/(Math.sqrt(nt*nt+.5)+nt),q/(Math.sqrt(K*K+q/2)+K))}function x(K,D){return K.v!==D.vTotal||D.trace.hole?Math.min(1/(1+1/Math.sin(K.halfangle)),K.ring/2):1}function C(K,D){var B=D.pxmid[0],q=D.pxmid[1],nt=K.width/2,ot=K.height/2;return B<0&&(nt*=-1),q<0&&(ot*=-1),{scale:1,rCenter:1,rotate:0,x:nt+Math.abs(ot)*(nt>0?1:-1)/2,y:ot/(1+B*B/(q*q)),outside:!0}}function F(K,D){var B,q,nt,ot=K.trace,rt={x:K.cx,y:K.cy},$={tx:0,ty:0};$.ty+=ot.title.font.size,nt=j(ot),ot.title.position.indexOf("top")!==-1?(rt.y-=(1+nt)*K.r,$.ty-=K.titleBox.height):ot.title.position.indexOf("bottom")!==-1&&(rt.y+=(1+nt)*K.r);var E,S=K.r/((E=K.trace.aspectratio)===void 0?1:E),Y=D.w*(ot.domain.x[1]-ot.domain.x[0])/2;return ot.title.position.indexOf("left")!==-1?(Y+=S,rt.x-=(1+nt)*S,$.tx+=K.titleBox.width/2):ot.title.position.indexOf("center")!==-1?Y*=2:ot.title.position.indexOf("right")!==-1&&(Y+=S,rt.x+=(1+nt)*S,$.tx-=K.titleBox.width/2),B=Y/K.titleBox.width,q=N(K,D)/K.titleBox.height,{x:rt.x,y:rt.y,scale:Math.min(B,q),tx:$.tx,ty:$.ty}}function N(K,D){var B=K.trace,q=D.h*(B.domain.y[1]-B.domain.y[0]);return Math.min(K.titleBox.height,q/2)}function j(K){var D,B=K.pull;if(!B)return 0;if(r.isArrayOrTypedArray(B))for(B=0,D=0;D<K.pull.length;D++)K.pull[D]>B&&(B=K.pull[D]);return B}function z(K,D){for(var B=[],q=0;q<K.length;q++){var nt=K[q][0],ot=nt.trace,rt=ot.domain,$=D.w*(rt.x[1]-rt.x[0]),E=D.h*(rt.y[1]-rt.y[0]);ot.title.text&&ot.title.position!=="middle center"&&(E-=N(nt,D));var S=$/2,Y=E/2;ot.type!=="funnelarea"||ot.scalegroup||(Y/=ot.aspectratio),nt.r=Math.min(S,Y)/(1+j(ot)),nt.cx=D.l+D.w*(ot.domain.x[1]+ot.domain.x[0])/2,nt.cy=D.t+D.h*(1-ot.domain.y[0])-E/2,ot.title.text&&ot.title.position.indexOf("bottom")!==-1&&(nt.cy-=N(nt,D)),ot.scalegroup&&B.indexOf(ot.scalegroup)===-1&&B.push(ot.scalegroup)}(function(Z,G){for(var Q,at,tt,_t=0;_t<G.length;_t++){var Pt=1/0,kt=G[_t];for(at=0;at<Z.length;at++)if((tt=(Q=Z[at][0]).trace).scalegroup===kt){var lt;if(tt.type==="pie")lt=Q.r*Q.r;else if(tt.type==="funnelarea"){var st,ht;tt.aspectratio>1?ht=(st=Q.r)/tt.aspectratio:st=(ht=Q.r)*tt.aspectratio,lt=(st*=(1+tt.baseratio)/2)*ht}Pt=Math.min(Pt,lt/Q.vTotal)}for(at=0;at<Z.length;at++)if((tt=(Q=Z[at][0]).trace).scalegroup===kt){var bt=Pt*Q.vTotal;tt.type==="funnelarea"&&(bt/=(1+tt.baseratio)/2,bt/=tt.aspectratio),Q.r=Math.sqrt(bt)}}})(K,B)}function H(K,D){return[K*Math.sin(D),-K*Math.cos(D)]}function U(K,D,B){var q=K._fullLayout,nt=B.trace,ot=nt.texttemplate,rt=nt.textinfo;if(!ot&&rt&&rt!=="none"){var $,E=rt.split("+"),S=function(lt){return E.indexOf(lt)!==-1},Y=S("label"),Z=S("text"),G=S("value"),Q=S("percent"),at=q.separators;if($=Y?[D.label]:[],Z){var tt=p.getFirstFilled(nt.text,D.pts);g(tt)&&$.push(tt)}G&&$.push(p.formatPieValue(D.v,at)),Q&&$.push(p.formatPiePercent(D.v/B.vTotal,at)),D.text=$.join("<br>")}if(ot){var _t=r.castOption(nt,D.i,"texttemplate");if(_t){var Pt=function(lt){return{label:lt.label,value:lt.v,valueLabel:p.formatPieValue(lt.v,q.separators),percent:lt.v/B.vTotal,percentLabel:p.formatPiePercent(lt.v/B.vTotal,q.separators),color:lt.color,text:lt.text,customdata:r.castOption(nt,lt.i,"customdata")}}(D),kt=p.getFirstFilled(nt.text,D.pts);(g(kt)||kt==="")&&(Pt.text=kt),D.text=r.texttemplateString(_t,Pt,K._fullLayout._d3locale,Pt,nt._meta||{})}else D.text=""}}function it(K,D){var B=K.rotate*Math.PI/180,q=Math.cos(B),nt=Math.sin(B),ot=(D.left+D.right)/2,rt=(D.top+D.bottom)/2;K.textX=ot*q-rt*nt,K.textY=ot*nt+rt*q,K.noCenter=!0}J.exports={plot:function(K,D){var B=K._context.staticPlot,q=K._fullLayout,nt=q._size;m("pie",q),T(D,K),z(D,nt);var ot=r.makeTraceGroups(q._pielayer,D,"trace").each(function(rt){var $=f.select(this),E=rt[0],S=E.trace;(function(Y){var Z,G,Q,at=Y[0],tt=at.r,_t=at.trace,Pt=p.getRotationAngle(_t.rotation),kt=2*Math.PI/at.vTotal,lt="px0",st="px1";if(_t.direction==="counterclockwise"){for(Z=0;Z<Y.length&&Y[Z].hidden;Z++);if(Z===Y.length)return;Pt+=kt*Y[Z].v,kt*=-1,lt="px1",st="px0"}for(Q=H(tt,Pt),Z=0;Z<Y.length;Z++)(G=Y[Z]).hidden||(G[lt]=Q,G.startangle=Pt,Pt+=kt*G.v/2,G.pxmid=H(tt,Pt),G.midangle=Pt,Q=H(tt,Pt+=kt*G.v/2),G.stopangle=Pt,G[st]=Q,G.largeArc=G.v>at.vTotal/2?1:0,G.halfangle=Math.PI*Math.min(G.v/at.vTotal,.5),G.ring=1-_t.hole,G.rInscribed=x(G,at))})(rt),$.attr("stroke-linejoin","round"),$.each(function(){var Y=f.select(this).selectAll("g.slice").data(rt);Y.enter().append("g").classed("slice",!0),Y.exit().remove();var Z=[[[],[]],[[],[]]],G=!1;Y.each(function(st,ht){if(st.hidden)f.select(this).selectAll("path,g").remove();else{st.pointNumber=st.i,st.curveNumber=S.index,Z[st.pxmid[1]<0?0:1][st.pxmid[0]<0?0:1].push(st);var bt=E.cx,pt=E.cy,Dt=f.select(this),qt=Dt.selectAll("path.surface").data([st]);if(qt.enter().append("path").classed("surface",!0).style({"pointer-events":B?"none":"all"}),Dt.call(b,K,rt),S.pull){var ct=+p.castOption(S.pull,st.pts)||0;ct>0&&(bt+=ct*st.pxmid[0],pt+=ct*st.pxmid[1])}st.cxFinal=bt,st.cyFinal=pt;var xt=S.hole;if(st.v===E.vTotal){var dt="M"+(bt+st.px0[0])+","+(pt+st.px0[1])+Lt(st.px0,st.pxmid,!0,1)+Lt(st.pxmid,st.px0,!0,1)+"Z";xt?qt.attr("d","M"+(bt+xt*st.px0[0])+","+(pt+xt*st.px0[1])+Lt(st.px0,st.pxmid,!1,xt)+Lt(st.pxmid,st.px0,!1,xt)+"Z"+dt):qt.attr("d",dt)}else{var vt=Lt(st.px0,st.px1,!0,1);if(xt){var yt=1-xt;qt.attr("d","M"+(bt+xt*st.px1[0])+","+(pt+xt*st.px1[1])+Lt(st.px1,st.px0,!1,xt)+"l"+yt*st.px0[0]+","+yt*st.px0[1]+vt+"Z")}else qt.attr("d","M"+bt+","+pt+"l"+st.px0[0]+","+st.px0[1]+vt+"Z")}U(K,st,E);var Mt=p.castOption(S.textposition,st.pts),Tt=Dt.selectAll("g.slicetext").data(st.text&&Mt!=="none"?[0]:[]);Tt.enter().append("g").classed("slicetext",!0),Tt.exit().remove(),Tt.each(function(){var St=r.ensureSingle(f.select(this),"text","",function(ie){ie.attr("data-notex",1)}),At=r.ensureUniformFontSize(K,Mt==="outside"?function(ie,pe,Ot){return{color:p.castOption(ie.outsidetextfont.color,pe.pts)||p.castOption(ie.textfont.color,pe.pts)||Ot.color,family:p.castOption(ie.outsidetextfont.family,pe.pts)||p.castOption(ie.textfont.family,pe.pts)||Ot.family,size:p.castOption(ie.outsidetextfont.size,pe.pts)||p.castOption(ie.textfont.size,pe.pts)||Ot.size}}(S,st,q.font):d(S,st,q.font));St.text(st.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(n.font,At).call(e.convertToTspans,K);var Nt,zt=n.bBox(St.node());if(Mt==="outside")Nt=C(zt,st);else if(Nt=w(zt,st,E),Mt==="auto"&&Nt.scale<1){var Ft=r.ensureUniformFontSize(K,S.outsidetextfont);St.call(n.font,Ft),Nt=C(zt=n.bBox(St.node()),st)}var Gt=Nt.textPosAngle,Bt=Gt===void 0?st.pxmid:H(E.r,Gt);if(Nt.targetX=bt+Bt[0]*Nt.rCenter+(Nt.x||0),Nt.targetY=pt+Bt[1]*Nt.rCenter+(Nt.y||0),it(Nt,zt),Nt.outside){var de=Nt.targetY;st.yLabelMin=de-zt.height/2,st.yLabelMid=de,st.yLabelMax=de+zt.height/2,st.labelExtraX=0,st.labelExtraY=0,G=!0}Nt.fontSize=At.size,u(S.type,Nt,q),rt[ht].transform=Nt,r.setTransormAndDisplay(St,Nt)})}function Lt(St,At,Nt,zt){var Ft=zt*(At[0]-St[0]),Gt=zt*(At[1]-St[1]);return"a"+zt*E.r+","+zt*E.r+" 0 "+st.largeArc+(Nt?" 1 ":" 0 ")+Ft+","+Gt}});var Q=f.select(this).selectAll("g.titletext").data(S.title.text?[0]:[]);if(Q.enter().append("g").classed("titletext",!0),Q.exit().remove(),Q.each(function(){var st,ht=r.ensureSingle(f.select(this),"text","",function(pt){pt.attr("data-notex",1)}),bt=S.title.text;S._meta&&(bt=r.templateString(bt,S._meta)),ht.text(bt).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(n.font,S.title.font).call(e.convertToTspans,K),st=S.title.position==="middle center"?function(pt){var Dt=Math.sqrt(pt.titleBox.width*pt.titleBox.width+pt.titleBox.height*pt.titleBox.height);return{x:pt.cx,y:pt.cy,scale:pt.trace.hole*pt.r*2/Dt,tx:0,ty:-pt.titleBox.height/2+pt.trace.title.font.size}}(E):F(E,nt),ht.attr("transform",s(st.x,st.y)+o(Math.min(1,st.scale))+s(st.tx,st.ty))}),G&&function(st,ht){var bt,pt,Dt,qt,ct,xt,dt,vt,yt,Mt,Tt,Lt,St;function At(Gt,Bt){return Gt.pxmid[1]-Bt.pxmid[1]}function Nt(Gt,Bt){return Bt.pxmid[1]-Gt.pxmid[1]}function zt(Gt,Bt){Bt||(Bt={});var de,ie,pe,Ot,gt=Bt.labelExtraY+(pt?Bt.yLabelMax:Bt.yLabelMin),jt=pt?Gt.yLabelMin:Gt.yLabelMax,Xt=pt?Gt.yLabelMax:Gt.yLabelMin,xe=Gt.cyFinal+ct(Gt.px0[1],Gt.px1[1]),Vt=gt-jt;if(Vt*dt>0&&(Gt.labelExtraY=Vt),r.isArrayOrTypedArray(ht.pull))for(ie=0;ie<Mt.length;ie++)(pe=Mt[ie])===Gt||(p.castOption(ht.pull,Gt.pts)||0)>=(p.castOption(ht.pull,pe.pts)||0)||((Gt.pxmid[1]-pe.pxmid[1])*dt>0?(Vt=pe.cyFinal+ct(pe.px0[1],pe.px1[1])-jt-Gt.labelExtraY)*dt>0&&(Gt.labelExtraY+=Vt):(Xt+Gt.labelExtraY-xe)*dt>0&&(de=3*xt*Math.abs(ie-Mt.indexOf(Gt)),(Ot=pe.cxFinal+qt(pe.px0[0],pe.px1[0])+de-(Gt.cxFinal+Gt.pxmid[0])-Gt.labelExtraX)*xt>0&&(Gt.labelExtraX+=Ot)))}for(pt=0;pt<2;pt++)for(Dt=pt?At:Nt,ct=pt?Math.max:Math.min,dt=pt?1:-1,bt=0;bt<2;bt++){for(qt=bt?Math.max:Math.min,xt=bt?1:-1,(vt=st[pt][bt]).sort(Dt),yt=st[1-pt][bt],Mt=yt.concat(vt),Lt=[],Tt=0;Tt<vt.length;Tt++)vt[Tt].yLabelMid!==void 0&&Lt.push(vt[Tt]);for(St=!1,Tt=0;pt&&Tt<yt.length;Tt++)if(yt[Tt].yLabelMid!==void 0){St=yt[Tt];break}for(Tt=0;Tt<Lt.length;Tt++){var Ft=Tt&&Lt[Tt-1];St&&!Tt&&(Ft=St),zt(Lt[Tt],Ft)}}}(Z,S),function(st,ht){st.each(function(bt){var pt=f.select(this);if(bt.labelExtraX||bt.labelExtraY){var Dt=pt.select("g.slicetext text");bt.transform.targetX+=bt.labelExtraX,bt.transform.targetY+=bt.labelExtraY,r.setTransormAndDisplay(Dt,bt.transform);var qt=bt.cxFinal+bt.pxmid[0],ct="M"+qt+","+(bt.cyFinal+bt.pxmid[1]),xt=(bt.yLabelMax-bt.yLabelMin)*(bt.pxmid[0]<0?-1:1)/4;if(bt.labelExtraX){var dt=bt.labelExtraX*bt.pxmid[1]/bt.pxmid[0],vt=bt.yLabelMid+bt.labelExtraY-(bt.cyFinal+bt.pxmid[1]);Math.abs(dt)>Math.abs(vt)?ct+="l"+vt*bt.pxmid[0]/bt.pxmid[1]+","+vt+"H"+(qt+bt.labelExtraX+xt):ct+="l"+bt.labelExtraX+","+dt+"v"+(vt-dt)+"h"+xt}else ct+="V"+(bt.yLabelMid+bt.labelExtraY)+"h"+xt;r.ensureSingle(pt,"path","textline").call(a.stroke,ht.outsidetextfont.color).attr({"stroke-width":Math.min(2,ht.outsidetextfont.size/8),d:ct,fill:"none"})}else pt.select("path.textline").remove()})}(Y,S),G&&S.automargin){var at=n.bBox($.node()),tt=S.domain,_t=nt.w*(tt.x[1]-tt.x[0]),Pt=nt.h*(tt.y[1]-tt.y[0]),kt=(.5*_t-E.r)/nt.w,lt=(.5*Pt-E.r)/nt.h;y.autoMargin(K,"pie."+S.uid+".automargin",{xl:tt.x[0]-kt,xr:tt.x[1]+kt,yb:tt.y[0]-lt,yt:tt.y[1]+lt,l:Math.max(E.cx-E.r-at.left,0),r:Math.max(at.right-(E.cx+E.r),0),b:Math.max(at.bottom-(E.cy+E.r),0),t:Math.max(E.cy-E.r-at.top,0),pad:5})}})});setTimeout(function(){ot.selectAll("tspan").each(function(){var rt=f.select(this);rt.attr("dy")&&rt.attr("dy",rt.attr("dy"))})},0)},formatSliceLabel:U,transformInsideText:w,determineInsideTextFont:d,positionTitleOutside:F,prerenderTitles:T,layoutAreas:z,attachFxHandlers:b,computeTransform:it}},2152:function(J,h,t){var f=t(3428),y=t(528),i=t(2744).resizeText;J.exports=function(a){var n=a._fullLayout._pielayer.selectAll(".trace");i(a,n,"pie"),n.each(function(r){var o=r[0].trace,s=f.select(this);s.style({opacity:o.opacity}),s.selectAll("path.surface").each(function(e){f.select(this).call(y,e,o,a)})})}},528:function(J,h,t){var f=t(6308),y=t(9656).castOption,i=t(1552);J.exports=function(a,n,r,o){var s=r.marker.line,e=y(s.color,n.pts)||f.defaultLine,l=y(s.width,n.pts)||0;a.call(i,n,r,o).style("stroke-width",l).call(f.stroke,e)}},148:function(J,h,t){var f=t(3400);J.exports=function(y,i){for(var a=0;a<y.length;a++)y[a].i=a;f.mergeArray(i.text,y,"tx"),f.mergeArray(i.texttemplate,y,"txt"),f.mergeArray(i.hovertext,y,"htx"),f.mergeArray(i.customdata,y,"data"),f.mergeArray(i.textposition,y,"tp"),i.textfont&&(f.mergeArrayCastPositive(i.textfont.size,y,"ts"),f.mergeArray(i.textfont.color,y,"tc"),f.mergeArray(i.textfont.family,y,"tf"));var n=i.marker;if(n){f.mergeArrayCastPositive(n.size,y,"ms"),f.mergeArrayCastPositive(n.opacity,y,"mo"),f.mergeArray(n.symbol,y,"mx"),f.mergeArray(n.angle,y,"ma"),f.mergeArray(n.standoff,y,"mf"),f.mergeArray(n.color,y,"mc");var r=n.line;n.line&&(f.mergeArray(r.color,y,"mlc"),f.mergeArrayCastPositive(r.width,y,"mlw"));var o=n.gradient;o&&o.type!=="none"&&(f.mergeArray(o.type,y,"mgt"),f.mergeArray(o.color,y,"mgc"))}}},2904:function(J,h,t){var f=t(9736).axisHoverFormat,y=t(1776).Gw,i=t(1776).Ks,a=t(9084),n=t(5376),r=t(8192).u,o=t(8192).c,s=t(3616),e=t(8200),l=t(2880).extendFlat,u=t(3544);J.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:f("x"),yhoverformat:f("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:y({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:i({},{keys:e.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:l({},r,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:u(!0),fillgradient:l({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:o,marker:l({symbol:{valType:"enumerated",values:s.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:l({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},a("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},a("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:n({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}},6356:function(J,h,t){var f=t(8248),y=t(3400),i=t(4460),a=t(1220),n=t(9032).BADNUM,r=t(3028),o=t(136),s=t(148),e=t(4500);function l(v,g,b,d,T,w,k){var P=g._length,A=v._fullLayout,L=b._id,I=d._id,x=A._firstScatter[_(g)]===g.uid,C=(p(g,A,b,d)||{}).orientation,F=g.fill;b._minDtick=0,d._minDtick=0;var N={padded:!0},j={padded:!0};k&&(N.ppad=j.ppad=k);var z=P<2||T[0]!==T[P-1]||w[0]!==w[P-1];z&&(F==="tozerox"||F==="tonextx"&&(x||C==="h"))?N.tozero=!0:(g.error_y||{}).visible||F!=="tonexty"&&F!=="tozeroy"&&(r.hasMarkers(g)||r.hasText(g))||(N.padded=!1,N.ppad=0),z&&(F==="tozeroy"||F==="tonexty"&&(x||C==="v"))?j.tozero=!0:F!=="tonextx"&&F!=="tozerox"||(j.padded=!1),L&&(g._extremes[L]=i.findExtremes(b,T,N)),I&&(g._extremes[I]=i.findExtremes(d,w,j))}function u(v,g){if(r.hasMarkers(v)){var b,d=v.marker,T=1.6*(v.marker.sizeref||1);if(b=v.marker.sizemode==="area"?function(L){return Math.max(Math.sqrt((L||0)/T),3)}:function(L){return Math.max((L||0)/T,3)},y.isArrayOrTypedArray(d.size)){var w={type:"linear"};i.setConvert(w);for(var k=w.makeCalcdata(v.marker,"size"),P=new Array(g),A=0;A<g;A++)P[A]=b(k[A]);return P}return b(d.size)}}function m(v,g){var b=_(g),d=v._firstScatter;d[b]||(d[b]=g.uid)}function _(v){var g=v.stackgroup;return v.xaxis+v.yaxis+v.type+(g?"-"+g:"")}function p(v,g,b,d){var T=v.stackgroup;if(T){var w=g._scatterStackOpts[b._id+d._id][T],k=w.orientation==="v"?d:b;return k.type==="linear"||k.type==="log"?w:void 0}}J.exports={calc:function(v,g){var b,d,T,w,k,P,A=v._fullLayout,L=g._xA=i.getFromId(v,g.xaxis||"x","x"),I=g._yA=i.getFromId(v,g.yaxis||"y","y"),x=L.makeCalcdata(g,"x"),C=I.makeCalcdata(g,"y"),F=a(g,L,"x",x),N=a(g,I,"y",C),j=F.vals,z=N.vals,H=g._length,U=new Array(H),it=g.ids,K=p(g,A,L,I),D=!1;m(A,g);var B,q="x",nt="y";K?(y.pushUnique(K.traceIndices,g._expandedIndex),(b=K.orientation==="v")?(nt="s",B="x"):(q="s",B="y"),k=K.stackgaps==="interpolate"):l(v,g,L,I,j,z,u(g,H));var ot=!!g.xperiodalignment,rt=!!g.yperiodalignment;for(d=0;d<H;d++){var $=U[d]={},E=f(j[d]),S=f(z[d]);E&&S?($[q]=j[d],$[nt]=z[d],ot&&($.orig_x=x[d],$.xEnd=F.ends[d],$.xStart=F.starts[d]),rt&&($.orig_y=C[d],$.yEnd=N.ends[d],$.yStart=N.starts[d])):K&&(b?E:S)?($[B]=b?j[d]:z[d],$.gap=!0,k?($.s=n,D=!0):$.s=0):$[q]=$[nt]=n,it&&($.id=String(it[d]))}if(s(U,g),o(v,g),e(U,g),K){for(d=0;d<U.length;)U[d][B]===n?U.splice(d,1):d++;if(y.sort(U,function(Q,at){return Q[B]-at[B]||Q.i-at.i}),D){for(d=0;d<U.length-1&&U[d].gap;)d++;for((P=U[d].s)||(P=U[d].s=0),T=0;T<d;T++)U[T].s=P;for(w=U.length-1;w>d&&U[w].gap;)w--;for(P=U[w].s,T=U.length-1;T>w;T--)U[T].s=P;for(;d<w;)if(U[++d].gap){for(T=d+1;U[T].gap;)T++;for(var Y=U[d-1][B],Z=U[d-1].s,G=(U[T].s-Z)/(U[T][B]-Y);d<T;)U[d].s=Z+(U[d][B]-Y)*G,d++}}}return U},calcMarkerSize:u,calcAxisExpansion:l,setFirstScatter:m,getStackOpts:p}},4500:function(J,h,t){var f=t(3400);J.exports=function(y,i){f.isArrayOrTypedArray(i.selectedpoints)&&f.tagSelected(y,i)}},136:function(J,h,t){var f=t(4288).hasColorscale,y=t(7128),i=t(3028);J.exports=function(a,n){i.hasLines(n)&&f(n,"line")&&y(a,n,{vals:n.line.color,containerStr:"line",cLetter:"c"}),i.hasMarkers(n)&&(f(n,"marker")&&y(a,n,{vals:n.marker.color,containerStr:"marker",cLetter:"c"}),f(n,"marker.line")&&y(a,n,{vals:n.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},8200:function(J){J.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},6664:function(J,h,t){var f=t(6356),y=t(6376).setGroupPositions;function i(a,n,r,o,s,e,l){s[o]=!0;var u={i:null,gap:!0,s:0};if(u[l]=r,a.splice(n,0,u),n&&r===a[n-1][l]){var m=a[n-1];u.s=m.s,u.i=m.i,u.gap=m.gap}else e&&(u.s=function(_,p,v,g){var b=_[p-1],d=_[p+1];return d?b?b.s+(d.s-b.s)*(v-b[g])/(d[g]-b[g]):d.s:b.s}(a,n,r,l));n||(a[0].t=a[1].t,a[0].trace=a[1].trace,delete a[1].t,delete a[1].trace)}J.exports=function(a,n){a._fullLayout.scattermode==="group"&&function(B,q){for(var nt=q.xaxis,ot=q.yaxis,rt=B._fullLayout,$=B._fullData,E=B.calcdata,S=[],Y=[],Z=0;Z<$.length;Z++){var G=$[Z];G.visible===!0&&G.type==="scatter"&&G.xaxis===nt._id&&G.yaxis===ot._id&&(G.orientation==="h"?S.push(E[Z]):G.orientation==="v"&&Y.push(E[Z]))}var Q={mode:rt.scattermode,gap:rt.scattergap};y(B,nt,ot,Y,Q),y(B,ot,nt,S,Q)}(a,n);var r=n.xaxis,o=n.yaxis,s=r._id+o._id,e=a._fullLayout._scatterStackOpts[s];if(e){var l,u,m,_,p,v,g,b,d,T,w,k,P,A,L,I=a.calcdata;for(var x in e){var C=(T=e[x]).traceIndices;if(C.length){for(w=T.stackgaps==="interpolate",k=T.groupnorm,T.orientation==="v"?(P="x",A="y"):(P="y",A="x"),L=new Array(C.length),l=0;l<L.length;l++)L[l]=!1;v=I[C[0]];var F=new Array(v.length);for(l=0;l<v.length;l++)F[l]=v[l][P];for(l=1;l<C.length;l++){for(p=I[C[l]],u=m=0;u<p.length;u++){for(g=p[u][P];g>F[m]&&m<F.length;m++)i(p,u,F[m],l,L,w,P),u++;if(g!==F[m]){for(_=0;_<l;_++)i(I[C[_]],m,g,_,L,w,P);F.splice(m,0,g)}m++}for(;m<F.length;m++)i(p,u,F[m],l,L,w,P),u++}var N=F.length;for(u=0;u<v.length;u++){for(b=v[u][A]=v[u].s,l=1;l<C.length;l++)(p=I[C[l]])[0].trace._rawLength=p[0].trace._length,p[0].trace._length=N,b+=p[u].s,p[u][A]=b;if(k)for(d=(k==="fraction"?b:b/100)||1,l=0;l<C.length;l++){var j=I[C[l]][u];j[A]/=d,j.sNorm=j.s/d}}for(l=0;l<C.length;l++){var z=(p=I[C[l]])[0].trace,H=f.calcMarkerSize(z,z._rawLength),U=Array.isArray(H);if(H&&L[l]||U){var it=H;for(H=new Array(N),u=0;u<N;u++)H[u]=p[u].gap?0:U?it[p[u].i]:it}var K=new Array(N),D=new Array(N);for(u=0;u<N;u++)K[u]=p[u].x,D[u]=p[u].y;f.calcAxisExpansion(a,z,r,o,K,D,H),p[0].t.orientation=T.orientation}}}}}},5036:function(J,h,t){var f=t(3400),y=t(11),i=t(2904);J.exports=function(a,n){var r,o,s;function e(p){return f.coerce(o._input,o,i,p)}if(n.scattermode==="group")for(s=0;s<a.length;s++)(o=a[s]).type==="scatter"&&(r=o._input,y(r,o,n,e));for(s=0;s<a.length;s++){var l=a[s];if(l.type==="scatter"){var u=l.fill;if(u!=="none"&&u!=="toself"&&(l.opacity=void 0,u==="tonexty"||u==="tonextx"))for(var m=s-1;m>=0;m--){var _=a[m];if(_.type==="scatter"&&_.xaxis===l.xaxis&&_.yaxis===l.yaxis){_.opacity=void 0;break}}}}}},8800:function(J,h,t){var f=t(3400),y=t(4040),i=t(2904),a=t(8200),n=t(3028),r=t(3980),o=t(1147),s=t(3912),e=t(4428),l=t(6828),u=t(1731),m=t(124),_=t(840),p=t(3400).coercePattern;J.exports=function(v,g,b,d){function T(C,F){return f.coerce(v,g,i,C,F)}var w=r(v,g,d,T);if(w||(g.visible=!1),g.visible){o(v,g,d,T),T("xhoverformat"),T("yhoverformat"),T("zorder");var k=s(v,g,d,T);d.scattermode==="group"&&g.orientation===void 0&&T("orientation","v");var P=!k&&w<a.PTS_LINESONLY?"lines+markers":"lines";T("text"),T("hovertext"),T("mode",P),n.hasMarkers(g)&&e(v,g,b,d,T,{gradient:!0}),n.hasLines(g)&&(l(v,g,b,d,T,{backoff:!0}),u(v,g,T),T("connectgaps"),T("line.simplify")),n.hasText(g)&&(T("texttemplate"),m(v,g,d,T));var A=[];(n.hasMarkers(g)||n.hasText(g))&&(T("cliponaxis"),T("marker.maxdisplayed"),A.push("points")),T("fill",k?k.fillDflt:"none"),g.fill!=="none"&&(_(v,g,b,T,{moduleHasFillgradient:!0}),n.hasLines(g)||u(v,g,T),p(T,"fillpattern",g.fillcolor,!1));var L=(g.line||{}).color,I=(g.marker||{}).color;g.fill!=="tonext"&&g.fill!=="toself"||A.push("fills"),T("hoveron",A.join("+")||"points"),g.hoveron!=="fills"&&T("hovertemplate");var x=y.getComponentMethod("errorbars","supplyDefaults");x(v,g,L||I||b,{axis:"y"}),x(v,g,L||I||b,{axis:"x",inherit:"y"}),f.coerceSelectionMarkerOpacity(g,T)}}},3544:function(J){J.exports=function(h){return{valType:"color",editType:"style",anim:!0}}},840:function(J,h,t){var f=t(6308),y=t(3400).isArrayOrTypedArray;J.exports=function(i,a,n,r,o){o||(o={});var s,e=!1;if(a.marker){var l=a.marker.color,u=(a.marker.line||{}).color;l&&!y(l)?e=l:u&&!y(u)&&(e=u)}if(o.moduleHasFillgradient&&r("fillgradient.type")!=="none"){r("fillgradient.start"),r("fillgradient.stop");var m=r("fillgradient.colorscale");m&&(s=function(_){for(var p=f.interpolate(_[0][1],_[1][1],.5),v=2;v<_.length;v++){var g=f.interpolate(_[v-1][1],_[v][1],.5);p=f.interpolate(p,g,_[v-1][0]/_[v][0])}return p}(m))}r("fillcolor",f.addOpacity((a.line||{}).color||e||s||n,.5))}},6688:function(J,h,t){var f=t(4460);J.exports=function(y,i,a){var n={},r={_fullLayout:a},o=f.getFromTrace(r,i,"x"),s=f.getFromTrace(r,i,"y"),e=y.orig_x;e===void 0&&(e=y.x);var l=y.orig_y;return l===void 0&&(l=y.y),n.xLabel=f.tickText(o,o.c2l(e),!0).text,n.yLabel=f.tickText(s,s.c2l(l),!0).text,n}},4928:function(J,h,t){var f=t(6308),y=t(3028);J.exports=function(i,a){var n,r;if(i.mode==="lines")return(n=i.line.color)&&f.opacity(n)?n:i.fillcolor;if(i.mode==="none")return i.fill?i.fillcolor:"";var o=a.mcc||(i.marker||{}).color,s=a.mlcc||((i.marker||{}).line||{}).color;return(r=o&&f.opacity(o)?o:s&&f.opacity(s)&&(a.mlw||((i.marker||{}).line||{}).width)?s:"")?f.opacity(r)<.3?f.addOpacity(r,.3):r:(n=(i.line||{}).color)&&f.opacity(n)&&y.hasLines(i)&&i.line.width?n:i.fillcolor}},11:function(J,h,t){var f=t(1888).getAxisGroup;J.exports=function(y,i,a,n){var r=i.orientation,o=i[{v:"x",h:"y"}[r]+"axis"],s=f(a,o)+r,e=a._alignmentOpts||{},l=n("alignmentgroup"),u=e[s];u||(u=e[s]={});var m=u[l];m?m.traces.push(i):m=u[l]={traces:[i],alignmentIndex:Object.keys(u).length,offsetGroups:{}};var _=n("offsetgroup"),p=m.offsetGroups,v=p[_];_&&(v||(v=p[_]={offsetIndex:Object.keys(p).length}),i._offsetIndex=v.offsetIndex)}},8723:function(J,h,t){var f=t(3400),y=t(3024),i=t(4040),a=t(4928),n=t(6308),r=f.fillText;J.exports=function(o,s,e,l){var u=o.cd,m=u[0].trace,_=o.xa,p=o.ya,v=_.c2p(s),g=p.c2p(e),b=[v,g],d=m.hoveron||"",T=m.mode.indexOf("markers")!==-1?3:.5,w=!!m.xperiodalignment,k=!!m.yperiodalignment;if(d.indexOf("points")!==-1){var P=function(K){var D=Math.max(T,K.mrc||0),B=_.c2p(K.x)-v,q=p.c2p(K.y)-g;return Math.max(Math.sqrt(B*B+q*q)-D,1-T/D)},A=y.getDistanceFunction(l,function(K){if(w){var D=_.c2p(K.xStart),B=_.c2p(K.xEnd);return v>=Math.min(D,B)&&v<=Math.max(D,B)?0:1/0}var q=Math.max(3,K.mrc||0),nt=1-1/q,ot=Math.abs(_.c2p(K.x)-v);return ot<q?nt*ot/q:ot-q+nt},function(K){if(k){var D=p.c2p(K.yStart),B=p.c2p(K.yEnd);return g>=Math.min(D,B)&&g<=Math.max(D,B)?0:1/0}var q=Math.max(3,K.mrc||0),nt=1-1/q,ot=Math.abs(p.c2p(K.y)-g);return ot<q?nt*ot/q:ot-q+nt},P);if(y.getClosest(u,A,o),o.index!==!1){var L=u[o.index],I=_.c2p(L.x,!0),x=p.c2p(L.y,!0),C=L.mrc||1;o.index=L.i;var F=u[0].t.orientation,N=F&&(L.sNorm||L.s),j=F==="h"?N:L.orig_x!==void 0?L.orig_x:L.x,z=F==="v"?N:L.orig_y!==void 0?L.orig_y:L.y;return f.extendFlat(o,{color:a(m,L),x0:I-C,x1:I+C,xLabelVal:j,y0:x-C,y1:x+C,yLabelVal:z,spikeDistance:P(L),hovertemplate:m.hovertemplate}),r(L,m,o),i.getComponentMethod("errorbars","hoverInfo")(L,m,o),[o]}}function H(K){if(!K)return!1;var D=K.node();try{var B=new DOMPoint(b[0],b[1]);return D.isPointInFill(B)}catch{var q=D.ownerSVGElement.createSVGPoint();return q.x=b[0],q.y=b[1],D.isPointInFill(q)}}if(d.indexOf("fills")!==-1&&m._fillElement&&H(m._fillElement)&&!H(m._fillExclusionElement)){var U=function(K){var D,B,q,nt,ot,rt,$,E,S,Y=[],Z=1/0,G=-1/0,Q=1/0,at=-1/0;for(D=0;D<K.length;D++){var tt=K[D];tt.contains(b)&&(Y.push(tt),Q=Math.min(Q,tt.ymin),at=Math.max(at,tt.ymax))}if(Y.length===0)return null;for(B=((Q=Math.max(Q,0))+(at=Math.min(at,p._length)))/2,D=0;D<Y.length;D++)for(nt=Y[D].pts,q=1;q<nt.length;q++)(E=nt[q-1][1])>B!=(S=nt[q][1])>=B&&(rt=nt[q-1][0],$=nt[q][0],S-E&&(ot=rt+($-rt)*(B-E)/(S-E),Z=Math.min(Z,ot),G=Math.max(G,ot)));return{x0:Z=Math.max(Z,0),x1:G=Math.min(G,_._length),y0:B,y1:B}}(m._polygons);U===null&&(U={x0:b[0],x1:b[0],y0:b[1],y1:b[1]});var it=n.defaultLine;return n.opacity(m.fillcolor)?it=m.fillcolor:n.opacity((m.line||{}).color)&&(it=m.line.color),f.extendFlat(o,{distance:o.maxHoverDistance,x0:U.x0,x1:U.x1,y0:U.y0,y1:U.y1,color:it,hovertemplate:!1}),delete o.index,m.text&&!f.isArrayOrTypedArray(m.text)?o.text=String(m.text):o.text=m.name,[o]}}},5875:function(J,h,t){var f=t(3028);J.exports={hasLines:f.hasLines,hasMarkers:f.hasMarkers,hasText:f.hasText,isBubble:f.isBubble,attributes:t(2904),layoutAttributes:t(5308),supplyDefaults:t(8800),crossTraceDefaults:t(5036),supplyLayoutDefaults:t(9748),calc:t(6356).calc,crossTraceCalc:t(6664),arraysToCalcdata:t(148),plot:t(6504),colorbar:t(5528),formatLabels:t(6688),style:t(6844).style,styleOnSelect:t(6844).styleOnSelect,hoverPoints:t(8723),selectPoints:t(1560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:t(7952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},5308:function(J){J.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},9748:function(J,h,t){var f=t(3400),y=t(5308);J.exports=function(i,a){var n,r=a.barmode==="group";a.scattermode==="group"&&(n=r?a.bargap:.2,f.coerce(i,a,y,"scattergap",n))}},6828:function(J,h,t){var f=t(3400).isArrayOrTypedArray,y=t(4288).hasColorscale,i=t(7260);J.exports=function(a,n,r,o,s,e){e||(e={});var l=(a.marker||{}).color;l&&l._inputArray&&(l=l._inputArray),s("line.color",r),y(a,"line")?i(a,n,o,s,{prefix:"line.",cLetter:"c"}):s("line.color",!f(l)&&l||r),s("line.width"),e.noDash||s("line.dash"),e.backoff&&s("line.backoff")}},2340:function(J,h,t){var f=t(3616),y=t(9032),i=y.BADNUM,a=y.LOG_CLIP,n=a+.5,r=a-.5,o=t(3400),s=o.segmentsIntersect,e=o.constrain,l=t(8200);J.exports=function(u,m){var _,p,v,g,b,d,T,w,k,P,A,L,I,x,C,F,N,j,z=m.trace||{},H=m.xaxis,U=m.yaxis,it=H.type==="log",K=U.type==="log",D=H._length,B=U._length,q=m.backoff,nt=z.marker,ot=m.connectGaps,rt=m.baseTolerance,$=m.shape,E=$==="linear",S=z.fill&&z.fill!=="none",Y=[],Z=l.minTolerance,G=u.length,Q=new Array(G),at=0;function tt(Vt){var Qt=u[Vt];if(!Qt)return!1;var re=m.linearized?H.l2p(Qt.x):H.c2p(Qt.x),_e=m.linearized?U.l2p(Qt.y):U.c2p(Qt.y);if(re===i){if(it&&(re=H.c2p(Qt.x,!0)),re===i)return!1;K&&_e===i&&(re*=Math.abs(H._m*B*(H._m>0?n:r)/(U._m*D*(U._m>0?n:r)))),re*=1e3}if(_e===i){if(K&&(_e=U.c2p(Qt.y,!0)),_e===i)return!1;_e*=1e3}return[re,_e]}function _t(Vt,Qt,re,_e){var ce=re-Vt,Me=_e-Qt,te=.5-Vt,X=.5-Qt,et=ce*ce+Me*Me,It=ce*te+Me*X;if(It>0&&It<et){var Ct=te*Me-X*ce;if(Ct*Ct<et)return!0}}function Pt(Vt,Qt){var re=Vt[0]/D,_e=Vt[1]/B,ce=Math.max(0,-re,re-1,-_e,_e-1);return ce&&N!==void 0&&_t(re,_e,N,j)&&(ce=0),ce&&Qt&&_t(re,_e,Qt[0]/D,Qt[1]/B)&&(ce=0),(1+l.toleranceGrowth*ce)*rt}function kt(Vt,Qt){var re=Vt[0]-Qt[0],_e=Vt[1]-Qt[1];return Math.sqrt(re*re+_e*_e)}var lt,st,ht,bt,pt,Dt,qt,ct=l.maxScreensAway,xt=-D*ct,dt=D*(1+ct),vt=-B*ct,yt=B*(1+ct),Mt=[[xt,vt,dt,vt],[dt,vt,dt,yt],[dt,yt,xt,yt],[xt,yt,xt,vt]];function Tt(Vt){if(Vt[0]<xt||Vt[0]>dt||Vt[1]<vt||Vt[1]>yt)return[e(Vt[0],xt,dt),e(Vt[1],vt,yt)]}function Lt(Vt,Qt){return Vt[0]===Qt[0]&&(Vt[0]===xt||Vt[0]===dt)||Vt[1]===Qt[1]&&(Vt[1]===vt||Vt[1]===yt)||void 0}function St(Vt,Qt,re){return function(_e,ce){var Me=Tt(_e),te=Tt(ce),X=[];if(Me&&te&&Lt(Me,te))return X;Me&&X.push(Me),te&&X.push(te);var et=2*o.constrain((_e[Vt]+ce[Vt])/2,Qt,re)-((Me||_e)[Vt]+(te||ce)[Vt]);return et&&((Me&&te?et>0==Me[Vt]>te[Vt]?Me:te:Me||te)[Vt]+=et),X}}function At(Vt){var Qt=Vt[0],re=Vt[1],_e=Qt===Q[at-1][0],ce=re===Q[at-1][1];if(!_e||!ce)if(at>1){var Me=Qt===Q[at-2][0],te=re===Q[at-2][1];_e&&(Qt===xt||Qt===dt)&&Me?te?at--:Q[at-1]=Vt:ce&&(re===vt||re===yt)&&te?Me?at--:Q[at-1]=Vt:Q[at++]=Vt}else Q[at++]=Vt}function Nt(Vt){Q[at-1][0]!==Vt[0]&&Q[at-1][1]!==Vt[1]&&At([ht,bt]),At(Vt),pt=null,ht=bt=0}$==="linear"||$==="spline"?qt=function(Vt,Qt){for(var re=[],_e=0,ce=0;ce<4;ce++){var Me=Mt[ce],te=s(Vt[0],Vt[1],Qt[0],Qt[1],Me[0],Me[1],Me[2],Me[3]);te&&(!_e||Math.abs(te.x-re[0][0])>1||Math.abs(te.y-re[0][1])>1)&&(te=[te.x,te.y],_e&&kt(te,Vt)<kt(re[0],Vt)?re.unshift(te):re.push(te),_e++)}return re}:$==="hv"||$==="vh"?qt=function(Vt,Qt){var re=[],_e=Tt(Vt),ce=Tt(Qt);return _e&&ce&&Lt(_e,ce)||(_e&&re.push(_e),ce&&re.push(ce)),re}:$==="hvh"?qt=St(0,xt,dt):$==="vhv"&&(qt=St(1,vt,yt));var zt=o.isArrayOrTypedArray(nt);function Ft(Vt){if(Vt&&q&&(Vt.i=_,Vt.d=u,Vt.trace=z,Vt.marker=zt?nt[Vt.i]:nt,Vt.backoff=q),N=Vt[0]/D,j=Vt[1]/B,lt=Vt[0]<xt?xt:Vt[0]>dt?dt:0,st=Vt[1]<vt?vt:Vt[1]>yt?yt:0,lt||st){if(at)if(pt){var Qt=qt(pt,Vt);Qt.length>1&&(Nt(Qt[0]),Q[at++]=Qt[1])}else Dt=qt(Q[at-1],Vt)[0],Q[at++]=Dt;else Q[at++]=[lt||Vt[0],st||Vt[1]];var re=Q[at-1];lt&&st&&(re[0]!==lt||re[1]!==st)?(pt&&(ht!==lt&&bt!==st?At(ht&&bt?(_e=pt,Me=(ce=Vt)[0]-_e[0],te=(ce[1]-_e[1])/Me,(_e[1]*ce[0]-ce[1]*_e[0])/Me>0?[te>0?xt:dt,yt]:[te>0?dt:xt,vt]):[ht||lt,bt||st]):ht&&bt&&At([ht,bt])),At([lt,st])):ht-lt&&bt-st&&At([lt||ht,st||bt]),pt=Vt,ht=lt,bt=st}else pt&&Nt(qt(pt,Vt)[0]),Q[at++]=Vt;var _e,ce,Me,te}for(_=0;_<G;_++)if(p=tt(_)){for(at=0,pt=null,Ft(p),_++;_<G;_++){if(!(g=tt(_))){if(ot)continue;break}if(E&&m.simplify){var Gt=tt(_+1);if(P=kt(g,p),S&&(at===0||at===G-1)||!(P<Pt(g,Gt)*Z)){for(w=[(g[0]-p[0])/P,(g[1]-p[1])/P],b=p,A=P,L=x=C=0,T=!1,v=g,_++;_<u.length;_++){if(d=Gt,Gt=tt(_+1),!d){if(ot)continue;break}if(F=(k=[d[0]-p[0],d[1]-p[1]])[0]*w[1]-k[1]*w[0],x=Math.min(x,F),(C=Math.max(C,F))-x>Pt(d,Gt))break;v=d,(I=k[0]*w[0]+k[1]*w[1])>A?(A=I,g=d,T=!1):I<L&&(L=I,b=d,T=!0)}if(T?(Ft(g),v!==b&&Ft(b)):(b!==p&&Ft(b),v!==g&&Ft(g)),Ft(v),_>=u.length||!d)break;Ft(d),p=d}}else Ft(g)}pt&&At([ht||pt[0],bt||pt[1]]),Y.push(Q.slice(0,at))}var Bt=$.slice($.length-1);if(q&&Bt!=="h"&&Bt!=="v"){for(var de=!1,ie=-1,pe=[],Ot=0;Ot<Y.length;Ot++)for(var gt=0;gt<Y[Ot].length-1;gt++){var jt=Y[Ot][gt],Xt=Y[Ot][gt+1],xe=f.applyBackoff(Xt,jt);xe[0]===Xt[0]&&xe[1]===Xt[1]||(de=!0),pe[ie+1]||(pe[++ie]=[jt,[xe[0],xe[1]]])}return de?pe:Y}return Y}},1731:function(J){J.exports=function(h,t,f){f("line.shape")==="spline"&&f("line.smoothing")}},4328:function(J){var h={tonextx:1,tonexty:1,tonext:1};J.exports=function(t,f,y){var i,a,n,r,o,s={},e=!1,l=-1,u=0,m=-1;for(a=0;a<y.length;a++)(n=(i=y[a][0].trace).stackgroup||"")?n in s?o=s[n]:(o=s[n]=u,u++):i.fill in h&&m>=0?o=m:(o=m=u,u++),o<l&&(e=!0),i._groupIndex=l=o;var _=y.slice();e&&_.sort(function(v,g){var b=v[0].trace,d=g[0].trace;return b._groupIndex-d._groupIndex||b.index-d.index});var p={};for(a=0;a<_.length;a++)n=(i=_[a][0].trace).stackgroup||"",i.visible===!0?(i._nexttrace=null,i.fill in h&&(r=p[n],i._prevtrace=r||null,r&&(r._nexttrace=i)),i._ownfill=i.fill&&(i.fill.substr(0,6)==="tozero"||i.fill==="toself"||i.fill.substr(0,2)==="to"&&!i._prevtrace),p[n]=i):i._prevtrace=i._nexttrace=i._ownfill=null;return _}},7152:function(J,h,t){var f=t(8248);J.exports=function(y,i){i||(i=2);var a=y.marker,n=a.sizeref||1,r=a.sizemin||0,o=a.sizemode==="area"?function(s){return Math.sqrt(s/n)}:function(s){return s/n};return function(s){var e=o(s/i);return f(e)&&e>0?Math.max(e,r):0}}},5528:function(J){J.exports={container:"marker",min:"cmin",max:"cmax"}},4428:function(J,h,t){var f=t(6308),y=t(4288).hasColorscale,i=t(7260),a=t(3028);J.exports=function(n,r,o,s,e,l){var u=a.isBubble(n),m=(n.line||{}).color;l=l||{},m&&(o=m),e("marker.symbol"),e("marker.opacity",u?.7:1),e("marker.size"),l.noAngle||(e("marker.angle"),l.noAngleRef||e("marker.angleref"),l.noStandOff||e("marker.standoff")),e("marker.color",o),y(n,"marker")&&i(n,r,s,e,{prefix:"marker.",cLetter:"c"}),l.noSelect||(e("selected.marker.color"),e("unselected.marker.color"),e("selected.marker.size"),e("unselected.marker.size")),l.noLine||(e("marker.line.color",m&&!Array.isArray(m)&&r.marker.color!==m?m:u?f.background:f.defaultLine),y(n,"marker.line")&&i(n,r,s,e,{prefix:"marker.line.",cLetter:"c"}),e("marker.line.width",u?1:0)),u&&(e("marker.sizeref"),e("marker.sizemin"),e("marker.sizemode")),l.gradient&&e("marker.gradient.type")!=="none"&&e("marker.gradient.color")}},1147:function(J,h,t){var f=t(3400).dateTick0,y=t(9032).ONEWEEK;function i(a,n){return f(n,a%y==0?1:0)}J.exports=function(a,n,r,o,s){if(s||(s={x:!0,y:!0}),s.x){var e=o("xperiod");e&&(o("xperiod0",i(e,n.xcalendar)),o("xperiodalignment"))}if(s.y){var l=o("yperiod");l&&(o("yperiod0",i(l,n.ycalendar)),o("yperiodalignment"))}}},6504:function(J,h,t){var f=t(3428),y=t(4040),i=t(3400),a=i.ensureSingle,n=i.identity,r=t(3616),o=t(3028),s=t(2340),e=t(4328),l=t(2065).tester;function u(m,_,p,v,g,b,d){var T,w=m._context.staticPlot;(function(At,Nt,zt,Ft,Gt){var Bt=zt.xaxis,de=zt.yaxis,ie=f.extent(i.simpleMap(Bt.range,Bt.r2c)),pe=f.extent(i.simpleMap(de.range,de.r2c)),Ot=Ft[0].trace;if(o.hasMarkers(Ot)){var gt=Ot.marker.maxdisplayed;if(gt!==0){var jt=Ft.filter(function(Qt){return Qt.x>=ie[0]&&Qt.x<=ie[1]&&Qt.y>=pe[0]&&Qt.y<=pe[1]}),Xt=Math.ceil(jt.length/gt),xe=0;Gt.forEach(function(Qt,re){var _e=Qt[0].trace;o.hasMarkers(_e)&&_e.marker.maxdisplayed>0&&re<Nt&&xe++});var Vt=Math.round(xe*Xt/3+Math.floor(xe/3)*Xt/7.1);Ft.forEach(function(Qt){delete Qt.vis}),jt.forEach(function(Qt,re){Math.round((re+Vt)%Xt)===0&&(Qt.vis=!0)})}}})(0,_,p,v,g);var k=!!d&&d.duration>0;function P(At){return k?At.transition():At}var A=p.xaxis,L=p.yaxis,I=v[0].trace,x=I.line,C=f.select(b),F=a(C,"g","errorbars"),N=a(C,"g","lines"),j=a(C,"g","points"),z=a(C,"g","text");if(y.getComponentMethod("errorbars","plot")(m,F,p,d),I.visible===!0){var H,U;P(C).style("opacity",I.opacity);var it,K,D=I.fill.charAt(I.fill.length-1);D!=="x"&&D!=="y"&&(D=""),D==="y"?(it=1,K=L.c2p(0,!0)):D==="x"&&(it=0,K=A.c2p(0,!0)),v[0][p.isRangePlot?"nodeRangePlot3":"node3"]=C;var B,q,nt="",ot=[],rt=I._prevtrace,$=null,E=null;rt&&(nt=rt._prevRevpath||"",U=rt._nextFill,ot=rt._ownPolygons,$=rt._fillsegments,E=rt._fillElement);var S,Y,Z,G,Q,at,tt="",_t="",Pt=[];I._polygons=[];var kt=[],lt=[],st=i.noop;if(H=I._ownFill,o.hasLines(I)||I.fill!=="none"){U&&U.datum(v),["hv","vh","hvh","vhv"].indexOf(x.shape)!==-1?(S=r.steps(x.shape),Y=r.steps(x.shape.split("").reverse().join(""))):S=Y=x.shape==="spline"?function(At){var Nt=At[At.length-1];return At.length>1&&At[0][0]===Nt[0]&&At[0][1]===Nt[1]?r.smoothclosed(At.slice(1),x.smoothing):r.smoothopen(At,x.smoothing)}:function(At){return"M"+At.join("L")},Z=function(At){return Y(At.reverse())},lt=s(v,{xaxis:A,yaxis:L,trace:I,connectGaps:I.connectgaps,baseTolerance:Math.max(x.width||1,3)/4,shape:x.shape,backoff:x.backoff,simplify:x.simplify,fill:I.fill}),kt=new Array(lt.length);var ht=0;for(T=0;T<lt.length;T++){var bt,pt=lt[T];bt&&D?bt.push.apply(bt,pt):(bt=pt.slice(),kt[ht]=bt,ht++)}I._fillElement=null,I._fillExclusionElement=E,I._fillsegments=kt.slice(0,ht),kt=I._fillsegments,lt.length&&(G=lt[0][0].slice(),at=(Q=lt[lt.length-1])[Q.length-1].slice()),st=function(At){return function(Nt){if(B=S(Nt),q=Z(Nt),tt?D?(tt+="L"+B.substr(1),_t=q+"L"+_t.substr(1)):(tt+="Z"+B,_t=q+"Z"+_t):(tt=B,_t=q),o.hasLines(I)){var zt=f.select(this);if(zt.datum(v),At)P(zt.style("opacity",0).attr("d",B).call(r.lineGroupStyle)).style("opacity",1);else{var Ft=P(zt);Ft.attr("d",B),r.singleLineStyle(v,Ft)}}}}}var Dt=N.selectAll(".js-line").data(lt);P(Dt.exit()).style("opacity",0).remove(),Dt.each(st(!1)),Dt.enter().append("path").classed("js-line",!0).style("vector-effect",w?"none":"non-scaling-stroke").call(r.lineGroupStyle).each(st(!0)),r.setClipUrl(Dt,p.layerClipId,m);var qt=function(){var At=new Array(kt.length);for(T=0;T<kt.length;T++)At[T]=l(kt[T]);return At},ct=function(At){var Nt,zt;if(At&&At.length!==0){for(Nt=new Array(At.length-1+kt.length),zt=0;zt<At.length-1;zt++)Nt[zt]=l(At[zt]);var Ft=At[At.length-1].slice();for(Ft.reverse(),zt=0;zt<kt.length;zt++)Nt[At.length-1+zt]=l(kt[zt].concat(Ft))}else for(Nt=new Array(kt.length),zt=0;zt<kt.length;zt++){var Gt=kt[zt][0].slice(),Bt=kt[zt][kt[zt].length-1].slice();Gt[it]=Bt[it]=K;var de=[Bt,Gt].concat(kt[zt]);Nt[zt]=l(de)}return Nt};lt.length?(H?(H.datum(v),G&&at&&(D?(G[it]=at[it]=K,P(H).attr("d","M"+at+"L"+G+"L"+tt.substr(1)).call(r.singleFillStyle,m),Pt=ct(null)):(P(H).attr("d",tt+"Z").call(r.singleFillStyle,m),Pt=qt())),I._polygons=Pt,I._fillElement=H):U&&(I.fill.substr(0,6)==="tonext"&&tt&&nt?(I.fill==="tonext"?(P(U).attr("d",tt+"Z"+nt+"Z").call(r.singleFillStyle,m),Pt=qt(),I._polygons=Pt.concat(ot)):(P(U).attr("d",tt+"L"+nt.substr(1)+"Z").call(r.singleFillStyle,m),Pt=ct($),I._polygons=Pt),I._fillElement=U):dt(U)),I._prevRevpath=_t):(H?dt(H):U&&dt(U),I._prevRevpath=null),I._ownPolygons=Pt,j.datum(v),z.datum(v),function(At,Nt,zt){var Ft,Gt=zt[0].trace,Bt=o.hasMarkers(Gt),de=o.hasText(Gt),ie=Lt(Gt),pe=St,Ot=St;if(Bt||de){var gt=n,jt=Gt.stackgroup,Xt=jt&&m._fullLayout._scatterStackOpts[A._id+L._id][jt].stackgaps==="infer zero";Gt.marker.maxdisplayed||Gt._needsCull?gt=Xt?yt:vt:jt&&!Xt&&(gt=Mt),Bt&&(pe=gt),de&&(Ot=gt)}var xe,Vt=(Ft=At.selectAll("path.point").data(pe,ie)).enter().append("path").classed("point",!0);k&&Vt.call(r.pointStyle,Gt,m).call(r.translatePoints,A,L).style("opacity",0).transition().style("opacity",1),Ft.order(),Bt&&(xe=r.makePointStyleFns(Gt)),Ft.each(function(Qt){var re=f.select(this),_e=P(re);r.translatePoint(Qt,_e,A,L)?(r.singlePointStyle(Qt,_e,Gt,xe,m),p.layerClipId&&r.hideOutsideRangePoint(Qt,_e,A,L,Gt.xcalendar,Gt.ycalendar),Gt.customdata&&re.classed("plotly-customdata",Qt.data!==null&&Qt.data!==void 0)):_e.remove()}),k?Ft.exit().transition().style("opacity",0).remove():Ft.exit().remove(),(Ft=Nt.selectAll("g").data(Ot,ie)).enter().append("g").classed("textpoint",!0).append("text"),Ft.order(),Ft.each(function(Qt){var re=f.select(this),_e=P(re.select("text"));r.translatePoint(Qt,_e,A,L)?p.layerClipId&&r.hideOutsideRangePoint(Qt,re,A,L,Gt.xcalendar,Gt.ycalendar):re.remove()}),Ft.selectAll("text").call(r.textPointStyle,Gt,m).each(function(Qt){var re=A.c2p(Qt.x),_e=L.c2p(Qt.y);f.select(this).selectAll("tspan.line").each(function(){P(f.select(this)).attr({x:re,y:_e})})}),Ft.exit().remove()}(j,z,v);var xt=I.cliponaxis===!1?null:p.layerClipId;r.setClipUrl(j,xt,m),r.setClipUrl(z,xt,m)}function dt(At){P(At).attr("d","M0,0Z")}function vt(At){return At.filter(function(Nt){return!Nt.gap&&Nt.vis})}function yt(At){return At.filter(function(Nt){return Nt.vis})}function Mt(At){return At.filter(function(Nt){return!Nt.gap})}function Tt(At){return At.id}function Lt(At){if(At.ids)return Tt}function St(){return!1}}J.exports=function(m,_,p,v,g,b){var d,T,w=!g,k=!!g&&g.duration>0,P=e(m,_,p);(d=v.selectAll("g.trace").data(P,function(A){return A[0].trace.uid})).enter().append("g").attr("class",function(A){return"trace scatter trace"+A[0].trace.uid}).style("stroke-miterlimit",2),d.order(),function(A,L,I){L.each(function(x){var C=a(f.select(this),"g","fills");r.setClipUrl(C,I.layerClipId,A);var F=x[0].trace,N=[];F._ownfill&&N.push("_ownFill"),F._nexttrace&&N.push("_nextFill");var j=C.selectAll("g").data(N,n);j.enter().append("g"),j.exit().each(function(z){F[z]=null}).remove(),j.order().each(function(z){F[z]=a(f.select(this),"path","js-fill")})})}(m,d,_),k?(b&&(T=b()),f.transition().duration(g.duration).ease(g.easing).each("end",function(){T&&T()}).each("interrupt",function(){T&&T()}).each(function(){v.selectAll("g.trace").each(function(A,L){u(m,L,_,A,P,this,g)})})):d.each(function(A,L){u(m,L,_,A,P,this,g)}),w&&d.exit().remove(),v.selectAll("path:not([d])").remove()}},1560:function(J,h,t){var f=t(3028);J.exports=function(y,i){var a,n,r,o,s=y.cd,e=y.xaxis,l=y.yaxis,u=[],m=s[0].trace;if(!f.hasMarkers(m)&&!f.hasText(m))return[];if(i===!1)for(a=0;a<s.length;a++)s[a].selected=0;else for(a=0;a<s.length;a++)n=s[a],r=e.c2p(n.x),o=l.c2p(n.y),n.i!==null&&i.contains([r,o],!1,a,y)?(u.push({pointNumber:n.i,x:e.c2d(n.x),y:l.c2d(n.y)}),n.selected=1):n.selected=0;return u}},3912:function(J){var h=["orientation","groupnorm","stackgaps"];J.exports=function(t,f,y,i){var a=y._scatterStackOpts,n=i("stackgroup");if(n){var r=f.xaxis+f.yaxis,o=a[r];o||(o=a[r]={});var s=o[n],e=!1;s?s.traces.push(f):(s=o[n]={traceIndices:[],traces:[f]},e=!0);for(var l={orientation:f.x&&!f.y?"h":"v"},u=0;u<h.length;u++){var m=h[u],_=m+"Found";if(!s[_]){var p=t[m]!==void 0,v=m==="orientation";if((p||e)&&(s[m]=i(m,l[m]),v&&(s.fillDflt=s[m]==="h"?"tonextx":"tonexty"),p&&(s[_]=!0,!e&&(delete s.traces[0][m],v))))for(var g=0;g<s.traces.length-1;g++){var b=s.traces[g];b._input.fill!==b.fill&&(b.fill=s.fillDflt)}}}return s}}},6844:function(J,h,t){var f=t(3428),y=t(3616),i=t(4040);function a(r,o,s){y.pointStyle(r.selectAll("path.point"),o,s)}function n(r,o,s){y.textPointStyle(r.selectAll("text"),o,s)}J.exports={style:function(r){var o=f.select(r).selectAll("g.trace.scatter");o.style("opacity",function(s){return s[0].trace.opacity}),o.selectAll("g.points").each(function(s){a(f.select(this),s.trace||s[0].trace,r)}),o.selectAll("g.text").each(function(s){n(f.select(this),s.trace||s[0].trace,r)}),o.selectAll("g.trace path.js-line").call(y.lineGroupStyle),o.selectAll("g.trace path.js-fill").call(y.fillGroupStyle,r,!1),i.getComponentMethod("errorbars","style")(o)},stylePoints:a,styleText:n,styleOnSelect:function(r,o,s){var e=o[0].trace;e.selectedpoints?(y.selectedPointStyle(s.selectAll("path.point"),e),y.selectedTextStyle(s.selectAll("text"),e)):(a(s,e,r),n(s,e,r))}}},3028:function(J,h,t){var f=t(3400),y=t(8116).isTypedArraySpec;J.exports={hasLines:function(i){return i.visible&&i.mode&&i.mode.indexOf("lines")!==-1},hasMarkers:function(i){return i.visible&&(i.mode&&i.mode.indexOf("markers")!==-1||i.type==="splom")},hasText:function(i){return i.visible&&i.mode&&i.mode.indexOf("text")!==-1},isBubble:function(i){var a=i.marker;return f.isPlainObject(a)&&(f.isArrayOrTypedArray(a.size)||y(a.size))}}},124:function(J,h,t){var f=t(3400);J.exports=function(y,i,a,n,r){r=r||{},n("textposition"),f.coerceFont(n,"textfont",r.font||a.font),r.noSelect||(n("selected.textfont.color"),n("unselected.textfont.color"))}},3980:function(J,h,t){var f=t(3400),y=t(4040);J.exports=function(i,a,n,r){var o,s=r("x"),e=r("y");if(y.getComponentMethod("calendars","handleTraceDefaults")(i,a,["x","y"],n),s){var l=f.minRowLength(s);e?o=Math.min(l,f.minRowLength(e)):(o=l,r("y0"),r("dy"))}else{if(!e)return 0;o=f.minRowLength(e),r("x0"),r("dx")}return a._length=o,o}},1843:function(J,h,t){var f=t(4460),y=t(3400),i=t(3060),a=t(468).W,n=t(9032).BADNUM;h.moduleType="transform",h.name="aggregate";var r=h.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},o=r.aggregations;function s(m,_,p,v){if(v.enabled){for(var g=v.target,b=y.nestedProperty(_,g),d=b.get(),T=function(P,A){var L=P.func,I=A.d2c,x=A.c2d;switch(L){case"count":return e;case"first":return l;case"last":return u;case"sum":return function(C,F){for(var N=0,j=0;j<F.length;j++){var z=I(C[F[j]]);z!==n&&(N+=z)}return x(N)};case"avg":return function(C,F){for(var N=0,j=0,z=0;z<F.length;z++){var H=I(C[F[z]]);H!==n&&(N+=H,j++)}return j?x(N/j):n};case"min":return function(C,F){for(var N=1/0,j=0;j<F.length;j++){var z=I(C[F[j]]);z!==n&&(N=Math.min(N,z))}return N===1/0?n:x(N)};case"max":return function(C,F){for(var N=-1/0,j=0;j<F.length;j++){var z=I(C[F[j]]);z!==n&&(N=Math.max(N,z))}return N===-1/0?n:x(N)};case"range":return function(C,F){for(var N=1/0,j=-1/0,z=0;z<F.length;z++){var H=I(C[F[z]]);H!==n&&(N=Math.min(N,H),j=Math.max(j,H))}return j===-1/0||N===1/0?n:x(j-N)};case"change":return function(C,F){var N=I(C[F[0]]),j=I(C[F[F.length-1]]);return N===n||j===n?n:x(j-N)};case"median":return function(C,F){for(var N=[],j=0;j<F.length;j++){var z=I(C[F[j]]);z!==n&&N.push(z)}if(!N.length)return n;N.sort(y.sorterAsc);var H=(N.length-1)/2;return x((N[Math.floor(H)]+N[Math.ceil(H)])/2)};case"mode":return function(C,F){for(var N={},j=0,z=n,H=0;H<F.length;H++){var U=I(C[F[H]]);if(U!==n){var it=N[U]=(N[U]||0)+1;it>j&&(j=it,z=U)}}return j?x(z):n};case"rms":return function(C,F){for(var N=0,j=0,z=0;z<F.length;z++){var H=I(C[F[z]]);H!==n&&(N+=H*H,j++)}return j?x(Math.sqrt(N/j)):n};case"stddev":return function(C,F){var N,j=0,z=0,H=1,U=n;for(N=0;N<F.length&&U===n;N++)U=I(C[F[N]]);if(U===n)return n;for(;N<F.length;N++){var it=I(C[F[N]]);if(it!==n){var K=it-U;j+=K,z+=K*K,H++}}var D=P.funcmode==="sample"?H-1:H;return D?Math.sqrt((z-j*j/H)/D):0}}}(v,f.getDataConversions(m,_,g,d)),w=new Array(p.length),k=0;k<p.length;k++)w[k]=T(d,p[k]);b.set(w),v.func==="count"&&y.pushUnique(_._arrayAttrs,g)}}function e(m,_){return _.length}function l(m,_){return m[_[0]]}function u(m,_){return m[_[_.length-1]]}h.supplyDefaults=function(m,_){var p,v={};function g(x,C){return y.coerce(m,v,r,x,C)}if(!g("enabled"))return v;var b=i.findArrayAttributes(_),d={};for(p=0;p<b.length;p++)d[b[p]]=1;var T=g("groups");if(!Array.isArray(T)){if(!d[T])return v.enabled=!1,v;d[T]=0}var w,k=m.aggregations||[],P=v.aggregations=new Array(k.length);function A(x,C){return y.coerce(k[p],w,o,x,C)}for(p=0;p<k.length;p++){w={_index:p};var L=A("target"),I=A("func");A("enabled")&&L&&(d[L]||I==="count"&&d[L]===void 0)?(I==="stddev"&&A("funcmode"),d[L]=0,P[p]=w):P[p]={enabled:!1,_index:p}}for(p=0;p<b.length;p++)d[b[p]]&&P.push({target:b[p],func:o.func.dflt,enabled:!0,_index:-1});return v},h.calcTransform=function(m,_,p){if(p.enabled){var v=p.groups,g=y.getTargetArray(_,{target:v});if(g){var b,d,T,w,k={},P={},A=[],L=a(_.transforms,p),I=g.length;for(_._length&&(I=Math.min(I,_._length)),b=0;b<I;b++)(T=k[d=g[b]])===void 0?(k[d]=A.length,w=[b],A.push(w),P[k[d]]=L(b)):(A[T].push(b),P[k[d]]=(P[k[d]]||[]).concat(L(b)));p._indexToPoints=P;var x=p.aggregations;for(b=0;b<x.length;b++)s(m,_,A,x[b]);typeof v=="string"&&s(m,_,A,{target:v,func:"first",enabled:!0}),_._length=A.length}}}},6744:function(J,h,t){var f=t(3400),y=t(4040),i=t(4460),a=t(468).W,n=t(9104),r=n.COMPARISON_OPS,o=n.INTERVAL_OPS,s=n.SET_OPS;h.moduleType="transform",h.name="filter",h.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(r).concat(o).concat(s),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},h.supplyDefaults=function(e){var l={};function u(p,v){return f.coerce(e,l,h.attributes,p,v)}if(u("enabled")){var m=u("target");if(f.isArrayOrTypedArray(m)&&m.length===0)return l.enabled=!1,l;u("preservegaps"),u("operation"),u("value");var _=y.getComponentMethod("calendars","handleDefaults");_(e,l,"valuecalendar",null),_(e,l,"targetcalendar",null)}return l},h.calcTransform=function(e,l,u){if(u.enabled){var m=f.getTargetArray(l,u);if(m){var _=u.target,p=m.length;l._length&&(p=Math.min(p,l._length));var v=u.targetcalendar,g=l._arrayAttrs,b=u.preservegaps;if(typeof _=="string"){var d=f.nestedProperty(l,_+"calendar").get();d&&(v=d)}var T,w,k=function(F,N,j){var z=F.operation,H=F.value,U=f.isArrayOrTypedArray(H);function it(q){return q.indexOf(z)!==-1}var K,D=function(q){return N(q,0,F.valuecalendar)},B=function(q){return N(q,0,j)};switch(it(r)?K=D(U?H[0]:H):it(o)?K=U?[D(H[0]),D(H[1])]:[D(H),D(H)]:it(s)&&(K=U?H.map(D):[D(H)]),z){case"=":return function(q){return B(q)===K};case"!=":return function(q){return B(q)!==K};case"<":return function(q){return B(q)<K};case"<=":return function(q){return B(q)<=K};case">":return function(q){return B(q)>K};case">=":return function(q){return B(q)>=K};case"[]":return function(q){var nt=B(q);return nt>=K[0]&&nt<=K[1]};case"()":return function(q){var nt=B(q);return nt>K[0]&&nt<K[1]};case"[)":return function(q){var nt=B(q);return nt>=K[0]&&nt<K[1]};case"(]":return function(q){var nt=B(q);return nt>K[0]&&nt<=K[1]};case"][":return function(q){var nt=B(q);return nt<=K[0]||nt>=K[1]};case")(":return function(q){var nt=B(q);return nt<K[0]||nt>K[1]};case"](":return function(q){var nt=B(q);return nt<=K[0]||nt>K[1]};case")[":return function(q){var nt=B(q);return nt<K[0]||nt>=K[1]};case"{}":return function(q){return K.indexOf(B(q))!==-1};case"}{":return function(q){return K.indexOf(B(q))===-1}}}(u,i.getDataToCoordFunc(e,l,_,m),v),P={},A={},L=0;b?(T=function(F){P[F.astr]=f.extendDeep([],F.get()),F.set(new Array(p))},w=function(F,N){var j=P[F.astr][N];F.get()[N]=j}):(T=function(F){P[F.astr]=f.extendDeep([],F.get()),F.set([])},w=function(F,N){var j=P[F.astr][N];F.get().push(j)}),C(T);for(var I=a(l.transforms,u),x=0;x<p;x++)k(m[x])?(C(w,x),A[L++]=I(x)):b&&L++;u._indexToPoints=A,l._length=L}}function C(F,N){for(var j=0;j<g.length;j++)F(f.nestedProperty(l,g[j]),N)}}},2028:function(J,h,t){var f=t(3400),y=t(3060),i=t(7316),a=t(468).W;function n(r,o){var s,e,l,u,m,_,p,v,g,b,d=o.transform,T=o.transformIndex,w=r.transforms[T].groups,k=a(r.transforms,d);if(!f.isArrayOrTypedArray(w)||w.length===0)return[r];var P=f.filterUnique(w),A=new Array(P.length),L=w.length,I=y.findArrayAttributes(r),x=d.styles||[],C={};for(s=0;s<x.length;s++)C[x[s].target]=x[s].value;d.styles&&(b=f.keyedContainer(d,"styles","target","value.name"));var F={},N={};for(s=0;s<P.length;s++){F[_=P[s]]=s,N[_]=0,(p=A[s]=f.extendDeepNoArrays({},r))._group=_,p.transforms[T]._indexToPoints={};var j=null;for(b&&(j=b.get(_)),p.name=j||j===""?j:f.templateString(d.nameformat,{trace:r.name,group:_}),v=p.transforms,p.transforms=[],e=0;e<v.length;e++)p.transforms[e]=f.extendDeepNoArrays({},v[e]);for(e=0;e<I.length;e++)f.nestedProperty(p,I[e]).set([])}for(l=0;l<I.length;l++){for(u=I[l],e=0,g=[];e<P.length;e++)g[e]=f.nestedProperty(A[e],u).get();for(m=f.nestedProperty(r,u).get(),e=0;e<L;e++)g[F[w[e]]].push(m[e])}for(e=0;e<L;e++)(p=A[F[w[e]]]).transforms[T]._indexToPoints[N[w[e]]]=k(e),N[w[e]]++;for(s=0;s<P.length;s++)_=P[s],p=A[s],i.clearExpandedTraceDefaultColors(p),p=f.extendDeepNoArrays(p,C[_]||{});return A}h.moduleType="transform",h.name="groupby",h.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},h.supplyDefaults=function(r,o,s){var e,l={};function u(g,b){return f.coerce(r,l,h.attributes,g,b)}if(!u("enabled"))return l;u("groups"),u("nameformat",s._dataLength>1?"%{group} (%{trace})":"%{group}");var m=r.styles,_=l.styles=[];if(m)for(e=0;e<m.length;e++){var p=_[e]={};f.coerce(m[e],_[e],h.attributes.styles,"target");var v=f.coerce(m[e],_[e],h.attributes.styles,"value");f.isPlainObject(v)?p.value=f.extendDeep({},v):v&&delete p.value}return l},h.transform=function(r,o){var s,e,l,u=[];for(e=0;e<r.length;e++)for(s=n(r[e],o),l=0;l<s.length;l++)u.push(s[l]);return u}},468:function(J,h){h.W=function(t,f){for(var y,i,a=0;a<t.length&&(y=t[a])!==f;a++)y._indexToPoints&&y.enabled!==!1&&(i=y._indexToPoints);var n=i?function(r){return i[r]}:function(r){return[r]};return n}},6272:function(J,h,t){var f=t(3400),y=t(4460),i=t(468).W,a=t(9032).BADNUM;h.moduleType="transform",h.name="sort",h.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},h.supplyDefaults=function(n){var r={};function o(s,e){return f.coerce(n,r,h.attributes,s,e)}return o("enabled")&&(o("target"),o("order")),r},h.calcTransform=function(n,r,o){if(o.enabled){var s=f.getTargetArray(r,o);if(s){var e=o.target,l=s.length;r._length&&(l=Math.min(l,r._length));var u,m,_=r._arrayAttrs,p=function(w,k,P,A){var L,I=new Array(A),x=new Array(A);for(L=0;L<A;L++)I[L]={v:k[L],i:L};for(I.sort(function(C,F){switch(C.order){case"ascending":return function(N,j){var z=F(N.v),H=F(j.v);return z===a?1:H===a?-1:z-H};case"descending":return function(N,j){var z=F(N.v),H=F(j.v);return z===a?1:H===a?-1:H-z}}}(w,P)),L=0;L<A;L++)x[L]=I[L].i;return x}(o,s,y.getDataToCoordFunc(n,r,e,s),l),v=i(r.transforms,o),g={};for(u=0;u<_.length;u++){var b=f.nestedProperty(r,_[u]),d=b.get(),T=new Array(l);for(m=0;m<l;m++)T[m]=d[p[m]];b.set(T)}for(m=0;m<l;m++)g[m]=v(p[m]);o._indexToPoints=g,r._length=l}}}},5788:function(J,h){h.version="2.31.1"},5928:function(J){J.exports=y,J.exports.isMobile=y,J.exports.default=y;var h=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,f=/android|ipad|playbook|silk/i;function y(i){i||(i={});var a=i.ua;if(a||typeof navigator>"u"||(a=navigator.userAgent),a&&a.headers&&typeof a.headers["user-agent"]=="string"&&(a=a.headers["user-agent"]),typeof a!="string")return!1;var n=h.test(a)&&!t.test(a)||!!i.tablet&&f.test(a);return!n&&i.tablet&&i.featureDetect&&navigator&&navigator.maxTouchPoints>1&&a.indexOf("Macintosh")!==-1&&a.indexOf("Safari")!==-1&&(n=!0),n}},3428:function(J,h,t){var f,y;(function(){var i={version:"3.8.0"},a=[].slice,n=function(c){return a.call(c)},r=self.document;function o(c){return c&&(c.ownerDocument||c.document||c).documentElement}function s(c){return c&&(c.ownerDocument&&c.ownerDocument.defaultView||c.document&&c||c.defaultView)}if(r)try{n(r.documentElement.childNodes)[0].nodeType}catch{n=function(M){for(var O=M.length,R=new Array(O);O--;)R[O]=M[O];return R}}if(Date.now||(Date.now=function(){return+new Date}),r)try{r.createElement("DIV").style.setProperty("opacity",0,"")}catch{var e=this.Element.prototype,l=e.setAttribute,u=e.setAttributeNS,m=this.CSSStyleDeclaration.prototype,_=m.setProperty;e.setAttribute=function(M,O){l.call(this,M,O+"")},e.setAttributeNS=function(M,O,R){u.call(this,M,O,R+"")},m.setProperty=function(M,O,R){_.call(this,M,O+"",R)}}function p(c,M){return c<M?-1:c>M?1:c>=M?0:NaN}function v(c){return c===null?NaN:+c}function g(c){return!isNaN(c)}function b(c){return{left:function(M,O,R,V){for(arguments.length<3&&(R=0),arguments.length<4&&(V=M.length);R<V;){var W=R+V>>>1;c(M[W],O)<0?R=W+1:V=W}return R},right:function(M,O,R,V){for(arguments.length<3&&(R=0),arguments.length<4&&(V=M.length);R<V;){var W=R+V>>>1;c(M[W],O)>0?V=W:R=W+1}return R}}}i.ascending=p,i.descending=function(c,M){return M<c?-1:M>c?1:M>=c?0:NaN},i.min=function(c,M){var O,R,V=-1,W=c.length;if(arguments.length===1){for(;++V<W;)if((R=c[V])!=null&&R>=R){O=R;break}for(;++V<W;)(R=c[V])!=null&&O>R&&(O=R)}else{for(;++V<W;)if((R=M.call(c,c[V],V))!=null&&R>=R){O=R;break}for(;++V<W;)(R=M.call(c,c[V],V))!=null&&O>R&&(O=R)}return O},i.max=function(c,M){var O,R,V=-1,W=c.length;if(arguments.length===1){for(;++V<W;)if((R=c[V])!=null&&R>=R){O=R;break}for(;++V<W;)(R=c[V])!=null&&R>O&&(O=R)}else{for(;++V<W;)if((R=M.call(c,c[V],V))!=null&&R>=R){O=R;break}for(;++V<W;)(R=M.call(c,c[V],V))!=null&&R>O&&(O=R)}return O},i.extent=function(c,M){var O,R,V,W=-1,ut=c.length;if(arguments.length===1){for(;++W<ut;)if((R=c[W])!=null&&R>=R){O=V=R;break}for(;++W<ut;)(R=c[W])!=null&&(O>R&&(O=R),V<R&&(V=R))}else{for(;++W<ut;)if((R=M.call(c,c[W],W))!=null&&R>=R){O=V=R;break}for(;++W<ut;)(R=M.call(c,c[W],W))!=null&&(O>R&&(O=R),V<R&&(V=R))}return[O,V]},i.sum=function(c,M){var O,R=0,V=c.length,W=-1;if(arguments.length===1)for(;++W<V;)g(O=+c[W])&&(R+=O);else for(;++W<V;)g(O=+M.call(c,c[W],W))&&(R+=O);return R},i.mean=function(c,M){var O,R=0,V=c.length,W=-1,ut=V;if(arguments.length===1)for(;++W<V;)g(O=v(c[W]))?R+=O:--ut;else for(;++W<V;)g(O=v(M.call(c,c[W],W)))?R+=O:--ut;if(ut)return R/ut},i.quantile=function(c,M){var O=(c.length-1)*M+1,R=Math.floor(O),V=+c[R-1],W=O-R;return W?V+W*(c[R]-V):V},i.median=function(c,M){var O,R=[],V=c.length,W=-1;if(arguments.length===1)for(;++W<V;)g(O=v(c[W]))&&R.push(O);else for(;++W<V;)g(O=v(M.call(c,c[W],W)))&&R.push(O);if(R.length)return i.quantile(R.sort(p),.5)},i.variance=function(c,M){var O,R,V=c.length,W=0,ut=0,ft=-1,mt=0;if(arguments.length===1)for(;++ft<V;)g(O=v(c[ft]))&&(ut+=(R=O-W)*(O-(W+=R/++mt)));else for(;++ft<V;)g(O=v(M.call(c,c[ft],ft)))&&(ut+=(R=O-W)*(O-(W+=R/++mt)));if(mt>1)return ut/(mt-1)},i.deviation=function(){var c=i.variance.apply(this,arguments);return c&&Math.sqrt(c)};var d=b(p);function T(c){return c.length}i.bisectLeft=d.left,i.bisect=i.bisectRight=d.right,i.bisector=function(c){return b(c.length===1?function(M,O){return p(c(M),O)}:c)},i.shuffle=function(c,M,O){(W=arguments.length)<3&&(O=c.length,W<2&&(M=0));for(var R,V,W=O-M;W;)V=Math.random()*W--|0,R=c[W+M],c[W+M]=c[V+M],c[V+M]=R;return c},i.permute=function(c,M){for(var O=M.length,R=new Array(O);O--;)R[O]=c[M[O]];return R},i.pairs=function(c){for(var M=0,O=c.length-1,R=c[0],V=new Array(O<0?0:O);M<O;)V[M]=[R,R=c[++M]];return V},i.transpose=function(c){if(!(V=c.length))return[];for(var M=-1,O=i.min(c,T),R=new Array(O);++M<O;)for(var V,W=-1,ut=R[M]=new Array(V);++W<V;)ut[W]=c[W][M];return R},i.zip=function(){return i.transpose(arguments)},i.keys=function(c){var M=[];for(var O in c)M.push(O);return M},i.values=function(c){var M=[];for(var O in c)M.push(c[O]);return M},i.entries=function(c){var M=[];for(var O in c)M.push({key:O,value:c[O]});return M},i.merge=function(c){for(var M,O,R,V=c.length,W=-1,ut=0;++W<V;)ut+=c[W].length;for(O=new Array(ut);--V>=0;)for(M=(R=c[V]).length;--M>=0;)O[--ut]=R[M];return O};var w=Math.abs;function k(c,M){for(var O in M)Object.defineProperty(c.prototype,O,{value:M[O],enumerable:!1})}function P(){this._=Object.create(null)}i.range=function(c,M,O){if(arguments.length<3&&(O=1,arguments.length<2&&(M=c,c=0)),(M-c)/O==1/0)throw new Error("infinite range");var R,V=[],W=function(ft){for(var mt=1;ft*mt%1;)mt*=10;return mt}(w(O)),ut=-1;if(c*=W,M*=W,(O*=W)<0)for(;(R=c+O*++ut)>M;)V.push(R/W);else for(;(R=c+O*++ut)<M;)V.push(R/W);return V},i.map=function(c,M){var O=new P;if(c instanceof P)c.forEach(function(ft,mt){O.set(ft,mt)});else if(Array.isArray(c)){var R,V=-1,W=c.length;if(arguments.length===1)for(;++V<W;)O.set(V,c[V]);else for(;++V<W;)O.set(M.call(c,R=c[V],V),R)}else for(var ut in c)O.set(ut,c[ut]);return O};var A="__proto__",L="\0";function I(c){return(c+="")===A||c[0]===L?L+c:c}function x(c){return(c+="")[0]===L?c.slice(1):c}function C(c){return I(c)in this._}function F(c){return(c=I(c))in this._&&delete this._[c]}function N(){var c=[];for(var M in this._)c.push(x(M));return c}function j(){var c=0;for(var M in this._)++c;return c}function z(){for(var c in this._)return!1;return!0}function H(){this._=Object.create(null)}function U(c){return c}function it(c,M,O){return function(){var R=O.apply(M,arguments);return R===M?c:R}}function K(c,M){if(M in c)return M;M=M.charAt(0).toUpperCase()+M.slice(1);for(var O=0,R=D.length;O<R;++O){var V=D[O]+M;if(V in c)return V}}k(P,{has:C,get:function(c){return this._[I(c)]},set:function(c,M){return this._[I(c)]=M},remove:F,keys:N,values:function(){var c=[];for(var M in this._)c.push(this._[M]);return c},entries:function(){var c=[];for(var M in this._)c.push({key:x(M),value:this._[M]});return c},size:j,empty:z,forEach:function(c){for(var M in this._)c.call(this,x(M),this._[M])}}),i.nest=function(){var c,M,O={},R=[],V=[];function W(ft,mt,wt){if(wt>=R.length)return M?M.call(O,mt):c?mt.sort(c):mt;for(var Et,Yt,Wt,ae,me=-1,ne=mt.length,le=R[wt++],Jt=new P;++me<ne;)(ae=Jt.get(Et=le(Yt=mt[me])))?ae.push(Yt):Jt.set(Et,[Yt]);return ft?(Yt=ft(),Wt=function(we,se){Yt.set(we,W(ft,se,wt))}):(Yt={},Wt=function(we,se){Yt[we]=W(ft,se,wt)}),Jt.forEach(Wt),Yt}function ut(ft,mt){if(mt>=R.length)return ft;var wt=[],Et=V[mt++];return ft.forEach(function(Yt,Wt){wt.push({key:Yt,values:ut(Wt,mt)})}),Et?wt.sort(function(Yt,Wt){return Et(Yt.key,Wt.key)}):wt}return O.map=function(ft,mt){return W(mt,ft,0)},O.entries=function(ft){return ut(W(i.map,ft,0),0)},O.key=function(ft){return R.push(ft),O},O.sortKeys=function(ft){return V[R.length-1]=ft,O},O.sortValues=function(ft){return c=ft,O},O.rollup=function(ft){return M=ft,O},O},i.set=function(c){var M=new H;if(c)for(var O=0,R=c.length;O<R;++O)M.add(c[O]);return M},k(H,{has:C,add:function(c){return this._[I(c+="")]=!0,c},remove:F,values:N,size:j,empty:z,forEach:function(c){for(var M in this._)c.call(this,x(M))}}),i.behavior={},i.rebind=function(c,M){for(var O,R=1,V=arguments.length;++R<V;)c[O=arguments[R]]=it(c,M,M[O]);return c};var D=["webkit","ms","moz","Moz","o","O"];function B(){}function q(){}function nt(c){var M=[],O=new P;function R(){for(var V,W=M,ut=-1,ft=W.length;++ut<ft;)(V=W[ut].on)&&V.apply(this,arguments);return c}return R.on=function(V,W){var ut,ft=O.get(V);return arguments.length<2?ft&&ft.on:(ft&&(ft.on=null,M=M.slice(0,ut=M.indexOf(ft)).concat(M.slice(ut+1)),O.remove(V)),W&&M.push(O.set(V,{on:W})),c)},R}function ot(){i.event.preventDefault()}function rt(){for(var c,M=i.event;c=M.sourceEvent;)M=c;return M}function $(c){for(var M=new q,O=0,R=arguments.length;++O<R;)M[arguments[O]]=nt(M);return M.of=function(V,W){return function(ut){try{var ft=ut.sourceEvent=i.event;ut.target=c,i.event=ut,M[ut.type].apply(V,W)}finally{i.event=ft}}},M}i.dispatch=function(){for(var c=new q,M=-1,O=arguments.length;++M<O;)c[arguments[M]]=nt(c);return c},q.prototype.on=function(c,M){var O=c.indexOf("."),R="";if(O>=0&&(R=c.slice(O+1),c=c.slice(0,O)),c)return arguments.length<2?this[c].on(R):this[c].on(R,M);if(arguments.length===2){if(M==null)for(c in this)this.hasOwnProperty(c)&&this[c].on(R,null);return this}},i.event=null,i.requote=function(c){return c.replace(E,"\\$&")};var E=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,S={}.__proto__?function(c,M){c.__proto__=M}:function(c,M){for(var O in M)c[O]=M[O]};function Y(c){return S(c,at),c}var Z=function(c,M){return M.querySelector(c)},G=function(c,M){return M.querySelectorAll(c)},Q=function(c,M){var O=c.matches||c[K(c,"matchesSelector")];return Q=function(R,V){return O.call(R,V)},Q(c,M)};typeof Sizzle=="function"&&(Z=function(c,M){return Sizzle(c,M)[0]||null},G=Sizzle,Q=Sizzle.matchesSelector),i.selection=function(){return i.select(r.documentElement)};var at=i.selection.prototype=[];function tt(c){return typeof c=="function"?c:function(){return Z(c,this)}}function _t(c){return typeof c=="function"?c:function(){return G(c,this)}}at.select=function(c){var M,O,R,V,W=[];c=tt(c);for(var ut=-1,ft=this.length;++ut<ft;){W.push(M=[]),M.parentNode=(R=this[ut]).parentNode;for(var mt=-1,wt=R.length;++mt<wt;)(V=R[mt])?(M.push(O=c.call(V,V.__data__,mt,ut)),O&&"__data__"in V&&(O.__data__=V.__data__)):M.push(null)}return Y(W)},at.selectAll=function(c){var M,O,R=[];c=_t(c);for(var V=-1,W=this.length;++V<W;)for(var ut=this[V],ft=-1,mt=ut.length;++ft<mt;)(O=ut[ft])&&(R.push(M=n(c.call(O,O.__data__,ft,V))),M.parentNode=O);return Y(R)};var Pt="http://www.w3.org/1999/xhtml",kt={svg:"http://www.w3.org/2000/svg",xhtml:Pt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function lt(c,M){return c=i.ns.qualify(c),M==null?c.local?function(){this.removeAttributeNS(c.space,c.local)}:function(){this.removeAttribute(c)}:typeof M=="function"?c.local?function(){var O=M.apply(this,arguments);O==null?this.removeAttributeNS(c.space,c.local):this.setAttributeNS(c.space,c.local,O)}:function(){var O=M.apply(this,arguments);O==null?this.removeAttribute(c):this.setAttribute(c,O)}:c.local?function(){this.setAttributeNS(c.space,c.local,M)}:function(){this.setAttribute(c,M)}}function st(c){return c.trim().replace(/\s+/g," ")}function ht(c){return new RegExp("(?:^|\\s+)"+i.requote(c)+"(?:\\s+|$)","g")}function bt(c){return(c+"").trim().split(/^|\s+/)}function pt(c,M){var O=(c=bt(c).map(Dt)).length;return typeof M=="function"?function(){for(var R=-1,V=M.apply(this,arguments);++R<O;)c[R](this,V)}:function(){for(var R=-1;++R<O;)c[R](this,M)}}function Dt(c){var M=ht(c);return function(O,R){if(V=O.classList)return R?V.add(c):V.remove(c);var V=O.getAttribute("class")||"";R?(M.lastIndex=0,M.test(V)||O.setAttribute("class",st(V+" "+c))):O.setAttribute("class",st(V.replace(M," ")))}}function qt(c,M,O){return M==null?function(){this.style.removeProperty(c)}:typeof M=="function"?function(){var R=M.apply(this,arguments);R==null?this.style.removeProperty(c):this.style.setProperty(c,R,O)}:function(){this.style.setProperty(c,M,O)}}function ct(c,M){return M==null?function(){delete this[c]}:typeof M=="function"?function(){var O=M.apply(this,arguments);O==null?delete this[c]:this[c]=O}:function(){this[c]=M}}function xt(c){return typeof c=="function"?c:(c=i.ns.qualify(c)).local?function(){return this.ownerDocument.createElementNS(c.space,c.local)}:function(){var M=this.ownerDocument,O=this.namespaceURI;return O===Pt&&M.documentElement.namespaceURI===Pt?M.createElement(c):M.createElementNS(O,c)}}function dt(){var c=this.parentNode;c&&c.removeChild(this)}function vt(c){return{__data__:c}}function yt(c){return function(){return Q(this,c)}}function Mt(c){return arguments.length||(c=p),function(M,O){return M&&O?c(M.__data__,O.__data__):!M-!O}}function Tt(c,M){for(var O=0,R=c.length;O<R;O++)for(var V,W=c[O],ut=0,ft=W.length;ut<ft;ut++)(V=W[ut])&&M(V,ut,O);return c}function Lt(c){return S(c,St),c}i.ns={prefix:kt,qualify:function(c){var M=c.indexOf(":"),O=c;return M>=0&&(O=c.slice(0,M))!=="xmlns"&&(c=c.slice(M+1)),kt.hasOwnProperty(O)?{space:kt[O],local:c}:c}},at.attr=function(c,M){if(arguments.length<2){if(typeof c=="string"){var O=this.node();return(c=i.ns.qualify(c)).local?O.getAttributeNS(c.space,c.local):O.getAttribute(c)}for(M in c)this.each(lt(M,c[M]));return this}return this.each(lt(c,M))},at.classed=function(c,M){if(arguments.length<2){if(typeof c=="string"){var O=this.node(),R=(c=bt(c)).length,V=-1;if(M=O.classList){for(;++V<R;)if(!M.contains(c[V]))return!1}else for(M=O.getAttribute("class");++V<R;)if(!ht(c[V]).test(M))return!1;return!0}for(M in c)this.each(pt(M,c[M]));return this}return this.each(pt(c,M))},at.style=function(c,M,O){var R=arguments.length;if(R<3){if(typeof c!="string"){for(O in R<2&&(M=""),c)this.each(qt(O,c[O],M));return this}if(R<2){var V=this.node();return s(V).getComputedStyle(V,null).getPropertyValue(c)}O=""}return this.each(qt(c,M,O))},at.property=function(c,M){if(arguments.length<2){if(typeof c=="string")return this.node()[c];for(M in c)this.each(ct(M,c[M]));return this}return this.each(ct(c,M))},at.text=function(c){return arguments.length?this.each(typeof c=="function"?function(){var M=c.apply(this,arguments);this.textContent=M??""}:c==null?function(){this.textContent=""}:function(){this.textContent=c}):this.node().textContent},at.html=function(c){return arguments.length?this.each(typeof c=="function"?function(){var M=c.apply(this,arguments);this.innerHTML=M??""}:c==null?function(){this.innerHTML=""}:function(){this.innerHTML=c}):this.node().innerHTML},at.append=function(c){return c=xt(c),this.select(function(){return this.appendChild(c.apply(this,arguments))})},at.insert=function(c,M){return c=xt(c),M=tt(M),this.select(function(){return this.insertBefore(c.apply(this,arguments),M.apply(this,arguments)||null)})},at.remove=function(){return this.each(dt)},at.data=function(c,M){var O,R,V=-1,W=this.length;if(!arguments.length){for(c=new Array(W=(O=this[0]).length);++V<W;)(R=O[V])&&(c[V]=R.__data__);return c}function ut(Et,Yt){var Wt,ae,me,ne=Et.length,le=Yt.length,Jt=Math.min(ne,le),we=new Array(le),se=new Array(le),$t=new Array(ne);if(M){var De,Ce=new P,Ve=new Array(ne);for(Wt=-1;++Wt<ne;)(ae=Et[Wt])&&(Ce.has(De=M.call(ae,ae.__data__,Wt))?$t[Wt]=ae:Ce.set(De,ae),Ve[Wt]=De);for(Wt=-1;++Wt<le;)(ae=Ce.get(De=M.call(Yt,me=Yt[Wt],Wt)))?ae!==!0&&(we[Wt]=ae,ae.__data__=me):se[Wt]=vt(me),Ce.set(De,!0);for(Wt=-1;++Wt<ne;)Wt in Ve&&Ce.get(Ve[Wt])!==!0&&($t[Wt]=Et[Wt])}else{for(Wt=-1;++Wt<Jt;)ae=Et[Wt],me=Yt[Wt],ae?(ae.__data__=me,we[Wt]=ae):se[Wt]=vt(me);for(;Wt<le;++Wt)se[Wt]=vt(Yt[Wt]);for(;Wt<ne;++Wt)$t[Wt]=Et[Wt]}se.update=we,se.parentNode=we.parentNode=$t.parentNode=Et.parentNode,ft.push(se),mt.push(we),wt.push($t)}var ft=Lt([]),mt=Y([]),wt=Y([]);if(typeof c=="function")for(;++V<W;)ut(O=this[V],c.call(O,O.parentNode.__data__,V));else for(;++V<W;)ut(O=this[V],c);return mt.enter=function(){return ft},mt.exit=function(){return wt},mt},at.datum=function(c){return arguments.length?this.property("__data__",c):this.property("__data__")},at.filter=function(c){var M,O,R,V=[];typeof c!="function"&&(c=yt(c));for(var W=0,ut=this.length;W<ut;W++){V.push(M=[]),M.parentNode=(O=this[W]).parentNode;for(var ft=0,mt=O.length;ft<mt;ft++)(R=O[ft])&&c.call(R,R.__data__,ft,W)&&M.push(R)}return Y(V)},at.order=function(){for(var c=-1,M=this.length;++c<M;)for(var O,R=this[c],V=R.length-1,W=R[V];--V>=0;)(O=R[V])&&(W&&W!==O.nextSibling&&W.parentNode.insertBefore(O,W),W=O);return this},at.sort=function(c){c=Mt.apply(this,arguments);for(var M=-1,O=this.length;++M<O;)this[M].sort(c);return this.order()},at.each=function(c){return Tt(this,function(M,O,R){c.call(M,M.__data__,O,R)})},at.call=function(c){var M=n(arguments);return c.apply(M[0]=this,M),this},at.empty=function(){return!this.node()},at.node=function(){for(var c=0,M=this.length;c<M;c++)for(var O=this[c],R=0,V=O.length;R<V;R++){var W=O[R];if(W)return W}return null},at.size=function(){var c=0;return Tt(this,function(){++c}),c};var St=[];function At(c,M,O){var R="__on"+c,V=c.indexOf("."),W=zt;V>0&&(c=c.slice(0,V));var ut=Nt.get(c);function ft(){var mt=this[R];mt&&(this.removeEventListener(c,mt,mt.$),delete this[R])}return ut&&(c=ut,W=Ft),V?M?function(){var mt=W(M,n(arguments));ft.call(this),this.addEventListener(c,this[R]=mt,mt.$=O),mt._=M}:ft:M?B:function(){var mt,wt=new RegExp("^__on([^.]+)"+i.requote(c)+"$");for(var Et in this)if(mt=Et.match(wt)){var Yt=this[Et];this.removeEventListener(mt[1],Yt,Yt.$),delete this[Et]}}}i.selection.enter=Lt,i.selection.enter.prototype=St,St.append=at.append,St.empty=at.empty,St.node=at.node,St.call=at.call,St.size=at.size,St.select=function(c){for(var M,O,R,V,W,ut=[],ft=-1,mt=this.length;++ft<mt;){R=(V=this[ft]).update,ut.push(M=[]),M.parentNode=V.parentNode;for(var wt=-1,Et=V.length;++wt<Et;)(W=V[wt])?(M.push(R[wt]=O=c.call(V.parentNode,W.__data__,wt,ft)),O.__data__=W.__data__):M.push(null)}return Y(ut)},St.insert=function(c,M){var O,R,V;return arguments.length<2&&(O=this,M=function(W,ut,ft){var mt,wt=O[ft].update,Et=wt.length;for(ft!=V&&(V=ft,R=0),ut>=R&&(R=ut+1);!(mt=wt[R])&&++R<Et;);return mt}),at.insert.call(this,c,M)},i.select=function(c){var M;return typeof c=="string"?(M=[Z(c,r)]).parentNode=r.documentElement:(M=[c]).parentNode=o(c),Y([M])},i.selectAll=function(c){var M;return typeof c=="string"?(M=n(G(c,r))).parentNode=r.documentElement:(M=n(c)).parentNode=null,Y([M])},at.on=function(c,M,O){var R=arguments.length;if(R<3){if(typeof c!="string"){for(O in R<2&&(M=!1),c)this.each(At(O,c[O],M));return this}if(R<2)return(R=this.node()["__on"+c])&&R._;O=!1}return this.each(At(c,M,O))};var Nt=i.map({mouseenter:"mouseover",mouseleave:"mouseout"});function zt(c,M){return function(O){var R=i.event;i.event=O,M[0]=this.__data__;try{c.apply(this,M)}finally{i.event=R}}}function Ft(c,M){var O=zt(c,M);return function(R){var V=this,W=R.relatedTarget;W&&(W===V||8&W.compareDocumentPosition(V))||O.call(V,R)}}r&&Nt.forEach(function(c){"on"+c in r&&Nt.remove(c)});var Gt,Bt=0;function de(c){var M=".dragsuppress-"+ ++Bt,O="click"+M,R=i.select(s(c)).on("touchmove"+M,ot).on("dragstart"+M,ot).on("selectstart"+M,ot);if(Gt==null&&(Gt=!("onselectstart"in c)&&K(c.style,"userSelect")),Gt){var V=o(c).style,W=V[Gt];V[Gt]="none"}return function(ut){if(R.on(M,null),Gt&&(V[Gt]=W),ut){var ft=function(){R.on(O,null)};R.on(O,function(){ot(),ft()},!0),setTimeout(ft,0)}}}i.mouse=function(c){return pe(c,rt())};var ie=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function pe(c,M){M.changedTouches&&(M=M.changedTouches[0]);var O=c.ownerSVGElement||c;if(O.createSVGPoint){var R=O.createSVGPoint();if(ie<0){var V=s(c);if(V.scrollX||V.scrollY){var W=(O=i.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();ie=!(W.f||W.e),O.remove()}}return ie?(R.x=M.pageX,R.y=M.pageY):(R.x=M.clientX,R.y=M.clientY),[(R=R.matrixTransform(c.getScreenCTM().inverse())).x,R.y]}var ut=c.getBoundingClientRect();return[M.clientX-ut.left-c.clientLeft,M.clientY-ut.top-c.clientTop]}function Ot(){return i.event.changedTouches[0].identifier}i.touch=function(c,M,O){if(arguments.length<3&&(O=M,M=rt().changedTouches),M){for(var R,V=0,W=M.length;V<W;++V)if((R=M[V]).identifier===O)return pe(c,R)}},i.behavior.drag=function(){var c=$(V,"drag","dragstart","dragend"),M=null,O=W(B,i.mouse,s,"mousemove","mouseup"),R=W(Ot,i.touch,U,"touchmove","touchend");function V(){this.on("mousedown.drag",O).on("touchstart.drag",R)}function W(ut,ft,mt,wt,Et){return function(){var Yt,Wt=this,ae=i.event.target.correspondingElement||i.event.target,me=Wt.parentNode,ne=c.of(Wt,arguments),le=0,Jt=ut(),we=".drag"+(Jt==null?"":"-"+Jt),se=i.select(mt(ae)).on(wt+we,function(){var Ce,Ve,Ue=ft(me,Jt);Ue&&(Ce=Ue[0]-De[0],Ve=Ue[1]-De[1],le|=Ce|Ve,De=Ue,ne({type:"drag",x:Ue[0]+Yt[0],y:Ue[1]+Yt[1],dx:Ce,dy:Ve}))}).on(Et+we,function(){ft(me,Jt)&&(se.on(wt+we,null).on(Et+we,null),$t(le),ne({type:"dragend"}))}),$t=de(ae),De=ft(me,Jt);Yt=M?[(Yt=M.apply(Wt,arguments)).x-De[0],Yt.y-De[1]]:[0,0],ne({type:"dragstart"})}}return V.origin=function(ut){return arguments.length?(M=ut,V):M},i.rebind(V,c,"on")},i.touches=function(c,M){return arguments.length<2&&(M=rt().touches),M?n(M).map(function(O){var R=pe(c,O);return R.identifier=O.identifier,R}):[]};var gt=1e-6,jt=gt*gt,Xt=Math.PI,xe=2*Xt,Vt=xe-gt,Qt=Xt/2,re=Xt/180,_e=180/Xt;function ce(c){return c>1?Qt:c<-1?-Qt:Math.asin(c)}function Me(c){return((c=Math.exp(c))+1/c)/2}var te=Math.SQRT2;i.interpolateZoom=function(c,M){var O,R,V=c[0],W=c[1],ut=c[2],ft=M[0],mt=M[1],wt=M[2],Et=ft-V,Yt=mt-W,Wt=Et*Et+Yt*Yt;if(Wt<jt)R=Math.log(wt/ut)/te,O=function(we){return[V+we*Et,W+we*Yt,ut*Math.exp(te*we*R)]};else{var ae=Math.sqrt(Wt),me=(wt*wt-ut*ut+4*Wt)/(2*ut*2*ae),ne=(wt*wt-ut*ut-4*Wt)/(2*wt*2*ae),le=Math.log(Math.sqrt(me*me+1)-me),Jt=Math.log(Math.sqrt(ne*ne+1)-ne);R=(Jt-le)/te,O=function(we){var se,$t=we*R,De=Me(le),Ce=ut/(2*ae)*(De*(se=te*$t+le,((se=Math.exp(2*se))-1)/(se+1))-function(Ve){return((Ve=Math.exp(Ve))-1/Ve)/2}(le));return[V+Ce*Et,W+Ce*Yt,ut*De/Me(te*$t+le)]}}return O.duration=1e3*R,O},i.behavior.zoom=function(){var c,M,O,R,V,W,ut,ft,mt,wt={x:0,y:0,k:1},Et=[960,500],Yt=It,Wt=250,ae=0,me="mousedown.zoom",ne="mousemove.zoom",le="mouseup.zoom",Jt="touchstart.zoom",we=$(se,"zoomstart","zoom","zoomend");function se(qe){qe.on(me,an).on(et+".zoom",Dn).on("dblclick.zoom",Hn).on(Jt,bn)}function $t(qe){return[(qe[0]-wt.x)/wt.k,(qe[1]-wt.y)/wt.k]}function De(qe){wt.k=Math.max(Yt[0],Math.min(Yt[1],qe))}function Ce(qe,Qe){Qe=function(dn){return[dn[0]*wt.k+wt.x,dn[1]*wt.k+wt.y]}(Qe),wt.x+=qe[0]-Qe[0],wt.y+=qe[1]-Qe[1]}function Ve(qe,Qe,dn,yn){qe.__chart__={x:wt.x,y:wt.y,k:wt.k},De(Math.pow(2,yn)),Ce(M=Qe,dn),qe=i.select(qe),Wt>0&&(qe=qe.transition().duration(Wt)),qe.call(se.event)}function Ue(){ut&&ut.domain(W.range().map(function(qe){return(qe-wt.x)/wt.k}).map(W.invert)),mt&&mt.domain(ft.range().map(function(qe){return(qe-wt.y)/wt.k}).map(ft.invert))}function en(qe){ae++||qe({type:"zoomstart"})}function rn(qe){Ue(),qe({type:"zoom",scale:wt.k,translate:[wt.x,wt.y]})}function cn(qe){--ae||(qe({type:"zoomend"}),M=null)}function an(){var qe=this,Qe=we.of(qe,arguments),dn=0,yn=i.select(s(qe)).on(ne,function(){dn=1,Ce(i.mouse(qe),wn),rn(Qe)}).on(le,function(){yn.on(ne,null).on(le,null),Rn(dn),cn(Qe)}),wn=$t(i.mouse(qe)),Rn=de(qe);Jr.call(qe),en(Qe)}function bn(){var qe,Qe=this,dn=we.of(Qe,arguments),yn={},wn=0,Rn=".zoom-"+i.event.changedTouches[0].identifier,Gn="touchmove"+Rn,Vn="touchend"+Rn,Xn=[],qn=i.select(Qe),Kn=de(Qe);function er(){var $n=i.touches(Qe);return qe=wt.k,$n.forEach(function(Zn){Zn.identifier in yn&&(yn[Zn.identifier]=$t(Zn))}),$n}function pr(){var $n=i.event.target;i.select($n).on(Gn,yr).on(Vn,mr),Xn.push($n);for(var Zn=i.event.changedTouches,ar=0,ir=Zn.length;ar<ir;++ar)yn[Zn[ar].identifier]=null;var or=er(),ur=Date.now();if(or.length===1){if(ur-V<500){var _r=or[0];Ve(Qe,_r,yn[_r.identifier],Math.floor(Math.log(wt.k)/Math.LN2)+1),ot()}V=ur}else if(or.length>1){_r=or[0];var kr=or[1],Qr=_r[0]-kr[0],pi=_r[1]-kr[1];wn=Qr*Qr+pi*pi}}function yr(){var $n,Zn,ar,ir,or=i.touches(Qe);Jr.call(Qe);for(var ur=0,_r=or.length;ur<_r;++ur,ir=null)if(ar=or[ur],ir=yn[ar.identifier]){if(Zn)break;$n=ar,Zn=ir}if(ir){var kr=(kr=ar[0]-$n[0])*kr+(kr=ar[1]-$n[1])*kr,Qr=wn&&Math.sqrt(kr/wn);$n=[($n[0]+ar[0])/2,($n[1]+ar[1])/2],Zn=[(Zn[0]+ir[0])/2,(Zn[1]+ir[1])/2],De(Qr*qe)}V=null,Ce($n,Zn),rn(dn)}function mr(){if(i.event.touches.length){for(var $n=i.event.changedTouches,Zn=0,ar=$n.length;Zn<ar;++Zn)delete yn[$n[Zn].identifier];for(var ir in yn)return void er()}i.selectAll(Xn).on(Rn,null),qn.on(me,an).on(Jt,bn),Kn(),cn(dn)}pr(),en(dn),qn.on(me,null).on(Jt,pr)}function Dn(){var qe=we.of(this,arguments);R?clearTimeout(R):(Jr.call(this),c=$t(M=O||i.mouse(this)),en(qe)),R=setTimeout(function(){R=null,cn(qe)},50),ot(),De(Math.pow(2,.002*X())*wt.k),Ce(M,c),rn(qe)}function Hn(){var qe=i.mouse(this),Qe=Math.log(wt.k)/Math.LN2;Ve(this,qe,$t(qe),i.event.shiftKey?Math.ceil(Qe)-1:Math.floor(Qe)+1)}return et||(et="onwheel"in r?(X=function(){return-i.event.deltaY*(i.event.deltaMode?120:1)},"wheel"):"onmousewheel"in r?(X=function(){return i.event.wheelDelta},"mousewheel"):(X=function(){return-i.event.detail},"MozMousePixelScroll")),se.event=function(qe){qe.each(function(){var Qe=we.of(this,arguments),dn=wt;Cr?i.select(this).transition().each("start.zoom",function(){wt=this.__chart__||{x:0,y:0,k:1},en(Qe)}).tween("zoom:zoom",function(){var yn=Et[0],wn=Et[1],Rn=M?M[0]:yn/2,Gn=M?M[1]:wn/2,Vn=i.interpolateZoom([(Rn-wt.x)/wt.k,(Gn-wt.y)/wt.k,yn/wt.k],[(Rn-dn.x)/dn.k,(Gn-dn.y)/dn.k,yn/dn.k]);return function(Xn){var qn=Vn(Xn),Kn=yn/qn[2];this.__chart__=wt={x:Rn-qn[0]*Kn,y:Gn-qn[1]*Kn,k:Kn},rn(Qe)}}).each("interrupt.zoom",function(){cn(Qe)}).each("end.zoom",function(){cn(Qe)}):(this.__chart__=wt,en(Qe),rn(Qe),cn(Qe))})},se.translate=function(qe){return arguments.length?(wt={x:+qe[0],y:+qe[1],k:wt.k},Ue(),se):[wt.x,wt.y]},se.scale=function(qe){return arguments.length?(wt={x:wt.x,y:wt.y,k:null},De(+qe),Ue(),se):wt.k},se.scaleExtent=function(qe){return arguments.length?(Yt=qe==null?It:[+qe[0],+qe[1]],se):Yt},se.center=function(qe){return arguments.length?(O=qe&&[+qe[0],+qe[1]],se):O},se.size=function(qe){return arguments.length?(Et=qe&&[+qe[0],+qe[1]],se):Et},se.duration=function(qe){return arguments.length?(Wt=+qe,se):Wt},se.x=function(qe){return arguments.length?(ut=qe,W=qe.copy(),wt={x:0,y:0,k:1},se):ut},se.y=function(qe){return arguments.length?(mt=qe,ft=qe.copy(),wt={x:0,y:0,k:1},se):mt},i.rebind(se,we,"on")};var X,et,It=[0,1/0];function Ct(){}function Ut(c,M,O){return this instanceof Ut?(this.h=+c,this.s=+M,void(this.l=+O)):arguments.length<2?c instanceof Ut?new Ut(c.h,c.s,c.l):Pe(""+c,Le,Ut):new Ut(c,M,O)}i.color=Ct,Ct.prototype.toString=function(){return this.rgb()+""},i.hsl=Ut;var Rt=Ut.prototype=new Ct;function Ht(c,M,O){var R,V;function W(ut){return Math.round(255*function(ft){return ft>360?ft-=360:ft<0&&(ft+=360),ft<60?R+(V-R)*ft/60:ft<180?V:ft<240?R+(V-R)*(240-ft)/60:R}(ut))}return c=isNaN(c)?0:(c%=360)<0?c+360:c,M=isNaN(M)||M<0?0:M>1?1:M,R=2*(O=O<0?0:O>1?1:O)-(V=O<=.5?O*(1+M):O+M-O*M),new Ie(W(c+120),W(c),W(c-120))}function Zt(c,M,O){return this instanceof Zt?(this.h=+c,this.c=+M,void(this.l=+O)):arguments.length<2?c instanceof Zt?new Zt(c.h,c.c,c.l):function(R,V,W){return R>0?new Zt(Math.atan2(W,V)*_e,Math.sqrt(V*V+W*W),R):new Zt(NaN,NaN,R)}(c instanceof ue?c.l:(c=Oe((c=i.rgb(c)).r,c.g,c.b)).l,c.a,c.b):new Zt(c,M,O)}Rt.brighter=function(c){return c=Math.pow(.7,arguments.length?c:1),new Ut(this.h,this.s,this.l/c)},Rt.darker=function(c){return c=Math.pow(.7,arguments.length?c:1),new Ut(this.h,this.s,c*this.l)},Rt.rgb=function(){return Ht(this.h,this.s,this.l)},i.hcl=Zt;var Kt=Zt.prototype=new Ct;function oe(c,M,O){return isNaN(c)&&(c=0),isNaN(M)&&(M=0),new ue(O,Math.cos(c*=re)*M,Math.sin(c)*M)}function ue(c,M,O){return this instanceof ue?(this.l=+c,this.a=+M,void(this.b=+O)):arguments.length<2?c instanceof ue?new ue(c.l,c.a,c.b):c instanceof Zt?oe(c.h,c.c,c.l):Oe((c=Ie(c)).r,c.g,c.b):new ue(c,M,O)}Kt.brighter=function(c){return new Zt(this.h,this.c,Math.min(100,this.l+Se*(arguments.length?c:1)))},Kt.darker=function(c){return new Zt(this.h,this.c,Math.max(0,this.l-Se*(arguments.length?c:1)))},Kt.rgb=function(){return oe(this.h,this.c,this.l).rgb()},i.lab=ue;var Se=18,he=.95047,ve=1,ke=1.08883,Ae=ue.prototype=new Ct;function ee(c,M,O){var R=(c+16)/116,V=R+M/500,W=R-O/200;return new Ie(je(3.2404542*(V=fe(V)*he)-1.5371385*(R=fe(R)*ve)-.4985314*(W=fe(W)*ke)),je(-.969266*V+1.8760108*R+.041556*W),je(.0556434*V-.2040259*R+1.0572252*W))}function fe(c){return c>.206893034?c*c*c:(c-.13793103448275862)/7.787037}function ge(c){return c>.008856?Math.pow(c,.3333333333333333):7.787037*c+.13793103448275862}function je(c){return Math.round(255*(c<=.00304?12.92*c:1.055*Math.pow(c,.4166666666666667)-.055))}function Ie(c,M,O){return this instanceof Ie?(this.r=~~c,this.g=~~M,void(this.b=~~O)):arguments.length<2?c instanceof Ie?new Ie(c.r,c.g,c.b):Pe(""+c,Ie,Ht):new Ie(c,M,O)}function Fe(c){return new Ie(c>>16,c>>8&255,255&c)}function ye(c){return Fe(c)+""}Ae.brighter=function(c){return new ue(Math.min(100,this.l+Se*(arguments.length?c:1)),this.a,this.b)},Ae.darker=function(c){return new ue(Math.max(0,this.l-Se*(arguments.length?c:1)),this.a,this.b)},Ae.rgb=function(){return ee(this.l,this.a,this.b)},i.rgb=Ie;var be=Ie.prototype=new Ct;function Te(c){return c<16?"0"+Math.max(0,c).toString(16):Math.min(255,c).toString(16)}function Pe(c,M,O){var R,V,W,ut=0,ft=0,mt=0;if(R=/([a-z]+)\((.*)\)/.exec(c=c.toLowerCase()))switch(V=R[2].split(","),R[1]){case"hsl":return O(parseFloat(V[0]),parseFloat(V[1])/100,parseFloat(V[2])/100);case"rgb":return M(He(V[0]),He(V[1]),He(V[2]))}return(W=ze.get(c))?M(W.r,W.g,W.b):(c==null||c.charAt(0)!=="#"||isNaN(W=parseInt(c.slice(1),16))||(c.length===4?(ut=(3840&W)>>4,ut|=ut>>4,ft=240&W,ft|=ft>>4,mt=15&W,mt|=mt<<4):c.length===7&&(ut=(16711680&W)>>16,ft=(65280&W)>>8,mt=255&W)),M(ut,ft,mt))}function Le(c,M,O){var R,V,W=Math.min(c/=255,M/=255,O/=255),ut=Math.max(c,M,O),ft=ut-W,mt=(ut+W)/2;return ft?(V=mt<.5?ft/(ut+W):ft/(2-ut-W),R=c==ut?(M-O)/ft+(M<O?6:0):M==ut?(O-c)/ft+2:(c-M)/ft+4,R*=60):(R=NaN,V=mt>0&&mt<1?0:R),new Ut(R,V,mt)}function Oe(c,M,O){var R=ge((.4124564*(c=Ee(c))+.3575761*(M=Ee(M))+.1804375*(O=Ee(O)))/he),V=ge((.2126729*c+.7151522*M+.072175*O)/ve);return ue(116*V-16,500*(R-V),200*(V-ge((.0193339*c+.119192*M+.9503041*O)/ke)))}function Ee(c){return(c/=255)<=.04045?c/12.92:Math.pow((c+.055)/1.055,2.4)}function He(c){var M=parseFloat(c);return c.charAt(c.length-1)==="%"?Math.round(2.55*M):M}be.brighter=function(c){c=Math.pow(.7,arguments.length?c:1);var M=this.r,O=this.g,R=this.b,V=30;return M||O||R?(M&&M<V&&(M=V),O&&O<V&&(O=V),R&&R<V&&(R=V),new Ie(Math.min(255,M/c),Math.min(255,O/c),Math.min(255,R/c))):new Ie(V,V,V)},be.darker=function(c){return new Ie((c=Math.pow(.7,arguments.length?c:1))*this.r,c*this.g,c*this.b)},be.hsl=function(){return Le(this.r,this.g,this.b)},be.toString=function(){return"#"+Te(this.r)+Te(this.g)+Te(this.b)};var ze=i.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Ne(c){return typeof c=="function"?c:function(){return c}}function Ye(c){return function(M,O,R){return arguments.length===2&&typeof O=="function"&&(R=O,O=null),Ze(M,O,c,R)}}function Ze(c,M,O,R){var V={},W=i.dispatch("beforesend","progress","load","error"),ut={},ft=new XMLHttpRequest,mt=null;function wt(){var Et,Yt=ft.status;if(!Yt&&function(Wt){var ae=Wt.responseType;return ae&&ae!=="text"?Wt.response:Wt.responseText}(ft)||Yt>=200&&Yt<300||Yt===304){try{Et=O.call(V,ft)}catch(Wt){return void W.error.call(V,Wt)}W.load.call(V,Et)}else W.error.call(V,ft)}return self.XDomainRequest&&!("withCredentials"in ft)&&/^(http(s)?:)?\/\//.test(c)&&(ft=new XDomainRequest),"onload"in ft?ft.onload=ft.onerror=wt:ft.onreadystatechange=function(){ft.readyState>3&&wt()},ft.onprogress=function(Et){var Yt=i.event;i.event=Et;try{W.progress.call(V,ft)}finally{i.event=Yt}},V.header=function(Et,Yt){return Et=(Et+"").toLowerCase(),arguments.length<2?ut[Et]:(Yt==null?delete ut[Et]:ut[Et]=Yt+"",V)},V.mimeType=function(Et){return arguments.length?(M=Et==null?null:Et+"",V):M},V.responseType=function(Et){return arguments.length?(mt=Et,V):mt},V.response=function(Et){return O=Et,V},["get","post"].forEach(function(Et){V[Et]=function(){return V.send.apply(V,[Et].concat(n(arguments)))}}),V.send=function(Et,Yt,Wt){if(arguments.length===2&&typeof Yt=="function"&&(Wt=Yt,Yt=null),ft.open(Et,c,!0),M==null||"accept"in ut||(ut.accept=M+",*/*"),ft.setRequestHeader)for(var ae in ut)ft.setRequestHeader(ae,ut[ae]);return M!=null&&ft.overrideMimeType&&ft.overrideMimeType(M),mt!=null&&(ft.responseType=mt),Wt!=null&&V.on("error",Wt).on("load",function(me){Wt(null,me)}),W.beforesend.call(V,ft),ft.send(Yt??null),V},V.abort=function(){return ft.abort(),V},i.rebind(V,W,"on"),R==null?V:V.get(function(Et){return Et.length===1?function(Yt,Wt){Et(Yt==null?Wt:null)}:Et}(R))}ze.forEach(function(c,M){ze.set(c,Fe(M))}),i.functor=Ne,i.xhr=Ye(U),i.dsv=function(c,M){var O=new RegExp('["'+c+`
]`),R=c.charCodeAt(0);function V(wt,Et,Yt){arguments.length<3&&(Yt=Et,Et=null);var Wt=Ze(wt,M,Et==null?W:ut(Et),Yt);return Wt.row=function(ae){return arguments.length?Wt.response((Et=ae)==null?W:ut(ae)):Et},Wt}function W(wt){return V.parse(wt.responseText)}function ut(wt){return function(Et){return V.parse(Et.responseText,wt)}}function ft(wt){return wt.map(mt).join(c)}function mt(wt){return O.test(wt)?'"'+wt.replace(/\"/g,'""')+'"':wt}return V.parse=function(wt,Et){var Yt;return V.parseRows(wt,function(Wt,ae){if(Yt)return Yt(Wt,ae-1);var me=function(ne){for(var le={},Jt=Wt.length,we=0;we<Jt;++we)le[Wt[we]]=ne[we];return le};Yt=Et?function(ne,le){return Et(me(ne),le)}:me})},V.parseRows=function(wt,Et){var Yt,Wt,ae={},me={},ne=[],le=wt.length,Jt=0,we=0;function se(){if(Jt>=le)return me;if(Wt)return Wt=!1,ae;var De=Jt;if(wt.charCodeAt(De)===34){for(var Ce=De;Ce++<le;)if(wt.charCodeAt(Ce)===34){if(wt.charCodeAt(Ce+1)!==34)break;++Ce}return Jt=Ce+2,(Ve=wt.charCodeAt(Ce+1))===13?(Wt=!0,wt.charCodeAt(Ce+2)===10&&++Jt):Ve===10&&(Wt=!0),wt.slice(De+1,Ce).replace(/""/g,'"')}for(;Jt<le;){var Ve,Ue=1;if((Ve=wt.charCodeAt(Jt++))===10)Wt=!0;else if(Ve===13)Wt=!0,wt.charCodeAt(Jt)===10&&(++Jt,++Ue);else if(Ve!==R)continue;return wt.slice(De,Jt-Ue)}return wt.slice(De)}for(;(Yt=se())!==me;){for(var $t=[];Yt!==ae&&Yt!==me;)$t.push(Yt),Yt=se();Et&&($t=Et($t,we++))==null||ne.push($t)}return ne},V.format=function(wt){if(Array.isArray(wt[0]))return V.formatRows(wt);var Et=new H,Yt=[];return wt.forEach(function(Wt){for(var ae in Wt)Et.has(ae)||Yt.push(Et.add(ae))}),[Yt.map(mt).join(c)].concat(wt.map(function(Wt){return Yt.map(function(ae){return mt(Wt[ae])}).join(c)})).join(`
`)},V.formatRows=function(wt){return wt.map(ft).join(`
`)},V},i.csv=i.dsv(",","text/csv"),i.tsv=i.dsv("	","text/tab-separated-values");var Re,Ge,Je,fn,gn=this[K(this,"requestAnimationFrame")]||function(c){setTimeout(c,17)};function sn(c,M,O){var R=arguments.length;R<2&&(M=0),R<3&&(O=Date.now());var V={c,t:O+M,n:null};return Ge?Ge.n=V:Re=V,Ge=V,Je||(fn=clearTimeout(fn),Je=1,gn(Cn)),V}function Cn(){var c=Tn(),M=On()-c;M>24?(isFinite(M)&&(clearTimeout(fn),fn=setTimeout(Cn,M)),Je=0):(Je=1,gn(Cn))}function Tn(){for(var c=Date.now(),M=Re;M;)c>=M.t&&M.c(c-M.t)&&(M.c=null),M=M.n;return c}function On(){for(var c,M=Re,O=1/0;M;)M.c?(M.t<O&&(O=M.t),M=(c=M).n):M=c?c.n=M.n:Re=M.n;return Ge=c,O}function Pn(c){return c[0]}function zn(c){return c[1]}function Bn(c){for(var M,O,R,V=c.length,W=[0,1],ut=2,ft=2;ft<V;ft++){for(;ut>1&&(M=c[W[ut-2]],O=c[W[ut-1]],R=c[ft],(O[0]-M[0])*(R[1]-M[1])-(O[1]-M[1])*(R[0]-M[0])<=0);)--ut;W[ut++]=ft}return W.slice(0,ut)}function Un(c,M){return c[0]-M[0]||c[1]-M[1]}i.timer=function(){sn.apply(this,arguments)},i.timer.flush=function(){Tn(),On()},i.round=function(c,M){return M?Math.round(c*(M=Math.pow(10,M)))/M:Math.round(c)},i.geom={},i.geom.hull=function(c){var M=Pn,O=zn;if(arguments.length)return R(c);function R(V){if(V.length<3)return[];var W,ut=Ne(M),ft=Ne(O),mt=V.length,wt=[],Et=[];for(W=0;W<mt;W++)wt.push([+ut.call(this,V[W],W),+ft.call(this,V[W],W),W]);for(wt.sort(Un),W=0;W<mt;W++)Et.push([wt[W][0],-wt[W][1]]);var Yt=Bn(wt),Wt=Bn(Et),ae=Wt[0]===Yt[0],me=Wt[Wt.length-1]===Yt[Yt.length-1],ne=[];for(W=Yt.length-1;W>=0;--W)ne.push(V[wt[Yt[W]][2]]);for(W=+ae;W<Wt.length-me;++W)ne.push(V[wt[Wt[W]][2]]);return ne}return R.x=function(V){return arguments.length?(M=V,R):M},R.y=function(V){return arguments.length?(O=V,R):O},R},i.geom.polygon=function(c){return S(c,Fn),c};var Fn=i.geom.polygon.prototype=[];function Mn(c,M,O){return(O[0]-M[0])*(c[1]-M[1])<(O[1]-M[1])*(c[0]-M[0])}function kn(c,M,O,R){var V=c[0],W=O[0],ut=M[0]-V,ft=R[0]-W,mt=c[1],wt=O[1],Et=M[1]-mt,Yt=R[1]-wt,Wt=(ft*(mt-wt)-Yt*(V-W))/(Yt*ut-ft*Et);return[V+Wt*ut,mt+Wt*Et]}function Ke(c){var M=c[0],O=c[c.length-1];return!(M[0]-O[0]||M[1]-O[1])}Fn.area=function(){for(var c,M=-1,O=this.length,R=this[O-1],V=0;++M<O;)c=R,R=this[M],V+=c[1]*R[0]-c[0]*R[1];return .5*V},Fn.centroid=function(c){var M,O,R=-1,V=this.length,W=0,ut=0,ft=this[V-1];for(arguments.length||(c=-1/(6*this.area()));++R<V;)M=ft,ft=this[R],O=M[0]*ft[1]-ft[0]*M[1],W+=(M[0]+ft[0])*O,ut+=(M[1]+ft[1])*O;return[W*c,ut*c]},Fn.clip=function(c){for(var M,O,R,V,W,ut,ft=Ke(c),mt=-1,wt=this.length-Ke(this),Et=this[wt-1];++mt<wt;){for(M=c.slice(),c.length=0,V=this[mt],W=M[(R=M.length-ft)-1],O=-1;++O<R;)Mn(ut=M[O],Et,V)?(Mn(W,Et,V)||c.push(kn(W,ut,Et,V)),c.push(ut)):Mn(W,Et,V)&&c.push(kn(W,ut,Et,V)),W=ut;ft&&c.push(c[0]),Et=V}return c};var hn,$e,on,mn,Xe,Be=[],We=[];function nn(){xr(this),this.edge=this.site=this.circle=null}function tn(c){var M=Be.pop()||new nn;return M.site=c,M}function pn(c){jn(c),on.remove(c),Be.push(c),xr(c)}function ln(c){var M=c.circle,O=M.x,R=M.cy,V={x:O,y:R},W=c.P,ut=c.N,ft=[c];pn(c);for(var mt=W;mt.circle&&w(O-mt.circle.x)<gt&&w(R-mt.circle.cy)<gt;)W=mt.P,ft.unshift(mt),pn(mt),mt=W;ft.unshift(mt),jn(mt);for(var wt=ut;wt.circle&&w(O-wt.circle.x)<gt&&w(R-wt.circle.cy)<gt;)ut=wt.N,ft.push(wt),pn(wt),wt=ut;ft.push(wt),jn(wt);var Et,Yt=ft.length;for(Et=1;Et<Yt;++Et)wt=ft[Et],mt=ft[Et-1],Yn(wt.edge,mt.site,wt.site,V);mt=ft[0],(wt=ft[Yt-1]).edge=Qn(mt.site,wt.site,null,V),_n(mt),_n(wt)}function un(c){for(var M,O,R,V,W=c.x,ut=c.y,ft=on._;ft;)if((R=An(ft,ut)-W)>gt)ft=ft.L;else{if(!((V=W-Nn(ft,ut))>gt)){R>-gt?(M=ft.P,O=ft):V>-gt?(M=ft,O=ft.N):M=O=ft;break}if(!ft.R){M=ft;break}ft=ft.R}var mt=tn(c);if(on.insert(M,mt),M||O){if(M===O)return jn(M),O=tn(M.site),on.insert(mt,O),mt.edge=O.edge=Qn(M.site,mt.site),_n(M),void _n(O);if(O){jn(M),jn(O);var wt=M.site,Et=wt.x,Yt=wt.y,Wt=c.x-Et,ae=c.y-Yt,me=O.site,ne=me.x-Et,le=me.y-Yt,Jt=2*(Wt*le-ae*ne),we=Wt*Wt+ae*ae,se=ne*ne+le*le,$t={x:(le*we-ae*se)/Jt+Et,y:(Wt*se-ne*we)/Jt+Yt};Yn(O.edge,wt,me,$t),mt.edge=Qn(wt,c,null,$t),O.edge=Qn(c,me,null,$t),_n(M),_n(O)}else mt.edge=Qn(M.site,mt.site)}}function An(c,M){var O=c.site,R=O.x,V=O.y,W=V-M;if(!W)return R;var ut=c.P;if(!ut)return-1/0;var ft=(O=ut.site).x,mt=O.y,wt=mt-M;if(!wt)return ft;var Et=ft-R,Yt=1/W-1/wt,Wt=Et/wt;return Yt?(-Wt+Math.sqrt(Wt*Wt-2*Yt*(Et*Et/(-2*wt)-mt+wt/2+V-W/2)))/Yt+R:(R+ft)/2}function Nn(c,M){var O=c.N;if(O)return An(O,M);var R=c.site;return R.y===M?R.x:1/0}function Ln(c){this.site=c,this.edges=[]}function En(c,M){return M.angle-c.angle}function In(){xr(this),this.x=this.y=this.arc=this.site=this.cy=null}function _n(c){var M=c.P,O=c.N;if(M&&O){var R=M.site,V=c.site,W=O.site;if(R!==W){var ut=V.x,ft=V.y,mt=R.x-ut,wt=R.y-ft,Et=W.x-ut,Yt=2*(mt*(le=W.y-ft)-wt*Et);if(!(Yt>=-jt)){var Wt=mt*mt+wt*wt,ae=Et*Et+le*le,me=(le*Wt-wt*ae)/Yt,ne=(mt*ae-Et*Wt)/Yt,le=ne+ft,Jt=We.pop()||new In;Jt.arc=c,Jt.site=V,Jt.x=me+ut,Jt.y=le+Math.sqrt(me*me+ne*ne),Jt.cy=le,c.circle=Jt;for(var we=null,se=Xe._;se;)if(Jt.y<se.y||Jt.y===se.y&&Jt.x<=se.x){if(!se.L){we=se.P;break}se=se.L}else{if(!se.R){we=se;break}se=se.R}Xe.insert(we,Jt),we||(mn=Jt)}}}}function jn(c){var M=c.circle;M&&(M.P||(mn=M.N),Xe.remove(M),We.push(M),xr(M),c.circle=null)}function Sn(c,M){var O=c.b;if(O)return!0;var R,V,W=c.a,ut=M[0][0],ft=M[1][0],mt=M[0][1],wt=M[1][1],Et=c.l,Yt=c.r,Wt=Et.x,ae=Et.y,me=Yt.x,ne=Yt.y,le=(Wt+me)/2,Jt=(ae+ne)/2;if(ne===ae){if(le<ut||le>=ft)return;if(Wt>me){if(W){if(W.y>=wt)return}else W={x:le,y:mt};O={x:le,y:wt}}else{if(W){if(W.y<mt)return}else W={x:le,y:wt};O={x:le,y:mt}}}else if(V=Jt-(R=(Wt-me)/(ne-ae))*le,R<-1||R>1)if(Wt>me){if(W){if(W.y>=wt)return}else W={x:(mt-V)/R,y:mt};O={x:(wt-V)/R,y:wt}}else{if(W){if(W.y<mt)return}else W={x:(wt-V)/R,y:wt};O={x:(mt-V)/R,y:mt}}else if(ae<ne){if(W){if(W.x>=ft)return}else W={x:ut,y:R*ut+V};O={x:ft,y:R*ft+V}}else{if(W){if(W.x<ut)return}else W={x:ft,y:R*ft+V};O={x:ut,y:R*ut+V}}return c.a=W,c.b=O,!0}function xn(c,M){this.l=c,this.r=M,this.a=this.b=null}function Qn(c,M,O,R){var V=new xn(c,M);return hn.push(V),O&&Yn(V,c,M,O),R&&Yn(V,M,c,R),$e[c.i].edges.push(new lr(V,c,M)),$e[M.i].edges.push(new lr(V,M,c)),V}function Yn(c,M,O,R){c.a||c.b?c.l===O?c.b=R:c.a=R:(c.a=R,c.l=M,c.r=O)}function lr(c,M,O){var R=c.a,V=c.b;this.edge=c,this.site=M,this.angle=O?Math.atan2(O.y-M.y,O.x-M.x):c.l===M?Math.atan2(V.x-R.x,R.y-V.y):Math.atan2(R.x-V.x,V.y-R.y)}function nr(){this._=null}function xr(c){c.U=c.C=c.L=c.R=c.P=c.N=null}function fr(c,M){var O=M,R=M.R,V=O.U;V?V.L===O?V.L=R:V.R=R:c._=R,R.U=V,O.U=R,O.R=R.L,O.R&&(O.R.U=O),R.L=O}function dr(c,M){var O=M,R=M.L,V=O.U;V?V.L===O?V.L=R:V.R=R:c._=R,R.U=V,O.U=R,O.L=R.R,O.L&&(O.L.U=O),R.R=O}function zr(c){for(;c.L;)c=c.L;return c}function Ar(c,M){var O,R,V,W=c.sort(Br).pop();for(hn=[],$e=new Array(c.length),on=new nr,Xe=new nr;;)if(V=mn,W&&(!V||W.y<V.y||W.y===V.y&&W.x<V.x))W.x===O&&W.y===R||($e[W.i]=new Ln(W),un(W),O=W.x,R=W.y),W=c.pop();else{if(!V)break;ln(V.arc)}M&&(function(ft){for(var mt,wt,Et,Yt,Wt,ae=hn,me=(wt=ft[0][0],Et=ft[0][1],Yt=ft[1][0],Wt=ft[1][1],function(le){var Jt,we=le.a,se=le.b,$t=we.x,De=we.y,Ce=0,Ve=1,Ue=se.x-$t,en=se.y-De;if(Jt=wt-$t,Ue||!(Jt>0)){if(Jt/=Ue,Ue<0){if(Jt<Ce)return;Jt<Ve&&(Ve=Jt)}else if(Ue>0){if(Jt>Ve)return;Jt>Ce&&(Ce=Jt)}if(Jt=Yt-$t,Ue||!(Jt<0)){if(Jt/=Ue,Ue<0){if(Jt>Ve)return;Jt>Ce&&(Ce=Jt)}else if(Ue>0){if(Jt<Ce)return;Jt<Ve&&(Ve=Jt)}if(Jt=Et-De,en||!(Jt>0)){if(Jt/=en,en<0){if(Jt<Ce)return;Jt<Ve&&(Ve=Jt)}else if(en>0){if(Jt>Ve)return;Jt>Ce&&(Ce=Jt)}if(Jt=Wt-De,en||!(Jt<0)){if(Jt/=en,en<0){if(Jt>Ve)return;Jt>Ce&&(Ce=Jt)}else if(en>0){if(Jt<Ce)return;Jt<Ve&&(Ve=Jt)}return Ce>0&&(le.a={x:$t+Ce*Ue,y:De+Ce*en}),Ve<1&&(le.b={x:$t+Ve*Ue,y:De+Ve*en}),le}}}}}),ne=ae.length;ne--;)(!Sn(mt=ae[ne],ft)||!me(mt)||w(mt.a.x-mt.b.x)<gt&&w(mt.a.y-mt.b.y)<gt)&&(mt.a=mt.b=null,ae.splice(ne,1))}(M),function(ft){for(var mt,wt,Et,Yt,Wt,ae,me,ne,le,Jt,we=ft[0][0],se=ft[1][0],$t=ft[0][1],De=ft[1][1],Ce=$e,Ve=Ce.length;Ve--;)if((Wt=Ce[Ve])&&Wt.prepare())for(ne=(me=Wt.edges).length,ae=0;ae<ne;)Et=(Jt=me[ae].end()).x,Yt=Jt.y,mt=(le=me[++ae%ne].start()).x,wt=le.y,(w(Et-mt)>gt||w(Yt-wt)>gt)&&(me.splice(ae,0,new lr((Ue=Wt.site,en=Jt,rn=w(Et-we)<gt&&De-Yt>gt?{x:we,y:w(mt-we)<gt?wt:De}:w(Yt-De)<gt&&se-Et>gt?{x:w(wt-De)<gt?mt:se,y:De}:w(Et-se)<gt&&Yt-$t>gt?{x:se,y:w(mt-se)<gt?wt:$t}:w(Yt-$t)<gt&&Et-we>gt?{x:w(wt-$t)<gt?mt:we,y:$t}:null,cn=void 0,(cn=new xn(Ue,null)).a=en,cn.b=rn,hn.push(cn),cn),Wt.site,null)),++ne);var Ue,en,rn,cn}(M));var ut={cells:$e,edges:hn};return on=Xe=hn=$e=null,ut}function Br(c,M){return M.y-c.y||M.x-c.x}Ln.prototype.prepare=function(){for(var c,M=this.edges,O=M.length;O--;)(c=M[O].edge).b&&c.a||M.splice(O,1);return M.sort(En),M.length},lr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},nr.prototype={insert:function(c,M){var O,R,V;if(c){if(M.P=c,M.N=c.N,c.N&&(c.N.P=M),c.N=M,c.R){for(c=c.R;c.L;)c=c.L;c.L=M}else c.R=M;O=c}else this._?(c=zr(this._),M.P=null,M.N=c,c.P=c.L=M,O=c):(M.P=M.N=null,this._=M,O=null);for(M.L=M.R=null,M.U=O,M.C=!0,c=M;O&&O.C;)O===(R=O.U).L?(V=R.R)&&V.C?(O.C=V.C=!1,R.C=!0,c=R):(c===O.R&&(fr(this,O),O=(c=O).U),O.C=!1,R.C=!0,dr(this,R)):(V=R.L)&&V.C?(O.C=V.C=!1,R.C=!0,c=R):(c===O.L&&(dr(this,O),O=(c=O).U),O.C=!1,R.C=!0,fr(this,R)),O=c.U;this._.C=!1},remove:function(c){c.N&&(c.N.P=c.P),c.P&&(c.P.N=c.N),c.N=c.P=null;var M,O,R,V=c.U,W=c.L,ut=c.R;if(O=W?ut?zr(ut):W:ut,V?V.L===c?V.L=O:V.R=O:this._=O,W&&ut?(R=O.C,O.C=c.C,O.L=W,W.U=O,O!==ut?(V=O.U,O.U=c.U,c=O.R,V.L=c,O.R=ut,ut.U=O):(O.U=V,V=O,c=O.R)):(R=c.C,c=O),c&&(c.U=V),!R)if(c&&c.C)c.C=!1;else{do{if(c===this._)break;if(c===V.L){if((M=V.R).C&&(M.C=!1,V.C=!0,fr(this,V),M=V.R),M.L&&M.L.C||M.R&&M.R.C){M.R&&M.R.C||(M.L.C=!1,M.C=!0,dr(this,M),M=V.R),M.C=V.C,V.C=M.R.C=!1,fr(this,V),c=this._;break}}else if((M=V.L).C&&(M.C=!1,V.C=!0,dr(this,V),M=V.L),M.L&&M.L.C||M.R&&M.R.C){M.L&&M.L.C||(M.R.C=!1,M.C=!0,fr(this,M),M=V.L),M.C=V.C,V.C=M.L.C=!1,dr(this,V),c=this._;break}M.C=!0,c=V,V=V.U}while(!c.C);c&&(c.C=!1)}}},i.geom.voronoi=function(c){var M=Pn,O=zn,R=M,V=O,W=vn;if(c)return ut(c);function ut(mt){var wt=new Array(mt.length),Et=W[0][0],Yt=W[0][1],Wt=W[1][0],ae=W[1][1];return Ar(ft(mt),W).cells.forEach(function(me,ne){var le=me.edges,Jt=me.site;(wt[ne]=le.length?le.map(function(we){var se=we.start();return[se.x,se.y]}):Jt.x>=Et&&Jt.x<=Wt&&Jt.y>=Yt&&Jt.y<=ae?[[Et,ae],[Wt,ae],[Wt,Yt],[Et,Yt]]:[]).point=mt[ne]}),wt}function ft(mt){return mt.map(function(wt,Et){return{x:Math.round(R(wt,Et)/gt)*gt,y:Math.round(V(wt,Et)/gt)*gt,i:Et}})}return ut.links=function(mt){return Ar(ft(mt)).edges.filter(function(wt){return wt.l&&wt.r}).map(function(wt){return{source:mt[wt.l.i],target:mt[wt.r.i]}})},ut.triangles=function(mt){var wt=[];return Ar(ft(mt)).cells.forEach(function(Et,Yt){for(var Wt,ae,me,ne,le=Et.site,Jt=Et.edges.sort(En),we=-1,se=Jt.length,$t=Jt[se-1].edge,De=$t.l===le?$t.r:$t.l;++we<se;)Wt=De,De=($t=Jt[we].edge).l===le?$t.r:$t.l,Yt<Wt.i&&Yt<De.i&&(me=Wt,ne=De,((ae=le).x-ne.x)*(me.y-ae.y)-(ae.x-me.x)*(ne.y-ae.y)<0)&&wt.push([mt[Yt],mt[Wt.i],mt[De.i]])}),wt},ut.x=function(mt){return arguments.length?(R=Ne(M=mt),ut):M},ut.y=function(mt){return arguments.length?(V=Ne(O=mt),ut):O},ut.clipExtent=function(mt){return arguments.length?(W=mt??vn,ut):W===vn?null:W},ut.size=function(mt){return arguments.length?ut.clipExtent(mt&&[[0,0],mt]):W===vn?null:W&&W[1]},ut};var vn=[[-1e6,-1e6],[1e6,1e6]];function tr(c){return c.x}function sr(c){return c.y}function Wn(c,M,O,R,V,W){if(!c(M,O,R,V,W)){var ut=.5*(O+V),ft=.5*(R+W),mt=M.nodes;mt[0]&&Wn(c,mt[0],O,R,ut,ft),mt[1]&&Wn(c,mt[1],ut,R,V,ft),mt[2]&&Wn(c,mt[2],O,ft,ut,W),mt[3]&&Wn(c,mt[3],ut,ft,V,W)}}function Lr(c,M){c=i.rgb(c),M=i.rgb(M);var O=c.r,R=c.g,V=c.b,W=M.r-O,ut=M.g-R,ft=M.b-V;return function(mt){return"#"+Te(Math.round(O+W*mt))+Te(Math.round(R+ut*mt))+Te(Math.round(V+ft*mt))}}function Or(c,M){var O,R={},V={};for(O in c)O in M?R[O]=vr(c[O],M[O]):V[O]=c[O];for(O in M)O in c||(V[O]=M[O]);return function(W){for(O in R)V[O]=R[O](W);return V}}function rr(c,M){return c=+c,M=+M,function(O){return c*(1-O)+M*O}}function Tr(c,M){var O,R,V,W=br.lastIndex=Sr.lastIndex=0,ut=-1,ft=[],mt=[];for(c+="",M+="";(O=br.exec(c))&&(R=Sr.exec(M));)(V=R.index)>W&&(V=M.slice(W,V),ft[ut]?ft[ut]+=V:ft[++ut]=V),(O=O[0])===(R=R[0])?ft[ut]?ft[ut]+=R:ft[++ut]=R:(ft[++ut]=null,mt.push({i:ut,x:rr(O,R)})),W=Sr.lastIndex;return W<M.length&&(V=M.slice(W),ft[ut]?ft[ut]+=V:ft[++ut]=V),ft.length<2?mt[0]?(M=mt[0].x,function(wt){return M(wt)+""}):function(){return M}:(M=mt.length,function(wt){for(var Et,Yt=0;Yt<M;++Yt)ft[(Et=mt[Yt]).i]=Et.x(wt);return ft.join("")})}i.geom.delaunay=function(c){return i.geom.voronoi().triangles(c)},i.geom.quadtree=function(c,M,O,R,V){var W,ut=Pn,ft=zn;if(W=arguments.length)return ut=tr,ft=sr,W===3&&(V=O,R=M,O=M=0),mt(c);function mt(wt){var Et,Yt,Wt,ae,me,ne,le,Jt,we,se=Ne(ut),$t=Ne(ft);if(M!=null)ne=M,le=O,Jt=R,we=V;else if(Jt=we=-(ne=le=1/0),Yt=[],Wt=[],me=wt.length,W)for(ae=0;ae<me;++ae)(Et=wt[ae]).x<ne&&(ne=Et.x),Et.y<le&&(le=Et.y),Et.x>Jt&&(Jt=Et.x),Et.y>we&&(we=Et.y),Yt.push(Et.x),Wt.push(Et.y);else for(ae=0;ae<me;++ae){var De=+se(Et=wt[ae],ae),Ce=+$t(Et,ae);De<ne&&(ne=De),Ce<le&&(le=Ce),De>Jt&&(Jt=De),Ce>we&&(we=Ce),Yt.push(De),Wt.push(Ce)}var Ve=Jt-ne,Ue=we-le;function en(an,bn,Dn,Hn,qe,Qe,dn,yn){if(!isNaN(Dn)&&!isNaN(Hn))if(an.leaf){var wn=an.x,Rn=an.y;if(wn!=null)if(w(wn-Dn)+w(Rn-Hn)<.01)rn(an,bn,Dn,Hn,qe,Qe,dn,yn);else{var Gn=an.point;an.x=an.y=an.point=null,rn(an,Gn,wn,Rn,qe,Qe,dn,yn),rn(an,bn,Dn,Hn,qe,Qe,dn,yn)}else an.x=Dn,an.y=Hn,an.point=bn}else rn(an,bn,Dn,Hn,qe,Qe,dn,yn)}function rn(an,bn,Dn,Hn,qe,Qe,dn,yn){var wn=.5*(qe+dn),Rn=.5*(Qe+yn),Gn=Dn>=wn,Vn=Hn>=Rn,Xn=Vn<<1|Gn;an.leaf=!1,Gn?qe=wn:dn=wn,Vn?Qe=Rn:yn=Rn,en(an=an.nodes[Xn]||(an.nodes[Xn]={leaf:!0,nodes:[],point:null,x:null,y:null}),bn,Dn,Hn,qe,Qe,dn,yn)}Ve>Ue?we=le+Ve:Jt=ne+Ue;var cn={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(an){en(cn,an,+se(an,++ae),+$t(an,ae),ne,le,Jt,we)}};if(cn.visit=function(an){Wn(an,cn,ne,le,Jt,we)},cn.find=function(an){return function(bn,Dn,Hn,qe,Qe,dn,yn){var wn,Rn=1/0;return function Gn(Vn,Xn,qn,Kn,er){if(!(Xn>dn||qn>yn||Kn<qe||er<Qe)){if(pr=Vn.point){var pr,yr=Dn-Vn.x,mr=Hn-Vn.y,$n=yr*yr+mr*mr;if($n<Rn){var Zn=Math.sqrt(Rn=$n);qe=Dn-Zn,Qe=Hn-Zn,dn=Dn+Zn,yn=Hn+Zn,wn=pr}}for(var ar=Vn.nodes,ir=.5*(Xn+Kn),or=.5*(qn+er),ur=(Hn>=or)<<1|Dn>=ir,_r=ur+4;ur<_r;++ur)if(Vn=ar[3&ur])switch(3&ur){case 0:Gn(Vn,Xn,qn,ir,or);break;case 1:Gn(Vn,ir,qn,Kn,or);break;case 2:Gn(Vn,Xn,or,ir,er);break;case 3:Gn(Vn,ir,or,Kn,er)}}}(bn,qe,Qe,dn,yn),wn}(cn,an[0],an[1],ne,le,Jt,we)},ae=-1,M==null){for(;++ae<me;)en(cn,wt[ae],Yt[ae],Wt[ae],ne,le,Jt,we);--ae}else wt.forEach(cn.add);return Yt=Wt=wt=Et=null,cn}return mt.x=function(wt){return arguments.length?(ut=wt,mt):ut},mt.y=function(wt){return arguments.length?(ft=wt,mt):ft},mt.extent=function(wt){return arguments.length?(wt==null?M=O=R=V=null:(M=+wt[0][0],O=+wt[0][1],R=+wt[1][0],V=+wt[1][1]),mt):M==null?null:[[M,O],[R,V]]},mt.size=function(wt){return arguments.length?(wt==null?M=O=R=V=null:(M=O=0,R=+wt[0],V=+wt[1]),mt):M==null?null:[R-M,V-O]},mt},i.interpolateRgb=Lr,i.interpolateObject=Or,i.interpolateNumber=rr,i.interpolateString=Tr;var br=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sr=new RegExp(br.source,"g");function vr(c,M){for(var O,R=i.interpolators.length;--R>=0&&!(O=i.interpolators[R](c,M)););return O}function Dr(c,M){var O,R=[],V=[],W=c.length,ut=M.length,ft=Math.min(c.length,M.length);for(O=0;O<ft;++O)R.push(vr(c[O],M[O]));for(;O<W;++O)V[O]=c[O];for(;O<ut;++O)V[O]=M[O];return function(mt){for(O=0;O<ft;++O)V[O]=R[O](mt);return V}}i.interpolate=vr,i.interpolators=[function(c,M){var O=typeof M;return(O==="string"?ze.has(M.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(M)?Lr:Tr:M instanceof Ct?Lr:Array.isArray(M)?Dr:O==="object"&&isNaN(M)?Or:rr)(c,M)}],i.interpolateArray=Dr;var Pr=function(){return U},jr=i.map({linear:Pr,poly:function(c){return function(M){return Math.pow(M,c)}},quad:function(){return mi},cubic:function(){return xi},sin:function(){return _i},exp:function(){return wi},circle:function(){return Ti},elastic:function(c,M){var O;return arguments.length<2&&(M=.45),arguments.length?O=M/xe*Math.asin(1/c):(c=1,O=M/4),function(R){return 1+c*Math.pow(2,-10*R)*Math.sin((R-O)*xe/M)}},back:function(c){return c||(c=1.70158),function(M){return M*M*((c+1)*M-c)}},bounce:function(){return Mi}}),yi=i.map({in:U,out:ma,"in-out":xa,"out-in":function(c){return xa(ma(c))}});function ma(c){return function(M){return 1-c(1-M)}}function xa(c){return function(M){return .5*(M<.5?c(2*M):2-c(2-2*M))}}function mi(c){return c*c}function xi(c){return c*c*c}function bi(c){if(c<=0)return 0;if(c>=1)return 1;var M=c*c,O=M*c;return 4*(c<.5?O:3*(c-M)+O-.75)}function _i(c){return 1-Math.cos(c*Qt)}function wi(c){return Math.pow(2,10*(c-1))}function Ti(c){return 1-Math.sqrt(1-c*c)}function Mi(c){return c<.36363636363636365?7.5625*c*c:c<.7272727272727273?7.5625*(c-=.5454545454545454)*c+.75:c<.9090909090909091?7.5625*(c-=.8181818181818182)*c+.9375:7.5625*(c-=.9545454545454546)*c+.984375}function ba(c,M){return M-=c,function(O){return Math.round(c+M*O)}}function _a(c){var M,O,R,V=[c.a,c.b],W=[c.c,c.d],ut=Ta(V),ft=wa(V,W),mt=Ta(((M=W)[0]+=(R=-ft)*(O=V)[0],M[1]+=R*O[1],M))||0;V[0]*W[1]<W[0]*V[1]&&(V[0]*=-1,V[1]*=-1,ut*=-1,ft*=-1),this.rotate=(ut?Math.atan2(V[1],V[0]):Math.atan2(-W[0],W[1]))*_e,this.translate=[c.e,c.f],this.scale=[ut,mt],this.skew=mt?Math.atan2(ft,mt)*_e:0}function wa(c,M){return c[0]*M[0]+c[1]*M[1]}function Ta(c){var M=Math.sqrt(wa(c,c));return M&&(c[0]/=M,c[1]/=M),M}i.ease=function(c){var M,O=c.indexOf("-"),R=O>=0?c.slice(0,O):c,V=O>=0?c.slice(O+1):"in";return R=jr.get(R)||Pr,V=yi.get(V)||U,M=V(R.apply(null,a.call(arguments,1))),function(W){return W<=0?0:W>=1?1:M(W)}},i.interpolateHcl=function(c,M){c=i.hcl(c),M=i.hcl(M);var O=c.h,R=c.c,V=c.l,W=M.h-O,ut=M.c-R,ft=M.l-V;return isNaN(ut)&&(ut=0,R=isNaN(R)?M.c:R),isNaN(W)?(W=0,O=isNaN(O)?M.h:O):W>180?W-=360:W<-180&&(W+=360),function(mt){return oe(O+W*mt,R+ut*mt,V+ft*mt)+""}},i.interpolateHsl=function(c,M){c=i.hsl(c),M=i.hsl(M);var O=c.h,R=c.s,V=c.l,W=M.h-O,ut=M.s-R,ft=M.l-V;return isNaN(ut)&&(ut=0,R=isNaN(R)?M.s:R),isNaN(W)?(W=0,O=isNaN(O)?M.h:O):W>180?W-=360:W<-180&&(W+=360),function(mt){return Ht(O+W*mt,R+ut*mt,V+ft*mt)+""}},i.interpolateLab=function(c,M){c=i.lab(c),M=i.lab(M);var O=c.l,R=c.a,V=c.b,W=M.l-O,ut=M.a-R,ft=M.b-V;return function(mt){return ee(O+W*mt,R+ut*mt,V+ft*mt)+""}},i.interpolateRound=ba,i.transform=function(c){var M=r.createElementNS(i.ns.prefix.svg,"g");return(i.transform=function(O){if(O!=null){M.setAttribute("transform",O);var R=M.transform.baseVal.consolidate()}return new _a(R?R.matrix:ki)})(c)},_a.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ki={a:1,b:0,c:0,d:1,e:0,f:0};function Ir(c){return c.length?c.pop()+",":""}function Ma(c,M){var O=[],R=[];return c=i.transform(c),M=i.transform(M),function(V,W,ut,ft){if(V[0]!==W[0]||V[1]!==W[1]){var mt=ut.push("translate(",null,",",null,")");ft.push({i:mt-4,x:rr(V[0],W[0])},{i:mt-2,x:rr(V[1],W[1])})}else(W[0]||W[1])&&ut.push("translate("+W+")")}(c.translate,M.translate,O,R),function(V,W,ut,ft){V!==W?(V-W>180?W+=360:W-V>180&&(V+=360),ft.push({i:ut.push(Ir(ut)+"rotate(",null,")")-2,x:rr(V,W)})):W&&ut.push(Ir(ut)+"rotate("+W+")")}(c.rotate,M.rotate,O,R),function(V,W,ut,ft){V!==W?ft.push({i:ut.push(Ir(ut)+"skewX(",null,")")-2,x:rr(V,W)}):W&&ut.push(Ir(ut)+"skewX("+W+")")}(c.skew,M.skew,O,R),function(V,W,ut,ft){if(V[0]!==W[0]||V[1]!==W[1]){var mt=ut.push(Ir(ut)+"scale(",null,",",null,")");ft.push({i:mt-4,x:rr(V[0],W[0])},{i:mt-2,x:rr(V[1],W[1])})}else W[0]===1&&W[1]===1||ut.push(Ir(ut)+"scale("+W+")")}(c.scale,M.scale,O,R),c=M=null,function(V){for(var W,ut=-1,ft=R.length;++ut<ft;)O[(W=R[ut]).i]=W.x(V);return O.join("")}}function Ai(c,M){return M=(M-=c=+c)||1/M,function(O){return(O-c)/M}}function Li(c,M){return M=(M-=c=+c)||1/M,function(O){return Math.max(0,Math.min(1,(O-c)/M))}}function Si(c){for(var M=c.source,O=c.target,R=function(ut,ft){if(ut===ft)return ut;for(var mt=ka(ut),wt=ka(ft),Et=mt.pop(),Yt=wt.pop(),Wt=null;Et===Yt;)Wt=Et,Et=mt.pop(),Yt=wt.pop();return Wt}(M,O),V=[M];M!==R;)M=M.parent,V.push(M);for(var W=V.length;O!==R;)V.splice(W,0,O),O=O.parent;return V}function ka(c){for(var M=[],O=c.parent;O!=null;)M.push(c),c=O,O=O.parent;return M.push(c),M}function Di(c){c.fixed|=2}function Ci(c){c.fixed&=-7}function Oi(c){c.fixed|=4,c.px=c.x,c.py=c.y}function Pi(c){c.fixed&=-5}function Aa(c,M,O){var R=0,V=0;if(c.charge=0,!c.leaf)for(var W,ut=c.nodes,ft=ut.length,mt=-1;++mt<ft;)(W=ut[mt])!=null&&(Aa(W,M,O),c.charge+=W.charge,R+=W.charge*W.cx,V+=W.charge*W.cy);if(c.point){c.leaf||(c.point.x+=Math.random()-.5,c.point.y+=Math.random()-.5);var wt=M*O[c.point.index];c.charge+=c.pointCharge=wt,R+=wt*c.point.x,V+=wt*c.point.y}c.cx=R/c.charge,c.cy=V/c.charge}i.interpolateTransform=Ma,i.layout={},i.layout.bundle=function(){return function(c){for(var M=[],O=-1,R=c.length;++O<R;)M.push(Si(c[O]));return M}},i.layout.chord=function(){var c,M,O,R,V,W,ut,ft={},mt=0;function wt(){var Yt,Wt,ae,me,ne,le={},Jt=[],we=i.range(R),se=[];for(c=[],M=[],Yt=0,me=-1;++me<R;){for(Wt=0,ne=-1;++ne<R;)Wt+=O[me][ne];Jt.push(Wt),se.push(i.range(R)),Yt+=Wt}for(V&&we.sort(function(cn,an){return V(Jt[cn],Jt[an])}),W&&se.forEach(function(cn,an){cn.sort(function(bn,Dn){return W(O[an][bn],O[an][Dn])})}),Yt=(xe-mt*R)/Yt,Wt=0,me=-1;++me<R;){for(ae=Wt,ne=-1;++ne<R;){var $t=we[me],De=se[$t][ne],Ce=O[$t][De],Ve=Wt,Ue=Wt+=Ce*Yt;le[$t+"-"+De]={index:$t,subindex:De,startAngle:Ve,endAngle:Ue,value:Ce}}M[$t]={index:$t,startAngle:ae,endAngle:Wt,value:Jt[$t]},Wt+=mt}for(me=-1;++me<R;)for(ne=me-1;++ne<R;){var en=le[me+"-"+ne],rn=le[ne+"-"+me];(en.value||rn.value)&&c.push(en.value<rn.value?{source:rn,target:en}:{source:en,target:rn})}ut&&Et()}function Et(){c.sort(function(Yt,Wt){return ut((Yt.source.value+Yt.target.value)/2,(Wt.source.value+Wt.target.value)/2)})}return ft.matrix=function(Yt){return arguments.length?(R=(O=Yt)&&O.length,c=M=null,ft):O},ft.padding=function(Yt){return arguments.length?(mt=Yt,c=M=null,ft):mt},ft.sortGroups=function(Yt){return arguments.length?(V=Yt,c=M=null,ft):V},ft.sortSubgroups=function(Yt){return arguments.length?(W=Yt,c=null,ft):W},ft.sortChords=function(Yt){return arguments.length?(ut=Yt,c&&Et(),ft):ut},ft.chords=function(){return c||wt(),c},ft.groups=function(){return M||wt(),M},ft},i.layout.force=function(){var c,M,O,R,V,W,ut={},ft=i.dispatch("start","tick","end"),mt=[1,1],wt=.9,Et=Ii,Yt=zi,Wt=-30,ae=Fi,me=.1,ne=.64,le=[],Jt=[];function we($t){return function(De,Ce,Ve,Ue){if(De.point!==$t){var en=De.cx-$t.x,rn=De.cy-$t.y,cn=Ue-Ce,an=en*en+rn*rn;if(cn*cn/ne<an){if(an<ae){var bn=De.charge/an;$t.px-=en*bn,$t.py-=rn*bn}return!0}De.point&&an&&an<ae&&(bn=De.pointCharge/an,$t.px-=en*bn,$t.py-=rn*bn)}return!De.charge}}function se($t){$t.px=i.event.x,$t.py=i.event.y,ut.resume()}return ut.tick=function(){if((O*=.99)<.005)return c=null,ft.end({type:"end",alpha:O=0}),!0;var $t,De,Ce,Ve,Ue,en,rn,cn,an,bn=le.length,Dn=Jt.length;for(De=0;De<Dn;++De)Ve=(Ce=Jt[De]).source,(en=(cn=(Ue=Ce.target).x-Ve.x)*cn+(an=Ue.y-Ve.y)*an)&&(cn*=en=O*V[De]*((en=Math.sqrt(en))-R[De])/en,an*=en,Ue.x-=cn*(rn=Ve.weight+Ue.weight?Ve.weight/(Ve.weight+Ue.weight):.5),Ue.y-=an*rn,Ve.x+=cn*(rn=1-rn),Ve.y+=an*rn);if((rn=O*me)&&(cn=mt[0]/2,an=mt[1]/2,De=-1,rn))for(;++De<bn;)(Ce=le[De]).x+=(cn-Ce.x)*rn,Ce.y+=(an-Ce.y)*rn;if(Wt)for(Aa($t=i.geom.quadtree(le),O,W),De=-1;++De<bn;)(Ce=le[De]).fixed||$t.visit(we(Ce));for(De=-1;++De<bn;)(Ce=le[De]).fixed?(Ce.x=Ce.px,Ce.y=Ce.py):(Ce.x-=(Ce.px-(Ce.px=Ce.x))*wt,Ce.y-=(Ce.py-(Ce.py=Ce.y))*wt);ft.tick({type:"tick",alpha:O})},ut.nodes=function($t){return arguments.length?(le=$t,ut):le},ut.links=function($t){return arguments.length?(Jt=$t,ut):Jt},ut.size=function($t){return arguments.length?(mt=$t,ut):mt},ut.linkDistance=function($t){return arguments.length?(Et=typeof $t=="function"?$t:+$t,ut):Et},ut.distance=ut.linkDistance,ut.linkStrength=function($t){return arguments.length?(Yt=typeof $t=="function"?$t:+$t,ut):Yt},ut.friction=function($t){return arguments.length?(wt=+$t,ut):wt},ut.charge=function($t){return arguments.length?(Wt=typeof $t=="function"?$t:+$t,ut):Wt},ut.chargeDistance=function($t){return arguments.length?(ae=$t*$t,ut):Math.sqrt(ae)},ut.gravity=function($t){return arguments.length?(me=+$t,ut):me},ut.theta=function($t){return arguments.length?(ne=$t*$t,ut):Math.sqrt(ne)},ut.alpha=function($t){return arguments.length?($t=+$t,O?$t>0?O=$t:(c.c=null,c.t=NaN,c=null,ft.end({type:"end",alpha:O=0})):$t>0&&(ft.start({type:"start",alpha:O=$t}),c=sn(ut.tick)),ut):O},ut.start=function(){var $t,De,Ce,Ve=le.length,Ue=Jt.length,en=mt[0],rn=mt[1];for($t=0;$t<Ve;++$t)(Ce=le[$t]).index=$t,Ce.weight=0;for($t=0;$t<Ue;++$t)typeof(Ce=Jt[$t]).source=="number"&&(Ce.source=le[Ce.source]),typeof Ce.target=="number"&&(Ce.target=le[Ce.target]),++Ce.source.weight,++Ce.target.weight;for($t=0;$t<Ve;++$t)Ce=le[$t],isNaN(Ce.x)&&(Ce.x=cn("x",en)),isNaN(Ce.y)&&(Ce.y=cn("y",rn)),isNaN(Ce.px)&&(Ce.px=Ce.x),isNaN(Ce.py)&&(Ce.py=Ce.y);if(R=[],typeof Et=="function")for($t=0;$t<Ue;++$t)R[$t]=+Et.call(this,Jt[$t],$t);else for($t=0;$t<Ue;++$t)R[$t]=Et;if(V=[],typeof Yt=="function")for($t=0;$t<Ue;++$t)V[$t]=+Yt.call(this,Jt[$t],$t);else for($t=0;$t<Ue;++$t)V[$t]=Yt;if(W=[],typeof Wt=="function")for($t=0;$t<Ve;++$t)W[$t]=+Wt.call(this,le[$t],$t);else for($t=0;$t<Ve;++$t)W[$t]=Wt;function cn(an,bn){if(!De){for(De=new Array(Ve),Qe=0;Qe<Ve;++Qe)De[Qe]=[];for(Qe=0;Qe<Ue;++Qe){var Dn=Jt[Qe];De[Dn.source.index].push(Dn.target),De[Dn.target.index].push(Dn.source)}}for(var Hn,qe=De[$t],Qe=-1,dn=qe.length;++Qe<dn;)if(!isNaN(Hn=qe[Qe][an]))return Hn;return Math.random()*bn}return ut.resume()},ut.resume=function(){return ut.alpha(.1)},ut.stop=function(){return ut.alpha(0)},ut.drag=function(){if(M||(M=i.behavior.drag().origin(U).on("dragstart.force",Di).on("drag.force",se).on("dragend.force",Ci)),!arguments.length)return M;this.on("mouseover.force",Oi).on("mouseout.force",Pi).call(M)},i.rebind(ut,ft,"on")};var Ii=20,zi=1,Fi=1/0;function Fr(c,M){return i.rebind(c,M,"sort","children","value"),c.nodes=c,c.links=Bi,c}function Er(c,M){for(var O=[c];(c=O.pop())!=null;)if(M(c),(V=c.children)&&(R=V.length))for(var R,V;--R>=0;)O.push(V[R])}function gr(c,M){for(var O=[c],R=[];(c=O.pop())!=null;)if(R.push(c),(W=c.children)&&(V=W.length))for(var V,W,ut=-1;++ut<V;)O.push(W[ut]);for(;(c=R.pop())!=null;)M(c)}function Ei(c){return c.children}function Ni(c){return c.value}function Ri(c,M){return M.value-c.value}function Bi(c){return i.merge(c.map(function(M){return(M.children||[]).map(function(O){return{source:M,target:O}})}))}i.layout.hierarchy=function(){var c=Ri,M=Ei,O=Ni;function R(V){var W,ut=[V],ft=[];for(V.depth=0;(W=ut.pop())!=null;)if(ft.push(W),(wt=M.call(R,W,W.depth))&&(mt=wt.length)){for(var mt,wt,Et;--mt>=0;)ut.push(Et=wt[mt]),Et.parent=W,Et.depth=W.depth+1;O&&(W.value=0),W.children=wt}else O&&(W.value=+O.call(R,W,W.depth)||0),delete W.children;return gr(V,function(Yt){var Wt,ae;c&&(Wt=Yt.children)&&Wt.sort(c),O&&(ae=Yt.parent)&&(ae.value+=Yt.value)}),ft}return R.sort=function(V){return arguments.length?(c=V,R):c},R.children=function(V){return arguments.length?(M=V,R):M},R.value=function(V){return arguments.length?(O=V,R):O},R.revalue=function(V){return O&&(Er(V,function(W){W.children&&(W.value=0)}),gr(V,function(W){var ut;W.children||(W.value=+O.call(R,W,W.depth)||0),(ut=W.parent)&&(ut.value+=W.value)})),V},R},i.layout.partition=function(){var c=i.layout.hierarchy(),M=[1,1];function O(W,ut,ft,mt){var wt=W.children;if(W.x=ut,W.y=W.depth*mt,W.dx=ft,W.dy=mt,wt&&(Et=wt.length)){var Et,Yt,Wt,ae=-1;for(ft=W.value?ft/W.value:0;++ae<Et;)O(Yt=wt[ae],ut,Wt=Yt.value*ft,mt),ut+=Wt}}function R(W){var ut=W.children,ft=0;if(ut&&(mt=ut.length))for(var mt,wt=-1;++wt<mt;)ft=Math.max(ft,R(ut[wt]));return 1+ft}function V(W,ut){var ft=c.call(this,W,ut);return O(ft[0],0,M[0],M[1]/R(ft[0])),ft}return V.size=function(W){return arguments.length?(M=W,V):M},Fr(V,c)},i.layout.pie=function(){var c=Number,M=La,O=0,R=xe,V=0;function W(ut){var ft,mt=ut.length,wt=ut.map(function(we,se){return+c.call(W,we,se)}),Et=+(typeof O=="function"?O.apply(this,arguments):O),Yt=(typeof R=="function"?R.apply(this,arguments):R)-Et,Wt=Math.min(Math.abs(Yt)/mt,+(typeof V=="function"?V.apply(this,arguments):V)),ae=Wt*(Yt<0?-1:1),me=i.sum(wt),ne=me?(Yt-mt*ae)/me:0,le=i.range(mt),Jt=[];return M!=null&&le.sort(M===La?function(we,se){return wt[se]-wt[we]}:function(we,se){return M(ut[we],ut[se])}),le.forEach(function(we){Jt[we]={data:ut[we],value:ft=wt[we],startAngle:Et,endAngle:Et+=ft*ne+ae,padAngle:Wt}}),Jt}return W.value=function(ut){return arguments.length?(c=ut,W):c},W.sort=function(ut){return arguments.length?(M=ut,W):M},W.startAngle=function(ut){return arguments.length?(O=ut,W):O},W.endAngle=function(ut){return arguments.length?(R=ut,W):R},W.padAngle=function(ut){return arguments.length?(V=ut,W):V},W};var La={};function ji(c){return c.x}function Hi(c){return c.y}function Yi(c,M,O){c.y0=M,c.y=O}i.layout.stack=function(){var c=U,M=$r,O=ta,R=Yi,V=ji,W=Hi;function ut(ft,mt){if(!(Wt=ft.length))return ft;var wt=ft.map(function(we,se){return c.call(ut,we,se)}),Et=wt.map(function(we){return we.map(function(se,$t){return[V.call(ut,se,$t),W.call(ut,se,$t)]})}),Yt=M.call(ut,Et,mt);wt=i.permute(wt,Yt),Et=i.permute(Et,Yt);var Wt,ae,me,ne,le=O.call(ut,Et,mt),Jt=wt[0].length;for(me=0;me<Jt;++me)for(R.call(ut,wt[0][me],ne=le[me],Et[0][me][1]),ae=1;ae<Wt;++ae)R.call(ut,wt[ae][me],ne+=Et[ae-1][me][1],Et[ae][me][1]);return ft}return ut.values=function(ft){return arguments.length?(c=ft,ut):c},ut.order=function(ft){return arguments.length?(M=typeof ft=="function"?ft:Ui.get(ft)||$r,ut):M},ut.offset=function(ft){return arguments.length?(O=typeof ft=="function"?ft:Vi.get(ft)||ta,ut):O},ut.x=function(ft){return arguments.length?(V=ft,ut):V},ut.y=function(ft){return arguments.length?(W=ft,ut):W},ut.out=function(ft){return arguments.length?(R=ft,ut):R},ut};var Ui=i.map({"inside-out":function(c){var M,O,R=c.length,V=c.map(Gi),W=c.map(qi),ut=i.range(R).sort(function(Yt,Wt){return V[Yt]-V[Wt]}),ft=0,mt=0,wt=[],Et=[];for(M=0;M<R;++M)O=ut[M],ft<mt?(ft+=W[O],wt.push(O)):(mt+=W[O],Et.push(O));return Et.reverse().concat(wt)},reverse:function(c){return i.range(c.length).reverse()},default:$r}),Vi=i.map({silhouette:function(c){var M,O,R,V=c.length,W=c[0].length,ut=[],ft=0,mt=[];for(O=0;O<W;++O){for(M=0,R=0;M<V;M++)R+=c[M][O][1];R>ft&&(ft=R),ut.push(R)}for(O=0;O<W;++O)mt[O]=(ft-ut[O])/2;return mt},wiggle:function(c){var M,O,R,V,W,ut,ft,mt,wt,Et=c.length,Yt=c[0],Wt=Yt.length,ae=[];for(ae[0]=mt=wt=0,O=1;O<Wt;++O){for(M=0,V=0;M<Et;++M)V+=c[M][O][1];for(M=0,W=0,ft=Yt[O][0]-Yt[O-1][0];M<Et;++M){for(R=0,ut=(c[M][O][1]-c[M][O-1][1])/(2*ft);R<M;++R)ut+=(c[R][O][1]-c[R][O-1][1])/ft;W+=ut*c[M][O][1]}ae[O]=mt-=V?W/V*ft:0,mt<wt&&(wt=mt)}for(O=0;O<Wt;++O)ae[O]-=wt;return ae},expand:function(c){var M,O,R,V=c.length,W=c[0].length,ut=1/V,ft=[];for(O=0;O<W;++O){for(M=0,R=0;M<V;M++)R+=c[M][O][1];if(R)for(M=0;M<V;M++)c[M][O][1]/=R;else for(M=0;M<V;M++)c[M][O][1]=ut}for(O=0;O<W;++O)ft[O]=0;return ft},zero:ta});function $r(c){return i.range(c.length)}function ta(c){for(var M=-1,O=c[0].length,R=[];++M<O;)R[M]=0;return R}function Gi(c){for(var M,O=1,R=0,V=c[0][1],W=c.length;O<W;++O)(M=c[O][1])>V&&(R=O,V=M);return R}function qi(c){return c.reduce(Zi,0)}function Zi(c,M){return c+M[1]}function Wi(c,M){return Sa(c,Math.ceil(Math.log(M.length)/Math.LN2+1))}function Sa(c,M){for(var O=-1,R=+c[0],V=(c[1]-R)/M,W=[];++O<=M;)W[O]=V*O+R;return W}function Ji(c){return[i.min(c),i.max(c)]}function Xi(c,M){return c.value-M.value}function ea(c,M){var O=c._pack_next;c._pack_next=M,M._pack_prev=c,M._pack_next=O,O._pack_prev=M}function Da(c,M){c._pack_next=M,M._pack_prev=c}function Ca(c,M){var O=M.x-c.x,R=M.y-c.y,V=c.r+M.r;return .999*V*V>O*O+R*R}function Oa(c){if((M=c.children)&&(mt=M.length)){var M,O,R,V,W,ut,ft,mt,wt=1/0,Et=-1/0,Yt=1/0,Wt=-1/0;if(M.forEach(Ki),(O=M[0]).x=-O.r,O.y=0,se(O),mt>1&&((R=M[1]).x=R.r,R.y=0,se(R),mt>2))for(Ia(O,R,V=M[2]),se(V),ea(O,V),O._pack_prev=V,ea(V,R),R=O._pack_next,W=3;W<mt;W++){Ia(O,R,V=M[W]);var ae=0,me=1,ne=1;for(ut=R._pack_next;ut!==R;ut=ut._pack_next,me++)if(Ca(ut,V)){ae=1;break}if(ae==1)for(ft=O._pack_prev;ft!==ut._pack_prev&&!Ca(ft,V);ft=ft._pack_prev,ne++);ae?(me<ne||me==ne&&R.r<O.r?Da(O,R=ut):Da(O=ft,R),W--):(ea(O,V),R=V,se(V))}var le=(wt+Et)/2,Jt=(Yt+Wt)/2,we=0;for(W=0;W<mt;W++)(V=M[W]).x-=le,V.y-=Jt,we=Math.max(we,V.r+Math.sqrt(V.x*V.x+V.y*V.y));c.r=we,M.forEach(Qi)}function se($t){wt=Math.min($t.x-$t.r,wt),Et=Math.max($t.x+$t.r,Et),Yt=Math.min($t.y-$t.r,Yt),Wt=Math.max($t.y+$t.r,Wt)}}function Ki(c){c._pack_next=c._pack_prev=c}function Qi(c){delete c._pack_next,delete c._pack_prev}function Pa(c,M,O,R){var V=c.children;if(c.x=M+=R*c.x,c.y=O+=R*c.y,c.r*=R,V)for(var W=-1,ut=V.length;++W<ut;)Pa(V[W],M,O,R)}function Ia(c,M,O){var R=c.r+O.r,V=M.x-c.x,W=M.y-c.y;if(R&&(V||W)){var ut=M.r+O.r,ft=V*V+W*W,mt=.5+((R*=R)-(ut*=ut))/(2*ft),wt=Math.sqrt(Math.max(0,2*ut*(R+ft)-(R-=ft)*R-ut*ut))/(2*ft);O.x=c.x+mt*V+wt*W,O.y=c.y+mt*W-wt*V}else O.x=c.x+R,O.y=c.y}function za(c,M){return c.parent==M.parent?1:2}function na(c){var M=c.children;return M.length?M[0]:c.t}function ra(c){var M,O=c.children;return(M=O.length)?O[M-1]:c.t}function $i(c,M,O){var R=O/(M.i-c.i);M.c-=R,M.s+=O,c.c+=R,M.z+=O,M.m+=O}function to(c,M,O){return c.a.parent===M.parent?c.a:O}function Fa(c){var M=c.children;return M&&M.length?Fa(M[0]):c}function Ea(c){var M,O=c.children;return O&&(M=O.length)?Ea(O[M-1]):c}function aa(c){return{x:c.x,y:c.y,dx:c.dx,dy:c.dy}}function Na(c,M){var O=c.x+M[3],R=c.y+M[0],V=c.dx-M[1]-M[3],W=c.dy-M[0]-M[2];return V<0&&(O+=V/2,V=0),W<0&&(R+=W/2,W=0),{x:O,y:R,dx:V,dy:W}}function Hr(c){var M=c[0],O=c[c.length-1];return M<O?[M,O]:[O,M]}function Yr(c){return c.rangeExtent?c.rangeExtent():Hr(c.range())}function eo(c,M,O,R){var V=O(c[0],c[1]),W=R(M[0],M[1]);return function(ut){return W(V(ut))}}function ia(c,M){var O,R=0,V=c.length-1,W=c[R],ut=c[V];return ut<W&&(O=R,R=V,V=O,O=W,W=ut,ut=O),c[R]=M.floor(W),c[V]=M.ceil(ut),c}function Ra(c){return c?{floor:function(M){return Math.floor(M/c)*c},ceil:function(M){return Math.ceil(M/c)*c}}:no}i.layout.histogram=function(){var c=!0,M=Number,O=Ji,R=Wi;function V(W,ut){for(var ft,mt,wt=[],Et=W.map(M,this),Yt=O.call(this,Et,ut),Wt=R.call(this,Yt,Et,ut),ae=(ut=-1,Et.length),me=Wt.length-1,ne=c?1:1/ae;++ut<me;)(ft=wt[ut]=[]).dx=Wt[ut+1]-(ft.x=Wt[ut]),ft.y=0;if(me>0)for(ut=-1;++ut<ae;)(mt=Et[ut])>=Yt[0]&&mt<=Yt[1]&&((ft=wt[i.bisect(Wt,mt,1,me)-1]).y+=ne,ft.push(W[ut]));return wt}return V.value=function(W){return arguments.length?(M=W,V):M},V.range=function(W){return arguments.length?(O=Ne(W),V):O},V.bins=function(W){return arguments.length?(R=typeof W=="number"?function(ut){return Sa(ut,W)}:Ne(W),V):R},V.frequency=function(W){return arguments.length?(c=!!W,V):c},V},i.layout.pack=function(){var c,M=i.layout.hierarchy().sort(Xi),O=0,R=[1,1];function V(W,ut){var ft=M.call(this,W,ut),mt=ft[0],wt=R[0],Et=R[1],Yt=c==null?Math.sqrt:typeof c=="function"?c:function(){return c};if(mt.x=mt.y=0,gr(mt,function(ae){ae.r=+Yt(ae.value)}),gr(mt,Oa),O){var Wt=O*(c?1:Math.max(2*mt.r/wt,2*mt.r/Et))/2;gr(mt,function(ae){ae.r+=Wt}),gr(mt,Oa),gr(mt,function(ae){ae.r-=Wt})}return Pa(mt,wt/2,Et/2,c?1:1/Math.max(2*mt.r/wt,2*mt.r/Et)),ft}return V.size=function(W){return arguments.length?(R=W,V):R},V.radius=function(W){return arguments.length?(c=W==null||typeof W=="function"?W:+W,V):c},V.padding=function(W){return arguments.length?(O=+W,V):O},Fr(V,M)},i.layout.tree=function(){var c=i.layout.hierarchy().sort(null).value(null),M=za,O=[1,1],R=null;function V(mt,wt){var Et=c.call(this,mt,wt),Yt=Et[0],Wt=function(se){for(var $t,De={A:null,children:[se]},Ce=[De];($t=Ce.pop())!=null;)for(var Ve,Ue=$t.children,en=0,rn=Ue.length;en<rn;++en)Ce.push((Ue[en]=Ve={_:Ue[en],parent:$t,children:(Ve=Ue[en].children)&&Ve.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:en}).a=Ve);return De.children[0]}(Yt);if(gr(Wt,W),Wt.parent.m=-Wt.z,Er(Wt,ut),R)Er(Yt,ft);else{var ae=Yt,me=Yt,ne=Yt;Er(Yt,function(se){se.x<ae.x&&(ae=se),se.x>me.x&&(me=se),se.depth>ne.depth&&(ne=se)});var le=M(ae,me)/2-ae.x,Jt=O[0]/(me.x+M(me,ae)/2+le),we=O[1]/(ne.depth||1);Er(Yt,function(se){se.x=(se.x+le)*Jt,se.y=se.depth*we})}return Et}function W(mt){var wt=mt.children,Et=mt.parent.children,Yt=mt.i?Et[mt.i-1]:null;if(wt.length){(function(ae){for(var me,ne=0,le=0,Jt=ae.children,we=Jt.length;--we>=0;)(me=Jt[we]).z+=ne,me.m+=ne,ne+=me.s+(le+=me.c)})(mt);var Wt=(wt[0].z+wt[wt.length-1].z)/2;Yt?(mt.z=Yt.z+M(mt._,Yt._),mt.m=mt.z-Wt):mt.z=Wt}else Yt&&(mt.z=Yt.z+M(mt._,Yt._));mt.parent.A=function(ae,me,ne){if(me){for(var le,Jt=ae,we=ae,se=me,$t=Jt.parent.children[0],De=Jt.m,Ce=we.m,Ve=se.m,Ue=$t.m;se=ra(se),Jt=na(Jt),se&&Jt;)$t=na($t),(we=ra(we)).a=ae,(le=se.z+Ve-Jt.z-De+M(se._,Jt._))>0&&($i(to(se,ae,ne),ae,le),De+=le,Ce+=le),Ve+=se.m,De+=Jt.m,Ue+=$t.m,Ce+=we.m;se&&!ra(we)&&(we.t=se,we.m+=Ve-Ce),Jt&&!na($t)&&($t.t=Jt,$t.m+=De-Ue,ne=ae)}return ne}(mt,Yt,mt.parent.A||Et[0])}function ut(mt){mt._.x=mt.z+mt.parent.m,mt.m+=mt.parent.m}function ft(mt){mt.x*=O[0],mt.y=mt.depth*O[1]}return V.separation=function(mt){return arguments.length?(M=mt,V):M},V.size=function(mt){return arguments.length?(R=(O=mt)==null?ft:null,V):R?null:O},V.nodeSize=function(mt){return arguments.length?(R=(O=mt)==null?null:ft,V):R?O:null},Fr(V,c)},i.layout.cluster=function(){var c=i.layout.hierarchy().sort(null).value(null),M=za,O=[1,1],R=!1;function V(W,ut){var ft,mt=c.call(this,W,ut),wt=mt[0],Et=0;gr(wt,function(ne){var le=ne.children;le&&le.length?(ne.x=function(Jt){return Jt.reduce(function(we,se){return we+se.x},0)/Jt.length}(le),ne.y=function(Jt){return 1+i.max(Jt,function(we){return we.y})}(le)):(ne.x=ft?Et+=M(ne,ft):0,ne.y=0,ft=ne)});var Yt=Fa(wt),Wt=Ea(wt),ae=Yt.x-M(Yt,Wt)/2,me=Wt.x+M(Wt,Yt)/2;return gr(wt,R?function(ne){ne.x=(ne.x-wt.x)*O[0],ne.y=(wt.y-ne.y)*O[1]}:function(ne){ne.x=(ne.x-ae)/(me-ae)*O[0],ne.y=(1-(wt.y?ne.y/wt.y:1))*O[1]}),mt}return V.separation=function(W){return arguments.length?(M=W,V):M},V.size=function(W){return arguments.length?(R=(O=W)==null,V):R?null:O},V.nodeSize=function(W){return arguments.length?(R=(O=W)!=null,V):R?O:null},Fr(V,c)},i.layout.treemap=function(){var c,M=i.layout.hierarchy(),O=Math.round,R=[1,1],V=null,W=aa,ut=!1,ft="squarify",mt=.5*(1+Math.sqrt(5));function wt(ne,le){for(var Jt,we,se=-1,$t=ne.length;++se<$t;)we=(Jt=ne[se]).value*(le<0?0:le),Jt.area=isNaN(we)||we<=0?0:we}function Et(ne){var le=ne.children;if(le&&le.length){var Jt,we,se,$t=W(ne),De=[],Ce=le.slice(),Ve=1/0,Ue=ft==="slice"?$t.dx:ft==="dice"?$t.dy:ft==="slice-dice"?1&ne.depth?$t.dy:$t.dx:Math.min($t.dx,$t.dy);for(wt(Ce,$t.dx*$t.dy/ne.value),De.area=0;(se=Ce.length)>0;)De.push(Jt=Ce[se-1]),De.area+=Jt.area,ft!=="squarify"||(we=Wt(De,Ue))<=Ve?(Ce.pop(),Ve=we):(De.area-=De.pop().area,ae(De,Ue,$t,!1),Ue=Math.min($t.dx,$t.dy),De.length=De.area=0,Ve=1/0);De.length&&(ae(De,Ue,$t,!0),De.length=De.area=0),le.forEach(Et)}}function Yt(ne){var le=ne.children;if(le&&le.length){var Jt,we=W(ne),se=le.slice(),$t=[];for(wt(se,we.dx*we.dy/ne.value),$t.area=0;Jt=se.pop();)$t.push(Jt),$t.area+=Jt.area,Jt.z!=null&&(ae($t,Jt.z?we.dx:we.dy,we,!se.length),$t.length=$t.area=0);le.forEach(Yt)}}function Wt(ne,le){for(var Jt,we=ne.area,se=0,$t=1/0,De=-1,Ce=ne.length;++De<Ce;)(Jt=ne[De].area)&&(Jt<$t&&($t=Jt),Jt>se&&(se=Jt));return le*=le,(we*=we)?Math.max(le*se*mt/we,we/(le*$t*mt)):1/0}function ae(ne,le,Jt,we){var se,$t=-1,De=ne.length,Ce=Jt.x,Ve=Jt.y,Ue=le?O(ne.area/le):0;if(le==Jt.dx){for((we||Ue>Jt.dy)&&(Ue=Jt.dy);++$t<De;)(se=ne[$t]).x=Ce,se.y=Ve,se.dy=Ue,Ce+=se.dx=Math.min(Jt.x+Jt.dx-Ce,Ue?O(se.area/Ue):0);se.z=!0,se.dx+=Jt.x+Jt.dx-Ce,Jt.y+=Ue,Jt.dy-=Ue}else{for((we||Ue>Jt.dx)&&(Ue=Jt.dx);++$t<De;)(se=ne[$t]).x=Ce,se.y=Ve,se.dx=Ue,Ve+=se.dy=Math.min(Jt.y+Jt.dy-Ve,Ue?O(se.area/Ue):0);se.z=!1,se.dy+=Jt.y+Jt.dy-Ve,Jt.x+=Ue,Jt.dx-=Ue}}function me(ne){var le=c||M(ne),Jt=le[0];return Jt.x=Jt.y=0,Jt.value?(Jt.dx=R[0],Jt.dy=R[1]):Jt.dx=Jt.dy=0,c&&M.revalue(Jt),wt([Jt],Jt.dx*Jt.dy/Jt.value),(c?Yt:Et)(Jt),ut&&(c=le),le}return me.size=function(ne){return arguments.length?(R=ne,me):R},me.padding=function(ne){if(!arguments.length)return V;function le(we){return Na(we,ne)}var Jt;return W=(V=ne)==null?aa:(Jt=typeof ne)=="function"?function(we){var se=ne.call(me,we,we.depth);return se==null?aa(we):Na(we,typeof se=="number"?[se,se,se,se]:se)}:(Jt==="number"&&(ne=[ne,ne,ne,ne]),le),me},me.round=function(ne){return arguments.length?(O=ne?Math.round:Number,me):O!=Number},me.sticky=function(ne){return arguments.length?(ut=ne,c=null,me):ut},me.ratio=function(ne){return arguments.length?(mt=ne,me):mt},me.mode=function(ne){return arguments.length?(ft=ne+"",me):ft},Fr(me,M)},i.random={normal:function(c,M){var O=arguments.length;return O<2&&(M=1),O<1&&(c=0),function(){var R,V,W;do W=(R=2*Math.random()-1)*R+(V=2*Math.random()-1)*V;while(!W||W>1);return c+M*R*Math.sqrt(-2*Math.log(W)/W)}},logNormal:function(){var c=i.random.normal.apply(i,arguments);return function(){return Math.exp(c())}},bates:function(c){var M=i.random.irwinHall(c);return function(){return M()/c}},irwinHall:function(c){return function(){for(var M=0,O=0;O<c;O++)M+=Math.random();return M}}},i.scale={};var no={floor:U,ceil:U};function ro(c,M,O,R){var V=[],W=[],ut=0,ft=Math.min(c.length,M.length)-1;for(c[ft]<c[0]&&(c=c.slice().reverse(),M=M.slice().reverse());++ut<=ft;)V.push(O(c[ut-1],c[ut])),W.push(R(M[ut-1],M[ut]));return function(mt){var wt=i.bisect(c,mt,1,ft)-1;return W[wt](V[wt](mt))}}function Ba(c,M,O,R){var V,W;function ut(){var mt=Math.min(c.length,M.length)>2?ro:eo,wt=R?Li:Ai;return V=mt(c,M,wt,O),W=mt(M,c,wt,vr),ft}function ft(mt){return V(mt)}return ft.invert=function(mt){return W(mt)},ft.domain=function(mt){return arguments.length?(c=mt.map(Number),ut()):c},ft.range=function(mt){return arguments.length?(M=mt,ut()):M},ft.rangeRound=function(mt){return ft.range(mt).interpolate(ba)},ft.clamp=function(mt){return arguments.length?(R=mt,ut()):R},ft.interpolate=function(mt){return arguments.length?(O=mt,ut()):O},ft.ticks=function(mt){return la(c,mt)},ft.tickFormat=function(mt,wt){return d3_scale_linearTickFormat(c,mt,wt)},ft.nice=function(mt){return Ha(c,mt),ut()},ft.copy=function(){return Ba(c,M,O,R)},ut()}function ja(c,M){return i.rebind(c,M,"range","rangeRound","interpolate","clamp")}function Ha(c,M){return ia(c,Ra(oa(c,M)[2])),ia(c,Ra(oa(c,M)[2])),c}function oa(c,M){M==null&&(M=10);var O=Hr(c),R=O[1]-O[0],V=Math.pow(10,Math.floor(Math.log(R/M)/Math.LN10)),W=M/R*V;return W<=.15?V*=10:W<=.35?V*=5:W<=.75&&(V*=2),O[0]=Math.ceil(O[0]/V)*V,O[1]=Math.floor(O[1]/V)*V+.5*V,O[2]=V,O}function la(c,M){return i.range.apply(i,oa(c,M))}function Ya(c,M,O,R){function V(ft){return(O?Math.log(ft<0?0:ft):-Math.log(ft>0?0:-ft))/Math.log(M)}function W(ft){return O?Math.pow(M,ft):-Math.pow(M,-ft)}function ut(ft){return c(V(ft))}return ut.invert=function(ft){return W(c.invert(ft))},ut.domain=function(ft){return arguments.length?(O=ft[0]>=0,c.domain((R=ft.map(Number)).map(V)),ut):R},ut.base=function(ft){return arguments.length?(M=+ft,c.domain(R.map(V)),ut):M},ut.nice=function(){var ft=ia(R.map(V),O?Math:ao);return c.domain(ft),R=ft.map(W),ut},ut.ticks=function(){var ft=Hr(R),mt=[],wt=ft[0],Et=ft[1],Yt=Math.floor(V(wt)),Wt=Math.ceil(V(Et)),ae=M%1?2:M;if(isFinite(Wt-Yt)){if(O){for(;Yt<Wt;Yt++)for(var me=1;me<ae;me++)mt.push(W(Yt)*me);mt.push(W(Yt))}else for(mt.push(W(Yt));Yt++<Wt;)for(me=ae-1;me>0;me--)mt.push(W(Yt)*me);for(Yt=0;mt[Yt]<wt;Yt++);for(Wt=mt.length;mt[Wt-1]>Et;Wt--);mt=mt.slice(Yt,Wt)}return mt},ut.copy=function(){return Ya(c.copy(),M,O,R)},ja(ut,c)}i.scale.linear=function(){return Ba([0,1],[0,1],vr,!1)},i.scale.log=function(){return Ya(i.scale.linear().domain([0,1]),10,!0,[1,10])};var ao={floor:function(c){return-Math.ceil(-c)},ceil:function(c){return-Math.floor(-c)}};function Ua(c,M,O){var R=Ur(M),V=Ur(1/M);function W(ut){return c(R(ut))}return W.invert=function(ut){return V(c.invert(ut))},W.domain=function(ut){return arguments.length?(c.domain((O=ut.map(Number)).map(R)),W):O},W.ticks=function(ut){return la(O,ut)},W.tickFormat=function(ut,ft){return d3_scale_linearTickFormat(O,ut,ft)},W.nice=function(ut){return W.domain(Ha(O,ut))},W.exponent=function(ut){return arguments.length?(R=Ur(M=ut),V=Ur(1/M),c.domain(O.map(R)),W):M},W.copy=function(){return Ua(c.copy(),M,O)},ja(W,c)}function Ur(c){return function(M){return M<0?-Math.pow(-M,c):Math.pow(M,c)}}function Va(c,M){var O,R,V;function W(ft){return R[((O.get(ft)||(M.t==="range"?O.set(ft,c.push(ft)):NaN))-1)%R.length]}function ut(ft,mt){return i.range(c.length).map(function(wt){return ft+mt*wt})}return W.domain=function(ft){if(!arguments.length)return c;c=[],O=new P;for(var mt,wt=-1,Et=ft.length;++wt<Et;)O.has(mt=ft[wt])||O.set(mt,c.push(mt));return W[M.t].apply(W,M.a)},W.range=function(ft){return arguments.length?(R=ft,V=0,M={t:"range",a:arguments},W):R},W.rangePoints=function(ft,mt){arguments.length<2&&(mt=0);var wt=ft[0],Et=ft[1],Yt=c.length<2?(wt=(wt+Et)/2,0):(Et-wt)/(c.length-1+mt);return R=ut(wt+Yt*mt/2,Yt),V=0,M={t:"rangePoints",a:arguments},W},W.rangeRoundPoints=function(ft,mt){arguments.length<2&&(mt=0);var wt=ft[0],Et=ft[1],Yt=c.length<2?(wt=Et=Math.round((wt+Et)/2),0):(Et-wt)/(c.length-1+mt)|0;return R=ut(wt+Math.round(Yt*mt/2+(Et-wt-(c.length-1+mt)*Yt)/2),Yt),V=0,M={t:"rangeRoundPoints",a:arguments},W},W.rangeBands=function(ft,mt,wt){arguments.length<2&&(mt=0),arguments.length<3&&(wt=mt);var Et=ft[1]<ft[0],Yt=ft[Et-0],Wt=(ft[1-Et]-Yt)/(c.length-mt+2*wt);return R=ut(Yt+Wt*wt,Wt),Et&&R.reverse(),V=Wt*(1-mt),M={t:"rangeBands",a:arguments},W},W.rangeRoundBands=function(ft,mt,wt){arguments.length<2&&(mt=0),arguments.length<3&&(wt=mt);var Et=ft[1]<ft[0],Yt=ft[Et-0],Wt=ft[1-Et],ae=Math.floor((Wt-Yt)/(c.length-mt+2*wt));return R=ut(Yt+Math.round((Wt-Yt-(c.length-mt)*ae)/2),ae),Et&&R.reverse(),V=Math.round(ae*(1-mt)),M={t:"rangeRoundBands",a:arguments},W},W.rangeBand=function(){return V},W.rangeExtent=function(){return Hr(M.a[0])},W.copy=function(){return Va(c,M)},W.domain(c)}i.scale.pow=function(){return Ua(i.scale.linear(),1,[0,1])},i.scale.sqrt=function(){return i.scale.pow().exponent(.5)},i.scale.ordinal=function(){return Va([],{t:"range",a:[[]]})},i.scale.category10=function(){return i.scale.ordinal().range(io)},i.scale.category20=function(){return i.scale.ordinal().range(oo)},i.scale.category20b=function(){return i.scale.ordinal().range(lo)},i.scale.category20c=function(){return i.scale.ordinal().range(so)};var io=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ye),oo=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ye),lo=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ye),so=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ye);function Ga(c,M){var O;function R(){var W=0,ut=M.length;for(O=[];++W<ut;)O[W-1]=i.quantile(c,W/ut);return V}function V(W){if(!isNaN(W=+W))return M[i.bisect(O,W)]}return V.domain=function(W){return arguments.length?(c=W.map(v).filter(g).sort(p),R()):c},V.range=function(W){return arguments.length?(M=W,R()):M},V.quantiles=function(){return O},V.invertExtent=function(W){return(W=M.indexOf(W))<0?[NaN,NaN]:[W>0?O[W-1]:c[0],W<O.length?O[W]:c[c.length-1]]},V.copy=function(){return Ga(c,M)},R()}function qa(c,M,O){var R,V;function W(ft){return O[Math.max(0,Math.min(V,Math.floor(R*(ft-c))))]}function ut(){return R=O.length/(M-c),V=O.length-1,W}return W.domain=function(ft){return arguments.length?(c=+ft[0],M=+ft[ft.length-1],ut()):[c,M]},W.range=function(ft){return arguments.length?(O=ft,ut()):O},W.invertExtent=function(ft){return[ft=(ft=O.indexOf(ft))<0?NaN:ft/R+c,ft+1/R]},W.copy=function(){return qa(c,M,O)},ut()}function Za(c,M){function O(R){if(R<=R)return M[i.bisect(c,R)]}return O.domain=function(R){return arguments.length?(c=R,O):c},O.range=function(R){return arguments.length?(M=R,O):M},O.invertExtent=function(R){return R=M.indexOf(R),[c[R-1],c[R]]},O.copy=function(){return Za(c,M)},O}function Wa(c){function M(O){return+O}return M.invert=M,M.domain=M.range=function(O){return arguments.length?(c=O.map(M),M):c},M.ticks=function(O){return la(c,O)},M.tickFormat=function(O,R){return d3_scale_linearTickFormat(c,O,R)},M.copy=function(){return Wa(c)},M}function co(){return 0}i.scale.quantile=function(){return Ga([],[])},i.scale.quantize=function(){return qa(0,1,[0,1])},i.scale.threshold=function(){return Za([.5],[0,1])},i.scale.identity=function(){return Wa([0,1])},i.svg={},i.svg.arc=function(){var c=uo,M=fo,O=co,R=Vr,V=Ja,W=Xa,ut=ho;function ft(){var wt=Math.max(0,+c.apply(this,arguments)),Et=Math.max(0,+M.apply(this,arguments)),Yt=V.apply(this,arguments)-Qt,Wt=W.apply(this,arguments)-Qt,ae=Math.abs(Wt-Yt),me=Yt>Wt?0:1;if(Et<wt&&(ne=Et,Et=wt,wt=ne),ae>=Vt)return mt(Et,me)+(wt?mt(wt,1-me):"")+"Z";var ne,le,Jt,we,se,$t,De,Ce,Ve,Ue,en,rn,cn=0,an=0,bn=[];if((we=(+ut.apply(this,arguments)||0)/2)&&(Jt=R===Vr?Math.sqrt(wt*wt+Et*Et):+R.apply(this,arguments),me||(an*=-1),Et&&(an=ce(Jt/Et*Math.sin(we))),wt&&(cn=ce(Jt/wt*Math.sin(we)))),Et){se=Et*Math.cos(Yt+an),$t=Et*Math.sin(Yt+an),De=Et*Math.cos(Wt-an),Ce=Et*Math.sin(Wt-an);var Dn=Math.abs(Wt-Yt-2*an)<=Xt?0:1;if(an&&Gr(se,$t,De,Ce)===me^Dn){var Hn=(Yt+Wt)/2;se=Et*Math.cos(Hn),$t=Et*Math.sin(Hn),De=Ce=null}}else se=$t=0;if(wt){Ve=wt*Math.cos(Wt-cn),Ue=wt*Math.sin(Wt-cn),en=wt*Math.cos(Yt+cn),rn=wt*Math.sin(Yt+cn);var qe=Math.abs(Yt-Wt+2*cn)<=Xt?0:1;if(cn&&Gr(Ve,Ue,en,rn)===1-me^qe){var Qe=(Yt+Wt)/2;Ve=wt*Math.cos(Qe),Ue=wt*Math.sin(Qe),en=rn=null}}else Ve=Ue=0;if(ae>gt&&(ne=Math.min(Math.abs(Et-wt)/2,+O.apply(this,arguments)))>.001){le=wt<Et^me?0:1;var dn=ne,yn=ne;if(ae<Xt){var wn=en==null?[Ve,Ue]:De==null?[se,$t]:kn([se,$t],[en,rn],[De,Ce],[Ve,Ue]),Rn=se-wn[0],Gn=$t-wn[1],Vn=De-wn[0],Xn=Ce-wn[1],qn=1/Math.sin(Math.acos((Rn*Vn+Gn*Xn)/(Math.sqrt(Rn*Rn+Gn*Gn)*Math.sqrt(Vn*Vn+Xn*Xn)))/2),Kn=Math.sqrt(wn[0]*wn[0]+wn[1]*wn[1]);yn=Math.min(ne,(wt-Kn)/(qn-1)),dn=Math.min(ne,(Et-Kn)/(qn+1))}if(De!=null){var er=qr(en==null?[Ve,Ue]:[en,rn],[se,$t],Et,dn,me),pr=qr([De,Ce],[Ve,Ue],Et,dn,me);ne===dn?bn.push("M",er[0],"A",dn,",",dn," 0 0,",le," ",er[1],"A",Et,",",Et," 0 ",1-me^Gr(er[1][0],er[1][1],pr[1][0],pr[1][1]),",",me," ",pr[1],"A",dn,",",dn," 0 0,",le," ",pr[0]):bn.push("M",er[0],"A",dn,",",dn," 0 1,",le," ",pr[0])}else bn.push("M",se,",",$t);if(en!=null){var yr=qr([se,$t],[en,rn],wt,-yn,me),mr=qr([Ve,Ue],De==null?[se,$t]:[De,Ce],wt,-yn,me);ne===yn?bn.push("L",mr[0],"A",yn,",",yn," 0 0,",le," ",mr[1],"A",wt,",",wt," 0 ",me^Gr(mr[1][0],mr[1][1],yr[1][0],yr[1][1]),",",1-me," ",yr[1],"A",yn,",",yn," 0 0,",le," ",yr[0]):bn.push("L",mr[0],"A",yn,",",yn," 0 0,",le," ",yr[0])}else bn.push("L",Ve,",",Ue)}else bn.push("M",se,",",$t),De!=null&&bn.push("A",Et,",",Et," 0 ",Dn,",",me," ",De,",",Ce),bn.push("L",Ve,",",Ue),en!=null&&bn.push("A",wt,",",wt," 0 ",qe,",",1-me," ",en,",",rn);return bn.push("Z"),bn.join("")}function mt(wt,Et){return"M0,"+wt+"A"+wt+","+wt+" 0 1,"+Et+" 0,"+-wt+"A"+wt+","+wt+" 0 1,"+Et+" 0,"+wt}return ft.innerRadius=function(wt){return arguments.length?(c=Ne(wt),ft):c},ft.outerRadius=function(wt){return arguments.length?(M=Ne(wt),ft):M},ft.cornerRadius=function(wt){return arguments.length?(O=Ne(wt),ft):O},ft.padRadius=function(wt){return arguments.length?(R=wt==Vr?Vr:Ne(wt),ft):R},ft.startAngle=function(wt){return arguments.length?(V=Ne(wt),ft):V},ft.endAngle=function(wt){return arguments.length?(W=Ne(wt),ft):W},ft.padAngle=function(wt){return arguments.length?(ut=Ne(wt),ft):ut},ft.centroid=function(){var wt=(+c.apply(this,arguments)+ +M.apply(this,arguments))/2,Et=(+V.apply(this,arguments)+ +W.apply(this,arguments))/2-Qt;return[Math.cos(Et)*wt,Math.sin(Et)*wt]},ft};var Vr="auto";function uo(c){return c.innerRadius}function fo(c){return c.outerRadius}function Ja(c){return c.startAngle}function Xa(c){return c.endAngle}function ho(c){return c&&c.padAngle}function Gr(c,M,O,R){return(c-O)*M-(M-R)*c>0?0:1}function qr(c,M,O,R,V){var W=c[0]-M[0],ut=c[1]-M[1],ft=(V?R:-R)/Math.sqrt(W*W+ut*ut),mt=ft*ut,wt=-ft*W,Et=c[0]+mt,Yt=c[1]+wt,Wt=M[0]+mt,ae=M[1]+wt,me=(Et+Wt)/2,ne=(Yt+ae)/2,le=Wt-Et,Jt=ae-Yt,we=le*le+Jt*Jt,se=O-R,$t=Et*ae-Wt*Yt,De=(Jt<0?-1:1)*Math.sqrt(Math.max(0,se*se*we-$t*$t)),Ce=($t*Jt-le*De)/we,Ve=(-$t*le-Jt*De)/we,Ue=($t*Jt+le*De)/we,en=(-$t*le+Jt*De)/we,rn=Ce-me,cn=Ve-ne,an=Ue-me,bn=en-ne;return rn*rn+cn*cn>an*an+bn*bn&&(Ce=Ue,Ve=en),[[Ce-mt,Ve-wt],[Ce*O/se,Ve*O/se]]}function Ka(){return!0}function Qa(c){var M=Pn,O=zn,R=Ka,V=hr,W=V.key,ut=.7;function ft(mt){var wt,Et=[],Yt=[],Wt=-1,ae=mt.length,me=Ne(M),ne=Ne(O);function le(){Et.push("M",V(c(Yt),ut))}for(;++Wt<ae;)R.call(this,wt=mt[Wt],Wt)?Yt.push([+me.call(this,wt,Wt),+ne.call(this,wt,Wt)]):Yt.length&&(le(),Yt=[]);return Yt.length&&le(),Et.length?Et.join(""):null}return ft.x=function(mt){return arguments.length?(M=mt,ft):M},ft.y=function(mt){return arguments.length?(O=mt,ft):O},ft.defined=function(mt){return arguments.length?(R=mt,ft):R},ft.interpolate=function(mt){return arguments.length?(W=typeof mt=="function"?V=mt:(V=sa.get(mt)||hr).key,ft):W},ft.tension=function(mt){return arguments.length?(ut=mt,ft):ut},ft}i.svg.line=function(){return Qa(U)};var sa=i.map({linear:hr,"linear-closed":$a,step:function(c){for(var M=0,O=c.length,R=c[0],V=[R[0],",",R[1]];++M<O;)V.push("H",(R[0]+(R=c[M])[0])/2,"V",R[1]);return O>1&&V.push("H",R[0]),V.join("")},"step-before":ca,"step-after":ua,basis:ti,"basis-open":function(c){if(c.length<4)return hr(c);for(var M,O=[],R=-1,V=c.length,W=[0],ut=[0];++R<3;)M=c[R],W.push(M[0]),ut.push(M[1]);for(O.push(cr(Mr,W)+","+cr(Mr,ut)),--R;++R<V;)M=c[R],W.shift(),W.push(M[0]),ut.shift(),ut.push(M[1]),da(O,W,ut);return O.join("")},"basis-closed":function(c){for(var M,O,R=-1,V=c.length,W=V+4,ut=[],ft=[];++R<4;)O=c[R%V],ut.push(O[0]),ft.push(O[1]);for(M=[cr(Mr,ut),",",cr(Mr,ft)],--R;++R<W;)O=c[R%V],ut.shift(),ut.push(O[0]),ft.shift(),ft.push(O[1]),da(M,ut,ft);return M.join("")},bundle:function(c,M){var O=c.length-1;if(O)for(var R,V,W=c[0][0],ut=c[0][1],ft=c[O][0]-W,mt=c[O][1]-ut,wt=-1;++wt<=O;)V=wt/O,(R=c[wt])[0]=M*R[0]+(1-M)*(W+V*ft),R[1]=M*R[1]+(1-M)*(ut+V*mt);return ti(c)},cardinal:function(c,M){return c.length<3?hr(c):c[0]+Zr(c,fa(c,M))},"cardinal-open":function(c,M){return c.length<4?hr(c):c[1]+Zr(c.slice(1,-1),fa(c,M))},"cardinal-closed":function(c,M){return c.length<3?$a(c):c[0]+Zr((c.push(c[0]),c),fa([c[c.length-2]].concat(c,[c[1]]),M))},monotone:function(c){return c.length<3?hr(c):c[0]+Zr(c,function(M){for(var O,R,V,W,ut=[],ft=function(Et){for(var Yt=0,Wt=Et.length-1,ae=[],me=Et[0],ne=Et[1],le=ae[0]=ha(me,ne);++Yt<Wt;)ae[Yt]=(le+(le=ha(me=ne,ne=Et[Yt+1])))/2;return ae[Yt]=le,ae}(M),mt=-1,wt=M.length-1;++mt<wt;)O=ha(M[mt],M[mt+1]),w(O)<gt?ft[mt]=ft[mt+1]=0:(W=(R=ft[mt]/O)*R+(V=ft[mt+1]/O)*V)>9&&(W=3*O/Math.sqrt(W),ft[mt]=W*R,ft[mt+1]=W*V);for(mt=-1;++mt<=wt;)W=(M[Math.min(wt,mt+1)][0]-M[Math.max(0,mt-1)][0])/(6*(1+ft[mt]*ft[mt])),ut.push([W||0,ft[mt]*W||0]);return ut}(c))}});function hr(c){return c.length>1?c.join("L"):c+"Z"}function $a(c){return c.join("L")+"Z"}function ca(c){for(var M=0,O=c.length,R=c[0],V=[R[0],",",R[1]];++M<O;)V.push("V",(R=c[M])[1],"H",R[0]);return V.join("")}function ua(c){for(var M=0,O=c.length,R=c[0],V=[R[0],",",R[1]];++M<O;)V.push("H",(R=c[M])[0],"V",R[1]);return V.join("")}function Zr(c,M){if(M.length<1||c.length!=M.length&&c.length!=M.length+2)return hr(c);var O=c.length!=M.length,R="",V=c[0],W=c[1],ut=M[0],ft=ut,mt=1;if(O&&(R+="Q"+(W[0]-2*ut[0]/3)+","+(W[1]-2*ut[1]/3)+","+W[0]+","+W[1],V=c[1],mt=2),M.length>1){ft=M[1],W=c[mt],mt++,R+="C"+(V[0]+ut[0])+","+(V[1]+ut[1])+","+(W[0]-ft[0])+","+(W[1]-ft[1])+","+W[0]+","+W[1];for(var wt=2;wt<M.length;wt++,mt++)W=c[mt],ft=M[wt],R+="S"+(W[0]-ft[0])+","+(W[1]-ft[1])+","+W[0]+","+W[1]}if(O){var Et=c[mt];R+="Q"+(W[0]+2*ft[0]/3)+","+(W[1]+2*ft[1]/3)+","+Et[0]+","+Et[1]}return R}function fa(c,M){for(var O,R=[],V=(1-M)/2,W=c[0],ut=c[1],ft=1,mt=c.length;++ft<mt;)O=W,W=ut,ut=c[ft],R.push([V*(ut[0]-O[0]),V*(ut[1]-O[1])]);return R}function ti(c){if(c.length<3)return hr(c);var M=1,O=c.length,R=c[0],V=R[0],W=R[1],ut=[V,V,V,(R=c[1])[0]],ft=[W,W,W,R[1]],mt=[V,",",W,"L",cr(Mr,ut),",",cr(Mr,ft)];for(c.push(c[O-1]);++M<=O;)R=c[M],ut.shift(),ut.push(R[0]),ft.shift(),ft.push(R[1]),da(mt,ut,ft);return c.pop(),mt.push("L",R),mt.join("")}function cr(c,M){return c[0]*M[0]+c[1]*M[1]+c[2]*M[2]+c[3]*M[3]}sa.forEach(function(c,M){M.key=c,M.closed=/-closed$/.test(c)});var ei=[0,2/3,1/3,0],ni=[0,1/3,2/3,0],Mr=[0,1/6,2/3,1/6];function da(c,M,O){c.push("C",cr(ei,M),",",cr(ei,O),",",cr(ni,M),",",cr(ni,O),",",cr(Mr,M),",",cr(Mr,O))}function ha(c,M){return(M[1]-c[1])/(M[0]-c[0])}function ri(c){for(var M,O,R,V=-1,W=c.length;++V<W;)O=(M=c[V])[0],R=M[1]-Qt,M[0]=O*Math.cos(R),M[1]=O*Math.sin(R);return c}function ai(c){var M=Pn,O=Pn,R=0,V=zn,W=Ka,ut=hr,ft=ut.key,mt=ut,wt="L",Et=.7;function Yt(Wt){var ae,me,ne,le=[],Jt=[],we=[],se=-1,$t=Wt.length,De=Ne(M),Ce=Ne(R),Ve=M===O?function(){return me}:Ne(O),Ue=R===V?function(){return ne}:Ne(V);function en(){le.push("M",ut(c(we),Et),wt,mt(c(Jt.reverse()),Et),"Z")}for(;++se<$t;)W.call(this,ae=Wt[se],se)?(Jt.push([me=+De.call(this,ae,se),ne=+Ce.call(this,ae,se)]),we.push([+Ve.call(this,ae,se),+Ue.call(this,ae,se)])):Jt.length&&(en(),Jt=[],we=[]);return Jt.length&&en(),le.length?le.join(""):null}return Yt.x=function(Wt){return arguments.length?(M=O=Wt,Yt):O},Yt.x0=function(Wt){return arguments.length?(M=Wt,Yt):M},Yt.x1=function(Wt){return arguments.length?(O=Wt,Yt):O},Yt.y=function(Wt){return arguments.length?(R=V=Wt,Yt):V},Yt.y0=function(Wt){return arguments.length?(R=Wt,Yt):R},Yt.y1=function(Wt){return arguments.length?(V=Wt,Yt):V},Yt.defined=function(Wt){return arguments.length?(W=Wt,Yt):W},Yt.interpolate=function(Wt){return arguments.length?(ft=typeof Wt=="function"?ut=Wt:(ut=sa.get(Wt)||hr).key,mt=ut.reverse||ut,wt=ut.closed?"M":"L",Yt):ft},Yt.tension=function(Wt){return arguments.length?(Et=Wt,Yt):Et},Yt}function ii(c){return c.source}function oi(c){return c.target}function po(c){return c.radius}function li(c){return[c.x,c.y]}function vo(){return 64}function go(){return"circle"}function si(c){var M=Math.sqrt(c/Xt);return"M0,"+M+"A"+M+","+M+" 0 1,1 0,"+-M+"A"+M+","+M+" 0 1,1 0,"+M+"Z"}i.svg.line.radial=function(){var c=Qa(ri);return c.radius=c.x,delete c.x,c.angle=c.y,delete c.y,c},ca.reverse=ua,ua.reverse=ca,i.svg.area=function(){return ai(U)},i.svg.area.radial=function(){var c=ai(ri);return c.radius=c.x,delete c.x,c.innerRadius=c.x0,delete c.x0,c.outerRadius=c.x1,delete c.x1,c.angle=c.y,delete c.y,c.startAngle=c.y0,delete c.y0,c.endAngle=c.y1,delete c.y1,c},i.svg.chord=function(){var c=ii,M=oi,O=po,R=Ja,V=Xa;function W(wt,Et){var Yt,Wt,ae=ut(this,c,wt,Et),me=ut(this,M,wt,Et);return"M"+ae.p0+ft(ae.r,ae.p1,ae.a1-ae.a0)+(Wt=me,((Yt=ae).a0==Wt.a0&&Yt.a1==Wt.a1?mt(ae.r,ae.p1,ae.r,ae.p0):mt(ae.r,ae.p1,me.r,me.p0)+ft(me.r,me.p1,me.a1-me.a0)+mt(me.r,me.p1,ae.r,ae.p0))+"Z")}function ut(wt,Et,Yt,Wt){var ae=Et.call(wt,Yt,Wt),me=O.call(wt,ae,Wt),ne=R.call(wt,ae,Wt)-Qt,le=V.call(wt,ae,Wt)-Qt;return{r:me,a0:ne,a1:le,p0:[me*Math.cos(ne),me*Math.sin(ne)],p1:[me*Math.cos(le),me*Math.sin(le)]}}function ft(wt,Et,Yt){return"A"+wt+","+wt+" 0 "+ +(Yt>Xt)+",1 "+Et}function mt(wt,Et,Yt,Wt){return"Q 0,0 "+Wt}return W.radius=function(wt){return arguments.length?(O=Ne(wt),W):O},W.source=function(wt){return arguments.length?(c=Ne(wt),W):c},W.target=function(wt){return arguments.length?(M=Ne(wt),W):M},W.startAngle=function(wt){return arguments.length?(R=Ne(wt),W):R},W.endAngle=function(wt){return arguments.length?(V=Ne(wt),W):V},W},i.svg.diagonal=function(){var c=ii,M=oi,O=li;function R(V,W){var ut=c.call(this,V,W),ft=M.call(this,V,W),mt=(ut.y+ft.y)/2,wt=[ut,{x:ut.x,y:mt},{x:ft.x,y:mt},ft];return"M"+(wt=wt.map(O))[0]+"C"+wt[1]+" "+wt[2]+" "+wt[3]}return R.source=function(V){return arguments.length?(c=Ne(V),R):c},R.target=function(V){return arguments.length?(M=Ne(V),R):M},R.projection=function(V){return arguments.length?(O=V,R):O},R},i.svg.diagonal.radial=function(){var c=i.svg.diagonal(),M=li,O=c.projection;return c.projection=function(R){return arguments.length?O(function(V){return function(){var W=V.apply(this,arguments),ut=W[0],ft=W[1]-Qt;return[ut*Math.cos(ft),ut*Math.sin(ft)]}}(M=R)):M},c},i.svg.symbol=function(){var c=go,M=vo;function O(R,V){return(ci.get(c.call(this,R,V))||si)(M.call(this,R,V))}return O.type=function(R){return arguments.length?(c=Ne(R),O):c},O.size=function(R){return arguments.length?(M=Ne(R),O):M},O};var ci=i.map({circle:si,cross:function(c){var M=Math.sqrt(c/5)/2;return"M"+-3*M+","+-M+"H"+-M+"V"+-3*M+"H"+M+"V"+-M+"H"+3*M+"V"+M+"H"+M+"V"+3*M+"H"+-M+"V"+M+"H"+-3*M+"Z"},diamond:function(c){var M=Math.sqrt(c/(2*ui)),O=M*ui;return"M0,"+-M+"L"+O+",0 0,"+M+" "+-O+",0Z"},square:function(c){var M=Math.sqrt(c)/2;return"M"+-M+","+-M+"L"+M+","+-M+" "+M+","+M+" "+-M+","+M+"Z"},"triangle-down":function(c){var M=Math.sqrt(c/Wr),O=M*Wr/2;return"M0,"+O+"L"+M+","+-O+" "+-M+","+-O+"Z"},"triangle-up":function(c){var M=Math.sqrt(c/Wr),O=M*Wr/2;return"M0,"+-O+"L"+M+","+O+" "+-M+","+O+"Z"}});i.svg.symbolTypes=ci.keys();var Wr=Math.sqrt(3),ui=Math.tan(30*re);at.transition=function(c){for(var M,O,R=Cr||++di,V=va(c),W=[],ut=Xr||{time:Date.now(),ease:bi,delay:0,duration:250},ft=-1,mt=this.length;++ft<mt;){W.push(M=[]);for(var wt=this[ft],Et=-1,Yt=wt.length;++Et<Yt;)(O=wt[Et])&&Kr(O,Et,V,R,ut),M.push(O)}return Nr(W,V,R)},at.interrupt=function(c){return this.each(c==null?Jr:fi(va(c)))};var Jr=fi(va());function fi(c){return function(){var M,O,R;(M=this[c])&&(R=M[O=M.active])&&(R.timer.c=null,R.timer.t=NaN,--M.count?delete M[O]:delete this[c],M.active+=.5,R.event&&R.event.interrupt.call(this,this.__data__,R.index))}}function Nr(c,M,O){return S(c,Jn),c.namespace=M,c.id=O,c}var Cr,Xr,Jn=[],di=0;function pa(c,M,O,R){var V=c.id,W=c.namespace;return Tt(c,typeof O=="function"?function(ut,ft,mt){ut[W][V].tween.set(M,R(O.call(ut,ut.__data__,ft,mt)))}:(O=R(O),function(ut){ut[W][V].tween.set(M,O)}))}function yo(c){return c==null&&(c=""),function(){this.textContent=c}}function va(c){return c==null?"__transition__":"__transition_"+c+"__"}function Kr(c,M,O,R,V){var W,ut,ft,mt,wt,Et=c[O]||(c[O]={active:0,count:0}),Yt=Et[R];function Wt(me){var ne=Et.active,le=Et[ne];for(var Jt in le&&(le.timer.c=null,le.timer.t=NaN,--Et.count,delete Et[ne],le.event&&le.event.interrupt.call(c,c.__data__,le.index)),Et)if(+Jt<R){var we=Et[Jt];we.timer.c=null,we.timer.t=NaN,--Et.count,delete Et[Jt]}ut.c=ae,sn(function(){return ut.c&&ae(me||1)&&(ut.c=null,ut.t=NaN),1},0,W),Et.active=R,Yt.event&&Yt.event.start.call(c,c.__data__,M),wt=[],Yt.tween.forEach(function(se,$t){($t=$t.call(c,c.__data__,M))&&wt.push($t)}),mt=Yt.ease,ft=Yt.duration}function ae(me){for(var ne=me/ft,le=mt(ne),Jt=wt.length;Jt>0;)wt[--Jt].call(c,le);if(ne>=1)return Yt.event&&Yt.event.end.call(c,c.__data__,M),--Et.count?delete Et[R]:delete c[O],1}Yt||(W=V.time,ut=sn(function(me){var ne=Yt.delay;if(ut.t=ne+W,ne<=me)return Wt(me-ne);ut.c=Wt},0,W),Yt=Et[R]={tween:new P,time:W,timer:ut,delay:V.delay,duration:V.duration,ease:V.ease,index:M},V=null,++Et.count)}Jn.call=at.call,Jn.empty=at.empty,Jn.node=at.node,Jn.size=at.size,i.transition=function(c,M){return c&&c.transition?Cr?c.transition(M):c:i.selection().transition(c)},i.transition.prototype=Jn,Jn.select=function(c){var M,O,R,V=this.id,W=this.namespace,ut=[];c=tt(c);for(var ft=-1,mt=this.length;++ft<mt;){ut.push(M=[]);for(var wt=this[ft],Et=-1,Yt=wt.length;++Et<Yt;)(R=wt[Et])&&(O=c.call(R,R.__data__,Et,ft))?("__data__"in R&&(O.__data__=R.__data__),Kr(O,Et,W,V,R[W][V]),M.push(O)):M.push(null)}return Nr(ut,W,V)},Jn.selectAll=function(c){var M,O,R,V,W,ut=this.id,ft=this.namespace,mt=[];c=_t(c);for(var wt=-1,Et=this.length;++wt<Et;)for(var Yt=this[wt],Wt=-1,ae=Yt.length;++Wt<ae;)if(R=Yt[Wt]){W=R[ft][ut],O=c.call(R,R.__data__,Wt,wt),mt.push(M=[]);for(var me=-1,ne=O.length;++me<ne;)(V=O[me])&&Kr(V,me,ft,ut,W),M.push(V)}return Nr(mt,ft,ut)},Jn.filter=function(c){var M,O,R=[];typeof c!="function"&&(c=yt(c));for(var V=0,W=this.length;V<W;V++){R.push(M=[]);for(var ut,ft=0,mt=(ut=this[V]).length;ft<mt;ft++)(O=ut[ft])&&c.call(O,O.__data__,ft,V)&&M.push(O)}return Nr(R,this.namespace,this.id)},Jn.tween=function(c,M){var O=this.id,R=this.namespace;return arguments.length<2?this.node()[R][O].tween.get(c):Tt(this,M==null?function(V){V[R][O].tween.remove(c)}:function(V){V[R][O].tween.set(c,M)})},Jn.attr=function(c,M){if(arguments.length<2){for(M in c)this.attr(M,c[M]);return this}var O=c=="transform"?Ma:vr,R=i.ns.qualify(c);function V(){this.removeAttribute(R)}function W(){this.removeAttributeNS(R.space,R.local)}return pa(this,"attr."+c,M,R.local?function(ut){return ut==null?W:(ut+="",function(){var ft,mt=this.getAttributeNS(R.space,R.local);return mt!==ut&&(ft=O(mt,ut),function(wt){this.setAttributeNS(R.space,R.local,ft(wt))})})}:function(ut){return ut==null?V:(ut+="",function(){var ft,mt=this.getAttribute(R);return mt!==ut&&(ft=O(mt,ut),function(wt){this.setAttribute(R,ft(wt))})})})},Jn.attrTween=function(c,M){var O=i.ns.qualify(c);return this.tween("attr."+c,O.local?function(R,V){var W=M.call(this,R,V,this.getAttributeNS(O.space,O.local));return W&&function(ut){this.setAttributeNS(O.space,O.local,W(ut))}}:function(R,V){var W=M.call(this,R,V,this.getAttribute(O));return W&&function(ut){this.setAttribute(O,W(ut))}})},Jn.style=function(c,M,O){var R=arguments.length;if(R<3){if(typeof c!="string"){for(O in R<2&&(M=""),c)this.style(O,c[O],M);return this}O=""}function V(){this.style.removeProperty(c)}return pa(this,"style."+c,M,function(W){return W==null?V:(W+="",function(){var ut,ft=s(this).getComputedStyle(this,null).getPropertyValue(c);return ft!==W&&(ut=vr(ft,W),function(mt){this.style.setProperty(c,ut(mt),O)})})})},Jn.styleTween=function(c,M,O){return arguments.length<3&&(O=""),this.tween("style."+c,function(R,V){var W=M.call(this,R,V,s(this).getComputedStyle(this,null).getPropertyValue(c));return W&&function(ut){this.style.setProperty(c,W(ut),O)}})},Jn.text=function(c){return pa(this,"text",c,yo)},Jn.remove=function(){var c=this.namespace;return this.each("end.transition",function(){var M;this[c].count<2&&(M=this.parentNode)&&M.removeChild(this)})},Jn.ease=function(c){var M=this.id,O=this.namespace;return arguments.length<1?this.node()[O][M].ease:(typeof c!="function"&&(c=i.ease.apply(i,arguments)),Tt(this,function(R){R[O][M].ease=c}))},Jn.delay=function(c){var M=this.id,O=this.namespace;return arguments.length<1?this.node()[O][M].delay:Tt(this,typeof c=="function"?function(R,V,W){R[O][M].delay=+c.call(R,R.__data__,V,W)}:(c=+c,function(R){R[O][M].delay=c}))},Jn.duration=function(c){var M=this.id,O=this.namespace;return arguments.length<1?this.node()[O][M].duration:Tt(this,typeof c=="function"?function(R,V,W){R[O][M].duration=Math.max(1,c.call(R,R.__data__,V,W))}:(c=Math.max(1,c),function(R){R[O][M].duration=c}))},Jn.each=function(c,M){var O=this.id,R=this.namespace;if(arguments.length<2){var V=Xr,W=Cr;try{Cr=O,Tt(this,function(ut,ft,mt){Xr=ut[R][O],c.call(ut,ut.__data__,ft,mt)})}finally{Xr=V,Cr=W}}else Tt(this,function(ut){var ft=ut[R][O];(ft.event||(ft.event=i.dispatch("start","end","interrupt"))).on(c,M)});return this},Jn.transition=function(){for(var c,M,O,R=this.id,V=++di,W=this.namespace,ut=[],ft=0,mt=this.length;ft<mt;ft++){ut.push(c=[]);for(var wt,Et=0,Yt=(wt=this[ft]).length;Et<Yt;Et++)(M=wt[Et])&&Kr(M,Et,W,V,{time:(O=M[W][R]).time,ease:O.ease,delay:O.delay+O.duration,duration:O.duration}),c.push(M)}return Nr(ut,W,V)},i.svg.axis=function(){var c,M=i.scale.linear(),O=hi,R=6,V=6,W=3,ut=[10],ft=null;function mt(wt){wt.each(function(){var Et,Yt=i.select(this),Wt=this.__chart__||M,ae=this.__chart__=M.copy(),me=ft??(ae.ticks?ae.ticks.apply(ae,ut):ae.domain()),ne=c??(ae.tickFormat?ae.tickFormat.apply(ae,ut):U),le=Yt.selectAll(".tick").data(me,ae),Jt=le.enter().insert("g",".domain").attr("class","tick").style("opacity",gt),we=i.transition(le.exit()).style("opacity",gt).remove(),se=i.transition(le.order()).style("opacity",1),$t=Math.max(R,0)+W,De=Yr(ae),Ce=Yt.selectAll(".domain").data([0]),Ve=(Ce.enter().append("path").attr("class","domain"),i.transition(Ce));Jt.append("line"),Jt.append("text");var Ue,en,rn,cn,an=Jt.select("line"),bn=se.select("line"),Dn=le.select("text").text(ne),Hn=Jt.select("text"),qe=se.select("text"),Qe=O==="top"||O==="left"?-1:1;if(O==="bottom"||O==="top"?(Et=xo,Ue="x",rn="y",en="x2",cn="y2",Dn.attr("dy",Qe<0?"0em":".71em").style("text-anchor","middle"),Ve.attr("d","M"+De[0]+","+Qe*V+"V0H"+De[1]+"V"+Qe*V)):(Et=bo,Ue="y",rn="x",en="y2",cn="x2",Dn.attr("dy",".32em").style("text-anchor",Qe<0?"end":"start"),Ve.attr("d","M"+Qe*V+","+De[0]+"H0V"+De[1]+"H"+Qe*V)),an.attr(cn,Qe*R),Hn.attr(rn,Qe*$t),bn.attr(en,0).attr(cn,Qe*R),qe.attr(Ue,0).attr(rn,Qe*$t),ae.rangeBand){var dn=ae,yn=dn.rangeBand()/2;Wt=ae=function(wn){return dn(wn)+yn}}else Wt.rangeBand?Wt=ae:we.call(Et,ae,Wt);Jt.call(Et,Wt,ae),se.call(Et,ae,ae)})}return mt.scale=function(wt){return arguments.length?(M=wt,mt):M},mt.orient=function(wt){return arguments.length?(O=wt in mo?wt+"":hi,mt):O},mt.ticks=function(){return arguments.length?(ut=n(arguments),mt):ut},mt.tickValues=function(wt){return arguments.length?(ft=wt,mt):ft},mt.tickFormat=function(wt){return arguments.length?(c=wt,mt):c},mt.tickSize=function(wt){var Et=arguments.length;return Et?(R=+wt,V=+arguments[Et-1],mt):R},mt.innerTickSize=function(wt){return arguments.length?(R=+wt,mt):R},mt.outerTickSize=function(wt){return arguments.length?(V=+wt,mt):V},mt.tickPadding=function(wt){return arguments.length?(W=+wt,mt):W},mt.tickSubdivide=function(){return arguments.length&&mt},mt};var hi="bottom",mo={top:1,right:1,bottom:1,left:1};function xo(c,M,O){c.attr("transform",function(R){var V=M(R);return"translate("+(isFinite(V)?V:O(R))+",0)"})}function bo(c,M,O){c.attr("transform",function(R){var V=M(R);return"translate(0,"+(isFinite(V)?V:O(R))+")"})}i.svg.brush=function(){var c,M,O=$(Et,"brushstart","brush","brushend"),R=null,V=null,W=[0,0],ut=[0,0],ft=!0,mt=!0,wt=ga[0];function Et(ne){ne.each(function(){var le=i.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",me).on("touchstart.brush",me),Jt=le.selectAll(".background").data([0]);Jt.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),le.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var we=le.selectAll(".resize").data(wt,U);we.exit().remove(),we.enter().append("g").attr("class",function(Ce){return"resize "+Ce}).style("cursor",function(Ce){return _o[Ce]}).append("rect").attr("x",function(Ce){return/[ew]$/.test(Ce)?-3:null}).attr("y",function(Ce){return/^[ns]/.test(Ce)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),we.style("display",Et.empty()?"none":null);var se,$t=i.transition(le),De=i.transition(Jt);R&&(se=Yr(R),De.attr("x",se[0]).attr("width",se[1]-se[0]),Wt($t)),V&&(se=Yr(V),De.attr("y",se[0]).attr("height",se[1]-se[0]),ae($t)),Yt($t)})}function Yt(ne){ne.selectAll(".resize").attr("transform",function(le){return"translate("+W[+/e$/.test(le)]+","+ut[+/^s/.test(le)]+")"})}function Wt(ne){ne.select(".extent").attr("x",W[0]),ne.selectAll(".extent,.n>rect,.s>rect").attr("width",W[1]-W[0])}function ae(ne){ne.select(".extent").attr("y",ut[0]),ne.selectAll(".extent,.e>rect,.w>rect").attr("height",ut[1]-ut[0])}function me(){var ne,le,Jt=this,we=i.select(i.event.target),se=O.of(Jt,arguments),$t=i.select(Jt),De=we.datum(),Ce=!/^(n|s)$/.test(De)&&R,Ve=!/^(e|w)$/.test(De)&&V,Ue=we.classed("extent"),en=de(Jt),rn=i.mouse(Jt),cn=i.select(s(Jt)).on("keydown.brush",function(){i.event.keyCode==32&&(Ue||(ne=null,rn[0]-=W[1],rn[1]-=ut[1],Ue=2),ot())}).on("keyup.brush",function(){i.event.keyCode==32&&Ue==2&&(rn[0]+=W[1],rn[1]+=ut[1],Ue=0,ot())});if(i.event.changedTouches?cn.on("touchmove.brush",Dn).on("touchend.brush",qe):cn.on("mousemove.brush",Dn).on("mouseup.brush",qe),$t.interrupt().selectAll("*").interrupt(),Ue)rn[0]=W[0]-rn[0],rn[1]=ut[0]-rn[1];else if(De){var an=+/w$/.test(De),bn=+/^n/.test(De);le=[W[1-an]-rn[0],ut[1-bn]-rn[1]],rn[0]=W[an],rn[1]=ut[bn]}else i.event.altKey&&(ne=rn.slice());function Dn(){var Qe=i.mouse(Jt),dn=!1;le&&(Qe[0]+=le[0],Qe[1]+=le[1]),Ue||(i.event.altKey?(ne||(ne=[(W[0]+W[1])/2,(ut[0]+ut[1])/2]),rn[0]=W[+(Qe[0]<ne[0])],rn[1]=ut[+(Qe[1]<ne[1])]):ne=null),Ce&&Hn(Qe,R,0)&&(Wt($t),dn=!0),Ve&&Hn(Qe,V,1)&&(ae($t),dn=!0),dn&&(Yt($t),se({type:"brush",mode:Ue?"move":"resize"}))}function Hn(Qe,dn,yn){var wn,Rn,Gn=Yr(dn),Vn=Gn[0],Xn=Gn[1],qn=rn[yn],Kn=yn?ut:W,er=Kn[1]-Kn[0];if(Ue&&(Vn-=qn,Xn-=er+qn),wn=(yn?mt:ft)?Math.max(Vn,Math.min(Xn,Qe[yn])):Qe[yn],Ue?Rn=(wn+=qn)+er:(ne&&(qn=Math.max(Vn,Math.min(Xn,2*ne[yn]-wn))),qn<wn?(Rn=wn,wn=qn):Rn=qn),Kn[0]!=wn||Kn[1]!=Rn)return yn?M=null:c=null,Kn[0]=wn,Kn[1]=Rn,!0}function qe(){Dn(),$t.style("pointer-events","all").selectAll(".resize").style("display",Et.empty()?"none":null),i.select("body").style("cursor",null),cn.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),en(),se({type:"brushend"})}$t.style("pointer-events","none").selectAll(".resize").style("display",null),i.select("body").style("cursor",we.style("cursor")),se({type:"brushstart"}),Dn()}return Et.event=function(ne){ne.each(function(){var le=O.of(this,arguments),Jt={x:W,y:ut,i:c,j:M},we=this.__chart__||Jt;this.__chart__=Jt,Cr?i.select(this).transition().each("start.brush",function(){c=we.i,M=we.j,W=we.x,ut=we.y,le({type:"brushstart"})}).tween("brush:brush",function(){var se=Dr(W,Jt.x),$t=Dr(ut,Jt.y);return c=M=null,function(De){W=Jt.x=se(De),ut=Jt.y=$t(De),le({type:"brush",mode:"resize"})}}).each("end.brush",function(){c=Jt.i,M=Jt.j,le({type:"brush",mode:"resize"}),le({type:"brushend"})}):(le({type:"brushstart"}),le({type:"brush",mode:"resize"}),le({type:"brushend"}))})},Et.x=function(ne){return arguments.length?(wt=ga[!(R=ne)<<1|!V],Et):R},Et.y=function(ne){return arguments.length?(wt=ga[!R<<1|!(V=ne)],Et):V},Et.clamp=function(ne){return arguments.length?(R&&V?(ft=!!ne[0],mt=!!ne[1]):R?ft=!!ne:V&&(mt=!!ne),Et):R&&V?[ft,mt]:R?ft:V?mt:null},Et.extent=function(ne){var le,Jt,we,se,$t;return arguments.length?(R&&(le=ne[0],Jt=ne[1],V&&(le=le[0],Jt=Jt[0]),c=[le,Jt],R.invert&&(le=R(le),Jt=R(Jt)),Jt<le&&($t=le,le=Jt,Jt=$t),le==W[0]&&Jt==W[1]||(W=[le,Jt])),V&&(we=ne[0],se=ne[1],R&&(we=we[1],se=se[1]),M=[we,se],V.invert&&(we=V(we),se=V(se)),se<we&&($t=we,we=se,se=$t),we==ut[0]&&se==ut[1]||(ut=[we,se])),Et):(R&&(c?(le=c[0],Jt=c[1]):(le=W[0],Jt=W[1],R.invert&&(le=R.invert(le),Jt=R.invert(Jt)),Jt<le&&($t=le,le=Jt,Jt=$t))),V&&(M?(we=M[0],se=M[1]):(we=ut[0],se=ut[1],V.invert&&(we=V.invert(we),se=V.invert(se)),se<we&&($t=we,we=se,se=$t))),R&&V?[[le,we],[Jt,se]]:R?[le,Jt]:V&&[we,se])},Et.clear=function(){return Et.empty()||(W=[0,0],ut=[0,0],c=M=null),Et},Et.empty=function(){return!!R&&W[0]==W[1]||!!V&&ut[0]==ut[1]},i.rebind(Et,O,"on")};var _o={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ga=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function wo(c){return JSON.parse(c.responseText)}function To(c){var M=r.createRange();return M.selectNode(r.body),M.createContextualFragment(c.responseText)}i.text=Ye(function(c){return c.responseText}),i.json=function(c,M){return Ze(c,"application/json",wo,M)},i.html=function(c,M){return Ze(c,"text/html",To,M)},i.xml=Ye(function(c){return c.responseXML}),(y=typeof(f=i)=="function"?f.call(h,t,h,J):f)===void 0||(J.exports=y)}).apply(self)},3160:function(J,h,t){t.r(h),t.d(h,{decode:function(){return n},encode:function(){return a}});for(var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=typeof Uint8Array>"u"?[]:new Uint8Array(256),i=0;i<64;i++)y[f.charCodeAt(i)]=i;var a=function(r){var o,s=new Uint8Array(r),e=s.length,l="";for(o=0;o<e;o+=3)l+=f[s[o]>>2],l+=f[(3&s[o])<<4|s[o+1]>>4],l+=f[(15&s[o+1])<<2|s[o+2]>>6],l+=f[63&s[o+2]];return e%3==2?l=l.substring(0,l.length-1)+"=":e%3==1&&(l=l.substring(0,l.length-2)+"=="),l},n=function(r){var o,s,e,l,u,m=.75*r.length,_=r.length,p=0;r[r.length-1]==="="&&(m--,r[r.length-2]==="="&&m--);var v=new ArrayBuffer(m),g=new Uint8Array(v);for(o=0;o<_;o+=4)s=y[r.charCodeAt(o)],e=y[r.charCodeAt(o+1)],l=y[r.charCodeAt(o+2)],u=y[r.charCodeAt(o+3)],g[p++]=s<<2|e>>4,g[p++]=(15&e)<<4|l>>2,g[p++]=(3&l)<<6|63&u;return v}},7624:function(J,h,t){function f(p,v){if((g=(p=v?p.toExponential(v-1):p.toExponential()).indexOf("e"))<0)return null;var g,b=p.slice(0,g);return[b.length>1?b[0]+b.slice(2):b,+p.slice(g+1)]}t.d(h,{E9:function(){return l},SO:function(){return _}});var y,i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function a(p){if(!(v=i.exec(p)))throw new Error("invalid format: "+p);var v;return new n({fill:v[1],align:v[2],sign:v[3],symbol:v[4],zero:v[5],width:v[6],comma:v[7],precision:v[8]&&v[8].slice(1),trim:v[9],type:v[10]})}function n(p){this.fill=p.fill===void 0?" ":p.fill+"",this.align=p.align===void 0?">":p.align+"",this.sign=p.sign===void 0?"-":p.sign+"",this.symbol=p.symbol===void 0?"":p.symbol+"",this.zero=!!p.zero,this.width=p.width===void 0?void 0:+p.width,this.comma=!!p.comma,this.precision=p.precision===void 0?void 0:+p.precision,this.trim=!!p.trim,this.type=p.type===void 0?"":p.type+""}function r(p,v){var g=f(p,v);if(!g)return p+"";var b=g[0],d=g[1];return d<0?"0."+new Array(-d).join("0")+b:b.length>d+1?b.slice(0,d+1)+"."+b.slice(d+1):b+new Array(d-b.length+2).join("0")}a.prototype=n.prototype,n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var o={"%":function(p,v){return(100*p).toFixed(v)},b:function(p){return Math.round(p).toString(2)},c:function(p){return p+""},d:function(p){return Math.abs(p=Math.round(p))>=1e21?p.toLocaleString("en").replace(/,/g,""):p.toString(10)},e:function(p,v){return p.toExponential(v)},f:function(p,v){return p.toFixed(v)},g:function(p,v){return p.toPrecision(v)},o:function(p){return Math.round(p).toString(8)},p:function(p,v){return r(100*p,v)},r,s:function(p,v){var g=f(p,v);if(!g)return p+"";var b=g[0],d=g[1],T=d-(y=3*Math.max(-8,Math.min(8,Math.floor(d/3))))+1,w=b.length;return T===w?b:T>w?b+new Array(T-w+1).join("0"):T>0?b.slice(0,T)+"."+b.slice(T):"0."+new Array(1-T).join("0")+f(p,Math.max(0,v+T-1))[0]},X:function(p){return Math.round(p).toString(16).toUpperCase()},x:function(p){return Math.round(p).toString(16)}};function s(p){return p}var e,l,u=Array.prototype.map,m=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function _(p){var v,g,b=p.grouping===void 0||p.thousands===void 0?s:(v=u.call(p.grouping,Number),g=p.thousands+"",function(x,C){for(var F=x.length,N=[],j=0,z=v[0],H=0;F>0&&z>0&&(H+z+1>C&&(z=Math.max(1,C-H)),N.push(x.substring(F-=z,F+z)),!((H+=z+1)>C));)z=v[j=(j+1)%v.length];return N.reverse().join(g)}),d=p.currency===void 0?"":p.currency[0]+"",T=p.currency===void 0?"":p.currency[1]+"",w=p.decimal===void 0?".":p.decimal+"",k=p.numerals===void 0?s:function(x){return function(C){return C.replace(/[0-9]/g,function(F){return x[+F]})}}(u.call(p.numerals,String)),P=p.percent===void 0?"%":p.percent+"",A=p.minus===void 0?"-":p.minus+"",L=p.nan===void 0?"NaN":p.nan+"";function I(x){var C=(x=a(x)).fill,F=x.align,N=x.sign,j=x.symbol,z=x.zero,H=x.width,U=x.comma,it=x.precision,K=x.trim,D=x.type;D==="n"?(U=!0,D="g"):o[D]||(it===void 0&&(it=12),K=!0,D="g"),(z||C==="0"&&F==="=")&&(z=!0,C="0",F="=");var B=j==="$"?d:j==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",q=j==="$"?T:/[%p]/.test(D)?P:"",nt=o[D],ot=/[defgprs%]/.test(D);function rt($){var E,S,Y,Z=B,G=q;if(D==="c")G=nt($)+G,$="";else{var Q=($=+$)<0||1/$<0;if($=isNaN($)?L:nt(Math.abs($),it),K&&($=function(_t){t:for(var Pt,kt=_t.length,lt=1,st=-1;lt<kt;++lt)switch(_t[lt]){case".":st=Pt=lt;break;case"0":st===0&&(st=lt),Pt=lt;break;default:if(!+_t[lt])break t;st>0&&(st=0)}return st>0?_t.slice(0,st)+_t.slice(Pt+1):_t}($)),Q&&+$==0&&N!=="+"&&(Q=!1),Z=(Q?N==="("?N:A:N==="-"||N==="("?"":N)+Z,G=(D==="s"?m[8+y/3]:"")+G+(Q&&N==="("?")":""),ot){for(E=-1,S=$.length;++E<S;)if(48>(Y=$.charCodeAt(E))||Y>57){G=(Y===46?w+$.slice(E+1):$.slice(E))+G,$=$.slice(0,E);break}}}U&&!z&&($=b($,1/0));var at=Z.length+$.length+G.length,tt=at<H?new Array(H-at+1).join(C):"";switch(U&&z&&($=b(tt+$,tt.length?H-G.length:1/0),tt=""),F){case"<":$=Z+$+G+tt;break;case"=":$=Z+tt+$+G;break;case"^":$=tt.slice(0,at=tt.length>>1)+Z+$+G+tt.slice(at);break;default:$=tt+Z+$+G}return k($)}return it=it===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,it)):Math.max(0,Math.min(20,it)),rt.toString=function(){return x+""},rt}return{format:I,formatPrefix:function(x,C){var F,N=I(((x=a(x)).type="f",x)),j=3*Math.max(-8,Math.min(8,Math.floor((F=C,((F=f(Math.abs(F)))?F[1]:NaN)/3)))),z=Math.pow(10,-j),H=m[8+j/3];return function(U){return N(z*U)+H}}}}e=_({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),l=e.format,e.formatPrefix},4336:function(J,h,t){t.d(h,{Yn:function(){return m},m_:function(){return l},E9:function(){return _}});var f=t(8208),y=t(8931),i=t(6192),a=t(8936),n=t(2171),r=t(3528);function o(Ot){if(0<=Ot.y&&Ot.y<100){var gt=new Date(-1,Ot.m,Ot.d,Ot.H,Ot.M,Ot.S,Ot.L);return gt.setFullYear(Ot.y),gt}return new Date(Ot.y,Ot.m,Ot.d,Ot.H,Ot.M,Ot.S,Ot.L)}function s(Ot){if(0<=Ot.y&&Ot.y<100){var gt=new Date(Date.UTC(-1,Ot.m,Ot.d,Ot.H,Ot.M,Ot.S,Ot.L));return gt.setUTCFullYear(Ot.y),gt}return new Date(Date.UTC(Ot.y,Ot.m,Ot.d,Ot.H,Ot.M,Ot.S,Ot.L))}function e(Ot,gt,jt){return{y:Ot,m:gt,d:jt,H:0,M:0,S:0,L:0}}function l(Ot){var gt=Ot.dateTime,jt=Ot.date,Xt=Ot.time,xe=Ot.periods,Vt=Ot.days,Qt=Ot.shortDays,re=Ot.months,_e=Ot.shortMonths,ce=w(xe),Me=k(xe),te=w(Vt),X=k(Vt),et=w(Qt),It=k(Qt),Ct=w(re),Ut=k(re),Rt=w(_e),Ht=k(_e),Zt={a:function(ve){return Qt[ve.getDay()]},A:function(ve){return Vt[ve.getDay()]},b:function(ve){return _e[ve.getMonth()]},B:function(ve){return re[ve.getMonth()]},c:null,d:$,e:$,f:G,H:E,I:S,j:Y,L:Z,m:Q,M:at,p:function(ve){return xe[+(ve.getHours()>=12)]},q:function(ve){return 1+~~(ve.getMonth()/3)},Q:ie,s:pe,S:tt,u:_t,U:Pt,V:kt,w:lt,W:st,x:null,X:null,y:ht,Y:bt,Z:pt,"%":de},Kt={a:function(ve){return Qt[ve.getUTCDay()]},A:function(ve){return Vt[ve.getUTCDay()]},b:function(ve){return _e[ve.getUTCMonth()]},B:function(ve){return re[ve.getUTCMonth()]},c:null,d:Dt,e:Dt,f:vt,H:qt,I:ct,j:xt,L:dt,m:yt,M:Mt,p:function(ve){return xe[+(ve.getUTCHours()>=12)]},q:function(ve){return 1+~~(ve.getUTCMonth()/3)},Q:ie,s:pe,S:Tt,u:Lt,U:St,V:At,w:Nt,W:zt,x:null,X:null,y:Ft,Y:Gt,Z:Bt,"%":de},oe={a:function(ve,ke,Ae){var ee=et.exec(ke.slice(Ae));return ee?(ve.w=It[ee[0].toLowerCase()],Ae+ee[0].length):-1},A:function(ve,ke,Ae){var ee=te.exec(ke.slice(Ae));return ee?(ve.w=X[ee[0].toLowerCase()],Ae+ee[0].length):-1},b:function(ve,ke,Ae){var ee=Rt.exec(ke.slice(Ae));return ee?(ve.m=Ht[ee[0].toLowerCase()],Ae+ee[0].length):-1},B:function(ve,ke,Ae){var ee=Ct.exec(ke.slice(Ae));return ee?(ve.m=Ut[ee[0].toLowerCase()],Ae+ee[0].length):-1},c:function(ve,ke,Ae){return he(ve,gt,ke,Ae)},d:H,e:H,f:q,H:it,I:it,j:U,L:B,m:z,M:K,p:function(ve,ke,Ae){var ee=ce.exec(ke.slice(Ae));return ee?(ve.p=Me[ee[0].toLowerCase()],Ae+ee[0].length):-1},q:j,Q:ot,s:rt,S:D,u:A,U:L,V:I,w:P,W:x,x:function(ve,ke,Ae){return he(ve,jt,ke,Ae)},X:function(ve,ke,Ae){return he(ve,Xt,ke,Ae)},y:F,Y:C,Z:N,"%":nt};function ue(ve,ke){return function(Ae){var ee,fe,ge,je=[],Ie=-1,Fe=0,ye=ve.length;for(Ae instanceof Date||(Ae=new Date(+Ae));++Ie<ye;)ve.charCodeAt(Ie)===37&&(je.push(ve.slice(Fe,Ie)),(fe=p[ee=ve.charAt(++Ie)])!=null?ee=ve.charAt(++Ie):fe=ee==="e"?" ":"0",(ge=ke[ee])&&(ee=ge(Ae,fe)),je.push(ee),Fe=Ie+1);return je.push(ve.slice(Fe,Ie)),je.join("")}}function Se(ve,ke){return function(Ae){var ee,fe,ge=e(1900,void 0,1);if(he(ge,ve,Ae+="",0)!=Ae.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(1e3*ge.s+("L"in ge?ge.L:0));if(ke&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+12*ge.p),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(fe=(ee=s(e(ge.y,0,1))).getUTCDay(),ee=fe>4||fe===0?f.ot.ceil(ee):(0,f.ot)(ee),ee=y.c.offset(ee,7*(ge.V-1)),ge.y=ee.getUTCFullYear(),ge.m=ee.getUTCMonth(),ge.d=ee.getUTCDate()+(ge.w+6)%7):(fe=(ee=o(e(ge.y,0,1))).getDay(),ee=fe>4||fe===0?i.qT.ceil(ee):(0,i.qT)(ee),ee=a.c.offset(ee,7*(ge.V-1)),ge.y=ee.getFullYear(),ge.m=ee.getMonth(),ge.d=ee.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),fe="Z"in ge?s(e(ge.y,0,1)).getUTCDay():o(e(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+7*ge.W-(fe+5)%7:ge.w+7*ge.U-(fe+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,s(ge)):o(ge)}}function he(ve,ke,Ae,ee){for(var fe,ge,je=0,Ie=ke.length,Fe=Ae.length;je<Ie;){if(ee>=Fe)return-1;if((fe=ke.charCodeAt(je++))===37){if(fe=ke.charAt(je++),!(ge=oe[fe in p?ke.charAt(je++):fe])||(ee=ge(ve,Ae,ee))<0)return-1}else if(fe!=Ae.charCodeAt(ee++))return-1}return ee}return Zt.x=ue(jt,Zt),Zt.X=ue(Xt,Zt),Zt.c=ue(gt,Zt),Kt.x=ue(jt,Kt),Kt.X=ue(Xt,Kt),Kt.c=ue(gt,Kt),{format:function(ve){var ke=ue(ve+="",Zt);return ke.toString=function(){return ve},ke},parse:function(ve){var ke=Se(ve+="",!1);return ke.toString=function(){return ve},ke},utcFormat:function(ve){var ke=ue(ve+="",Kt);return ke.toString=function(){return ve},ke},utcParse:function(ve){var ke=Se(ve+="",!0);return ke.toString=function(){return ve},ke}}}var u,m,_,p={"-":"",_:" ",0:"0"},v=/^\s*\d+/,g=/^%/,b=/[\\^$*+?|[\]().{}]/g;function d(Ot,gt,jt){var Xt=Ot<0?"-":"",xe=(Xt?-Ot:Ot)+"",Vt=xe.length;return Xt+(Vt<jt?new Array(jt-Vt+1).join(gt)+xe:xe)}function T(Ot){return Ot.replace(b,"\\$&")}function w(Ot){return new RegExp("^(?:"+Ot.map(T).join("|")+")","i")}function k(Ot){for(var gt={},jt=-1,Xt=Ot.length;++jt<Xt;)gt[Ot[jt].toLowerCase()]=jt;return gt}function P(Ot,gt,jt){var Xt=v.exec(gt.slice(jt,jt+1));return Xt?(Ot.w=+Xt[0],jt+Xt[0].length):-1}function A(Ot,gt,jt){var Xt=v.exec(gt.slice(jt,jt+1));return Xt?(Ot.u=+Xt[0],jt+Xt[0].length):-1}function L(Ot,gt,jt){var Xt=v.exec(gt.slice(jt,jt+2));return Xt?(Ot.U=+Xt[0],jt+Xt[0].length):-1}function I(Ot,gt,jt){var Xt=v.exec(gt.slice(jt,jt+2));return Xt?(Ot.V=+Xt[0],jt+Xt[0].length):-1}function x(Ot,gt,jt){var Xt=v.exec(gt.slice(jt,jt+2));return Xt?(Ot.W=+Xt[0],jt+Xt[0].length):-1}function C(Ot,gt,jt){var Xt=v.exec(gt.slice(jt,jt+4));return Xt?(Ot.y=+Xt[0],jt+Xt[0].length):-1}function F(Ot,gt,jt){var Xt=v.exec(gt.slice(jt,jt+2));return Xt?(Ot.y=+Xt[0]+(+Xt[0]>68?1900:2e3),jt+Xt[0].length):-1}function N(Ot,gt,jt){var Xt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(gt.slice(jt,jt+6));return Xt?(Ot.Z=Xt[1]?0:-(Xt[2]+(Xt[3]||"00")),jt+Xt[0].length):-1}function j(Ot,gt,jt){var Xt=v.exec(gt.slice(jt,jt+1));return Xt?(Ot.q=3*Xt[0]-3,jt+Xt[0].length):-1}function z(Ot,gt,jt){var Xt=v.exec(gt.slice(jt,jt+2));return Xt?(Ot.m=Xt[0]-1,jt+Xt[0].length):-1}function H(Ot,gt,jt){var Xt=v.exec(gt.slice(jt,jt+2));return Xt?(Ot.d=+Xt[0],jt+Xt[0].length):-1}function U(Ot,gt,jt){var Xt=v.exec(gt.slice(jt,jt+3));return Xt?(Ot.m=0,Ot.d=+Xt[0],jt+Xt[0].length):-1}function it(Ot,gt,jt){var Xt=v.exec(gt.slice(jt,jt+2));return Xt?(Ot.H=+Xt[0],jt+Xt[0].length):-1}function K(Ot,gt,jt){var Xt=v.exec(gt.slice(jt,jt+2));return Xt?(Ot.M=+Xt[0],jt+Xt[0].length):-1}function D(Ot,gt,jt){var Xt=v.exec(gt.slice(jt,jt+2));return Xt?(Ot.S=+Xt[0],jt+Xt[0].length):-1}function B(Ot,gt,jt){var Xt=v.exec(gt.slice(jt,jt+3));return Xt?(Ot.L=+Xt[0],jt+Xt[0].length):-1}function q(Ot,gt,jt){var Xt=v.exec(gt.slice(jt,jt+6));return Xt?(Ot.L=Math.floor(Xt[0]/1e3),jt+Xt[0].length):-1}function nt(Ot,gt,jt){var Xt=g.exec(gt.slice(jt,jt+1));return Xt?jt+Xt[0].length:-1}function ot(Ot,gt,jt){var Xt=v.exec(gt.slice(jt));return Xt?(Ot.Q=+Xt[0],jt+Xt[0].length):-1}function rt(Ot,gt,jt){var Xt=v.exec(gt.slice(jt));return Xt?(Ot.s=+Xt[0],jt+Xt[0].length):-1}function $(Ot,gt){return d(Ot.getDate(),gt,2)}function E(Ot,gt){return d(Ot.getHours(),gt,2)}function S(Ot,gt){return d(Ot.getHours()%12||12,gt,2)}function Y(Ot,gt){return d(1+a.c.count((0,n.c)(Ot),Ot),gt,3)}function Z(Ot,gt){return d(Ot.getMilliseconds(),gt,3)}function G(Ot,gt){return Z(Ot,gt)+"000"}function Q(Ot,gt){return d(Ot.getMonth()+1,gt,2)}function at(Ot,gt){return d(Ot.getMinutes(),gt,2)}function tt(Ot,gt){return d(Ot.getSeconds(),gt,2)}function _t(Ot){var gt=Ot.getDay();return gt===0?7:gt}function Pt(Ot,gt){return d(i.uU.count((0,n.c)(Ot)-1,Ot),gt,2)}function kt(Ot,gt){var jt=Ot.getDay();return Ot=jt>=4||jt===0?(0,i.kD)(Ot):i.kD.ceil(Ot),d(i.kD.count((0,n.c)(Ot),Ot)+((0,n.c)(Ot).getDay()===4),gt,2)}function lt(Ot){return Ot.getDay()}function st(Ot,gt){return d(i.qT.count((0,n.c)(Ot)-1,Ot),gt,2)}function ht(Ot,gt){return d(Ot.getFullYear()%100,gt,2)}function bt(Ot,gt){return d(Ot.getFullYear()%1e4,gt,4)}function pt(Ot){var gt=Ot.getTimezoneOffset();return(gt>0?"-":(gt*=-1,"+"))+d(gt/60|0,"0",2)+d(gt%60,"0",2)}function Dt(Ot,gt){return d(Ot.getUTCDate(),gt,2)}function qt(Ot,gt){return d(Ot.getUTCHours(),gt,2)}function ct(Ot,gt){return d(Ot.getUTCHours()%12||12,gt,2)}function xt(Ot,gt){return d(1+y.c.count((0,r.c)(Ot),Ot),gt,3)}function dt(Ot,gt){return d(Ot.getUTCMilliseconds(),gt,3)}function vt(Ot,gt){return dt(Ot,gt)+"000"}function yt(Ot,gt){return d(Ot.getUTCMonth()+1,gt,2)}function Mt(Ot,gt){return d(Ot.getUTCMinutes(),gt,2)}function Tt(Ot,gt){return d(Ot.getUTCSeconds(),gt,2)}function Lt(Ot){var gt=Ot.getUTCDay();return gt===0?7:gt}function St(Ot,gt){return d(f.EV.count((0,r.c)(Ot)-1,Ot),gt,2)}function At(Ot,gt){var jt=Ot.getUTCDay();return Ot=jt>=4||jt===0?(0,f.yA)(Ot):f.yA.ceil(Ot),d(f.yA.count((0,r.c)(Ot),Ot)+((0,r.c)(Ot).getUTCDay()===4),gt,2)}function Nt(Ot){return Ot.getUTCDay()}function zt(Ot,gt){return d(f.ot.count((0,r.c)(Ot)-1,Ot),gt,2)}function Ft(Ot,gt){return d(Ot.getUTCFullYear()%100,gt,2)}function Gt(Ot,gt){return d(Ot.getUTCFullYear()%1e4,gt,4)}function Bt(){return"+0000"}function de(){return"%"}function ie(Ot){return+Ot}function pe(Ot){return Math.floor(+Ot/1e3)}u=l({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),m=u.format,u.parse,_=u.utcFormat,u.utcParse},8936:function(J,h,t){t.d(h,{m:function(){return a}});var f=t(1628),y=t(9792),i=(0,f.c)(function(n){n.setHours(0,0,0,0)},function(n,r){n.setDate(n.getDate()+r)},function(n,r){return(r-n-(r.getTimezoneOffset()-n.getTimezoneOffset())*y.iy)/y.SK},function(n){return n.getDate()-1});h.c=i;var a=i.range},9792:function(J,h,t){t.d(h,{KK:function(){return n},SK:function(){return a},cg:function(){return i},iy:function(){return y},yc:function(){return f}});var f=1e3,y=6e4,i=36e5,a=864e5,n=6048e5},3220:function(J,h,t){t.r(h),t.d(h,{timeDay:function(){return v.c},timeDays:function(){return v.m},timeFriday:function(){return g.iB},timeFridays:function(){return g.sJ},timeHour:function(){return _},timeHours:function(){return p},timeInterval:function(){return f.c},timeMillisecond:function(){return i},timeMilliseconds:function(){return a},timeMinute:function(){return l},timeMinutes:function(){return u},timeMonday:function(){return g.qT},timeMondays:function(){return g.QP},timeMonth:function(){return d},timeMonths:function(){return T},timeSaturday:function(){return g.Wc},timeSaturdays:function(){return g.aI},timeSecond:function(){return o},timeSeconds:function(){return s},timeSunday:function(){return g.uU},timeSundays:function(){return g.Ab},timeThursday:function(){return g.kD},timeThursdays:function(){return g.eC},timeTuesday:function(){return g.Mf},timeTuesdays:function(){return g.Oc},timeWednesday:function(){return g.eg},timeWednesdays:function(){return g.sn},timeWeek:function(){return g.uU},timeWeeks:function(){return g.Ab},timeYear:function(){return w.c},timeYears:function(){return w.Q},utcDay:function(){return C.c},utcDays:function(){return C.o},utcFriday:function(){return F.od},utcFridays:function(){return F.iG},utcHour:function(){return I},utcHours:function(){return x},utcMillisecond:function(){return i},utcMilliseconds:function(){return a},utcMinute:function(){return P},utcMinutes:function(){return A},utcMonday:function(){return F.ot},utcMondays:function(){return F.iO},utcMonth:function(){return j},utcMonths:function(){return z},utcSaturday:function(){return F.Ad},utcSaturdays:function(){return F.K8},utcSecond:function(){return o},utcSeconds:function(){return s},utcSunday:function(){return F.EV},utcSundays:function(){return F.Wq},utcThursday:function(){return F.yA},utcThursdays:function(){return F.ob},utcTuesday:function(){return F.sG},utcTuesdays:function(){return F.kl},utcWednesday:function(){return F._6},utcWednesdays:function(){return F.W_},utcWeek:function(){return F.EV},utcWeeks:function(){return F.Wq},utcYear:function(){return H.c},utcYears:function(){return H.i}});var f=t(1628),y=(0,f.c)(function(){},function(U,it){U.setTime(+U+it)},function(U,it){return it-U});y.every=function(U){return U=Math.floor(U),isFinite(U)&&U>0?U>1?(0,f.c)(function(it){it.setTime(Math.floor(it/U)*U)},function(it,K){it.setTime(+it+K*U)},function(it,K){return(K-it)/U}):y:null};var i=y,a=y.range,n=t(9792),r=(0,f.c)(function(U){U.setTime(U-U.getMilliseconds())},function(U,it){U.setTime(+U+it*n.yc)},function(U,it){return(it-U)/n.yc},function(U){return U.getUTCSeconds()}),o=r,s=r.range,e=(0,f.c)(function(U){U.setTime(U-U.getMilliseconds()-U.getSeconds()*n.yc)},function(U,it){U.setTime(+U+it*n.iy)},function(U,it){return(it-U)/n.iy},function(U){return U.getMinutes()}),l=e,u=e.range,m=(0,f.c)(function(U){U.setTime(U-U.getMilliseconds()-U.getSeconds()*n.yc-U.getMinutes()*n.iy)},function(U,it){U.setTime(+U+it*n.cg)},function(U,it){return(it-U)/n.cg},function(U){return U.getHours()}),_=m,p=m.range,v=t(8936),g=t(6192),b=(0,f.c)(function(U){U.setDate(1),U.setHours(0,0,0,0)},function(U,it){U.setMonth(U.getMonth()+it)},function(U,it){return it.getMonth()-U.getMonth()+12*(it.getFullYear()-U.getFullYear())},function(U){return U.getMonth()}),d=b,T=b.range,w=t(2171),k=(0,f.c)(function(U){U.setUTCSeconds(0,0)},function(U,it){U.setTime(+U+it*n.iy)},function(U,it){return(it-U)/n.iy},function(U){return U.getUTCMinutes()}),P=k,A=k.range,L=(0,f.c)(function(U){U.setUTCMinutes(0,0,0)},function(U,it){U.setTime(+U+it*n.cg)},function(U,it){return(it-U)/n.cg},function(U){return U.getUTCHours()}),I=L,x=L.range,C=t(8931),F=t(8208),N=(0,f.c)(function(U){U.setUTCDate(1),U.setUTCHours(0,0,0,0)},function(U,it){U.setUTCMonth(U.getUTCMonth()+it)},function(U,it){return it.getUTCMonth()-U.getUTCMonth()+12*(it.getUTCFullYear()-U.getUTCFullYear())},function(U){return U.getUTCMonth()}),j=N,z=N.range,H=t(3528)},1628:function(J,h,t){t.d(h,{c:function(){return i}});var f=new Date,y=new Date;function i(a,n,r,o){function s(e){return a(e=arguments.length===0?new Date:new Date(+e)),e}return s.floor=function(e){return a(e=new Date(+e)),e},s.ceil=function(e){return a(e=new Date(e-1)),n(e,1),a(e),e},s.round=function(e){var l=s(e),u=s.ceil(e);return e-l<u-e?l:u},s.offset=function(e,l){return n(e=new Date(+e),l==null?1:Math.floor(l)),e},s.range=function(e,l,u){var m,_=[];if(e=s.ceil(e),u=u==null?1:Math.floor(u),!(e<l&&u>0))return _;do _.push(m=new Date(+e)),n(e,u),a(e);while(m<e&&e<l);return _},s.filter=function(e){return i(function(l){if(l>=l)for(;a(l),!e(l);)l.setTime(l-1)},function(l,u){if(l>=l)if(u<0)for(;++u<=0;)for(;n(l,-1),!e(l););else for(;--u>=0;)for(;n(l,1),!e(l););})},r&&(s.count=function(e,l){return f.setTime(+e),y.setTime(+l),a(f),a(y),Math.floor(r(f,y))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?s.filter(o?function(l){return o(l)%e==0}:function(l){return s.count(0,l)%e==0}):s:null}),s}},8931:function(J,h,t){t.d(h,{o:function(){return a}});var f=t(1628),y=t(9792),i=(0,f.c)(function(n){n.setUTCHours(0,0,0,0)},function(n,r){n.setUTCDate(n.getUTCDate()+r)},function(n,r){return(r-n)/y.SK},function(n){return n.getUTCDate()-1});h.c=i;var a=i.range},8208:function(J,h,t){t.d(h,{Ad:function(){return l},EV:function(){return a},K8:function(){return b},W_:function(){return p},Wq:function(){return u},_6:function(){return o},iG:function(){return g},iO:function(){return m},kl:function(){return _},ob:function(){return v},od:function(){return e},ot:function(){return n},sG:function(){return r},yA:function(){return s}});var f=t(1628),y=t(9792);function i(d){return(0,f.c)(function(T){T.setUTCDate(T.getUTCDate()-(T.getUTCDay()+7-d)%7),T.setUTCHours(0,0,0,0)},function(T,w){T.setUTCDate(T.getUTCDate()+7*w)},function(T,w){return(w-T)/y.KK})}var a=i(0),n=i(1),r=i(2),o=i(3),s=i(4),e=i(5),l=i(6),u=a.range,m=n.range,_=r.range,p=o.range,v=s.range,g=e.range,b=l.range},3528:function(J,h,t){t.d(h,{i:function(){return i}});var f=t(1628),y=(0,f.c)(function(a){a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0)},function(a,n){a.setUTCFullYear(a.getUTCFullYear()+n)},function(a,n){return n.getUTCFullYear()-a.getUTCFullYear()},function(a){return a.getUTCFullYear()});y.every=function(a){return isFinite(a=Math.floor(a))&&a>0?(0,f.c)(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/a)*a),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,r){n.setUTCFullYear(n.getUTCFullYear()+r*a)}):null},h.c=y;var i=y.range},6192:function(J,h,t){t.d(h,{Ab:function(){return u},Mf:function(){return r},Oc:function(){return _},QP:function(){return m},Wc:function(){return l},aI:function(){return b},eC:function(){return v},eg:function(){return o},iB:function(){return e},kD:function(){return s},qT:function(){return n},sJ:function(){return g},sn:function(){return p},uU:function(){return a}});var f=t(1628),y=t(9792);function i(d){return(0,f.c)(function(T){T.setDate(T.getDate()-(T.getDay()+7-d)%7),T.setHours(0,0,0,0)},function(T,w){T.setDate(T.getDate()+7*w)},function(T,w){return(w-T-(w.getTimezoneOffset()-T.getTimezoneOffset())*y.iy)/y.KK})}var a=i(0),n=i(1),r=i(2),o=i(3),s=i(4),e=i(5),l=i(6),u=a.range,m=n.range,_=r.range,p=o.range,v=s.range,g=e.range,b=l.range},2171:function(J,h,t){t.d(h,{Q:function(){return i}});var f=t(1628),y=(0,f.c)(function(a){a.setMonth(0,1),a.setHours(0,0,0,0)},function(a,n){a.setFullYear(a.getFullYear()+n)},function(a,n){return n.getFullYear()-a.getFullYear()},function(a){return a.getFullYear()});y.every=function(a){return isFinite(a=Math.floor(a))&&a>0?(0,f.c)(function(n){n.setFullYear(Math.floor(n.getFullYear()/a)*a),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,r){n.setFullYear(n.getFullYear()+r*a)}):null},h.c=y;var i=y.range},1252:function(J){var h,t=typeof Reflect=="object"?Reflect:null,f=t&&typeof t.apply=="function"?t.apply:function(p,v,g){return Function.prototype.apply.call(p,v,g)};h=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:function(p){return Object.getOwnPropertyNames(p)};var y=Number.isNaN||function(p){return p!=p};function i(){i.init.call(this)}J.exports=i,J.exports.once=function(p,v){return new Promise(function(g,b){function d(w){p.removeListener(v,T),b(w)}function T(){typeof p.removeListener=="function"&&p.removeListener("error",d),g([].slice.call(arguments))}_(p,v,T,{once:!0}),v!=="error"&&function(w,k,P){typeof w.on=="function"&&_(w,"error",k,{once:!0})}(p,d)})},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function n(p){if(typeof p!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof p)}function r(p){return p._maxListeners===void 0?i.defaultMaxListeners:p._maxListeners}function o(p,v,g,b){var d,T,w,k;if(n(g),(T=p._events)===void 0?(T=p._events=Object.create(null),p._eventsCount=0):(T.newListener!==void 0&&(p.emit("newListener",v,g.listener?g.listener:g),T=p._events),w=T[v]),w===void 0)w=T[v]=g,++p._eventsCount;else if(typeof w=="function"?w=T[v]=b?[g,w]:[w,g]:b?w.unshift(g):w.push(g),(d=r(p))>0&&w.length>d&&!w.warned){w.warned=!0;var P=new Error("Possible EventEmitter memory leak detected. "+w.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");P.name="MaxListenersExceededWarning",P.emitter=p,P.type=v,P.count=w.length,k=P,console&&console.warn&&console.warn(k)}return p}function s(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function e(p,v,g){var b={fired:!1,wrapFn:void 0,target:p,type:v,listener:g},d=s.bind(b);return d.listener=g,b.wrapFn=d,d}function l(p,v,g){var b=p._events;if(b===void 0)return[];var d=b[v];return d===void 0?[]:typeof d=="function"?g?[d.listener||d]:[d]:g?function(T){for(var w=new Array(T.length),k=0;k<w.length;++k)w[k]=T[k].listener||T[k];return w}(d):m(d,d.length)}function u(p){var v=this._events;if(v!==void 0){var g=v[p];if(typeof g=="function")return 1;if(g!==void 0)return g.length}return 0}function m(p,v){for(var g=new Array(v),b=0;b<v;++b)g[b]=p[b];return g}function _(p,v,g,b){if(typeof p.on=="function")b.once?p.once(v,g):p.on(v,g);else{if(typeof p.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof p);p.addEventListener(v,function d(T){b.once&&p.removeEventListener(v,d),g(T)})}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(p){if(typeof p!="number"||p<0||y(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+p+".");a=p}}),i.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(p){if(typeof p!="number"||p<0||y(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this},i.prototype.getMaxListeners=function(){return r(this)},i.prototype.emit=function(p){for(var v=[],g=1;g<arguments.length;g++)v.push(arguments[g]);var b=p==="error",d=this._events;if(d!==void 0)b=b&&d.error===void 0;else if(!b)return!1;if(b){var T;if(v.length>0&&(T=v[0]),T instanceof Error)throw T;var w=new Error("Unhandled error."+(T?" ("+T.message+")":""));throw w.context=T,w}var k=d[p];if(k===void 0)return!1;if(typeof k=="function")f(k,this,v);else{var P=k.length,A=m(k,P);for(g=0;g<P;++g)f(A[g],this,v)}return!0},i.prototype.addListener=function(p,v){return o(this,p,v,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(p,v){return o(this,p,v,!0)},i.prototype.once=function(p,v){return n(v),this.on(p,e(this,p,v)),this},i.prototype.prependOnceListener=function(p,v){return n(v),this.prependListener(p,e(this,p,v)),this},i.prototype.removeListener=function(p,v){var g,b,d,T,w;if(n(v),(b=this._events)===void 0)return this;if((g=b[p])===void 0)return this;if(g===v||g.listener===v)--this._eventsCount==0?this._events=Object.create(null):(delete b[p],b.removeListener&&this.emit("removeListener",p,g.listener||v));else if(typeof g!="function"){for(d=-1,T=g.length-1;T>=0;T--)if(g[T]===v||g[T].listener===v){w=g[T].listener,d=T;break}if(d<0)return this;d===0?g.shift():function(k,P){for(;P+1<k.length;P++)k[P]=k[P+1];k.pop()}(g,d),g.length===1&&(b[p]=g[0]),b.removeListener!==void 0&&this.emit("removeListener",p,w||v)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(p){var v,g,b;if((g=this._events)===void 0)return this;if(g.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):g[p]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete g[p]),this;if(arguments.length===0){var d,T=Object.keys(g);for(b=0;b<T.length;++b)(d=T[b])!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(v=g[p])=="function")this.removeListener(p,v);else if(v!==void 0)for(b=v.length-1;b>=0;b--)this.removeListener(p,v[b]);return this},i.prototype.listeners=function(p){return l(this,p,!0)},i.prototype.rawListeners=function(p){return l(this,p,!1)},i.listenerCount=function(p,v){return typeof p.listenerCount=="function"?p.listenerCount(v):u.call(p,v)},i.prototype.listenerCount=u,i.prototype.eventNames=function(){return this._eventsCount>0?h(this._events):[]}},8248:function(J,h,t){var f=t(4576);J.exports=function(y){var i=typeof y;if(i==="string"){var a=y;if((y=+y)==0&&f(a))return!1}else if(i!=="number")return!1;return y-y<1}},2408:function(J){J.exports=function(h,t){var f=t[0],y=t[1],i=t[2],a=t[3],n=t[4],r=t[5],o=t[6],s=t[7],e=t[8],l=t[9],u=t[10],m=t[11],_=t[12],p=t[13],v=t[14],g=t[15];return h[0]=r*(u*g-m*v)-l*(o*g-s*v)+p*(o*m-s*u),h[1]=-(y*(u*g-m*v)-l*(i*g-a*v)+p*(i*m-a*u)),h[2]=y*(o*g-s*v)-r*(i*g-a*v)+p*(i*s-a*o),h[3]=-(y*(o*m-s*u)-r*(i*m-a*u)+l*(i*s-a*o)),h[4]=-(n*(u*g-m*v)-e*(o*g-s*v)+_*(o*m-s*u)),h[5]=f*(u*g-m*v)-e*(i*g-a*v)+_*(i*m-a*u),h[6]=-(f*(o*g-s*v)-n*(i*g-a*v)+_*(i*s-a*o)),h[7]=f*(o*m-s*u)-n*(i*m-a*u)+e*(i*s-a*o),h[8]=n*(l*g-m*p)-e*(r*g-s*p)+_*(r*m-s*l),h[9]=-(f*(l*g-m*p)-e*(y*g-a*p)+_*(y*m-a*l)),h[10]=f*(r*g-s*p)-n*(y*g-a*p)+_*(y*s-a*r),h[11]=-(f*(r*m-s*l)-n*(y*m-a*l)+e*(y*s-a*r)),h[12]=-(n*(l*v-u*p)-e*(r*v-o*p)+_*(r*u-o*l)),h[13]=f*(l*v-u*p)-e*(y*v-i*p)+_*(y*u-i*l),h[14]=-(f*(r*v-o*p)-n*(y*v-i*p)+_*(y*o-i*r)),h[15]=f*(r*u-o*l)-n*(y*u-i*l)+e*(y*o-i*r),h}},6860:function(J){J.exports=function(h){var t=new Float32Array(16);return t[0]=h[0],t[1]=h[1],t[2]=h[2],t[3]=h[3],t[4]=h[4],t[5]=h[5],t[6]=h[6],t[7]=h[7],t[8]=h[8],t[9]=h[9],t[10]=h[10],t[11]=h[11],t[12]=h[12],t[13]=h[13],t[14]=h[14],t[15]=h[15],t}},4492:function(J){J.exports=function(h,t){return h[0]=t[0],h[1]=t[1],h[2]=t[2],h[3]=t[3],h[4]=t[4],h[5]=t[5],h[6]=t[6],h[7]=t[7],h[8]=t[8],h[9]=t[9],h[10]=t[10],h[11]=t[11],h[12]=t[12],h[13]=t[13],h[14]=t[14],h[15]=t[15],h}},4212:function(J){J.exports=function(){var h=new Float32Array(16);return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}},800:function(J){J.exports=function(h){var t=h[0],f=h[1],y=h[2],i=h[3],a=h[4],n=h[5],r=h[6],o=h[7],s=h[8],e=h[9],l=h[10],u=h[11],m=h[12],_=h[13],p=h[14],v=h[15];return(t*n-f*a)*(l*v-u*p)-(t*r-y*a)*(e*v-u*_)+(t*o-i*a)*(e*p-l*_)+(f*r-y*n)*(s*v-u*m)-(f*o-i*n)*(s*p-l*m)+(y*o-i*r)*(s*_-e*m)}},1784:function(J){J.exports=function(h,t){var f=t[0],y=t[1],i=t[2],a=t[3],n=f+f,r=y+y,o=i+i,s=f*n,e=y*n,l=y*r,u=i*n,m=i*r,_=i*o,p=a*n,v=a*r,g=a*o;return h[0]=1-l-_,h[1]=e+g,h[2]=u-v,h[3]=0,h[4]=e-g,h[5]=1-s-_,h[6]=m+p,h[7]=0,h[8]=u+v,h[9]=m-p,h[10]=1-s-l,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}},1616:function(J){J.exports=function(h,t,f){var y,i,a,n=f[0],r=f[1],o=f[2],s=Math.sqrt(n*n+r*r+o*o);return Math.abs(s)<1e-6?null:(n*=s=1/s,r*=s,o*=s,y=Math.sin(t),a=1-(i=Math.cos(t)),h[0]=n*n*a+i,h[1]=r*n*a+o*y,h[2]=o*n*a-r*y,h[3]=0,h[4]=n*r*a-o*y,h[5]=r*r*a+i,h[6]=o*r*a+n*y,h[7]=0,h[8]=n*o*a+r*y,h[9]=r*o*a-n*y,h[10]=o*o*a+i,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h)}},1944:function(J){J.exports=function(h,t,f){var y=t[0],i=t[1],a=t[2],n=t[3],r=y+y,o=i+i,s=a+a,e=y*r,l=y*o,u=y*s,m=i*o,_=i*s,p=a*s,v=n*r,g=n*o,b=n*s;return h[0]=1-(m+p),h[1]=l+b,h[2]=u-g,h[3]=0,h[4]=l-b,h[5]=1-(e+p),h[6]=_+v,h[7]=0,h[8]=u+g,h[9]=_-v,h[10]=1-(e+m),h[11]=0,h[12]=f[0],h[13]=f[1],h[14]=f[2],h[15]=1,h}},9444:function(J){J.exports=function(h,t){return h[0]=t[0],h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=t[1],h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=t[2],h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}},8268:function(J){J.exports=function(h,t){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=t[0],h[13]=t[1],h[14]=t[2],h[15]=1,h}},1856:function(J){J.exports=function(h,t){var f=Math.sin(t),y=Math.cos(t);return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=y,h[6]=f,h[7]=0,h[8]=0,h[9]=-f,h[10]=y,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}},9216:function(J){J.exports=function(h,t){var f=Math.sin(t),y=Math.cos(t);return h[0]=y,h[1]=0,h[2]=-f,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=f,h[9]=0,h[10]=y,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}},7736:function(J){J.exports=function(h,t){var f=Math.sin(t),y=Math.cos(t);return h[0]=y,h[1]=f,h[2]=0,h[3]=0,h[4]=-f,h[5]=y,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}},8848:function(J){J.exports=function(h,t,f,y,i,a,n){var r=1/(f-t),o=1/(i-y),s=1/(a-n);return h[0]=2*a*r,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=2*a*o,h[6]=0,h[7]=0,h[8]=(f+t)*r,h[9]=(i+y)*o,h[10]=(n+a)*s,h[11]=-1,h[12]=0,h[13]=0,h[14]=n*a*2*s,h[15]=0,h}},6635:function(J){J.exports=function(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=1,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=1,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,h}},6524:function(J,h,t){J.exports={create:t(4212),clone:t(6860),copy:t(4492),identity:t(6635),transpose:t(6520),invert:t(4308),adjoint:t(2408),determinant:t(800),multiply:t(944),translate:t(5176),scale:t(8152),rotate:t(16),rotateX:t(5456),rotateY:t(4840),rotateZ:t(4192),fromRotation:t(1616),fromRotationTranslation:t(1944),fromScaling:t(9444),fromTranslation:t(8268),fromXRotation:t(1856),fromYRotation:t(9216),fromZRotation:t(7736),fromQuat:t(1784),frustum:t(8848),perspective:t(1296),perspectiveFromFieldOfView:t(3688),ortho:t(7688),lookAt:t(6508),str:t(9412)}},4308:function(J){J.exports=function(h,t){var f=t[0],y=t[1],i=t[2],a=t[3],n=t[4],r=t[5],o=t[6],s=t[7],e=t[8],l=t[9],u=t[10],m=t[11],_=t[12],p=t[13],v=t[14],g=t[15],b=f*r-y*n,d=f*o-i*n,T=f*s-a*n,w=y*o-i*r,k=y*s-a*r,P=i*s-a*o,A=e*p-l*_,L=e*v-u*_,I=e*g-m*_,x=l*v-u*p,C=l*g-m*p,F=u*g-m*v,N=b*F-d*C+T*x+w*I-k*L+P*A;return N?(N=1/N,h[0]=(r*F-o*C+s*x)*N,h[1]=(i*C-y*F-a*x)*N,h[2]=(p*P-v*k+g*w)*N,h[3]=(u*k-l*P-m*w)*N,h[4]=(o*I-n*F-s*L)*N,h[5]=(f*F-i*I+a*L)*N,h[6]=(v*T-_*P-g*d)*N,h[7]=(e*P-u*T+m*d)*N,h[8]=(n*C-r*I+s*A)*N,h[9]=(y*I-f*C-a*A)*N,h[10]=(_*k-p*T+g*b)*N,h[11]=(l*T-e*k-m*b)*N,h[12]=(r*L-n*x-o*A)*N,h[13]=(f*x-y*L+i*A)*N,h[14]=(p*d-_*w-v*b)*N,h[15]=(e*w-l*d+u*b)*N,h):null}},6508:function(J,h,t){var f=t(6635);J.exports=function(y,i,a,n){var r,o,s,e,l,u,m,_,p,v,g=i[0],b=i[1],d=i[2],T=n[0],w=n[1],k=n[2],P=a[0],A=a[1],L=a[2];return Math.abs(g-P)<1e-6&&Math.abs(b-A)<1e-6&&Math.abs(d-L)<1e-6?f(y):(m=g-P,_=b-A,p=d-L,r=w*(p*=v=1/Math.sqrt(m*m+_*_+p*p))-k*(_*=v),o=k*(m*=v)-T*p,s=T*_-w*m,(v=Math.sqrt(r*r+o*o+s*s))?(r*=v=1/v,o*=v,s*=v):(r=0,o=0,s=0),e=_*s-p*o,l=p*r-m*s,u=m*o-_*r,(v=Math.sqrt(e*e+l*l+u*u))?(e*=v=1/v,l*=v,u*=v):(e=0,l=0,u=0),y[0]=r,y[1]=e,y[2]=m,y[3]=0,y[4]=o,y[5]=l,y[6]=_,y[7]=0,y[8]=s,y[9]=u,y[10]=p,y[11]=0,y[12]=-(r*g+o*b+s*d),y[13]=-(e*g+l*b+u*d),y[14]=-(m*g+_*b+p*d),y[15]=1,y)}},944:function(J){J.exports=function(h,t,f){var y=t[0],i=t[1],a=t[2],n=t[3],r=t[4],o=t[5],s=t[6],e=t[7],l=t[8],u=t[9],m=t[10],_=t[11],p=t[12],v=t[13],g=t[14],b=t[15],d=f[0],T=f[1],w=f[2],k=f[3];return h[0]=d*y+T*r+w*l+k*p,h[1]=d*i+T*o+w*u+k*v,h[2]=d*a+T*s+w*m+k*g,h[3]=d*n+T*e+w*_+k*b,d=f[4],T=f[5],w=f[6],k=f[7],h[4]=d*y+T*r+w*l+k*p,h[5]=d*i+T*o+w*u+k*v,h[6]=d*a+T*s+w*m+k*g,h[7]=d*n+T*e+w*_+k*b,d=f[8],T=f[9],w=f[10],k=f[11],h[8]=d*y+T*r+w*l+k*p,h[9]=d*i+T*o+w*u+k*v,h[10]=d*a+T*s+w*m+k*g,h[11]=d*n+T*e+w*_+k*b,d=f[12],T=f[13],w=f[14],k=f[15],h[12]=d*y+T*r+w*l+k*p,h[13]=d*i+T*o+w*u+k*v,h[14]=d*a+T*s+w*m+k*g,h[15]=d*n+T*e+w*_+k*b,h}},7688:function(J){J.exports=function(h,t,f,y,i,a,n){var r=1/(t-f),o=1/(y-i),s=1/(a-n);return h[0]=-2*r,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=-2*o,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=2*s,h[11]=0,h[12]=(t+f)*r,h[13]=(i+y)*o,h[14]=(n+a)*s,h[15]=1,h}},1296:function(J){J.exports=function(h,t,f,y,i){var a=1/Math.tan(t/2),n=1/(y-i);return h[0]=a/f,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=a,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=(i+y)*n,h[11]=-1,h[12]=0,h[13]=0,h[14]=2*i*y*n,h[15]=0,h}},3688:function(J){J.exports=function(h,t,f,y){var i=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),n=Math.tan(t.leftDegrees*Math.PI/180),r=Math.tan(t.rightDegrees*Math.PI/180),o=2/(n+r),s=2/(i+a);return h[0]=o,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=s,h[6]=0,h[7]=0,h[8]=-(n-r)*o*.5,h[9]=(i-a)*s*.5,h[10]=y/(f-y),h[11]=-1,h[12]=0,h[13]=0,h[14]=y*f/(f-y),h[15]=0,h}},16:function(J){J.exports=function(h,t,f,y){var i,a,n,r,o,s,e,l,u,m,_,p,v,g,b,d,T,w,k,P,A,L,I,x,C=y[0],F=y[1],N=y[2],j=Math.sqrt(C*C+F*F+N*N);return Math.abs(j)<1e-6?null:(C*=j=1/j,F*=j,N*=j,i=Math.sin(f),n=1-(a=Math.cos(f)),r=t[0],o=t[1],s=t[2],e=t[3],l=t[4],u=t[5],m=t[6],_=t[7],p=t[8],v=t[9],g=t[10],b=t[11],d=C*C*n+a,T=F*C*n+N*i,w=N*C*n-F*i,k=C*F*n-N*i,P=F*F*n+a,A=N*F*n+C*i,L=C*N*n+F*i,I=F*N*n-C*i,x=N*N*n+a,h[0]=r*d+l*T+p*w,h[1]=o*d+u*T+v*w,h[2]=s*d+m*T+g*w,h[3]=e*d+_*T+b*w,h[4]=r*k+l*P+p*A,h[5]=o*k+u*P+v*A,h[6]=s*k+m*P+g*A,h[7]=e*k+_*P+b*A,h[8]=r*L+l*I+p*x,h[9]=o*L+u*I+v*x,h[10]=s*L+m*I+g*x,h[11]=e*L+_*I+b*x,t!==h&&(h[12]=t[12],h[13]=t[13],h[14]=t[14],h[15]=t[15]),h)}},5456:function(J){J.exports=function(h,t,f){var y=Math.sin(f),i=Math.cos(f),a=t[4],n=t[5],r=t[6],o=t[7],s=t[8],e=t[9],l=t[10],u=t[11];return t!==h&&(h[0]=t[0],h[1]=t[1],h[2]=t[2],h[3]=t[3],h[12]=t[12],h[13]=t[13],h[14]=t[14],h[15]=t[15]),h[4]=a*i+s*y,h[5]=n*i+e*y,h[6]=r*i+l*y,h[7]=o*i+u*y,h[8]=s*i-a*y,h[9]=e*i-n*y,h[10]=l*i-r*y,h[11]=u*i-o*y,h}},4840:function(J){J.exports=function(h,t,f){var y=Math.sin(f),i=Math.cos(f),a=t[0],n=t[1],r=t[2],o=t[3],s=t[8],e=t[9],l=t[10],u=t[11];return t!==h&&(h[4]=t[4],h[5]=t[5],h[6]=t[6],h[7]=t[7],h[12]=t[12],h[13]=t[13],h[14]=t[14],h[15]=t[15]),h[0]=a*i-s*y,h[1]=n*i-e*y,h[2]=r*i-l*y,h[3]=o*i-u*y,h[8]=a*y+s*i,h[9]=n*y+e*i,h[10]=r*y+l*i,h[11]=o*y+u*i,h}},4192:function(J){J.exports=function(h,t,f){var y=Math.sin(f),i=Math.cos(f),a=t[0],n=t[1],r=t[2],o=t[3],s=t[4],e=t[5],l=t[6],u=t[7];return t!==h&&(h[8]=t[8],h[9]=t[9],h[10]=t[10],h[11]=t[11],h[12]=t[12],h[13]=t[13],h[14]=t[14],h[15]=t[15]),h[0]=a*i+s*y,h[1]=n*i+e*y,h[2]=r*i+l*y,h[3]=o*i+u*y,h[4]=s*i-a*y,h[5]=e*i-n*y,h[6]=l*i-r*y,h[7]=u*i-o*y,h}},8152:function(J){J.exports=function(h,t,f){var y=f[0],i=f[1],a=f[2];return h[0]=t[0]*y,h[1]=t[1]*y,h[2]=t[2]*y,h[3]=t[3]*y,h[4]=t[4]*i,h[5]=t[5]*i,h[6]=t[6]*i,h[7]=t[7]*i,h[8]=t[8]*a,h[9]=t[9]*a,h[10]=t[10]*a,h[11]=t[11]*a,h[12]=t[12],h[13]=t[13],h[14]=t[14],h[15]=t[15],h}},9412:function(J){J.exports=function(h){return"mat4("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+", "+h[9]+", "+h[10]+", "+h[11]+", "+h[12]+", "+h[13]+", "+h[14]+", "+h[15]+")"}},5176:function(J){J.exports=function(h,t,f){var y,i,a,n,r,o,s,e,l,u,m,_,p=f[0],v=f[1],g=f[2];return t===h?(h[12]=t[0]*p+t[4]*v+t[8]*g+t[12],h[13]=t[1]*p+t[5]*v+t[9]*g+t[13],h[14]=t[2]*p+t[6]*v+t[10]*g+t[14],h[15]=t[3]*p+t[7]*v+t[11]*g+t[15]):(y=t[0],i=t[1],a=t[2],n=t[3],r=t[4],o=t[5],s=t[6],e=t[7],l=t[8],u=t[9],m=t[10],_=t[11],h[0]=y,h[1]=i,h[2]=a,h[3]=n,h[4]=r,h[5]=o,h[6]=s,h[7]=e,h[8]=l,h[9]=u,h[10]=m,h[11]=_,h[12]=y*p+r*v+l*g+t[12],h[13]=i*p+o*v+u*g+t[13],h[14]=a*p+s*v+m*g+t[14],h[15]=n*p+e*v+_*g+t[15]),h}},6520:function(J){J.exports=function(h,t){if(h===t){var f=t[1],y=t[2],i=t[3],a=t[6],n=t[7],r=t[11];h[1]=t[4],h[2]=t[8],h[3]=t[12],h[4]=f,h[6]=t[9],h[7]=t[13],h[8]=y,h[9]=a,h[11]=t[14],h[12]=i,h[13]=n,h[14]=r}else h[0]=t[0],h[1]=t[4],h[2]=t[8],h[3]=t[12],h[4]=t[1],h[5]=t[5],h[6]=t[9],h[7]=t[13],h[8]=t[2],h[9]=t[6],h[10]=t[10],h[11]=t[14],h[12]=t[3],h[13]=t[7],h[14]=t[11],h[15]=t[15];return h}},2264:function(J,h,t){var f,y=t(1820);f=typeof t.g.matchMedia=="function"?!t.g.matchMedia("(hover: none)").matches:y,J.exports=f},9184:function(J,h,t){var f=t(1820);J.exports=f&&function(){var y=!1;try{var i=Object.defineProperty({},"passive",{get:function(){y=!0}});window.addEventListener("test",null,i),window.removeEventListener("test",null,i)}catch{y=!1}return y}()},1820:function(J){J.exports=!0},4576:function(J){J.exports=function(h){for(var t,f=h.length,y=0;y<f;y++)if(((t=h.charCodeAt(y))<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},9128:function(J){var h={left:0,top:0};J.exports=function(t,f,y){f=f||t.currentTarget||t.srcElement,Array.isArray(y)||(y=[0,0]);var i,a=t.clientX||0,n=t.clientY||0,r=(i=f)===window||i===document||i===document.body?h:i.getBoundingClientRect();return y[0]=a-r.left,y[1]=n-r.top,y}},8324:function(J,h,t){var f,y,i,a;y="Promise",a=function(){var n,r,o,s=Object.prototype.toString,e=typeof setImmediate<"u"?function(k){return setImmediate(k)}:setTimeout;try{Object.defineProperty({},"x",{}),n=function(k,P,A,L){return Object.defineProperty(k,P,{value:A,writable:!0,configurable:L!==!1})}}catch{n=function(P,A,L){return P[A]=L,P}}function l(k,P){o.add(k,P),r||(r=e(o.drain))}function u(k){var P,A=typeof k;return k==null||A!="object"&&A!="function"||(P=k.then),typeof P=="function"&&P}function m(){for(var k=0;k<this.chain.length;k++)_(this,this.state===1?this.chain[k].success:this.chain[k].failure,this.chain[k]);this.chain.length=0}function _(k,P,A){var L,I;try{P===!1?A.reject(k.msg):(L=P===!0?k.msg:P.call(void 0,k.msg))===A.promise?A.reject(TypeError("Promise-chain cycle")):(I=u(L))?I.call(L,A.resolve,A.reject):A.resolve(L)}catch(x){A.reject(x)}}function p(k){var P,A=this;if(!A.triggered){A.triggered=!0,A.def&&(A=A.def);try{(P=u(k))?l(function(){var L=new b(A);try{P.call(k,function(){p.apply(L,arguments)},function(){v.apply(L,arguments)})}catch(I){v.call(L,I)}}):(A.msg=k,A.state=1,A.chain.length>0&&l(m,A))}catch(L){v.call(new b(A),L)}}}function v(k){var P=this;P.triggered||(P.triggered=!0,P.def&&(P=P.def),P.msg=k,P.state=2,P.chain.length>0&&l(m,P))}function g(k,P,A,L){for(var I=0;I<P.length;I++)(function(x){k.resolve(P[x]).then(function(C){A(x,C)},L)})(I)}function b(k){this.def=k,this.triggered=!1}function d(k){this.promise=k,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function T(k){if(typeof k!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var P=new d(this);this.then=function(A,L){var I={success:typeof A!="function"||A,failure:typeof L=="function"&&L};return I.promise=new this.constructor(function(x,C){if(typeof x!="function"||typeof C!="function")throw TypeError("Not a function");I.resolve=x,I.reject=C}),P.chain.push(I),P.state!==0&&l(m,P),I.promise},this.catch=function(A){return this.then(void 0,A)};try{k.call(void 0,function(A){p.call(P,A)},function(A){v.call(P,A)})}catch(A){v.call(P,A)}}o=function(){var k,P,A;function L(I,x){this.fn=I,this.self=x,this.next=void 0}return{add:function(I,x){A=new L(I,x),P?P.next=A:k=A,P=A,A=void 0},drain:function(){var I=k;for(k=P=r=void 0;I;)I.fn.call(I.self),I=I.next}}}();var w=n({},"constructor",T,!1);return T.prototype=w,n(w,"__NPO__",0,!1),n(T,"resolve",function(k){return k&&typeof k=="object"&&k.__NPO__===1?k:new this(function(P,A){if(typeof P!="function"||typeof A!="function")throw TypeError("Not a function");P(k)})}),n(T,"reject",function(k){return new this(function(P,A){if(typeof P!="function"||typeof A!="function")throw TypeError("Not a function");A(k)})}),n(T,"all",function(k){var P=this;return s.call(k)!="[object Array]"?P.reject(TypeError("Not an array")):k.length===0?P.resolve([]):new P(function(A,L){if(typeof A!="function"||typeof L!="function")throw TypeError("Not a function");var I=k.length,x=Array(I),C=0;g(P,k,function(F,N){x[F]=N,++C===I&&A(x)},L)})}),n(T,"race",function(k){var P=this;return s.call(k)!="[object Array]"?P.reject(TypeError("Not an array")):new P(function(A,L){if(typeof A!="function"||typeof L!="function")throw TypeError("Not a function");g(P,k,function(I,x){A(x)},L)})}),T},(i=t.g!==void 0?t.g:this)[y]=i[y]||a(),J.exports?J.exports=i[y]:(f=function(){return i[y]}.call(h,t,h,J))===void 0||(J.exports=f)},896:function(J){var h=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;J.exports=function(){try{if(!Object.assign)return!1;var y=new String("abc");if(y[5]="de",Object.getOwnPropertyNames(y)[0]==="5")return!1;for(var i={},a=0;a<10;a++)i["_"+String.fromCharCode(a)]=a;if(Object.getOwnPropertyNames(i).map(function(r){return i[r]}).join("")!=="0123456789")return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(r){n[r]=r}),Object.keys(Object.assign({},n)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(y,i){for(var a,n,r=function(l){if(l==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(l)}(y),o=1;o<arguments.length;o++){for(var s in a=Object(arguments[o]))t.call(a,s)&&(r[s]=a[s]);if(h){n=h(a);for(var e=0;e<n.length;e++)f.call(a,n[e])&&(r[n[e]]=a[n[e]])}}return r}},9604:function(J){J.exports=function(y){var i=[];return y.replace(t,function(a,n,r){var o=n.toLowerCase();for(r=function(s){var e=s.match(f);return e?e.map(Number):[]}(r),o=="m"&&r.length>2&&(i.push([n].concat(r.splice(0,2))),o="l",n=n=="m"?"l":"L");;){if(r.length==h[o])return r.unshift(n),i.push(r);if(r.length<h[o])throw new Error("malformed path data");i.push([n].concat(r.splice(0,h[o])))}}),i};var h={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/gi,f=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},1456:function(J){J.exports=function(h,t,f,y){var i=h[0],a=h[1],n=!1;f===void 0&&(f=0),y===void 0&&(y=t.length);for(var r=y-f,o=0,s=r-1;o<r;s=o++){var e=t[o+f][0],l=t[o+f][1],u=t[s+f][0],m=t[s+f][1];l>a!=m>a&&i<(u-e)*(a-l)/(m-l)+e&&(n=!n)}return n}},4756:function(J,h,t){var f,y=t(2928),i=t(8648),a=t(9819),n=t(1403),r=t(2368),o=t(7792),s=!1,e=i();function l(u,m,_){var p=f.segments(u),v=f.segments(m),g=_(f.combine(p,v));return f.polygon(g)}f={buildLog:function(u){return u===!0?s=y():u===!1&&(s=!1),s!==!1&&s.list},epsilon:function(u){return e.epsilon(u)},segments:function(u){var m=a(!0,e,s);return u.regions.forEach(m.addRegion),{segments:m.calculate(u.inverted),inverted:u.inverted}},combine:function(u,m){return{combined:a(!1,e,s).calculate(u.segments,u.inverted,m.segments,m.inverted),inverted1:u.inverted,inverted2:m.inverted}},selectUnion:function(u){return{segments:r.union(u.combined,s),inverted:u.inverted1||u.inverted2}},selectIntersect:function(u){return{segments:r.intersect(u.combined,s),inverted:u.inverted1&&u.inverted2}},selectDifference:function(u){return{segments:r.difference(u.combined,s),inverted:u.inverted1&&!u.inverted2}},selectDifferenceRev:function(u){return{segments:r.differenceRev(u.combined,s),inverted:!u.inverted1&&u.inverted2}},selectXor:function(u){return{segments:r.xor(u.combined,s),inverted:u.inverted1!==u.inverted2}},polygon:function(u){return{regions:n(u.segments,e,s),inverted:u.inverted}},polygonFromGeoJSON:function(u){return o.toPolygon(f,u)},polygonToGeoJSON:function(u){return o.fromPolygon(f,e,u)},union:function(u,m){return l(u,m,f.selectUnion)},intersect:function(u,m){return l(u,m,f.selectIntersect)},difference:function(u,m){return l(u,m,f.selectDifference)},differenceRev:function(u,m){return l(u,m,f.selectDifferenceRev)},xor:function(u,m){return l(u,m,f.selectXor)}},typeof window=="object"&&(window.PolyBool=f),J.exports=f},2928:function(J){J.exports=function(){var h,t=0,f=!1;function y(i,a){return h.list.push({type:i,data:a?JSON.parse(JSON.stringify(a)):void 0}),h}return h={list:[],segmentId:function(){return t++},checkIntersection:function(i,a){return y("check",{seg1:i,seg2:a})},segmentChop:function(i,a){return y("div_seg",{seg:i,pt:a}),y("chop",{seg:i,pt:a})},statusRemove:function(i){return y("pop_seg",{seg:i})},segmentUpdate:function(i){return y("seg_update",{seg:i})},segmentNew:function(i,a){return y("new_seg",{seg:i,primary:a})},segmentRemove:function(i){return y("rem_seg",{seg:i})},tempStatus:function(i,a,n){return y("temp_status",{seg:i,above:a,below:n})},rewind:function(i){return y("rewind",{seg:i})},status:function(i,a,n){return y("status",{seg:i,above:a,below:n})},vert:function(i){return i===f?h:(f=i,y("vert",{x:i}))},log:function(i){return typeof i!="string"&&(i=JSON.stringify(i,!1,"  ")),y("log",{txt:i})},reset:function(){return y("reset")},selected:function(i){return y("selected",{segs:i})},chainStart:function(i){return y("chain_start",{seg:i})},chainRemoveHead:function(i,a){return y("chain_rem_head",{index:i,pt:a})},chainRemoveTail:function(i,a){return y("chain_rem_tail",{index:i,pt:a})},chainNew:function(i,a){return y("chain_new",{pt1:i,pt2:a})},chainMatch:function(i){return y("chain_match",{index:i})},chainClose:function(i){return y("chain_close",{index:i})},chainAddHead:function(i,a){return y("chain_add_head",{index:i,pt:a})},chainAddTail:function(i,a){return y("chain_add_tail",{index:i,pt:a})},chainConnect:function(i,a){return y("chain_con",{index1:i,index2:a})},chainReverse:function(i){return y("chain_rev",{index:i})},chainJoin:function(i,a){return y("chain_join",{index1:i,index2:a})},done:function(){return y("done")}}}},8648:function(J){J.exports=function(h){typeof h!="number"&&(h=1e-10);var t={epsilon:function(f){return typeof f=="number"&&(h=f),h},pointAboveOrOnLine:function(f,y,i){var a=y[0],n=y[1],r=i[0],o=i[1],s=f[0];return(r-a)*(f[1]-n)-(o-n)*(s-a)>=-h},pointBetween:function(f,y,i){var a=f[1]-y[1],n=i[0]-y[0],r=f[0]-y[0],o=i[1]-y[1],s=r*n+a*o;return!(s<h||s-(n*n+o*o)>-h)},pointsSameX:function(f,y){return Math.abs(f[0]-y[0])<h},pointsSameY:function(f,y){return Math.abs(f[1]-y[1])<h},pointsSame:function(f,y){return t.pointsSameX(f,y)&&t.pointsSameY(f,y)},pointsCompare:function(f,y){return t.pointsSameX(f,y)?t.pointsSameY(f,y)?0:f[1]<y[1]?-1:1:f[0]<y[0]?-1:1},pointsCollinear:function(f,y,i){var a=f[0]-y[0],n=f[1]-y[1],r=y[0]-i[0],o=y[1]-i[1];return Math.abs(a*o-r*n)<h},linesIntersect:function(f,y,i,a){var n=y[0]-f[0],r=y[1]-f[1],o=a[0]-i[0],s=a[1]-i[1],e=n*s-r*o;if(Math.abs(e)<h)return!1;var l=f[0]-i[0],u=f[1]-i[1],m=(o*u-s*l)/e,_=(n*u-r*l)/e,p={alongA:0,alongB:0,pt:[f[0]+m*n,f[1]+m*r]};return p.alongA=m<=-h?-2:m<h?-1:m-1<=-h?0:m-1<h?1:2,p.alongB=_<=-h?-2:_<h?-1:_-1<=-h?0:_-1<h?1:2,p},pointInsideRegion:function(f,y){for(var i=f[0],a=f[1],n=y[y.length-1][0],r=y[y.length-1][1],o=!1,s=0;s<y.length;s++){var e=y[s][0],l=y[s][1];l-a>h!=r-a>h&&(n-e)*(a-l)/(r-l)+e-i>h&&(o=!o),n=e,r=l}return o}};return t}},7792:function(J){var h={toPolygon:function(t,f){function y(n){if(n.length<=0)return t.segments({inverted:!1,regions:[]});function r(e){var l=e.slice(0,e.length-1);return t.segments({inverted:!1,regions:[l]})}for(var o=r(n[0]),s=1;s<n.length;s++)o=t.selectDifference(t.combine(o,r(n[s])));return o}if(f.type==="Polygon")return t.polygon(y(f.coordinates));if(f.type==="MultiPolygon"){for(var i=t.segments({inverted:!1,regions:[]}),a=0;a<f.coordinates.length;a++)i=t.selectUnion(t.combine(i,y(f.coordinates[a])));return t.polygon(i)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(t,f,y){function i(_,p){return f.pointInsideRegion([.5*(_[0][0]+_[1][0]),.5*(_[0][1]+_[1][1])],p)}function a(_){return{region:_,children:[]}}y=t.polygon(t.segments(y));var n=a(null);function r(_,p){for(var v=0;v<_.children.length;v++)if(i(p,(b=_.children[v]).region))return void r(b,p);var g=a(p);for(v=0;v<_.children.length;v++){var b;i((b=_.children[v]).region,p)&&(g.children.push(b),_.children.splice(v,1),v--)}_.children.push(g)}for(var o=0;o<y.regions.length;o++){var s=y.regions[o];s.length<3||r(n,s)}function e(_,p){for(var v=0,g=_[_.length-1][0],b=_[_.length-1][1],d=[],T=0;T<_.length;T++){var w=_[T][0],k=_[T][1];d.push([w,k]),v+=k*g-w*b,g=w,b=k}return v<0!==p&&d.reverse(),d.push([d[0][0],d[0][1]]),d}var l=[];function u(_){var p=[e(_.region,!1)];l.push(p);for(var v=0;v<_.children.length;v++)p.push(m(_.children[v]))}function m(_){for(var p=0;p<_.children.length;p++)u(_.children[p]);return e(_.region,!0)}for(o=0;o<n.children.length;o++)u(n.children[o]);return l.length<=0?{type:"Polygon",coordinates:[]}:l.length==1?{type:"Polygon",coordinates:l[0]}:{type:"MultiPolygon",coordinates:l}}};J.exports=h},9819:function(J,h,t){var f=t(8088);J.exports=function(y,i,a){function n(u,m,_){return{id:a?a.segmentId():-1,start:u,end:m,myFill:{above:_.myFill.above,below:_.myFill.below},otherFill:null}}var r=f.create();function o(u,m){r.insertBefore(u,function(_){return p=u.isStart,v=u.pt,g=m,b=_.isStart,d=_.pt,T=_.other.pt,((w=i.pointsCompare(v,d))!==0?w:i.pointsSame(g,T)?0:p!==b?p?1:-1:i.pointAboveOrOnLine(g,b?d:T,b?T:d)?1:-1)<0;var p,v,g,b,d,T,w})}function s(u,m){var _=function(p,v){var g=f.node({isStart:!0,pt:p.start,seg:p,primary:v,other:null,status:null});return o(g,p.end),g}(u,m);return function(p,v,g){var b=f.node({isStart:!1,pt:v.end,seg:v,primary:g,other:p,status:null});p.other=b,o(b,p.pt)}(_,u,m),_}function e(u,m){var _=n(m,u.seg.end,u.seg);return function(p,v){a&&a.segmentChop(p.seg,v),p.other.remove(),p.seg.end=v,p.other.pt=v,o(p.other,p.pt)}(u,m),s(_,u.primary)}function l(u,m){var _=f.create();function p(x){return _.findTransition(function(C){var F,N,j,z,H,U;return F=x,N=C.ev,j=F.seg.start,z=F.seg.end,H=N.seg.start,U=N.seg.end,(i.pointsCollinear(j,H,U)?i.pointsCollinear(z,H,U)||i.pointAboveOrOnLine(z,H,U)?1:-1:i.pointAboveOrOnLine(j,H,U)?1:-1)>0})}function v(x,C){var F=x.seg,N=C.seg,j=F.start,z=F.end,H=N.start,U=N.end;a&&a.checkIntersection(F,N);var it=i.linesIntersect(j,z,H,U);if(it===!1){if(!i.pointsCollinear(j,z,H)||i.pointsSame(j,U)||i.pointsSame(z,H))return!1;var K=i.pointsSame(j,H),D=i.pointsSame(z,U);if(K&&D)return C;var B=!K&&i.pointBetween(j,H,U),q=!D&&i.pointBetween(z,H,U);if(K)return q?e(C,z):e(x,U),C;B&&(D||(q?e(C,z):e(x,U)),e(C,j))}else it.alongA===0&&(it.alongB===-1?e(x,H):it.alongB===0?e(x,it.pt):it.alongB===1&&e(x,U)),it.alongB===0&&(it.alongA===-1?e(C,j):it.alongA===0?e(C,it.pt):it.alongA===1&&e(C,z));return!1}for(var g=[];!r.isEmpty();){var b=r.getHead();if(a&&a.vert(b.pt[0]),b.isStart){let x=function(){if(T){var C=v(b,T);if(C)return C}return!!w&&v(b,w)};a&&a.segmentNew(b.seg,b.primary);var d=p(b),T=d.before?d.before.ev:null,w=d.after?d.after.ev:null;a&&a.tempStatus(b.seg,!!T&&T.seg,!!w&&w.seg);var k,P,A=x();if(A&&(y?(P=b.seg.myFill.below===null||b.seg.myFill.above!==b.seg.myFill.below)&&(A.seg.myFill.above=!A.seg.myFill.above):A.seg.otherFill=b.seg.myFill,a&&a.segmentUpdate(A.seg),b.other.remove(),b.remove()),r.getHead()!==b){a&&a.rewind(b.seg);continue}y?(P=b.seg.myFill.below===null||b.seg.myFill.above!==b.seg.myFill.below,b.seg.myFill.below=w?w.seg.myFill.above:u,b.seg.myFill.above=P?!b.seg.myFill.below:b.seg.myFill.below):b.seg.otherFill===null&&(k=w?b.primary===w.primary?w.seg.otherFill.above:w.seg.myFill.above:b.primary?m:u,b.seg.otherFill={above:k,below:k}),a&&a.status(b.seg,!!T&&T.seg,!!w&&w.seg),b.other.status=d.insert(f.node({ev:b}))}else{var L=b.status;if(L===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(_.exists(L.prev)&&_.exists(L.next)&&v(L.prev.ev,L.next.ev),a&&a.statusRemove(L.ev.seg),L.remove(),!b.primary){var I=b.seg.myFill;b.seg.myFill=b.seg.otherFill,b.seg.otherFill=I}g.push(b.seg)}r.getHead().remove()}return a&&a.done(),g}return y?{addRegion:function(u){for(var m,_,p,v=u[u.length-1],g=0;g<u.length;g++){m=v,v=u[g];var b=i.pointsCompare(m,v);b!==0&&s((_=b<0?m:v,p=b<0?v:m,{id:a?a.segmentId():-1,start:_,end:p,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(u){return l(u,!1)}}:{calculate:function(u,m,_,p){return u.forEach(function(v){s(n(v.start,v.end,v),!0)}),_.forEach(function(v){s(n(v.start,v.end,v),!1)}),l(m,p)}}}},8088:function(J){J.exports={create:function(){var h={root:{root:!0,next:null},exists:function(t){return t!==null&&t!==h.root},isEmpty:function(){return h.root.next===null},getHead:function(){return h.root.next},insertBefore:function(t,f){for(var y=h.root,i=h.root.next;i!==null;){if(f(i))return t.prev=i.prev,t.next=i,i.prev.next=t,void(i.prev=t);y=i,i=i.next}y.next=t,t.prev=y,t.next=null},findTransition:function(t){for(var f=h.root,y=h.root.next;y!==null&&!t(y);)f=y,y=y.next;return{before:f===h.root?null:f,after:y,insert:function(i){return i.prev=f,i.next=y,f.next=i,y!==null&&(y.prev=i),i}}}};return h},node:function(h){return h.prev=null,h.next=null,h.remove=function(){h.prev.next=h.next,h.next&&(h.next.prev=h.prev),h.prev=null,h.next=null},h}}},1403:function(J){J.exports=function(h,t,f){var y=[],i=[];return h.forEach(function(a){var n=a.start,r=a.end;if(t.pointsSame(n,r))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{f&&f.chainStart(a);for(var o={index:0,matches_head:!1,matches_pt1:!1},s={index:0,matches_head:!1,matches_pt1:!1},e=o,l=0;l<y.length;l++){var u=(g=y[l])[0],m=(g[1],g[g.length-1]);if(g[g.length-2],t.pointsSame(u,n)){if(L(l,!0,!0))break}else if(t.pointsSame(u,r)){if(L(l,!0,!1))break}else if(t.pointsSame(m,n)){if(L(l,!1,!0))break}else if(t.pointsSame(m,r)&&L(l,!1,!1))break}if(e===o)return y.push([n,r]),void(f&&f.chainNew(n,r));if(e===s){f&&f.chainMatch(o.index);var _=o.index,p=o.matches_pt1?r:n,v=o.matches_head,g=y[_],b=v?g[0]:g[g.length-1],d=v?g[1]:g[g.length-2],T=v?g[g.length-1]:g[0],w=v?g[g.length-2]:g[1];return t.pointsCollinear(d,b,p)&&(v?(f&&f.chainRemoveHead(o.index,p),g.shift()):(f&&f.chainRemoveTail(o.index,p),g.pop()),b=d),t.pointsSame(T,p)?(y.splice(_,1),t.pointsCollinear(w,T,b)&&(v?(f&&f.chainRemoveTail(o.index,b),g.pop()):(f&&f.chainRemoveHead(o.index,b),g.shift())),f&&f.chainClose(o.index),void i.push(g)):void(v?(f&&f.chainAddHead(o.index,p),g.unshift(p)):(f&&f.chainAddTail(o.index,p),g.push(p)))}var k=o.index,P=s.index;f&&f.chainConnect(k,P);var A=y[k].length<y[P].length;o.matches_head?s.matches_head?A?(I(k),x(k,P)):(I(P),x(P,k)):x(P,k):s.matches_head?x(k,P):A?(I(k),x(P,k)):(I(P),x(k,P))}function L(C,F,N){return e.index=C,e.matches_head=F,e.matches_pt1=N,e===o?(e=s,!1):(e=null,!0)}function I(C){f&&f.chainReverse(C),y[C].reverse()}function x(C,F){var N=y[C],j=y[F],z=N[N.length-1],H=N[N.length-2],U=j[0],it=j[1];t.pointsCollinear(H,z,U)&&(f&&f.chainRemoveTail(C,z),N.pop(),z=H),t.pointsCollinear(z,U,it)&&(f&&f.chainRemoveHead(F,U),j.shift()),f&&f.chainJoin(C,F),y[C]=N.concat(j),y.splice(F,1)}}),i}},2368:function(J){function h(f,y,i){var a=[];return f.forEach(function(n){var r=(n.myFill.above?8:0)+(n.myFill.below?4:0)+(n.otherFill&&n.otherFill.above?2:0)+(n.otherFill&&n.otherFill.below?1:0);y[r]!==0&&a.push({id:i?i.segmentId():-1,start:n.start,end:n.end,myFill:{above:y[r]===1,below:y[r]===2},otherFill:null})}),i&&i.selected(a),a}var t={union:function(f,y){return h(f,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],y)},intersect:function(f,y){return h(f,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],y)},difference:function(f,y){return h(f,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],y)},differenceRev:function(f,y){return h(f,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],y)},xor:function(f,y){return h(f,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],y)}};J.exports=t},9760:function(J,h,t){var f;(function(y){var i=/^\s+/,a=/\s+$/,n=0,r=y.round,o=y.min,s=y.max,e=y.random;function l(E,S){if(S=S||{},(E=E||"")instanceof l)return E;if(!(this instanceof l))return new l(E,S);var Y=function(Z){var G,Q,at,tt={r:0,g:0,b:0},_t=1,Pt=null,kt=null,lt=null,st=!1,ht=!1;return typeof Z=="string"&&(Z=function(bt){bt=bt.replace(i,"").replace(a,"").toLowerCase();var pt,Dt=!1;if(F[bt])bt=F[bt],Dt=!0;else if(bt=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(pt=rt.rgb.exec(bt))?{r:pt[1],g:pt[2],b:pt[3]}:(pt=rt.rgba.exec(bt))?{r:pt[1],g:pt[2],b:pt[3],a:pt[4]}:(pt=rt.hsl.exec(bt))?{h:pt[1],s:pt[2],l:pt[3]}:(pt=rt.hsla.exec(bt))?{h:pt[1],s:pt[2],l:pt[3],a:pt[4]}:(pt=rt.hsv.exec(bt))?{h:pt[1],s:pt[2],v:pt[3]}:(pt=rt.hsva.exec(bt))?{h:pt[1],s:pt[2],v:pt[3],a:pt[4]}:(pt=rt.hex8.exec(bt))?{r:U(pt[1]),g:U(pt[2]),b:U(pt[3]),a:B(pt[4]),format:Dt?"name":"hex8"}:(pt=rt.hex6.exec(bt))?{r:U(pt[1]),g:U(pt[2]),b:U(pt[3]),format:Dt?"name":"hex"}:(pt=rt.hex4.exec(bt))?{r:U(pt[1]+""+pt[1]),g:U(pt[2]+""+pt[2]),b:U(pt[3]+""+pt[3]),a:B(pt[4]+""+pt[4]),format:Dt?"name":"hex8"}:!!(pt=rt.hex3.exec(bt))&&{r:U(pt[1]+""+pt[1]),g:U(pt[2]+""+pt[2]),b:U(pt[3]+""+pt[3]),format:Dt?"name":"hex"}}(Z)),typeof Z=="object"&&($(Z.r)&&$(Z.g)&&$(Z.b)?(G=Z.r,Q=Z.g,at=Z.b,tt={r:255*z(G,255),g:255*z(Q,255),b:255*z(at,255)},st=!0,ht=String(Z.r).substr(-1)==="%"?"prgb":"rgb"):$(Z.h)&&$(Z.s)&&$(Z.v)?(Pt=K(Z.s),kt=K(Z.v),tt=function(bt,pt,Dt){bt=6*z(bt,360),pt=z(pt,100),Dt=z(Dt,100);var qt=y.floor(bt),ct=bt-qt,xt=Dt*(1-pt),dt=Dt*(1-ct*pt),vt=Dt*(1-(1-ct)*pt),yt=qt%6;return{r:255*[Dt,dt,xt,xt,vt,Dt][yt],g:255*[vt,Dt,Dt,dt,xt,xt][yt],b:255*[xt,xt,vt,Dt,Dt,dt][yt]}}(Z.h,Pt,kt),st=!0,ht="hsv"):$(Z.h)&&$(Z.s)&&$(Z.l)&&(Pt=K(Z.s),lt=K(Z.l),tt=function(bt,pt,Dt){var qt,ct,xt;function dt(Mt,Tt,Lt){return Lt<0&&(Lt+=1),Lt>1&&(Lt-=1),Lt<1/6?Mt+6*(Tt-Mt)*Lt:Lt<.5?Tt:Lt<2/3?Mt+(Tt-Mt)*(2/3-Lt)*6:Mt}if(bt=z(bt,360),pt=z(pt,100),Dt=z(Dt,100),pt===0)qt=ct=xt=Dt;else{var vt=Dt<.5?Dt*(1+pt):Dt+pt-Dt*pt,yt=2*Dt-vt;qt=dt(yt,vt,bt+1/3),ct=dt(yt,vt,bt),xt=dt(yt,vt,bt-1/3)}return{r:255*qt,g:255*ct,b:255*xt}}(Z.h,Pt,lt),st=!0,ht="hsl"),Z.hasOwnProperty("a")&&(_t=Z.a)),_t=j(_t),{ok:st,format:Z.format||ht,r:o(255,s(tt.r,0)),g:o(255,s(tt.g,0)),b:o(255,s(tt.b,0)),a:_t}}(E);this._originalInput=E,this._r=Y.r,this._g=Y.g,this._b=Y.b,this._a=Y.a,this._roundA=r(100*this._a)/100,this._format=S.format||Y.format,this._gradientType=S.gradientType,this._r<1&&(this._r=r(this._r)),this._g<1&&(this._g=r(this._g)),this._b<1&&(this._b=r(this._b)),this._ok=Y.ok,this._tc_id=n++}function u(E,S,Y){E=z(E,255),S=z(S,255),Y=z(Y,255);var Z,G,Q=s(E,S,Y),at=o(E,S,Y),tt=(Q+at)/2;if(Q==at)Z=G=0;else{var _t=Q-at;switch(G=tt>.5?_t/(2-Q-at):_t/(Q+at),Q){case E:Z=(S-Y)/_t+(S<Y?6:0);break;case S:Z=(Y-E)/_t+2;break;case Y:Z=(E-S)/_t+4}Z/=6}return{h:Z,s:G,l:tt}}function m(E,S,Y){E=z(E,255),S=z(S,255),Y=z(Y,255);var Z,G,Q=s(E,S,Y),at=o(E,S,Y),tt=Q,_t=Q-at;if(G=Q===0?0:_t/Q,Q==at)Z=0;else{switch(Q){case E:Z=(S-Y)/_t+(S<Y?6:0);break;case S:Z=(Y-E)/_t+2;break;case Y:Z=(E-S)/_t+4}Z/=6}return{h:Z,s:G,v:tt}}function _(E,S,Y,Z){var G=[it(r(E).toString(16)),it(r(S).toString(16)),it(r(Y).toString(16))];return Z&&G[0].charAt(0)==G[0].charAt(1)&&G[1].charAt(0)==G[1].charAt(1)&&G[2].charAt(0)==G[2].charAt(1)?G[0].charAt(0)+G[1].charAt(0)+G[2].charAt(0):G.join("")}function p(E,S,Y,Z){return[it(D(Z)),it(r(E).toString(16)),it(r(S).toString(16)),it(r(Y).toString(16))].join("")}function v(E,S){S=S===0?0:S||10;var Y=l(E).toHsl();return Y.s-=S/100,Y.s=H(Y.s),l(Y)}function g(E,S){S=S===0?0:S||10;var Y=l(E).toHsl();return Y.s+=S/100,Y.s=H(Y.s),l(Y)}function b(E){return l(E).desaturate(100)}function d(E,S){S=S===0?0:S||10;var Y=l(E).toHsl();return Y.l+=S/100,Y.l=H(Y.l),l(Y)}function T(E,S){S=S===0?0:S||10;var Y=l(E).toRgb();return Y.r=s(0,o(255,Y.r-r(-S/100*255))),Y.g=s(0,o(255,Y.g-r(-S/100*255))),Y.b=s(0,o(255,Y.b-r(-S/100*255))),l(Y)}function w(E,S){S=S===0?0:S||10;var Y=l(E).toHsl();return Y.l-=S/100,Y.l=H(Y.l),l(Y)}function k(E,S){var Y=l(E).toHsl(),Z=(Y.h+S)%360;return Y.h=Z<0?360+Z:Z,l(Y)}function P(E){var S=l(E).toHsl();return S.h=(S.h+180)%360,l(S)}function A(E){var S=l(E).toHsl(),Y=S.h;return[l(E),l({h:(Y+120)%360,s:S.s,l:S.l}),l({h:(Y+240)%360,s:S.s,l:S.l})]}function L(E){var S=l(E).toHsl(),Y=S.h;return[l(E),l({h:(Y+90)%360,s:S.s,l:S.l}),l({h:(Y+180)%360,s:S.s,l:S.l}),l({h:(Y+270)%360,s:S.s,l:S.l})]}function I(E){var S=l(E).toHsl(),Y=S.h;return[l(E),l({h:(Y+72)%360,s:S.s,l:S.l}),l({h:(Y+216)%360,s:S.s,l:S.l})]}function x(E,S,Y){S=S||6,Y=Y||30;var Z=l(E).toHsl(),G=360/Y,Q=[l(E)];for(Z.h=(Z.h-(G*S>>1)+720)%360;--S;)Z.h=(Z.h+G)%360,Q.push(l(Z));return Q}function C(E,S){S=S||6;for(var Y=l(E).toHsv(),Z=Y.h,G=Y.s,Q=Y.v,at=[],tt=1/S;S--;)at.push(l({h:Z,s:G,v:Q})),Q=(Q+tt)%1;return at}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var E=this.toRgb();return(299*E.r+587*E.g+114*E.b)/1e3},getLuminance:function(){var E,S,Y,Z=this.toRgb();return E=Z.r/255,S=Z.g/255,Y=Z.b/255,.2126*(E<=.03928?E/12.92:y.pow((E+.055)/1.055,2.4))+.7152*(S<=.03928?S/12.92:y.pow((S+.055)/1.055,2.4))+.0722*(Y<=.03928?Y/12.92:y.pow((Y+.055)/1.055,2.4))},setAlpha:function(E){return this._a=j(E),this._roundA=r(100*this._a)/100,this},toHsv:function(){var E=m(this._r,this._g,this._b);return{h:360*E.h,s:E.s,v:E.v,a:this._a}},toHsvString:function(){var E=m(this._r,this._g,this._b),S=r(360*E.h),Y=r(100*E.s),Z=r(100*E.v);return this._a==1?"hsv("+S+", "+Y+"%, "+Z+"%)":"hsva("+S+", "+Y+"%, "+Z+"%, "+this._roundA+")"},toHsl:function(){var E=u(this._r,this._g,this._b);return{h:360*E.h,s:E.s,l:E.l,a:this._a}},toHslString:function(){var E=u(this._r,this._g,this._b),S=r(360*E.h),Y=r(100*E.s),Z=r(100*E.l);return this._a==1?"hsl("+S+", "+Y+"%, "+Z+"%)":"hsla("+S+", "+Y+"%, "+Z+"%, "+this._roundA+")"},toHex:function(E){return _(this._r,this._g,this._b,E)},toHexString:function(E){return"#"+this.toHex(E)},toHex8:function(E){return function(S,Y,Z,G,Q){var at=[it(r(S).toString(16)),it(r(Y).toString(16)),it(r(Z).toString(16)),it(D(G))];return Q&&at[0].charAt(0)==at[0].charAt(1)&&at[1].charAt(0)==at[1].charAt(1)&&at[2].charAt(0)==at[2].charAt(1)&&at[3].charAt(0)==at[3].charAt(1)?at[0].charAt(0)+at[1].charAt(0)+at[2].charAt(0)+at[3].charAt(0):at.join("")}(this._r,this._g,this._b,this._a,E)},toHex8String:function(E){return"#"+this.toHex8(E)},toRgb:function(){return{r:r(this._r),g:r(this._g),b:r(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+r(this._r)+", "+r(this._g)+", "+r(this._b)+")":"rgba("+r(this._r)+", "+r(this._g)+", "+r(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:r(100*z(this._r,255))+"%",g:r(100*z(this._g,255))+"%",b:r(100*z(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+r(100*z(this._r,255))+"%, "+r(100*z(this._g,255))+"%, "+r(100*z(this._b,255))+"%)":"rgba("+r(100*z(this._r,255))+"%, "+r(100*z(this._g,255))+"%, "+r(100*z(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(N[_(this._r,this._g,this._b,!0)]||!1)},toFilter:function(E){var S="#"+p(this._r,this._g,this._b,this._a),Y=S,Z=this._gradientType?"GradientType = 1, ":"";if(E){var G=l(E);Y="#"+p(G._r,G._g,G._b,G._a)}return"progid:DXImageTransform.Microsoft.gradient("+Z+"startColorstr="+S+",endColorstr="+Y+")"},toString:function(E){var S=!!E;E=E||this._format;var Y=!1,Z=this._a<1&&this._a>=0;return S||!Z||E!=="hex"&&E!=="hex6"&&E!=="hex3"&&E!=="hex4"&&E!=="hex8"&&E!=="name"?(E==="rgb"&&(Y=this.toRgbString()),E==="prgb"&&(Y=this.toPercentageRgbString()),E!=="hex"&&E!=="hex6"||(Y=this.toHexString()),E==="hex3"&&(Y=this.toHexString(!0)),E==="hex4"&&(Y=this.toHex8String(!0)),E==="hex8"&&(Y=this.toHex8String()),E==="name"&&(Y=this.toName()),E==="hsl"&&(Y=this.toHslString()),E==="hsv"&&(Y=this.toHsvString()),Y||this.toHexString()):E==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return l(this.toString())},_applyModification:function(E,S){var Y=E.apply(null,[this].concat([].slice.call(S)));return this._r=Y._r,this._g=Y._g,this._b=Y._b,this.setAlpha(Y._a),this},lighten:function(){return this._applyModification(d,arguments)},brighten:function(){return this._applyModification(T,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(g,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(k,arguments)},_applyCombination:function(E,S){return E.apply(null,[this].concat([].slice.call(S)))},analogous:function(){return this._applyCombination(x,arguments)},complement:function(){return this._applyCombination(P,arguments)},monochromatic:function(){return this._applyCombination(C,arguments)},splitcomplement:function(){return this._applyCombination(I,arguments)},triad:function(){return this._applyCombination(A,arguments)},tetrad:function(){return this._applyCombination(L,arguments)}},l.fromRatio=function(E,S){if(typeof E=="object"){var Y={};for(var Z in E)E.hasOwnProperty(Z)&&(Y[Z]=Z==="a"?E[Z]:K(E[Z]));E=Y}return l(E,S)},l.equals=function(E,S){return!(!E||!S)&&l(E).toRgbString()==l(S).toRgbString()},l.random=function(){return l.fromRatio({r:e(),g:e(),b:e()})},l.mix=function(E,S,Y){Y=Y===0?0:Y||50;var Z=l(E).toRgb(),G=l(S).toRgb(),Q=Y/100;return l({r:(G.r-Z.r)*Q+Z.r,g:(G.g-Z.g)*Q+Z.g,b:(G.b-Z.b)*Q+Z.b,a:(G.a-Z.a)*Q+Z.a})},l.readability=function(E,S){var Y=l(E),Z=l(S);return(y.max(Y.getLuminance(),Z.getLuminance())+.05)/(y.min(Y.getLuminance(),Z.getLuminance())+.05)},l.isReadable=function(E,S,Y){var Z,G,Q,at,tt,_t=l.readability(E,S);switch(G=!1,(Q=Y,(at=((Q=Q||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&at!=="AAA"&&(at="AA"),(tt=(Q.size||"small").toLowerCase())!=="small"&&tt!=="large"&&(tt="small"),Z={level:at,size:tt}).level+Z.size){case"AAsmall":case"AAAlarge":G=_t>=4.5;break;case"AAlarge":G=_t>=3;break;case"AAAsmall":G=_t>=7}return G},l.mostReadable=function(E,S,Y){var Z,G,Q,at,tt=null,_t=0;G=(Y=Y||{}).includeFallbackColors,Q=Y.level,at=Y.size;for(var Pt=0;Pt<S.length;Pt++)(Z=l.readability(E,S[Pt]))>_t&&(_t=Z,tt=l(S[Pt]));return l.isReadable(E,tt,{level:Q,size:at})||!G?tt:(Y.includeFallbackColors=!1,l.mostReadable(E,["#fff","#000"],Y))};var F=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},N=l.hexNames=function(E){var S={};for(var Y in E)E.hasOwnProperty(Y)&&(S[E[Y]]=Y);return S}(F);function j(E){return E=parseFloat(E),(isNaN(E)||E<0||E>1)&&(E=1),E}function z(E,S){(function(Z){return typeof Z=="string"&&Z.indexOf(".")!=-1&&parseFloat(Z)===1})(E)&&(E="100%");var Y=function(Z){return typeof Z=="string"&&Z.indexOf("%")!=-1}(E);return E=o(S,s(0,parseFloat(E))),Y&&(E=parseInt(E*S,10)/100),y.abs(E-S)<1e-6?1:E%S/parseFloat(S)}function H(E){return o(1,s(0,E))}function U(E){return parseInt(E,16)}function it(E){return E.length==1?"0"+E:""+E}function K(E){return E<=1&&(E=100*E+"%"),E}function D(E){return y.round(255*parseFloat(E)).toString(16)}function B(E){return U(E)/255}var q,nt,ot,rt=(nt="[\\s|\\(]+("+(q="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+q+")[,|\\s]+("+q+")\\s*\\)?",ot="[\\s|\\(]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")\\s*\\)?",{CSS_UNIT:new RegExp(q),rgb:new RegExp("rgb"+nt),rgba:new RegExp("rgba"+ot),hsl:new RegExp("hsl"+nt),hsla:new RegExp("hsla"+ot),hsv:new RegExp("hsv"+nt),hsva:new RegExp("hsva"+ot),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function $(E){return!!rt.CSS_UNIT.exec(E)}J.exports?J.exports=l:(f=function(){return l}.call(h,t,h,J))===void 0||(J.exports=f)})(Math)},7020:function(J,h,t){var f=t(8700),y=t(896),i=f.instance();function a(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}a.prototype=new f.baseCalendar,y(a.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(u,m){if(typeof u=="string"){var _=u.match(r);return _?_[0]:""}var p=this._validateYear(u),v=u.month(),g=""+this.toChineseMonth(p,v);return m&&g.length<2&&(g="0"+g),this.isIntercalaryMonth(p,v)&&(g+="i"),g},monthNames:function(u){if(typeof u=="string"){var m=u.match(o);return m?m[0]:""}var _=this._validateYear(u),p=u.month(),v=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][this.toChineseMonth(_,p)-1];return this.isIntercalaryMonth(_,p)&&(v="闰"+v),v},monthNamesShort:function(u){if(typeof u=="string"){var m=u.match(s);return m?m[0]:""}var _=this._validateYear(u),p=u.month(),v=["一","二","三","四","五","六","七","八","九","十","十一","十二"][this.toChineseMonth(_,p)-1];return this.isIntercalaryMonth(_,p)&&(v="闰"+v),v},parseMonth:function(u,m){u=this._validateYear(u);var _,p=parseInt(m);if(isNaN(p))m[0]==="闰"&&(_=!0,m=m.substring(1)),m[m.length-1]==="月"&&(m=m.substring(0,m.length-1)),p=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(m);else{var v=m[m.length-1];_=v==="i"||v==="I"}return this.toMonthIndex(u,p,_)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(u,m){if(u.year&&(u=u.year()),typeof u!="number"||u<1888||u>2111)throw m.replace(/\{0\}/,this.local.name);return u},toMonthIndex:function(u,m,_){var p=this.intercalaryMonth(u);if(_&&m!==p||m<1||m>12)throw f.local.invalidMonth.replace(/\{0\}/,this.local.name);return p?!_&&m<=p?m-1:m:m-1},toChineseMonth:function(u,m){u.year&&(m=(u=u.year()).month());var _=this.intercalaryMonth(u);if(m<0||m>(_?12:11))throw f.local.invalidMonth.replace(/\{0\}/,this.local.name);return _?m<_?m+1:m:m+1},intercalaryMonth:function(u){return u=this._validateYear(u),e[u-e[0]]>>13},isIntercalaryMonth:function(u,m){u.year&&(m=(u=u.year()).month());var _=this.intercalaryMonth(u);return!!_&&_===m},leapYear:function(u){return this.intercalaryMonth(u)!==0},weekOfYear:function(u,m,_){var p,v=this._validateYear(u,f.local.invalidyear),g=l[v-l[0]],b=g>>9&4095,d=g>>5&15,T=31&g;(p=i.newDate(b,d,T)).add(4-(p.dayOfWeek()||7),"d");var w=this.toJD(u,m,_)-p.toJD();return 1+Math.floor(w/7)},monthsInYear:function(u){return this.leapYear(u)?13:12},daysInMonth:function(u,m){u.year&&(m=u.month(),u=u.year()),u=this._validateYear(u);var _=e[u-e[0]];if(m>(_>>13?12:11))throw f.local.invalidMonth.replace(/\{0\}/,this.local.name);return _&1<<12-m?30:29},weekDay:function(u,m,_){return(this.dayOfWeek(u,m,_)||7)<6},toJD:function(u,m,_){var p=this._validate(u,g,_,f.local.invalidDate);u=this._validateYear(p.year()),m=p.month(),_=p.day();var v=this.isIntercalaryMonth(u,m),g=this.toChineseMonth(u,m),b=function(d,T,w,k,P){var A,L,I;if(typeof d=="object")L=d,A=T||{};else{var x;if(!(typeof d=="number"&&d>=1888&&d<=2111))throw new Error("Lunar year outside range 1888-2111");if(!(typeof T=="number"&&T>=1&&T<=12))throw new Error("Lunar month outside range 1 - 12");if(!(typeof w=="number"&&w>=1&&w<=30))throw new Error("Lunar day outside range 1 - 30");typeof k=="object"?(x=!1,A=k):(x=!!k,A={}),L={year:d,month:T,day:w,isIntercalary:x}}I=L.day-1;var C,F=e[L.year-e[0]],N=F>>13;C=N&&(L.month>N||L.isIntercalary)?L.month:L.month-1;for(var j=0;j<C;j++)I+=F&1<<12-j?30:29;var z=l[L.year-l[0]],H=new Date(z>>9&4095,(z>>5&15)-1,(31&z)+I);return A.year=H.getFullYear(),A.month=1+H.getMonth(),A.day=H.getDate(),A}(u,g,_,v);return i.toJD(b.year,b.month,b.day)},fromJD:function(u){var m=i.fromJD(u),_=function(v,g,b,d){var T,w;if(typeof v=="object")T=v,w=g||{};else{if(!(typeof v=="number"&&v>=1888&&v<=2111))throw new Error("Solar year outside range 1888-2111");if(!(typeof g=="number"&&g>=1&&g<=12))throw new Error("Solar month outside range 1 - 12");if(!(typeof b=="number"&&b>=1&&b<=31))throw new Error("Solar day outside range 1 - 31");T={year:v,month:g,day:b},w={}}var k=l[T.year-l[0]],P=T.year<<9|T.month<<5|T.day;w.year=P>=k?T.year:T.year-1,k=l[w.year-l[0]];var A,L=new Date(k>>9&4095,(k>>5&15)-1,31&k),I=new Date(T.year,T.month-1,T.day);A=Math.round((I-L)/864e5);var x,C=e[w.year-e[0]];for(x=0;x<13;x++){var F=C&1<<12-x?30:29;if(A<F)break;A-=F}var N=C>>13;return!N||x<N?(w.isIntercalary=!1,w.month=1+x):x===N?(w.isIntercalary=!0,w.month=x):(w.isIntercalary=!1,w.month=x),w.day=1+A,w}(m.year(),m.month(),m.day()),p=this.toMonthIndex(_.year,_.month,_.isIntercalary);return this.newDate(_.year,p,_.day)},fromString:function(u){var m=u.match(n),_=this._validateYear(+m[1]),p=+m[2],v=!!m[3],g=this.toMonthIndex(_,p,v),b=+m[4];return this.newDate(_,g,b)},add:function(u,m,_){var p=u.year(),v=u.month(),g=this.isIntercalaryMonth(p,v),b=this.toChineseMonth(p,v),d=Object.getPrototypeOf(a.prototype).add.call(this,u,m,_);if(_==="y"){var T=d.year(),w=d.month(),k=this.isIntercalaryMonth(T,b),P=g&&k?this.toMonthIndex(T,b,!0):this.toMonthIndex(T,b,!1);P!==w&&d.month(P)}return d}});var n=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,r=/^\d?\d[iI]?/m,o=/^闰?十?[一二三四五六七八九]?月/m,s=/^闰?十?[一二三四五六七八九]?/m;f.calendars.chinese=a;var e=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],l=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},7411:function(J,h,t){var f=t(8700),y=t(896);function i(a){this.local=this.regionalOptions[a||""]||this.regionalOptions[""]}i.prototype=new f.baseCalendar,y(i.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(a){var n=this._validate(a,this.minMonth,this.minDay,f.local.invalidYear);return(a=n.year()+(n.year()<0?1:0))%4==3||a%4==-1},monthsInYear:function(a){return this._validate(a,this.minMonth,this.minDay,f.local.invalidYear||f.regionalOptions[""].invalidYear),13},weekOfYear:function(a,n,r){var o=this.newDate(a,n,r);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(a,n){var r=this._validate(a,n,this.minDay,f.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===13&&this.leapYear(r.year())?1:0)},weekDay:function(a,n,r){return(this.dayOfWeek(a,n,r)||7)<6},toJD:function(a,n,r){var o=this._validate(a,n,r,f.local.invalidDate);return(a=o.year())<0&&a++,o.day()+30*(o.month()-1)+365*(a-1)+Math.floor(a/4)+this.jdEpoch-1},fromJD:function(a){var n=Math.floor(a)+.5-this.jdEpoch,r=Math.floor((n-Math.floor((n+366)/1461))/365)+1;r<=0&&r--,n=Math.floor(a)+.5-this.newDate(r,1,1).toJD();var o=Math.floor(n/30)+1,s=n-30*(o-1)+1;return this.newDate(r,o,s)}}),f.calendars.coptic=i},5668:function(J,h,t){var f=t(8700),y=t(896);function i(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}i.prototype=new f.baseCalendar,y(i.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(n){return this._validate(n,this.minMonth,this.minDay,f.local.invalidYear),!1},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,f.local.invalidYear),13},daysInYear:function(n){return this._validate(n,this.minMonth,this.minDay,f.local.invalidYear),400},weekOfYear:function(n,r,o){var s=this.newDate(n,r,o);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/8)+1},daysInMonth:function(n,r){var o=this._validate(n,r,this.minDay,f.local.invalidMonth);return this.daysPerMonth[o.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(n,r,o){return(this._validate(n,r,o,f.local.invalidDate).day()+1)%8},weekDay:function(n,r,o){var s=this.dayOfWeek(n,r,o);return s>=2&&s<=6},extraInfo:function(n,r,o){var s=this._validate(n,r,o,f.local.invalidDate);return{century:a[Math.floor((s.year()-1)/100)+1]||""}},toJD:function(n,r,o){var s=this._validate(n,r,o,f.local.invalidDate);return n=s.year()+(s.year()<0?1:0),r=s.month(),(o=s.day())+(r>1?16:0)+(r>2?32*(r-2):0)+400*(n-1)+this.jdEpoch-1},fromJD:function(n){n=Math.floor(n+.5)-Math.floor(this.jdEpoch)-1;var r=Math.floor(n/400)+1;n-=400*(r-1),n+=n>15?16:0;var o=Math.floor(n/32)+1,s=n-32*(o-1)+1;return this.newDate(r<=0?r-1:r,o,s)}});var a={20:"Fruitbat",21:"Anchovy"};f.calendars.discworld=i},2787:function(J,h,t){var f=t(8700),y=t(896);function i(a){this.local=this.regionalOptions[a||""]||this.regionalOptions[""]}i.prototype=new f.baseCalendar,y(i.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(a){var n=this._validate(a,this.minMonth,this.minDay,f.local.invalidYear);return(a=n.year()+(n.year()<0?1:0))%4==3||a%4==-1},monthsInYear:function(a){return this._validate(a,this.minMonth,this.minDay,f.local.invalidYear||f.regionalOptions[""].invalidYear),13},weekOfYear:function(a,n,r){var o=this.newDate(a,n,r);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(a,n){var r=this._validate(a,n,this.minDay,f.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===13&&this.leapYear(r.year())?1:0)},weekDay:function(a,n,r){return(this.dayOfWeek(a,n,r)||7)<6},toJD:function(a,n,r){var o=this._validate(a,n,r,f.local.invalidDate);return(a=o.year())<0&&a++,o.day()+30*(o.month()-1)+365*(a-1)+Math.floor(a/4)+this.jdEpoch-1},fromJD:function(a){var n=Math.floor(a)+.5-this.jdEpoch,r=Math.floor((n-Math.floor((n+366)/1461))/365)+1;r<=0&&r--,n=Math.floor(a)+.5-this.newDate(r,1,1).toJD();var o=Math.floor(n/30)+1,s=n-30*(o-1)+1;return this.newDate(r,o,s)}}),f.calendars.ethiopian=i},2084:function(J,h,t){var f=t(8700),y=t(896);function i(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}function a(n,r){return n-r*Math.floor(n/r)}i.prototype=new f.baseCalendar,y(i.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var r=this._validate(n,this.minMonth,this.minDay,f.local.invalidYear);return this._leapYear(r.year())},_leapYear:function(n){return a(7*(n=n<0?n+1:n)+1,19)<7},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,f.local.invalidYear),this._leapYear(n.year?n.year():n)?13:12},weekOfYear:function(n,r,o){var s=this.newDate(n,r,o);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(n){return n=this._validate(n,this.minMonth,this.minDay,f.local.invalidYear).year(),this.toJD(n===-1?1:n+1,7,1)-this.toJD(n,7,1)},daysInMonth:function(n,r){return n.year&&(r=n.month(),n=n.year()),this._validate(n,r,this.minDay,f.local.invalidMonth),r===12&&this.leapYear(n)||r===8&&a(this.daysInYear(n),10)===5?30:r===9&&a(this.daysInYear(n),10)===3?29:this.daysPerMonth[r-1]},weekDay:function(n,r,o){return this.dayOfWeek(n,r,o)!==6},extraInfo:function(n,r,o){var s=this._validate(n,r,o,f.local.invalidDate);return{yearType:(this.leapYear(s)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(s)%10-3]}},toJD:function(n,r,o){var s=this._validate(n,r,o,f.local.invalidDate);n=s.year(),r=s.month(),o=s.day();var e=n<=0?n+1:n,l=this.jdEpoch+this._delay1(e)+this._delay2(e)+o+1;if(r<7){for(var u=7;u<=this.monthsInYear(n);u++)l+=this.daysInMonth(n,u);for(u=1;u<r;u++)l+=this.daysInMonth(n,u)}else for(u=7;u<r;u++)l+=this.daysInMonth(n,u);return l},_delay1:function(n){var r=Math.floor((235*n-234)/19),o=12084+13753*r,s=29*r+Math.floor(o/25920);return a(3*(s+1),7)<3&&s++,s},_delay2:function(n){var r=this._delay1(n-1),o=this._delay1(n);return this._delay1(n+1)-o==356?2:o-r==382?1:0},fromJD:function(n){n=Math.floor(n)+.5;for(var r=Math.floor(98496*(n-this.jdEpoch)/35975351)-1;n>=this.toJD(r===-1?1:r+1,7,1);)r++;for(var o=n<this.toJD(r,1,1)?7:1;n>this.toJD(r,o,this.daysInMonth(r,o));)o++;var s=n-this.toJD(r,o,1)+1;return this.newDate(r,o,s)}}),f.calendars.hebrew=i},6368:function(J,h,t){var f=t(8700),y=t(896);function i(a){this.local=this.regionalOptions[a||""]||this.regionalOptions[""]}i.prototype=new f.baseCalendar,y(i.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(a){return(11*this._validate(a,this.minMonth,this.minDay,f.local.invalidYear).year()+14)%30<11},weekOfYear:function(a,n,r){var o=this.newDate(a,n,r);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInYear:function(a){return this.leapYear(a)?355:354},daysInMonth:function(a,n){var r=this._validate(a,n,this.minDay,f.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===12&&this.leapYear(r.year())?1:0)},weekDay:function(a,n,r){return this.dayOfWeek(a,n,r)!==5},toJD:function(a,n,r){var o=this._validate(a,n,r,f.local.invalidDate);return a=o.year(),n=o.month(),a=a<=0?a+1:a,(r=o.day())+Math.ceil(29.5*(n-1))+354*(a-1)+Math.floor((3+11*a)/30)+this.jdEpoch-1},fromJD:function(a){a=Math.floor(a)+.5;var n=Math.floor((30*(a-this.jdEpoch)+10646)/10631);n=n<=0?n-1:n;var r=Math.min(12,Math.ceil((a-29-this.toJD(n,1,1))/29.5)+1),o=a-this.toJD(n,r,1)+1;return this.newDate(n,r,o)}}),f.calendars.islamic=i},4747:function(J,h,t){var f=t(8700),y=t(896);function i(a){this.local=this.regionalOptions[a||""]||this.regionalOptions[""]}i.prototype=new f.baseCalendar,y(i.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(a){var n=this._validate(a,this.minMonth,this.minDay,f.local.invalidYear);return(a=n.year()<0?n.year()+1:n.year())%4==0},weekOfYear:function(a,n,r){var o=this.newDate(a,n,r);return o.add(4-(o.dayOfWeek()||7),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(a,n){var r=this._validate(a,n,this.minDay,f.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===2&&this.leapYear(r.year())?1:0)},weekDay:function(a,n,r){return(this.dayOfWeek(a,n,r)||7)<6},toJD:function(a,n,r){var o=this._validate(a,n,r,f.local.invalidDate);return a=o.year(),n=o.month(),r=o.day(),a<0&&a++,n<=2&&(a--,n+=12),Math.floor(365.25*(a+4716))+Math.floor(30.6001*(n+1))+r-1524.5},fromJD:function(a){var n=Math.floor(a+.5)+1524,r=Math.floor((n-122.1)/365.25),o=Math.floor(365.25*r),s=Math.floor((n-o)/30.6001),e=s-Math.floor(s<14?1:13),l=r-Math.floor(e>2?4716:4715),u=n-o-Math.floor(30.6001*s);return l<=0&&l--,this.newDate(l,e,u)}}),f.calendars.julian=i},5616:function(J,h,t){var f=t(8700),y=t(896);function i(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}function a(r,o){return r-o*Math.floor(r/o)}function n(r,o){return a(r-1,o)+1}i.prototype=new f.baseCalendar,y(i.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(r){return this._validate(r,this.minMonth,this.minDay,f.local.invalidYear),!1},formatYear:function(r){r=this._validate(r,this.minMonth,this.minDay,f.local.invalidYear).year();var o=Math.floor(r/400);return r%=400,r+=r<0?400:0,o+"."+Math.floor(r/20)+"."+r%20},forYear:function(r){if((r=r.split(".")).length<3)throw"Invalid Mayan year";for(var o=0,s=0;s<r.length;s++){var e=parseInt(r[s],10);if(Math.abs(e)>19||s>0&&e<0)throw"Invalid Mayan year";o=20*o+e}return o},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,f.local.invalidYear),18},weekOfYear:function(r,o,s){return this._validate(r,o,s,f.local.invalidDate),0},daysInYear:function(r){return this._validate(r,this.minMonth,this.minDay,f.local.invalidYear),360},daysInMonth:function(r,o){return this._validate(r,o,this.minDay,f.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(r,o,s){return this._validate(r,o,s,f.local.invalidDate).day()},weekDay:function(r,o,s){return this._validate(r,o,s,f.local.invalidDate),!0},extraInfo:function(r,o,s){var e=this._validate(r,o,s,f.local.invalidDate).toJD(),l=this._toHaab(e),u=this._toTzolkin(e);return{haabMonthName:this.local.haabMonths[l[0]-1],haabMonth:l[0],haabDay:l[1],tzolkinDayName:this.local.tzolkinMonths[u[0]-1],tzolkinDay:u[0],tzolkinTrecena:u[1]}},_toHaab:function(r){var o=a(8+(r-=this.jdEpoch)+340,365);return[Math.floor(o/20)+1,a(o,20)]},_toTzolkin:function(r){return[n(20+(r-=this.jdEpoch),20),n(r+4,13)]},toJD:function(r,o,s){var e=this._validate(r,o,s,f.local.invalidDate);return e.day()+20*e.month()+360*e.year()+this.jdEpoch},fromJD:function(r){r=Math.floor(r)+.5-this.jdEpoch;var o=Math.floor(r/360);r%=360,r+=r<0?360:0;var s=Math.floor(r/20),e=r%20;return this.newDate(o,s,e)}}),f.calendars.mayan=i},632:function(J,h,t){var f=t(8700),y=t(896);function i(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}i.prototype=new f.baseCalendar;var a=f.instance("gregorian");y(i.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var r=this._validate(n,this.minMonth,this.minDay,f.local.invalidYear||f.regionalOptions[""].invalidYear);return a.leapYear(r.year()+(r.year()<1?1:0)+1469)},weekOfYear:function(n,r,o){var s=this.newDate(n,r,o);return s.add(1-(s.dayOfWeek()||7),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(n,r){var o=this._validate(n,r,this.minDay,f.local.invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===12&&this.leapYear(o.year())?1:0)},weekDay:function(n,r,o){return(this.dayOfWeek(n,r,o)||7)<6},toJD:function(n,r,o){var s=this._validate(n,r,o,f.local.invalidMonth);(n=s.year())<0&&n++;for(var e=s.day(),l=1;l<s.month();l++)e+=this.daysPerMonth[l-1];return e+a.toJD(n+1468,3,13)},fromJD:function(n){n=Math.floor(n+.5);for(var r=Math.floor((n-(this.jdEpoch-1))/366);n>=this.toJD(r+1,1,1);)r++;for(var o=n-Math.floor(this.toJD(r,1,1)+.5)+1,s=1;o>this.daysInMonth(r,s);)o-=this.daysInMonth(r,s),s++;return this.newDate(r,s,o)}}),f.calendars.nanakshahi=i},3040:function(J,h,t){var f=t(8700),y=t(896);function i(a){this.local=this.regionalOptions[a||""]||this.regionalOptions[""]}i.prototype=new f.baseCalendar,y(i.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(a){return this.daysInYear(a)!==this.daysPerYear},weekOfYear:function(a,n,r){var o=this.newDate(a,n,r);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInYear:function(a){if(a=this._validate(a,this.minMonth,this.minDay,f.local.invalidYear).year(),this.NEPALI_CALENDAR_DATA[a]===void 0)return this.daysPerYear;for(var n=0,r=this.minMonth;r<=12;r++)n+=this.NEPALI_CALENDAR_DATA[a][r];return n},daysInMonth:function(a,n){return a.year&&(n=a.month(),a=a.year()),this._validate(a,n,this.minDay,f.local.invalidMonth),this.NEPALI_CALENDAR_DATA[a]===void 0?this.daysPerMonth[n-1]:this.NEPALI_CALENDAR_DATA[a][n]},weekDay:function(a,n,r){return this.dayOfWeek(a,n,r)!==6},toJD:function(a,n,r){var o=this._validate(a,n,r,f.local.invalidDate);a=o.year(),n=o.month(),r=o.day();var s=f.instance(),e=0,l=n,u=a;this._createMissingCalendarData(a);var m=a-(l>9||l===9&&r>=this.NEPALI_CALENDAR_DATA[u][0]?56:57);for(n!==9&&(e=r,l--);l!==9;)l<=0&&(l=12,u--),e+=this.NEPALI_CALENDAR_DATA[u][l],l--;return n===9?(e+=r-this.NEPALI_CALENDAR_DATA[u][0])<0&&(e+=s.daysInYear(m)):e+=this.NEPALI_CALENDAR_DATA[u][9]-this.NEPALI_CALENDAR_DATA[u][0],s.newDate(m,1,1).add(e,"d").toJD()},fromJD:function(a){var n=f.instance().fromJD(a),r=n.year(),o=n.dayOfYear(),s=r+56;this._createMissingCalendarData(s);for(var e=9,l=this.NEPALI_CALENDAR_DATA[s][0],u=this.NEPALI_CALENDAR_DATA[s][e]-l+1;o>u;)++e>12&&(e=1,s++),u+=this.NEPALI_CALENDAR_DATA[s][e];var m=this.NEPALI_CALENDAR_DATA[s][e]-(u-o);return this.newDate(s,e,m)},_createMissingCalendarData:function(a){var n=this.daysPerMonth.slice(0);n.unshift(17);for(var r=a-1;r<a+2;r++)this.NEPALI_CALENDAR_DATA[r]===void 0&&(this.NEPALI_CALENDAR_DATA[r]=n)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),f.calendars.nepali=i},1104:function(J,h,t){var f=t(8700),y=t(896);function i(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}function a(n,r){return n-r*Math.floor(n/r)}i.prototype=new f.baseCalendar,y(i.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(n){var r=this._validate(n,this.minMonth,this.minDay,f.local.invalidYear);return 682*((r.year()-(r.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(n,r,o){var s=this.newDate(n,r,o);return s.add(-(s.dayOfWeek()+1)%7,"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(n,r){var o=this._validate(n,r,this.minDay,f.local.invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===12&&this.leapYear(o.year())?1:0)},weekDay:function(n,r,o){return this.dayOfWeek(n,r,o)!==5},toJD:function(n,r,o){var s=this._validate(n,r,o,f.local.invalidDate);n=s.year(),r=s.month(),o=s.day();var e=n-(n>=0?474:473),l=474+a(e,2820);return o+(r<=7?31*(r-1):30*(r-1)+6)+Math.floor((682*l-110)/2816)+365*(l-1)+1029983*Math.floor(e/2820)+this.jdEpoch-1},fromJD:function(n){var r=(n=Math.floor(n)+.5)-this.toJD(475,1,1),o=Math.floor(r/1029983),s=a(r,1029983),e=2820;if(s!==1029982){var l=Math.floor(s/366),u=a(s,366);e=Math.floor((2134*l+2816*u+2815)/1028522)+l+1}var m=e+2820*o+474;m=m<=0?m-1:m;var _=n-this.toJD(m,1,1)+1,p=_<=186?Math.ceil(_/31):Math.ceil((_-6)/30),v=n-this.toJD(m,p,1)+1;return this.newDate(m,p,v)}}),f.calendars.persian=i,f.calendars.jalali=i},9075:function(J,h,t){var f=t(8700),y=t(896),i=f.instance();function a(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}a.prototype=new f.baseCalendar,y(a.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(n){var r=this._validate(n,this.minMonth,this.minDay,f.local.invalidYear);return n=this._t2gYear(r.year()),i.leapYear(n)},weekOfYear:function(n,r,o){var s=this._validate(n,this.minMonth,this.minDay,f.local.invalidYear);return n=this._t2gYear(s.year()),i.weekOfYear(n,s.month(),s.day())},daysInMonth:function(n,r){var o=this._validate(n,r,this.minDay,f.local.invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===2&&this.leapYear(o.year())?1:0)},weekDay:function(n,r,o){return(this.dayOfWeek(n,r,o)||7)<6},toJD:function(n,r,o){var s=this._validate(n,r,o,f.local.invalidDate);return n=this._t2gYear(s.year()),i.toJD(n,s.month(),s.day())},fromJD:function(n){var r=i.fromJD(n),o=this._g2tYear(r.year());return this.newDate(o,r.month(),r.day())},_t2gYear:function(n){return n+this.yearsOffset+(n>=-this.yearsOffset&&n<=-1?1:0)},_g2tYear:function(n){return n-this.yearsOffset-(n>=1&&n<=this.yearsOffset?1:0)}}),f.calendars.taiwan=a},4592:function(J,h,t){var f=t(8700),y=t(896),i=f.instance();function a(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}a.prototype=new f.baseCalendar,y(a.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var r=this._validate(n,this.minMonth,this.minDay,f.local.invalidYear);return n=this._t2gYear(r.year()),i.leapYear(n)},weekOfYear:function(n,r,o){var s=this._validate(n,this.minMonth,this.minDay,f.local.invalidYear);return n=this._t2gYear(s.year()),i.weekOfYear(n,s.month(),s.day())},daysInMonth:function(n,r){var o=this._validate(n,r,this.minDay,f.local.invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===2&&this.leapYear(o.year())?1:0)},weekDay:function(n,r,o){return(this.dayOfWeek(n,r,o)||7)<6},toJD:function(n,r,o){var s=this._validate(n,r,o,f.local.invalidDate);return n=this._t2gYear(s.year()),i.toJD(n,s.month(),s.day())},fromJD:function(n){var r=i.fromJD(n),o=this._g2tYear(r.year());return this.newDate(o,r.month(),r.day())},_t2gYear:function(n){return n-this.yearsOffset-(n>=1&&n<=this.yearsOffset?1:0)},_g2tYear:function(n){return n+this.yearsOffset+(n>=-this.yearsOffset&&n<=-1?1:0)}}),f.calendars.thai=a},5348:function(J,h,t){var f=t(8700),y=t(896);function i(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}i.prototype=new f.baseCalendar,y(i.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(n){var r=this._validate(n,this.minMonth,this.minDay,f.local.invalidYear);return this.daysInYear(r.year())===355},weekOfYear:function(n,r,o){var s=this.newDate(n,r,o);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(n){for(var r=0,o=1;o<=12;o++)r+=this.daysInMonth(n,o);return r},daysInMonth:function(n,r){for(var o=this._validate(n,r,this.minDay,f.local.invalidMonth).toJD()-24e5+.5,s=0,e=0;e<a.length;e++){if(a[e]>o)return a[s]-a[s-1];s++}return 30},weekDay:function(n,r,o){return this.dayOfWeek(n,r,o)!==5},toJD:function(n,r,o){var s=this._validate(n,r,o,f.local.invalidDate),e=12*(s.year()-1)+s.month()-15292;return s.day()+a[e-1]-1+24e5-.5},fromJD:function(n){for(var r=n-24e5+.5,o=0,s=0;s<a.length&&!(a[s]>r);s++)o++;var e=o+15292,l=Math.floor((e-1)/12),u=l+1,m=e-12*l,_=r-a[o-1]+1;return this.newDate(u,m,_)},isValid:function(n,r,o){var s=f.baseCalendar.prototype.isValid.apply(this,arguments);return s&&(s=(n=n.year!=null?n.year:n)>=1276&&n<=1500),s},_validate:function(n,r,o,s){var e=f.baseCalendar.prototype._validate.apply(this,arguments);if(e.year<1276||e.year>1500)throw s.replace(/\{0\}/,this.local.name);return e}}),f.calendars.ummalqura=i;var a=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},8700:function(J,h,t){var f=t(896);function y(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function i(s,e,l,u){if(this._calendar=s,this._year=e,this._month=l,this._day=u,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(o.local.invalidDate||o.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function a(s,e){return"000000".substring(0,e-(s=""+s).length)+s}function n(){this.shortYearCutoff="+10"}function r(s){this.local=this.regionalOptions[s]||this.regionalOptions[""]}f(y.prototype,{instance:function(s,e){s=(s||"gregorian").toLowerCase(),e=e||"";var l=this._localCals[s+"-"+e];if(!l&&this.calendars[s]&&(l=new this.calendars[s](e),this._localCals[s+"-"+e]=l),!l)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,s);return l},newDate:function(s,e,l,u,m){return(u=(s!=null&&s.year?s.calendar():typeof u=="string"?this.instance(u,m):u)||this.instance()).newDate(s,e,l)},substituteDigits:function(s){return function(e){return(e+"").replace(/[0-9]/g,function(l){return s[l]})}},substituteChineseDigits:function(s,e){return function(l){for(var u="",m=0;l>0;){var _=l%10;u=(_===0?"":s[_]+e[m])+u,m++,l=Math.floor(l/10)}return u.indexOf(s[1]+e[1])===0&&(u=u.substr(1)),u||s[0]}}}),f(i.prototype,{newDate:function(s,e,l){return this._calendar.newDate(s??this,e,l)},year:function(s){return arguments.length===0?this._year:this.set(s,"y")},month:function(s){return arguments.length===0?this._month:this.set(s,"m")},day:function(s){return arguments.length===0?this._day:this.set(s,"d")},date:function(s,e,l){if(!this._calendar.isValid(s,e,l))throw(o.local.invalidDate||o.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=s,this._month=e,this._day=l,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(s,e){return this._calendar.add(this,s,e)},set:function(s,e){return this._calendar.set(this,s,e)},compareTo:function(s){if(this._calendar.name!==s._calendar.name)throw(o.local.differentCalendars||o.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,s._calendar.local.name);var e=this._year!==s._year?this._year-s._year:this._month!==s._month?this.monthOfYear()-s.monthOfYear():this._day-s._day;return e===0?0:e<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(s){return this._calendar.fromJD(s)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(s){return this._calendar.fromJSDate(s)},toString:function(){return(this.year()<0?"-":"")+a(Math.abs(this.year()),4)+"-"+a(this.month(),2)+"-"+a(this.day(),2)}}),f(n.prototype,{_validateLevel:0,newDate:function(s,e,l){return s==null?this.today():(s.year&&(this._validate(s,e,l,o.local.invalidDate||o.regionalOptions[""].invalidDate),l=s.day(),e=s.month(),s=s.year()),new i(this,s,e,l))},today:function(){return this.fromJSDate(new Date)},epoch:function(s){return this._validate(s,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(s){var e=this._validate(s,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return(e.year()<0?"-":"")+a(Math.abs(e.year()),4)},monthsInYear:function(s){return this._validate(s,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear),12},monthOfYear:function(s,e){var l=this._validate(s,e,this.minDay,o.local.invalidMonth||o.regionalOptions[""].invalidMonth);return(l.month()+this.monthsInYear(l)-this.firstMonth)%this.monthsInYear(l)+this.minMonth},fromMonthOfYear:function(s,e){var l=(e+this.firstMonth-2*this.minMonth)%this.monthsInYear(s)+this.minMonth;return this._validate(s,l,this.minDay,o.local.invalidMonth||o.regionalOptions[""].invalidMonth),l},daysInYear:function(s){var e=this._validate(s,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return this.leapYear(e)?366:365},dayOfYear:function(s,e,l){var u=this._validate(s,e,l,o.local.invalidDate||o.regionalOptions[""].invalidDate);return u.toJD()-this.newDate(u.year(),this.fromMonthOfYear(u.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(s,e,l){var u=this._validate(s,e,l,o.local.invalidDate||o.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(u))+2)%this.daysInWeek()},extraInfo:function(s,e,l){return this._validate(s,e,l,o.local.invalidDate||o.regionalOptions[""].invalidDate),{}},add:function(s,e,l){return this._validate(s,this.minMonth,this.minDay,o.local.invalidDate||o.regionalOptions[""].invalidDate),this._correctAdd(s,this._add(s,e,l),e,l)},_add:function(s,e,l){if(this._validateLevel++,l==="d"||l==="w"){var u=s.toJD()+e*(l==="w"?this.daysInWeek():1),m=s.calendar().fromJD(u);return this._validateLevel--,[m.year(),m.month(),m.day()]}try{var _=s.year()+(l==="y"?e:0),p=s.monthOfYear()+(l==="m"?e:0);m=s.day(),l==="y"?(s.month()!==this.fromMonthOfYear(_,p)&&(p=this.newDate(_,s.month(),this.minDay).monthOfYear()),p=Math.min(p,this.monthsInYear(_)),m=Math.min(m,this.daysInMonth(_,this.fromMonthOfYear(_,p)))):l==="m"&&(function(g){for(;p<g.minMonth;)_--,p+=g.monthsInYear(_);for(var b=g.monthsInYear(_);p>b-1+g.minMonth;)_++,p-=b,b=g.monthsInYear(_)}(this),m=Math.min(m,this.daysInMonth(_,this.fromMonthOfYear(_,p))));var v=[_,this.fromMonthOfYear(_,p),m];return this._validateLevel--,v}catch(g){throw this._validateLevel--,g}},_correctAdd:function(s,e,l,u){if(!(this.hasYearZero||u!=="y"&&u!=="m"||e[0]!==0&&s.year()>0==e[0]>0)){var m={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[u],_=l<0?-1:1;e=this._add(s,l*m[0]+_*m[1],m[2])}return s.date(e[0],e[1],e[2])},set:function(s,e,l){this._validate(s,this.minMonth,this.minDay,o.local.invalidDate||o.regionalOptions[""].invalidDate);var u=l==="y"?e:s.year(),m=l==="m"?e:s.month(),_=l==="d"?e:s.day();return l!=="y"&&l!=="m"||(_=Math.min(_,this.daysInMonth(u,m))),s.date(u,m,_)},isValid:function(s,e,l){this._validateLevel++;var u=this.hasYearZero||s!==0;if(u){var m=this.newDate(s,e,this.minDay);u=e>=this.minMonth&&e-this.minMonth<this.monthsInYear(m)&&l>=this.minDay&&l-this.minDay<this.daysInMonth(m)}return this._validateLevel--,u},toJSDate:function(s,e,l){var u=this._validate(s,e,l,o.local.invalidDate||o.regionalOptions[""].invalidDate);return o.instance().fromJD(this.toJD(u)).toJSDate()},fromJSDate:function(s){return this.fromJD(o.instance().fromJSDate(s).toJD())},_validate:function(s,e,l,u){if(s.year){if(this._validateLevel===0&&this.name!==s.calendar().name)throw(o.local.differentCalendars||o.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,s.calendar().local.name);return s}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(s,e,l))throw u.replace(/\{0\}/,this.local.name);var m=this.newDate(s,e,l);return this._validateLevel--,m}catch(_){throw this._validateLevel--,_}}}),r.prototype=new n,f(r.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(s){var e=this._validate(s,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return(s=e.year()+(e.year()<0?1:0))%4==0&&(s%100!=0||s%400==0)},weekOfYear:function(s,e,l){var u=this.newDate(s,e,l);return u.add(4-(u.dayOfWeek()||7),"d"),Math.floor((u.dayOfYear()-1)/7)+1},daysInMonth:function(s,e){var l=this._validate(s,e,this.minDay,o.local.invalidMonth||o.regionalOptions[""].invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===2&&this.leapYear(l.year())?1:0)},weekDay:function(s,e,l){return(this.dayOfWeek(s,e,l)||7)<6},toJD:function(s,e,l){var u=this._validate(s,e,l,o.local.invalidDate||o.regionalOptions[""].invalidDate);s=u.year(),e=u.month(),l=u.day(),s<0&&s++,e<3&&(e+=12,s--);var m=Math.floor(s/100),_=2-m+Math.floor(m/4);return Math.floor(365.25*(s+4716))+Math.floor(30.6001*(e+1))+l+_-1524.5},fromJD:function(s){var e=Math.floor(s+.5),l=Math.floor((e-186721625e-2)/36524.25),u=1524+(l=e+1+l-Math.floor(l/4)),m=Math.floor((u-122.1)/365.25),_=Math.floor(365.25*m),p=Math.floor((u-_)/30.6001),v=u-_-Math.floor(30.6001*p),g=p-(p>13.5?13:1),b=m-(g>2.5?4716:4715);return b<=0&&b--,this.newDate(b,g,v)},toJSDate:function(s,e,l){var u=this._validate(s,e,l,o.local.invalidDate||o.regionalOptions[""].invalidDate),m=new Date(u.year(),u.month()-1,u.day());return m.setHours(0),m.setMinutes(0),m.setSeconds(0),m.setMilliseconds(0),m.setHours(m.getHours()>12?m.getHours()+2:0),m},fromJSDate:function(s){return this.newDate(s.getFullYear(),s.getMonth()+1,s.getDate())}});var o=J.exports=new y;o.cdate=i,o.baseCalendar=n,o.calendars.gregorian=r},5168:function(J,h,t){var f=t(896),y=t(8700);f(y.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),y.local=y.regionalOptions[""],f(y.cdate.prototype,{formatDate:function(i,a){return typeof i!="string"&&(a=i,i=""),this._calendar.formatDate(i||"",this,a)}}),f(y.baseCalendar.prototype,{UNIX_EPOCH:y.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:y.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(i,a,n){if(typeof i!="string"&&(n=a,a=i,i=""),!a)return"";if(a.calendar()!==this)throw y.local.invalidFormat||y.regionalOptions[""].invalidFormat;i=i||this.local.dateFormat;for(var r,o,s,e=(n=n||{}).dayNamesShort||this.local.dayNamesShort,l=n.dayNames||this.local.dayNames,u=n.monthNumbers||this.local.monthNumbers,m=n.monthNamesShort||this.local.monthNamesShort,_=n.monthNames||this.local.monthNames,p=(n.calculateWeek||this.local.calculateWeek,function(L,I){for(var x=1;A+x<i.length&&i.charAt(A+x)===L;)x++;return A+=x-1,Math.floor(x/(I||1))>1}),v=function(L,I,x,C){var F=""+I;if(p(L,C))for(;F.length<x;)F="0"+F;return F},g=this,b=function(L){return typeof u=="function"?u.call(g,L,p("m")):w(v("m",L.month(),2))},d=function(L,I){return I?typeof _=="function"?_.call(g,L):_[L.month()-g.minMonth]:typeof m=="function"?m.call(g,L):m[L.month()-g.minMonth]},T=this.local.digits,w=function(L){return n.localNumbers&&T?T(L):L},k="",P=!1,A=0;A<i.length;A++)if(P)i.charAt(A)!=="'"||p("'")?k+=i.charAt(A):P=!1;else switch(i.charAt(A)){case"d":k+=w(v("d",a.day(),2));break;case"D":k+=(r=a.dayOfWeek(),o=e,s=l,p("D")?s[r]:o[r]);break;case"o":k+=v("o",a.dayOfYear(),3);break;case"w":k+=v("w",a.weekOfYear(),2);break;case"m":k+=b(a);break;case"M":k+=d(a,p("M"));break;case"y":k+=p("y",2)?a.year():(a.year()%100<10?"0":"")+a.year()%100;break;case"Y":p("Y",2),k+=a.formatYear();break;case"J":k+=a.toJD();break;case"@":k+=(a.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":k+=(a.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":p("'")?k+="'":P=!0;break;default:k+=i.charAt(A)}return k},parseDate:function(i,a,n){if(a==null)throw y.local.invalidArguments||y.regionalOptions[""].invalidArguments;if((a=typeof a=="object"?a.toString():a+"")==="")return null;i=i||this.local.dateFormat;var r=(n=n||{}).shortYearCutoff||this.shortYearCutoff;r=typeof r!="string"?r:this.today().year()%100+parseInt(r,10);for(var o=n.dayNamesShort||this.local.dayNamesShort,s=n.dayNames||this.local.dayNames,e=n.parseMonth||this.local.parseMonth,l=n.monthNumbers||this.local.monthNumbers,u=n.monthNamesShort||this.local.monthNamesShort,m=n.monthNames||this.local.monthNames,_=-1,p=-1,v=-1,g=-1,b=-1,d=!1,T=!1,w=function(z,H){for(var U=1;F+U<i.length&&i.charAt(F+U)===z;)U++;return F+=U-1,Math.floor(U/(H||1))>1},k=function(z,H){var U=w(z,H),it=[2,3,U?4:2,U?4:2,10,11,20]["oyYJ@!".indexOf(z)+1],K=new RegExp("^-?\\d{1,"+it+"}"),D=a.substring(C).match(K);if(!D)throw(y.local.missingNumberAt||y.regionalOptions[""].missingNumberAt).replace(/\{0\}/,C);return C+=D[0].length,parseInt(D[0],10)},P=this,A=function(){if(typeof l=="function"){w("m");var z=l.call(P,a.substring(C));return C+=z.length,z}return k("m")},L=function(z,H,U,it){for(var K=w(z,it)?U:H,D=0;D<K.length;D++)if(a.substr(C,K[D].length).toLowerCase()===K[D].toLowerCase())return C+=K[D].length,D+P.minMonth;throw(y.local.unknownNameAt||y.regionalOptions[""].unknownNameAt).replace(/\{0\}/,C)},I=function(){if(typeof m=="function"){var z=w("M")?m.call(P,a.substring(C)):u.call(P,a.substring(C));return C+=z.length,z}return L("M",u,m)},x=function(){if(a.charAt(C)!==i.charAt(F))throw(y.local.unexpectedLiteralAt||y.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,C);C++},C=0,F=0;F<i.length;F++)if(T)i.charAt(F)!=="'"||w("'")?x():T=!1;else switch(i.charAt(F)){case"d":g=k("d");break;case"D":L("D",o,s);break;case"o":b=k("o");break;case"w":k("w");break;case"m":v=A();break;case"M":v=I();break;case"y":var N=F;d=!w("y",2),F=N,p=k("y",2);break;case"Y":p=k("Y",2);break;case"J":_=k("J")+.5,a.charAt(C)==="."&&(C++,k("J"));break;case"@":_=k("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":_=k("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":C=a.length;break;case"'":w("'")?x():T=!0;break;default:x()}if(C<a.length)throw y.local.unexpectedText||y.regionalOptions[""].unexpectedText;if(p===-1?p=this.today().year():p<100&&d&&(p+=r===-1?1900:this.today().year()-this.today().year()%100-(p<=r?0:100)),typeof v=="string"&&(v=e.call(this,p,v)),b>-1){v=1,g=b;for(var j=this.daysInMonth(p,v);g>j;j=this.daysInMonth(p,v))v++,g-=j}return _>-1?this.fromJD(_):this.newDate(p,v,g)},determineDate:function(i,a,n,r,o){n&&typeof n!="object"&&(o=r,r=n,n=null),typeof r!="string"&&(o=r,r="");var s=this;return a=a?a.newDate():null,i==null?a:typeof i=="string"?function(e){try{return s.parseDate(r,e,o)}catch{}for(var l=((e=e.toLowerCase()).match(/^c/)&&n?n.newDate():null)||s.today(),u=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,m=u.exec(e);m;)l.add(parseInt(m[1],10),m[2]||"d"),m=u.exec(e);return l}(i):typeof i=="number"?isNaN(i)||i===1/0||i===-1/0?a:s.today().add(i,"d"):s.newDate(i)}})}},Rr={};function wr(J){var h=Rr[J];if(h!==void 0)return h.exports;var t=Rr[J]={exports:{}};return ya[J].call(t.exports,t,t.exports,wr),t.exports}return wr.d=function(J,h){for(var t in h)wr.o(h,t)&&!wr.o(J,t)&&Object.defineProperty(J,t,{enumerable:!0,get:h[t]})},wr.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),wr.o=function(J,h){return Object.prototype.hasOwnProperty.call(J,h)},wr.r=function(J){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(J,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(J,"__esModule",{value:!0})},wr(3472)}()})})(vi);var ko=vi.exports;const So=Mo(ko);export{So as P};
